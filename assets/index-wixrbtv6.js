var f7=Object.defineProperty;var d7=(t,e,r)=>e in t?f7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Qt=(t,e,r)=>d7(t,typeof e!="symbol"?e+"":e,r);function fE(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function h7(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var dE={exports:{}},ty={},hE={exports:{}},$t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp=Symbol.for("react.element"),p7=Symbol.for("react.portal"),m7=Symbol.for("react.fragment"),g7=Symbol.for("react.strict_mode"),v7=Symbol.for("react.profiler"),y7=Symbol.for("react.provider"),b7=Symbol.for("react.context"),x7=Symbol.for("react.forward_ref"),w7=Symbol.for("react.suspense"),_7=Symbol.for("react.memo"),S7=Symbol.for("react.lazy"),MA=Symbol.iterator;function A7(t){return t===null||typeof t!="object"?null:(t=MA&&t[MA]||t["@@iterator"],typeof t=="function"?t:null)}var pE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mE=Object.assign,gE={};function Jf(t,e,r){this.props=t,this.context=e,this.refs=gE,this.updater=r||pE}Jf.prototype.isReactComponent={};Jf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vE(){}vE.prototype=Jf.prototype;function C5(t,e,r){this.props=t,this.context=e,this.refs=gE,this.updater=r||pE}var T5=C5.prototype=new vE;T5.constructor=C5;mE(T5,Jf.prototype);T5.isPureReactComponent=!0;var DA=Array.isArray,yE=Object.prototype.hasOwnProperty,L5={current:null},bE={key:!0,ref:!0,__self:!0,__source:!0};function xE(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)yE.call(e,n)&&!bE.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Jp,type:t,key:a,ref:s,props:i,_owner:L5.current}}function j7(t,e){return{$$typeof:Jp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function I5(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jp}function N7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var BA=/\/+/g;function J1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?N7(""+t.key):e.toString(36)}function Yg(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Jp:case p7:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+J1(s,0):n,DA(i)?(r="",t!=null&&(r=t.replace(BA,"$&/")+"/"),Yg(i,e,r,"",function(c){return c})):i!=null&&(I5(i)&&(i=j7(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(BA,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",DA(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+J1(a,o);s+=Yg(a,e,r,l,i)}else if(l=A7(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+J1(a,o++),s+=Yg(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function eg(t,e,r){if(t==null)return t;var n=[],i=0;return Yg(t,n,"","",function(a){return e.call(r,a,i++)}),n}function O7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ci={current:null},Xg={transition:null},k7={ReactCurrentDispatcher:ci,ReactCurrentBatchConfig:Xg,ReactCurrentOwner:L5};function wE(){throw Error("act(...) is not supported in production builds of React.")}$t.Children={map:eg,forEach:function(t,e,r){eg(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return eg(t,function(){e++}),e},toArray:function(t){return eg(t,function(e){return e})||[]},only:function(t){if(!I5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$t.Component=Jf;$t.Fragment=m7;$t.Profiler=v7;$t.PureComponent=C5;$t.StrictMode=g7;$t.Suspense=w7;$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k7;$t.act=wE;$t.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=mE({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=L5.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)yE.call(e,l)&&!bE.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Jp,type:t.type,key:i,ref:a,props:n,_owner:s}};$t.createContext=function(t){return t={$$typeof:b7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:y7,_context:t},t.Consumer=t};$t.createElement=xE;$t.createFactory=function(t){var e=xE.bind(null,t);return e.type=t,e};$t.createRef=function(){return{current:null}};$t.forwardRef=function(t){return{$$typeof:x7,render:t}};$t.isValidElement=I5;$t.lazy=function(t){return{$$typeof:S7,_payload:{_status:-1,_result:t},_init:O7}};$t.memo=function(t,e){return{$$typeof:_7,type:t,compare:e===void 0?null:e}};$t.startTransition=function(t){var e=Xg.transition;Xg.transition={};try{t()}finally{Xg.transition=e}};$t.unstable_act=wE;$t.useCallback=function(t,e){return ci.current.useCallback(t,e)};$t.useContext=function(t){return ci.current.useContext(t)};$t.useDebugValue=function(){};$t.useDeferredValue=function(t){return ci.current.useDeferredValue(t)};$t.useEffect=function(t,e){return ci.current.useEffect(t,e)};$t.useId=function(){return ci.current.useId()};$t.useImperativeHandle=function(t,e,r){return ci.current.useImperativeHandle(t,e,r)};$t.useInsertionEffect=function(t,e){return ci.current.useInsertionEffect(t,e)};$t.useLayoutEffect=function(t,e){return ci.current.useLayoutEffect(t,e)};$t.useMemo=function(t,e){return ci.current.useMemo(t,e)};$t.useReducer=function(t,e,r){return ci.current.useReducer(t,e,r)};$t.useRef=function(t){return ci.current.useRef(t)};$t.useState=function(t){return ci.current.useState(t)};$t.useSyncExternalStore=function(t,e,r){return ci.current.useSyncExternalStore(t,e,r)};$t.useTransition=function(){return ci.current.useTransition()};$t.version="18.3.1";hE.exports=$t;var Y=hE.exports;const ae=rr(Y),P7=fE({__proto__:null,default:ae},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E7=Y,C7=Symbol.for("react.element"),T7=Symbol.for("react.fragment"),L7=Object.prototype.hasOwnProperty,I7=E7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$7={key:!0,ref:!0,__self:!0,__source:!0};function _E(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)L7.call(e,n)&&!$7.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:C7,type:t,key:a,ref:s,props:i,_owner:I7.current}}ty.Fragment=T7;ty.jsx=_E;ty.jsxs=_E;dE.exports=ty;var d=dE.exports,Cx={},SE={exports:{}},Gi={},AE={exports:{}},jE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,Z){var le=q.length;q.push(Z);e:for(;0<le;){var fe=le-1>>>1,T=q[fe];if(0<i(T,Z))q[fe]=Z,q[le]=T,le=fe;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var Z=q[0],le=q.pop();if(le!==Z){q[0]=le;e:for(var fe=0,T=q.length,B=T>>>1;fe<B;){var X=2*(fe+1)-1,V=q[X],ne=X+1,se=q[ne];if(0>i(V,le))ne<T&&0>i(se,V)?(q[fe]=se,q[ne]=le,fe=ne):(q[fe]=V,q[X]=le,fe=X);else if(ne<T&&0>i(se,le))q[fe]=se,q[ne]=le,fe=ne;else break e}}return Z}function i(q,Z){var le=q.sortIndex-Z.sortIndex;return le!==0?le:q.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,p=3,h=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var Z=r(c);Z!==null;){if(Z.callback===null)n(c);else if(Z.startTime<=q)n(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=r(c)}}function j(q){if(v=!1,_(q),!g)if(r(l)!==null)g=!0,J(S);else{var Z=r(c);Z!==null&&re(j,Z.startTime-q)}}function S(q,Z){g=!1,v&&(v=!1,y(L),L=-1),h=!0;var le=p;try{for(_(Z),f=r(l);f!==null&&(!(f.expirationTime>Z)||q&&!P());){var fe=f.callback;if(typeof fe=="function"){f.callback=null,p=f.priorityLevel;var T=fe(f.expirationTime<=Z);Z=t.unstable_now(),typeof T=="function"?f.callback=T:f===r(l)&&n(l),_(Z)}else n(l);f=r(l)}if(f!==null)var B=!0;else{var X=r(c);X!==null&&re(j,X.startTime-Z),B=!1}return B}finally{f=null,p=le,h=!1}}var O=!1,k=null,L=-1,E=5,$=-1;function P(){return!(t.unstable_now()-$<E)}function I(){if(k!==null){var q=t.unstable_now();$=q;var Z=!0;try{Z=k(!0,q)}finally{Z?F():(O=!1,k=null)}}else O=!1}var F;if(typeof w=="function")F=function(){w(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,H=R.port2;R.port1.onmessage=I,F=function(){H.postMessage(null)}}else F=function(){x(I,0)};function J(q){k=q,O||(O=!0,F())}function re(q,Z){L=x(function(){q(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,J(S))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var le=p;p=Z;try{return q()}finally{p=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var le=p;p=q;try{return Z()}finally{p=le}},t.unstable_scheduleCallback=function(q,Z,le){var fe=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?fe+le:fe):le=fe,q){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=le+T,q={id:u++,callback:Z,priorityLevel:q,startTime:le,expirationTime:T,sortIndex:-1},le>fe?(q.sortIndex=le,e(c,q),r(l)===null&&q===r(c)&&(v?(y(L),L=-1):v=!0,re(j,le-fe))):(q.sortIndex=T,e(l,q),g||h||(g=!0,J(S))),q},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(q){var Z=p;return function(){var le=p;p=Z;try{return q.apply(this,arguments)}finally{p=le}}}})(jE);AE.exports=jE;var R7=AE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M7=Y,Vi=R7;function Le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NE=new Set,zh={};function qc(t,e){hf(t,e),hf(t+"Capture",e)}function hf(t,e){for(zh[t]=e,t=0;t<e.length;t++)NE.add(e[t])}var io=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tx=Object.prototype.hasOwnProperty,D7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FA={},UA={};function B7(t){return Tx.call(UA,t)?!0:Tx.call(FA,t)?!1:D7.test(t)?UA[t]=!0:(FA[t]=!0,!1)}function F7(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function U7(t,e,r,n){if(e===null||typeof e>"u"||F7(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ui(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mn[t]=new ui(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mn[e]=new ui(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mn[t]=new ui(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mn[t]=new ui(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mn[t]=new ui(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mn[t]=new ui(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mn[t]=new ui(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mn[t]=new ui(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mn[t]=new ui(t,5,!1,t.toLowerCase(),null,!1,!1)});var $5=/[\-:]([a-z])/g;function R5(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($5,R5);Mn[e]=new ui(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($5,R5);Mn[e]=new ui(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($5,R5);Mn[e]=new ui(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mn[t]=new ui(t,1,!1,t.toLowerCase(),null,!1,!1)});Mn.xlinkHref=new ui("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mn[t]=new ui(t,1,!1,t.toLowerCase(),null,!0,!0)});function M5(t,e,r,n){var i=Mn.hasOwnProperty(e)?Mn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(U7(e,r,i,n)&&(r=null),n||i===null?B7(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var po=M7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tg=Symbol.for("react.element"),Lu=Symbol.for("react.portal"),Iu=Symbol.for("react.fragment"),D5=Symbol.for("react.strict_mode"),Lx=Symbol.for("react.profiler"),OE=Symbol.for("react.provider"),kE=Symbol.for("react.context"),B5=Symbol.for("react.forward_ref"),Ix=Symbol.for("react.suspense"),$x=Symbol.for("react.suspense_list"),F5=Symbol.for("react.memo"),zo=Symbol.for("react.lazy"),PE=Symbol.for("react.offscreen"),zA=Symbol.iterator;function Kd(t){return t===null||typeof t!="object"?null:(t=zA&&t[zA]||t["@@iterator"],typeof t=="function"?t:null)}var Lr=Object.assign,Z1;function ph(t){if(Z1===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Z1=e&&e[1]||""}return`
`+Z1+t}var Q1=!1;function eb(t,e){if(!t||Q1)return"";Q1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Q1=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ph(t):""}function z7(t){switch(t.tag){case 5:return ph(t.type);case 16:return ph("Lazy");case 13:return ph("Suspense");case 19:return ph("SuspenseList");case 0:case 2:case 15:return t=eb(t.type,!1),t;case 11:return t=eb(t.type.render,!1),t;case 1:return t=eb(t.type,!0),t;default:return""}}function Rx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Iu:return"Fragment";case Lu:return"Portal";case Lx:return"Profiler";case D5:return"StrictMode";case Ix:return"Suspense";case $x:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kE:return(t.displayName||"Context")+".Consumer";case OE:return(t._context.displayName||"Context")+".Provider";case B5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F5:return e=t.displayName||null,e!==null?e:Rx(t.type)||"Memo";case zo:e=t._payload,t=t._init;try{return Rx(t(e))}catch{}}return null}function q7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rx(e);case 8:return e===D5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function EE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function W7(t){var e=EE(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rg(t){t._valueTracker||(t._valueTracker=W7(t))}function CE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=EE(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function p0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mx(t,e){var r=e.checked;return Lr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function qA(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=pl(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TE(t,e){e=e.checked,e!=null&&M5(t,"checked",e,!1)}function Dx(t,e){TE(t,e);var r=pl(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bx(t,e.type,r):e.hasOwnProperty("defaultValue")&&Bx(t,e.type,pl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function WA(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Bx(t,e,r){(e!=="number"||p0(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var mh=Array.isArray;function Ju(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+pl(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Fx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Le(91));return Lr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function HA(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Le(92));if(mh(r)){if(1<r.length)throw Error(Le(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:pl(r)}}function LE(t,e){var r=pl(e.value),n=pl(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function VA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ux(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ng,$E=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ng=ng||document.createElement("div"),ng.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ng.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var wh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H7=["Webkit","ms","Moz","O"];Object.keys(wh).forEach(function(t){H7.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wh[e]=wh[t]})});function RE(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||wh.hasOwnProperty(t)&&wh[t]?(""+e).trim():e+"px"}function ME(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=RE(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var V7=Lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zx(t,e){if(e){if(V7[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Le(62))}}function qx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wx=null;function U5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hx=null,Zu=null,Qu=null;function GA(t){if(t=em(t)){if(typeof Hx!="function")throw Error(Le(280));var e=t.stateNode;e&&(e=sy(e),Hx(t.stateNode,t.type,e))}}function DE(t){Zu?Qu?Qu.push(t):Qu=[t]:Zu=t}function BE(){if(Zu){var t=Zu,e=Qu;if(Qu=Zu=null,GA(t),e)for(t=0;t<e.length;t++)GA(e[t])}}function FE(t,e){return t(e)}function UE(){}var tb=!1;function zE(t,e,r){if(tb)return t(e,r);tb=!0;try{return FE(t,e,r)}finally{tb=!1,(Zu!==null||Qu!==null)&&(UE(),BE())}}function Wh(t,e){var r=t.stateNode;if(r===null)return null;var n=sy(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Le(231,e,typeof r));return r}var Vx=!1;if(io)try{var Yd={};Object.defineProperty(Yd,"passive",{get:function(){Vx=!0}}),window.addEventListener("test",Yd,Yd),window.removeEventListener("test",Yd,Yd)}catch{Vx=!1}function G7(t,e,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var _h=!1,m0=null,g0=!1,Gx=null,K7={onError:function(t){_h=!0,m0=t}};function Y7(t,e,r,n,i,a,s,o,l){_h=!1,m0=null,G7.apply(K7,arguments)}function X7(t,e,r,n,i,a,s,o,l){if(Y7.apply(this,arguments),_h){if(_h){var c=m0;_h=!1,m0=null}else throw Error(Le(198));g0||(g0=!0,Gx=c)}}function Wc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function qE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function KA(t){if(Wc(t)!==t)throw Error(Le(188))}function J7(t){var e=t.alternate;if(!e){if(e=Wc(t),e===null)throw Error(Le(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return KA(i),t;if(a===n)return KA(i),e;a=a.sibling}throw Error(Le(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(Le(189))}}if(r.alternate!==n)throw Error(Le(190))}if(r.tag!==3)throw Error(Le(188));return r.stateNode.current===r?t:e}function WE(t){return t=J7(t),t!==null?HE(t):null}function HE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=HE(t);if(e!==null)return e;t=t.sibling}return null}var VE=Vi.unstable_scheduleCallback,YA=Vi.unstable_cancelCallback,Z7=Vi.unstable_shouldYield,Q7=Vi.unstable_requestPaint,Gr=Vi.unstable_now,eM=Vi.unstable_getCurrentPriorityLevel,z5=Vi.unstable_ImmediatePriority,GE=Vi.unstable_UserBlockingPriority,v0=Vi.unstable_NormalPriority,tM=Vi.unstable_LowPriority,KE=Vi.unstable_IdlePriority,ry=null,ds=null;function rM(t){if(ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(ry,t,void 0,(t.current.flags&128)===128)}catch{}}var Ua=Math.clz32?Math.clz32:aM,nM=Math.log,iM=Math.LN2;function aM(t){return t>>>=0,t===0?32:31-(nM(t)/iM|0)|0}var ig=64,ag=4194304;function gh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function y0(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=gh(o):(a&=s,a!==0&&(n=gh(a)))}else s=r&~i,s!==0?n=gh(s):a!==0&&(n=gh(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ua(e),i=1<<r,n|=t[r],e&=~i;return n}function sM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oM(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Ua(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=sM(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function Kx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function YE(){var t=ig;return ig<<=1,!(ig&4194240)&&(ig=64),t}function rb(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Zp(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ua(e),t[e]=r}function lM(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ua(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function q5(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ua(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var tr=0;function XE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var JE,W5,ZE,QE,e6,Yx=!1,sg=[],rl=null,nl=null,il=null,Hh=new Map,Vh=new Map,Vo=[],cM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function XA(t,e){switch(t){case"focusin":case"focusout":rl=null;break;case"dragenter":case"dragleave":nl=null;break;case"mouseover":case"mouseout":il=null;break;case"pointerover":case"pointerout":Hh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vh.delete(e.pointerId)}}function Xd(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=em(e),e!==null&&W5(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function uM(t,e,r,n,i){switch(e){case"focusin":return rl=Xd(rl,t,e,r,n,i),!0;case"dragenter":return nl=Xd(nl,t,e,r,n,i),!0;case"mouseover":return il=Xd(il,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Hh.set(a,Xd(Hh.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Vh.set(a,Xd(Vh.get(a)||null,t,e,r,n,i)),!0}return!1}function t6(t){var e=pc(t.target);if(e!==null){var r=Wc(e);if(r!==null){if(e=r.tag,e===13){if(e=qE(r),e!==null){t.blockedOn=e,e6(t.priority,function(){ZE(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Xx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Wx=n,r.target.dispatchEvent(n),Wx=null}else return e=em(r),e!==null&&W5(e),t.blockedOn=r,!1;e.shift()}return!0}function JA(t,e,r){Jg(t)&&r.delete(e)}function fM(){Yx=!1,rl!==null&&Jg(rl)&&(rl=null),nl!==null&&Jg(nl)&&(nl=null),il!==null&&Jg(il)&&(il=null),Hh.forEach(JA),Vh.forEach(JA)}function Jd(t,e){t.blockedOn===e&&(t.blockedOn=null,Yx||(Yx=!0,Vi.unstable_scheduleCallback(Vi.unstable_NormalPriority,fM)))}function Gh(t){function e(i){return Jd(i,t)}if(0<sg.length){Jd(sg[0],t);for(var r=1;r<sg.length;r++){var n=sg[r];n.blockedOn===t&&(n.blockedOn=null)}}for(rl!==null&&Jd(rl,t),nl!==null&&Jd(nl,t),il!==null&&Jd(il,t),Hh.forEach(e),Vh.forEach(e),r=0;r<Vo.length;r++)n=Vo[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Vo.length&&(r=Vo[0],r.blockedOn===null);)t6(r),r.blockedOn===null&&Vo.shift()}var ef=po.ReactCurrentBatchConfig,b0=!0;function dM(t,e,r,n){var i=tr,a=ef.transition;ef.transition=null;try{tr=1,H5(t,e,r,n)}finally{tr=i,ef.transition=a}}function hM(t,e,r,n){var i=tr,a=ef.transition;ef.transition=null;try{tr=4,H5(t,e,r,n)}finally{tr=i,ef.transition=a}}function H5(t,e,r,n){if(b0){var i=Xx(t,e,r,n);if(i===null)db(t,e,n,x0,r),XA(t,n);else if(uM(i,t,e,r,n))n.stopPropagation();else if(XA(t,n),e&4&&-1<cM.indexOf(t)){for(;i!==null;){var a=em(i);if(a!==null&&JE(a),a=Xx(t,e,r,n),a===null&&db(t,e,n,x0,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else db(t,e,n,null,r)}}var x0=null;function Xx(t,e,r,n){if(x0=null,t=U5(n),t=pc(t),t!==null)if(e=Wc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=qE(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return x0=t,null}function r6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eM()){case z5:return 1;case GE:return 4;case v0:case tM:return 16;case KE:return 536870912;default:return 16}default:return 16}}var Xo=null,V5=null,Zg=null;function n6(){if(Zg)return Zg;var t,e=V5,r=e.length,n,i="value"in Xo?Xo.value:Xo.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return Zg=i.slice(t,1<n?1-n:void 0)}function Qg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function og(){return!0}function ZA(){return!1}function Ki(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?og:ZA,this.isPropagationStopped=ZA,this}return Lr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=og)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=og)},persist:function(){},isPersistent:og}),e}var Zf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},G5=Ki(Zf),Qp=Lr({},Zf,{view:0,detail:0}),pM=Ki(Qp),nb,ib,Zd,ny=Lr({},Qp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:K5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zd&&(Zd&&t.type==="mousemove"?(nb=t.screenX-Zd.screenX,ib=t.screenY-Zd.screenY):ib=nb=0,Zd=t),nb)},movementY:function(t){return"movementY"in t?t.movementY:ib}}),QA=Ki(ny),mM=Lr({},ny,{dataTransfer:0}),gM=Ki(mM),vM=Lr({},Qp,{relatedTarget:0}),ab=Ki(vM),yM=Lr({},Zf,{animationName:0,elapsedTime:0,pseudoElement:0}),bM=Ki(yM),xM=Lr({},Zf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wM=Ki(xM),_M=Lr({},Zf,{data:0}),ej=Ki(_M),SM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jM[t])?!!e[t]:!1}function K5(){return NM}var OM=Lr({},Qp,{key:function(t){if(t.key){var e=SM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:K5,charCode:function(t){return t.type==="keypress"?Qg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kM=Ki(OM),PM=Lr({},ny,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tj=Ki(PM),EM=Lr({},Qp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:K5}),CM=Ki(EM),TM=Lr({},Zf,{propertyName:0,elapsedTime:0,pseudoElement:0}),LM=Ki(TM),IM=Lr({},ny,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$M=Ki(IM),RM=[9,13,27,32],Y5=io&&"CompositionEvent"in window,Sh=null;io&&"documentMode"in document&&(Sh=document.documentMode);var MM=io&&"TextEvent"in window&&!Sh,i6=io&&(!Y5||Sh&&8<Sh&&11>=Sh),rj=" ",nj=!1;function a6(t,e){switch(t){case"keyup":return RM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $u=!1;function DM(t,e){switch(t){case"compositionend":return s6(e);case"keypress":return e.which!==32?null:(nj=!0,rj);case"textInput":return t=e.data,t===rj&&nj?null:t;default:return null}}function BM(t,e){if($u)return t==="compositionend"||!Y5&&a6(t,e)?(t=n6(),Zg=V5=Xo=null,$u=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return i6&&e.locale!=="ko"?null:e.data;default:return null}}var FM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ij(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!FM[t.type]:e==="textarea"}function o6(t,e,r,n){DE(n),e=w0(e,"onChange"),0<e.length&&(r=new G5("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ah=null,Kh=null;function UM(t){y6(t,0)}function iy(t){var e=Du(t);if(CE(e))return t}function zM(t,e){if(t==="change")return e}var l6=!1;if(io){var sb;if(io){var ob="oninput"in document;if(!ob){var aj=document.createElement("div");aj.setAttribute("oninput","return;"),ob=typeof aj.oninput=="function"}sb=ob}else sb=!1;l6=sb&&(!document.documentMode||9<document.documentMode)}function sj(){Ah&&(Ah.detachEvent("onpropertychange",c6),Kh=Ah=null)}function c6(t){if(t.propertyName==="value"&&iy(Kh)){var e=[];o6(e,Kh,t,U5(t)),zE(UM,e)}}function qM(t,e,r){t==="focusin"?(sj(),Ah=e,Kh=r,Ah.attachEvent("onpropertychange",c6)):t==="focusout"&&sj()}function WM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return iy(Kh)}function HM(t,e){if(t==="click")return iy(e)}function VM(t,e){if(t==="input"||t==="change")return iy(e)}function GM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ha=typeof Object.is=="function"?Object.is:GM;function Yh(t,e){if(Ha(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Tx.call(e,i)||!Ha(t[i],e[i]))return!1}return!0}function oj(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lj(t,e){var r=oj(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=oj(r)}}function u6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function f6(){for(var t=window,e=p0();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=p0(t.document)}return e}function X5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function KM(t){var e=f6(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&u6(r.ownerDocument.documentElement,r)){if(n!==null&&X5(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=lj(r,a);var s=lj(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YM=io&&"documentMode"in document&&11>=document.documentMode,Ru=null,Jx=null,jh=null,Zx=!1;function cj(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zx||Ru==null||Ru!==p0(n)||(n=Ru,"selectionStart"in n&&X5(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),jh&&Yh(jh,n)||(jh=n,n=w0(Jx,"onSelect"),0<n.length&&(e=new G5("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ru)))}function lg(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Mu={animationend:lg("Animation","AnimationEnd"),animationiteration:lg("Animation","AnimationIteration"),animationstart:lg("Animation","AnimationStart"),transitionend:lg("Transition","TransitionEnd")},lb={},d6={};io&&(d6=document.createElement("div").style,"AnimationEvent"in window||(delete Mu.animationend.animation,delete Mu.animationiteration.animation,delete Mu.animationstart.animation),"TransitionEvent"in window||delete Mu.transitionend.transition);function ay(t){if(lb[t])return lb[t];if(!Mu[t])return t;var e=Mu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in d6)return lb[t]=e[r];return t}var h6=ay("animationend"),p6=ay("animationiteration"),m6=ay("animationstart"),g6=ay("transitionend"),v6=new Map,uj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yl(t,e){v6.set(t,e),qc(e,[t])}for(var cb=0;cb<uj.length;cb++){var ub=uj[cb],XM=ub.toLowerCase(),JM=ub[0].toUpperCase()+ub.slice(1);yl(XM,"on"+JM)}yl(h6,"onAnimationEnd");yl(p6,"onAnimationIteration");yl(m6,"onAnimationStart");yl("dblclick","onDoubleClick");yl("focusin","onFocus");yl("focusout","onBlur");yl(g6,"onTransitionEnd");hf("onMouseEnter",["mouseout","mouseover"]);hf("onMouseLeave",["mouseout","mouseover"]);hf("onPointerEnter",["pointerout","pointerover"]);hf("onPointerLeave",["pointerout","pointerover"]);qc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qc("onBeforeInput",["compositionend","keypress","textInput","paste"]);qc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZM=new Set("cancel close invalid load scroll toggle".split(" ").concat(vh));function fj(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,X7(n,e,void 0,t),t.currentTarget=null}function y6(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;fj(i,o,c),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;fj(i,o,c),a=l}}}if(g0)throw t=Gx,g0=!1,Gx=null,t}function wr(t,e){var r=e[n2];r===void 0&&(r=e[n2]=new Set);var n=t+"__bubble";r.has(n)||(b6(e,t,2,!1),r.add(n))}function fb(t,e,r){var n=0;e&&(n|=4),b6(r,t,n,e)}var cg="_reactListening"+Math.random().toString(36).slice(2);function Xh(t){if(!t[cg]){t[cg]=!0,NE.forEach(function(r){r!=="selectionchange"&&(ZM.has(r)||fb(r,!1,t),fb(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cg]||(e[cg]=!0,fb("selectionchange",!1,e))}}function b6(t,e,r,n){switch(r6(e)){case 1:var i=dM;break;case 4:i=hM;break;default:i=H5}r=i.bind(null,e,r,t),i=void 0,!Vx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function db(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=pc(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}zE(function(){var c=a,u=U5(r),f=[];e:{var p=v6.get(t);if(p!==void 0){var h=G5,g=t;switch(t){case"keypress":if(Qg(r)===0)break e;case"keydown":case"keyup":h=kM;break;case"focusin":g="focus",h=ab;break;case"focusout":g="blur",h=ab;break;case"beforeblur":case"afterblur":h=ab;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=QA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=gM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=CM;break;case h6:case p6:case m6:h=bM;break;case g6:h=LM;break;case"scroll":h=pM;break;case"wheel":h=$M;break;case"copy":case"cut":case"paste":h=wM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=tj}var v=(e&4)!==0,x=!v&&t==="scroll",y=v?p!==null?p+"Capture":null:p;v=[];for(var w=c,_;w!==null;){_=w;var j=_.stateNode;if(_.tag===5&&j!==null&&(_=j,y!==null&&(j=Wh(w,y),j!=null&&v.push(Jh(w,j,_)))),x)break;w=w.return}0<v.length&&(p=new h(p,g,null,r,u),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",p&&r!==Wx&&(g=r.relatedTarget||r.fromElement)&&(pc(g)||g[ao]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(g=r.relatedTarget||r.toElement,h=c,g=g?pc(g):null,g!==null&&(x=Wc(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(v=QA,j="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=tj,j="onPointerLeave",y="onPointerEnter",w="pointer"),x=h==null?p:Du(h),_=g==null?p:Du(g),p=new v(j,w+"leave",h,r,u),p.target=x,p.relatedTarget=_,j=null,pc(u)===c&&(v=new v(y,w+"enter",g,r,u),v.target=_,v.relatedTarget=x,j=v),x=j,h&&g)t:{for(v=h,y=g,w=0,_=v;_;_=mu(_))w++;for(_=0,j=y;j;j=mu(j))_++;for(;0<w-_;)v=mu(v),w--;for(;0<_-w;)y=mu(y),_--;for(;w--;){if(v===y||y!==null&&v===y.alternate)break t;v=mu(v),y=mu(y)}v=null}else v=null;h!==null&&dj(f,p,h,v,!1),g!==null&&x!==null&&dj(f,x,g,v,!0)}}e:{if(p=c?Du(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var S=zM;else if(ij(p))if(l6)S=VM;else{S=WM;var O=qM}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=HM);if(S&&(S=S(t,c))){o6(f,S,r,u);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Bx(p,"number",p.value)}switch(O=c?Du(c):window,t){case"focusin":(ij(O)||O.contentEditable==="true")&&(Ru=O,Jx=c,jh=null);break;case"focusout":jh=Jx=Ru=null;break;case"mousedown":Zx=!0;break;case"contextmenu":case"mouseup":case"dragend":Zx=!1,cj(f,r,u);break;case"selectionchange":if(YM)break;case"keydown":case"keyup":cj(f,r,u)}var k;if(Y5)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else $u?a6(t,r)&&(L="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(i6&&r.locale!=="ko"&&($u||L!=="onCompositionStart"?L==="onCompositionEnd"&&$u&&(k=n6()):(Xo=u,V5="value"in Xo?Xo.value:Xo.textContent,$u=!0)),O=w0(c,L),0<O.length&&(L=new ej(L,t,null,r,u),f.push({event:L,listeners:O}),k?L.data=k:(k=s6(r),k!==null&&(L.data=k)))),(k=MM?DM(t,r):BM(t,r))&&(c=w0(c,"onBeforeInput"),0<c.length&&(u=new ej("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=k))}y6(f,e)})}function Jh(t,e,r){return{instance:t,listener:e,currentTarget:r}}function w0(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Wh(t,r),a!=null&&n.unshift(Jh(t,a,i)),a=Wh(t,e),a!=null&&n.push(Jh(t,a,i))),t=t.return}return n}function mu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dj(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=Wh(r,a),l!=null&&s.unshift(Jh(r,l,o))):i||(l=Wh(r,a),l!=null&&s.push(Jh(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var QM=/\r\n?/g,eD=/\u0000|\uFFFD/g;function hj(t){return(typeof t=="string"?t:""+t).replace(QM,`
`).replace(eD,"")}function ug(t,e,r){if(e=hj(e),hj(t)!==e&&r)throw Error(Le(425))}function _0(){}var Qx=null,e2=null;function t2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var r2=typeof setTimeout=="function"?setTimeout:void 0,tD=typeof clearTimeout=="function"?clearTimeout:void 0,pj=typeof Promise=="function"?Promise:void 0,rD=typeof queueMicrotask=="function"?queueMicrotask:typeof pj<"u"?function(t){return pj.resolve(null).then(t).catch(nD)}:r2;function nD(t){setTimeout(function(){throw t})}function hb(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Gh(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Gh(e)}function al(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mj(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Qf=Math.random().toString(36).slice(2),ls="__reactFiber$"+Qf,Zh="__reactProps$"+Qf,ao="__reactContainer$"+Qf,n2="__reactEvents$"+Qf,iD="__reactListeners$"+Qf,aD="__reactHandles$"+Qf;function pc(t){var e=t[ls];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ao]||r[ls]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=mj(t);t!==null;){if(r=t[ls])return r;t=mj(t)}return e}t=r,r=t.parentNode}return null}function em(t){return t=t[ls]||t[ao],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Du(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Le(33))}function sy(t){return t[Zh]||null}var i2=[],Bu=-1;function bl(t){return{current:t}}function jr(t){0>Bu||(t.current=i2[Bu],i2[Bu]=null,Bu--)}function yr(t,e){Bu++,i2[Bu]=t.current,t.current=e}var ml={},Zn=bl(ml),vi=bl(!1),Oc=ml;function pf(t,e){var r=t.type.contextTypes;if(!r)return ml;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yi(t){return t=t.childContextTypes,t!=null}function S0(){jr(vi),jr(Zn)}function gj(t,e,r){if(Zn.current!==ml)throw Error(Le(168));yr(Zn,e),yr(vi,r)}function x6(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Le(108,q7(t)||"Unknown",i));return Lr({},r,n)}function A0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ml,Oc=Zn.current,yr(Zn,t),yr(vi,vi.current),!0}function vj(t,e,r){var n=t.stateNode;if(!n)throw Error(Le(169));r?(t=x6(t,e,Oc),n.__reactInternalMemoizedMergedChildContext=t,jr(vi),jr(Zn),yr(Zn,t)):jr(vi),yr(vi,r)}var Hs=null,oy=!1,pb=!1;function w6(t){Hs===null?Hs=[t]:Hs.push(t)}function sD(t){oy=!0,w6(t)}function xl(){if(!pb&&Hs!==null){pb=!0;var t=0,e=tr;try{var r=Hs;for(tr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Hs=null,oy=!1}catch(i){throw Hs!==null&&(Hs=Hs.slice(t+1)),VE(z5,xl),i}finally{tr=e,pb=!1}}return null}var Fu=[],Uu=0,j0=null,N0=0,la=[],ca=0,kc=null,Gs=1,Ks="";function rc(t,e){Fu[Uu++]=N0,Fu[Uu++]=j0,j0=t,N0=e}function _6(t,e,r){la[ca++]=Gs,la[ca++]=Ks,la[ca++]=kc,kc=t;var n=Gs;t=Ks;var i=32-Ua(n)-1;n&=~(1<<i),r+=1;var a=32-Ua(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Gs=1<<32-Ua(e)+i|r<<i|n,Ks=a+t}else Gs=1<<a|r<<i|n,Ks=t}function J5(t){t.return!==null&&(rc(t,1),_6(t,1,0))}function Z5(t){for(;t===j0;)j0=Fu[--Uu],Fu[Uu]=null,N0=Fu[--Uu],Fu[Uu]=null;for(;t===kc;)kc=la[--ca],la[ca]=null,Ks=la[--ca],la[ca]=null,Gs=la[--ca],la[ca]=null}var zi=null,Fi=null,Or=!1,Ba=null;function S6(t,e){var r=fa(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function yj(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zi=t,Fi=al(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zi=t,Fi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=kc!==null?{id:Gs,overflow:Ks}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=fa(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,zi=t,Fi=null,!0):!1;default:return!1}}function a2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function s2(t){if(Or){var e=Fi;if(e){var r=e;if(!yj(t,e)){if(a2(t))throw Error(Le(418));e=al(r.nextSibling);var n=zi;e&&yj(t,e)?S6(n,r):(t.flags=t.flags&-4097|2,Or=!1,zi=t)}}else{if(a2(t))throw Error(Le(418));t.flags=t.flags&-4097|2,Or=!1,zi=t}}}function bj(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zi=t}function fg(t){if(t!==zi)return!1;if(!Or)return bj(t),Or=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!t2(t.type,t.memoizedProps)),e&&(e=Fi)){if(a2(t))throw A6(),Error(Le(418));for(;e;)S6(t,e),e=al(e.nextSibling)}if(bj(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Fi=al(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Fi=null}}else Fi=zi?al(t.stateNode.nextSibling):null;return!0}function A6(){for(var t=Fi;t;)t=al(t.nextSibling)}function mf(){Fi=zi=null,Or=!1}function Q5(t){Ba===null?Ba=[t]:Ba.push(t)}var oD=po.ReactCurrentBatchConfig;function Qd(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Le(309));var n=r.stateNode}if(!n)throw Error(Le(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(Le(284));if(!r._owner)throw Error(Le(290,t))}return t}function dg(t,e){throw t=Object.prototype.toString.call(e),Error(Le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xj(t){var e=t._init;return e(t._payload)}function j6(t){function e(y,w){if(t){var _=y.deletions;_===null?(y.deletions=[w],y.flags|=16):_.push(w)}}function r(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=cl(y,w),y.index=0,y.sibling=null,y}function a(y,w,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<w?(y.flags|=2,w):_):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,w,_,j){return w===null||w.tag!==6?(w=wb(_,y.mode,j),w.return=y,w):(w=i(w,_),w.return=y,w)}function l(y,w,_,j){var S=_.type;return S===Iu?u(y,w,_.props.children,j,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===zo&&xj(S)===w.type)?(j=i(w,_.props),j.ref=Qd(y,w,_),j.return=y,j):(j=s0(_.type,_.key,_.props,null,y.mode,j),j.ref=Qd(y,w,_),j.return=y,j)}function c(y,w,_,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=_b(_,y.mode,j),w.return=y,w):(w=i(w,_.children||[]),w.return=y,w)}function u(y,w,_,j,S){return w===null||w.tag!==7?(w=Sc(_,y.mode,j,S),w.return=y,w):(w=i(w,_),w.return=y,w)}function f(y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=wb(""+w,y.mode,_),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tg:return _=s0(w.type,w.key,w.props,null,y.mode,_),_.ref=Qd(y,null,w),_.return=y,_;case Lu:return w=_b(w,y.mode,_),w.return=y,w;case zo:var j=w._init;return f(y,j(w._payload),_)}if(mh(w)||Kd(w))return w=Sc(w,y.mode,_,null),w.return=y,w;dg(y,w)}return null}function p(y,w,_,j){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:o(y,w,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case tg:return _.key===S?l(y,w,_,j):null;case Lu:return _.key===S?c(y,w,_,j):null;case zo:return S=_._init,p(y,w,S(_._payload),j)}if(mh(_)||Kd(_))return S!==null?null:u(y,w,_,j,null);dg(y,_)}return null}function h(y,w,_,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(_)||null,o(w,y,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case tg:return y=y.get(j.key===null?_:j.key)||null,l(w,y,j,S);case Lu:return y=y.get(j.key===null?_:j.key)||null,c(w,y,j,S);case zo:var O=j._init;return h(y,w,_,O(j._payload),S)}if(mh(j)||Kd(j))return y=y.get(_)||null,u(w,y,j,S,null);dg(w,j)}return null}function g(y,w,_,j){for(var S=null,O=null,k=w,L=w=0,E=null;k!==null&&L<_.length;L++){k.index>L?(E=k,k=null):E=k.sibling;var $=p(y,k,_[L],j);if($===null){k===null&&(k=E);break}t&&k&&$.alternate===null&&e(y,k),w=a($,w,L),O===null?S=$:O.sibling=$,O=$,k=E}if(L===_.length)return r(y,k),Or&&rc(y,L),S;if(k===null){for(;L<_.length;L++)k=f(y,_[L],j),k!==null&&(w=a(k,w,L),O===null?S=k:O.sibling=k,O=k);return Or&&rc(y,L),S}for(k=n(y,k);L<_.length;L++)E=h(k,y,L,_[L],j),E!==null&&(t&&E.alternate!==null&&k.delete(E.key===null?L:E.key),w=a(E,w,L),O===null?S=E:O.sibling=E,O=E);return t&&k.forEach(function(P){return e(y,P)}),Or&&rc(y,L),S}function v(y,w,_,j){var S=Kd(_);if(typeof S!="function")throw Error(Le(150));if(_=S.call(_),_==null)throw Error(Le(151));for(var O=S=null,k=w,L=w=0,E=null,$=_.next();k!==null&&!$.done;L++,$=_.next()){k.index>L?(E=k,k=null):E=k.sibling;var P=p(y,k,$.value,j);if(P===null){k===null&&(k=E);break}t&&k&&P.alternate===null&&e(y,k),w=a(P,w,L),O===null?S=P:O.sibling=P,O=P,k=E}if($.done)return r(y,k),Or&&rc(y,L),S;if(k===null){for(;!$.done;L++,$=_.next())$=f(y,$.value,j),$!==null&&(w=a($,w,L),O===null?S=$:O.sibling=$,O=$);return Or&&rc(y,L),S}for(k=n(y,k);!$.done;L++,$=_.next())$=h(k,y,L,$.value,j),$!==null&&(t&&$.alternate!==null&&k.delete($.key===null?L:$.key),w=a($,w,L),O===null?S=$:O.sibling=$,O=$);return t&&k.forEach(function(I){return e(y,I)}),Or&&rc(y,L),S}function x(y,w,_,j){if(typeof _=="object"&&_!==null&&_.type===Iu&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case tg:e:{for(var S=_.key,O=w;O!==null;){if(O.key===S){if(S=_.type,S===Iu){if(O.tag===7){r(y,O.sibling),w=i(O,_.props.children),w.return=y,y=w;break e}}else if(O.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===zo&&xj(S)===O.type){r(y,O.sibling),w=i(O,_.props),w.ref=Qd(y,O,_),w.return=y,y=w;break e}r(y,O);break}else e(y,O);O=O.sibling}_.type===Iu?(w=Sc(_.props.children,y.mode,j,_.key),w.return=y,y=w):(j=s0(_.type,_.key,_.props,null,y.mode,j),j.ref=Qd(y,w,_),j.return=y,y=j)}return s(y);case Lu:e:{for(O=_.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(y,w.sibling),w=i(w,_.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else e(y,w);w=w.sibling}w=_b(_,y.mode,j),w.return=y,y=w}return s(y);case zo:return O=_._init,x(y,w,O(_._payload),j)}if(mh(_))return g(y,w,_,j);if(Kd(_))return v(y,w,_,j);dg(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(y,w.sibling),w=i(w,_),w.return=y,y=w):(r(y,w),w=wb(_,y.mode,j),w.return=y,y=w),s(y)):r(y,w)}return x}var gf=j6(!0),N6=j6(!1),O0=bl(null),k0=null,zu=null,e_=null;function t_(){e_=zu=k0=null}function r_(t){var e=O0.current;jr(O0),t._currentValue=e}function o2(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function tf(t,e){k0=t,e_=zu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mi=!0),t.firstContext=null)}function pa(t){var e=t._currentValue;if(e_!==t)if(t={context:t,memoizedValue:e,next:null},zu===null){if(k0===null)throw Error(Le(308));zu=t,k0.dependencies={lanes:0,firstContext:t}}else zu=zu.next=t;return e}var mc=null;function n_(t){mc===null?mc=[t]:mc.push(t)}function O6(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,n_(e)):(r.next=i.next,i.next=r),e.interleaved=r,so(t,n)}function so(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var qo=!1;function i_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function k6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sl(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,zt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,so(t,r)}return i=n.interleaved,i===null?(e.next=e,n_(n)):(e.next=i.next,i.next=e),n.interleaved=e,so(t,r)}function e0(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,q5(t,r)}}function wj(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function P0(t,e,r,n){var i=t.updateQueue;qo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var p=o.lane,h=o.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,v=o;switch(p=e,h=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(h,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(h,f,p):g,p==null)break e;f=Lr({},f,p);break e;case 2:qo=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ec|=s,t.lanes=s,t.memoizedState=f}}function _j(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Le(191,i));i.call(n)}}}var tm={},hs=bl(tm),Qh=bl(tm),ep=bl(tm);function gc(t){if(t===tm)throw Error(Le(174));return t}function a_(t,e){switch(yr(ep,e),yr(Qh,t),yr(hs,tm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ux(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ux(e,t)}jr(hs),yr(hs,e)}function vf(){jr(hs),jr(Qh),jr(ep)}function P6(t){gc(ep.current);var e=gc(hs.current),r=Ux(e,t.type);e!==r&&(yr(Qh,t),yr(hs,r))}function s_(t){Qh.current===t&&(jr(hs),jr(Qh))}var Cr=bl(0);function E0(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mb=[];function o_(){for(var t=0;t<mb.length;t++)mb[t]._workInProgressVersionPrimary=null;mb.length=0}var t0=po.ReactCurrentDispatcher,gb=po.ReactCurrentBatchConfig,Pc=0,Tr=null,vn=null,An=null,C0=!1,Nh=!1,tp=0,lD=0;function Un(){throw Error(Le(321))}function l_(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ha(t[r],e[r]))return!1;return!0}function c_(t,e,r,n,i,a){if(Pc=a,Tr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,t0.current=t===null||t.memoizedState===null?dD:hD,t=r(n,i),Nh){a=0;do{if(Nh=!1,tp=0,25<=a)throw Error(Le(301));a+=1,An=vn=null,e.updateQueue=null,t0.current=pD,t=r(n,i)}while(Nh)}if(t0.current=T0,e=vn!==null&&vn.next!==null,Pc=0,An=vn=Tr=null,C0=!1,e)throw Error(Le(300));return t}function u_(){var t=tp!==0;return tp=0,t}function os(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Tr.memoizedState=An=t:An=An.next=t,An}function ma(){if(vn===null){var t=Tr.alternate;t=t!==null?t.memoizedState:null}else t=vn.next;var e=An===null?Tr.memoizedState:An.next;if(e!==null)An=e,vn=t;else{if(t===null)throw Error(Le(310));vn=t,t={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},An===null?Tr.memoizedState=An=t:An=An.next=t}return An}function rp(t,e){return typeof e=="function"?e(t):e}function vb(t){var e=ma(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=vn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((Pc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Tr.lanes|=u,Ec|=u}c=c.next}while(c!==null&&c!==a);l===null?s=n:l.next=o,Ha(n,e.memoizedState)||(mi=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Tr.lanes|=a,Ec|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function yb(t){var e=ma(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Ha(a,e.memoizedState)||(mi=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function E6(){}function C6(t,e){var r=Tr,n=ma(),i=e(),a=!Ha(n.memoizedState,i);if(a&&(n.memoizedState=i,mi=!0),n=n.queue,f_(I6.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||An!==null&&An.memoizedState.tag&1){if(r.flags|=2048,np(9,L6.bind(null,r,n,i,e),void 0,null),On===null)throw Error(Le(349));Pc&30||T6(r,e,i)}return i}function T6(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Tr.updateQueue,e===null?(e={lastEffect:null,stores:null},Tr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function L6(t,e,r,n){e.value=r,e.getSnapshot=n,$6(e)&&R6(t)}function I6(t,e,r){return r(function(){$6(e)&&R6(t)})}function $6(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ha(t,r)}catch{return!0}}function R6(t){var e=so(t,1);e!==null&&za(e,t,1,-1)}function Sj(t){var e=os();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rp,lastRenderedState:t},e.queue=t,t=t.dispatch=fD.bind(null,Tr,t),[e.memoizedState,t]}function np(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Tr.updateQueue,e===null?(e={lastEffect:null,stores:null},Tr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function M6(){return ma().memoizedState}function r0(t,e,r,n){var i=os();Tr.flags|=t,i.memoizedState=np(1|e,r,void 0,n===void 0?null:n)}function ly(t,e,r,n){var i=ma();n=n===void 0?null:n;var a=void 0;if(vn!==null){var s=vn.memoizedState;if(a=s.destroy,n!==null&&l_(n,s.deps)){i.memoizedState=np(e,r,a,n);return}}Tr.flags|=t,i.memoizedState=np(1|e,r,a,n)}function Aj(t,e){return r0(8390656,8,t,e)}function f_(t,e){return ly(2048,8,t,e)}function D6(t,e){return ly(4,2,t,e)}function B6(t,e){return ly(4,4,t,e)}function F6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function U6(t,e,r){return r=r!=null?r.concat([t]):null,ly(4,4,F6.bind(null,e,t),r)}function d_(){}function z6(t,e){var r=ma();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&l_(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function q6(t,e){var r=ma();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&l_(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function W6(t,e,r){return Pc&21?(Ha(r,e)||(r=YE(),Tr.lanes|=r,Ec|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mi=!0),t.memoizedState=r)}function cD(t,e){var r=tr;tr=r!==0&&4>r?r:4,t(!0);var n=gb.transition;gb.transition={};try{t(!1),e()}finally{tr=r,gb.transition=n}}function H6(){return ma().memoizedState}function uD(t,e,r){var n=ll(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},V6(t))G6(e,r);else if(r=O6(t,e,r,n),r!==null){var i=oi();za(r,t,n,i),K6(r,e,n)}}function fD(t,e,r){var n=ll(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(V6(t))G6(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Ha(o,s)){var l=e.interleaved;l===null?(i.next=i,n_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=O6(t,e,i,n),r!==null&&(i=oi(),za(r,t,n,i),K6(r,e,n))}}function V6(t){var e=t.alternate;return t===Tr||e!==null&&e===Tr}function G6(t,e){Nh=C0=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function K6(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,q5(t,r)}}var T0={readContext:pa,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},dD={readContext:pa,useCallback:function(t,e){return os().memoizedState=[t,e===void 0?null:e],t},useContext:pa,useEffect:Aj,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,r0(4194308,4,F6.bind(null,e,t),r)},useLayoutEffect:function(t,e){return r0(4194308,4,t,e)},useInsertionEffect:function(t,e){return r0(4,2,t,e)},useMemo:function(t,e){var r=os();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=os();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=uD.bind(null,Tr,t),[n.memoizedState,t]},useRef:function(t){var e=os();return t={current:t},e.memoizedState=t},useState:Sj,useDebugValue:d_,useDeferredValue:function(t){return os().memoizedState=t},useTransition:function(){var t=Sj(!1),e=t[0];return t=cD.bind(null,t[1]),os().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Tr,i=os();if(Or){if(r===void 0)throw Error(Le(407));r=r()}else{if(r=e(),On===null)throw Error(Le(349));Pc&30||T6(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,Aj(I6.bind(null,n,a,t),[t]),n.flags|=2048,np(9,L6.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=os(),e=On.identifierPrefix;if(Or){var r=Ks,n=Gs;r=(n&~(1<<32-Ua(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=tp++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=lD++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hD={readContext:pa,useCallback:z6,useContext:pa,useEffect:f_,useImperativeHandle:U6,useInsertionEffect:D6,useLayoutEffect:B6,useMemo:q6,useReducer:vb,useRef:M6,useState:function(){return vb(rp)},useDebugValue:d_,useDeferredValue:function(t){var e=ma();return W6(e,vn.memoizedState,t)},useTransition:function(){var t=vb(rp)[0],e=ma().memoizedState;return[t,e]},useMutableSource:E6,useSyncExternalStore:C6,useId:H6,unstable_isNewReconciler:!1},pD={readContext:pa,useCallback:z6,useContext:pa,useEffect:f_,useImperativeHandle:U6,useInsertionEffect:D6,useLayoutEffect:B6,useMemo:q6,useReducer:yb,useRef:M6,useState:function(){return yb(rp)},useDebugValue:d_,useDeferredValue:function(t){var e=ma();return vn===null?e.memoizedState=t:W6(e,vn.memoizedState,t)},useTransition:function(){var t=yb(rp)[0],e=ma().memoizedState;return[t,e]},useMutableSource:E6,useSyncExternalStore:C6,useId:H6,unstable_isNewReconciler:!1};function Ia(t,e){if(t&&t.defaultProps){e=Lr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function l2(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Lr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var cy={isMounted:function(t){return(t=t._reactInternals)?Wc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=oi(),i=ll(t),a=Qs(n,i);a.payload=e,r!=null&&(a.callback=r),e=sl(t,a,i),e!==null&&(za(e,t,i,n),e0(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=oi(),i=ll(t),a=Qs(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=sl(t,a,i),e!==null&&(za(e,t,i,n),e0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=oi(),n=ll(t),i=Qs(r,n);i.tag=2,e!=null&&(i.callback=e),e=sl(t,i,n),e!==null&&(za(e,t,n,r),e0(e,t,n))}};function jj(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!Yh(r,n)||!Yh(i,a):!0}function Y6(t,e,r){var n=!1,i=ml,a=e.contextType;return typeof a=="object"&&a!==null?a=pa(a):(i=yi(e)?Oc:Zn.current,n=e.contextTypes,a=(n=n!=null)?pf(t,i):ml),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cy,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Nj(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&cy.enqueueReplaceState(e,e.state,null)}function c2(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},i_(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=pa(a):(a=yi(e)?Oc:Zn.current,i.context=pf(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(l2(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&cy.enqueueReplaceState(i,i.state,null),P0(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yf(t,e){try{var r="",n=e;do r+=z7(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function bb(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function u2(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var mD=typeof WeakMap=="function"?WeakMap:Map;function X6(t,e,r){r=Qs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){I0||(I0=!0,x2=n),u2(t,e)},r}function J6(t,e,r){r=Qs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){u2(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){u2(t,e),typeof n!="function"&&(ol===null?ol=new Set([this]):ol.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function Oj(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new mD;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=PD.bind(null,t,e,r),e.then(t,t))}function kj(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Pj(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Qs(-1,1),e.tag=2,sl(r,e,1))),r.lanes|=1),t)}var gD=po.ReactCurrentOwner,mi=!1;function ri(t,e,r,n){e.child=t===null?N6(e,null,r,n):gf(e,t.child,r,n)}function Ej(t,e,r,n,i){r=r.render;var a=e.ref;return tf(e,i),n=c_(t,e,r,n,a,i),r=u_(),t!==null&&!mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oo(t,e,i)):(Or&&r&&J5(e),e.flags|=1,ri(t,e,n,i),e.child)}function Cj(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!x_(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,Z6(t,e,a,n,i)):(t=s0(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Yh,r(s,n)&&t.ref===e.ref)return oo(t,e,i)}return e.flags|=1,t=cl(a,n),t.ref=e.ref,t.return=e,e.child=t}function Z6(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Yh(a,n)&&t.ref===e.ref)if(mi=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(mi=!0);else return e.lanes=t.lanes,oo(t,e,i)}return f2(t,e,r,n,i)}function Q6(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yr(Wu,Li),Li|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yr(Wu,Li),Li|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,yr(Wu,Li),Li|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,yr(Wu,Li),Li|=n;return ri(t,e,i,r),e.child}function eC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function f2(t,e,r,n,i){var a=yi(r)?Oc:Zn.current;return a=pf(e,a),tf(e,i),r=c_(t,e,r,n,a,i),n=u_(),t!==null&&!mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oo(t,e,i)):(Or&&n&&J5(e),e.flags|=1,ri(t,e,r,i),e.child)}function Tj(t,e,r,n,i){if(yi(r)){var a=!0;A0(e)}else a=!1;if(tf(e,i),e.stateNode===null)n0(t,e),Y6(e,r,n),c2(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=pa(c):(c=yi(r)?Oc:Zn.current,c=pf(e,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&Nj(e,s,n,c),qo=!1;var p=e.memoizedState;s.state=p,P0(e,n,s,i),l=e.memoizedState,o!==n||p!==l||vi.current||qo?(typeof u=="function"&&(l2(e,r,u,n),l=e.memoizedState),(o=qo||jj(e,r,o,n,p,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,k6(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Ia(e.type,o),s.props=c,f=e.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=pa(l):(l=yi(r)?Oc:Zn.current,l=pf(e,l));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||p!==l)&&Nj(e,s,n,l),qo=!1,p=e.memoizedState,s.state=p,P0(e,n,s,i);var g=e.memoizedState;o!==f||p!==g||vi.current||qo?(typeof h=="function"&&(l2(e,r,h,n),g=e.memoizedState),(c=qo||jj(e,r,c,n,p,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return d2(t,e,r,n,a,i)}function d2(t,e,r,n,i,a){eC(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&vj(e,r,!1),oo(t,e,a);n=e.stateNode,gD.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=gf(e,t.child,null,a),e.child=gf(e,null,o,a)):ri(t,e,o,a),e.memoizedState=n.state,i&&vj(e,r,!0),e.child}function tC(t){var e=t.stateNode;e.pendingContext?gj(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gj(t,e.context,!1),a_(t,e.containerInfo)}function Lj(t,e,r,n,i){return mf(),Q5(i),e.flags|=256,ri(t,e,r,n),e.child}var h2={dehydrated:null,treeContext:null,retryLane:0};function p2(t){return{baseLanes:t,cachePool:null,transitions:null}}function rC(t,e,r){var n=e.pendingProps,i=Cr.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),yr(Cr,i&1),t===null)return s2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=dy(s,n,0,null),t=Sc(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=p2(r),e.memoizedState=h2,t):h_(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return vD(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=cl(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=cl(o,a):(a=Sc(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?p2(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=h2,n}return a=t.child,t=a.sibling,n=cl(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function h_(t,e){return e=dy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hg(t,e,r,n){return n!==null&&Q5(n),gf(e,t.child,null,r),t=h_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vD(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=bb(Error(Le(422))),hg(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=dy({mode:"visible",children:n.children},i,0,null),a=Sc(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&gf(e,t.child,null,s),e.child.memoizedState=p2(s),e.memoizedState=h2,a);if(!(e.mode&1))return hg(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(Le(419)),n=bb(a,n,void 0),hg(t,e,s,n)}if(o=(s&t.childLanes)!==0,mi||o){if(n=On,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,so(t,i),za(n,t,i,-1))}return b_(),n=bb(Error(Le(421))),hg(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ED.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Fi=al(i.nextSibling),zi=e,Or=!0,Ba=null,t!==null&&(la[ca++]=Gs,la[ca++]=Ks,la[ca++]=kc,Gs=t.id,Ks=t.overflow,kc=e),e=h_(e,n.children),e.flags|=4096,e)}function Ij(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),o2(t.return,e,r)}function xb(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function nC(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(ri(t,e,n.children,r),n=Cr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ij(t,r,e);else if(t.tag===19)Ij(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(yr(Cr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&E0(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),xb(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&E0(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}xb(e,!0,r,null,a);break;case"together":xb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function n0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function oo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ec|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Le(153));if(e.child!==null){for(t=e.child,r=cl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=cl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function yD(t,e,r){switch(e.tag){case 3:tC(e),mf();break;case 5:P6(e);break;case 1:yi(e.type)&&A0(e);break;case 4:a_(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;yr(O0,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(yr(Cr,Cr.current&1),e.flags|=128,null):r&e.child.childLanes?rC(t,e,r):(yr(Cr,Cr.current&1),t=oo(t,e,r),t!==null?t.sibling:null);yr(Cr,Cr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return nC(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yr(Cr,Cr.current),n)break;return null;case 22:case 23:return e.lanes=0,Q6(t,e,r)}return oo(t,e,r)}var iC,m2,aC,sC;iC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};m2=function(){};aC=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,gc(hs.current);var a=null;switch(r){case"input":i=Mx(t,i),n=Mx(t,n),a=[];break;case"select":i=Lr({},i,{value:void 0}),n=Lr({},n,{value:void 0}),a=[];break;case"textarea":i=Fx(t,i),n=Fx(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=_0)}zx(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(zh.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(zh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&wr("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};sC=function(t,e,r,n){r!==n&&(e.flags|=4)};function eh(t,e){if(!Or)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function zn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function bD(t,e,r){var n=e.pendingProps;switch(Z5(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(e),null;case 1:return yi(e.type)&&S0(),zn(e),null;case 3:return n=e.stateNode,vf(),jr(vi),jr(Zn),o_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(fg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ba!==null&&(S2(Ba),Ba=null))),m2(t,e),zn(e),null;case 5:s_(e);var i=gc(ep.current);if(r=e.type,t!==null&&e.stateNode!=null)aC(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Le(166));return zn(e),null}if(t=gc(hs.current),fg(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[ls]=e,n[Zh]=a,t=(e.mode&1)!==0,r){case"dialog":wr("cancel",n),wr("close",n);break;case"iframe":case"object":case"embed":wr("load",n);break;case"video":case"audio":for(i=0;i<vh.length;i++)wr(vh[i],n);break;case"source":wr("error",n);break;case"img":case"image":case"link":wr("error",n),wr("load",n);break;case"details":wr("toggle",n);break;case"input":qA(n,a),wr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},wr("invalid",n);break;case"textarea":HA(n,a),wr("invalid",n)}zx(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&ug(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&ug(n.textContent,o,t),i=["children",""+o]):zh.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&wr("scroll",n)}switch(r){case"input":rg(n),WA(n,a,!0);break;case"textarea":rg(n),VA(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=_0)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IE(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[ls]=e,t[Zh]=n,iC(t,e,!1,!1),e.stateNode=t;e:{switch(s=qx(r,n),r){case"dialog":wr("cancel",t),wr("close",t),i=n;break;case"iframe":case"object":case"embed":wr("load",t),i=n;break;case"video":case"audio":for(i=0;i<vh.length;i++)wr(vh[i],t);i=n;break;case"source":wr("error",t),i=n;break;case"img":case"image":case"link":wr("error",t),wr("load",t),i=n;break;case"details":wr("toggle",t),i=n;break;case"input":qA(t,n),i=Mx(t,n),wr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Lr({},n,{value:void 0}),wr("invalid",t);break;case"textarea":HA(t,n),i=Fx(t,n),wr("invalid",t);break;default:i=n}zx(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?ME(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$E(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&qh(t,l):typeof l=="number"&&qh(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(zh.hasOwnProperty(a)?l!=null&&a==="onScroll"&&wr("scroll",t):l!=null&&M5(t,a,l,s))}switch(r){case"input":rg(t),WA(t,n,!1);break;case"textarea":rg(t),VA(t);break;case"option":n.value!=null&&t.setAttribute("value",""+pl(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Ju(t,!!n.multiple,a,!1):n.defaultValue!=null&&Ju(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zn(e),null;case 6:if(t&&e.stateNode!=null)sC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Le(166));if(r=gc(ep.current),gc(hs.current),fg(e)){if(n=e.stateNode,r=e.memoizedProps,n[ls]=e,(a=n.nodeValue!==r)&&(t=zi,t!==null))switch(t.tag){case 3:ug(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ug(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ls]=e,e.stateNode=n}return zn(e),null;case 13:if(jr(Cr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Or&&Fi!==null&&e.mode&1&&!(e.flags&128))A6(),mf(),e.flags|=98560,a=!1;else if(a=fg(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Le(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Le(317));a[ls]=e}else mf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zn(e),a=!1}else Ba!==null&&(S2(Ba),Ba=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Cr.current&1?bn===0&&(bn=3):b_())),e.updateQueue!==null&&(e.flags|=4),zn(e),null);case 4:return vf(),m2(t,e),t===null&&Xh(e.stateNode.containerInfo),zn(e),null;case 10:return r_(e.type._context),zn(e),null;case 17:return yi(e.type)&&S0(),zn(e),null;case 19:if(jr(Cr),a=e.memoizedState,a===null)return zn(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)eh(a,!1);else{if(bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=E0(t),s!==null){for(e.flags|=128,eh(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return yr(Cr,Cr.current&1|2),e.child}t=t.sibling}a.tail!==null&&Gr()>bf&&(e.flags|=128,n=!0,eh(a,!1),e.lanes=4194304)}else{if(!n)if(t=E0(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),eh(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Or)return zn(e),null}else 2*Gr()-a.renderingStartTime>bf&&r!==1073741824&&(e.flags|=128,n=!0,eh(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Gr(),e.sibling=null,r=Cr.current,yr(Cr,n?r&1|2:r&1),e):(zn(e),null);case 22:case 23:return y_(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Li&1073741824&&(zn(e),e.subtreeFlags&6&&(e.flags|=8192)):zn(e),null;case 24:return null;case 25:return null}throw Error(Le(156,e.tag))}function xD(t,e){switch(Z5(e),e.tag){case 1:return yi(e.type)&&S0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vf(),jr(vi),jr(Zn),o_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return s_(e),null;case 13:if(jr(Cr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Le(340));mf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return jr(Cr),null;case 4:return vf(),null;case 10:return r_(e.type._context),null;case 22:case 23:return y_(),null;case 24:return null;default:return null}}var pg=!1,Yn=!1,wD=typeof WeakSet=="function"?WeakSet:Set,We=null;function qu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Br(t,e,n)}else r.current=null}function g2(t,e,r){try{r()}catch(n){Br(t,e,n)}}var $j=!1;function _D(t,e){if(Qx=b0,t=f6(),X5(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=t,p=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===t)break t;if(p===r&&++c===i&&(o=s),p===a&&++u===n&&(l=s),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(e2={focusedElem:t,selectionRange:r},b0=!1,We=e;We!==null;)if(e=We,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,We=t;else for(;We!==null;){e=We;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,x=g.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ia(e.type,v),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(j){Br(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,We=t;break}We=e.return}return g=$j,$j=!1,g}function Oh(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&g2(e,r,a)}i=i.next}while(i!==n)}}function uy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function v2(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function oC(t){var e=t.alternate;e!==null&&(t.alternate=null,oC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ls],delete e[Zh],delete e[n2],delete e[iD],delete e[aD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lC(t){return t.tag===5||t.tag===3||t.tag===4}function Rj(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function y2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=_0));else if(n!==4&&(t=t.child,t!==null))for(y2(t,e,r),t=t.sibling;t!==null;)y2(t,e,r),t=t.sibling}function b2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(b2(t,e,r),t=t.sibling;t!==null;)b2(t,e,r),t=t.sibling}var $n=null,Ra=!1;function Mo(t,e,r){for(r=r.child;r!==null;)cC(t,e,r),r=r.sibling}function cC(t,e,r){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(ry,r)}catch{}switch(r.tag){case 5:Yn||qu(r,e);case 6:var n=$n,i=Ra;$n=null,Mo(t,e,r),$n=n,Ra=i,$n!==null&&(Ra?(t=$n,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):$n.removeChild(r.stateNode));break;case 18:$n!==null&&(Ra?(t=$n,r=r.stateNode,t.nodeType===8?hb(t.parentNode,r):t.nodeType===1&&hb(t,r),Gh(t)):hb($n,r.stateNode));break;case 4:n=$n,i=Ra,$n=r.stateNode.containerInfo,Ra=!0,Mo(t,e,r),$n=n,Ra=i;break;case 0:case 11:case 14:case 15:if(!Yn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&g2(r,e,s),i=i.next}while(i!==n)}Mo(t,e,r);break;case 1:if(!Yn&&(qu(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Br(r,e,o)}Mo(t,e,r);break;case 21:Mo(t,e,r);break;case 22:r.mode&1?(Yn=(n=Yn)||r.memoizedState!==null,Mo(t,e,r),Yn=n):Mo(t,e,r);break;default:Mo(t,e,r)}}function Mj(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new wD),e.forEach(function(n){var i=CD.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Pa(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:$n=o.stateNode,Ra=!1;break e;case 3:$n=o.stateNode.containerInfo,Ra=!0;break e;case 4:$n=o.stateNode.containerInfo,Ra=!0;break e}o=o.return}if($n===null)throw Error(Le(160));cC(a,s,i),$n=null,Ra=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Br(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uC(e,t),e=e.sibling}function uC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pa(e,t),ns(t),n&4){try{Oh(3,t,t.return),uy(3,t)}catch(v){Br(t,t.return,v)}try{Oh(5,t,t.return)}catch(v){Br(t,t.return,v)}}break;case 1:Pa(e,t),ns(t),n&512&&r!==null&&qu(r,r.return);break;case 5:if(Pa(e,t),ns(t),n&512&&r!==null&&qu(r,r.return),t.flags&32){var i=t.stateNode;try{qh(i,"")}catch(v){Br(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&TE(i,a),qx(o,s);var c=qx(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?ME(i,f):u==="dangerouslySetInnerHTML"?$E(i,f):u==="children"?qh(i,f):M5(i,u,f,c)}switch(o){case"input":Dx(i,a);break;case"textarea":LE(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Ju(i,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?Ju(i,!!a.multiple,a.defaultValue,!0):Ju(i,!!a.multiple,a.multiple?[]:"",!1))}i[Zh]=a}catch(v){Br(t,t.return,v)}}break;case 6:if(Pa(e,t),ns(t),n&4){if(t.stateNode===null)throw Error(Le(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(v){Br(t,t.return,v)}}break;case 3:if(Pa(e,t),ns(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gh(e.containerInfo)}catch(v){Br(t,t.return,v)}break;case 4:Pa(e,t),ns(t);break;case 13:Pa(e,t),ns(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(g_=Gr())),n&4&&Mj(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Yn=(c=Yn)||u,Pa(e,t),Yn=c):Pa(e,t),ns(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(We=t,u=t.child;u!==null;){for(f=We=u;We!==null;){switch(p=We,h=p.child,p.tag){case 0:case 11:case 14:case 15:Oh(4,p,p.return);break;case 1:qu(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Br(n,r,v)}}break;case 5:qu(p,p.return);break;case 22:if(p.memoizedState!==null){Bj(f);continue}}h!==null?(h.return=p,We=h):Bj(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=RE("display",s))}catch(v){Br(t,t.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Br(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pa(e,t),ns(t),n&4&&Mj(t);break;case 21:break;default:Pa(e,t),ns(t)}}function ns(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(lC(r)){var n=r;break e}r=r.return}throw Error(Le(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(qh(i,""),n.flags&=-33);var a=Rj(t);b2(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=Rj(t);y2(t,o,s);break;default:throw Error(Le(161))}}catch(l){Br(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SD(t,e,r){We=t,fC(t)}function fC(t,e,r){for(var n=(t.mode&1)!==0;We!==null;){var i=We,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||pg;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Yn;o=pg;var c=Yn;if(pg=s,(Yn=l)&&!c)for(We=i;We!==null;)s=We,l=s.child,s.tag===22&&s.memoizedState!==null?Fj(i):l!==null?(l.return=s,We=l):Fj(i);for(;a!==null;)We=a,fC(a),a=a.sibling;We=i,pg=o,Yn=c}Dj(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,We=a):Dj(t)}}function Dj(t){for(;We!==null;){var e=We;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yn||uy(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Yn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ia(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&_j(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}_j(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Gh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}Yn||e.flags&512&&v2(e)}catch(p){Br(e,e.return,p)}}if(e===t){We=null;break}if(r=e.sibling,r!==null){r.return=e.return,We=r;break}We=e.return}}function Bj(t){for(;We!==null;){var e=We;if(e===t){We=null;break}var r=e.sibling;if(r!==null){r.return=e.return,We=r;break}We=e.return}}function Fj(t){for(;We!==null;){var e=We;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{uy(4,e)}catch(l){Br(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Br(e,i,l)}}var a=e.return;try{v2(e)}catch(l){Br(e,a,l)}break;case 5:var s=e.return;try{v2(e)}catch(l){Br(e,s,l)}}}catch(l){Br(e,e.return,l)}if(e===t){We=null;break}var o=e.sibling;if(o!==null){o.return=e.return,We=o;break}We=e.return}}var AD=Math.ceil,L0=po.ReactCurrentDispatcher,p_=po.ReactCurrentOwner,ha=po.ReactCurrentBatchConfig,zt=0,On=null,an=null,Rn=0,Li=0,Wu=bl(0),bn=0,ip=null,Ec=0,fy=0,m_=0,kh=null,pi=null,g_=0,bf=1/0,zs=null,I0=!1,x2=null,ol=null,mg=!1,Jo=null,$0=0,Ph=0,w2=null,i0=-1,a0=0;function oi(){return zt&6?Gr():i0!==-1?i0:i0=Gr()}function ll(t){return t.mode&1?zt&2&&Rn!==0?Rn&-Rn:oD.transition!==null?(a0===0&&(a0=YE()),a0):(t=tr,t!==0||(t=window.event,t=t===void 0?16:r6(t.type)),t):1}function za(t,e,r,n){if(50<Ph)throw Ph=0,w2=null,Error(Le(185));Zp(t,r,n),(!(zt&2)||t!==On)&&(t===On&&(!(zt&2)&&(fy|=r),bn===4&&Go(t,Rn)),bi(t,n),r===1&&zt===0&&!(e.mode&1)&&(bf=Gr()+500,oy&&xl()))}function bi(t,e){var r=t.callbackNode;oM(t,e);var n=y0(t,t===On?Rn:0);if(n===0)r!==null&&YA(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&YA(r),e===1)t.tag===0?sD(Uj.bind(null,t)):w6(Uj.bind(null,t)),rD(function(){!(zt&6)&&xl()}),r=null;else{switch(XE(n)){case 1:r=z5;break;case 4:r=GE;break;case 16:r=v0;break;case 536870912:r=KE;break;default:r=v0}r=bC(r,dC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function dC(t,e){if(i0=-1,a0=0,zt&6)throw Error(Le(327));var r=t.callbackNode;if(rf()&&t.callbackNode!==r)return null;var n=y0(t,t===On?Rn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=R0(t,n);else{e=n;var i=zt;zt|=2;var a=pC();(On!==t||Rn!==e)&&(zs=null,bf=Gr()+500,_c(t,e));do try{OD();break}catch(o){hC(t,o)}while(!0);t_(),L0.current=a,zt=i,an!==null?e=0:(On=null,Rn=0,e=bn)}if(e!==0){if(e===2&&(i=Kx(t),i!==0&&(n=i,e=_2(t,i))),e===1)throw r=ip,_c(t,0),Go(t,n),bi(t,Gr()),r;if(e===6)Go(t,n);else{if(i=t.current.alternate,!(n&30)&&!jD(i)&&(e=R0(t,n),e===2&&(a=Kx(t),a!==0&&(n=a,e=_2(t,a))),e===1))throw r=ip,_c(t,0),Go(t,n),bi(t,Gr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Le(345));case 2:nc(t,pi,zs);break;case 3:if(Go(t,n),(n&130023424)===n&&(e=g_+500-Gr(),10<e)){if(y0(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){oi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=r2(nc.bind(null,t,pi,zs),e);break}nc(t,pi,zs);break;case 4:if(Go(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-Ua(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=Gr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*AD(n/1960))-n,10<n){t.timeoutHandle=r2(nc.bind(null,t,pi,zs),n);break}nc(t,pi,zs);break;case 5:nc(t,pi,zs);break;default:throw Error(Le(329))}}}return bi(t,Gr()),t.callbackNode===r?dC.bind(null,t):null}function _2(t,e){var r=kh;return t.current.memoizedState.isDehydrated&&(_c(t,e).flags|=256),t=R0(t,e),t!==2&&(e=pi,pi=r,e!==null&&S2(e)),t}function S2(t){pi===null?pi=t:pi.push.apply(pi,t)}function jD(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Ha(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Go(t,e){for(e&=~m_,e&=~fy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ua(e),n=1<<r;t[r]=-1,e&=~n}}function Uj(t){if(zt&6)throw Error(Le(327));rf();var e=y0(t,0);if(!(e&1))return bi(t,Gr()),null;var r=R0(t,e);if(t.tag!==0&&r===2){var n=Kx(t);n!==0&&(e=n,r=_2(t,n))}if(r===1)throw r=ip,_c(t,0),Go(t,e),bi(t,Gr()),r;if(r===6)throw Error(Le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,nc(t,pi,zs),bi(t,Gr()),null}function v_(t,e){var r=zt;zt|=1;try{return t(e)}finally{zt=r,zt===0&&(bf=Gr()+500,oy&&xl())}}function Cc(t){Jo!==null&&Jo.tag===0&&!(zt&6)&&rf();var e=zt;zt|=1;var r=ha.transition,n=tr;try{if(ha.transition=null,tr=1,t)return t()}finally{tr=n,ha.transition=r,zt=e,!(zt&6)&&xl()}}function y_(){Li=Wu.current,jr(Wu)}function _c(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,tD(r)),an!==null)for(r=an.return;r!==null;){var n=r;switch(Z5(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&S0();break;case 3:vf(),jr(vi),jr(Zn),o_();break;case 5:s_(n);break;case 4:vf();break;case 13:jr(Cr);break;case 19:jr(Cr);break;case 10:r_(n.type._context);break;case 22:case 23:y_()}r=r.return}if(On=t,an=t=cl(t.current,null),Rn=Li=e,bn=0,ip=null,m_=fy=Ec=0,pi=kh=null,mc!==null){for(e=0;e<mc.length;e++)if(r=mc[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}mc=null}return t}function hC(t,e){do{var r=an;try{if(t_(),t0.current=T0,C0){for(var n=Tr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}C0=!1}if(Pc=0,An=vn=Tr=null,Nh=!1,tp=0,p_.current=null,r===null||r.return===null){bn=1,ip=e,an=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=Rn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=kj(s);if(h!==null){h.flags&=-257,Pj(h,s,o,a,e),h.mode&1&&Oj(a,c,e),e=h,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){Oj(a,c,e),b_();break e}l=Error(Le(426))}}else if(Or&&o.mode&1){var x=kj(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Pj(x,s,o,a,e),Q5(yf(l,o));break e}}a=l=yf(l,o),bn!==4&&(bn=2),kh===null?kh=[a]:kh.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=X6(a,l,e);wj(a,y);break e;case 1:o=l;var w=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ol===null||!ol.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var j=J6(a,o,e);wj(a,j);break e}}a=a.return}while(a!==null)}gC(r)}catch(S){e=S,an===r&&r!==null&&(an=r=r.return);continue}break}while(!0)}function pC(){var t=L0.current;return L0.current=T0,t===null?T0:t}function b_(){(bn===0||bn===3||bn===2)&&(bn=4),On===null||!(Ec&268435455)&&!(fy&268435455)||Go(On,Rn)}function R0(t,e){var r=zt;zt|=2;var n=pC();(On!==t||Rn!==e)&&(zs=null,_c(t,e));do try{ND();break}catch(i){hC(t,i)}while(!0);if(t_(),zt=r,L0.current=n,an!==null)throw Error(Le(261));return On=null,Rn=0,bn}function ND(){for(;an!==null;)mC(an)}function OD(){for(;an!==null&&!Z7();)mC(an)}function mC(t){var e=yC(t.alternate,t,Li);t.memoizedProps=t.pendingProps,e===null?gC(t):an=e,p_.current=null}function gC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=xD(r,e),r!==null){r.flags&=32767,an=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bn=6,an=null;return}}else if(r=bD(r,e,Li),r!==null){an=r;return}if(e=e.sibling,e!==null){an=e;return}an=e=t}while(e!==null);bn===0&&(bn=5)}function nc(t,e,r){var n=tr,i=ha.transition;try{ha.transition=null,tr=1,kD(t,e,r,n)}finally{ha.transition=i,tr=n}return null}function kD(t,e,r,n){do rf();while(Jo!==null);if(zt&6)throw Error(Le(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Le(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(lM(t,a),t===On&&(an=On=null,Rn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||mg||(mg=!0,bC(v0,function(){return rf(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ha.transition,ha.transition=null;var s=tr;tr=1;var o=zt;zt|=4,p_.current=null,_D(t,r),uC(r,t),KM(e2),b0=!!Qx,e2=Qx=null,t.current=r,SD(r),Q7(),zt=o,tr=s,ha.transition=a}else t.current=r;if(mg&&(mg=!1,Jo=t,$0=i),a=t.pendingLanes,a===0&&(ol=null),rM(r.stateNode),bi(t,Gr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(I0)throw I0=!1,t=x2,x2=null,t;return $0&1&&t.tag!==0&&rf(),a=t.pendingLanes,a&1?t===w2?Ph++:(Ph=0,w2=t):Ph=0,xl(),null}function rf(){if(Jo!==null){var t=XE($0),e=ha.transition,r=tr;try{if(ha.transition=null,tr=16>t?16:t,Jo===null)var n=!1;else{if(t=Jo,Jo=null,$0=0,zt&6)throw Error(Le(331));var i=zt;for(zt|=4,We=t.current;We!==null;){var a=We,s=a.child;if(We.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(We=c;We!==null;){var u=We;switch(u.tag){case 0:case 11:case 15:Oh(8,u,a)}var f=u.child;if(f!==null)f.return=u,We=f;else for(;We!==null;){u=We;var p=u.sibling,h=u.return;if(oC(u),u===c){We=null;break}if(p!==null){p.return=h,We=p;break}We=h}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}We=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,We=s;else e:for(;We!==null;){if(a=We,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Oh(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,We=y;break e}We=a.return}}var w=t.current;for(We=w;We!==null;){s=We;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,We=_;else e:for(s=w;We!==null;){if(o=We,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:uy(9,o)}}catch(S){Br(o,o.return,S)}if(o===s){We=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,We=j;break e}We=o.return}}if(zt=i,xl(),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(ry,t)}catch{}n=!0}return n}finally{tr=r,ha.transition=e}}return!1}function zj(t,e,r){e=yf(r,e),e=X6(t,e,1),t=sl(t,e,1),e=oi(),t!==null&&(Zp(t,1,e),bi(t,e))}function Br(t,e,r){if(t.tag===3)zj(t,t,r);else for(;e!==null;){if(e.tag===3){zj(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ol===null||!ol.has(n))){t=yf(r,t),t=J6(e,t,1),e=sl(e,t,1),t=oi(),e!==null&&(Zp(e,1,t),bi(e,t));break}}e=e.return}}function PD(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=oi(),t.pingedLanes|=t.suspendedLanes&r,On===t&&(Rn&r)===r&&(bn===4||bn===3&&(Rn&130023424)===Rn&&500>Gr()-g_?_c(t,0):m_|=r),bi(t,e)}function vC(t,e){e===0&&(t.mode&1?(e=ag,ag<<=1,!(ag&130023424)&&(ag=4194304)):e=1);var r=oi();t=so(t,e),t!==null&&(Zp(t,e,r),bi(t,r))}function ED(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),vC(t,r)}function CD(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Le(314))}n!==null&&n.delete(e),vC(t,r)}var yC;yC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||vi.current)mi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return mi=!1,yD(t,e,r);mi=!!(t.flags&131072)}else mi=!1,Or&&e.flags&1048576&&_6(e,N0,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;n0(t,e),t=e.pendingProps;var i=pf(e,Zn.current);tf(e,r),i=c_(null,e,n,t,i,r);var a=u_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yi(n)?(a=!0,A0(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i_(e),i.updater=cy,e.stateNode=i,i._reactInternals=e,c2(e,n,t,r),e=d2(null,e,n,!0,a,r)):(e.tag=0,Or&&a&&J5(e),ri(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(n0(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=LD(n),t=Ia(n,t),i){case 0:e=f2(null,e,n,t,r);break e;case 1:e=Tj(null,e,n,t,r);break e;case 11:e=Ej(null,e,n,t,r);break e;case 14:e=Cj(null,e,n,Ia(n.type,t),r);break e}throw Error(Le(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ia(n,i),f2(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ia(n,i),Tj(t,e,n,i,r);case 3:e:{if(tC(e),t===null)throw Error(Le(387));n=e.pendingProps,a=e.memoizedState,i=a.element,k6(t,e),P0(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=yf(Error(Le(423)),e),e=Lj(t,e,n,r,i);break e}else if(n!==i){i=yf(Error(Le(424)),e),e=Lj(t,e,n,r,i);break e}else for(Fi=al(e.stateNode.containerInfo.firstChild),zi=e,Or=!0,Ba=null,r=N6(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mf(),n===i){e=oo(t,e,r);break e}ri(t,e,n,r)}e=e.child}return e;case 5:return P6(e),t===null&&s2(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,t2(n,i)?s=null:a!==null&&t2(n,a)&&(e.flags|=32),eC(t,e),ri(t,e,s,r),e.child;case 6:return t===null&&s2(e),null;case 13:return rC(t,e,r);case 4:return a_(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=gf(e,null,n,r):ri(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ia(n,i),Ej(t,e,n,i,r);case 7:return ri(t,e,e.pendingProps,r),e.child;case 8:return ri(t,e,e.pendingProps.children,r),e.child;case 12:return ri(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,yr(O0,n._currentValue),n._currentValue=s,a!==null)if(Ha(a.value,s)){if(a.children===i.children&&!vi.current){e=oo(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Qs(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),o2(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Le(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),o2(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}ri(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,tf(e,r),i=pa(i),n=n(i),e.flags|=1,ri(t,e,n,r),e.child;case 14:return n=e.type,i=Ia(n,e.pendingProps),i=Ia(n.type,i),Cj(t,e,n,i,r);case 15:return Z6(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ia(n,i),n0(t,e),e.tag=1,yi(n)?(t=!0,A0(e)):t=!1,tf(e,r),Y6(e,n,i),c2(e,n,i,r),d2(null,e,n,!0,t,r);case 19:return nC(t,e,r);case 22:return Q6(t,e,r)}throw Error(Le(156,e.tag))};function bC(t,e){return VE(t,e)}function TD(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fa(t,e,r,n){return new TD(t,e,r,n)}function x_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function LD(t){if(typeof t=="function")return x_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===B5)return 11;if(t===F5)return 14}return 2}function cl(t,e){var r=t.alternate;return r===null?(r=fa(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function s0(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")x_(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Iu:return Sc(r.children,i,a,e);case D5:s=8,i|=8;break;case Lx:return t=fa(12,r,e,i|2),t.elementType=Lx,t.lanes=a,t;case Ix:return t=fa(13,r,e,i),t.elementType=Ix,t.lanes=a,t;case $x:return t=fa(19,r,e,i),t.elementType=$x,t.lanes=a,t;case PE:return dy(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case OE:s=10;break e;case kE:s=9;break e;case B5:s=11;break e;case F5:s=14;break e;case zo:s=16,n=null;break e}throw Error(Le(130,t==null?t:typeof t,""))}return e=fa(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Sc(t,e,r,n){return t=fa(7,t,n,e),t.lanes=r,t}function dy(t,e,r,n){return t=fa(22,t,n,e),t.elementType=PE,t.lanes=r,t.stateNode={isHidden:!1},t}function wb(t,e,r){return t=fa(6,t,null,e),t.lanes=r,t}function _b(t,e,r){return e=fa(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ID(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rb(0),this.expirationTimes=rb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rb(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function w_(t,e,r,n,i,a,s,o,l){return t=new ID(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=fa(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},i_(a),t}function $D(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lu,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function xC(t){if(!t)return ml;t=t._reactInternals;e:{if(Wc(t)!==t||t.tag!==1)throw Error(Le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Le(171))}if(t.tag===1){var r=t.type;if(yi(r))return x6(t,r,e)}return e}function wC(t,e,r,n,i,a,s,o,l){return t=w_(r,n,!0,t,i,a,s,o,l),t.context=xC(null),r=t.current,n=oi(),i=ll(r),a=Qs(n,i),a.callback=e??null,sl(r,a,i),t.current.lanes=i,Zp(t,i,n),bi(t,n),t}function hy(t,e,r,n){var i=e.current,a=oi(),s=ll(i);return r=xC(r),e.context===null?e.context=r:e.pendingContext=r,e=Qs(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=sl(i,e,s),t!==null&&(za(t,i,s,a),e0(t,i,s)),s}function M0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qj(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function __(t,e){qj(t,e),(t=t.alternate)&&qj(t,e)}function RD(){return null}var _C=typeof reportError=="function"?reportError:function(t){console.error(t)};function S_(t){this._internalRoot=t}py.prototype.render=S_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Le(409));hy(t,e,null,null)};py.prototype.unmount=S_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cc(function(){hy(null,t,null,null)}),e[ao]=null}};function py(t){this._internalRoot=t}py.prototype.unstable_scheduleHydration=function(t){if(t){var e=QE();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Vo.length&&e!==0&&e<Vo[r].priority;r++);Vo.splice(r,0,t),r===0&&t6(t)}};function A_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function my(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wj(){}function MD(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=M0(s);a.call(c)}}var s=wC(e,n,t,0,null,!1,!1,"",Wj);return t._reactRootContainer=s,t[ao]=s.current,Xh(t.nodeType===8?t.parentNode:t),Cc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=M0(l);o.call(c)}}var l=w_(t,0,!1,null,null,!1,!1,"",Wj);return t._reactRootContainer=l,t[ao]=l.current,Xh(t.nodeType===8?t.parentNode:t),Cc(function(){hy(e,l,r,n)}),l}function gy(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=M0(s);o.call(l)}}hy(e,s,t,i)}else s=MD(r,e,t,i,n);return M0(s)}JE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=gh(e.pendingLanes);r!==0&&(q5(e,r|1),bi(e,Gr()),!(zt&6)&&(bf=Gr()+500,xl()))}break;case 13:Cc(function(){var n=so(t,1);if(n!==null){var i=oi();za(n,t,1,i)}}),__(t,1)}};W5=function(t){if(t.tag===13){var e=so(t,134217728);if(e!==null){var r=oi();za(e,t,134217728,r)}__(t,134217728)}};ZE=function(t){if(t.tag===13){var e=ll(t),r=so(t,e);if(r!==null){var n=oi();za(r,t,e,n)}__(t,e)}};QE=function(){return tr};e6=function(t,e){var r=tr;try{return tr=t,e()}finally{tr=r}};Hx=function(t,e,r){switch(e){case"input":if(Dx(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=sy(n);if(!i)throw Error(Le(90));CE(n),Dx(n,i)}}}break;case"textarea":LE(t,r);break;case"select":e=r.value,e!=null&&Ju(t,!!r.multiple,e,!1)}};FE=v_;UE=Cc;var DD={usingClientEntryPoint:!1,Events:[em,Du,sy,DE,BE,v_]},th={findFiberByHostInstance:pc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BD={bundleType:th.bundleType,version:th.version,rendererPackageName:th.rendererPackageName,rendererConfig:th.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:po.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=WE(t),t===null?null:t.stateNode},findFiberByHostInstance:th.findFiberByHostInstance||RD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gg.isDisabled&&gg.supportsFiber)try{ry=gg.inject(BD),ds=gg}catch{}}Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DD;Gi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A_(e))throw Error(Le(200));return $D(t,e,null,r)};Gi.createRoot=function(t,e){if(!A_(t))throw Error(Le(299));var r=!1,n="",i=_C;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=w_(t,1,!1,null,null,r,!1,n,i),t[ao]=e.current,Xh(t.nodeType===8?t.parentNode:t),new S_(e)};Gi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Le(188)):(t=Object.keys(t).join(","),Error(Le(268,t)));return t=WE(e),t=t===null?null:t.stateNode,t};Gi.flushSync=function(t){return Cc(t)};Gi.hydrate=function(t,e,r){if(!my(e))throw Error(Le(200));return gy(null,t,e,!0,r)};Gi.hydrateRoot=function(t,e,r){if(!A_(t))throw Error(Le(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=_C;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=wC(e,null,t,1,r??null,i,!1,a,s),t[ao]=e.current,Xh(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new py(e)};Gi.render=function(t,e,r){if(!my(e))throw Error(Le(200));return gy(null,t,e,!1,r)};Gi.unmountComponentAtNode=function(t){if(!my(t))throw Error(Le(40));return t._reactRootContainer?(Cc(function(){gy(null,null,t,!1,function(){t._reactRootContainer=null,t[ao]=null})}),!0):!1};Gi.unstable_batchedUpdates=v_;Gi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!my(r))throw Error(Le(200));if(t==null||t._reactInternals===void 0)throw Error(Le(38));return gy(t,e,r,!1,n)};Gi.version="18.3.1-next-f1338f8080-20240426";function SC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SC)}catch(t){console.error(t)}}SC(),SE.exports=Gi;var FD=SE.exports,Hj=FD;Cx.createRoot=Hj.createRoot,Cx.hydrateRoot=Hj.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ap(){return ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ap.apply(this,arguments)}var Zo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zo||(Zo={}));const Vj="popstate";function UD(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return A2("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:D0(i)}return qD(e,r,null,t)}function Jr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zD(){return Math.random().toString(36).substr(2,8)}function Gj(t,e){return{usr:t.state,key:t.key,idx:e}}function A2(t,e,r,n){return r===void 0&&(r=null),ap({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ed(e):e,{state:r,key:e&&e.key||n||zD()})}function D0(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ed(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function qD(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=Zo.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(ap({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=Zo.Pop;let x=u(),y=x==null?null:x-c;c=x,l&&l({action:o,location:v.location,delta:y})}function p(x,y){o=Zo.Push;let w=A2(v.location,x,y);c=u()+1;let _=Gj(w,c),j=v.createHref(w);try{s.pushState(_,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(j)}a&&l&&l({action:o,location:v.location,delta:1})}function h(x,y){o=Zo.Replace;let w=A2(v.location,x,y);c=u();let _=Gj(w,c),j=v.createHref(w);s.replaceState(_,"",j),a&&l&&l({action:o,location:v.location,delta:0})}function g(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:D0(x);return w=w.replace(/ $/,"%20"),Jr(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let v={get action(){return o},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Vj,f),l=x,()=>{i.removeEventListener(Vj,f),l=null}},createHref(x){return e(i,x)},createURL:g,encodeLocation(x){let y=g(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:h,go(x){return s.go(x)}};return v}var Kj;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Kj||(Kj={}));function WD(t,e,r){return r===void 0&&(r="/"),HD(t,e,r)}function HD(t,e,r,n){let i=typeof e=="string"?ed(e):e,a=j_(i.pathname||"/",r);if(a==null)return null;let s=jC(t);VD(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=i9(a);o=t9(s[l],c)}return o}function jC(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Jr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=ul([n,l.relativePath]),u=r.concat(l);a.children&&a.children.length>0&&(Jr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jC(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:QD(c,a.index),routesMeta:u})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of NC(a.path))i(a,s,l)}),e}function NC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=NC(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function VD(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:e9(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const GD=/^:[\w-]+$/,KD=3,YD=2,XD=1,JD=10,ZD=-2,Yj=t=>t==="*";function QD(t,e){let r=t.split("/"),n=r.length;return r.some(Yj)&&(n+=ZD),e&&(n+=YD),r.filter(i=>!Yj(i)).reduce((i,a)=>i+(GD.test(a)?KD:a===""?XD:JD),n)}function e9(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function t9(t,e,r){let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=a==="/"?e:e.slice(a.length)||"/",f=r9({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:ul([a,f.pathname]),pathnameBase:l9(ul([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=ul([a,f.pathnameBase]))}return s}function r9(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=n9(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:p,isOptional:h}=u;if(p==="*"){let v=o[f]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[f];return h&&!g?c[p]=void 0:c[p]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function n9(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),AC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function i9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return AC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function j_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function a9(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?ed(t):t;return{pathname:r?r.startsWith("/")?r:s9(r,e):e,search:c9(n),hash:u9(i)}}function s9(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Sb(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function o9(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function N_(t,e){let r=o9(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function O_(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=ed(t):(i=ap({},t),Jr(!i.pathname||!i.pathname.includes("?"),Sb("?","pathname","search",i)),Jr(!i.pathname||!i.pathname.includes("#"),Sb("#","pathname","hash",i)),Jr(!i.search||!i.search.includes("#"),Sb("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}o=f>=0?e[f]:"/"}let l=a9(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ul=t=>t.join("/").replace(/\/\/+/g,"/"),l9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),c9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,u9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function f9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const OC=["post","put","patch","delete"];new Set(OC);const d9=["get",...OC];new Set(d9);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sp(){return sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sp.apply(this,arguments)}const k_=Y.createContext(null),h9=Y.createContext(null),wl=Y.createContext(null),vy=Y.createContext(null),mo=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),kC=Y.createContext(null);function p9(t,e){let{relative:r}=e===void 0?{}:e;td()||Jr(!1);let{basename:n,navigator:i}=Y.useContext(wl),{hash:a,pathname:s,search:o}=EC(t,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:ul([n,s])),i.createHref({pathname:l,search:o,hash:a})}function td(){return Y.useContext(vy)!=null}function Hc(){return td()||Jr(!1),Y.useContext(vy).location}function PC(t){Y.useContext(wl).static||Y.useLayoutEffect(t)}function ya(){let{isDataRoute:t}=Y.useContext(mo);return t?O9():m9()}function m9(){td()||Jr(!1);let t=Y.useContext(k_),{basename:e,future:r,navigator:n}=Y.useContext(wl),{matches:i}=Y.useContext(mo),{pathname:a}=Hc(),s=JSON.stringify(N_(i,r.v7_relativeSplatPath)),o=Y.useRef(!1);return PC(()=>{o.current=!0}),Y.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=O_(c,JSON.parse(s),a,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ul([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,s,a,t])}function yy(){let{matches:t}=Y.useContext(mo),e=t[t.length-1];return e?e.params:{}}function EC(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=Y.useContext(wl),{matches:i}=Y.useContext(mo),{pathname:a}=Hc(),s=JSON.stringify(N_(i,n.v7_relativeSplatPath));return Y.useMemo(()=>O_(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function g9(t,e){return v9(t,e)}function v9(t,e,r,n){td()||Jr(!1);let{navigator:i}=Y.useContext(wl),{matches:a}=Y.useContext(mo),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Hc(),u;if(e){var f;let x=typeof e=="string"?ed(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||Jr(!1),u=x}else u=c;let p=u.pathname||"/",h=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=WD(t,{pathname:h}),v=_9(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:ul([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:ul([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,r,n);return e&&v?Y.createElement(vy.Provider,{value:{location:sp({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Zo.Pop}},v):v}function y9(){let t=N9(),e=f9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),r?Y.createElement("pre",{style:i},r):null,null)}const b9=Y.createElement(y9,null);class x9 extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?Y.createElement(mo.Provider,{value:this.props.routeContext},Y.createElement(kC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function w9(t){let{routeContext:e,match:r,children:n}=t,i=Y.useContext(k_);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),Y.createElement(mo.Provider,{value:e},n)}function _9(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||Jr(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:p,errors:h}=r,g=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,p)=>{let h,g=!1,v=null,x=null;r&&(h=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||b9,l&&(c<0&&p===0?(k9("route-fallback"),g=!0,x=null):c===p&&(g=!0,x=f.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,p+1)),w=()=>{let _;return h?_=v:g?_=x:f.route.Component?_=Y.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=u,Y.createElement(w9,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?Y.createElement(x9,{location:r.location,revalidation:r.revalidation,component:v,error:h,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var CC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(CC||{}),TC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(TC||{});function S9(t){let e=Y.useContext(k_);return e||Jr(!1),e}function A9(t){let e=Y.useContext(h9);return e||Jr(!1),e}function j9(t){let e=Y.useContext(mo);return e||Jr(!1),e}function LC(t){let e=j9(),r=e.matches[e.matches.length-1];return r.route.id||Jr(!1),r.route.id}function N9(){var t;let e=Y.useContext(kC),r=A9(),n=LC();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function O9(){let{router:t}=S9(CC.UseNavigateStable),e=LC(TC.UseNavigateStable),r=Y.useRef(!1);return PC(()=>{r.current=!0}),Y.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,sp({fromRouteId:e},a)))},[t,e])}const Xj={};function k9(t,e,r){Xj[t]||(Xj[t]=!0)}function P9(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function E9(t){let{to:e,replace:r,state:n,relative:i}=t;td()||Jr(!1);let{future:a,static:s}=Y.useContext(wl),{matches:o}=Y.useContext(mo),{pathname:l}=Hc(),c=ya(),u=O_(e,N_(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return Y.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:i}),[c,f,i,r,n]),null}function pn(t){Jr(!1)}function C9(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Zo.Pop,navigator:a,static:s=!1,future:o}=t;td()&&Jr(!1);let l=e.replace(/^\/*/,"/"),c=Y.useMemo(()=>({basename:l,navigator:a,static:s,future:sp({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=ed(n));let{pathname:u="/",search:f="",hash:p="",state:h=null,key:g="default"}=n,v=Y.useMemo(()=>{let x=j_(u,l);return x==null?null:{location:{pathname:x,search:f,hash:p,state:h,key:g},navigationType:i}},[l,u,f,p,h,g,i]);return v==null?null:Y.createElement(wl.Provider,{value:c},Y.createElement(vy.Provider,{children:r,value:v}))}function T9(t){let{children:e,location:r}=t;return g9(j2(e),r)}new Promise(()=>{});function j2(t,e){e===void 0&&(e=[]);let r=[];return Y.Children.forEach(t,(n,i)=>{if(!Y.isValidElement(n))return;let a=[...e,i];if(n.type===Y.Fragment){r.push.apply(r,j2(n.props.children,a));return}n.type!==pn&&Jr(!1),!n.props.index||!n.props.children||Jr(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=j2(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function N2(){return N2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N2.apply(this,arguments)}function L9(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function I9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $9(t,e){return t.button===0&&(!e||e==="_self")&&!I9(t)}const R9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],M9="6";try{window.__reactRouterVersion=M9}catch{}const D9="startTransition",Jj=P7[D9];function B9(t){let{basename:e,children:r,future:n,window:i}=t,a=Y.useRef();a.current==null&&(a.current=UD({window:i,v5Compat:!0}));let s=a.current,[o,l]=Y.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=Y.useCallback(f=>{c&&Jj?Jj(()=>l(f)):l(f)},[l,c]);return Y.useLayoutEffect(()=>s.listen(u),[s,u]),Y.useEffect(()=>P9(n),[n]),Y.createElement(C9,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const F9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IC=Y.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,p=L9(e,R9),{basename:h}=Y.useContext(wl),g,v=!1;if(typeof c=="string"&&U9.test(c)&&(g=c,F9))try{let _=new URL(window.location.href),j=c.startsWith("//")?new URL(_.protocol+c):new URL(c),S=j_(j.pathname,h);j.origin===_.origin&&S!=null?c=S+j.search+j.hash:v=!0}catch{}let x=p9(c,{relative:i}),y=z9(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function w(_){n&&n(_),_.defaultPrevented||y(_)}return Y.createElement("a",N2({},p,{href:g||x,onClick:v||a?n:w,ref:r,target:l}))});var Zj;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Zj||(Zj={}));var Qj;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Qj||(Qj={}));function z9(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=ya(),c=Hc(),u=EC(t,{relative:s});return Y.useCallback(f=>{if($9(f,r)){f.preventDefault();let p=n!==void 0?n:D0(c)===D0(u);l(t,{replace:p,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,n,i,r,t,a,s,o])}var O2=function(t,e){return O2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},O2(t,e)};function $C(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");O2(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var B0=function(){return B0=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},B0.apply(this,arguments)};function rd(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function RC(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,r,a):s(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function MC(t,e){return function(r,n){e(r,n,t)}}function DC(t,e,r,n,i,a){function s(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,p=!1,h=r.length-1;h>=0;h--){var g={};for(var v in n)g[v]=v==="access"?{}:n[v];for(var v in n.access)g.access[v]=n.access[v];g.addInitializer=function(y){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(y||null))};var x=(0,r[h])(o==="accessor"?{get:u.get,set:u.set}:u[l],g);if(o==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(f=s(x.get))&&(u.get=f),(f=s(x.set))&&(u.set=f),(f=s(x.init))&&i.unshift(f)}else(f=s(x))&&(o==="field"?i.unshift(f):u[l]=f)}c&&Object.defineProperty(c,n.name,u),p=!0}function BC(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function FC(t){return typeof t=="symbol"?t:"".concat(t)}function UC(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function zC(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Qe(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})}function qC(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var by=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function WC(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&by(e,t,r)}function F0(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function P_(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function HC(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(P_(arguments[e]));return t}function VC(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}function GC(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function xf(t){return this instanceof xf?(this.v=t,this):new xf(t)}function KC(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(g){return Promise.resolve(g).then(h,f)}}function o(h,g){n[h]&&(i[h]=function(v){return new Promise(function(x,y){a.push([h,v,x,y])>1||l(h,v)})},g&&(i[h]=g(i[h])))}function l(h,g){try{c(n[h](g))}catch(v){p(a[0][3],v)}}function c(h){h.value instanceof xf?Promise.resolve(h.value.v).then(u,f):p(a[0][2],h)}function u(h){l("next",h)}function f(h){l("throw",h)}function p(h,g){h(g),a.shift(),a.length&&l(a[0][0],a[0][1])}}function YC(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=t[i]?function(s){return(r=!r)?{value:xf(t[i](s)),done:!1}:a?a(s):s}:a}}function XC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof F0=="function"?F0(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(s){return new Promise(function(o,l){s=t[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}}function JC(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var q9=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},k2=function(t){return k2=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},k2(t)};function ZC(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=k2(t),n=0;n<r.length;n++)r[n]!=="default"&&by(e,t,r[n]);return q9(e,t),e}function QC(t){return t&&t.__esModule?t:{default:t}}function eT(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function tT(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function rT(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function nT(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var W9=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function iT(t){function e(a){t.error=t.hasError?new W9(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(s){return e(s),i()})}else n|=1}catch(s){e(s)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function aT(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,s){return n?e?".jsx":".js":i&&(!a||!s)?r:i+a+"."+s.toLowerCase()+"js"}):t}const H9={__extends:$C,__assign:B0,__rest:rd,__decorate:RC,__param:MC,__esDecorate:DC,__runInitializers:BC,__propKey:FC,__setFunctionName:UC,__metadata:zC,__awaiter:Qe,__generator:qC,__createBinding:by,__exportStar:WC,__values:F0,__read:P_,__spread:HC,__spreadArrays:VC,__spreadArray:GC,__await:xf,__asyncGenerator:KC,__asyncDelegator:YC,__asyncValues:XC,__makeTemplateObject:JC,__importStar:ZC,__importDefault:QC,__classPrivateFieldGet:eT,__classPrivateFieldSet:tT,__classPrivateFieldIn:rT,__addDisposableResource:nT,__disposeResources:iT,__rewriteRelativeImportExtension:aT},V9=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:nT,get __assign(){return B0},__asyncDelegator:YC,__asyncGenerator:KC,__asyncValues:XC,__await:xf,__awaiter:Qe,__classPrivateFieldGet:eT,__classPrivateFieldIn:rT,__classPrivateFieldSet:tT,__createBinding:by,__decorate:RC,__disposeResources:iT,__esDecorate:DC,__exportStar:WC,__extends:$C,__generator:qC,__importDefault:QC,__importStar:ZC,__makeTemplateObject:JC,__metadata:zC,__param:MC,__propKey:FC,__read:P_,__rest:rd,__rewriteRelativeImportExtension:aT,__runInitializers:BC,__setFunctionName:UC,__spread:HC,__spreadArray:GC,__spreadArrays:VC,__values:F0,default:H9},Symbol.toStringTag,{value:"Module"})),G9=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class E_ extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class K9 extends E_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class eN extends E_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class tN extends E_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var P2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(P2||(P2={}));class Y9{constructor(e,{headers:r={},customFetch:n,region:i=P2.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=G9(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Qe(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:o,method:l,body:c,signal:u,timeout:f}=n;let p={},{region:h}=n;h||(h=this.region);const g=new URL(`${this.url}/${r}`);h&&h!=="any"&&(p["x-region"]=h,g.searchParams.set("forceFunctionRegion",h));let v;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(p["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(p["Content-Type"]="application/json",v=JSON.stringify(c)):v=c;let x=u;f&&(s=new AbortController,a=setTimeout(()=>s.abort(),f),u?(x=s.signal,u.addEventListener("abort",()=>s.abort())):x=s.signal);const y=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:v,signal:x}).catch(S=>{throw new K9(S)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new eN(y);if(!y.ok)throw new tN(y);let _=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return _==="application/json"?j=yield y.json():_==="application/octet-stream"||_==="application/pdf"?j=yield y.blob():_==="text/event-stream"?j=y:_==="multipart/form-data"?j=yield y.formData():j=yield y.text(),{data:j,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof tN||o instanceof eN?o.context:void 0}}finally{a&&clearTimeout(a)}})}}var ni={};const nd=h7(V9);var vg={},yg={},bg={},xg={},wg={},_g={},rN;function sT(){if(rN)return _g;rN=1,Object.defineProperty(_g,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return _g.default=t,_g}var nN;function oT(){if(nN)return wg;nN=1,Object.defineProperty(wg,"__esModule",{value:!0});const e=nd.__importDefault(sT());class r{constructor(i){var a,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,f,p;let h=null,g=null,v=null,x=l.status,y=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?g=S:g=JSON.parse(S))}const _=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),j=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&j&&j.length>1&&(v=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(h={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,x=406,y="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const _=await l.text();try{h=JSON.parse(_),Array.isArray(h)&&l.status===404&&(g=[],h=null,x=200,y="OK")}catch{l.status===404&&_===""?(x=204,y="No Content"):h={message:_}}if(h&&this.isMaybeSingle&&(!((p=h==null?void 0:h.details)===null||p===void 0)&&p.includes("0 rows"))&&(h=null,x=200,y="OK"),h&&this.shouldThrowOnError)throw new e.default(h)}return{error:h,data:g,count:v,status:x,statusText:y}});return this.shouldThrowOnError||(o=o.catch(l=>{var c,u,f;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(u=l==null?void 0:l.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(f=l==null?void 0:l.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),o.then(i,a)}returns(){return this}overrideTypes(){return this}}return wg.default=r,wg}var iN;function lT(){if(iN)return xg;iN=1,Object.defineProperty(xg,"__esModule",{value:!0});const e=nd.__importDefault(oT());class r extends e.default{select(i){let a=!1;const s=(i??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var u;const f=[i?"analyze":null,a?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return xg.default=r,xg}var aN;function C_(){if(aN)return bg;aN=1,Object.defineProperty(bg,"__esModule",{value:!0});const e=nd.__importDefault(lT()),r=new RegExp("[,()]");class n extends e.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${u}.${s}`),this}match(a){return Object.entries(a).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(a,s,o){return this.url.searchParams.append(a,`not.${s}.${o}`),this}or(a,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,s,o){return this.url.searchParams.append(a,`${s}.${o}`),this}}return bg.default=n,bg}var sN;function cT(){if(sN)return yg;sN=1,Object.defineProperty(yg,"__esModule",{value:!0});const e=nd.__importDefault(C_());class r{constructor(i,{headers:a={},schema:s,fetch:o}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=o}select(i,a){const{head:s=!1,count:o}=a??{},l=s?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",u),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var o;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:a}={}){var s;const o="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return yg.default=r,yg}var oN;function X9(){if(oN)return vg;oN=1,Object.defineProperty(vg,"__esModule",{value:!0});const t=nd,e=t.__importDefault(cT()),r=t.__importDefault(C_());class n{constructor(a,{headers:s={},schema:o,fetch:l}={}){this.url=a,this.headers=new Headers(s),this.schemaName=o,this.fetch=l}from(a){const s=new URL(`${this.url}/${a}`);return new e.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:o=!1,get:l=!1,count:c}={}){var u;let f;const p=new URL(`${this.url}/rpc/${a}`);let h;o||l?(f=o?"HEAD":"GET",Object.entries(s).filter(([v,x])=>x!==void 0).map(([v,x])=>[v,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([v,x])=>{p.searchParams.append(v,x)})):(f="POST",h=s);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new r.default({method:f,url:p,headers:g,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return vg.default=n,vg}Object.defineProperty(ni,"__esModule",{value:!0});var uT=ni.PostgrestError=xT=ni.PostgrestBuilder=yT=ni.PostgrestTransformBuilder=gT=ni.PostgrestFilterBuilder=pT=ni.PostgrestQueryBuilder=dT=ni.PostgrestClient=void 0;const id=nd,fT=id.__importDefault(X9());var dT=ni.PostgrestClient=fT.default;const hT=id.__importDefault(cT());var pT=ni.PostgrestQueryBuilder=hT.default;const mT=id.__importDefault(C_());var gT=ni.PostgrestFilterBuilder=mT.default;const vT=id.__importDefault(lT());var yT=ni.PostgrestTransformBuilder=vT.default;const bT=id.__importDefault(oT());var xT=ni.PostgrestBuilder=bT.default;const wT=id.__importDefault(sT());uT=ni.PostgrestError=wT.default;var _T=ni.default={PostgrestClient:fT.default,PostgrestQueryBuilder:hT.default,PostgrestFilterBuilder:mT.default,PostgrestTransformBuilder:vT.default,PostgrestBuilder:bT.default,PostgrestError:wT.default};const J9=fE({__proto__:null,get PostgrestBuilder(){return xT},get PostgrestClient(){return dT},get PostgrestError(){return uT},get PostgrestFilterBuilder(){return gT},get PostgrestQueryBuilder(){return pT},get PostgrestTransformBuilder(){return yT},default:_T},[ni]),{PostgrestClient:Z9,PostgrestQueryBuilder:i1e,PostgrestFilterBuilder:a1e,PostgrestTransformBuilder:s1e,PostgrestBuilder:o1e,PostgrestError:l1e}=_T||J9;class Q9{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const eB="2.81.0",tB=`realtime-js/${eB}`,ST="1.0.0",rB="2.0.0",lN=ST,E2=1e4,nB=1e3,iB=100;var cc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(cc||(cc={}));var gn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(gn||(gn={}));var oa;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(oa||(oa={}));var C2;(function(t){t.websocket="websocket"})(C2||(C2={}));var uc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(uc||(uc={}));class aB{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){const{join_ref:r,ref:n,event:i,topic:a,payload:s}=e,o=this.META_LENGTH+r.length+n.length+a.length+i.length,l=new ArrayBuffer(this.HEADER_LENGTH+o);let c=new DataView(l),u=0;c.setUint8(u++,this.KINDS.push),c.setUint8(u++,r.length),c.setUint8(u++,n.length),c.setUint8(u++,a.length),c.setUint8(u++,i.length),Array.from(r,p=>c.setUint8(u++,p.charCodeAt(0))),Array.from(n,p=>c.setUint8(u++,p.charCodeAt(0))),Array.from(a,p=>c.setUint8(u++,p.charCodeAt(0))),Array.from(i,p=>c.setUint8(u++,p.charCodeAt(0)));var f=new Uint8Array(l.byteLength+s.byteLength);return f.set(new Uint8Array(l),0),f.set(new Uint8Array(s),l.byteLength),f.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const{join_ref:i,ref:a,topic:s}=e,o=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),c=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+s.length+o.length,u=new ArrayBuffer(this.HEADER_LENGTH+c);let f=new DataView(u),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,i.length),f.setUint8(p++,a.length),f.setUint8(p++,s.length),f.setUint8(p++,o.length),f.setUint8(p++,this.BINARY_ENCODING),Array.from(i,g=>f.setUint8(p++,g.charCodeAt(0))),Array.from(a,g=>f.setUint8(p++,g.charCodeAt(0))),Array.from(s,g=>f.setUint8(p++,g.charCodeAt(0))),Array.from(o,g=>f.setUint8(p++,g.charCodeAt(0)));var h=new Uint8Array(u.byteLength+l.byteLength);return h.set(new Uint8Array(u),0),h.set(new Uint8Array(l),u.byteLength),h.buffer}_encodeJsonUserBroadcastPush(e){var r,n;const{join_ref:i,ref:a,topic:s}=e,o=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},u=new TextEncoder().encode(JSON.stringify(l)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+s.length+o.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let h=new DataView(p),g=0;h.setUint8(g++,this.KINDS.userBroadcastPush),h.setUint8(g++,i.length),h.setUint8(g++,a.length),h.setUint8(g++,s.length),h.setUint8(g++,o.length),h.setUint8(g++,this.JSON_ENCODING),Array.from(i,x=>h.setUint8(g++,x.charCodeAt(0))),Array.from(a,x=>h.setUint8(g++,x.charCodeAt(0))),Array.from(s,x=>h.setUint8(g++,x.charCodeAt(0))),Array.from(o,x=>h.setUint8(g++,x.charCodeAt(0)));var v=new Uint8Array(p.byteLength+u.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(u),p.byteLength),v.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,s,o,l]=n;return r({join_ref:i,ref:a,topic:s,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,i);case this.KINDS.reply:return this._decodeReply(e,r,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodePush(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3);let o=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(e.slice(o,o+i));o=o+i;const c=n.decode(e.slice(o,o+a));o=o+a;const u=n.decode(e.slice(o,o+s));o=o+s;const f=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{join_ref:l,ref:null,topic:c,event:u,payload:f}}_decodeReply(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const c=n.decode(e.slice(l,l+i));l=l+i;const u=n.decode(e.slice(l,l+a));l=l+a;const f=n.decode(e.slice(l,l+s));l=l+s;const p=n.decode(e.slice(l,l+o));l=l+o;const h=JSON.parse(n.decode(e.slice(l,e.byteLength))),g={status:p,response:h};return{join_ref:c,ref:u,topic:f,event:oa.reply,payload:g}}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+i));s=s+i;const l=n.decode(e.slice(s,s+a));s=s+a;const c=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{join_ref:null,ref:null,topic:o,event:l,payload:c}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+i));l=l+i;const u=n.decode(e.slice(l,l+a));l=l+a;const f=n.decode(e.slice(l,l+s));l=l+s;const p=e.slice(l,e.byteLength),h=o===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,g={type:this.BROADCAST,event:u,payload:h};return s>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:g}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class AT{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(mr||(mr={}));const cN=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,s)=>(a[s]=sB(s,t,e,i),a),{}):{}},sB=(t,e,r,n)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=r[t];return a&&!n.includes(a)?jT(a,s):T2(s)},jT=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return uB(e,r)}switch(t){case mr.bool:return oB(e);case mr.float4:case mr.float8:case mr.int2:case mr.int4:case mr.int8:case mr.numeric:case mr.oid:return lB(e);case mr.json:case mr.jsonb:return cB(e);case mr.timestamp:return fB(e);case mr.abstime:case mr.date:case mr.daterange:case mr.int4range:case mr.int8range:case mr.money:case mr.reltime:case mr.text:case mr.time:case mr.timestamptz:case mr.timetz:case mr.tsrange:case mr.tstzrange:return T2(e);default:return T2(e)}},T2=t=>t,oB=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},lB=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},cB=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},uB=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const s=t.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>jT(e,o))}return t},fB=t=>typeof t=="string"?t.replace(" ","T"):t,NT=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ab{constructor(e,r,n={},i=E2){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var uN;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(uN||(uN={}));class Eh{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Eh.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=Eh.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Eh.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),s=this.transformState(r),o={},l={};return this.map(a,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const f=a[c];if(f){const p=u.map(x=>x.presence_ref),h=f.map(x=>x.presence_ref),g=u.filter(x=>h.indexOf(x.presence_ref)<0),v=f.filter(x=>p.indexOf(x.presence_ref)<0);g.length>0&&(o[c]=g),v.length>0&&(l[c]=v)}else o[c]=u}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const f=e[o].map(h=>h.presence_ref),p=u.filter(h=>f.indexOf(h.presence_ref)<0);e[o].unshift(...p)}n(o,u,l)}),this.map(s,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fN;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(fN||(fN={}));var Ch;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ch||(Ch={}));var qs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qs||(qs={}));class T_{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=gn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ab(this,oa.join,this.params,this.timeout),this.rejoinTimer=new AT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oa.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Eh(this),this.broadcastEndpointURL=NT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==gn.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Ch.PRESENCE]&&this.bindings[Ch.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},p={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(qs.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(qs.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var g;if(this.socket.setAuth(),h===void 0){e==null||e(qs.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,y=[];for(let w=0;w<x;w++){const _=v[w],{filter:{event:j,schema:S,table:O,filter:k}}=_,L=h&&h[w];if(L&&L.event===j&&L.schema===S&&L.table===O&&L.filter===k)y.push(Object.assign(Object.assign({},_),{id:L.id}));else{this.unsubscribe(),this.state=gn.errored,e==null||e(qs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(qs.SUBSCRIBED);return}}).receive("error",h=>{this.state=gn.errored,e==null||e(qs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(qs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===gn.joined&&e===Ch.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Ab(this,oa.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ab(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>iB){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=oa;if(n&&[o,l,c,u].indexOf(s)>=0&&n!==this._joinRef())return;let p=this._onMessage(s,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var g,v,x;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(v=h.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(h=>h.callback(p,n)):(a=this.bindings[s])===null||a===void 0||a.filter(h=>{var g,v,x,y,w,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const j=h.id,S=(g=h.filter)===null||g===void 0?void 0:g.event;return j&&((v=r.ids)===null||v===void 0?void 0:v.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(w=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return j==="*"||j===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof p=="object"&&"ids"in p){const g=p.data,{schema:v,table:x,commit_timestamp:y,type:w,errors:_}=g;p=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:y,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(g))}h.callback(p,n)})}_isClosed(){return this.state===gn.closed}_isJoined(){return this.state===gn.joined}_isJoining(){return this.state===gn.joining}_isLeaving(){return this.state===gn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&T_.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(oa.close,{},e)}_onError(e){this._on(oa.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=cN(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=cN(e.columns,e.old_record)),r}}const jb=()=>{},Sg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dB=[1e3,2e3,5e3,1e4],hB=1e4,pB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mB{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=E2,this.transport=null,this.heartbeatIntervalMs=Sg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jb,this.ref=0,this.reconnectTimer=null,this.vsn=lN,this.logger=jb,this.conn=null,this.sendBuffer=[],this.serializer=new aB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${C2.websocket}`,this.httpEndpoint=NT(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Q9.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case cc.connecting:return uc.Connecting;case cc.open:return uc.Open;case cc.closing:return uc.Closing;default:return uc.Closed}}isConnected(){return this.connectionState()===uc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new T_(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(nB,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Sg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===cc.open||this.conn.readyState===cc.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(oa.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([pB],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:tB};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(oa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new AT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Sg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,s,o,l,c,u,f,p,h;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:E2,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Sg.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:jb,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:lN,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:g=>dB[g-1]||hB,this.vsn){case ST:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(g,v)=>v(JSON.stringify(g)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(g,v)=>v(JSON.parse(g));break;case rB:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class L_ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Er(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class gB extends L_{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class L2 extends L_{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const I_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),vB=()=>Response,I2=t=>{if(Array.isArray(t))return t.map(r=>I2(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=I2(n)}),e},yB=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Nb=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},bB=(t,e,r)=>Qe(void 0,void 0,void 0,function*(){const n=yield vB();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,s=(i==null?void 0:i.statusCode)||a+"";e(new gB(Nb(i),a,s))}).catch(i=>{e(new L2(Nb(i),i))}):e(new L2(Nb(t),t))}),xB=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(yB(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function rm(t,e,r,n,i,a){return Qe(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,xB(e,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>bB(l,o,n))})})}function op(t,e,r,n){return Qe(this,void 0,void 0,function*(){return rm(t,"GET",e,r,n)})}function $a(t,e,r,n,i){return Qe(this,void 0,void 0,function*(){return rm(t,"POST",e,n,i,r)})}function $2(t,e,r,n,i){return Qe(this,void 0,void 0,function*(){return rm(t,"PUT",e,n,i,r)})}function wB(t,e,r,n){return Qe(this,void 0,void 0,function*(){return rm(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function $_(t,e,r,n,i){return Qe(this,void 0,void 0,function*(){return rm(t,"DELETE",e,n,i,r)})}class _B{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Qe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Er(e))return{data:null,error:e};throw e}})}}var OT;class SB{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[OT]="BlobDownloadBuilder",this.promise=null}asStream(){return new _B(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Qe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Er(e))return{data:null,error:e};throw e}})}}OT=Symbol.toStringTag;const AB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jB{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=I_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return Qe(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},dN),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),f=yield(e=="PUT"?$2:$a)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Er(a))return{data:null,error:a};throw a}})}upload(e,r,n){return Qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Qe(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:dN.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield $2(this.fetch,o.toString(),l,{headers:u});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Er(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Qe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield $a(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new L_("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}update(e,r,n){return Qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Qe(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Qe(this,void 0,void 0,function*(){try{return{data:{path:(yield $a(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Qe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield $a(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Qe(this,void 0,void 0,function*(){try{const i=yield $a(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"",o=this._getFinalPath(e),l=()=>op(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new SB(l,this.shouldThrowOnError)}info(e){return Qe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield op(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:I2(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}exists(e){return Qe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield wB(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n)&&n instanceof L2){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return Qe(this,void 0,void 0,function*(){try{return{data:yield $_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}list(e,r,n){return Qe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},AB),r),{prefix:e||""});return{data:yield $a(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}listV2(e,r){return Qe(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield $a(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const kT="2.81.0",PT={"X-Client-Info":`storage-js/${kT}`};class NB{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},PT),r),this.fetch=I_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Qe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield op(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}getBucket(e){return Qe(this,void 0,void 0,function*(){try{return{data:yield op(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}createBucket(e){return Qe(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield $a(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return Qe(this,void 0,void 0,function*(){try{return{data:yield $2(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Qe(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Qe(this,void 0,void 0,function*(){try{return{data:yield $_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class OB{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},PT),r),this.fetch=I_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Qe(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}listBuckets(e){return Qe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield op(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Qe(this,void 0,void 0,function*(){try{return{data:yield $_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}}const R_={"X-Client-Info":`storage-js/${kT}`,"Content-Type":"application/json"};class ET extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Mi(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Ob extends ET{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kB extends ET{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var hN;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(hN||(hN={}));const M_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),PB=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},pN=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),EB=(t,e,r)=>Qe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";e(new Ob(pN(s),i,o))}).catch(()=>{const s=i+"",o=a.statusText||`HTTP ${i} error`;e(new Ob(o,i,s))});else{const s=i+"",o=a.statusText||`HTTP ${i} error`;e(new Ob(o,i,s))}}else e(new kB(pN(t),t))}),CB=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(PB(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function TB(t,e,r,n,i,a){return Qe(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,CB(e,n,i,a)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>EB(l,o,n))})})}function Di(t,e,r,n,i){return Qe(this,void 0,void 0,function*(){return TB(t,"POST",e,n,i,r)})}class LB{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},R_),r),this.fetch=M_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Qe(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mi(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Qe(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mi(n))return{data:null,error:n};throw n}})}listIndexes(e){return Qe(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mi(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Qe(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mi(n))return{data:null,error:n};throw n}})}}class IB{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},R_),r),this.fetch=M_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Qe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Di(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mi(r))return{data:null,error:r};throw r}})}getVectors(e){return Qe(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mi(r))return{data:null,error:r};throw r}})}listVectors(e){return Qe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Di(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mi(r))return{data:null,error:r};throw r}})}queryVectors(e){return Qe(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mi(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Qe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Di(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mi(r))return{data:null,error:r};throw r}})}}class $B{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},R_),r),this.fetch=M_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Qe(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mi(r))return{data:null,error:r};throw r}})}getBucket(e){return Qe(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mi(r))return{data:null,error:r};throw r}})}listBuckets(){return Qe(this,arguments,void 0,function*(e={}){try{return{data:yield Di(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mi(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Qe(this,void 0,void 0,function*(){try{return{data:(yield Di(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mi(r))return{data:null,error:r};throw r}})}}class RB extends $B{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new MB(this.url,this.headers,e,this.fetch)}}class MB extends LB{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Qe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Qe(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Qe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Qe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new DB(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class DB extends IB{constructor(e,r,n,i,a){super(e,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Qe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Qe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Qe(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Qe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Qe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class BB extends NB{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new jB(this.url,this.headers,e,this.fetch)}get vectors(){return new RB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new OB(this.url+"/iceberg",this.headers,this.fetch)}}const FB="2.81.0";let yh="";typeof Deno<"u"?yh="deno":typeof document<"u"?yh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yh="react-native":yh="node";const UB={"X-Client-Info":`supabase-js-${yh}/${FB}`},zB={headers:UB},qB={schema:"public"},WB={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},HB={},VB=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),GB=()=>Headers,KB=(t,e,r)=>{const n=VB(r),i=GB();return async(a,s)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:c}))}};function YB(t){return t.endsWith("/")?t:t+"/"}function XB(t,e){var r,n;const{db:i,auth:a,realtime:s,global:o}=t,{db:l,auth:c,realtime:u,global:f}=e,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function JB(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(YB(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const CT="2.81.0",ku=30*1e3,R2=3,kb=R2*ku,ZB="http://localhost:9999",QB="supabase.auth.token",eF={"X-Client-Info":`gotrue-js/${CT}`},M2="X-Supabase-Api-Version",TT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rF=10*60*1e3;class lp extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function it(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class nF extends lp{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function iF(t){return it(t)&&t.name==="AuthApiError"}class fc extends lp{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class _l extends lp{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Ta extends _l{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function aF(t){return it(t)&&t.name==="AuthSessionMissingError"}class gu extends _l{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ag extends _l{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class jg extends _l{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sF(t){return it(t)&&t.name==="AuthImplicitGrantRedirectError"}class mN extends _l{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class D2 extends _l{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Pb(t){return it(t)&&t.name==="AuthRetryableFetchError"}class gN extends _l{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class B2 extends _l{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const U0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vN=` 	
\r=`.split(""),oF=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<vN.length;e+=1)t[vN[e].charCodeAt(0)]=-2;for(let e=0;e<U0.length;e+=1)t[U0[e].charCodeAt(0)]=e;return t})();function yN(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(U0[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(U0[n]),e.queuedBits-=6}}function LT(t,e,r){const n=oF[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function bN(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{uF(s,n,r)};for(let s=0;s<t.length;s+=1)LT(t.charCodeAt(s),i,a);return e.join("")}function lF(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cF(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}lF(n,e)}}function uF(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function nf(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)LT(t.charCodeAt(i),r,n);return new Uint8Array(e)}function fF(t){const e=[];return cF(t,r=>e.push(r)),new Uint8Array(e)}function vc(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>yN(i,r,n)),yN(null,r,n),e.join("")}function dF(t){return Math.round(Date.now()/1e3)+t}function hF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Gn=()=>typeof window<"u"&&typeof document<"u",Jl={tested:!1,writable:!1},IT=()=>{if(!Gn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jl.tested)return Jl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Jl.tested=!0,Jl.writable=!0}catch{Jl.tested=!0,Jl.writable=!1}return Jl.writable};function pF(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const $T=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mF=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Pu=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Zl=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Do=async(t,e)=>{await t.removeItem(e)};class xy{constructor(){this.promise=new xy.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}xy.promiseConstructor=Promise;function Eb(t){const e=t.split(".");if(e.length!==3)throw new B2("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!tF.test(e[n]))throw new B2("JWT not in base64url format");return{header:JSON.parse(bN(e[0])),payload:JSON.parse(bN(e[1])),signature:nf(e[2]),raw:{header:e[0],payload:e[1]}}}async function gF(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function vF(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){n(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function yF(t){return("0"+t.toString(16)).substr(-2)}function bF(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,yF).join("")}async function xF(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function wF(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await xF(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vu(t,e,r=!1){const n=bF();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Pu(t,`${e}-code-verifier`,i);const a=await wF(n);return[a,n===a?"plain":"s256"]}const _F=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SF(t){const e=t.headers.get(M2);if(!e||!e.match(_F))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function AF(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function jF(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const NF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yu(t){if(!NF.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cb(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function OF(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function xN(t){return JSON.parse(JSON.stringify(t))}const ic=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kF=[502,503,504];async function wN(t){var e;if(!mF(t))throw new D2(ic(t),0);if(kF.includes(t.status))throw new D2(ic(t),t.status);let r;try{r=await t.json()}catch(a){throw new fc(ic(a),a)}let n;const i=SF(t);if(i&&i.getTime()>=TT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new gN(ic(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ta}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new gN(ic(r),t.status,r.weak_password.reasons);throw new nF(ic(r),t.status||500,n)}const PF=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function dt(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[M2]||(a[M2]=TT["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await EF(t,e,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function EF(t,e,r,n,i,a){const s=PF(e,n,i,a);let o;try{o=await t(r,Object.assign({},s))}catch(l){throw console.error(l),new D2(ic(l),0)}if(o.ok||await wN(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await wN(l)}}function La(t){var e;let r=null;LF(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=dF(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function _N(t){const e=La(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ko(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function CF(t){return{data:t,error:null}}function TF(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,s=rd(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function SN(t){return t}function LF(t){return t.access_token&&t.refresh_token&&t.expires_in}const Tb=["global","local","others"];class IF{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=$T(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Tb[0]){if(Tb.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tb.join(", ")}`);try{return await dt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await dt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ko})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=rd(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await dt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:TF,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(it(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await dt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ko})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await dt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:SN});if(u.error)throw u.error;const f=await u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);c[`${x}Page`]=v}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(it(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){yu(e);try{return await dt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ko})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){yu(e);try{return await dt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ko})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){yu(e);try{return await dt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ko})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){yu(e.userId);try{const{data:r,error:n}=await dt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(it(r))return{data:null,error:r};throw r}}async _deleteFactor(e){yu(e.userId),yu(e.id);try{return{data:await dt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await dt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:SN});if(u.error)throw u.error;const f=await u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);c[`${x}Page`]=v}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(it(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await dt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(it(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await dt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(it(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await dt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(it(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await dt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await dt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(it(r))return{data:null,error:r};throw r}}}function AN(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const bu={debug:!!(globalThis&&IT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class RT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $F extends RT{}async function RF(t,e,r){bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),bu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $F(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(bu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function MF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function MT(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function DF(t){return parseInt(t,16)}function BF(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function FF(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:l,resources:c,scheme:u,uri:f,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=MT(t.address),g=u?`${u}://${n}`:n,v=t.statement?`${t.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${h}

${v}`;let y=`URI: ${f}
Version: ${p}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const _ of c){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}y+=w}return`${x}
${y}`}class rn extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class z0 extends rn{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function UF({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new rn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new rn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new rn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new rn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new rn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new rn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new rn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(DT(s)){if(a.rp.id!==s)return new rn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new rn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new rn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function zF({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new rn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(DT(n)){if(r.rpId!==n)return new rn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new rn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class qF{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const WF=new qF;function HF(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=rd(t,["challenge","user","excludeCredentials"]),a=nf(e).buffer,s=Object.assign(Object.assign({},r),{id:nf(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:nf(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function VF(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=rd(t,["challenge","allowCredentials"]),i=nf(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:nf(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function GF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:vc(new Uint8Array(t.response.attestationObject)),clientDataJSON:vc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function KF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:vc(new Uint8Array(i.authenticatorData)),clientDataJSON:vc(new Uint8Array(i.clientDataJSON)),signature:vc(new Uint8Array(i.signature)),userHandle:i.userHandle?vc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function DT(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function jN(){var t,e;return!!(Gn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function YF(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new z0("Browser returned unexpected credential type",e)}:{data:null,error:new z0("Empty credential response",e)}}catch(e){return{data:null,error:UF({error:e,options:t})}}}async function XF(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new z0("Browser returned unexpected credential type",e)}:{data:null,error:new z0("Empty credential response",e)}}catch(e){return{data:null,error:zF({error:e,options:t})}}}const JF={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ZF={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function q0(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(e(s)){const o=n[a];e(o)?n[a]=q0(o,s):n[a]=q0(s)}else n[a]=s}return n}function QF(t,e){return q0(JF,t,e||{})}function eU(t,e){return q0(ZF,t,e||{})}class tU{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!s)return{data:null,error:o};const l=i??WF.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=QF(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:u,error:f}=await YF({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}case"request":{const c=eU(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:u,error:f}=await XF(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}}}catch(s){return it(s)?{data:null,error:s}:{data:null,error:new fc("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new lp("rpId is required for WebAuthn authentication")};try{if(!jN())return{data:null,error:new fc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return it(s)?{data:null,error:s}:{data:null,error:new fc("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new lp("rpId is required for WebAuthn registration")};try{if(!jN())return{data:null,error:new fc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(u=>{var f;return(f=u.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(s){return it(s)?{data:null,error:s}:{data:null,error:new fc("Unexpected error in register",s)}}}}MF();const rU={url:ZB,storageKey:QB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function NN(t,e,r){return await r()}const xu={};class cp{get jwks(){var e,r;return(r=(e=xu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){xu[this.storageKey]=Object.assign(Object.assign({},xu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=xu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){xu[this.storageKey]=Object.assign(Object.assign({},xu[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},rU),e);if(this.storageKey=a.storageKey,this.instanceID=(r=cp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,cp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Gn()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new IF({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=$T(a.fetch),this.lock=a.lock||NN,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Gn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=RF:this.lock=NN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new tU(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:IT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=AN(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=AN(this.memoryStorage)),Gn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${CT}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Gn()&&(r=pF(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Gn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),sF(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return it(r)?this._returnResult({error:r}):this._returnResult({error:new fc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:La}),{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(it(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:u,password:f,options:p}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await vu(this.storage,this.storageKey)),a=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:g},xform:La})}else if("phone"in e){const{phone:u,password:f,options:p}=e;a=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:La})}else throw new Ag("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(it(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:s,options:o}=e;r=await dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_N})}else if("phone"in e){const{phone:a,password:s,options:o}=e;r=await dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_N})}else throw new Ag("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new gu;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,s,o,l,c,u,f,p;let h,g;if("message"in e)h=e.message,g=e.signature;else{const{chain:v,wallet:x,statement:y,options:w}=e;let _;if(Gn())if(typeof x=="object")_=x;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")_=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=MT(S[0]);let k=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const E=await _.request({method:"eth_chainId"});k=DF(E)}const L={domain:j.host,address:O,statement:y,uri:j.href,version:"1",chainId:k,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.resources};h=FF(L),g=await _.request({method:"personal_sign",params:[BF(h),O]})}try{const{data:v,error:x}=await dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:g},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:La});if(x)throw x;if(!v||!v.session||!v.user){const y=new gu;return this._returnResult({data:{user:null,session:null},error:y})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(it(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var r,n,i,a,s,o,l,c,u,f,p,h;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:x,wallet:y,statement:w,options:_}=e;let j;if(Gn())if(typeof y=="object")j=y;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))j=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const S=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const O=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let k;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")k=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)k=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),v=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(u=_==null?void 0:_.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const O=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=O}}try{const{data:x,error:y}=await dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:vc(v)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:La});if(y)throw y;if(!x||!x.session||!x.user){const w=new gu;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(it(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const r=await Zl(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await dt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:La});if(await Do(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const o=new gu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(it(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=e,o=await dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:La}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new gu;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await vu(this.storage,this.storageKey));const{error:f}=await dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new Ag("You must provide either an email or phone number.")}catch(o){if(it(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await dt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:La});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(it(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,s=null;this.flowType==="pkce"&&([a,s]=await vu(this.storage,this.storageKey));const o=await dt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:CF});return this._returnResult(o)}catch(a){if(it(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ta;const{error:i}=await dt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(it(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:s}=await dt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:s,error:o}=await dt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new Ag("You must provide either an email or phone number and a type")}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Zl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<kb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await Zl(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=Cb()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=OF(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ko}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ta}:await dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ko})})}catch(r){if(it(r))return aF(r)&&(await this._removeSession(),await Do(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ta;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await vu(this.storage,this.storageKey));const{data:c,error:u}=await dt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Ko});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(it(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ta;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Eb(e.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(it(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:o}=r;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ta;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Gn())throw new jg("No browser detected.");if(e.error||e.error_description||e.error_code)throw new jg(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new mN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new mN("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=e;if(!a||!o||!s||!c)throw new jg("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let p=u+f;l&&(p=parseInt(l));const h=p-u;h*1e3<=ku&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const g=p-f;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,p,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,p,u);const{data:v,error:x}=await this._getUser(a);if(x)throw x;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:p,refresh_token:s,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(n){if(it(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Zl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(iF(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await Do(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=hF(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await vu(this.storage,this.storageKey,!0));try{return await dt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(it(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,c,u;const{data:f,error:p}=a;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await dt(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Gn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(it(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:o,token:l,access_token:c,nonce:u}=e,f=await dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:La}),{data:p,error:h}=f;return h?this._returnResult({data:{user:null,session:null},error:h}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new gu}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:h}))}catch(i){if(it(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await dt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await vF(async i=>(i>0&&await gF(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await dt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:La})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Pb(a)&&Date.now()+s-n<ku})}catch(n){if(this._debug(r,"error",n),it(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Gn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Zl(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Zl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Pu(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:Cb()}else if(i&&!i.user&&!i.user){const s=await Zl(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Do(this.storage,this.storageKey+"-user"),await Pu(this.storage,this.storageKey,i)):i.user=Cb()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<kb;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${kb}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Pb(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ta;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new xy;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Ta;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),it(a)){const s={data:null,error:a};return Pb(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Pu(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=xN(i);await Pu(this.storage,this.storageKey,a)}else{const i=xN(r);await Pu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Do(this.storage,this.storageKey),await Do(this.storage,this.storageKey+"-code-verifier"),await Do(this.storage,this.storageKey+"-user"),this.userStorage&&await Do(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Gn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ku);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/ku);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ku}ms, refresh threshold is ${R2} ticks`),i<=R2&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof RT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await vu(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await dt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await dt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?GF(e.webauthn.credential_response):KF(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:HF(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:VF(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Eb(n.access_token);let s=null;a.aal&&(s=a.aal);let o=s;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const c=a.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await dt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ta})})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ta});const s=await dt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Gn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(it(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ta});const s=await dt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Gn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(it(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+rF>i)return n;const{data:a,error:s}=await dt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:g}=await this.getSession();if(g||!h.session)return this._returnResult({data:null,error:g});n=h.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=Eb(n);r!=null&&r.allowExpired||AF(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:s},error:null}}const u=jF(i.alg),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,fF(`${o}.${l}`)))throw new B2("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(it(n))return this._returnResult({data:null,error:n});throw n}}}cp.nextInstanceID={};const nU=cp;class iU extends nU{constructor(e){super(e)}}class aU{constructor(e,r,n){var i,a,s;this.supabaseUrl=e,this.supabaseKey=r;const o=JB(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:qB,realtime:HB,auth:Object.assign(Object.assign({},WB),{storageKey:l}),global:zB},u=XB(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=KB(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Z9(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new BB(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Y9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:l,debug:c,throwOnError:u},f,p){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iU({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),f),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new mB(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sU=(t,e,r)=>new aU(t,e,r);function oU(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}oU()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lU="https://kivcusfsppjyalbgqtxy.supabase.co",cU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpdmN1c2ZzcHBqeWFsYmdxdHh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NjI2NjYsImV4cCI6MjA3ODQzODY2Nn0.DMugE2X3gBvcRBXt-NqWceWQB2Vmi9kbavEE6MEjAmI",Te=sU(lU,cU);function uU({onAuthSuccess:t}){const[e,r]=Y.useState(!1),[n,i]=Y.useState(""),[a,s]=Y.useState(""),[o,l]=Y.useState(""),[c,u]=Y.useState("student"),[f,p]=Y.useState([]),[h,g]=Y.useState([]),[v,x]=Y.useState(!1),[y,w]=Y.useState(!1),[_,j]=Y.useState(null),[S,O]=Y.useState(null);Y.useEffect(()=>{e&&c==="student"&&k()},[e,c]);const k=async()=>{x(!0);try{const{data:E,error:$}=await Te.from("cohorts").select("id, name, description").order("name");if($)throw $;g(E||[])}catch(E){console.error("Error loading cohorts:",E)}finally{x(!1)}},L=async E=>{E.preventDefault(),w(!0),j(null),O(null);try{if(e){const{data:$,error:P}=await Te.auth.signUp({email:n,password:a,options:{data:{name:o,role:c},emailRedirectTo:window.location.origin}});if(P)throw P;if($.user&&!$.session){O(`Confirmation email sent to ${n}! Please check your inbox and click the confirmation link to activate your account.`),w(!1),i(""),s(""),l(""),u("student");return}if($.user){await new Promise(F=>setTimeout(F,500));const{error:I}=await Te.from("users").select("id").eq("id",$.user.id).single();if(I){const{error:F}=await Te.from("users").insert({id:$.user.id,name:o,email:n,role:c});F&&console.warn("User record creation issue:",F)}}if($.session&&$.user){if(c==="student"&&f.length>0){await new Promise(R=>setTimeout(R,500));const I=f.map(R=>({cohort_id:R,student_id:$.user.id})),{error:F}=await Te.from("cohort_members").insert(I);F&&console.warn("Error adding student to cohorts:",F)}t()}}else{const{error:$}=await Te.auth.signInWithPassword({email:n,password:a});if($)throw $;t()}}catch($){j($.message||"An error occurred"),w(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-primary-50 to-gray-100 px-4 py-8",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 md:p-10 w-full max-w-md border-2 border-gray-200",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Kaya CBDC V-OSCE"}),d.jsx("p",{className:"text-gray-600 mt-2 text-sm md:text-base",children:"Yashwant Ayurvedic College"})]}),d.jsxs("form",{onSubmit:L,className:"space-y-4",children:[e&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),d.jsx("input",{type:"text",value:o,onChange:E=>l(E.target.value),required:e,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),d.jsxs("select",{value:c,onChange:E=>{u(E.target.value),p([])},required:e,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 bg-white",children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),c==="student"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Cohorts (Optional)"}),v?d.jsx("div",{className:"text-sm text-gray-500",children:"Loading cohorts..."}):h.length===0?d.jsx("div",{className:"text-sm text-gray-500 p-3 bg-gray-50 rounded-md",children:"No cohorts available. You can join cohorts later from your profile settings."}):d.jsx("div",{className:"border border-gray-300 rounded-md max-h-40 overflow-y-auto p-2",children:h.map(E=>d.jsxs("label",{className:"flex items-start gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:f.includes(E.id),onChange:$=>{$.target.checked?p([...f,E.id]):p(f.filter(P=>P!==E.id))},className:"mt-1"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name}),E.description&&d.jsx("div",{className:"text-xs text-gray-500",children:E.description})]})]},E.id))}),f.length>0&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[f.length," cohort",f.length!==1?"s":""," selected"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",value:n,onChange:E=>i(E.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsx("input",{type:"password",value:a,onChange:E=>s(E.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),_&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:_}),S&&d.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Email Sent!"}),d.jsx("p",{className:"text-sm mt-1",children:S})]})]})}),d.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white py-3 px-6 rounded-xl hover:from-primary-700 hover:to-primary-800 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 font-bold text-base md:text-lg shadow-lg transition-all transform hover:scale-[1.02]",children:y?"Loading...":e?"Sign Up":"Sign In"})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("button",{onClick:()=>{r(!e),j(null),O(null)},className:"text-primary-600 hover:text-primary-700 text-sm",children:e?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Lt=(t,e)=>{const r=Y.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>Y.createElement("svg",{ref:u,...fU,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${dU(t)}`,o].join(" "),...c},[...e.map(([f,p])=>Y.createElement(f,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=Lt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=Lt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=Lt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=Lt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=Lt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=Lt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=Lt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Lt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=Lt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=Lt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Lt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=Lt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=Lt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=Lt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=Lt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=Lt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=Lt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=Lt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=Lt("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=Lt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=Lt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=Lt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=Lt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=Lt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=Lt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=Lt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=Lt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=Lt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=Lt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=Lt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=Lt("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=Lt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=Lt("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=Lt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=Lt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=Lt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=Lt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=Lt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=Lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function qi({role:t}){const e=Hc(),r=async()=>{await Te.auth.signOut(),window.location.reload()},a=t==="faculty"?[{path:"/dashboard",icon:F2,label:"Dashboard"},{path:"/create",icon:am,label:"Create Station"},{path:"/library",icon:UT,label:"Library"},{path:"/analytics",icon:lo,label:"Analytics"}]:[{path:"/admin/dashboard",icon:F2,label:"Dashboard"},{path:"/admin/cbdc",icon:qa,label:"CBDC Manager"},{path:"/admin/reports",icon:lo,label:"Reports"},{path:"/admin/users",icon:Tc,label:"Users"}];return d.jsx("div",{className:"hidden md:flex md:flex-col md:w-64 md:fixed md:inset-y-0 bg-white border-r border-gray-200",children:d.jsxs("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[d.jsx("div",{className:"flex items-center flex-shrink-0 px-4 mb-8",children:d.jsx("h1",{className:"text-xl font-bold text-primary-900",children:"Kaya V-OSCE"})}),d.jsx("nav",{className:"flex-1 px-2 space-y-1",children:a.map(s=>{const o=s.icon,l=e.pathname===s.path||e.pathname.startsWith(s.path+"/");return d.jsxs(IC,{to:s.path,className:`flex items-center px-4 py-2 text-sm font-medium rounded-md ${l?"bg-primary-100 text-primary-900":"text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(o,{className:"mr-3 h-5 w-5"}),s.label]},s.path)})}),d.jsx("div",{className:"px-4 pb-4",children:d.jsxs("button",{onClick:r,className:"flex items-center w-full px-4 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-50",children:[d.jsx(qT,{className:"mr-3 h-5 w-5"}),"Sign Out"]})})]})})}function Jn({role:t}){const e=Hc();if(t==="admin")return null;const i=t==="faculty"?[{path:"/dashboard",icon:F2,label:"Dashboard"},{path:"/create",icon:am,label:"Create"},{path:"/library",icon:UT,label:"Library"},{path:"/analytics",icon:lo,label:"Analytics"}]:[{path:"/home",icon:gU,label:"Home"},{path:"/assigned",icon:wy,label:"Assignments"},{path:"/analytics",icon:lo,label:"Analytics"},{path:"/profile",icon:fl,label:"Profile"}];return d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-300 shadow-lg z-50 md:hidden safe-area-bottom",children:d.jsx("div",{className:"flex justify-around items-center h-16 px-2",children:i.map(a=>{const s=a.icon,o=e.pathname===a.path||a.path!=="/dashboard"&&e.pathname.startsWith(a.path);return d.jsxs(IC,{to:a.path,className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${o?"text-primary-600 bg-primary-50 rounded-t-lg":"text-gray-600 hover:text-primary-500"}`,children:[d.jsx(s,{className:`w-5 h-5 ${o?"scale-110":""} transition-transform`}),d.jsx("span",{className:`text-xs mt-0.5 font-medium ${o?"text-primary-700":"text-gray-600"}`,children:a.label})]},a.path)})})})}function AU({user:t}){const e=ya(),[r,n]=Y.useState({approved:0,pending:0,total:0}),[i,a]=Y.useState(!0);Y.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:o,error:l}=await Te.from("stations").select("id").eq("created_by",t.id);if(l)throw l;const c=(o==null?void 0:o.map(p=>p.id))||[],{data:u,error:f}=await Te.from("case_snapshots").select("id",{count:"exact"}).in("station_id",c);if(f)throw f;n({approved:(u==null?void 0:u.length)||0,pending:c.length-((u==null?void 0:u.length)||0),total:c.length})}catch(o){console.error("Error loading stats:",o)}finally{a(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(qi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Faculty Dashboard"}),d.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome back, ",t.name]})]}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Approved Cases"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.approved})]}),d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(qa,{className:"w-6 h-6 text-green-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Pending Review"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.pending})]}),d.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:d.jsx(ad,{className:"w-6 h-6 text-yellow-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.total})]}),d.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:d.jsx(Tc,{className:"w-6 h-6 text-blue-600"})})]})})]}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("button",{onClick:()=>e("/create"),className:"w-full md:w-auto flex items-center justify-center gap-2 bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors",children:[d.jsx(am,{className:"w-5 h-5"}),"Create New Station"]})})]})]})}),d.jsx(Jn,{role:"faculty"})]})}const kN="AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",jU="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";function NU({user:t}){var y,w,_,j,S,O;const e=ya(),[r,n]=Y.useState(1),[i,a]=Y.useState(!1),[s,o]=Y.useState([]),[l,c]=Y.useState([]),[u,f]=Y.useState({subject:"",competencyId:"",slo:"",millerLevel:"ShowsHow",bloomDomain:"Cognitive",duration:15,difficulty:"Intermediate",prakriti:"Sama",doshaSliders:{vata:33,pitta:33,kapha:34},includeAshtasthana:!1});Y.useEffect(()=>{p(),h()},[]);const p=async()=>{const{data:k}=await Te.from("subjects").select("*");k&&o(k)},h=async()=>{const{data:k}=await Te.from("competencies").select("*");k&&c(k)},g=k=>{var L,E,$,P,I,F;return`You are an expert Ayurvedic physician creating a virtual OSCE (Objective Structured Clinical Examination) case for medical students.

Generate a complete clinical case in JSON format matching this specification:

Subject: ${k.subject}
Miller's Level: ${k.millerLevel||"ShowsHow"}
Bloom's Domain: ${k.bloomDomain||"Cognitive"}
Difficulty: ${k.difficulty}
Duration: ${k.duration} minutes
Prakriti: ${k.prakriti||"Sama"}
Dosha Distribution: Vata ${((L=k.doshaSliders)==null?void 0:L.vata)||33}%, Pitta ${((E=k.doshaSliders)==null?void 0:E.pitta)||33}%, Kapha ${(($=k.doshaSliders)==null?void 0:$.kapha)||34}%
${k.includeAshtasthana?"Include Ashtasthana Pariksha findings":""}
${k.slo?`SLO: ${k.slo}`:""}

Return a JSON object with this exact structure:
{
  "id": "generate-uuid-here",
  "title": "Case title",
  "subject": "${k.subject}",
  "durationMinutes": ${k.duration},
  "difficulty": "${k.difficulty}",
  "patientProfile": {
    "name": "Patient name",
    "age": 35,
    "gender": "male",
    "prakriti": "${k.prakriti||"Sama"}",
    "occupation": "Relevant occupation"
  },
  "chiefComplaint": "Primary complaint in patient's own words (e.g., 'Fever and cough for 3 days')",
  "historyOfPresentIllness": "Detailed HPI in Ayurvedic context",
  ${k.includeAshtasthana?`"ashtasthanaPariksha": {
    "Nadi": "Pulse findings",
    "Mala": "Stool findings",
    "Mutra": "Urine findings",
    "Jihva": "Tongue findings",
    "Shabda": "Voice findings",
    "Sparsha": "Touch findings",
    "Druk": "Eye findings",
    "Akriti": "General appearance"
  },`:""}
  "doshaAnalysis": {
    "vata": ${((P=k.doshaSliders)==null?void 0:P.vata)||33},
    "pitta": ${((I=k.doshaSliders)==null?void 0:I.pitta)||33},
    "kapha": ${((F=k.doshaSliders)==null?void 0:F.kapha)||34}
  },
  "potentialDiagnoses": [
    {"dx": "Primary diagnosis", "confidence": 0.9},
    {"dx": "Differential diagnosis", "confidence": 0.6}
  ],
  "suggestedChikitsa": "Detailed treatment plan",
  "mcqs": [
    {
      "id": "mcq-1",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${k.slo||"default-slo"}"
    }
  ],
  "rubrics": [
    {
      "id": "rubric-1",
      "description": "Rubric description",
      "maxPoints": 10,
      "sloId": "${k.slo||"default-slo"}"
    }
  ],
  "finalExplanation": "Comprehensive explanation",
  "sloMappings": ["${k.slo||"default-slo"}"],
  "physicalExam": {
    "vitals": {
      "bp": "Actual blood pressure relevant to the case (e.g., '90/60 mmHg' for hypotension, '150/95 mmHg' for hypertension)",
      "hr": "Actual heart rate relevant to the case (e.g., '110 bpm' for tachycardia, '55 bpm' for bradycardia)",
      "rr": "Actual respiratory rate relevant to the case (e.g., '28 breaths/min' for tachypnea, '12 breaths/min' for normal)",
      "temp": "Actual temperature relevant to the case (e.g., '102.8F (oral)' for fever, '98.6F (oral)' for normal)",
      "spo2": "Actual oxygen saturation relevant to the case (e.g., '88% on room air' for hypoxemia, '98% on room air' for normal)"
    },
    "generalExam": "Detailed general examination findings that are consistent with the diagnosis and clinical presentation. Include appearance, consciousness level, pallor, icterus, edema, etc.",
    "systemicExam": "Detailed systemic examination findings organized by system (CNS, CVS, RS, GIT, etc.) that are consistent with the diagnosis. Be specific and realistic."
  },
  "availableLabTests": [
    {"category": "BEDSIDE TESTS", "tests": ["ECG", "Blood Glucose", "Urine Dipstick"]},
    {"category": "BASIC LABS", "tests": ["CBC", "CMP", "ESR", "CRP", "TSH", "Lipid Profile", "LFT", "RFT", "ABG"]},
    {"category": "ADVANCED LABS", "tests": ["Troponin", "BNP", "D-dimer", "Coagulation Profile", "Blood Culture", "HbA1c"]},
    {"category": "IMAGING", "tests": ["Chest X-Ray", "CT Head", "CT Chest", "CT Abdomen", "Abdominal Ultrasound", "Echocardiogram"]}
  ],
  "labResults": {
    "CBC": "Complete blood count results relevant to the case (e.g., 'WBC: 15,000/L (elevated), Hb: 12 g/dL, Platelets: 250,000/L' for infection)",
    "CMP": "Comprehensive metabolic panel results relevant to the case (e.g., 'Na: 138 mEq/L, K: 4.2 mEq/L, Creatinine: 1.2 mg/dL, BUN: 45 mg/dL (elevated)' for renal issues)",
    "Chest X-Ray": "Chest X-ray findings relevant to the case (e.g., 'Consolidation in right lower lobe, consistent with pneumonia' or 'Normal chest X-ray')",
    "ECG": "ECG findings relevant to the case (e.g., 'Normal sinus rhythm' or 'ST elevation in leads II, III, aVF')",
    "CRP": "C-reactive protein result relevant to the case (e.g., '150 mg/L (markedly elevated)' for inflammation)",
    "Urine Dipstick": "Urine dipstick results relevant to the case (e.g., 'Negative for nitrites, leukocyte esterase, protein, blood' or 'Positive for protein and blood')"
  },
  "learningPearls": [
    "Key learning point 1 relevant to this case",
    "Key learning point 2 relevant to this case",
    "Key learning point 3 relevant to this case"
  ],
  "furtherReading": [
    {
      "title": "Relevant Textbook Chapter",
      "reference": "Textbook Name, Edition. Chapter X: Topic"
    },
    {
      "title": "Clinical Guidelines",
      "reference": "Guideline Name and Year"
    }
  ]
}

CRITICAL REQUIREMENTS - YOU MUST FOLLOW THESE:

1. Physical Exam (REQUIRED - MUST BE GENERATED):
   - Vitals: Generate ALL 5 vital signs (BP, HR, RR, Temp, SpO2) with realistic values that match the diagnosis
   - General Exam: Write 2-3 sentences describing patient appearance, consciousness, pallor, icterus, edema, etc. relevant to the condition
   - Systemic Exam: Write detailed findings by system (CNS, CVS, RS, GIT, etc.) - at least 4-5 sentences with specific findings
   - Example for pneumonia: BP 90/60 (hypotension), HR 110 (tachycardia), RR 28 (tachypnea), Temp 102.8F (fever), SpO2 88% (hypoxemia)
   - Example for hypertension: BP 150/95 (elevated), HR 85, RR 16, Temp 98.6F, SpO2 98%

2. Lab Results (REQUIRED - MUST BE GENERATED):
   - Generate results for at least 4-6 common tests (CBC, CMP, Chest X-Ray, ECG, CRP, etc.)
   - Results MUST support the diagnosis and be realistic
   - Include abnormal values with explanations (e.g., "WBC: 15,000/L (elevated)")

3. Learning Pearls (REQUIRED - MUST BE 3-5 ITEMS):
   - Each pearl should be a complete sentence
   - Focus on key teaching points specific to this case
   - Be actionable and educational

4. Further Reading (REQUIRED - MUST BE 2-3 ITEMS):
   - Include specific textbook names, editions, and chapter numbers
   - Include relevant clinical guidelines with years
   - Make them specific to the diagnosis

5. Data Consistency:
   - If patient has fever  Temp must be elevated (e.g., 102F+)
   - If patient has respiratory distress  RR elevated, SpO2 decreased
   - If patient has infection  WBC elevated, CRP elevated
   - All findings must support the primary diagnosis

Return ONLY valid JSON, no markdown formatting, no code blocks. The JSON must be parseable directly.`},v=(k,L)=>{var $,P,I,F,R,H,J,re,q,Z,le,fe;let E=k.match(/```json\s*([\s\S]*?)\s*```/);if(E||(E=k.match(/```\s*([\s\S]*?)\s*```/)),E||(E=k.match(/\{[\s\S]*\}/)),!E)throw new Error("No JSON found in Gemini response. The AI may not have returned valid JSON.");try{const T=E[1]||E[0],B=JSON.parse(T);return B.id=crypto.randomUUID(),B.subject=L.subject,B.durationMinutes=L.duration,B.difficulty=L.difficulty,B.patientProfile||(B.patientProfile={name:"Patient",age:35,gender:"male",prakriti:L.prakriti||"Sama",occupation:"Not specified"}),B.mcqs||(B.mcqs=[]),B.rubrics||(B.rubrics=[]),B.potentialDiagnoses||(B.potentialDiagnoses=[]),B.sloMappings||(B.sloMappings=[]),(!B.physicalExam||!B.physicalExam.vitals)&&(B.physicalExam={vitals:{bp:((P=($=B.physicalExam)==null?void 0:$.vitals)==null?void 0:P.bp)||"120/80 mmHg",hr:((F=(I=B.physicalExam)==null?void 0:I.vitals)==null?void 0:F.hr)||"72 bpm",rr:((H=(R=B.physicalExam)==null?void 0:R.vitals)==null?void 0:H.rr)||"16 breaths/min",temp:((re=(J=B.physicalExam)==null?void 0:J.vitals)==null?void 0:re.temp)||"98.6F (oral)",spo2:((Z=(q=B.physicalExam)==null?void 0:q.vitals)==null?void 0:Z.spo2)||"98% on room air"},generalExam:((le=B.physicalExam)==null?void 0:le.generalExam)||"Patient appears well, alert and oriented. No pallor, icterus, or peripheral edema.",systemicExam:((fe=B.physicalExam)==null?void 0:fe.systemicExam)||"CNS: Alert, oriented. No focal neurological deficits. CVS: Regular rhythm, no murmurs. RS: Clear breath sounds bilaterally. GIT: Soft, non-tender abdomen."}),B.physicalExam.vitals.bp||(B.physicalExam.vitals.bp="120/80 mmHg"),B.physicalExam.vitals.hr||(B.physicalExam.vitals.hr="72 bpm"),B.physicalExam.vitals.rr||(B.physicalExam.vitals.rr="16 breaths/min"),B.physicalExam.vitals.temp||(B.physicalExam.vitals.temp="98.6F (oral)"),B.physicalExam.vitals.spo2||(B.physicalExam.vitals.spo2="98% on room air"),B.physicalExam.generalExam||(B.physicalExam.generalExam="Patient appears well, alert and oriented. No pallor, icterus, or peripheral edema."),B.physicalExam.systemicExam||(B.physicalExam.systemicExam="CNS: Alert, oriented. No focal neurological deficits. CVS: Regular rhythm, no murmurs. RS: Clear breath sounds bilaterally. GIT: Soft, non-tender abdomen."),(!B.availableLabTests||B.availableLabTests.length===0)&&(B.availableLabTests=[{category:"BEDSIDE TESTS",tests:["ECG","Blood Glucose","Urine Dipstick"]},{category:"BASIC LABS",tests:["CBC","CMP","ESR","CRP","TSH","Lipid Profile","LFT","RFT","ABG"]},{category:"ADVANCED LABS",tests:["Troponin","BNP","D-dimer","Coagulation Profile","Blood Culture","HbA1c"]},{category:"IMAGING",tests:["Chest X-Ray","CT Head","CT Chest","CT Abdomen","Abdominal Ultrasound","Echocardiogram"]}]),(!B.labResults||Object.keys(B.labResults).length===0)&&(B.labResults={CBC:"WBC: 8,000/L, Hb: 14 g/dL, Platelets: 250,000/L",CMP:"Na: 140 mEq/L, K: 4.0 mEq/L, Creatinine: 0.9 mg/dL, BUN: 15 mg/dL","Chest X-Ray":"Normal chest X-ray",ECG:"Normal sinus rhythm"}),(!B.learningPearls||B.learningPearls.length===0)&&(B.learningPearls=["Key learning point relevant to this case","Important clinical consideration for this diagnosis","Management principle for this condition"]),(!B.furtherReading||B.furtherReading.length===0)&&(B.furtherReading=[{title:"Relevant Textbook Chapter",reference:"Textbook Name, Edition. Chapter X: Topic"},{title:"Clinical Guidelines",reference:"Guideline Name and Year"}]),B}catch(T){throw new Error(`Failed to parse JSON from Gemini response: ${T.message}`)}},x=async()=>{var k,L,E,$;a(!0);try{if(!u.subject)throw new Error("Please select a subject");if(!u.competencyId)throw new Error("Please select a CBDC competency");const P=g(u),I=await fetch(jU,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":kN},body:JSON.stringify({contents:[{parts:[{text:P}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:8192}})});if(!I.ok){const q=await I.text();let Z=`Gemini API error (${I.status})`;try{const le=JSON.parse(q);(k=le.error)!=null&&k.message?Z+=": "+le.error.message:Z+=": "+q}catch{Z+=": "+q}throw new Error(Z)}const F=await I.json();if(!F.candidates||F.candidates.length===0)throw new Error("No response from Gemini API. Please check your API key and try again.");const R=(($=(E=(L=F.candidates[0])==null?void 0:L.content)==null?void 0:E.parts[0])==null?void 0:$.text)||"";if(!R)throw new Error("Empty response from Gemini API");const H=v(R,u);!H.physicalExam||!H.physicalExam.vitals?console.warn("Physical exam data missing, using defaults"):console.log("Physical exam data generated:",{vitals:H.physicalExam.vitals,hasGeneral:!!H.physicalExam.generalExam,hasSystemic:!!H.physicalExam.systemicExam}),(!H.labResults||Object.keys(H.labResults).length===0)&&console.warn("Lab results missing, using defaults"),(!H.learningPearls||H.learningPearls.length===0)&&console.warn("Learning pearls missing, using defaults");const{data:J,error:re}=await Te.from("stations").insert({title:H.title||"New Station",blueprint:{...u,generatedCase:H},created_by:t.id}).select().single();if(re)throw re;e(`/review/${J.id}`)}catch(P){alert("Error generating case: "+P.message)}finally{a(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(qi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(up,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Create New Station"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[r>=1&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 1: Subject & Competency"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),d.jsxs("select",{value:u.subject,onChange:k=>f({...u,subject:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Select Subject"}),s.map(k=>d.jsx("option",{value:k.name,children:k.name},k.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CBDC Competency"}),d.jsxs("select",{value:u.competencyId||"",onChange:k=>f({...u,competencyId:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Select Competency"}),l.map(k=>d.jsxs("option",{value:k.id,children:[k.id,": ",k.description]},k.id))]})]})]}),r>=2&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 2: Learning Outcomes"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SLO (Specific Learning Outcome)"}),d.jsx("textarea",{value:u.slo||"",onChange:k=>f({...u,slo:k.target.value}),placeholder:"e.g., Demonstrate interpretation of Nadi in Pitta Jwara",className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Miller's Level"}),d.jsxs("select",{value:u.millerLevel,onChange:k=>f({...u,millerLevel:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Knows",children:"Knows"}),d.jsx("option",{value:"KnowsHow",children:"Knows How"}),d.jsx("option",{value:"ShowsHow",children:"Shows How"}),d.jsx("option",{value:"Does",children:"Does"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bloom's Domain"}),d.jsxs("select",{value:u.bloomDomain,onChange:k=>f({...u,bloomDomain:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Cognitive",children:"Cognitive"}),d.jsx("option",{value:"Psychomotor",children:"Psychomotor"}),d.jsx("option",{value:"Affective",children:"Affective"})]})]})]})]}),r>=3&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 3: Case Parameters"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),d.jsx("input",{type:"number",min:"5",max:"60",value:u.duration,onChange:k=>f({...u,duration:parseInt(k.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),d.jsxs("select",{value:u.difficulty,onChange:k=>f({...u,difficulty:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Beginner",children:"Beginner"}),d.jsx("option",{value:"Intermediate",children:"Intermediate"}),d.jsx("option",{value:"Advanced",children:"Advanced"})]})]})]})]}),r>=4&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 4: Ayurvedic Parameters"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prakriti"}),d.jsxs("select",{value:u.prakriti,onChange:k=>f({...u,prakriti:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Vata",children:"Vata"}),d.jsx("option",{value:"Pitta",children:"Pitta"}),d.jsx("option",{value:"Kapha",children:"Kapha"}),d.jsx("option",{value:"Sama",children:"Sama"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dosha Distribution (must sum to 100)"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Vata: ",(y=u.doshaSliders)==null?void 0:y.vata,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((w=u.doshaSliders)==null?void 0:w.vata)||0,onChange:k=>{var I;const L=parseInt(k.target.value),E=100-L,$=Math.min(E,((I=u.doshaSliders)==null?void 0:I.pitta)||0),P=100-L-$;f({...u,doshaSliders:{vata:L,pitta:$,kapha:P}})},className:"w-full"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Pitta: ",(_=u.doshaSliders)==null?void 0:_.pitta,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((j=u.doshaSliders)==null?void 0:j.pitta)||0,onChange:k=>{var I;const L=parseInt(k.target.value),E=100-L,$=Math.min(E,((I=u.doshaSliders)==null?void 0:I.vata)||0),P=100-$-L;f({...u,doshaSliders:{vata:$,pitta:L,kapha:P}})},className:"w-full"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Kapha: ",(S=u.doshaSliders)==null?void 0:S.kapha,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((O=u.doshaSliders)==null?void 0:O.kapha)||0,onChange:k=>{var I;const L=parseInt(k.target.value),E=100-L,$=Math.min(E,((I=u.doshaSliders)==null?void 0:I.vata)||0),P=100-$-L;f({...u,doshaSliders:{vata:$,pitta:P,kapha:L}})},className:"w-full"})]})]})]}),d.jsx("div",{children:d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:u.includeAshtasthana||!1,onChange:k=>f({...u,includeAshtasthana:k.target.checked})}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Include Ashtasthana Pariksha"})]})})]}),d.jsxs("div",{className:"flex justify-between pt-6 border-t",children:[d.jsx("button",{onClick:()=>n(Math.max(1,r-1)),disabled:r===1,className:"px-4 py-2 border border-gray-300 rounded-md disabled:opacity-50",children:"Previous"}),r<4?d.jsx("button",{onClick:()=>n(r+1),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Next"}):d.jsxs("button",{onClick:x,disabled:i||!u.subject,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 flex items-center gap-2",children:[i&&d.jsx(fp,{className:"w-4 h-4 animate-spin"}),"Generate Case"]})]})]})]})}),d.jsx(Jn,{role:"faculty"})]})}var qt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(qt||(qt={}));var PN;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(PN||(PN={}));const Ke=qt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wo=t=>{switch(typeof t){case"undefined":return Ke.undefined;case"string":return Ke.string;case"number":return Number.isNaN(t)?Ke.nan:Ke.number;case"boolean":return Ke.boolean;case"function":return Ke.function;case"bigint":return Ke.bigint;case"symbol":return Ke.symbol;case"object":return Array.isArray(t)?Ke.array:t===null?Ke.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ke.promise:typeof Map<"u"&&t instanceof Map?Ke.map:typeof Set<"u"&&t instanceof Set?Ke.set:typeof Date<"u"&&t instanceof Date?Ke.date:Ke.object;default:return Ke.unknown}},Ie=qt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class co extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(s))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),n}static assert(e){if(!(e instanceof co))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,qt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}co.create=t=>new co(t);const U2=(t,e)=>{let r;switch(t.code){case Ie.invalid_type:t.received===Ke.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Ie.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,qt.jsonStringifyReplacer)}`;break;case Ie.unrecognized_keys:r=`Unrecognized key(s) in object: ${qt.joinValues(t.keys,", ")}`;break;case Ie.invalid_union:r="Invalid input";break;case Ie.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${qt.joinValues(t.options)}`;break;case Ie.invalid_enum_value:r=`Invalid enum value. Expected ${qt.joinValues(t.options)}, received '${t.received}'`;break;case Ie.invalid_arguments:r="Invalid function arguments";break;case Ie.invalid_return_type:r="Invalid function return type";break;case Ie.invalid_date:r="Invalid date";break;case Ie.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:qt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Ie.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Ie.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Ie.custom:r="Invalid input";break;case Ie.invalid_intersection_types:r="Intersection results could not be merged";break;case Ie.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Ie.not_finite:r="Number must be finite";break;default:r=e.defaultError,qt.assertNever(t)}return{message:r}};let OU=U2;function kU(){return OU}const PU=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)o=c(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}};function ze(t,e){const r=kU(),n=PU({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===U2?void 0:U2].filter(i=>!!i)});t.common.issues.push(n)}class li{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return xt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return li.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return xt;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}}const xt=Object.freeze({status:"aborted"}),bh=t=>({status:"dirty",value:t}),ba=t=>({status:"valid",value:t}),EN=t=>t.status==="aborted",CN=t=>t.status==="dirty",wf=t=>t.status==="valid",W0=t=>typeof Promise<"u"&&t instanceof Promise;var Ze;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ze||(Ze={}));class ys{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const TN=(t,e)=>{if(wf(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new co(t.common.issues);return this._error=r,this._error}}};function Tt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{const{message:l}=t;return s.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:i}}class Dt{get description(){return this._def.description}_getType(e){return Wo(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Wo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new li,ctx:{common:e.parent.common,data:e.data,parsedType:Wo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(W0(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wo(e)},i=this._parseSync({data:e,path:n.path,parent:n});return TN(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wo(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return wf(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>wf(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wo(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(W0(i)?i:Promise.resolve(i));return TN(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:Ie.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Af({schema:this,typeName:vt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return dl.create(this,this._def)}nullable(){return jf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ms.create(this)}promise(){return Y0.create(this,this._def)}or(e){return V0.create([this,e],this._def)}and(e){return G0.create(this,e,this._def)}transform(e){return new Af({...Tt(this._def),schema:this,typeName:vt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new q2({...Tt(this._def),innerType:this,defaultValue:r,typeName:vt.ZodDefault})}brand(){return new ZU({typeName:vt.ZodBranded,type:this,...Tt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new W2({...Tt(this._def),innerType:this,catchValue:r,typeName:vt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return U_.create(this,e)}readonly(){return H2.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const EU=/^c[^\s-]{8,}$/i,CU=/^[0-9a-z]+$/,TU=/^[0-9A-HJKMNP-TV-Z]{26}$/i,LU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,IU=/^[a-z0-9_-]{21}$/i,$U=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,RU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,MU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,DU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Lb;const BU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,FU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,UU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,zU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,qU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,WU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,WT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",HU=new RegExp(`^${WT}$`);function HT(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function VU(t){return new RegExp(`^${HT(t)}$`)}function GU(t){let e=`${WT}T${HT(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function KU(t,e){return!!((e==="v4"||!e)&&BU.test(t)||(e==="v6"||!e)&&UU.test(t))}function YU(t,e){if(!$U.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function XU(t,e){return!!((e==="v4"||!e)&&FU.test(t)||(e==="v6"||!e)&&zU.test(t))}class Ys extends Dt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ke.string){const a=this._getOrReturnCtx(e);return ze(a,{code:Ie.invalid_type,expected:Ke.string,received:a.parsedType}),xt}const n=new li;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),ze(i,{code:Ie.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),ze(i,{code:Ie.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?ze(i,{code:Ie.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&ze(i,{code:Ie.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")MU.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"email",code:Ie.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Lb||(Lb=new RegExp(DU,"u")),Lb.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"emoji",code:Ie.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")LU.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"uuid",code:Ie.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")IU.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"nanoid",code:Ie.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")EU.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"cuid",code:Ie.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")CU.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"cuid2",code:Ie.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")TU.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"ulid",code:Ie.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ze(i,{validation:"url",code:Ie.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"regex",code:Ie.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),ze(i,{code:Ie.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),ze(i,{code:Ie.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),ze(i,{code:Ie.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?GU(a).test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{code:Ie.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?HU.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{code:Ie.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?VU(a).test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{code:Ie.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?RU.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"duration",code:Ie.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?KU(e.data,a.version)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"ip",code:Ie.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?YU(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"jwt",code:Ie.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?XU(e.data,a.version)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"cidr",code:Ie.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?qU.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"base64",code:Ie.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?WU.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"base64url",code:Ie.invalid_string,message:a.message}),n.dirty()):qt.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Ie.invalid_string,...Ze.errToObj(n)})}_addCheck(e){return new Ys({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ze.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ze.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ze.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ze.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ze.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ze.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ze.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ze.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ze.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ze.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ze.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ze.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ze.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ze.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ze.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ze.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Ze.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Ze.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Ze.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Ze.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Ze.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Ze.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Ze.errToObj(r)})}nonempty(e){return this.min(1,Ze.errToObj(e))}trim(){return new Ys({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ys({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ys({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ys.create=t=>new Ys({checks:[],typeName:vt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Tt(t)});function JU(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return a%s/10**i}class _f extends Dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ke.number){const a=this._getOrReturnCtx(e);return ze(a,{code:Ie.invalid_type,expected:Ke.number,received:a.parsedType}),xt}let n;const i=new li;for(const a of this._def.checks)a.kind==="int"?qt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ze(n,{code:Ie.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),ze(n,{code:Ie.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),ze(n,{code:Ie.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?JU(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),ze(n,{code:Ie.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ze(n,{code:Ie.not_finite,message:a.message}),i.dirty()):qt.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ze.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ze.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ze.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ze.toString(r))}setLimit(e,r,n,i){return new _f({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ze.toString(i)}]})}_addCheck(e){return new _f({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ze.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ze.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ze.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ze.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ze.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ze.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Ze.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ze.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ze.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&qt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}_f.create=t=>new _f({checks:[],typeName:vt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Tt(t)});class dp extends Dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ke.bigint)return this._getInvalidInput(e);let n;const i=new li;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),ze(n,{code:Ie.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),ze(n,{code:Ie.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ze(n,{code:Ie.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):qt.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return ze(r,{code:Ie.invalid_type,expected:Ke.bigint,received:r.parsedType}),xt}gte(e,r){return this.setLimit("min",e,!0,Ze.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ze.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ze.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ze.toString(r))}setLimit(e,r,n,i){return new dp({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ze.toString(i)}]})}_addCheck(e){return new dp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ze.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ze.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ze.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ze.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ze.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}dp.create=t=>new dp({checks:[],typeName:vt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Tt(t)});class LN extends Dt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ke.boolean){const n=this._getOrReturnCtx(e);return ze(n,{code:Ie.invalid_type,expected:Ke.boolean,received:n.parsedType}),xt}return ba(e.data)}}LN.create=t=>new LN({typeName:vt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Tt(t)});class H0 extends Dt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ke.date){const a=this._getOrReturnCtx(e);return ze(a,{code:Ie.invalid_type,expected:Ke.date,received:a.parsedType}),xt}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return ze(a,{code:Ie.invalid_date}),xt}const n=new li;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),ze(i,{code:Ie.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),ze(i,{code:Ie.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):qt.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new H0({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Ze.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Ze.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}H0.create=t=>new H0({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:vt.ZodDate,...Tt(t)});class IN extends Dt{_parse(e){if(this._getType(e)!==Ke.symbol){const n=this._getOrReturnCtx(e);return ze(n,{code:Ie.invalid_type,expected:Ke.symbol,received:n.parsedType}),xt}return ba(e.data)}}IN.create=t=>new IN({typeName:vt.ZodSymbol,...Tt(t)});class $N extends Dt{_parse(e){if(this._getType(e)!==Ke.undefined){const n=this._getOrReturnCtx(e);return ze(n,{code:Ie.invalid_type,expected:Ke.undefined,received:n.parsedType}),xt}return ba(e.data)}}$N.create=t=>new $N({typeName:vt.ZodUndefined,...Tt(t)});class RN extends Dt{_parse(e){if(this._getType(e)!==Ke.null){const n=this._getOrReturnCtx(e);return ze(n,{code:Ie.invalid_type,expected:Ke.null,received:n.parsedType}),xt}return ba(e.data)}}RN.create=t=>new RN({typeName:vt.ZodNull,...Tt(t)});class MN extends Dt{constructor(){super(...arguments),this._any=!0}_parse(e){return ba(e.data)}}MN.create=t=>new MN({typeName:vt.ZodAny,...Tt(t)});class DN extends Dt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ba(e.data)}}DN.create=t=>new DN({typeName:vt.ZodUnknown,...Tt(t)});class gl extends Dt{_parse(e){const r=this._getOrReturnCtx(e);return ze(r,{code:Ie.invalid_type,expected:Ke.never,received:r.parsedType}),xt}}gl.create=t=>new gl({typeName:vt.ZodNever,...Tt(t)});class BN extends Dt{_parse(e){if(this._getType(e)!==Ke.undefined){const n=this._getOrReturnCtx(e);return ze(n,{code:Ie.invalid_type,expected:Ke.void,received:n.parsedType}),xt}return ba(e.data)}}BN.create=t=>new BN({typeName:vt.ZodVoid,...Tt(t)});class ms extends Dt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Ke.array)return ze(r,{code:Ie.invalid_type,expected:Ke.array,received:r.parsedType}),xt;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(ze(r,{code:s?Ie.too_big:Ie.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(ze(r,{code:Ie.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(ze(r,{code:Ie.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new ys(r,s,r.path,o)))).then(s=>li.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new ys(r,s,r.path,o)));return li.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new ms({...this._def,minLength:{value:e,message:Ze.toString(r)}})}max(e,r){return new ms({...this._def,maxLength:{value:e,message:Ze.toString(r)}})}length(e,r){return new ms({...this._def,exactLength:{value:e,message:Ze.toString(r)}})}nonempty(e){return this.min(1,e)}}ms.create=(t,e)=>new ms({type:t,minLength:null,maxLength:null,exactLength:null,typeName:vt.ZodArray,...Tt(e)});function Eu(t){if(t instanceof nn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=dl.create(Eu(n))}return new nn({...t._def,shape:()=>e})}else return t instanceof ms?new ms({...t._def,type:Eu(t.element)}):t instanceof dl?dl.create(Eu(t.unwrap())):t instanceof jf?jf.create(Eu(t.unwrap())):t instanceof Lc?Lc.create(t.items.map(e=>Eu(e))):t}class nn extends Dt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=qt.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Ke.object){const c=this._getOrReturnCtx(e);return ze(c,{code:Ie.invalid_type,expected:Ke.object,received:c.parsedType}),xt}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof gl&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const l=[];for(const c of s){const u=a[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ys(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof gl){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(ze(i,{code:Ie.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ys(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key,p=await u.value;c.push({key:f,value:p,alwaysSet:u.alwaysSet})}return c}).then(c=>li.mergeObjectSync(n,c)):li.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return Ze.errToObj,new nn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ze.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new nn({...this._def,unknownKeys:"strip"})}passthrough(){return new nn({...this._def,unknownKeys:"passthrough"})}extend(e){return new nn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new nn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:vt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new nn({...this._def,catchall:e})}pick(e){const r={};for(const n of qt.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new nn({...this._def,shape:()=>r})}omit(e){const r={};for(const n of qt.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new nn({...this._def,shape:()=>r})}deepPartial(){return Eu(this)}partial(e){const r={};for(const n of qt.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new nn({...this._def,shape:()=>r})}required(e){const r={};for(const n of qt.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof dl;)a=a._def.innerType;r[n]=a}return new nn({...this._def,shape:()=>r})}keyof(){return VT(qt.objectKeys(this.shape))}}nn.create=(t,e)=>new nn({shape:()=>t,unknownKeys:"strip",catchall:gl.create(),typeName:vt.ZodObject,...Tt(e)});nn.strictCreate=(t,e)=>new nn({shape:()=>t,unknownKeys:"strict",catchall:gl.create(),typeName:vt.ZodObject,...Tt(e)});nn.lazycreate=(t,e)=>new nn({shape:t,unknownKeys:"strip",catchall:gl.create(),typeName:vt.ZodObject,...Tt(e)});class V0 extends Dt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new co(o.ctx.common.issues));return ze(r,{code:Ie.invalid_union,unionErrors:s}),xt}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new co(l));return ze(r,{code:Ie.invalid_union,unionErrors:o}),xt}}get options(){return this._def.options}}V0.create=(t,e)=>new V0({options:t,typeName:vt.ZodUnion,...Tt(e)});function z2(t,e){const r=Wo(t),n=Wo(e);if(t===e)return{valid:!0,data:t};if(r===Ke.object&&n===Ke.object){const i=qt.objectKeys(e),a=qt.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const l=z2(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(r===Ke.array&&n===Ke.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],l=z2(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===Ke.date&&n===Ke.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class G0 extends Dt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,s)=>{if(EN(a)||EN(s))return xt;const o=z2(a.value,s.value);return o.valid?((CN(a)||CN(s))&&r.dirty(),{status:r.value,value:o.data}):(ze(n,{code:Ie.invalid_intersection_types}),xt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}G0.create=(t,e,r)=>new G0({left:t,right:e,typeName:vt.ZodIntersection,...Tt(r)});class Lc extends Dt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ke.array)return ze(n,{code:Ie.invalid_type,expected:Ke.array,received:n.parsedType}),xt;if(n.data.length<this._def.items.length)return ze(n,{code:Ie.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),xt;!this._def.rest&&n.data.length>this._def.items.length&&(ze(n,{code:Ie.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new ys(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>li.mergeArray(r,s)):li.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Lc({...this._def,rest:e})}}Lc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Lc({items:t,typeName:vt.ZodTuple,rest:null,...Tt(e)})};class K0 extends Dt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ke.object)return ze(n,{code:Ie.invalid_type,expected:Ke.object,received:n.parsedType}),xt;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in n.data)i.push({key:a._parse(new ys(n,o,n.path,o)),value:s._parse(new ys(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?li.mergeObjectAsync(r,i):li.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Dt?new K0({keyType:e,valueType:r,typeName:vt.ZodRecord,...Tt(n)}):new K0({keyType:Ys.create(),valueType:e,typeName:vt.ZodRecord,...Tt(r)})}}class FN extends Dt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ke.map)return ze(n,{code:Ie.invalid_type,expected:Ke.map,received:n.parsedType}),xt;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,l],c)=>({key:i._parse(new ys(n,o,n.path,[c,"key"])),value:a._parse(new ys(n,l,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return xt;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return xt;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}}FN.create=(t,e,r)=>new FN({valueType:e,keyType:t,typeName:vt.ZodMap,...Tt(r)});class hp extends Dt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ke.set)return ze(n,{code:Ie.invalid_type,expected:Ke.set,received:n.parsedType}),xt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(ze(n,{code:Ie.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(ze(n,{code:Ie.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return xt;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((l,c)=>a._parse(new ys(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,r){return new hp({...this._def,minSize:{value:e,message:Ze.toString(r)}})}max(e,r){return new hp({...this._def,maxSize:{value:e,message:Ze.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}hp.create=(t,e)=>new hp({valueType:t,minSize:null,maxSize:null,typeName:vt.ZodSet,...Tt(e)});class UN extends Dt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}UN.create=(t,e)=>new UN({getter:t,typeName:vt.ZodLazy,...Tt(e)});class zN extends Dt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return ze(r,{received:r.data,code:Ie.invalid_literal,expected:this._def.value}),xt}return{status:"valid",value:e.data}}get value(){return this._def.value}}zN.create=(t,e)=>new zN({value:t,typeName:vt.ZodLiteral,...Tt(e)});function VT(t,e){return new Sf({values:t,typeName:vt.ZodEnum,...Tt(e)})}class Sf extends Dt{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return ze(r,{expected:qt.joinValues(n),received:r.parsedType,code:Ie.invalid_type}),xt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return ze(r,{received:r.data,code:Ie.invalid_enum_value,options:n}),xt}return ba(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Sf.create(e,{...this._def,...r})}exclude(e,r=this._def){return Sf.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Sf.create=VT;class qN extends Dt{_parse(e){const r=qt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ke.string&&n.parsedType!==Ke.number){const i=qt.objectValues(r);return ze(n,{expected:qt.joinValues(i),received:n.parsedType,code:Ie.invalid_type}),xt}if(this._cache||(this._cache=new Set(qt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=qt.objectValues(r);return ze(n,{received:n.data,code:Ie.invalid_enum_value,options:i}),xt}return ba(e.data)}get enum(){return this._def.values}}qN.create=(t,e)=>new qN({values:t,typeName:vt.ZodNativeEnum,...Tt(e)});class Y0 extends Dt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ke.promise&&r.common.async===!1)return ze(r,{code:Ie.invalid_type,expected:Ke.promise,received:r.parsedType}),xt;const n=r.parsedType===Ke.promise?r.data:Promise.resolve(r.data);return ba(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Y0.create=(t,e)=>new Y0({type:t,typeName:vt.ZodPromise,...Tt(e)});class Af extends Dt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===vt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{ze(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return xt;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?xt:l.status==="dirty"||r.value==="dirty"?bh(l.value):l});{if(r.value==="aborted")return xt;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?xt:o.status==="dirty"||r.value==="dirty"?bh(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?xt:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?xt:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!wf(s))return xt;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>wf(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):xt);qt.assertNever(i)}}Af.create=(t,e,r)=>new Af({schema:t,typeName:vt.ZodEffects,effect:e,...Tt(r)});Af.createWithPreprocess=(t,e,r)=>new Af({schema:e,effect:{type:"preprocess",transform:t},typeName:vt.ZodEffects,...Tt(r)});class dl extends Dt{_parse(e){return this._getType(e)===Ke.undefined?ba(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}dl.create=(t,e)=>new dl({innerType:t,typeName:vt.ZodOptional,...Tt(e)});class jf extends Dt{_parse(e){return this._getType(e)===Ke.null?ba(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}jf.create=(t,e)=>new jf({innerType:t,typeName:vt.ZodNullable,...Tt(e)});class q2 extends Dt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Ke.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}q2.create=(t,e)=>new q2({innerType:t,typeName:vt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Tt(e)});class W2 extends Dt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return W0(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new co(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new co(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}W2.create=(t,e)=>new W2({innerType:t,typeName:vt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Tt(e)});class WN extends Dt{_parse(e){if(this._getType(e)!==Ke.nan){const n=this._getOrReturnCtx(e);return ze(n,{code:Ie.invalid_type,expected:Ke.nan,received:n.parsedType}),xt}return{status:"valid",value:e.data}}}WN.create=t=>new WN({typeName:vt.ZodNaN,...Tt(t)});class ZU extends Dt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class U_ extends Dt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?xt:a.status==="dirty"?(r.dirty(),bh(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?xt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new U_({in:e,out:r,typeName:vt.ZodPipeline})}}class H2 extends Dt{_parse(e){const r=this._def.innerType._parse(e),n=i=>(wf(i)&&(i.value=Object.freeze(i.value)),i);return W0(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}H2.create=(t,e)=>new H2({innerType:t,typeName:vt.ZodReadonly,...Tt(e)});var vt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(vt||(vt={}));const Ut=Ys.create,Bo=_f.create;gl.create;const Ds=ms.create,is=nn.create;V0.create;G0.create;Lc.create;const HN=K0.create,Ib=Sf.create;Y0.create;dl.create;jf.create;const QU=is({id:Ut().uuid(),title:Ut(),subject:Ut(),durationMinutes:Bo().min(5).max(60),difficulty:Ib(["Beginner","Intermediate","Advanced"]),patientProfile:is({name:Ut(),age:Bo(),gender:Ib(["male","female","other"]),prakriti:Ib(["Vata","Pitta","Kapha","Sama"]),vikriti:Ut().optional(),occupation:Ut().optional()}),chiefComplaint:Ut().optional(),historyOfPresentIllness:Ut(),ashtasthanaPariksha:HN(Ut()).optional(),doshaAnalysis:is({vata:Bo().min(0).max(100),pitta:Bo().min(0).max(100),kapha:Bo().min(0).max(100)}),potentialDiagnoses:Ds(is({dx:Ut(),confidence:Bo().min(0).max(1)})),suggestedChikitsa:Ut(),mcqs:Ds(is({id:Ut(),question:Ut(),options:Ds(Ut()),answerIndex:Bo(),sloId:Ut()})),rubrics:Ds(is({id:Ut(),description:Ut(),maxPoints:Bo(),sloId:Ut()})),finalExplanation:Ut(),sloMappings:Ds(Ut()),physicalExam:is({vitals:is({bp:Ut().optional(),hr:Ut().optional(),rr:Ut().optional(),temp:Ut().optional(),spo2:Ut().optional()}).optional(),generalExam:Ut().optional(),systemicExam:Ut().optional()}).optional(),availableLabTests:Ds(is({category:Ut(),tests:Ds(Ut())})).optional(),labResults:HN(Ut()).optional(),learningPearls:Ds(Ut()).optional(),furtherReading:Ds(is({title:Ut(),reference:Ut()})).optional()});function ez({user:t}){const{stationId:e}=yy(),r=ya(),[n,i]=Y.useState(null),[a,s]=Y.useState(null),[o,l]=Y.useState(!0),[c,u]=Y.useState(!1);Y.useEffect(()=>{e&&f()},[e]);const f=async()=>{var h;try{const{data:g,error:v}=await Te.from("stations").select("*").eq("id",e).single();if(v)throw v;i(g),(h=g.blueprint)!=null&&h.generatedCase&&s(g.blueprint.generatedCase)}catch(g){console.error("Error loading station:",g)}finally{l(!1)}},p=async()=>{var h,g,v,x,y,w,_,j,S,O,k,L;if(!(!n||!a)){u(!0);try{(!a.physicalExam||!a.physicalExam.vitals)&&(a.physicalExam={vitals:{bp:((g=(h=a.physicalExam)==null?void 0:h.vitals)==null?void 0:g.bp)||"120/80 mmHg",hr:((x=(v=a.physicalExam)==null?void 0:v.vitals)==null?void 0:x.hr)||"72 bpm",rr:((w=(y=a.physicalExam)==null?void 0:y.vitals)==null?void 0:w.rr)||"16 breaths/min",temp:((j=(_=a.physicalExam)==null?void 0:_.vitals)==null?void 0:j.temp)||"98.6F (oral)",spo2:((O=(S=a.physicalExam)==null?void 0:S.vitals)==null?void 0:O.spo2)||"98% on room air"},generalExam:((k=a.physicalExam)==null?void 0:k.generalExam)||"Patient appears well, alert and oriented. No pallor, icterus, or peripheral edema.",systemicExam:((L=a.physicalExam)==null?void 0:L.systemicExam)||"CNS: Alert, oriented. No focal neurological deficits. CVS: Regular rhythm, no murmurs. RS: Clear breath sounds bilaterally. GIT: Soft, non-tender abdomen."}),(!a.availableLabTests||a.availableLabTests.length===0)&&(a.availableLabTests=[{category:"BEDSIDE TESTS",tests:["ECG","Blood Glucose","Urine Dipstick"]},{category:"BASIC LABS",tests:["CBC","CMP","ESR","CRP","TSH","Lipid Profile","LFT","RFT","ABG"]},{category:"ADVANCED LABS",tests:["Troponin","BNP","D-dimer","Coagulation Profile","Blood Culture","HbA1c"]},{category:"IMAGING",tests:["Chest X-Ray","CT Head","CT Chest","CT Abdomen","Abdominal Ultrasound","Echocardiogram"]}]),(!a.labResults||Object.keys(a.labResults).length===0)&&(a.labResults={CBC:"WBC: 8,000/L, Hb: 14 g/dL, Platelets: 250,000/L",CMP:"Na: 140 mEq/L, K: 4.0 mEq/L, Creatinine: 0.9 mg/dL, BUN: 15 mg/dL","Chest X-Ray":"Normal chest X-ray",ECG:"Normal sinus rhythm"}),(!a.learningPearls||a.learningPearls.length===0)&&(a.learningPearls=["Key learning point relevant to this case","Important clinical consideration for this diagnosis","Management principle for this condition"]),(!a.furtherReading||a.furtherReading.length===0)&&(a.furtherReading=[{title:"Relevant Textbook Chapter",reference:"Textbook Name, Edition. Chapter X: Topic"},{title:"Clinical Guidelines",reference:"Guideline Name and Year"}]);const E=QU.parse(a),{data:$,error:P}=await Te.from("case_snapshots").insert({station_id:n.id,clinical_case:E,approved_by:t.id}).select().single();if(P)throw P;r(`/assign/${$.id}`)}catch(E){alert("Error approving case: "+E.message)}finally{u(!1)}}};return o?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(qi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 flex items-center justify-center pb-20 md:pb-0",children:d.jsx(fp,{className:"w-8 h-8 animate-spin text-primary-600"})}),d.jsx(Jn,{role:"faculty"})]}):!n||!a?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(qi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 p-6 pb-20 md:pb-6",children:d.jsx("p",{children:"Station not found or case not generated yet."})}),d.jsx(Jn,{role:"faculty"})]}):d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(qi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(up,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Review Generated Case"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Overview"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),d.jsx("p",{className:"text-lg",children:a.title})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"History of Present Illness"}),d.jsx("p",{className:"text-gray-900",children:a.historyOfPresentIllness})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Patient Profile"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Name:"})," ",a.patientProfile.name]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Age:"})," ",a.patientProfile.age]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Gender:"})," ",a.patientProfile.gender]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Prakriti:"})," ",a.patientProfile.prakriti]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Suggested Chikitsa"}),d.jsx("p",{className:"text-gray-900",children:a.suggestedChikitsa})]})]})]}),a.physicalExam&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Physical Examination"}),d.jsxs("div",{className:"space-y-4",children:[a.physicalExam.vitals&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vitals"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"BP:"})," ",a.physicalExam.vitals.bp||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"HR:"})," ",a.physicalExam.vitals.hr||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"RR:"})," ",a.physicalExam.vitals.rr||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Temp:"})," ",a.physicalExam.vitals.temp||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"SpO2:"})," ",a.physicalExam.vitals.spo2||"Not recorded"]})]})]}),a.physicalExam.generalExam&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"General Examination"}),d.jsx("p",{className:"text-gray-900 mt-2",children:a.physicalExam.generalExam})]}),a.physicalExam.systemicExam&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Systemic Examination"}),d.jsx("p",{className:"text-gray-900 mt-2 whitespace-pre-wrap",children:a.physicalExam.systemicExam})]})]})]}),a.labResults&&Object.keys(a.labResults).length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Lab Results (Available)"}),d.jsxs("div",{className:"space-y-2",children:[Object.entries(a.labResults).slice(0,5).map(([h,g])=>d.jsxs("div",{className:"border rounded p-3",children:[d.jsxs("strong",{children:[h,":"]})," ",g]},h)),Object.keys(a.labResults).length>5&&d.jsxs("p",{className:"text-sm text-gray-500",children:["... and ",Object.keys(a.labResults).length-5," more tests"]})]})]}),a.learningPearls&&a.learningPearls.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Learning Pearls"}),d.jsx("ul",{className:"list-disc list-inside space-y-2",children:a.learningPearls.map((h,g)=>d.jsx("li",{className:"text-gray-900",children:h},g))})]}),a.furtherReading&&a.furtherReading.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Further Reading"}),d.jsx("div",{className:"space-y-2",children:a.furtherReading.map((h,g)=>d.jsxs("div",{className:"border rounded p-3",children:[d.jsxs("strong",{children:[h.title,":"]})," ",h.reference]},g))})]}),a.mcqs&&a.mcqs.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Multiple Choice Questions"}),d.jsx("div",{className:"space-y-4",children:a.mcqs.map((h,g)=>d.jsxs("div",{className:"border rounded p-4",children:[d.jsx("p",{className:"font-medium mb-2",children:h.question}),d.jsx("ul",{className:"list-disc list-inside space-y-1",children:h.options.map((v,x)=>d.jsx("li",{className:x===h.answerIndex?"text-green-600 font-medium":"",children:v},x))})]},g))})]}),d.jsxs("div",{className:"flex gap-4 pt-6 border-t",children:[d.jsxs("button",{onClick:p,disabled:c,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:[c?d.jsx(fp,{className:"w-4 h-4 animate-spin"}):d.jsx(FT,{className:"w-4 h-4"}),"Approve Case"]}),d.jsxs("button",{onClick:()=>r("/create"),className:"flex items-center gap-2 px-6 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:[d.jsx(sm,{className:"w-4 h-4"}),"Regenerate"]})]})]})]})}),d.jsx(Jn,{role:"faculty"})]})}function tz({user:t}){var F;const{snapshotId:e}=yy(),r=ya(),[n,i]=Y.useState(null),[a,s]=Y.useState([]),[o,l]=Y.useState([]),[c,u]=Y.useState([]),[f,p]=Y.useState([]),[h,g]=Y.useState("cohort"),[v,x]=Y.useState(""),[y,w]=Y.useState(""),[_,j]=Y.useState(1),[S,O]=Y.useState(!0),[k,L]=Y.useState(!1);Y.useEffect(()=>{e&&E()},[e]);const E=async()=>{try{const{data:R,error:H}=await Te.from("case_snapshots").select("*").eq("id",e).single();if(H)throw H;i(R);const{data:J,error:re}=await Te.from("cohorts").select("*").order("name");if(re)throw re;const q=await Promise.all((J||[]).map(async fe=>{const{data:T}=await Te.from("cohort_members").select("student_id").eq("cohort_id",fe.id),B=(T||[]).map(V=>V.student_id);let X=[];if(B.length>0){const{data:V}=await Te.from("users").select("id, name, email").in("id",B);X=(V||[]).map(ne=>({id:ne.id,name:ne.name,email:ne.email}))}return{...fe,students:X}}));s(q);const{data:Z,error:le}=await Te.from("users").select("id, name, email").eq("role","student").order("name");if(le)throw le;l(Z||[])}catch(R){console.error("Error loading data:",R)}finally{O(!1)}},$=async()=>{if(e){if(h==="cohort"&&c.length===0){alert("Please select at least one cohort");return}if(h==="student"&&f.length===0){alert("Please select at least one student");return}if(h==="both"&&c.length===0&&f.length===0){alert("Please select at least one cohort or student");return}L(!0);try{const R=[];for(const H of c)R.push({snapshot_id:e,cohort_id:H,start_at:v||null,due_at:y||null,max_attempts:_});for(const H of f){const J=o.find(re=>re.id===H);if(J){let re=null;const{data:q}=await Te.from("cohorts").select("id").eq("name",`Personal: ${J.name}`).single();if(q)re=q.id;else{const{data:Z,error:le}=await Te.from("cohorts").insert({name:`Personal: ${J.name}`,description:`Personal assignment cohort for ${J.name}`}).select().single();if(le)throw le;re=Z.id,await Te.from("cohort_members").insert({cohort_id:re,student_id:H})}re&&R.push({snapshot_id:e,cohort_id:re,start_at:v||null,due_at:y||null,max_attempts:_})}}if(R.length>0){const{error:H}=await Te.from("assignments").insert(R);if(H)throw H}alert(`Successfully created ${R.length} assignment(s)!`),r("/dashboard")}catch(R){alert("Error creating assignment: "+R.message)}finally{L(!1)}}},P=R=>{u(H=>H.includes(R)?H.filter(J=>J!==R):[...H,R])},I=R=>{p(H=>H.includes(R)?H.filter(J=>J!==R):[...H,R])};return S?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(qi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 flex items-center justify-center pb-20 md:pb-0",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),d.jsx(Jn,{role:"faculty"})]}):d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(qi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-2xl mx-auto",children:[d.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(up,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Assign Case"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Case Title"}),d.jsx("p",{className:"text-lg font-semibold",children:((F=n==null?void 0:n.clinical_case)==null?void 0:F.title)||"Untitled Case"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Assignment Mode"}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{type:"button",onClick:()=>{g("cohort"),p([])},className:`px-4 py-2 rounded-md ${h==="cohort"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[d.jsx(Tc,{className:"w-4 h-4 inline mr-2"}),"Cohorts"]}),d.jsxs("button",{type:"button",onClick:()=>{g("student"),u([])},className:`px-4 py-2 rounded-md ${h==="student"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[d.jsx(fl,{className:"w-4 h-4 inline mr-2"}),"Individual Students"]}),d.jsx("button",{type:"button",onClick:()=>g("both"),className:`px-4 py-2 rounded-md ${h==="both"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Both"})]})]}),(h==="cohort"||h==="both")&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Cohorts ",h==="cohort"&&"*"]}),d.jsx("div",{className:"border border-gray-300 rounded-md max-h-60 overflow-y-auto",children:a.length===0?d.jsx("p",{className:"p-4 text-gray-500 text-sm",children:"No cohorts available. Create cohorts first."}):a.map(R=>d.jsxs("div",{className:`p-3 border-b border-gray-200 last:border-b-0 cursor-pointer hover:bg-gray-50 ${c.includes(R.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>P(R.id),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:R.name}),R.description&&d.jsx("div",{className:"text-sm text-gray-500",children:R.description}),d.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[R.students.length," student",R.students.length!==1?"s":""]})]}),d.jsx("input",{type:"checkbox",checked:c.includes(R.id),onChange:()=>P(R.id),className:"ml-4 w-5 h-5 text-primary-600"})]}),c.includes(R.id)&&R.students.length>0&&d.jsxs("div",{className:"mt-2 ml-4 text-xs text-gray-600",children:["Students: ",R.students.map(H=>H.name).join(", ")]})]},R.id))}),c.length>0&&d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[c.length," cohort",c.length!==1?"s":""," selected"]})]}),(h==="student"||h==="both")&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Individual Students ",h==="student"&&"*"]}),d.jsx("div",{className:"border border-gray-300 rounded-md max-h-60 overflow-y-auto",children:o.length===0?d.jsx("p",{className:"p-4 text-gray-500 text-sm",children:"No students available."}):o.map(R=>d.jsx("div",{className:`p-3 border-b border-gray-200 last:border-b-0 cursor-pointer hover:bg-gray-50 ${f.includes(R.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>I(R.id),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:R.name}),d.jsx("div",{className:"text-sm text-gray-500",children:R.email})]}),d.jsx("input",{type:"checkbox",checked:f.includes(R.id),onChange:()=>I(R.id),className:"ml-4 w-5 h-5 text-primary-600"})]})},R.id))}),f.length>0&&d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[f.length," student",f.length!==1?"s":""," selected"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),d.jsx("input",{type:"datetime-local",value:v,onChange:R=>x(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),d.jsx("input",{type:"datetime-local",value:y,onChange:R=>w(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Attempts"}),d.jsx("input",{type:"number",min:"1",max:"10",value:_,onChange:R=>j(parseInt(R.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("button",{onClick:$,disabled:k||h==="cohort"&&c.length===0||h==="student"&&f.length===0||h==="both"&&c.length===0&&f.length===0,className:"w-full flex items-center justify-center gap-2 bg-primary-600 text-white px-6 py-3 rounded-md hover:bg-primary-700 disabled:opacity-50",children:[d.jsx(FT,{className:"w-5 h-5"}),k?"Assigning...":`Assign to ${c.length+f.length} ${c.length+f.length===1?"Recipient":"Recipients"}`]})]})]})}),d.jsx(Jn,{role:"faculty"})]})}function rz({user:t}){const e=ya(),[r,n]=Y.useState([]),[i,a]=Y.useState(!0),[s,o]=Y.useState("");Y.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:u,error:f}=await Te.from("stations").select("*").eq("created_by",t.id).order("created_at",{ascending:!1});if(f)throw f;const p=await Promise.all((u||[]).map(async h=>{const{data:g}=await Te.from("case_snapshots").select("*").eq("station_id",h.id).order("approved_at",{ascending:!1}).limit(1).single();return{...h,snapshot:g}}));n(p)}catch(u){console.error("Error loading stations:",u)}finally{a(!1)}},c=r.filter(u=>{var f,p,h,g;return((f=u.title)==null?void 0:f.toLowerCase().includes(s.toLowerCase()))||((g=(h=(p=u.snapshot)==null?void 0:p.clinical_case)==null?void 0:h.title)==null?void 0:g.toLowerCase().includes(s.toLowerCase()))});return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(qi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Station Library"}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(F_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Search stations...",value:s,onChange:u=>o(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):c.length===0?d.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:d.jsx("p",{className:"text-gray-600",children:"No stations found"})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(u=>{var f,p,h,g;return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:((p=(f=u.snapshot)==null?void 0:f.clinical_case)==null?void 0:p.title)||u.title||"Untitled Station"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:((g=(h=u.snapshot)==null?void 0:h.clinical_case)==null?void 0:g.subject)||"No subject"}),d.jsx("div",{className:"flex items-center gap-2 mb-4",children:u.snapshot?d.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:"Approved"}):d.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:"Pending"})}),d.jsxs("div",{className:"flex gap-2",children:[u.snapshot&&d.jsxs("button",{onClick:()=>e(`/review/${u.id}`),className:"flex items-center gap-1 px-3 py-1 text-sm bg-primary-100 text-primary-700 rounded hover:bg-primary-200",children:[d.jsx(D_,{className:"w-4 h-4"}),"View"]}),d.jsxs("button",{onClick:()=>e(`/create?edit=${u.id}`),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:[d.jsx(B_,{className:"w-4 h-4"}),"Edit"]})]})]},u.id)})})]})}),d.jsx(Jn,{role:"faculty"})]})}function GT(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=GT(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ct(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=GT(t))&&(n&&(n+=" "),n+=e);return n}var nz=Array.isArray,xi=nz,iz=typeof Qm=="object"&&Qm&&Qm.Object===Object&&Qm,KT=iz,az=KT,sz=typeof self=="object"&&self&&self.Object===Object&&self,oz=az||sz||Function("return this")(),ws=oz,lz=ws,cz=lz.Symbol,om=cz,VN=om,YT=Object.prototype,uz=YT.hasOwnProperty,fz=YT.toString,rh=VN?VN.toStringTag:void 0;function dz(t){var e=uz.call(t,rh),r=t[rh];try{t[rh]=void 0;var n=!0}catch{}var i=fz.call(t);return n&&(e?t[rh]=r:delete t[rh]),i}var hz=dz,pz=Object.prototype,mz=pz.toString;function gz(t){return mz.call(t)}var vz=gz,GN=om,yz=hz,bz=vz,xz="[object Null]",wz="[object Undefined]",KN=GN?GN.toStringTag:void 0;function _z(t){return t==null?t===void 0?wz:xz:KN&&KN in Object(t)?yz(t):bz(t)}var go=_z;function Sz(t){return t!=null&&typeof t=="object"}var vo=Sz,Az=go,jz=vo,Nz="[object Symbol]";function Oz(t){return typeof t=="symbol"||jz(t)&&Az(t)==Nz}var sd=Oz,kz=xi,Pz=sd,Ez=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Cz=/^\w*$/;function Tz(t,e){if(kz(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Pz(t)?!0:Cz.test(t)||!Ez.test(t)||e!=null&&t in Object(e)}var z_=Tz;function Lz(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Sl=Lz;const od=rr(Sl);var Iz=go,$z=Sl,Rz="[object AsyncFunction]",Mz="[object Function]",Dz="[object GeneratorFunction]",Bz="[object Proxy]";function Fz(t){if(!$z(t))return!1;var e=Iz(t);return e==Mz||e==Dz||e==Rz||e==Bz}var q_=Fz;const mt=rr(q_);var Uz=ws,zz=Uz["__core-js_shared__"],qz=zz,$b=qz,YN=function(){var t=/[^.]+$/.exec($b&&$b.keys&&$b.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Wz(t){return!!YN&&YN in t}var Hz=Wz,Vz=Function.prototype,Gz=Vz.toString;function Kz(t){if(t!=null){try{return Gz.call(t)}catch{}try{return t+""}catch{}}return""}var XT=Kz,Yz=q_,Xz=Hz,Jz=Sl,Zz=XT,Qz=/[\\^$.*+?()[\]{}|]/g,eq=/^\[object .+?Constructor\]$/,tq=Function.prototype,rq=Object.prototype,nq=tq.toString,iq=rq.hasOwnProperty,aq=RegExp("^"+nq.call(iq).replace(Qz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sq(t){if(!Jz(t)||Xz(t))return!1;var e=Yz(t)?aq:eq;return e.test(Zz(t))}var oq=sq;function lq(t,e){return t==null?void 0:t[e]}var cq=lq,uq=oq,fq=cq;function dq(t,e){var r=fq(t,e);return uq(r)?r:void 0}var Vc=dq,hq=Vc,pq=hq(Object,"create"),Sy=pq,XN=Sy;function mq(){this.__data__=XN?XN(null):{},this.size=0}var gq=mq;function vq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var yq=vq,bq=Sy,xq="__lodash_hash_undefined__",wq=Object.prototype,_q=wq.hasOwnProperty;function Sq(t){var e=this.__data__;if(bq){var r=e[t];return r===xq?void 0:r}return _q.call(e,t)?e[t]:void 0}var Aq=Sq,jq=Sy,Nq=Object.prototype,Oq=Nq.hasOwnProperty;function kq(t){var e=this.__data__;return jq?e[t]!==void 0:Oq.call(e,t)}var Pq=kq,Eq=Sy,Cq="__lodash_hash_undefined__";function Tq(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Eq&&e===void 0?Cq:e,this}var Lq=Tq,Iq=gq,$q=yq,Rq=Aq,Mq=Pq,Dq=Lq;function ld(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ld.prototype.clear=Iq;ld.prototype.delete=$q;ld.prototype.get=Rq;ld.prototype.has=Mq;ld.prototype.set=Dq;var Bq=ld;function Fq(){this.__data__=[],this.size=0}var Uq=Fq;function zq(t,e){return t===e||t!==t&&e!==e}var W_=zq,qq=W_;function Wq(t,e){for(var r=t.length;r--;)if(qq(t[r][0],e))return r;return-1}var Ay=Wq,Hq=Ay,Vq=Array.prototype,Gq=Vq.splice;function Kq(t){var e=this.__data__,r=Hq(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Gq.call(e,r,1),--this.size,!0}var Yq=Kq,Xq=Ay;function Jq(t){var e=this.__data__,r=Xq(e,t);return r<0?void 0:e[r][1]}var Zq=Jq,Qq=Ay;function eW(t){return Qq(this.__data__,t)>-1}var tW=eW,rW=Ay;function nW(t,e){var r=this.__data__,n=rW(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var iW=nW,aW=Uq,sW=Yq,oW=Zq,lW=tW,cW=iW;function cd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}cd.prototype.clear=aW;cd.prototype.delete=sW;cd.prototype.get=oW;cd.prototype.has=lW;cd.prototype.set=cW;var jy=cd,uW=Vc,fW=ws,dW=uW(fW,"Map"),H_=dW,JN=Bq,hW=jy,pW=H_;function mW(){this.size=0,this.__data__={hash:new JN,map:new(pW||hW),string:new JN}}var gW=mW;function vW(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var yW=vW,bW=yW;function xW(t,e){var r=t.__data__;return bW(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Ny=xW,wW=Ny;function _W(t){var e=wW(this,t).delete(t);return this.size-=e?1:0,e}var SW=_W,AW=Ny;function jW(t){return AW(this,t).get(t)}var NW=jW,OW=Ny;function kW(t){return OW(this,t).has(t)}var PW=kW,EW=Ny;function CW(t,e){var r=EW(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var TW=CW,LW=gW,IW=SW,$W=NW,RW=PW,MW=TW;function ud(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ud.prototype.clear=LW;ud.prototype.delete=IW;ud.prototype.get=$W;ud.prototype.has=RW;ud.prototype.set=MW;var V_=ud,JT=V_,DW="Expected a function";function G_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(DW);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(G_.Cache||JT),r}G_.Cache=JT;var ZT=G_;const BW=rr(ZT);var FW=ZT,UW=500;function zW(t){var e=FW(t,function(n){return r.size===UW&&r.clear(),n}),r=e.cache;return e}var qW=zW,WW=qW,HW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,VW=/\\(\\)?/g,GW=WW(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(HW,function(r,n,i,a){e.push(i?a.replace(VW,"$1"):n||r)}),e}),KW=GW;function YW(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var K_=YW,ZN=om,XW=K_,JW=xi,ZW=sd,QN=ZN?ZN.prototype:void 0,e3=QN?QN.toString:void 0;function QT(t){if(typeof t=="string")return t;if(JW(t))return XW(t,QT)+"";if(ZW(t))return e3?e3.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var QW=QT,eH=QW;function tH(t){return t==null?"":eH(t)}var e8=tH,rH=xi,nH=z_,iH=KW,aH=e8;function sH(t,e){return rH(t)?t:nH(t,e)?[t]:iH(aH(t))}var t8=sH,oH=sd;function lH(t){if(typeof t=="string"||oH(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Oy=lH,cH=t8,uH=Oy;function fH(t,e){e=cH(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[uH(e[r++])];return r&&r==n?t:void 0}var Y_=fH,dH=Y_;function hH(t,e,r){var n=t==null?void 0:dH(t,e);return n===void 0?r:n}var r8=hH;const Wi=rr(r8);function pH(t){return t==null}var mH=pH;const St=rr(mH);var gH=go,vH=xi,yH=vo,bH="[object String]";function xH(t){return typeof t=="string"||!vH(t)&&yH(t)&&gH(t)==bH}var wH=xH;const Ic=rr(wH);var n8={exports:{}},nr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_=Symbol.for("react.element"),J_=Symbol.for("react.portal"),ky=Symbol.for("react.fragment"),Py=Symbol.for("react.strict_mode"),Ey=Symbol.for("react.profiler"),Cy=Symbol.for("react.provider"),Ty=Symbol.for("react.context"),_H=Symbol.for("react.server_context"),Ly=Symbol.for("react.forward_ref"),Iy=Symbol.for("react.suspense"),$y=Symbol.for("react.suspense_list"),Ry=Symbol.for("react.memo"),My=Symbol.for("react.lazy"),SH=Symbol.for("react.offscreen"),i8;i8=Symbol.for("react.module.reference");function xa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case X_:switch(t=t.type,t){case ky:case Ey:case Py:case Iy:case $y:return t;default:switch(t=t&&t.$$typeof,t){case _H:case Ty:case Ly:case My:case Ry:case Cy:return t;default:return e}}case J_:return e}}}nr.ContextConsumer=Ty;nr.ContextProvider=Cy;nr.Element=X_;nr.ForwardRef=Ly;nr.Fragment=ky;nr.Lazy=My;nr.Memo=Ry;nr.Portal=J_;nr.Profiler=Ey;nr.StrictMode=Py;nr.Suspense=Iy;nr.SuspenseList=$y;nr.isAsyncMode=function(){return!1};nr.isConcurrentMode=function(){return!1};nr.isContextConsumer=function(t){return xa(t)===Ty};nr.isContextProvider=function(t){return xa(t)===Cy};nr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===X_};nr.isForwardRef=function(t){return xa(t)===Ly};nr.isFragment=function(t){return xa(t)===ky};nr.isLazy=function(t){return xa(t)===My};nr.isMemo=function(t){return xa(t)===Ry};nr.isPortal=function(t){return xa(t)===J_};nr.isProfiler=function(t){return xa(t)===Ey};nr.isStrictMode=function(t){return xa(t)===Py};nr.isSuspense=function(t){return xa(t)===Iy};nr.isSuspenseList=function(t){return xa(t)===$y};nr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ky||t===Ey||t===Py||t===Iy||t===$y||t===SH||typeof t=="object"&&t!==null&&(t.$$typeof===My||t.$$typeof===Ry||t.$$typeof===Cy||t.$$typeof===Ty||t.$$typeof===Ly||t.$$typeof===i8||t.getModuleId!==void 0)};nr.typeOf=xa;n8.exports=nr;var AH=n8.exports,jH=go,NH=vo,OH="[object Number]";function kH(t){return typeof t=="number"||NH(t)&&jH(t)==OH}var a8=kH;const PH=rr(a8);var EH=a8;function CH(t){return EH(t)&&t!=+t}var TH=CH;const lm=rr(TH);var ii=function(e){return e===0?0:e>0?1:-1},yc=function(e){return Ic(e)&&e.indexOf("%")===e.length-1},$e=function(e){return PH(e)&&!lm(e)},LH=function(e){return St(e)},xn=function(e){return $e(e)||Ic(e)},IH=0,fd=function(e){var r=++IH;return"".concat(e||"").concat(r)},ai=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$e(e)&&!Ic(e))return n;var a;if(yc(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return lm(a)&&(a=n),i&&a>r&&(a=r),a},Yo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},$H=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Ri=function(e,r){return $e(e)&&$e(r)?function(n){return e+n*(r-e)}:function(){return r}};function X0(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Wi(n,e))===r})}var RH=function(e,r){return $e(e)&&$e(r)?e-r:Ic(e)&&Ic(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function sf(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function V2(t){"@babel/helpers - typeof";return V2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V2(t)}var MH=["viewBox","children"],DH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],t3=["points","pathLength"],Rb={svg:MH,polygon:t3,polyline:t3},Z_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],J0=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(Y.isValidElement(e)&&(n=e.props),!od(n))return null;var i={};return Object.keys(n).forEach(function(a){Z_.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},BH=function(e,r,n){return function(i){return e(r,n,i),null}},$c=function(e,r,n){if(!od(e)||V2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];Z_.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=BH(s,r,n))}),i},FH=["children"],UH=["children"];function r3(t,e){if(t==null)return{};var r=zH(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function G2(t){"@babel/helpers - typeof";return G2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G2(t)}var n3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},eo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},i3=null,Mb=null,Q_=function t(e){if(e===i3&&Array.isArray(Mb))return Mb;var r=[];return Y.Children.forEach(e,function(n){St(n)||(AH.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Mb=r,i3=e,r};function Hi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return eo(i)}):n=[eo(e)],Q_(t).forEach(function(i){var a=Wi(i,"type.displayName")||Wi(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Ii(t,e){var r=Hi(t,e);return r&&r[0]}var a3=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!$e(n)||n<=0||!$e(i)||i<=0)},qH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],WH=function(e){return e&&e.type&&Ic(e.type)&&qH.indexOf(e.type)>=0},HH=function(e){return e&&G2(e)==="object"&&"clipDot"in e},VH=function(e,r,n,i){var a,s=(a=Rb==null?void 0:Rb[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!mt(e)&&(i&&s.includes(r)||DH.includes(r))||n&&Z_.includes(r)},lt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(Y.isValidElement(e)&&(i=e.props),!od(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;VH((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},K2=function t(e,r){if(e===r)return!0;var n=Y.Children.count(e);if(n!==Y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return s3(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!s3(a,s))return!1}return!0},s3=function(e,r){if(St(e)&&St(r))return!0;if(!St(e)&&!St(r)){var n=e.props||{},i=n.children,a=r3(n,FH),s=r.props||{},o=s.children,l=r3(s,UH);return i&&o?sf(a,l)&&K2(i,o):!i&&!o?sf(a,l):!1}return!1},o3=function(e,r){var n=[],i={};return Q_(e).forEach(function(a,s){if(WH(a))n.push(a);else if(a){var o=eo(a.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var f=c(a,o,s);n.push(f),i[o]=!0}}}),n},GH=function(e){var r=e&&e.type;return r&&n3[r]?n3[r]:null},KH=function(e,r){return Q_(r).indexOf(e)},YH=["children","width","height","viewBox","className","style","title","desc"];function Y2(){return Y2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y2.apply(this,arguments)}function XH(t,e){if(t==null)return{};var r=JH(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function X2(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=XH(t,YH),u=i||{width:r,height:n,x:0,y:0},f=Ct("recharts-surface",a);return ae.createElement("svg",Y2({},lt(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ae.createElement("title",null,o),ae.createElement("desc",null,l),e)}var ZH=["children","className"];function J2(){return J2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J2.apply(this,arguments)}function QH(t,e){if(t==null)return{};var r=eV(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Wt=ae.forwardRef(function(t,e){var r=t.children,n=t.className,i=QH(t,ZH),a=Ct("recharts-layer",n);return ae.createElement("g",J2({className:a},lt(i,!0),{ref:e}),r)}),Wa=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function tV(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var rV=tV,nV=rV;function iV(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:nV(t,e,r)}var aV=iV,sV="\\ud800-\\udfff",oV="\\u0300-\\u036f",lV="\\ufe20-\\ufe2f",cV="\\u20d0-\\u20ff",uV=oV+lV+cV,fV="\\ufe0e\\ufe0f",dV="\\u200d",hV=RegExp("["+dV+sV+uV+fV+"]");function pV(t){return hV.test(t)}var s8=pV;function mV(t){return t.split("")}var gV=mV,o8="\\ud800-\\udfff",vV="\\u0300-\\u036f",yV="\\ufe20-\\ufe2f",bV="\\u20d0-\\u20ff",xV=vV+yV+bV,wV="\\ufe0e\\ufe0f",_V="["+o8+"]",Z2="["+xV+"]",Q2="\\ud83c[\\udffb-\\udfff]",SV="(?:"+Z2+"|"+Q2+")",l8="[^"+o8+"]",c8="(?:\\ud83c[\\udde6-\\uddff]){2}",u8="[\\ud800-\\udbff][\\udc00-\\udfff]",AV="\\u200d",f8=SV+"?",d8="["+wV+"]?",jV="(?:"+AV+"(?:"+[l8,c8,u8].join("|")+")"+d8+f8+")*",NV=d8+f8+jV,OV="(?:"+[l8+Z2+"?",Z2,c8,u8,_V].join("|")+")",kV=RegExp(Q2+"(?="+Q2+")|"+OV+NV,"g");function PV(t){return t.match(kV)||[]}var EV=PV,CV=gV,TV=s8,LV=EV;function IV(t){return TV(t)?LV(t):CV(t)}var $V=IV,RV=aV,MV=s8,DV=$V,BV=e8;function FV(t){return function(e){e=BV(e);var r=MV(e)?DV(e):void 0,n=r?r[0]:e.charAt(0),i=r?RV(r,1).join(""):e.slice(1);return n[t]()+i}}var UV=FV,zV=UV,qV=zV("toUpperCase"),WV=qV;const Dy=rr(WV);function vr(t){return function(){return t}}const h8=Math.cos,Z0=Math.sin,Ga=Math.sqrt,Q0=Math.PI,By=2*Q0,ew=Math.PI,tw=2*ew,ac=1e-6,HV=tw-ac;function p8(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function VV(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return p8;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class GV{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?p8:VV(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,c=i-r,u=s-e,f=o-r,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>ac)if(!(Math.abs(f*l-c*u)>ac)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-s,g=i-o,v=l*l+c*c,x=h*h+g*g,y=Math.sqrt(v),w=Math.sqrt(p),_=a*Math.tan((ew-Math.acos((v+p-x)/(2*y*w)))/2),j=_/w,S=_/y;Math.abs(j-1)>ac&&this._append`L${e+j*u},${r+j*f}`,this._append`A${a},${a},0,0,${+(f*h>u*g)},${this._x1=e+S*l},${this._y1=r+S*c}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=e+o,u=r+l,f=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>ac||Math.abs(this._y1-u)>ac)&&this._append`L${c},${u}`,n&&(p<0&&(p=p%tw+tw),p>HV?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:p>ac&&this._append`A${n},${n},0,${+(p>=ew)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function eS(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new GV(e)}function tS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function m8(t){this._context=t}m8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Fy(t){return new m8(t)}function g8(t){return t[0]}function v8(t){return t[1]}function y8(t,e){var r=vr(!0),n=null,i=Fy,a=null,s=eS(o);t=typeof t=="function"?t:t===void 0?g8:vr(t),e=typeof e=="function"?e:e===void 0?v8:vr(e);function o(l){var c,u=(l=tS(l)).length,f,p=!1,h;for(n==null&&(a=i(h=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(f,c,l),+e(f,c,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:vr(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:vr(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:vr(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function Ng(t,e,r){var n=null,i=vr(!0),a=null,s=Fy,o=null,l=eS(c);t=typeof t=="function"?t:t===void 0?g8:vr(+t),e=typeof e=="function"?e:vr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?v8:vr(+r);function c(f){var p,h,g,v=(f=tS(f)).length,x,y=!1,w,_=new Array(v),j=new Array(v);for(a==null&&(o=s(w=l())),p=0;p<=v;++p){if(!(p<v&&i(x=f[p],p,f))===y)if(y=!y)h=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=p-1;g>=h;--g)o.point(_[g],j[g]);o.lineEnd(),o.areaEnd()}y&&(_[p]=+t(x,p,f),j[p]=+e(x,p,f),o.point(n?+n(x,p,f):_[p],r?+r(x,p,f):j[p]))}if(w)return o=null,w+""||null}function u(){return y8().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:vr(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:vr(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:vr(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:vr(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:vr(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:vr(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:vr(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class b8{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function KV(t){return new b8(t,!0)}function YV(t){return new b8(t,!1)}const rS={draw(t,e){const r=Ga(e/Q0);t.moveTo(r,0),t.arc(0,0,r,0,By)}},XV={draw(t,e){const r=Ga(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},x8=Ga(1/3),JV=x8*2,ZV={draw(t,e){const r=Ga(e/JV),n=r*x8;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},QV={draw(t,e){const r=Ga(e),n=-r/2;t.rect(n,n,r,r)}},eG=.8908130915292852,w8=Z0(Q0/10)/Z0(7*Q0/10),tG=Z0(By/10)*w8,rG=-h8(By/10)*w8,nG={draw(t,e){const r=Ga(e*eG),n=tG*r,i=rG*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=By*a/5,o=h8(s),l=Z0(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},Db=Ga(3),iG={draw(t,e){const r=-Ga(e/(Db*3));t.moveTo(0,r*2),t.lineTo(-Db*r,-r),t.lineTo(Db*r,-r),t.closePath()}},ia=-.5,aa=Ga(3)/2,rw=1/Ga(12),aG=(rw/2+1)*3,sG={draw(t,e){const r=Ga(e/aG),n=r/2,i=r*rw,a=n,s=r*rw+r,o=-a,l=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(ia*n-aa*i,aa*n+ia*i),t.lineTo(ia*a-aa*s,aa*a+ia*s),t.lineTo(ia*o-aa*l,aa*o+ia*l),t.lineTo(ia*n+aa*i,ia*i-aa*n),t.lineTo(ia*a+aa*s,ia*s-aa*a),t.lineTo(ia*o+aa*l,ia*l-aa*o),t.closePath()}};function oG(t,e){let r=null,n=eS(i);t=typeof t=="function"?t:vr(t||rS),e=typeof e=="function"?e:vr(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:vr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:vr(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function ev(){}function tv(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function _8(t){this._context=t}_8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lG(t){return new _8(t)}function S8(t){this._context=t}S8.prototype={areaStart:ev,areaEnd:ev,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:tv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cG(t){return new S8(t)}function A8(t){this._context=t}A8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:tv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uG(t){return new A8(t)}function j8(t){this._context=t}j8.prototype={areaStart:ev,areaEnd:ev,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fG(t){return new j8(t)}function l3(t){return t<0?-1:1}function c3(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(l3(a)+l3(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function u3(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Bb(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function rv(t){this._context=t}rv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bb(this,this._t0,u3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Bb(this,u3(this,r=c3(this,t,e)),r);break;default:Bb(this,this._t0,r=c3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function N8(t){this._context=new O8(t)}(N8.prototype=Object.create(rv.prototype)).point=function(t,e){rv.prototype.point.call(this,e,t)};function O8(t){this._context=t}O8.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function dG(t){return new rv(t)}function hG(t){return new N8(t)}function k8(t){this._context=t}k8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=f3(t),i=f3(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function f3(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function pG(t){return new k8(t)}function Uy(t,e){this._context=t,this._t=e}Uy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function mG(t){return new Uy(t,.5)}function gG(t){return new Uy(t,0)}function vG(t){return new Uy(t,1)}function Nf(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function nw(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function yG(t,e){return t[e]}function bG(t){const e=[];return e.key=t,e}function xG(){var t=vr([]),e=nw,r=Nf,n=yG;function i(a){var s=Array.from(t.apply(this,arguments),bG),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,a)]).data=f;for(o=0,u=tS(e(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:vr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:vr(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?nw:typeof a=="function"?a:vr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Nf,i):r},i}function wG(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Nf(t,e)}}function _G(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Nf(t,e)}}function SG(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],f=u[n][1]||0,p=u[n-1][1]||0,h=(f-p)/2,g=0;g<o;++g){var v=t[e[g]],x=v[n][1]||0,y=v[n-1][1]||0;h+=x-y}l+=f,c+=h*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Nf(t,e)}}function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}var AG=["type","size","sizeType"];function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iw.apply(this,arguments)}function d3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d3(Object(r),!0).forEach(function(n){jG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jG(t,e,r){return e=NG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NG(t){var e=OG(t,"string");return pp(e)=="symbol"?e:e+""}function OG(t,e){if(pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kG(t,e){if(t==null)return{};var r=PG(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function PG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var P8={symbolCircle:rS,symbolCross:XV,symbolDiamond:ZV,symbolSquare:QV,symbolStar:nG,symbolTriangle:iG,symbolWye:sG},EG=Math.PI/180,CG=function(e){var r="symbol".concat(Dy(e));return P8[r]||rS},TG=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*EG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},LG=function(e,r){P8["symbol".concat(Dy(e))]=r},nS=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=kG(e,AG),c=h3(h3({},l),{},{type:n,size:a,sizeType:o}),u=function(){var x=CG(n),y=oG().type(x).size(TG(a,o,n));return y()},f=c.className,p=c.cx,h=c.cy,g=lt(c,!0);return p===+p&&h===+h&&a===+a?ae.createElement("path",iw({},g,{className:Ct("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:u()})):null};nS.registerSymbol=LG;function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aw.apply(this,arguments)}function p3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p3(Object(r),!0).forEach(function(n){mp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C8(n.key),n)}}function MG(t,e,r){return e&&RG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DG(t,e,r){return e=nv(e),BG(t,E8()?Reflect.construct(e,r||[],nv(t).constructor):e.apply(t,r))}function BG(t,e){if(e&&(Of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FG(t)}function FG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E8=function(){return!!t})()}function nv(t){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nv(t)}function UG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sw(t,e)}function sw(t,e){return sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sw(t,e)}function mp(t,e,r){return e=C8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C8(t){var e=zG(t,"string");return Of(e)=="symbol"?e:e+""}function zG(t,e){if(Of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sa=32,iS=function(t){function e(){return $G(this,e),DG(this,e,arguments)}return UG(e,t),MG(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=sa/2,s=sa/6,o=sa/3,l=n.inactive?i:n.color;if(n.type==="plainline")return ae.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:sa,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return ae.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(sa,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return ae.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(sa/8,"h").concat(sa,"v").concat(sa*3/4,"h").concat(-sa,"z"),className:"recharts-legend-icon"});if(ae.isValidElement(n.legendIcon)){var c=IG({},n);return delete c.legendIcon,ae.cloneElement(n.legendIcon,c)}return ae.createElement(nS,{fill:l,cx:a,cy:a,size:sa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:sa,height:sa},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,g){var v=h.formatter||l,x=Ct(mp(mp({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",h.inactive));if(h.type==="none")return null;var y=mt(h.value)?null:h.value;Wa(!mt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=h.inactive?c:h.color;return ae.createElement("li",aw({className:x,style:f,key:"legend-item-".concat(g)},$c(n.props,h,g)),ae.createElement(X2,{width:s,height:s,viewBox:u,style:p},n.renderIcon(h)),ae.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},v?v(y,h,g):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return ae.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(Y.PureComponent);mp(iS,"displayName","Legend");mp(iS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var qG=jy;function WG(){this.__data__=new qG,this.size=0}var HG=WG;function VG(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var GG=VG;function KG(t){return this.__data__.get(t)}var YG=KG;function XG(t){return this.__data__.has(t)}var JG=XG,ZG=jy,QG=H_,eK=V_,tK=200;function rK(t,e){var r=this.__data__;if(r instanceof ZG){var n=r.__data__;if(!QG||n.length<tK-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new eK(n)}return r.set(t,e),this.size=r.size,this}var nK=rK,iK=jy,aK=HG,sK=GG,oK=YG,lK=JG,cK=nK;function dd(t){var e=this.__data__=new iK(t);this.size=e.size}dd.prototype.clear=aK;dd.prototype.delete=sK;dd.prototype.get=oK;dd.prototype.has=lK;dd.prototype.set=cK;var T8=dd,uK="__lodash_hash_undefined__";function fK(t){return this.__data__.set(t,uK),this}var dK=fK;function hK(t){return this.__data__.has(t)}var pK=hK,mK=V_,gK=dK,vK=pK;function iv(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new mK;++e<r;)this.add(t[e])}iv.prototype.add=iv.prototype.push=gK;iv.prototype.has=vK;var L8=iv;function yK(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var I8=yK;function bK(t,e){return t.has(e)}var $8=bK,xK=L8,wK=I8,_K=$8,SK=1,AK=2;function jK(t,e,r,n,i,a){var s=r&SK,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,p=!0,h=r&AK?new xK:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var g=t[f],v=e[f];if(n)var x=s?n(v,g,f,e,t,a):n(g,v,f,t,e,a);if(x!==void 0){if(x)continue;p=!1;break}if(h){if(!wK(e,function(y,w){if(!_K(h,w)&&(g===y||i(g,y,r,n,a)))return h.push(w)})){p=!1;break}}else if(!(g===v||i(g,v,r,n,a))){p=!1;break}}return a.delete(t),a.delete(e),p}var R8=jK,NK=ws,OK=NK.Uint8Array,kK=OK;function PK(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var EK=PK;function CK(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var aS=CK,m3=om,g3=kK,TK=W_,LK=R8,IK=EK,$K=aS,RK=1,MK=2,DK="[object Boolean]",BK="[object Date]",FK="[object Error]",UK="[object Map]",zK="[object Number]",qK="[object RegExp]",WK="[object Set]",HK="[object String]",VK="[object Symbol]",GK="[object ArrayBuffer]",KK="[object DataView]",v3=m3?m3.prototype:void 0,Fb=v3?v3.valueOf:void 0;function YK(t,e,r,n,i,a,s){switch(r){case KK:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case GK:return!(t.byteLength!=e.byteLength||!a(new g3(t),new g3(e)));case DK:case BK:case zK:return TK(+t,+e);case FK:return t.name==e.name&&t.message==e.message;case qK:case HK:return t==e+"";case UK:var o=IK;case WK:var l=n&RK;if(o||(o=$K),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;n|=MK,s.set(t,e);var u=LK(o(t),o(e),n,i,a,s);return s.delete(t),u;case VK:if(Fb)return Fb.call(t)==Fb.call(e)}return!1}var XK=YK;function JK(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var M8=JK,ZK=M8,QK=xi;function eY(t,e,r){var n=e(t);return QK(t)?n:ZK(n,r(t))}var tY=eY;function rY(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}var nY=rY;function iY(){return[]}var aY=iY,sY=nY,oY=aY,lY=Object.prototype,cY=lY.propertyIsEnumerable,y3=Object.getOwnPropertySymbols,uY=y3?function(t){return t==null?[]:(t=Object(t),sY(y3(t),function(e){return cY.call(t,e)}))}:oY,fY=uY;function dY(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var hY=dY,pY=go,mY=vo,gY="[object Arguments]";function vY(t){return mY(t)&&pY(t)==gY}var yY=vY,b3=yY,bY=vo,D8=Object.prototype,xY=D8.hasOwnProperty,wY=D8.propertyIsEnumerable,_Y=b3(function(){return arguments}())?b3:function(t){return bY(t)&&xY.call(t,"callee")&&!wY.call(t,"callee")},sS=_Y,av={exports:{}};function SY(){return!1}var AY=SY;av.exports;(function(t,e){var r=ws,n=AY,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;t.exports=c})(av,av.exports);var B8=av.exports,jY=9007199254740991,NY=/^(?:0|[1-9]\d*)$/;function OY(t,e){var r=typeof t;return e=e??jY,!!e&&(r=="number"||r!="symbol"&&NY.test(t))&&t>-1&&t%1==0&&t<e}var oS=OY,kY=9007199254740991;function PY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=kY}var lS=PY,EY=go,CY=lS,TY=vo,LY="[object Arguments]",IY="[object Array]",$Y="[object Boolean]",RY="[object Date]",MY="[object Error]",DY="[object Function]",BY="[object Map]",FY="[object Number]",UY="[object Object]",zY="[object RegExp]",qY="[object Set]",WY="[object String]",HY="[object WeakMap]",VY="[object ArrayBuffer]",GY="[object DataView]",KY="[object Float32Array]",YY="[object Float64Array]",XY="[object Int8Array]",JY="[object Int16Array]",ZY="[object Int32Array]",QY="[object Uint8Array]",eX="[object Uint8ClampedArray]",tX="[object Uint16Array]",rX="[object Uint32Array]",_r={};_r[KY]=_r[YY]=_r[XY]=_r[JY]=_r[ZY]=_r[QY]=_r[eX]=_r[tX]=_r[rX]=!0;_r[LY]=_r[IY]=_r[VY]=_r[$Y]=_r[GY]=_r[RY]=_r[MY]=_r[DY]=_r[BY]=_r[FY]=_r[UY]=_r[zY]=_r[qY]=_r[WY]=_r[HY]=!1;function nX(t){return TY(t)&&CY(t.length)&&!!_r[EY(t)]}var iX=nX;function aX(t){return function(e){return t(e)}}var F8=aX,sv={exports:{}};sv.exports;(function(t,e){var r=KT,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(sv,sv.exports);var sX=sv.exports,oX=iX,lX=F8,x3=sX,w3=x3&&x3.isTypedArray,cX=w3?lX(w3):oX,U8=cX,uX=hY,fX=sS,dX=xi,hX=B8,pX=oS,mX=U8,gX=Object.prototype,vX=gX.hasOwnProperty;function yX(t,e){var r=dX(t),n=!r&&fX(t),i=!r&&!n&&hX(t),a=!r&&!n&&!i&&mX(t),s=r||n||i||a,o=s?uX(t.length,String):[],l=o.length;for(var c in t)(e||vX.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||pX(c,l)))&&o.push(c);return o}var bX=yX,xX=Object.prototype;function wX(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||xX;return t===r}var _X=wX;function SX(t,e){return function(r){return t(e(r))}}var z8=SX,AX=z8,jX=AX(Object.keys,Object),NX=jX,OX=_X,kX=NX,PX=Object.prototype,EX=PX.hasOwnProperty;function CX(t){if(!OX(t))return kX(t);var e=[];for(var r in Object(t))EX.call(t,r)&&r!="constructor"&&e.push(r);return e}var TX=CX,LX=q_,IX=lS;function $X(t){return t!=null&&IX(t.length)&&!LX(t)}var cm=$X,RX=bX,MX=TX,DX=cm;function BX(t){return DX(t)?RX(t):MX(t)}var zy=BX,FX=tY,UX=fY,zX=zy;function qX(t){return FX(t,zX,UX)}var WX=qX,_3=WX,HX=1,VX=Object.prototype,GX=VX.hasOwnProperty;function KX(t,e,r,n,i,a){var s=r&HX,o=_3(t),l=o.length,c=_3(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var p=o[f];if(!(s?p in e:GX.call(e,p)))return!1}var h=a.get(t),g=a.get(e);if(h&&g)return h==e&&g==t;var v=!0;a.set(t,e),a.set(e,t);for(var x=s;++f<l;){p=o[f];var y=t[p],w=e[p];if(n)var _=s?n(w,y,p,e,t,a):n(y,w,p,t,e,a);if(!(_===void 0?y===w||i(y,w,r,n,a):_)){v=!1;break}x||(x=p=="constructor")}if(v&&!x){var j=t.constructor,S=e.constructor;j!=S&&"constructor"in t&&"constructor"in e&&!(typeof j=="function"&&j instanceof j&&typeof S=="function"&&S instanceof S)&&(v=!1)}return a.delete(t),a.delete(e),v}var YX=KX,XX=Vc,JX=ws,ZX=XX(JX,"DataView"),QX=ZX,eJ=Vc,tJ=ws,rJ=eJ(tJ,"Promise"),nJ=rJ,iJ=Vc,aJ=ws,sJ=iJ(aJ,"Set"),q8=sJ,oJ=Vc,lJ=ws,cJ=oJ(lJ,"WeakMap"),uJ=cJ,ow=QX,lw=H_,cw=nJ,uw=q8,fw=uJ,W8=go,hd=XT,S3="[object Map]",fJ="[object Object]",A3="[object Promise]",j3="[object Set]",N3="[object WeakMap]",O3="[object DataView]",dJ=hd(ow),hJ=hd(lw),pJ=hd(cw),mJ=hd(uw),gJ=hd(fw),sc=W8;(ow&&sc(new ow(new ArrayBuffer(1)))!=O3||lw&&sc(new lw)!=S3||cw&&sc(cw.resolve())!=A3||uw&&sc(new uw)!=j3||fw&&sc(new fw)!=N3)&&(sc=function(t){var e=W8(t),r=e==fJ?t.constructor:void 0,n=r?hd(r):"";if(n)switch(n){case dJ:return O3;case hJ:return S3;case pJ:return A3;case mJ:return j3;case gJ:return N3}return e});var vJ=sc,Ub=T8,yJ=R8,bJ=XK,xJ=YX,k3=vJ,P3=xi,E3=B8,wJ=U8,_J=1,C3="[object Arguments]",T3="[object Array]",Og="[object Object]",SJ=Object.prototype,L3=SJ.hasOwnProperty;function AJ(t,e,r,n,i,a){var s=P3(t),o=P3(e),l=s?T3:k3(t),c=o?T3:k3(e);l=l==C3?Og:l,c=c==C3?Og:c;var u=l==Og,f=c==Og,p=l==c;if(p&&E3(t)){if(!E3(e))return!1;s=!0,u=!1}if(p&&!u)return a||(a=new Ub),s||wJ(t)?yJ(t,e,r,n,i,a):bJ(t,e,l,r,n,i,a);if(!(r&_J)){var h=u&&L3.call(t,"__wrapped__"),g=f&&L3.call(e,"__wrapped__");if(h||g){var v=h?t.value():t,x=g?e.value():e;return a||(a=new Ub),i(v,x,r,n,a)}}return p?(a||(a=new Ub),xJ(t,e,r,n,i,a)):!1}var jJ=AJ,NJ=jJ,I3=vo;function H8(t,e,r,n,i){return t===e?!0:t==null||e==null||!I3(t)&&!I3(e)?t!==t&&e!==e:NJ(t,e,r,n,H8,i)}var cS=H8,OJ=T8,kJ=cS,PJ=1,EJ=2;function CJ(t,e,r,n){var i=r.length,a=i,s=!n;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var l=o[0],c=t[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new OJ;if(n)var p=n(c,u,l,t,e,f);if(!(p===void 0?kJ(u,c,PJ|EJ,n,f):p))return!1}}return!0}var TJ=CJ,LJ=Sl;function IJ(t){return t===t&&!LJ(t)}var V8=IJ,$J=V8,RJ=zy;function MJ(t){for(var e=RJ(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,$J(i)]}return e}var DJ=MJ;function BJ(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var G8=BJ,FJ=TJ,UJ=DJ,zJ=G8;function qJ(t){var e=UJ(t);return e.length==1&&e[0][2]?zJ(e[0][0],e[0][1]):function(r){return r===t||FJ(r,t,e)}}var WJ=qJ;function HJ(t,e){return t!=null&&e in Object(t)}var VJ=HJ,GJ=t8,KJ=sS,YJ=xi,XJ=oS,JJ=lS,ZJ=Oy;function QJ(t,e,r){e=GJ(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=ZJ(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&JJ(i)&&XJ(s,i)&&(YJ(t)||KJ(t)))}var eZ=QJ,tZ=VJ,rZ=eZ;function nZ(t,e){return t!=null&&rZ(t,e,tZ)}var iZ=nZ,aZ=cS,sZ=r8,oZ=iZ,lZ=z_,cZ=V8,uZ=G8,fZ=Oy,dZ=1,hZ=2;function pZ(t,e){return lZ(t)&&cZ(e)?uZ(fZ(t),e):function(r){var n=sZ(r,t);return n===void 0&&n===e?oZ(r,t):aZ(e,n,dZ|hZ)}}var mZ=pZ;function gZ(t){return t}var pd=gZ;function vZ(t){return function(e){return e==null?void 0:e[t]}}var yZ=vZ,bZ=Y_;function xZ(t){return function(e){return bZ(e,t)}}var wZ=xZ,_Z=yZ,SZ=wZ,AZ=z_,jZ=Oy;function NZ(t){return AZ(t)?_Z(jZ(t)):SZ(t)}var OZ=NZ,kZ=WJ,PZ=mZ,EZ=pd,CZ=xi,TZ=OZ;function LZ(t){return typeof t=="function"?t:t==null?EZ:typeof t=="object"?CZ(t)?PZ(t[0],t[1]):kZ(t):TZ(t)}var _s=LZ;function IZ(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var K8=IZ;function $Z(t){return t!==t}var RZ=$Z;function MZ(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var DZ=MZ,BZ=K8,FZ=RZ,UZ=DZ;function zZ(t,e,r){return e===e?UZ(t,e,r):BZ(t,FZ,r)}var qZ=zZ,WZ=qZ;function HZ(t,e){var r=t==null?0:t.length;return!!r&&WZ(t,e,0)>-1}var VZ=HZ;function GZ(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var KZ=GZ;function YZ(){}var XZ=YZ,zb=q8,JZ=XZ,ZZ=aS,QZ=1/0,eQ=zb&&1/ZZ(new zb([,-0]))[1]==QZ?function(t){return new zb(t)}:JZ,tQ=eQ,rQ=L8,nQ=VZ,iQ=KZ,aQ=$8,sQ=tQ,oQ=aS,lQ=200;function cQ(t,e,r){var n=-1,i=nQ,a=t.length,s=!0,o=[],l=o;if(r)s=!1,i=iQ;else if(a>=lQ){var c=e?null:sQ(t);if(c)return oQ(c);s=!1,i=aQ,l=new rQ}else l=e?[]:o;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;e&&l.push(f),o.push(u)}else i(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var uQ=cQ,fQ=_s,dQ=uQ;function hQ(t,e){return t&&t.length?dQ(t,fQ(e)):[]}var pQ=hQ;const $3=rr(pQ);function Y8(t,e,r){return e===!0?$3(t,r):mt(e)?$3(t,e):t}function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}var mQ=["ref"];function R3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(r),!0).forEach(function(n){qy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J8(n.key),n)}}function vQ(t,e,r){return e&&M3(t.prototype,e),r&&M3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yQ(t,e,r){return e=ov(e),bQ(t,X8()?Reflect.construct(e,r||[],ov(t).constructor):e.apply(t,r))}function bQ(t,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xQ(t)}function xQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X8=function(){return!!t})()}function ov(t){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ov(t)}function wQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dw(t,e)}function dw(t,e){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dw(t,e)}function qy(t,e,r){return e=J8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J8(t){var e=_Q(t,"string");return kf(e)=="symbol"?e:e+""}function _Q(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function SQ(t,e){if(t==null)return{};var r=AQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function AQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jQ(t){return t.value}function NQ(t,e){if(ae.isValidElement(t))return ae.cloneElement(t,e);if(typeof t=="function")return ae.createElement(t,e);e.ref;var r=SQ(e,mQ);return ae.createElement(iS,r)}var D3=1,to=function(t){function e(){var r;gQ(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=yQ(this,e,[].concat(i)),qy(r,"lastBoundingBox",{width:-1,height:-1}),r}return wQ(e,t),vQ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>D3||Math.abs(i.height-this.lastBoundingBox.height)>D3)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Bs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((c||0)-h.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();p={top:((u||0)-g.height)/2}}else p=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Bs(Bs({},f),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=Bs(Bs({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return ae.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},NQ(a,Bs(Bs({},this.props),{},{payload:Y8(u,c,jQ)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Bs(Bs({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&$e(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(Y.PureComponent);qy(to,"displayName","Legend");qy(to,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var B3=om,OQ=sS,kQ=xi,F3=B3?B3.isConcatSpreadable:void 0;function PQ(t){return kQ(t)||OQ(t)||!!(F3&&t&&t[F3])}var EQ=PQ,CQ=M8,TQ=EQ;function Z8(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=TQ),i||(i=[]);++a<s;){var o=t[a];e>0&&r(o)?e>1?Z8(o,e-1,r,n,i):CQ(i,o):n||(i[i.length]=o)}return i}var Q8=Z8;function LQ(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++i];if(r(a[l],l,a)===!1)break}return e}}var IQ=LQ,$Q=IQ,RQ=$Q(),MQ=RQ,DQ=MQ,BQ=zy;function FQ(t,e){return t&&DQ(t,e,BQ)}var eL=FQ,UQ=cm;function zQ(t,e){return function(r,n){if(r==null)return r;if(!UQ(r))return t(r,n);for(var i=r.length,a=e?i:-1,s=Object(r);(e?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var qQ=zQ,WQ=eL,HQ=qQ,VQ=HQ(WQ),uS=VQ,GQ=uS,KQ=cm;function YQ(t,e){var r=-1,n=KQ(t)?Array(t.length):[];return GQ(t,function(i,a,s){n[++r]=e(i,a,s)}),n}var tL=YQ;function XQ(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var JQ=XQ,U3=sd;function ZQ(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=U3(t),s=e!==void 0,o=e===null,l=e===e,c=U3(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&t<e||c&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}var QQ=ZQ,eee=QQ;function tee(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var l=eee(i[n],a[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var ree=tee,qb=K_,nee=Y_,iee=_s,aee=tL,see=JQ,oee=F8,lee=ree,cee=pd,uee=xi;function fee(t,e,r){e.length?e=qb(e,function(a){return uee(a)?function(s){return nee(s,a.length===1?a[0]:a)}:a}):e=[cee];var n=-1;e=qb(e,oee(iee));var i=aee(t,function(a,s,o){var l=qb(e,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return see(i,function(a,s){return lee(a,s,r)})}var dee=fee;function hee(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var pee=hee,mee=pee,z3=Math.max;function gee(t,e,r){return e=z3(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=z3(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),mee(t,this,o)}}var vee=gee;function yee(t){return function(){return t}}var bee=yee,xee=Vc,wee=function(){try{var t=xee(Object,"defineProperty");return t({},"",{}),t}catch{}}(),rL=wee,_ee=bee,q3=rL,See=pd,Aee=q3?function(t,e){return q3(t,"toString",{configurable:!0,enumerable:!1,value:_ee(e),writable:!0})}:See,jee=Aee,Nee=800,Oee=16,kee=Date.now;function Pee(t){var e=0,r=0;return function(){var n=kee(),i=Oee-(n-r);if(r=n,i>0){if(++e>=Nee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Eee=Pee,Cee=jee,Tee=Eee,Lee=Tee(Cee),Iee=Lee,$ee=pd,Ree=vee,Mee=Iee;function Dee(t,e){return Mee(Ree(t,e,$ee),t+"")}var Bee=Dee,Fee=W_,Uee=cm,zee=oS,qee=Sl;function Wee(t,e,r){if(!qee(r))return!1;var n=typeof e;return(n=="number"?Uee(r)&&zee(e,r.length):n=="string"&&e in r)?Fee(r[e],t):!1}var Wy=Wee,Hee=Q8,Vee=dee,Gee=Bee,W3=Wy,Kee=Gee(function(t,e){if(t==null)return[];var r=e.length;return r>1&&W3(t,e[0],e[1])?e=[]:r>2&&W3(e[0],e[1],e[2])&&(e=[e[0]]),Vee(t,Hee(e,1),[])}),Yee=Kee;const fS=rr(Yee);function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hw.apply(this,arguments)}function Xee(t,e){return ete(t)||Qee(t,e)||Zee(t,e)||Jee()}function Jee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zee(t,e){if(t){if(typeof t=="string")return H3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H3(t,e)}}function H3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function ete(t){if(Array.isArray(t))return t}function V3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V3(Object(r),!0).forEach(function(n){tte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tte(t,e,r){return e=rte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rte(t){var e=nte(t,"string");return gp(e)=="symbol"?e:e+""}function nte(t,e){if(gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ite(t){return Array.isArray(t)&&xn(t[0])&&xn(t[1])?t.join(" ~ "):t}var ate=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,p=e.itemSorter,h=e.wrapperClassName,g=e.labelClassName,v=e.label,x=e.labelFormatter,y=e.accessibilityLayer,w=y===void 0?!1:y,_=function(){if(u&&u.length){var I={padding:0,margin:0},F=(p?fS(u,p):u).map(function(R,H){if(R.type==="none")return null;var J=Wb({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},o),re=R.formatter||f||ite,q=R.value,Z=R.name,le=q,fe=Z;if(re&&le!=null&&fe!=null){var T=re(q,Z,R,H,u);if(Array.isArray(T)){var B=Xee(T,2);le=B[0],fe=B[1]}else le=T}return ae.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:J},xn(fe)?ae.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,xn(fe)?ae.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ae.createElement("span",{className:"recharts-tooltip-item-value"},le),ae.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return ae.createElement("ul",{className:"recharts-tooltip-item-list",style:I},F)}return null},j=Wb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=Wb({margin:0},c),O=!St(v),k=O?v:"",L=Ct("recharts-default-tooltip",h),E=Ct("recharts-tooltip-label",g);O&&x&&u!==void 0&&u!==null&&(k=x(v,u));var $=w?{role:"status","aria-live":"assertive"}:{};return ae.createElement("div",hw({className:L,style:j},$),ae.createElement("p",{className:E,style:S},ae.isValidElement(k)?k:"".concat(k)),_())};function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function kg(t,e,r){return e=ste(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ste(t){var e=ote(t,"string");return vp(e)=="symbol"?e:e+""}function ote(t,e){if(vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nh="recharts-tooltip-wrapper",lte={visibility:"hidden"};function cte(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ct(nh,kg(kg(kg(kg({},"".concat(nh,"-right"),$e(r)&&e&&$e(e.x)&&r>=e.x),"".concat(nh,"-left"),$e(r)&&e&&$e(e.x)&&r<e.x),"".concat(nh,"-bottom"),$e(n)&&e&&$e(e.y)&&n>=e.y),"".concat(nh,"-top"),$e(n)&&e&&$e(e.y)&&n<e.y))}function G3(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&$e(a[n]))return a[n];var u=r[n]-o-i,f=r[n]+i;if(e[n])return s[n]?u:f;if(s[n]){var p=u,h=l[n];return p<h?Math.max(f,l[n]):Math.max(u,l[n])}var g=f+o,v=l[n]+c;return g>v?Math.max(u,l[n]):Math.max(f,l[n])}function ute(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function fte(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=G3({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=G3({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=ute({translateX:u,translateY:f,useTranslate3d:o})):c=lte,{cssProperties:c,cssClasses:cte({translateX:u,translateY:f,coordinate:r})}}function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function K3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K3(Object(r),!0).forEach(function(n){mw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iL(n.key),n)}}function pte(t,e,r){return e&&hte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mte(t,e,r){return e=lv(e),gte(t,nL()?Reflect.construct(e,r||[],lv(t).constructor):e.apply(t,r))}function gte(t,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vte(t)}function vte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nL=function(){return!!t})()}function lv(t){return lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lv(t)}function yte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pw(t,e)}function pw(t,e){return pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pw(t,e)}function mw(t,e,r){return e=iL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iL(t){var e=bte(t,"string");return Pf(e)=="symbol"?e:e+""}function bte(t,e){if(Pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var X3=1,xte=function(t){function e(){var r;dte(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=mte(this,e,[].concat(i)),mw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),mw(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return yte(e,t),pte(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>X3||Math.abs(n.height-this.state.lastBoundingBox.height)>X3)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,h=i.offset,g=i.position,v=i.reverseDirection,x=i.useTranslate3d,y=i.viewBox,w=i.wrapperStyle,_=fte({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:h,position:g,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),j=_.cssClasses,S=_.cssProperties,O=Y3(Y3({transition:p&&a?"transform ".concat(o,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return ae.createElement("div",{tabIndex:-1,className:j,style:O,ref:function(L){n.wrapperNode=L}},c)}}])}(Y.PureComponent),wte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Gc={isSsr:wte()};function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function J3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J3(Object(r),!0).forEach(function(n){dS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ste(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sL(n.key),n)}}function Ate(t,e,r){return e&&Ste(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jte(t,e,r){return e=cv(e),Nte(t,aL()?Reflect.construct(e,r||[],cv(t).constructor):e.apply(t,r))}function Nte(t,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ote(t)}function Ote(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aL=function(){return!!t})()}function cv(t){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cv(t)}function kte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gw(t,e)}function gw(t,e){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gw(t,e)}function dS(t,e,r){return e=sL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sL(t){var e=Pte(t,"string");return Ef(e)=="symbol"?e:e+""}function Pte(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ete(t){return t.dataKey}function Cte(t,e){return ae.isValidElement(t)?ae.cloneElement(t,e):typeof t=="function"?ae.createElement(t,e):ae.createElement(ate,e)}var $i=function(t){function e(){return _te(this,e),jte(this,e,arguments)}return kte(e,t),Ate(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,p=i.isAnimationActive,h=i.offset,g=i.payload,v=i.payloadUniqBy,x=i.position,y=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,j=i.wrapperStyle,S=g??[];f&&S.length&&(S=Y8(g.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),v,Ete));var O=S.length>0;return ae.createElement(xte,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:p,active:a,coordinate:u,hasPayload:O,offset:h,position:x,reverseDirection:y,useTranslate3d:w,viewBox:_,wrapperStyle:j},Cte(c,Z3(Z3({},this.props),{},{payload:S})))}}])}(Y.PureComponent);dS($i,"displayName","Tooltip");dS($i,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Gc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Tte=ws,Lte=function(){return Tte.Date.now()},Ite=Lte,$te=/\s/;function Rte(t){for(var e=t.length;e--&&$te.test(t.charAt(e)););return e}var Mte=Rte,Dte=Mte,Bte=/^\s+/;function Fte(t){return t&&t.slice(0,Dte(t)+1).replace(Bte,"")}var Ute=Fte,zte=Ute,Q3=Sl,qte=sd,e4=NaN,Wte=/^[-+]0x[0-9a-f]+$/i,Hte=/^0b[01]+$/i,Vte=/^0o[0-7]+$/i,Gte=parseInt;function Kte(t){if(typeof t=="number")return t;if(qte(t))return e4;if(Q3(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Q3(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=zte(t);var r=Hte.test(t);return r||Vte.test(t)?Gte(t.slice(2),r?2:8):Wte.test(t)?e4:+t}var oL=Kte,Yte=Sl,Hb=Ite,t4=oL,Xte="Expected a function",Jte=Math.max,Zte=Math.min;function Qte(t,e,r){var n,i,a,s,o,l,c=0,u=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(Xte);e=t4(e)||0,Yte(r)&&(u=!!r.leading,f="maxWait"in r,a=f?Jte(t4(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p);function h(O){var k=n,L=i;return n=i=void 0,c=O,s=t.apply(L,k),s}function g(O){return c=O,o=setTimeout(y,e),u?h(O):s}function v(O){var k=O-l,L=O-c,E=e-k;return f?Zte(E,a-L):E}function x(O){var k=O-l,L=O-c;return l===void 0||k>=e||k<0||f&&L>=a}function y(){var O=Hb();if(x(O))return w(O);o=setTimeout(y,v(O))}function w(O){return o=void 0,p&&n?h(O):(n=i=void 0,s)}function _(){o!==void 0&&clearTimeout(o),c=0,n=l=i=o=void 0}function j(){return o===void 0?s:w(Hb())}function S(){var O=Hb(),k=x(O);if(n=arguments,i=this,l=O,k){if(o===void 0)return g(l);if(f)return clearTimeout(o),o=setTimeout(y,e),h(l)}return o===void 0&&(o=setTimeout(y,e)),s}return S.cancel=_,S.flush=j,S}var ere=Qte,tre=ere,rre=Sl,nre="Expected a function";function ire(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(nre);return rre(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),tre(t,e,{leading:n,maxWait:e,trailing:i})}var are=ire;const lL=rr(are);function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function r4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r4(Object(r),!0).forEach(function(n){sre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sre(t,e,r){return e=ore(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ore(t){var e=lre(t,"string");return yp(e)=="symbol"?e:e+""}function lre(t,e){if(yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cre(t,e){return hre(t)||dre(t,e)||fre(t,e)||ure()}function ure(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fre(t,e){if(t){if(typeof t=="string")return n4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n4(t,e)}}function n4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function hre(t){if(Array.isArray(t))return t}var Hy=Y.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,p=t.maxHeight,h=t.children,g=t.debounce,v=g===void 0?0:g,x=t.id,y=t.className,w=t.onResize,_=t.style,j=_===void 0?{}:_,S=Y.useRef(null),O=Y.useRef();O.current=w,Y.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=Y.useState({containerWidth:i.width,containerHeight:i.height}),L=cre(k,2),E=L[0],$=L[1],P=Y.useCallback(function(F,R){$(function(H){var J=Math.round(F),re=Math.round(R);return H.containerWidth===J&&H.containerHeight===re?H:{containerWidth:J,containerHeight:re}})},[]);Y.useEffect(function(){var F=function(Z){var le,fe=Z[0].contentRect,T=fe.width,B=fe.height;P(T,B),(le=O.current)===null||le===void 0||le.call(O,T,B)};v>0&&(F=lL(F,v,{trailing:!0,leading:!1}));var R=new ResizeObserver(F),H=S.current.getBoundingClientRect(),J=H.width,re=H.height;return P(J,re),R.observe(S.current),function(){R.disconnect()}},[P,v]);var I=Y.useMemo(function(){var F=E.containerWidth,R=E.containerHeight;if(F<0||R<0)return null;Wa(yc(s)||yc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Wa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=yc(s)?F:s,J=yc(l)?R:l;r&&r>0&&(H?J=H/r:J&&(H=J*r),p&&J>p&&(J=p)),Wa(H>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,J,s,l,u,f,r);var re=!Array.isArray(h)&&eo(h.type).endsWith("Chart");return ae.Children.map(h,function(q){return ae.isValidElement(q)?Y.cloneElement(q,Pg({width:H,height:J},re?{style:Pg({height:"100%",width:"100%",maxHeight:J,maxWidth:H},q.props.style)}:{})):q})},[r,h,l,p,f,u,E,s]);return ae.createElement("div",{id:x?"".concat(x):void 0,className:Ct("recharts-responsive-container",y),style:Pg(Pg({},j),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:p}),ref:S},I)}),um=function(e){return null};um.displayName="Cell";function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function i4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i4(Object(r),!0).forEach(function(n){pre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pre(t,e,r){return e=mre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mre(t){var e=gre(t,"string");return bp(e)=="symbol"?e:e+""}function gre(t,e){if(bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wu={widthCache:{},cacheCount:0},vre=2e3,yre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},a4="recharts_measurement_span";function bre(t){var e=vw({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Lh=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Gc.isSsr)return{width:0,height:0};var n=bre(r),i=JSON.stringify({text:e,copyStyle:n});if(wu.widthCache[i])return wu.widthCache[i];try{var a=document.getElementById(a4);a||(a=document.createElement("span"),a.setAttribute("id",a4),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=vw(vw({},yre),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return wu.widthCache[i]=l,++wu.cacheCount>vre&&(wu.cacheCount=0,wu.widthCache={}),l}catch{return{width:0,height:0}}},xre=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function uv(t,e){return Are(t)||Sre(t,e)||_re(t,e)||wre()}function wre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _re(t,e){if(t){if(typeof t=="string")return s4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s4(t,e)}}function s4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Are(t){if(Array.isArray(t))return t}function jre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ore(n.key),n)}}function Nre(t,e,r){return e&&o4(t.prototype,e),r&&o4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ore(t){var e=kre(t,"string");return xp(e)=="symbol"?e:e+""}function kre(t,e){if(xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var l4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,c4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ere=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Cre=Object.keys(cL),Hu="NaN";function Tre(t,e){return t*cL[e]}var Eg=function(){function t(e,r){jre(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Pre.test(r)&&(this.num=NaN,this.unit=""),Cre.includes(r)&&(this.num=Tre(e,r),this.unit="px")}return Nre(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Ere.exec(r))!==null&&n!==void 0?n:[],a=uv(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function uL(t){if(t.includes(Hu))return Hu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=l4.exec(e))!==null&&r!==void 0?r:[],i=uv(n,4),a=i[1],s=i[2],o=i[3],l=Eg.parse(a??""),c=Eg.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Hu;e=e.replace(l4,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=c4.exec(e))!==null&&f!==void 0?f:[],h=uv(p,4),g=h[1],v=h[2],x=h[3],y=Eg.parse(g??""),w=Eg.parse(x??""),_=v==="+"?y.add(w):y.subtract(w);if(_.isNaN())return Hu;e=e.replace(c4,_.toString())}return e}var u4=/\(([^()]*)\)/;function Lre(t){for(var e=t;e.includes("(");){var r=u4.exec(e),n=uv(r,2),i=n[1];e=e.replace(u4,uL(i))}return e}function Ire(t){var e=t.replace(/\s+/g,"");return e=Lre(e),e=uL(e),e}function $re(t){try{return Ire(t)}catch{return Hu}}function Vb(t){var e=$re(t.slice(5,-1));return e===Hu?"":e}var Rre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Mre=["dx","dy","angle","className","breakAll"];function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yw.apply(this,arguments)}function f4(t,e){if(t==null)return{};var r=Dre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function d4(t,e){return zre(t)||Ure(t,e)||Fre(t,e)||Bre()}function Bre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fre(t,e){if(t){if(typeof t=="string")return h4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h4(t,e)}}function h4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ure(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function zre(t){if(Array.isArray(t))return t}var fL=/[ \f\n\r\t\v\u2028\u2029]+/,dL=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];St(r)||(n?a=r.toString().split(""):a=r.toString().split(fL));var s=a.map(function(l){return{word:l,width:Lh(l,i).width}}),o=n?0:Lh("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},qre=function(e,r,n,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=$e(s),f=o,p=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(J,re){var q=re.word,Z=re.width,le=J[J.length-1];if(le&&(i==null||a||le.width+Z+n<Number(i)))le.words.push(q),le.width+=Z+n;else{var fe={words:[q],width:Z};J.push(fe)}return J},[])},h=p(r),g=function(H){return H.reduce(function(J,re){return J.width>re.width?J:re})};if(!u)return h;for(var v="",x=function(H){var J=f.slice(0,H),re=dL({breakAll:c,style:l,children:J+v}).wordsWithComputedWidth,q=p(re),Z=q.length>s||g(q).width>Number(i);return[Z,q]},y=0,w=f.length-1,_=0,j;y<=w&&_<=f.length-1;){var S=Math.floor((y+w)/2),O=S-1,k=x(O),L=d4(k,2),E=L[0],$=L[1],P=x(S),I=d4(P,1),F=I[0];if(!E&&!F&&(y=S+1),E&&F&&(w=S-1),!E&&F){j=$;break}_++}return j||h},p4=function(e){var r=St(e)?[]:e.toString().split(fL);return[{words:r}]},Wre=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!Gc.isSsr){var l,c,u=dL({breakAll:s,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,p=u.spaceWidth;l=f,c=p}else return p4(i);return qre({breakAll:s,children:i,maxLines:o,style:a},l,c,r,n)}return p4(i)},m4="#808080",Rc=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,p=e.textAnchor,h=p===void 0?"start":p,g=e.verticalAnchor,v=g===void 0?"end":g,x=e.fill,y=x===void 0?m4:x,w=f4(e,Rre),_=Y.useMemo(function(){return Wre({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),j=w.dx,S=w.dy,O=w.angle,k=w.className,L=w.breakAll,E=f4(w,Mre);if(!xn(n)||!xn(a))return null;var $=n+($e(j)?j:0),P=a+($e(S)?S:0),I;switch(v){case"start":I=Vb("calc(".concat(c,")"));break;case"middle":I=Vb("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:I=Vb("calc(".concat(_.length-1," * -").concat(o,")"));break}var F=[];if(f){var R=_[0].width,H=w.width;F.push("scale(".concat(($e(H)?H/R:1)/R,")"))}return O&&F.push("rotate(".concat(O,", ").concat($,", ").concat(P,")")),F.length&&(E.transform=F.join(" ")),ae.createElement("text",yw({},lt(E,!0),{x:$,y:P,className:Ct("recharts-text",k),textAnchor:h,fill:y.includes("url")?m4:y}),_.map(function(J,re){var q=J.words.join(L?"":" ");return ae.createElement("tspan",{x:$,dy:re===0?I:o,key:"".concat(q,"-").concat(re)},q)}))};function hl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hS(t){let e,r,n;t.length!==2?(e=hl,r=(o,l)=>hl(t(o),l),n=(o,l)=>t(o)-l):(e=t===hl||t===Hre?t:Vre,r=t,n=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function Vre(){return 0}function hL(t){return t===null?NaN:+t}function*Gre(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Kre=hS(hl),fm=Kre.right;hS(hL).center;class g4 extends Map{constructor(e,r=Jre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(v4(this,e))}has(e){return super.has(v4(this,e))}set(e,r){return super.set(Yre(this,e),r)}delete(e){return super.delete(Xre(this,e))}}function v4({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Yre({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Xre({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Jre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Zre(t=hl){if(t===hl)return pL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function pL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Qre=Math.sqrt(50),ene=Math.sqrt(10),tne=Math.sqrt(2);function fv(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=Qre?10:a>=ene?5:a>=tne?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=r&&r<2?fv(t,e,r*2):[o,l,c]}function bw(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?fv(e,t,r):fv(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function xw(t,e,r){return e=+e,t=+t,r=+r,fv(t,e,r)[2]}function ww(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?xw(e,t,r):xw(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function y4(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function b4(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function mL(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?pL:Zre(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(e-c*f/l+p)),g=Math.min(n,Math.floor(e+(l-c)*f/l+p));mL(t,e,h,g,i)}const a=t[e];let s=r,o=n;for(ih(t,r,e),i(t[n],a)>0&&ih(t,r,n);s<o;){for(ih(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?ih(t,r,o):(++o,ih(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function ih(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function rne(t,e,r){if(t=Float64Array.from(Gre(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return b4(t);if(e>=1)return y4(t);var n,i=(n-1)*e,a=Math.floor(i),s=y4(mL(t,a).subarray(0,a+1)),o=b4(t.subarray(a+1));return s+(o-s)*(i-a)}}function nne(t,e,r=hL){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function ine(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function wa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function yo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const _w=Symbol("implicit");function pS(){var t=new g4,e=[],r=[],n=_w;function i(a){let s=t.get(a);if(s===void 0){if(n!==_w)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new g4;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return pS(e,r).unknown(n)},wa.apply(i,arguments),i}function wp(){var t=pS().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var p=e().length,h=i<n,g=h?i:n,v=h?n:i;a=(v-g)/Math.max(1,p-l+c*2),o&&(a=Math.floor(a)),g+=(v-g-a*(p-l))*u,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var x=ine(p).map(function(y){return g+a*y});return r(h?x.reverse():x)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(p){return arguments.length?(o=!!p,f()):o},t.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},t.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},t.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},t.copy=function(){return wp(e(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},wa.apply(f(),arguments)}function gL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return gL(e())},t}function Ih(){return gL(wp.apply(null,arguments).paddingInner(1))}function mS(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function vL(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function dm(){}var _p=.7,dv=1/_p,of="\\s*([+-]?\\d+)\\s*",Sp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ane=/^#([0-9a-f]{3,8})$/,sne=new RegExp(`^rgb\\(${of},${of},${of}\\)$`),one=new RegExp(`^rgb\\(${gs},${gs},${gs}\\)$`),lne=new RegExp(`^rgba\\(${of},${of},${of},${Sp}\\)$`),cne=new RegExp(`^rgba\\(${gs},${gs},${gs},${Sp}\\)$`),une=new RegExp(`^hsl\\(${Sp},${gs},${gs}\\)$`),fne=new RegExp(`^hsla\\(${Sp},${gs},${gs},${Sp}\\)$`),x4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mS(dm,Ap,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:w4,formatHex:w4,formatHex8:dne,formatHsl:hne,formatRgb:_4,toString:_4});function w4(){return this.rgb().formatHex()}function dne(){return this.rgb().formatHex8()}function hne(){return yL(this).formatHsl()}function _4(){return this.rgb().formatRgb()}function Ap(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=ane.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?S4(e):r===3?new gi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Cg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Cg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sne.exec(t))?new gi(e[1],e[2],e[3],1):(e=one.exec(t))?new gi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=lne.exec(t))?Cg(e[1],e[2],e[3],e[4]):(e=cne.exec(t))?Cg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=une.exec(t))?N4(e[1],e[2]/100,e[3]/100,1):(e=fne.exec(t))?N4(e[1],e[2]/100,e[3]/100,e[4]):x4.hasOwnProperty(t)?S4(x4[t]):t==="transparent"?new gi(NaN,NaN,NaN,0):null}function S4(t){return new gi(t>>16&255,t>>8&255,t&255,1)}function Cg(t,e,r,n){return n<=0&&(t=e=r=NaN),new gi(t,e,r,n)}function pne(t){return t instanceof dm||(t=Ap(t)),t?(t=t.rgb(),new gi(t.r,t.g,t.b,t.opacity)):new gi}function Sw(t,e,r,n){return arguments.length===1?pne(t):new gi(t,e,r,n??1)}function gi(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}mS(gi,Sw,vL(dm,{brighter(t){return t=t==null?dv:Math.pow(dv,t),new gi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?_p:Math.pow(_p,t),new gi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new gi(Ac(this.r),Ac(this.g),Ac(this.b),hv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A4,formatHex:A4,formatHex8:mne,formatRgb:j4,toString:j4}));function A4(){return`#${bc(this.r)}${bc(this.g)}${bc(this.b)}`}function mne(){return`#${bc(this.r)}${bc(this.g)}${bc(this.b)}${bc((isNaN(this.opacity)?1:this.opacity)*255)}`}function j4(){const t=hv(this.opacity);return`${t===1?"rgb(":"rgba("}${Ac(this.r)}, ${Ac(this.g)}, ${Ac(this.b)}${t===1?")":`, ${t})`}`}function hv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ac(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function bc(t){return t=Ac(t),(t<16?"0":"")+t.toString(16)}function N4(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Fa(t,e,r,n)}function yL(t){if(t instanceof Fa)return new Fa(t.h,t.s,t.l,t.opacity);if(t instanceof dm||(t=Ap(t)),!t)return new Fa;if(t instanceof Fa)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Fa(s,o,l,t.opacity)}function gne(t,e,r,n){return arguments.length===1?yL(t):new Fa(t,e,r,n??1)}function Fa(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}mS(Fa,gne,vL(dm,{brighter(t){return t=t==null?dv:Math.pow(dv,t),new Fa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?_p:Math.pow(_p,t),new Fa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new gi(Gb(t>=240?t-240:t+120,i,n),Gb(t,i,n),Gb(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Fa(O4(this.h),Tg(this.s),Tg(this.l),hv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=hv(this.opacity);return`${t===1?"hsl(":"hsla("}${O4(this.h)}, ${Tg(this.s)*100}%, ${Tg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function O4(t){return t=(t||0)%360,t<0?t+360:t}function Tg(t){return Math.max(0,Math.min(1,t||0))}function Gb(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const gS=t=>()=>t;function vne(t,e){return function(r){return t+r*e}}function yne(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function bne(t){return(t=+t)==1?bL:function(e,r){return r-e?yne(e,r,t):gS(isNaN(e)?r:e)}}function bL(t,e){var r=e-t;return r?vne(t,r):gS(isNaN(t)?e:t)}const k4=function t(e){var r=bne(e);function n(i,a){var s=r((i=Sw(i)).r,(a=Sw(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),c=bL(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function xne(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function wne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _ne(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=md(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function Sne(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function pv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Ane(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=md(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Aw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kb=new RegExp(Aw.source,"g");function jne(t){return function(){return t}}function Nne(t){return function(e){return t(e)+""}}function One(t,e){var r=Aw.lastIndex=Kb.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=Aw.exec(t))&&(i=Kb.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:pv(n,i)})),r=Kb.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Nne(l[0].x):jne(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function md(t,e){var r=typeof e,n;return e==null||r==="boolean"?gS(e):(r==="number"?pv:r==="string"?(n=Ap(e))?(e=n,k4):One:e instanceof Ap?k4:e instanceof Date?Sne:wne(e)?xne:Array.isArray(e)?_ne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ane:pv)(t,e)}function vS(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function kne(t,e){e===void 0&&(e=t,t=md);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function Pne(t){return function(){return t}}function mv(t){return+t}var P4=[0,1];function si(t){return t}function jw(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Pne(isNaN(e)?NaN:.5)}function Ene(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Cne(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=jw(i,n),a=r(s,a)):(n=jw(n,i),a=r(a,s)),function(o){return a(n(o))}}function Tne(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=jw(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=fm(t,o,1,n)-1;return a[l](i[l](o))}}function hm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vy(){var t=P4,e=P4,r=md,n,i,a,s=si,o,l,c;function u(){var p=Math.min(t.length,e.length);return s!==si&&(s=Ene(t[0],t[p-1])),o=p>2?Tne:Cne,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=o(t.map(n),e,r)))(n(s(p)))}return f.invert=function(p){return s(i((c||(c=o(e,t.map(n),pv)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,mv),u()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),u()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),r=vS,u()},f.clamp=function(p){return arguments.length?(s=p?!0:si,u()):s!==si},f.interpolate=function(p){return arguments.length?(r=p,u()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,h){return n=p,i=h,u()}}function yS(){return Vy()(si,si)}function Lne(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function gv(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Cf(t){return t=gv(Math.abs(t)),t?t[1]:NaN}function Ine(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function $ne(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Rne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jp(t){if(!(e=Rne.exec(t)))throw new Error("invalid format: "+t);var e;return new bS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}jp.prototype=bS.prototype;function bS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}bS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Mne(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var xL;function Dne(t,e){var r=gv(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(xL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+gv(t,Math.max(0,e+a-1))[0]}function E4(t,e){var r=gv(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const C4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Lne,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>E4(t*100,e),r:E4,s:Dne,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function T4(t){return t}var L4=Array.prototype.map,I4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Bne(t){var e=t.grouping===void 0||t.thousands===void 0?T4:Ine(L4.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?T4:$ne(L4.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=jp(f);var p=f.fill,h=f.align,g=f.sign,v=f.symbol,x=f.zero,y=f.width,w=f.comma,_=f.precision,j=f.trim,S=f.type;S==="n"?(w=!0,S="g"):C4[S]||(_===void 0&&(_=12),j=!0,S="g"),(x||p==="0"&&h==="=")&&(x=!0,p="0",h="=");var O=v==="$"?r:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",k=v==="$"?n:/[%p]/.test(S)?s:"",L=C4[S],E=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function $(P){var I=O,F=k,R,H,J;if(S==="c")F=L(P)+F,P="";else{P=+P;var re=P<0||1/P<0;if(P=isNaN(P)?l:L(Math.abs(P),_),j&&(P=Mne(P)),re&&+P==0&&g!=="+"&&(re=!1),I=(re?g==="("?g:o:g==="-"||g==="("?"":g)+I,F=(S==="s"?I4[8+xL/3]:"")+F+(re&&g==="("?")":""),E){for(R=-1,H=P.length;++R<H;)if(J=P.charCodeAt(R),48>J||J>57){F=(J===46?i+P.slice(R+1):P.slice(R))+F,P=P.slice(0,R);break}}}w&&!x&&(P=e(P,1/0));var q=I.length+P.length+F.length,Z=q<y?new Array(y-q+1).join(p):"";switch(w&&x&&(P=e(Z+P,Z.length?y-F.length:1/0),Z=""),h){case"<":P=I+P+F+Z;break;case"=":P=I+Z+P+F;break;case"^":P=Z.slice(0,q=Z.length>>1)+I+P+F+Z.slice(q);break;default:P=Z+I+P+F;break}return a(P)}return $.toString=function(){return f+""},$}function u(f,p){var h=c((f=jp(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Cf(p)/3)))*3,v=Math.pow(10,-g),x=I4[8+g/3];return function(y){return h(v*y)+x}}return{format:c,formatPrefix:u}}var Lg,xS,wL;Fne({thousands:",",grouping:[3],currency:["$",""]});function Fne(t){return Lg=Bne(t),xS=Lg.format,wL=Lg.formatPrefix,Lg}function Une(t){return Math.max(0,-Cf(Math.abs(t)))}function zne(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cf(e)/3)))*3-Cf(Math.abs(t)))}function qne(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Cf(e)-Cf(t))+1}function _L(t,e,r,n){var i=ww(t,e,r),a;switch(n=jp(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=zne(i,s))&&(n.precision=a),wL(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=qne(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Une(i))&&(n.precision=a-(n.type==="%")*2);break}}return xS(n)}function Al(t){var e=t.domain;return t.ticks=function(r){var n=e();return bw(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return _L(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=xw(s,o,r),c===l)return n[i]=s,n[a]=o,e(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function vv(){var t=yS();return t.copy=function(){return hm(t,vv())},wa.apply(t,arguments),Al(t)}function SL(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,mv),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return SL(t).unknown(e)},t=arguments.length?Array.from(t,mv):[0,1],Al(r)}function AL(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function $4(t){return Math.log(t)}function R4(t){return Math.exp(t)}function Wne(t){return-Math.log(-t)}function Hne(t){return-Math.exp(-t)}function Vne(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Gne(t){return t===10?Vne:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Kne(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function M4(t){return(e,r)=>-t(-e,r)}function wS(t){const e=t($4,R4),r=e.domain;let n=10,i,a;function s(){return i=Kne(n),a=Gne(n),r()[0]<0?(i=M4(i),a=M4(a),t(Wne,Hne)):t($4,R4),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let p=i(c),h=i(u),g,v;const x=o==null?10:+o;let y=[];if(!(n%1)&&h-p<x){if(p=Math.floor(p),h=Math.ceil(h),c>0){for(;p<=h;++p)for(g=1;g<n;++g)if(v=p<0?g/a(-p):g*a(p),!(v<c)){if(v>u)break;y.push(v)}}else for(;p<=h;++p)for(g=n-1;g>=1;--g)if(v=p>0?g/a(-p):g*a(p),!(v<c)){if(v>u)break;y.push(v)}y.length*2<x&&(y=bw(c,u,x))}else y=bw(p,h,Math.min(h-p,x)).map(a);return f?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=jp(l)).precision==null&&(l.trim=!0),l=xS(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},e.nice=()=>r(AL(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function jL(){const t=wS(Vy()).domain([1,10]);return t.copy=()=>hm(t,jL()).base(t.base()),wa.apply(t,arguments),t}function D4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function B4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function _S(t){var e=1,r=t(D4(e),B4(e));return r.constant=function(n){return arguments.length?t(D4(e=+n),B4(e)):e},Al(r)}function NL(){var t=_S(Vy());return t.copy=function(){return hm(t,NL()).constant(t.constant())},wa.apply(t,arguments)}function F4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Yne(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Xne(t){return t<0?-t*t:t*t}function SS(t){var e=t(si,si),r=1;function n(){return r===1?t(si,si):r===.5?t(Yne,Xne):t(F4(r),F4(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Al(e)}function AS(){var t=SS(Vy());return t.copy=function(){return hm(t,AS()).exponent(t.exponent())},wa.apply(t,arguments),t}function Jne(){return AS.apply(null,arguments).exponent(.5)}function U4(t){return Math.sign(t)*t*t}function Zne(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function OL(){var t=yS(),e=[0,1],r=!1,n;function i(a){var s=Zne(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(U4(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,mv)).map(U4)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return OL(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},wa.apply(i,arguments),Al(i)}function kL(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=nne(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[fm(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(hl),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return kL().domain(t).range(e).unknown(n)},wa.apply(a,arguments)}function PL(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[fm(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return PL().domain([t,e]).range(i).unknown(a)},wa.apply(Al(s),arguments)}function EL(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[fm(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return EL().domain(t).range(e).unknown(r)},wa.apply(i,arguments)}const Yb=new Date,Xb=new Date;function wn(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>wn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(Yb.setTime(+a),Xb.setTime(+s),t(Yb),t(Xb),Math.floor(r(Yb,Xb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const yv=wn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);yv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?wn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):yv);yv.range;const Xs=1e3,da=Xs*60,Js=da*60,uo=Js*24,jS=uo*7,z4=uo*30,Jb=uo*365,xc=wn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Xs)},(t,e)=>(e-t)/Xs,t=>t.getUTCSeconds());xc.range;const NS=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xs)},(t,e)=>{t.setTime(+t+e*da)},(t,e)=>(e-t)/da,t=>t.getMinutes());NS.range;const OS=wn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*da)},(t,e)=>(e-t)/da,t=>t.getUTCMinutes());OS.range;const kS=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xs-t.getMinutes()*da)},(t,e)=>{t.setTime(+t+e*Js)},(t,e)=>(e-t)/Js,t=>t.getHours());kS.range;const PS=wn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Js)},(t,e)=>(e-t)/Js,t=>t.getUTCHours());PS.range;const pm=wn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*da)/uo,t=>t.getDate()-1);pm.range;const Gy=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/uo,t=>t.getUTCDate()-1);Gy.range;const CL=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/uo,t=>Math.floor(t/uo));CL.range;function Kc(t){return wn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*da)/jS)}const Ky=Kc(0),bv=Kc(1),Qne=Kc(2),eie=Kc(3),Tf=Kc(4),tie=Kc(5),rie=Kc(6);Ky.range;bv.range;Qne.range;eie.range;Tf.range;tie.range;rie.range;function Yc(t){return wn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/jS)}const Yy=Yc(0),xv=Yc(1),nie=Yc(2),iie=Yc(3),Lf=Yc(4),aie=Yc(5),sie=Yc(6);Yy.range;xv.range;nie.range;iie.range;Lf.range;aie.range;sie.range;const ES=wn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ES.range;const CS=wn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());CS.range;const fo=wn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());fo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});fo.range;const ho=wn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ho.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ho.range;function TL(t,e,r,n,i,a){const s=[[xc,1,Xs],[xc,5,5*Xs],[xc,15,15*Xs],[xc,30,30*Xs],[a,1,da],[a,5,5*da],[a,15,15*da],[a,30,30*da],[i,1,Js],[i,3,3*Js],[i,6,6*Js],[i,12,12*Js],[n,1,uo],[n,2,2*uo],[r,1,jS],[e,1,z4],[e,3,3*z4],[t,1,Jb]];function o(c,u,f){const p=u<c;p&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),g=h?h.range(c,+u+1):[];return p?g.reverse():g}function l(c,u,f){const p=Math.abs(u-c)/f,h=hS(([,,x])=>x).right(s,p);if(h===s.length)return t.every(ww(c/Jb,u/Jb,f));if(h===0)return yv.every(Math.max(ww(c,u,f),1));const[g,v]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return g.every(v)}return[o,l]}const[oie,lie]=TL(ho,CS,Yy,CL,PS,OS),[cie,uie]=TL(fo,ES,Ky,pm,kS,NS);function Zb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Qb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ah(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function fie(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=sh(i),u=oh(i),f=sh(a),p=oh(a),h=sh(s),g=oh(s),v=sh(o),x=oh(o),y=sh(l),w=oh(l),_={a:re,A:q,b:Z,B:le,c:null,d:K4,e:K4,f:Iie,g:Wie,G:Vie,H:Cie,I:Tie,j:Lie,L:LL,m:$ie,M:Rie,p:fe,q:T,Q:J4,s:Z4,S:Mie,u:Die,U:Bie,V:Fie,w:Uie,W:zie,x:null,X:null,y:qie,Y:Hie,Z:Gie,"%":X4},j={a:B,A:X,b:V,B:ne,c:null,d:Y4,e:Y4,f:Jie,g:oae,G:cae,H:Kie,I:Yie,j:Xie,L:$L,m:Zie,M:Qie,p:se,q:de,Q:J4,s:Z4,S:eae,u:tae,U:rae,V:nae,w:iae,W:aae,x:null,X:null,y:sae,Y:lae,Z:uae,"%":X4},S={a:$,A:P,b:I,B:F,c:R,d:V4,e:V4,f:Oie,g:H4,G:W4,H:G4,I:G4,j:Sie,L:Nie,m:_ie,M:Aie,p:E,q:wie,Q:Pie,s:Eie,S:jie,u:gie,U:vie,V:yie,w:mie,W:bie,x:H,X:J,y:H4,Y:W4,Z:xie,"%":kie};_.x=O(r,_),_.X=O(n,_),_.c=O(e,_),j.x=O(r,j),j.X=O(n,j),j.c=O(e,j);function O(ie,me){return function(xe){var pe=[],Pe=-1,ue=0,G=ie.length,Re,Fe,Be;for(xe instanceof Date||(xe=new Date(+xe));++Pe<G;)ie.charCodeAt(Pe)===37&&(pe.push(ie.slice(ue,Pe)),(Fe=q4[Re=ie.charAt(++Pe)])!=null?Re=ie.charAt(++Pe):Fe=Re==="e"?" ":"0",(Be=me[Re])&&(Re=Be(xe,Fe)),pe.push(Re),ue=Pe+1);return pe.push(ie.slice(ue,Pe)),pe.join("")}}function k(ie,me){return function(xe){var pe=ah(1900,void 0,1),Pe=L(pe,ie,xe+="",0),ue,G;if(Pe!=xe.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(me&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(ue=Qb(ah(pe.y,0,1)),G=ue.getUTCDay(),ue=G>4||G===0?xv.ceil(ue):xv(ue),ue=Gy.offset(ue,(pe.V-1)*7),pe.y=ue.getUTCFullYear(),pe.m=ue.getUTCMonth(),pe.d=ue.getUTCDate()+(pe.w+6)%7):(ue=Zb(ah(pe.y,0,1)),G=ue.getDay(),ue=G>4||G===0?bv.ceil(ue):bv(ue),ue=pm.offset(ue,(pe.V-1)*7),pe.y=ue.getFullYear(),pe.m=ue.getMonth(),pe.d=ue.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),G="Z"in pe?Qb(ah(pe.y,0,1)).getUTCDay():Zb(ah(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(G+5)%7:pe.w+pe.U*7-(G+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,Qb(pe)):Zb(pe)}}function L(ie,me,xe,pe){for(var Pe=0,ue=me.length,G=xe.length,Re,Fe;Pe<ue;){if(pe>=G)return-1;if(Re=me.charCodeAt(Pe++),Re===37){if(Re=me.charAt(Pe++),Fe=S[Re in q4?me.charAt(Pe++):Re],!Fe||(pe=Fe(ie,xe,pe))<0)return-1}else if(Re!=xe.charCodeAt(pe++))return-1}return pe}function E(ie,me,xe){var pe=c.exec(me.slice(xe));return pe?(ie.p=u.get(pe[0].toLowerCase()),xe+pe[0].length):-1}function $(ie,me,xe){var pe=h.exec(me.slice(xe));return pe?(ie.w=g.get(pe[0].toLowerCase()),xe+pe[0].length):-1}function P(ie,me,xe){var pe=f.exec(me.slice(xe));return pe?(ie.w=p.get(pe[0].toLowerCase()),xe+pe[0].length):-1}function I(ie,me,xe){var pe=y.exec(me.slice(xe));return pe?(ie.m=w.get(pe[0].toLowerCase()),xe+pe[0].length):-1}function F(ie,me,xe){var pe=v.exec(me.slice(xe));return pe?(ie.m=x.get(pe[0].toLowerCase()),xe+pe[0].length):-1}function R(ie,me,xe){return L(ie,e,me,xe)}function H(ie,me,xe){return L(ie,r,me,xe)}function J(ie,me,xe){return L(ie,n,me,xe)}function re(ie){return s[ie.getDay()]}function q(ie){return a[ie.getDay()]}function Z(ie){return l[ie.getMonth()]}function le(ie){return o[ie.getMonth()]}function fe(ie){return i[+(ie.getHours()>=12)]}function T(ie){return 1+~~(ie.getMonth()/3)}function B(ie){return s[ie.getUTCDay()]}function X(ie){return a[ie.getUTCDay()]}function V(ie){return l[ie.getUTCMonth()]}function ne(ie){return o[ie.getUTCMonth()]}function se(ie){return i[+(ie.getUTCHours()>=12)]}function de(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var me=O(ie+="",_);return me.toString=function(){return ie},me},parse:function(ie){var me=k(ie+="",!1);return me.toString=function(){return ie},me},utcFormat:function(ie){var me=O(ie+="",j);return me.toString=function(){return ie},me},utcParse:function(ie){var me=k(ie+="",!0);return me.toString=function(){return ie},me}}}var q4={"-":"",_:" ",0:"0"},kn=/^\s*\d+/,die=/^%/,hie=/[\\^$*+?|[\]().{}]/g;function Ht(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function pie(t){return t.replace(hie,"\\$&")}function sh(t){return new RegExp("^(?:"+t.map(pie).join("|")+")","i")}function oh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function mie(t,e,r){var n=kn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function gie(t,e,r){var n=kn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function vie(t,e,r){var n=kn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function yie(t,e,r){var n=kn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function bie(t,e,r){var n=kn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function W4(t,e,r){var n=kn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function H4(t,e,r){var n=kn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function xie(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function wie(t,e,r){var n=kn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function _ie(t,e,r){var n=kn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function V4(t,e,r){var n=kn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Sie(t,e,r){var n=kn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function G4(t,e,r){var n=kn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Aie(t,e,r){var n=kn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function jie(t,e,r){var n=kn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Nie(t,e,r){var n=kn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Oie(t,e,r){var n=kn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function kie(t,e,r){var n=die.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Pie(t,e,r){var n=kn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Eie(t,e,r){var n=kn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function K4(t,e){return Ht(t.getDate(),e,2)}function Cie(t,e){return Ht(t.getHours(),e,2)}function Tie(t,e){return Ht(t.getHours()%12||12,e,2)}function Lie(t,e){return Ht(1+pm.count(fo(t),t),e,3)}function LL(t,e){return Ht(t.getMilliseconds(),e,3)}function Iie(t,e){return LL(t,e)+"000"}function $ie(t,e){return Ht(t.getMonth()+1,e,2)}function Rie(t,e){return Ht(t.getMinutes(),e,2)}function Mie(t,e){return Ht(t.getSeconds(),e,2)}function Die(t){var e=t.getDay();return e===0?7:e}function Bie(t,e){return Ht(Ky.count(fo(t)-1,t),e,2)}function IL(t){var e=t.getDay();return e>=4||e===0?Tf(t):Tf.ceil(t)}function Fie(t,e){return t=IL(t),Ht(Tf.count(fo(t),t)+(fo(t).getDay()===4),e,2)}function Uie(t){return t.getDay()}function zie(t,e){return Ht(bv.count(fo(t)-1,t),e,2)}function qie(t,e){return Ht(t.getFullYear()%100,e,2)}function Wie(t,e){return t=IL(t),Ht(t.getFullYear()%100,e,2)}function Hie(t,e){return Ht(t.getFullYear()%1e4,e,4)}function Vie(t,e){var r=t.getDay();return t=r>=4||r===0?Tf(t):Tf.ceil(t),Ht(t.getFullYear()%1e4,e,4)}function Gie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ht(e/60|0,"0",2)+Ht(e%60,"0",2)}function Y4(t,e){return Ht(t.getUTCDate(),e,2)}function Kie(t,e){return Ht(t.getUTCHours(),e,2)}function Yie(t,e){return Ht(t.getUTCHours()%12||12,e,2)}function Xie(t,e){return Ht(1+Gy.count(ho(t),t),e,3)}function $L(t,e){return Ht(t.getUTCMilliseconds(),e,3)}function Jie(t,e){return $L(t,e)+"000"}function Zie(t,e){return Ht(t.getUTCMonth()+1,e,2)}function Qie(t,e){return Ht(t.getUTCMinutes(),e,2)}function eae(t,e){return Ht(t.getUTCSeconds(),e,2)}function tae(t){var e=t.getUTCDay();return e===0?7:e}function rae(t,e){return Ht(Yy.count(ho(t)-1,t),e,2)}function RL(t){var e=t.getUTCDay();return e>=4||e===0?Lf(t):Lf.ceil(t)}function nae(t,e){return t=RL(t),Ht(Lf.count(ho(t),t)+(ho(t).getUTCDay()===4),e,2)}function iae(t){return t.getUTCDay()}function aae(t,e){return Ht(xv.count(ho(t)-1,t),e,2)}function sae(t,e){return Ht(t.getUTCFullYear()%100,e,2)}function oae(t,e){return t=RL(t),Ht(t.getUTCFullYear()%100,e,2)}function lae(t,e){return Ht(t.getUTCFullYear()%1e4,e,4)}function cae(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Lf(t):Lf.ceil(t),Ht(t.getUTCFullYear()%1e4,e,4)}function uae(){return"+0000"}function X4(){return"%"}function J4(t){return+t}function Z4(t){return Math.floor(+t/1e3)}var _u,ML,DL;fae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fae(t){return _u=fie(t),ML=_u.format,_u.parse,DL=_u.utcFormat,_u.utcParse,_u}function dae(t){return new Date(t)}function hae(t){return t instanceof Date?+t:+new Date(+t)}function TS(t,e,r,n,i,a,s,o,l,c){var u=yS(),f=u.invert,p=u.domain,h=c(".%L"),g=c(":%S"),v=c("%I:%M"),x=c("%I %p"),y=c("%a %d"),w=c("%b %d"),_=c("%B"),j=c("%Y");function S(O){return(l(O)<O?h:o(O)<O?g:s(O)<O?v:a(O)<O?x:n(O)<O?i(O)<O?y:w:r(O)<O?_:j)(O)}return u.invert=function(O){return new Date(f(O))},u.domain=function(O){return arguments.length?p(Array.from(O,hae)):p().map(dae)},u.ticks=function(O){var k=p();return t(k[0],k[k.length-1],O??10)},u.tickFormat=function(O,k){return k==null?S:c(k)},u.nice=function(O){var k=p();return(!O||typeof O.range!="function")&&(O=e(k[0],k[k.length-1],O??10)),O?p(AL(k,O)):u},u.copy=function(){return hm(u,TS(t,e,r,n,i,a,s,o,l,c))},u}function pae(){return wa.apply(TS(cie,uie,fo,ES,Ky,pm,kS,NS,xc,ML).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mae(){return wa.apply(TS(oie,lie,ho,CS,Yy,Gy,PS,OS,xc,DL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xy(){var t=0,e=1,r,n,i,a,s=si,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(p){var h,g;return arguments.length?([h,g]=p,s=f(h,g),c):[s(0),s(1)]}}return c.range=u(md),c.rangeRound=u(vS),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function jl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function BL(){var t=Al(Xy()(si));return t.copy=function(){return jl(t,BL())},yo.apply(t,arguments)}function FL(){var t=wS(Xy()).domain([1,10]);return t.copy=function(){return jl(t,FL()).base(t.base())},yo.apply(t,arguments)}function UL(){var t=_S(Xy());return t.copy=function(){return jl(t,UL()).constant(t.constant())},yo.apply(t,arguments)}function LS(){var t=SS(Xy());return t.copy=function(){return jl(t,LS()).exponent(t.exponent())},yo.apply(t,arguments)}function gae(){return LS.apply(null,arguments).exponent(.5)}function zL(){var t=[],e=si;function r(n){if(n!=null&&!isNaN(n=+n))return e((fm(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(hl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>rne(t,a/n))},r.copy=function(){return zL(e).domain(t)},yo.apply(r,arguments)}function Jy(){var t=0,e=.5,r=1,n=1,i,a,s,o,l,c=si,u,f=!1,p;function h(v){return isNaN(v=+v)?p:(v=.5+((v=+u(v))-a)*(n*v<n*a?o:l),c(f?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([t,e,r]=v,i=u(t=+t),a=u(e=+e),s=u(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h):[t,e,r]},h.clamp=function(v){return arguments.length?(f=!!v,h):f},h.interpolator=function(v){return arguments.length?(c=v,h):c};function g(v){return function(x){var y,w,_;return arguments.length?([y,w,_]=x,c=kne(v,[y,w,_]),h):[c(0),c(.5),c(1)]}}return h.range=g(md),h.rangeRound=g(vS),h.unknown=function(v){return arguments.length?(p=v,h):p},function(v){return u=v,i=v(t),a=v(e),s=v(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h}}function qL(){var t=Al(Jy()(si));return t.copy=function(){return jl(t,qL())},yo.apply(t,arguments)}function WL(){var t=wS(Jy()).domain([.1,1,10]);return t.copy=function(){return jl(t,WL()).base(t.base())},yo.apply(t,arguments)}function HL(){var t=_S(Jy());return t.copy=function(){return jl(t,HL()).constant(t.constant())},yo.apply(t,arguments)}function IS(){var t=SS(Jy());return t.copy=function(){return jl(t,IS()).exponent(t.exponent())},yo.apply(t,arguments)}function vae(){return IS.apply(null,arguments).exponent(.5)}const Q4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wp,scaleDiverging:qL,scaleDivergingLog:WL,scaleDivergingPow:IS,scaleDivergingSqrt:vae,scaleDivergingSymlog:HL,scaleIdentity:SL,scaleImplicit:_w,scaleLinear:vv,scaleLog:jL,scaleOrdinal:pS,scalePoint:Ih,scalePow:AS,scaleQuantile:kL,scaleQuantize:PL,scaleRadial:OL,scaleSequential:BL,scaleSequentialLog:FL,scaleSequentialPow:LS,scaleSequentialQuantile:zL,scaleSequentialSqrt:gae,scaleSequentialSymlog:UL,scaleSqrt:Jne,scaleSymlog:NL,scaleThreshold:EL,scaleTime:pae,scaleUtc:mae,tickFormat:_L},Symbol.toStringTag,{value:"Module"}));var yae=sd;function bae(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!yae(s):r(s,o)))var o=s,l=a}return l}var Zy=bae;function xae(t,e){return t>e}var VL=xae,wae=Zy,_ae=VL,Sae=pd;function Aae(t){return t&&t.length?wae(t,Sae,_ae):void 0}var jae=Aae;const Qy=rr(jae);function Nae(t,e){return t<e}var GL=Nae,Oae=Zy,kae=GL,Pae=pd;function Eae(t){return t&&t.length?Oae(t,Pae,kae):void 0}var Cae=Eae;const e1=rr(Cae);var Tae=K_,Lae=_s,Iae=tL,$ae=xi;function Rae(t,e){var r=$ae(t)?Tae:Iae;return r(t,Lae(e))}var Mae=Rae,Dae=Q8,Bae=Mae;function Fae(t,e){return Dae(Bae(t,e),1)}var Uae=Fae;const zae=rr(Uae);var qae=cS;function Wae(t,e){return qae(t,e)}var Hae=Wae;const mm=rr(Hae);var gd=1e9,Vae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},RS,kr=!0,ga="[DecimalError] ",jc=ga+"Invalid argument: ",$S=ga+"Exponent out of range: ",vd=Math.floor,oc=Math.pow,Gae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bi,Sn=1e7,Sr=7,KL=9007199254740991,wv=vd(KL/Sr),He={};He.absoluteValue=He.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};He.comparedTo=He.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};He.decimalPlaces=He.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Sr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};He.dividedBy=He.div=function(t){return ro(this,new this.constructor(t))};He.dividedToIntegerBy=He.idiv=function(t){var e=this,r=e.constructor;return fr(ro(e,new r(t),0,1),r.precision)};He.equals=He.eq=function(t){return!this.cmp(t)};He.exponent=function(){return sn(this)};He.greaterThan=He.gt=function(t){return this.cmp(t)>0};He.greaterThanOrEqualTo=He.gte=function(t){return this.cmp(t)>=0};He.isInteger=He.isint=function(){return this.e>this.d.length-2};He.isNegative=He.isneg=function(){return this.s<0};He.isPositive=He.ispos=function(){return this.s>0};He.isZero=function(){return this.s===0};He.lessThan=He.lt=function(t){return this.cmp(t)<0};He.lessThanOrEqualTo=He.lte=function(t){return this.cmp(t)<1};He.logarithm=He.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Bi))throw Error(ga+"NaN");if(r.s<1)throw Error(ga+(r.s?"NaN":"-Infinity"));return r.eq(Bi)?new n(0):(kr=!1,e=ro(Np(r,a),Np(t,a),a),kr=!0,fr(e,i))};He.minus=He.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JL(e,t):YL(e,(t.s=-t.s,t))};He.modulo=He.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ga+"NaN");return r.s?(kr=!1,e=ro(r,t,0,1).times(t),kr=!0,r.minus(e)):fr(new n(r),i)};He.naturalExponential=He.exp=function(){return XL(this)};He.naturalLogarithm=He.ln=function(){return Np(this)};He.negated=He.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};He.plus=He.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YL(e,t):JL(e,(t.s=-t.s,t))};He.precision=He.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(jc+t);if(e=sn(i)+1,n=i.d.length-1,r=n*Sr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};He.squareRoot=He.sqrt=function(){var t,e,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ga+"NaN")}for(t=sn(o),kr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=us(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=vd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(ro(o,a,s+2)).times(.5),us(a.d).slice(0,s)===(e=us(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(fr(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return kr=!0,fr(n,r)};He.times=He.mul=function(t){var e,r,n,i,a,s,o,l,c,u=this,f=u.constructor,p=u.d,h=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,r=u.e+t.e,l=p.length,c=h.length,l<c&&(a=p,p=h,h=a,s=l,l=c,c=s),a=[],s=l+c,n=s;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+h[n]*p[i-n-1]+e,a[i--]=o%Sn|0,e=o/Sn|0;a[i]=(a[i]+e)%Sn|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,kr?fr(t,f.precision):t};He.toDecimalPlaces=He.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(bs(t,0,gd),e===void 0?e=n.rounding:bs(e,0,8),fr(r,t+sn(r)+1,e))};He.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Mc(n,!0):(bs(t,0,gd),e===void 0?e=i.rounding:bs(e,0,8),n=fr(new i(n),t+1,e),r=Mc(n,!0,t+1)),r};He.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Mc(i):(bs(t,0,gd),e===void 0?e=a.rounding:bs(e,0,8),n=fr(new a(i),t+sn(i)+1,e),r=Mc(n.abs(),!1,t+sn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};He.toInteger=He.toint=function(){var t=this,e=t.constructor;return fr(new e(t),sn(t)+1,e.rounding)};He.toNumber=function(){return+this};He.toPower=He.pow=function(t){var e,r,n,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Bi);if(o=new l(o),!o.s){if(t.s<1)throw Error(ga+"Infinity");return o}if(o.eq(Bi))return o;if(n=l.precision,t.eq(Bi))return fr(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=u<0?-u:u)<=KL){for(i=new l(Bi),e=Math.ceil(n/Sr+4),kr=!1;r%2&&(i=i.times(o),tO(i.d,e)),r=vd(r/2),r!==0;)o=o.times(o),tO(o.d,e);return kr=!0,t.s<0?new l(Bi).div(i):fr(i,n)}}else if(a<0)throw Error(ga+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,kr=!1,i=t.times(Np(o,n+c)),kr=!0,i=XL(i),i.s=a,i};He.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=sn(i),n=Mc(i,r<=a.toExpNeg||r>=a.toExpPos)):(bs(t,1,gd),e===void 0?e=a.rounding:bs(e,0,8),i=fr(new a(i),t,e),r=sn(i),n=Mc(i,t<=r||r<=a.toExpNeg,t)),n};He.toSignificantDigits=He.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(bs(t,1,gd),e===void 0?e=n.rounding:bs(e,0,8)),fr(new n(r),t,e)};He.toString=He.valueOf=He.val=He.toJSON=He[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=sn(t),r=t.constructor;return Mc(t,e<=r.toExpNeg||e>=r.toExpPos)};function YL(t,e){var r,n,i,a,s,o,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),kr?fr(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=c.length):(n=c,i=s,o=l.length),s=Math.ceil(f/Sr),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/Sn|0,l[a]%=Sn;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,kr?fr(e,f):e}function bs(t,e,r){if(t!==~~t||t<e||t>r)throw Error(jc+t)}function us(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Sr-n.length,r&&(a+=Ho(r)),a+=n;s=t[e],n=s+"",r=Sr-n.length,r&&(a+=Ho(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ro=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Sn|0,s=a/Sn|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Sn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,c,u,f,p,h,g,v,x,y,w,_,j,S,O,k,L,E=n.constructor,$=n.s==i.s?1:-1,P=n.d,I=i.d;if(!n.s)return new E(n);if(!i.s)throw Error(ga+"Division by zero");for(l=n.e-i.e,k=I.length,S=P.length,h=new E($),g=h.d=[],c=0;I[c]==(P[c]||0);)++c;if(I[c]>(P[c]||0)&&--l,a==null?w=a=E.precision:s?w=a+(sn(n)-sn(i))+1:w=a,w<0)return new E(0);if(w=w/Sr+2|0,c=0,k==1)for(u=0,I=I[0],w++;(c<S||u)&&w--;c++)_=u*Sn+(P[c]||0),g[c]=_/I|0,u=_%I|0;else{for(u=Sn/(I[0]+1)|0,u>1&&(I=t(I,u),P=t(P,u),k=I.length,S=P.length),j=k,v=P.slice(0,k),x=v.length;x<k;)v[x++]=0;L=I.slice(),L.unshift(0),O=I[0],I[1]>=Sn/2&&++O;do u=0,o=e(I,v,k,x),o<0?(y=v[0],k!=x&&(y=y*Sn+(v[1]||0)),u=y/O|0,u>1?(u>=Sn&&(u=Sn-1),f=t(I,u),p=f.length,x=v.length,o=e(f,v,p,x),o==1&&(u--,r(f,k<p?L:I,p))):(u==0&&(o=u=1),f=I.slice()),p=f.length,p<x&&f.unshift(0),r(v,f,x),o==-1&&(x=v.length,o=e(I,v,k,x),o<1&&(u++,r(v,k<x?L:I,x))),x=v.length):o===0&&(u++,v=[0]),g[c++]=u,o&&v[0]?v[x++]=P[j]||0:(v=[P[j]],x=1);while((j++<S||v[0]!==void 0)&&w--)}return g[0]||g.shift(),h.e=l,fr(h,s?a+sn(h)+1:a)}}();function XL(t,e){var r,n,i,a,s,o,l=0,c=0,u=t.constructor,f=u.precision;if(sn(t)>16)throw Error($S+sn(t));if(!t.s)return new u(Bi);for(kr=!1,o=f,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(n=Math.log(oc(2,c))/Math.LN10*2+5|0,o+=n,r=i=a=new u(Bi),u.precision=o;;){if(i=fr(i.times(t),o),r=r.times(++l),s=a.plus(ro(i,r,o)),us(s.d).slice(0,o)===us(a.d).slice(0,o)){for(;c--;)a=fr(a.times(a),o);return u.precision=f,e==null?(kr=!0,fr(a,f)):a}a=s}}function sn(t){for(var e=t.e*Sr,r=t.d[0];r>=10;r/=10)e++;return e}function ex(t,e,r){if(e>t.LN10.sd())throw kr=!0,r&&(t.precision=r),Error(ga+"LN10 precision limit exceeded");return fr(new t(t.LN10),e)}function Ho(t){for(var e="";t--;)e+="0";return e}function Np(t,e){var r,n,i,a,s,o,l,c,u,f=1,p=10,h=t,g=h.d,v=h.constructor,x=v.precision;if(h.s<1)throw Error(ga+(h.s?"NaN":"-Infinity"));if(h.eq(Bi))return new v(0);if(e==null?(kr=!1,c=x):c=e,h.eq(10))return e==null&&(kr=!0),ex(v,c);if(c+=p,v.precision=c,r=us(g),n=r.charAt(0),a=sn(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=us(h.d),n=r.charAt(0),f++;a=sn(h),n>1?(h=new v("0."+r),a++):h=new v(n+"."+r.slice(1))}else return l=ex(v,c+2,x).times(a+""),h=Np(new v(n+"."+r.slice(1)),c-p).plus(l),v.precision=x,e==null?(kr=!0,fr(h,x)):h;for(o=s=h=ro(h.minus(Bi),h.plus(Bi),c),u=fr(h.times(h),c),i=3;;){if(s=fr(s.times(u),c),l=o.plus(ro(s,new v(i),c)),us(l.d).slice(0,c)===us(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(ex(v,c+2,x).times(a+""))),o=ro(o,new v(f),c),v.precision=x,e==null?(kr=!0,fr(o,x)):o;o=l,i+=2}}function eO(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=vd(r/Sr),t.d=[],n=(r+1)%Sr,r<0&&(n+=Sr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Sr;n<i;)t.d.push(+e.slice(n,n+=Sr));e=e.slice(n),n=Sr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),kr&&(t.e>wv||t.e<-wv))throw Error($S+r)}else t.s=0,t.e=0,t.d=[0];return t}function fr(t,e,r){var n,i,a,s,o,l,c,u,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Sr,i=e,c=f[u=0];else{if(u=Math.ceil((n+1)/Sr),a=f.length,u>=a)return t;for(c=a=f[u],s=1;a>=10;a/=10)s++;n%=Sr,i=n-Sr+s}if(r!==void 0&&(a=oc(10,s-i-1),o=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/oc(10,s-i):0:f[u-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=sn(t),f.length=1,e=e-a-1,f[0]=oc(10,(Sr-e%Sr)%Sr),t.e=vd(-e/Sr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=oc(10,Sr-n),f[u]=i>0?(c/oc(10,s-i)%oc(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==Sn&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=Sn)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(kr&&(t.e>wv||t.e<-wv))throw Error($S+sn(t));return t}function JL(t,e){var r,n,i,a,s,o,l,c,u,f,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),kr?fr(e,h):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),i=Math.max(Math.ceil(h/Sr),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Sn-1;--l[a],l[i]+=Sn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,kr?fr(e,h):e):new p(0)}function Mc(t,e,r){var n,i=sn(t),a=us(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ho(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ho(-i-1)+a,r&&(n=r-s)>0&&(a+=Ho(n))):i>=s?(a+=Ho(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Ho(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Ho(n))),t.s<0?"-"+a:a}function tO(t,e){if(t.length>e)return t.length=e,!0}function ZL(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(jc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return eO(s,a.toString())}else if(typeof a!="string")throw Error(jc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Gae.test(a))eO(s,a);else throw Error(jc+a)}if(i.prototype=He,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ZL,i.config=i.set=Kae,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Kae(t){if(!t||typeof t!="object")throw Error(ga+"Object expected");var e,r,n,i=["precision",1,gd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(vd(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(jc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(jc+r+": "+n);return this}var RS=ZL(Vae);Bi=new RS(1);const ar=RS;function Yae(t){return Qae(t)||Zae(t)||Jae(t)||Xae()}function Xae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jae(t,e){if(t){if(typeof t=="string")return Nw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nw(t,e)}}function Zae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Qae(t){if(Array.isArray(t))return Nw(t)}function Nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ese=function(e){return e},QL={},eI=function(e){return e===QL},rO=function(e){return function r(){return arguments.length===0||arguments.length===1&&eI(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},tse=function t(e,r){return e===1?r:rO(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==QL}).length;return s>=e?r.apply(void 0,i):t(e-s,rO(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(f){return eI(f)?l.shift():f});return r.apply(void 0,Yae(u).concat(l))}))})},t1=function(e){return tse(e.length,e)},Ow=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},rse=t1(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),nse=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return ese;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},kw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},tI=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function ise(t){var e;return t===0?e=1:e=Math.floor(new ar(t).abs().log(10).toNumber())+1,e}function ase(t,e,r){for(var n=new ar(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var sse=t1(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),ose=t1(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),lse=t1(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const r1={rangeStep:ase,getDigitCount:ise,interpolateNumber:sse,uninterpolateNumber:ose,uninterpolateTruncation:lse};function Pw(t){return fse(t)||use(t)||rI(t)||cse()}function cse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function use(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function fse(t){if(Array.isArray(t))return Ew(t)}function Op(t,e){return pse(t)||hse(t,e)||rI(t,e)||dse()}function dse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rI(t,e){if(t){if(typeof t=="string")return Ew(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ew(t,e)}}function Ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hse(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function pse(t){if(Array.isArray(t))return t}function nI(t){var e=Op(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function iI(t,e,r){if(t.lte(0))return new ar(0);var n=r1.getDigitCount(t.toNumber()),i=new ar(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new ar(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return e?l:new ar(Math.ceil(l))}function mse(t,e,r){var n=1,i=new ar(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new ar(10).pow(r1.getDigitCount(t)-1),i=new ar(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new ar(Math.floor(t)))}else t===0?i=new ar(Math.floor((e-1)/2)):r||(i=new ar(Math.floor(t)));var s=Math.floor((e-1)/2),o=nse(rse(function(l){return i.add(new ar(l-s).mul(n)).toNumber()}),Ow);return o(0,e)}function aI(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new ar(0),tickMin:new ar(0),tickMax:new ar(0)};var a=iI(new ar(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new ar(0):(s=new ar(t).add(e).div(2),s=s.sub(new ar(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new ar(e).sub(s).div(a).toNumber()),c=o+l+1;return c>r?aI(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,o=e>0?o:o+(r-c)),{step:a,tickMin:s.sub(new ar(o).mul(a)),tickMax:s.add(new ar(l).mul(a))})}function gse(t){var e=Op(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=nI([r,n]),l=Op(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(Pw(Ow(0,i-1).map(function(){return 1/0}))):[].concat(Pw(Ow(0,i-1).map(function(){return-1/0})),[u]);return r>n?kw(f):f}if(c===u)return mse(c,i,a);var p=aI(c,u,s,a),h=p.step,g=p.tickMin,v=p.tickMax,x=r1.rangeStep(g,v.add(new ar(.1).mul(h)),h);return r>n?kw(x):x}function vse(t,e){var r=Op(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=nI([n,i]),o=Op(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),f=iI(new ar(c).sub(l).div(u-1),a,0),p=[].concat(Pw(r1.rangeStep(new ar(l),new ar(c).sub(new ar(.99).mul(f)),f)),[c]);return n>i?kw(p):p}var yse=tI(gse),bse=tI(vse),xse="Invariant failed";function Dc(t,e){throw new Error(xse)}var wse=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_v.apply(this,arguments)}function _se(t,e){return Nse(t)||jse(t,e)||Ase(t,e)||Sse()}function Sse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ase(t,e){if(t){if(typeof t=="string")return nO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nO(t,e)}}function nO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Nse(t){if(Array.isArray(t))return t}function Ose(t,e){if(t==null)return{};var r=kse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Pse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ese(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lI(n.key),n)}}function Cse(t,e,r){return e&&Ese(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tse(t,e,r){return e=Sv(e),Lse(t,sI()?Reflect.construct(e,r||[],Sv(t).constructor):e.apply(t,r))}function Lse(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ise(t)}function Ise(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sI=function(){return!!t})()}function Sv(t){return Sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sv(t)}function $se(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cw(t,e)}function Cw(t,e){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cw(t,e)}function oI(t,e,r){return e=lI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lI(t){var e=Rse(t,"string");return If(e)=="symbol"?e:e+""}function Rse(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gm=function(t){function e(){return Pse(this,e),Tse(this,e,arguments)}return $se(e,t),Cse(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,p=Ose(n,wse),h=lt(p,!1);this.props.direction==="x"&&u.type!=="number"&&Dc();var g=l.map(function(v){var x=c(v,o),y=x.x,w=x.y,_=x.value,j=x.errorVal;if(!j)return null;var S=[],O,k;if(Array.isArray(j)){var L=_se(j,2);O=L[0],k=L[1]}else O=k=j;if(a==="vertical"){var E=u.scale,$=w+i,P=$+s,I=$-s,F=E(_-O),R=E(_+k);S.push({x1:R,y1:P,x2:R,y2:I}),S.push({x1:F,y1:$,x2:R,y2:$}),S.push({x1:F,y1:P,x2:F,y2:I})}else if(a==="horizontal"){var H=f.scale,J=y+i,re=J-s,q=J+s,Z=H(_-O),le=H(_+k);S.push({x1:re,y1:le,x2:q,y2:le}),S.push({x1:J,y1:Z,x2:J,y2:le}),S.push({x1:re,y1:Z,x2:q,y2:Z})}return ae.createElement(Wt,_v({className:"recharts-errorBar",key:"bar-".concat(S.map(function(fe){return"".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))},h),S.map(function(fe){return ae.createElement("line",_v({},fe,{key:"line-".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))}))});return ae.createElement(Wt,{className:"recharts-errorBars"},g)}}])}(ae.Component);oI(gm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});oI(gm,"displayName","ErrorBar");function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function iO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ql(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(r),!0).forEach(function(n){Mse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mse(t,e,r){return e=Dse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dse(t){var e=Bse(t,"string");return kp(e)=="symbol"?e:e+""}function Bse(t,e){if(kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cI=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Ii(r,to);if(!s)return null;var o=to.defaultProps,l=o!==void 0?Ql(Ql({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(n||[]).reduce(function(u,f){var p=f.item,h=f.props,g=h.sectors||h.data||[];return u.concat(g.map(function(v){return{type:s.props.iconType||p.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(u){var f=u.item,p=f.type.defaultProps,h=p!==void 0?Ql(Ql({},p),f.props):{},g=h.dataKey,v=h.name,x=h.legendType,y=h.hide;return{inactive:y,dataKey:g,type:l.iconType||x||"square",color:MS(f),value:v||g,payload:h}}),Ql(Ql(Ql({},l),to.getWithHeight(s,i)),{},{payload:c,item:s})};function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function aO(t){return qse(t)||zse(t)||Use(t)||Fse()}function Fse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Use(t,e){if(t){if(typeof t=="string")return Tw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tw(t,e)}}function zse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qse(t){if(Array.isArray(t))return Tw(t)}function Tw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(r),!0).forEach(function(n){lf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lf(t,e,r){return e=Wse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wse(t){var e=Hse(t,"string");return Pp(e)=="symbol"?e:e+""}function Hse(t,e){if(Pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yn(t,e,r){return St(t)||St(e)?r:xn(e)?Wi(t,e,r):mt(e)?e(t):r}function $h(t,e,r,n){var i=zae(t,function(o){return yn(o,e)});if(r==="number"){var a=i.filter(function(o){return $e(o)||parseFloat(o)});return a.length?[e1(a),Qy(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!St(o)}):i;return s.map(function(o){return xn(o)||o instanceof Date?o:""})}var Vse=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,p=c>=o-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(ii(f-u)!==ii(p-f)){var g=[];if(ii(p-f)===ii(l[1]-l[0])){h=p;var v=f+l[1]-l[0];g[0]=Math.min(v,(v+u)/2),g[1]=Math.max(v,(v+u)/2)}else{h=u;var x=p+l[1]-l[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var y=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>y[0]&&e<=y[1]||e>=g[0]&&e<=g[1]){s=i[c].index;break}}else{var w=Math.min(u,p),_=Math.max(u,p);if(e>(w+f)/2&&e<=(_+f)/2){s=i[c].index;break}}}else for(var j=0;j<o;j++)if(j===0&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<o-1&&e>(n[j].coordinate+n[j-1].coordinate)/2&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j===o-1&&e>(n[j].coordinate+n[j-1].coordinate)/2){s=n[j].index;break}return s},MS=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Fr(Fr({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},Gse=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,f=Object.keys(u),p=0,h=f.length;p<h;p++){var g=u[f[p]],v=g.items,x=g.cateAxisId,y=v.filter(function(k){return eo(k.type).indexOf("Bar")>=0});if(y&&y.length){var w=y[0].type.defaultProps,_=w!==void 0?Fr(Fr({},w),y[0].props):y[0].props,j=_.barSize,S=_[x];s[S]||(s[S]=[]);var O=St(j)?r:j;s[S].push({item:y[0],stackList:y.slice(1),barSize:St(O)?void 0:ai(O,n,0)})}}return s},Kse=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=ai(r,i,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var p=!1,h=i/l,g=s.reduce(function(j,S){return j+S.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&h>0&&(p=!0,h*=.9,g=l*h);var v=(i-g)/2>>0,x={offset:v-c,size:0};u=s.reduce(function(j,S){var O={item:S.item,position:{offset:x.offset+x.size+c,size:p?h:S.barSize}},k=[].concat(aO(j),[O]);return x=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(L){k.push({item:L,position:x})}),k},f)}else{var y=ai(n,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var w=(i-2*y-(l-1)*c)/l;w>1&&(w>>=0);var _=o===+o?Math.min(w,o):w;u=s.reduce(function(j,S,O){var k=[].concat(aO(j),[{item:S.item,position:{offset:y+(w+c)*O+(w-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(L){k.push({item:L,position:k[k.length-1].position})}),k},f)}return u},Yse=function(e,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=cI({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,p=u.height,h=c.align,g=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&g==="middle")&&h!=="center"&&$e(e[h]))return Fr(Fr({},e),{},lf({},h,e[h]+(f||0)));if((v==="horizontal"||v==="vertical"&&h==="center")&&g!=="middle"&&$e(e[g]))return Fr(Fr({},e),{},lf({},g,e[g]+(p||0)))}return e},Xse=function(e,r,n){return St(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},uI=function(e,r,n,i,a){var s=r.props.children,o=Hi(s,gm).filter(function(c){return Xse(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=yn(u,n);if(St(f))return c;var p=Array.isArray(f)?[e1(f),Qy(f)]:[f,f],h=l.reduce(function(g,v){var x=yn(u,v,0),y=p[0]-Math.abs(Array.isArray(x)?x[0]:x),w=p[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},Jse=function(e,r,n,i,a){var s=r.map(function(o){return uI(e,o,n,a,i)}).filter(function(o){return!St(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},fI=function(e,r,n,i,a){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&uI(e,l,c,i)||$h(e,c,n,a)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},dI=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},hI=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},Zs=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ii(o[0]-o[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var p=a?a.indexOf(f):f;return{coordinate:i(p)+c,value:f,offset:c}});return u.filter(function(f){return!lm(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:i(f)+c,value:f,index:p,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,p){return{coordinate:i(f)+c,value:a?a[f]:f,index:p,offset:c}})},tx=new WeakMap,Ig=function(e,r){if(typeof r!="function")return e;tx.has(e)||tx.set(e,new WeakMap);var n=tx.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},pI=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:wp(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:vv(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ih(),realScaleType:"point"}:a==="category"?{scale:wp(),realScaleType:"band"}:{scale:vv(),realScaleType:"linear"};if(Ic(i)){var l="scale".concat(Dy(i));return{scale:(Q4[l]||Ih)(),realScaleType:Q4[l]?l:"point"}}return mt(i)?{scale:i}:{scale:Ih(),realScaleType:"point"}},oO=1e-4,mI=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-oO,s=Math.max(i[0],i[1])+oO,o=e(r[0]),l=e(r[n-1]);(o<a||o>s||l<a||l>s)&&e.domain([r[0],r[n-1]])}},Zse=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Qse=function(e,r){if(!r||r.length!==2||!$e(r[0])||!$e(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!$e(e[0])||e[0]<n)&&(a[0]=n),(!$e(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},eoe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=lm(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},toe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=lm(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},roe={sign:eoe,expand:wG,none:Nf,silhouette:_G,wiggle:SG,positive:toe},noe=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),a=roe[n],s=xG().keys(i).value(function(o,l){return+yn(o,l,0)}).order(nw).offset(a);return s(e)},ioe=function(e,r,n,i,a,s){if(!e)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,p){var h,g=(h=p.type)!==null&&h!==void 0&&h.defaultProps?Fr(Fr({},p.type.defaultProps),p.props):p.props,v=g.stackId,x=g.hide;if(x)return f;var y=g[n],w=f[y]||{hasStack:!1,stackGroups:{}};if(xn(v)){var _=w.stackGroups[v]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(p),w.hasStack=!0,w.stackGroups[v]=_}else w.stackGroups[fd("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return Fr(Fr({},f),{},lf({},y,w))},l),u={};return Object.keys(c).reduce(function(f,p){var h=c[p];if(h.hasStack){var g={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(v,x){var y=h.stackGroups[x];return Fr(Fr({},v),{},lf({},x,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:noe(e,y.items,a)}))},g)}return Fr(Fr({},f),{},lf({},p,h))},u)},gI=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=yse(c,a,o);return e.domain([e1(u),Qy(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),p=bse(f,a,o);return{niceTicks:p}}return null};function lO(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!St(i[e.dataKey])){var o=X0(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=yn(i,St(s)?e.dataKey:s);return St(l)?null:e.scale(l)}var cO=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=yn(s,r.dataKey,r.domain[o]);return St(l)?null:r.scale(l)-a/2+i},aoe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},soe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Fr(Fr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(xn(a)){var s=r[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},ooe=function(e){return e.reduce(function(r,n){return[e1(n.concat([r[0]]).filter($e)),Qy(n.concat([r[1]]).filter($e))]},[1/0,-1/0])},vI=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,u){var f=ooe(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},uO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Lw=function(e,r,n){if(mt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if($e(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(uO.test(e[0])){var a=+uO.exec(e[0])[1];i[0]=r[0]-a}else mt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if($e(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(fO.test(e[1])){var s=+fO.exec(e[1])[1];i[1]=r[1]+s}else mt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Av=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=fS(r,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},dO=function(e,r,n){return!e||!e.length||mm(e,Wi(n,"type.defaultProps.domain"))?r:e},yI=function(e,r){var n=e.type.defaultProps?Fr(Fr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Fr(Fr({},lt(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:MS(e),value:yn(r,i),type:l,payload:r,chartType:c,hide:u})};function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function hO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ws(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(r),!0).forEach(function(n){bI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bI(t,e,r){return e=loe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function loe(t){var e=coe(t,"string");return Ep(e)=="symbol"?e:e+""}function coe(t,e){if(Ep(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uoe(t,e){return poe(t)||hoe(t,e)||doe(t,e)||foe()}function foe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function doe(t,e){if(t){if(typeof t=="string")return pO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pO(t,e)}}function pO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hoe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function poe(t){if(Array.isArray(t))return t}var jv=Math.PI/180,moe=function(e){return e*180/Math.PI},br=function(e,r,n,i){return{x:e+Math.cos(-jv*i)*n,y:r+Math.sin(-jv*i)*n}},xI=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},goe=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.startAngle,c=e.endAngle,u=ai(e.cx,s,s/2),f=ai(e.cy,o,o/2),p=xI(s,o,n),h=ai(e.innerRadius,p,0),g=ai(e.outerRadius,p,p*.8),v=Object.keys(r);return v.reduce(function(x,y){var w=r[y],_=w.domain,j=w.reversed,S;if(St(w.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[h,g]),j&&(S=[S[1],S[0]]);else{S=w.range;var O=S,k=uoe(O,2);l=k[0],c=k[1]}var L=pI(w,a),E=L.realScaleType,$=L.scale;$.domain(_).range(S),mI($);var P=gI($,Ws(Ws({},w),{},{realScaleType:E})),I=Ws(Ws(Ws({},w),P),{},{range:S,radius:g,realScaleType:E,scale:$,cx:u,cy:f,innerRadius:h,outerRadius:g,startAngle:l,endAngle:c});return Ws(Ws({},x),{},bI({},y,I))},{})},voe=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},yoe=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,o=voe({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:moe(c),angleInRadian:c}},boe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},xoe=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},mO=function(e,r){var n=e.x,i=e.y,a=yoe({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=boe(r),f=u.startAngle,p=u.endAngle,h=o,g;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;g=h>=p&&h<=f}return g?Ws(Ws({},r),{},{radius:s,angle:xoe(h,r)}):null},wI=function(e){return!Y.isValidElement(e)&&!mt(e)&&typeof e!="boolean"?e.className:""};function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}var woe=["offset"];function _oe(t){return Noe(t)||joe(t)||Aoe(t)||Soe()}function Soe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aoe(t,e){if(t){if(typeof t=="string")return Iw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iw(t,e)}}function joe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Noe(t){if(Array.isArray(t))return Iw(t)}function Iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ooe(t,e){if(t==null)return{};var r=koe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function koe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(r),!0).forEach(function(n){Poe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Poe(t,e,r){return e=Eoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eoe(t){var e=Coe(t,"string");return Cp(e)=="symbol"?e:e+""}function Coe(t,e){if(Cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tp.apply(this,arguments)}var Toe=function(e){var r=e.value,n=e.formatter,i=St(e.children)?r:e.children;return mt(n)?n(i):i},Loe=function(e,r){var n=ii(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Ioe=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,p=l.outerRadius,h=l.startAngle,g=l.endAngle,v=l.clockWise,x=(f+p)/2,y=Loe(h,g),w=y>=0?1:-1,_,j;i==="insideStart"?(_=h+w*s,j=v):i==="insideEnd"?(_=g-w*s,j=!v):i==="end"&&(_=g+w*s,j=v),j=y<=0?j:!j;var S=br(c,u,x,_),O=br(c,u,x,_+(j?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(j?0:1,`,
    `).concat(O.x,",").concat(O.y),L=St(e.id)?fd("recharts-radial-line-"):e.id;return ae.createElement("text",Tp({},n,{dominantBaseline:"central",className:Ct("recharts-radial-bar-label",o)}),ae.createElement("defs",null,ae.createElement("path",{id:L,d:k})),ae.createElement("textPath",{xlinkHref:"#".concat(L)},r))},$oe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,p=(u+f)/2;if(i==="outside"){var h=br(s,o,c+n,p),g=h.x,v=h.y;return{x:g,y:v,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,y=br(s,o,x,p),w=y.x,_=y.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Roe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,p=f*i,h=f>0?"end":"start",g=f>0?"start":"end",v=c>=0?1:-1,x=v*i,y=v>0?"end":"start",w=v>0?"start":"end";if(a==="top"){var _={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return mn(mn({},_),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var j={x:o+c/2,y:l+u+p,textAnchor:"middle",verticalAnchor:g};return mn(mn({},j),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var S={x:o-x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return mn(mn({},S),n?{width:Math.max(S.x-n.x,0),height:u}:{})}if(a==="right"){var O={x:o+c+x,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return mn(mn({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:u}:{})}var k=n?{width:c,height:u}:{};return a==="insideLeft"?mn({x:o+x,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},k):a==="insideRight"?mn({x:o+c-x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},k):a==="insideTop"?mn({x:o+c/2,y:l+p,textAnchor:"middle",verticalAnchor:g},k):a==="insideBottom"?mn({x:o+c/2,y:l+u-p,textAnchor:"middle",verticalAnchor:h},k):a==="insideTopLeft"?mn({x:o+x,y:l+p,textAnchor:w,verticalAnchor:g},k):a==="insideTopRight"?mn({x:o+c-x,y:l+p,textAnchor:y,verticalAnchor:g},k):a==="insideBottomLeft"?mn({x:o+x,y:l+u-p,textAnchor:w,verticalAnchor:h},k):a==="insideBottomRight"?mn({x:o+c-x,y:l+u-p,textAnchor:y,verticalAnchor:h},k):od(a)&&($e(a.x)||yc(a.x))&&($e(a.y)||yc(a.y))?mn({x:o+ai(a.x,c),y:l+ai(a.y,u),textAnchor:"end",verticalAnchor:"end"},k):mn({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},Moe=function(e){return"cx"in e&&$e(e.cx)};function Nn(t){var e=t.offset,r=e===void 0?5:e,n=Ooe(t,woe),i=mn({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,p=i.textBreakAll;if(!a||St(o)&&St(l)&&!Y.isValidElement(c)&&!mt(c))return null;if(Y.isValidElement(c))return Y.cloneElement(c,i);var h;if(mt(c)){if(h=Y.createElement(c,i),Y.isValidElement(h))return h}else h=Toe(i);var g=Moe(a),v=lt(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Ioe(i,h,v);var x=g?$oe(i):Roe(i);return ae.createElement(Rc,Tp({className:Ct("recharts-label",f)},v,x,{breakAll:p}),h)}Nn.displayName="Label";var _I=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,p=e.y,h=e.top,g=e.left,v=e.width,x=e.height,y=e.clockWise,w=e.labelViewBox;if(w)return w;if($e(v)&&$e(x)){if($e(f)&&$e(p))return{x:f,y:p,width:v,height:x};if($e(h)&&$e(g))return{x:h,y:g,width:v,height:x}}return $e(f)&&$e(p)?{x:f,y:p,width:0,height:0}:$e(r)&&$e(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:e.viewBox?e.viewBox:{}},Doe=function(e,r){return e?e===!0?ae.createElement(Nn,{key:"label-implicit",viewBox:r}):xn(e)?ae.createElement(Nn,{key:"label-implicit",viewBox:r,value:e}):Y.isValidElement(e)?e.type===Nn?Y.cloneElement(e,{key:"label-implicit",viewBox:r}):ae.createElement(Nn,{key:"label-implicit",content:e,viewBox:r}):mt(e)?ae.createElement(Nn,{key:"label-implicit",content:e,viewBox:r}):od(e)?ae.createElement(Nn,Tp({viewBox:r},e,{key:"label-implicit"})):null:null},Boe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=_I(e),s=Hi(i,Nn).map(function(l,c){return Y.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return s;var o=Doe(e.label,r||a);return[o].concat(_oe(s))};Nn.parseViewBox=_I;Nn.renderCallByParent=Boe;function Foe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Uoe=Foe;const zoe=rr(Uoe);function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}var qoe=["valueAccessor"],Woe=["data","dataKey","clockWise","id","textBreakAll"];function Hoe(t){return Yoe(t)||Koe(t)||Goe(t)||Voe()}function Voe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Goe(t,e){if(t){if(typeof t=="string")return $w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $w(t,e)}}function Koe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yoe(t){if(Array.isArray(t))return $w(t)}function $w(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nv.apply(this,arguments)}function vO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(r),!0).forEach(function(n){Xoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xoe(t,e,r){return e=Joe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Joe(t){var e=Zoe(t,"string");return Lp(e)=="symbol"?e:e+""}function Zoe(t,e){if(Lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bO(t,e){if(t==null)return{};var r=Qoe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ele=function(e){return Array.isArray(e.value)?zoe(e.value):e.value};function no(t){var e=t.valueAccessor,r=e===void 0?ele:e,n=bO(t,qoe),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=bO(n,Woe);return!i||!i.length?null:ae.createElement(Wt,{className:"recharts-label-list"},i.map(function(u,f){var p=St(a)?r(u,f):yn(u&&u.payload,a),h=St(o)?{}:{id:"".concat(o,"-").concat(f)};return ae.createElement(Nn,Nv({},lt(u,!0),c,h,{parentViewBox:u.parentViewBox,value:p,textBreakAll:l,viewBox:Nn.parseViewBox(St(s)?u:yO(yO({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}no.displayName="LabelList";function tle(t,e){return t?t===!0?ae.createElement(no,{key:"labelList-implicit",data:e}):ae.isValidElement(t)||mt(t)?ae.createElement(no,{key:"labelList-implicit",data:e,content:t}):od(t)?ae.createElement(no,Nv({data:e},t,{key:"labelList-implicit"})):null:null}function rle(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Hi(n,no).map(function(s,o){return Y.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var a=tle(t.label,e);return[a].concat(Hoe(i))}no.renderCallByParent=rle;function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rw.apply(this,arguments)}function xO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(r),!0).forEach(function(n){nle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nle(t,e,r){return e=ile(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ile(t){var e=ale(t,"string");return Ip(e)=="symbol"?e:e+""}function ale(t,e){if(Ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sle=function(e,r){var n=ii(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},$g=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,f=Math.asin(l/u)/jv,p=c?a:a+s*f,h=br(r,n,u,p),g=br(r,n,i,p),v=c?a-s*f:a,x=br(r,n,u*Math.cos(f*jv),v);return{center:h,circleTangency:g,lineTangency:x,theta:f}},SI=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=sle(s,o),c=s+l,u=br(r,n,a,s),f=br(r,n,a,c),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=br(r,n,i,s),g=br(r,n,i,c);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},ole=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=ii(u-c),p=$g({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),h=p.circleTangency,g=p.lineTangency,v=p.theta,x=$g({cx:r,cy:n,radius:a,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),y=x.circleTangency,w=x.lineTangency,_=x.theta,j=l?Math.abs(c-u):Math.abs(c-u)-v-_;if(j<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):SI({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var O=$g({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=O.circleTangency,L=O.lineTangency,E=O.theta,$=$g({cx:r,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),P=$.circleTangency,I=$.lineTangency,F=$.theta,R=l?Math.abs(c-u):Math.abs(c-u)-E-F;if(R<0&&s===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(L.x,",").concat(L.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},lle={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},AI=function(e){var r=wO(wO({},lle),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,p=r.className;if(s<a||u===f)return null;var h=Ct("recharts-sector",p),g=s-a,v=ai(o,g,0,!0),x;return v>0&&Math.abs(u-f)<360?x=ole({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(v,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):x=SI({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f}),ae.createElement("path",Rw({},lt(r,!0),{className:h,d:x,role:"img"}))};function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mw.apply(this,arguments)}function _O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(r),!0).forEach(function(n){cle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cle(t,e,r){return e=ule(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ule(t){var e=fle(t,"string");return $p(e)=="symbol"?e:e+""}function fle(t,e){if($p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AO={curveBasisClosed:cG,curveBasisOpen:uG,curveBasis:lG,curveBumpX:KV,curveBumpY:YV,curveLinearClosed:fG,curveLinear:Fy,curveMonotoneX:dG,curveMonotoneY:hG,curveNatural:pG,curveStep:mG,curveStepAfter:vG,curveStepBefore:gG},Rg=function(e){return e.x===+e.x&&e.y===+e.y},lh=function(e){return e.x},ch=function(e){return e.y},dle=function(e,r){if(mt(e))return e;var n="curve".concat(Dy(e));return(n==="curveMonotone"||n==="curveBump")&&r?AO["".concat(n).concat(r==="vertical"?"Y":"X")]:AO[n]||Fy},hle=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=dle(n,o),f=c?a.filter(function(v){return Rg(v)}):a,p;if(Array.isArray(s)){var h=c?s.filter(function(v){return Rg(v)}):s,g=f.map(function(v,x){return SO(SO({},v),{},{base:h[x]})});return o==="vertical"?p=Ng().y(ch).x1(lh).x0(function(v){return v.base.x}):p=Ng().x(lh).y1(ch).y0(function(v){return v.base.y}),p.defined(Rg).curve(u),p(g)}return o==="vertical"&&$e(s)?p=Ng().y(ch).x1(lh).x0(s):$e(s)?p=Ng().x(lh).y1(ch).y0(s):p=y8().x(lh).y(ch),p.defined(Rg).curve(u),p(f)},Ov=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?hle(e):i;return Y.createElement("path",Mw({},lt(e,!1),J0(e),{className:Ct("recharts-curve",r),d:s,ref:a}))},jI={exports:{}},ple="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mle=ple,gle=mle;function NI(){}function OI(){}OI.resetWarningCache=NI;var vle=function(){function t(n,i,a,s,o,l){if(l!==gle){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:OI,resetWarningCache:NI};return r.PropTypes=r,r};jI.exports=vle();var yle=jI.exports;const Xt=rr(yle);var ble=Object.getOwnPropertyNames,xle=Object.getOwnPropertySymbols,wle=Object.prototype.hasOwnProperty;function jO(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Mg(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function _le(t){return t!=null?t[Symbol.toStringTag]:void 0}function NO(t){return ble(t).concat(xle(t))}var Sle=Object.hasOwn||function(t,e){return wle.call(t,e)};function Xc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Ale="__v",jle="__o",Nle="_owner",OO=Object.getOwnPropertyDescriptor,kO=Object.keys;function Ole(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function kle(t,e){return Xc(t.getTime(),e.getTime())}function Ple(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Ele(t,e){return t===e}function PO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var c=e.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(i[f]){f++;continue}var p=s.value,h=o.value;if(r.equals(p[0],h[0],l,f,t,e,r)&&r.equals(p[1],h[1],p[0],h[0],t,e,r)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var Cle=Xc;function Tle(t,e,r){var n=kO(t),i=n.length;if(kO(e).length!==i)return!1;for(;i-- >0;)if(!kI(t,e,r,n[i]))return!1;return!0}function uh(t,e,r){var n=NO(t),i=n.length;if(NO(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!kI(t,e,r,a)||(s=OO(t,a),o=OO(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function Lle(t,e){return Xc(t.valueOf(),e.valueOf())}function Ile(t,e){return t.source===e.source&&t.flags===e.flags}function EO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!i[u]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function $le(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Rle(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function kI(t,e,r,n){return(n===Nle||n===jle||n===Ale)&&(t.$$typeof||e.$$typeof)?!0:Sle(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Mle="[object Arguments]",Dle="[object Boolean]",Ble="[object Date]",Fle="[object Error]",Ule="[object Map]",zle="[object Number]",qle="[object Object]",Wle="[object RegExp]",Hle="[object Set]",Vle="[object String]",Gle="[object URL]",Kle=Array.isArray,CO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,TO=Object.assign,Yle=Object.prototype.toString.call.bind(Object.prototype.toString);function Xle(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,f=t.areTypedArraysEqual,p=t.areUrlsEqual,h=t.unknownTagComparators;return function(v,x,y){if(v===x)return!0;if(v==null||x==null)return!1;var w=typeof v;if(w!==typeof x)return!1;if(w!=="object")return w==="number"?s(v,x,y):w==="function"?i(v,x,y):!1;var _=v.constructor;if(_!==x.constructor)return!1;if(_===Object)return o(v,x,y);if(Kle(v))return e(v,x,y);if(CO!=null&&CO(v))return f(v,x,y);if(_===Date)return r(v,x,y);if(_===RegExp)return c(v,x,y);if(_===Map)return a(v,x,y);if(_===Set)return u(v,x,y);var j=Yle(v);if(j===Ble)return r(v,x,y);if(j===Wle)return c(v,x,y);if(j===Ule)return a(v,x,y);if(j===Hle)return u(v,x,y);if(j===qle)return typeof v.then!="function"&&typeof x.then!="function"&&o(v,x,y);if(j===Gle)return p(v,x,y);if(j===Fle)return n(v,x,y);if(j===Mle)return o(v,x,y);if(j===Dle||j===zle||j===Vle)return l(v,x,y);if(h){var S=h[j];if(!S){var O=_le(v);O&&(S=h[O])}if(S)return S(v,x,y)}return!1}}function Jle(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?uh:Ole,areDatesEqual:kle,areErrorsEqual:Ple,areFunctionsEqual:Ele,areMapsEqual:n?jO(PO,uh):PO,areNumbersEqual:Cle,areObjectsEqual:n?uh:Tle,arePrimitiveWrappersEqual:Lle,areRegExpsEqual:Ile,areSetsEqual:n?jO(EO,uh):EO,areTypedArraysEqual:n?uh:$le,areUrlsEqual:Rle,unknownTagComparators:void 0};if(r&&(i=TO({},i,r(i))),e){var a=Mg(i.areArraysEqual),s=Mg(i.areMapsEqual),o=Mg(i.areObjectsEqual),l=Mg(i.areSetsEqual);i=TO({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function Zle(t){return function(e,r,n,i,a,s,o){return t(e,r,o)}}function Qle(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,c){var u=n(),f=u.cache,p=f===void 0?e?new WeakMap:void 0:f,h=u.meta;return r(l,c,{cache:p,equals:i,meta:h,strict:a})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,s)}}var ece=Nl();Nl({strict:!0});Nl({circular:!0});Nl({circular:!0,strict:!0});Nl({createInternalComparator:function(){return Xc}});Nl({strict:!0,createInternalComparator:function(){return Xc}});Nl({circular:!0,createInternalComparator:function(){return Xc}});Nl({circular:!0,createInternalComparator:function(){return Xc},strict:!0});function Nl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=Jle(t),l=Xle(o),c=n?n(l):Zle(l);return Qle({circular:r,comparator:l,createState:i,equals:c,strict:s})}function tce(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function LO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):tce(i)};requestAnimationFrame(n)}function Dw(t){"@babel/helpers - typeof";return Dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dw(t)}function rce(t){return sce(t)||ace(t)||ice(t)||nce()}function nce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ice(t,e){if(t){if(typeof t=="string")return IO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IO(t,e)}}function IO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ace(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sce(t){if(Array.isArray(t))return t}function oce(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=rce(s),l=o[0],c=o.slice(1);if(typeof l=="number"){LO(i.bind(null,c),l);return}i(l),LO(i.bind(null,c));return}Dw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}function $O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(r),!0).forEach(function(n){PI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PI(t,e,r){return e=lce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lce(t){var e=cce(t,"string");return Rp(e)==="symbol"?e:String(e)}function cce(t,e){if(Rp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uce=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},fce=function(e){return e},dce=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Rh=function(e,r){return Object.keys(r).reduce(function(n,i){return RO(RO({},n),{},PI({},i,e(i,r[i])))},{})},MO=function(e,r,n){return e.map(function(i){return"".concat(dce(i)," ").concat(r,"ms ").concat(n)}).join(",")};function hce(t,e){return gce(t)||mce(t,e)||EI(t,e)||pce()}function pce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function gce(t){if(Array.isArray(t))return t}function vce(t){return xce(t)||bce(t)||EI(t)||yce()}function yce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EI(t,e){if(t){if(typeof t=="string")return Bw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bw(t,e)}}function bce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xce(t){if(Array.isArray(t))return Bw(t)}function Bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var kv=1e-4,CI=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},TI=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},DO=function(e,r){return function(n){var i=CI(e,r);return TI(i,n)}},wce=function(e,r){return function(n){var i=CI(e,r),a=[].concat(vce(i.map(function(s,o){return s*o}).slice(1)),[0]);return TI(a,n)}},BO=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=hce(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var f=DO(i,s),p=DO(a,o),h=wce(i,s),g=function(y){return y>1?1:y<0?0:y},v=function(y){for(var w=y>1?1:y,_=w,j=0;j<8;++j){var S=f(_)-w,O=h(_);if(Math.abs(S-w)<kv||O<kv)return p(_);_=g(_-S/O)}return p(_)};return v.isStepper=!1,v},_ce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(u,f,p){var h=-(u-f)*n,g=p*a,v=p+(h-g)*o/1e3,x=p*o/1e3+u;return Math.abs(x-f)<kv&&Math.abs(v)<kv?[f,0]:[x,v]};return l.isStepper=!0,l.dt=o,l},Sce=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BO(i);case"spring":return _ce();default:if(i.split("(")[0]==="cubic-bezier")return BO(i)}return typeof i=="function"?i:null};function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}function FO(t){return Nce(t)||jce(t)||LI(t)||Ace()}function Ace(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nce(t){if(Array.isArray(t))return Uw(t)}function UO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function In(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(r),!0).forEach(function(n){Fw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fw(t,e,r){return e=Oce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oce(t){var e=kce(t,"string");return Mp(e)==="symbol"?e:String(e)}function kce(t,e){if(Mp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pce(t,e){return Tce(t)||Cce(t,e)||LI(t,e)||Ece()}function Ece(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LI(t,e){if(t){if(typeof t=="string")return Uw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uw(t,e)}}function Uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Tce(t){if(Array.isArray(t))return t}var Pv=function(e,r,n){return e+(r-e)*n},zw=function(e){var r=e.from,n=e.to;return r!==n},Lce=function t(e,r,n){var i=Rh(function(a,s){if(zw(s)){var o=e(s.from,s.to,s.velocity),l=Pce(o,2),c=l[0],u=l[1];return In(In({},s),{},{from:c,velocity:u})}return s},r);return n<1?Rh(function(a,s){return zw(s)?In(In({},s),{},{velocity:Pv(s.velocity,i[a].velocity,n),from:Pv(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const Ice=function(t,e,r,n,i){var a=uce(t,e),s=a.reduce(function(x,y){return In(In({},x),{},Fw({},y,[t[y],e[y]]))},{}),o=a.reduce(function(x,y){return In(In({},x),{},Fw({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,c,u,f=function(){return null},p=function(){return Rh(function(y,w){return w.from},o)},h=function(){return!Object.values(o).filter(zw).length},g=function(y){c||(c=y);var w=y-c,_=w/r.dt;o=Lce(r,o,_),i(In(In(In({},t),e),p())),c=y,h()||(l=requestAnimationFrame(f))},v=function(y){u||(u=y);var w=(y-u)/n,_=Rh(function(S,O){return Pv.apply(void 0,FO(O).concat([r(w)]))},s);if(i(In(In(In({},t),e),_)),w<1)l=requestAnimationFrame(f);else{var j=Rh(function(S,O){return Pv.apply(void 0,FO(O).concat([r(1)]))},s);i(In(In(In({},t),e),j))}};return f=r.isStepper?g:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}var $ce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Rce(t,e){if(t==null)return{};var r=Mce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mce(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function rx(t){return Uce(t)||Fce(t)||Bce(t)||Dce()}function Dce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bce(t,e){if(t){if(typeof t=="string")return qw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qw(t,e)}}function Fce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uce(t){if(Array.isArray(t))return qw(t)}function qw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ea(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(r),!0).forEach(function(n){xh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xh(t,e,r){return e=II(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,II(n.key),n)}}function Wce(t,e,r){return e&&qce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function II(t){var e=Hce(t,"string");return $f(e)==="symbol"?e:String(e)}function Hce(t,e){if($f(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($f(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ww(t,e)}function Gce(t){var e=Kce();return function(){var n=Ev(t),i;if(e){var a=Ev(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Hw(this,i)}}function Hw(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vw(t)}function Vw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ev(t){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ev(t)}var xs=function(t){Vce(r,t);var e=Gce(r);function r(n,i){var a;zce(this,r),a=e.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,p=s.children,h=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Vw(a)),a.changeStyle=a.changeStyle.bind(Vw(a)),!o||h<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:u}),Hw(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof p=="function")return a.state={style:c},Hw(a);a.state={style:l?xh({},l,c):c}}else a.state={style:{}};return a}return Wce(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,p=this.state.style;if(o){if(!s){var h={style:l?xh({},l,u):u};this.state&&p&&(l&&p[l]!==u||!l&&p!==u)&&this.setState(h);return}if(!(ece(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=g||c?f:i.to;if(this.state&&p){var x={style:l?xh({},l,v):v};(l&&p[l]!==v||!l&&p!==v)&&this.setState(x)}this.runAnimation(Ea(Ea({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,h=Ice(s,o,Sce(c),l,this.changeStyle),g=function(){a.stopJSAnimation=h()};this.manager.start([p,u,g,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,f=c.duration,p=f===void 0?0:f,h=function(v,x,y){if(y===0)return v;var w=x.duration,_=x.easing,j=_===void 0?"ease":_,S=x.style,O=x.properties,k=x.onAnimationEnd,L=y>0?s[y-1]:x,E=O||Object.keys(S);if(typeof j=="function"||j==="spring")return[].concat(rx(v),[a.runJSAnimation.bind(a,{from:L.style,to:S,duration:w,easing:j}),w]);var $=MO(E,w,j),P=Ea(Ea(Ea({},L.style),S),{},{transition:$});return[].concat(rx(v),[P,w,k]).filter(fce)};return this.manager.start([l].concat(rx(s.reduce(h,[u,Math.max(p,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=oce());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,h=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var v=o?xh({},o,l):l,x=MO(Object.keys(v),s,c);g.start([u,a,Ea(Ea({},v),{},{transition:x}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Rce(i,$ce),c=Y.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var f=function(h){var g=h.props,v=g.style,x=v===void 0?{}:v,y=g.className,w=Y.cloneElement(h,Ea(Ea({},l),{},{style:Ea(Ea({},x),u),className:y}));return w};return c===1?f(Y.Children.only(a)):ae.createElement("div",null,Y.Children.map(a,function(p){return f(p)}))}}]),r}(Y.PureComponent);xs.displayName="Animate";xs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};xs.propTypes={from:Xt.oneOfType([Xt.object,Xt.string]),to:Xt.oneOfType([Xt.object,Xt.string]),attributeName:Xt.string,duration:Xt.number,begin:Xt.number,easing:Xt.oneOfType([Xt.string,Xt.func]),steps:Xt.arrayOf(Xt.shape({duration:Xt.number.isRequired,style:Xt.object.isRequired,easing:Xt.oneOfType([Xt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xt.func]),properties:Xt.arrayOf("string"),onAnimationEnd:Xt.func})),children:Xt.oneOfType([Xt.node,Xt.func]),isActive:Xt.bool,canBegin:Xt.bool,onAnimationEnd:Xt.func,shouldReAnimate:Xt.bool,onAnimationStart:Xt.func,onAnimationReStart:Xt.func};function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cv.apply(this,arguments)}function Yce(t,e){return Qce(t)||Zce(t,e)||Jce(t,e)||Xce()}function Xce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jce(t,e){if(t){if(typeof t=="string")return qO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qO(t,e)}}function qO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Qce(t){if(Array.isArray(t))return t}function WO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(r),!0).forEach(function(n){eue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eue(t,e,r){return e=tue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tue(t){var e=rue(t,"string");return Dp(e)=="symbol"?e:e+""}function rue(t,e){if(Dp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VO=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=a[p]>s?s:a[p];u="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),u+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+o*f[1])),u+="L ".concat(e+n,",").concat(r+i-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),u+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-o*f[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var g=Math.min(s,a);u="M ".concat(e,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(r,`
            L `).concat(e+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+n,",").concat(r+o*g,`
            L `).concat(e+n,",").concat(r+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+n-l*g,",").concat(r+i,`
            L `).concat(e+l*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(r+i-o*g," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},nue=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),f=Math.min(s,s+l),p=Math.max(s,s+l);return n>=c&&n<=u&&i>=f&&i<=p}return!1},iue={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DS=function(e){var r=HO(HO({},iue),e),n=Y.useRef(),i=Y.useState(-1),a=Yce(i,2),s=a[0],o=a[1];Y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&o(j)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,p=r.radius,h=r.className,g=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isAnimationActive,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var _=Ct("recharts-rectangle",h);return w?ae.createElement(xs,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:v,animationEasing:g,isActive:w},function(j){var S=j.width,O=j.height,k=j.x,L=j.y;return ae.createElement(xs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:y,easing:g},ae.createElement("path",Cv({},lt(r,!0),{className:_,d:VO(k,L,S,O,p),ref:n})))}):ae.createElement("path",Cv({},lt(r,!0),{className:_,d:VO(l,c,u,f,p)}))},aue=["points","className","baseLinePoints","connectNulls"];function Vu(){return Vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vu.apply(this,arguments)}function sue(t,e){if(t==null)return{};var r=oue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GO(t){return fue(t)||uue(t)||cue(t)||lue()}function lue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cue(t,e){if(t){if(typeof t=="string")return Gw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gw(t,e)}}function uue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fue(t){if(Array.isArray(t))return Gw(t)}function Gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var KO=function(e){return e&&e.x===+e.x&&e.y===+e.y},due=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){KO(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),KO(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Mh=function(e,r){var n=due(e);r&&(n=[n.reduce(function(a,s){return[].concat(GO(a),GO(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},hue=function(e,r,n){var i=Mh(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Mh(r.reverse(),n).slice(1))},pue=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=sue(e,aue);if(!r||!r.length)return null;var o=Ct("recharts-polygon",n);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",c=hue(r,i,a);return ae.createElement("g",{className:o},ae.createElement("path",Vu({},lt(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?ae.createElement("path",Vu({},lt(s,!0),{fill:"none",d:Mh(r,a)})):null,l?ae.createElement("path",Vu({},lt(s,!0),{fill:"none",d:Mh(i,a)})):null)}var u=Mh(r,a);return ae.createElement("path",Vu({},lt(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:o,d:u}))};function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kw.apply(this,arguments)}var n1=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=Ct("recharts-dot",a);return r===+r&&n===+n&&i===+i?Y.createElement("circle",Kw({},lt(e,!1),J0(e),{className:s,cx:r,cy:n,r:i})):null};function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}var mue=["x","y","top","left","width","height","className"];function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yw.apply(this,arguments)}function YO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(r),!0).forEach(function(n){vue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vue(t,e,r){return e=yue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yue(t){var e=bue(t,"string");return Bp(e)=="symbol"?e:e+""}function bue(t,e){if(Bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xue(t,e){if(t==null)return{};var r=wue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var _ue=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},Sue=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,p=e.height,h=p===void 0?0:p,g=e.className,v=xue(e,mue),x=gue({x:n,y:a,top:o,left:c,width:f,height:h},v);return!$e(n)||!$e(a)||!$e(f)||!$e(h)||!$e(o)||!$e(c)?null:ae.createElement("path",Yw({},lt(x,!0),{className:Ct("recharts-cross",g),d:_ue(n,a,f,h,o,c)}))},Aue=Zy,jue=VL,Nue=_s;function Oue(t,e){return t&&t.length?Aue(t,Nue(e),jue):void 0}var kue=Oue;const Pue=rr(kue);var Eue=Zy,Cue=_s,Tue=GL;function Lue(t,e){return t&&t.length?Eue(t,Cue(e),Tue):void 0}var Iue=Lue;const $ue=rr(Iue);var Rue=["cx","cy","angle","ticks","axisLine"],Mue=["ticks","tick","angle","tickFormatter","stroke"];function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dh.apply(this,arguments)}function XO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ec(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(r),!0).forEach(function(n){i1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JO(t,e){if(t==null)return{};var r=Due(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Due(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Bue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RI(n.key),n)}}function Fue(t,e,r){return e&&ZO(t.prototype,e),r&&ZO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uue(t,e,r){return e=Tv(e),zue(t,$I()?Reflect.construct(e,r||[],Tv(t).constructor):e.apply(t,r))}function zue(t,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return que(t)}function que(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $I(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($I=function(){return!!t})()}function Tv(t){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tv(t)}function Wue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}function Xw(t,e){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xw(t,e)}function i1(t,e,r){return e=RI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RI(t){var e=Hue(t,"string");return Rf(e)=="symbol"?e:e+""}function Hue(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var a1=function(t){function e(){return Bue(this,e),Uue(this,e,arguments)}return Wue(e,t),Fue(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return br(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=Pue(o,function(u){return u.coordinate||0}),c=$ue(o,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=n.axisLine,c=JO(n,Rue),u=o.reduce(function(g,v){return[Math.min(g[0],v.coordinate),Math.max(g[1],v.coordinate)]},[1/0,-1/0]),f=br(i,a,u[0],s),p=br(i,a,u[1],s),h=ec(ec(ec({},lt(c,!1)),{},{fill:"none"},lt(l,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return ae.createElement("line",Dh({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,u=JO(i,Mue),f=this.getTickTextAnchor(),p=lt(u,!1),h=lt(s,!1),g=a.map(function(v,x){var y=n.getTickValueCoord(v),w=ec(ec(ec(ec({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(y.x,", ").concat(y.y,")")},p),{},{stroke:"none",fill:c},h),{},{index:x},y),{},{payload:v});return ae.createElement(Wt,Dh({className:Ct("recharts-polar-radius-axis-tick",wI(s)),key:"tick-".concat(v.coordinate)},$c(n.props,v,x)),e.renderTickItem(s,w,l?l(v.value,x):v.value))});return ae.createElement(Wt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:ae.createElement(Wt,{className:Ct("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Nn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return ae.isValidElement(n)?s=ae.cloneElement(n,i):mt(n)?s=n(i):s=ae.createElement(Rc,Dh({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(Y.PureComponent);i1(a1,"displayName","PolarRadiusAxis");i1(a1,"axisType","radiusAxis");i1(a1,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dc.apply(this,arguments)}function QO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(r),!0).forEach(function(n){s1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ek(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DI(n.key),n)}}function Gue(t,e,r){return e&&ek(t.prototype,e),r&&ek(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kue(t,e,r){return e=Lv(e),Yue(t,MI()?Reflect.construct(e,r||[],Lv(t).constructor):e.apply(t,r))}function Yue(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xue(t)}function Xue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MI=function(){return!!t})()}function Lv(t){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lv(t)}function Jue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jw(t,e)}function Jw(t,e){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jw(t,e)}function s1(t,e,r){return e=DI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DI(t){var e=Zue(t,"string");return Mf(e)=="symbol"?e:e+""}function Zue(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Que=Math.PI/180,tk=1e-5,o1=function(t){function e(){return Vue(this,e),Kue(this,e,arguments)}return Jue(e,t),Gue(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,u=c||8,f=br(a,s,o,n.coordinate),p=br(a,s,o+(l==="inner"?-1:1)*u,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Que),s;return a>tk?s=i==="outer"?"start":"end":a<-tk?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,o=n.axisLine,l=n.axisLineType,c=tc(tc({},lt(this.props,!1)),{},{fill:"none"},lt(o,!1));if(l==="circle")return ae.createElement(n1,dc({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:s}));var u=this.props.ticks,f=u.map(function(p){return br(i,a,s,p.coordinate)});return ae.createElement(pue,dc({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,u=lt(this.props,!1),f=lt(s,!1),p=tc(tc({},u),{},{fill:"none"},lt(o,!1)),h=a.map(function(g,v){var x=n.getTickLineCoord(g),y=n.getTickTextAnchor(g),w=tc(tc(tc({textAnchor:y},u),{},{stroke:"none",fill:c},f),{},{index:v,payload:g,x:x.x2,y:x.y2});return ae.createElement(Wt,dc({className:Ct("recharts-polar-angle-axis-tick",wI(s)),key:"tick-".concat(g.coordinate)},$c(n.props,g,v)),o&&ae.createElement("line",dc({className:"recharts-polar-angle-axis-tick-line"},p,x)),s&&e.renderTickItem(s,w,l?l(g.value,v):g.value))});return ae.createElement(Wt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:ae.createElement(Wt,{className:Ct("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return ae.isValidElement(n)?s=ae.cloneElement(n,i):mt(n)?s=n(i):s=ae.createElement(Rc,dc({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(Y.PureComponent);s1(o1,"displayName","PolarAngleAxis");s1(o1,"axisType","angleAxis");s1(o1,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var efe=z8,tfe=efe(Object.getPrototypeOf,Object),rfe=tfe,nfe=go,ife=rfe,afe=vo,sfe="[object Object]",ofe=Function.prototype,lfe=Object.prototype,BI=ofe.toString,cfe=lfe.hasOwnProperty,ufe=BI.call(Object);function ffe(t){if(!afe(t)||nfe(t)!=sfe)return!1;var e=ife(t);if(e===null)return!0;var r=cfe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&BI.call(r)==ufe}var dfe=ffe;const hfe=rr(dfe);var pfe=go,mfe=vo,gfe="[object Boolean]";function vfe(t){return t===!0||t===!1||mfe(t)&&pfe(t)==gfe}var yfe=vfe;const bfe=rr(yfe);function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iv.apply(this,arguments)}function xfe(t,e){return Afe(t)||Sfe(t,e)||_fe(t,e)||wfe()}function wfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _fe(t,e){if(t){if(typeof t=="string")return rk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rk(t,e)}}function rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Afe(t){if(Array.isArray(t))return t}function nk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ik(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(r),!0).forEach(function(n){jfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jfe(t,e,r){return e=Nfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nfe(t){var e=Ofe(t,"string");return Fp(e)=="symbol"?e:e+""}function Ofe(t,e){if(Fp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ak=function(e,r,n,i,a){var s=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+a),o+="L ".concat(e+n-s/2-i,",").concat(r+a),o+="L ".concat(e,",").concat(r," Z"),o},kfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pfe=function(e){var r=ik(ik({},kfe),e),n=Y.useRef(),i=Y.useState(-1),a=xfe(i,2),s=a[0],o=a[1];Y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,g=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||p!==+p||u===0&&f===0||p===0)return null;var w=Ct("recharts-trapezoid",h);return y?ae.createElement(xs,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:p,x:l,y:c},duration:v,animationEasing:g,isActive:y},function(_){var j=_.upperWidth,S=_.lowerWidth,O=_.height,k=_.x,L=_.y;return ae.createElement(xs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:g},ae.createElement("path",Iv({},lt(r,!0),{className:w,d:ak(k,L,j,S,O),ref:n})))}):ae.createElement("g",null,ae.createElement("path",Iv({},lt(r,!0),{className:w,d:ak(l,c,u,f,p)})))},Efe=["option","shapeType","propTransformer","activeClassName","isActive"];function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function Cfe(t,e){if(t==null)return{};var r=Tfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $v(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(r),!0).forEach(function(n){Lfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lfe(t,e,r){return e=Ife(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ife(t){var e=$fe(t,"string");return Up(e)=="symbol"?e:e+""}function $fe(t,e){if(Up(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rfe(t,e){return $v($v({},e),t)}function Mfe(t,e){return t==="symbols"}function ok(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ae.createElement(DS,r);case"trapezoid":return ae.createElement(Pfe,r);case"sector":return ae.createElement(AI,r);case"symbols":if(Mfe(e))return ae.createElement(nS,r);break;default:return null}}function Dfe(t){return Y.isValidElement(t)?t.props:t}function FI(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Rfe:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=Cfe(t,Efe),c;if(Y.isValidElement(e))c=Y.cloneElement(e,$v($v({},l),Dfe(e)));else if(mt(e))c=e(l);else if(hfe(e)&&!bfe(e)){var u=i(e,l);c=ae.createElement(ok,{shapeType:r,elementProps:u})}else{var f=l;c=ae.createElement(ok,{shapeType:r,elementProps:f})}return o?ae.createElement(Wt,{className:s},c):c}function l1(t,e){return e!=null&&"trapezoids"in t.props}function c1(t,e){return e!=null&&"sectors"in t.props}function zp(t,e){return e!=null&&"points"in t.props}function Bfe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Ffe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Ufe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function zfe(t,e){var r;return l1(t,e)?r=Bfe:c1(t,e)?r=Ffe:zp(t,e)&&(r=Ufe),r}function qfe(t,e){var r;return l1(t,e)?r="trapezoids":c1(t,e)?r="sectors":zp(t,e)&&(r="points"),r}function Wfe(t,e){if(l1(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(c1(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return zp(t,e)?e.payload:{}}function Hfe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=qfe(r,e),a=Wfe(r,e),s=n.filter(function(l,c){var u=mm(a,l),f=r.props[i].filter(function(g){var v=zfe(r,e);return v(g,e)}),p=r.props[i].indexOf(f[f.length-1]),h=c===p;return u&&h}),o=n.indexOf(s[s.length-1]);return o}var o0;function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function Gu(){return Gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gu.apply(this,arguments)}function lk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(r),!0).forEach(function(n){ua(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ck(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zI(n.key),n)}}function Gfe(t,e,r){return e&&ck(t.prototype,e),r&&ck(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kfe(t,e,r){return e=Rv(e),Yfe(t,UI()?Reflect.construct(e,r||[],Rv(t).constructor):e.apply(t,r))}function Yfe(t,e){if(e&&(Df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xfe(t)}function Xfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UI=function(){return!!t})()}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rv(t)}function Jfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zw(t,e)}function Zw(t,e){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zw(t,e)}function ua(t,e,r){return e=zI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zI(t){var e=Zfe(t,"string");return Df(e)=="symbol"?e:e+""}function Zfe(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bo=function(t){function e(r){var n;return Vfe(this,e),n=Kfe(this,e,[r]),ua(n,"pieRef",null),ua(n,"sectorRefs",[]),ua(n,"id",fd("recharts-pie-")),ua(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),mt(i)&&i()}),ua(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),mt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Jfe(e,t),Gfe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,c=a.valueKey,u=lt(this.props,!1),f=lt(s,!1),p=lt(o,!1),h=s&&s.offsetRadius||20,g=n.map(function(v,x){var y=(v.startAngle+v.endAngle)/2,w=br(v.cx,v.cy,v.outerRadius+h,y),_=gr(gr(gr(gr({},u),v),{},{stroke:"none"},f),{},{index:x,textAnchor:e.getTextAnchor(w.x,v.cx)},w),j=gr(gr(gr(gr({},u),v),{},{fill:"none",stroke:v.fill},p),{},{index:x,points:[br(v.cx,v.cy,v.outerRadius,y),w]}),S=l;return St(l)&&St(c)?S="value":St(l)&&(S=c),ae.createElement(Wt,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(x)},o&&e.renderLabelLineItem(o,j,"line"),e.renderLabelItem(s,_,yn(v,S)))});return ae.createElement(Wt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return n.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(u),p=l&&i.hasActiveIndex()?l:null,h=f?s:p,g=gr(gr({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return ae.createElement(Wt,Gu({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},$c(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),ae.createElement(FI,Gu({option:h,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return ae.createElement(xs,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var v=g.t,x=[],y=a&&a[0],w=y.startAngle;return a.forEach(function(_,j){var S=p&&p[j],O=j>0?Wi(_,"paddingAngle",0):0;if(S){var k=Ri(S.endAngle-S.startAngle,_.endAngle-_.startAngle),L=gr(gr({},_),{},{startAngle:w+O,endAngle:w+k(v)+O});x.push(L),w=L.endAngle}else{var E=_.endAngle,$=_.startAngle,P=Ri(0,E-$),I=P(v),F=gr(gr({},_),{},{startAngle:w+O,endAngle:w+I+O});x.push(F),w=F.endAngle}}),ae.createElement(Wt,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!mm(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,c=i.cx,u=i.cy,f=i.innerRadius,p=i.outerRadius,h=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!s||!s.length||!$e(c)||!$e(u)||!$e(f)||!$e(p))return null;var v=Ct("recharts-pie",o);return ae.createElement(Wt,{tabIndex:this.props.rootTabIndex,className:v,ref:function(y){n.pieRef=y}},this.renderSectors(),l&&this.renderLabels(s),Nn.renderCallByParent(this.props,null,!1),(!h||g)&&no.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(ae.isValidElement(n))return ae.cloneElement(n,i);if(mt(n))return n(i);var s=Ct("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ae.createElement(Ov,Gu({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(ae.isValidElement(n))return ae.cloneElement(n,i);var s=a;if(mt(n)&&(s=n(i),ae.isValidElement(s)))return s;var o=Ct("recharts-pie-label-text",typeof n!="boolean"&&!mt(n)?n.className:"");return ae.createElement(Rc,Gu({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(Y.PureComponent);o0=bo;ua(bo,"displayName","Pie");ua(bo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Gc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ua(bo,"parseDeltaAngle",function(t,e){var r=ii(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ua(bo,"getRealPieData",function(t){var e=t.data,r=t.children,n=lt(t,!1),i=Hi(r,um);return e&&e.length?e.map(function(a,s){return gr(gr(gr({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return gr(gr({},n),a.props)}):[]});ua(bo,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,s=xI(i,a),o=n+ai(t.cx,i,i/2),l=r+ai(t.cy,a,a/2),c=ai(t.innerRadius,s,0),u=ai(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:u,maxRadius:f}});ua(bo,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?gr(gr({},e.type.defaultProps),e.props):e.props,i=o0.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,o=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,f=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),g=o0.parseCoordinateOfPie(n,r),v=o0.parseDeltaAngle(s,o),x=Math.abs(v),y=c;St(c)&&St(f)?(Wa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):St(c)&&(Wa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var w=i.filter(function(L){return yn(L,y,0)!==0}).length,_=(x>=360?w:w-1)*l,j=x-w*h-_,S=i.reduce(function(L,E){var $=yn(E,y,0);return L+($e($)?$:0)},0),O;if(S>0){var k;O=i.map(function(L,E){var $=yn(L,y,0),P=yn(L,u,E),I=($e($)?$:0)/S,F;E?F=k.endAngle+ii(v)*l*($!==0?1:0):F=s;var R=F+ii(v)*(($!==0?h:0)+I*j),H=(F+R)/2,J=(g.innerRadius+g.outerRadius)/2,re=[{name:P,value:$,payload:L,dataKey:y,type:p}],q=br(g.cx,g.cy,J,H);return k=gr(gr(gr({percent:I,cornerRadius:a,name:P,tooltipPayload:re,midAngle:H,middleRadius:J,tooltipPosition:q},L),g),{},{value:yn(L,y),startAngle:F,endAngle:R,payload:L,paddingAngle:ii(v)*l}),k})}return gr(gr({},g),{},{sectors:O,data:i})});var Qfe=Math.ceil,ede=Math.max;function tde(t,e,r,n){for(var i=-1,a=ede(Qfe((e-t)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=t,t+=r;return s}var rde=tde,nde=oL,uk=1/0,ide=17976931348623157e292;function ade(t){if(!t)return t===0?t:0;if(t=nde(t),t===uk||t===-uk){var e=t<0?-1:1;return e*ide}return t===t?t:0}var qI=ade,sde=rde,ode=Wy,nx=qI;function lde(t){return function(e,r,n){return n&&typeof n!="number"&&ode(e,r,n)&&(r=n=void 0),e=nx(e),r===void 0?(r=e,e=0):r=nx(r),n=n===void 0?e<r?1:-1:nx(n),sde(e,r,n,t)}}var cde=lde,ude=cde,fde=ude(),dde=fde;const Mv=rr(dde);function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function fk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(r),!0).forEach(function(n){WI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WI(t,e,r){return e=hde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hde(t){var e=pde(t,"string");return qp(e)=="symbol"?e:e+""}function pde(t,e){if(qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mde=["Webkit","Moz","O","ms"],gde=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=mde.reduce(function(a,s){return dk(dk({},a),{},WI({},s+n,r))},{});return i[e]=r,i};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dv.apply(this,arguments)}function hk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ix(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(r),!0).forEach(function(n){Ti(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VI(n.key),n)}}function yde(t,e,r){return e&&pk(t.prototype,e),r&&pk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bde(t,e,r){return e=Bv(e),xde(t,HI()?Reflect.construct(e,r||[],Bv(t).constructor):e.apply(t,r))}function xde(t,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wde(t)}function wde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HI=function(){return!!t})()}function Bv(t){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bv(t)}function _de(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qw(t,e)}function Qw(t,e){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qw(t,e)}function Ti(t,e,r){return e=VI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VI(t){var e=Sde(t,"string");return Bf(e)=="symbol"?e:e+""}function Sde(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ade=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Ih().domain(Mv(0,l)).range([a,a+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},mk=function(e){return e.changedTouches&&!!e.changedTouches.length},Ff=function(t){function e(r){var n;return vde(this,e),n=bde(this,e,[r]),Ti(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ti(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ti(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),Ti(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ti(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ti(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ti(n,"handleSlideDragStart",function(i){var a=mk(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return _de(e,t),yde(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(i,a),p=Math.max(i,a),h=e.getIndexInRange(s,f),g=e.getIndexInRange(s,p);return{startIndex:h-h%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=yn(a[n],o,n);return mt(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,p=l.startIndex,h=l.endIndex,g=l.onChange,v=n.pageX-a;v>0?v=Math.min(v,c+u-f-o,c+u-f-s):v<0&&(v=Math.max(v,c-s,c-o));var x=this.getIndex({startX:s+v,endX:o+v});(x.startIndex!==p||x.endIndex!==h)&&g&&g(x),this.setState({startX:s+v,endX:o+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=mk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,f=u.x,p=u.width,h=u.travellerWidth,g=u.onChange,v=u.gap,x=u.data,y={startX:this.state.startX,endX:this.state.endX},w=n.pageX-a;w>0?w=Math.min(w,f+p-h-c):w<0&&(w=Math.max(w,f-c)),y[s]=c+w;var _=this.getIndex(y),j=_.startIndex,S=_.endIndex,O=function(){var L=x.length-1;return s==="startX"&&(o>l?j%v===0:S%v===0)||o<l&&S===L||s==="endX"&&(o>l?S%v===0:j%v===0)||o>l&&S===L};this.setState(Ti(Ti({},s,c+w),"brushMoveStartX",n.pageX),function(){g&&O()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],f=o.indexOf(u);if(f!==-1){var p=f+n;if(!(p===-1||p>=o.length)){var h=o[p];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(Ti({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return ae.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=Y.Children.only(c);return f?ae.cloneElement(f,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,p=l.traveller,h=l.ariaLabel,g=l.data,v=l.startIndex,x=l.endIndex,y=Math.max(n,this.props.x),w=ix(ix({},lt(this.props,!1)),{},{x:y,y:c,width:u,height:f}),_=h||"Min value: ".concat((a=g[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=g[x])===null||s===void 0?void 0:s.name);return ae.createElement(Wt,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,w))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return ae.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,p=u.endX,h=5,g={pointerEvents:"none",fill:c};return ae.createElement(Wt,{className:"recharts-brush-texts"},ae.createElement(Rc,Dv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:s+o/2},g),this.getTextOfTick(i)),ae.createElement(Rc,Dv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+h,y:s+o/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,g=p.endX,v=p.isTextActive,x=p.isSlideMoving,y=p.isTravellerMoving,w=p.isTravellerFocused;if(!i||!i.length||!$e(o)||!$e(l)||!$e(c)||!$e(u)||c<=0||u<=0)return null;var _=Ct("recharts-brush",a),j=ae.Children.count(s)===1,S=gde("userSelect","none");return ae.createElement(Wt,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(h,g),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(g,"endX"),(v||x||y||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(a+o/2)-1;return ae.createElement(ae.Fragment,null,ae.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),ae.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),ae.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return ae.isValidElement(n)?a=ae.cloneElement(n,i):mt(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return ix({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?Ade({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var p=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(Y.PureComponent);Ti(Ff,"displayName","Brush");Ti(Ff,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var jde=uS;function Nde(t,e){var r;return jde(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var Ode=Nde,kde=I8,Pde=_s,Ede=Ode,Cde=xi,Tde=Wy;function Lde(t,e,r){var n=Cde(t)?kde:Ede;return r&&Tde(t,e,r)&&(e=void 0),n(t,Pde(e))}var Ide=Lde;const $de=rr(Ide);var vs=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},gk=rL;function Rde(t,e,r){e=="__proto__"&&gk?gk(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Mde=Rde,Dde=Mde,Bde=eL,Fde=_s;function Ude(t,e){var r={};return e=Fde(e),Bde(t,function(n,i,a){Dde(r,i,e(n,i,a))}),r}var zde=Ude;const qde=rr(zde);function Wde(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var Hde=Wde,Vde=uS;function Gde(t,e){var r=!0;return Vde(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var Kde=Gde,Yde=Hde,Xde=Kde,Jde=_s,Zde=xi,Qde=Wy;function ehe(t,e,r){var n=Zde(t)?Yde:Xde;return r&&Qde(t,e,r)&&(e=void 0),n(t,Jde(e))}var the=ehe;const GI=rr(the);var rhe=["x","y"];function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function e5(){return e5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e5.apply(this,arguments)}function vk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(r),!0).forEach(function(n){nhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nhe(t,e,r){return e=ihe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ihe(t){var e=ahe(t,"string");return Wp(e)=="symbol"?e:e+""}function ahe(t,e){if(Wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function she(t,e){if(t==null)return{};var r=ohe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ohe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lhe(t,e){var r=t.x,n=t.y,i=she(t,rhe),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),p=parseInt(f,10);return fh(fh(fh(fh(fh({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:p,name:e.name,radius:e.radius})}function yk(t){return ae.createElement(FI,e5({shapeType:"rectangle",propTransformer:lhe,activeClassName:"recharts-active-bar"},t))}var che=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=$e(n)||LH(n);return a?e(n,i):(a||Dc(),r)}},uhe=["value","background"],KI;function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function fhe(t,e){if(t==null)return{};var r=dhe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fv.apply(this,arguments)}function bk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(r),!0).forEach(function(n){el(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XI(n.key),n)}}function phe(t,e,r){return e&&xk(t.prototype,e),r&&xk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mhe(t,e,r){return e=Uv(e),ghe(t,YI()?Reflect.construct(e,r||[],Uv(t).constructor):e.apply(t,r))}function ghe(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vhe(t)}function vhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YI=function(){return!!t})()}function Uv(t){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uv(t)}function yhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t5(t,e)}function t5(t,e){return t5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},t5(t,e)}function el(t,e,r){return e=XI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XI(t){var e=bhe(t,"string");return Uf(e)=="symbol"?e:e+""}function bhe(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jc=function(t){function e(){var r;hhe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=mhe(this,e,[].concat(i)),el(r,"state",{isAnimationFinished:!1}),el(r,"id",fd("recharts-bar-")),el(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),el(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return yhe(e,t),phe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=lt(this.props,!1);return n&&n.map(function(f,p){var h=p===l,g=h?c:s,v=tn(tn(tn({},u),f),{},{isActive:h,option:g,index:p,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ae.createElement(Wt,Fv({className:"recharts-bar-rectangle"},$c(i.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),ae.createElement(yk,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,p=this.state.prevData;return ae.createElement(xs,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var g=h.t,v=a.map(function(x,y){var w=p&&p[y];if(w){var _=Ri(w.x,x.x),j=Ri(w.y,x.y),S=Ri(w.width,x.width),O=Ri(w.height,x.height);return tn(tn({},x),{},{x:_(g),y:j(g),width:S(g),height:O(g)})}if(s==="horizontal"){var k=Ri(0,x.height),L=k(g);return tn(tn({},x),{},{y:x.y+x.height-L,height:L})}var E=Ri(0,x.width),$=E(g);return tn(tn({},x),{},{width:$})});return ae.createElement(Wt,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!mm(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=lt(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,p=fhe(c,uhe);if(!f)return null;var h=tn(tn(tn(tn(tn({},p),{},{fill:"#eee"},f),l),$c(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return ae.createElement(yk,Fv({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=Hi(u,gm);if(!f)return null;var p=c==="vertical"?s[0].height/2:s[0].width/2,h=function(x,y){var w=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:w,errorVal:yn(x,y)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ae.createElement(Wt,g,f.map(function(v){return ae.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,p=n.height,h=n.isAnimationActive,g=n.background,v=n.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,y=Ct("recharts-bar",s),w=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,j=w||_,S=St(v)?this.id:v;return ae.createElement(Wt,{className:y},w||_?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(S)},ae.createElement("rect",{x:w?c:c-f/2,y:_?u:u-p/2,width:w?f:f*2,height:_?p:p*2}))):null,ae.createElement(Wt,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,S),(!h||x)&&no.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(Y.PureComponent);KI=Jc;el(Jc,"displayName","Bar");el(Jc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Gc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});el(Jc,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,p=t.offset,h=Zse(n,r);if(!h)return null;var g=e.layout,v=r.type.defaultProps,x=v!==void 0?tn(tn({},v),r.props):r.props,y=x.dataKey,w=x.children,_=x.minPointSize,j=g==="horizontal"?s:a,S=c?j.scale.domain():null,O=aoe({numericAxis:j}),k=Hi(w,um),L=f.map(function(E,$){var P,I,F,R,H,J;c?P=Qse(c[u+$],S):(P=yn(E,y),Array.isArray(P)||(P=[O,P]));var re=che(_,KI.defaultProps.minPointSize)(P[1],$);if(g==="horizontal"){var q,Z=[s.scale(P[0]),s.scale(P[1])],le=Z[0],fe=Z[1];I=cO({axis:a,ticks:o,bandSize:i,offset:h.offset,entry:E,index:$}),F=(q=fe??le)!==null&&q!==void 0?q:void 0,R=h.size;var T=le-fe;if(H=Number.isNaN(T)?0:T,J={x:I,y:s.y,width:R,height:s.height},Math.abs(re)>0&&Math.abs(H)<Math.abs(re)){var B=ii(H||re)*(Math.abs(re)-Math.abs(H));F-=B,H+=B}}else{var X=[a.scale(P[0]),a.scale(P[1])],V=X[0],ne=X[1];if(I=V,F=cO({axis:s,ticks:l,bandSize:i,offset:h.offset,entry:E,index:$}),R=ne-V,H=h.size,J={x:a.x,y:F,width:a.width,height:H},Math.abs(re)>0&&Math.abs(R)<Math.abs(re)){var se=ii(R||re)*(Math.abs(re)-Math.abs(R));R+=se}}return tn(tn(tn({},E),{},{x:I,y:F,width:R,height:H,value:c?P:P[1],payload:E,background:J},k&&k[$]&&k[$].props),{},{tooltipPayload:[yI(r,E)],tooltipPosition:{x:I+R/2,y:F+H/2}})});return tn({data:L,layout:g},p)});function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function xhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JI(n.key),n)}}function whe(t,e,r){return e&&wk(t.prototype,e),r&&wk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ma(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(r),!0).forEach(function(n){u1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u1(t,e,r){return e=JI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JI(t){var e=_he(t,"string");return Hp(e)=="symbol"?e:e+""}function _he(t,e){if(Hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZI=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},p=!!Ii(c,Jc);return u.reduce(function(h,g){var v=r[g],x=v.orientation,y=v.domain,w=v.padding,_=w===void 0?{}:w,j=v.mirror,S=v.reversed,O="".concat(x).concat(j?"Mirror":""),k,L,E,$,P;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var I=y[1]-y[0],F=1/0,R=v.categoricalDomain.sort(RH);if(R.forEach(function(X,V){V>0&&(F=Math.min((X||0)-(R[V-1]||0),F))}),Number.isFinite(F)){var H=F/I,J=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(k=H*J/2),v.padding==="no-gap"){var re=ai(e.barCategoryGap,H*J),q=H*J/2;k=q-re-(q-re)/J*re}}}i==="xAxis"?L=[n.left+(_.left||0)+(k||0),n.left+n.width-(_.right||0)-(k||0)]:i==="yAxis"?L=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(k||0),n.top+n.height-(_.bottom||0)-(k||0)]:L=v.range,S&&(L=[L[1],L[0]]);var Z=pI(v,a,p),le=Z.scale,fe=Z.realScaleType;le.domain(y).range(L),mI(le);var T=gI(le,Ma(Ma({},v),{},{realScaleType:fe}));i==="xAxis"?(P=x==="top"&&!j||x==="bottom"&&j,E=n.left,$=f[O]-P*v.height):i==="yAxis"&&(P=x==="left"&&!j||x==="right"&&j,E=f[O]-P*v.width,$=n.top);var B=Ma(Ma(Ma({},v),T),{},{realScaleType:fe,x:E,y:$,scale:le,width:i==="xAxis"?n.width:v.width,height:i==="yAxis"?n.height:v.height});return B.bandSize=Av(B,T),!v.hide&&i==="xAxis"?f[O]+=(P?-1:1)*B.height:v.hide||(f[O]+=(P?-1:1)*B.width),Ma(Ma({},h),{},u1({},g,B))},{})},QI=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},She=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return QI({x:r,y:n},{x:i,y:a})},e$=function(){function t(e){xhe(this,t),this.scale=e}return whe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();u1(e$,"EPS",1e-4);var BS=function(e){var r=Object.keys(e).reduce(function(n,i){return Ma(Ma({},n),{},u1({},i,e$.create(e[i])))},{});return Ma(Ma({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return qde(i,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return GI(i,function(a,s){return r[s].isInRange(a)})}})};function Ahe(t){return(t%180+180)%180}var jhe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Ahe(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},Nhe=_s,Ohe=cm,khe=zy;function Phe(t){return function(e,r,n){var i=Object(e);if(!Ohe(e)){var a=Nhe(r);e=khe(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var Ehe=Phe,Che=qI;function The(t){var e=Che(t),r=e%1;return e===e?r?e-r:e:0}var Lhe=The,Ihe=K8,$he=_s,Rhe=Lhe,Mhe=Math.max;function Dhe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Rhe(r);return i<0&&(i=Mhe(n+i,0)),Ihe(t,$he(e),i)}var Bhe=Dhe,Fhe=Ehe,Uhe=Bhe,zhe=Fhe(Uhe),qhe=zhe;const Whe=rr(qhe);var Hhe=BW(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),FS=Y.createContext(void 0),US=Y.createContext(void 0),t$=Y.createContext(void 0),r$=Y.createContext({}),n$=Y.createContext(void 0),i$=Y.createContext(0),a$=Y.createContext(0),Sk=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=Hhe(a);return ae.createElement(FS.Provider,{value:n},ae.createElement(US.Provider,{value:i},ae.createElement(r$.Provider,{value:a},ae.createElement(t$.Provider,{value:u},ae.createElement(n$.Provider,{value:s},ae.createElement(i$.Provider,{value:c},ae.createElement(a$.Provider,{value:l},o)))))))},Vhe=function(){return Y.useContext(n$)},s$=function(e){var r=Y.useContext(FS);r==null&&Dc();var n=r[e];return n==null&&Dc(),n},Ghe=function(){var e=Y.useContext(FS);return Yo(e)},Khe=function(){var e=Y.useContext(US),r=Whe(e,function(n){return GI(n.domain,Number.isFinite)});return r||Yo(e)},o$=function(e){var r=Y.useContext(US);r==null&&Dc();var n=r[e];return n==null&&Dc(),n},Yhe=function(){var e=Y.useContext(t$);return e},Xhe=function(){return Y.useContext(r$)},zS=function(){return Y.useContext(a$)},qS=function(){return Y.useContext(i$)};function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function Jhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zhe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c$(n.key),n)}}function Qhe(t,e,r){return e&&Zhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function epe(t,e,r){return e=zv(e),tpe(t,l$()?Reflect.construct(e,r||[],zv(t).constructor):e.apply(t,r))}function tpe(t,e){if(e&&(zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rpe(t)}function rpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l$=function(){return!!t})()}function zv(t){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zv(t)}function npe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r5(t,e)}function r5(t,e){return r5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r5(t,e)}function Ak(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(r),!0).forEach(function(n){WS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WS(t,e,r){return e=c$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c$(t){var e=ipe(t,"string");return zf(e)=="symbol"?e:e+""}function ipe(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ape(t,e){return cpe(t)||lpe(t,e)||ope(t,e)||spe()}function spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ope(t,e){if(t){if(typeof t=="string")return Nk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nk(t,e)}}function Nk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function cpe(t){if(Array.isArray(t))return t}function n5(){return n5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n5.apply(this,arguments)}var upe=function(e,r){var n;return ae.isValidElement(e)?n=ae.cloneElement(e,r):mt(e)?n=e(r):n=ae.createElement("line",n5({},r,{className:"recharts-reference-line-line"})),n},fpe=function(e,r,n,i,a,s,o,l,c){var u=a.x,f=a.y,p=a.width,h=a.height;if(n){var g=c.y,v=e.y.apply(g,{position:s});if(vs(c,"discard")&&!e.y.isInRange(v))return null;var x=[{x:u+p,y:v},{x:u,y:v}];return l==="left"?x.reverse():x}if(r){var y=c.x,w=e.x.apply(y,{position:s});if(vs(c,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+h},{x:w,y:f}];return o==="top"?_.reverse():_}if(i){var j=c.segment,S=j.map(function(O){return e.apply(O,{position:s})});return vs(c,"discard")&&$de(S,function(O){return!e.isInRange(O)})?null:S}return null};function dpe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=Vhe(),u=s$(i),f=o$(a),p=Yhe();if(!c||!p)return null;Wa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=BS({x:u.scale,y:f.scale}),g=xn(e),v=xn(r),x=n&&n.length===2,y=fpe(h,g,v,x,p,t.position,u.orientation,f.orientation,t);if(!y)return null;var w=ape(y,2),_=w[0],j=_.x,S=_.y,O=w[1],k=O.x,L=O.y,E=vs(t,"hidden")?"url(#".concat(c,")"):void 0,$=jk(jk({clipPath:E},lt(t,!0)),{},{x1:j,y1:S,x2:k,y2:L});return ae.createElement(Wt,{className:Ct("recharts-reference-line",o)},upe(s,$),Nn.renderCallByParent(t,She({x1:j,y1:S,x2:k,y2:L})))}var HS=function(t){function e(){return Jhe(this,e),epe(this,e,arguments)}return npe(e,t),Qhe(e,[{key:"render",value:function(){return ae.createElement(dpe,this.props)}}])}(ae.Component);WS(HS,"displayName","ReferenceLine");WS(HS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function i5(){return i5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i5.apply(this,arguments)}function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function Ok(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(r),!0).forEach(function(n){f1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ppe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f$(n.key),n)}}function mpe(t,e,r){return e&&ppe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gpe(t,e,r){return e=qv(e),vpe(t,u$()?Reflect.construct(e,r||[],qv(t).constructor):e.apply(t,r))}function vpe(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ype(t)}function ype(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u$=function(){return!!t})()}function qv(t){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qv(t)}function bpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a5(t,e)}function a5(t,e){return a5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a5(t,e)}function f1(t,e,r){return e=f$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f$(t){var e=xpe(t,"string");return qf(e)=="symbol"?e:e+""}function xpe(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wpe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=BS({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return vs(e,"discard")&&!s.isInRange(o)?null:o},d1=function(t){function e(){return hpe(this,e),gpe(this,e,arguments)}return bpe(e,t),mpe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=xn(i),u=xn(a);if(Wa(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=wpe(this.props);if(!f)return null;var p=f.x,h=f.y,g=this.props,v=g.shape,x=g.className,y=vs(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=kk(kk({clipPath:y},lt(this.props,!0)),{},{cx:p,cy:h});return ae.createElement(Wt,{className:Ct("recharts-reference-dot",x)},e.renderDot(v,w),Nn.renderCallByParent(this.props,{x:p-s,y:h-s,width:2*s,height:2*s}))}}])}(ae.Component);f1(d1,"displayName","ReferenceDot");f1(d1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});f1(d1,"renderDot",function(t,e){var r;return ae.isValidElement(t)?r=ae.cloneElement(t,e):mt(t)?r=t(e):r=ae.createElement(n1,i5({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function s5(){return s5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s5.apply(this,arguments)}function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function Pk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ek(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(r),!0).forEach(function(n){h1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Spe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h$(n.key),n)}}function Ape(t,e,r){return e&&Spe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jpe(t,e,r){return e=Wv(e),Npe(t,d$()?Reflect.construct(e,r||[],Wv(t).constructor):e.apply(t,r))}function Npe(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ope(t)}function Ope(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d$=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wv(t)}function kpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o5(t,e)}function o5(t,e){return o5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o5(t,e)}function h1(t,e,r){return e=h$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h$(t){var e=Ppe(t,"string");return Wf(e)=="symbol"?e:e+""}function Ppe(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Epe=function(e,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var p=BS({x:u.scale,y:f.scale}),h={x:e?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},g={x:r?p.x.apply(o,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return vs(a,"discard")&&(!p.isInRange(h)||!p.isInRange(g))?null:QI(h,g)},p1=function(t){function e(){return _pe(this,e),jpe(this,e,arguments)}return kpe(e,t),Ape(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Wa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=xn(i),p=xn(a),h=xn(s),g=xn(o),v=this.props.shape;if(!f&&!p&&!h&&!g&&!v)return null;var x=Epe(f,p,h,g,this.props);if(!x&&!v)return null;var y=vs(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ae.createElement(Wt,{className:Ct("recharts-reference-area",l)},e.renderRect(v,Ek(Ek({clipPath:y},lt(this.props,!0)),x)),Nn.renderCallByParent(this.props,x))}}])}(ae.Component);h1(p1,"displayName","ReferenceArea");h1(p1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});h1(p1,"renderRect",function(t,e){var r;return ae.isValidElement(t)?r=ae.cloneElement(t,e):mt(t)?r=t(e):r=ae.createElement(DS,s5({},e,{className:"recharts-reference-area-rect"})),r});function p$(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Cpe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return jhe(n,r)}function Tpe(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Hv(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Lpe(t,e){return p$(t,e+1)}function Ipe(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,o=e.end,l=0,c=1,u=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:p$(n,c)};var v=l,x,y=function(){return x===void 0&&(x=r(g,v)),x},w=g.coordinate,_=l===0||Hv(t,w,y,u,o);_||(l=0,u=s,c+=1),_&&(u=w+t*(y()/2+i),l+=c)},p;c<=a.length;)if(p=f(),p)return p.v;return[]}function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function Ck(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(r),!0).forEach(function(n){$pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $pe(t,e,r){return e=Rpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rpe(t){var e=Mpe(t,"string");return Vp(e)=="symbol"?e:e+""}function Mpe(t,e){if(Vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dpe(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(p){var h=a[p],g,v=function(){return g===void 0&&(g=r(h,p)),g};if(p===s-1){var x=t*(h.coordinate+t*v()/2-l);a[p]=h=Kn(Kn({},h),{},{tickCoord:x>0?h.coordinate-x*t:h.coordinate})}else a[p]=h=Kn(Kn({},h),{},{tickCoord:h.coordinate});var y=Hv(t,h.tickCoord,v,o,l);y&&(l=h.tickCoord-t*(v()/2+i),a[p]=Kn(Kn({},h),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function Bpe(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var u=n[o-1],f=r(u,o-1),p=t*(u.coordinate+t*f/2-c);s[o-1]=u=Kn(Kn({},u),{},{tickCoord:p>0?u.coordinate-p*t:u.coordinate});var h=Hv(t,u.tickCoord,function(){return f},l,c);h&&(c=u.tickCoord-t*(f/2+i),s[o-1]=Kn(Kn({},u),{},{isShow:!0}))}for(var g=a?o-1:o,v=function(w){var _=s[w],j,S=function(){return j===void 0&&(j=r(_,w)),j};if(w===0){var O=t*(_.coordinate-t*S()/2-l);s[w]=_=Kn(Kn({},_),{},{tickCoord:O<0?_.coordinate-O*t:_.coordinate})}else s[w]=_=Kn(Kn({},_),{},{tickCoord:_.coordinate});var k=Hv(t,_.tickCoord,S,l,c);k&&(l=_.tickCoord+t*(S()/2+i),s[w]=Kn(Kn({},_),{},{isShow:!0}))},x=0;x<g;x++)v(x);return s}function VS(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if($e(l)||Gc.isSsr)return Lpe(i,typeof l=="number"&&$e(l)?l:0);var p=[],h=o==="top"||o==="bottom"?"width":"height",g=u&&h==="width"?Lh(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=function(_,j){var S=mt(c)?c(_.value,j):_.value;return h==="width"?Cpe(Lh(S,{fontSize:e,letterSpacing:r}),g,f):Lh(S,{fontSize:e,letterSpacing:r})[h]},x=i.length>=2?ii(i[1].coordinate-i[0].coordinate):1,y=Tpe(a,x,h);return l==="equidistantPreserveStart"?Ipe(x,y,v,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=Bpe(x,y,v,i,s,l==="preserveStartEnd"):p=Dpe(x,y,v,i,s),p.filter(function(w){return w.isShow}))}var Fpe=["viewBox"],Upe=["viewBox"],zpe=["ticks"];function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function Ku(){return Ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ku.apply(this,arguments)}function Tk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(r),!0).forEach(function(n){GS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ax(t,e){if(t==null)return{};var r=qpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g$(n.key),n)}}function Hpe(t,e,r){return e&&Lk(t.prototype,e),r&&Lk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vpe(t,e,r){return e=Vv(e),Gpe(t,m$()?Reflect.construct(e,r||[],Vv(t).constructor):e.apply(t,r))}function Gpe(t,e){if(e&&(Hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kpe(t)}function Kpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m$=function(){return!!t})()}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vv(t)}function Ype(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l5(t,e)}function l5(t,e){return l5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},l5(t,e)}function GS(t,e,r){return e=g$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g$(t){var e=Xpe(t,"string");return Hf(e)=="symbol"?e:e+""}function Xpe(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yd=function(t){function e(r){var n;return Wpe(this,e),n=Vpe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Ype(e,t),Hpe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=ax(n,Fpe),o=this.props,l=o.viewBox,c=ax(o,Upe);return!sf(a,l)||!sf(s,c)||!sf(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,p=i.tickMargin,h,g,v,x,y,w,_=f?-1:1,j=n.tickSize||u,S=$e(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":h=g=n.coordinate,x=s+ +!f*l,v=x-_*j,w=v-_*p,y=S;break;case"left":v=x=n.coordinate,g=a+ +!f*o,h=g-_*j,y=h-_*p,w=S;break;case"right":v=x=n.coordinate,g=a+ +f*o,h=g+_*j,y=h+_*p,w=S;break;default:h=g=n.coordinate,x=s+ +f*l,v=x+_*j,w=v+_*p,y=S;break}return{line:{x1:h,y1:v,x2:g,y2:x},tick:{x:y,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=hn(hn(hn({},lt(this.props,!1)),lt(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);f=hn(hn({},f),{},{x1:i,y1:a+p*o,x2:i+s,y2:a+p*o})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=hn(hn({},f),{},{x1:i+h*s,y1:a,x2:i+h*s,y2:a+o})}return ae.createElement("line",Ku({},f,{className:Ct("recharts-cartesian-axis-line",Wi(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,p=o.unit,h=VS(hn(hn({},this.props),{},{ticks:n}),i,a),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=lt(this.props,!1),y=lt(u,!1),w=hn(hn({},x),{},{fill:"none"},lt(l,!1)),_=h.map(function(j,S){var O=s.getTickLineCoord(j),k=O.line,L=O.tick,E=hn(hn(hn(hn({textAnchor:g,verticalAnchor:v},x),{},{stroke:"none",fill:c},y),L),{},{index:S,payload:j,visibleTicksCount:h.length,tickFormatter:f});return ae.createElement(Wt,Ku({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},$c(s.props,j,S)),l&&ae.createElement("line",Ku({},w,k,{className:Ct("recharts-cartesian-axis-tick-line",Wi(l,"className"))})),u&&e.renderTickItem(u,E,"".concat(mt(f)?f(j.value,S):j.value).concat(p||"")))});return ae.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,p=f.ticks,h=ax(f,zpe),g=p;return mt(l)&&(g=p&&p.length>0?l(this.props):l(h)),s<=0||o<=0||!g||!g.length?null:ae.createElement(Wt,{className:Ct("recharts-cartesian-axis",c),ref:function(x){n.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Nn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=Ct(i.className,"recharts-cartesian-axis-tick-value");return ae.isValidElement(n)?s=ae.cloneElement(n,hn(hn({},i),{},{className:o})):mt(n)?s=n(hn(hn({},i),{},{className:o})):s=ae.createElement(Rc,Ku({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(Y.Component);GS(yd,"displayName","CartesianAxis");GS(yd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Jpe=["x1","y1","x2","y2","key"],Zpe=["offset"];function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function Ik(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(r),!0).forEach(function(n){Qpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qpe(t,e,r){return e=eme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eme(t){var e=tme(t,"string");return Bc(e)=="symbol"?e:e+""}function tme(t,e){if(Bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wc(){return wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wc.apply(this,arguments)}function $k(t,e){if(t==null)return{};var r=rme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var nme=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return ae.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function v$(t,e){var r;if(ae.isValidElement(t))r=ae.cloneElement(t,e);else if(mt(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=$k(e,Jpe),c=lt(l,!1);c.offset;var u=$k(c,Zpe);r=ae.createElement("line",wc({},u,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function ime(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Xn(Xn({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return v$(i,c)});return ae.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function ame(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Xn(Xn({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return v$(i,c)});return ae.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function sme(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==u[0]&&u.unshift(0);var f=u.map(function(p,h){var g=!u[h+1],v=g?i+s-p:u[h+1]-p;if(v<=0)return null;var x=h%e.length;return ae.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:v,width:a,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function ome(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==u[0]&&u.unshift(0);var f=u.map(function(p,h){var g=!u[h+1],v=g?a+o-p:u[h+1]-p;if(v<=0)return null;var x=h%n.length;return ae.createElement("rect",{key:"react-".concat(h),x:p,y:s,width:v,height:l,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var lme=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return hI(VS(Xn(Xn(Xn({},yd.defaultProps),n),{},{ticks:Zs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},cme=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return hI(VS(Xn(Xn(Xn({},yd.defaultProps),n),{},{ticks:Zs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Su={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function m1(t){var e,r,n,i,a,s,o=zS(),l=qS(),c=Xhe(),u=Xn(Xn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Su.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Su.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Su.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Su.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Su.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Su.verticalFill,x:$e(t.x)?t.x:c.left,y:$e(t.y)?t.y:c.top,width:$e(t.width)?t.width:c.width,height:$e(t.height)?t.height:c.height}),f=u.x,p=u.y,h=u.width,g=u.height,v=u.syncWithTicks,x=u.horizontalValues,y=u.verticalValues,w=Ghe(),_=Khe();if(!$e(h)||h<=0||!$e(g)||g<=0||!$e(f)||f!==+f||!$e(p)||p!==+p)return null;var j=u.verticalCoordinatesGenerator||lme,S=u.horizontalCoordinatesGenerator||cme,O=u.horizontalPoints,k=u.verticalPoints;if((!O||!O.length)&&mt(S)){var L=x&&x.length,E=S({yAxis:_?Xn(Xn({},_),{},{ticks:L?x:_.ticks}):void 0,width:o,height:l,offset:c},L?!0:v);Wa(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Bc(E),"]")),Array.isArray(E)&&(O=E)}if((!k||!k.length)&&mt(j)){var $=y&&y.length,P=j({xAxis:w?Xn(Xn({},w),{},{ticks:$?y:w.ticks}):void 0,width:o,height:l,offset:c},$?!0:v);Wa(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Bc(P),"]")),Array.isArray(P)&&(k=P)}return ae.createElement("g",{className:"recharts-cartesian-grid"},ae.createElement(nme,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ae.createElement(ime,wc({},u,{offset:c,horizontalPoints:O,xAxis:w,yAxis:_})),ae.createElement(ame,wc({},u,{offset:c,verticalPoints:k,xAxis:w,yAxis:_})),ae.createElement(sme,wc({},u,{horizontalPoints:O})),ae.createElement(ome,wc({},u,{verticalPoints:k})))}m1.displayName="CartesianGrid";var ume=["type","layout","connectNulls","ref"],fme=["key"];function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function Rk(t,e){if(t==null)return{};var r=dme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bh.apply(this,arguments)}function Mk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(r),!0).forEach(function(n){Da(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Au(t){return gme(t)||mme(t)||pme(t)||hme()}function hme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pme(t,e){if(t){if(typeof t=="string")return c5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c5(t,e)}}function mme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gme(t){if(Array.isArray(t))return c5(t)}function c5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b$(n.key),n)}}function yme(t,e,r){return e&&Dk(t.prototype,e),r&&Dk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bme(t,e,r){return e=Gv(e),xme(t,y$()?Reflect.construct(e,r||[],Gv(t).constructor):e.apply(t,r))}function xme(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wme(t)}function wme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y$=function(){return!!t})()}function Gv(t){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gv(t)}function _me(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u5(t,e)}function u5(t,e){return u5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u5(t,e)}function Da(t,e,r){return e=b$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b$(t){var e=Sme(t,"string");return Vf(e)=="symbol"?e:e+""}function Sme(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fc=function(t){function e(){var r;vme(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=bme(this,e,[].concat(i)),Da(r,"state",{isAnimationFinished:!0,totalLength:0}),Da(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Da(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,w){return y+w});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,p=o-s,h=[],g=0,v=0;g<l.length;v+=l[g],++g)if(v+l[g]>f){h=[].concat(Au(l.slice(0,g)),[f-v]);break}var x=h.length%2===0?[0,p]:[p];return[].concat(Au(e.repeat(l,u)),Au(h),x).map(function(y){return"".concat(y,"px")}).join(", ")}),Da(r,"id",fd("recharts-line-")),Da(r,"pathRef",function(s){r.mainCurve=s}),Da(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Da(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return _me(e,t),yme(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=Hi(u,gm);if(!f)return null;var p=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:yn(v.payload,x)}},h={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ae.createElement(Wt,h,f.map(function(g){return ae.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=lt(this.props,!1),p=lt(l,!0),h=c.map(function(v,x){var y=Ci(Ci(Ci({key:"dot-".concat(x),r:3},f),p),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:u,payload:v.payload,points:c});return e.renderDotItem(l,y)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return ae.createElement(Wt,Bh({className:"recharts-line-dots",key:"dots"},g),h)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=Rk(o,ume),p=Ci(Ci(Ci({},lt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return ae.createElement(Ov,Bh({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,p=s.animationEasing,h=s.animationId,g=s.animateNewValues,v=s.width,x=s.height,y=this.state,w=y.prevPoints,_=y.totalLength;return ae.createElement(xs,{begin:u,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var S=j.t;if(w){var O=w.length/o.length,k=o.map(function(I,F){var R=Math.floor(F*O);if(w[R]){var H=w[R],J=Ri(H.x,I.x),re=Ri(H.y,I.y);return Ci(Ci({},I),{},{x:J(S),y:re(S)})}if(g){var q=Ri(v*2,I.x),Z=Ri(x/2,I.y);return Ci(Ci({},I),{},{x:q(S),y:Z(S)})}return Ci(Ci({},I),{},{x:I.x,y:I.y})});return a.renderCurveStatically(k,n,i)}var L=Ri(0,_),E=L(S),$;if(l){var P="".concat(l).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});$=a.getStrokeDasharray(E,_,P)}else $=a.generateSimpleStrokeDasharray(_,E);return a.renderCurveStatically(o,n,i,{strokeDasharray:$})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!mm(c,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.xAxis,u=i.yAxis,f=i.top,p=i.left,h=i.width,g=i.height,v=i.isAnimationActive,x=i.id;if(a||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=o.length===1,_=Ct("recharts-line",l),j=c&&c.allowDataOverflow,S=u&&u.allowDataOverflow,O=j||S,k=St(x)?this.id:x,L=(n=lt(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=L.r,$=E===void 0?3:E,P=L.strokeWidth,I=P===void 0?2:P,F=HH(s)?s:{},R=F.clipDot,H=R===void 0?!0:R,J=$*2+I;return ae.createElement(Wt,{className:_},j||S?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(k)},ae.createElement("rect",{x:j?p:p-h/2,y:S?f:f-g/2,width:j?h:h*2,height:S?g:g*2})),!H&&ae.createElement("clipPath",{id:"clipPath-dots-".concat(k)},ae.createElement("rect",{x:p-J/2,y:f-J/2,width:h+J,height:g+J}))):null,!w&&this.renderCurve(O,k),this.renderErrorBar(O,k),(w||s)&&this.renderDots(O,H,k),(!v||y)&&no.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Au(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(Au(s),Au(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(ae.isValidElement(n))a=ae.cloneElement(n,i);else if(mt(n))a=n(i);else{var s=i.key,o=Rk(i,fme),l=Ct("recharts-line-dot",typeof n!="boolean"?n.className:"");a=ae.createElement(n1,Bh({key:s},o,{className:l}))}return a}}])}(Y.PureComponent);Da(Fc,"displayName","Line");Da(Fc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Gc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Da(Fc,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,f=l.map(function(p,h){var g=yn(p,s);return u==="horizontal"?{x:lO({axis:r,ticks:i,bandSize:o,entry:p,index:h}),y:St(g)?null:n.scale(g),value:g,payload:p}:{x:St(g)?null:r.scale(g),y:lO({axis:n,ticks:a,bandSize:o,entry:p,index:h}),value:g,payload:p}});return Ci({points:f,layout:u},c)});function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function Ame(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_$(n.key),n)}}function Nme(t,e,r){return e&&jme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ome(t,e,r){return e=Kv(e),kme(t,x$()?Reflect.construct(e,r||[],Kv(t).constructor):e.apply(t,r))}function kme(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pme(t)}function Pme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x$=function(){return!!t})()}function Kv(t){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kv(t)}function Eme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f5(t,e)}function f5(t,e){return f5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f5(t,e)}function w$(t,e,r){return e=_$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _$(t){var e=Cme(t,"string");return Gf(e)=="symbol"?e:e+""}function Cme(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function d5(){return d5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d5.apply(this,arguments)}function Tme(t){var e=t.xAxisId,r=zS(),n=qS(),i=s$(e);return i==null?null:Y.createElement(yd,d5({},i,{className:Ct("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Zs(s,!0)}}))}var Zc=function(t){function e(){return Ame(this,e),Ome(this,e,arguments)}return Eme(e,t),Nme(e,[{key:"render",value:function(){return Y.createElement(Tme,this.props)}}])}(Y.Component);w$(Zc,"displayName","XAxis");w$(Zc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function Lme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ime(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j$(n.key),n)}}function $me(t,e,r){return e&&Ime(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rme(t,e,r){return e=Yv(e),Mme(t,S$()?Reflect.construct(e,r||[],Yv(t).constructor):e.apply(t,r))}function Mme(t,e){if(e&&(Kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dme(t)}function Dme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S$=function(){return!!t})()}function Yv(t){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yv(t)}function Bme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h5(t,e)}function h5(t,e){return h5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h5(t,e)}function A$(t,e,r){return e=j$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j$(t){var e=Fme(t,"string");return Kf(e)=="symbol"?e:e+""}function Fme(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function p5(){return p5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p5.apply(this,arguments)}var Ume=function(e){var r=e.yAxisId,n=zS(),i=qS(),a=o$(r);return a==null?null:Y.createElement(yd,p5({},a,{className:Ct("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Zs(o,!0)}}))},Qc=function(t){function e(){return Lme(this,e),Rme(this,e,arguments)}return Bme(e,t),$me(e,[{key:"render",value:function(){return Y.createElement(Ume,this.props)}}])}(Y.Component);A$(Qc,"displayName","YAxis");A$(Qc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Bk(t){return Hme(t)||Wme(t)||qme(t)||zme()}function zme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qme(t,e){if(t){if(typeof t=="string")return m5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m5(t,e)}}function Wme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hme(t){if(Array.isArray(t))return m5(t)}function m5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var g5=function(e,r,n,i,a){var s=Hi(e,HS),o=Hi(e,d1),l=[].concat(Bk(s),Bk(o)),c=Hi(e,p1),u="".concat(i,"Id"),f=i[0],p=r;if(l.length&&(p=l.reduce(function(v,x){if(x.props[u]===n&&vs(x.props,"extendDomain")&&$e(x.props[f])){var y=x.props[f];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},p)),c.length){var h="".concat(f,"1"),g="".concat(f,"2");p=c.reduce(function(v,x){if(x.props[u]===n&&vs(x.props,"extendDomain")&&$e(x.props[h])&&$e(x.props[g])){var y=x.props[h],w=x.props[g];return[Math.min(v[0],y,w),Math.max(v[1],y,w)]}return v},p)}return a&&a.length&&(p=a.reduce(function(v,x){return $e(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},p)),p},N$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,p),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],h]:l._events[g].push(h):(l._events[g]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,g=new Array(h);p<h;p++)g[p]=f[p].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,p,h,g){var v=r?r+c:c;if(!this._events[v])return!1;var x=this._events[v],y=arguments.length,w,_;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,f),!0;case 4:return x.fn.call(x.context,u,f,p),!0;case 5:return x.fn.call(x.context,u,f,p,h),!0;case 6:return x.fn.call(x.context,u,f,p,h,g),!0}for(_=1,w=new Array(y-1);_<y;_++)w[_-1]=arguments[_];x.fn.apply(x.context,w)}else{var j=x.length,S;for(_=0;_<j;_++)switch(x[_].once&&this.removeListener(c,x[_].fn,void 0,!0),y){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,u);break;case 3:x[_].fn.call(x[_].context,u,f);break;case 4:x[_].fn.call(x[_].context,u,f,p);break;default:if(!w)for(S=1,w=new Array(y-1);S<y;S++)w[S-1]=arguments[S];x[_].fn.apply(x[_].context,w)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,p){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var g=this._events[h];if(g.fn)g.fn===u&&(!p||g.once)&&(!f||g.context===f)&&s(this,h);else{for(var v=0,x=[],y=g.length;v<y;v++)(g[v].fn!==u||p&&!g[v].once||f&&g[v].context!==f)&&x.push(g[v]);x.length?this._events[h]=x.length===1?x[0]:x:s(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(N$);var Vme=N$.exports;const Gme=rr(Vme);var sx=new Gme,ox="recharts.syncMouseEvents";function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function Kme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O$(n.key),n)}}function Xme(t,e,r){return e&&Yme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lx(t,e,r){return e=O$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O$(t){var e=Jme(t,"string");return Gp(e)=="symbol"?e:e+""}function Jme(t,e){if(Gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zme=function(){function t(){Kme(this,t),lx(this,"activeIndex",0),lx(this,"coordinateList",[]),lx(this,"layout","horizontal")}return Xme(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,p=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function Qme(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&$e(n)&&$e(i))return!0}return!1}function ege(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function k$(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=br(e,r,n,i),o=br(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function tge(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,p=br(o,l,c,f),h=br(o,l,u,f);n=p.x,i=p.y,a=h.x,s=h.y}else return k$(e);return[{x:n,y:i},{x:a,y:s}]}function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function Fk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(r),!0).forEach(function(n){rge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rge(t,e,r){return e=nge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nge(t){var e=ige(t,"string");return Kp(e)=="symbol"?e:e+""}function ige(t,e){if(Kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function age(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!a||!s||p!=="ScatterChart"&&i!=="axis")return null;var g,v=Ov;if(p==="ScatterChart")g=s,v=Sue;else if(p==="BarChart")g=ege(f,s,l,u),v=DS;else if(f==="radial"){var x=k$(s),y=x.cx,w=x.cy,_=x.radius,j=x.startAngle,S=x.endAngle;g={cx:y,cy:w,startAngle:j,endAngle:S,innerRadius:_,outerRadius:_},v=AI}else g={points:tge(f,s,l)},v=Ov;var O=Dg(Dg(Dg(Dg({stroke:"#ccc",pointerEvents:"none"},l),g),lt(h,!1)),{},{payload:o,payloadIndex:c,className:Ct("recharts-tooltip-cursor",h.className)});return Y.isValidElement(h)?Y.cloneElement(h,O):Y.createElement(v,O)}var sge=["item"],oge=["children","className","width","height","style","compact","title","desc"];function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yu.apply(this,arguments)}function Uk(t,e){return uge(t)||cge(t,e)||E$(t,e)||lge()}function lge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function uge(t){if(Array.isArray(t))return t}function zk(t,e){if(t==null)return{};var r=fge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C$(n.key),n)}}function pge(t,e,r){return e&&hge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mge(t,e,r){return e=Xv(e),gge(t,P$()?Reflect.construct(e,r||[],Xv(t).constructor):e.apply(t,r))}function gge(t,e){if(e&&(Yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vge(t)}function vge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P$=function(){return!!t})()}function Xv(t){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xv(t)}function yge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v5(t,e)}function v5(t,e){return v5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v5(t,e)}function Xf(t){return wge(t)||xge(t)||E$(t)||bge()}function bge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E$(t,e){if(t){if(typeof t=="string")return y5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y5(t,e)}}function xge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wge(t){if(Array.isArray(t))return y5(t)}function y5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(r),!0).forEach(function(n){ft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ft(t,e,r){return e=C$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C$(t){var e=_ge(t,"string");return Yf(e)=="symbol"?e:e+""}function _ge(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sge={xAxis:["bottom","top"],yAxis:["left","right"]},Age={width:"100%",height:"100%"},T$={x:0,y:0};function Bg(t){return t}var jge=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Nge=function(e,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return _e(_e(_e({},i),br(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return _e(_e(_e({},i),br(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return T$},g1=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Xf(o),Xf(c)):o},[]);return s.length>0?s:e&&e.length&&$e(i)&&$e(a)?e.slice(i,a+1):[]};function L$(t){return t==="number"?[0,"auto"]:void 0}var b5=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,o=g1(r,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var h=f===void 0?o:f;p=X0(h,s.dataKey,i)}else p=f&&f[n]||o[n];return p?[].concat(Xf(l),[yI(c,p)]):l},[])},Wk=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=jge(a,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=Vse(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,p=b5(e,r,u,f),h=Nge(n,o,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},Oge=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,p=e.stackOffset,h=dI(u,a);return n.reduce(function(g,v){var x,y=v.type.defaultProps!==void 0?_e(_e({},v.type.defaultProps),v.props):v.props,w=y.type,_=y.dataKey,j=y.allowDataOverflow,S=y.allowDuplicatedCategory,O=y.scale,k=y.ticks,L=y.includeHidden,E=y[s];if(g[E])return g;var $=g1(e.data,{graphicalItems:i.filter(function(T){var B,X=s in T.props?T.props[s]:(B=T.type.defaultProps)===null||B===void 0?void 0:B[s];return X===E}),dataStartIndex:l,dataEndIndex:c}),P=$.length,I,F,R;Qme(y.domain,j,w)&&(I=Lw(y.domain,null,j),h&&(w==="number"||O!=="auto")&&(R=$h($,_,"category")));var H=L$(w);if(!I||I.length===0){var J,re=(J=y.domain)!==null&&J!==void 0?J:H;if(_){if(I=$h($,_,w),w==="category"&&h){var q=$H(I);S&&q?(F=I,I=Mv(0,P)):S||(I=dO(re,I,v).reduce(function(T,B){return T.indexOf(B)>=0?T:[].concat(Xf(T),[B])},[]))}else if(w==="category")S?I=I.filter(function(T){return T!==""&&!St(T)}):I=dO(re,I,v).reduce(function(T,B){return T.indexOf(B)>=0||B===""||St(B)?T:[].concat(Xf(T),[B])},[]);else if(w==="number"){var Z=Jse($,i.filter(function(T){var B,X,V=s in T.props?T.props[s]:(B=T.type.defaultProps)===null||B===void 0?void 0:B[s],ne="hide"in T.props?T.props.hide:(X=T.type.defaultProps)===null||X===void 0?void 0:X.hide;return V===E&&(L||!ne)}),_,a,u);Z&&(I=Z)}h&&(w==="number"||O!=="auto")&&(R=$h($,_,"category"))}else h?I=Mv(0,P):o&&o[E]&&o[E].hasStack&&w==="number"?I=p==="expand"?[0,1]:vI(o[E].stackGroups,l,c):I=fI($,i.filter(function(T){var B=s in T.props?T.props[s]:T.type.defaultProps[s],X="hide"in T.props?T.props.hide:T.type.defaultProps.hide;return B===E&&(L||!X)}),w,u,!0);if(w==="number")I=g5(f,I,E,a,k),re&&(I=Lw(re,I,j));else if(w==="category"&&re){var le=re,fe=I.every(function(T){return le.indexOf(T)>=0});fe&&(I=le)}}return _e(_e({},g),{},ft({},E,_e(_e({},y),{},{axisType:a,domain:I,categoricalDomain:R,duplicateDomain:F,originalDomain:(x=y.domain)!==null&&x!==void 0?x:H,isCategorical:h,layout:u})))},{})},kge=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,p=g1(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),h=p.length,g=dI(u,a),v=-1;return n.reduce(function(x,y){var w=y.type.defaultProps!==void 0?_e(_e({},y.type.defaultProps),y.props):y.props,_=w[s],j=L$("number");if(!x[_]){v++;var S;return g?S=Mv(0,h):o&&o[_]&&o[_].hasStack?(S=vI(o[_].stackGroups,l,c),S=g5(f,S,_,a)):(S=Lw(j,fI(p,n.filter(function(O){var k,L,E=s in O.props?O.props[s]:(k=O.type.defaultProps)===null||k===void 0?void 0:k[s],$="hide"in O.props?O.props.hide:(L=O.type.defaultProps)===null||L===void 0?void 0:L.hide;return E===_&&!$}),"number",u),i.defaultProps.allowDataOverflow),S=g5(f,S,_,a)),_e(_e({},x),{},ft({},_,_e(_e({axisType:a},i.defaultProps),{},{hide:!0,orientation:Wi(Sge,"".concat(a,".").concat(v%2),null),domain:S,originalDomain:j,isCategorical:g,layout:u})))}return x},{})},Pge=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,f="".concat(i,"Id"),p=Hi(u,a),h={};return p&&p.length?h=Oge(e,{axes:p,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(h=kge(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),h},Ege=function(e){var r=Yo(e),n=Zs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:fS(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Av(r,n)}},Hk=function(e){var r=e.children,n=e.defaultShowTooltip,i=Ii(r,Ff),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Cge=function(e){return!e||!e.length?!1:e.some(function(r){var n=eo(r&&r.type);return n&&n.indexOf("Bar")>=0})},Vk=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Tge=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,p=n.margin||{},h=Ii(f,Ff),g=Ii(f,to),v=Object.keys(l).reduce(function(S,O){var k=l[O],L=k.orientation;return!k.mirror&&!k.hide?_e(_e({},S),{},ft({},L,S[L]+k.width)):S},{left:p.left||0,right:p.right||0}),x=Object.keys(s).reduce(function(S,O){var k=s[O],L=k.orientation;return!k.mirror&&!k.hide?_e(_e({},S),{},ft({},L,Wi(S,"".concat(L))+k.height)):S},{top:p.top||0,bottom:p.bottom||0}),y=_e(_e({},x),v),w=y.bottom;h&&(y.bottom+=h.props.height||Ff.defaultProps.height),g&&r&&(y=Yse(y,i,n,r));var _=c-y.left-y.right,j=u-y.top-y.bottom;return _e(_e({brushBottom:w},y),{},{width:Math.max(_,0),height:Math.max(j,0)})},Lge=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},KS=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,p=function(y,w){var _=w.graphicalItems,j=w.stackGroups,S=w.offset,O=w.updateId,k=w.dataStartIndex,L=w.dataEndIndex,E=y.barSize,$=y.layout,P=y.barGap,I=y.barCategoryGap,F=y.maxBarSize,R=Vk($),H=R.numericAxisName,J=R.cateAxisName,re=Cge(_),q=[];return _.forEach(function(Z,le){var fe=g1(y.data,{graphicalItems:[Z],dataStartIndex:k,dataEndIndex:L}),T=Z.type.defaultProps!==void 0?_e(_e({},Z.type.defaultProps),Z.props):Z.props,B=T.dataKey,X=T.maxBarSize,V=T["".concat(H,"Id")],ne=T["".concat(J,"Id")],se={},de=l.reduce(function(Ce,qe){var De=w["".concat(qe.axisType,"Map")],It=T["".concat(qe.axisType,"Id")];De&&De[It]||qe.axisType==="zAxis"||Dc();var ot=De[It];return _e(_e({},Ce),{},ft(ft({},qe.axisType,ot),"".concat(qe.axisType,"Ticks"),Zs(ot)))},se),ie=de[J],me=de["".concat(J,"Ticks")],xe=j&&j[V]&&j[V].hasStack&&soe(Z,j[V].stackGroups),pe=eo(Z.type).indexOf("Bar")>=0,Pe=Av(ie,me),ue=[],G=re&&Gse({barSize:E,stackGroups:j,totalSize:Lge(de,J)});if(pe){var Re,Fe,Be=St(X)?F:X,Ne=(Re=(Fe=Av(ie,me,!0))!==null&&Fe!==void 0?Fe:Be)!==null&&Re!==void 0?Re:0;ue=Kse({barGap:P,barCategoryGap:I,bandSize:Ne!==Pe?Ne:Pe,sizeList:G[ne],maxBarSize:Be}),Ne!==Pe&&(ue=ue.map(function(Ce){return _e(_e({},Ce),{},{position:_e(_e({},Ce.position),{},{offset:Ce.position.offset-Ne/2})})}))}var Ue=Z&&Z.type&&Z.type.getComposedData;Ue&&q.push({props:_e(_e({},Ue(_e(_e({},de),{},{displayedData:fe,props:y,dataKey:B,item:Z,bandSize:Pe,barPosition:ue,offset:S,stackedData:xe,layout:$,dataStartIndex:k,dataEndIndex:L}))),{},ft(ft(ft({key:Z.key||"item-".concat(le)},H,de[H]),J,de[J]),"animationId",O)),childIndex:KH(Z,y.children),item:Z})}),q},h=function(y,w){var _=y.props,j=y.dataStartIndex,S=y.dataEndIndex,O=y.updateId;if(!a3({props:_}))return null;var k=_.children,L=_.layout,E=_.stackOffset,$=_.data,P=_.reverseStackOrder,I=Vk(L),F=I.numericAxisName,R=I.cateAxisName,H=Hi(k,n),J=ioe($,H,"".concat(F,"Id"),"".concat(R,"Id"),E,P),re=l.reduce(function(T,B){var X="".concat(B.axisType,"Map");return _e(_e({},T),{},ft({},X,Pge(_,_e(_e({},B),{},{graphicalItems:H,stackGroups:B.axisType===F&&J,dataStartIndex:j,dataEndIndex:S}))))},{}),q=Tge(_e(_e({},re),{},{props:_,graphicalItems:H}),w==null?void 0:w.legendBBox);Object.keys(re).forEach(function(T){re[T]=u(_,re[T],q,T.replace("Map",""),r)});var Z=re["".concat(R,"Map")],le=Ege(Z),fe=p(_,_e(_e({},re),{},{dataStartIndex:j,dataEndIndex:S,updateId:O,graphicalItems:H,stackGroups:J,offset:q}));return _e(_e({formattedGraphicalItems:fe,graphicalItems:H,offset:q,stackGroups:J},le),re)},g=function(x){function y(w){var _,j,S;return dge(this,y),S=mge(this,y,[w]),ft(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ft(S,"accessibilityManager",new Zme),ft(S,"handleLegendBBoxUpdate",function(O){if(O){var k=S.state,L=k.dataStartIndex,E=k.dataEndIndex,$=k.updateId;S.setState(_e({legendBBox:O},h({props:S.props,dataStartIndex:L,dataEndIndex:E,updateId:$},_e(_e({},S.state),{},{legendBBox:O}))))}}),ft(S,"handleReceiveSyncEvent",function(O,k,L){if(S.props.syncId===O){if(L===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(k)}}),ft(S,"handleBrushChange",function(O){var k=O.startIndex,L=O.endIndex;if(k!==S.state.dataStartIndex||L!==S.state.dataEndIndex){var E=S.state.updateId;S.setState(function(){return _e({dataStartIndex:k,dataEndIndex:L},h({props:S.props,dataStartIndex:k,dataEndIndex:L,updateId:E},S.state))}),S.triggerSyncEvent({dataStartIndex:k,dataEndIndex:L})}}),ft(S,"handleMouseEnter",function(O){var k=S.getMouseInfo(O);if(k){var L=_e(_e({},k),{},{isTooltipActive:!0});S.setState(L),S.triggerSyncEvent(L);var E=S.props.onMouseEnter;mt(E)&&E(L,O)}}),ft(S,"triggeredAfterMouseMove",function(O){var k=S.getMouseInfo(O),L=k?_e(_e({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(L),S.triggerSyncEvent(L);var E=S.props.onMouseMove;mt(E)&&E(L,O)}),ft(S,"handleItemMouseEnter",function(O){S.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),ft(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ft(S,"handleMouseMove",function(O){O.persist(),S.throttleTriggeredAfterMouseMove(O)}),ft(S,"handleMouseLeave",function(O){S.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var L=S.props.onMouseLeave;mt(L)&&L(k,O)}),ft(S,"handleOuterEvent",function(O){var k=GH(O),L=Wi(S.props,"".concat(k));if(k&&mt(L)){var E,$;/.*touch.*/i.test(k)?$=S.getMouseInfo(O.changedTouches[0]):$=S.getMouseInfo(O),L((E=$)!==null&&E!==void 0?E:{},O)}}),ft(S,"handleClick",function(O){var k=S.getMouseInfo(O);if(k){var L=_e(_e({},k),{},{isTooltipActive:!0});S.setState(L),S.triggerSyncEvent(L);var E=S.props.onClick;mt(E)&&E(L,O)}}),ft(S,"handleMouseDown",function(O){var k=S.props.onMouseDown;if(mt(k)){var L=S.getMouseInfo(O);k(L,O)}}),ft(S,"handleMouseUp",function(O){var k=S.props.onMouseUp;if(mt(k)){var L=S.getMouseInfo(O);k(L,O)}}),ft(S,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),ft(S,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&S.handleMouseDown(O.changedTouches[0])}),ft(S,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&S.handleMouseUp(O.changedTouches[0])}),ft(S,"handleDoubleClick",function(O){var k=S.props.onDoubleClick;if(mt(k)){var L=S.getMouseInfo(O);k(L,O)}}),ft(S,"handleContextMenu",function(O){var k=S.props.onContextMenu;if(mt(k)){var L=S.getMouseInfo(O);k(L,O)}}),ft(S,"triggerSyncEvent",function(O){S.props.syncId!==void 0&&sx.emit(ox,S.props.syncId,O,S.eventEmitterSymbol)}),ft(S,"applySyncEvent",function(O){var k=S.props,L=k.layout,E=k.syncMethod,$=S.state.updateId,P=O.dataStartIndex,I=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)S.setState(_e({dataStartIndex:P,dataEndIndex:I},h({props:S.props,dataStartIndex:P,dataEndIndex:I,updateId:$},S.state)));else if(O.activeTooltipIndex!==void 0){var F=O.chartX,R=O.chartY,H=O.activeTooltipIndex,J=S.state,re=J.offset,q=J.tooltipTicks;if(!re)return;if(typeof E=="function")H=E(q,O);else if(E==="value"){H=-1;for(var Z=0;Z<q.length;Z++)if(q[Z].value===O.activeLabel){H=Z;break}}var le=_e(_e({},re),{},{x:re.left,y:re.top}),fe=Math.min(F,le.x+le.width),T=Math.min(R,le.y+le.height),B=q[H]&&q[H].value,X=b5(S.state,S.props.data,H),V=q[H]?{x:L==="horizontal"?q[H].coordinate:fe,y:L==="horizontal"?T:q[H].coordinate}:T$;S.setState(_e(_e({},O),{},{activeLabel:B,activeCoordinate:V,activePayload:X,activeTooltipIndex:H}))}else S.setState(O)}),ft(S,"renderCursor",function(O){var k,L=S.state,E=L.isTooltipActive,$=L.activeCoordinate,P=L.activePayload,I=L.offset,F=L.activeTooltipIndex,R=L.tooltipAxisBandSize,H=S.getTooltipEventType(),J=(k=O.props.active)!==null&&k!==void 0?k:E,re=S.props.layout,q=O.key||"_recharts-cursor";return ae.createElement(age,{key:q,activeCoordinate:$,activePayload:P,activeTooltipIndex:F,chartName:r,element:O,isActive:J,layout:re,offset:I,tooltipAxisBandSize:R,tooltipEventType:H})}),ft(S,"renderPolarAxis",function(O,k,L){var E=Wi(O,"type.axisType"),$=Wi(S.state,"".concat(E,"Map")),P=O.type.defaultProps,I=P!==void 0?_e(_e({},P),O.props):O.props,F=$&&$[I["".concat(E,"Id")]];return Y.cloneElement(O,_e(_e({},F),{},{className:Ct(E,F.className),key:O.key||"".concat(k,"-").concat(L),ticks:Zs(F,!0)}))}),ft(S,"renderPolarGrid",function(O){var k=O.props,L=k.radialLines,E=k.polarAngles,$=k.polarRadius,P=S.state,I=P.radiusAxisMap,F=P.angleAxisMap,R=Yo(I),H=Yo(F),J=H.cx,re=H.cy,q=H.innerRadius,Z=H.outerRadius;return Y.cloneElement(O,{polarAngles:Array.isArray(E)?E:Zs(H,!0).map(function(le){return le.coordinate}),polarRadius:Array.isArray($)?$:Zs(R,!0).map(function(le){return le.coordinate}),cx:J,cy:re,innerRadius:q,outerRadius:Z,key:O.key||"polar-grid",radialLines:L})}),ft(S,"renderLegend",function(){var O=S.state.formattedGraphicalItems,k=S.props,L=k.children,E=k.width,$=k.height,P=S.props.margin||{},I=E-(P.left||0)-(P.right||0),F=cI({children:L,formattedGraphicalItems:O,legendWidth:I,legendContent:c});if(!F)return null;var R=F.item,H=zk(F,sge);return Y.cloneElement(R,_e(_e({},H),{},{chartWidth:E,chartHeight:$,margin:P,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ft(S,"renderTooltip",function(){var O,k=S.props,L=k.children,E=k.accessibilityLayer,$=Ii(L,$i);if(!$)return null;var P=S.state,I=P.isTooltipActive,F=P.activeCoordinate,R=P.activePayload,H=P.activeLabel,J=P.offset,re=(O=$.props.active)!==null&&O!==void 0?O:I;return Y.cloneElement($,{viewBox:_e(_e({},J),{},{x:J.left,y:J.top}),active:re,label:H,payload:re?R:[],coordinate:F,accessibilityLayer:E})}),ft(S,"renderBrush",function(O){var k=S.props,L=k.margin,E=k.data,$=S.state,P=$.offset,I=$.dataStartIndex,F=$.dataEndIndex,R=$.updateId;return Y.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Ig(S.handleBrushChange,O.props.onChange),data:E,x:$e(O.props.x)?O.props.x:P.left,y:$e(O.props.y)?O.props.y:P.top+P.height+P.brushBottom-(L.bottom||0),width:$e(O.props.width)?O.props.width:P.width,startIndex:I,endIndex:F,updateId:"brush-".concat(R)})}),ft(S,"renderReferenceElement",function(O,k,L){if(!O)return null;var E=S,$=E.clipPathId,P=S.state,I=P.xAxisMap,F=P.yAxisMap,R=P.offset,H=O.type.defaultProps||{},J=O.props,re=J.xAxisId,q=re===void 0?H.xAxisId:re,Z=J.yAxisId,le=Z===void 0?H.yAxisId:Z;return Y.cloneElement(O,{key:O.key||"".concat(k,"-").concat(L),xAxis:I[q],yAxis:F[le],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:$})}),ft(S,"renderActivePoints",function(O){var k=O.item,L=O.activePoint,E=O.basePoint,$=O.childIndex,P=O.isRange,I=[],F=k.props.key,R=k.item.type.defaultProps!==void 0?_e(_e({},k.item.type.defaultProps),k.item.props):k.item.props,H=R.activeDot,J=R.dataKey,re=_e(_e({index:$,dataKey:J,cx:L.x,cy:L.y,r:4,fill:MS(k.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},lt(H,!1)),J0(H));return I.push(y.renderActiveDot(H,re,"".concat(F,"-activePoint-").concat($))),E?I.push(y.renderActiveDot(H,_e(_e({},re),{},{cx:E.x,cy:E.y}),"".concat(F,"-basePoint-").concat($))):P&&I.push(null),I}),ft(S,"renderGraphicChild",function(O,k,L){var E=S.filterFormatItem(O,k,L);if(!E)return null;var $=S.getTooltipEventType(),P=S.state,I=P.isTooltipActive,F=P.tooltipAxis,R=P.activeTooltipIndex,H=P.activeLabel,J=S.props.children,re=Ii(J,$i),q=E.props,Z=q.points,le=q.isRange,fe=q.baseLine,T=E.item.type.defaultProps!==void 0?_e(_e({},E.item.type.defaultProps),E.item.props):E.item.props,B=T.activeDot,X=T.hide,V=T.activeBar,ne=T.activeShape,se=!!(!X&&I&&re&&(B||V||ne)),de={};$!=="axis"&&re&&re.props.trigger==="click"?de={onClick:Ig(S.handleItemMouseEnter,O.props.onClick)}:$!=="axis"&&(de={onMouseLeave:Ig(S.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Ig(S.handleItemMouseEnter,O.props.onMouseEnter)});var ie=Y.cloneElement(O,_e(_e({},E.props),de));function me(qe){return typeof F.dataKey=="function"?F.dataKey(qe.payload):null}if(se)if(R>=0){var xe,pe;if(F.dataKey&&!F.allowDuplicatedCategory){var Pe=typeof F.dataKey=="function"?me:"payload.".concat(F.dataKey.toString());xe=X0(Z,Pe,H),pe=le&&fe&&X0(fe,Pe,H)}else xe=Z==null?void 0:Z[R],pe=le&&fe&&fe[R];if(ne||V){var ue=O.props.activeIndex!==void 0?O.props.activeIndex:R;return[Y.cloneElement(O,_e(_e(_e({},E.props),de),{},{activeIndex:ue})),null,null]}if(!St(xe))return[ie].concat(Xf(S.renderActivePoints({item:E,activePoint:xe,basePoint:pe,childIndex:R,isRange:le})))}else{var G,Re=(G=S.getItemByXY(S.state.activeCoordinate))!==null&&G!==void 0?G:{graphicalItem:ie},Fe=Re.graphicalItem,Be=Fe.item,Ne=Be===void 0?O:Be,Ue=Fe.childIndex,Ce=_e(_e(_e({},E.props),de),{},{activeIndex:Ue});return[Y.cloneElement(Ne,Ce),null,null]}return le?[ie,null,null]:[ie,null]}),ft(S,"renderCustomized",function(O,k,L){return Y.cloneElement(O,_e(_e({key:"recharts-customized-".concat(L)},S.props),S.state))}),ft(S,"renderMap",{CartesianGrid:{handler:Bg,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Bg},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Bg},YAxis:{handler:Bg},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:fd("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=lL(S.triggeredAfterMouseMove,(j=w.throttleDelay)!==null&&j!==void 0?j:1e3/60),S.state={},S}return yge(y,x),pge(y,[{key:"componentDidMount",value:function(){var _,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,j=_.children,S=_.data,O=_.height,k=_.layout,L=Ii(j,$i);if(L){var E=L.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,P=b5(this.state,S,E,$),I=this.state.tooltipTicks[E].coordinate,F=(this.state.offset.top+O)/2,R=k==="horizontal",H=R?{x:I,y:F}:{y:I,x:F},J=this.state.formattedGraphicalItems.find(function(q){var Z=q.item;return Z.type.name==="Scatter"});J&&(H=_e(_e({},H),J.props.points[E].tooltipPosition),P=J.props.points[E].tooltipPayload);var re={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:$,activePayload:P,activeCoordinate:H};this.setState(re),this.renderCursor(L),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,O;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(_){K2([Ii(_.children,$i)],[Ii(this.props.children,$i)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Ii(this.props.children,$i);if(_&&typeof _.props.shared=="boolean"){var j=_.props.shared?"axis":"item";return o.indexOf(j)>=0?j:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var j=this.container,S=j.getBoundingClientRect(),O=xre(S),k={chartX:Math.round(_.pageX-O.left),chartY:Math.round(_.pageY-O.top)},L=S.width/j.offsetWidth||1,E=this.inRange(k.chartX,k.chartY,L);if(!E)return null;var $=this.state,P=$.xAxisMap,I=$.yAxisMap,F=this.getTooltipEventType(),R=Wk(this.state,this.props.data,this.props.layout,E);if(F!=="axis"&&P&&I){var H=Yo(P).scale,J=Yo(I).scale,re=H&&H.invert?H.invert(k.chartX):null,q=J&&J.invert?J.invert(k.chartY):null;return _e(_e({},k),{},{xValue:re,yValue:q},R)}return R?_e(_e({},k),R):null}},{key:"inRange",value:function(_,j){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,k=_/S,L=j/S;if(O==="horizontal"||O==="vertical"){var E=this.state.offset,$=k>=E.left&&k<=E.left+E.width&&L>=E.top&&L<=E.top+E.height;return $?{x:k,y:L}:null}var P=this.state,I=P.angleAxisMap,F=P.radiusAxisMap;if(I&&F){var R=Yo(I);return mO({x:k,y:L},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,j=this.getTooltipEventType(),S=Ii(_,$i),O={};S&&j==="axis"&&(S.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=J0(this.props,this.handleOuterEvent);return _e(_e({},k),O)}},{key:"addListener",value:function(){sx.on(ox,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){sx.removeListener(ox,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,j,S){for(var O=this.state.formattedGraphicalItems,k=0,L=O.length;k<L;k++){var E=O[k];if(E.item===_||E.props.key===_.key||j===eo(E.item.type)&&S===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,j=this.state.offset,S=j.left,O=j.top,k=j.height,L=j.width;return ae.createElement("defs",null,ae.createElement("clipPath",{id:_},ae.createElement("rect",{x:S,y:O,height:k,width:L})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(j,S){var O=Uk(S,2),k=O[0],L=O[1];return _e(_e({},j),{},ft({},k,L.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(j,S){var O=Uk(S,2),k=O[0],L=O[1];return _e(_e({},j),{},ft({},k,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[_])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(_){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[_])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(_){var j=this.state,S=j.formattedGraphicalItems,O=j.activeItem;if(S&&S.length)for(var k=0,L=S.length;k<L;k++){var E=S[k],$=E.props,P=E.item,I=P.type.defaultProps!==void 0?_e(_e({},P.type.defaultProps),P.props):P.props,F=eo(P.type);if(F==="Bar"){var R=($.data||[]).find(function(q){return nue(_,q)});if(R)return{graphicalItem:E,payload:R}}else if(F==="RadialBar"){var H=($.data||[]).find(function(q){return mO(_,q)});if(H)return{graphicalItem:E,payload:H}}else if(l1(E,O)||c1(E,O)||zp(E,O)){var J=Hfe({graphicalItem:E,activeTooltipItem:O,itemData:I.data}),re=I.activeIndex===void 0?J:I.activeIndex;return{graphicalItem:_e(_e({},E),{},{childIndex:re}),payload:zp(E,O)?I.data[J]:E.props.data[J]}}}return null}},{key:"render",value:function(){var _=this;if(!a3(this))return null;var j=this.props,S=j.children,O=j.className,k=j.width,L=j.height,E=j.style,$=j.compact,P=j.title,I=j.desc,F=zk(j,oge),R=lt(F,!1);if($)return ae.createElement(Sk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement(X2,Yu({},R,{width:k,height:L,title:P,desc:I}),this.renderClipPath(),o3(S,this.renderMap)));if(this.props.accessibilityLayer){var H,J;R.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,R.role=(J=this.props.role)!==null&&J!==void 0?J:"application",R.onKeyDown=function(q){_.accessibilityManager.keyboardEvent(q)},R.onFocus=function(){_.accessibilityManager.focus()}}var re=this.parseEventsOfWrapper();return ae.createElement(Sk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement("div",Yu({className:Ct("recharts-wrapper",O),style:_e({position:"relative",cursor:"default",width:k,height:L},E)},re,{ref:function(Z){_.container=Z}}),ae.createElement(X2,Yu({},R,{width:k,height:L,title:P,desc:I,style:Age}),this.renderClipPath(),o3(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(Y.Component);ft(g,"displayName",r),ft(g,"defaultProps",_e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ft(g,"getDerivedStateFromProps",function(x,y){var w=x.dataKey,_=x.data,j=x.children,S=x.width,O=x.height,k=x.layout,L=x.stackOffset,E=x.margin,$=y.dataStartIndex,P=y.dataEndIndex;if(y.updateId===void 0){var I=Hk(x);return _e(_e(_e({},I),{},{updateId:0},h(_e(_e({props:x},I),{},{updateId:0}),y)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:O,prevLayout:k,prevStackOffset:L,prevMargin:E,prevChildren:j})}if(w!==y.prevDataKey||_!==y.prevData||S!==y.prevWidth||O!==y.prevHeight||k!==y.prevLayout||L!==y.prevStackOffset||!sf(E,y.prevMargin)){var F=Hk(x),R={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},H=_e(_e({},Wk(y,_,k)),{},{updateId:y.updateId+1}),J=_e(_e(_e({},F),R),H);return _e(_e(_e({},J),h(_e({props:x},J),y)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:O,prevLayout:k,prevStackOffset:L,prevMargin:E,prevChildren:j})}if(!K2(j,y.prevChildren)){var re,q,Z,le,fe=Ii(j,Ff),T=fe&&(re=(q=fe.props)===null||q===void 0?void 0:q.startIndex)!==null&&re!==void 0?re:$,B=fe&&(Z=(le=fe.props)===null||le===void 0?void 0:le.endIndex)!==null&&Z!==void 0?Z:P,X=T!==$||B!==P,V=!St(_),ne=V&&!X?y.updateId:y.updateId+1;return _e(_e({updateId:ne},h(_e(_e({props:x},y),{},{updateId:ne,dataStartIndex:T,dataEndIndex:B}),y)),{},{prevChildren:j,dataStartIndex:T,dataEndIndex:B})}return null}),ft(g,"renderActiveDot",function(x,y,w){var _;return Y.isValidElement(x)?_=Y.cloneElement(x,y):mt(x)?_=x(y):_=ae.createElement(n1,y),ae.createElement(Wt,{className:"recharts-active-dot",key:w},_)});var v=Y.forwardRef(function(y,w){return ae.createElement(g,Yu({},y,{ref:w}))});return v.displayName=g.displayName,v},I$=KS({chartName:"LineChart",GraphicalChild:Fc,axisComponents:[{axisType:"xAxis",AxisComp:Zc},{axisType:"yAxis",AxisComp:Qc}],formatAxisMap:ZI}),Ige=KS({chartName:"BarChart",GraphicalChild:Jc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Zc},{axisType:"yAxis",AxisComp:Qc}],formatAxisMap:ZI}),$ge=KS({chartName:"PieChart",GraphicalChild:bo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:o1},{axisType:"radiusAxis",AxisComp:a1}],formatAxisMap:goe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Rge({data:t}){const e=["#3b82f6","#60a5fa","#93c5fd","#cbd5e1","#ef4444"];return d.jsx(Hy,{width:"100%",height:300,children:d.jsxs(Ige,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(m1,{strokeDasharray:"3 3"}),d.jsx(Zc,{dataKey:"range"}),d.jsx(Qc,{}),d.jsx($i,{}),d.jsx(Jc,{dataKey:"count",fill:"#3b82f6",radius:[8,8,0,0],children:t.map((r,n)=>d.jsx(um,{fill:e[n%e.length]},`cell-${n}`))})]})})}function Mge({data:t}){return d.jsx(Hy,{width:"100%",height:300,children:d.jsxs(I$,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(m1,{strokeDasharray:"3 3"}),d.jsx(Zc,{dataKey:"date"}),d.jsx(Qc,{}),d.jsx($i,{}),d.jsx(to,{}),d.jsx(Fc,{type:"monotone",dataKey:"completions",stroke:"#10b981",strokeWidth:2,name:"Completions"}),d.jsx(Fc,{type:"monotone",dataKey:"assignments",stroke:"#3b82f6",strokeWidth:2,name:"Assignments"})]})})}const Gk=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function Dge({data:t}){return d.jsx(Hy,{width:"100%",height:300,children:d.jsxs($ge,{children:[d.jsx(bo,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:r})=>`${e}: ${(r*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((e,r)=>d.jsx(um,{fill:Gk[r%Gk.length]},`cell-${r}`))}),d.jsx($i,{}),d.jsx(to,{})]})})}function Bge({user:t}){const[e,r]=Y.useState({totalAssignments:0,totalCompletions:0,averageScore:0,completionRate:0}),[n,i]=Y.useState({scoreDistribution:[],completionTrend:[],stationPerformance:[],studentPerformance:[]}),[a,s]=Y.useState(!0);Y.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:l}=await Te.from("stations").select("id, title").eq("created_by",t.id);if(!l)return;const c=l.map(E=>E.id),{data:u}=await Te.from("case_snapshots").select("id, station_id, clinical_case").in("station_id",c);if(!u)return;const f=u.map(E=>E.id),{data:p}=await Te.from("assignments").select("id, snapshot_id, created_at, due_at").in("snapshot_id",f),{data:h}=await Te.from("simulation_runs").select("score, submitted_at, assignment_id, started_at, student_id").in("assignment_id",(p==null?void 0:p.map(E=>E.id))||[]),g=(h==null?void 0:h.filter(E=>E.submitted_at))||[],v=g.map(E=>{var $;return(($=E.score)==null?void 0:$.overall)||0}).filter(E=>E>0),x=v.length>0?v.reduce((E,$)=>E+$,0)/v.length:0;r({totalAssignments:(p==null?void 0:p.length)||0,totalCompletions:g.length,averageScore:Math.round(x),completionRate:p&&p.length>0?Math.round(g.length/p.length*100):0});const w=[{range:"0-20",min:0,max:20},{range:"21-40",min:21,max:40},{range:"41-60",min:41,max:60},{range:"61-80",min:61,max:80},{range:"81-100",min:81,max:100}].map(E=>({range:E.range,count:v.filter($=>$>=E.min&&$<=E.max).length})),_=new Date,j=[];for(let E=6;E>=0;E--){const $=new Date(_);$.setDate($.getDate()-E);const P=$.toISOString().split("T")[0],I=g.filter(R=>{var J;return((J=R.submitted_at)==null?void 0:J.split("T")[0])===P}).length,F=(p==null?void 0:p.filter(R=>{var J;return((J=R.created_at)==null?void 0:J.split("T")[0])===P}).length)||0;j.push({date:$.toLocaleDateString("en-US",{month:"short",day:"numeric"}),completions:I,assignments:F})}const S=new Map;g.forEach(E=>{const $=p==null?void 0:p.find(P=>P.id===E.assignment_id);if($){const P=u.find(I=>I.id===$.snapshot_id);if(P){const I=l.find(F=>F.id===P.station_id);if(I){const F=S.get(I.title||"Untitled")||0;S.set(I.title||"Untitled",F+1)}}}});const O=Array.from(S.entries()).map(([E,$])=>({name:E,value:$})).slice(0,6),k=new Map;p==null||p.forEach(E=>{var H;const $=g.filter(J=>J.assignment_id===E.id),P=$.map(J=>{var re;return((re=J.score)==null?void 0:re.overall)||0}).filter(J=>J>0),I=u.find(J=>J.id===E.snapshot_id),F=((H=I==null?void 0:I.clinical_case)==null?void 0:H.title)||"Untitled Assignment",R=new Set($.map(J=>J.student_id));k.set(F,{scores:P,completions:$.length,totalStudents:R.size})});const L=Array.from(k.entries()).map(([E,$])=>({assignmentTitle:E,averageScore:$.scores.length>0?Math.round($.scores.reduce((P,I)=>P+I,0)/$.scores.length):0,completions:$.completions,totalStudents:$.totalStudents})).sort((E,$)=>$.averageScore-E.averageScore).slice(0,10);i({scoreDistribution:w,completionTrend:j,stationPerformance:O,studentPerformance:L})}catch(l){console.error("Error loading analytics:",l)}finally{s(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(qi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Analytics Dashboard"}),a?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Assignments"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.totalAssignments})]}),d.jsx(lo,{className:"w-8 h-8 text-blue-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Completions"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.totalCompletions})]}),d.jsx(Tc,{className:"w-8 h-8 text-green-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[e.averageScore,"%"]})]}),d.jsx(nm,{className:"w-8 h-8 text-purple-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Completion Rate"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[e.completionRate,"%"]})]}),d.jsx(ps,{className:"w-8 h-8 text-orange-600"})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Score Distribution"}),n.scoreDistribution.length>0?d.jsx(Rge,{data:n.scoreDistribution}):d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No score data available"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Completion Trend (Last 7 Days)"}),n.completionTrend.length>0?d.jsx(Mge,{data:n.completionTrend}):d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No trend data available"})]})]}),n.stationPerformance.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Station Performance"}),d.jsx(Dge,{data:n.stationPerformance})]}),n.studentPerformance.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Top Assignments Performance"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Average Score"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completions"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Students"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.studentPerformance.map((l,c)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.jsxs("span",{className:`font-semibold ${l.averageScore>=80?"text-green-600":l.averageScore>=60?"text-yellow-600":"text-red-600"}`,children:[l.averageScore,"%"]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.completions}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.totalStudents})]},c))})]})})]})]})]})}),d.jsx(Jn,{role:"faculty"})]})}function Kk({user:t}){const e=ya(),[r,n]=Y.useState([]),[i,a]=Y.useState([]),[s,o]=Y.useState(!0),[l,c]=Y.useState("all"),[u,f]=Y.useState(""),[p,h]=Y.useState("all");Y.useEffect(()=>{g()},[]),Y.useEffect(()=>{v()},[r,l,u,p]);const g=async()=>{try{const{data:S}=await Te.from("cohort_members").select("cohort_id").eq("student_id",t.id);if(!S||S.length===0){o(!1);return}const O=S.map($=>$.cohort_id),{data:k,error:L}=await Te.from("assignments").select("*").in("cohort_id",O).order("created_at",{ascending:!1});if(L)throw L;const E=await Promise.all((k||[]).map(async $=>{var re;const{data:P}=await Te.from("case_snapshots").select("*").eq("id",$.snapshot_id).single(),{data:I}=await Te.from("simulation_runs").select("id, score, submitted_at").eq("assignment_id",$.id).eq("student_id",t.id).order("submitted_at",{ascending:!1}),F=(I==null?void 0:I.length)||0,R=(I==null?void 0:I.reduce((q,Z)=>{const le=Z.score;return Math.max(q,(le==null?void 0:le.overall)||0)},0))||0,H=(re=I==null?void 0:I[0])==null?void 0:re.submitted_at;let J="not_started";return F>0&&(J=(I==null?void 0:I.some(Z=>Z.submitted_at))?"completed":"in_progress"),{...$,snapshot:P,attemptsCount:F,bestScore:R,lastAttempt:H,status:J}}));n(E)}catch(S){console.error("Error loading assignments:",S)}finally{o(!1)}},v=()=>{let S=[...r];if(p==="pending"?S=S.filter(O=>O.status==="not_started"&&(!O.due_at||new Date(O.due_at)>new Date)):p==="in_progress"?S=S.filter(O=>O.status==="in_progress"):p==="completed"&&(S=S.filter(O=>O.status==="completed")),l!=="all"&&(S=S.filter(O=>O.status===l)),u){const O=u.toLowerCase();S=S.filter(k=>{var L,E,$,P,I,F,R;return(($=(E=(L=k.snapshot)==null?void 0:L.clinical_case)==null?void 0:E.title)==null?void 0:$.toLowerCase().includes(O))||((R=(F=(I=(P=k.snapshot)==null?void 0:P.clinical_case)==null?void 0:I.patientProfile)==null?void 0:F.name)==null?void 0:R.toLowerCase().includes(O))})}a(S)},x=S=>Math.max(0,S.max_attempts-(S.attemptsCount||0)),y=S=>S.due_at?new Date(S.due_at)<new Date&&S.status!=="completed":!1,w=({dueDate:S})=>{const[O,k]=Y.useState("");return Y.useEffect(()=>{const L=()=>{const $=new Date,I=new Date(S).getTime()-$.getTime();if(I<=0){k("Overdue");return}const F=Math.floor(I/(1e3*60*60*24)),R=Math.floor(I%(1e3*60*60*24)/(1e3*60*60)),H=Math.floor(I%(1e3*60*60)/(1e3*60));F>0?k(`${F}d ${R}h left`):R>0?k(`${R}h ${H}m left`):k(`${H}m left`)};L();const E=setInterval(L,6e4);return()=>clearInterval(E)},[S]),d.jsxs("span",{className:"text-xs text-primary-600 font-medium ml-2",children:["(",O,")"]})},_=S=>y(S)?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:"Overdue"}):S.status==="completed"?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Completed"}):S.status==="in_progress"?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full",children:"In Progress"}):d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:"Not Started"}),j={total:r.length,completed:r.filter(S=>S.status==="completed").length,inProgress:r.filter(S=>S.status==="in_progress").length,notStarted:r.filter(S=>S.status==="not_started").length};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 pb-20 md:pb-6",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"My Assignments"}),d.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"View and manage your OSCE simulations"})]}),!s&&d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:j.total}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Total"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-green-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-green-700",children:j.completed}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Completed"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-yellow-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-yellow-700",children:j.inProgress}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"In Progress"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-700",children:j.notStarted}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Not Started"})]})]}),!s&&d.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[d.jsx("div",{className:"border-b border-gray-200",children:d.jsx("div",{className:"flex overflow-x-auto",children:[{key:"all",label:"All",count:r.length},{key:"pending",label:"Pending",count:r.filter(S=>S.status==="not_started"&&(!S.due_at||new Date(S.due_at)>new Date)).length},{key:"in_progress",label:"In Progress",count:r.filter(S=>S.status==="in_progress").length},{key:"completed",label:"Completed",count:r.filter(S=>S.status==="completed").length}].map(S=>d.jsxs("button",{onClick:()=>h(S.key),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${p===S.key?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[S.label,S.count>0&&d.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${p===S.key?"bg-primary-100 text-primary-800":"bg-gray-100 text-gray-600"}`,children:S.count})]},S.key))})}),d.jsx("div",{className:"p-4 border-b border-gray-200",children:d.jsxs("div",{className:"relative",children:[d.jsx(F_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search assignments...",value:u,onChange:S=>f(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})})]}),s?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):i.length===0?d.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[d.jsx(wy,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.length===0?"No Assignments Available":"No Assignments Match Your Filters"}),d.jsx("p",{className:"text-gray-600 text-sm mb-4",children:r.length===0?"You don't have any assignments yet. Check back later or contact your faculty if you expect to see assignments here.":"Try adjusting your search or filter criteria to find what you're looking for."}),r.length>0&&d.jsx("button",{onClick:()=>{h("all"),c("all"),f("")},className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Clear Filters"}),r.length===0&&d.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsx("strong",{children:"Tip:"})," Make sure you're enrolled in cohorts to receive assignments. You can manage your cohorts in your Profile settings."]})})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(S=>{var O,k,L,E,$,P;return d.jsxs("div",{className:`bg-white rounded-xl shadow-md p-5 md:p-6 hover:shadow-xl transition-all border-2 ${y(S)?"border-l-4 border-red-500 border-r-2 border-t-2 border-b-2":"border-gray-200"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 flex-1",children:((k=(O=S.snapshot)==null?void 0:O.clinical_case)==null?void 0:k.title)||"Untitled Station"}),_(S)]}),((E=(L=S.snapshot)==null?void 0:L.clinical_case)==null?void 0:E.patientProfile)&&d.jsxs("div",{className:"mb-3 text-sm text-gray-600",children:[d.jsx("span",{className:"font-medium",children:"Patient:"})," ",S.snapshot.clinical_case.patientProfile.name]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(ad,{className:"w-4 h-4"}),d.jsxs("span",{children:[((P=($=S.snapshot)==null?void 0:$.clinical_case)==null?void 0:P.durationMinutes)||15," minutes"]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(ON,{className:"w-4 h-4"}),d.jsxs("span",{children:[x(S)," of ",S.max_attempts," attempts left"]})]}),S.bestScore!==void 0&&S.bestScore>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[d.jsx(ps,{className:"w-4 h-4"}),d.jsxs("span",{children:["Best Score: ",S.bestScore.toFixed(0),"%"]})]}),S.due_at&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(im,{className:"w-4 h-4"}),d.jsxs("span",{className:y(S)?"text-red-600 font-medium":"",children:["Due: ",new Date(S.due_at).toLocaleDateString()]}),!y(S)&&new Date(S.due_at)>new Date&&d.jsx(w,{dueDate:S.due_at})]})]}),d.jsx("div",{className:"flex gap-2",children:S.status==="completed"?d.jsxs("button",{onClick:()=>{e("/results")},className:"flex-1 flex items-center justify-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:[d.jsx(cs,{className:"w-4 h-4"}),"View Results"]}):d.jsxs("button",{onClick:()=>e(`/simulation/${S.id}`),disabled:x(S)===0,className:"flex-1 flex items-center justify-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[d.jsx(ON,{className:"w-4 h-4"}),S.status==="in_progress"?"Continue":"Start Simulation"]})})]},S.id)})})]}),d.jsx(Jn,{role:"student"})]})}function Fge({activeTab:t,onTabChange:e}){const r=[{id:"chat",label:"Chat",icon:bU},{id:"exam",label:"Exam",icon:wU},{id:"labs",label:"Labs",icon:_U},{id:"diagnosis",label:"Diagnosis",icon:qa}];return d.jsx("div",{className:"bg-white border-b-2 border-gray-300 shadow-sm",children:d.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:r.map(n=>{const i=n.icon,a=t===n.id;return d.jsxs("button",{onClick:()=>e(n.id),className:`flex items-center gap-2 px-4 md:px-6 py-3 md:py-4 text-sm md:text-base font-semibold border-b-3 transition-all whitespace-nowrap ${a?"border-primary-600 text-primary-700 bg-primary-50":"border-transparent text-gray-600 hover:text-primary-600 hover:bg-gray-50 hover:border-gray-300"}`,children:[d.jsx(i,{className:`w-4 h-4 md:w-5 md:h-5 ${a?"text-primary-600":""}`}),d.jsx("span",{children:n.label})]},n.id)})})})}function Uge({messages:t,input:e,setInput:r,sending:n,onSendMessage:i,onRequestHint:a,hintsRemaining:s}){const o=Y.useRef(null);return Y.useEffect(()=>{var l;(l=o.current)==null||l.scrollIntoView({behavior:"smooth"})},[t]),d.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[d.jsxs("div",{className:"bg-white border-b-2 border-gray-300 p-4 flex items-center justify-between shadow-sm",children:[d.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Chat with Patient"}),d.jsxs("button",{onClick:a,disabled:s<=0,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-900 rounded-lg hover:from-yellow-500 hover:to-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md font-semibold text-sm",children:[d.jsx(zT,{className:"w-4 h-4"}),"Hint (",s,")"]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[t.map((l,c)=>d.jsxs("div",{className:`flex ${l.role==="user"?"justify-end":"justify-start"} items-start gap-2`,children:[l.role==="assistant"&&d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(fl,{className:"w-4 h-4 text-primary-600"})}),d.jsxs("div",{className:`max-w-[85%] md:max-w-[75%] rounded-xl p-3 md:p-4 shadow-md ${l.role==="user"?"bg-gradient-to-br from-primary-600 to-primary-700 text-white":"bg-white border-2 border-gray-200 text-gray-900"}`,children:[d.jsx("p",{className:`whitespace-pre-wrap ${l.role==="user"?"text-white":"text-gray-800"}`,children:l.content}),d.jsx("span",{className:`text-xs mt-2 block ${l.role==="user"?"text-primary-100":"text-gray-500"}`,children:l.timestamp instanceof Date?l.timestamp.toLocaleTimeString():new Date(l.timestamp).toLocaleTimeString()})]}),l.role==="user"&&d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(fl,{className:"w-4 h-4 text-gray-600"})})]},c)),n&&d.jsxs("div",{className:"flex justify-start items-start gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(fl,{className:"w-4 h-4 text-primary-600"})}),d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),d.jsx("div",{ref:o})]}),d.jsx("div",{className:"bg-white border-t-2 border-gray-300 p-4 shadow-lg",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:e,onChange:l=>r(l.target.value),onKeyPress:l=>l.key==="Enter"&&!n&&i(),placeholder:"Ask a question...",className:"flex-1 px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400",disabled:n}),d.jsx("button",{onClick:i,disabled:n||!e.trim(),className:"px-5 py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-lg hover:from-primary-700 hover:to-primary-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md font-semibold",children:d.jsx(xU,{className:"w-5 h-5"})})]})})]})}function zge({caseData:t}){const e=(t==null?void 0:t.physicalExam)||{},r=e.vitals||{},n=e.generalExam||"",i=e.systemicExam||"";return d.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-4 md:p-6 space-y-4 md:space-y-6 bg-gray-50",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Physical Examination"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI-generated examination findings"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("div",{className:"bg-primary-100 p-2 rounded-lg",children:d.jsx(pU,{className:"w-5 h-5 text-primary-700"})}),d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Vital Signs"})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 md:gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Blood Pressure"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 rounded-lg text-gray-900 font-medium",children:r.bp||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Heart Rate"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-red-50 to-red-100 border-2 border-red-200 rounded-lg text-gray-900 font-medium",children:r.hr||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Respiratory Rate"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-200 rounded-lg text-gray-900 font-medium",children:r.rr||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Temperature"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-orange-50 to-orange-100 border-2 border-orange-200 rounded-lg text-gray-900 font-medium",children:r.temp||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"SpO2"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-200 rounded-lg text-gray-900 font-medium",children:r.spo2||"Not recorded"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4",children:"General Examination"}),d.jsx("div",{className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-lg min-h-[120px] text-gray-900 whitespace-pre-wrap leading-relaxed",children:n||"General examination findings not available."})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("div",{className:"flex items-center gap-2 mb-4",children:d.jsx("span",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Systemic Examination"})}),d.jsx("div",{className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-lg min-h-[200px] text-gray-900 whitespace-pre-wrap leading-relaxed",children:i||"Systemic examination findings not available."})]})]})}const $$=[{name:"BEDSIDE TESTS",tests:["ECG","Blood Glucose","Urine Dipstick"]},{name:"BASIC LABS",tests:["CBC","CMP","ESR","CRP","TSH","Lipid Profile","LFT","RFT","ABG"]},{name:"ADVANCED LABS",tests:["Troponin","BNP","D-dimer","Coagulation Profile","Blood Culture","HbA1c"]},{name:"IMAGING",tests:["Chest X-Ray","CT Head","CT Chest","CT Abdomen","Abdominal Ultrasound","Echocardiogram"]}];$$.flatMap(t=>t.tests.map(e=>({test:e,category:t.name})));function R$(t,e,r){if(r&&r[t])return r[t];const n=t.toLowerCase();return n.includes("ecg")?"Normal sinus rhythm, no acute changes":n.includes("glucose")?"Random blood glucose: 180 mg/dL (elevated)":n.includes("urine")?"Negative for nitrites, leukocyte esterase, protein, blood":n.includes("cbc")?"WBC: 15,000/L (elevated), Hb: 12 g/dL, Platelets: 250,000/L":n.includes("cmp")?"Na: 138 mEq/L, K: 4.2 mEq/L, Creatinine: 1.2 mg/dL, BUN: 45 mg/dL (elevated)":n.includes("crp")?"150 mg/L (markedly elevated)":n.includes("chest x-ray")||n.includes("chest xray")?"Consolidation in right lower lobe, consistent with pneumonia":n.includes("ct head")?"No acute intracranial pathology, age-appropriate atrophy":n.includes("ct chest")?"Right lower lobe consolidation with air bronchograms, consistent with pneumonia":n.includes("blood culture")?"Pending (results typically available in 48-72 hours)":n.includes("troponin")?"0.02 ng/mL (normal)":n.includes("bnp")?"200 pg/mL (mildly elevated)":n.includes("d-dimer")?"0.8 mg/L (elevated)":n.includes("abg")?"pH: 7.35, pCO2: 42 mmHg, pO2: 65 mmHg, HCO3: 22 mEq/L (respiratory acidosis with hypoxemia)":`Result for ${t}: See detailed report`}function Yk(t,e){return e.some(r=>r.testName===t)}function qge({labOrders:t,labResults:e,onOrderTest:r,caseData:n}){const[i,a]=Y.useState("order"),s=(l,c)=>{Yk(l,t)||r(l,c)},o=l=>{const c=e.find(u=>u.testName===l);return c?c.result:R$(l,n,n==null?void 0:n.labResults)};return d.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[d.jsx("div",{className:"bg-white border-b-2 border-gray-300 p-4 shadow-sm",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>a("order"),className:`px-6 py-2.5 rounded-lg font-semibold transition-all shadow-md ${i==="order"?"bg-gradient-to-r from-primary-600 to-primary-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Order Tests"}),d.jsx("button",{onClick:()=>a("view"),className:`px-6 py-2.5 rounded-lg font-semibold transition-all shadow-md ${i==="view"?"bg-gradient-to-r from-primary-600 to-primary-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"View Results"})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:i==="order"?d.jsx("div",{className:"space-y-4 md:space-y-6",children:$$.map(l=>d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 md:p-6 border border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4 pb-2 border-b-2 border-gray-200",children:l.name}),d.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3",children:l.tests.map(c=>{const u=Yk(c,t);return d.jsxs("button",{onClick:()=>s(c,l.name),disabled:u,className:`px-4 py-2 rounded-lg text-sm md:text-base font-semibold transition-all shadow-sm ${u?"bg-gradient-to-r from-green-500 to-green-600 text-white cursor-not-allowed shadow-md":"bg-gray-100 text-gray-800 hover:bg-primary-100 hover:text-primary-700 hover:shadow-md border-2 border-gray-200"}`,children:[c,u&&" "]},c)})})]},l.name))}):d.jsx("div",{className:"space-y-4",children:t.length===0?d.jsx("div",{className:"bg-white rounded-xl shadow-md p-8 md:p-12 text-center border border-gray-200",children:d.jsx("p",{className:"text-gray-600 font-medium",children:'No tests ordered yet. Switch to "Order Tests" to order lab tests.'})}):t.map(l=>{const c=o(l.testName);return d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 md:p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b-2 border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:l.testName}),d.jsx("span",{className:"text-xs md:text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full font-medium",children:l.category})]}),d.jsx("p",{className:"text-gray-800 font-medium leading-relaxed",children:c})]},l.testName)})})})]})}function Wge({diagnosis:t,onUpdate:e}){const[r,n]=Y.useState(t);return Y.useEffect(()=>{e(r)},[r,e]),d.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-4 md:p-6 bg-gray-50",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"bg-primary-100 p-2 rounded-lg",children:d.jsx(qa,{className:"w-5 h-5 md:w-6 md:h-6 text-primary-700"})}),d.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Enter Diagnosis"})]}),d.jsx("p",{className:"text-sm md:text-base text-gray-600 ml-12",children:"Enter your diagnosis based on the patient's history, physical examination findings, and laboratory results."})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm md:text-base font-semibold text-gray-700 mb-3",children:"Your Diagnosis"}),d.jsx("textarea",{value:r,onChange:i=>n(i.target.value),placeholder:"Enter your diagnosis here (e.g., Pitta Jwara, Vata-Pitta imbalance, etc.)...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 min-h-[200px] md:min-h-[250px] text-gray-900 placeholder-gray-400 text-base leading-relaxed shadow-sm"})]}),r&&d.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl p-4 md:p-5 shadow-md",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-green-500 p-1.5 rounded-full",children:d.jsx(cs,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold text-green-900 block",children:"Diagnosis Entered"}),d.jsx("span",{className:"text-sm text-green-800 mt-1 block",children:r})]})]})})]})}function Hge({user:t}){var me,xe,pe,Pe;const{assignmentId:e}=yy(),r=ya(),[n,i]=Y.useState(null),[a,s]=Y.useState(null),[o,l]=Y.useState([]),[c,u]=Y.useState(""),[f,p]=Y.useState(!0),[h,g]=Y.useState(!1),[v,x]=Y.useState(0),[y,w]=Y.useState(null),[_,j]=Y.useState(!1),[S,O]=Y.useState("chat"),[k,L]=Y.useState(0),[E,$]=Y.useState([]),[P,I]=Y.useState([]),[F,R]=Y.useState(""),H=10;Y.useEffect(()=>{e&&(J(),re())},[e]);const J=async()=>{var ue,G;try{const{data:Re,error:Fe}=await Te.from("assignments").select("*").eq("id",e).single();if(Fe)throw Fe;i(Re);const{data:Be,error:Ne}=await Te.from("case_snapshots").select("*").eq("id",Re.snapshot_id).single();if(Ne)throw Ne;s(Be);const{data:Ue}=await Te.from("simulation_runs").select("*").eq("assignment_id",e).eq("student_id",t.id).is("submitted_at",null).order("created_at",{ascending:!1}).limit(1);let Ce;if(Ue&&Ue.length>0){if(Ce=Ue[0],w(Ce.id),Ce.transcript){const qe=Ce.transcript;qe.messages&&l(qe.messages.map(De=>({...De,timestamp:typeof De.timestamp=="string"?new Date(De.timestamp):De.timestamp}))),L(qe.hintsUsed||0),$(qe.labOrders||[]),I(qe.labResults||[]),R(qe.diagnosis||"")}}else{const{data:qe,error:De}=await Te.from("simulation_runs").insert({assignment_id:e,student_id:t.id,started_at:new Date().toISOString(),transcript:{messages:[],hintsUsed:0,labOrders:[],labResults:[],diagnosis:""}}).select().single();if(De)throw De;Ce=qe,w(qe.id)}if(o.length===0){const qe=((G=(ue=Be.clinical_case)==null?void 0:ue.patientProfile)==null?void 0:G.name)||"Patient";l([{role:"assistant",content:`Hello, I'm ${qe}. How can I help you today?`,timestamp:new Date}])}}catch(Re){console.error("Error loading assignment:",Re),alert("Failed to load assignment")}finally{p(!1)}},re=()=>{const ue=setInterval(()=>{x(G=>{var Fe;const Re=G+1;if((Fe=a==null?void 0:a.clinical_case)!=null&&Fe.durationMinutes){const Be=a.clinical_case.durationMinutes*60;Re>=Be*.8&&!_&&j(!0)}return Re})},1e3);return()=>clearInterval(ue)},q=ue=>{const G=Math.floor(ue/60),Re=ue%60;return`${G}:${Re.toString().padStart(2,"0")}`},Z=async()=>{if(!y)return;const ue={messages:o.map(G=>({...G,timestamp:G.timestamp instanceof Date?G.timestamp.toISOString():G.timestamp})),hintsUsed:k,labOrders:E,labResults:P,diagnosis:F};await Te.from("simulation_runs").update({transcript:ue}).eq("id",y)},le=async()=>{if(!c.trim()||!y)return;const ue={role:"user",content:c,timestamp:new Date},G=[...o,ue];l(G);const Re=c;u(""),g(!0);try{const{data:Fe,error:Be}=await Te.functions.invoke("chat_router",{body:{message:Re,assignmentId:e,runId:y,conversationHistory:o}});if(Be)throw Be;const Ne={role:"assistant",content:Fe.reply||"I apologize, I did not understand that.",timestamp:new Date},Ue=[...G,Ne];l(Ue),await Z()}catch(Fe){console.error("Error sending message:",Fe),alert("Failed to send message: "+Fe.message)}finally{g(!1)}},fe=async()=>{if(!(k>=H||!y)){g(!0);try{const{data:ue,error:G}=await Te.functions.invoke("chat_router",{body:{message:"HINT_REQUEST",assignmentId:e,runId:y,conversationHistory:o,isHint:!0}});if(G)throw G;const Re={role:"assistant",content:ue.reply||"No hint available at this time.",timestamp:new Date};l([...o,Re]),L(k+1),await Z()}catch(ue){console.error("Error requesting hint:",ue),alert("Failed to get hint: "+ue.message)}finally{g(!1)}}},T=(ue,G)=>{var Ue;const Re={testName:ue,category:G,orderedAt:new Date().toISOString()},Fe=[...E,Re];$(Fe);const Be={testName:ue,result:R$(ue,a==null?void 0:a.clinical_case,(Ue=a==null?void 0:a.clinical_case)==null?void 0:Ue.labResults),category:G},Ne=[...P,Be];I(Ne),Z()},B=ue=>{R(ue),Z()},X=async()=>{var ue,G,Re,Fe,Be,Ne,Ue;if(y)try{await Z(),console.log("Calling score_simulation Edge Function with runId:",y);let Ce;try{Ce=await Te.functions.invoke("score_simulation",{body:{runId:y}}),console.log("Function response received:",Ce)}catch(ot){throw console.error("Function invoke error (catch block):",ot),(ue=ot.message)!=null&&ue.includes("Failed to fetch")||(G=ot.message)!=null&&G.includes("NetworkError")||(Re=ot.message)!=null&&Re.includes("Failed to send")||!ot.message?new Error("Edge Function not available. Please ensure the score_simulation function is deployed in Supabase. Check the Supabase Dashboard  Edge Functions."):new Error(`Failed to call Edge Function: ${ot.message||"Unknown error"}`)}const{data:qe,error:De}=Ce||{};if(De)throw console.error("Scoring function error details:",{error:De,message:De.message,context:De.context,status:De.status}),(Fe=De.message)!=null&&Fe.includes("Failed to send")||(Be=De.message)!=null&&Be.includes("fetch")||(Ne=De.message)!=null&&Ne.includes("NetworkError")||(Ue=De.message)!=null&&Ue.includes("Failed to fetch")?new Error("Edge Function not available. Please ensure the score_simulation function is deployed in Supabase. Check the Supabase Dashboard  Edge Functions."):new Error(De.message||"Failed to score simulation");if(!qe||!qe.score)throw console.error("Invalid response from scoring function:",qe),new Error("Invalid response from scoring function");const{error:It}=await Te.from("simulation_runs").update({submitted_at:new Date().toISOString(),score:qe.score}).eq("id",y);if(It)throw console.error("Update error:",It),new Error("Failed to update simulation run");r(`/debrief/${y}`)}catch(Ce){console.error("Error submitting:",Ce);const qe=Ce.message||"Please try again.";alert(`Error submitting simulation: ${qe}

If this persists, the Edge Function may not be deployed. Please check Supabase Dashboard  Edge Functions.`)}};if(f)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});const V=((xe=(me=a==null?void 0:a.clinical_case)==null?void 0:me.patientProfile)==null?void 0:xe.name)||"Patient",se=(((pe=a==null?void 0:a.clinical_case)==null?void 0:pe.durationMinutes)||15)*60,de=v/se*100,ie=v>=se;return d.jsxs("div",{className:"flex flex-col h-screen bg-gradient-to-br from-gray-50 to-gray-100 pb-20 md:pb-4",children:[d.jsxs("div",{className:"bg-white border-b-2 border-gray-300 shadow-sm p-4 md:p-6",children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center shadow-md",children:d.jsx(fl,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:V}),d.jsx("p",{className:"text-sm md:text-base text-gray-600",children:((Pe=a==null?void 0:a.clinical_case)==null?void 0:Pe.title)||"Clinical Case"})]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mt-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ad,{className:`w-5 h-5 ${_?"text-red-600":"text-gray-700"}`}),d.jsxs("span",{className:`font-mono text-base md:text-lg font-semibold ${_?"text-red-600":"text-gray-900"}`,children:[q(v)," / ",q(se)]}),_&&!ie&&d.jsx("span",{className:"text-xs md:text-sm text-red-600 font-medium bg-red-50 px-2 py-1 rounded",children:"Time running out!"})]}),ie&&d.jsxs("span",{className:"text-sm text-red-700 font-semibold flex items-center gap-2 bg-red-50 px-3 py-1.5 rounded-lg",children:[d.jsx(BT,{className:"w-5 h-5"}),"Time's up!"]})]}),d.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-3 shadow-inner",children:d.jsx("div",{className:`h-3 rounded-full transition-all shadow-sm ${de>=100?"bg-red-600":de>=80?"bg-yellow-500":"bg-primary-600"}`,style:{width:`${Math.min(de,100)}%`}})})]}),d.jsx(Fge,{activeTab:S,onTabChange:O}),d.jsxs("div",{className:"flex-1 overflow-hidden",children:[S==="chat"&&d.jsx(Uge,{messages:o,input:c,setInput:u,sending:h,onSendMessage:le,onRequestHint:fe,hintsRemaining:H-k}),S==="exam"&&d.jsx(zge,{caseData:a==null?void 0:a.clinical_case}),S==="labs"&&d.jsx(qge,{labOrders:E,labResults:P,onOrderTest:T,caseData:a==null?void 0:a.clinical_case}),S==="diagnosis"&&d.jsx(Wge,{diagnosis:F,onUpdate:B})]}),d.jsxs("div",{className:"bg-white border-t border-gray-200 p-4",children:[d.jsxs("button",{onClick:X,disabled:!y,className:"w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(cs,{className:"w-4 h-4"}),"Submit for Scoring"]}),ie&&d.jsx("p",{className:"text-xs text-red-600 mt-2 text-center",children:"Your time is up. You can still submit your responses."})]}),d.jsx(Jn,{role:"student"})]})}function Vge({activeTab:t,onTabChange:e}){const r=[{id:"feedback",label:"Feedback",icon:qa},{id:"review",label:"Review",icon:D_},{id:"questions",label:"Questions",icon:mU}];return d.jsx("div",{className:"bg-white border-b border-gray-200",children:d.jsx("div",{className:"flex overflow-x-auto",children:r.map(n=>{const i=n.icon,a=t===n.id;return d.jsxs("button",{onClick:()=>e(n.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${a?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[d.jsx(i,{className:"w-4 h-4"}),n.label]},n.id)})})})}function Gge({accuracy:t,timeTaken:e,currentStreak:r}){return d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Accuracy"}),d.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[t,"%"]})]}),d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Time Taken"}),d.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e})]}),d.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Current Streak"}),d.jsxs("div",{className:"text-3xl font-bold text-yellow-600 flex items-center gap-1",children:[r,d.jsx("span",{className:"text-2xl",children:""})]})]})]})}function Kge({reasoning:t}){const[e,r]=Y.useState(!0);return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!e),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"STEPWISE REASONING"}),d.jsx(_y,{className:`w-5 h-5 text-gray-500 transition-transform ${e?"":"rotate-180"}`})]}),e&&d.jsx("div",{className:"prose max-w-none",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:t})})]})}function Yge({potentialDiagnoses:t,studentDiagnosis:e,correctDiagnosis:r}){const[n,i]=Y.useState(!0);return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>i(!n),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"DIFFERENTIALS REVIEW"}),d.jsx(_y,{className:`w-5 h-5 text-gray-500 transition-transform ${n?"":"rotate-180"}`})]}),n&&d.jsx("div",{className:"space-y-3",children:t.map((a,s)=>{const o=a.dx===r,l=a.dx===e;return d.jsx("div",{className:`p-4 rounded-lg border-2 ${o?"bg-green-50 border-green-200":l?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[o?d.jsx(cs,{className:"w-5 h-5 text-green-600"}):l?d.jsx(Qo,{className:"w-5 h-5 text-red-600"}):null,d.jsx("span",{className:"font-medium text-gray-900",children:a.dx})]}),l&&!o&&d.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Your Pick"})]})},s)})})]})}function Xge({pearls:t}){const[e,r]=Y.useState(!0);return!t||t.length===0?null:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!e),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"LEARNING PEARLS"}),d.jsx(_y,{className:`w-5 h-5 text-gray-500 transition-transform ${e?"":"rotate-180"}`})]}),e&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((n,i)=>d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(zT,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),d.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:n})]})},i))})]})}function Jge({references:t}){const[e,r]=Y.useState(!0);return!t||t.length===0?null:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!e),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"FURTHER READING"}),d.jsx(_y,{className:`w-5 h-5 text-gray-500 transition-transform ${e?"":"rotate-180"}`})]}),e&&d.jsx("div",{className:"space-y-3",children:t.map((n,i)=>d.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(wy,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:n.title}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:n.reference})]})]})},i))})]})}const Zge="modulepreload",Qge=function(t){return"/"+t},Xk={},cx=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=Qge(l),l in Xk)return;Xk[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Zge,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function er(t){"@babel/helpers - typeof";return er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},er(t)}var Va=Uint8Array,Ui=Uint16Array,YS=Int32Array,XS=new Va([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),JS=new Va([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Jk=new Va([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M$=function(t,e){for(var r=new Ui(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new YS(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},D$=M$(XS,2),e0e=D$.b,x5=D$.r;e0e[28]=258,x5[258]=28;var t0e=M$(JS,0),Zk=t0e.r,w5=new Ui(32768);for(var Ar=0;Ar<32768;++Ar){var Fo=(Ar&43690)>>1|(Ar&21845)<<1;Fo=(Fo&52428)>>2|(Fo&13107)<<2,Fo=(Fo&61680)>>4|(Fo&3855)<<4,w5[Ar]=((Fo&65280)>>8|(Fo&255)<<8)>>1}var Fh=function(t,e,r){for(var n=t.length,i=0,a=new Ui(e);i<n;++i)t[i]&&++a[t[i]-1];var s=new Ui(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new Ui(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=s[t[i]-1]++<<u,p=f|(1<<u)-1;f<=p;++f)o[w5[f]>>l]=c}else for(o=new Ui(n),i=0;i<n;++i)t[i]&&(o[i]=w5[s[t[i]-1]++]>>15-t[i]);return o},Uc=new Va(288);for(var Ar=0;Ar<144;++Ar)Uc[Ar]=8;for(var Ar=144;Ar<256;++Ar)Uc[Ar]=9;for(var Ar=256;Ar<280;++Ar)Uc[Ar]=7;for(var Ar=280;Ar<288;++Ar)Uc[Ar]=8;var Jv=new Va(32);for(var Ar=0;Ar<32;++Ar)Jv[Ar]=5;var r0e=Fh(Uc,9,0),n0e=Fh(Jv,5,0),B$=function(t){return(t+7)/8|0},i0e=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Va(t.subarray(e,r))},Fs=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},dh=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},ux=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:U$,l:0};if(i==1){var s=new Va(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(S,O){return S.f-O.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=a[0].s,n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var h=new Ui(p+1),g=_5(r[u-1],h,0);if(g>e){var n=0,v=0,x=g-e,y=1<<x;for(a.sort(function(O,k){return h[k.s]-h[O.s]||O.f-k.f});n<i;++n){var w=a[n].s;if(h[w]>e)v+=y-(1<<g-h[w]),h[w]=e;else break}for(v>>=x;v>0;){var _=a[n].s;h[_]<e?v-=1<<e-h[_]++-1:++n}for(;n>=0&&v;--n){var j=a[n].s;h[j]==e&&(--h[j],++v)}g=e}return{t:new Va(h),l:g}},_5=function(t,e,r){return t.s==-1?Math.max(_5(t.l,e,r+1),_5(t.r,e,r+1)):e[t.s]=r},Qk=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ui(++e),n=0,i=t[0],a=1,s=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:r.subarray(0,n),n:e}},hh=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},F$=function(t,e,r){var n=r.length,i=B$(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},eP=function(t,e,r,n,i,a,s,o,l,c,u){Fs(e,u++,r),++i[256];for(var f=ux(i,15),p=f.t,h=f.l,g=ux(a,15),v=g.t,x=g.l,y=Qk(p),w=y.c,_=y.n,j=Qk(v),S=j.c,O=j.n,k=new Ui(19),L=0;L<w.length;++L)++k[w[L]&31];for(var L=0;L<S.length;++L)++k[S[L]&31];for(var E=ux(k,7),$=E.t,P=E.l,I=19;I>4&&!$[Jk[I-1]];--I);var F=c+5<<3,R=hh(i,Uc)+hh(a,Jv)+s,H=hh(i,p)+hh(a,v)+s+14+3*I+hh(k,$)+2*k[16]+3*k[17]+7*k[18];if(l>=0&&F<=R&&F<=H)return F$(e,u,t.subarray(l,l+c));var J,re,q,Z;if(Fs(e,u,1+(H<R)),u+=2,H<R){J=Fh(p,h,0),re=p,q=Fh(v,x,0),Z=v;var le=Fh($,P,0);Fs(e,u,_-257),Fs(e,u+5,O-1),Fs(e,u+10,I-4),u+=14;for(var L=0;L<I;++L)Fs(e,u+3*L,$[Jk[L]]);u+=3*I;for(var fe=[w,S],T=0;T<2;++T)for(var B=fe[T],L=0;L<B.length;++L){var X=B[L]&31;Fs(e,u,le[X]),u+=$[X],X>15&&(Fs(e,u,B[L]>>5&127),u+=B[L]>>12)}}else J=r0e,re=Uc,q=n0e,Z=Jv;for(var L=0;L<o;++L){var V=n[L];if(V>255){var X=V>>18&31;dh(e,u,J[X+257]),u+=re[X+257],X>7&&(Fs(e,u,V>>23&31),u+=XS[X]);var ne=V&31;dh(e,u,q[ne]),u+=Z[ne],ne>3&&(dh(e,u,V>>5&8191),u+=JS[ne])}else dh(e,u,J[V]),u+=re[V]}return dh(e,u,J[256]),u+re[256]},a0e=new YS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),U$=new Va(0),s0e=function(t,e,r,n,i,a){var s=a.z||t.length,o=new Va(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),c=a.l,u=(a.r||0)&7;if(e){u&&(l[0]=a.r>>3);for(var f=a0e[e-1],p=f>>13,h=f&8191,g=(1<<r)-1,v=a.p||new Ui(32768),x=a.h||new Ui(g+1),y=Math.ceil(r/3),w=2*y,_=function(ue){return(t[ue]^t[ue+1]<<y^t[ue+2]<<w)&g},j=new YS(25e3),S=new Ui(288),O=new Ui(32),k=0,L=0,E=a.i||0,$=0,P=a.w||0,I=0;E+2<s;++E){var F=_(E),R=E&32767,H=x[F];if(v[R]=H,x[F]=R,P<=E){var J=s-E;if((k>7e3||$>24576)&&(J>423||!c)){u=eP(t,l,0,j,S,O,L,$,I,E-I,u),$=k=L=0,I=E;for(var re=0;re<286;++re)S[re]=0;for(var re=0;re<30;++re)O[re]=0}var q=2,Z=0,le=h,fe=R-H&32767;if(J>2&&F==_(E-fe))for(var T=Math.min(p,J)-1,B=Math.min(32767,E),X=Math.min(258,J);fe<=B&&--le&&R!=H;){if(t[E+q]==t[E+q-fe]){for(var V=0;V<X&&t[E+V]==t[E+V-fe];++V);if(V>q){if(q=V,Z=fe,V>T)break;for(var ne=Math.min(fe,V-2),se=0,re=0;re<ne;++re){var de=E-fe+re&32767,ie=v[de],me=de-ie&32767;me>se&&(se=me,H=de)}}}R=H,H=v[R],fe+=R-H&32767}if(Z){j[$++]=268435456|x5[q]<<18|Zk[Z];var xe=x5[q]&31,pe=Zk[Z]&31;L+=XS[xe]+JS[pe],++S[257+xe],++O[pe],P=E+q,++k}else j[$++]=t[E],++S[t[E]]}}for(E=Math.max(E,P);E<s;++E)j[$++]=t[E],++S[t[E]];u=eP(t,l,c,j,S,O,L,$,I,E-I,u),c||(a.r=u&7|l[u/8|0]<<3,u-=7,a.h=x,a.p=v,a.i=E,a.w=P)}else{for(var E=a.w||0;E<s+c;E+=65535){var Pe=E+65535;Pe>=s&&(l[u/8|0]=c,Pe=s),u=F$(l,u+1,t.subarray(E,Pe))}a.i=s}return i0e(o,0,n+B$(u)+i)},z$=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},o0e=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new Va(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return s0e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},q$=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},l0e=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=z$();i.p(e.dictionary),q$(t,2,i.d())}};function S5(t,e){e||(e={});var r=z$();r.p(t);var n=o0e(t,e,e.dictionary?6:2,4);return l0e(n,e),q$(n,n.length-4,r.d()),n}var c0e=typeof TextDecoder<"u"&&new TextDecoder,u0e=0;try{c0e.decode(U$,{stream:!0}),u0e=1}catch{}function f0e(t){if(Array.isArray(t))return t}function d0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function tP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function h0e(t,e){if(t){if(typeof t=="string")return tP(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tP(t,e):void 0}}function p0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rP(t,e){return f0e(t)||d0e(t,e)||h0e(t,e)||p0e()}function nP(t,e="utf8"){return new TextDecoder(e).decode(t)}const m0e=new TextEncoder;function g0e(t){return m0e.encode(t)}const v0e=1024*8,y0e=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),fx={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ZS{constructor(e=v0e,r={}){Qt(this,"buffer");Qt(this,"byteLength");Qt(this,"byteOffset");Qt(this,"length");Qt(this,"offset");Qt(this,"lastWrittenByte");Qt(this,"littleEndian");Qt(this,"_data");Qt(this,"_mark");Qt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof ZS)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=fx[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===y0e&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new fx[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new fx[r](a);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return nP(this.readBytes(e))}decodeText(e=1,r="utf8"){return nP(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(g0e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function bd(t){let e=t.length;for(;--e>=0;)t[e]=0}const b0e=3,x0e=258,W$=29,w0e=256,_0e=w0e+1+W$,H$=30,S0e=512,A0e=new Array((_0e+2)*2);bd(A0e);const j0e=new Array(H$*2);bd(j0e);const N0e=new Array(S0e);bd(N0e);const O0e=new Array(x0e-b0e+1);bd(O0e);const k0e=new Array(W$);bd(k0e);const P0e=new Array(H$);bd(P0e);const E0e=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var A5=E0e;const C0e=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},T0e=new Uint32Array(C0e()),L0e=(t,e,r,n)=>{const i=T0e,a=n+r;t^=-1;for(let s=n;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var as=L0e,j5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},V$={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const I0e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var $0e=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)I0e(r,n)&&(t[n]=r[n])}}return t},R0e=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let s=t[n];r.set(s,i),i+=s.length}return r},G$={assign:$0e,flattenChunks:R0e};let K$=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{K$=!1}const Yp=new Uint8Array(256);for(let t=0;t<256;t++)Yp[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Yp[254]=Yp[254]=1;var M0e=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,s=t.length,o=0;for(i=0;i<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const D0e=(t,e)=>{if(e<65534&&t.subarray&&K$)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var B0e=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=t[n++];if(s<128){a[i++]=s;continue}let o=Yp[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|t[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return D0e(a,i)},F0e=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Yp[t[r]]>e?r:e},N5={string2buf:M0e,buf2string:B0e,utf8border:F0e};function U0e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var z0e=U0e;const Fg=16209,q0e=16191;var W0e=function(e,r){let n,i,a,s,o,l,c,u,f,p,h,g,v,x,y,w,_,j,S,O,k,L,E,$;const P=e.state;n=e.next_in,E=e.input,i=n+(e.avail_in-5),a=e.next_out,$=e.output,s=a-(r-e.avail_out),o=a+(e.avail_out-257),l=P.dmax,c=P.wsize,u=P.whave,f=P.wnext,p=P.window,h=P.hold,g=P.bits,v=P.lencode,x=P.distcode,y=(1<<P.lenbits)-1,w=(1<<P.distbits)-1;e:do{g<15&&(h+=E[n++]<<g,g+=8,h+=E[n++]<<g,g+=8),_=v[h&y];t:for(;;){if(j=_>>>24,h>>>=j,g-=j,j=_>>>16&255,j===0)$[a++]=_&65535;else if(j&16){S=_&65535,j&=15,j&&(g<j&&(h+=E[n++]<<g,g+=8),S+=h&(1<<j)-1,h>>>=j,g-=j),g<15&&(h+=E[n++]<<g,g+=8,h+=E[n++]<<g,g+=8),_=x[h&w];r:for(;;){if(j=_>>>24,h>>>=j,g-=j,j=_>>>16&255,j&16){if(O=_&65535,j&=15,g<j&&(h+=E[n++]<<g,g+=8,g<j&&(h+=E[n++]<<g,g+=8)),O+=h&(1<<j)-1,O>l){e.msg="invalid distance too far back",P.mode=Fg;break e}if(h>>>=j,g-=j,j=a-s,O>j){if(j=O-j,j>u&&P.sane){e.msg="invalid distance too far back",P.mode=Fg;break e}if(k=0,L=p,f===0){if(k+=c-j,j<S){S-=j;do $[a++]=p[k++];while(--j);k=a-O,L=$}}else if(f<j){if(k+=c+f-j,j-=f,j<S){S-=j;do $[a++]=p[k++];while(--j);if(k=0,f<S){j=f,S-=j;do $[a++]=p[k++];while(--j);k=a-O,L=$}}}else if(k+=f-j,j<S){S-=j;do $[a++]=p[k++];while(--j);k=a-O,L=$}for(;S>2;)$[a++]=L[k++],$[a++]=L[k++],$[a++]=L[k++],S-=3;S&&($[a++]=L[k++],S>1&&($[a++]=L[k++]))}else{k=a-O;do $[a++]=$[k++],$[a++]=$[k++],$[a++]=$[k++],S-=3;while(S>2);S&&($[a++]=$[k++],S>1&&($[a++]=$[k++]))}}else if(j&64){e.msg="invalid distance code",P.mode=Fg;break e}else{_=x[(_&65535)+(h&(1<<j)-1)];continue r}break}}else if(j&64)if(j&32){P.mode=q0e;break e}else{e.msg="invalid literal/length code",P.mode=Fg;break e}else{_=v[(_&65535)+(h&(1<<j)-1)];continue t}break}}while(n<i&&a<o);S=g>>3,n-=S,g-=S<<3,h&=(1<<g)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<o?257+(o-a):257-(a-o),P.hold=h,P.bits=g};const ju=15,iP=852,aP=592,sP=0,dx=1,oP=2,H0e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),V0e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),G0e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),K0e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Y0e=(t,e,r,n,i,a,s,o)=>{const l=o.bits;let c=0,u=0,f=0,p=0,h=0,g=0,v=0,x=0,y=0,w=0,_,j,S,O,k,L=null,E;const $=new Uint16Array(ju+1),P=new Uint16Array(ju+1);let I=null,F,R,H;for(c=0;c<=ju;c++)$[c]=0;for(u=0;u<n;u++)$[e[r+u]]++;for(h=l,p=ju;p>=1&&$[p]===0;p--);if(h>p&&(h=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<p&&$[f]===0;f++);for(h<f&&(h=f),x=1,c=1;c<=ju;c++)if(x<<=1,x-=$[c],x<0)return-1;if(x>0&&(t===sP||p!==1))return-1;for(P[1]=0,c=1;c<ju;c++)P[c+1]=P[c]+$[c];for(u=0;u<n;u++)e[r+u]!==0&&(s[P[e[r+u]]++]=u);if(t===sP?(L=I=s,E=20):t===dx?(L=H0e,I=V0e,E=257):(L=G0e,I=K0e,E=0),w=0,u=0,c=f,k=a,g=h,v=0,S=-1,y=1<<h,O=y-1,t===dx&&y>iP||t===oP&&y>aP)return 1;for(;;){F=c-v,s[u]+1<E?(R=0,H=s[u]):s[u]>=E?(R=I[s[u]-E],H=L[s[u]-E]):(R=96,H=0),_=1<<c-v,j=1<<g,f=j;do j-=_,i[k+(w>>v)+j]=F<<24|R<<16|H|0;while(j!==0);for(_=1<<c-1;w&_;)_>>=1;if(_!==0?(w&=_-1,w+=_):w=0,u++,--$[c]===0){if(c===p)break;c=e[r+s[u]]}if(c>h&&(w&O)!==S){for(v===0&&(v=h),k+=f,g=c-v,x=1<<g;g+v<p&&(x-=$[g+v],!(x<=0));)g++,x<<=1;if(y+=1<<g,t===dx&&y>iP||t===oP&&y>aP)return 1;S=w&O,i[S]=h<<24|g<<16|k-a|0}}return w!==0&&(i[k+w]=c-v<<24|64<<16|0),o.bits=h,0};var Uh=Y0e;const X0e=0,Y$=1,X$=2,{Z_FINISH:lP,Z_BLOCK:J0e,Z_TREES:Ug,Z_OK:zc,Z_STREAM_END:Z0e,Z_NEED_DICT:Q0e,Z_STREAM_ERROR:va,Z_DATA_ERROR:J$,Z_MEM_ERROR:Z$,Z_BUF_ERROR:eve,Z_DEFLATED:cP}=V$,v1=16180,uP=16181,fP=16182,dP=16183,hP=16184,pP=16185,mP=16186,gP=16187,vP=16188,yP=16189,Zv=16190,Us=16191,hx=16192,bP=16193,px=16194,xP=16195,wP=16196,_P=16197,SP=16198,zg=16199,qg=16200,AP=16201,jP=16202,NP=16203,OP=16204,kP=16205,mx=16206,PP=16207,EP=16208,Nr=16209,Q$=16210,eR=16211,tve=852,rve=592,nve=15,ive=nve,CP=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function ave(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const eu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<v1||e.mode>eR?1:0},tR=t=>{if(eu(t))return va;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=v1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(tve),e.distcode=e.distdyn=new Int32Array(rve),e.sane=1,e.back=-1,zc},rR=t=>{if(eu(t))return va;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,tR(t)},nR=(t,e)=>{let r;if(eu(t))return va;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?va:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,rR(t))},iR=(t,e)=>{if(!t)return va;const r=new ave;t.state=r,r.strm=t,r.window=null,r.mode=v1;const n=nR(t,e);return n!==zc&&(t.state=null),n},sve=t=>iR(t,ive);let TP=!0,gx,vx;const ove=t=>{if(TP){gx=new Int32Array(512),vx=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Uh(Y$,t.lens,0,288,gx,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Uh(X$,t.lens,0,32,vx,0,t.work,{bits:5}),TP=!1}t.lencode=gx,t.lenbits=9,t.distcode=vx,t.distbits=5},aR=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},lve=(t,e)=>{let r,n,i,a,s,o,l,c,u,f,p,h,g,v,x=0,y,w,_,j,S,O,k,L;const E=new Uint8Array(4);let $,P;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(eu(t)||!t.output||!t.input&&t.avail_in!==0)return va;r=t.state,r.mode===Us&&(r.mode=hx),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,c=r.hold,u=r.bits,f=o,p=l,L=zc;e:for(;;)switch(r.mode){case v1:if(r.wrap===0){r.mode=hx;break}for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,E[0]=c&255,E[1]=c>>>8&255,r.check=as(r.check,E,2,0),c=0,u=0,r.mode=uP;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Nr;break}if((c&15)!==cP){t.msg="unknown compression method",r.mode=Nr;break}if(c>>>=4,u-=4,k=(c&15)+8,r.wbits===0&&(r.wbits=k),k>15||k>r.wbits){t.msg="invalid window size",r.mode=Nr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?yP:Us,c=0,u=0;break;case uP:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==cP){t.msg="unknown compression method",r.mode=Nr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Nr;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(E[0]=c&255,E[1]=c>>>8&255,r.check=as(r.check,E,2,0)),c=0,u=0,r.mode=fP;case fP:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(E[0]=c&255,E[1]=c>>>8&255,E[2]=c>>>16&255,E[3]=c>>>24&255,r.check=as(r.check,E,4,0)),c=0,u=0,r.mode=dP;case dP:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(E[0]=c&255,E[1]=c>>>8&255,r.check=as(r.check,E,2,0)),c=0,u=0,r.mode=hP;case hP:if(r.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(E[0]=c&255,E[1]=c>>>8&255,r.check=as(r.check,E,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=pP;case pP:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+h),k)),r.flags&512&&r.wrap&4&&(r.check=as(r.check,n,h,a)),o-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=mP;case mP:if(r.flags&2048){if(o===0)break e;h=0;do k=n[a+h++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k));while(k&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=as(r.check,n,h,a)),o-=h,a+=h,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=gP;case gP:if(r.flags&4096){if(o===0)break e;h=0;do k=n[a+h++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k));while(k&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=as(r.check,n,h,a)),o-=h,a+=h,k)break e}else r.head&&(r.head.comment=null);r.mode=vP;case vP:if(r.flags&512){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Nr;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Us;break;case yP:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}t.adler=r.check=CP(c),c=0,u=0,r.mode=Zv;case Zv:if(r.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=u,Q0e;t.adler=r.check=1,r.mode=Us;case Us:if(e===J0e||e===Ug)break e;case hx:if(r.last){c>>>=u&7,u-=u&7,r.mode=mx;break}for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=bP;break;case 1:if(ove(r),r.mode=zg,e===Ug){c>>>=2,u-=2;break e}break;case 2:r.mode=wP;break;case 3:t.msg="invalid block type",r.mode=Nr}c>>>=2,u-=2;break;case bP:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Nr;break}if(r.length=c&65535,c=0,u=0,r.mode=px,e===Ug)break e;case px:r.mode=xP;case xP:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(n.subarray(a,a+h),s),o-=h,a+=h,l-=h,s+=h,r.length-=h;break}r.mode=Us;break;case wP:for(;u<14;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Nr;break}r.have=0,r.mode=_P;case _P:for(;r.have<r.ncode;){for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.lens[I[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,$={bits:r.lenbits},L=Uh(X0e,r.lens,0,19,r.lencode,0,r.work,$),r.lenbits=$.bits,L){t.msg="invalid code lengths set",r.mode=Nr;break}r.have=0,r.mode=SP;case SP:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[c&(1<<r.lenbits)-1],y=x>>>24,w=x>>>16&255,_=x&65535,!(y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(_<16)c>>>=y,u-=y,r.lens[r.have++]=_;else{if(_===16){for(P=y+2;u<P;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(c>>>=y,u-=y,r.have===0){t.msg="invalid bit length repeat",r.mode=Nr;break}k=r.lens[r.have-1],h=3+(c&3),c>>>=2,u-=2}else if(_===17){for(P=y+3;u<P;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=y,u-=y,k=0,h=3+(c&7),c>>>=3,u-=3}else{for(P=y+7;u<P;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=y,u-=y,k=0,h=11+(c&127),c>>>=7,u-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Nr;break}for(;h--;)r.lens[r.have++]=k}}if(r.mode===Nr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Nr;break}if(r.lenbits=9,$={bits:r.lenbits},L=Uh(Y$,r.lens,0,r.nlen,r.lencode,0,r.work,$),r.lenbits=$.bits,L){t.msg="invalid literal/lengths set",r.mode=Nr;break}if(r.distbits=6,r.distcode=r.distdyn,$={bits:r.distbits},L=Uh(X$,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,$),r.distbits=$.bits,L){t.msg="invalid distances set",r.mode=Nr;break}if(r.mode=zg,e===Ug)break e;case zg:r.mode=qg;case qg:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=u,W0e(t,p),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,c=r.hold,u=r.bits,r.mode===Us&&(r.back=-1);break}for(r.back=0;x=r.lencode[c&(1<<r.lenbits)-1],y=x>>>24,w=x>>>16&255,_=x&65535,!(y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(w&&!(w&240)){for(j=y,S=w,O=_;x=r.lencode[O+((c&(1<<j+S)-1)>>j)],y=x>>>24,w=x>>>16&255,_=x&65535,!(j+y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=j,u-=j,r.back+=j}if(c>>>=y,u-=y,r.back+=y,r.length=_,w===0){r.mode=kP;break}if(w&32){r.back=-1,r.mode=Us;break}if(w&64){t.msg="invalid literal/length code",r.mode=Nr;break}r.extra=w&15,r.mode=AP;case AP:if(r.extra){for(P=r.extra;u<P;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=jP;case jP:for(;x=r.distcode[c&(1<<r.distbits)-1],y=x>>>24,w=x>>>16&255,_=x&65535,!(y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(!(w&240)){for(j=y,S=w,O=_;x=r.distcode[O+((c&(1<<j+S)-1)>>j)],y=x>>>24,w=x>>>16&255,_=x&65535,!(j+y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=j,u-=j,r.back+=j}if(c>>>=y,u-=y,r.back+=y,w&64){t.msg="invalid distance code",r.mode=Nr;break}r.offset=_,r.extra=w&15,r.mode=NP;case NP:if(r.extra){for(P=r.extra;u<P;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Nr;break}r.mode=OP;case OP:if(l===0)break e;if(h=p-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Nr;break}h>r.wnext?(h-=r.wnext,g=r.wsize-h):g=r.wnext-h,h>r.length&&(h=r.length),v=r.window}else v=i,g=s-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do i[s++]=v[g++];while(--h);r.length===0&&(r.mode=qg);break;case kP:if(l===0)break e;i[s++]=r.length,l--,r.mode=qg;break;case mx:if(r.wrap){for(;u<32;){if(o===0)break e;o--,c|=n[a++]<<u,u+=8}if(p-=l,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?as(r.check,i,p,s-p):A5(r.check,i,p,s-p)),p=l,r.wrap&4&&(r.flags?c:CP(c))!==r.check){t.msg="incorrect data check",r.mode=Nr;break}c=0,u=0}r.mode=PP;case PP:if(r.wrap&&r.flags){for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Nr;break}c=0,u=0}r.mode=EP;case EP:L=Z0e;break e;case Nr:L=J$;break e;case Q$:return Z$;case eR:default:return va}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=u,(r.wsize||p!==t.avail_out&&r.mode<Nr&&(r.mode<mx||e!==lP))&&aR(t,t.output,t.next_out,p-t.avail_out),f-=t.avail_in,p-=t.avail_out,t.total_in+=f,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?as(r.check,i,p,t.next_out-p):A5(r.check,i,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Us?128:0)+(r.mode===zg||r.mode===px?256:0),(f===0&&p===0||e===lP)&&L===zc&&(L=eve),L},cve=t=>{if(eu(t))return va;let e=t.state;return e.window&&(e.window=null),t.state=null,zc},uve=(t,e)=>{if(eu(t))return va;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,zc):va},fve=(t,e)=>{const r=e.length;let n,i,a;return eu(t)||(n=t.state,n.wrap!==0&&n.mode!==Zv)?va:n.mode===Zv&&(i=1,i=A5(i,e,r,0),i!==n.check)?J$:(a=aR(t,e,r,r),a?(n.mode=Q$,Z$):(n.havedict=1,zc))};var dve=rR,hve=nR,pve=tR,mve=sve,gve=iR,vve=lve,yve=cve,bve=uve,xve=fve,wve="pako inflate (from Nodeca project)",Vs={inflateReset:dve,inflateReset2:hve,inflateResetKeep:pve,inflateInit:mve,inflateInit2:gve,inflate:vve,inflateEnd:yve,inflateGetHeader:bve,inflateSetDictionary:xve,inflateInfo:wve};function _ve(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Sve=_ve;const sR=Object.prototype.toString,{Z_NO_FLUSH:Ave,Z_FINISH:jve,Z_OK:Xp,Z_STREAM_END:yx,Z_NEED_DICT:bx,Z_STREAM_ERROR:Nve,Z_DATA_ERROR:LP,Z_MEM_ERROR:Ove}=V$;function vm(t){this.options=G$.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new z0e,this.strm.avail_out=0;let r=Vs.inflateInit2(this.strm,e.windowBits);if(r!==Xp)throw new Error(j5[r]);if(this.header=new Sve,Vs.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=N5.string2buf(e.dictionary):sR.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Vs.inflateSetDictionary(this.strm,e.dictionary),r!==Xp)))throw new Error(j5[r])}vm.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?jve:Ave,sR.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Vs.inflate(r,s),a===bx&&i&&(a=Vs.inflateSetDictionary(r,i),a===Xp?a=Vs.inflate(r,s):a===LP&&(a=bx));r.avail_in>0&&a===yx&&r.state.wrap>0&&t[r.next_in]!==0;)Vs.inflateReset(r),a=Vs.inflate(r,s);switch(a){case Nve:case LP:case bx:case Ove:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===yx))if(this.options.to==="string"){let l=N5.utf8border(r.output,r.next_out),c=r.next_out-l,u=N5.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Xp&&o===0)){if(a===yx)return a=Vs.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};vm.prototype.onData=function(t){this.chunks.push(t)};vm.prototype.onEnd=function(t){t===Xp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=G$.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function kve(t,e){const r=new vm(e);if(r.push(t),r.err)throw r.msg||j5[r.err];return r.result}var Pve=vm,Eve=kve,Cve={Inflate:Pve,inflate:Eve};const{Inflate:Tve,inflate:Lve}=Cve;var IP=Tve,Ive=Lve;const oR=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;oR[t]=e}const $P=4294967295;function $ve(t,e,r){let n=t;for(let i=0;i<r;i++)n=oR[(n^e[i])&255]^n>>>8;return n}function Rve(t,e){return($ve($P,t,e)^$P)>>>0}function RP(t,e,r){const n=t.readUint32(),i=Rve(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function lR(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function cR(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function uR(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function fR(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function dR(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+Mve(e[a-i],r[a],r[a-i])&255}}function Mve(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),s=Math.abs(n-r);return i<=a&&i<=s?t:a<=s?e:r}function Dve(t,e,r,n,i,a){switch(t){case 0:lR(e,r,i);break;case 1:cR(e,r,i,a);break;case 2:uR(e,r,n,i);break;case 3:fR(e,r,n,i,a);break;case 4:dR(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Bve=new Uint16Array([255]),Fve=new Uint8Array(Bve.buffer),Uve=Fve[0]===255;function zve(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(n*r*o);let c=0;for(let u=0;u<7;u++){const f=s[u],p=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(p<=0||h<=0)continue;const g=p*o,v=new Uint8Array(g);for(let x=0;x<h;x++){const y=e[c++],w=e.subarray(c,c+g);c+=g;const _=new Uint8Array(g);Dve(y,w,_,v,g,o),v.set(_);for(let j=0;j<p;j++){const S=f.x+j*f.xStep,O=f.y+x*f.yStep;if(!(S>=r||O>=n))for(let k=0;k<o;k++)l[(O*r+S)*o+k]=_[j*o+k]}}}if(a===16){const u=new Uint16Array(l.buffer);if(Uve)for(let f=0;f<u.length;f++)u[f]=qve(u[f]);return u}else return l}function qve(t){return(t&255)<<8|t>>8&255}const Wve=new Uint16Array([255]),Hve=new Uint8Array(Wve.buffer),Vve=Hve[0]===255,Gve=new Uint8Array(0);function MP(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),l=new Uint8Array(n*o);let c=Gve,u=0,f,p;for(let h=0;h<n;h++){switch(f=e.subarray(u+1,u+1+o),p=l.subarray(h*o,(h+1)*o),e[u]){case 0:lR(f,p,o);break;case 1:cR(f,p,o,s);break;case 2:uR(f,p,c,o);break;case 3:fR(f,p,c,o,s);break;case 4:dR(f,p,c,o,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=p,u+=o+1}if(a===16){const h=new Uint16Array(l.buffer);if(Vve)for(let g=0;g<h.length;g++)h[g]=Kve(h[g]);return h}else return l}function Kve(t){return(t&255)<<8|t>>8&255}const l0=Uint8Array.of(137,80,78,71,13,10,26,10);function DP(t){if(!Yve(t.readBytes(l0.length)))throw new Error("wrong PNG signature")}function Yve(t){if(t.length<l0.length)return!1;for(let e=0;e<l0.length;e++)if(t[e]!==l0[e])return!1;return!0}const Xve="tEXt",Jve=0,hR=new TextDecoder("latin1");function Zve(t){if(eye(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Qve=/^[\u0000-\u00FF]*$/;function eye(t){if(!Qve.test(t))throw new Error("invalid latin1 text")}function tye(t,e,r){const n=pR(e);t[n]=rye(e,r-n.length-1)}function pR(t){for(t.mark();t.readByte()!==Jve;);const e=t.offset;t.reset();const r=hR.decode(t.readBytes(e-t.offset-1));return t.skip(1),Zve(r),r}function rye(t,e){return hR.decode(t.readBytes(e))}const Ei={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},xx={UNKNOWN:-1,DEFLATE:0},BP={UNKNOWN:-1,ADAPTIVE:0},wx={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Wg={NONE:0,BACKGROUND:1,PREVIOUS:2},_x={SOURCE:0,OVER:1};class nye extends ZS{constructor(r,n={}){super(r);Qt(this,"_checkCrc");Qt(this,"_inflator");Qt(this,"_png");Qt(this,"_apng");Qt(this,"_end");Qt(this,"_hasPalette");Qt(this,"_palette");Qt(this,"_hasTransparency");Qt(this,"_transparency");Qt(this,"_compressionMethod");Qt(this,"_filterMethod");Qt(this,"_interlaceMethod");Qt(this,"_colorType");Qt(this,"_isAnimated");Qt(this,"_numberOfFrames");Qt(this,"_numberOfPlays");Qt(this,"_frames");Qt(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new IP,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=xx.UNKNOWN,this._filterMethod=BP.UNKNOWN,this._interlaceMethod=wx.UNKNOWN,this._colorType=Ei.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(DP(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(DP(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Xve:tye(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?RP(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?RP(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=iye(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Ei.GREYSCALE:i=1;break;case Ei.TRUECOLOUR:i=3;break;case Ei.INDEXED_COLOUR:i=1;break;case Ei.GREYSCALE_ALPHA:i=2;break;case Ei.TRUECOLOUR_ALPHA:i=4;break;case Ei.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==xx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ei.GREYSCALE:case Ei.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ei.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ei.UNKNOWN:case Ei.GREYSCALE_ALPHA:case Ei.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=pR(this),i=this.readUint8();if(i!==xx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Ive(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=MP({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case Wg.NONE:break;case Wg.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*r.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case Wg.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case _x.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++)r.data[l+u]=n.data[c+u]}break;case _x.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++){const f=n.data[c+this._png.channels-1]/i,p=u%(this._png.channels-1)===0?1:n.data[c+u],h=Math.floor(f*p+(1-f)*r.data[l+u]);r.data[l+u]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==BP.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===wx.NO_INTERLACE)this._png.data=MP({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===wx.ADAM7)this._png.data=zve({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Wg.NONE,blendOp:_x.SOURCE,data:r}),this._inflator=new IP,this._writingDataChunks=!1}}function iye(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var FP;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(FP||(FP={}));function aye(t,e){return new nye(t,e).decode()}var pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Sx(){pt.console&&typeof pt.console.log=="function"&&pt.console.log.apply(pt.console,arguments)}var ur={log:Sx,warn:function(t){pt.console&&(typeof pt.console.warn=="function"?pt.console.warn.apply(pt.console,arguments):Sx.call(null,arguments))},error:function(t){pt.console&&(typeof pt.console.error=="function"?pt.console.error.apply(pt.console,arguments):Sx(t))}};function Ax(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){lc(n.response,e,r)},n.onerror=function(){ur.error("could not download file")},n.send()}function UP(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Hg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var lc=pt.saveAs||((typeof window>"u"?"undefined":er(window))!=="object"||window!==pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=pt.URL||pt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?UP(i.href)?Ax(t,e,r):Hg(i,i.target="_blank"):Hg(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Hg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(UP(t))Ax(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Hg(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:er(a)!=="object"&&(ur.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Ax(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(pt.HTMLElement)||pt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":er(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(t)}else{var l=pt.URL||pt.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function mR(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var c0=pt.atob.bind(pt),zP=pt.btoa.bind(pt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function jx(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=qn(r,n,i,a,e[0],7,-680876936),a=qn(a,r,n,i,e[1],12,-389564586),i=qn(i,a,r,n,e[2],17,606105819),n=qn(n,i,a,r,e[3],22,-1044525330),r=qn(r,n,i,a,e[4],7,-176418897),a=qn(a,r,n,i,e[5],12,1200080426),i=qn(i,a,r,n,e[6],17,-1473231341),n=qn(n,i,a,r,e[7],22,-45705983),r=qn(r,n,i,a,e[8],7,1770035416),a=qn(a,r,n,i,e[9],12,-1958414417),i=qn(i,a,r,n,e[10],17,-42063),n=qn(n,i,a,r,e[11],22,-1990404162),r=qn(r,n,i,a,e[12],7,1804603682),a=qn(a,r,n,i,e[13],12,-40341101),i=qn(i,a,r,n,e[14],17,-1502002290),r=Wn(r,n=qn(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Wn(a,r,n,i,e[6],9,-1069501632),i=Wn(i,a,r,n,e[11],14,643717713),n=Wn(n,i,a,r,e[0],20,-373897302),r=Wn(r,n,i,a,e[5],5,-701558691),a=Wn(a,r,n,i,e[10],9,38016083),i=Wn(i,a,r,n,e[15],14,-660478335),n=Wn(n,i,a,r,e[4],20,-405537848),r=Wn(r,n,i,a,e[9],5,568446438),a=Wn(a,r,n,i,e[14],9,-1019803690),i=Wn(i,a,r,n,e[3],14,-187363961),n=Wn(n,i,a,r,e[8],20,1163531501),r=Wn(r,n,i,a,e[13],5,-1444681467),a=Wn(a,r,n,i,e[2],9,-51403784),i=Wn(i,a,r,n,e[7],14,1735328473),r=Hn(r,n=Wn(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Hn(a,r,n,i,e[8],11,-2022574463),i=Hn(i,a,r,n,e[11],16,1839030562),n=Hn(n,i,a,r,e[14],23,-35309556),r=Hn(r,n,i,a,e[1],4,-1530992060),a=Hn(a,r,n,i,e[4],11,1272893353),i=Hn(i,a,r,n,e[7],16,-155497632),n=Hn(n,i,a,r,e[10],23,-1094730640),r=Hn(r,n,i,a,e[13],4,681279174),a=Hn(a,r,n,i,e[0],11,-358537222),i=Hn(i,a,r,n,e[3],16,-722521979),n=Hn(n,i,a,r,e[6],23,76029189),r=Hn(r,n,i,a,e[9],4,-640364487),a=Hn(a,r,n,i,e[12],11,-421815835),i=Hn(i,a,r,n,e[15],16,530742520),r=Vn(r,n=Hn(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Vn(a,r,n,i,e[7],10,1126891415),i=Vn(i,a,r,n,e[14],15,-1416354905),n=Vn(n,i,a,r,e[5],21,-57434055),r=Vn(r,n,i,a,e[12],6,1700485571),a=Vn(a,r,n,i,e[3],10,-1894986606),i=Vn(i,a,r,n,e[10],15,-1051523),n=Vn(n,i,a,r,e[1],21,-2054922799),r=Vn(r,n,i,a,e[8],6,1873313359),a=Vn(a,r,n,i,e[15],10,-30611744),i=Vn(i,a,r,n,e[6],15,-1560198380),n=Vn(n,i,a,r,e[13],21,1309151649),r=Vn(r,n,i,a,e[4],6,-145523070),a=Vn(a,r,n,i,e[11],10,-1120210379),i=Vn(i,a,r,n,e[2],15,718787259),n=Vn(n,i,a,r,e[9],21,-343485551),t[0]=tl(r,t[0]),t[1]=tl(n,t[1]),t[2]=tl(i,t[2]),t[3]=tl(a,t[3])}function y1(t,e,r,n,i,a){return e=tl(tl(e,t),tl(n,a)),tl(e<<i|e>>>32-i,r)}function qn(t,e,r,n,i,a,s){return y1(e&r|~e&n,t,e,i,a,s)}function Wn(t,e,r,n,i,a,s){return y1(e&n|r&~n,t,e,i,a,s)}function Hn(t,e,r,n,i,a,s){return y1(e^r^n,t,e,i,a,s)}function Vn(t,e,r,n,i,a,s){return y1(r^(e|~n),t,e,i,a,s)}function gR(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)jx(n,sye(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(jx(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,jx(n,i),n}function sye(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var qP="0123456789abcdef".split("");function oye(t){for(var e="",r=0;r<4;r++)e+=qP[t>>8*r+4&15]+qP[t>>8*r&15];return e}function lye(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function O5(t){return gR(t).map(lye).join("")}var cye=function(t){for(var e=0;e<t.length;e++)t[e]=oye(t[e]);return t.join("")}(gR("hello"))!="5d41402abc4b2a76b9719d911017c592";function tl(t,e){if(cye){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function k5(t,e){var r,n,i,a;if(t!==r){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=t,n=o}else o=n;var f=e.length,p=0,h=0,g="";for(l=0;l<f;l++)h=(h+(u=o[p=(p+1)%256]))%256,o[p]=o[h],o[h]=u,s=o[(o[p]+o[h])%256],g+=String.fromCharCode(e.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var WP={print:4,modify:8,copy:16,"annot-forms":32};function Cu(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(WP.perm!==void 0)throw new Error("Invalid permission: "+o);i+=WP[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=O5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=k5(this.encryptionKey,this.padding)}function Tu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function HP(t){if(er(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var s=e[r][a];try{s[0].apply(t,n)}catch(o){pt.console&&ur.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Qv(t){if(!(this instanceof Qv))return new Qv(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function vR(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function hc(t,e,r,n,i){if(!(this instanceof hc))return new hc(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,vR.call(this,n,i)}function Xu(t,e,r,n,i){if(!(this instanceof Xu))return new Xu(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,vR.call(this,n,i)}function nt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",u=null;er(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=HP;var g="1.3",v=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(A){g=A};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return x};var y=h.__private__.getPageFormat=function(A){return x[A]};i=i||"a4";var w="compat",_="advanced",j=w;function S(){this.saveGraphicsState(),G(new ut(ht,0,0,-ht,0,Bl()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),c="n",j=_}function O(){this.restoreGraphicsState(),c="S",j=w}var k=h.__private__.combineFontStyleAndFontWeight=function(A,M){if(A=="bold"&&M=="normal"||A=="bold"&&M==400||A=="normal"&&M=="italic"||A=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(A=M==400||M==="normal"?A==="italic"?"italic":"normal":M!=700&&M!=="bold"||A!=="normal"?(M==700?"bold":M)+""+A:"bold"),A};h.advancedAPI=function(A){var M=j===w;return M&&S.call(this),typeof A!="function"||(A(this),M&&O.call(this)),this},h.compatAPI=function(A){var M=j===_;return M&&O.call(this),typeof A!="function"||(A(this),M&&S.call(this)),this},h.isAdvancedAPI=function(){return j===_};var L,E=function(A){if(j!==_)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=h.roundToPrecision=h.__private__.roundToPrecision=function(A,M){var te=e||M;if(isNaN(A)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(te).replace(/0+$/,"")};L=h.hpf=h.__private__.hpf=typeof l=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return $(A,l)}:l==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return $(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return $(A,16)};var P=h.f2=h.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return $(A,2)},I=h.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return $(A,3)},F=h.scale=h.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return j===w?A*ht:j===_?A:void 0},R=function(A){return F(function(M){return j===w?Bl()-M:j===_?M:void 0}(A))};h.__private__.setPrecision=h.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var H,J="00000000000000000000000000000000",re=h.__private__.getFileId=function(){return J},q=h.__private__.setFileId=function(A){return J=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(zr=new Cu(u.userPermissions,u.userPassword,u.ownerPassword,J)),J};h.setFileId=function(A){return q(A),this},h.getFileId=function(){return re()};var Z=h.__private__.convertDateToPDFDate=function(A){var M=A.getTimezoneOffset(),te=M<0?"+":"-",oe=Math.floor(Math.abs(M/60)),ge=Math.abs(M%60),Ae=[te,X(oe),"'",X(ge),"'"].join("");return["D:",A.getFullYear(),X(A.getMonth()+1),X(A.getDate()),X(A.getHours()),X(A.getMinutes()),X(A.getSeconds()),Ae].join("")},le=h.__private__.convertPDFDateToDate=function(A){var M=parseInt(A.substr(2,4),10),te=parseInt(A.substr(6,2),10)-1,oe=parseInt(A.substr(8,2),10),ge=parseInt(A.substr(10,2),10),Ae=parseInt(A.substr(12,2),10),ke=parseInt(A.substr(14,2),10);return new Date(M,te,oe,ge,Ae,ke,0)},fe=h.__private__.setCreationDate=function(A){var M;if(A===void 0&&(A=new Date),A instanceof Date)M=Z(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=A}return H=M},T=h.__private__.getCreationDate=function(A){var M=H;return A==="jsDate"&&(M=le(H)),M};h.setCreationDate=function(A){return fe(A),this},h.getCreationDate=function(A){return T(A)};var B,X=h.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},V=h.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},ne=0,se=[],de=[],ie=0,me=[],xe=[],pe=!1,Pe=de;h.__private__.setCustomOutputDestination=function(A){pe=!0,Pe=A};var ue=function(A){pe||(Pe=A)};h.__private__.resetCustomOutputDestination=function(){pe=!1,Pe=de};var G=h.__private__.out=function(A){return A=A.toString(),ie+=A.length+1,Pe.push(A),Pe},Re=h.__private__.write=function(A){return G(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Fe=h.__private__.getArrayBuffer=function(A){for(var M=A.length,te=new ArrayBuffer(M),oe=new Uint8Array(te);M--;)oe[M]=A.charCodeAt(M);return te},Be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Be};var Ne=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(A){return Ne=j===_?A/ht:A,this};var Ue,Ce=h.__private__.getFontSize=h.getFontSize=function(){return j===w?Ne:Ne*ht},qe=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(A){return qe=A,this},h.__private__.getR2L=h.getR2L=function(){return qe};var De,It=h.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))Ue=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');Ue=A}else Ue=parseInt(A,10)};h.__private__.getZoomMode=function(){return Ue};var ot,At=h.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');De=A};h.__private__.getPageMode=function(){return De};var ir=h.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');ot=A};h.__private__.getLayoutMode=function(){return ot},h.__private__.setDisplayMode=h.setDisplayMode=function(A,M,te){return It(A),ir(M),At(te),this};var kt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(A){if(Object.keys(kt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return kt[A]},h.__private__.getDocumentProperties=function(){return kt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(A){for(var M in kt)kt.hasOwnProperty(M)&&A[M]&&(kt[M]=A[M]);return this},h.__private__.setDocumentProperty=function(A,M){if(Object.keys(kt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return kt[A]=M};var at,ht,st,dr,Vt,tt={},jt={},sr=[],ct={},Rt={},Nt={},Ur={},on=null,or=0,yt=[],Kt=new HP(h),Ol=t.hotfixes||[],Dn={},As={},Xa=[],ut=function A(M,te,oe,ge,Ae,ke){if(!(this instanceof A))return new A(M,te,oe,ge,Ae,ke);isNaN(M)&&(M=1),isNaN(te)&&(te=0),isNaN(oe)&&(oe=0),isNaN(ge)&&(ge=1),isNaN(Ae)&&(Ae=0),isNaN(ke)&&(ke=0),this._matrix=[M,te,oe,ge,Ae,ke]};Object.defineProperty(ut.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(ut.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(ut.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(ut.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(ut.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(ut.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(ut.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(ut.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(ut.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(ut.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(ut.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(ut.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(ut.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ut.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ut.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ut.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ut.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(A)},ut.prototype.multiply=function(A){var M=A.sx*this.sx+A.shy*this.shx,te=A.sx*this.shy+A.shy*this.sy,oe=A.shx*this.sx+A.sy*this.shx,ge=A.shx*this.shy+A.sy*this.sy,Ae=A.tx*this.sx+A.ty*this.shx+this.tx,ke=A.tx*this.shy+A.ty*this.sy+this.ty;return new ut(M,te,oe,ge,Ae,ke)},ut.prototype.decompose=function(){var A=this.sx,M=this.shy,te=this.shx,oe=this.sy,ge=this.tx,Ae=this.ty,ke=Math.sqrt(A*A+M*M),Ye=(A/=ke)*te+(M/=ke)*oe;te-=A*Ye,oe-=M*Ye;var et=Math.sqrt(te*te+oe*oe);return Ye/=et,A*(oe/=et)<M*(te/=et)&&(A=-A,M=-M,Ye=-Ye,ke=-ke),{scale:new ut(ke,0,0,et,0,0),translate:new ut(1,0,0,1,ge,Ae),rotate:new ut(A,M,-M,A,0,0),skew:new ut(1,0,Ye,1,0,0)}},ut.prototype.toString=function(A){return this.join(" ")},ut.prototype.inversed=function(){var A=this.sx,M=this.shy,te=this.shx,oe=this.sy,ge=this.tx,Ae=this.ty,ke=1/(A*oe-M*te),Ye=oe*ke,et=-M*ke,gt=-te*ke,wt=A*ke;return new ut(Ye,et,gt,wt,-Ye*ge-gt*Ae,-et*ge-wt*Ae)},ut.prototype.applyToPoint=function(A){var M=A.x*this.sx+A.y*this.shx+this.tx,te=A.x*this.shy+A.y*this.sy+this.ty;return new Ml(M,te)},ut.prototype.applyToRectangle=function(A){var M=this.applyToPoint(A),te=this.applyToPoint(new Ml(A.x+A.w,A.y+A.h));return new Ed(M.x,M.y,te.x-M.x,te.y-M.y)},ut.prototype.clone=function(){var A=this.sx,M=this.shy,te=this.shx,oe=this.sy,ge=this.tx,Ae=this.ty;return new ut(A,M,te,oe,ge,Ae)},h.Matrix=ut;var js=h.matrixMult=function(A,M){return M.multiply(A)},Ns=new ut(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Ns;var Yi=function(A,M){if(!Rt[A]){var te=(M instanceof hc?"Sh":"P")+(Object.keys(ct).length+1).toString(10);M.id=te,Rt[A]=te,ct[te]=M,Kt.publish("addPattern",M)}};h.ShadingPattern=hc,h.TilingPattern=Xu,h.addShadingPattern=function(A,M){return E("addShadingPattern()"),Yi(A,M),this},h.beginTilingPattern=function(A){E("beginTilingPattern()"),Cd(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},h.endTilingPattern=function(A,M){E("endTilingPattern()"),M.stream=xe[B].join(`
`),Yi(A,M),Kt.publish("endTilingPattern",M),Xa.pop().restore()};var Xi,Ir=h.__private__.newObject=function(){var A=_n();return Pn(A,!0),A},_n=h.__private__.newObjectDeferred=function(){return ne++,se[ne]=function(){return ie},ne},Pn=function(A,M){return M=typeof M=="boolean"&&M,se[A]=ie,M&&G(A+" 0 obj"),A},kl=h.__private__.newAdditionalObject=function(){var A={objId:_n(),content:""};return me.push(A),A},xo=_n(),_a=_n(),Ja=h.__private__.decodeColorString=function(A){var M=A.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length!==5||M[4]!=="k"&&M[4]!=="K"||(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var te=parseFloat(M[0]);M=[te,te,te,"r"]}for(var oe="#",ge=0;ge<3;ge++)oe+=("0"+Math.floor(255*parseFloat(M[ge])).toString(16)).slice(-2);return oe},Sa=h.__private__.encodeColorString=function(A){var M;typeof A=="string"&&(A={ch1:A});var te=A.ch1,oe=A.ch2,ge=A.ch3,Ae=A.ch4,ke=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var Ye=new mR(te);if(Ye.ok)te=Ye.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var et=parseInt(te.substr(1),16);te=et>>16&255,oe=et>>8&255,ge=255&et}if(oe===void 0||Ae===void 0&&te===oe&&oe===ge)M=typeof te=="string"?te+" "+ke[0]:A.precision===2?P(te/255)+" "+ke[0]:I(te/255)+" "+ke[0];else if(Ae===void 0||er(Ae)==="object"){if(Ae&&!isNaN(Ae.a)&&Ae.a===0)return["1.","1.","1.",ke[1]].join(" ");M=typeof te=="string"?[te,oe,ge,ke[1]].join(" "):A.precision===2?[P(te/255),P(oe/255),P(ge/255),ke[1]].join(" "):[I(te/255),I(oe/255),I(ge/255),ke[1]].join(" ")}else M=typeof te=="string"?[te,oe,ge,Ae,ke[2]].join(" "):A.precision===2?[P(te),P(oe),P(ge),P(Ae),ke[2]].join(" "):[I(te),I(oe),I(ge),I(Ae),ke[2]].join(" ");return M},Aa=h.__private__.getFilters=function(){return s},Ji=h.__private__.putStream=function(A){var M=(A=A||{}).data||"",te=A.filters||Aa(),oe=A.alreadyAppliedFilters||[],ge=A.addLength1||!1,Ae=M.length,ke=A.objectId,Ye=function(ln){return ln};if(u!==null&&ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Ye=zr.encryptor(ke,0));var et={};te===!0&&(te=["FlateEncode"]);var gt=A.additionalKeyValues||[],wt=(et=nt.API.processDataByFilters!==void 0?nt.API.processDataByFilters(M,te):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(oe)?oe.join(" "):oe.toString());if(et.data.length!==0&&(gt.push({key:"Length",value:et.data.length}),ge===!0&&gt.push({key:"Length1",value:Ae})),wt.length!=0)if(wt.split("/").length-1==1)gt.push({key:"Filter",value:wt});else{gt.push({key:"Filter",value:"["+wt+"]"});for(var Gt=0;Gt<gt.length;Gt+=1)if(gt[Gt].key==="DecodeParms"){for(var Pr=[],Qr=0;Qr<et.reverseChain.split("/").length-1;Qr+=1)Pr.push("null");Pr.push(gt[Gt].value),gt[Gt].value="["+Pr.join(" ")+"]"}}G("<<");for(var hr=0;hr<gt.length;hr++)G("/"+gt[hr].key+" "+gt[hr].value);G(">>"),et.data.length!==0&&(G("stream"),G(Ye(et.data)),G("endstream"))},Pl=h.__private__.putPage=function(A){var M=A.number,te=A.data,oe=A.objId,ge=A.contentsObjId;Pn(oe,!0),G("<</Type /Page"),G("/Parent "+A.rootDictionaryObjId+" 0 R"),G("/Resources "+A.resourceDictionaryObjId+" 0 R"),G("/MediaBox ["+parseFloat(L(A.mediaBox.bottomLeftX))+" "+parseFloat(L(A.mediaBox.bottomLeftY))+" "+L(A.mediaBox.topRightX)+" "+L(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&G("/CropBox ["+L(A.cropBox.bottomLeftX)+" "+L(A.cropBox.bottomLeftY)+" "+L(A.cropBox.topRightX)+" "+L(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&G("/BleedBox ["+L(A.bleedBox.bottomLeftX)+" "+L(A.bleedBox.bottomLeftY)+" "+L(A.bleedBox.topRightX)+" "+L(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&G("/TrimBox ["+L(A.trimBox.bottomLeftX)+" "+L(A.trimBox.bottomLeftY)+" "+L(A.trimBox.topRightX)+" "+L(A.trimBox.topRightY)+"]"),A.artBox!==null&&G("/ArtBox ["+L(A.artBox.bottomLeftX)+" "+L(A.artBox.bottomLeftY)+" "+L(A.artBox.topRightX)+" "+L(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&G("/UserUnit "+A.userUnit),Kt.publish("putPage",{objId:oe,pageContext:yt[M],pageNumber:M,page:te}),G("/Contents "+ge+" 0 R"),G(">>"),G("endobj");var Ae=te.join(`
`);return j===_&&(Ae+=`
Q`),Pn(ge,!0),Ji({data:Ae,filters:Aa(),objectId:ge}),G("endobj"),oe},Za=h.__private__.putPages=function(){var A,M,te=[];for(A=1;A<=or;A++)yt[A].objId=_n(),yt[A].contentsObjId=_n();for(A=1;A<=or;A++)te.push(Pl({number:A,data:xe[A],objId:yt[A].objId,contentsObjId:yt[A].contentsObjId,mediaBox:yt[A].mediaBox,cropBox:yt[A].cropBox,bleedBox:yt[A].bleedBox,trimBox:yt[A].trimBox,artBox:yt[A].artBox,userUnit:yt[A].userUnit,rootDictionaryObjId:xo,resourceDictionaryObjId:_a}));Pn(xo,!0),G("<</Type /Pages");var oe="/Kids [";for(M=0;M<or;M++)oe+=te[M]+" 0 R ";G(oe+"]"),G("/Count "+or),G(">>"),G("endobj"),Kt.publish("postPutPages")},El=function(A){Kt.publish("putFont",{font:A,out:G,newObject:Ir,putStream:Ji}),A.isAlreadyPutted!==!0&&(A.objectNumber=Ir(),G("<<"),G("/Type /Font"),G("/BaseFont /"+Tu(A.postScriptName)),G("/Subtype /Type1"),typeof A.encoding=="string"&&G("/Encoding /"+A.encoding),G("/FirstChar 32"),G("/LastChar 255"),G(">>"),G("endobj"))},ru=function(A){A.objectNumber=Ir();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[L(A.x),L(A.y),L(A.x+A.width),L(A.y+A.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var te=A.pages[1].join(`
`);Ji({data:te,additionalKeyValues:M,objectId:A.objectNumber}),G("endobj")},nu=function(A,M){M||(M=21);var te=Ir(),oe=function(ke,Ye){var et,gt=[],wt=1/(Ye-1);for(et=0;et<1;et+=wt)gt.push(et);if(gt.push(1),ke[0].offset!=0){var Gt={offset:0,color:ke[0].color};ke.unshift(Gt)}if(ke[ke.length-1].offset!=1){var Pr={offset:1,color:ke[ke.length-1].color};ke.push(Pr)}for(var Qr="",hr=0,ln=0;ln<gt.length;ln++){for(et=gt[ln];et>ke[hr+1].offset;)hr++;var en=ke[hr].offset,En=(et-en)/(ke[hr+1].offset-en),Qi=ke[hr].color,fi=ke[hr+1].color;Qr+=V(Math.round((1-En)*Qi[0]+En*fi[0]).toString(16))+V(Math.round((1-En)*Qi[1]+En*fi[1]).toString(16))+V(Math.round((1-En)*Qi[2]+En*fi[2]).toString(16))}return Qr.trim()}(A.colors,M),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+M+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ji({data:oe,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),G("endobj"),A.objectNumber=Ir(),G("<< /ShadingType "+A.type),G("/ColorSpace /DeviceRGB");var Ae="/Coords ["+L(parseFloat(A.coords[0]))+" "+L(parseFloat(A.coords[1]))+" ";A.type===2?Ae+=L(parseFloat(A.coords[2]))+" "+L(parseFloat(A.coords[3])):Ae+=L(parseFloat(A.coords[2]))+" "+L(parseFloat(A.coords[3]))+" "+L(parseFloat(A.coords[4]))+" "+L(parseFloat(A.coords[5])),G(Ae+="]"),A.matrix&&G("/Matrix ["+A.matrix.toString()+"]"),G("/Function "+te+" 0 R"),G("/Extend [true true]"),G(">>"),G("endobj")},iu=function(A,M){var te=_n(),oe=Ir();M.push({resourcesOid:te,objectOid:oe}),A.objectNumber=oe;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+A.boundingBox.map(L).join(" ")+"]"}),ge.push({key:"XStep",value:L(A.xStep)}),ge.push({key:"YStep",value:L(A.yStep)}),ge.push({key:"Resources",value:te+" 0 R"}),A.matrix&&ge.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Ji({data:A.stream,additionalKeyValues:ge,objectId:A.objectNumber}),G("endobj")},b1=function(A){for(var M in A.objectNumber=Ir(),G("<<"),A)switch(M){case"opacity":G("/ca "+P(A[M]));break;case"stroke-opacity":G("/CA "+P(A[M]))}G(">>"),G("endobj")},xd=function(A){Pn(A.resourcesOid,!0),G("<<"),G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var M in G("/Font <<"),tt)tt.hasOwnProperty(M)&&(f===!1||f===!0&&p.hasOwnProperty(M))&&G("/"+M+" "+tt[M].objectNumber+" 0 R");G(">>")}(),function(){if(Object.keys(ct).length>0){for(var M in G("/Shading <<"),ct)ct.hasOwnProperty(M)&&ct[M]instanceof hc&&ct[M].objectNumber>=0&&G("/"+M+" "+ct[M].objectNumber+" 0 R");Kt.publish("putShadingPatternDict"),G(">>")}}(),function(M){if(Object.keys(ct).length>0){for(var te in G("/Pattern <<"),ct)ct.hasOwnProperty(te)&&ct[te]instanceof h.TilingPattern&&ct[te].objectNumber>=0&&ct[te].objectNumber<M&&G("/"+te+" "+ct[te].objectNumber+" 0 R");Kt.publish("putTilingPatternDict"),G(">>")}}(A.objectOid),function(){if(Object.keys(Nt).length>0){var M;for(M in G("/ExtGState <<"),Nt)Nt.hasOwnProperty(M)&&Nt[M].objectNumber>=0&&G("/"+M+" "+Nt[M].objectNumber+" 0 R");Kt.publish("putGStateDict"),G(">>")}}(),function(){for(var M in G("/XObject <<"),Dn)Dn.hasOwnProperty(M)&&Dn[M].objectNumber>=0&&G("/"+M+" "+Dn[M].objectNumber+" 0 R");Kt.publish("putXobjectDict"),G(">>")}(),G(">>"),G("endobj")},ym=function(A){jt[A.fontName]=jt[A.fontName]||{},jt[A.fontName][A.fontStyle]=A.id},bm=function(A,M,te,oe,ge){var Ae={id:"F"+(Object.keys(tt).length+1).toString(10),postScriptName:A,fontName:M,fontStyle:te,encoding:oe,isStandardFont:ge||!1,metadata:{}};return Kt.publish("addFont",{font:Ae,instance:this}),tt[Ae.id]=Ae,ym(Ae),Ae.id},Zi=h.__private__.pdfEscape=h.pdfEscape=function(A,M){return function(te,oe){var ge,Ae,ke,Ye,et,gt,wt,Gt,Pr;if(ke=(oe=oe||{}).sourceEncoding||"Unicode",et=oe.outputEncoding,(oe.autoencode||et)&&tt[at].metadata&&tt[at].metadata[ke]&&tt[at].metadata[ke].encoding&&(Ye=tt[at].metadata[ke].encoding,!et&&tt[at].encoding&&(et=tt[at].encoding),!et&&Ye.codePages&&(et=Ye.codePages[0]),typeof et=="string"&&(et=Ye[et]),et)){for(wt=!1,gt=[],ge=0,Ae=te.length;ge<Ae;ge++)(Gt=et[te.charCodeAt(ge)])?gt.push(String.fromCharCode(Gt)):gt.push(te[ge]),gt[ge].charCodeAt(0)>>8&&(wt=!0);te=gt.join("")}for(ge=te.length;wt===void 0&&ge!==0;)te.charCodeAt(ge-1)>>8&&(wt=!0),ge--;if(!wt)return te;for(gt=oe.noBOM?[]:[254,255],ge=0,Ae=te.length;ge<Ae;ge++){if((Pr=(Gt=te.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+te+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");gt.push(Pr),gt.push(Gt-(Pr<<8))}return String.fromCharCode.apply(void 0,gt)}(A,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wd=h.__private__.beginPage=function(A){xe[++or]=[],yt[or]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},wm(or),ue(xe[B])},xm=function(A,M){var te,oe,ge;switch(r=M||r,typeof A=="string"&&(te=y(A.toLowerCase()),Array.isArray(te)&&(oe=te[0],ge=te[1])),Array.isArray(A)&&(oe=A[0]*ht,ge=A[1]*ht),isNaN(oe)&&(oe=i[0],ge=i[1]),(oe>14400||ge>14400)&&(ur.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),oe=Math.min(14400,oe),ge=Math.min(14400,ge)),i=[oe,ge],r.substr(0,1)){case"l":ge>oe&&(i=[ge,oe]);break;case"p":oe>ge&&(i=[ge,oe])}wd(i),k1(Nd),G(su),kd!==0&&G(kd+" J"),Pd!==0&&G(Pd+" j"),Kt.publish("addPage",{pageNumber:or})},_d=function(A){A>0&&A<=or&&(xe.splice(A,1),yt.splice(A,1),or--,B>or&&(B=or),this.setPage(B))},wm=function(A){A>0&&A<=or&&(B=A)},_m=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return xe.length-1},Sm=function(A,M,te){var oe,ge=void 0;return te=te||{},A=A!==void 0?A:tt[at].fontName,M=M!==void 0?M:tt[at].fontStyle,oe=A.toLowerCase(),jt[oe]!==void 0&&jt[oe][M]!==void 0?ge=jt[oe][M]:jt[A]!==void 0&&jt[A][M]!==void 0?ge=jt[A][M]:te.disableWarning===!1&&ur.warn("Unable to look up font label for font '"+A+"', '"+M+"'. Refer to getFontList() for available fonts."),ge||te.noFallback||(ge=jt.times[M])==null&&(ge=jt.times.normal),ge},au=h.__private__.putInfo=function(){var A=Ir(),M=function(oe){return oe};for(var te in u!==null&&(M=zr.encryptor(A,0)),G("<<"),G("/Producer ("+Zi(M("jsPDF "+nt.version))+")"),kt)kt.hasOwnProperty(te)&&kt[te]&&G("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+Zi(M(kt[te]))+")");G("/CreationDate ("+Zi(M(H))+")"),G(">>"),G("endobj")},x1=h.__private__.putCatalog=function(A){var M=(A=A||{}).rootDictionaryObjId||xo;switch(Ir(),G("<<"),G("/Type /Catalog"),G("/Pages "+M+" 0 R"),Ue||(Ue="fullwidth"),Ue){case"fullwidth":G("/OpenAction [3 0 R /FitH null]");break;case"fullheight":G("/OpenAction [3 0 R /FitV null]");break;case"fullpage":G("/OpenAction [3 0 R /Fit]");break;case"original":G("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+Ue;te.substr(te.length-1)==="%"&&(Ue=parseInt(Ue)/100),typeof Ue=="number"&&G("/OpenAction [3 0 R /XYZ null null "+P(Ue)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":G("/PageLayout /OneColumn");break;case"single":G("/PageLayout /SinglePage");break;case"two":case"twoleft":G("/PageLayout /TwoColumnLeft");break;case"tworight":G("/PageLayout /TwoColumnRight")}De&&G("/PageMode /"+De),Kt.publish("putCatalog"),G(">>"),G("endobj")},Zr=h.__private__.putTrailer=function(){G("trailer"),G("<<"),G("/Size "+(ne+1)),G("/Root "+ne+" 0 R"),G("/Info "+(ne-1)+" 0 R"),u!==null&&G("/Encrypt "+zr.oid+" 0 R"),G("/ID [ <"+J+"> <"+J+"> ]"),G(">>")},Am=h.__private__.putHeader=function(){G("%PDF-"+g),G("%")},jm=h.__private__.putXRef=function(){var A="0000000000";G("xref"),G("0 "+(ne+1)),G("0000000000 65535 f ");for(var M=1;M<=ne;M++)typeof se[M]=="function"?G((A+se[M]()).slice(-10)+" 00000 n "):se[M]!==void 0?G((A+se[M]).slice(-10)+" 00000 n "):G("0000000000 00000 n ")},Os=h.__private__.buildDocument=function(){var A;ne=0,ie=0,de=[],se=[],me=[],xo=_n(),_a=_n(),ue(de),Kt.publish("buildDocument"),Am(),Za(),function(){Kt.publish("putAdditionalObjects");for(var te=0;te<me.length;te++){var oe=me[te];Pn(oe.objId,!0),G(oe.content),G("endobj")}Kt.publish("postPutAdditionalObjects")}(),A=[],function(){for(var te in tt)tt.hasOwnProperty(te)&&(f===!1||f===!0&&p.hasOwnProperty(te))&&El(tt[te])}(),function(){var te;for(te in Nt)Nt.hasOwnProperty(te)&&b1(Nt[te])}(),function(){for(var te in Dn)Dn.hasOwnProperty(te)&&ru(Dn[te])}(),function(te){var oe;for(oe in ct)ct.hasOwnProperty(oe)&&(ct[oe]instanceof hc?nu(ct[oe]):ct[oe]instanceof Xu&&iu(ct[oe],te))}(A),Kt.publish("putResources"),A.forEach(xd),xd({resourcesOid:_a,objectOid:Number.MAX_SAFE_INTEGER}),Kt.publish("postPutResources"),u!==null&&(zr.oid=Ir(),G("<<"),G("/Filter /Standard"),G("/V "+zr.v),G("/R "+zr.r),G("/U <"+zr.toHexString(zr.U)+">"),G("/O <"+zr.toHexString(zr.O)+">"),G("/P "+zr.P),G(">>"),G("endobj")),au(),x1();var M=ie;return jm(),Zr(),G("startxref"),G(""+M),G("%%EOF"),ue(xe[B]),de.join(`
`)},Cl=h.__private__.getBlob=function(A){return new Blob([Fe(A)],{type:"application/pdf"})},ja=h.output=h.__private__.output=(Xi=function(A,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",A){case void 0:return Os();case"save":h.save(M.filename);break;case"arraybuffer":return Fe(Os());case"blob":return Cl(Os());case"bloburi":case"bloburl":if(pt.URL!==void 0&&typeof pt.URL.createObjectURL=="function")return pt.URL&&pt.URL.createObjectURL(Cl(Os()))||void 0;ur.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",oe=Os();try{te=zP(oe)}catch{te=zP(unescape(encodeURIComponent(oe)))}return"data:application/pdf;filename="+M.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ae=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(ge=M.pdfObjectUrl,Ae="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+Ae+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",Ye=pt.open();return Ye!==null&&Ye.document.write(ke),Ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',gt=pt.open();if(gt!==null){gt.document.write(et);var wt=this;gt.document.documentElement.querySelector("#pdfViewer").onload=function(){gt.document.title=M.filename,gt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(wt.output("bloburl"))}}return gt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',Pr=pt.open();if(Pr!==null&&(Pr.document.write(Gt),Pr.document.title=M.filename),Pr||typeof safari>"u")return Pr;break;case"datauri":case"dataurl":return pt.document.location.href=this.output("datauristring",M);default:return null}},Xi.foo=function(){try{return Xi.apply(this,arguments)}catch(te){var A=te.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var M="Error in function "+A.split(`
`)[0].split("<")[0]+": "+te.message;if(!pt.console)throw new Error(M);pt.console.error(M,te),pt.alert&&alert(M)}},Xi.foo.bar=Xi,Xi.foo),Tl=function(A){return Array.isArray(Ol)===!0&&Ol.indexOf(A)>-1};switch(n){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=Tl("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ht=n}var zr=null;fe(),q();var Sd=h.__private__.getPageInfo=h.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yt[A].objId,pageNumber:A,pageContext:yt[A]}},w1=h.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in yt)if(yt[M].objId===A)break;return Sd(M)},_1=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:yt[B].objId,pageNumber:B,pageContext:yt[B]}};h.addPage=function(){return xm.apply(this,arguments),this},h.setPage=function(){return wm.apply(this,arguments),ue.call(this,xe[B]),this},h.insertPage=function(A){return this.addPage(),this.movePage(B,A),this},h.movePage=function(A,M){var te,oe;if(A>M){te=xe[A],oe=yt[A];for(var ge=A;ge>M;ge--)xe[ge]=xe[ge-1],yt[ge]=yt[ge-1];xe[M]=te,yt[M]=oe,this.setPage(M)}else if(A<M){te=xe[A],oe=yt[A];for(var Ae=A;Ae<M;Ae++)xe[Ae]=xe[Ae+1],yt[Ae]=yt[Ae+1];xe[M]=te,yt[M]=oe,this.setPage(M)}return this},h.deletePage=function(){return _d.apply(this,arguments),this},h.__private__.text=h.text=function(A,M,te,oe,ge){var Ae,ke,Ye,et,gt,wt,Gt,Pr,Qr,hr=(oe=oe||{}).scope||this;if(typeof A=="number"&&typeof M=="number"&&(typeof te=="string"||Array.isArray(te))){var ln=te;te=M,M=A,A=ln}if(arguments[3]instanceof ut==0?(Ye=arguments[4],et=arguments[5],er(Gt=arguments[3])==="object"&&Gt!==null||(typeof Ye=="string"&&(et=Ye,Ye=null),typeof Gt=="string"&&(et=Gt,Gt=null),typeof Gt=="number"&&(Ye=Gt,Gt=null),oe={flags:Gt,angle:Ye,align:et})):(E("The transform parameter of text() with a Matrix value"),Qr=ge),isNaN(M)||isNaN(te)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return hr;var en,En="",Qi=typeof oe.lineHeightFactor=="number"?oe.lineHeightFactor:Il,fi=hr.internal.scaleFactor;function Lm(Yt){return Yt=Yt.split("	").join(Array(oe.TabLen||9).join(" ")),Zi(Yt,Gt)}function uu(Yt){for(var lr,Wr=Yt.concat(),cn=[],Is=Wr.length;Is--;)typeof(lr=Wr.shift())=="string"?cn.push(lr):Array.isArray(Yt)&&(lr.length===1||lr[1]===void 0&&lr[2]===void 0)?cn.push(lr[0]):cn.push([lr[0],lr[1],lr[2]]);return cn}function Fl(Yt,lr){var Wr;if(typeof Yt=="string")Wr=lr(Yt)[0];else if(Array.isArray(Yt)){for(var cn,Is,Ud=Yt.concat(),hu=[],Rm=Ud.length;Rm--;)typeof(cn=Ud.shift())=="string"?hu.push(lr(cn)[0]):Array.isArray(cn)&&typeof cn[0]=="string"&&(Is=lr(cn[0],cn[1],cn[2]),hu.push([Is[0],Is[1],Is[2]]));Wr=hu}return Wr}var So=!1,Ul=!0;if(typeof A=="string")So=!0;else if(Array.isArray(A)){var zl=A.concat();ke=[];for(var ql,Bn=zl.length;Bn--;)(typeof(ql=zl.shift())!="string"||Array.isArray(ql)&&typeof ql[0]!="string")&&(Ul=!1);So=Ul}if(So===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Wl=Ne/hr.internal.scaleFactor,Hl=Wl*(Qi-1);switch(oe.baseline){case"bottom":te-=Hl;break;case"top":te+=Wl-Hl;break;case"hanging":te+=Wl-2*Hl;break;case"middle":te+=Wl/2-Hl}if((wt=oe.maxWidth||0)>0&&(typeof A=="string"?A=hr.splitTextToSize(A,wt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(Yt,lr){return Yt.concat(hr.splitTextToSize(lr,wt))},[]))),Ae={text:A,x:M,y:te,options:oe,mutex:{pdfEscape:Zi,activeFontKey:at,fonts:tt,activeFontSize:Ne}},Kt.publish("preProcessText",Ae),A=Ae.text,Ye=(oe=Ae.options).angle,Qr instanceof ut==0&&Ye&&typeof Ye=="number"){Ye*=Math.PI/180,oe.rotationDirection===0&&(Ye=-Ye),j===_&&(Ye=-Ye);var Td=Math.cos(Ye),Ld=Math.sin(Ye);Qr=new ut(Td,Ld,-Ld,Td,0,0)}else Ye&&Ye instanceof ut&&(Qr=Ye);j!==_||Qr||(Qr=Ns),(gt=oe.charSpace||lu)!==void 0&&(En+=L(F(gt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Pr=oe.horizontalScale)!==void 0&&(En+=L(100*Pr)+` Tz
`),oe.lang;var $r=-1,Ts=oe.renderingMode!==void 0?oe.renderingMode:oe.stroke,fu=hr.internal.getCurrentPageInfo().pageContext;switch(Ts){case 0:case!1:case"fill":$r=0;break;case 1:case!0:case"stroke":$r=1;break;case 2:case"fillThenStroke":$r=2;break;case 3:case"invisible":$r=3;break;case 4:case"fillAndAddForClipping":$r=4;break;case 5:case"strokeAndAddPathForClipping":$r=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$r=6;break;case 7:case"addToPathForClipping":$r=7}var Im=fu.usedRenderingMode!==void 0?fu.usedRenderingMode:-1;$r!==-1?En+=$r+` Tr
`:Im!==-1&&(En+=`0 Tr
`),$r!==-1&&(fu.usedRenderingMode=$r),et=oe.align||"left";var ea,Vl=Ne*Qi,Id=hr.internal.pageSize.getWidth(),$d=tt[at];gt=oe.charSpace||lu,wt=oe.maxWidth||0,Gt=Object.assign({autoencode:!0,noBOM:!0},oe.flags);var Ao=[],Gl=function(Yt){return hr.getStringUnitWidth(Yt,{font:$d,charSpace:gt,fontSize:Ne,doKerning:!1})*Ne/fi};if(Object.prototype.toString.call(A)==="[object Array]"){var _i;ke=uu(A),et!=="left"&&(ea=ke.map(Gl));var Si,jo=0;if(et==="right"){M-=ea[0],A=[],Bn=ke.length;for(var Ls=0;Ls<Bn;Ls++)Ls===0?(Si=ks(M),_i=Ps(te)):(Si=F(jo-ea[Ls]),_i=-Vl),A.push([ke[Ls],Si,_i]),jo=ea[Ls]}else if(et==="center"){M-=ea[0]/2,A=[],Bn=ke.length;for(var No=0;No<Bn;No++)No===0?(Si=ks(M),_i=Ps(te)):(Si=F((jo-ea[No])/2),_i=-Vl),A.push([ke[No],Si,_i]),jo=ea[No]}else if(et==="left"){A=[],Bn=ke.length;for(var Rd=0;Rd<Bn;Rd++)A.push(ke[Rd])}else if(et==="justify"&&$d.encoding==="Identity-H"){A=[],Bn=ke.length,wt=wt!==0?wt:Id;for(var du=0,qr=0;qr<Bn;qr++)if(_i=qr===0?Ps(te):-Vl,Si=qr===0?ks(M):du,qr<Bn-1){var $m=F((wt-ea[qr])/(ke[qr].split(" ").length-1)),es=ke[qr].split(" ");A.push([es[0]+" ",Si,_i]),du=0;for(var ts=1;ts<es.length;ts++){var Md=(Gl(es[ts-1]+" "+es[ts])-Gl(es[ts]))*fi+$m;ts==es.length-1?A.push([es[ts],Md,0]):A.push([es[ts]+" ",Md,0]),du-=Md}}else A.push([ke[qr],Si,_i]);A.push(["",du,0])}else{if(et!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Bn=ke.length,wt=wt!==0?wt:Id,qr=0;qr<Bn;qr++){_i=qr===0?Ps(te):-Vl,Si=qr===0?ks(M):0;var Dd=ke[qr].split(" ").length-1,Bd=Dd>0?(wt-ea[qr])/Dd:0;qr<Bn-1?Ao.push(L(F(Bd))):Ao.push(0),A.push([ke[qr],Si,_i])}}}(typeof oe.R2L=="boolean"?oe.R2L:qe)===!0&&(A=Fl(A,function(Yt,lr,Wr){return[Yt.split("").reverse().join(""),lr,Wr]})),Ae={text:A,x:M,y:te,options:oe,mutex:{pdfEscape:Zi,activeFontKey:at,fonts:tt,activeFontSize:Ne}},Kt.publish("postProcessText",Ae),A=Ae.text,en=Ae.mutex.isHex||!1;var Fd=tt[at].encoding;Fd!=="WinAnsiEncoding"&&Fd!=="StandardEncoding"||(A=Fl(A,function(Yt,lr,Wr){return[Lm(Yt),lr,Wr]})),ke=uu(A),A=[];for(var Oo,ko,Po,Kl=Array.isArray(ke[0])?1:0,Eo="",Yl=function(Yt,lr,Wr){var cn="";return Wr instanceof ut?(Wr=typeof oe.angle=="number"?js(Wr,new ut(1,0,0,1,Yt,lr)):js(new ut(1,0,0,1,Yt,lr),Wr),j===_&&(Wr=js(new ut(1,0,0,-1,0,0),Wr)),cn=Wr.join(" ")+` Tm
`):cn=L(Yt)+" "+L(lr)+` Td
`,cn},ta=0;ta<ke.length;ta++){switch(Eo="",Kl){case 1:Po=(en?"<":"(")+ke[ta][0]+(en?">":")"),Oo=parseFloat(ke[ta][1]),ko=parseFloat(ke[ta][2]);break;case 0:Po=(en?"<":"(")+ke[ta]+(en?">":")"),Oo=ks(M),ko=Ps(te)}Ao!==void 0&&Ao[ta]!==void 0&&(Eo=Ao[ta]+` Tw
`),ta===0?A.push(Eo+Yl(Oo,ko,Qr)+Po):Kl===0?A.push(Eo+Po):Kl===1&&A.push(Eo+Yl(Oo,ko,Qr)+Po)}A=Kl===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var rs=`BT
/`;return rs+=at+" "+Ne+` Tf
`,rs+=L(Ne*Qi)+` TL
`,rs+=$l+`
`,rs+=En,rs+=A,G(rs+="ET"),p[at]=!0,hr};var S1=h.__private__.clip=h.clip=function(A){return G(A==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return S1("evenodd")},h.__private__.discardPath=h.discardPath=function(){return G("n"),this};var Qa=h.__private__.isValidStyle=function(A){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(M=!0),M};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(A){return Qa(A)&&(c=A),this};var Nm=h.__private__.getStyle=h.getStyle=function(A){var M=c;switch(A){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=A}return M},Om=h.close=function(){return G("h"),this};h.stroke=function(){return G("S"),this},h.fill=function(A){return wo("f",A),this},h.fillEvenOdd=function(A){return wo("f*",A),this},h.fillStroke=function(A){return wo("B",A),this},h.fillStrokeEvenOdd=function(A){return wo("B*",A),this};var wo=function(A,M){er(M)==="object"?j1(M,A):G(A)},Ad=function(A){A===null||j===_&&A===void 0||(A=Nm(A),G(A))};function A1(A,M,te,oe,ge){var Ae=new Xu(M||this.boundingBox,te||this.xStep,oe||this.yStep,this.gState,ge||this.matrix);Ae.stream=this.stream;var ke=A+"$$"+this.cloneIndex+++"$$";return Yi(ke,Ae),Ae}var j1=function(A,M){var te=Rt[A.key],oe=ct[te];if(oe instanceof hc)G("q"),G(N1(M)),oe.gState&&h.setGState(oe.gState),G(A.matrix.toString()+" cm"),G("/"+te+" sh"),G("Q");else if(oe instanceof Xu){var ge=new ut(1,0,0,-1,0,Bl());A.matrix&&(ge=ge.multiply(A.matrix||Ns),te=A1.call(oe,A.key,A.boundingBox,A.xStep,A.yStep,ge).id),G("q"),G("/Pattern cs"),G("/"+te+" scn"),oe.gState&&h.setGState(oe.gState),G(M),G("Q")}},N1=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},jd=h.moveTo=function(A,M){return G(L(F(A))+" "+L(R(M))+" m"),this},Ll=h.lineTo=function(A,M){return G(L(F(A))+" "+L(R(M))+" l"),this},_o=h.curveTo=function(A,M,te,oe,ge,Ae){return G([L(F(A)),L(R(M)),L(F(te)),L(R(oe)),L(F(ge)),L(R(Ae)),"c"].join(" ")),this};h.__private__.line=h.line=function(A,M,te,oe,ge){if(isNaN(A)||isNaN(M)||isNaN(te)||isNaN(oe)||!Qa(ge))throw new Error("Invalid arguments passed to jsPDF.line");return j===w?this.lines([[te-A,oe-M]],A,M,[1,1],ge||"S"):this.lines([[te-A,oe-M]],A,M,[1,1]).stroke()},h.__private__.lines=h.lines=function(A,M,te,oe,ge,Ae){var ke,Ye,et,gt,wt,Gt,Pr,Qr,hr,ln,en,En;if(typeof A=="number"&&(En=te,te=M,M=A,A=En),oe=oe||[1,1],Ae=Ae||!1,isNaN(M)||isNaN(te)||!Array.isArray(A)||!Array.isArray(oe)||!Qa(ge)||typeof Ae!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(jd(M,te),ke=oe[0],Ye=oe[1],gt=A.length,ln=M,en=te,et=0;et<gt;et++)(wt=A[et]).length===2?(ln=wt[0]*ke+ln,en=wt[1]*Ye+en,Ll(ln,en)):(Gt=wt[0]*ke+ln,Pr=wt[1]*Ye+en,Qr=wt[2]*ke+ln,hr=wt[3]*Ye+en,ln=wt[4]*ke+ln,en=wt[5]*Ye+en,_o(Gt,Pr,Qr,hr,ln,en));return Ae&&Om(),Ad(ge),this},h.path=function(A){for(var M=0;M<A.length;M++){var te=A[M],oe=te.c;switch(te.op){case"m":jd(oe[0],oe[1]);break;case"l":Ll(oe[0],oe[1]);break;case"c":_o.apply(this,oe);break;case"h":Om()}}return this},h.__private__.rect=h.rect=function(A,M,te,oe,ge){if(isNaN(A)||isNaN(M)||isNaN(te)||isNaN(oe)||!Qa(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return j===w&&(oe=-oe),G([L(F(A)),L(R(M)),L(F(te)),L(F(oe)),"re"].join(" ")),Ad(ge),this},h.__private__.triangle=h.triangle=function(A,M,te,oe,ge,Ae,ke){if(isNaN(A)||isNaN(M)||isNaN(te)||isNaN(oe)||isNaN(ge)||isNaN(Ae)||!Qa(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-A,oe-M],[ge-te,Ae-oe],[A-ge,M-Ae]],A,M,[1,1],ke,!0),this},h.__private__.roundedRect=h.roundedRect=function(A,M,te,oe,ge,Ae,ke){if(isNaN(A)||isNaN(M)||isNaN(te)||isNaN(oe)||isNaN(ge)||isNaN(Ae)||!Qa(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ye=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*te),Ae=Math.min(Ae,.5*oe),this.lines([[te-2*ge,0],[ge*Ye,0,ge,Ae-Ae*Ye,ge,Ae],[0,oe-2*Ae],[0,Ae*Ye,-ge*Ye,Ae,-ge,Ae],[2*ge-te,0],[-ge*Ye,0,-ge,-Ae*Ye,-ge,-Ae],[0,2*Ae-oe],[0,-Ae*Ye,ge*Ye,-Ae,ge,-Ae]],A+ge,M,[1,1],ke,!0),this},h.__private__.ellipse=h.ellipse=function(A,M,te,oe,ge){if(isNaN(A)||isNaN(M)||isNaN(te)||isNaN(oe)||!Qa(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ae=4/3*(Math.SQRT2-1)*te,ke=4/3*(Math.SQRT2-1)*oe;return jd(A+te,M),_o(A+te,M-ke,A+Ae,M-oe,A,M-oe),_o(A-Ae,M-oe,A-te,M-ke,A-te,M),_o(A-te,M+ke,A-Ae,M+oe,A,M+oe),_o(A+Ae,M+oe,A+te,M+ke,A+te,M),Ad(ge),this},h.__private__.circle=h.circle=function(A,M,te,oe){if(isNaN(A)||isNaN(M)||isNaN(te)||!Qa(oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,M,te,te,oe)},h.setFont=function(A,M,te){return te&&(M=k(M,te)),at=Sm(A,M,{disableWarning:!1}),this};var O1=h.__private__.getFont=h.getFont=function(){return tt[Sm.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var A,M,te={};for(A in jt)if(jt.hasOwnProperty(A))for(M in te[A]=[],jt[A])jt[A].hasOwnProperty(M)&&te[A].push(M);return te},h.addFont=function(A,M,te,oe,ge){var Ae=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ae.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&Ae.indexOf(arguments[3])==-1&&(te=k(te,oe)),bm.call(this,A,M,te,ge=ge||"Identity-H")};var Il,Nd=t.lineWidth||.200025,bt=h.__private__.getLineWidth=h.getLineWidth=function(){return Nd},k1=h.__private__.setLineWidth=h.setLineWidth=function(A){return Nd=A,G(L(F(A))+" w"),this};h.__private__.setLineDash=nt.API.setLineDash=nt.API.setLineDashPattern=function(A,M){if(A=A||[],M=M||0,isNaN(M)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(te){return L(F(te))}).join(" "),M=L(F(M)),G("["+A+"] "+M+" d"),this};var P1=h.__private__.getLineHeight=h.getLineHeight=function(){return Ne*Il};h.__private__.getLineHeight=h.getLineHeight=function(){return Ne*Il};var E1=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Il=A),this},C1=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Il};E1(t.lineHeight);var ks=h.__private__.getHorizontalCoordinate=function(A){return F(A)},Ps=h.__private__.getVerticalCoordinate=function(A){return j===_?A:yt[B].mediaBox.topRightY-yt[B].mediaBox.bottomLeftY-F(A)},T1=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(A){return L(ks(A))},L1=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(A){return L(Ps(A))},su=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ja(su)},h.__private__.setStrokeColor=h.setDrawColor=function(A,M,te,oe){return su=Sa({ch1:A,ch2:M,ch3:te,ch4:oe,pdfColorType:"draw",precision:2}),G(su),this};var Od=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ja(Od)},h.__private__.setFillColor=h.setFillColor=function(A,M,te,oe){return Od=Sa({ch1:A,ch2:M,ch3:te,ch4:oe,pdfColorType:"fill",precision:2}),G(Od),this};var $l=t.textColor||"0 g",ou=h.__private__.getTextColor=h.getTextColor=function(){return Ja($l)};h.__private__.setTextColor=h.setTextColor=function(A,M,te,oe){return $l=Sa({ch1:A,ch2:M,ch3:te,ch4:oe,pdfColorType:"text",precision:3}),this};var lu=t.charSpace,I1=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(lu||0)};h.__private__.setCharSpace=h.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return lu=A,this};var kd=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(A){var M=h.CapJoinStyles[A];if(M===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return kd=M,G(M+" J"),this};var Pd=0;h.__private__.setLineJoin=h.setLineJoin=function(A){var M=h.CapJoinStyles[A];if(M===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pd=M,G(M+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return G(L(F(A))+" M"),this},h.GState=Qv,h.setGState=function(A){(A=typeof A=="string"?Nt[Ur[A]]:Rl(null,A)).equals(on)||(G("/"+A.id+" gs"),on=A)};var Rl=function(A,M){if(!A||!Ur[A]){var te=!1;for(var oe in Nt)if(Nt.hasOwnProperty(oe)&&Nt[oe].equals(M)){te=!0;break}if(te)M=Nt[oe];else{var ge="GS"+(Object.keys(Nt).length+1).toString(10);Nt[ge]=M,M.id=ge}return A&&(Ur[A]=M.id),Kt.publish("addGState",M),M}};h.addGState=function(A,M){return Rl(A,M),this},h.saveGraphicsState=function(){return G("q"),sr.push({key:at,size:Ne,color:$l}),this},h.restoreGraphicsState=function(){G("Q");var A=sr.pop();return at=A.key,Ne=A.size,$l=A.color,on=null,this},h.setCurrentTransformationMatrix=function(A){return G(A.toString()+" cm"),this},h.comment=function(A){return G("#"+A),this};var Ml=function(A,M){var te=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Ae){isNaN(Ae)||(te=parseFloat(Ae))}});var oe=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return oe},set:function(Ae){isNaN(Ae)||(oe=parseFloat(Ae))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(Ae){ge=Ae.toString()}}),this},Ed=function(A,M,te,oe){Ml.call(this,A,M),this.type="rect";var ge=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function(ke){isNaN(ke)||(ge=parseFloat(ke))}});var Ae=oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ae},set:function(ke){isNaN(ke)||(Ae=parseFloat(ke))}}),this},cu=function(){this.page=or,this.currentPage=B,this.pages=xe.slice(0),this.pagesContext=yt.slice(0),this.x=st,this.y=dr,this.matrix=Vt,this.width=km(B),this.height=Es(B),this.outputDestination=Pe,this.id="",this.objectNumber=-1};cu.prototype.restore=function(){or=this.page,B=this.currentPage,yt=this.pagesContext,xe=this.pages,st=this.x,dr=this.y,Vt=this.matrix,Pm(B,this.width),Cs(B,this.height),Pe=this.outputDestination};var Cd=function(A,M,te,oe,ge){Xa.push(new cu),or=B=0,xe=[],st=A,dr=M,Vt=ge,wd([te,oe])};for(var Dl in h.beginFormObject=function(A,M,te,oe,ge){return Cd(A,M,te,oe,ge),this},h.endFormObject=function(A){return function(M){if(As[M])Xa.pop().restore();else{var te=new cu,oe="Xo"+(Object.keys(Dn).length+1).toString(10);te.id=oe,As[M]=oe,Dn[oe]=te,Kt.publish("addFormObject",te),Xa.pop().restore()}}(A),this},h.doFormObject=function(A,M){var te=Dn[As[A]];return G("q"),G(M.toString()+" cm"),G("/"+te.id+" Do"),G("Q"),this},h.getFormObject=function(A){var M=Dn[As[A]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},h.save=function(A,M){return A=A||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(lc(Cl(Os()),A),typeof lc.unload=="function"&&pt.setTimeout&&setTimeout(lc.unload,911),this):new Promise(function(te,oe){try{var ge=lc(Cl(Os()),A);typeof lc.unload=="function"&&pt.setTimeout&&setTimeout(lc.unload,911),te(ge)}catch(Ae){oe(Ae.message)}})},nt.API)nt.API.hasOwnProperty(Dl)&&(Dl==="events"&&nt.API.events.length?function(A,M){var te,oe,ge;for(ge=M.length-1;ge!==-1;ge--)te=M[ge][0],oe=M[ge][1],A.subscribe.apply(A,[te].concat(typeof oe=="function"?[oe]:oe))}(Kt,nt.API.events):h[Dl]=nt.API[Dl]);function km(A){return yt[A].mediaBox.topRightX-yt[A].mediaBox.bottomLeftX}function Pm(A,M){yt[A].mediaBox.topRightX=M+yt[A].mediaBox.bottomLeftX}function Es(A){return yt[A].mediaBox.topRightY-yt[A].mediaBox.bottomLeftY}function Cs(A,M){yt[A].mediaBox.topRightY=M+yt[A].mediaBox.bottomLeftY}var Em=h.getPageWidth=function(A){return km(A=A||B)/ht},Cm=h.setPageWidth=function(A,M){Pm(A,M*ht)},Bl=h.getPageHeight=function(A){return Es(A=A||B)/ht},Tm=h.setPageHeight=function(A,M){Cs(A,M*ht)};return h.internal={pdfEscape:Zi,getStyle:Nm,getFont:O1,getFontSize:Ce,getCharSpace:I1,getTextColor:ou,getLineHeight:P1,getLineHeightFactor:C1,getLineWidth:bt,write:Re,getHorizontalCoordinate:ks,getVerticalCoordinate:Ps,getCoordinateString:T1,getVerticalCoordinateString:L1,collections:{},newObject:Ir,newAdditionalObject:kl,newObjectDeferred:_n,newObjectDeferredBegin:Pn,getFilters:Aa,putStream:Ji,events:Kt,scaleFactor:ht,pageSize:{getWidth:function(){return Em(B)},setWidth:function(A){Cm(B,A)},getHeight:function(){return Bl(B)},setHeight:function(A){Tm(B,A)}},encryptionOptions:u,encryption:zr,getEncryptor:function(A){return u!==null?zr.encryptor(A,0):function(M){return M}},output:ja,getNumberOfPages:_m,pages:xe,out:G,f2:P,f3:I,getPageInfo:Sd,getPageInfoByObjId:w1,getCurrentPageInfo:_1,getPDFVersion:v,Point:Ml,Rectangle:Ed,Matrix:ut,hasHotfix:Tl},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Em(B)},set:function(A){Cm(B,A)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Bl(B)},set:function(A){Tm(B,A)},enumerable:!0,configurable:!0}),(function(A){for(var M=0,te=Be.length;M<te;M++){var oe=bm.call(this,A[M][0],A[M][1],A[M][2],Be[M][3],!0);f===!1&&(p[oe]=!0);var ge=A[M][0].split("-");ym({id:oe,fontName:ge[0],fontStyle:ge[1]||""})}Kt.publish("addFonts",{fonts:tt,dictionary:jt})}).call(h,Be),at="F1",xm(i,r),Kt.publish("initialized"),h}Cu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Cu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Cu.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Cu.prototype.processOwnerPassword=function(t,e){return k5(O5(e).substr(0,5),t)},Cu.prototype.encryptor=function(t,e){var r=O5(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return k5(r,n)}},Qv.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||er(t)!==er(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},nt.API={events:[]},nt.version="3.0.3";var Dr=nt.API,QS=1,tu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},_t=function(t){return t.toFixed(2)},Uo=function(t){return t.toFixed(5)};Dr.__acroform__={};var wi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},VP=function(t){return t*QS},ss=function(t){var e=new bR,r=Ge.internal.getHeight(t)||0,n=Ge.internal.getWidth(t)||0;return e.BBox=[0,0,Number(_t(n)),Number(_t(r))],e},uye=Dr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},fye=Dr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},dye=Dr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Kr=Dr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return dye(t,e-1)},Yr=Dr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return uye(t,e-1)},Xr=Dr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return fye(t,e-1)},hye=Dr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(a)||0,[Number(_t(l.lowerLeft_X)),Number(_t(l.lowerLeft_Y)),Number(_t(l.upperRight_X)),Number(_t(l.upperRight_Y))]},pye=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=P5(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+_t(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=ss(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},P5=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var a=r,s=Ge.internal.getHeight(t)||0;s=s<0?-s:s;var o=Ge.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(P,I,F){if(P+1<i.length){var R=I+" "+i[P+1][0];return Vg(R,t,F).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var c,u,f=Vg("3",t,a).height,p=t.multiline?s-a:(s-f)/2,h=p+=2,g=0,v=0,x=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Vg(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var y="",w=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var j=!1;if(i[_].length!==1&&x!==i[_].length-1){if((f+2)*(w+2)+2>s)continue e;y+=i[_][x],j=!0,v=_,_--}else{y=(y+=i[_][x]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var S=parseInt(_),O=l(S,y,a),k=_>=i.length-1;if(O&&!k){y+=" ",x=0;continue}if(O||k){if(k)v=S;else if(t.multiline&&(f+2)*(w+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(w+2)+2>s)continue e;v=S}}for(var L="",E=g;E<=v;E++){var $=i[E];if(t.multiline){if(E===v){L+=$[x]+" ",x=(x+1)%$.length;continue}if(E===g){L+=$[$.length-1]+" ";continue}}L+=$[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,u=Vg(L,t,a).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=_t(c)+" "+_t(h)+` Td
`,e+="("+tu(L)+`) Tj
`,e+=-_t(c)+` 0 Td
`,h=-(a+2),u=0,g=j?v:v+1,w++,y=""}break}return n.text=e,n.fontSize=a,n},Vg=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},mye={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gye=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},vye=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ka.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(mye)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");QS=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new xR,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&gye(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=hye(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ge.createDefaultAppearanceStream(o),er(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=pye(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var h=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var g=h[s];typeof g=="function"&&(g=g.call(i,o)),f+="/"+s+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(i,o)),f+="/"+s+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(v,x){for(var y in v)if(v.hasOwnProperty(y)){var w=y,_=v[y];x.internal.newObjectDeferredBegin(_.objId,!0),er(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete v[w]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},yR=Dr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),er(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+tu(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Nx=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+tu(n(t))+")"},fs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};fs.prototype.toString=function(){return this.objId+" 0 R"},fs.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},fs.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:yR(i,this.objId,this.scope)}):i instanceof fs?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var bR=function(){fs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};wi(bR,fs);var xR=function(){fs.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+tu(r(t))+")"}},set:function(r){t=r}})};wi(xR,fs);var Ka=function t(){fs.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Kr(e,3)},set:function(y){y?this.F=Yr(e,3):this.F=Xr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof ey)return;a="FieldObject"+t.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+tu(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/QS:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof ey||this instanceof Nc))return Nx(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof jn==0?Nx(p,this.objId,this.scope):p},set:function(y){y=y.toString(),p=this instanceof jn==0?y.substr(0,1)==="("?Nu(y.substr(1,y.length-2)):Nu(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof jn==1?Nu(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof jn==1?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof jn==0?Nx(h,this.objId,this.scope):h},set:function(y){y=y.toString(),h=this instanceof jn==0?y.substr(0,1)==="("?Nu(y.substr(1,y.length-2)):Nu(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof jn==1?Nu(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof jn==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(y){y=!!y,v=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,1)},set:function(y){y?this.Ff=Yr(this.Ff,1):this.Ff=Xr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,2)},set:function(y){y?this.Ff=Yr(this.Ff,2):this.Ff=Xr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,3)},set:function(y){y?this.Ff=Yr(this.Ff,3):this.Ff=Xr(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');x=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(x){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};wi(Ka,fs);var cf=function(){Ka.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return yR(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,18)},set:function(r){r?this.Ff=Yr(this.Ff,18):this.Ff=Xr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Yr(this.Ff,19):this.Ff=Xr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,20)},set:function(r){r?(this.Ff=Yr(this.Ff,20),e.sort()):this.Ff=Xr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,22)},set:function(r){r?this.Ff=Yr(this.Ff,22):this.Ff=Xr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,23)},set:function(r){r?this.Ff=Yr(this.Ff,23):this.Ff=Xr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,27)},set:function(r){r?this.Ff=Yr(this.Ff,27):this.Ff=Xr(this.Ff,27)}}),this.hasAppearanceStream=!1};wi(cf,Ka);var uf=function(){cf.call(this),this.fontName="helvetica",this.combo=!1};wi(uf,cf);var ff=function(){uf.call(this),this.combo=!0};wi(ff,uf);var u0=function(){ff.call(this),this.edit=!0};wi(u0,ff);var jn=function(){Ka.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,15)},set:function(r){r?this.Ff=Yr(this.Ff,15):this.Ff=Xr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,16)},set:function(r){r?this.Ff=Yr(this.Ff,16):this.Ff=Xr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,17)},set:function(r){r?this.Ff=Yr(this.Ff,17):this.Ff=Xr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,26)},set:function(r){r?this.Ff=Yr(this.Ff,26):this.Ff=Xr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+tu(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){er(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};wi(jn,Ka);var f0=function(){jn.call(this),this.pushButton=!0};wi(f0,jn);var df=function(){jn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};wi(df,jn);var ey=function(){var t,e;Ka.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+tu(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){er(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};wi(ey,Ka),df.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},df.prototype.createOption=function(t){var e=new ey;return e.Parent=this,e.optionName=t,this.Kids.push(e),yye.call(this.scope,e),e};var d0=function(){jn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ge.CheckBox.createAppearanceStream()};wi(d0,jn);var Nc=function(){Ka.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,13)},set:function(e){e?this.Ff=Yr(this.Ff,13):this.Ff=Xr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,21)},set:function(e){e?this.Ff=Yr(this.Ff,21):this.Ff=Xr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,23)},set:function(e){e?this.Ff=Yr(this.Ff,23):this.Ff=Xr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,24)},set:function(e){e?this.Ff=Yr(this.Ff,24):this.Ff=Xr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,25)},set:function(e){e?this.Ff=Yr(this.Ff,25):this.Ff=Xr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,26)},set:function(e){e?this.Ff=Yr(this.Ff,26):this.Ff=Xr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};wi(Nc,Ka);var h0=function(){Nc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,14)},set:function(t){t?this.Ff=Yr(this.Ff,14):this.Ff=Xr(this.Ff,14)}}),this.password=!0};wi(h0,Nc);var Ge={CheckBox:{createAppearanceStream:function(){return{N:{On:Ge.CheckBox.YesNormal},D:{On:Ge.CheckBox.YesPushDown,Off:Ge.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ss(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=P5(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+_t(Ge.internal.getWidth(t))+" "+_t(Ge.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+_t(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=ss(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=Ge.internal.getHeight(t),s=Ge.internal.getWidth(t),o=P5(t,t.caption);return i.push("1 g"),i.push("0 0 "+_t(s)+" "+_t(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+_t(s-1)+" "+_t(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+_t(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ss(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+_t(Ge.internal.getWidth(t))+" "+_t(Ge.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ge.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ge.RadioButton.Circle.YesNormal,e.D[t]=Ge.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ss(t);e.scope=t.scope;var r=[],n=Ge.internal.getWidth(t)<=Ge.internal.getHeight(t)?Ge.internal.getWidth(t)/4:Ge.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Ge.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Uo(Ge.internal.getWidth(t)/2)+" "+Uo(Ge.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ss(t);e.scope=t.scope;var r=[],n=Ge.internal.getWidth(t)<=Ge.internal.getHeight(t)?Ge.internal.getWidth(t)/4:Ge.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Ge.internal.Bezier_C).toFixed(5)),s=Number((n*Ge.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Uo(Ge.internal.getWidth(t)/2)+" "+Uo(Ge.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Uo(Ge.internal.getWidth(t)/2)+" "+Uo(Ge.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ss(t);e.scope=t.scope;var r=[],n=Ge.internal.getWidth(t)<=Ge.internal.getHeight(t)?Ge.internal.getWidth(t)/4:Ge.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Ge.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Uo(Ge.internal.getWidth(t)/2)+" "+Uo(Ge.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ge.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ge.RadioButton.Cross.YesNormal,e.D[t]=Ge.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ss(t);e.scope=t.scope;var r=[],n=Ge.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+_t(Ge.internal.getWidth(t)-2)+" "+_t(Ge.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(_t(n.x1.x)+" "+_t(n.x1.y)+" m"),r.push(_t(n.x2.x)+" "+_t(n.x2.y)+" l"),r.push(_t(n.x4.x)+" "+_t(n.x4.y)+" m"),r.push(_t(n.x3.x)+" "+_t(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ss(t);e.scope=t.scope;var r=Ge.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+_t(Ge.internal.getWidth(t))+" "+_t(Ge.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+_t(Ge.internal.getWidth(t)-2)+" "+_t(Ge.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(_t(r.x1.x)+" "+_t(r.x1.y)+" m"),n.push(_t(r.x2.x)+" "+_t(r.x2.y)+" l"),n.push(_t(r.x4.x)+" "+_t(r.x4.y)+" m"),n.push(_t(r.x3.x)+" "+_t(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ss(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+_t(Ge.internal.getWidth(t))+" "+_t(Ge.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Ge.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ge.internal.getWidth(t),r=Ge.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Ge.internal.getWidth=function(t){var e=0;return er(t)==="object"&&(e=VP(t.Rect[2])),e},Ge.internal.getHeight=function(t){var e=0;return er(t)==="object"&&(e=VP(t.Rect[3])),e};var yye=Dr.addField=function(t){if(vye(this,t),!(t instanceof Ka))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Dr.AcroFormChoiceField=cf,Dr.AcroFormListBox=uf,Dr.AcroFormComboBox=ff,Dr.AcroFormEditBox=u0,Dr.AcroFormButton=jn,Dr.AcroFormPushButton=f0,Dr.AcroFormRadioButton=df,Dr.AcroFormCheckBox=d0,Dr.AcroFormTextField=Nc,Dr.AcroFormPasswordField=h0,Dr.AcroFormAppearance=Ge,Dr.AcroForm={ChoiceField:cf,ListBox:uf,ComboBox:ff,EditBox:u0,Button:jn,PushButton:f0,RadioButton:df,CheckBox:d0,TextField:Nc,PasswordField:h0,Appearance:Ge},nt.AcroForm={ChoiceField:cf,ListBox:uf,ComboBox:ff,EditBox:u0,Button:jn,PushButton:f0,RadioButton:df,CheckBox:d0,TextField:Nc,PasswordField:h0,Appearance:Ge};nt.AcroForm;function wR(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(P,I){var F,R,H,J,re,q=r;if((I=I||r)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(O(P))for(re in n)for(H=n[re],F=0;F<H.length;F+=1){for(J=!0,R=0;R<H[F].length;R+=1)if(H[F][R]!==void 0&&H[F][R]!==P[R]){J=!1;break}if(J===!0){q=re;break}}else for(re in n)for(H=n[re],F=0;F<H.length;F+=1){for(J=!0,R=0;R<H[F].length;R+=1)if(H[F][R]!==void 0&&H[F][R]!==P.charCodeAt(R)){J=!1;break}if(J===!0){q=re;break}}return q===r&&I!==r&&(q=I),q},a=function P(I){for(var F=this.internal.write,R=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:I.width}),J.push({key:"Height",value:I.height}),I.colorSpace===y.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===y.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var re="",q=0,Z=I.transparency.length;q<Z;q++)re+=I.transparency[q]+" "+I.transparency[q]+" ";J.push({key:"Mask",value:"["+re+"]"})}I.sMask!==void 0&&J.push({key:"SMask",value:I.objectId+1+" 0 R"});var le=I.filter!==void 0?["/"+I.filter]:void 0;if(R({data:I.data,additionalKeyValues:J,alreadyAppliedFilters:le,objectId:I.objectId}),F("endobj"),"sMask"in I&&I.sMask!==void 0){var fe,T=(fe=I.sMaskBitsPerComponent)!==null&&fe!==void 0?fe:I.bitsPerComponent,B={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:I.sMask};"filter"in I&&(B.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(I.width),B.filter=I.filter),P.call(this,B)}if(I.colorSpace===y.INDEXED){var X=this.internal.newObject();R({data:L(new Uint8Array(I.palette)),objectId:X}),F("endobj")}},s=function(){var P=this.internal.collections[e+"images"];for(var I in P)a.call(this,P[I])},o=function(){var P,I=this.internal.collections[e+"images"],F=this.internal.write;for(var R in I)F("/I"+(P=I[R]).index,P.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var P=this.internal.collections[e+"images"];return l.call(this),P},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(P){return typeof t["process"+P.toUpperCase()]=="function"},p=function(P){return er(P)==="object"&&P.nodeType===1},h=function(P,I){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var F=""+P.getAttribute("src");if(F.indexOf("data:image/")===0)return c0(unescape(F).split("base64,").pop());var R=t.loadFile(F,!0);if(R!==void 0)return R}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var H;switch(I){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;default:H="image/jpeg"}return c0(P.toDataURL(H,1).split("base64,").pop())}},g=function(P){var I=this.internal.collections[e+"images"];if(I){for(var F in I)if(P===I[F].alias)return I[F]}},v=function(P,I,F){return P||I||(P=-96,I=-96),P<0&&(P=-1*F.width*72/P/this.internal.scaleFactor),I<0&&(I=-1*F.height*72/I/this.internal.scaleFactor),P===0&&(P=I*F.width/F.height),I===0&&(I=P*F.height/F.width),[P,I]},x=function(P,I,F,R,H,J){var re=v.call(this,F,R,H),q=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,le=c.call(this);if(F=re[0],R=re[1],le[H.index]=H,J){J*=Math.PI/180;var fe=Math.cos(J),T=Math.sin(J),B=function(V){return V.toFixed(4)},X=[B(fe),B(T),B(-1*T),B(fe),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,q(P),Z(I+R),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([q(F),"0","0",q(R),"0","0","cm"].join(" "))):this.internal.write([q(F),"0","0",q(R),q(P),Z(I+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(P){var I,F,R=0;if(typeof P=="string")for(F=P.length,I=0;I<F;I++)R=(R<<5)-R+P.charCodeAt(I),R|=0;else if(O(P))for(F=P.byteLength/2,I=0;I<F;I++)R=(R<<5)-R+P[I],R|=0;return R},j=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var I=!0;return P.length===0&&(I=!1),P.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(I=!1),I},S=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var I=P.indexOf(",");return I<0?null:P.substring(0,I).trim().endsWith("base64")?P.substring(I+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},k=t.__addimage__.binaryStringToUint8Array=function(P){for(var I=P.length,F=new Uint8Array(I),R=0;R<I;R++)F[R]=P.charCodeAt(R);return F},L=t.__addimage__.arrayBufferToBinaryString=function(P){for(var I="",F=O(P)?P:new Uint8Array(P),R=0;R<F.length;R+=8192)I+=String.fromCharCode.apply(null,F.subarray(R,R+8192));return I};t.addImage=function(){var P,I,F,R,H,J,re,q,Z;if(typeof arguments[1]=="number"?(I=r,F=arguments[1],R=arguments[2],H=arguments[3],J=arguments[4],re=arguments[5],q=arguments[6],Z=arguments[7]):(I=arguments[1],F=arguments[2],R=arguments[3],H=arguments[4],J=arguments[5],re=arguments[6],q=arguments[7],Z=arguments[8]),er(P=arguments[0])==="object"&&!p(P)&&"imageData"in P){var le=P;P=le.imageData,I=le.format||I||r,F=le.x||F||0,R=le.y||R||0,H=le.w||le.width||H,J=le.h||le.height||J,re=le.alias||re,q=le.compression||q,Z=le.rotation||le.angle||Z}var fe=this.internal.getFilters();if(q===void 0&&fe.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(F)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var T=E.call(this,P,I,re,q);return x.call(this,F,R,H,J,T,Z),this};var E=function(P,I,F,R){var H,J,re;if(typeof P=="string"&&i(P)===r){P=unescape(P);var q=$(P,!1);(q!==""||(q=t.loadFile(P,!0))!==void 0)&&(P=q)}if(p(P)&&(P=h(P,I)),I=i(P,I),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((re=F)==null||re.length===0)&&(F=function(Z){return typeof Z=="string"||O(Z)?_(Z):O(Z.data)?_(Z.data):null}(P)),(H=g.call(this,F))||(P instanceof Uint8Array||I==="RGBA"||(J=P,P=k(P)),H=this["process"+I.toUpperCase()](P,u.call(this),F,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in t.image_compression?Z:w.NONE}(R),J)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},$=t.__addimage__.convertBase64ToBinaryString=function(P,I){I=typeof I!="boolean"||I;var F,R="";if(typeof P=="string"){var H;F=(H=S(P))!==null&&H!==void 0?H:P;try{R=c0(F)}catch(J){if(I)throw j(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};t.getImageProperties=function(P){var I,F,R="";if(p(P)&&(P=h(P)),typeof P=="string"&&i(P)===r&&((R=$(P,!1))===""&&(R=t.loadFile(P)||""),P=R),F=i(P),!f(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(P instanceof Uint8Array||(P=k(P)),!(I=this["process"+F.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=F,I}})(nt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};nt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(v.objId),w=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(y(n.contents))+")",a+=" /Popup "+x.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(y(w))+") >>",v.content=a;var _=v.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(a+=" /Open true"),a+=" >>",x.content=a,this.internal.write(v.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(g(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var O=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+a)},options:s,type:"link"})},t.textWithLink=function(r,n,i,a){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,i,a),i+=.2*c,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-c,o,s,a),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(nt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=t.__arabicParser__.isArabicEndLetter=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(v){return s(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(v){var x=0,y=r,w="",_=0;for(x=0;x<v.length;x+=1)y[v.charCodeAt(x)]!==void 0?(_++,typeof(y=y[v.charCodeAt(x)])=="number"&&(w+=String.fromCharCode(y),y=r,_=0),x===v.length-1&&(y=r,w+=v.charAt(x-(_-1)),x-=_-1,_=0)):(y=r,w+=v.charAt(x-_),x-=_,_=0);return w};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(v,x,y){return s(v)?a(v)===!1?-1:!c(v)||!s(x)&&!s(y)||!s(y)&&o(x)||o(v)&&!s(x)||o(v)&&l(x)||o(v)&&o(x)?0:u(v)&&s(x)&&!o(x)&&s(y)&&c(y)?3:o(v)||!s(y)?1:2:-1},h=function(v){var x=0,y=0,w=0,_="",j="",S="",O=(v=v||"").split("\\s+"),k=[];for(x=0;x<O.length;x+=1){for(k.push(""),y=0;y<O[x].length;y+=1)_=O[x][y],j=O[x][y-1],S=O[x][y+1],s(_)?(w=p(_,j,S),k[x]+=w!==-1?String.fromCharCode(e[_.charCodeAt(0)][w]):_):k[x]+=_;k[x]=f(k[x])}return k.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var v,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(x)){var w=0;for(y=[],w=0;w<x.length;w+=1)Array.isArray(x[w])?y.push([h(x[w][0]),x[w][1],x[w][2]]):y.push([h(x[w])]);v=y}else v=h(x);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",g])}(nt.API),nt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(nt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(v){g=v}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,h=0,g=0,v=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,j){return _.concat(x.splitTextToSize(j,y))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)h<(v=this.getStringUnitWidth(l[w],{font:f})*u)&&(h=v);return h!==0&&(g=l.length),{w:h/=p,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,f,p){if(n.call(this),!u)throw new Error("No data for PDF table.");var h,g,v,x,y=[],w=[],_=[],j={},S={},O=[],k=[],L=(p=p||{}).autoSize||!1,E=p.printHeaders!==!1,$=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,P=p.margins||Object.assign({width:this.getPageWidth()},e),I=typeof p.padding=="number"?p.padding:3,F=p.headerBackgroundColor||"#c8c8c8",R=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=R,this.setFontSize($),f==null)w=y=Object.keys(u[0]),_=y.map(function(){return"left"});else if(Array.isArray(f)&&er(f[0])==="object")for(y=f.map(function(le){return le.name}),w=f.map(function(le){return le.prompt||le.name||""}),_=f.map(function(le){return le.align||"left"}),h=0;h<f.length;h+=1)S[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=y=f,_=y.map(function(){return"left"}));if(L||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<y.length;h+=1){for(j[x=y[h]]=u.map(function(le){return le[x]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=j[x],this.setFont(void 0,"normal"),v=0;v<g.length;v+=1)O.push(this.getTextDimensions(g[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[x]=Math.max.apply(null,O)+I+I,O=[]}if(E){var H={};for(h=0;h<y.length;h+=1)H[y[h]]={},H[y[h]].text=w[h],H[y[h]].align=_[h];var J=o.call(this,H,S);k=y.map(function(le){return new a(l,c,S[le],J,H[le].text,void 0,H[le].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var re=f.reduce(function(le,fe){return le[fe.name]=fe.align,le},{});for(h=0;h<u.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:u[h]},this);var q=o.call(this,u[h],S);for(v=0;v<y.length;v+=1){var Z=u[h][y[v]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:v,data:Z},this),s.call(this,new a(l,c,S[y[v]],q,Z,h+2,re[y[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var g=l[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+u+u},this).reduce(function(h,g){return Math.max(h,g)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(nt.API);var _R={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},SR=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],E5=wR(SR),AR=[100,200,300,400,500,600,700,800,900],bye=wR(AR);function Ox(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return _R[a=a||"normal"]?a:"normal"}(t.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof E5[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function GP(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var xye={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},KP={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function YP(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function XP(t){return t.trimLeft()}function wye(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function _ye(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Gg,JP,ZP,Ou,Kg,QP,eE,tE,kx=["times"];function rE(t,e,r,n,i){var a=4,s=iE;switch(i){case nt.API.image_compression.FAST:a=1,s=nE;break;case nt.API.image_compression.MEDIUM:a=6,s=aE;break;case nt.API.image_compression.SLOW:a=9,s=sE}t=function(l,c,u,f){for(var p,h=l.length/c,g=new Uint8Array(l.length+h),v=[Sye,nE,iE,aE,sE],x=0;x<h;x+=1){var y=x*c,w=l.subarray(y,y+c);if(f)g.set(f(w,u,p),y+x);else{for(var _=v.length,j=[],S=0;S<_;S+=1)j[S]=v[S](w,u,p);var O=jye(j.concat());g.set(j[O],y+x)}p=w}return g}(t,e,Math.ceil(r*n/8),s);var o=S5(t,{level:a});return nt.API.__addimage__.arrayBufferToBinaryString(o)}function Sye(t){var e=Array.apply([],t);return e.unshift(0),e}function nE(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function iE(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=t[a]-s+256&255}return i}function aE(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=t[a-e]||0,o=r&&r[a]||0;i[a+1]=t[a]+256-(s+o>>>1)&255}return i}function sE(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=Aye(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function Aye(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function jye(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Px(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return jR(t,i)>>a&s}function oE(t,e,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,l=(e&o)<<s;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var p=f>>8&255;c.setUint8(u,p)}})(t,a,jR(t,a)&~(o<<s)&65535|l)}function jR(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Nye(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var c=!0,u=[],f=0,p=null,h=0,g=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],1&v||(p=null),h=v>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,j=t[e++],S=j>>6&1,O=1<<1+(7&j),k=o,L=l,E=!1;j>>7&&(E=!0,k=e,L=O,e+=3*O);var $=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}u.push({x,y,width:w,height:_,has_local_palette:E,palette_offset:k,palette_size:L,data_offset:$,data_length:e-$,transparent_index:p,interlaced:!!S,delay:f,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(I){if(I<0||I>=u.length)throw new Error("Frame index out of range.");return u[I]},this.decodeAndBlitFrameBGRA=function(I,F){var R=this.frameInfo(I),H=R.width*R.height,J=new Uint8Array(H);lE(t,R.data_offset,J,H);var re=R.palette_offset,q=R.transparent_index;q===null&&(q=256);var Z=R.width,le=r-Z,fe=Z,T=4*(R.y*r+R.x),B=4*((R.y+R.height)*r+R.x),X=T,V=4*le;R.interlaced===!0&&(V+=4*r*7);for(var ne=8,se=0,de=J.length;se<de;++se){var ie=J[se];if(fe===0&&(fe=Z,(X+=V)>=B&&(V=4*le+4*r*(ne-1),X=T+(Z+le)*(ne<<1),ne>>=1)),ie===q)X+=4;else{var me=t[re+3*ie],xe=t[re+3*ie+1],pe=t[re+3*ie+2];F[X++]=pe,F[X++]=xe,F[X++]=me,F[X++]=255}--fe}},this.decodeAndBlitFrameRGBA=function(I,F){var R=this.frameInfo(I),H=R.width*R.height,J=new Uint8Array(H);lE(t,R.data_offset,J,H);var re=R.palette_offset,q=R.transparent_index;q===null&&(q=256);var Z=R.width,le=r-Z,fe=Z,T=4*(R.y*r+R.x),B=4*((R.y+R.height)*r+R.x),X=T,V=4*le;R.interlaced===!0&&(V+=4*r*7);for(var ne=8,se=0,de=J.length;se<de;++se){var ie=J[se];if(fe===0&&(fe=Z,(X+=V)>=B&&(V=4*le+4*r*(ne-1),X=T+(Z+le)*(ne<<1),ne>>=1)),ie===q)X+=4;else{var me=t[re+3*ie],xe=t[re+3*ie+1],pe=t[re+3*ie+2];F[X++]=me,F[X++]=xe,F[X++]=pe,F[X++]=255}--fe}}}function lE(t,e,r,n){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,u=0,f=0,p=0,h=t[e++],g=new Int32Array(4096),v=null;;){for(;u<16&&h!==0;)f|=t[e++]<<u,u+=8,h===1?h=t[e++]:--h;if(u<l)break;var x=f&c;if(f>>=l,u-=l,x!==a){if(x===s)break;for(var y=x<o?x:v,w=0,_=y;_>a;)_=g[_]>>8,++w;var j=_;if(p+w+(y!==x?1:0)>n)return void ur.log("Warning, gif stream longer than expected.");r[p++]=j;var S=p+=w;for(y!==x&&(r[p++]=j),_=y;w--;)_=g[_],r[--S]=255&_,_>>=8;v!==null&&o<4096&&(g[o++]=v<<8|j,o>=c+1&&l<12&&(++l,c=c<<1|1)),v=x}else o=s+1,c=(1<<(l=i+1))-1,v=null}return p!==n&&ur.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ex(t){var e,r,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),g=new Array(64),v=[],x=0,y=7,w=new Array(64),_=new Array(64),j=new Array(64),S=new Array(256),O=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(T,B){for(var X=0,V=0,ne=new Array,se=1;se<=16;se++){for(var de=1;de<=T[se];de++)ne[B[V]]=[],ne[B[V]][0]=X,ne[B[V]][1]=se,V++,X++;X*=2}return ne}function re(T){for(var B=T[0],X=T[1]-1;X>=0;)B&1<<X&&(x|=1<<y),X--,--y<0&&(x==255?(q(255),q(0)):q(x),y=7,x=0)}function q(T){v.push(T)}function Z(T){q(T>>8&255),q(255&T)}function le(T,B,X,V,ne){for(var se,de=ne[0],ie=ne[240],me=function(Ne,Ue){var Ce,qe,De,It,ot,At,ir,kt,at,ht,st=0;for(at=0;at<8;++at){Ce=Ne[st],qe=Ne[st+1],De=Ne[st+2],It=Ne[st+3],ot=Ne[st+4],At=Ne[st+5],ir=Ne[st+6];var dr=Ce+(kt=Ne[st+7]),Vt=Ce-kt,tt=qe+ir,jt=qe-ir,sr=De+At,ct=De-At,Rt=It+ot,Nt=It-ot,Ur=dr+Rt,on=dr-Rt,or=tt+sr,yt=tt-sr;Ne[st]=Ur+or,Ne[st+4]=Ur-or;var Kt=.707106781*(yt+on);Ne[st+2]=on+Kt,Ne[st+6]=on-Kt;var Ol=.382683433*((Ur=Nt+ct)-(yt=jt+Vt)),Dn=.5411961*Ur+Ol,As=1.306562965*yt+Ol,Xa=.707106781*(or=ct+jt),ut=Vt+Xa,js=Vt-Xa;Ne[st+5]=js+Dn,Ne[st+3]=js-Dn,Ne[st+1]=ut+As,Ne[st+7]=ut-As,st+=8}for(st=0,at=0;at<8;++at){Ce=Ne[st],qe=Ne[st+8],De=Ne[st+16],It=Ne[st+24],ot=Ne[st+32],At=Ne[st+40],ir=Ne[st+48];var Ns=Ce+(kt=Ne[st+56]),Yi=Ce-kt,Xi=qe+ir,Ir=qe-ir,_n=De+At,Pn=De-At,kl=It+ot,xo=It-ot,_a=Ns+kl,Ja=Ns-kl,Sa=Xi+_n,Aa=Xi-_n;Ne[st]=_a+Sa,Ne[st+32]=_a-Sa;var Ji=.707106781*(Aa+Ja);Ne[st+16]=Ja+Ji,Ne[st+48]=Ja-Ji;var Pl=.382683433*((_a=xo+Pn)-(Aa=Ir+Yi)),Za=.5411961*_a+Pl,El=1.306562965*Aa+Pl,ru=.707106781*(Sa=Pn+Ir),nu=Yi+ru,iu=Yi-ru;Ne[st+40]=iu+Za,Ne[st+24]=iu-Za,Ne[st+8]=nu+El,Ne[st+56]=nu-El,st++}for(at=0;at<64;++at)ht=Ne[at]*Ue[at],h[at]=ht>0?ht+.5|0:ht-.5|0;return h}(T,B),xe=0;xe<64;++xe)g[k[xe]]=me[xe];var pe=g[0]-X;X=g[0],pe==0?re(V[0]):(re(V[p[se=32767+pe]]),re(f[se]));for(var Pe=63;Pe>0&&g[Pe]==0;)Pe--;if(Pe==0)return re(de),X;for(var ue,G=1;G<=Pe;){for(var Re=G;g[G]==0&&G<=Pe;)++G;var Fe=G-Re;if(Fe>=16){ue=Fe>>4;for(var Be=1;Be<=ue;++Be)re(ie);Fe&=15}se=32767+g[G],re(ne[(Fe<<4)+p[se]]),re(f[se]),G++}return Pe!=63&&re(de),X}function fe(T){T=Math.min(Math.max(T,1),100),a!=T&&(function(B){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],V=0;V<64;V++){var ne=s((X[V]*B+50)/100);ne=Math.min(Math.max(ne,1),255),o[k[V]]=ne}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ie=s((se[de]*B+50)/100);ie=Math.min(Math.max(ie,1),255),l[k[de]]=ie}for(var me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,pe=0;pe<8;pe++)for(var Pe=0;Pe<8;Pe++)c[xe]=1/(o[k[xe]]*me[pe]*me[Pe]*8),u[xe]=1/(l[k[xe]]*me[pe]*me[Pe]*8),xe++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),a=T)}this.encode=function(T,B){B&&fe(B),v=new Array,x=0,y=7,Z(65496),Z(65504),Z(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),Z(1),Z(1),q(0),q(0),function(){Z(65499),Z(132),q(0);for(var qe=0;qe<64;qe++)q(o[qe]);q(1);for(var De=0;De<64;De++)q(l[De])}(),function(qe,De){Z(65472),Z(17),q(8),Z(De),Z(qe),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(T.width,T.height),function(){Z(65476),Z(418),q(0);for(var qe=0;qe<16;qe++)q(L[qe+1]);for(var De=0;De<=11;De++)q(E[De]);q(16);for(var It=0;It<16;It++)q($[It+1]);for(var ot=0;ot<=161;ot++)q(P[ot]);q(1);for(var At=0;At<16;At++)q(I[At+1]);for(var ir=0;ir<=11;ir++)q(F[ir]);q(17);for(var kt=0;kt<16;kt++)q(R[kt+1]);for(var at=0;at<=161;at++)q(H[at])}(),Z(65498),Z(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var X=0,V=0,ne=0;x=0,y=7,this.encode.displayName="_encode_";for(var se,de,ie,me,xe,pe,Pe,ue,G,Re=T.data,Fe=T.width,Be=T.height,Ne=4*Fe,Ue=0;Ue<Be;){for(se=0;se<Ne;){for(xe=Ne*Ue+se,Pe=-1,ue=0,G=0;G<64;G++)pe=xe+(ue=G>>3)*Ne+(Pe=4*(7&G)),Ue+ue>=Be&&(pe-=Ne*(Ue+1+ue-Be)),se+Pe>=Ne&&(pe-=se+Pe-Ne+4),de=Re[pe++],ie=Re[pe++],me=Re[pe++],w[G]=(O[de]+O[ie+256|0]+O[me+512|0]>>16)-128,_[G]=(O[de+768|0]+O[ie+1024|0]+O[me+1280|0]>>16)-128,j[G]=(O[de+1280|0]+O[ie+1536|0]+O[me+1792|0]>>16)-128;X=le(w,c,X,e,n),V=le(_,u,V,r,i),ne=le(j,u,ne,r,i),se+=32}Ue+=8}if(y>=0){var Ce=[];Ce[1]=y+1,Ce[0]=(1<<y+1)-1,re(Ce)}return Z(65497),new Uint8Array(v)},t=t||50,function(){for(var T=String.fromCharCode,B=0;B<256;B++)S[B]=T(B)}(),e=J(L,E),r=J(I,F),n=J($,P),i=J(R,H),function(){for(var T=1,B=2,X=1;X<=15;X++){for(var V=T;V<B;V++)p[32767+V]=X,f[32767+V]=[],f[32767+V][1]=X,f[32767+V][0]=V;for(var ne=-(B-1);ne<=-T;ne++)p[32767+ne]=X,f[32767+ne]=[],f[32767+ne][1]=X,f[32767+ne][0]=B-1+ne;T<<=1,B<<=1}}(),function(){for(var T=0;T<256;T++)O[T]=19595*T,O[T+256|0]=38470*T,O[T+512|0]=7471*T+32768,O[T+768|0]=-11059*T,O[T+1024|0]=-21709*T,O[T+1280|0]=32768*T+8421375,O[T+1536|0]=-27439*T,O[T+1792|0]=-5329*T}(),fe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ca(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function cE(t){function e(E){if(!E)throw Error("assert :P")}function r(E,$,P){for(var I=0;4>I;I++)if(E[$+I]!=P.charCodeAt(I))return!0;return!1}function n(E,$,P,I,F){for(var R=0;R<F;R++)E[$+R]=P[I+R]}function i(E,$,P,I){for(var F=0;F<I;F++)E[$+F]=P}function a(E){return new Int32Array(E)}function s(E,$){for(var P=[],I=0;I<E;I++)P.push(new $);return P}function o(E,$){var P=[];return function I(F,R,H){for(var J=H[R],re=0;re<J&&(F.push(H.length>R+1?[]:new $),!(H.length<R+1));re++)I(F[re],R+1,H)}(P,0,E),P}var l=function(){var E=this;function $(m,b){for(var N=1<<b-1>>>0;m&N;)N>>>=1;return N?(m&N-1)+N:m}function P(m,b,N,C,D){e(!(C%N));do m[b+(C-=N)]=D;while(0<C)}function I(m,b,N,C,D){if(e(2328>=D),512>=D)var U=a(512);else if((U=a(D))==null)return 0;return function(z,W,K,Q,ce,be){var ee,he,ve=W,we=1<<K,ye=a(16),Se=a(16);for(e(ce!=0),e(Q!=null),e(z!=null),e(0<K),he=0;he<ce;++he){if(15<Q[he])return 0;++ye[Q[he]]}if(ye[0]==ce)return 0;for(Se[1]=0,ee=1;15>ee;++ee){if(ye[ee]>1<<ee)return 0;Se[ee+1]=Se[ee]+ye[ee]}for(he=0;he<ce;++he)ee=Q[he],0<Q[he]&&(be[Se[ee]++]=he);if(Se[15]==1)return(Q=new F).g=0,Q.value=be[0],P(z,ve,1,we,Q),we;var je,Ee=-1,Oe=we-1,rt=0,Ve=1,Pt=1,Xe=1<<K;for(he=0,ee=1,ce=2;ee<=K;++ee,ce<<=1){if(Ve+=Pt<<=1,0>(Pt-=ye[ee]))return 0;for(;0<ye[ee];--ye[ee])(Q=new F).g=ee,Q.value=be[he++],P(z,ve+rt,ce,Xe,Q),rt=$(rt,ee)}for(ee=K+1,ce=2;15>=ee;++ee,ce<<=1){if(Ve+=Pt<<=1,0>(Pt-=ye[ee]))return 0;for(;0<ye[ee];--ye[ee]){if(Q=new F,(rt&Oe)!=Ee){for(ve+=Xe,je=1<<(Ee=ee)-K;15>Ee&&!(0>=(je-=ye[Ee]));)++Ee,je<<=1;we+=Xe=1<<(je=Ee-K),z[W+(Ee=rt&Oe)].g=je+K,z[W+Ee].value=ve-W-Ee}Q.g=ee-K,Q.value=be[he++],P(z,ve+(rt>>K),ce,Xe,Q),rt=$(rt,ee)}}return Ve!=2*Se[15]-1?0:we}(m,b,N,C,D,U)}function F(){this.value=this.g=0}function R(){this.value=this.g=0}function H(){this.G=s(5,F),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Gl,R)}function J(m,b,N,C){e(m!=null),e(b!=null),e(2147483648>C),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=b,m.pa=N,m.Jd=b,m.Yc=N+C,m.Zc=4<=C?N+C-4+1:N,de(m)}function re(m,b){for(var N=0;0<b--;)N|=me(m,128)<<b;return N}function q(m,b){var N=re(m,b);return ie(m)?-N:N}function Z(m,b,N,C){var D,U=0;for(e(m!=null),e(b!=null),e(4294967288>C),m.Sb=C,m.Ra=0,m.u=0,m.h=0,4<C&&(C=4),D=0;D<C;++D)U+=b[N+D]<<8*D;m.Ra=U,m.bb=C,m.oa=b,m.pa=N}function le(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<jo-8>>>0,++m.bb,m.u-=8;V(m)&&(m.h=1,m.u=0)}function fe(m,b){if(e(0<=b),!m.h&&b<=Si){var N=X(m)&_i[b];return m.u+=b,le(m),N}return m.h=1,m.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(m){return m.Ra>>>(m.u&jo-1)>>>0}function V(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>jo}function ne(m,b){m.u=b,m.h=V(m)}function se(m){m.u>=Ls&&(e(m.u>=Ls),le(m))}function de(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function ie(m){return re(m,1)}function me(m,b){var N=m.Ca;0>m.b&&de(m);var C=m.b,D=N*b>>>8,U=(m.I>>>C>D)+0;for(U?(N-=D,m.I-=D+1<<C>>>0):N=D+1,C=N,D=0;256<=C;)D+=8,C>>=8;return C=7^D+No[C],m.b-=C,m.Ca=(N<<C)-1,U}function xe(m,b,N){m[b+0]=N>>24&255,m[b+1]=N>>16&255,m[b+2]=N>>8&255,m[b+3]=255&N}function pe(m,b){return m[b+0]|m[b+1]<<8}function Pe(m,b){return pe(m,b)|m[b+2]<<16}function ue(m,b){return pe(m,b)|pe(m,b+2)<<16}function G(m,b){var N=1<<b;return e(m!=null),e(0<b),m.X=a(N),m.X==null?0:(m.Mb=32-b,m.Xa=b,1)}function Re(m,b){e(m!=null),e(b!=null),e(m.Xa==b.Xa),n(b.X,0,m.X,0,1<<b.Xa)}function Fe(){this.X=[],this.Xa=this.Mb=0}function Be(m,b,N,C){e(N!=null),e(C!=null);var D=N[0],U=C[0];return D==0&&(D=(m*U+b/2)/b),U==0&&(U=(b*D+m/2)/m),0>=D||0>=U?0:(N[0]=D,C[0]=U,1)}function Ne(m,b){return m+(1<<b)-1>>>b}function Ue(m,b){return((4278255360&m)+(4278255360&b)>>>0&4278255360)+((16711935&m)+(16711935&b)>>>0&16711935)>>>0}function Ce(m,b){E[b]=function(N,C,D,U,z,W,K){var Q;for(Q=0;Q<z;++Q){var ce=E[m](W[K+Q-1],D,U+Q);W[K+Q]=Ue(N[C+Q],ce)}}}function qe(){this.ud=this.hd=this.jd=0}function De(m,b){return((4278124286&(m^b))>>>1)+(m&b)>>>0}function It(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function ot(m,b){return It(m+(m-b+.5>>1))}function At(m,b,N){return Math.abs(b-N)-Math.abs(m-N)}function ir(m,b,N,C,D,U,z){for(C=U[z-1],N=0;N<D;++N)U[z+N]=C=Ue(m[b+N],C)}function kt(m,b,N,C,D){var U;for(U=0;U<N;++U){var z=m[b+U],W=z>>8&255,K=16711935&(K=(K=16711935&z)+((W<<16)+W));C[D+U]=(4278255360&z)+K>>>0}}function at(m,b){b.jd=255&m,b.hd=m>>8&255,b.ud=m>>16&255}function ht(m,b,N,C,D,U){var z;for(z=0;z<C;++z){var W=b[N+z],K=W>>>8,Q=W,ce=255&(ce=(ce=W>>>16)+((m.jd<<24>>24)*(K<<24>>24)>>>5));Q=255&(Q=(Q+=(m.hd<<24>>24)*(K<<24>>24)>>>5)+((m.ud<<24>>24)*(ce<<24>>24)>>>5)),D[U+z]=(4278255360&W)+(ce<<16)+Q}}function st(m,b,N,C,D){E[b]=function(U,z,W,K,Q,ce,be,ee,he){for(K=be;K<ee;++K)for(be=0;be<he;++be)Q[ce++]=D(W[C(U[z++])])},E[m]=function(U,z,W,K,Q,ce,be){var ee=8>>U.b,he=U.Ea,ve=U.K[0],we=U.w;if(8>ee)for(U=(1<<U.b)-1,we=(1<<ee)-1;z<W;++z){var ye,Se=0;for(ye=0;ye<he;++ye)ye&U||(Se=C(K[Q++])),ce[be++]=D(ve[Se&we]),Se>>=ee}else E["VP8LMapColor"+N](K,Q,ve,we,ce,be,z,W,he)}}function dr(m,b,N,C,D){for(N=b+N;b<N;){var U=m[b++];C[D++]=U>>16&255,C[D++]=U>>8&255,C[D++]=255&U}}function Vt(m,b,N,C,D){for(N=b+N;b<N;){var U=m[b++];C[D++]=U>>16&255,C[D++]=U>>8&255,C[D++]=255&U,C[D++]=U>>24&255}}function tt(m,b,N,C,D){for(N=b+N;b<N;){var U=(z=m[b++])>>16&240|z>>12&15,z=240&z|z>>28&15;C[D++]=U,C[D++]=z}}function jt(m,b,N,C,D){for(N=b+N;b<N;){var U=(z=m[b++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;C[D++]=U,C[D++]=z}}function sr(m,b,N,C,D){for(N=b+N;b<N;){var U=m[b++];C[D++]=255&U,C[D++]=U>>8&255,C[D++]=U>>16&255}}function ct(m,b,N,C,D,U){if(U==0)for(N=b+N;b<N;)xe(C,((U=m[b++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),D+=32;else n(C,D,m,b,N)}function Rt(m,b){E[b][0]=E[m+"0"],E[b][1]=E[m+"1"],E[b][2]=E[m+"2"],E[b][3]=E[m+"3"],E[b][4]=E[m+"4"],E[b][5]=E[m+"5"],E[b][6]=E[m+"6"],E[b][7]=E[m+"7"],E[b][8]=E[m+"8"],E[b][9]=E[m+"9"],E[b][10]=E[m+"10"],E[b][11]=E[m+"11"],E[b][12]=E[m+"12"],E[b][13]=E[m+"13"],E[b][14]=E[m+"0"],E[b][15]=E[m+"0"]}function Nt(m){return m==M1||m==D1||m==zm||m==B1}function Ur(){this.eb=[],this.size=this.A=this.fb=0}function on(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function or(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ur,this.f.kb=new on,this.sd=null}function yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Kt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ol(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Dn(m,b){var N=m.T,C=b.ba.f.RGBA,D=C.eb,U=C.fb+m.ka*C.A,z=na[b.ba.S],W=m.y,K=m.O,Q=m.f,ce=m.N,be=m.ea,ee=m.W,he=b.cc,ve=b.dc,we=b.Mc,ye=b.Nc,Se=m.ka,je=m.ka+m.T,Ee=m.U,Oe=Ee+1>>1;for(Se==0?z(W,K,null,null,Q,ce,be,ee,Q,ce,be,ee,D,U,null,null,Ee):(z(b.ec,b.fc,W,K,he,ve,we,ye,Q,ce,be,ee,D,U-C.A,D,U,Ee),++N);Se+2<je;Se+=2)he=Q,ve=ce,we=be,ye=ee,ce+=m.Rc,ee+=m.Rc,U+=2*C.A,z(W,(K+=2*m.fa)-m.fa,W,K,he,ve,we,ye,Q,ce,be,ee,D,U-C.A,D,U,Ee);return K+=m.fa,m.j+je<m.o?(n(b.ec,b.fc,W,K,Ee),n(b.cc,b.dc,Q,ce,Oe),n(b.Mc,b.Nc,be,ee,Oe),N--):1&je||z(W,K,null,null,Q,ce,be,ee,Q,ce,be,ee,D,U+C.A,null,null,Ee),N}function As(m,b,N){var C=m.F,D=[m.J];if(C!=null){var U=m.U,z=b.ba.S,W=z==Um||z==zm;b=b.ba.f.RGBA;var K=[0],Q=m.ka;K[0]=m.T,m.Kb&&(Q==0?--K[0]:(--Q,D[0]-=m.width),m.j+m.ka+m.T==m.o&&(K[0]=m.o-m.j-Q));var ce=b.eb;Q=b.fb+Q*b.A,m=oA(C,D[0],m.width,U,K,ce,Q+(W?0:3),b.A),e(N==K),m&&Nt(z)&&zd(ce,Q,W,U,K,b.A)}return 0}function Xa(m){var b=m.ma,N=b.ba.S,C=11>N,D=N==Bm||N==Fm||N==Um||N==R1||N==12||Nt(N);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Id(b.Oa,m,D?11:12))return 0;if(D&&Nt(N)&&Lm(),m.da)alert("todo:use_scaling");else{if(C){if(b.Ib=Ol,m.Kb){if(N=m.U+1>>1,b.memory=a(m.U+2*N),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+m.U,b.Mc=b.cc,b.Nc=b.dc+N,b.Ib=Dn,Lm()}}else alert("todo:EmitYUV");D&&(b.Jb=As,C&&Qi())}if(C&&!SA){for(m=0;256>m;++m)VR[m]=89858*(m-128)+Wm>>qm,YR[m]=-22014*(m-128)+Wm,KR[m]=-45773*(m-128),GR[m]=113618*(m-128)+Wm>>qm;for(m=Wd;m<z1;++m)b=76283*(m-16)+Wm>>qm,XR[m-Wd]=$r(b,255),JR[m-Wd]=$r(b+8>>4,15);SA=1}return 1}function ut(m){var b=m.ma,N=m.U,C=m.T;return e(!(1&m.ka)),0>=N||0>=C?0:(N=b.Ib(m,b),b.Jb!=null&&b.Jb(m,b,N),b.Dc+=N,1)}function js(m){m.ma.memory=null}function Ns(m,b,N,C){return fe(m,8)!=47?0:(b[0]=fe(m,14)+1,N[0]=fe(m,14)+1,C[0]=fe(m,1),fe(m,3)!=0?0:!m.h)}function Yi(m,b){if(4>m)return m+1;var N=m-2>>1;return(2+(1&m)<<N)+fe(b,N)+1}function Xi(m,b){return 120<b?b-120:1<=(N=((N=TR[b-1])>>4)*m+(8-(15&N)))?N:1;var N}function Ir(m,b,N){var C=X(N),D=m[b+=255&C].g-8;return 0<D&&(ne(N,N.u+8),C=X(N),b+=m[b].value,b+=C&(1<<D)-1),ne(N,N.u+m[b].g),m[b].value}function _n(m,b,N){return N.g+=m.g,N.value+=m.value<<b>>>0,e(8>=N.g),m.g}function Pn(m,b,N){var C=m.xc;return e((b=C==0?0:m.vc[m.md*(N>>C)+(b>>C)])<m.Wb),m.Ya[b]}function kl(m,b,N,C){var D=m.ab,U=m.c*b,z=m.C;b=z+b;var W=N,K=C;for(C=m.Ta,N=m.Ua;0<D--;){var Q=m.gc[D],ce=z,be=b,ee=W,he=K,ve=(K=C,W=N,Q.Ea);switch(e(ce<be),e(be<=Q.nc),Q.hc){case 2:qr(ee,he,(be-ce)*ve,K,W);break;case 0:var we=ce,ye=be,Se=K,je=W,Ee=(Xe=Q).Ea;we==0&&(Rd(ee,he,null,null,1,Se,je),ir(ee,he+1,0,0,Ee-1,Se,je+1),he+=Ee,je+=Ee,++we);for(var Oe=1<<Xe.b,rt=Oe-1,Ve=Ne(Ee,Xe.b),Pt=Xe.K,Xe=Xe.w+(we>>Xe.b)*Ve;we<ye;){var Mt=Pt,un=Xe,Et=1;for(du(ee,he,Se,je-Ee,1,Se,je);Et<Ee;){var Je=(Et&~rt)+Oe;Je>Ee&&(Je=Ee),(0,Dd[Mt[un++]>>8&15])(ee,he+ +Et,Se,je+Et-Ee,Je-Et,Se,je+Et),Et=Je}he+=Ee,je+=Ee,++we&rt||(Xe+=Ve)}be!=Q.nc&&n(K,W-ve,K,W+(be-ce-1)*ve,ve);break;case 1:for(ve=ee,ye=he,Ee=(ee=Q.Ea)-(je=ee&~(Se=(he=1<<Q.b)-1)),we=Ne(ee,Q.b),Oe=Q.K,Q=Q.w+(ce>>Q.b)*we;ce<be;){for(rt=Oe,Ve=Q,Pt=new qe,Xe=ye+je,Mt=ye+ee;ye<Xe;)at(rt[Ve++],Pt),Bd(Pt,ve,ye,he,K,W),ye+=he,W+=he;ye<Mt&&(at(rt[Ve++],Pt),Bd(Pt,ve,ye,Ee,K,W),ye+=Ee,W+=Ee),++ce&Se||(Q+=we)}break;case 3:if(ee==K&&he==W&&0<Q.b){for(ye=K,ee=ve=W+(be-ce)*ve-(je=(be-ce)*Ne(Q.Ea,Q.b)),he=K,Se=W,we=[],je=(Ee=je)-1;0<=je;--je)we[je]=he[Se+je];for(je=Ee-1;0<=je;--je)ye[ee+je]=we[je];$m(Q,ce,be,K,ve,K,W)}else $m(Q,ce,be,ee,he,K,W)}W=C,K=N}K!=N&&n(C,N,W,K,U)}function xo(m,b){var N=m.V,C=m.Ba+m.c*m.C,D=b-m.C;if(e(b<=m.l.o),e(16>=D),0<D){var U=m.l,z=m.Ta,W=m.Ua,K=U.width;if(kl(m,D,N,C),D=W=[W],e((N=m.C)<(C=b)),e(U.v<U.va),C>U.o&&(C=U.o),N<U.j){var Q=U.j-N;N=U.j,D[0]+=Q*K}if(N>=C?N=0:(D[0]+=4*U.v,U.ka=N-U.j,U.U=U.va-U.v,U.T=C-N,N=1),N){if(W=W[0],11>(N=m.ca).S){var ce=N.f.RGBA,be=(C=N.S,D=U.U,U=U.T,Q=ce.eb,ce.A),ee=U;for(ce=ce.fb+m.Ma*ce.A;0<ee--;){var he=z,ve=W,we=D,ye=Q,Se=ce;switch(C){case Dm:Fd(he,ve,we,ye,Se);break;case Bm:Oo(he,ve,we,ye,Se);break;case M1:Oo(he,ve,we,ye,Se),zd(ye,Se,0,we,1,0);break;case pA:Kl(he,ve,we,ye,Se);break;case Fm:ct(he,ve,we,ye,Se,1);break;case D1:ct(he,ve,we,ye,Se,1),zd(ye,Se,0,we,1,0);break;case Um:ct(he,ve,we,ye,Se,0);break;case zm:ct(he,ve,we,ye,Se,0),zd(ye,Se,1,we,1,0);break;case R1:ko(he,ve,we,ye,Se);break;case B1:ko(he,ve,we,ye,Se),sA(ye,Se,we,1,0);break;case mA:Po(he,ve,we,ye,Se);break;default:e(0)}W+=K,ce+=be}m.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=N.height)}}m.C=b,e(m.C<=m.i)}function _a(m){var b;if(0<m.ua)return 0;for(b=0;b<m.Wb;++b){var N=m.Ya[b].G,C=m.Ya[b].H;if(0<N[1][C[1]+0].g||0<N[2][C[2]+0].g||0<N[3][C[3]+0].g)return 0}return 1}function Ja(m,b,N,C,D,U){if(m.Z!=0){var z=m.qd,W=m.rd;for(e(To[m.Z]!=null);b<N;++b)To[m.Z](z,W,C,D,C,D,U),z=C,W=D,D+=U;m.qd=z,m.rd=W}}function Sa(m,b){var N=m.l.ma,C=N.Z==0||N.Z==1?m.l.j:m.C;if(C=m.C<C?C:m.C,e(b<=m.l.o),b>C){var D=m.l.width,U=N.ca,z=N.tb+D*C,W=m.V,K=m.Ba+m.c*C,Q=m.gc;e(m.ab==1),e(Q[0].hc==3),ts(Q[0],C,b,W,K,U,z),Ja(N,C,b,U,z,D)}m.C=m.Ma=b}function Aa(m,b,N,C,D,U,z){var W=m.$/C,K=m.$%C,Q=m.m,ce=m.s,be=N+m.$,ee=be;D=N+C*D;var he=N+C*U,ve=280+ce.ua,we=m.Pb?W:16777216,ye=0<ce.ua?ce.Wa:null,Se=ce.wc,je=be<he?Pn(ce,K,W):null;e(m.C<U),e(he<=D);var Ee=!1;e:for(;;){for(;Ee||be<he;){var Oe=0;if(W>=we){var rt=be-N;e((we=m).Pb),we.wd=we.m,we.xd=rt,0<we.s.ua&&Re(we.s.Wa,we.s.vb),we=W+IR}if(K&Se||(je=Pn(ce,K,W)),e(je!=null),je.Qb&&(b[be]=je.qb,Ee=!0),!Ee)if(se(Q),je.jc){Oe=Q,rt=b;var Ve=be,Pt=je.pd[X(Oe)&Gl-1];e(je.jc),256>Pt.g?(ne(Oe,Oe.u+Pt.g),rt[Ve]=Pt.value,Oe=0):(ne(Oe,Oe.u+Pt.g-256),e(256<=Pt.value),Oe=Pt.value),Oe==0&&(Ee=!0)}else Oe=Ir(je.G[0],je.H[0],Q);if(Q.h)break;if(Ee||256>Oe){if(!Ee)if(je.nd)b[be]=(je.qb|Oe<<8)>>>0;else{if(se(Q),Ee=Ir(je.G[1],je.H[1],Q),se(Q),rt=Ir(je.G[2],je.H[2],Q),Ve=Ir(je.G[3],je.H[3],Q),Q.h)break;b[be]=(Ve<<24|Ee<<16|Oe<<8|rt)>>>0}if(Ee=!1,++be,++K>=C&&(K=0,++W,z!=null&&W<=U&&!(W%16)&&z(m,W),ye!=null))for(;ee<be;)Oe=b[ee++],ye.X[(506832829*Oe&4294967295)>>>ye.Mb]=Oe}else if(280>Oe){if(Oe=Yi(Oe-256,Q),rt=Ir(je.G[4],je.H[4],Q),se(Q),rt=Xi(C,rt=Yi(rt,Q)),Q.h)break;if(be-N<rt||D-be<Oe)break e;for(Ve=0;Ve<Oe;++Ve)b[be+Ve]=b[be+Ve-rt];for(be+=Oe,K+=Oe;K>=C;)K-=C,++W,z!=null&&W<=U&&!(W%16)&&z(m,W);if(e(be<=D),K&Se&&(je=Pn(ce,K,W)),ye!=null)for(;ee<be;)Oe=b[ee++],ye.X[(506832829*Oe&4294967295)>>>ye.Mb]=Oe}else{if(!(Oe<ve))break e;for(Ee=Oe-280,e(ye!=null);ee<be;)Oe=b[ee++],ye.X[(506832829*Oe&4294967295)>>>ye.Mb]=Oe;Oe=be,e(!(Ee>>>(rt=ye).Xa)),b[Oe]=rt.X[Ee],Ee=!0}Ee||e(Q.h==V(Q))}if(m.Pb&&Q.h&&be<D)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Re(m.s.vb,m.s.Wa);else{if(Q.h)break e;z!=null&&z(m,W>U?U:W),m.a=0,m.$=be-N}return 1}return m.a=3,0}function Ji(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var b=m.Wa;b!=null&&(b.X=null),m.vb=null,e(m!=null)}function Pl(){var m=new et;return m==null?null:(m.a=0,m.xb=yA,Rt("Predictor","VP8LPredictors"),Rt("Predictor","VP8LPredictors_C"),Rt("PredictorAdd","VP8LPredictorsAdd"),Rt("PredictorAdd","VP8LPredictorsAdd_C"),qr=kt,Bd=ht,Fd=dr,Oo=Vt,ko=tt,Po=jt,Kl=sr,E.VP8LMapColor32b=es,E.VP8LMapColor8b=Md,m)}function Za(m,b,N,C,D){var U=1,z=[m],W=[b],K=C.m,Q=C.s,ce=null,be=0;e:for(;;){if(N)for(;U&&fe(K,1);){var ee=z,he=W,ve=C,we=1,ye=ve.m,Se=ve.gc[ve.ab],je=fe(ye,2);if(ve.Oc&1<<je)U=0;else{switch(ve.Oc|=1<<je,Se.hc=je,Se.Ea=ee[0],Se.nc=he[0],Se.K=[null],++ve.ab,e(4>=ve.ab),je){case 0:case 1:Se.b=fe(ye,3)+2,we=Za(Ne(Se.Ea,Se.b),Ne(Se.nc,Se.b),0,ve,Se.K),Se.K=Se.K[0];break;case 3:var Ee,Oe=fe(ye,8)+1,rt=16<Oe?0:4<Oe?1:2<Oe?2:3;if(ee[0]=Ne(Se.Ea,rt),Se.b=rt,Ee=we=Za(Oe,1,0,ve,Se.K)){var Ve,Pt=Oe,Xe=Se,Mt=1<<(8>>Xe.b),un=a(Mt);if(un==null)Ee=0;else{var Et=Xe.K[0],Je=Xe.w;for(un[0]=Xe.K[0][0],Ve=1;Ve<1*Pt;++Ve)un[Ve]=Ue(Et[Je+Ve],un[Ve-1]);for(;Ve<4*Mt;++Ve)un[Ve]=0;Xe.K[0]=null,Xe.K[0]=un,Ee=1}}we=Ee;break;case 2:break;default:e(0)}U=we}}if(z=z[0],W=W[0],U&&fe(K,1)&&!(U=1<=(be=fe(K,4))&&11>=be)){C.a=3;break e}var Me;if(Me=U)t:{var Hr,Ot,Bt,xr=C,Cn=z,Qn=W,Rr=be,Fn=N,ei=xr.m,fn=xr.s,Ft=[null],Jt=1,Mr=0,Zt=LR[Rr];r:for(;;){if(Fn&&fe(ei,1)){var Tn=fe(ei,3)+2,Oa=Ne(Cn,Tn),Vr=Ne(Qn,Tn),di=Oa*Vr;if(!Za(Oa,Vr,0,xr,Ft))break r;for(Ft=Ft[0],fn.xc=Tn,Hr=0;Hr<di;++Hr){var cr=Ft[Hr]>>8&65535;Ft[Hr]=cr,cr>=Jt&&(Jt=cr+1)}}if(ei.h)break r;for(Ot=0;5>Ot;++Ot){var dn=gA[Ot];!Ot&&0<Rr&&(dn+=1<<Rr),Mr<dn&&(Mr=dn)}var ji=s(Jt*Zt,F),ti=Jt,Ni=s(ti,H);if(Ni==null)var Oi=null;else e(65536>=ti),Oi=Ni;var hi=a(Mr);if(Oi==null||hi==null||ji==null){xr.a=1;break r}var ki=ji;for(Hr=Bt=0;Hr<Jt;++Hr){var pr=Oi[Hr],Pi=pr.G,ka=pr.H,Xl=0,Rs=1,Ln=0;for(Ot=0;5>Ot;++Ot){dn=gA[Ot],Pi[Ot]=ki,ka[Ot]=Bt,!Ot&&0<Rr&&(dn+=1<<Rr);i:{var Vm,q1=dn,Gm=xr,Hd=hi,e7=ki,t7=Bt,W1=0,Lo=Gm.m,r7=fe(Lo,1);if(i(Hd,0,0,q1),r7){var n7=fe(Lo,1)+1,i7=fe(Lo,1),NA=fe(Lo,i7==0?1:8);Hd[NA]=1,n7==2&&(Hd[NA=fe(Lo,8)]=1);var Km=1}else{var OA=a(19),kA=fe(Lo,4)+4;if(19<kA){Gm.a=3;var Ym=0;break i}for(Vm=0;Vm<kA;++Vm)OA[CR[Vm]]=fe(Lo,3);var H1=void 0,Vd=void 0,PA=Gm,a7=OA,Xm=q1,EA=Hd,V1=0,Io=PA.m,CA=8,TA=s(128,F);n:for(;I(TA,0,7,a7,19);){if(fe(Io,1)){var s7=2+2*fe(Io,3);if((H1=2+fe(Io,s7))>Xm)break n}else H1=Xm;for(Vd=0;Vd<Xm&&H1--;){se(Io);var LA=TA[0+(127&X(Io))];ne(Io,Io.u+LA.g);var pu=LA.value;if(16>pu)EA[Vd++]=pu,pu!=0&&(CA=pu);else{var o7=pu==16,IA=pu-16,l7=PR[IA],$A=fe(Io,kR[IA])+l7;if(Vd+$A>Xm)break n;for(var c7=o7?CA:0;0<$A--;)EA[Vd++]=c7}}V1=1;break n}V1||(PA.a=3),Km=V1}(Km=Km&&!Lo.h)&&(W1=I(e7,t7,8,Hd,q1)),Km&&W1!=0?Ym=W1:(Gm.a=3,Ym=0)}if(Ym==0)break r;if(Rs&&ER[Ot]==1&&(Rs=ki[Bt].g==0),Xl+=ki[Bt].g,Bt+=Ym,3>=Ot){var Gd,G1=hi[0];for(Gd=1;Gd<dn;++Gd)hi[Gd]>G1&&(G1=hi[Gd]);Ln+=G1}}if(pr.nd=Rs,pr.Qb=0,Rs&&(pr.qb=(Pi[3][ka[3]+0].value<<24|Pi[1][ka[1]+0].value<<16|Pi[2][ka[2]+0].value)>>>0,Xl==0&&256>Pi[0][ka[0]+0].value&&(pr.Qb=1,pr.qb+=Pi[0][ka[0]+0].value<<8)),pr.jc=!pr.Qb&&6>Ln,pr.jc){var Jm,Ms=pr;for(Jm=0;Jm<Gl;++Jm){var $o=Jm,Ro=Ms.pd[$o],Zm=Ms.G[0][Ms.H[0]+$o];256<=Zm.value?(Ro.g=Zm.g+256,Ro.value=Zm.value):(Ro.g=0,Ro.value=0,$o>>=_n(Zm,8,Ro),$o>>=_n(Ms.G[1][Ms.H[1]+$o],16,Ro),$o>>=_n(Ms.G[2][Ms.H[2]+$o],0,Ro),_n(Ms.G[3][Ms.H[3]+$o],24,Ro))}}}fn.vc=Ft,fn.Wb=Jt,fn.Ya=Oi,fn.yc=ji,Me=1;break t}Me=0}if(!(U=Me)){C.a=3;break e}if(0<be){if(Q.ua=1<<be,!G(Q.Wa,be)){C.a=1,U=0;break e}}else Q.ua=0;var K1=C,RA=z,u7=W,Y1=K1.s,X1=Y1.xc;if(K1.c=RA,K1.i=u7,Y1.md=Ne(RA,X1),Y1.wc=X1==0?-1:(1<<X1)-1,N){C.xb=UR;break e}if((ce=a(z*W))==null){C.a=1,U=0;break e}U=(U=Aa(C,ce,0,z,W,W,null))&&!K.h;break e}return U?(D!=null?D[0]=ce:(e(ce==null),e(N)),C.$=0,N||Ji(Q)):Ji(Q),U}function El(m,b){var N=m.c*m.i,C=N+b+16*b;return e(m.c<=b),m.V=a(C),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+N+b,1)}function ru(m,b){var N=m.C,C=b-N,D=m.V,U=m.Ba+m.c*N;for(e(b<=m.l.o);0<C;){var z=16<C?16:C,W=m.l.ma,K=m.l.width,Q=K*z,ce=W.ca,be=W.tb+K*N,ee=m.Ta,he=m.Ua;kl(m,z,D,U),lA(ee,he,ce,be,Q),Ja(W,N,N+z,ce,be,K),C-=z,D+=z*m.c,N+=z}e(N==b),m.C=m.Ma=b}function nu(){this.ub=this.yd=this.td=this.Rb=0}function iu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function b1(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function xd(){this.Yb=function(){var m=[];return function b(N,C,D){for(var U=D[C],z=0;z<U&&(N.push(D.length>C+1?[]:0),!(D.length<C+1));z++)b(N[z],C+1,D)}(m,0,[3,11]),m}()}function ym(){this.jb=a(3),this.Wc=o([4,8],xd),this.Xc=o([4,17],xd)}function bm(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Zi(){this.ld=this.La=this.dd=this.tc=0}function wd(){this.Na=this.la=0}function xm(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function _d(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wm(){this.uc=this.M=this.Nb=0,this.wa=Array(new Zi),this.Y=0,this.ya=Array(new _d),this.aa=0,this.l=new au}function _m(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Sm(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new nu,this.Kc=new iu,this.ed=new bm,this.Qa=new b1,this.Ic=this.$c=this.Aa=0,this.D=new wm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,T),this.ia=0,this.pb=s(4,xm),this.Pa=new ym,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _m),this.Hd=0,this.rb=Array(new wd),this.sb=0,this.wa=Array(new Zi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new _d),this.L=this.aa=0,this.gd=o([4,2],Zi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function au(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function x1(){var m=new Sm;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,qd||(qd=Os)),m}function Zr(m,b,N){return m.a==0&&(m.a=b,m.sc=N,m.cb=0),0}function Am(m,b,N){return 3<=N&&m[b+0]==157&&m[b+1]==1&&m[b+2]==42}function jm(m,b){if(m==null)return 0;if(m.a=0,m.sc="OK",b==null)return Zr(m,2,"null VP8Io passed to VP8GetHeaders()");var N=b.data,C=b.w,D=b.ha;if(4>D)return Zr(m,7,"Truncated header.");var U=N[C+0]|N[C+1]<<8|N[C+2]<<16,z=m.Od;if(z.Rb=!(1&U),z.td=U>>1&7,z.yd=U>>4&1,z.ub=U>>5,3<z.td)return Zr(m,3,"Incorrect keyframe parameters.");if(!z.yd)return Zr(m,4,"Frame not displayable.");C+=3,D-=3;var W=m.Kc;if(z.Rb){if(7>D)return Zr(m,7,"cannot parse picture header");if(!Am(N,C,D))return Zr(m,3,"Bad code word");W.c=16383&(N[C+4]<<8|N[C+3]),W.Td=N[C+4]>>6,W.i=16383&(N[C+6]<<8|N[C+5]),W.Ud=N[C+6]>>6,C+=7,D-=7,m.za=W.c+15>>4,m.Ub=W.i+15>>4,b.width=W.c,b.height=W.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,i((U=m.Pa).jb,0,255,U.jb.length),e((U=m.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,i(U.Zb,0,0,U.Zb.length),i(U.Lb,0,0,U.Lb)}if(z.ub>D)return Zr(m,7,"bad partition length");J(U=m.m,N,C,z.ub),C+=z.ub,D-=z.ub,z.Rb&&(W.Ld=ie(U),W.Kd=ie(U)),W=m.Qa;var K,Q=m.Pa;if(e(U!=null),e(W!=null),W.Cb=ie(U),W.Cb){if(W.Bb=ie(U),ie(U)){for(W.Fb=ie(U),K=0;4>K;++K)W.Zb[K]=ie(U)?q(U,7):0;for(K=0;4>K;++K)W.Lb[K]=ie(U)?q(U,6):0}if(W.Bb)for(K=0;3>K;++K)Q.jb[K]=ie(U)?re(U,8):255}else W.Bb=0;if(U.Ka)return Zr(m,3,"cannot parse segment header");if((W=m.ed).zd=ie(U),W.Tb=re(U,6),W.wb=re(U,3),W.Pc=ie(U),W.Pc&&ie(U)){for(Q=0;4>Q;++Q)ie(U)&&(W.vd[Q]=q(U,6));for(Q=0;4>Q;++Q)ie(U)&&(W.od[Q]=q(U,6))}if(m.L=W.Tb==0?0:W.zd?1:2,U.Ka)return Zr(m,3,"cannot parse filter header");var ce=D;if(D=K=C,C=K+ce,W=ce,m.Xb=(1<<re(m.m,2))-1,ce<3*(Q=m.Xb))N=7;else{for(K+=3*Q,W-=3*Q,ce=0;ce<Q;++ce){var be=N[D+0]|N[D+1]<<8|N[D+2]<<16;be>W&&(be=W),J(m.Jc[+ce],N,K,be),K+=be,W-=be,D+=3}J(m.Jc[+Q],N,K,W),N=K<C?0:5}if(N!=0)return Zr(m,N,"cannot parse partitions");for(N=re(K=m.m,7),D=ie(K)?q(K,4):0,C=ie(K)?q(K,4):0,W=ie(K)?q(K,4):0,Q=ie(K)?q(K,4):0,K=ie(K)?q(K,4):0,ce=m.Qa,be=0;4>be;++be){if(ce.Cb){var ee=ce.Zb[be];ce.Fb||(ee+=N)}else{if(0<be){m.pb[be]=m.pb[0];continue}ee=N}var he=m.pb[be];he.Sc[0]=F1[$r(ee+D,127)],he.Sc[1]=U1[$r(ee+0,127)],he.Eb[0]=2*F1[$r(ee+C,127)],he.Eb[1]=101581*U1[$r(ee+W,127)]>>16,8>he.Eb[1]&&(he.Eb[1]=8),he.Qc[0]=F1[$r(ee+Q,117)],he.Qc[1]=U1[$r(ee+K,127)],he.lc=ee+K}if(!z.Rb)return Zr(m,4,"Not a key frame.");for(ie(U),z=m.Pa,N=0;4>N;++N){for(D=0;8>D;++D)for(C=0;3>C;++C)for(W=0;11>W;++W)Q=me(U,BR[N][D][C][W])?re(U,8):MR[N][D][C][W],z.Wc[N][D].Yb[C][W]=Q;for(D=0;17>D;++D)z.Xc[N][D]=z.Wc[N][FR[D]]}return m.kc=ie(U),m.kc&&(m.Bd=re(U,8)),m.cb=1}function Os(m,b,N,C,D,U,z){var W=b[D].Yb[N];for(N=0;16>D;++D){if(!me(m,W[N+0]))return D;for(;!me(m,W[N+1]);)if(W=b[++D].Yb[0],N=0,D==16)return 16;var K=b[D+1].Yb;if(me(m,W[N+2])){var Q=m,ce=0;if(me(Q,(ee=W)[(be=N)+3]))if(me(Q,ee[be+6])){for(W=0,be=2*(ce=me(Q,ee[be+8]))+(ee=me(Q,ee[be+9+ce])),ce=0,ee=$R[be];ee[W];++W)ce+=ce+me(Q,ee[W]);ce+=3+(8<<be)}else me(Q,ee[be+7])?(ce=7+2*me(Q,165),ce+=me(Q,145)):ce=5+me(Q,159);else ce=me(Q,ee[be+4])?3+me(Q,ee[be+5]):2;W=K[2]}else ce=1,W=K[1];K=z+RR[D],0>(Q=m).b&&de(Q);var be,ee=Q.b,he=(be=Q.Ca>>1)-(Q.I>>ee)>>31;--Q.b,Q.Ca+=he,Q.Ca|=1,Q.I-=(be+1&he)<<ee,U[K]=((ce^he)-he)*C[(0<D)+0]}return 16}function Cl(m){var b=m.rb[m.sb-1];b.la=0,b.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function ja(m,b,N,C,D){D=m[b+N+32*C]+(D>>3),m[b+N+32*C]=-256&D?0>D?0:255:D}function Tl(m,b,N,C,D,U){ja(m,b,0,N,C+D),ja(m,b,1,N,C+U),ja(m,b,2,N,C-U),ja(m,b,3,N,C-D)}function zr(m){return(20091*m>>16)+m}function Sd(m,b,N,C){var D,U=0,z=a(16);for(D=0;4>D;++D){var W=m[b+0]+m[b+8],K=m[b+0]-m[b+8],Q=(35468*m[b+4]>>16)-zr(m[b+12]),ce=zr(m[b+4])+(35468*m[b+12]>>16);z[U+0]=W+ce,z[U+1]=K+Q,z[U+2]=K-Q,z[U+3]=W-ce,U+=4,b++}for(D=U=0;4>D;++D)W=(m=z[U+0]+4)+z[U+8],K=m-z[U+8],Q=(35468*z[U+4]>>16)-zr(z[U+12]),ja(N,C,0,0,W+(ce=zr(z[U+4])+(35468*z[U+12]>>16))),ja(N,C,1,0,K+Q),ja(N,C,2,0,K-Q),ja(N,C,3,0,W-ce),U++,C+=32}function w1(m,b,N,C){var D=m[b+0]+4,U=35468*m[b+4]>>16,z=zr(m[b+4]),W=35468*m[b+1]>>16;Tl(N,C,0,D+z,m=zr(m[b+1]),W),Tl(N,C,1,D+U,m,W),Tl(N,C,2,D-U,m,W),Tl(N,C,3,D-z,m,W)}function _1(m,b,N,C,D){Sd(m,b,N,C),D&&Sd(m,b+16,N,C+4)}function S1(m,b,N,C){Yl(m,b+0,N,C,1),Yl(m,b+32,N,C+128,1)}function Qa(m,b,N,C){var D;for(m=m[b+0]+4,D=0;4>D;++D)for(b=0;4>b;++b)ja(N,C,b,D,m)}function Nm(m,b,N,C){m[b+0]&&Yt(m,b+0,N,C),m[b+16]&&Yt(m,b+16,N,C+4),m[b+32]&&Yt(m,b+32,N,C+128),m[b+48]&&Yt(m,b+48,N,C+128+4)}function Om(m,b,N,C){var D,U=a(16);for(D=0;4>D;++D){var z=m[b+0+D]+m[b+12+D],W=m[b+4+D]+m[b+8+D],K=m[b+4+D]-m[b+8+D],Q=m[b+0+D]-m[b+12+D];U[0+D]=z+W,U[8+D]=z-W,U[4+D]=Q+K,U[12+D]=Q-K}for(D=0;4>D;++D)z=(m=U[0+4*D]+3)+U[3+4*D],W=U[1+4*D]+U[2+4*D],K=U[1+4*D]-U[2+4*D],Q=m-U[3+4*D],N[C+0]=z+W>>3,N[C+16]=Q+K>>3,N[C+32]=z-W>>3,N[C+48]=Q-K>>3,C+=64}function wo(m,b,N){var C,D=b-32,U=Ai,z=255-m[D-1];for(C=0;C<N;++C){var W,K=U,Q=z+m[b-1];for(W=0;W<N;++W)m[b+W]=K[Q+m[D+W]];b+=32}}function Ad(m,b){wo(m,b,4)}function A1(m,b){wo(m,b,8)}function j1(m,b){wo(m,b,16)}function N1(m,b){var N;for(N=0;16>N;++N)n(m,b+32*N,m,b-32,16)}function jd(m,b){var N;for(N=16;0<N;--N)i(m,b,m[b-1],16),b+=32}function Ll(m,b,N){var C;for(C=0;16>C;++C)i(b,N+32*C,m,16)}function _o(m,b){var N,C=16;for(N=0;16>N;++N)C+=m[b-1+32*N]+m[b+N-32];Ll(C>>5,m,b)}function O1(m,b){var N,C=8;for(N=0;16>N;++N)C+=m[b-1+32*N];Ll(C>>4,m,b)}function Il(m,b){var N,C=8;for(N=0;16>N;++N)C+=m[b+N-32];Ll(C>>4,m,b)}function Nd(m,b){Ll(128,m,b)}function bt(m,b,N){return m+2*b+N+2>>2}function k1(m,b){var N,C=b-32;for(C=new Uint8Array([bt(m[C-1],m[C+0],m[C+1]),bt(m[C+0],m[C+1],m[C+2]),bt(m[C+1],m[C+2],m[C+3]),bt(m[C+2],m[C+3],m[C+4])]),N=0;4>N;++N)n(m,b+32*N,C,0,C.length)}function P1(m,b){var N=m[b-1],C=m[b-1+32],D=m[b-1+64],U=m[b-1+96];xe(m,b+0,16843009*bt(m[b-1-32],N,C)),xe(m,b+32,16843009*bt(N,C,D)),xe(m,b+64,16843009*bt(C,D,U)),xe(m,b+96,16843009*bt(D,U,U))}function E1(m,b){var N,C=4;for(N=0;4>N;++N)C+=m[b+N-32]+m[b-1+32*N];for(C>>=3,N=0;4>N;++N)i(m,b+32*N,C,4)}function C1(m,b){var N=m[b-1+0],C=m[b-1+32],D=m[b-1+64],U=m[b-1-32],z=m[b+0-32],W=m[b+1-32],K=m[b+2-32],Q=m[b+3-32];m[b+0+96]=bt(C,D,m[b-1+96]),m[b+1+96]=m[b+0+64]=bt(N,C,D),m[b+2+96]=m[b+1+64]=m[b+0+32]=bt(U,N,C),m[b+3+96]=m[b+2+64]=m[b+1+32]=m[b+0+0]=bt(z,U,N),m[b+3+64]=m[b+2+32]=m[b+1+0]=bt(W,z,U),m[b+3+32]=m[b+2+0]=bt(K,W,z),m[b+3+0]=bt(Q,K,W)}function ks(m,b){var N=m[b+1-32],C=m[b+2-32],D=m[b+3-32],U=m[b+4-32],z=m[b+5-32],W=m[b+6-32],K=m[b+7-32];m[b+0+0]=bt(m[b+0-32],N,C),m[b+1+0]=m[b+0+32]=bt(N,C,D),m[b+2+0]=m[b+1+32]=m[b+0+64]=bt(C,D,U),m[b+3+0]=m[b+2+32]=m[b+1+64]=m[b+0+96]=bt(D,U,z),m[b+3+32]=m[b+2+64]=m[b+1+96]=bt(U,z,W),m[b+3+64]=m[b+2+96]=bt(z,W,K),m[b+3+96]=bt(W,K,K)}function Ps(m,b){var N=m[b-1+0],C=m[b-1+32],D=m[b-1+64],U=m[b-1-32],z=m[b+0-32],W=m[b+1-32],K=m[b+2-32],Q=m[b+3-32];m[b+0+0]=m[b+1+64]=U+z+1>>1,m[b+1+0]=m[b+2+64]=z+W+1>>1,m[b+2+0]=m[b+3+64]=W+K+1>>1,m[b+3+0]=K+Q+1>>1,m[b+0+96]=bt(D,C,N),m[b+0+64]=bt(C,N,U),m[b+0+32]=m[b+1+96]=bt(N,U,z),m[b+1+32]=m[b+2+96]=bt(U,z,W),m[b+2+32]=m[b+3+96]=bt(z,W,K),m[b+3+32]=bt(W,K,Q)}function T1(m,b){var N=m[b+0-32],C=m[b+1-32],D=m[b+2-32],U=m[b+3-32],z=m[b+4-32],W=m[b+5-32],K=m[b+6-32],Q=m[b+7-32];m[b+0+0]=N+C+1>>1,m[b+1+0]=m[b+0+64]=C+D+1>>1,m[b+2+0]=m[b+1+64]=D+U+1>>1,m[b+3+0]=m[b+2+64]=U+z+1>>1,m[b+0+32]=bt(N,C,D),m[b+1+32]=m[b+0+96]=bt(C,D,U),m[b+2+32]=m[b+1+96]=bt(D,U,z),m[b+3+32]=m[b+2+96]=bt(U,z,W),m[b+3+64]=bt(z,W,K),m[b+3+96]=bt(W,K,Q)}function L1(m,b){var N=m[b-1+0],C=m[b-1+32],D=m[b-1+64],U=m[b-1+96];m[b+0+0]=N+C+1>>1,m[b+2+0]=m[b+0+32]=C+D+1>>1,m[b+2+32]=m[b+0+64]=D+U+1>>1,m[b+1+0]=bt(N,C,D),m[b+3+0]=m[b+1+32]=bt(C,D,U),m[b+3+32]=m[b+1+64]=bt(D,U,U),m[b+3+64]=m[b+2+64]=m[b+0+96]=m[b+1+96]=m[b+2+96]=m[b+3+96]=U}function su(m,b){var N=m[b-1+0],C=m[b-1+32],D=m[b-1+64],U=m[b-1+96],z=m[b-1-32],W=m[b+0-32],K=m[b+1-32],Q=m[b+2-32];m[b+0+0]=m[b+2+32]=N+z+1>>1,m[b+0+32]=m[b+2+64]=C+N+1>>1,m[b+0+64]=m[b+2+96]=D+C+1>>1,m[b+0+96]=U+D+1>>1,m[b+3+0]=bt(W,K,Q),m[b+2+0]=bt(z,W,K),m[b+1+0]=m[b+3+32]=bt(N,z,W),m[b+1+32]=m[b+3+64]=bt(C,N,z),m[b+1+64]=m[b+3+96]=bt(D,C,N),m[b+1+96]=bt(U,D,C)}function Od(m,b){var N;for(N=0;8>N;++N)n(m,b+32*N,m,b-32,8)}function $l(m,b){var N;for(N=0;8>N;++N)i(m,b,m[b-1],8),b+=32}function ou(m,b,N){var C;for(C=0;8>C;++C)i(b,N+32*C,m,8)}function lu(m,b){var N,C=8;for(N=0;8>N;++N)C+=m[b+N-32]+m[b-1+32*N];ou(C>>4,m,b)}function I1(m,b){var N,C=4;for(N=0;8>N;++N)C+=m[b+N-32];ou(C>>3,m,b)}function kd(m,b){var N,C=4;for(N=0;8>N;++N)C+=m[b-1+32*N];ou(C>>3,m,b)}function Pd(m,b){ou(128,m,b)}function Rl(m,b,N){var C=m[b-N],D=m[b+0],U=3*(D-C)+$1[1020+m[b-2*N]-m[b+N]],z=Mm[112+(U+4>>3)];m[b-N]=Ai[255+C+Mm[112+(U+3>>3)]],m[b+0]=Ai[255+D-z]}function Ml(m,b,N,C){var D=m[b+0],U=m[b+N];return ra[255+m[b-2*N]-m[b-N]]>C||ra[255+U-D]>C}function Ed(m,b,N,C){return 4*ra[255+m[b-N]-m[b+0]]+ra[255+m[b-2*N]-m[b+N]]<=C}function cu(m,b,N,C,D){var U=m[b-3*N],z=m[b-2*N],W=m[b-N],K=m[b+0],Q=m[b+N],ce=m[b+2*N],be=m[b+3*N];return 4*ra[255+W-K]+ra[255+z-Q]>C?0:ra[255+m[b-4*N]-U]<=D&&ra[255+U-z]<=D&&ra[255+z-W]<=D&&ra[255+be-ce]<=D&&ra[255+ce-Q]<=D&&ra[255+Q-K]<=D}function Cd(m,b,N,C){var D=2*C+1;for(C=0;16>C;++C)Ed(m,b+C,N,D)&&Rl(m,b+C,N)}function Dl(m,b,N,C){var D=2*C+1;for(C=0;16>C;++C)Ed(m,b+C*N,1,D)&&Rl(m,b+C*N,1)}function km(m,b,N,C){var D;for(D=3;0<D;--D)Cd(m,b+=4*N,N,C)}function Pm(m,b,N,C){var D;for(D=3;0<D;--D)Dl(m,b+=4,N,C)}function Es(m,b,N,C,D,U,z,W){for(U=2*U+1;0<D--;){if(cu(m,b,N,U,z))if(Ml(m,b,N,W))Rl(m,b,N);else{var K=m,Q=b,ce=N,be=K[Q-2*ce],ee=K[Q-ce],he=K[Q+0],ve=K[Q+ce],we=K[Q+2*ce],ye=27*(je=$1[1020+3*(he-ee)+$1[1020+be-ve]])+63>>7,Se=18*je+63>>7,je=9*je+63>>7;K[Q-3*ce]=Ai[255+K[Q-3*ce]+je],K[Q-2*ce]=Ai[255+be+Se],K[Q-ce]=Ai[255+ee+ye],K[Q+0]=Ai[255+he-ye],K[Q+ce]=Ai[255+ve-Se],K[Q+2*ce]=Ai[255+we-je]}b+=C}}function Cs(m,b,N,C,D,U,z,W){for(U=2*U+1;0<D--;){if(cu(m,b,N,U,z))if(Ml(m,b,N,W))Rl(m,b,N);else{var K=m,Q=b,ce=N,be=K[Q-ce],ee=K[Q+0],he=K[Q+ce],ve=Mm[112+(4+(we=3*(ee-be))>>3)],we=Mm[112+(we+3>>3)],ye=ve+1>>1;K[Q-2*ce]=Ai[255+K[Q-2*ce]+ye],K[Q-ce]=Ai[255+be+we],K[Q+0]=Ai[255+ee-ve],K[Q+ce]=Ai[255+he-ye]}b+=C}}function Em(m,b,N,C,D,U){Es(m,b,N,1,16,C,D,U)}function Cm(m,b,N,C,D,U){Es(m,b,1,N,16,C,D,U)}function Bl(m,b,N,C,D,U){var z;for(z=3;0<z;--z)Cs(m,b+=4*N,N,1,16,C,D,U)}function Tm(m,b,N,C,D,U){var z;for(z=3;0<z;--z)Cs(m,b+=4,1,N,16,C,D,U)}function A(m,b,N,C,D,U,z,W){Es(m,b,D,1,8,U,z,W),Es(N,C,D,1,8,U,z,W)}function M(m,b,N,C,D,U,z,W){Es(m,b,1,D,8,U,z,W),Es(N,C,1,D,8,U,z,W)}function te(m,b,N,C,D,U,z,W){Cs(m,b+4*D,D,1,8,U,z,W),Cs(N,C+4*D,D,1,8,U,z,W)}function oe(m,b,N,C,D,U,z,W){Cs(m,b+4,1,D,8,U,z,W),Cs(N,C+4,1,D,8,U,z,W)}function ge(){this.ba=new or,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Kt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ae(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ke(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ye(){this.ua=0,this.Wa=new Fe,this.vb=new Fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new F}function et(){this.xb=this.a=0,this.l=new au,this.ca=new or,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ye,this.ab=0,this.gc=s(4,ke),this.Oc=0}function gt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new au,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function wt(m,b,N,C,D,U,z){for(m=m==null?0:m[b+0],b=0;b<z;++b)D[U+b]=m+N[C+b]&255,m=D[U+b]}function Gt(m,b,N,C,D,U,z){var W;if(m==null)wt(null,null,N,C,D,U,z);else for(W=0;W<z;++W)D[U+W]=m[b+W]+N[C+W]&255}function Pr(m,b,N,C,D,U,z){if(m==null)wt(null,null,N,C,D,U,z);else{var W,K=m[b+0],Q=K,ce=K;for(W=0;W<z;++W)Q=ce+(K=m[b+W])-Q,ce=N[C+W]+(-256&Q?0>Q?0:255:Q)&255,Q=K,D[U+W]=ce}}function Qr(m,b,N,C){var D=b.width,U=b.o;if(e(m!=null&&b!=null),0>N||0>=C||N+C>U)return null;if(!m.Cc){if(m.ga==null){var z;if(m.ga=new gt,(z=m.ga==null)||(z=b.width*b.o,e(m.Gb.length==0),m.Gb=a(z),m.Uc=0,m.Gb==null?z=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,z=1),z=!z),!z){z=m.ga;var W=m.Fa,K=m.P,Q=m.qc,ce=m.mb,be=m.nb,ee=K+1,he=Q-1,ve=z.l;if(e(W!=null&&ce!=null&&b!=null),To[0]=null,To[1]=wt,To[2]=Gt,To[3]=Pr,z.ca=ce,z.tb=be,z.c=b.width,z.i=b.height,e(0<z.c&&0<z.i),1>=Q)b=0;else if(z.$a=3&W[K+0],z.Z=W[K+0]>>2&3,z.Lc=W[K+0]>>4&3,K=W[K+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||K)b=0;else if(ve.put=ut,ve.ac=Xa,ve.bc=js,ve.ma=z,ve.width=b.width,ve.height=b.height,ve.Da=b.Da,ve.v=b.v,ve.va=b.va,ve.j=b.j,ve.o=b.o,z.$a)e:{e(z.$a==1),b=Pl();t:for(;;){if(b==null){b=0;break e}if(e(z!=null),z.mc=b,b.c=z.c,b.i=z.i,b.l=z.l,b.l.ma=z,b.l.width=z.c,b.l.height=z.i,b.a=0,Z(b.m,W,ee,he),!Za(z.c,z.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&_a(b.s)?(z.ic=1,W=b.c*b.i,b.Ta=null,b.Ua=0,b.V=a(W),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(z.ic=0,b=El(b,z.c)),!b))break t;b=1;break e}z.mc=null,b=0}else b=he>=z.c*z.i;z=!b}if(z)return null;m.ga.Lc!=1?m.Ga=0:C=U-N}e(m.ga!=null),e(N+C<=U);e:{if(b=(W=m.ga).c,U=W.l.o,W.$a==0){if(ee=m.rc,he=m.Vc,ve=m.Fa,K=m.P+1+N*b,Q=m.mb,ce=m.nb+N*b,e(K<=m.P+m.qc),W.Z!=0)for(e(To[W.Z]!=null),z=0;z<C;++z)To[W.Z](ee,he,ve,K,Q,ce,b),ee=Q,he=ce,ce+=b,K+=b;else for(z=0;z<C;++z)n(Q,ce,ve,K,b),ee=Q,he=ce,ce+=b,K+=b;m.rc=ee,m.Vc=he}else{if(e(W.mc!=null),b=N+C,e((z=W.mc)!=null),e(b<=z.i),z.C>=b)b=1;else if(W.ic||Qi(),W.ic){W=z.V,ee=z.Ba,he=z.c;var we=z.i,ye=(ve=1,K=z.$/he,Q=z.$%he,ce=z.m,be=z.s,z.$),Se=he*we,je=he*b,Ee=be.wc,Oe=ye<je?Pn(be,Q,K):null;e(ye<=Se),e(b<=we),e(_a(be));t:for(;;){for(;!ce.h&&ye<je;){if(Q&Ee||(Oe=Pn(be,Q,K)),e(Oe!=null),se(ce),256>(we=Ir(Oe.G[0],Oe.H[0],ce)))W[ee+ye]=we,++ye,++Q>=he&&(Q=0,++K<=b&&!(K%16)&&Sa(z,K));else{if(!(280>we)){ve=0;break t}we=Yi(we-256,ce);var rt,Ve=Ir(Oe.G[4],Oe.H[4],ce);if(se(ce),!(ye>=(Ve=Xi(he,Ve=Yi(Ve,ce)))&&Se-ye>=we)){ve=0;break t}for(rt=0;rt<we;++rt)W[ee+ye+rt]=W[ee+ye+rt-Ve];for(ye+=we,Q+=we;Q>=he;)Q-=he,++K<=b&&!(K%16)&&Sa(z,K);ye<je&&Q&Ee&&(Oe=Pn(be,Q,K))}e(ce.h==V(ce))}Sa(z,K>b?b:K);break t}!ve||ce.h&&ye<Se?(ve=0,z.a=ce.h?5:3):z.$=ye,b=ve}else b=Aa(z,z.V,z.Ba,z.c,z.i,b,ru);if(!b){C=0;break e}}N+C>=U&&(m.Cc=1),C=1}if(!C)return null;if(m.Cc&&((C=m.ga)!=null&&(C.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+N*D}function hr(m,b,N,C,D,U){for(;0<D--;){var z,W=m,K=b+(N?1:0),Q=m,ce=b+(N?0:3);for(z=0;z<C;++z){var be=Q[ce+4*z];be!=255&&(be*=32897,W[K+4*z+0]=W[K+4*z+0]*be>>23,W[K+4*z+1]=W[K+4*z+1]*be>>23,W[K+4*z+2]=W[K+4*z+2]*be>>23)}b+=U}}function ln(m,b,N,C,D){for(;0<C--;){var U;for(U=0;U<N;++U){var z=m[b+2*U+0],W=15&(Q=m[b+2*U+1]),K=4369*W,Q=(240&Q|Q>>4)*K>>16;m[b+2*U+0]=(240&z|z>>4)*K>>16&240|(15&z|z<<4)*K>>16>>4&15,m[b+2*U+1]=240&Q|W}b+=D}}function en(m,b,N,C,D,U,z,W){var K,Q,ce=255;for(Q=0;Q<D;++Q){for(K=0;K<C;++K){var be=m[b+K];U[z+4*K]=be,ce&=be}b+=N,z+=W}return ce!=255}function En(m,b,N,C,D){var U;for(U=0;U<D;++U)N[C+U]=m[b+U]>>8}function Qi(){zd=hr,sA=ln,oA=en,lA=En}function fi(m,b,N){E[m]=function(C,D,U,z,W,K,Q,ce,be,ee,he,ve,we,ye,Se,je,Ee){var Oe,rt=Ee-1>>1,Ve=W[K+0]|Q[ce+0]<<16,Pt=be[ee+0]|he[ve+0]<<16;e(C!=null);var Xe=3*Ve+Pt+131074>>2;for(b(C[D+0],255&Xe,Xe>>16,we,ye),U!=null&&(Xe=3*Pt+Ve+131074>>2,b(U[z+0],255&Xe,Xe>>16,Se,je)),Oe=1;Oe<=rt;++Oe){var Mt=W[K+Oe]|Q[ce+Oe]<<16,un=be[ee+Oe]|he[ve+Oe]<<16,Et=Ve+Mt+Pt+un+524296,Je=Et+2*(Mt+Pt)>>3;Xe=Je+Ve>>1,Ve=(Et=Et+2*(Ve+un)>>3)+Mt>>1,b(C[D+2*Oe-1],255&Xe,Xe>>16,we,ye+(2*Oe-1)*N),b(C[D+2*Oe-0],255&Ve,Ve>>16,we,ye+(2*Oe-0)*N),U!=null&&(Xe=Et+Pt>>1,Ve=Je+un>>1,b(U[z+2*Oe-1],255&Xe,Xe>>16,Se,je+(2*Oe-1)*N),b(U[z+2*Oe+0],255&Ve,Ve>>16,Se,je+(2*Oe+0)*N)),Ve=Mt,Pt=un}1&Ee||(Xe=3*Ve+Pt+131074>>2,b(C[D+Ee-1],255&Xe,Xe>>16,we,ye+(Ee-1)*N),U!=null&&(Xe=3*Pt+Ve+131074>>2,b(U[z+Ee-1],255&Xe,Xe>>16,Se,je+(Ee-1)*N)))}}function Lm(){na[Dm]=zR,na[Bm]=bA,na[pA]=qR,na[Fm]=xA,na[Um]=wA,na[R1]=_A,na[mA]=WR,na[M1]=bA,na[D1]=xA,na[zm]=wA,na[B1]=_A}function uu(m){return m&-16384?0>m?0:255:m>>HR}function Fl(m,b){return uu((19077*m>>8)+(26149*b>>8)-14234)}function So(m,b,N){return uu((19077*m>>8)-(6419*b>>8)-(13320*N>>8)+8708)}function Ul(m,b){return uu((19077*m>>8)+(33050*b>>8)-17685)}function zl(m,b,N,C,D){C[D+0]=Fl(m,N),C[D+1]=So(m,b,N),C[D+2]=Ul(m,b)}function ql(m,b,N,C,D){C[D+0]=Ul(m,b),C[D+1]=So(m,b,N),C[D+2]=Fl(m,N)}function Bn(m,b,N,C,D){var U=So(m,b,N);b=U<<3&224|Ul(m,b)>>3,C[D+0]=248&Fl(m,N)|U>>5,C[D+1]=b}function Wl(m,b,N,C,D){var U=240&Ul(m,b)|15;C[D+0]=240&Fl(m,N)|So(m,b,N)>>4,C[D+1]=U}function Hl(m,b,N,C,D){C[D+0]=255,zl(m,b,N,C,D+1)}function Td(m,b,N,C,D){ql(m,b,N,C,D),C[D+3]=255}function Ld(m,b,N,C,D){zl(m,b,N,C,D),C[D+3]=255}function $r(m,b){return 0>m?0:m>b?b:m}function Ts(m,b,N){E[m]=function(C,D,U,z,W,K,Q,ce,be){for(var ee=ce+(-2&be)*N;ce!=ee;)b(C[D+0],U[z+0],W[K+0],Q,ce),b(C[D+1],U[z+0],W[K+0],Q,ce+N),D+=2,++z,++K,ce+=2*N;1&be&&b(C[D+0],U[z+0],W[K+0],Q,ce)}}function fu(m,b,N){return N==0?m==0?b==0?6:5:b==0?4:0:N}function Im(m,b,N,C,D){switch(m>>>30){case 3:Yl(b,N,C,D,0);break;case 2:ta(b,N,C,D);break;case 1:Yt(b,N,C,D)}}function ea(m,b){var N,C,D=b.M,U=b.Nb,z=m.oc,W=m.pc+40,K=m.oc,Q=m.pc+584,ce=m.oc,be=m.pc+600;for(N=0;16>N;++N)z[W+32*N-1]=129;for(N=0;8>N;++N)K[Q+32*N-1]=129,ce[be+32*N-1]=129;for(0<D?z[W-1-32]=K[Q-1-32]=ce[be-1-32]=129:(i(z,W-32-1,127,21),i(K,Q-32-1,127,9),i(ce,be-32-1,127,9)),C=0;C<m.za;++C){var ee=b.ya[b.aa+C];if(0<C){for(N=-1;16>N;++N)n(z,W+32*N-4,z,W+32*N+12,4);for(N=-1;8>N;++N)n(K,Q+32*N-4,K,Q+32*N+4,4),n(ce,be+32*N-4,ce,be+32*N+4,4)}var he=m.Gd,ve=m.Hd+C,we=ee.ad,ye=ee.Hc;if(0<D&&(n(z,W-32,he[ve].y,0,16),n(K,Q-32,he[ve].f,0,8),n(ce,be-32,he[ve].ea,0,8)),ee.Za){var Se=z,je=W-32+16;for(0<D&&(C>=m.za-1?i(Se,je,he[ve].y[15],4):n(Se,je,he[ve+1].y,0,4)),N=0;4>N;N++)Se[je+128+N]=Se[je+256+N]=Se[je+384+N]=Se[je+0+N];for(N=0;16>N;++N,ye<<=2)Se=z,je=W+AA[N],Na[ee.Ob[N]](Se,je),Im(ye,we,16*+N,Se,je)}else if(Se=fu(C,D,ee.Ob[0]),Co[Se](z,W),ye!=0)for(N=0;16>N;++N,ye<<=2)Im(ye,we,16*+N,z,W+AA[N]);for(N=ee.Gc,Se=fu(C,D,ee.Dd),$s[Se](K,Q),$s[Se](ce,be),ye=we,Se=K,je=Q,255&(ee=0|N)&&(170&ee?rs(ye,256,Se,je):lr(ye,256,Se,je)),ee=ce,ye=be,255&(N>>=8)&&(170&N?rs(we,320,ee,ye):lr(we,320,ee,ye)),D<m.Ub-1&&(n(he[ve].y,0,z,W+480,16),n(he[ve].f,0,K,Q+224,8),n(he[ve].ea,0,ce,be+224,8)),N=8*U*m.B,he=m.sa,ve=m.ta+16*C+16*U*m.R,we=m.qa,ee=m.ra+8*C+N,ye=m.Ha,Se=m.Ia+8*C+N,N=0;16>N;++N)n(he,ve+N*m.R,z,W+32*N,16);for(N=0;8>N;++N)n(we,ee+N*m.B,K,Q+32*N,8),n(ye,Se+N*m.B,ce,be+32*N,8)}}function Vl(m,b,N,C,D,U,z,W,K){var Q=[0],ce=[0],be=0,ee=K!=null?K.kd:0,he=K??new Ae;if(m==null||12>N)return 7;he.data=m,he.w=b,he.ha=N,b=[b],N=[N],he.gb=[he.gb];e:{var ve=b,we=N,ye=he.gb;if(e(m!=null),e(we!=null),e(ye!=null),ye[0]=0,12<=we[0]&&!r(m,ve[0],"RIFF")){if(r(m,ve[0]+8,"WEBP")){ye=3;break e}var Se=ue(m,ve[0]+4);if(12>Se||4294967286<Se){ye=3;break e}if(ee&&Se>we[0]-8){ye=7;break e}ye[0]=Se,ve[0]+=12,we[0]-=12}ye=0}if(ye!=0)return ye;for(Se=0<he.gb[0],N=N[0];;){e:{var je=m;we=b,ye=N;var Ee=Q,Oe=ce,rt=ve=[0];if((Xe=be=[be])[0]=0,8>ye[0])ye=7;else{if(!r(je,we[0],"VP8X")){if(ue(je,we[0]+4)!=10){ye=3;break e}if(18>ye[0]){ye=7;break e}var Ve=ue(je,we[0]+8),Pt=1+Pe(je,we[0]+12);if(2147483648<=Pt*(je=1+Pe(je,we[0]+15))){ye=3;break e}rt!=null&&(rt[0]=Ve),Ee!=null&&(Ee[0]=Pt),Oe!=null&&(Oe[0]=je),we[0]+=18,ye[0]-=18,Xe[0]=1}ye=0}}if(be=be[0],ve=ve[0],ye!=0)return ye;if(we=!!(2&ve),!Se&&be)return 3;if(U!=null&&(U[0]=!!(16&ve)),z!=null&&(z[0]=we),W!=null&&(W[0]=0),z=Q[0],ve=ce[0],be&&we&&K==null){ye=0;break}if(4>N){ye=7;break}if(Se&&be||!Se&&!be&&!r(m,b[0],"ALPH")){N=[N],he.na=[he.na],he.P=[he.P],he.Sa=[he.Sa];e:{Ve=m,ye=b,Se=N;var Xe=he.gb;Ee=he.na,Oe=he.P,rt=he.Sa,Pt=22,e(Ve!=null),e(Se!=null),je=ye[0];var Mt=Se[0];for(e(Ee!=null),e(rt!=null),Ee[0]=null,Oe[0]=null,rt[0]=0;;){if(ye[0]=je,Se[0]=Mt,8>Mt){ye=7;break e}var un=ue(Ve,je+4);if(4294967286<un){ye=3;break e}var Et=8+un+1&-2;if(Pt+=Et,0<Xe&&Pt>Xe){ye=3;break e}if(!r(Ve,je,"VP8 ")||!r(Ve,je,"VP8L")){ye=0;break e}if(Mt[0]<Et){ye=7;break e}r(Ve,je,"ALPH")||(Ee[0]=Ve,Oe[0]=je+8,rt[0]=un),je+=Et,Mt-=Et}}if(N=N[0],he.na=he.na[0],he.P=he.P[0],he.Sa=he.Sa[0],ye!=0)break}N=[N],he.Ja=[he.Ja],he.xa=[he.xa];e:if(Xe=m,ye=b,Se=N,Ee=he.gb[0],Oe=he.Ja,rt=he.xa,Ve=ye[0],je=!r(Xe,Ve,"VP8 "),Pt=!r(Xe,Ve,"VP8L"),e(Xe!=null),e(Se!=null),e(Oe!=null),e(rt!=null),8>Se[0])ye=7;else{if(je||Pt){if(Xe=ue(Xe,Ve+4),12<=Ee&&Xe>Ee-12){ye=3;break e}if(ee&&Xe>Se[0]-8){ye=7;break e}Oe[0]=Xe,ye[0]+=8,Se[0]-=8,rt[0]=Pt}else rt[0]=5<=Se[0]&&Xe[Ve+0]==47&&!(Xe[Ve+4]>>5),Oe[0]=Se[0];ye=0}if(N=N[0],he.Ja=he.Ja[0],he.xa=he.xa[0],b=b[0],ye!=0)break;if(4294967286<he.Ja)return 3;if(W==null||we||(W[0]=he.xa?2:1),z=[z],ve=[ve],he.xa){if(5>N){ye=7;break}W=z,ee=ve,we=U,m==null||5>N?m=0:5<=N&&m[b+0]==47&&!(m[b+4]>>5)?(Se=[0],Xe=[0],Ee=[0],Z(Oe=new B,m,b,N),Ns(Oe,Se,Xe,Ee)?(W!=null&&(W[0]=Se[0]),ee!=null&&(ee[0]=Xe[0]),we!=null&&(we[0]=Ee[0]),m=1):m=0):m=0}else{if(10>N){ye=7;break}W=ve,m==null||10>N||!Am(m,b+3,N-3)?m=0:(ee=m[b+0]|m[b+1]<<8|m[b+2]<<16,we=16383&(m[b+7]<<8|m[b+6]),m=16383&(m[b+9]<<8|m[b+8]),1&ee||3<(ee>>1&7)||!(ee>>4&1)||ee>>5>=he.Ja||!we||!m?m=0:(z&&(z[0]=we),W&&(W[0]=m),m=1))}if(!m||(z=z[0],ve=ve[0],be&&(Q[0]!=z||ce[0]!=ve)))return 3;K!=null&&(K[0]=he,K.offset=b-K.w,e(4294967286>b-K.w),e(K.offset==K.ha-N));break}return ye==0||ye==7&&be&&K==null?(U!=null&&(U[0]|=he.na!=null&&0<he.na.length),C!=null&&(C[0]=z),D!=null&&(D[0]=ve),0):ye}function Id(m,b,N){var C=b.width,D=b.height,U=0,z=0,W=C,K=D;if(b.Da=m!=null&&0<m.Da,b.Da&&(W=m.cd,K=m.bd,U=m.v,z=m.j,11>N||(U&=-2,z&=-2),0>U||0>z||0>=W||0>=K||U+W>C||z+K>D))return 0;if(b.v=U,b.j=z,b.va=U+W,b.o=z+K,b.U=W,b.T=K,b.da=m!=null&&0<m.da,b.da){if(!Be(W,K,N=[m.ib],U=[m.hb]))return 0;b.ib=N[0],b.hb=U[0]}return b.ob=m!=null&&m.ob,b.Kb=m==null||!m.Sd,b.da&&(b.ob=b.ib<3*C/4&&b.hb<3*D/4,b.Kb=0),1}function $d(m){if(m==null)return 2;if(11>m.S){var b=m.f.RGBA;b.fb+=(m.height-1)*b.A,b.A=-b.A}else b=m.f.kb,m=m.height,b.O+=(m-1)*b.fa,b.fa=-b.fa,b.N+=(m-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(m-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(m-1)*b.lb,b.lb=-b.lb);return 0}function Ao(m,b,N,C){if(C==null||0>=m||0>=b)return 2;if(N!=null){if(N.Da){var D=N.cd,U=N.bd,z=-2&N.v,W=-2&N.j;if(0>z||0>W||0>=D||0>=U||z+D>m||W+U>b)return 2;m=D,b=U}if(N.da){if(!Be(m,b,D=[N.ib],U=[N.hb]))return 2;m=D[0],b=U[0]}}C.width=m,C.height=b;e:{var K=C.width,Q=C.height;if(m=C.S,0>=K||0>=Q||!(m>=Dm&&13>m))m=2;else{if(0>=C.Rd&&C.sd==null){z=U=D=b=0;var ce=(W=K*jA[m])*Q;if(11>m||(U=(Q+1)/2*(b=(K+1)/2),m==12&&(z=(D=K)*Q)),(Q=a(ce+2*U+z))==null){m=1;break e}C.sd=Q,11>m?((K=C.f.RGBA).eb=Q,K.fb=0,K.A=W,K.size=ce):((K=C.f.kb).y=Q,K.O=0,K.fa=W,K.Fd=ce,K.f=Q,K.N=0+ce,K.Ab=b,K.Cd=U,K.ea=Q,K.W=0+ce+U,K.Db=b,K.Ed=U,m==12&&(K.F=Q,K.J=0+ce+2*U),K.Tc=z,K.lb=D)}if(b=1,D=C.S,U=C.width,z=C.height,D>=Dm&&13>D)if(11>D)m=C.f.RGBA,b&=(W=Math.abs(m.A))*(z-1)+U<=m.size,b&=W>=U*jA[D],b&=m.eb!=null;else{m=C.f.kb,W=(U+1)/2,ce=(z+1)/2,K=Math.abs(m.fa),Q=Math.abs(m.Ab);var be=Math.abs(m.Db),ee=Math.abs(m.lb),he=ee*(z-1)+U;b&=K*(z-1)+U<=m.Fd,b&=Q*(ce-1)+W<=m.Cd,b=(b&=be*(ce-1)+W<=m.Ed)&K>=U&Q>=W&be>=W,b&=m.y!=null,b&=m.f!=null,b&=m.ea!=null,D==12&&(b&=ee>=U,b&=he<=m.Tc,b&=m.F!=null)}else b=0;m=b?0:2}}return m!=0||N!=null&&N.fd&&(m=$d(C)),m}var Gl=64,_i=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Si=24,jo=32,Ls=8,No=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(m){return m},E.Predictor2=function(m,b,N){return b[N+0]},E.Predictor3=function(m,b,N){return b[N+1]},E.Predictor4=function(m,b,N){return b[N-1]},E.Predictor5=function(m,b,N){return De(De(m,b[N+1]),b[N+0])},E.Predictor6=function(m,b,N){return De(m,b[N-1])},E.Predictor7=function(m,b,N){return De(m,b[N+0])},E.Predictor8=function(m,b,N){return De(b[N-1],b[N+0])},E.Predictor9=function(m,b,N){return De(b[N+0],b[N+1])},E.Predictor10=function(m,b,N){return De(De(m,b[N-1]),De(b[N+0],b[N+1]))},E.Predictor11=function(m,b,N){var C=b[N+0];return 0>=At(C>>24&255,m>>24&255,(b=b[N-1])>>24&255)+At(C>>16&255,m>>16&255,b>>16&255)+At(C>>8&255,m>>8&255,b>>8&255)+At(255&C,255&m,255&b)?C:m},E.Predictor12=function(m,b,N){var C=b[N+0];return(It((m>>24&255)+(C>>24&255)-((b=b[N-1])>>24&255))<<24|It((m>>16&255)+(C>>16&255)-(b>>16&255))<<16|It((m>>8&255)+(C>>8&255)-(b>>8&255))<<8|It((255&m)+(255&C)-(255&b)))>>>0},E.Predictor13=function(m,b,N){var C=b[N-1];return(ot((m=De(m,b[N+0]))>>24&255,C>>24&255)<<24|ot(m>>16&255,C>>16&255)<<16|ot(m>>8&255,C>>8&255)<<8|ot(255&m,255&C))>>>0};var Rd=E.PredictorAdd0;E.PredictorAdd1=ir,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var du=E.PredictorAdd2;st("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),st("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var qr,$m=E.ColorIndexInverseTransform,es=E.MapARGB,ts=E.VP8LColorIndexInverseTransformAlpha,Md=E.MapAlpha,Dd=E.VP8LPredictorsAdd=[];Dd.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var Bd,Fd,Oo,ko,Po,Kl,Eo,Yl,ta,rs,Yt,lr,Wr,cn,Is,Ud,hu,Rm,eA,tA,rA,nA,iA,aA,zd,sA,oA,lA,cA=a(511),uA=a(2041),fA=a(225),dA=a(767),hA=0,$1=uA,Mm=fA,Ai=dA,ra=cA,Dm=0,Bm=1,pA=2,Fm=3,Um=4,R1=5,mA=6,M1=7,D1=8,zm=9,B1=10,kR=[2,3,7],PR=[3,3,11],gA=[280,256,256,256,40],ER=[0,1,1,1,0],CR=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],TR=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],LR=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],IR=8,F1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],U1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qd=null,$R=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],RR=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],vA=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],MR=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],DR=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],BR=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],FR=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Co=[],Na=[],$s=[],UR=1,yA=2,To=[],na=[];fi("UpsampleRgbLinePair",zl,3),fi("UpsampleBgrLinePair",ql,3),fi("UpsampleRgbaLinePair",Ld,4),fi("UpsampleBgraLinePair",Td,4),fi("UpsampleArgbLinePair",Hl,4),fi("UpsampleRgba4444LinePair",Wl,2),fi("UpsampleRgb565LinePair",Bn,2);var zR=E.UpsampleRgbLinePair,qR=E.UpsampleBgrLinePair,bA=E.UpsampleRgbaLinePair,xA=E.UpsampleBgraLinePair,wA=E.UpsampleArgbLinePair,_A=E.UpsampleRgba4444LinePair,WR=E.UpsampleRgb565LinePair,qm=16,Wm=1<<qm-1,Wd=-227,z1=482,HR=6,SA=0,VR=a(256),GR=a(256),KR=a(256),YR=a(256),XR=a(z1-Wd),JR=a(z1-Wd);Ts("YuvToRgbRow",zl,3),Ts("YuvToBgrRow",ql,3),Ts("YuvToRgbaRow",Ld,4),Ts("YuvToBgraRow",Td,4),Ts("YuvToArgbRow",Hl,4),Ts("YuvToRgba4444Row",Wl,2),Ts("YuvToRgb565Row",Bn,2);var AA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Hm=[0,2,8],ZR=[8,7,6,4,4,2,2,2,1,1,1,1],QR=1;this.WebPDecodeRGBA=function(m,b,N,C,D){var U=Bm,z=new ge,W=new or;z.ba=W,W.S=U,W.width=[W.width],W.height=[W.height];var K=W.width,Q=W.height,ce=new yt;if(ce==null||m==null)var be=2;else e(ce!=null),be=Vl(m,b,N,ce.width,ce.height,ce.Pd,ce.Qd,ce.format,null);if(be!=0?K=0:(K!=null&&(K[0]=ce.width[0]),Q!=null&&(Q[0]=ce.height[0]),K=1),K){W.width=W.width[0],W.height=W.height[0],C!=null&&(C[0]=W.width),D!=null&&(D[0]=W.height);e:{if(C=new au,(D=new Ae).data=m,D.w=b,D.ha=N,D.kd=1,b=[0],e(D!=null),((m=Vl(D.data,D.w,D.ha,null,null,null,b,null,D))==0||m==7)&&b[0]&&(m=4),(b=m)==0){if(e(z!=null),C.data=D.data,C.w=D.w+D.offset,C.ha=D.ha-D.offset,C.put=ut,C.ac=Xa,C.bc=js,C.ma=z,D.xa){if((m=Pl())==null){z=1;break e}if(function(ee,he){var ve=[0],we=[0],ye=[0];t:for(;;){if(ee==null)return 0;if(he==null)return ee.a=2,0;if(ee.l=he,ee.a=0,Z(ee.m,he.data,he.w,he.ha),!Ns(ee.m,ve,we,ye)){ee.a=3;break t}if(ee.xb=yA,he.width=ve[0],he.height=we[0],!Za(ve[0],we[0],1,ee,null))break t;return 1}return e(ee.a!=0),0}(m,C)){if(C=(b=Ao(C.width,C.height,z.Oa,z.ba))==0){t:{C=m;r:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((N=C.l)!=null),e((D=N.ma)!=null),C.xb!=0){if(C.ca=D.ba,C.tb=D.tb,e(C.ca!=null),!Id(D.Oa,N,Fm)){C.a=2;break r}if(!El(C,N.width)||N.da)break r;if((N.da||Nt(C.ca.S))&&Qi(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&Qi()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!G(C.s.vb,C.s.Wa.Xa)){C.a=1;break r}C.xb=0}if(!Aa(C,C.V,C.Ba,C.c,C.i,N.o,xo))break r;D.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(b=m.a)}else b=m.a}else{if((m=new x1)==null){z=1;break e}if(m.Fa=D.na,m.P=D.P,m.qc=D.Sa,jm(m,C)){if((b=Ao(C.width,C.height,z.Oa,z.ba))==0){if(m.Aa=0,N=z.Oa,e((D=m)!=null),N!=null){if(0<(K=0>(K=N.Md)?0:100<K?255:255*K/100)){for(Q=ce=0;4>Q;++Q)12>(be=D.pb[Q]).lc&&(be.ia=K*ZR[0>be.lc?0:be.lc]>>3),ce|=be.ia;ce&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=N.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}(function(ee,he){if(ee==null)return 0;if(he==null)return Zr(ee,2,"NULL VP8Io parameter in VP8Decode().");if(!ee.cb&&!jm(ee,he))return 0;if(e(ee.cb),he.ac==null||he.ac(he)){he.ob&&(ee.L=0);var ve=Hm[ee.L];if(ee.L==2?(ee.yb=0,ee.zb=0):(ee.yb=he.v-ve>>4,ee.zb=he.j-ve>>4,0>ee.yb&&(ee.yb=0),0>ee.zb&&(ee.zb=0)),ee.Va=he.o+15+ve>>4,ee.Hb=he.va+15+ve>>4,ee.Hb>ee.za&&(ee.Hb=ee.za),ee.Va>ee.Ub&&(ee.Va=ee.Ub),0<ee.L){var we=ee.ed;for(ve=0;4>ve;++ve){var ye;if(ee.Qa.Cb){var Se=ee.Qa.Lb[ve];ee.Qa.Fb||(Se+=we.Tb)}else Se=we.Tb;for(ye=0;1>=ye;++ye){var je=ee.gd[ve][ye],Ee=Se;if(we.Pc&&(Ee+=we.vd[0],ye&&(Ee+=we.od[0])),0<(Ee=0>Ee?0:63<Ee?63:Ee)){var Oe=Ee;0<we.wb&&(Oe=4<we.wb?Oe>>2:Oe>>1)>9-we.wb&&(Oe=9-we.wb),1>Oe&&(Oe=1),je.dd=Oe,je.tc=2*Ee+Oe,je.ld=40<=Ee?2:15<=Ee?1:0}else je.tc=0;je.La=ye}}}ve=0}else Zr(ee,6,"Frame setup failed"),ve=ee.a;if(ve=ve==0){if(ve){ee.$c=0,0<ee.Aa||(ee.Ic=QR);t:{ve=ee.Ic,we=4*(Oe=ee.za);var rt=32*Oe,Ve=Oe+1,Pt=0<ee.L?Oe*(0<ee.Aa?2:1):0,Xe=(ee.Aa==2?2:1)*Oe;if((je=we+832+(ye=3*(16*ve+Hm[ee.L])/2*rt)+(Se=ee.Fa!=null&&0<ee.Fa.length?ee.Kc.c*ee.Kc.i:0))!=je)ve=0;else{if(je>ee.Vb){if(ee.Vb=0,ee.Ec=a(je),ee.Fc=0,ee.Ec==null){ve=Zr(ee,1,"no memory during frame initialization.");break t}ee.Vb=je}je=ee.Ec,Ee=ee.Fc,ee.Ac=je,ee.Bc=Ee,Ee+=we,ee.Gd=s(rt,_m),ee.Hd=0,ee.rb=s(Ve+1,wd),ee.sb=1,ee.wa=Pt?s(Pt,Zi):null,ee.Y=0,ee.D.Nb=0,ee.D.wa=ee.wa,ee.D.Y=ee.Y,0<ee.Aa&&(ee.D.Y+=Oe),e(!0),ee.oc=je,ee.pc=Ee,Ee+=832,ee.ya=s(Xe,_d),ee.aa=0,ee.D.ya=ee.ya,ee.D.aa=ee.aa,ee.Aa==2&&(ee.D.aa+=Oe),ee.R=16*Oe,ee.B=8*Oe,Oe=(rt=Hm[ee.L])*ee.R,rt=rt/2*ee.B,ee.sa=je,ee.ta=Ee+Oe,ee.qa=ee.sa,ee.ra=ee.ta+16*ve*ee.R+rt,ee.Ha=ee.qa,ee.Ia=ee.ra+8*ve*ee.B+rt,ee.$c=0,Ee+=ye,ee.mb=Se?je:null,ee.nb=Se?Ee:null,e(Ee+Se<=ee.Fc+ee.Vb),Cl(ee),i(ee.Ac,ee.Bc,0,we),ve=1}}if(ve){if(he.ka=0,he.y=ee.sa,he.O=ee.ta,he.f=ee.qa,he.N=ee.ra,he.ea=ee.Ha,he.Vd=ee.Ia,he.fa=ee.R,he.Rc=ee.B,he.F=null,he.J=0,!hA){for(ve=-255;255>=ve;++ve)cA[255+ve]=0>ve?-ve:ve;for(ve=-1020;1020>=ve;++ve)uA[1020+ve]=-128>ve?-128:127<ve?127:ve;for(ve=-112;112>=ve;++ve)fA[112+ve]=-16>ve?-16:15<ve?15:ve;for(ve=-255;510>=ve;++ve)dA[255+ve]=0>ve?0:255<ve?255:ve;hA=1}Eo=Om,Yl=_1,rs=S1,Yt=Qa,lr=Nm,ta=w1,Wr=Em,cn=Cm,Is=A,Ud=M,hu=Bl,Rm=Tm,eA=te,tA=oe,rA=Cd,nA=Dl,iA=km,aA=Pm,Na[0]=E1,Na[1]=Ad,Na[2]=k1,Na[3]=P1,Na[4]=C1,Na[5]=Ps,Na[6]=ks,Na[7]=T1,Na[8]=su,Na[9]=L1,Co[0]=_o,Co[1]=j1,Co[2]=N1,Co[3]=jd,Co[4]=O1,Co[5]=Il,Co[6]=Nd,$s[0]=lu,$s[1]=A1,$s[2]=Od,$s[3]=$l,$s[4]=kd,$s[5]=I1,$s[6]=Pd,ve=1}else ve=0}ve&&(ve=function(Mt,un){for(Mt.M=0;Mt.M<Mt.Va;++Mt.M){var Et,Je=Mt.Jc[Mt.M&Mt.Xb],Me=Mt.m,Hr=Mt;for(Et=0;Et<Hr.za;++Et){var Ot=Me,Bt=Hr,xr=Bt.Ac,Cn=Bt.Bc+4*Et,Qn=Bt.zc,Rr=Bt.ya[Bt.aa+Et];if(Bt.Qa.Bb?Rr.$b=me(Ot,Bt.Pa.jb[0])?2+me(Ot,Bt.Pa.jb[2]):me(Ot,Bt.Pa.jb[1]):Rr.$b=0,Bt.kc&&(Rr.Ad=me(Ot,Bt.Bd)),Rr.Za=!me(Ot,145)+0,Rr.Za){var Fn=Rr.Ob,ei=0;for(Bt=0;4>Bt;++Bt){var fn,Ft=Qn[0+Bt];for(fn=0;4>fn;++fn){Ft=DR[xr[Cn+fn]][Ft];for(var Jt=vA[me(Ot,Ft[0])];0<Jt;)Jt=vA[2*Jt+me(Ot,Ft[Jt])];Ft=-Jt,xr[Cn+fn]=Ft}n(Fn,ei,xr,Cn,4),ei+=4,Qn[0+Bt]=Ft}}else Ft=me(Ot,156)?me(Ot,128)?1:3:me(Ot,163)?2:0,Rr.Ob[0]=Ft,i(xr,Cn,Ft,4),i(Qn,0,Ft,4);Rr.Dd=me(Ot,142)?me(Ot,114)?me(Ot,183)?1:3:2:0}if(Hr.m.Ka)return Zr(Mt,7,"Premature end-of-partition0 encountered.");for(;Mt.ja<Mt.za;++Mt.ja){if(Hr=Je,Ot=(Me=Mt).rb[Me.sb-1],xr=Me.rb[Me.sb+Me.ja],Et=Me.ya[Me.aa+Me.ja],Cn=Me.kc?Et.Ad:0)Ot.la=xr.la=0,Et.Za||(Ot.Na=xr.Na=0),Et.Hc=0,Et.Gc=0,Et.ia=0;else{var Mr,Zt;if(Ot=xr,xr=Hr,Cn=Me.Pa.Xc,Qn=Me.ya[Me.aa+Me.ja],Rr=Me.pb[Qn.$b],Bt=Qn.ad,Fn=0,ei=Me.rb[Me.sb-1],Ft=fn=0,i(Bt,Fn,0,384),Qn.Za)var Tn=0,Oa=Cn[3];else{Jt=a(16);var Vr=Ot.Na+ei.Na;if(Vr=qd(xr,Cn[1],Vr,Rr.Eb,0,Jt,0),Ot.Na=ei.Na=(0<Vr)+0,1<Vr)Eo(Jt,0,Bt,Fn);else{var di=Jt[0]+3>>3;for(Jt=0;256>Jt;Jt+=16)Bt[Fn+Jt]=di}Tn=1,Oa=Cn[0]}var cr=15&Ot.la,dn=15&ei.la;for(Jt=0;4>Jt;++Jt){var ji=1&dn;for(di=Zt=0;4>di;++di)cr=cr>>1|(ji=(Vr=qd(xr,Oa,Vr=ji+(1&cr),Rr.Sc,Tn,Bt,Fn))>Tn)<<7,Zt=Zt<<2|(3<Vr?3:1<Vr?2:Bt[Fn+0]!=0),Fn+=16;cr>>=4,dn=dn>>1|ji<<7,fn=(fn<<8|Zt)>>>0}for(Oa=cr,Tn=dn>>4,Mr=0;4>Mr;Mr+=2){for(Zt=0,cr=Ot.la>>4+Mr,dn=ei.la>>4+Mr,Jt=0;2>Jt;++Jt){for(ji=1&dn,di=0;2>di;++di)Vr=ji+(1&cr),cr=cr>>1|(ji=0<(Vr=qd(xr,Cn[2],Vr,Rr.Qc,0,Bt,Fn)))<<3,Zt=Zt<<2|(3<Vr?3:1<Vr?2:Bt[Fn+0]!=0),Fn+=16;cr>>=2,dn=dn>>1|ji<<5}Ft|=Zt<<4*Mr,Oa|=cr<<4<<Mr,Tn|=(240&dn)<<Mr}Ot.la=Oa,ei.la=Tn,Qn.Hc=fn,Qn.Gc=Ft,Qn.ia=43690&Ft?0:Rr.ia,Cn=!(fn|Ft)}if(0<Me.L&&(Me.wa[Me.Y+Me.ja]=Me.gd[Et.$b][Et.Za],Me.wa[Me.Y+Me.ja].La|=!Cn),Hr.Ka)return Zr(Mt,7,"Premature end-of-file encountered.")}if(Cl(Mt),Me=un,Hr=1,Et=(Je=Mt).D,Ot=0<Je.L&&Je.M>=Je.zb&&Je.M<=Je.Va,Je.Aa==0)t:{if(Et.M=Je.M,Et.uc=Ot,ea(Je,Et),Hr=1,Et=(Zt=Je.D).Nb,Ot=(Ft=Hm[Je.L])*Je.R,xr=Ft/2*Je.B,Jt=16*Et*Je.R,di=8*Et*Je.B,Cn=Je.sa,Qn=Je.ta-Ot+Jt,Rr=Je.qa,Bt=Je.ra-xr+di,Fn=Je.Ha,ei=Je.Ia-xr+di,dn=(cr=Zt.M)==0,fn=cr>=Je.Va-1,Je.Aa==2&&ea(Je,Zt),Zt.uc)for(ji=(Vr=Je).D.M,e(Vr.D.uc),Zt=Vr.yb;Zt<Vr.Hb;++Zt){Tn=Zt,Oa=ji;var ti=(Ni=(Ln=Vr).D).Nb;Mr=Ln.R;var Ni=Ni.wa[Ni.Y+Tn],Oi=Ln.sa,hi=Ln.ta+16*ti*Mr+16*Tn,ki=Ni.dd,pr=Ni.tc;if(pr!=0)if(e(3<=pr),Ln.L==1)0<Tn&&nA(Oi,hi,Mr,pr+4),Ni.La&&aA(Oi,hi,Mr,pr),0<Oa&&rA(Oi,hi,Mr,pr+4),Ni.La&&iA(Oi,hi,Mr,pr);else{var Pi=Ln.B,ka=Ln.qa,Xl=Ln.ra+8*ti*Pi+8*Tn,Rs=Ln.Ha,Ln=Ln.Ia+8*ti*Pi+8*Tn;ti=Ni.ld,0<Tn&&(cn(Oi,hi,Mr,pr+4,ki,ti),Ud(ka,Xl,Rs,Ln,Pi,pr+4,ki,ti)),Ni.La&&(Rm(Oi,hi,Mr,pr,ki,ti),tA(ka,Xl,Rs,Ln,Pi,pr,ki,ti)),0<Oa&&(Wr(Oi,hi,Mr,pr+4,ki,ti),Is(ka,Xl,Rs,Ln,Pi,pr+4,ki,ti)),Ni.La&&(hu(Oi,hi,Mr,pr,ki,ti),eA(ka,Xl,Rs,Ln,Pi,pr,ki,ti))}}if(Je.ia&&alert("todo:DitherRow"),Me.put!=null){if(Zt=16*cr,cr=16*(cr+1),dn?(Me.y=Je.sa,Me.O=Je.ta+Jt,Me.f=Je.qa,Me.N=Je.ra+di,Me.ea=Je.Ha,Me.W=Je.Ia+di):(Zt-=Ft,Me.y=Cn,Me.O=Qn,Me.f=Rr,Me.N=Bt,Me.ea=Fn,Me.W=ei),fn||(cr-=Ft),cr>Me.o&&(cr=Me.o),Me.F=null,Me.J=null,Je.Fa!=null&&0<Je.Fa.length&&Zt<cr&&(Me.J=Qr(Je,Me,Zt,cr-Zt),Me.F=Je.mb,Me.F==null&&Me.F.length==0)){Hr=Zr(Je,3,"Could not decode alpha data.");break t}Zt<Me.j&&(Ft=Me.j-Zt,Zt=Me.j,e(!(1&Ft)),Me.O+=Je.R*Ft,Me.N+=Je.B*(Ft>>1),Me.W+=Je.B*(Ft>>1),Me.F!=null&&(Me.J+=Me.width*Ft)),Zt<cr&&(Me.O+=Me.v,Me.N+=Me.v>>1,Me.W+=Me.v>>1,Me.F!=null&&(Me.J+=Me.v),Me.ka=Zt-Me.j,Me.U=Me.va-Me.v,Me.T=cr-Zt,Hr=Me.put(Me))}Et+1!=Je.Ic||fn||(n(Je.sa,Je.ta-Ot,Cn,Qn+16*Je.R,Ot),n(Je.qa,Je.ra-xr,Rr,Bt+8*Je.B,xr),n(Je.Ha,Je.Ia-xr,Fn,ei+8*Je.B,xr))}if(!Hr)return Zr(Mt,6,"Output aborted.")}return 1}(ee,he)),he.bc!=null&&he.bc(he),ve&=1}return ve?(ee.cb=0,ve):0})(m,C)||(b=m.a)}}else b=m.a}b==0&&z.Oa!=null&&z.Oa.fd&&(b=$d(z.ba))}z=b}U=z!=0?null:11>U?W.f.RGBA.eb:W.f.kb.y}else U=null;return U};var jA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(E,$){for(var P="",I=0;I<4;I++)P+=String.fromCharCode(E[$++]);return P}function u(E,$){return E[$+0]|E[$+1]<<8}function f(E,$){return(E[$+0]|E[$+1]<<8|E[$+2]<<16)>>>0}function p(E,$){return(E[$+0]|E[$+1]<<8|E[$+2]<<16|E[$+3]<<24)>>>0}new l;var h=[0],g=[0],v=[],x=new l,y=t,w=function(E,$){var P={},I=0,F=!1,R=0,H=0;if(P.frames=[],!function(T,B){for(var X=0;X<4;X++)if(T[B+X]!="RIFF".charCodeAt(X))return!0;return!1}(E,$)){for(p(E,$+=4),$+=8;$<E.length;){var J=c(E,$),re=p(E,$+=4);$+=4;var q=re+(1&re);switch(J){case"VP8 ":case"VP8L":P.frames[I]===void 0&&(P.frames[I]={}),(fe=P.frames[I]).src_off=F?H:$-8,fe.src_size=R+re+8,I++,F&&(F=!1,R=0,H=0);break;case"VP8X":(fe=P.header={}).feature_flags=E[$];var Z=$+4;fe.canvas_width=1+f(E,Z),Z+=3,fe.canvas_height=1+f(E,Z),Z+=3;break;case"ALPH":F=!0,R=q+8,H=$-8;break;case"ANIM":(fe=P.header).bgcolor=p(E,$),Z=$+4,fe.loop_count=u(E,Z),Z+=2;break;case"ANMF":var le,fe;(fe=P.frames[I]={}).offset_x=2*f(E,$),$+=3,fe.offset_y=2*f(E,$),$+=3,fe.width=1+f(E,$),$+=3,fe.height=1+f(E,$),$+=3,fe.duration=f(E,$),$+=3,le=E[$++],fe.dispose=1&le,fe.blend=le>>1&1}J!="ANMF"&&($+=q)}return P}}(y,0);w.response=y,w.rgbaoutput=!0,w.dataurl=!1;var _=w.header?w.header:null,j=w.frames?w.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],g=[_.canvas_width];for(var S=0;S<j.length&&j[S].blend!=0;S++);}var O=j[0],k=x.WebPDecodeRGBA(y,O.src_off,O.src_size,g,h);O.rgba=k,O.imgwidth=g[0],O.imgheight=h[0];for(var L=0;L<g[0]*h[0]*4;L++)v[L]=k[L];return this.width=g,this.height=h,this.data=v,this}(function(t){var e,r,n,i,a,s,o,l,c,u=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new l,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new s,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new s,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=T;Object.defineProperty(this,"pdf",{get:function(){return B}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(ue){X=!!ue}});var V=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return V},set:function(ue){V=!!ue}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(ue){isNaN(ue)||(ne=ue)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(ue){isNaN(ue)||(se=ue)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ue){var G;typeof ue=="number"?G=[ue,ue,ue,ue]:((G=new Array(4))[0]=ue[0],G[1]=ue.length>=2?ue[1]:G[0],G[2]=ue.length>=3?ue[2]:G[0],G[3]=ue.length>=4?ue[3]:G[1]),c.margin=G}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(ue){de=ue}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(ue){ie=ue}});var me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return me},set:function(ue){me=ue}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ue){ue instanceof u&&(c=ue)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ue){c.path=ue}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(ue){xe=ue}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ue){var G;G=p(ue),this.ctx.fillStyle=G.style,this.ctx.isFillTransparent=G.a===0,this.ctx.fillOpacity=G.a,this.pdf.setFillColor(G.r,G.g,G.b,{a:G.a}),this.pdf.setTextColor(G.r,G.g,G.b,{a:G.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ue){var G=p(ue);this.ctx.strokeStyle=G.style,this.ctx.isStrokeTransparent=G.a===0,this.ctx.strokeOpacity=G.a,G.a===0?this.pdf.setDrawColor(255,255,255):(G.a,this.pdf.setDrawColor(G.r,G.g,G.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ue){["butt","round","square"].indexOf(ue)!==-1&&(this.ctx.lineCap=ue,this.pdf.setLineCap(ue))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ue){isNaN(ue)||(this.ctx.lineWidth=ue,this.pdf.setLineWidth(ue))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ue){["bevel","round","miter"].indexOf(ue)!==-1&&(this.ctx.lineJoin=ue,this.pdf.setLineJoin(ue))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ue){isNaN(ue)||(this.ctx.miterLimit=ue,this.pdf.setMiterLimit(ue))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ue){this.ctx.textBaseline=ue}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ue){["right","end","center","left","start"].indexOf(ue)!==-1&&(this.ctx.textAlign=ue)}});var pe=null,Pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Pe},set:function(ue){pe=null,Pe=ue}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ue){var G;if(this.ctx.font=ue,(G=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ue))!==null){var Re=G[1];G[2];var Fe=G[3],Be=G[4];G[5];var Ne=G[6],Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Be)[2];Be=Math.floor(Ue==="px"?parseFloat(Be)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(Be)*this.pdf.getFontSize():parseFloat(Be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Be);var Ce=function(ht){var st,dr,Vt=[],tt=ht.trim();if(tt==="")return kx;if(tt in KP)return[KP[tt]];for(;tt!=="";){switch(dr=null,st=(tt=XP(tt)).charAt(0)){case'"':case"'":dr=wye(tt.substring(1),st);break;default:dr=_ye(tt)}if(dr===null||(Vt.push(dr[0]),(tt=XP(dr[1]))!==""&&tt.charAt(0)!==","))return kx;tt=tt.replace(/^,/,"")}return Vt}(Ne);if(this.fontFaces){var qe=function(ht,st){if(pe===null){var dr=function(Vt){var tt=[];return Object.keys(Vt).forEach(function(jt){Vt[jt].forEach(function(sr){var ct=null;switch(sr){case"bold":ct={family:jt,weight:"bold"};break;case"italic":ct={family:jt,style:"italic"};break;case"bolditalic":ct={family:jt,weight:"bold",style:"italic"};break;case"":case"normal":ct={family:jt}}ct!==null&&(ct.ref={name:jt,style:sr},tt.push(ct))})}),tt}(ht.getFontList());pe=function(Vt){for(var tt={},jt=0;jt<Vt.length;++jt){var sr=Ox(Vt[jt]),ct=sr.family,Rt=sr.stretch,Nt=sr.style,Ur=sr.weight;tt[ct]=tt[ct]||{},tt[ct][Rt]=tt[ct][Rt]||{},tt[ct][Rt][Nt]=tt[ct][Rt][Nt]||{},tt[ct][Rt][Nt][Ur]=sr}return tt}(dr.concat(st))}return pe}(this.pdf,this.fontFaces),De=Ce.map(function(ht){return{family:ht,stretch:"normal",weight:Fe,style:Re}}),It=function(ht,st,dr){for(var Vt=(dr=dr||{}).defaultFontFamily||"times",tt=Object.assign({},xye,dr.genericFontFamilies||{}),jt=null,sr=null,ct=0;ct<st.length;++ct)if(tt[(jt=Ox(st[ct])).family]&&(jt.family=tt[jt.family]),ht.hasOwnProperty(jt.family)){sr=ht[jt.family];break}if(!(sr=sr||ht[Vt]))throw new Error("Could not find a font-family for the rule '"+YP(jt)+"' and default family '"+Vt+"'.");if(sr=function(Rt,Nt){if(Nt[Rt])return Nt[Rt];var Ur=E5[Rt],on=Ur<=E5.normal?-1:1,or=GP(Nt,SR,Ur,on);if(!or)throw new Error("Could not find a matching font-stretch value for "+Rt);return or}(jt.stretch,sr),sr=function(Rt,Nt){if(Nt[Rt])return Nt[Rt];for(var Ur=_R[Rt],on=0;on<Ur.length;++on)if(Nt[Ur[on]])return Nt[Ur[on]];throw new Error("Could not find a matching font-style for "+Rt)}(jt.style,sr),!(sr=function(Rt,Nt){if(Nt[Rt])return Nt[Rt];if(Rt===400&&Nt[500])return Nt[500];if(Rt===500&&Nt[400])return Nt[400];var Ur=bye[Rt],on=GP(Nt,AR,Ur,Rt<400?-1:1);if(!on)throw new Error("Could not find a matching font-weight for value "+Rt);return on}(jt.weight,sr)))throw new Error("Failed to resolve a font for the rule '"+YP(jt)+"'.");return sr}(qe,De);this.pdf.setFont(It.ref.name,It.ref.style)}else{var ot="";(Fe==="bold"||parseInt(Fe,10)>=700||Re==="bold")&&(ot="bold"),Re==="italic"&&(ot+="italic"),ot.length===0&&(ot="normal");for(var At="",ir={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},kt=0;kt<Ce.length;kt++){if(this.pdf.internal.getFont(Ce[kt],ot,{noFallback:!0,disableWarning:!0})!==void 0){At=Ce[kt];break}if(ot==="bolditalic"&&this.pdf.internal.getFont(Ce[kt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)At=Ce[kt],ot="bold";else if(this.pdf.internal.getFont(Ce[kt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){At=Ce[kt],ot="normal";break}}if(At===""){for(var at=0;at<Ce.length;at++)if(ir[Ce[at]]){At=ir[Ce[at]];break}}At=At===""?"Times":At,this.pdf.setFont(At,ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ue){this.ctx.globalCompositeOperation=ue}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ue){this.ctx.globalAlpha=ue}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ue){this.ctx.lineDashOffset=ue,fe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ue){this.ctx.lineDash=ue,fe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ue){this.ctx.ignoreClearRect=!!ue}})};f.prototype.setLineDash=function(T){this.lineDash=T},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){j.call(this,"fill",!1)},f.prototype.stroke=function(){j.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(T,B){if(isNaN(T)||isNaN(B))throw ur.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new s(T,B));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new s(T,B)},f.prototype.closePath=function(){var T=new s(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&er(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){T=new s(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(T.x,T.y)},f.prototype.lineTo=function(T,B){if(isNaN(T)||isNaN(B))throw ur.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new s(T,B));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new s(X.x,X.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},f.prototype.quadraticCurveTo=function(T,B,X,V){if(isNaN(X)||isNaN(V)||isNaN(T)||isNaN(B))throw ur.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new s(X,V)),se=this.ctx.transform.applyToPoint(new s(T,B));this.path.push({type:"qct",x1:se.x,y1:se.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new s(ne.x,ne.y)},f.prototype.bezierCurveTo=function(T,B,X,V,ne,se){if(isNaN(ne)||isNaN(se)||isNaN(T)||isNaN(B)||isNaN(X)||isNaN(V))throw ur.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new s(ne,se)),ie=this.ctx.transform.applyToPoint(new s(T,B)),me=this.ctx.transform.applyToPoint(new s(X,V));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:me.x,y2:me.y,x:de.x,y:de.y}),this.ctx.lastPoint=new s(de.x,de.y)},f.prototype.arc=function(T,B,X,V,ne,se){if(isNaN(T)||isNaN(B)||isNaN(X)||isNaN(V)||isNaN(ne))throw ur.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new s(T,B));T=de.x,B=de.y;var ie=this.ctx.transform.applyToPoint(new s(0,X)),me=this.ctx.transform.applyToPoint(new s(0,0));X=Math.sqrt(Math.pow(ie.x-me.x,2)+Math.pow(ie.y-me.y,2))}Math.abs(ne-V)>=2*Math.PI&&(V=0,ne=2*Math.PI),this.path.push({type:"arc",x:T,y:B,radius:X,startAngle:V,endAngle:ne,counterclockwise:se})},f.prototype.arcTo=function(T,B,X,V,ne){throw new Error("arcTo not implemented.")},f.prototype.rect=function(T,B,X,V){if(isNaN(T)||isNaN(B)||isNaN(X)||isNaN(V))throw ur.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,B),this.lineTo(T+X,B),this.lineTo(T+X,B+V),this.lineTo(T,B+V),this.lineTo(T,B),this.lineTo(T+X,B),this.lineTo(T,B)},f.prototype.fillRect=function(T,B,X,V){if(isNaN(T)||isNaN(B)||isNaN(X)||isNaN(V))throw ur.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,B,X,V),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},f.prototype.strokeRect=function(T,B,X,V){if(isNaN(T)||isNaN(B)||isNaN(X)||isNaN(V))throw ur.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(T,B,X,V),this.stroke())},f.prototype.clearRect=function(T,B,X,V){if(isNaN(T)||isNaN(B)||isNaN(X)||isNaN(V))throw ur.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,B,X,V))},f.prototype.save=function(T){T=typeof T!="boolean"||T;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var V=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=V}},f.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(B),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(T){var B,X,V,ne;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))B=0,X=0,V=0,ne=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(se!==null)B=parseInt(se[1]),X=parseInt(se[2]),V=parseInt(se[3]),ne=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)B=parseInt(se[1]),X=parseInt(se[2]),V=parseInt(se[3]),ne=parseFloat(se[4]);else{if(ne=1,typeof T=="string"&&T.charAt(0)!=="#"){var de=new mR(T);T=de.ok?de.toHex():"#000000"}T.length===4?(B=T.substring(1,2),B+=B,X=T.substring(2,3),X+=X,V=T.substring(3,4),V+=V):(B=T.substring(1,3),X=T.substring(3,5),V=T.substring(5,7)),B=parseInt(B,16),X=parseInt(X,16),V=parseInt(V,16)}}return{r:B,g:X,b:V,a:ne,style:T}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(T,B,X,V){if(isNaN(B)||isNaN(X)||typeof T!="string")throw ur.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(V=isNaN(V)?void 0:V,!h.call(this)){var ne=q(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;I.call(this,{text:T,x:B,y:X,scale:se,angle:ne,align:this.textAlign,maxWidth:V})}},f.prototype.strokeText=function(T,B,X,V){if(isNaN(B)||isNaN(X)||typeof T!="string")throw ur.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){V=isNaN(V)?void 0:V;var ne=q(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;I.call(this,{text:T,x:B,y:X,scale:se,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:V})}},f.prototype.measureText=function(T){if(typeof T!="string")throw ur.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,X=this.pdf.internal.scaleFactor,V=B.internal.getFontSize(),ne=B.getStringUnitWidth(T)*V/B.internal.scaleFactor;return new function(se){var de=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:ne*=Math.round(96*X/72*1e4)/1e4})},f.prototype.scale=function(T,B){if(isNaN(T)||isNaN(B))throw ur.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(T,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.rotate=function(T){if(isNaN(T))throw ur.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new l(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.translate=function(T,B){if(isNaN(T)||isNaN(B))throw ur.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,T,B);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.transform=function(T,B,X,V,ne,se){if(isNaN(T)||isNaN(B)||isNaN(X)||isNaN(V)||isNaN(ne)||isNaN(se))throw ur.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new l(T,B,X,V,ne,se);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function(T,B,X,V,ne,se){T=isNaN(T)?1:T,B=isNaN(B)?0:B,X=isNaN(X)?0:X,V=isNaN(V)?1:V,ne=isNaN(ne)?0:ne,se=isNaN(se)?0:se,this.ctx.transform=new l(T,B,X,V,ne,se)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(T,B,X,V,ne,se,de,ie,me){var xe=this.pdf.getImageProperties(T),pe=1,Pe=1,ue=1,G=1;V!==void 0&&ie!==void 0&&(ue=ie/V,G=me/ne,pe=xe.width/V*ie/V,Pe=xe.height/ne*me/ne),se===void 0&&(se=B,de=X,B=0,X=0),V!==void 0&&ie===void 0&&(ie=V,me=ne),V===void 0&&ie===void 0&&(ie=xe.width,me=xe.height);for(var Re,Fe=this.ctx.transform.decompose(),Be=q(Fe.rotate.shx),Ne=new l,Ue=(Ne=(Ne=(Ne=Ne.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale)).applyToRectangle(new o(se-B*ue,de-X*G,V*pe,ne*Pe)),Ce=x.call(this,Ue),qe=[],De=0;De<Ce.length;De+=1)qe.indexOf(Ce[De])===-1&&qe.push(Ce[De]);if(_(qe),this.autoPaging)for(var It=qe[0],ot=qe[qe.length-1],At=It;At<ot+1;At++){this.pdf.setPage(At);var ir=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=At===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=At===1?0:at+(At-2)*ht;if(this.ctx.clip_path.length!==0){var dr=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Re,this.posX+this.margin[3],-st+kt+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=dr}var Vt=JSON.parse(JSON.stringify(Ue));Vt=w([Vt],this.posX+this.margin[3],-st+kt+this.ctx.prevPageLastElemOffset)[0];var tt=(At>It||At<ot)&&v.call(this);tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ir,ht,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,Be),tt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",Ue.x,Ue.y,Ue.w,Ue.h,null,null,Be)};var x=function(T,B,X){var V=[];B=B||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":V.push(Math.floor((T.y+ne)/X)+1);break;case"arc":V.push(Math.floor((T.y+ne-T.radius)/X)+1),V.push(Math.floor((T.y+ne+T.radius)/X)+1);break;case"qct":var se=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);V.push(Math.floor((se.y+ne)/X)+1),V.push(Math.floor((se.y+se.h+ne)/X)+1);break;case"bct":var de=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);V.push(Math.floor((de.y+ne)/X)+1),V.push(Math.floor((de.y+de.h+ne)/X)+1);break;case"rect":V.push(Math.floor((T.y+ne)/X)+1),V.push(Math.floor((T.y+T.h+ne)/X)+1)}for(var ie=0;ie<V.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<V[ie];)y.call(this);return V},y=function(){var T=this.fillStyle,B=this.strokeStyle,X=this.font,V=this.lineCap,ne=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=B,this.font=X,this.lineCap=V,this.lineWidth=ne,this.lineJoin=se},w=function(T,B,X){for(var V=0;V<T.length;V++)switch(T[V].type){case"bct":T[V].x2+=B,T[V].y2+=X;case"qct":T[V].x1+=B,T[V].y1+=X;default:T[V].x+=B,T[V].y+=X}return T},_=function(T){return T.sort(function(B,X){return B-X})},j=function(T,B){for(var X,V,ne=this.fillStyle,se=this.strokeStyle,de=this.lineCap,ie=this.lineWidth,me=Math.abs(ie*this.ctx.transform.scaleX),xe=this.lineJoin,pe=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),ue=[],G=0;G<Pe.length;G++)if(Pe[G].x!==void 0)for(var Re=x.call(this,Pe[G]),Fe=0;Fe<Re.length;Fe+=1)ue.indexOf(Re[Fe])===-1&&ue.push(Re[Fe]);for(var Be=0;Be<ue.length;Be++)for(;this.pdf.internal.getNumberOfPages()<ue[Be];)y.call(this);if(_(ue),this.autoPaging)for(var Ne=ue[0],Ue=ue[ue.length-1],Ce=Ne;Ce<Ue+1;Ce++){this.pdf.setPage(Ce),this.fillStyle=ne,this.strokeStyle=se,this.lineCap=de,this.lineWidth=me,this.lineJoin=xe;var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],De=Ce===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=Ce===1?0:It+(Ce-2)*ot;if(this.ctx.clip_path.length!==0){var ir=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(X,this.posX+this.margin[3],-At+De+this.ctx.prevPageLastElemOffset),S.call(this,T,!0),this.path=ir}if(V=JSON.parse(JSON.stringify(pe)),this.path=w(V,this.posX+this.margin[3],-At+De+this.ctx.prevPageLastElemOffset),B===!1||Ce===0){var kt=(Ce>Ne||Ce<Ue)&&v.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,ot,null).clip().discardPath()),S.call(this,T,B),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=me,S.call(this,T,B),this.lineWidth=ie;this.path=pe},S=function(T,B){if((T!=="stroke"||B||!g.call(this))&&(T==="stroke"||B||!h.call(this))){for(var X,V,ne=[],se=this.path,de=0;de<se.length;de++){var ie=se[de];switch(ie.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:ie,deltas:[],abs:[]});break;case"lt":var me=ne.length;if(se[de-1]&&!isNaN(se[de-1].x)&&(X=[ie.x-se[de-1].x,ie.y-se[de-1].y],me>0)){for(;me>=0;me--)if(ne[me-1].close!==!0&&ne[me-1].begin!==!0){ne[me-1].deltas.push(X),ne[me-1].abs.push(ie);break}}break;case"bct":X=[ie.x1-se[de-1].x,ie.y1-se[de-1].y,ie.x2-se[de-1].x,ie.y2-se[de-1].y,ie.x-se[de-1].x,ie.y-se[de-1].y],ne[ne.length-1].deltas.push(X);break;case"qct":var xe=se[de-1].x+2/3*(ie.x1-se[de-1].x),pe=se[de-1].y+2/3*(ie.y1-se[de-1].y),Pe=ie.x+2/3*(ie.x1-ie.x),ue=ie.y+2/3*(ie.y1-ie.y),G=ie.x,Re=ie.y;X=[xe-se[de-1].x,pe-se[de-1].y,Pe-se[de-1].x,ue-se[de-1].y,G-se[de-1].x,Re-se[de-1].y],ne[ne.length-1].deltas.push(X);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(ie)}}V=B?null:T==="stroke"?"stroke":"fill";for(var Fe=!1,Be=0;Be<ne.length;Be++)if(ne[Be].arc)for(var Ne=ne[Be].abs,Ue=0;Ue<Ne.length;Ue++){var Ce=Ne[Ue];Ce.type==="arc"?L.call(this,Ce.x,Ce.y,Ce.radius,Ce.startAngle,Ce.endAngle,Ce.counterclockwise,void 0,B,!Fe):F.call(this,Ce.x,Ce.y),Fe=!0}else if(ne[Be].close===!0)this.pdf.internal.out("h"),Fe=!1;else if(ne[Be].begin!==!0){var qe=ne[Be].start.x,De=ne[Be].start.y;R.call(this,ne[Be].deltas,qe,De),Fe=!0}V&&E.call(this,V),B&&$.call(this)}},O=function(T){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-X;case"top":return T+B-X;case"hanging":return T+B-2*X;case"middle":return T+B/2-X;default:return T}},k=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(B,X){this.colorStops.push([B,X])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(T,B,X,V,ne,se,de,ie,me){for(var xe=J.call(this,X,V,ne,se),pe=0;pe<xe.length;pe++){var Pe=xe[pe];pe===0&&(me?P.call(this,Pe.x1+T,Pe.y1+B):F.call(this,Pe.x1+T,Pe.y1+B)),H.call(this,T,B,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}ie?$.call(this):E.call(this,de)},E=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(T,B){this.pdf.internal.out(r(T)+" "+n(B)+" m")},I=function(T){var B;switch(T.align){case"right":case"end":B="right";break;case"center":B="center";break;default:B="left"}var X=this.pdf.getTextDimensions(T.text),V=O.call(this,T.y),ne=k.call(this,V)-X.h,se=this.ctx.transform.applyToPoint(new s(T.x,V)),de=this.ctx.transform.decompose(),ie=new l;ie=(ie=(ie=ie.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var me,xe,pe,Pe=this.ctx.transform.applyToRectangle(new o(T.x,V,X.w,X.h)),ue=ie.applyToRectangle(new o(T.x,ne,X.w,X.h)),G=x.call(this,ue),Re=[],Fe=0;Fe<G.length;Fe+=1)Re.indexOf(G[Fe])===-1&&Re.push(G[Fe]);if(_(Re),this.autoPaging)for(var Be=Re[0],Ne=Re[Re.length-1],Ue=Be;Ue<Ne+1;Ue++){this.pdf.setPage(Ue);var Ce=Ue===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[2],It=De-this.margin[0],ot=this.pdf.internal.pageSize.width-this.margin[1],At=ot-this.margin[3],ir=Ue===1?0:qe+(Ue-2)*It;if(this.ctx.clip_path.length!==0){var kt=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(me,this.posX+this.margin[3],-1*ir+Ce),S.call(this,"fill",!0),this.path=kt}var at=w([JSON.parse(JSON.stringify(ue))],this.posX+this.margin[3],-ir+Ce+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*T.scale),pe=this.lineWidth,this.lineWidth=pe*T.scale);var ht=this.autoPaging!=="text";if(ht||at.y+at.h<=De){if(ht||at.y>=Ce&&at.x<=ot){var st=ht?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||ot-at.x)[0],dr=w([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-ir+Ce+this.ctx.prevPageLastElemOffset)[0],Vt=ht&&(Ue>Be||Ue<Ne)&&v.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,It,null).clip().discardPath()),this.pdf.text(st,dr.x,dr.y,{angle:T.angle,align:B,renderingMode:T.renderingMode}),Vt&&this.pdf.restoreGraphicsState()}}else at.y<De&&(this.ctx.prevPageLastElemOffset+=De-at.y);T.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=pe)}else T.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*T.scale),pe=this.lineWidth,this.lineWidth=pe*T.scale),this.pdf.text(T.text,se.x+this.posX,se.y+this.posY,{angle:T.angle,align:B,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=pe)},F=function(T,B,X,V){X=X||0,V=V||0,this.pdf.internal.out(r(T+X)+" "+n(B+V)+" l")},R=function(T,B,X){return this.pdf.lines(T,B,X,null,null)},H=function(T,B,X,V,ne,se,de,ie){this.pdf.internal.out([e(i(X+T)),e(a(V+B)),e(i(ne+T)),e(a(se+B)),e(i(de+T)),e(a(ie+B)),"c"].join(" "))},J=function(T,B,X,V){for(var ne=2*Math.PI,se=Math.PI/2;B>X;)B-=ne;var de=Math.abs(X-B);de<ne&&V&&(de=ne-de);for(var ie=[],me=V?-1:1,xe=B;de>1e-5;){var pe=xe+me*Math.min(de,se);ie.push(re.call(this,T,xe,pe)),de-=Math.abs(pe-xe),xe=pe}return ie},re=function(T,B,X){var V=(X-B)/2,ne=T*Math.cos(V),se=T*Math.sin(V),de=ne,ie=-se,me=de*de+ie*ie,xe=me+de*ne+ie*se,pe=4/3*(Math.sqrt(2*me*xe)-xe)/(de*se-ie*ne),Pe=de-pe*ie,ue=ie+pe*de,G=Pe,Re=-ue,Fe=V+B,Be=Math.cos(Fe),Ne=Math.sin(Fe);return{x1:T*Math.cos(B),y1:T*Math.sin(B),x2:Pe*Be-ue*Ne,y2:Pe*Ne+ue*Be,x3:G*Be-Re*Ne,y3:G*Ne+Re*Be,x4:T*Math.cos(X),y4:T*Math.sin(X)}},q=function(T){return 180*T/Math.PI},Z=function(T,B,X,V,ne,se){var de=T+.5*(X-T),ie=B+.5*(V-B),me=ne+.5*(X-ne),xe=se+.5*(V-se),pe=Math.min(T,ne,de,me),Pe=Math.max(T,ne,de,me),ue=Math.min(B,se,ie,xe),G=Math.max(B,se,ie,xe);return new o(pe,ue,Pe-pe,G-ue)},le=function(T,B,X,V,ne,se,de,ie){var me,xe,pe,Pe,ue,G,Re,Fe,Be,Ne,Ue,Ce,qe,De,It=X-T,ot=V-B,At=ne-X,ir=se-V,kt=de-ne,at=ie-se;for(xe=0;xe<41;xe++)Be=(Re=(pe=T+(me=xe/40)*It)+me*((ue=X+me*At)-pe))+me*(ue+me*(ne+me*kt-ue)-Re),Ne=(Fe=(Pe=B+me*ot)+me*((G=V+me*ir)-Pe))+me*(G+me*(se+me*at-G)-Fe),xe==0?(Ue=Be,Ce=Ne,qe=Be,De=Ne):(Ue=Math.min(Ue,Be),Ce=Math.min(Ce,Ne),qe=Math.max(qe,Be),De=Math.max(De,Ne));return new o(Math.round(Ue),Math.round(Ce),Math.round(qe-Ue),Math.round(De-Ce))},fe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,B,X=(T=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:B}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(nt.API),function(t){var e=function(s){var o,l,c,u,f,p,h,g,v,x;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(p=(f=((f=((f=((f=(f-(x=f%85))/85)-(v=f%85))/85)-(g=f%85))/85)-(h=f%85))/85)%85,l.push(p+33,h+33,g+33,v+33,x+33)):l.push(122);return function(y,w){for(var _=w;_>0;_--)y.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,c,u,f,p=String,h="length",g=255,v="charCodeAt",x="slice",y="replace";for(s[x](-2),s=s[x](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),c=[],u=0,f=(s+=o="uuuuu"[x](s[h]%5||5))[h];f>u;u+=5)l=52200625*(s[v](u)-33)+614125*(s[v](u+1)-33)+7225*(s[v](u+2)-33)+85*(s[v](u+3)-33)+(s[v](u+4)-33),c.push(g&l>>24,g&l>>16,g&l>>8,g&l);return function(w,_){for(var j=_;j>0;j--)w.pop()}(c,o[h]),p.fromCharCode.apply(p,c)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=S5(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(nt.API),function(t){t.loadFile=function(e,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,p=0,h=function(g){var v=g.length,x=[],y=String.fromCharCode;for(p=0;p<v;p+=1)x.push(y(255&g.charCodeAt(p)));return x.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(h(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return h(f.responseText)}(i,a,s)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(nt.API),function(t){function e(){return(pt.html2canvas?Promise.resolve(pt.html2canvas):cx(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(pt.DOMPurify?Promise.resolve(pt.DOMPurify):cx(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=er(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var g=u[h],v=g.src.find(function(x){return x.format==="truetype"});v&&c.addFont(v.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||nt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,f).then(function(p){return c.updateProgress(1),p})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),p=c.call(f,o,l);return s.convert(p,u.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,nt.getPageSize=function(o,l,c){if(er(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var g,v=0,x=0;if(h.hasOwnProperty(p))v=h[p][1]/f,x=h[p][0]/f;else try{v=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>v&&(g=x,x=v,v=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>x&&(g=x,x=v,v=g)}return{width:x,height:v,unit:l,k:f,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Ox):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(nt.API),nt.API.addJS=function(t){return ZP=t,this.internal.events.subscribe("postPutResources",function(){Gg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Gg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),JP=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ZP+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Gg!==void 0&&JP!==void 0&&this.internal.out("/Names <</JavaScript "+Gg+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var f=r.internal.newObject();u.push(f);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<u.length;a++)r.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(nt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,v={width:0,height:0,numcomponents:1},x=4;x<g;x+=2){if(x+=h,e.indexOf(f.charCodeAt(x+1))!==-1){p=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),v={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:p,numcomponents:f.charCodeAt(x+9)};break}h=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return v}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}}(nt.API),nt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=aye(t,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,c=a.palette,u=a.depth;i=c&&l===1?function(L){for(var E=L.width,$=L.height,P=L.data,I=L.palette,F=L.depth,R=!1,H=[],J=[],re=void 0,q=!1,Z=0,le=0;le<I.length;le++){var fe=rP(I[le],4),T=fe[0],B=fe[1],X=fe[2],V=fe[3];H.push(T,B,X),V!=null&&(V===0?(Z++,J.length<1&&J.push(le)):V<255&&(q=!0))}if(q||Z>1){R=!0,J=void 0;var ne=E*$;re=new Uint8Array(ne);for(var se=new DataView(P.buffer),de=0;de<ne;de++){var ie=Px(se,de,F),me=rP(I[ie],4)[3];re[de]=me}}else Z===0&&(J=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:R?8:void 0,colorBytes:P,alphaBytes:re,needSMask:R,palette:H,mask:J}}(a):l===2||l===4?function(L){for(var E=L.data,$=L.width,P=L.height,I=L.channels,F=L.depth,R=I===2?"DeviceGray":"DeviceRGB",H=I-1,J=$*P,re=H,q=J*re,Z=1*J,le=Math.ceil(q*F/8),fe=Math.ceil(Z*F/8),T=new Uint8Array(le),B=new Uint8Array(fe),X=new DataView(E.buffer),V=new DataView(T.buffer),ne=new DataView(B.buffer),se=!1,de=0;de<J;de++){for(var ie=de*I,me=0;me<re;me++)oE(V,Px(X,ie+me,F),de*re+me,F);var xe=Px(X,ie+re,F);xe<(1<<F)-1&&(se=!0),oE(ne,xe,1*de,F)}return{colorSpace:R,colorsPerPixel:H,sMaskBitsPerComponent:se?F:void 0,colorBytes:T,alphaBytes:B,needSMask:se}}(a):function(L){var E=L.data,$=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:$,colorsPerPixel:$==="DeviceGray"?1:3,colorBytes:E instanceof Uint16Array?function(P){for(var I=P.length,F=new Uint8Array(2*I),R=new DataView(F.buffer,F.byteOffset,F.byteLength),H=0;H<I;H++)R.setUint16(2*H,P[H],!1);return F}(E):E,needSMask:!1}}(a);var f,p,h,g=i,v=g.colorSpace,x=g.colorsPerPixel,y=g.sMaskBitsPerComponent,w=g.colorBytes,_=g.alphaBytes,j=g.needSMask,S=g.palette,O=g.mask,k=null;return n!==nt.API.image_compression.NONE&&typeof S5=="function"?(k=function(L){var E;switch(L){case nt.API.image_compression.FAST:E=11;break;case nt.API.image_compression.MEDIUM:E=13;break;case nt.API.image_compression.SLOW:E=14;break;default:E=12}return E}(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(k," /Colors ").concat(x," /BitsPerComponent ").concat(u," /Columns ").concat(s),t=rE(w,Math.ceil(s*x*u/8),x,u,n),j&&(h=rE(_,Math.ceil(s*y/8),1,y,n))):(f=void 0,p=void 0,t=w,j&&(h=_)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:f,decodeParameters:p,transparency:O,palette:S,sMask:h,predictor:k,width:s,height:o,bitsPerComponent:u,sMaskBitsPerComponent:y,colorSpace:v}}},function(t){t.processGIF89A=function(e,r,n,i){var a=new Nye(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new Ex(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)},t.processGIF87A=t.processGIF89A}(nt.API),Ca.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ca.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){ur.log("bit decode error:"+r)}},Ca.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Ca.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Ca.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Ca.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,c=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=t}},Ca.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/e*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},Ca.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Ca.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},Ca.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var a=new Ca(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Ex(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(nt.API),cE.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var a=new cE(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Ex(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(nt.API),nt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=n[c],f=n[c+1],p=n[c+2],h=n[c+3];a[o++]=u,a[o++]=f,a[o++]=p,s[l++]=h}var g=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},nt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ou=nt.API,Kg=Ou.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,p=0,h=t.length,g=0,v=o[0]||l,x=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(p=f&&er(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/u:0,x.push((o[n]||v)/l+p)),g=n;return x},QP=Ou.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Ou.processArabic&&(t=Ou.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Kg.apply(this,arguments).reduce(function(a,s){return a+s},0)},eE=function(t,e,r,n){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<r;)o+=e[a],a++;i.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>n&&(i.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},tE=function(t,e,r){r||(r={});var n,i,a,s,o,l,c,u=[],f=[u],p=r.textIndent||0,h=0,g=0,v=t.split(" "),x=Kg.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),w=[];v.map(function(j){(j=j.split(/\s*\n/)).length>1?w=w.concat(j.map(function(S,O){return(O&&S.length?`
`:"")+S})):w.push(j[0])}),v=w,l=QP.apply(this,[y,r])}for(a=0,s=v.length;a<s;a++){var _=0;if(n=v[a],l&&n[0]==`
`&&(n=n.substr(1),_=1),p+h+(g=(i=Kg.apply(this,[n,r])).reduce(function(j,S){return j+S},0))>e||_){if(g>e){for(o=eE.apply(this,[n,i,e-(p+h),e]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);g=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(j,S){return j+S},0)}else u=[n];f.push(u),p=g+l,h=x}else u.push(n),p+=h+g,h=x}return c=l?function(j,S){return(S?y:"")+j.join(" ")}:function(j){return j.join(" ")},f.map(c)},Ou.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(tE.apply(this,[n[o],s,a]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=t.__fontmetrics__.compress=function(p){var h,g,v,x,y=["{"];for(var w in p){if(h=p[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=s(w).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof h=="number")h<0?(v=s(h).slice(3),x="-"):(v=s(h).slice(2),x=""),v=x+v.slice(0,-1)+i[v.slice(-1)];else{if(er(h)!=="object")throw new Error("Don't know what to do with value type "+er(h)+".");v=o(h)}y.push(g+v)}return y.push("}"),y.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,v,x,y={},w=1,_=y,j=[],S="",O="",k=p.length-1,L=1;L<k;L+=1)(x=p[L])=="'"?h?(v=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(j.push([_,v]),_={},v=void 0):x=="}"?((g=j.pop())[0][g[1]]=_,v=void 0,_=g[0]):x=="-"?w=-1:v===void 0?n.hasOwnProperty(x)?(S+=n[x],v=parseInt(S,16)*w,w=1,S=""):S+=x:n.hasOwnProperty(x)?(O+=n[x],_[v]=parseInt(O,16)*w,w=1,v=void 0,O=""):O+=x;return y},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var h=p.font,g=f.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var v=u.Unicode[h.postScriptName];v&&(h.metadata.Unicode.encoding=v,h.encoding=v.codePages[0])}])}(nt.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(c0(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(nt),nt.API.addSvgAsImage=function(t,e,r,n,i,a,s,o){if(isNaN(e)||isNaN(r))throw ur.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw ur.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(pt.canvg?Promise.resolve(pt.canvg):cx(()=>import("./index.es-A12nRLzf.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,s,o)})},nt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},nt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function p(g,v){var x,y=!1;for(x=0;x<g.length;x+=1)g[x]===v&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(f=0;f<h;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(er(t)==="object"){for(i in t)if(a=t[i],p(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&p(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(c=0;c<a.length;c+=1)if(n=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(n=!1);n===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,v=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?v.push("/"+g+" /"+r[g].value):v.push("/"+g+" "+r[g].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(nt.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,p=a.length;f<p;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(a){var s,o,l,c,u,f,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(a).sort(function(h,g){return h-g})).length;f<p;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",g=0;g<p.length;g++)h+=String.fromCharCode(p[g]);var v=c();u({data:h,addLength1:!0,objectId:v}),l("endobj");var x=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Tu(o.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Tu(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+Tu(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var g=c();u({data:p,addLength1:!0,objectId:g}),l("endobj");var v=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var x=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Tu(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Tu(o.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,u=a.options||{},f=a.mutex||{},p=f.pdfEscape,h=f.activeFontKey,g=f.fonts,v=h,x="",y=0,w="",_=g[v].encoding;if(g[v].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(w=o,v=h,Array.isArray(o)&&(w=o[0]),y=0;y<w.length;y+=1)g[v].metadata.hasOwnProperty("cmap")&&(s=g[v].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),s||w[y].charCodeAt(0)<256&&g[v].metadata.hasOwnProperty("Unicode")?x+=w[y]:x+="";var j="";return parseInt(v.slice(1))<14||_==="WinAnsiEncoding"?j=p(x,v).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(j=r(x,g[v])),f.isHex=!0,{text:j,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(nt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(nt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,s,o,l,c,u,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,_=0;this.__bidiEngine__={};var j=function(P){var I=P.charCodeAt(),F=I>>8,R=v[F];return R!==void 0?f[256*R+(255&I)]:F===252||F===253?"AL":y.test(F)?"L":F===8?"R":"N"},S=function(P){for(var I,F=0;F<P.length;F++){if((I=j(P.charAt(F)))==="L")return!1;if(I==="R")return!0}return!1},O=function(P,I,F,R){var H,J,re,q,Z=I[R];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(Z="AN");break;case"AL":w=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":R<1||R+1>=I.length||(H=F[R-1])!=="EN"&&H!=="AN"||(J=I[R+1])!=="EN"&&J!=="AN"?Z="N":w&&(J="AN"),Z=J===H?J:"N";break;case"ES":Z=(H=R>0?F[R-1]:"B")==="EN"&&R+1<I.length&&I[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&F[R-1]==="EN"){Z="EN";break}if(w){Z="N";break}for(re=R+1,q=I.length;re<q&&I[re]==="ET";)re++;Z=re<q&&I[re]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(q=I.length,re=R+1;re<q&&I[re]==="NSM";)re++;if(re<q){var le=P[R],fe=le>=1425&&le<=2303||le===64286;if(H=I[re],fe&&(H==="R"||H==="AL")){Z="R";break}}}Z=R<1||(H=I[R-1])==="B"?"N":F[R-1];break;case"B":w=!1,i=!0,Z=_;break;case"S":a=!0,Z="N"}return Z},k=function(P,I,F){var R=P.split("");return F&&L(R,F,{hiLevel:_}),R.reverse(),I&&I.reverse(),R.join("")},L=function(P,I,F){var R,H,J,re,q,Z=-1,le=P.length,fe=0,T=[],B=_?h:p,X=[];for(w=!1,i=!1,a=!1,H=0;H<le;H++)X[H]=j(P[H]);for(J=0;J<le;J++){if(q=fe,T[J]=O(P,X,T,J),R=240&(fe=B[q][g[T[J]]]),fe&=15,I[J]=re=B[fe][5],R>0)if(R===16){for(H=Z;H<J;H++)I[H]=1;Z=-1}else Z=-1;if(B[fe][6])Z===-1&&(Z=J);else if(Z>-1){for(H=Z;H<J;H++)I[H]=re;Z=-1}X[J]==="B"&&(I[J]=0),F.hiLevel|=re}a&&function(V,ne,se){for(var de=0;de<se;de++)if(V[de]==="S"){ne[de]=_;for(var ie=de-1;ie>=0&&V[ie]==="WS";ie--)ne[ie]=_}}(X,I,le)},E=function(P,I,F,R,H){if(!(H.hiLevel<P)){if(P===1&&_===1&&!i)return I.reverse(),void(F&&F.reverse());for(var J,re,q,Z,le=I.length,fe=0;fe<le;){if(R[fe]>=P){for(q=fe+1;q<le&&R[q]>=P;)q++;for(Z=fe,re=q-1;Z<re;Z++,re--)J=I[Z],I[Z]=I[re],I[re]=J,F&&(J=F[Z],F[Z]=F[re],F[re]=J);fe=q}fe++}}},$=function(P,I,F){var R=P.split(""),H={hiLevel:_};return F||(F=[]),L(R,F,H),function(J,re,q){if(q.hiLevel!==0&&u)for(var Z,le=0;le<J.length;le++)re[le]===1&&(Z=x.indexOf(J[le]))>=0&&(J[le]=x[Z+1])}(R,F,H),E(2,R,I,F,H),E(1,R,I,F,H),R.join("")};return this.__bidiEngine__.doBidiReorder=function(P,I,F){if(function(H,J){if(J)for(var re=0;re<H.length;re++)J[re]=re;o===void 0&&(o=S(H)),c===void 0&&(c=S(H))}(P,I),s||!l||c)if(s&&l&&o^c)_=o?1:0,P=k(P,I,F);else if(!s&&l&&c)_=o?1:0,P=$(P,I,F),P=k(P,I);else if(!s||o||l||c){if(s&&!l&&o^c)P=k(P,I),o?(_=0,P=$(P,I,F)):(_=1,P=$(P,I,F),P=k(P,I));else if(s&&o&&!l&&c)_=1,P=$(P,I,F),P=k(P,I);else if(!s&&!l&&o^c){var R=u;o?(_=1,P=$(P,I,F),_=0,u=!1,P=$(P,I,F),u=R):(_=0,P=$(P,I,F),P=k(P,I),_=1,u=!1,P=$(P,I,F),u=R,P=k(P,I))}}else _=0,P=$(P,I,F);else _=o?1:0,P=$(P,I,F);return P},this.__bidiEngine__.setOptions=function(P){P&&(s=P.isInputVisual,l=P.isOutputVisual,o=P.isInputRtl,c=P.isOutputRtl,u=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(nt),nt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new vl(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Uye(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Oye(this.contents),this.head=new Pye(this),this.name=new Iye(this),this.cmap=new NR(this),this.toUnicode={},this.hhea=new Eye(this),this.maxp=new $ye(this),this.hmtx=new Rye(this),this.post=new Tye(this),this.os2=new Cye(this),this.loca=new Fye(this),this.glyf=new Mye(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Ya,vl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,s,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),Oye=function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,s,o,l,c,u,f,p,h,g,v;for(v in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),u=16*h-f,(i=new vl).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(s),i.writeShort(u),a=16*h,c=i.pos+a,o=null,g=[],r)for(p=r[v],i.writeString(v),i.writeInt(t(p)),i.writeInt(c),i.writeInt(p.length),g=g.concat(p),v==="head"&&(o=c),c+=p.length;c%4;)g.push(0),c++;return i.write(g),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,s;for(r=OR.call(r);r.length%4;)r.push(0);for(a=new vl(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),kye={}.hasOwnProperty,Ss=function(t,e){for(var r in e)kye.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Ya=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Pye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ss(t,Ya),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new vl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),uE=function(){function t(e,r){var n,i,a,s,o,l,c,u,f,p,h,g,v,x,y,w,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),p=h/2,e.pos+=6,a=function(){var j,S;for(S=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)S.push(e.readUInt16());return S}(),e.pos+=2,v=function(){var j,S;for(S=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)S.push(e.readUInt16());return S}(),c=function(){var j,S;for(S=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)S.push(e.readUInt16());return S}(),u=function(){var j,S;for(S=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)S.push(e.readUInt16());return S}(),i=(this.length-e.pos+this.offset)/2,o=function(){var j,S;for(S=[],l=j=0;0<=i?j<i:j>i;l=0<=i?++j:--j)S.push(e.readUInt16());return S}(),l=y=0,_=a.length;y<_;l=++y)for(x=a[l],n=w=g=v[l];g<=x?w<=x:w>=x;n=g<=x?++w:--w)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-g)-(p-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}e.pos=f}return t.encode=function(e,r){var n,i,a,s,o,l,c,u,f,p,h,g,v,x,y,w,_,j,S,O,k,L,E,$,P,I,F,R,H,J,re,q,Z,le,fe,T,B,X,V,ne,se,de,ie,me,xe,pe;switch(R=new vl,s=Object.keys(e).sort(function(Pe,ue){return Pe-ue}),r){case"macroman":for(v=0,x=function(){var Pe=[];for(g=0;g<256;++g)Pe.push(0);return Pe}(),w={0:0},a={},H=0,Z=s.length;H<Z;H++)w[ie=e[i=s[H]]]==null&&(w[ie]=++v),a[i]={old:e[i],new:w[e[i]]},x[i]=w[e[i]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(x),{charMap:a,subtable:R.data,maxGlyphID:v+1};case"unicode":for(I=[],f=[],_=0,w={},n={},y=c=null,J=0,le=s.length;J<le;J++)w[S=e[i=s[J]]]==null&&(w[S]=++_),n[i]={old:S,new:w[S]},o=w[S]-i,y!=null&&o===c||(y&&f.push(y),I.push(i),c=o),y=i;for(y&&f.push(y),f.push(65535),I.push(65535),$=2*(E=I.length),L=2*Math.pow(Math.log(E)/Math.LN2,2),p=Math.log(L/2)/Math.LN2,k=2*E-L,l=[],O=[],h=[],g=re=0,fe=I.length;re<fe;g=++re){if(P=I[g],u=f[g],P===65535){l.push(0),O.push(0);break}if(P-(F=n[P].new)>=32768)for(l.push(0),O.push(2*(h.length+E-g)),i=q=P;P<=u?q<=u:q>=u;i=P<=u?++q:--q)h.push(n[i].new);else l.push(F-P),O.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*E+2*h.length),R.writeUInt16(0),R.writeUInt16($),R.writeUInt16(L),R.writeUInt16(p),R.writeUInt16(k),se=0,T=f.length;se<T;se++)i=f[se],R.writeUInt16(i);for(R.writeUInt16(0),de=0,B=I.length;de<B;de++)i=I[de],R.writeUInt16(i);for(me=0,X=l.length;me<X;me++)o=l[me],R.writeUInt16(o);for(xe=0,V=O.length;xe<V;xe++)j=O[xe],R.writeUInt16(j);for(pe=0,ne=h.length;pe<ne;pe++)v=h[pe],R.writeUInt16(v);return{charMap:n,subtable:R.data,maxGlyphID:_+1}}},t}(),NR=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ss(t,Ya),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new uE(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=uE.encode(e,r),(i=new vl).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),Eye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ss(t,Ya),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Cye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ss(t,Ya),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Tye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ss(t,Ya),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),Lye=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Iye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ss(t,Ya),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,s,o,l,c,u,f,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=u=0,f=n.length;u<f;a=++u)i=n[a],e.pos=i.offset,c=e.readString(i.length),s=new Lye(c,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),$ye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ss(t,Ya),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Rye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ss(t,Ya),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,s,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,f,p;for(p=[],c=0,u=(f=this.metrics).length;c<u;c++)a=f[c],p.push(a.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),OR=[].slice,Mye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ss(t,Ya),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,s,o,l,c,u,f;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(o=new vl(r.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=s===-1?new Bye(o,c,f,l,u):new Dye(o,s,c,f,l,u),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,s,o,l;for(s=[],a=[],o=0,l=r.length;o<l;o++)i=e[r[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},t}(),Dye=function(){function t(e,r,n,i,a,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Bye=function(){function t(e,r,n,i,a){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new vl(OR.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),Fye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ss(t,Ya),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},t}(),Uye=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,s,o,l,c,u,f,p,h,g,v,x,y;for(i in n=NR.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},y=n.charMap)h[(l=y[i]).old]=l.new;for(g in p=n.maxGlyphID,s)g in h||(h[g]=p++);return u=function(w){var _,j;for(_ in j={},w)j[w[_]]=_;return j}(h),f=Object.keys(u).sort(function(w,_){return w-_}),v=function(){var w,_,j;for(j=[],w=0,_=f.length;w<_;w++)o=f[w],j.push(u[o]);return j}(),a=this.font.glyf.encode(s,v,h),c=this.font.loca.encode(a.offsets,v),x={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t}();nt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+r},e}();function zye(t){const e=new nt;let r=20;const n=e.internal.pageSize.getWidth(),i=20,a=n-2*i,s=(l,c,u=!1,f="#000000")=>{e.setFontSize(c),e.setTextColor(f),u?e.setFont("helvetica","bold"):e.setFont("helvetica","normal"),e.splitTextToSize(l,a).forEach(h=>{r>e.internal.pageSize.getHeight()-30&&(e.addPage(),r=20),e.text(h,i,r),r+=c*.5}),r+=5};s("Simulation Debrief Report",18,!0),r+=5,s(`Case: ${t.caseTitle}`,12,!0),s(`Patient: ${t.patientName}`,10),r+=5,s("Performance Summary",14,!0,"#3b82f6"),r+=3,s(`Overall Score: ${t.score.overall}%`,12,!0),s(`Diagnosis Accuracy: ${t.score.accuracy}%`,10),s(`MCQ Score: ${t.score.mcqScore}%`,10),s(`Time Taken: ${t.timeTaken} minutes`,10),s(`Current Streak: ${t.currentStreak} days`,10),r+=5,t.score.sloResults&&t.score.sloResults.length>0&&(s("Learning Outcomes",14,!0,"#3b82f6"),r+=3,t.score.sloResults.forEach(l=>{const c=l.status==="Achieved"?"":"";s(`${c} ${l.sloId}: ${l.percent}%`,10),l.sloText&&s(`   ${l.sloText}`,9)}),r+=5),s("Diagnosis Review",14,!0,"#3b82f6"),r+=3,s(`Your Diagnosis: ${t.diagnosis.student}`,10),s(`Correct Diagnosis: ${t.diagnosis.correct}`,10,!0),t.diagnosis.potential&&t.diagnosis.potential.length>0&&(s("Other Potential Diagnoses:",10,!0),t.diagnosis.potential.forEach(l=>{s(`   ${l.dx}`,9)})),r+=5,t.stepwiseReasoning&&(s("Stepwise Reasoning",14,!0,"#3b82f6"),r+=3,s(t.stepwiseReasoning,9),r+=5),t.mcqResults&&t.mcqResults.length>0&&(s("MCQ Results",14,!0,"#3b82f6"),r+=3,t.mcqResults.forEach((l,c)=>{s(`${c+1}. ${l.question}`,10,!0),l.options.forEach((u,f)=>{let p="  ";f===l.correctIndex&&(p=" "),f===l.selectedIndex&&!l.correct&&(p=" "),s(`${p}${u}`,9)}),l.explanation&&s(`Explanation: ${l.explanation}`,9),r+=3}),r+=5),t.learningPearls&&t.learningPearls.length>0&&(s("Learning Pearls",14,!0,"#3b82f6"),r+=3,t.learningPearls.forEach(l=>{s(` ${l}`,9)}),r+=5),t.furtherReading&&t.furtherReading.length>0&&(s("Further Reading",14,!0,"#3b82f6"),r+=3,t.furtherReading.forEach(l=>{s(` ${l.title}`,9),l.url&&s(`  ${l.url}`,8)}));const o=e.getNumberOfPages();for(let l=1;l<=o;l++)e.setPage(l),e.setFontSize(8),e.setTextColor("#666666"),e.text(`Page ${l} of ${o} | Generated on ${new Date().toLocaleDateString()}`,i,e.internal.pageSize.getHeight()-10);return e}function qye({user:t}){var q,Z,le,fe,T,B,X;const{runId:e}=yy(),r=ya(),[n,i]=Y.useState(null),[a,s]=Y.useState(!0),[o,l]=Y.useState(null),[c,u]=Y.useState("feedback"),[f,p]=Y.useState(0);Y.useEffect(()=>{e&&(g(),h())},[e]);const h=async()=>{try{const{data:V}=await Te.from("simulation_runs").select("submitted_at, created_at").eq("student_id",t.id).not("submitted_at","is",null).order("submitted_at",{ascending:!1});if(!V||V.length===0){p(0);return}let ne=0;const se=new Date;se.setHours(0,0,0,0);let de=new Date(se);for(const ie of V){const me=new Date(ie.submitted_at||ie.created_at);if(me.setHours(0,0,0,0),me.getTime()===de.getTime())ne++,de.setDate(de.getDate()-1);else if(me.getTime()<de.getTime())break}p(ne)}catch(V){console.error("Error calculating streak:",V),p(0)}},g=async()=>{try{const{data:V,error:ne}=await Te.from("simulation_runs").select("*").eq("id",e).single();if(ne)throw ne;if(i(V),V.assignment_id){const{data:se}=await Te.from("assignments").select("snapshot_id").eq("id",V.assignment_id).single();if(se){const{data:de}=await Te.from("case_snapshots").select("*").eq("id",se.snapshot_id).single();l(de)}}}catch(V){console.error("Error loading debrief:",V)}finally{s(!1)}};if(a)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});if(!n||!n.score)return d.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:d.jsx("p",{children:"Debrief data not available yet."})});const v=n.score,x=v.overall||0,y=v.sloResults||[],w=v.mcqResults||[],_=v.postCaseMCQs||[],j=v.rubricResults||[],S=n.transcript,O=v.correctDiagnosis||((le=(Z=(q=o==null?void 0:o.clinical_case)==null?void 0:q.potentialDiagnoses)==null?void 0:Z[0])==null?void 0:le.dx)||"",k=v.studentDiagnosis||(S==null?void 0:S.diagnosis)||"",L=v.diagnosisCorrect||!1,E=v.diagnosisScore||0,P=(()=>{if(!n.started_at||!n.submitted_at)return"N/A";const V=new Date(n.started_at),ne=new Date(n.submitted_at),se=Math.floor((ne.getTime()-V.getTime())/6e4),de=Math.floor((ne.getTime()-V.getTime())%6e4/1e3);return`${se}m ${de}s`})(),I=v.stepwiseReasoning||v.aiComments||"Stepwise reasoning not available.",F=((fe=o==null?void 0:o.clinical_case)==null?void 0:fe.learningPearls)||[],R=((T=o==null?void 0:o.clinical_case)==null?void 0:T.furtherReading)||[],H=V=>V>=80?"text-green-600":V>=60?"text-yellow-600":"text-red-600",J=V=>V>=80?"bg-green-100 text-green-800 border-green-200":V>=60?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200",re=()=>{var xe,pe,Pe,ue;if(!n||!o)return;const V=((xe=o.clinical_case)==null?void 0:xe.title)||"Untitled Case",ne=((Pe=(pe=o.clinical_case)==null?void 0:pe.patientProfile)==null?void 0:Pe.name)||"Patient";let se=0;if(n.started_at&&n.submitted_at){const G=new Date(n.started_at),Re=new Date(n.submitted_at);se=Math.floor((Re.getTime()-G.getTime())/6e4)}const de=[...w||[],...(_||[]).map((G,Re)=>({question:G.question||`Question ${Re+1}`,options:G.options||[],selectedIndex:G.selectedIndex||-1,correctIndex:G.answerIndex||0,correct:(G.selectedIndex||-1)===(G.answerIndex||0),explanation:G.explanation}))],ie={caseTitle:V,patientName:ne,score:{overall:x,accuracy:E,mcqScore:de.length>0?Math.round(de.filter(G=>G.correct).length/de.length*100):0,sloResults:y.map(G=>({sloId:G.sloId||"Unknown",sloText:G.sloText,status:G.status||"Not Achieved",percent:G.percent||0}))},timeTaken:se,currentStreak:f,stepwiseReasoning:I,diagnosis:{student:k,correct:O,potential:((ue=o.clinical_case)==null?void 0:ue.potentialDiagnoses)||[]},mcqResults:de,learningPearls:F,furtherReading:R};zye(ie).save(`debrief-${V.replace(/[^a-z0-9]/gi,"-").toLowerCase()}-${new Date().toISOString().split("T")[0]}.pdf`)};return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Simulation Debrief"}),((B=o==null?void 0:o.clinical_case)==null?void 0:B.title)&&d.jsx("p",{className:"text-gray-600",children:o.clinical_case.title})]}),d.jsxs("button",{onClick:()=>r("/results"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900",children:[d.jsx(up,{className:"w-4 h-4"}),"Back to Results"]})]}),d.jsx("div",{className:`mb-6 p-4 rounded-lg border-2 ${L?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[L?d.jsx(cs,{className:"w-6 h-6 text-green-600"}):d.jsx(Qo,{className:"w-6 h-6 text-red-600"}),d.jsxs("div",{children:[d.jsxs("div",{className:`font-semibold ${L?"text-green-800":"text-red-800"}`,children:["Diagnosis ",L?"Correct":"Incorrect"]}),!L&&d.jsxs("div",{className:"text-sm text-red-700 mt-1",children:["The correct diagnosis was: ",O]})]})]})}),d.jsx(Gge,{accuracy:E,timeTaken:P,currentStreak:f}),d.jsx(Vge,{activeTab:c,onTabChange:u}),d.jsxs("div",{className:"mt-6",children:[c==="feedback"&&d.jsxs("div",{children:[d.jsx(Kge,{reasoning:I}),d.jsx(Xge,{pearls:F}),d.jsx(Jge,{references:R}),v.aiComments&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(ps,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"AI-Generated Feedback"})]}),d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:v.aiComments})})]}),x<80&&d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(BT,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Areas for Improvement"}),d.jsxs("ul",{className:"list-disc list-inside text-yellow-800 space-y-1",children:[y.filter(V=>V.status!=="Achieved").slice(0,3).map((V,ne)=>d.jsxs("li",{children:["Focus on improving ",V.sloId||`SLO ${ne+1}`," (currently"," ",V.percent.toFixed(0),"%)"]},ne)),d.jsx("li",{children:"Review the case materials and practice similar scenarios"}),d.jsx("li",{children:"Consider retaking this simulation to improve your score"})]})]})]})})]}),c==="review"&&d.jsxs("div",{children:[d.jsxs("div",{className:`bg-white rounded-lg shadow p-6 mb-6 border-2 ${J(x)}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Overall Performance"}),d.jsx(nm,{className:`w-6 h-6 ${H(x)}`})]}),d.jsx("div",{className:"flex items-center justify-center mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:`text-6xl font-bold ${H(x)}`,children:[x.toFixed(0),"%"]}),d.jsx("div",{className:"text-gray-600 mt-2",children:"Overall Score"})]})}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:y.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"SLOs Assessed"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:y.filter(V=>V.status==="Achieved").length}),d.jsx("div",{className:"text-sm text-gray-600",children:"SLOs Achieved"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:P}),d.jsx("div",{className:"text-sm text-gray-600",children:"Time Taken"})]})]})]}),((X=o==null?void 0:o.clinical_case)==null?void 0:X.potentialDiagnoses)&&d.jsx(Yge,{potentialDiagnoses:o.clinical_case.potentialDiagnoses,studentDiagnosis:k,correctDiagnosis:O}),y.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(lo,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"SLO (Specific Learning Outcomes) Breakdown"})]}),d.jsx("div",{className:"space-y-4",children:y.map((V,ne)=>d.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"font-medium text-gray-900",children:V.sloId||`SLO ${ne+1}`}),V.sloText&&d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:V.sloText})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[V.status==="Achieved"?d.jsx(cs,{className:"w-5 h-5 text-green-600"}):d.jsx(Qo,{className:"w-5 h-5 text-red-600"}),d.jsxs("span",{className:`font-semibold ${H(V.percent)}`,children:[V.percent.toFixed(0),"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:`h-3 rounded-full transition-all ${V.percent>=70?"bg-green-600":V.percent>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(V.percent,100)}%`}})}),V.feedback&&d.jsxs("p",{className:"text-sm text-gray-600 mt-2 italic",children:['"',V.feedback,'"']})]},ne))})]}),j.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(qa,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Rubric Assessment"})]}),d.jsx("div",{className:"space-y-3",children:j.map((V,ne)=>d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"font-medium text-gray-900",children:V.criterion}),d.jsxs("span",{className:"text-sm text-gray-600",children:[V.pointsEarned," / ",V.maxPoints," points"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${V.pointsEarned/V.maxPoints*100}%`}})}),V.feedback&&d.jsx("p",{className:"text-sm text-gray-600 mt-2",children:V.feedback})]},ne))})]})]}),c==="questions"&&d.jsxs("div",{children:[_.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(qa,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"POST-CASE QUESTIONS"})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Answer these questions based on the case you just completed."}),d.jsx("div",{className:"space-y-4",children:_.map((V,ne)=>{var se;return d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsx("div",{className:"flex items-start justify-between mb-3",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("p",{className:"font-medium text-gray-900 mb-2",children:[ne+1,". ",V.question]}),d.jsx("div",{className:"space-y-2 mt-3",children:(se=V.options)==null?void 0:se.map((de,ie)=>{const me=de===V.selectedAnswer,xe=de===V.correctAnswer;return d.jsx("div",{className:`p-3 rounded-lg border-2 ${xe?"bg-green-50 border-green-200":me&&!xe?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:de}),xe&&d.jsx(cs,{className:"w-5 h-5 text-green-600"}),me&&!xe&&d.jsx(Qo,{className:"w-5 h-5 text-red-600"})]})},ie)})})]})}),V.explanation&&d.jsxs("div",{className:"mt-3 pt-3 border-t",children:[d.jsx("div",{className:"font-medium text-gray-700 mb-1",children:"EXPLANATION"}),d.jsx("p",{className:"text-sm text-gray-600",children:V.explanation})]})]},ne)})}),d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-gray-600",children:["Score: ",_.filter(V=>V.correct).length," / ",_.length]}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[_.length>0?(_.filter(V=>V.correct).length/_.length*100).toFixed(0):0,"%"]})]})})]}),w.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(qa,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"CASE QUESTIONS"})]}),d.jsx("div",{className:"space-y-4",children:w.map((V,ne)=>{var se;return d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsx("div",{className:"flex items-start justify-between mb-3",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("p",{className:"font-medium text-gray-900 mb-2",children:[ne+1,". ",V.question]}),d.jsx("div",{className:"space-y-2 mt-3",children:(se=V.options)==null?void 0:se.map((de,ie)=>{const me=de===V.selectedAnswer,xe=de===V.correctAnswer;return d.jsx("div",{className:`p-3 rounded-lg border-2 ${xe?"bg-green-50 border-green-200":me&&!xe?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:de}),xe&&d.jsx(cs,{className:"w-5 h-5 text-green-600"}),me&&!xe&&d.jsx(Qo,{className:"w-5 h-5 text-red-600"})]})},ie)})})]})}),V.explanation&&d.jsxs("div",{className:"mt-3 pt-3 border-t",children:[d.jsx("div",{className:"font-medium text-gray-700 mb-1",children:"EXPLANATION"}),d.jsx("p",{className:"text-sm text-gray-600",children:V.explanation})]})]},ne)})}),d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-gray-600",children:["Score: ",w.filter(V=>V.correct).length," / ",w.length]}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[(w.filter(V=>V.correct).length/w.length*100).toFixed(0),"%"]})]})})]})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-6",children:[d.jsxs("button",{onClick:()=>r("/results"),className:"flex items-center justify-center gap-2 px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[d.jsx(up,{className:"w-4 h-4"}),"Back to Results"]}),d.jsxs("button",{onClick:re,className:"flex items-center justify-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(af,{className:"w-4 h-4"}),"Download PDF Report"]})]})]}),d.jsx(Jn,{role:"student"})]})}function Wye({user:t}){const e=ya(),[r,n]=Y.useState([]),[i,a]=Y.useState(!0);Y.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:c,error:u}=await Te.from("simulation_runs").select("*").eq("student_id",t.id).not("submitted_at","is",null).order("submitted_at",{ascending:!1});if(u)throw u;const f=await Promise.all((c||[]).map(async p=>{const{data:h}=await Te.from("assignments").select("*").eq("id",p.assignment_id).single();let g=null;if(h){const{data:v}=await Te.from("case_snapshots").select("*").eq("id",h.snapshot_id).single();g=v}return{...p,assignment:h,snapshot:g}}));n(f)}catch(c){console.error("Error loading results:",c)}finally{a(!1)}},o=c=>c>=80?"bg-green-100 text-green-800":c>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",l=(c,u)=>{const f=new Date(c),p=new Date(u);return`${Math.floor((p.getTime()-f.getTime())/6e4)} minutes`};return i?d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Results & History"}),d.jsx("p",{className:"text-gray-600",children:"View your past simulation attempts and performance"})]}),r.length>0&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Attempts"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.length>0?Math.round(r.reduce((c,u)=>{var p;const f=((p=u.score)==null?void 0:p.overall)||0;return c+f},0)/r.length):0,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:[r.length>0?Math.max(...r.map(c=>{var f;return((f=c.score)==null?void 0:f.overall)||0})):0,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]})]}),r.length===0?d.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[d.jsx(nm,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 text-lg",children:"No completed simulations yet"}),d.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Complete a simulation to see your results here"})]}):d.jsx("div",{className:"space-y-4",children:r.map(c=>{var g,v,x,y,w,_,j;const u=((g=c.score)==null?void 0:g.overall)||0,f=((v=c.score)==null?void 0:v.sloResults)||[],p=((y=(x=c.snapshot)==null?void 0:x.clinical_case)==null?void 0:y.title)||"Untitled Station",h=((j=(_=(w=c.snapshot)==null?void 0:w.clinical_case)==null?void 0:_.patientProfile)==null?void 0:j.name)||"Patient";return d.jsx("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p}),d.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Patient: ",h]})]}),d.jsxs("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${o(u)}`,children:[u.toFixed(0),"%"]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm text-gray-600",children:[c.started_at&&c.submitted_at&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(ad,{className:"w-4 h-4"}),d.jsx("span",{children:l(c.started_at,c.submitted_at)})]}),c.submitted_at&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(im,{className:"w-4 h-4"}),d.jsx("span",{children:new Date(c.submitted_at).toLocaleDateString()})]}),f.length>0&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(ps,{className:"w-4 h-4"}),d.jsxs("span",{children:[f.filter(S=>S.status==="Achieved").length," /"," ",f.length," SLOs Achieved"]})]})]}),f.length>0&&d.jsxs("div",{className:"mt-4 space-y-2",children:[f.slice(0,3).map((S,O)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${S.percent>=70?"bg-green-600":"bg-yellow-600"}`,style:{width:`${S.percent}%`}})}),d.jsxs("span",{className:"text-xs text-gray-600 w-12 text-right",children:[S.percent,"%"]})]},O)),f.length>3&&d.jsxs("p",{className:"text-xs text-gray-500",children:["+",f.length-3," more SLOs"]})]})]}),d.jsx("div",{className:"flex gap-2",children:d.jsxs("button",{onClick:()=>e(`/debrief/${c.id}`),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:[d.jsx(D_,{className:"w-4 h-4"}),"View Details"]})})]})},c.id)})})]}),d.jsx(Jn,{role:"student"})]})}function Hye({user:t}){const e=ya(),[r,n]=Y.useState({totalAttempts:0,averageScore:0,bestScore:0,completedAssignments:0}),[i,a]=Y.useState([]),[s,o]=Y.useState([]),[l,c]=Y.useState(!0),[u,f]=Y.useState(!1),[p,h]=Y.useState(!1),[g,v]=Y.useState({totalTimeSpent:0,averageTimePerAttempt:0,improvementRate:0,slosAchieved:0,totalSlos:0,streak:0,lastActivity:null});Y.useEffect(()=>{x(),y()},[]);const x=async()=>{try{const{data:S}=await Te.from("simulation_runs").select("score, submitted_at, started_at, created_at").eq("student_id",t.id).not("submitted_at","is",null),O=S||[],k=O.map(ne=>{var se;return((se=ne.score)==null?void 0:se.overall)||0}).filter(ne=>ne>0),L=O.length,E=k.length>0?k.reduce((ne,se)=>ne+se,0)/k.length:0,$=k.length>0?Math.max(...k):0,{data:P}=await Te.from("cohort_members").select("cohort_id").eq("student_id",t.id);let I=0;if(P&&P.length>0){const ne=P.map(de=>de.cohort_id),{data:se}=await Te.from("assignments").select("id").in("cohort_id",ne);if(se){const de=se.map(me=>me.id),{data:ie}=await Te.from("simulation_runs").select("assignment_id").eq("student_id",t.id).not("submitted_at","is",null).in("assignment_id",de);I=new Set(ie==null?void 0:ie.map(me=>me.assignment_id)).size}}const{data:F}=await Te.from("simulation_runs").select("started_at, submitted_at, score, created_at").eq("student_id",t.id).not("submitted_at","is",null),R=(F||[]).reduce((ne,se)=>{if(se.started_at&&se.submitted_at){const de=new Date(se.started_at),ie=new Date(se.submitted_at);return ne+Math.floor((ie.getTime()-de.getTime())/6e4)}return ne},0),H=O.length>0?Math.round(R/O.length):0;let J=0,re=0;O.forEach(ne=>{var de;(((de=ne.score)==null?void 0:de.sloResults)||[]).forEach(ie=>{re++,ie.status==="Achieved"&&J++})});const q=k.slice(0,5),Z=k.slice(5,10),le=q.length>0?q.reduce((ne,se)=>ne+se,0)/q.length:0,fe=Z.length>0?Z.reduce((ne,se)=>ne+se,0)/Z.length:0,T=fe>0?(le-fe)/fe*100:0,B=O[0],X=(B==null?void 0:B.submitted_at)||null;let V=0;if(O.length>0){const ne=new Date;ne.setHours(0,0,0,0);let se=new Date(ne);for(let de=0;de<O.length;de++){const ie=O[de],me=new Date(ie.submitted_at||ie.created_at||ie.started_at);if(me.setHours(0,0,0,0),me.getTime()===se.getTime())V++,se.setDate(se.getDate()-1);else if(me.getTime()<se.getTime())break}}n({totalAttempts:L,averageScore:Math.round(E),bestScore:Math.round($),completedAssignments:I}),v({totalTimeSpent:R,averageTimePerAttempt:H,improvementRate:Math.round(T*10)/10,slosAchieved:J,totalSlos:re,streak:V,lastActivity:X})}catch(S){console.error("Error loading stats:",S)}finally{c(!1)}},y=async()=>{try{const{data:S}=await Te.from("cohort_members").select("cohort_id, cohorts(id, name, description)").eq("student_id",t.id),O=(S||[]).map($=>$.cohort_id),k=(S||[]).map($=>$.cohorts).filter(Boolean);a(k);const{data:L}=await Te.from("cohorts").select("id, name, description").order("name"),E=(L||[]).filter($=>!O.includes($.id));o(E)}catch(S){console.error("Error loading cohorts:",S)}},w=async S=>{f(!0);try{const{error:O}=await Te.from("cohort_members").insert({cohort_id:S,student_id:t.id});if(O)throw O;await y()}catch(O){alert("Error joining cohort: "+O.message)}finally{f(!1)}},_=async S=>{if(confirm("Are you sure you want to leave this cohort? You will lose access to its assignments.")){f(!0);try{const{error:O}=await Te.from("cohort_members").delete().eq("cohort_id",S).eq("student_id",t.id);if(O)throw O;await y()}catch(O){alert("Error leaving cohort: "+O.message)}finally{f(!1)}}},j=async()=>{await Te.auth.signOut(),e("/")};return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Profile"}),d.jsx("p",{className:"text-gray-600",children:"View your account information and performance statistics"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center",children:d.jsx(fl,{className:"w-10 h-10 text-primary-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(yU,{className:"w-4 h-4"}),d.jsx("span",{children:t.email})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(im,{className:"w-4 h-4"}),d.jsxs("span",{children:["Member since ",new Date(t.created_at).toLocaleDateString()]})]})]})]}),d.jsx("div",{className:"border-t pt-4",children:d.jsx("div",{className:"flex items-center gap-2 text-sm",children:d.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full font-medium",children:"Student"})})})]}),!l&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(wy,{className:"w-5 h-5 text-primary-600"}),d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.totalAttempts})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Attempts"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(ps,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.averageScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(nm,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[r.bestScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Th,{className:"w-5 h-5 text-primary-600"}),d.jsx("div",{className:"text-2xl font-bold text-primary-600",children:r.completedAssignments})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(lo,{className:"w-5 h-5 text-primary-600"}),"Performance Metrics"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Time Spent"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[g.totalTimeSpent," min"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Avg Time per Attempt"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[g.averageTimePerAttempt," min"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Improvement Rate"}),d.jsxs("span",{className:`font-semibold ${g.improvementRate>0?"text-green-600":g.improvementRate<0?"text-red-600":"text-gray-900"}`,children:[g.improvementRate>0?"+":"",g.improvementRate,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Current Streak"}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[g.streak," days"]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(Th,{className:"w-5 h-5 text-primary-600"}),"Learning Outcomes"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"SLOs Achieved"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[g.slosAchieved," / ",g.totalSlos]})]}),g.totalSlos>0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-primary-600 h-3 rounded-full transition-all",style:{width:`${g.slosAchieved/g.totalSlos*100}%`}})}),d.jsxs("div",{className:"text-sm text-gray-500",children:[(g.slosAchieved/g.totalSlos*100).toFixed(1),"% achievement rate"]})]}),g.lastActivity&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mt-4 pt-4 border-t",children:[d.jsx(ad,{className:"w-4 h-4"}),d.jsxs("span",{children:["Last activity: ",new Date(g.lastActivity).toLocaleDateString()]})]})]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Tc,{className:"w-5 h-5 text-primary-600"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Cohorts"})]}),d.jsxs("button",{onClick:()=>h(!p),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:[d.jsx(qT,{className:"w-4 h-4"}),"Manage"]})]}),i.length===0?d.jsx("p",{className:"text-gray-500 text-sm",children:"You are not in any cohorts yet."}):d.jsx("div",{className:"space-y-2",children:i.map(S=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:S.name}),S.description&&d.jsx("div",{className:"text-sm text-gray-500",children:S.description})]}),p&&d.jsx("button",{onClick:()=>_(S.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Leave cohort",children:d.jsx(sm,{className:"w-4 h-4"})})]},S.id))}),p&&s.length>0&&d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Cohorts"}),d.jsx("div",{className:"space-y-2",children:s.map(S=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-md",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:S.name}),S.description&&d.jsx("div",{className:"text-sm text-gray-500",children:S.description})]}),d.jsxs("button",{onClick:()=>w(S.id),disabled:u,className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 transition-colors",children:[d.jsx(am,{className:"w-4 h-4"}),"Join"]})]},S.id))})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Actions"}),d.jsx("div",{className:"space-y-2",children:d.jsxs("button",{onClick:j,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors font-medium",children:[d.jsx(vU,{className:"w-5 h-5"}),"Sign Out"]})})]})]}),d.jsx(Jn,{role:"student"})]})}function Vye({data:t}){return d.jsx(Hy,{width:"100%",height:300,children:d.jsxs(I$,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(m1,{strokeDasharray:"3 3"}),d.jsx(Zc,{dataKey:"date"}),d.jsx(Qc,{domain:[0,100]}),d.jsx($i,{}),d.jsx(to,{}),d.jsx(Fc,{type:"monotone",dataKey:"score",stroke:"#3b82f6",strokeWidth:2,name:"Score (%)",dot:{fill:"#3b82f6",r:4}})]})})}function Gye({user:t}){const[e,r]=Y.useState(null),[n,i]=Y.useState(!0),[a,s]=Y.useState([]);Y.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:c}=await Te.from("cohort_members").select("cohort_id").eq("student_id",t.id),u=(c==null?void 0:c.map(T=>T.cohort_id))||[];let f=[];if(u.length>0){const{data:T}=await Te.from("assignments").select("*").in("cohort_id",u);f=T||[]}const{data:p}=await Te.from("simulation_runs").select("*, assignments!inner(snapshot_id, case_snapshots!inner(clinical_case))").eq("student_id",t.id).order("submitted_at",{ascending:!1}),h=(p||[]).filter(T=>T.submitted_at),g=(p||[]).filter(T=>!T.submitted_at),v=h.map(T=>{var B;return((B=T.score)==null?void 0:B.overall)||0}).filter(T=>T>0),x=v.length>0?v.reduce((T,B)=>T+B,0)/v.length:0,y=v.length>0?Math.max(...v):0,w=v.slice(0,3),_=v.slice(3,6),j=w.length>0?w.reduce((T,B)=>T+B,0)/w.length:0,S=_.length>0?_.reduce((T,B)=>T+B,0)/_.length:0,O=S>0?(j-S)/S*100:0,k=h.slice(0,10).map(T=>{var V;const B=((V=T.score)==null?void 0:V.overall)||0,X=T.submitted_at||T.created_at;return{date:new Date(X).toLocaleDateString("en-US",{month:"short",day:"numeric"}),score:Math.round(B)}}).reverse();s(k);const L=new Map;h.forEach(T=>{var X;(((X=T.score)==null?void 0:X.sloResults)||[]).forEach(V=>{const ne=V.sloId||"unknown";L.has(ne)||L.set(ne,{achieved:0,total:0,text:V.sloText});const se=L.get(ne);se.total++,V.status==="Achieved"&&se.achieved++})});const E=Array.from(L.entries()).map(([T,B])=>({sloId:T,sloText:B.text,achieved:B.achieved,total:B.total,percentage:B.total>0?B.achieved/B.total*100:0})).sort((T,B)=>B.percentage-T.percentage),$=h.reduce((T,B)=>{if(B.started_at&&B.submitted_at){const X=new Date(B.started_at),V=new Date(B.submitted_at);return T+Math.floor((V.getTime()-X.getTime())/6e4)}return T},0),P=h.slice(0,5).map(T=>{var B;return{date:T.submitted_at||T.created_at,action:"Completed simulation",score:((B=T.score)==null?void 0:B.overall)||0}}),I=new Set(h.map(T=>T.assignment_id)),F=new Set(g.map(T=>T.assignment_id)),R=f.filter(T=>I.has(T.id)).length,H=f.filter(T=>F.has(T.id)&&!I.has(T.id)).length,J=f.length-R-H,{data:re}=await Te.from("competencies").select("id, domain, level, description"),{data:q}=await Te.from("slo").select("id, competency_id, text"),Z=new Map;q==null||q.forEach(T=>{T.competency_id&&Z.set(T.id,T.competency_id)});const le=new Map;re==null||re.forEach(T=>{le.set(T.id,{competency:T.id,domain:T.domain,level:T.level||null,description:T.description,totalAttempts:0,achievedAttempts:0,assignments:[]})}),h.forEach(T=>{var me,xe;if(!f.find(pe=>pe.id===T.assignment_id))return;const X=(me=T.assignments)==null?void 0:me.case_snapshots;if(!(X!=null&&X.clinical_case))return;const V=X.clinical_case,ne=V.sloMappings||[],se=V.title||"Untitled Assignment",de=((xe=T.score)==null?void 0:xe.sloResults)||[],ie=new Set(de.filter(pe=>pe.status==="Achieved").map(pe=>pe.sloId));ne.forEach(pe=>{const Pe=Z.get(pe);if(!Pe)return;const ue=le.get(Pe);ue&&(ue.totalAttempts++,ie.has(pe)&&ue.achievedAttempts++,ue.assignments.includes(se)||ue.assignments.push(se))})});const fe=Array.from(le.values()).filter(T=>T.totalAttempts>0).map(T=>({competency:T.competency,domain:T.domain,level:T.level,description:T.description,progress:T.totalAttempts>0?Math.round(T.achievedAttempts/T.totalAttempts*100):0,totalAttempts:T.totalAttempts,achievedAttempts:T.achievedAttempts,assignments:T.assignments})).sort((T,B)=>B.progress-T.progress);r({totalAssignments:f.length,completedAssignments:R,pendingAssignments:J,inProgressAssignments:H,totalAttempts:(p==null?void 0:p.length)||0,averageScore:Math.round(x),bestScore:Math.round(y),improvementTrend:Math.round(O*10)/10,sloProgress:E,recentActivity:P,timeSpent:$,competencyProgress:fe})}catch(c){console.error("Error loading analytics:",c)}finally{i(!1)}};if(n)return d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});if(!e)return d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 p-4",children:d.jsx("p",{children:"Unable to load analytics data."})});const l=e.totalAssignments>0?e.completedAssignments/e.totalAssignments*100:0;return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Analytics"}),d.jsx("p",{className:"text-gray-600",children:"Track your progress and performance"})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Th,{className:"w-5 h-5 text-primary-600"}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[l.toFixed(0),"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Completion Rate"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(ps,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[e.averageScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(nm,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[e.bestScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(ad,{className:"w-5 h-5 text-blue-600"}),d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.timeSpent})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Minutes Practiced"})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(lo,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Progress Overview"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Completed"}),d.jsxs("span",{className:"text-sm font-semibold",children:[e.completedAssignments,"/",e.totalAssignments]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-green-600 h-3 rounded-full transition-all",style:{width:`${l}%`}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"In Progress"}),d.jsx("span",{className:"text-sm font-semibold",children:e.inProgressAssignments})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-yellow-600 h-3 rounded-full transition-all",style:{width:`${e.totalAssignments>0?e.inProgressAssignments/e.totalAssignments*100:0}%`}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Pending"}),d.jsx("span",{className:"text-sm font-semibold",children:e.pendingAssignments})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-gray-400 h-3 rounded-full transition-all",style:{width:`${e.totalAssignments>0?e.pendingAssignments/e.totalAssignments*100:0}%`}})})]})]})]}),a.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(ps,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Score Trend (Last 10 Attempts)"})]}),d.jsx(Vye,{data:a})]}),e.improvementTrend!==0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(ps,{className:`w-5 h-5 ${e.improvementTrend>0?"text-green-600":"text-red-600"}`}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Performance Trend"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:`text-3xl font-bold ${e.improvementTrend>0?"text-green-600":"text-red-600"}`,children:[e.improvementTrend>0?"+":"",e.improvementTrend.toFixed(1),"%"]}),d.jsxs("div",{className:"text-gray-600",children:[e.improvementTrend>0?"Improving":"Declining"," compared to previous attempts"]})]})]}),e.sloProgress.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Th,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"SLO Achievement"})]}),d.jsx("div",{className:"space-y-4",children:e.sloProgress.slice(0,5).map((c,u)=>d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:c.sloId}),c.sloText&&d.jsx("div",{className:"text-sm text-gray-600",children:c.sloText})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[c.percentage>=70?d.jsx(cs,{className:"w-5 h-5 text-green-600"}):d.jsx(Qo,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("span",{className:"font-semibold",children:[c.percentage.toFixed(0),"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${c.percentage>=70?"bg-green-600":"bg-yellow-600"}`,style:{width:`${c.percentage}%`}})}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Achieved ",c.achieved," out of ",c.total," attempts"]})]},u))})]}),e.recentActivity.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(hU,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"})]}),d.jsx("div",{className:"space-y-3",children:e.recentActivity.map((c,u)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(im,{className:"w-4 h-4 text-gray-400"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:c.action}),d.jsx("div",{className:"text-sm text-gray-500",children:new Date(c.date).toLocaleDateString()})]})]}),c.score!==void 0&&d.jsxs("div",{className:"font-semibold text-primary-600",children:[c.score.toFixed(0),"%"]})]},u))})]}),e.competencyProgress.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Th,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Competency Progress"})]}),d.jsx("div",{className:"space-y-4",children:e.competencyProgress.slice(0,8).map((c,u)=>d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:c.competency}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:c.description}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:c.domain}),c.level&&d.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded",children:c.level})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[c.progress>=70?d.jsx(cs,{className:"w-5 h-5 text-green-600"}):c.progress>=50?d.jsx(Qo,{className:"w-5 h-5 text-yellow-600"}):d.jsx(Qo,{className:"w-5 h-5 text-red-600"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[c.progress,"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${c.progress>=70?"bg-green-600":c.progress>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${c.progress}%`}})}),d.jsxs("div",{className:"text-xs text-gray-500",children:["Achieved ",c.achievedAttempts," out of ",c.totalAttempts," attempts",c.assignments.length>0&&d.jsxs("span",{className:"ml-2",children:[" ",c.assignments.length," assignment",c.assignments.length!==1?"s":""]})]})]},u))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Assignment Status"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Assignments"}),d.jsx("span",{className:"font-semibold",children:e.totalAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Completed"}),d.jsx("span",{className:"font-semibold text-green-600",children:e.completedAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"In Progress"}),d.jsx("span",{className:"font-semibold text-yellow-600",children:e.inProgressAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Pending"}),d.jsx("span",{className:"font-semibold text-gray-600",children:e.pendingAssignments})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Stats"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Attempts"}),d.jsx("span",{className:"font-semibold",children:e.totalAttempts})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Average Score"}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[e.averageScore,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Best Score"}),d.jsxs("span",{className:"font-semibold text-yellow-600",children:[e.bestScore,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Time Practiced"}),d.jsxs("span",{className:"font-semibold text-blue-600",children:[e.timeSpent," min"]})]})]})]})]})]}),d.jsx(Jn,{role:"student"})]})}function Kye({user:t}){const[e,r]=Y.useState({totalFaculty:0,totalStudents:0,activeStations:0,coverage:0}),[n,i]=Y.useState(!0);Y.useEffect(()=>{s()},[]);const a=async()=>{try{const{data:o}=await Te.from("users").select("id, name, email, role, created_at"),{data:l}=await Te.from("stations").select("id, title, created_at"),{data:c}=await Te.from("case_snapshots").select("id, approved_at"),{data:u}=await Te.from("assignments").select("id, created_at"),{data:f}=await Te.from("simulation_runs").select("id, score, submitted_at").not("submitted_at","is",null),{data:p}=await Te.from("competencies").select("id, domain, level"),h=(o==null?void 0:o.filter(O=>O.role==="faculty").length)||0,g=(o==null?void 0:o.filter(O=>O.role==="student").length)||0,v=(f==null?void 0:f.filter(O=>O.submitted_at))||[],x=v.map(O=>{var k;return((k=O.score)==null?void 0:k.overall)||0}).filter(O=>O>0),y=x.length>0?x.reduce((O,k)=>O+k,0)/x.length:0,w={generatedAt:new Date().toISOString(),summary:{totalUsers:(o==null?void 0:o.length)||0,totalFaculty:h,totalStudents:g,totalStations:(l==null?void 0:l.length)||0,totalSnapshots:(c==null?void 0:c.length)||0,totalAssignments:(u==null?void 0:u.length)||0,totalCompletions:v.length,averageScore:Math.round(y),totalCompetencies:(p==null?void 0:p.length)||0},userBreakdown:{faculty:o==null?void 0:o.filter(O=>O.role==="faculty").map(O=>({name:O.name,email:O.email,joined:O.created_at})),students:o==null?void 0:o.filter(O=>O.role==="student").map(O=>({name:O.name,email:O.email,joined:O.created_at}))},performance:{totalAttempts:v.length,averageScore:Math.round(y),completionRate:u&&u.length>0?Math.round(v.length/u.length*100):0}},_=new Blob([JSON.stringify(w,null,2)],{type:"application/json"}),j=URL.createObjectURL(_),S=document.createElement("a");S.href=j,S.download=`system-report-${new Date().toISOString().split("T")[0]}.json`,S.click()}catch(o){alert("Error exporting report: "+(o.message||"Unknown error")),console.error("Error exporting report:",o)}},s=async()=>{try{const{data:o}=await Te.from("users").select("role"),l=(o==null?void 0:o.filter(_=>_.role==="faculty").length)||0,c=(o==null?void 0:o.filter(_=>_.role==="student").length)||0,{data:u}=await Te.from("stations").select("id"),{data:f}=await Te.from("competencies").select("id"),{data:p}=await Te.from("slo").select("id, competency_id"),h=new Map;p==null||p.forEach(_=>{_.competency_id&&h.set(_.id,_.competency_id)});const{data:g}=await Te.from("case_snapshots").select("clinical_case"),v=new Set;g==null||g.forEach(_=>{var S;(((S=_.clinical_case)==null?void 0:S.sloMappings)||[]).forEach(O=>{const k=h.get(O);k&&v.add(k)})});const x=(f==null?void 0:f.length)||0,y=v.size,w=x>0?Math.round(y/x*100):0;r({totalFaculty:l,totalStudents:c,activeStations:(u==null?void 0:u.length)||0,coverage:w})}catch(o){console.error("Error loading stats:",o)}finally{i(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(qi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Admin Dashboard"}),n?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Faculty"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.totalFaculty})]}),d.jsx(Tc,{className:"w-8 h-8 text-blue-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Students"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.totalStudents})]}),d.jsx(Tc,{className:"w-8 h-8 text-green-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Active Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.activeStations})]}),d.jsx(qa,{className:"w-8 h-8 text-purple-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"CBDC Coverage"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[e.coverage,"%"]})]}),d.jsx(lo,{className:"w-8 h-8 text-orange-600"})]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),d.jsx("div",{className:"flex gap-4",children:d.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(af,{className:"w-4 h-4"}),"Export System Report"]})})]})]})]})})]})}function Yye({isOpen:t,onClose:e,onSave:r}){const[n,i]=Y.useState({id:"",domain:"",level:"",description:""}),[a,s]=Y.useState(!1),[o,l]=Y.useState(null);if(!t)return null;const c=async u=>{if(u.preventDefault(),l(null),!n.id.trim()||!n.domain.trim()||!n.description.trim()){l("ID, Domain, and Description are required");return}s(!0);try{await r({id:n.id.trim(),domain:n.domain.trim(),level:n.level.trim()||null,description:n.description.trim()}),i({id:"",domain:"",level:"",description:""}),e()}catch(f){l(f.message||"Failed to save competency")}finally{s(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Competency"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(sm,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[o&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:o}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ID ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:n.id,onChange:u=>i({...n,id:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Domain ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:n.domain,onChange:u=>i({...n,domain:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),d.jsx("input",{type:"text",value:n.level,onChange:u=>i({...n,level:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Optional"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{value:n.description,onChange:u=>i({...n,description:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,required:!0})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Saving...":"Save"})]})]})]})})}function Xye({isOpen:t,onClose:e,competency:r,onSave:n}){const[i,a]=Y.useState({id:"",domain:"",level:"",description:""}),[s,o]=Y.useState(!1),[l,c]=Y.useState(null);if(Y.useEffect(()=>{r&&a({id:r.id,domain:r.domain,level:r.level||"",description:r.description})},[r]),!t||!r)return null;const u=async f=>{if(f.preventDefault(),c(null),!i.domain.trim()||!i.description.trim()){c("Domain and Description are required");return}o(!0);try{await n({id:i.id,domain:i.domain.trim(),level:i.level.trim()||null,description:i.description.trim()}),e()}catch(p){c(p.message||"Failed to update competency")}finally{o(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Competency"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(sm,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),d.jsx("input",{type:"text",value:i.id,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ID cannot be changed"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Domain ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i.domain,onChange:f=>a({...i,domain:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),d.jsx("input",{type:"text",value:i.level,onChange:f=>a({...i,level:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Optional"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{value:i.description,onChange:f=>a({...i,description:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,required:!0})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Saving...":"Update"})]})]})]})})}function Jye({user:t}){const[e,r]=Y.useState([]),[n,i]=Y.useState(!0),[a,s]=Y.useState(!1),[o,l]=Y.useState(null);Y.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:g,error:v}=await Te.from("competencies").select("*").order("id");if(v)throw v;r(g||[])}catch(g){console.error("Error loading competencies:",g)}finally{i(!1)}},u=()=>{const g=[["ID","Domain","Level","Description"],...e.map(w=>[w.id,w.domain,w.level||"",w.description])].map(w=>w.map(_=>`"${_}"`).join(",")).join(`
`),v=new Blob([g],{type:"text/csv"}),x=URL.createObjectURL(v),y=document.createElement("a");y.href=x,y.download="cbdc-competencies.csv",y.click()},f=async g=>{const{error:v}=await Te.from("competencies").insert([g]);if(v)throw v;await c()},p=async g=>{const{error:v}=await Te.from("competencies").update({domain:g.domain,level:g.level,description:g.description}).eq("id",g.id);if(v)throw v;await c()},h=async g=>{if(!confirm(`Are you sure you want to delete competency "${g}"? This action cannot be undone.`))return;const{error:v}=await Te.from("competencies").delete().eq("id",g);if(v){alert("Error deleting competency: "+v.message);return}await c()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(qi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"CBDC Manager"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[d.jsx(af,{className:"w-4 h-4"}),"Export CSV"]}),d.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(am,{className:"w-4 h-4"}),"Add Competency"]})]})]}),n?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Domain"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(g=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.id}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.domain}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.level||"-"}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:g.description}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[d.jsx("button",{onClick:()=>l(g),className:"text-primary-600 hover:text-primary-900 mr-4",title:"Edit competency",children:d.jsx(B_,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>h(g.id),className:"text-red-600 hover:text-red-900",title:"Delete competency",children:d.jsx(SU,{className:"w-4 h-4"})})]})]},g.id))})]})})]})}),d.jsx(Yye,{isOpen:a,onClose:()=>s(!1),onSave:f}),d.jsx(Xye,{isOpen:o!==null,onClose:()=>l(null),competency:o,onSave:p})]})}function Zye({isOpen:t,onClose:e,user:r,onSave:n}){const[i,a]=Y.useState({name:"",email:"",role:"student"}),[s,o]=Y.useState(!1),[l,c]=Y.useState(null);if(Y.useEffect(()=>{r&&a({name:r.name,email:r.email,role:r.role})},[r]),!t||!r)return null;const u=async f=>{if(f.preventDefault(),c(null),!i.name.trim()||!i.email.trim()){c("Name and Email are required");return}o(!0);try{await n({id:r.id,name:i.name.trim(),email:i.email.trim(),role:i.role}),e()}catch(p){c(p.message||"Failed to update user")}finally{o(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit User"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(sm,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i.name,onChange:f=>a({...i,name:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"email",value:i.email,onChange:f=>a({...i,email:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{value:i.role,onChange:f=>a({...i,role:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Saving...":"Update"})]})]})]})})}function Qye({user:t}){const[e,r]=Y.useState([]),[n,i]=Y.useState(!0),[a,s]=Y.useState(""),[o,l]=Y.useState(null);Y.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:h,error:g}=await Te.from("users").select("*").order("created_at",{ascending:!1});if(g)throw g;r(h||[])}catch(h){console.error("Error loading users:",h)}finally{i(!1)}},u=e.filter(h=>h.name.toLowerCase().includes(a.toLowerCase())||h.email.toLowerCase().includes(a.toLowerCase())),f=h=>{switch(h){case"admin":return"bg-red-100 text-red-800";case"faculty":return"bg-blue-100 text-blue-800";case"student":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},p=async h=>{const{error:g}=await Te.from("users").update({name:h.name,email:h.email,role:h.role}).eq("id",h.id);if(g)throw g;await c()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(qi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"User Management"}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(F_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:h=>s(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),n?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(h=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(fl,{className:"w-5 h-5 text-gray-400 mr-2"}),d.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.email}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${f(h.role)}`,children:h.role})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(h.created_at).toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>l(h),className:"text-primary-600 hover:text-primary-900",title:"Edit user",children:d.jsx(B_,{className:"w-4 h-4"})})})]},h.id))})]})})]})}),d.jsx(Zye,{isOpen:o!==null,onClose:()=>l(null),user:o,onSave:p})]})}function e1e({user:t}){const[e,r]=Y.useState([]),[n,i]=Y.useState(null);Y.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:o,error:l}=await Te.from("reports").select("*").order("created_at",{ascending:!1}).limit(10);if(l)throw l;r(o||[])}catch(o){console.error("Error loading reports:",o)}},s=async o=>{i(o);try{const l=new Date;let c,u=new Date(l);if(o==="quarterly"){const F=Math.floor(l.getMonth()/3);c=new Date(l.getFullYear(),F*3,1)}else c=new Date(l.getFullYear(),0,1);const{data:f}=await Te.from("competencies").select("*"),{data:p}=await Te.from("stations").select("id, title, blueprint"),{data:h}=await Te.from("case_snapshots").select("id, clinical_case, approved_at").gte("approved_at",c.toISOString()).lte("approved_at",u.toISOString()),{data:g}=await Te.from("assignments").select("id, snapshot_id, created_at").gte("created_at",c.toISOString()).lte("created_at",u.toISOString()),v=(g==null?void 0:g.map(F=>F.id))||[],{data:x}=await Te.from("simulation_runs").select("id, score, submitted_at").in("assignment_id",v).not("submitted_at","is",null),y=new Set;h==null||h.forEach(F=>{var H;(((H=F.clinical_case)==null?void 0:H.sloMappings)||[]).forEach(J=>{y.add(J)})});const w=(f==null?void 0:f.length)||0,_=y.size,j=w>0?Math.round(_/w*100):0,S=(x==null?void 0:x.filter(F=>F.submitted_at))||[],O=S.map(F=>{var R;return((R=F.score)==null?void 0:R.overall)||0}).filter(F=>F>0),k=O.length>0?O.reduce((F,R)=>F+R,0)/O.length:0,L={summary:{period:o==="quarterly"?"Quarterly":"Annual",periodStart:c.toISOString().split("T")[0],periodEnd:u.toISOString().split("T")[0],generatedAt:new Date().toISOString()},metrics:{totalCompetencies:w,coveredCompetencies:_,coverage:j,totalStations:(p==null?void 0:p.length)||0,totalSnapshots:(h==null?void 0:h.length)||0,totalAssignments:(g==null?void 0:g.length)||0,totalCompletions:S.length,averageScore:Math.round(k)},stationDistribution:{total:(p==null?void 0:p.length)||0,bySubject:{}},studentPerformance:{totalAttempts:S.length,averageScore:Math.round(k),completionRate:g&&g.length>0?Math.round(S.length/g.length*100):0},sloAchievement:{total:0,achieved:0,percentage:0}},{error:E}=await Te.from("reports").insert([{type:o,period_start:c.toISOString().split("T")[0],period_end:u.toISOString().split("T")[0],report_data:L,generated_by:t.id}]);if(E)throw E;const $=new Blob([JSON.stringify(L,null,2)],{type:"application/json"}),P=URL.createObjectURL($),I=document.createElement("a");I.href=P,I.download=`${o}-report-${c.toISOString().split("T")[0]}.json`,I.click(),await a()}catch(l){alert("Error generating report: "+(l.message||"Unknown error")),console.error("Error generating report:",l)}finally{i(null)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(qi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Compliance Reports"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Quarterly Report"}),d.jsx(qa,{className:"w-8 h-8 text-blue-600"})]}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Generate a comprehensive quarterly compliance report covering all competencies and stations."}),d.jsx("button",{onClick:()=>s("quarterly"),disabled:n!==null,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n==="quarterly"?d.jsxs(d.Fragment,{children:[d.jsx(fp,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(af,{className:"w-4 h-4"}),"Generate Quarterly Report"]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Annual Report"}),d.jsx(ps,{className:"w-8 h-8 text-green-600"})]}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Generate an annual compliance report with year-over-year trends and analytics."}),d.jsx("button",{onClick:()=>s("annual"),disabled:n!==null,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n==="annual"?d.jsxs(d.Fragment,{children:[d.jsx(fp,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(af,{className:"w-4 h-4"}),"Generate Annual Report"]})})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Report History"}),e.length===0?d.jsx("p",{className:"text-gray-600",children:"No reports generated yet."}):d.jsx("div",{className:"space-y-3",children:e.map(o=>{var l;return d.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded ${o.type==="quarterly"?"bg-blue-100":"bg-green-100"}`,children:o.type==="quarterly"?d.jsx(qa,{className:"w-5 h-5 text-blue-600"}):d.jsx(ps,{className:"w-5 h-5 text-green-600"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium text-gray-900 capitalize",children:[o.type," Report"]}),d.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2 mt-1",children:[d.jsx(im,{className:"w-4 h-4"}),new Date(o.period_start).toLocaleDateString()," - ",new Date(o.period_end).toLocaleDateString()]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"text-sm text-gray-500",children:new Date(o.created_at).toLocaleDateString()}),d.jsx("button",{onClick:()=>{const c=new Blob([JSON.stringify(o.report_data,null,2)],{type:"application/json"}),u=URL.createObjectURL(c),f=document.createElement("a");f.href=u,f.download=`${o.type}-report-${o.period_start}.json`,f.click()},className:"p-2 text-primary-600 hover:bg-primary-50 rounded transition-colors",title:"Download report",children:d.jsx(af,{className:"w-4 h-4"})})]})]}),((l=o.report_data)==null?void 0:l.metrics)&&d.jsxs("div",{className:"mt-3 pt-3 border-t grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Coverage"}),d.jsxs("div",{className:"font-semibold text-gray-900",children:[o.report_data.metrics.coverage,"%"]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Stations"}),d.jsx("div",{className:"font-semibold text-gray-900",children:o.report_data.metrics.totalStations})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Completions"}),d.jsx("div",{className:"font-semibold text-gray-900",children:o.report_data.metrics.totalCompletions})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Avg Score"}),d.jsxs("div",{className:"font-semibold text-gray-900",children:[o.report_data.metrics.averageScore,"%"]})]})]})]},o.id)})})]})]})})]})}function t1e(){return d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})})}function r1e(){const[t,e]=Y.useState(null),[r,n]=Y.useState(!0);Y.useEffect(()=>{Te.auth.getSession().then(({data:{session:s}})=>{s?i():n(!1)});const{data:{subscription:a}}=Te.auth.onAuthStateChange((s,o)=>{o?i():(e(null),n(!1))});return()=>a.unsubscribe()},[]);const i=async()=>{var a,s,o;try{const{data:{user:l}}=await Te.auth.getUser();if(!l){n(!1);return}const{data:c,error:u}=await Te.from("users").select("*").eq("id",l.id).single();if(u&&u.code==="PGRST116"){const{data:f}=await Te.from("users").insert({id:l.id,name:((a=l.user_metadata)==null?void 0:a.name)||((s=l.email)==null?void 0:s.split("@")[0])||"User",email:l.email,role:((o=l.user_metadata)==null?void 0:o.role)||"student"}).select().single();e(f)}else c&&e(c)}catch(l){console.error("Error loading user:",l)}finally{n(!1)}};return r?d.jsx(t1e,{}):t?d.jsxs(B9,{children:[d.jsxs(T9,{children:[t.role==="faculty"&&d.jsxs(d.Fragment,{children:[d.jsx(pn,{path:"/dashboard",element:d.jsx(AU,{user:t})}),d.jsx(pn,{path:"/create",element:d.jsx(NU,{user:t})}),d.jsx(pn,{path:"/review/:stationId",element:d.jsx(ez,{user:t})}),d.jsx(pn,{path:"/assign/:snapshotId",element:d.jsx(tz,{user:t})}),d.jsx(pn,{path:"/library",element:d.jsx(rz,{user:t})}),d.jsx(pn,{path:"/analytics",element:d.jsx(Bge,{user:t})})]}),t.role==="student"&&d.jsxs(d.Fragment,{children:[d.jsx(pn,{path:"/home",element:d.jsx(Kk,{user:t})}),d.jsx(pn,{path:"/assigned",element:d.jsx(Kk,{user:t})}),d.jsx(pn,{path:"/analytics",element:d.jsx(Gye,{user:t})}),d.jsx(pn,{path:"/simulation/:assignmentId",element:d.jsx(Hge,{user:t})}),d.jsx(pn,{path:"/debrief/:runId",element:d.jsx(qye,{user:t})}),d.jsx(pn,{path:"/results",element:d.jsx(Wye,{user:t})}),d.jsx(pn,{path:"/profile",element:d.jsx(Hye,{user:t})})]}),t.role==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx(pn,{path:"/admin/dashboard",element:d.jsx(Kye,{user:t})}),d.jsx(pn,{path:"/admin/reports",element:d.jsx(e1e,{user:t})}),d.jsx(pn,{path:"/admin/cbdc",element:d.jsx(Jye,{user:t})}),d.jsx(pn,{path:"/admin/users",element:d.jsx(Qye,{user:t})})]}),d.jsx(pn,{path:"/",element:d.jsx(E9,{to:t.role==="faculty"?"/dashboard":t.role==="admin"?"/admin/dashboard":"/home",replace:!0})})]}),t&&t.role==="student"&&d.jsx(Jn,{role:t.role})]}):d.jsx(uU,{onAuthSuccess:i})}Cx.createRoot(document.getElementById("root")).render(d.jsx(ae.StrictMode,{children:d.jsx(r1e,{})}));export{er as _,Qm as c,rr as g};
