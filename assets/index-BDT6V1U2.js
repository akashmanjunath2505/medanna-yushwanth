var A9=Object.defineProperty;var k9=(e,t,r)=>t in e?A9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var rr=(e,t,r)=>k9(e,typeof t!="symbol"?t+"":t,r);function UC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ir(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function O9(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var zC={exports:{}},Jv={},qC={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm=Symbol.for("react.element"),E9=Symbol.for("react.portal"),P9=Symbol.for("react.fragment"),C9=Symbol.for("react.strict_mode"),T9=Symbol.for("react.profiler"),I9=Symbol.for("react.provider"),L9=Symbol.for("react.context"),R9=Symbol.for("react.forward_ref"),$9=Symbol.for("react.suspense"),M9=Symbol.for("react.memo"),D9=Symbol.for("react.lazy"),_A=Symbol.iterator;function B9(e){return e===null||typeof e!="object"?null:(e=_A&&e[_A]||e["@@iterator"],typeof e=="function"?e:null)}var WC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HC=Object.assign,VC={};function Of(e,t,r){this.props=e,this.context=t,this.refs=VC,this.updater=r||WC}Of.prototype.isReactComponent={};Of.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Of.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function GC(){}GC.prototype=Of.prototype;function Q_(e,t,r){this.props=e,this.context=t,this.refs=VC,this.updater=r||WC}var eS=Q_.prototype=new GC;eS.constructor=Q_;HC(eS,Of.prototype);eS.isPureReactComponent=!0;var SA=Array.isArray,KC=Object.prototype.hasOwnProperty,tS={current:null},YC={key:!0,ref:!0,__self:!0,__source:!0};function XC(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)KC.call(t,n)&&!YC.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Mm,type:e,key:a,ref:s,props:i,_owner:tS.current}}function F9(e,t){return{$$typeof:Mm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rS(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mm}function U9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var jA=/\/+/g;function Xb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?U9(""+e.key):t.toString(36)}function B0(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Mm:case E9:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Xb(s,0):n,SA(i)?(r="",e!=null&&(r=e.replace(jA,"$&/")+"/"),B0(i,t,r,"",function(c){return c})):i!=null&&(rS(i)&&(i=F9(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(jA,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",SA(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+Xb(a,o);s+=B0(a,t,r,l,i)}else if(l=B9(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+Xb(a,o++),s+=B0(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ug(e,t,r){if(e==null)return e;var n=[],i=0;return B0(e,n,"","",function(a){return t.call(r,a,i++)}),n}function z9(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xi={current:null},F0={transition:null},q9={ReactCurrentDispatcher:xi,ReactCurrentBatchConfig:F0,ReactCurrentOwner:tS};function JC(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:Ug,forEach:function(e,t,r){Ug(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ug(e,function(){t++}),t},toArray:function(e){return Ug(e,function(t){return t})||[]},only:function(e){if(!rS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Wt.Component=Of;Wt.Fragment=P9;Wt.Profiler=T9;Wt.PureComponent=Q_;Wt.StrictMode=C9;Wt.Suspense=$9;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q9;Wt.act=JC;Wt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=HC({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=tS.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)KC.call(t,l)&&!YC.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Mm,type:e.type,key:i,ref:a,props:n,_owner:s}};Wt.createContext=function(e){return e={$$typeof:L9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I9,_context:e},e.Consumer=e};Wt.createElement=XC;Wt.createFactory=function(e){var t=XC.bind(null,e);return t.type=e,t};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(e){return{$$typeof:R9,render:e}};Wt.isValidElement=rS;Wt.lazy=function(e){return{$$typeof:D9,_payload:{_status:-1,_result:e},_init:z9}};Wt.memo=function(e,t){return{$$typeof:M9,type:e,compare:t===void 0?null:t}};Wt.startTransition=function(e){var t=F0.transition;F0.transition={};try{e()}finally{F0.transition=t}};Wt.unstable_act=JC;Wt.useCallback=function(e,t){return xi.current.useCallback(e,t)};Wt.useContext=function(e){return xi.current.useContext(e)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(e){return xi.current.useDeferredValue(e)};Wt.useEffect=function(e,t){return xi.current.useEffect(e,t)};Wt.useId=function(){return xi.current.useId()};Wt.useImperativeHandle=function(e,t,r){return xi.current.useImperativeHandle(e,t,r)};Wt.useInsertionEffect=function(e,t){return xi.current.useInsertionEffect(e,t)};Wt.useLayoutEffect=function(e,t){return xi.current.useLayoutEffect(e,t)};Wt.useMemo=function(e,t){return xi.current.useMemo(e,t)};Wt.useReducer=function(e,t,r){return xi.current.useReducer(e,t,r)};Wt.useRef=function(e){return xi.current.useRef(e)};Wt.useState=function(e){return xi.current.useState(e)};Wt.useSyncExternalStore=function(e,t,r){return xi.current.useSyncExternalStore(e,t,r)};Wt.useTransition=function(){return xi.current.useTransition()};Wt.version="18.3.1";qC.exports=Wt;var G=qC.exports;const ce=ir(G),W9=UC({__proto__:null,default:ce},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H9=G,V9=Symbol.for("react.element"),G9=Symbol.for("react.fragment"),K9=Object.prototype.hasOwnProperty,Y9=H9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X9={key:!0,ref:!0,__self:!0,__source:!0};function ZC(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)K9.call(t,n)&&!X9.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:V9,type:e,key:a,ref:s,props:i,_owner:Y9.current}}Jv.Fragment=G9;Jv.jsx=ZC;Jv.jsxs=ZC;zC.exports=Jv;var d=zC.exports,z2={},QC={exports:{}},da={},eT={exports:{}},tT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,Z){var D=W.length;W.push(Z);e:for(;0<D;){var se=D-1>>>1,T=W[se];if(0<i(T,Z))W[se]=Z,W[D]=T,D=se;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var Z=W[0],D=W.pop();if(D!==Z){W[0]=D;e:for(var se=0,T=W.length,I=T>>>1;se<I;){var Y=2*(se+1)-1,ie=W[Y],te=Y+1,de=W[te];if(0>i(ie,D))te<T&&0>i(de,ie)?(W[se]=de,W[te]=D,se=te):(W[se]=ie,W[Y]=D,se=Y);else if(te<T&&0>i(de,D))W[se]=de,W[te]=D,se=te;else break e}}return Z}function i(W,Z){var D=W.sortIndex-Z.sortIndex;return D!==0?D:W.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,p=3,h=!1,y=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(W){for(var Z=r(c);Z!==null;){if(Z.callback===null)n(c);else if(Z.startTime<=W)n(c),Z.sortIndex=Z.expirationTime,t(l,Z);else break;Z=r(c)}}function N(W){if(g=!1,_(W),!y)if(r(l)!==null)y=!0,q(S);else{var Z=r(c);Z!==null&&J(N,Z.startTime-W)}}function S(W,Z){y=!1,g&&(g=!1,v(C),C=-1),h=!0;var D=p;try{for(_(Z),f=r(l);f!==null&&(!(f.expirationTime>Z)||W&&!k());){var se=f.callback;if(typeof se=="function"){f.callback=null,p=f.priorityLevel;var T=se(f.expirationTime<=Z);Z=e.unstable_now(),typeof T=="function"?f.callback=T:f===r(l)&&n(l),_(Z)}else n(l);f=r(l)}if(f!==null)var I=!0;else{var Y=r(c);Y!==null&&J(N,Y.startTime-Z),I=!1}return I}finally{f=null,p=D,h=!1}}var j=!1,P=null,C=-1,L=5,F=-1;function k(){return!(e.unstable_now()-F<L)}function E(){if(P!==null){var W=e.unstable_now();F=W;var Z=!0;try{Z=P(!0,W)}finally{Z?$():(j=!1,P=null)}}else j=!1}var $;if(typeof w=="function")$=function(){w(E)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,B=M.port2;M.port1.onmessage=E,$=function(){B.postMessage(null)}}else $=function(){b(E,0)};function q(W){P=W,j||(j=!0,$())}function J(W,Z){C=b(function(){W(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){y||h||(y=!0,q(S))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(W){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var D=p;p=Z;try{return W()}finally{p=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,Z){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var D=p;p=W;try{return Z()}finally{p=D}},e.unstable_scheduleCallback=function(W,Z,D){var se=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?se+D:se):D=se,W){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=D+T,W={id:u++,callback:Z,priorityLevel:W,startTime:D,expirationTime:T,sortIndex:-1},D>se?(W.sortIndex=D,t(c,W),r(l)===null&&W===r(c)&&(g?(v(C),C=-1):g=!0,J(N,D-se))):(W.sortIndex=T,t(l,W),y||h||(y=!0,q(S))),W},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(W){var Z=p;return function(){var D=p;p=Z;try{return W.apply(this,arguments)}finally{p=D}}}})(tT);eT.exports=tT;var J9=eT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z9=G,ua=J9;function qe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rT=new Set,Ep={};function gu(e,t){zd(e,t),zd(e+"Capture",t)}function zd(e,t){for(Ep[e]=t,e=0;e<t.length;e++)rT.add(t[e])}var Po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),q2=Object.prototype.hasOwnProperty,Q9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,NA={},AA={};function eB(e){return q2.call(AA,e)?!0:q2.call(NA,e)?!1:Q9.test(e)?AA[e]=!0:(NA[e]=!0,!1)}function tB(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rB(e,t,r,n){if(t===null||typeof t>"u"||tB(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wi(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gn[e]=new wi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gn[t]=new wi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gn[e]=new wi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gn[e]=new wi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gn[e]=new wi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gn[e]=new wi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gn[e]=new wi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gn[e]=new wi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gn[e]=new wi(e,5,!1,e.toLowerCase(),null,!1,!1)});var nS=/[\-:]([a-z])/g;function iS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nS,iS);Gn[t]=new wi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nS,iS);Gn[t]=new wi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nS,iS);Gn[t]=new wi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gn[e]=new wi(e,1,!1,e.toLowerCase(),null,!1,!1)});Gn.xlinkHref=new wi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gn[e]=new wi(e,1,!1,e.toLowerCase(),null,!0,!0)});function aS(e,t,r,n){var i=Gn.hasOwnProperty(t)?Gn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rB(t,r,i,n)&&(r=null),n||i===null?eB(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Bo=Z9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zg=Symbol.for("react.element"),od=Symbol.for("react.portal"),ld=Symbol.for("react.fragment"),sS=Symbol.for("react.strict_mode"),W2=Symbol.for("react.profiler"),nT=Symbol.for("react.provider"),iT=Symbol.for("react.context"),oS=Symbol.for("react.forward_ref"),H2=Symbol.for("react.suspense"),V2=Symbol.for("react.suspense_list"),lS=Symbol.for("react.memo"),hl=Symbol.for("react.lazy"),aT=Symbol.for("react.offscreen"),kA=Symbol.iterator;function Eh(e){return e===null||typeof e!="object"?null:(e=kA&&e[kA]||e["@@iterator"],typeof e=="function"?e:null)}var Ur=Object.assign,Jb;function Zh(e){if(Jb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Jb=t&&t[1]||""}return`
`+Jb+e}var Zb=!1;function Qb(e,t){if(!e||Zb)return"";Zb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Zb=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zh(e):""}function nB(e){switch(e.tag){case 5:return Zh(e.type);case 16:return Zh("Lazy");case 13:return Zh("Suspense");case 19:return Zh("SuspenseList");case 0:case 2:case 15:return e=Qb(e.type,!1),e;case 11:return e=Qb(e.type.render,!1),e;case 1:return e=Qb(e.type,!0),e;default:return""}}function G2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ld:return"Fragment";case od:return"Portal";case W2:return"Profiler";case sS:return"StrictMode";case H2:return"Suspense";case V2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iT:return(e.displayName||"Context")+".Consumer";case nT:return(e._context.displayName||"Context")+".Provider";case oS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lS:return t=e.displayName||null,t!==null?t:G2(e.type)||"Memo";case hl:t=e._payload,e=e._init;try{return G2(e(t))}catch{}}return null}function iB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G2(t);case 8:return t===sS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aB(e){var t=sT(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qg(e){e._valueTracker||(e._valueTracker=aB(e))}function oT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=sT(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function sy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function K2(e,t){var r=t.checked;return Ur({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function OA(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Dl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lT(e,t){t=t.checked,t!=null&&aS(e,"checked",t,!1)}function Y2(e,t){lT(e,t);var r=Dl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?X2(e,t.type,r):t.hasOwnProperty("defaultValue")&&X2(e,t.type,Dl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function EA(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function X2(e,t,r){(t!=="number"||sy(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Qh=Array.isArray;function Nd(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Dl(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function J2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(qe(91));return Ur({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function PA(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(qe(92));if(Qh(r)){if(1<r.length)throw Error(qe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Dl(r)}}function cT(e,t){var r=Dl(t.value),n=Dl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function CA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wg,dT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wg=Wg||document.createElement("div"),Wg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ap={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sB=["Webkit","ms","Moz","O"];Object.keys(ap).forEach(function(e){sB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ap[t]=ap[e]})});function fT(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ap.hasOwnProperty(e)&&ap[e]?(""+t).trim():t+"px"}function hT(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=fT(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var oB=Ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Q2(e,t){if(t){if(oB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(qe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(qe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(qe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(qe(62))}}function ew(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tw=null;function cS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rw=null,Ad=null,kd=null;function TA(e){if(e=Fm(e)){if(typeof rw!="function")throw Error(qe(280));var t=e.stateNode;t&&(t=r1(t),rw(e.stateNode,e.type,t))}}function pT(e){Ad?kd?kd.push(e):kd=[e]:Ad=e}function mT(){if(Ad){var e=Ad,t=kd;if(kd=Ad=null,TA(e),t)for(e=0;e<t.length;e++)TA(t[e])}}function gT(e,t){return e(t)}function yT(){}var ex=!1;function vT(e,t,r){if(ex)return e(t,r);ex=!0;try{return gT(e,t,r)}finally{ex=!1,(Ad!==null||kd!==null)&&(yT(),mT())}}function Cp(e,t){var r=e.stateNode;if(r===null)return null;var n=r1(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(qe(231,t,typeof r));return r}var nw=!1;if(Po)try{var Ph={};Object.defineProperty(Ph,"passive",{get:function(){nw=!0}}),window.addEventListener("test",Ph,Ph),window.removeEventListener("test",Ph,Ph)}catch{nw=!1}function lB(e,t,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var sp=!1,oy=null,ly=!1,iw=null,cB={onError:function(e){sp=!0,oy=e}};function uB(e,t,r,n,i,a,s,o,l){sp=!1,oy=null,lB.apply(cB,arguments)}function dB(e,t,r,n,i,a,s,o,l){if(uB.apply(this,arguments),sp){if(sp){var c=oy;sp=!1,oy=null}else throw Error(qe(198));ly||(ly=!0,iw=c)}}function yu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function IA(e){if(yu(e)!==e)throw Error(qe(188))}function fB(e){var t=e.alternate;if(!t){if(t=yu(e),t===null)throw Error(qe(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return IA(i),e;if(a===n)return IA(i),t;a=a.sibling}throw Error(qe(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(qe(189))}}if(r.alternate!==n)throw Error(qe(190))}if(r.tag!==3)throw Error(qe(188));return r.stateNode.current===r?e:t}function xT(e){return e=fB(e),e!==null?wT(e):null}function wT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wT(e);if(t!==null)return t;e=e.sibling}return null}var _T=ua.unstable_scheduleCallback,LA=ua.unstable_cancelCallback,hB=ua.unstable_shouldYield,pB=ua.unstable_requestPaint,tn=ua.unstable_now,mB=ua.unstable_getCurrentPriorityLevel,uS=ua.unstable_ImmediatePriority,ST=ua.unstable_UserBlockingPriority,cy=ua.unstable_NormalPriority,gB=ua.unstable_LowPriority,jT=ua.unstable_IdlePriority,Zv=null,Ls=null;function yB(e){if(Ls&&typeof Ls.onCommitFiberRoot=="function")try{Ls.onCommitFiberRoot(Zv,e,void 0,(e.current.flags&128)===128)}catch{}}var us=Math.clz32?Math.clz32:xB,vB=Math.log,bB=Math.LN2;function xB(e){return e>>>=0,e===0?32:31-(vB(e)/bB|0)|0}var Hg=64,Vg=4194304;function ep(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=ep(o):(a&=s,a!==0&&(n=ep(a)))}else s=r&~i,s!==0?n=ep(s):a!==0&&(n=ep(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-us(t),i=1<<r,n|=e[r],t&=~i;return n}function wB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _B(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-us(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=wB(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function aw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function NT(){var e=Hg;return Hg<<=1,!(Hg&4194240)&&(Hg=64),e}function tx(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Dm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-us(t),e[t]=r}function SB(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-us(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function dS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-us(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var dr=0;function AT(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kT,fS,OT,ET,PT,sw=!1,Gg=[],kl=null,Ol=null,El=null,Tp=new Map,Ip=new Map,yl=[],jB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function RA(e,t){switch(e){case"focusin":case"focusout":kl=null;break;case"dragenter":case"dragleave":Ol=null;break;case"mouseover":case"mouseout":El=null;break;case"pointerover":case"pointerout":Tp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ip.delete(t.pointerId)}}function Ch(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Fm(t),t!==null&&fS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function NB(e,t,r,n,i){switch(t){case"focusin":return kl=Ch(kl,e,t,r,n,i),!0;case"dragenter":return Ol=Ch(Ol,e,t,r,n,i),!0;case"mouseover":return El=Ch(El,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Tp.set(a,Ch(Tp.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Ip.set(a,Ch(Ip.get(a)||null,e,t,r,n,i)),!0}return!1}function CT(e){var t=zc(e.target);if(t!==null){var r=yu(t);if(r!==null){if(t=r.tag,t===13){if(t=bT(r),t!==null){e.blockedOn=t,PT(e.priority,function(){OT(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function U0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ow(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);tw=n,r.target.dispatchEvent(n),tw=null}else return t=Fm(r),t!==null&&fS(t),e.blockedOn=r,!1;t.shift()}return!0}function $A(e,t,r){U0(e)&&r.delete(t)}function AB(){sw=!1,kl!==null&&U0(kl)&&(kl=null),Ol!==null&&U0(Ol)&&(Ol=null),El!==null&&U0(El)&&(El=null),Tp.forEach($A),Ip.forEach($A)}function Th(e,t){e.blockedOn===t&&(e.blockedOn=null,sw||(sw=!0,ua.unstable_scheduleCallback(ua.unstable_NormalPriority,AB)))}function Lp(e){function t(i){return Th(i,e)}if(0<Gg.length){Th(Gg[0],e);for(var r=1;r<Gg.length;r++){var n=Gg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(kl!==null&&Th(kl,e),Ol!==null&&Th(Ol,e),El!==null&&Th(El,e),Tp.forEach(t),Ip.forEach(t),r=0;r<yl.length;r++)n=yl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<yl.length&&(r=yl[0],r.blockedOn===null);)CT(r),r.blockedOn===null&&yl.shift()}var Od=Bo.ReactCurrentBatchConfig,dy=!0;function kB(e,t,r,n){var i=dr,a=Od.transition;Od.transition=null;try{dr=1,hS(e,t,r,n)}finally{dr=i,Od.transition=a}}function OB(e,t,r,n){var i=dr,a=Od.transition;Od.transition=null;try{dr=4,hS(e,t,r,n)}finally{dr=i,Od.transition=a}}function hS(e,t,r,n){if(dy){var i=ow(e,t,r,n);if(i===null)dx(e,t,n,fy,r),RA(e,n);else if(NB(i,e,t,r,n))n.stopPropagation();else if(RA(e,n),t&4&&-1<jB.indexOf(e)){for(;i!==null;){var a=Fm(i);if(a!==null&&kT(a),a=ow(e,t,r,n),a===null&&dx(e,t,n,fy,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else dx(e,t,n,null,r)}}var fy=null;function ow(e,t,r,n){if(fy=null,e=cS(n),e=zc(e),e!==null)if(t=yu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=bT(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fy=e,null}function TT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mB()){case uS:return 1;case ST:return 4;case cy:case gB:return 16;case jT:return 536870912;default:return 16}default:return 16}}var _l=null,pS=null,z0=null;function IT(){if(z0)return z0;var e,t=pS,r=t.length,n,i="value"in _l?_l.value:_l.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return z0=i.slice(e,1<n?1-n:void 0)}function q0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kg(){return!0}function MA(){return!1}function fa(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Kg:MA,this.isPropagationStopped=MA,this}return Ur(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kg)},persist:function(){},isPersistent:Kg}),t}var Ef={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mS=fa(Ef),Bm=Ur({},Ef,{view:0,detail:0}),EB=fa(Bm),rx,nx,Ih,Qv=Ur({},Bm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ih&&(Ih&&e.type==="mousemove"?(rx=e.screenX-Ih.screenX,nx=e.screenY-Ih.screenY):nx=rx=0,Ih=e),rx)},movementY:function(e){return"movementY"in e?e.movementY:nx}}),DA=fa(Qv),PB=Ur({},Qv,{dataTransfer:0}),CB=fa(PB),TB=Ur({},Bm,{relatedTarget:0}),ix=fa(TB),IB=Ur({},Ef,{animationName:0,elapsedTime:0,pseudoElement:0}),LB=fa(IB),RB=Ur({},Ef,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$B=fa(RB),MB=Ur({},Ef,{data:0}),BA=fa(MB),DB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=FB[e])?!!t[e]:!1}function gS(){return UB}var zB=Ur({},Bm,{key:function(e){if(e.key){var t=DB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=q0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gS,charCode:function(e){return e.type==="keypress"?q0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?q0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qB=fa(zB),WB=Ur({},Qv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FA=fa(WB),HB=Ur({},Bm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gS}),VB=fa(HB),GB=Ur({},Ef,{propertyName:0,elapsedTime:0,pseudoElement:0}),KB=fa(GB),YB=Ur({},Qv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XB=fa(YB),JB=[9,13,27,32],yS=Po&&"CompositionEvent"in window,op=null;Po&&"documentMode"in document&&(op=document.documentMode);var ZB=Po&&"TextEvent"in window&&!op,LT=Po&&(!yS||op&&8<op&&11>=op),UA=" ",zA=!1;function RT(e,t){switch(e){case"keyup":return JB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $T(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cd=!1;function QB(e,t){switch(e){case"compositionend":return $T(t);case"keypress":return t.which!==32?null:(zA=!0,UA);case"textInput":return e=t.data,e===UA&&zA?null:e;default:return null}}function eF(e,t){if(cd)return e==="compositionend"||!yS&&RT(e,t)?(e=IT(),z0=pS=_l=null,cd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return LT&&t.locale!=="ko"?null:t.data;default:return null}}var tF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tF[e.type]:t==="textarea"}function MT(e,t,r,n){pT(n),t=hy(t,"onChange"),0<t.length&&(r=new mS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var lp=null,Rp=null;function rF(e){KT(e,0)}function e1(e){var t=fd(e);if(oT(t))return e}function nF(e,t){if(e==="change")return t}var DT=!1;if(Po){var ax;if(Po){var sx="oninput"in document;if(!sx){var WA=document.createElement("div");WA.setAttribute("oninput","return;"),sx=typeof WA.oninput=="function"}ax=sx}else ax=!1;DT=ax&&(!document.documentMode||9<document.documentMode)}function HA(){lp&&(lp.detachEvent("onpropertychange",BT),Rp=lp=null)}function BT(e){if(e.propertyName==="value"&&e1(Rp)){var t=[];MT(t,Rp,e,cS(e)),vT(rF,t)}}function iF(e,t,r){e==="focusin"?(HA(),lp=t,Rp=r,lp.attachEvent("onpropertychange",BT)):e==="focusout"&&HA()}function aF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return e1(Rp)}function sF(e,t){if(e==="click")return e1(t)}function oF(e,t){if(e==="input"||e==="change")return e1(t)}function lF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hs=typeof Object.is=="function"?Object.is:lF;function $p(e,t){if(hs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!q2.call(t,i)||!hs(e[i],t[i]))return!1}return!0}function VA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function GA(e,t){var r=VA(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=VA(r)}}function FT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?FT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function UT(){for(var e=window,t=sy();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=sy(e.document)}return t}function vS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cF(e){var t=UT(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&FT(r.ownerDocument.documentElement,r)){if(n!==null&&vS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=GA(r,a);var s=GA(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uF=Po&&"documentMode"in document&&11>=document.documentMode,ud=null,lw=null,cp=null,cw=!1;function KA(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;cw||ud==null||ud!==sy(n)||(n=ud,"selectionStart"in n&&vS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),cp&&$p(cp,n)||(cp=n,n=hy(lw,"onSelect"),0<n.length&&(t=new mS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ud)))}function Yg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var dd={animationend:Yg("Animation","AnimationEnd"),animationiteration:Yg("Animation","AnimationIteration"),animationstart:Yg("Animation","AnimationStart"),transitionend:Yg("Transition","TransitionEnd")},ox={},zT={};Po&&(zT=document.createElement("div").style,"AnimationEvent"in window||(delete dd.animationend.animation,delete dd.animationiteration.animation,delete dd.animationstart.animation),"TransitionEvent"in window||delete dd.transitionend.transition);function t1(e){if(ox[e])return ox[e];if(!dd[e])return e;var t=dd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zT)return ox[e]=t[r];return e}var qT=t1("animationend"),WT=t1("animationiteration"),HT=t1("animationstart"),VT=t1("transitionend"),GT=new Map,YA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ql(e,t){GT.set(e,t),gu(t,[e])}for(var lx=0;lx<YA.length;lx++){var cx=YA[lx],dF=cx.toLowerCase(),fF=cx[0].toUpperCase()+cx.slice(1);ql(dF,"on"+fF)}ql(qT,"onAnimationEnd");ql(WT,"onAnimationIteration");ql(HT,"onAnimationStart");ql("dblclick","onDoubleClick");ql("focusin","onFocus");ql("focusout","onBlur");ql(VT,"onTransitionEnd");zd("onMouseEnter",["mouseout","mouseover"]);zd("onMouseLeave",["mouseout","mouseover"]);zd("onPointerEnter",["pointerout","pointerover"]);zd("onPointerLeave",["pointerout","pointerover"]);gu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gu("onBeforeInput",["compositionend","keypress","textInput","paste"]);gu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hF=new Set("cancel close invalid load scroll toggle".split(" ").concat(tp));function XA(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,dB(n,t,void 0,e),e.currentTarget=null}function KT(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;XA(i,o,c),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;XA(i,o,c),a=l}}}if(ly)throw e=iw,ly=!1,iw=null,e}function Er(e,t){var r=t[pw];r===void 0&&(r=t[pw]=new Set);var n=e+"__bubble";r.has(n)||(YT(t,e,2,!1),r.add(n))}function ux(e,t,r){var n=0;t&&(n|=4),YT(r,e,n,t)}var Xg="_reactListening"+Math.random().toString(36).slice(2);function Mp(e){if(!e[Xg]){e[Xg]=!0,rT.forEach(function(r){r!=="selectionchange"&&(hF.has(r)||ux(r,!1,e),ux(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xg]||(t[Xg]=!0,ux("selectionchange",!1,t))}}function YT(e,t,r,n){switch(TT(t)){case 1:var i=kB;break;case 4:i=OB;break;default:i=hS}r=i.bind(null,t,r,e),i=void 0,!nw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function dx(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=zc(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}vT(function(){var c=a,u=cS(r),f=[];e:{var p=GT.get(e);if(p!==void 0){var h=mS,y=e;switch(e){case"keypress":if(q0(r)===0)break e;case"keydown":case"keyup":h=qB;break;case"focusin":y="focus",h=ix;break;case"focusout":y="blur",h=ix;break;case"beforeblur":case"afterblur":h=ix;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=DA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=CB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=VB;break;case qT:case WT:case HT:h=LB;break;case VT:h=KB;break;case"scroll":h=EB;break;case"wheel":h=XB;break;case"copy":case"cut":case"paste":h=$B;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=FA}var g=(t&4)!==0,b=!g&&e==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var w=c,_;w!==null;){_=w;var N=_.stateNode;if(_.tag===5&&N!==null&&(_=N,v!==null&&(N=Cp(w,v),N!=null&&g.push(Dp(w,N,_)))),b)break;w=w.return}0<g.length&&(p=new h(p,y,null,r,u),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&r!==tw&&(y=r.relatedTarget||r.fromElement)&&(zc(y)||y[Co]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(y=r.relatedTarget||r.toElement,h=c,y=y?zc(y):null,y!==null&&(b=yu(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=c),h!==y)){if(g=DA,N="onMouseLeave",v="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=FA,N="onPointerLeave",v="onPointerEnter",w="pointer"),b=h==null?p:fd(h),_=y==null?p:fd(y),p=new g(N,w+"leave",h,r,u),p.target=b,p.relatedTarget=_,N=null,zc(u)===c&&(g=new g(v,w+"enter",y,r,u),g.target=_,g.relatedTarget=b,N=g),b=N,h&&y)t:{for(g=h,v=y,w=0,_=g;_;_=zu(_))w++;for(_=0,N=v;N;N=zu(N))_++;for(;0<w-_;)g=zu(g),w--;for(;0<_-w;)v=zu(v),_--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=zu(g),v=zu(v)}g=null}else g=null;h!==null&&JA(f,p,h,g,!1),y!==null&&b!==null&&JA(f,b,y,g,!0)}}e:{if(p=c?fd(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var S=nF;else if(qA(p))if(DT)S=oF;else{S=aF;var j=iF}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=sF);if(S&&(S=S(e,c))){MT(f,S,r,u);break e}j&&j(e,p,c),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&X2(p,"number",p.value)}switch(j=c?fd(c):window,e){case"focusin":(qA(j)||j.contentEditable==="true")&&(ud=j,lw=c,cp=null);break;case"focusout":cp=lw=ud=null;break;case"mousedown":cw=!0;break;case"contextmenu":case"mouseup":case"dragend":cw=!1,KA(f,r,u);break;case"selectionchange":if(uF)break;case"keydown":case"keyup":KA(f,r,u)}var P;if(yS)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else cd?RT(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(LT&&r.locale!=="ko"&&(cd||C!=="onCompositionStart"?C==="onCompositionEnd"&&cd&&(P=IT()):(_l=u,pS="value"in _l?_l.value:_l.textContent,cd=!0)),j=hy(c,C),0<j.length&&(C=new BA(C,e,null,r,u),f.push({event:C,listeners:j}),P?C.data=P:(P=$T(r),P!==null&&(C.data=P)))),(P=ZB?QB(e,r):eF(e,r))&&(c=hy(c,"onBeforeInput"),0<c.length&&(u=new BA("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=P))}KT(f,t)})}function Dp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hy(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Cp(e,r),a!=null&&n.unshift(Dp(e,a,i)),a=Cp(e,t),a!=null&&n.push(Dp(e,a,i))),e=e.return}return n}function zu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function JA(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=Cp(r,a),l!=null&&s.unshift(Dp(r,l,o))):i||(l=Cp(r,a),l!=null&&s.push(Dp(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var pF=/\r\n?/g,mF=/\u0000|\uFFFD/g;function ZA(e){return(typeof e=="string"?e:""+e).replace(pF,`
`).replace(mF,"")}function Jg(e,t,r){if(t=ZA(t),ZA(e)!==t&&r)throw Error(qe(425))}function py(){}var uw=null,dw=null;function fw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hw=typeof setTimeout=="function"?setTimeout:void 0,gF=typeof clearTimeout=="function"?clearTimeout:void 0,QA=typeof Promise=="function"?Promise:void 0,yF=typeof queueMicrotask=="function"?queueMicrotask:typeof QA<"u"?function(e){return QA.resolve(null).then(e).catch(vF)}:hw;function vF(e){setTimeout(function(){throw e})}function fx(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Lp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Lp(t)}function Pl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ek(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Pf=Math.random().toString(36).slice(2),Ps="__reactFiber$"+Pf,Bp="__reactProps$"+Pf,Co="__reactContainer$"+Pf,pw="__reactEvents$"+Pf,bF="__reactListeners$"+Pf,xF="__reactHandles$"+Pf;function zc(e){var t=e[Ps];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Co]||r[Ps]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ek(e);e!==null;){if(r=e[Ps])return r;e=ek(e)}return t}e=r,r=e.parentNode}return null}function Fm(e){return e=e[Ps]||e[Co],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(qe(33))}function r1(e){return e[Bp]||null}var mw=[],hd=-1;function Wl(e){return{current:e}}function Ir(e){0>hd||(e.current=mw[hd],mw[hd]=null,hd--)}function Nr(e,t){hd++,mw[hd]=e.current,e.current=t}var Bl={},si=Wl(Bl),Ci=Wl(!1),ru=Bl;function qd(e,t){var r=e.type.contextTypes;if(!r)return Bl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ti(e){return e=e.childContextTypes,e!=null}function my(){Ir(Ci),Ir(si)}function tk(e,t,r){if(si.current!==Bl)throw Error(qe(168));Nr(si,t),Nr(Ci,r)}function XT(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(qe(108,iB(e)||"Unknown",i));return Ur({},r,n)}function gy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bl,ru=si.current,Nr(si,e),Nr(Ci,Ci.current),!0}function rk(e,t,r){var n=e.stateNode;if(!n)throw Error(qe(169));r?(e=XT(e,t,ru),n.__reactInternalMemoizedMergedChildContext=e,Ir(Ci),Ir(si),Nr(si,e)):Ir(Ci),Nr(Ci,r)}var yo=null,n1=!1,hx=!1;function JT(e){yo===null?yo=[e]:yo.push(e)}function wF(e){n1=!0,JT(e)}function Hl(){if(!hx&&yo!==null){hx=!0;var e=0,t=dr;try{var r=yo;for(dr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}yo=null,n1=!1}catch(i){throw yo!==null&&(yo=yo.slice(e+1)),_T(uS,Hl),i}finally{dr=t,hx=!1}}return null}var pd=[],md=0,yy=null,vy=0,ka=[],Oa=0,nu=null,bo=1,xo="";function Ec(e,t){pd[md++]=vy,pd[md++]=yy,yy=e,vy=t}function ZT(e,t,r){ka[Oa++]=bo,ka[Oa++]=xo,ka[Oa++]=nu,nu=e;var n=bo;e=xo;var i=32-us(n)-1;n&=~(1<<i),r+=1;var a=32-us(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,bo=1<<32-us(t)+i|r<<i|n,xo=a+e}else bo=1<<a|r<<i|n,xo=e}function bS(e){e.return!==null&&(Ec(e,1),ZT(e,1,0))}function xS(e){for(;e===yy;)yy=pd[--md],pd[md]=null,vy=pd[--md],pd[md]=null;for(;e===nu;)nu=ka[--Oa],ka[Oa]=null,xo=ka[--Oa],ka[Oa]=null,bo=ka[--Oa],ka[Oa]=null}var oa=null,ia=null,Rr=!1,ls=null;function QT(e,t){var r=Ca(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function nk(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,oa=e,ia=Pl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,oa=e,ia=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=nu!==null?{id:bo,overflow:xo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ca(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,oa=e,ia=null,!0):!1;default:return!1}}function gw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yw(e){if(Rr){var t=ia;if(t){var r=t;if(!nk(e,t)){if(gw(e))throw Error(qe(418));t=Pl(r.nextSibling);var n=oa;t&&nk(e,t)?QT(n,r):(e.flags=e.flags&-4097|2,Rr=!1,oa=e)}}else{if(gw(e))throw Error(qe(418));e.flags=e.flags&-4097|2,Rr=!1,oa=e}}}function ik(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;oa=e}function Zg(e){if(e!==oa)return!1;if(!Rr)return ik(e),Rr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fw(e.type,e.memoizedProps)),t&&(t=ia)){if(gw(e))throw eI(),Error(qe(418));for(;t;)QT(e,t),t=Pl(t.nextSibling)}if(ik(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(qe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ia=Pl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ia=null}}else ia=oa?Pl(e.stateNode.nextSibling):null;return!0}function eI(){for(var e=ia;e;)e=Pl(e.nextSibling)}function Wd(){ia=oa=null,Rr=!1}function wS(e){ls===null?ls=[e]:ls.push(e)}var _F=Bo.ReactCurrentBatchConfig;function Lh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(qe(309));var n=r.stateNode}if(!n)throw Error(qe(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(qe(284));if(!r._owner)throw Error(qe(290,e))}return e}function Qg(e,t){throw e=Object.prototype.toString.call(t),Error(qe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ak(e){var t=e._init;return t(e._payload)}function tI(e){function t(v,w){if(e){var _=v.deletions;_===null?(v.deletions=[w],v.flags|=16):_.push(w)}}function r(v,w){if(!e)return null;for(;w!==null;)t(v,w),w=w.sibling;return null}function n(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=Ll(v,w),v.index=0,v.sibling=null,v}function a(v,w,_){return v.index=_,e?(_=v.alternate,_!==null?(_=_.index,_<w?(v.flags|=2,w):_):(v.flags|=2,w)):(v.flags|=1048576,w)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,w,_,N){return w===null||w.tag!==6?(w=xx(_,v.mode,N),w.return=v,w):(w=i(w,_),w.return=v,w)}function l(v,w,_,N){var S=_.type;return S===ld?u(v,w,_.props.children,N,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===hl&&ak(S)===w.type)?(N=i(w,_.props),N.ref=Lh(v,w,_),N.return=v,N):(N=X0(_.type,_.key,_.props,null,v.mode,N),N.ref=Lh(v,w,_),N.return=v,N)}function c(v,w,_,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=wx(_,v.mode,N),w.return=v,w):(w=i(w,_.children||[]),w.return=v,w)}function u(v,w,_,N,S){return w===null||w.tag!==7?(w=Jc(_,v.mode,N,S),w.return=v,w):(w=i(w,_),w.return=v,w)}function f(v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=xx(""+w,v.mode,_),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zg:return _=X0(w.type,w.key,w.props,null,v.mode,_),_.ref=Lh(v,null,w),_.return=v,_;case od:return w=wx(w,v.mode,_),w.return=v,w;case hl:var N=w._init;return f(v,N(w._payload),_)}if(Qh(w)||Eh(w))return w=Jc(w,v.mode,_,null),w.return=v,w;Qg(v,w)}return null}function p(v,w,_,N){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:o(v,w,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case zg:return _.key===S?l(v,w,_,N):null;case od:return _.key===S?c(v,w,_,N):null;case hl:return S=_._init,p(v,w,S(_._payload),N)}if(Qh(_)||Eh(_))return S!==null?null:u(v,w,_,N,null);Qg(v,_)}return null}function h(v,w,_,N,S){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(_)||null,o(w,v,""+N,S);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case zg:return v=v.get(N.key===null?_:N.key)||null,l(w,v,N,S);case od:return v=v.get(N.key===null?_:N.key)||null,c(w,v,N,S);case hl:var j=N._init;return h(v,w,_,j(N._payload),S)}if(Qh(N)||Eh(N))return v=v.get(_)||null,u(w,v,N,S,null);Qg(w,N)}return null}function y(v,w,_,N){for(var S=null,j=null,P=w,C=w=0,L=null;P!==null&&C<_.length;C++){P.index>C?(L=P,P=null):L=P.sibling;var F=p(v,P,_[C],N);if(F===null){P===null&&(P=L);break}e&&P&&F.alternate===null&&t(v,P),w=a(F,w,C),j===null?S=F:j.sibling=F,j=F,P=L}if(C===_.length)return r(v,P),Rr&&Ec(v,C),S;if(P===null){for(;C<_.length;C++)P=f(v,_[C],N),P!==null&&(w=a(P,w,C),j===null?S=P:j.sibling=P,j=P);return Rr&&Ec(v,C),S}for(P=n(v,P);C<_.length;C++)L=h(P,v,C,_[C],N),L!==null&&(e&&L.alternate!==null&&P.delete(L.key===null?C:L.key),w=a(L,w,C),j===null?S=L:j.sibling=L,j=L);return e&&P.forEach(function(k){return t(v,k)}),Rr&&Ec(v,C),S}function g(v,w,_,N){var S=Eh(_);if(typeof S!="function")throw Error(qe(150));if(_=S.call(_),_==null)throw Error(qe(151));for(var j=S=null,P=w,C=w=0,L=null,F=_.next();P!==null&&!F.done;C++,F=_.next()){P.index>C?(L=P,P=null):L=P.sibling;var k=p(v,P,F.value,N);if(k===null){P===null&&(P=L);break}e&&P&&k.alternate===null&&t(v,P),w=a(k,w,C),j===null?S=k:j.sibling=k,j=k,P=L}if(F.done)return r(v,P),Rr&&Ec(v,C),S;if(P===null){for(;!F.done;C++,F=_.next())F=f(v,F.value,N),F!==null&&(w=a(F,w,C),j===null?S=F:j.sibling=F,j=F);return Rr&&Ec(v,C),S}for(P=n(v,P);!F.done;C++,F=_.next())F=h(P,v,C,F.value,N),F!==null&&(e&&F.alternate!==null&&P.delete(F.key===null?C:F.key),w=a(F,w,C),j===null?S=F:j.sibling=F,j=F);return e&&P.forEach(function(E){return t(v,E)}),Rr&&Ec(v,C),S}function b(v,w,_,N){if(typeof _=="object"&&_!==null&&_.type===ld&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case zg:e:{for(var S=_.key,j=w;j!==null;){if(j.key===S){if(S=_.type,S===ld){if(j.tag===7){r(v,j.sibling),w=i(j,_.props.children),w.return=v,v=w;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===hl&&ak(S)===j.type){r(v,j.sibling),w=i(j,_.props),w.ref=Lh(v,j,_),w.return=v,v=w;break e}r(v,j);break}else t(v,j);j=j.sibling}_.type===ld?(w=Jc(_.props.children,v.mode,N,_.key),w.return=v,v=w):(N=X0(_.type,_.key,_.props,null,v.mode,N),N.ref=Lh(v,w,_),N.return=v,v=N)}return s(v);case od:e:{for(j=_.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(v,w.sibling),w=i(w,_.children||[]),w.return=v,v=w;break e}else{r(v,w);break}else t(v,w);w=w.sibling}w=wx(_,v.mode,N),w.return=v,v=w}return s(v);case hl:return j=_._init,b(v,w,j(_._payload),N)}if(Qh(_))return y(v,w,_,N);if(Eh(_))return g(v,w,_,N);Qg(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(v,w.sibling),w=i(w,_),w.return=v,v=w):(r(v,w),w=xx(_,v.mode,N),w.return=v,v=w),s(v)):r(v,w)}return b}var Hd=tI(!0),rI=tI(!1),by=Wl(null),xy=null,gd=null,_S=null;function SS(){_S=gd=xy=null}function jS(e){var t=by.current;Ir(by),e._currentValue=t}function vw(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ed(e,t){xy=e,_S=gd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ei=!0),e.firstContext=null)}function $a(e){var t=e._currentValue;if(_S!==e)if(e={context:e,memoizedValue:t,next:null},gd===null){if(xy===null)throw Error(qe(308));gd=e,xy.dependencies={lanes:0,firstContext:e}}else gd=gd.next=e;return t}var qc=null;function NS(e){qc===null?qc=[e]:qc.push(e)}function nI(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,NS(t)):(r.next=i.next,i.next=r),t.interleaved=r,To(e,n)}function To(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var pl=!1;function AS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function No(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Xt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,To(e,r)}return i=n.interleaved,i===null?(t.next=t,NS(n)):(t.next=i.next,i.next=t),n.interleaved=t,To(e,r)}function W0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dS(e,r)}}function sk(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function wy(e,t,r,n){var i=e.updateQueue;pl=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var p=o.lane,h=o.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,g=o;switch(p=t,h=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(h,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(h,f,p):y,p==null)break e;f=Ur({},f,p);break e;case 2:pl=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);au|=s,e.lanes=s,e.memoizedState=f}}function ok(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(qe(191,i));i.call(n)}}}var Um={},Rs=Wl(Um),Fp=Wl(Um),Up=Wl(Um);function Wc(e){if(e===Um)throw Error(qe(174));return e}function kS(e,t){switch(Nr(Up,t),Nr(Fp,e),Nr(Rs,Um),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Z2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Z2(t,e)}Ir(Rs),Nr(Rs,t)}function Vd(){Ir(Rs),Ir(Fp),Ir(Up)}function aI(e){Wc(Up.current);var t=Wc(Rs.current),r=Z2(t,e.type);t!==r&&(Nr(Fp,e),Nr(Rs,r))}function OS(e){Fp.current===e&&(Ir(Rs),Ir(Fp))}var Br=Wl(0);function _y(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var px=[];function ES(){for(var e=0;e<px.length;e++)px[e]._workInProgressVersionPrimary=null;px.length=0}var H0=Bo.ReactCurrentDispatcher,mx=Bo.ReactCurrentBatchConfig,iu=0,Fr=null,jn=null,In=null,Sy=!1,up=!1,zp=0,SF=0;function Xn(){throw Error(qe(321))}function PS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!hs(e[r],t[r]))return!1;return!0}function CS(e,t,r,n,i,a){if(iu=a,Fr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H0.current=e===null||e.memoizedState===null?kF:OF,e=r(n,i),up){a=0;do{if(up=!1,zp=0,25<=a)throw Error(qe(301));a+=1,In=jn=null,t.updateQueue=null,H0.current=EF,e=r(n,i)}while(up)}if(H0.current=jy,t=jn!==null&&jn.next!==null,iu=0,In=jn=Fr=null,Sy=!1,t)throw Error(qe(300));return e}function TS(){var e=zp!==0;return zp=0,e}function Os(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?Fr.memoizedState=In=e:In=In.next=e,In}function Ma(){if(jn===null){var e=Fr.alternate;e=e!==null?e.memoizedState:null}else e=jn.next;var t=In===null?Fr.memoizedState:In.next;if(t!==null)In=t,jn=e;else{if(e===null)throw Error(qe(310));jn=e,e={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},In===null?Fr.memoizedState=In=e:In=In.next=e}return In}function qp(e,t){return typeof t=="function"?t(e):t}function gx(e){var t=Ma(),r=t.queue;if(r===null)throw Error(qe(311));r.lastRenderedReducer=e;var n=jn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((iu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Fr.lanes|=u,au|=u}c=c.next}while(c!==null&&c!==a);l===null?s=n:l.next=o,hs(n,t.memoizedState)||(Ei=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Fr.lanes|=a,au|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function yx(e){var t=Ma(),r=t.queue;if(r===null)throw Error(qe(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);hs(a,t.memoizedState)||(Ei=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function sI(){}function oI(e,t){var r=Fr,n=Ma(),i=t(),a=!hs(n.memoizedState,i);if(a&&(n.memoizedState=i,Ei=!0),n=n.queue,IS(uI.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||In!==null&&In.memoizedState.tag&1){if(r.flags|=2048,Wp(9,cI.bind(null,r,n,i,t),void 0,null),$n===null)throw Error(qe(349));iu&30||lI(r,t,i)}return i}function lI(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Fr.updateQueue,t===null?(t={lastEffect:null,stores:null},Fr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function cI(e,t,r,n){t.value=r,t.getSnapshot=n,dI(t)&&fI(e)}function uI(e,t,r){return r(function(){dI(t)&&fI(e)})}function dI(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!hs(e,r)}catch{return!0}}function fI(e){var t=To(e,1);t!==null&&ds(t,e,1,-1)}function lk(e){var t=Os();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qp,lastRenderedState:e},t.queue=e,e=e.dispatch=AF.bind(null,Fr,e),[t.memoizedState,e]}function Wp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Fr.updateQueue,t===null?(t={lastEffect:null,stores:null},Fr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hI(){return Ma().memoizedState}function V0(e,t,r,n){var i=Os();Fr.flags|=e,i.memoizedState=Wp(1|t,r,void 0,n===void 0?null:n)}function i1(e,t,r,n){var i=Ma();n=n===void 0?null:n;var a=void 0;if(jn!==null){var s=jn.memoizedState;if(a=s.destroy,n!==null&&PS(n,s.deps)){i.memoizedState=Wp(t,r,a,n);return}}Fr.flags|=e,i.memoizedState=Wp(1|t,r,a,n)}function ck(e,t){return V0(8390656,8,e,t)}function IS(e,t){return i1(2048,8,e,t)}function pI(e,t){return i1(4,2,e,t)}function mI(e,t){return i1(4,4,e,t)}function gI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yI(e,t,r){return r=r!=null?r.concat([e]):null,i1(4,4,gI.bind(null,t,e),r)}function LS(){}function vI(e,t){var r=Ma();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&PS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function bI(e,t){var r=Ma();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&PS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function xI(e,t,r){return iu&21?(hs(r,t)||(r=NT(),Fr.lanes|=r,au|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ei=!0),e.memoizedState=r)}function jF(e,t){var r=dr;dr=r!==0&&4>r?r:4,e(!0);var n=mx.transition;mx.transition={};try{e(!1),t()}finally{dr=r,mx.transition=n}}function wI(){return Ma().memoizedState}function NF(e,t,r){var n=Il(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},_I(e))SI(t,r);else if(r=nI(e,t,r,n),r!==null){var i=vi();ds(r,e,n,i),jI(r,t,n)}}function AF(e,t,r){var n=Il(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(_I(e))SI(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,hs(o,s)){var l=t.interleaved;l===null?(i.next=i,NS(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=nI(e,t,i,n),r!==null&&(i=vi(),ds(r,e,n,i),jI(r,t,n))}}function _I(e){var t=e.alternate;return e===Fr||t!==null&&t===Fr}function SI(e,t){up=Sy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dS(e,r)}}var jy={readContext:$a,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useInsertionEffect:Xn,useLayoutEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useMutableSource:Xn,useSyncExternalStore:Xn,useId:Xn,unstable_isNewReconciler:!1},kF={readContext:$a,useCallback:function(e,t){return Os().memoizedState=[e,t===void 0?null:t],e},useContext:$a,useEffect:ck,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,V0(4194308,4,gI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return V0(4194308,4,e,t)},useInsertionEffect:function(e,t){return V0(4,2,e,t)},useMemo:function(e,t){var r=Os();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Os();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=NF.bind(null,Fr,e),[n.memoizedState,e]},useRef:function(e){var t=Os();return e={current:e},t.memoizedState=e},useState:lk,useDebugValue:LS,useDeferredValue:function(e){return Os().memoizedState=e},useTransition:function(){var e=lk(!1),t=e[0];return e=jF.bind(null,e[1]),Os().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Fr,i=Os();if(Rr){if(r===void 0)throw Error(qe(407));r=r()}else{if(r=t(),$n===null)throw Error(qe(349));iu&30||lI(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,ck(uI.bind(null,n,a,e),[e]),n.flags|=2048,Wp(9,cI.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Os(),t=$n.identifierPrefix;if(Rr){var r=xo,n=bo;r=(n&~(1<<32-us(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=zp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=SF++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},OF={readContext:$a,useCallback:vI,useContext:$a,useEffect:IS,useImperativeHandle:yI,useInsertionEffect:pI,useLayoutEffect:mI,useMemo:bI,useReducer:gx,useRef:hI,useState:function(){return gx(qp)},useDebugValue:LS,useDeferredValue:function(e){var t=Ma();return xI(t,jn.memoizedState,e)},useTransition:function(){var e=gx(qp)[0],t=Ma().memoizedState;return[e,t]},useMutableSource:sI,useSyncExternalStore:oI,useId:wI,unstable_isNewReconciler:!1},EF={readContext:$a,useCallback:vI,useContext:$a,useEffect:IS,useImperativeHandle:yI,useInsertionEffect:pI,useLayoutEffect:mI,useMemo:bI,useReducer:yx,useRef:hI,useState:function(){return yx(qp)},useDebugValue:LS,useDeferredValue:function(e){var t=Ma();return jn===null?t.memoizedState=e:xI(t,jn.memoizedState,e)},useTransition:function(){var e=yx(qp)[0],t=Ma().memoizedState;return[e,t]},useMutableSource:sI,useSyncExternalStore:oI,useId:wI,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){t=Ur({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function bw(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ur({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var a1={isMounted:function(e){return(e=e._reactInternals)?yu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=vi(),i=Il(e),a=No(n,i);a.payload=t,r!=null&&(a.callback=r),t=Cl(e,a,i),t!==null&&(ds(t,e,i,n),W0(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=vi(),i=Il(e),a=No(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Cl(e,a,i),t!==null&&(ds(t,e,i,n),W0(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=vi(),n=Il(e),i=No(r,n);i.tag=2,t!=null&&(i.callback=t),t=Cl(e,i,n),t!==null&&(ds(t,e,n,r),W0(t,e,n))}};function uk(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!$p(r,n)||!$p(i,a):!0}function NI(e,t,r){var n=!1,i=Bl,a=t.contextType;return typeof a=="object"&&a!==null?a=$a(a):(i=Ti(t)?ru:si.current,n=t.contextTypes,a=(n=n!=null)?qd(e,i):Bl),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=a1,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function dk(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&a1.enqueueReplaceState(t,t.state,null)}function xw(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},AS(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=$a(a):(a=Ti(t)?ru:si.current,i.context=qd(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(bw(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&a1.enqueueReplaceState(i,i.state,null),wy(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Gd(e,t){try{var r="",n=t;do r+=nB(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function vx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ww(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var PF=typeof WeakMap=="function"?WeakMap:Map;function AI(e,t,r){r=No(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ay||(Ay=!0,Cw=n),ww(e,t)},r}function kI(e,t,r){r=No(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ww(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){ww(e,t),typeof n!="function"&&(Tl===null?Tl=new Set([this]):Tl.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function fk(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new PF;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=WF.bind(null,e,t,r),t.then(e,e))}function hk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pk(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=No(-1,1),t.tag=2,Cl(r,t,1))),r.lanes|=1),e)}var CF=Bo.ReactCurrentOwner,Ei=!1;function fi(e,t,r,n){t.child=e===null?rI(t,null,r,n):Hd(t,e.child,r,n)}function mk(e,t,r,n,i){r=r.render;var a=t.ref;return Ed(t,i),n=CS(e,t,r,n,a,i),r=TS(),e!==null&&!Ei?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Io(e,t,i)):(Rr&&r&&bS(t),t.flags|=1,fi(e,t,n,i),t.child)}function gk(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!zS(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,OI(e,t,a,n,i)):(e=X0(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:$p,r(s,n)&&e.ref===t.ref)return Io(e,t,i)}return t.flags|=1,e=Ll(a,n),e.ref=t.ref,e.return=t,t.child=e}function OI(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if($p(a,n)&&e.ref===t.ref)if(Ei=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Ei=!0);else return t.lanes=e.lanes,Io(e,t,i)}return _w(e,t,r,n,i)}function EI(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(vd,Zi),Zi|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nr(vd,Zi),Zi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Nr(vd,Zi),Zi|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Nr(vd,Zi),Zi|=n;return fi(e,t,i,r),t.child}function PI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _w(e,t,r,n,i){var a=Ti(r)?ru:si.current;return a=qd(t,a),Ed(t,i),r=CS(e,t,r,n,a,i),n=TS(),e!==null&&!Ei?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Io(e,t,i)):(Rr&&n&&bS(t),t.flags|=1,fi(e,t,r,i),t.child)}function yk(e,t,r,n,i){if(Ti(r)){var a=!0;gy(t)}else a=!1;if(Ed(t,i),t.stateNode===null)G0(e,t),NI(t,r,n),xw(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=$a(c):(c=Ti(r)?ru:si.current,c=qd(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&dk(t,s,n,c),pl=!1;var p=t.memoizedState;s.state=p,wy(t,n,s,i),l=t.memoizedState,o!==n||p!==l||Ci.current||pl?(typeof u=="function"&&(bw(t,r,u,n),l=t.memoizedState),(o=pl||uk(t,r,o,n,p,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,iI(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ns(t.type,o),s.props=c,f=t.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=$a(l):(l=Ti(r)?ru:si.current,l=qd(t,l));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||p!==l)&&dk(t,s,n,l),pl=!1,p=t.memoizedState,s.state=p,wy(t,n,s,i);var y=t.memoizedState;o!==f||p!==y||Ci.current||pl?(typeof h=="function"&&(bw(t,r,h,n),y=t.memoizedState),(c=pl||uk(t,r,c,n,p,y,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,y,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),s.props=n,s.state=y,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Sw(e,t,r,n,a,i)}function Sw(e,t,r,n,i,a){PI(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&rk(t,r,!1),Io(e,t,a);n=t.stateNode,CF.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Hd(t,e.child,null,a),t.child=Hd(t,null,o,a)):fi(e,t,o,a),t.memoizedState=n.state,i&&rk(t,r,!0),t.child}function CI(e){var t=e.stateNode;t.pendingContext?tk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tk(e,t.context,!1),kS(e,t.containerInfo)}function vk(e,t,r,n,i){return Wd(),wS(i),t.flags|=256,fi(e,t,r,n),t.child}var jw={dehydrated:null,treeContext:null,retryLane:0};function Nw(e){return{baseLanes:e,cachePool:null,transitions:null}}function TI(e,t,r){var n=t.pendingProps,i=Br.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Nr(Br,i&1),e===null)return yw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=l1(s,n,0,null),e=Jc(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Nw(r),t.memoizedState=jw,e):RS(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return TF(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Ll(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Ll(o,a):(a=Jc(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?Nw(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=jw,n}return a=e.child,e=a.sibling,n=Ll(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function RS(e,t){return t=l1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function e0(e,t,r,n){return n!==null&&wS(n),Hd(t,e.child,null,r),e=RS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function TF(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=vx(Error(qe(422))),e0(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=l1({mode:"visible",children:n.children},i,0,null),a=Jc(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Hd(t,e.child,null,s),t.child.memoizedState=Nw(s),t.memoizedState=jw,a);if(!(t.mode&1))return e0(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(qe(419)),n=vx(a,n,void 0),e0(e,t,s,n)}if(o=(s&e.childLanes)!==0,Ei||o){if(n=$n,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,To(e,i),ds(n,e,i,-1))}return US(),n=vx(Error(qe(421))),e0(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=HF.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ia=Pl(i.nextSibling),oa=t,Rr=!0,ls=null,e!==null&&(ka[Oa++]=bo,ka[Oa++]=xo,ka[Oa++]=nu,bo=e.id,xo=e.overflow,nu=t),t=RS(t,n.children),t.flags|=4096,t)}function bk(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),vw(e.return,t,r)}function bx(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function II(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(fi(e,t,n.children,r),n=Br.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bk(e,r,t);else if(e.tag===19)bk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Nr(Br,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&_y(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),bx(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&_y(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}bx(t,!0,r,null,a);break;case"together":bx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function G0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Io(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),au|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(qe(153));if(t.child!==null){for(e=t.child,r=Ll(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ll(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function IF(e,t,r){switch(t.tag){case 3:CI(t),Wd();break;case 5:aI(t);break;case 1:Ti(t.type)&&gy(t);break;case 4:kS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Nr(by,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Nr(Br,Br.current&1),t.flags|=128,null):r&t.child.childLanes?TI(e,t,r):(Nr(Br,Br.current&1),e=Io(e,t,r),e!==null?e.sibling:null);Nr(Br,Br.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return II(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Nr(Br,Br.current),n)break;return null;case 22:case 23:return t.lanes=0,EI(e,t,r)}return Io(e,t,r)}var LI,Aw,RI,$I;LI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Aw=function(){};RI=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Wc(Rs.current);var a=null;switch(r){case"input":i=K2(e,i),n=K2(e,n),a=[];break;case"select":i=Ur({},i,{value:void 0}),n=Ur({},n,{value:void 0}),a=[];break;case"textarea":i=J2(e,i),n=J2(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=py)}Q2(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ep.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ep.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Er("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};$I=function(e,t,r,n){r!==n&&(t.flags|=4)};function Rh(e,t){if(!Rr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Jn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function LF(e,t,r){var n=t.pendingProps;switch(xS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(t),null;case 1:return Ti(t.type)&&my(),Jn(t),null;case 3:return n=t.stateNode,Vd(),Ir(Ci),Ir(si),ES(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Zg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ls!==null&&(Lw(ls),ls=null))),Aw(e,t),Jn(t),null;case 5:OS(t);var i=Wc(Up.current);if(r=t.type,e!==null&&t.stateNode!=null)RI(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(qe(166));return Jn(t),null}if(e=Wc(Rs.current),Zg(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ps]=t,n[Bp]=a,e=(t.mode&1)!==0,r){case"dialog":Er("cancel",n),Er("close",n);break;case"iframe":case"object":case"embed":Er("load",n);break;case"video":case"audio":for(i=0;i<tp.length;i++)Er(tp[i],n);break;case"source":Er("error",n);break;case"img":case"image":case"link":Er("error",n),Er("load",n);break;case"details":Er("toggle",n);break;case"input":OA(n,a),Er("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Er("invalid",n);break;case"textarea":PA(n,a),Er("invalid",n)}Q2(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Jg(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Jg(n.textContent,o,e),i=["children",""+o]):Ep.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Er("scroll",n)}switch(r){case"input":qg(n),EA(n,a,!0);break;case"textarea":qg(n),CA(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=py)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uT(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Ps]=t,e[Bp]=n,LI(e,t,!1,!1),t.stateNode=e;e:{switch(s=ew(r,n),r){case"dialog":Er("cancel",e),Er("close",e),i=n;break;case"iframe":case"object":case"embed":Er("load",e),i=n;break;case"video":case"audio":for(i=0;i<tp.length;i++)Er(tp[i],e);i=n;break;case"source":Er("error",e),i=n;break;case"img":case"image":case"link":Er("error",e),Er("load",e),i=n;break;case"details":Er("toggle",e),i=n;break;case"input":OA(e,n),i=K2(e,n),Er("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ur({},n,{value:void 0}),Er("invalid",e);break;case"textarea":PA(e,n),i=J2(e,n),Er("invalid",e);break;default:i=n}Q2(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?hT(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dT(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Pp(e,l):typeof l=="number"&&Pp(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ep.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Er("scroll",e):l!=null&&aS(e,a,l,s))}switch(r){case"input":qg(e),EA(e,n,!1);break;case"textarea":qg(e),CA(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Dl(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Nd(e,!!n.multiple,a,!1):n.defaultValue!=null&&Nd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=py)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Jn(t),null;case 6:if(e&&t.stateNode!=null)$I(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(qe(166));if(r=Wc(Up.current),Wc(Rs.current),Zg(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ps]=t,(a=n.nodeValue!==r)&&(e=oa,e!==null))switch(e.tag){case 3:Jg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jg(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ps]=t,t.stateNode=n}return Jn(t),null;case 13:if(Ir(Br),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Rr&&ia!==null&&t.mode&1&&!(t.flags&128))eI(),Wd(),t.flags|=98560,a=!1;else if(a=Zg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(qe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(qe(317));a[Ps]=t}else Wd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jn(t),a=!1}else ls!==null&&(Lw(ls),ls=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Br.current&1?kn===0&&(kn=3):US())),t.updateQueue!==null&&(t.flags|=4),Jn(t),null);case 4:return Vd(),Aw(e,t),e===null&&Mp(t.stateNode.containerInfo),Jn(t),null;case 10:return jS(t.type._context),Jn(t),null;case 17:return Ti(t.type)&&my(),Jn(t),null;case 19:if(Ir(Br),a=t.memoizedState,a===null)return Jn(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Rh(a,!1);else{if(kn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=_y(e),s!==null){for(t.flags|=128,Rh(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Nr(Br,Br.current&1|2),t.child}e=e.sibling}a.tail!==null&&tn()>Kd&&(t.flags|=128,n=!0,Rh(a,!1),t.lanes=4194304)}else{if(!n)if(e=_y(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Rh(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Rr)return Jn(t),null}else 2*tn()-a.renderingStartTime>Kd&&r!==1073741824&&(t.flags|=128,n=!0,Rh(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=tn(),t.sibling=null,r=Br.current,Nr(Br,n?r&1|2:r&1),t):(Jn(t),null);case 22:case 23:return FS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Zi&1073741824&&(Jn(t),t.subtreeFlags&6&&(t.flags|=8192)):Jn(t),null;case 24:return null;case 25:return null}throw Error(qe(156,t.tag))}function RF(e,t){switch(xS(t),t.tag){case 1:return Ti(t.type)&&my(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vd(),Ir(Ci),Ir(si),ES(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return OS(t),null;case 13:if(Ir(Br),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(qe(340));Wd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ir(Br),null;case 4:return Vd(),null;case 10:return jS(t.type._context),null;case 22:case 23:return FS(),null;case 24:return null;default:return null}}var t0=!1,ii=!1,$F=typeof WeakSet=="function"?WeakSet:Set,it=null;function yd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Gr(e,t,n)}else r.current=null}function kw(e,t,r){try{r()}catch(n){Gr(e,t,n)}}var xk=!1;function MF(e,t){if(uw=dy,e=UT(),vS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=e,p=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===r&&++c===i&&(o=s),p===a&&++u===n&&(l=s),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(dw={focusedElem:e,selectionRange:r},dy=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){t=it;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,b=y.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),b);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(qe(163))}}catch(N){Gr(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}return y=xk,xk=!1,y}function dp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&kw(t,r,a)}i=i.next}while(i!==n)}}function s1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ow(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function MI(e){var t=e.alternate;t!==null&&(e.alternate=null,MI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ps],delete t[Bp],delete t[pw],delete t[bF],delete t[xF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function DI(e){return e.tag===5||e.tag===3||e.tag===4}function wk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||DI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ew(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=py));else if(n!==4&&(e=e.child,e!==null))for(Ew(e,t,r),e=e.sibling;e!==null;)Ew(e,t,r),e=e.sibling}function Pw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Pw(e,t,r),e=e.sibling;e!==null;)Pw(e,t,r),e=e.sibling}var Hn=null,as=!1;function ll(e,t,r){for(r=r.child;r!==null;)BI(e,t,r),r=r.sibling}function BI(e,t,r){if(Ls&&typeof Ls.onCommitFiberUnmount=="function")try{Ls.onCommitFiberUnmount(Zv,r)}catch{}switch(r.tag){case 5:ii||yd(r,t);case 6:var n=Hn,i=as;Hn=null,ll(e,t,r),Hn=n,as=i,Hn!==null&&(as?(e=Hn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Hn.removeChild(r.stateNode));break;case 18:Hn!==null&&(as?(e=Hn,r=r.stateNode,e.nodeType===8?fx(e.parentNode,r):e.nodeType===1&&fx(e,r),Lp(e)):fx(Hn,r.stateNode));break;case 4:n=Hn,i=as,Hn=r.stateNode.containerInfo,as=!0,ll(e,t,r),Hn=n,as=i;break;case 0:case 11:case 14:case 15:if(!ii&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&kw(r,t,s),i=i.next}while(i!==n)}ll(e,t,r);break;case 1:if(!ii&&(yd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Gr(r,t,o)}ll(e,t,r);break;case 21:ll(e,t,r);break;case 22:r.mode&1?(ii=(n=ii)||r.memoizedState!==null,ll(e,t,r),ii=n):ll(e,t,r);break;default:ll(e,t,r)}}function _k(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new $F),t.forEach(function(n){var i=VF.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Za(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Hn=o.stateNode,as=!1;break e;case 3:Hn=o.stateNode.containerInfo,as=!0;break e;case 4:Hn=o.stateNode.containerInfo,as=!0;break e}o=o.return}if(Hn===null)throw Error(qe(160));BI(a,s,i),Hn=null,as=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Gr(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)FI(t,e),t=t.sibling}function FI(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Za(t,e),Ns(e),n&4){try{dp(3,e,e.return),s1(3,e)}catch(g){Gr(e,e.return,g)}try{dp(5,e,e.return)}catch(g){Gr(e,e.return,g)}}break;case 1:Za(t,e),Ns(e),n&512&&r!==null&&yd(r,r.return);break;case 5:if(Za(t,e),Ns(e),n&512&&r!==null&&yd(r,r.return),e.flags&32){var i=e.stateNode;try{Pp(i,"")}catch(g){Gr(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&lT(i,a),ew(o,s);var c=ew(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?hT(i,f):u==="dangerouslySetInnerHTML"?dT(i,f):u==="children"?Pp(i,f):aS(i,u,f,c)}switch(o){case"input":Y2(i,a);break;case"textarea":cT(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Nd(i,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?Nd(i,!!a.multiple,a.defaultValue,!0):Nd(i,!!a.multiple,a.multiple?[]:"",!1))}i[Bp]=a}catch(g){Gr(e,e.return,g)}}break;case 6:if(Za(t,e),Ns(e),n&4){if(e.stateNode===null)throw Error(qe(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Gr(e,e.return,g)}}break;case 3:if(Za(t,e),Ns(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Lp(t.containerInfo)}catch(g){Gr(e,e.return,g)}break;case 4:Za(t,e),Ns(e);break;case 13:Za(t,e),Ns(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(DS=tn())),n&4&&_k(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(ii=(c=ii)||u,Za(t,e),ii=c):Za(t,e),Ns(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(it=e,u=e.child;u!==null;){for(f=it=u;it!==null;){switch(p=it,h=p.child,p.tag){case 0:case 11:case 14:case 15:dp(4,p,p.return);break;case 1:yd(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){Gr(n,r,g)}}break;case 5:yd(p,p.return);break;case 22:if(p.memoizedState!==null){jk(f);continue}}h!==null?(h.return=p,it=h):jk(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=fT("display",s))}catch(g){Gr(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Gr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Za(t,e),Ns(e),n&4&&_k(e);break;case 21:break;default:Za(t,e),Ns(e)}}function Ns(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(DI(r)){var n=r;break e}r=r.return}throw Error(qe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Pp(i,""),n.flags&=-33);var a=wk(e);Pw(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=wk(e);Ew(e,o,s);break;default:throw Error(qe(161))}}catch(l){Gr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DF(e,t,r){it=e,UI(e)}function UI(e,t,r){for(var n=(e.mode&1)!==0;it!==null;){var i=it,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||t0;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ii;o=t0;var c=ii;if(t0=s,(ii=l)&&!c)for(it=i;it!==null;)s=it,l=s.child,s.tag===22&&s.memoizedState!==null?Nk(i):l!==null?(l.return=s,it=l):Nk(i);for(;a!==null;)it=a,UI(a),a=a.sibling;it=i,t0=o,ii=c}Sk(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,it=a):Sk(e)}}function Sk(e){for(;it!==null;){var t=it;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ii||s1(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ii)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ns(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ok(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ok(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Lp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(qe(163))}ii||t.flags&512&&Ow(t)}catch(p){Gr(t,t.return,p)}}if(t===e){it=null;break}if(r=t.sibling,r!==null){r.return=t.return,it=r;break}it=t.return}}function jk(e){for(;it!==null;){var t=it;if(t===e){it=null;break}var r=t.sibling;if(r!==null){r.return=t.return,it=r;break}it=t.return}}function Nk(e){for(;it!==null;){var t=it;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{s1(4,t)}catch(l){Gr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Gr(t,i,l)}}var a=t.return;try{Ow(t)}catch(l){Gr(t,a,l)}break;case 5:var s=t.return;try{Ow(t)}catch(l){Gr(t,s,l)}}}catch(l){Gr(t,t.return,l)}if(t===e){it=null;break}var o=t.sibling;if(o!==null){o.return=t.return,it=o;break}it=t.return}}var BF=Math.ceil,Ny=Bo.ReactCurrentDispatcher,$S=Bo.ReactCurrentOwner,Ia=Bo.ReactCurrentBatchConfig,Xt=0,$n=null,pn=null,Vn=0,Zi=0,vd=Wl(0),kn=0,Hp=null,au=0,o1=0,MS=0,fp=null,Oi=null,DS=0,Kd=1/0,po=null,Ay=!1,Cw=null,Tl=null,r0=!1,Sl=null,ky=0,hp=0,Tw=null,K0=-1,Y0=0;function vi(){return Xt&6?tn():K0!==-1?K0:K0=tn()}function Il(e){return e.mode&1?Xt&2&&Vn!==0?Vn&-Vn:_F.transition!==null?(Y0===0&&(Y0=NT()),Y0):(e=dr,e!==0||(e=window.event,e=e===void 0?16:TT(e.type)),e):1}function ds(e,t,r,n){if(50<hp)throw hp=0,Tw=null,Error(qe(185));Dm(e,r,n),(!(Xt&2)||e!==$n)&&(e===$n&&(!(Xt&2)&&(o1|=r),kn===4&&vl(e,Vn)),Ii(e,n),r===1&&Xt===0&&!(t.mode&1)&&(Kd=tn()+500,n1&&Hl()))}function Ii(e,t){var r=e.callbackNode;_B(e,t);var n=uy(e,e===$n?Vn:0);if(n===0)r!==null&&LA(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&LA(r),t===1)e.tag===0?wF(Ak.bind(null,e)):JT(Ak.bind(null,e)),yF(function(){!(Xt&6)&&Hl()}),r=null;else{switch(AT(n)){case 1:r=uS;break;case 4:r=ST;break;case 16:r=cy;break;case 536870912:r=jT;break;default:r=cy}r=YI(r,zI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function zI(e,t){if(K0=-1,Y0=0,Xt&6)throw Error(qe(327));var r=e.callbackNode;if(Pd()&&e.callbackNode!==r)return null;var n=uy(e,e===$n?Vn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Oy(e,n);else{t=n;var i=Xt;Xt|=2;var a=WI();($n!==e||Vn!==t)&&(po=null,Kd=tn()+500,Xc(e,t));do try{zF();break}catch(o){qI(e,o)}while(!0);SS(),Ny.current=a,Xt=i,pn!==null?t=0:($n=null,Vn=0,t=kn)}if(t!==0){if(t===2&&(i=aw(e),i!==0&&(n=i,t=Iw(e,i))),t===1)throw r=Hp,Xc(e,0),vl(e,n),Ii(e,tn()),r;if(t===6)vl(e,n);else{if(i=e.current.alternate,!(n&30)&&!FF(i)&&(t=Oy(e,n),t===2&&(a=aw(e),a!==0&&(n=a,t=Iw(e,a))),t===1))throw r=Hp,Xc(e,0),vl(e,n),Ii(e,tn()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(qe(345));case 2:Pc(e,Oi,po);break;case 3:if(vl(e,n),(n&130023424)===n&&(t=DS+500-tn(),10<t)){if(uy(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){vi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=hw(Pc.bind(null,e,Oi,po),t);break}Pc(e,Oi,po);break;case 4:if(vl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-us(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=tn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*BF(n/1960))-n,10<n){e.timeoutHandle=hw(Pc.bind(null,e,Oi,po),n);break}Pc(e,Oi,po);break;case 5:Pc(e,Oi,po);break;default:throw Error(qe(329))}}}return Ii(e,tn()),e.callbackNode===r?zI.bind(null,e):null}function Iw(e,t){var r=fp;return e.current.memoizedState.isDehydrated&&(Xc(e,t).flags|=256),e=Oy(e,t),e!==2&&(t=Oi,Oi=r,t!==null&&Lw(t)),e}function Lw(e){Oi===null?Oi=e:Oi.push.apply(Oi,e)}function FF(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!hs(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vl(e,t){for(t&=~MS,t&=~o1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-us(t),n=1<<r;e[r]=-1,t&=~n}}function Ak(e){if(Xt&6)throw Error(qe(327));Pd();var t=uy(e,0);if(!(t&1))return Ii(e,tn()),null;var r=Oy(e,t);if(e.tag!==0&&r===2){var n=aw(e);n!==0&&(t=n,r=Iw(e,n))}if(r===1)throw r=Hp,Xc(e,0),vl(e,t),Ii(e,tn()),r;if(r===6)throw Error(qe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pc(e,Oi,po),Ii(e,tn()),null}function BS(e,t){var r=Xt;Xt|=1;try{return e(t)}finally{Xt=r,Xt===0&&(Kd=tn()+500,n1&&Hl())}}function su(e){Sl!==null&&Sl.tag===0&&!(Xt&6)&&Pd();var t=Xt;Xt|=1;var r=Ia.transition,n=dr;try{if(Ia.transition=null,dr=1,e)return e()}finally{dr=n,Ia.transition=r,Xt=t,!(Xt&6)&&Hl()}}function FS(){Zi=vd.current,Ir(vd)}function Xc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,gF(r)),pn!==null)for(r=pn.return;r!==null;){var n=r;switch(xS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&my();break;case 3:Vd(),Ir(Ci),Ir(si),ES();break;case 5:OS(n);break;case 4:Vd();break;case 13:Ir(Br);break;case 19:Ir(Br);break;case 10:jS(n.type._context);break;case 22:case 23:FS()}r=r.return}if($n=e,pn=e=Ll(e.current,null),Vn=Zi=t,kn=0,Hp=null,MS=o1=au=0,Oi=fp=null,qc!==null){for(t=0;t<qc.length;t++)if(r=qc[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}qc=null}return e}function qI(e,t){do{var r=pn;try{if(SS(),H0.current=jy,Sy){for(var n=Fr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Sy=!1}if(iu=0,In=jn=Fr=null,up=!1,zp=0,$S.current=null,r===null||r.return===null){kn=1,Hp=t,pn=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=Vn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=hk(s);if(h!==null){h.flags&=-257,pk(h,s,o,a,t),h.mode&1&&fk(a,c,t),t=h,l=c;var y=t.updateQueue;if(y===null){var g=new Set;g.add(l),t.updateQueue=g}else y.add(l);break e}else{if(!(t&1)){fk(a,c,t),US();break e}l=Error(qe(426))}}else if(Rr&&o.mode&1){var b=hk(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),pk(b,s,o,a,t),wS(Gd(l,o));break e}}a=l=Gd(l,o),kn!==4&&(kn=2),fp===null?fp=[a]:fp.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=AI(a,l,t);sk(a,v);break e;case 1:o=l;var w=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Tl===null||!Tl.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=kI(a,o,t);sk(a,N);break e}}a=a.return}while(a!==null)}VI(r)}catch(S){t=S,pn===r&&r!==null&&(pn=r=r.return);continue}break}while(!0)}function WI(){var e=Ny.current;return Ny.current=jy,e===null?jy:e}function US(){(kn===0||kn===3||kn===2)&&(kn=4),$n===null||!(au&268435455)&&!(o1&268435455)||vl($n,Vn)}function Oy(e,t){var r=Xt;Xt|=2;var n=WI();($n!==e||Vn!==t)&&(po=null,Xc(e,t));do try{UF();break}catch(i){qI(e,i)}while(!0);if(SS(),Xt=r,Ny.current=n,pn!==null)throw Error(qe(261));return $n=null,Vn=0,kn}function UF(){for(;pn!==null;)HI(pn)}function zF(){for(;pn!==null&&!hB();)HI(pn)}function HI(e){var t=KI(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,t===null?VI(e):pn=t,$S.current=null}function VI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=RF(r,t),r!==null){r.flags&=32767,pn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kn=6,pn=null;return}}else if(r=LF(r,t,Zi),r!==null){pn=r;return}if(t=t.sibling,t!==null){pn=t;return}pn=t=e}while(t!==null);kn===0&&(kn=5)}function Pc(e,t,r){var n=dr,i=Ia.transition;try{Ia.transition=null,dr=1,qF(e,t,r,n)}finally{Ia.transition=i,dr=n}return null}function qF(e,t,r,n){do Pd();while(Sl!==null);if(Xt&6)throw Error(qe(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(qe(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(SB(e,a),e===$n&&(pn=$n=null,Vn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||r0||(r0=!0,YI(cy,function(){return Pd(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ia.transition,Ia.transition=null;var s=dr;dr=1;var o=Xt;Xt|=4,$S.current=null,MF(e,r),FI(r,e),cF(dw),dy=!!uw,dw=uw=null,e.current=r,DF(r),pB(),Xt=o,dr=s,Ia.transition=a}else e.current=r;if(r0&&(r0=!1,Sl=e,ky=i),a=e.pendingLanes,a===0&&(Tl=null),yB(r.stateNode),Ii(e,tn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ay)throw Ay=!1,e=Cw,Cw=null,e;return ky&1&&e.tag!==0&&Pd(),a=e.pendingLanes,a&1?e===Tw?hp++:(hp=0,Tw=e):hp=0,Hl(),null}function Pd(){if(Sl!==null){var e=AT(ky),t=Ia.transition,r=dr;try{if(Ia.transition=null,dr=16>e?16:e,Sl===null)var n=!1;else{if(e=Sl,Sl=null,ky=0,Xt&6)throw Error(qe(331));var i=Xt;for(Xt|=4,it=e.current;it!==null;){var a=it,s=a.child;if(it.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(it=c;it!==null;){var u=it;switch(u.tag){case 0:case 11:case 15:dp(8,u,a)}var f=u.child;if(f!==null)f.return=u,it=f;else for(;it!==null;){u=it;var p=u.sibling,h=u.return;if(MI(u),u===c){it=null;break}if(p!==null){p.return=h,it=p;break}it=h}}}var y=a.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}it=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,it=s;else e:for(;it!==null;){if(a=it,a.flags&2048)switch(a.tag){case 0:case 11:case 15:dp(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,it=v;break e}it=a.return}}var w=e.current;for(it=w;it!==null;){s=it;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,it=_;else e:for(s=w;it!==null;){if(o=it,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:s1(9,o)}}catch(S){Gr(o,o.return,S)}if(o===s){it=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,it=N;break e}it=o.return}}if(Xt=i,Hl(),Ls&&typeof Ls.onPostCommitFiberRoot=="function")try{Ls.onPostCommitFiberRoot(Zv,e)}catch{}n=!0}return n}finally{dr=r,Ia.transition=t}}return!1}function kk(e,t,r){t=Gd(r,t),t=AI(e,t,1),e=Cl(e,t,1),t=vi(),e!==null&&(Dm(e,1,t),Ii(e,t))}function Gr(e,t,r){if(e.tag===3)kk(e,e,r);else for(;t!==null;){if(t.tag===3){kk(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Tl===null||!Tl.has(n))){e=Gd(r,e),e=kI(t,e,1),t=Cl(t,e,1),e=vi(),t!==null&&(Dm(t,1,e),Ii(t,e));break}}t=t.return}}function WF(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=vi(),e.pingedLanes|=e.suspendedLanes&r,$n===e&&(Vn&r)===r&&(kn===4||kn===3&&(Vn&130023424)===Vn&&500>tn()-DS?Xc(e,0):MS|=r),Ii(e,t)}function GI(e,t){t===0&&(e.mode&1?(t=Vg,Vg<<=1,!(Vg&130023424)&&(Vg=4194304)):t=1);var r=vi();e=To(e,t),e!==null&&(Dm(e,t,r),Ii(e,r))}function HF(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),GI(e,r)}function VF(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(qe(314))}n!==null&&n.delete(t),GI(e,r)}var KI;KI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ci.current)Ei=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ei=!1,IF(e,t,r);Ei=!!(e.flags&131072)}else Ei=!1,Rr&&t.flags&1048576&&ZT(t,vy,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;G0(e,t),e=t.pendingProps;var i=qd(t,si.current);Ed(t,r),i=CS(null,t,n,e,i,r);var a=TS();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ti(n)?(a=!0,gy(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,AS(t),i.updater=a1,t.stateNode=i,i._reactInternals=t,xw(t,n,e,r),t=Sw(null,t,n,!0,a,r)):(t.tag=0,Rr&&a&&bS(t),fi(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(G0(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=KF(n),e=ns(n,e),i){case 0:t=_w(null,t,n,e,r);break e;case 1:t=yk(null,t,n,e,r);break e;case 11:t=mk(null,t,n,e,r);break e;case 14:t=gk(null,t,n,ns(n.type,e),r);break e}throw Error(qe(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ns(n,i),_w(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ns(n,i),yk(e,t,n,i,r);case 3:e:{if(CI(t),e===null)throw Error(qe(387));n=t.pendingProps,a=t.memoizedState,i=a.element,iI(e,t),wy(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Gd(Error(qe(423)),t),t=vk(e,t,n,r,i);break e}else if(n!==i){i=Gd(Error(qe(424)),t),t=vk(e,t,n,r,i);break e}else for(ia=Pl(t.stateNode.containerInfo.firstChild),oa=t,Rr=!0,ls=null,r=rI(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wd(),n===i){t=Io(e,t,r);break e}fi(e,t,n,r)}t=t.child}return t;case 5:return aI(t),e===null&&yw(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,fw(n,i)?s=null:a!==null&&fw(n,a)&&(t.flags|=32),PI(e,t),fi(e,t,s,r),t.child;case 6:return e===null&&yw(t),null;case 13:return TI(e,t,r);case 4:return kS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Hd(t,null,n,r):fi(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ns(n,i),mk(e,t,n,i,r);case 7:return fi(e,t,t.pendingProps,r),t.child;case 8:return fi(e,t,t.pendingProps.children,r),t.child;case 12:return fi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Nr(by,n._currentValue),n._currentValue=s,a!==null)if(hs(a.value,s)){if(a.children===i.children&&!Ci.current){t=Io(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=No(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),vw(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(qe(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),vw(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}fi(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ed(t,r),i=$a(i),n=n(i),t.flags|=1,fi(e,t,n,r),t.child;case 14:return n=t.type,i=ns(n,t.pendingProps),i=ns(n.type,i),gk(e,t,n,i,r);case 15:return OI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ns(n,i),G0(e,t),t.tag=1,Ti(n)?(e=!0,gy(t)):e=!1,Ed(t,r),NI(t,n,i),xw(t,n,i,r),Sw(null,t,n,!0,e,r);case 19:return II(e,t,r);case 22:return EI(e,t,r)}throw Error(qe(156,t.tag))};function YI(e,t){return _T(e,t)}function GF(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ca(e,t,r,n){return new GF(e,t,r,n)}function zS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KF(e){if(typeof e=="function")return zS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oS)return 11;if(e===lS)return 14}return 2}function Ll(e,t){var r=e.alternate;return r===null?(r=Ca(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function X0(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")zS(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ld:return Jc(r.children,i,a,t);case sS:s=8,i|=8;break;case W2:return e=Ca(12,r,t,i|2),e.elementType=W2,e.lanes=a,e;case H2:return e=Ca(13,r,t,i),e.elementType=H2,e.lanes=a,e;case V2:return e=Ca(19,r,t,i),e.elementType=V2,e.lanes=a,e;case aT:return l1(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nT:s=10;break e;case iT:s=9;break e;case oS:s=11;break e;case lS:s=14;break e;case hl:s=16,n=null;break e}throw Error(qe(130,e==null?e:typeof e,""))}return t=Ca(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Jc(e,t,r,n){return e=Ca(7,e,n,t),e.lanes=r,e}function l1(e,t,r,n){return e=Ca(22,e,n,t),e.elementType=aT,e.lanes=r,e.stateNode={isHidden:!1},e}function xx(e,t,r){return e=Ca(6,e,null,t),e.lanes=r,e}function wx(e,t,r){return t=Ca(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function YF(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tx(0),this.expirationTimes=tx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tx(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qS(e,t,r,n,i,a,s,o,l){return e=new YF(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ca(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},AS(a),e}function XF(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:od,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function XI(e){if(!e)return Bl;e=e._reactInternals;e:{if(yu(e)!==e||e.tag!==1)throw Error(qe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ti(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(qe(171))}if(e.tag===1){var r=e.type;if(Ti(r))return XT(e,r,t)}return t}function JI(e,t,r,n,i,a,s,o,l){return e=qS(r,n,!0,e,i,a,s,o,l),e.context=XI(null),r=e.current,n=vi(),i=Il(r),a=No(n,i),a.callback=t??null,Cl(r,a,i),e.current.lanes=i,Dm(e,i,n),Ii(e,n),e}function c1(e,t,r,n){var i=t.current,a=vi(),s=Il(i);return r=XI(r),t.context===null?t.context=r:t.pendingContext=r,t=No(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Cl(i,t,s),e!==null&&(ds(e,i,s,a),W0(e,i,s)),s}function Ey(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ok(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function WS(e,t){Ok(e,t),(e=e.alternate)&&Ok(e,t)}function JF(){return null}var ZI=typeof reportError=="function"?reportError:function(e){console.error(e)};function HS(e){this._internalRoot=e}u1.prototype.render=HS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(qe(409));c1(e,t,null,null)};u1.prototype.unmount=HS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;su(function(){c1(null,e,null,null)}),t[Co]=null}};function u1(e){this._internalRoot=e}u1.prototype.unstable_scheduleHydration=function(e){if(e){var t=ET();e={blockedOn:null,target:e,priority:t};for(var r=0;r<yl.length&&t!==0&&t<yl[r].priority;r++);yl.splice(r,0,e),r===0&&CT(e)}};function VS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ek(){}function ZF(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=Ey(s);a.call(c)}}var s=JI(t,n,e,0,null,!1,!1,"",Ek);return e._reactRootContainer=s,e[Co]=s.current,Mp(e.nodeType===8?e.parentNode:e),su(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=Ey(l);o.call(c)}}var l=qS(e,0,!1,null,null,!1,!1,"",Ek);return e._reactRootContainer=l,e[Co]=l.current,Mp(e.nodeType===8?e.parentNode:e),su(function(){c1(t,l,r,n)}),l}function f1(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Ey(s);o.call(l)}}c1(t,s,e,i)}else s=ZF(r,t,e,i,n);return Ey(s)}kT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ep(t.pendingLanes);r!==0&&(dS(t,r|1),Ii(t,tn()),!(Xt&6)&&(Kd=tn()+500,Hl()))}break;case 13:su(function(){var n=To(e,1);if(n!==null){var i=vi();ds(n,e,1,i)}}),WS(e,1)}};fS=function(e){if(e.tag===13){var t=To(e,134217728);if(t!==null){var r=vi();ds(t,e,134217728,r)}WS(e,134217728)}};OT=function(e){if(e.tag===13){var t=Il(e),r=To(e,t);if(r!==null){var n=vi();ds(r,e,t,n)}WS(e,t)}};ET=function(){return dr};PT=function(e,t){var r=dr;try{return dr=e,t()}finally{dr=r}};rw=function(e,t,r){switch(t){case"input":if(Y2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=r1(n);if(!i)throw Error(qe(90));oT(n),Y2(n,i)}}}break;case"textarea":cT(e,r);break;case"select":t=r.value,t!=null&&Nd(e,!!r.multiple,t,!1)}};gT=BS;yT=su;var QF={usingClientEntryPoint:!1,Events:[Fm,fd,r1,pT,mT,BS]},$h={findFiberByHostInstance:zc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eU={bundleType:$h.bundleType,version:$h.version,rendererPackageName:$h.rendererPackageName,rendererConfig:$h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xT(e),e===null?null:e.stateNode},findFiberByHostInstance:$h.findFiberByHostInstance||JF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var n0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!n0.isDisabled&&n0.supportsFiber)try{Zv=n0.inject(eU),Ls=n0}catch{}}da.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QF;da.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!VS(t))throw Error(qe(200));return XF(e,t,null,r)};da.createRoot=function(e,t){if(!VS(e))throw Error(qe(299));var r=!1,n="",i=ZI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=qS(e,1,!1,null,null,r,!1,n,i),e[Co]=t.current,Mp(e.nodeType===8?e.parentNode:e),new HS(t)};da.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(qe(188)):(e=Object.keys(e).join(","),Error(qe(268,e)));return e=xT(t),e=e===null?null:e.stateNode,e};da.flushSync=function(e){return su(e)};da.hydrate=function(e,t,r){if(!d1(t))throw Error(qe(200));return f1(null,e,t,!0,r)};da.hydrateRoot=function(e,t,r){if(!VS(e))throw Error(qe(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=ZI;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=JI(t,null,e,1,r??null,i,!1,a,s),e[Co]=t.current,Mp(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new u1(t)};da.render=function(e,t,r){if(!d1(t))throw Error(qe(200));return f1(null,e,t,!1,r)};da.unmountComponentAtNode=function(e){if(!d1(e))throw Error(qe(40));return e._reactRootContainer?(su(function(){f1(null,null,e,!1,function(){e._reactRootContainer=null,e[Co]=null})}),!0):!1};da.unstable_batchedUpdates=BS;da.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!d1(r))throw Error(qe(200));if(e==null||e._reactInternals===void 0)throw Error(qe(38));return f1(e,t,r,!1,n)};da.version="18.3.1-next-f1338f8080-20240426";function QI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QI)}catch(e){console.error(e)}}QI(),QC.exports=da;var tU=QC.exports,Pk=tU;z2.createRoot=Pk.createRoot,z2.hydrateRoot=Pk.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vp.apply(this,arguments)}var jl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jl||(jl={}));const Ck="popstate";function rU(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:s,hash:o}=n.location;return Rw("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Py(i)}return iU(t,r,null,e)}function sn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function eL(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nU(){return Math.random().toString(36).substr(2,8)}function Tk(e,t){return{usr:e.state,key:e.key,idx:t}}function Rw(e,t,r,n){return r===void 0&&(r=null),Vp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cf(t):t,{state:r,key:t&&t.key||n||nU()})}function Py(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function iU(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=jl.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Vp({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=jl.Pop;let b=u(),v=b==null?null:b-c;c=b,l&&l({action:o,location:g.location,delta:v})}function p(b,v){o=jl.Push;let w=Rw(g.location,b,v);c=u()+1;let _=Tk(w,c),N=g.createHref(w);try{s.pushState(_,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(N)}a&&l&&l({action:o,location:g.location,delta:1})}function h(b,v){o=jl.Replace;let w=Rw(g.location,b,v);c=u();let _=Tk(w,c),N=g.createHref(w);s.replaceState(_,"",N),a&&l&&l({action:o,location:g.location,delta:0})}function y(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:Py(b);return w=w.replace(/ $/,"%20"),sn(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let g={get action(){return o},get location(){return e(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ck,f),l=b,()=>{i.removeEventListener(Ck,f),l=null}},createHref(b){return t(i,b)},createURL:y,encodeLocation(b){let v=y(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:h,go(b){return s.go(b)}};return g}var Ik;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ik||(Ik={}));function aU(e,t,r){return r===void 0&&(r="/"),sU(e,t,r)}function sU(e,t,r,n){let i=typeof t=="string"?Cf(t):t,a=GS(i.pathname||"/",r);if(a==null)return null;let s=tL(e);oU(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=bU(a);o=gU(s[l],c)}return o}function tL(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(sn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Rl([n,l.relativePath]),u=r.concat(l);a.children&&a.children.length>0&&(sn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),tL(a.children,t,u,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:pU(c,a.index),routesMeta:u})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of rL(a.path))i(a,s,l)}),t}function rL(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=rL(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function oU(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:mU(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const lU=/^:[\w-]+$/,cU=3,uU=2,dU=1,fU=10,hU=-2,Lk=e=>e==="*";function pU(e,t){let r=e.split("/"),n=r.length;return r.some(Lk)&&(n+=hU),t&&(n+=uU),r.filter(i=>!Lk(i)).reduce((i,a)=>i+(lU.test(a)?cU:a===""?dU:fU),n)}function mU(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function gU(e,t,r){let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",f=yU({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Rl([a,f.pathname]),pathnameBase:SU(Rl([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=Rl([a,f.pathnameBase]))}return s}function yU(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=vU(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:p,isOptional:h}=u;if(p==="*"){let g=o[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const y=o[f];return h&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:e}}function vU(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),eL(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function bU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return eL(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function GS(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function xU(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Cf(e):e;return{pathname:r?r.startsWith("/")?r:wU(r,t):t,search:jU(n),hash:NU(i)}}function wU(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function _x(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _U(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function KS(e,t){let r=_U(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function YS(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Cf(e):(i=Vp({},e),sn(!i.pathname||!i.pathname.includes("?"),_x("?","pathname","search",i)),sn(!i.pathname||!i.pathname.includes("#"),_x("#","pathname","hash",i)),sn(!i.search||!i.search.includes("#"),_x("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}o=f>=0?t[f]:"/"}let l=xU(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Rl=e=>e.join("/").replace(/\/\/+/g,"/"),SU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,NU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function AU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nL=["post","put","patch","delete"];new Set(nL);const kU=["get",...nL];new Set(kU);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gp.apply(this,arguments)}const XS=G.createContext(null),OU=G.createContext(null),Vl=G.createContext(null),h1=G.createContext(null),Fo=G.createContext({outlet:null,matches:[],isDataRoute:!1}),iL=G.createContext(null);function EU(e,t){let{relative:r}=t===void 0?{}:t;Tf()||sn(!1);let{basename:n,navigator:i}=G.useContext(Vl),{hash:a,pathname:s,search:o}=sL(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Rl([n,s])),i.createHref({pathname:l,search:o,hash:a})}function Tf(){return G.useContext(h1)!=null}function vu(){return Tf()||sn(!1),G.useContext(h1).location}function aL(e){G.useContext(Vl).static||G.useLayoutEffect(e)}function Ua(){let{isDataRoute:e}=G.useContext(Fo);return e?zU():PU()}function PU(){Tf()||sn(!1);let e=G.useContext(XS),{basename:t,future:r,navigator:n}=G.useContext(Vl),{matches:i}=G.useContext(Fo),{pathname:a}=vu(),s=JSON.stringify(KS(i,r.v7_relativeSplatPath)),o=G.useRef(!1);return aL(()=>{o.current=!0}),G.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=YS(c,JSON.parse(s),a,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Rl([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,s,a,e])}function zm(){let{matches:e}=G.useContext(Fo),t=e[e.length-1];return t?t.params:{}}function sL(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=G.useContext(Vl),{matches:i}=G.useContext(Fo),{pathname:a}=vu(),s=JSON.stringify(KS(i,n.v7_relativeSplatPath));return G.useMemo(()=>YS(e,JSON.parse(s),a,r==="path"),[e,s,a,r])}function CU(e,t){return TU(e,t)}function TU(e,t,r,n){Tf()||sn(!1);let{navigator:i}=G.useContext(Vl),{matches:a}=G.useContext(Fo),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=vu(),u;if(t){var f;let b=typeof t=="string"?Cf(t):t;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||sn(!1),u=b}else u=c;let p=u.pathname||"/",h=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=aU(e,{pathname:h}),g=MU(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Rl([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Rl([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return t&&g?G.createElement(h1.Provider,{value:{location:Gp({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:jl.Pop}},g):g}function IU(){let e=UU(),t=AU(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),r?G.createElement("pre",{style:i},r):null,null)}const LU=G.createElement(IU,null);class RU extends G.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?G.createElement(Fo.Provider,{value:this.props.routeContext},G.createElement(iL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $U(e){let{routeContext:t,match:r,children:n}=e,i=G.useContext(XS);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),G.createElement(Fo.Provider,{value:t},n)}function MU(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||sn(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:p,errors:h}=r,y=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,p)=>{let h,y=!1,g=null,b=null;r&&(h=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||LU,l&&(c<0&&p===0?(qU("route-fallback"),y=!0,b=null):c===p&&(y=!0,b=f.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,p+1)),w=()=>{let _;return h?_=g:y?_=b:f.route.Component?_=G.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=u,G.createElement($U,{match:f,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?G.createElement(RU,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var oL=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oL||{}),lL=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(lL||{});function DU(e){let t=G.useContext(XS);return t||sn(!1),t}function BU(e){let t=G.useContext(OU);return t||sn(!1),t}function FU(e){let t=G.useContext(Fo);return t||sn(!1),t}function cL(e){let t=FU(),r=t.matches[t.matches.length-1];return r.route.id||sn(!1),r.route.id}function UU(){var e;let t=G.useContext(iL),r=BU(),n=cL();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function zU(){let{router:e}=DU(oL.UseNavigateStable),t=cL(lL.UseNavigateStable),r=G.useRef(!1);return aL(()=>{r.current=!0}),G.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Gp({fromRouteId:t},a)))},[e,t])}const Rk={};function qU(e,t,r){Rk[e]||(Rk[e]=!0)}function WU(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function HU(e){let{to:t,replace:r,state:n,relative:i}=e;Tf()||sn(!1);let{future:a,static:s}=G.useContext(Vl),{matches:o}=G.useContext(Fo),{pathname:l}=vu(),c=Ua(),u=YS(t,KS(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return G.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:i}),[c,f,i,r,n]),null}function en(e){sn(!1)}function VU(e){let{basename:t="/",children:r=null,location:n,navigationType:i=jl.Pop,navigator:a,static:s=!1,future:o}=e;Tf()&&sn(!1);let l=t.replace(/^\/*/,"/"),c=G.useMemo(()=>({basename:l,navigator:a,static:s,future:Gp({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=Cf(n));let{pathname:u="/",search:f="",hash:p="",state:h=null,key:y="default"}=n,g=G.useMemo(()=>{let b=GS(u,l);return b==null?null:{location:{pathname:b,search:f,hash:p,state:h,key:y},navigationType:i}},[l,u,f,p,h,y,i]);return g==null?null:G.createElement(Vl.Provider,{value:c},G.createElement(h1.Provider,{children:r,value:g}))}function GU(e){let{children:t,location:r}=e;return CU($w(t),r)}new Promise(()=>{});function $w(e,t){t===void 0&&(t=[]);let r=[];return G.Children.forEach(e,(n,i)=>{if(!G.isValidElement(n))return;let a=[...t,i];if(n.type===G.Fragment){r.push.apply(r,$w(n.props.children,a));return}n.type!==en&&sn(!1),!n.props.index||!n.props.children||sn(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=$w(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mw.apply(this,arguments)}function KU(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function YU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XU(e,t){return e.button===0&&(!t||t==="_self")&&!YU(e)}const JU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ZU="6";try{window.__reactRouterVersion=ZU}catch{}const QU="startTransition",$k=W9[QU];function ez(e){let{basename:t,children:r,future:n,window:i}=e,a=G.useRef();a.current==null&&(a.current=rU({window:i,v5Compat:!0}));let s=a.current,[o,l]=G.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=G.useCallback(f=>{c&&$k?$k(()=>l(f)):l(f)},[l,c]);return G.useLayoutEffect(()=>s.listen(u),[s,u]),G.useEffect(()=>WU(n),[n]),G.createElement(VU,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const tz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uL=G.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,p=KU(t,JU),{basename:h}=G.useContext(Vl),y,g=!1;if(typeof c=="string"&&rz.test(c)&&(y=c,tz))try{let _=new URL(window.location.href),N=c.startsWith("//")?new URL(_.protocol+c):new URL(c),S=GS(N.pathname,h);N.origin===_.origin&&S!=null?c=S+N.search+N.hash:g=!0}catch{}let b=EU(c,{relative:i}),v=nz(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function w(_){n&&n(_),_.defaultPrevented||v(_)}return G.createElement("a",Mw({},p,{href:y||b,onClick:g||a?n:w,ref:r,target:l}))});var Mk;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Mk||(Mk={}));var Dk;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dk||(Dk={}));function nz(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=t===void 0?{}:t,l=Ua(),c=vu(),u=sL(e,{relative:s});return G.useCallback(f=>{if(XU(f,r)){f.preventDefault();let p=n!==void 0?n:Py(c)===Py(u);l(e,{replace:p,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,n,i,r,e,a,s,o])}var Dw=function(e,t){return Dw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Dw(e,t)};function dL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Dw(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Cy=function(){return Cy=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Cy.apply(this,arguments)};function If(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function fL(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(i<3?s(a):i>3?s(t,r,a):s(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function hL(e,t){return function(r,n){t(r,n,e)}}function pL(e,t,r,n,i,a){function s(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,p=!1,h=r.length-1;h>=0;h--){var y={};for(var g in n)y[g]=g==="access"?{}:n[g];for(var g in n.access)y.access[g]=n.access[g];y.addInitializer=function(v){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(v||null))};var b=(0,r[h])(o==="accessor"?{get:u.get,set:u.set}:u[l],y);if(o==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(f=s(b.get))&&(u.get=f),(f=s(b.set))&&(u.set=f),(f=s(b.init))&&i.unshift(f)}else(f=s(b))&&(o==="field"?i.unshift(f):u[l]=f)}c&&Object.defineProperty(c,n.name,u),p=!0}function mL(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function gL(e){return typeof e=="symbol"?e:"".concat(e)}function yL(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function vL(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function pt(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})}function bL(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(u){c=[6,u],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var p1=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function xL(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&p1(t,e,r)}function Ty(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function JS(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function wL(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(JS(arguments[t]));return e}function _L(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}function SL(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Yd(e){return this instanceof Yd?(this.v=e,this):new Yd(e)}function jL(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(y){return Promise.resolve(y).then(h,f)}}function o(h,y){n[h]&&(i[h]=function(g){return new Promise(function(b,v){a.push([h,g,b,v])>1||l(h,g)})},y&&(i[h]=y(i[h])))}function l(h,y){try{c(n[h](y))}catch(g){p(a[0][3],g)}}function c(h){h.value instanceof Yd?Promise.resolve(h.value.v).then(u,f):p(a[0][2],h)}function u(h){l("next",h)}function f(h){l("throw",h)}function p(h,y){h(y),a.shift(),a.length&&l(a[0][0],a[0][1])}}function NL(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(s){return(r=!r)?{value:Yd(e[i](s)),done:!1}:a?a(s):s}:a}}function AL(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ty=="function"?Ty(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(s){return new Promise(function(o,l){s=e[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}}function kL(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var iz=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Bw=function(e){return Bw=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Bw(e)};function OL(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Bw(e),n=0;n<r.length;n++)r[n]!=="default"&&p1(t,e,r[n]);return iz(t,e),t}function EL(e){return e&&e.__esModule?e:{default:e}}function PL(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function CL(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function TL(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function IL(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var az=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function LL(e){function t(a){e.error=e.hasError?new az(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(s){return t(s),i()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function RL(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,s){return n?t?".jsx":".js":i&&(!a||!s)?r:i+a+"."+s.toLowerCase()+"js"}):e}const sz={__extends:dL,__assign:Cy,__rest:If,__decorate:fL,__param:hL,__esDecorate:pL,__runInitializers:mL,__propKey:gL,__setFunctionName:yL,__metadata:vL,__awaiter:pt,__generator:bL,__createBinding:p1,__exportStar:xL,__values:Ty,__read:JS,__spread:wL,__spreadArrays:_L,__spreadArray:SL,__await:Yd,__asyncGenerator:jL,__asyncDelegator:NL,__asyncValues:AL,__makeTemplateObject:kL,__importStar:OL,__importDefault:EL,__classPrivateFieldGet:PL,__classPrivateFieldSet:CL,__classPrivateFieldIn:TL,__addDisposableResource:IL,__disposeResources:LL,__rewriteRelativeImportExtension:RL},oz=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:IL,get __assign(){return Cy},__asyncDelegator:NL,__asyncGenerator:jL,__asyncValues:AL,__await:Yd,__awaiter:pt,__classPrivateFieldGet:PL,__classPrivateFieldIn:TL,__classPrivateFieldSet:CL,__createBinding:p1,__decorate:fL,__disposeResources:LL,__esDecorate:pL,__exportStar:xL,__extends:dL,__generator:bL,__importDefault:EL,__importStar:OL,__makeTemplateObject:kL,__metadata:vL,__param:hL,__propKey:gL,__read:JS,__rest:If,__rewriteRelativeImportExtension:RL,__runInitializers:mL,__setFunctionName:yL,__spread:wL,__spreadArray:SL,__spreadArrays:_L,__values:Ty,default:sz},Symbol.toStringTag,{value:"Module"})),lz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class ZS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class cz extends ZS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Bk extends ZS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Fk extends ZS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Fw;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Fw||(Fw={}));class uz{constructor(t,{headers:r={},customFetch:n,region:i=Fw.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=lz(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return pt(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:o,method:l,body:c,signal:u,timeout:f}=n;let p={},{region:h}=n;h||(h=this.region);const y=new URL(`${this.url}/${r}`);h&&h!=="any"&&(p["x-region"]=h,y.searchParams.set("forceFunctionRegion",h));let g;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=c):typeof c=="string"?(p["Content-Type"]="text/plain",g=c):typeof FormData<"u"&&c instanceof FormData?g=c:(p["Content-Type"]="application/json",g=JSON.stringify(c)):g=c;let b=u;f&&(s=new AbortController,a=setTimeout(()=>s.abort(),f),u?(b=s.signal,u.addEventListener("abort",()=>s.abort())):b=s.signal);const v=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:g,signal:b}).catch(S=>{throw new cz(S)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new Bk(v);if(!v.ok)throw new Fk(v);let _=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),N;return _==="application/json"?N=yield v.json():_==="application/octet-stream"||_==="application/pdf"?N=yield v.blob():_==="text/event-stream"?N=v:_==="multipart/form-data"?N=yield v.formData():N=yield v.text(),{data:N,error:null,response:v}}catch(o){return{data:null,error:o,response:o instanceof Fk||o instanceof Bk?o.context:void 0}}finally{a&&clearTimeout(a)}})}}var hi={};const Lf=O9(oz);var i0={},a0={},s0={},o0={},l0={},c0={},Uk;function $L(){if(Uk)return c0;Uk=1,Object.defineProperty(c0,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return c0.default=e,c0}var zk;function ML(){if(zk)return l0;zk=1,Object.defineProperty(l0,"__esModule",{value:!0});const t=Lf.__importDefault($L());class r{constructor(i){var a,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,f,p;let h=null,y=null,g=null,b=l.status,v=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?y=S:y=JSON.parse(S))}const _=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),N=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&N&&N.length>1&&(g=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(h={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,g=null,b=406,v="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await l.text();try{h=JSON.parse(_),Array.isArray(h)&&l.status===404&&(y=[],h=null,b=200,v="OK")}catch{l.status===404&&_===""?(b=204,v="No Content"):h={message:_}}if(h&&this.isMaybeSingle&&(!((p=h==null?void 0:h.details)===null||p===void 0)&&p.includes("0 rows"))&&(h=null,b=200,v="OK"),h&&this.shouldThrowOnError)throw new t.default(h)}return{error:h,data:y,count:g,status:b,statusText:v}});return this.shouldThrowOnError||(o=o.catch(l=>{var c,u,f;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(u=l==null?void 0:l.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(f=l==null?void 0:l.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),o.then(i,a)}returns(){return this}overrideTypes(){return this}}return l0.default=r,l0}var qk;function DL(){if(qk)return o0;qk=1,Object.defineProperty(o0,"__esModule",{value:!0});const t=Lf.__importDefault(ML());class r extends t.default{select(i){let a=!1;const s=(i??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var u;const f=[i?"analyze":null,a?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return o0.default=r,o0}var Wk;function QS(){if(Wk)return s0;Wk=1,Object.defineProperty(s0,"__esModule",{value:!0});const t=Lf.__importDefault(DL()),r=new RegExp("[,()]");class n extends t.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${u}.${s}`),this}match(a){return Object.entries(a).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(a,s,o){return this.url.searchParams.append(a,`not.${s}.${o}`),this}or(a,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,s,o){return this.url.searchParams.append(a,`${s}.${o}`),this}}return s0.default=n,s0}var Hk;function BL(){if(Hk)return a0;Hk=1,Object.defineProperty(a0,"__esModule",{value:!0});const t=Lf.__importDefault(QS());class r{constructor(i,{headers:a={},schema:s,fetch:o}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=o}select(i,a){const{head:s=!1,count:o}=a??{},l=s?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",u),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var o;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:a}={}){var s;const o="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return a0.default=r,a0}var Vk;function dz(){if(Vk)return i0;Vk=1,Object.defineProperty(i0,"__esModule",{value:!0});const e=Lf,t=e.__importDefault(BL()),r=e.__importDefault(QS());class n{constructor(a,{headers:s={},schema:o,fetch:l}={}){this.url=a,this.headers=new Headers(s),this.schemaName=o,this.fetch=l}from(a){const s=new URL(`${this.url}/${a}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:o=!1,get:l=!1,count:c}={}){var u;let f;const p=new URL(`${this.url}/rpc/${a}`);let h;o||l?(f=o?"HEAD":"GET",Object.entries(s).filter(([g,b])=>b!==void 0).map(([g,b])=>[g,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([g,b])=>{p.searchParams.append(g,b)})):(f="POST",h=s);const y=new Headers(this.headers);return c&&y.set("Prefer",`count=${c}`),new r.default({method:f,url:p,headers:y,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return i0.default=n,i0}Object.defineProperty(hi,"__esModule",{value:!0});var FL=hi.PostgrestError=XL=hi.PostgrestBuilder=KL=hi.PostgrestTransformBuilder=VL=hi.PostgrestFilterBuilder=WL=hi.PostgrestQueryBuilder=zL=hi.PostgrestClient=void 0;const Rf=Lf,UL=Rf.__importDefault(dz());var zL=hi.PostgrestClient=UL.default;const qL=Rf.__importDefault(BL());var WL=hi.PostgrestQueryBuilder=qL.default;const HL=Rf.__importDefault(QS());var VL=hi.PostgrestFilterBuilder=HL.default;const GL=Rf.__importDefault(DL());var KL=hi.PostgrestTransformBuilder=GL.default;const YL=Rf.__importDefault(ML());var XL=hi.PostgrestBuilder=YL.default;const JL=Rf.__importDefault($L());FL=hi.PostgrestError=JL.default;var ZL=hi.default={PostgrestClient:UL.default,PostgrestQueryBuilder:qL.default,PostgrestFilterBuilder:HL.default,PostgrestTransformBuilder:GL.default,PostgrestBuilder:YL.default,PostgrestError:JL.default};const fz=UC({__proto__:null,get PostgrestBuilder(){return XL},get PostgrestClient(){return zL},get PostgrestError(){return FL},get PostgrestFilterBuilder(){return VL},get PostgrestQueryBuilder(){return WL},get PostgrestTransformBuilder(){return KL},default:ZL},[hi]),{PostgrestClient:hz,PostgrestQueryBuilder:xje,PostgrestFilterBuilder:wje,PostgrestTransformBuilder:_je,PostgrestBuilder:Sje,PostgrestError:jje}=ZL||fz;class pz{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const mz="2.81.0",gz=`realtime-js/${mz}`,QL="1.0.0",yz="2.0.0",Gk=QL,Uw=1e4,vz=1e3,bz=100;var $c;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($c||($c={}));var Sn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Sn||(Sn={}));var Aa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Aa||(Aa={}));var zw;(function(e){e.websocket="websocket"})(zw||(zw={}));var Mc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Mc||(Mc={}));class xz{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){const{join_ref:r,ref:n,event:i,topic:a,payload:s}=t,o=this.META_LENGTH+r.length+n.length+a.length+i.length,l=new ArrayBuffer(this.HEADER_LENGTH+o);let c=new DataView(l),u=0;c.setUint8(u++,this.KINDS.push),c.setUint8(u++,r.length),c.setUint8(u++,n.length),c.setUint8(u++,a.length),c.setUint8(u++,i.length),Array.from(r,p=>c.setUint8(u++,p.charCodeAt(0))),Array.from(n,p=>c.setUint8(u++,p.charCodeAt(0))),Array.from(a,p=>c.setUint8(u++,p.charCodeAt(0))),Array.from(i,p=>c.setUint8(u++,p.charCodeAt(0)));var f=new Uint8Array(l.byteLength+s.byteLength);return f.set(new Uint8Array(l),0),f.set(new Uint8Array(s),l.byteLength),f.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const{join_ref:i,ref:a,topic:s}=t,o=t.payload.event,l=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),c=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+s.length+o.length,u=new ArrayBuffer(this.HEADER_LENGTH+c);let f=new DataView(u),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,i.length),f.setUint8(p++,a.length),f.setUint8(p++,s.length),f.setUint8(p++,o.length),f.setUint8(p++,this.BINARY_ENCODING),Array.from(i,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(a,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(s,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(o,y=>f.setUint8(p++,y.charCodeAt(0)));var h=new Uint8Array(u.byteLength+l.byteLength);return h.set(new Uint8Array(u),0),h.set(new Uint8Array(l),u.byteLength),h.buffer}_encodeJsonUserBroadcastPush(t){var r,n;const{join_ref:i,ref:a,topic:s}=t,o=t.payload.event,l=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},u=new TextEncoder().encode(JSON.stringify(l)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+s.length+o.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let h=new DataView(p),y=0;h.setUint8(y++,this.KINDS.userBroadcastPush),h.setUint8(y++,i.length),h.setUint8(y++,a.length),h.setUint8(y++,s.length),h.setUint8(y++,o.length),h.setUint8(y++,this.JSON_ENCODING),Array.from(i,b=>h.setUint8(y++,b.charCodeAt(0))),Array.from(a,b=>h.setUint8(y++,b.charCodeAt(0))),Array.from(s,b=>h.setUint8(y++,b.charCodeAt(0))),Array.from(o,b=>h.setUint8(y++,b.charCodeAt(0)));var g=new Uint8Array(p.byteLength+u.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(u),p.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,s,o,l]=n;return r({join_ref:i,ref:a,topic:s,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,i);case this.KINDS.reply:return this._decodeReply(t,r,i);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodePush(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3);let o=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(t.slice(o,o+i));o=o+i;const c=n.decode(t.slice(o,o+a));o=o+a;const u=n.decode(t.slice(o,o+s));o=o+s;const f=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{join_ref:l,ref:null,topic:c,event:u,payload:f}}_decodeReply(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const c=n.decode(t.slice(l,l+i));l=l+i;const u=n.decode(t.slice(l,l+a));l=l+a;const f=n.decode(t.slice(l,l+s));l=l+s;const p=n.decode(t.slice(l,l+o));l=l+o;const h=JSON.parse(n.decode(t.slice(l,t.byteLength))),y={status:p,response:h};return{join_ref:c,ref:u,topic:f,event:Aa.reply,payload:y}}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+i));s=s+i;const l=n.decode(t.slice(s,s+a));s=s+a;const c=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{join_ref:null,ref:null,topic:o,event:l,payload:c}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+i));l=l+i;const u=n.decode(t.slice(l,l+a));l=l+a;const f=n.decode(t.slice(l,l+s));l=l+s;const p=t.slice(l,t.byteLength),h=o===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,y={type:this.BROADCAST,event:u,payload:h};return s>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class e8{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(wr||(wr={}));const Kk=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=wz(s,e,t,i),a),{}):{}},wz=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?t8(a,s):qw(s)},t8=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Nz(t,r)}switch(e){case wr.bool:return _z(t);case wr.float4:case wr.float8:case wr.int2:case wr.int4:case wr.int8:case wr.numeric:case wr.oid:return Sz(t);case wr.json:case wr.jsonb:return jz(t);case wr.timestamp:return Az(t);case wr.abstime:case wr.date:case wr.daterange:case wr.int4range:case wr.int8range:case wr.money:case wr.reltime:case wr.text:case wr.time:case wr.timestamptz:case wr.timetz:case wr.tsrange:case wr.tstzrange:return qw(t);default:return qw(t)}},qw=e=>e,_z=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Sz=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},jz=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Nz=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>t8(t,o))}return e},Az=e=>typeof e=="string"?e.replace(" ","T"):e,r8=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Sx{constructor(t,r,n={},i=Uw){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Yk;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Yk||(Yk={}));class pp{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pp.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=pp.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=pp.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(a,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const f=a[c];if(f){const p=u.map(b=>b.presence_ref),h=f.map(b=>b.presence_ref),y=u.filter(b=>h.indexOf(b.presence_ref)<0),g=f.filter(b=>p.indexOf(b.presence_ref)<0);y.length>0&&(o[c]=y),g.length>0&&(l[c]=g)}else o[c]=u}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var c;const u=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),u.length>0){const f=t[o].map(h=>h.presence_ref),p=u.filter(h=>f.indexOf(h.presence_ref)<0);t[o].unshift(...p)}n(o,u,l)}),this.map(s,(o,l)=>{let c=t[o];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[o]=c,i(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Xk||(Xk={}));var mp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(mp||(mp={}));var mo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mo||(mo={}));class ej{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Sn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Sx(this,Aa.join,this.params,this.timeout),this.rejoinTimer=new e8(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Sn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Sn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Sn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Sn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Sn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Aa.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new pp(this),this.broadcastEndpointURL=r8(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Sn.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[mp.PRESENCE]&&this.bindings[mp.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},p={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(mo.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(mo.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var y;if(this.socket.setAuth(),h===void 0){t==null||t(mo.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,b=(y=g==null?void 0:g.length)!==null&&y!==void 0?y:0,v=[];for(let w=0;w<b;w++){const _=g[w],{filter:{event:N,schema:S,table:j,filter:P}}=_,C=h&&h[w];if(C&&C.event===N&&C.schema===S&&C.table===j&&C.filter===P)v.push(Object.assign(Object.assign({},_),{id:C.id}));else{this.unsubscribe(),this.state=Sn.errored,t==null||t(mo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(mo.SUBSCRIBED);return}}).receive("error",h=>{this.state=Sn.errored,t==null||t(mo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Sn.joined&&t===mp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Sn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Aa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Sx(this,Aa.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Sn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Sx(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>bz){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=Aa;if(n&&[o,l,c,u].indexOf(s)>=0&&n!==this._joinRef())return;let p=this._onMessage(s,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var y,g,b;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(g=h.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(h=>h.callback(p,n)):(a=this.bindings[s])===null||a===void 0||a.filter(h=>{var y,g,b,v,w,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const N=h.id,S=(y=h.filter)===null||y===void 0?void 0:y.event;return N&&((g=r.ids)===null||g===void 0?void 0:g.includes(N))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const N=(w=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return N==="*"||N===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:g,table:b,commit_timestamp:v,type:w,errors:_}=y;p=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:v,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(y))}h.callback(p,n)})}_isClosed(){return this.state===Sn.closed}_isJoined(){return this.state===Sn.joined}_isJoining(){return this.state===Sn.joining}_isLeaving(){return this.state===Sn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&ej.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Aa.close,{},t)}_onError(t){this._on(Aa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Sn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Kk(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Kk(t.columns,t.old_record)),r}}const jx=()=>{},u0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kz=[1e3,2e3,5e3,1e4],Oz=1e4,Ez=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Pz{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uw,this.transport=null,this.heartbeatIntervalMs=u0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jx,this.ref=0,this.reconnectTimer=null,this.vsn=Gk,this.logger=jx,this.conn=null,this.sendBuffer=[],this.serializer=new xz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${zw.websocket}`,this.httpEndpoint=r8(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=pz.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $c.connecting:return Mc.Connecting;case $c.open:return Mc.Open;case $c.closing:return Mc.Closing;default:return Mc.Closed}}isConnected(){return this.connectionState()===Mc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new ej(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(vz,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},u0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===$c.open||this.conn.readyState===$c.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Aa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Ez],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:gz};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Aa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new e8(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},u0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,o,l,c,u,f,p,h;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Uw,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:u0.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:jx,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Gk,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:y=>kz[y-1]||Oz,this.vsn){case QL:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(y,g)=>g(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,g)=>g(JSON.parse(y));break;case yz:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class tj extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Dr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Cz extends tj{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ww extends tj{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const rj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Tz=()=>Response,Hw=e=>{if(Array.isArray(e))return e.map(r=>Hw(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Hw(n)}),t},Iz=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Nx=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Lz=(e,t,r)=>pt(void 0,void 0,void 0,function*(){const n=yield Tz();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new Cz(Nx(i),a,s))}).catch(i=>{t(new Ww(Nx(i),i))}):t(new Ww(Nx(e),e))}),Rz=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(Iz(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function qm(e,t,r,n,i,a){return pt(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,Rz(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>Lz(l,o,n))})})}function Kp(e,t,r,n){return pt(this,void 0,void 0,function*(){return qm(e,"GET",t,r,n)})}function is(e,t,r,n,i){return pt(this,void 0,void 0,function*(){return qm(e,"POST",t,n,i,r)})}function Vw(e,t,r,n,i){return pt(this,void 0,void 0,function*(){return qm(e,"PUT",t,n,i,r)})}function $z(e,t,r,n){return pt(this,void 0,void 0,function*(){return qm(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function nj(e,t,r,n,i){return pt(this,void 0,void 0,function*(){return qm(e,"DELETE",t,n,i,r)})}class Mz{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return pt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Dr(t))return{data:null,error:t};throw t}})}}var n8;class Dz{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[n8]="BlobDownloadBuilder",this.promise=null}asStream(){return new Mz(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return pt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Dr(t))return{data:null,error:t};throw t}})}}n8=Symbol.toStringTag;const Bz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Fz{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=rj(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return pt(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},Jk),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),f=yield(t=="PUT"?Vw:is)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Dr(a))return{data:null,error:a};throw a}})}upload(t,r,n){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return pt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Jk.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield Vw(this.fetch,o.toString(),l,{headers:u});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Dr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return pt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield is(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new tj("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dr(n))return{data:null,error:n};throw n}})}update(t,r,n){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return pt(this,void 0,void 0,function*(){try{return{data:yield is(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return pt(this,void 0,void 0,function*(){try{return{data:{path:(yield is(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return pt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield is(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return pt(this,void 0,void 0,function*(){try{const i=yield is(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dr(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"",o=this._getFinalPath(t),l=()=>Kp(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new Dz(l,this.shouldThrowOnError)}info(t){return pt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Kp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Hw(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dr(n))return{data:null,error:n};throw n}})}exists(t){return pt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield $z(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dr(n)&&n instanceof Ww){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return pt(this,void 0,void 0,function*(){try{return{data:yield nj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}list(t,r,n){return pt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Bz),r),{prefix:t||""});return{data:yield is(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dr(i))return{data:null,error:i};throw i}})}listV2(t,r){return pt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield is(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const i8="2.81.0",a8={"X-Client-Info":`storage-js/${i8}`};class Uz{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},a8),r),this.fetch=rj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return pt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Kp(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}getBucket(t){return pt(this,void 0,void 0,function*(){try{return{data:yield Kp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}createBucket(t){return pt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield is(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dr(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return pt(this,void 0,void 0,function*(){try{return{data:yield Vw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return pt(this,void 0,void 0,function*(){try{return{data:yield is(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return pt(this,void 0,void 0,function*(){try{return{data:yield nj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class zz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},a8),r),this.fetch=rj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return pt(this,void 0,void 0,function*(){try{return{data:yield is(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}listBuckets(t){return pt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Kp(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return pt(this,void 0,void 0,function*(){try{return{data:yield nj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}}const ij={"X-Client-Info":`storage-js/${i8}`,"Content-Type":"application/json"};class s8 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ta(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Ax extends s8{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qz extends s8{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Zk;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Zk||(Zk={}));const aj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Wz=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qk=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Hz=(e,t,r)=>pt(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";t(new Ax(Qk(s),i,o))}).catch(()=>{const s=i+"",o=a.statusText||`HTTP ${i} error`;t(new Ax(o,i,s))});else{const s=i+"",o=a.statusText||`HTTP ${i} error`;t(new Ax(o,i,s))}}else t(new qz(Qk(e),e))}),Vz=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Wz(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function Gz(e,t,r,n,i,a){return pt(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,Vz(t,n,i,a)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>Hz(l,o,n))})})}function ra(e,t,r,n,i){return pt(this,void 0,void 0,function*(){return Gz(e,"POST",t,n,i,r)})}class Kz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ij),r),this.fetch=aj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return pt(this,void 0,void 0,function*(){try{return{data:(yield ra(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}getIndex(t,r){return pt(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}listIndexes(t){return pt(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return pt(this,void 0,void 0,function*(){try{return{data:(yield ra(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}}class Yz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ij),r),this.fetch=aj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return pt(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ra(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}getVectors(t){return pt(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}listVectors(t){return pt(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ra(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}queryVectors(t){return pt(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}deleteVectors(t){return pt(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ra(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}}class Xz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ij),r),this.fetch=aj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return pt(this,void 0,void 0,function*(){try{return{data:(yield ra(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}getBucket(t){return pt(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}listBuckets(){return pt(this,arguments,void 0,function*(t={}){try{return{data:yield ra(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}deleteBucket(t){return pt(this,void 0,void 0,function*(){try{return{data:(yield ra(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ta(r))return{data:null,error:r};throw r}})}}class Jz extends Xz{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Zz(this.url,this.headers,t,this.fetch)}}class Zz extends Kz{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return pt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return pt(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return pt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return pt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Qz(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Qz extends Yz{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return pt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return pt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return pt(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return pt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return pt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class eq extends Uz{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new Fz(this.url,this.headers,t,this.fetch)}get vectors(){return new Jz(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new zz(this.url+"/iceberg",this.headers,this.fetch)}}const tq="2.81.0";let rp="";typeof Deno<"u"?rp="deno":typeof document<"u"?rp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rp="react-native":rp="node";const rq={"X-Client-Info":`supabase-js-${rp}/${tq}`},nq={headers:rq},iq={schema:"public"},aq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sq={},oq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lq=()=>Headers,cq=(e,t,r)=>{const n=oq(r),i=lq();return async(a,s)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:c}))}};function uq(e){return e.endsWith("/")?e:e+"/"}function dq(e,t){var r,n;const{db:i,auth:a,realtime:s,global:o}=e,{db:l,auth:c,realtime:u,global:f}=t,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function fq(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(uq(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const o8="2.81.0",rd=30*1e3,Gw=3,kx=Gw*rd,hq="http://localhost:9999",pq="supabase.auth.token",mq={"X-Client-Info":`gotrue-js/${o8}`},Kw="X-Supabase-Api-Version",l8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yq=10*60*1e3;class Yp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function bt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class vq extends Yp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function bq(e){return bt(e)&&e.name==="AuthApiError"}class Dc extends Yp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Gl extends Yp{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class ts extends Gl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xq(e){return bt(e)&&e.name==="AuthSessionMissingError"}class qu extends Gl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class d0 extends Gl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class f0 extends Gl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wq(e){return bt(e)&&e.name==="AuthImplicitGrantRedirectError"}class e4 extends Gl{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yw extends Gl{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ox(e){return bt(e)&&e.name==="AuthRetryableFetchError"}class t4 extends Gl{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Xw extends Gl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Iy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),r4=` 	
\r=`.split(""),_q=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<r4.length;t+=1)e[r4[t].charCodeAt(0)]=-2;for(let t=0;t<Iy.length;t+=1)e[Iy[t].charCodeAt(0)]=t;return e})();function n4(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Iy[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Iy[n]),t.queuedBits-=6}}function c8(e,t,r){const n=_q[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function i4(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{Nq(s,n,r)};for(let s=0;s<e.length;s+=1)c8(e.charCodeAt(s),i,a);return t.join("")}function Sq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jq(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Sq(n,t)}}function Nq(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Cd(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)c8(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Aq(e){const t=[];return jq(e,r=>t.push(r)),new Uint8Array(t)}function Hc(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>n4(i,r,n)),n4(null,r,n),t.join("")}function kq(e){return Math.round(Date.now()/1e3)+e}function Oq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ri=()=>typeof window<"u"&&typeof document<"u",jc={tested:!1,writable:!1},u8=()=>{if(!ri())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jc.tested)return jc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),jc.tested=!0,jc.writable=!0}catch{jc.tested=!0,jc.writable=!1}return jc.writable};function Eq(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const d8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Pq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",nd=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Nc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},cl=async(e,t)=>{await e.removeItem(t)};class m1{constructor(){this.promise=new m1.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}m1.promiseConstructor=Promise;function Ex(e){const t=e.split(".");if(t.length!==3)throw new Xw("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!gq.test(t[n]))throw new Xw("JWT not in base64url format");return{header:JSON.parse(i4(t[0])),payload:JSON.parse(i4(t[1])),signature:Cd(t[2]),raw:{header:t[0],payload:t[1]}}}async function Cq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Tq(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function Iq(e){return("0"+e.toString(16)).substr(-2)}function Lq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Iq).join("")}async function Rq(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function $q(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Rq(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wu(e,t,r=!1){const n=Lq();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await nd(e,`${t}-code-verifier`,i);const a=await $q(n);return[a,n===a?"plain":"s256"]}const Mq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Dq(e){const t=e.headers.get(Kw);if(!t||!t.match(Mq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Bq(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Fq(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Uq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hu(e){if(!Uq.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Px(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zq(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function a4(e){return JSON.parse(JSON.stringify(e))}const Cc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qq=[502,503,504];async function s4(e){var t;if(!Pq(e))throw new Yw(Cc(e),0);if(qq.includes(e.status))throw new Yw(Cc(e),e.status);let r;try{r=await e.json()}catch(a){throw new Dc(Cc(a),a)}let n;const i=Dq(e);if(i&&i.getTime()>=l8["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new t4(Cc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ts}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new t4(Cc(r),e.status,r.weak_password.reasons);throw new vq(Cc(r),e.status||500,n)}const Wq=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function jt(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Kw]||(a[Kw]=l8["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await Hq(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Hq(e,t,r,n,i,a){const s=Wq(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new Yw(Cc(l),0)}if(o.ok||await s4(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await s4(l)}}function rs(e){var t;let r=null;Kq(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=kq(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function o4(e){const t=rs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function bl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Vq(e){return{data:e,error:null}}function Gq(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=If(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function l4(e){return e}function Kq(e){return e.access_token&&e.refresh_token&&e.expires_in}const Cx=["global","local","others"];class Yq{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=d8(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Cx[0]){if(Cx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cx.join(", ")}`);try{return await jt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await jt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:bl})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=If(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await jt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Gq,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(bt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await jt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bl})}catch(r){if(bt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await jt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:l4});if(u.error)throw u.error;const f=await u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(bt(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Hu(t);try{return await jt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bl})}catch(r){if(bt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Hu(t);try{return await jt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:bl})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Hu(t);try{return await jt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:bl})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Hu(t.userId);try{const{data:r,error:n}=await jt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(bt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Hu(t.userId),Hu(t.id);try{return{data:await jt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await jt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:l4});if(u.error)throw u.error;const f=await u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(bt(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await jt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(bt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await jt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(bt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await jt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await jt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await jt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(bt(r))return{data:null,error:r};throw r}}}function c4(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Vu={debug:!!(globalThis&&u8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class f8 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Xq extends f8{}async function Jq(e,t,r){Vu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Vu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Vu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Vu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Vu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Xq(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Zq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function h8(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Qq(e){return parseInt(e,16)}function eW(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function tW(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:l,resources:c,scheme:u,uri:f,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=h8(e.address),y=u?`${u}://${n}`:n,g=e.statement?`${e.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${h}

${g}`;let v=`URI: ${f}
Version: ${p}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),o&&(v+=`
Not Before: ${o.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const _ of c){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}v+=w}return`${b}
${v}`}class fn extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Ly extends fn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function rW({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new fn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new fn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new fn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new fn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new fn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new fn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new fn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new fn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(p8(s)){if(a.rp.id!==s)return new fn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new fn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new fn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new fn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new fn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function nW({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new fn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new fn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(p8(n)){if(r.rpId!==n)return new fn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new fn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new fn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new fn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class iW{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const aW=new iW;function sW(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=If(e,["challenge","user","excludeCredentials"]),a=Cd(t).buffer,s=Object.assign(Object.assign({},r),{id:Cd(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Cd(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function oW(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=If(e,["challenge","allowCredentials"]),i=Cd(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:Cd(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function lW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Hc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Hc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Hc(new Uint8Array(i.authenticatorData)),clientDataJSON:Hc(new Uint8Array(i.clientDataJSON)),signature:Hc(new Uint8Array(i.signature)),userHandle:i.userHandle?Hc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function p8(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function u4(){var e,t;return!!(ri()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function uW(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ly("Browser returned unexpected credential type",t)}:{data:null,error:new Ly("Empty credential response",t)}}catch(t){return{data:null,error:rW({error:t,options:e})}}}async function dW(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ly("Browser returned unexpected credential type",t)}:{data:null,error:new Ly("Empty credential response",t)}}catch(t){return{data:null,error:nW({error:t,options:e})}}}const fW={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hW={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ry(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(t(s)){const o=n[a];t(o)?n[a]=Ry(o,s):n[a]=Ry(s)}else n[a]=s}return n}function pW(e,t){return Ry(fW,e,t||{})}function mW(e,t){return Ry(hW,e,t||{})}class gW{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const l=i??aW.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=pW(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:u,error:f}=await uW({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}case"request":{const c=mW(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:u,error:f}=await dW(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}}}catch(s){return bt(s)?{data:null,error:s}:{data:null,error:new Dc("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Yp("rpId is required for WebAuthn authentication")};try{if(!u4())return{data:null,error:new Dc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return bt(s)?{data:null,error:s}:{data:null,error:new Dc("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Yp("rpId is required for WebAuthn registration")};try{if(!u4())return{data:null,error:new Dc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(u=>{var f;return(f=u.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(s){return bt(s)?{data:null,error:s}:{data:null,error:new Dc("Unexpected error in register",s)}}}}Zq();const yW={url:hq,storageKey:pq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function d4(e,t,r){return await r()}const Gu={};class Xp{get jwks(){var t,r;return(r=(t=Gu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Gu[this.storageKey]=Object.assign(Object.assign({},Gu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Gu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Gu[this.storageKey]=Object.assign(Object.assign({},Gu[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},yW),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Xp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Xp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&ri()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Yq({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=d8(a.fetch),this.lock=a.lock||d4,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:ri()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Jq:this.lock=d4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gW(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:u8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=c4(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=c4(this.memoryStorage)),ri()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${o8}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(ri()&&(r=Eq(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ri()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),wq(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return bt(r)?this._returnResult({error:r}):this._returnResult({error:new Dc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:rs}),{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(bt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:u,password:f,options:p}=t;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await Wu(this.storage,this.storageKey)),a=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:y},xform:rs})}else if("phone"in t){const{phone:u,password:f,options:p}=t;a=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:rs})}else throw new d0("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(bt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:o4})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:o4})}else throw new d0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new qu;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(bt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,s,o,l,c,u,f,p;let h,y;if("message"in t)h=t.message,y=t.signature;else{const{chain:g,wallet:b,statement:v,options:w}=t;let _;if(ri())if(typeof b=="object")_=b;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")_=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const N=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=h8(S[0]);let P=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const L=await _.request({method:"eth_chainId"});P=Qq(L)}const C={domain:N.host,address:j,statement:v,uri:N.href,version:"1",chainId:P,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.resources};h=tW(C),y=await _.request({method:"personal_sign",params:[eW(h),j]})}try{const{data:g,error:b}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:rs});if(b)throw b;if(!g||!g.session||!g.user){const v=new qu;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:b})}catch(g){if(bt(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,i,a,s,o,l,c,u,f,p,h;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:b,wallet:v,statement:w,options:_}=t;let N;if(ri())if(typeof v=="object")N=v;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))N=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=v}const S=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const j=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let P;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")P=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)P=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)y=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),g=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(u=_==null?void 0:_.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const j=await N.signMessage(new TextEncoder().encode(y),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=j}}try{const{data:b,error:v}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Hc(g)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:rs});if(v)throw v;if(!b||!b.session||!b.user){const w=new qu;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:v})}catch(b){if(bt(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await Nc(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:rs});if(await cl(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const o=new qu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(bt(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:rs}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new qu;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(bt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Wu(this.storage,this.storageKey));const{error:f}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:u}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new d0("You must provide either an email or phone number.")}catch(o){if(bt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await jt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:rs});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(bt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;this.flowType==="pkce"&&([a,s]=await Wu(this.storage,this.storageKey));const o=await jt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:Vq});return this._returnResult(o)}catch(a){if(bt(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ts;const{error:i}=await jt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(bt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await jt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await jt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new d0("You must provide either an email or phone number and a type")}catch(r){if(bt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Nc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<kx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Nc(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Px()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=zq(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bl}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ts}:await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:bl})})}catch(r){if(bt(r))return xq(r)&&(await this._removeSession(),await cl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new ts;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Wu(this.storage,this.storageKey));const{data:c,error:u}=await jt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:bl});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(bt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ts;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Ex(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(bt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ts;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(bt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ri())throw new f0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new f0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new e4("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new f0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new e4("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=t;if(!a||!o||!s||!c)throw new f0("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let p=u+f;l&&(p=parseInt(l));const h=p-u;h*1e3<=rd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const y=p-f;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,u);const{data:g,error:b}=await this._getUser(a);if(b)throw b;const v={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:p,refresh_token:s,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(bt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Nc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(bq(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await cl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Oq(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Wu(this.storage,this.storageKey,!0));try{return await jt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(bt(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,c,u;const{data:f,error:p}=a;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await jt(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return ri()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(bt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:o,token:l,access_token:c,nonce:u}=t,f=await jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:rs}),{data:p,error:h}=f;return h?this._returnResult({data:{user:null,session:null},error:h}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new qu}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:h}))}catch(i){if(bt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await jt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Tq(async i=>(i>0&&await Cq(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await jt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rs})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Ox(a)&&Date.now()+s-n<rd})}catch(n){if(this._debug(r,"error",n),bt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ri()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Nc(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Nc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await nd(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Px()}else if(i&&!i.user&&!i.user){const s=await Nc(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await cl(this.storage,this.storageKey+"-user"),await nd(this.storage,this.storageKey,i)):i.user=Px()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<kx;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${kx}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Ox(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ts;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new m1;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new ts;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),bt(a)){const s={data:null,error:a};return Ox(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await nd(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=a4(i);await nd(this.storage,this.storageKey,a)}else{const i=a4(r);await nd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await cl(this.storage,this.storageKey),await cl(this.storage,this.storageKey+"-code-verifier"),await cl(this.storage,this.storageKey+"-user"),this.userStorage&&await cl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ri()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),rd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/rd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${rd}ms, refresh threshold is ${Gw} ticks`),i<=Gw&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof f8)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ri()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Wu(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await jt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await jt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?lW(t.webauthn.credential_response):cW(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await jt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await jt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:sW(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:oW(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ex(n.access_token);let s=null;a.aal&&(s=a.aal);let o=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const c=a.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await jt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ts})})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ts});const s=await jt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&ri()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ts});const s=await jt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&ri()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+yq>i)return n;const{data:a,error:s}=await jt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:y}=await this.getSession();if(y||!h.session)return this._returnResult({data:null,error:y});n=h.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=Ex(n);r!=null&&r.allowExpired||Bq(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:s},error:null}}const u=Fq(i.alg),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,Aq(`${o}.${l}`)))throw new Xw("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}}Xp.nextInstanceID={};const vW=Xp;class bW extends vW{constructor(t){super(t)}}class xW{constructor(t,r,n){var i,a,s;this.supabaseUrl=t,this.supabaseKey=r;const o=fq(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:iq,realtime:sq,auth:Object.assign(Object.assign({},aq),{storageKey:l}),global:nq},u=dq(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=cq(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new hz(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new eq(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new uz(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:l,debug:c,throwOnError:u},f,p){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bW({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),f),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Pz(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wW=(e,t,r)=>new xW(e,t,r);function _W(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}_W()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const SW="https://kivcusfsppjyalbgqtxy.supabase.co",jW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpdmN1c2ZzcHBqeWFsYmdxdHh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NjI2NjYsImV4cCI6MjA3ODQzODY2Nn0.DMugE2X3gBvcRBXt-NqWceWQB2Vmi9kbavEE6MEjAmI",Ie=wW(SW,jW);async function sj(){try{const{error:e}=await Ie.auth.signOut();e&&console.error("Sign out error:",e)}catch(e){console.error("Sign out exception:",e)}window.location.href="/"}async function NW(){const{data:e,error:t}=await Ie.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(t)throw t;return e}function AW({onAuthSuccess:e}){const[t,r]=G.useState(!1),[n,i]=G.useState(""),[a,s]=G.useState(""),[o,l]=G.useState(""),[c,u]=G.useState("student"),[f,p]=G.useState([]),[h,y]=G.useState([]),[g,b]=G.useState(!1),[v,w]=G.useState(!1),[_,N]=G.useState(!1),[S,j]=G.useState(null),[P,C]=G.useState(null);G.useEffect(()=>{t&&c==="student"&&L()},[t,c]);const L=async()=>{b(!0);try{const{data:E,error:$}=await Ie.from("cohorts").select("id, name, description").order("name");if($)throw $;y(E||[])}catch(E){console.error("Error loading cohorts:",E)}finally{b(!1)}},F=async()=>{N(!0),j(null),C(null);try{await NW()}catch(E){j(E.message||"Failed to sign in with Google. Please try again."),N(!1)}},k=async E=>{E.preventDefault(),w(!0),j(null),C(null);try{if(t){const{data:$,error:M}=await Ie.auth.signUp({email:n,password:a,options:{data:{name:o,role:c},emailRedirectTo:window.location.origin}});if(M)throw M;if($.user&&!$.session){const B=c==="student"&&f.length>0?" After confirming your email, please join your selected cohorts from your profile page.":"";C(`Confirmation email sent to ${n}! Please check your inbox and click the confirmation link to activate your account.${B}`),w(!1),i(""),s(""),l(""),u("student"),p([]);return}if($.user){let B=!1,q=0;const J=5;for(;!B&&q<J;){await new Promise(D=>setTimeout(D,500));const{data:W,error:Z}=await Ie.from("users").select("id").eq("id",$.user.id).single();if(W&&!Z)B=!0;else if(Z&&Z.code==="PGRST116"){const{error:D}=await Ie.from("users").insert({id:$.user.id,name:o,email:n,role:c});D||(B=!0)}q++}B||console.error("User record was not created after signup")}if($.session&&$.user){if(c==="student"&&f.length>0){await new Promise(q=>setTimeout(q,1e3));const{error:B}=await Ie.from("users").select("id").eq("id",$.user.id).single();if(B)console.error("Cannot add cohorts: User record not found",B),j("Account created but failed to join cohorts. Please join them from your profile.");else{const q=f.map(Z=>({cohort_id:Z,student_id:$.user.id})),{data:J,error:W}=await Ie.from("cohort_members").insert(q).select();W?(console.error("Error adding student to cohorts:",W),j(`Account created but failed to join some cohorts: ${W.message}. Please join them from your profile.`)):J&&console.log("Successfully added student to cohorts:",J)}}e()}}else{const{error:$}=await Ie.auth.signInWithPassword({email:n,password:a});if($)throw $;e()}}catch($){j($.message||"An error occurred"),w(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-primary-50 to-gray-100 px-4 py-8",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 md:p-10 w-full max-w-md border-2 border-gray-200",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-16 md:h-20 w-auto object-contain"})}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Kaya CBDC V-OSCE"}),d.jsx("p",{className:"text-gray-600 mt-2 text-sm md:text-base",children:"Yashwant Ayurvedic College"})]}),d.jsx("button",{type:"button",onClick:F,disabled:_||v,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-300 text-gray-700 py-3 px-6 rounded-xl hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:opacity-50 font-medium text-base md:text-lg shadow-md transition-all transform hover:scale-[1.02] mb-4",children:_?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("span",{children:"Connecting..."})]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),d.jsx("span",{children:"Sign in with Google"})]})}),d.jsxs("div",{className:"relative my-6",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-300"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),d.jsxs("form",{onSubmit:k,className:"space-y-4",children:[t&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),d.jsx("input",{type:"text",value:o,onChange:E=>l(E.target.value),required:t,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),d.jsxs("select",{value:c,onChange:E=>{u(E.target.value),p([])},required:t,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 bg-white",children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),c==="student"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Cohorts (Optional)"}),g?d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 p-3 bg-gray-50 rounded-md",children:[d.jsxs("svg",{className:"animate-spin h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("span",{children:"Loading cohorts..."})]}):h.length===0?d.jsx("div",{className:"text-sm text-gray-600 p-3 bg-gray-50 border border-gray-200 rounded-md",children:"No cohorts available. You can join cohorts later from your profile settings."}):d.jsx("div",{className:"border border-gray-300 rounded-md max-h-40 overflow-y-auto p-2",children:h.map(E=>d.jsxs("label",{className:"flex items-start gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:f.includes(E.id),onChange:$=>{$.target.checked?p([...f,E.id]):p(f.filter(M=>M!==E.id))},className:"mt-1"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name}),E.description&&d.jsx("div",{className:"text-xs text-gray-500",children:E.description})]})]},E.id))}),f.length>0&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[f.length," cohort",f.length!==1?"s":""," selected"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",value:n,onChange:E=>i(E.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsx("input",{type:"password",value:a,onChange:E=>s(E.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),S&&d.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-700 px-4 py-3 rounded-r-lg",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),d.jsx("p",{className:"text-sm leading-relaxed",children:S})]})}),P&&d.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 text-green-700 px-4 py-3 rounded-r-lg",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-medium",children:"Email Sent!"}),d.jsx("p",{className:"text-sm mt-1 leading-relaxed",children:P})]})]})}),d.jsx("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white py-3 px-6 rounded-xl hover:from-primary-700 hover:to-primary-800 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 font-bold text-base md:text-lg shadow-lg transition-all transform hover:scale-[1.02]",children:v?"Loading...":t?"Sign Up":"Sign In"})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("button",{onClick:()=>{r(!t),j(null),C(null)},className:"text-primary-600 hover:text-primary-700 text-sm",children:t?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),wt=(e,t)=>{const r=G.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>G.createElement("svg",{ref:u,...kW,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${OW(e)}`,o].join(" "),...c},[...t.map(([f,p])=>G.createElement(f,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=wt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=wt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=wt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=wt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=wt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=wt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=wt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=wt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=wt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=wt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=wt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=wt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=wt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=wt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=wt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=wt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=wt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=wt("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=wt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=wt("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=wt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=wt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=wt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=wt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=wt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=wt("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=wt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=wt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=wt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=wt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=wt("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=wt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=wt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=wt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=wt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=wt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=wt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=wt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=wt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=wt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=wt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=wt("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=wt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=wt("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=wt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=wt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=wt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=wt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=wt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=wt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=wt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Li({role:e}){const t=vu(),r=async()=>{await sj()},a=e==="faculty"?[{path:"/dashboard",icon:My,label:"Dashboard"},{path:"/create",icon:Wm,label:"Create Station"},{path:"/library",icon:y8,label:"Library"},{path:"/analytics",icon:La,label:"Analytics"}]:[{path:"/admin/dashboard",icon:My,label:"Dashboard"},{path:"/admin/cbdc",icon:Da,label:"CBDC Manager"},{path:"/admin/reports",icon:La,label:"Reports"},{path:"/admin/users",icon:Ao,label:"Users"}];return d.jsx("div",{className:"hidden md:flex md:flex-col md:w-64 md:fixed md:inset-y-0 bg-white border-r border-gray-200",children:d.jsxs("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center flex-shrink-0 px-4 mb-8 gap-3",children:[d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-10 w-auto object-contain"}),d.jsx("h1",{className:"text-xl font-bold text-primary-900",children:"Kaya V-OSCE"})]}),d.jsx("nav",{className:"flex-1 px-2 space-y-1",children:a.map(s=>{const o=s.icon,l=t.pathname===s.path||t.pathname.startsWith(s.path+"/");return d.jsxs(uL,{to:s.path,className:`flex items-center px-4 py-2 text-sm font-medium rounded-md ${l?"bg-primary-100 text-primary-900":"text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(o,{className:"mr-3 h-5 w-5"}),s.label]},s.path)})}),d.jsx("div",{className:"px-4 pb-4",children:d.jsxs("button",{onClick:r,className:"flex items-center w-full px-4 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-50",children:[d.jsx(w8,{className:"mr-3 h-5 w-5"}),"Sign Out"]})})]})})}function Mn({role:e}){const t=vu(),a=e==="admin"?[{path:"/admin/dashboard",icon:My,label:"Dashboard"},{path:"/admin/cbdc",icon:Da,label:"CBDC"},{path:"/admin/reports",icon:La,label:"Reports"},{path:"/admin/users",icon:Ao,label:"Users"}]:e==="faculty"?[{path:"/dashboard",icon:My,label:"Dashboard"},{path:"/create",icon:Wm,label:"Create"},{path:"/library",icon:y8,label:"Library"},{path:"/analytics",icon:La,label:"Analytics"},{path:"/profile",icon:$s,label:"Profile"}]:[{path:"/home",icon:LW,label:"Home"},{path:"/assigned",icon:y1,label:"Assignments"},{path:"/analytics",icon:La,label:"Analytics"},{path:"/profile",icon:$s,label:"Profile"}];return d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-300 shadow-lg z-50 md:hidden safe-area-bottom",children:d.jsx("div",{className:"flex justify-around items-center h-16 px-2",children:a.map(s=>{const o=s.icon,l=t.pathname===s.path||s.path!=="/dashboard"&&s.path!=="/admin/dashboard"&&t.pathname.startsWith(s.path);return d.jsxs(uL,{to:s.path,className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${l?"text-primary-600 bg-primary-50 rounded-t-lg":"text-gray-600 hover:text-primary-500"}`,children:[d.jsx(o,{className:`w-5 h-5 ${l?"scale-110":""} transition-transform`}),d.jsx("span",{className:`text-xs mt-0.5 font-medium ${l?"text-primary-700":"text-gray-600"}`,children:s.label})]},s.path)})})})}function VW({user:e}){const t=Ua(),[r,n]=G.useState({approved:0,pending:0,total:0}),[i,a]=G.useState(!0);G.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:o,error:l}=await Ie.from("stations").select("id").eq("created_by",e.id);if(l)throw l;const c=(o==null?void 0:o.map(p=>p.id))||[],{data:u,error:f}=await Ie.from("case_snapshots").select("id",{count:"exact"}).in("station_id",c);if(f)throw f;n({approved:(u==null?void 0:u.length)||0,pending:c.length-((u==null?void 0:u.length)||0),total:c.length})}catch(o){console.error("Error loading stats:",o)}finally{a(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Li,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Faculty Dashboard"}),d.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome back, ",e.name]})]}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved Cases"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.approved})]}),d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(Da,{className:"w-6 h-6 text-green-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Review"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.pending})]}),d.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:d.jsx(bu,{className:"w-6 h-6 text-yellow-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.total})]}),d.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:d.jsx(Ao,{className:"w-6 h-6 text-blue-600"})})]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),d.jsxs("button",{onClick:()=>t("/create"),className:"w-full md:w-auto flex items-center justify-center gap-2 bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors font-medium shadow-sm hover:shadow-md",children:[d.jsx(Wm,{className:"w-5 h-5"}),"Create New Station"]})]})]})]})}),d.jsx(Mn,{role:"faculty"})]})}function GW({toast:e,onClose:t}){G.useEffect(()=>{if(e.duration!==0){const s=setTimeout(()=>{t(e.id)},e.duration||5e3);return()=>clearTimeout(s)}},[e.id,e.duration,t]);const r={success:Nn,error:g1,warning:oj,info:RW},n={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"},i={success:"text-green-600",error:"text-red-600",warning:"text-yellow-600",info:"text-blue-600"},a=r[e.type];return d.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-lg border-2 shadow-lg min-w-[300px] max-w-md ${n[e.type]} animate-in slide-in-from-top-5 fade-in`,children:[d.jsx(a,{className:`w-5 h-5 flex-shrink-0 mt-0.5 ${i[e.type]}`}),d.jsx("div",{className:"flex-1 text-sm font-medium",children:e.message}),d.jsx("button",{onClick:()=>t(e.id),className:`flex-shrink-0 ${i[e.type]} hover:opacity-70 transition-opacity`,"aria-label":"Close",children:d.jsx(Df,{className:"w-4 h-4"})})]})}function Lo({toasts:e,onClose:t}){return e.length===0?null:d.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:e.map(r=>d.jsx("div",{className:"pointer-events-auto",children:d.jsx(GW,{toast:r,onClose:t})},r.id))})}function Hs(){const[e,t]=G.useState([]),r=(l,c="info",u)=>{const f=Math.random().toString(36).substring(2,9),p={id:f,message:l,type:c,duration:u};return t(h=>[...h,p]),f};return{toasts:e,showToast:r,removeToast:l=>{t(c=>c.filter(u=>u.id!==l))},success:(l,c)=>r(l,"success",c),error:(l,c)=>r(l,"error",c),warning:(l,c)=>r(l,"warning",c),info:(l,c)=>r(l,"info",c)}}const Mh="AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",p4="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";function KW({user:e}){var S,j,P,C,L,F;const t=Ua(),r=Hs(),[n,i]=G.useState(1),[a,s]=G.useState(!1),[o,l]=G.useState(!1),[c,u]=G.useState([]),[f,p]=G.useState([]),[h,y]=G.useState({subject:"",competencyId:"",slo:"",millerLevel:"ShowsHow",bloomDomain:"Cognitive",duration:15,difficulty:"Intermediate",prakriti:"Sama",doshaSliders:{vata:33,pitta:33,kapha:34},includeAshtasthana:!1});G.useEffect(()=>{g(),b()},[]);const g=async()=>{const{data:k}=await Ie.from("subjects").select("*");k&&u(k)},b=async()=>{const{data:k}=await Ie.from("competencies").select("*");k&&p(k)},v=k=>{var E,$,M,B,q,J;return`You are an expert Ayurvedic physician creating a virtual OSCE (Objective Structured Clinical Examination) case for medical students.

Generate a complete clinical case in JSON format matching this specification:

Subject: ${k.subject}
Miller's Level: ${k.millerLevel||"ShowsHow"}
Bloom's Domain: ${k.bloomDomain||"Cognitive"}
Difficulty: ${k.difficulty}
Duration: ${k.duration} minutes
Prakriti: ${k.prakriti||"Sama"}
Dosha Distribution: Vata ${((E=k.doshaSliders)==null?void 0:E.vata)||33}%, Pitta ${(($=k.doshaSliders)==null?void 0:$.pitta)||33}%, Kapha ${((M=k.doshaSliders)==null?void 0:M.kapha)||34}%
${k.includeAshtasthana?"Include Ashtasthana Pariksha findings":""}
${k.slo?`SLO: ${k.slo}`:""}

Return a JSON object with this exact structure:
{
  "id": "generate-uuid-here",
  "title": "Case title",
  "subject": "${k.subject}",
  "durationMinutes": ${k.duration},
  "difficulty": "${k.difficulty}",
  "patientProfile": {
    "name": "Patient name",
    "age": 35,
    "gender": "male",
    "prakriti": "${k.prakriti||"Sama"}",
    "occupation": "Relevant occupation"
  },
  "chiefComplaint": "Primary complaint in patient's own words (e.g., 'Fever and cough for 3 days')",
  "historyOfPresentIllness": "Detailed HPI in Ayurvedic context",
  ${k.includeAshtasthana?`"ashtasthanaPariksha": {
    "Nadi": "Pulse findings",
    "Mala": "Stool findings",
    "Mutra": "Urine findings",
    "Jihva": "Tongue findings",
    "Shabda": "Voice findings",
    "Sparsha": "Touch findings",
    "Druk": "Eye findings",
    "Akriti": "General appearance"
  },`:""}
  "doshaAnalysis": {
    "vata": ${((B=k.doshaSliders)==null?void 0:B.vata)||33},
    "pitta": ${((q=k.doshaSliders)==null?void 0:q.pitta)||33},
    "kapha": ${((J=k.doshaSliders)==null?void 0:J.kapha)||34}
  },
  "potentialDiagnoses": [
    {"dx": "Primary diagnosis", "confidence": 0.9},
    {"dx": "Differential diagnosis", "confidence": 0.6}
  ],
  "diagnosisMCQ": {
    "question": "What is the most likely diagnosis for this patient?",
    "options": ["Primary diagnosis", "Differential diagnosis 1", "Differential diagnosis 2", "Differential diagnosis 3"],
    "answerIndex": 0,
    "explanation": "Brief explanation of why the correct diagnosis is the most appropriate based on the case findings"
  },
  "suggestedChikitsa": "Detailed treatment plan",
  "mcqs": [
    {
      "id": "mcq-1",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${k.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    },
    {
      "id": "mcq-2",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${k.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    },
    {
      "id": "mcq-3",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${k.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    }
  ],
  "rubrics": [
    {
      "id": "rubric-1",
      "description": "Rubric description",
      "maxPoints": 10,
      "sloId": "${k.slo||"default-slo"}"
    }
  ],
  "finalExplanation": "Comprehensive explanation",
  "sloMappings": ["${k.slo||"default-slo"}"],
  "physicalExam": {
    "vitals": {
      "bp": "Actual blood pressure relevant to the case (e.g., '90/60 mmHg' for hypotension, '150/95 mmHg' for hypertension)",
      "hr": "Actual heart rate relevant to the case (e.g., '110 bpm' for tachycardia, '55 bpm' for bradycardia)",
      "rr": "Actual respiratory rate relevant to the case (e.g., '28 breaths/min' for tachypnea, '12 breaths/min' for normal)",
      "temp": "Actual temperature relevant to the case (e.g., '102.8F (oral)' for fever, '98.6F (oral)' for normal)",
      "spo2": "Actual oxygen saturation relevant to the case (e.g., '88% on room air' for hypoxemia, '98% on room air' for normal)"
    },
    "generalExam": "Detailed general examination findings that are consistent with the diagnosis and clinical presentation. Include appearance, consciousness level, pallor, icterus, edema, etc.",
    "systemicExam": "Detailed systemic examination findings organized by system (CNS, CVS, RS, GIT, etc.) that are consistent with the diagnosis. Be specific and realistic."
  },
  "availableLabTests": [
    {"category": "BEDSIDE TESTS", "tests": ["ECG", "Blood Glucose", "Urine Dipstick"]},
    {"category": "BASIC LABS", "tests": ["CBC", "CMP", "ESR", "CRP", "TSH", "Lipid Profile", "LFT", "RFT", "ABG"]},
    {"category": "ADVANCED LABS", "tests": ["Troponin", "BNP", "D-dimer", "Coagulation Profile", "Blood Culture", "HbA1c"]},
    {"category": "IMAGING", "tests": ["Chest X-Ray", "CT Head", "CT Chest", "CT Abdomen", "Abdominal Ultrasound", "Echocardiogram"]}
  ],
  "labResults": {
    "CBC": "Complete blood count results relevant to the case (e.g., 'WBC: 15,000/L (elevated), Hb: 12 g/dL, Platelets: 250,000/L' for infection)",
    "CMP": "Comprehensive metabolic panel results relevant to the case (e.g., 'Na: 138 mEq/L, K: 4.2 mEq/L, Creatinine: 1.2 mg/dL, BUN: 45 mg/dL (elevated)' for renal issues)",
    "Chest X-Ray": "Chest X-ray findings relevant to the case (e.g., 'Consolidation in right lower lobe, consistent with pneumonia' or 'Normal chest X-ray')",
    "ECG": "ECG findings relevant to the case (e.g., 'Normal sinus rhythm' or 'ST elevation in leads II, III, aVF')",
    "CRP": "C-reactive protein result relevant to the case (e.g., '150 mg/L (markedly elevated)' for inflammation)",
    "Urine Dipstick": "Urine dipstick results relevant to the case (e.g., 'Negative for nitrites, leukocyte esterase, protein, blood' or 'Positive for protein and blood')"
  },
  "learningPearls": [
    "Key learning point 1 relevant to this case",
    "Key learning point 2 relevant to this case",
    "Key learning point 3 relevant to this case"
  ],
  "furtherReading": [
    {
      "title": "Relevant Textbook Chapter",
      "reference": "Textbook Name, Edition. Chapter X: Topic"
    },
    {
      "title": "Clinical Guidelines",
      "reference": "Guideline Name and Year"
    }
  ],
  "managementOptions": {
    "immediateActions": [
      {"id": "immediate-1", "text": "First immediate action option (correct)", "isCorrect": true},
      {"id": "immediate-2", "text": "Second immediate action option (incorrect)", "isCorrect": false},
      {"id": "immediate-3", "text": "Third immediate action option (correct)", "isCorrect": true},
      {"id": "immediate-4", "text": "Fourth immediate action option (incorrect)", "isCorrect": false},
      {"id": "immediate-other", "text": "Other (enter plan below)", "isCorrect": false}
    ],
    "investigations": [
      {"id": "invest-1", "text": "First investigation option (correct)", "isCorrect": true},
      {"id": "invest-2", "text": "Second investigation option (correct)", "isCorrect": true},
      {"id": "invest-3", "text": "Third investigation option (incorrect)", "isCorrect": false},
      {"id": "invest-4", "text": "Fourth investigation option (incorrect)", "isCorrect": false}
    ],
    "definitiveManagement": [
      {"id": "definitive-1", "text": "Outpatient care with follow-up", "isCorrect": false},
      {"id": "definitive-2", "text": "Admit for observation and treatment", "isCorrect": true},
      {"id": "definitive-3", "text": "Refer to specialist/tertiary center", "isCorrect": false}
    ]
  }
}

CRITICAL REQUIREMENTS - YOU MUST FOLLOW THESE:

1. MCQs (REQUIRED - MUST GENERATE AT LEAST 3):
   - Generate at least 3 multiple-choice questions related to the case
   - Each MCQ must have 4 options (A, B, C, D)
   - Include an explanation for each correct answer
   - The last 3 MCQs will be used as post-case questions (shown after submission)
   - Additional MCQs (if any) can be used as pre-case questions

2. Physical Exam (REQUIRED - MUST BE GENERATED):
   - Vitals: Generate ALL 5 vital signs (BP, HR, RR, Temp, SpO2) with realistic values that match the diagnosis
   - General Exam: Write 2-3 sentences describing patient appearance, consciousness, pallor, icterus, edema, etc. relevant to the condition
   - Systemic Exam: Write detailed findings by system (CNS, CVS, RS, GIT, etc.) - at least 4-5 sentences with specific findings
   - Example for pneumonia: BP 90/60 (hypotension), HR 110 (tachycardia), RR 28 (tachypnea), Temp 102.8F (fever), SpO2 88% (hypoxemia)
   - Example for hypertension: BP 150/95 (elevated), HR 85, RR 16, Temp 98.6F, SpO2 98%

2. Lab Results (REQUIRED - MUST BE GENERATED):
   - Generate results for at least 4-6 common tests (CBC, CMP, Chest X-Ray, ECG, CRP, etc.)
   - Results MUST support the diagnosis and be realistic
   - Include abnormal values with explanations (e.g., "WBC: 15,000/L (elevated)")

3. Learning Pearls (REQUIRED - MUST BE 3-5 ITEMS):
   - Each pearl should be a complete sentence
   - Focus on key teaching points specific to this case
   - Be actionable and educational

4. Further Reading (REQUIRED - MUST BE 2-3 ITEMS):
   - Include specific textbook names, editions, and chapter numbers
   - Include relevant clinical guidelines with years
   - Make them specific to the diagnosis

5. Data Consistency:
   - If patient has fever  Temp must be elevated (e.g., 102F+)
   - If patient has respiratory distress  RR elevated, SpO2 decreased
   - If patient has infection  WBC elevated, CRP elevated
   - All findings must support the primary diagnosis

6. Management Options (REQUIRED - MUST BE GENERATED):
   - Generate 4-6 immediate actions (multi-select), with 2-3 correct options. Include one option with id "immediate-other" and text "Other (enter plan below)".
   - Generate 3-5 investigations (multi-select), with 1-3 correct options.
   - Generate 3-4 definitive management options (single-select), with exactly one correct option.
   - All options should be clinically relevant to the case and aligned with Ayurvedic principles.
   - Use descriptive, specific text for each option (not generic).

Return ONLY valid JSON, no markdown formatting, no code blocks. The JSON must be parseable directly.`},w=(k,E)=>{var M;let $=k.match(/```json\s*([\s\S]*?)\s*```/);if($||($=k.match(/```\s*([\s\S]*?)\s*```/)),$||($=k.match(/\{[\s\S]*\}/)),!$)throw new Error("No JSON found in Gemini response. The AI may not have returned valid JSON.");try{const B=$[1]||$[0],q=JSON.parse(B);if(q.id=crypto.randomUUID(),q.subject=E.subject,q.durationMinutes=E.duration,q.difficulty=E.difficulty,q.patientProfile||(q.patientProfile={name:"Patient",age:35,gender:"male",prakriti:E.prakriti||"Sama",occupation:"Not specified"}),q.mcqs||(q.mcqs=[]),q.rubrics||(q.rubrics=[]),q.potentialDiagnoses||(q.potentialDiagnoses=[]),q.sloMappings||(q.sloMappings=[]),!q.diagnosisMCQ&&q.potentialDiagnoses&&q.potentialDiagnoses.length>0){const J=((M=q.potentialDiagnoses[0])==null?void 0:M.dx)||"Primary diagnosis",W=q.potentialDiagnoses.slice(0,4).map(Z=>Z.dx);for(;W.length<4;)W.push(`Differential diagnosis ${W.length}`);q.diagnosisMCQ={question:"What is the most likely diagnosis for this patient?",options:W,answerIndex:0,explanation:`The correct diagnosis is ${J}, which is supported by the clinical findings, physical examination, and laboratory results presented in this case.`}}return q.physicalExam||(q.physicalExam={vitals:{},generalExam:"",systemicExam:""}),q.physicalExam.vitals||(q.physicalExam.vitals={}),(!q.availableLabTests||q.availableLabTests.length===0)&&(q.availableLabTests=[]),q.managementOptions||(q.managementOptions={immediateActions:[{id:"immediate-1",text:"Initiate appropriate immediate treatment based on dosha imbalance",isCorrect:!0},{id:"immediate-2",text:"Wait for further diagnostic confirmation before treatment",isCorrect:!1},{id:"immediate-3",text:"Apply local treatment (Sthanika Chikitsa) as indicated",isCorrect:!0},{id:"immediate-4",text:"Prescribe only oral medications without local treatment",isCorrect:!1},{id:"immediate-other",text:"Other (enter plan below)",isCorrect:!1}],investigations:[{id:"invest-1",text:"Order relevant investigations based on clinical presentation",isCorrect:!0},{id:"invest-2",text:"Perform targeted examination (Nadi Pariksha, etc.)",isCorrect:!0},{id:"invest-3",text:"Order all available tests without clinical indication",isCorrect:!1}],definitiveManagement:[{id:"definitive-1",text:"Outpatient care with follow-up",isCorrect:!1},{id:"definitive-2",text:"Admit for observation and treatment",isCorrect:!0},{id:"definitive-3",text:"Refer to specialist/tertiary center",isCorrect:!1}]}),q.managementOptions&&((!q.managementOptions.immediateActions||!Array.isArray(q.managementOptions.immediateActions))&&(q.managementOptions.immediateActions=[]),(!q.managementOptions.investigations||!Array.isArray(q.managementOptions.investigations))&&(q.managementOptions.investigations=[]),(!q.managementOptions.definitiveManagement||!Array.isArray(q.managementOptions.definitiveManagement))&&(q.managementOptions.definitiveManagement=[]),q.managementOptions.immediateActions.some(W=>W.id==="immediate-other")||q.managementOptions.immediateActions.push({id:"immediate-other",text:"Other (enter plan below)",isCorrect:!1})),q}catch(B){throw new Error(`Failed to parse JSON from Gemini response: ${B.message}`)}},_=async()=>{var k,E,$,M,B;if(!h.subject||!h.competencyId){r.warning("Please select a subject and competency first");return}if(Mh.trim()===""){r.error("Gemini API key is not configured. Please set VITE_GEMINI_API_KEY in your environment variables.");return}l(!0);try{const q=f.find(I=>I.id===h.competencyId),J=q?`${q.id}: ${q.description}`:h.competencyId,W=`You are an expert in medical education creating Specific Learning Outcomes (SLOs) for Ayurvedic medicine.

Subject: ${h.subject}
CBDC Competency: ${J}
Miller's Level: ${h.millerLevel}
Bloom's Domain: ${h.bloomDomain}

Generate a specific, measurable, and actionable learning outcome statement that:
1. Is aligned with the subject and competency
2. Matches the Miller's Level (${h.millerLevel})
3. Matches the Bloom's Domain (${h.bloomDomain})
4. Is specific to Ayurvedic medicine context
5. Is clear and concise (one sentence, max 20 words)

Return ONLY the SLO statement text, nothing else. No explanations, no quotes, just the statement.`,Z=await fetch(p4,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":Mh},body:JSON.stringify({contents:[{parts:[{text:W}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:100}})});if(!Z.ok){if(Z.status===429||Z.status>=500)throw new Error("Could not generate due to server overload. Please wait a moment and try again.");const I=await Z.text();let Y="Could not generate due to server overload. Please try again later.";try{const ie=JSON.parse(I);(k=ie.error)!=null&&k.message&&Z.status!==429&&Z.status<500&&(Y=ie.error.message)}catch{}throw new Error(Y)}const D=await Z.json();if(!D.candidates||D.candidates.length===0)throw new Error("Could not generate due to server overload. Please try again later.");const se=((B=(M=($=(E=D.candidates[0])==null?void 0:E.content)==null?void 0:$.parts[0])==null?void 0:M.text)==null?void 0:B.trim())||"";if(!se)throw new Error("Could not generate due to server overload. Please try again later.");const T=se.replace(/^["']|["']$/g,"").replace(/^```[\w]*\n?|\n?```$/g,"").trim();y({...h,slo:T}),r.success("SLO suggested successfully!")}catch(q){const J=q.message||"Could not generate due to server overload. Please try again later.";r.error(J)}finally{l(!1)}},N=async()=>{var k,E,$,M,B,q;s(!0);try{if(!h.subject)throw new Error("Please select a subject");if(!h.competencyId)throw new Error("Please select a CBDC competency");if(!Mh||Mh.trim()==="")throw new Error("Gemini API key is not configured. Please set VITE_GEMINI_API_KEY in your environment variables.");const J=v(h),W=await fetch(p4,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":Mh},body:JSON.stringify({contents:[{parts:[{text:J}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:8192}})});if(!W.ok){if(W.status===429||W.status>=500)throw new Error("Could not generate due to server overload. Please wait a moment and try again.");const ie=await W.text();let te="Could not generate due to server overload. Please try again later.";try{const de=JSON.parse(ie);(k=de.error)!=null&&k.message&&W.status!==429&&W.status<500&&(te=de.error.message)}catch{}throw new Error(te)}const Z=await W.json();if(!Z.candidates||Z.candidates.length===0)throw new Error("Could not generate due to server overload. Please try again later.");const D=((M=($=(E=Z.candidates[0])==null?void 0:E.content)==null?void 0:$.parts[0])==null?void 0:M.text)||"";if(!D)throw new Error("Could not generate due to server overload. Please try again later.");const se=w(D,h),T=[];if(!se.physicalExam||!se.physicalExam.vitals)T.push("Physical examination vitals are missing");else{const ie=se.physicalExam.vitals;(!ie.bp||!ie.hr||!ie.rr||!ie.temp||!ie.spo2)&&T.push("Some vital signs are missing (BP, HR, RR, Temp, SpO2)")}if((!((B=se.physicalExam)!=null&&B.generalExam)||se.physicalExam.generalExam.trim()==="")&&T.push("General examination findings are missing"),(!((q=se.physicalExam)!=null&&q.systemicExam)||se.physicalExam.systemicExam.trim()==="")&&T.push("Systemic examination findings are missing"),(!se.labResults||Object.keys(se.labResults).length<4)&&T.push("Lab results are missing or insufficient (need at least 4 test results)"),!se.learningPearls||se.learningPearls.length<3?T.push("Learning pearls are missing or insufficient (need at least 3)"):se.learningPearls.some(te=>te.toLowerCase().includes("key learning point")||te.toLowerCase().includes("relevant to this case")||te.trim().length<20)&&T.push("Learning pearls contain generic placeholder text"),!se.furtherReading||se.furtherReading.length<2?T.push("Further reading references are missing or insufficient (need at least 2)"):se.furtherReading.some(te=>te.title.toLowerCase().includes("relevant textbook")||te.title.toLowerCase().includes("textbook name")||te.reference.toLowerCase().includes("chapter x")||te.reference.toLowerCase().includes("textbook name"))&&T.push("Further reading contains generic placeholder text"),T.length>0)throw new Error(`AI generation incomplete:
${T.join(`
`)}

Please regenerate the case.`);const{data:I,error:Y}=await Ie.from("stations").insert({title:se.title||"New Station",blueprint:{...h,generatedCase:se},created_by:e.id}).select().single();if(Y)throw Y;t(`/review/${I.id}`),r.success("Case generated successfully!")}catch(J){const W=J.message||"Could not generate due to server overload. Please try again later.";r.error(W)}finally{s(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Li,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(Xd,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Create New Station"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[n>=1&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 1: Subject & Competency"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),d.jsxs("select",{value:h.subject,onChange:k=>y({...h,subject:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Select Subject"}),c.map(k=>d.jsx("option",{value:k.name,children:k.name},k.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CBDC Competency"}),d.jsxs("select",{value:h.competencyId||"",onChange:k=>y({...h,competencyId:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Select Competency"}),f.map(k=>d.jsxs("option",{value:k.id,children:[k.id,": ",k.description]},k.id))]})]})]}),n>=2&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 2: Learning Outcomes"}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"SLO (Specific Learning Outcome)"}),d.jsx("button",{type:"button",onClick:_,disabled:o||!h.subject||!h.competencyId,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-primary-600 bg-primary-50 border border-primary-200 rounded-md hover:bg-primary-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?d.jsxs(d.Fragment,{children:[d.jsx(Zc,{className:"w-3 h-3 animate-spin"}),"Suggesting..."]}):d.jsxs(d.Fragment,{children:[d.jsx(UW,{className:"w-3 h-3"}),"AI Suggest"]})})]}),d.jsx("textarea",{value:h.slo||"",onChange:k=>y({...h,slo:k.target.value}),placeholder:"e.g., Demonstrate interpretation of Nadi in Pitta Jwara",className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Miller's Level"}),d.jsxs("select",{value:h.millerLevel,onChange:k=>y({...h,millerLevel:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Knows",children:"Knows"}),d.jsx("option",{value:"KnowsHow",children:"Knows How"}),d.jsx("option",{value:"ShowsHow",children:"Shows How"}),d.jsx("option",{value:"Does",children:"Does"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bloom's Domain"}),d.jsxs("select",{value:h.bloomDomain,onChange:k=>y({...h,bloomDomain:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Cognitive",children:"Cognitive"}),d.jsx("option",{value:"Psychomotor",children:"Psychomotor"}),d.jsx("option",{value:"Affective",children:"Affective"})]})]})]})]}),n>=3&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 3: Case Parameters"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),d.jsx("input",{type:"number",min:"5",max:"60",value:h.duration,onChange:k=>y({...h,duration:parseInt(k.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),d.jsxs("select",{value:h.difficulty,onChange:k=>y({...h,difficulty:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Beginner",children:"Beginner"}),d.jsx("option",{value:"Intermediate",children:"Intermediate"}),d.jsx("option",{value:"Advanced",children:"Advanced"})]})]})]})]}),n>=4&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 4: Ayurvedic Parameters"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prakriti"}),d.jsxs("select",{value:h.prakriti,onChange:k=>y({...h,prakriti:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Vata",children:"Vata"}),d.jsx("option",{value:"Pitta",children:"Pitta"}),d.jsx("option",{value:"Kapha",children:"Kapha"}),d.jsx("option",{value:"Sama",children:"Sama"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dosha Distribution (must sum to 100)"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Vata: ",(S=h.doshaSliders)==null?void 0:S.vata,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((j=h.doshaSliders)==null?void 0:j.vata)||0,onChange:k=>{var q;const E=parseInt(k.target.value),$=100-E,M=Math.min($,((q=h.doshaSliders)==null?void 0:q.pitta)||0),B=100-E-M;y({...h,doshaSliders:{vata:E,pitta:M,kapha:B}})},className:"w-full"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Pitta: ",(P=h.doshaSliders)==null?void 0:P.pitta,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((C=h.doshaSliders)==null?void 0:C.pitta)||0,onChange:k=>{var q;const E=parseInt(k.target.value),$=100-E,M=Math.min($,((q=h.doshaSliders)==null?void 0:q.vata)||0),B=100-M-E;y({...h,doshaSliders:{vata:M,pitta:E,kapha:B}})},className:"w-full"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Kapha: ",(L=h.doshaSliders)==null?void 0:L.kapha,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((F=h.doshaSliders)==null?void 0:F.kapha)||0,onChange:k=>{var q;const E=parseInt(k.target.value),$=100-E,M=Math.min($,((q=h.doshaSliders)==null?void 0:q.vata)||0),B=100-M-E;y({...h,doshaSliders:{vata:M,pitta:B,kapha:E}})},className:"w-full"})]})]})]}),d.jsx("div",{children:d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:h.includeAshtasthana||!1,onChange:k=>y({...h,includeAshtasthana:k.target.checked})}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Include Ashtasthana Pariksha"})]})})]}),d.jsxs("div",{className:"flex justify-between pt-6 border-t",children:[d.jsx("button",{onClick:()=>i(Math.max(1,n-1)),disabled:n===1,className:"px-4 py-2 border border-gray-300 rounded-md disabled:opacity-50",children:"Previous"}),n<4?d.jsx("button",{onClick:()=>i(n+1),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Next"}):d.jsxs("button",{onClick:N,disabled:a||!h.subject,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 flex items-center gap-2",children:[a&&d.jsx(Zc,{className:"w-4 h-4 animate-spin"}),"Generate Case"]})]})]})]})}),d.jsx(Mn,{role:"faculty"}),d.jsx(Lo,{toasts:r.toasts,onClose:r.removeToast}),a&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md mx-4 text-center",children:[d.jsx(Zc,{className:"w-12 h-12 animate-spin text-primary-600 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Generating Case"}),d.jsx("p",{className:"text-gray-600",children:"Please wait while we generate your clinical case. This may take a few moments..."})]})})]})}function YW(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const XW=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,JW=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ZW={};function m4(e,t){return(ZW.jsx?JW:XW).test(e)}const QW=/[ \t\n\f\r]/g;function eH(e){return typeof e=="object"?e.type==="text"?g4(e.value):!1:g4(e)}function g4(e){return e.replace(QW,"")===""}class Hm{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Hm.prototype.normal={};Hm.prototype.property={};Hm.prototype.space=void 0;function _8(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new Hm(r,n,t)}function Jw(e){return e.toLowerCase()}class $i{constructor(t,r){this.attribute=r,this.property=t}}$i.prototype.attribute="";$i.prototype.booleanish=!1;$i.prototype.boolean=!1;$i.prototype.commaOrSpaceSeparated=!1;$i.prototype.commaSeparated=!1;$i.prototype.defined=!1;$i.prototype.mustUseProperty=!1;$i.prototype.number=!1;$i.prototype.overloadedBoolean=!1;$i.prototype.property="";$i.prototype.spaceSeparated=!1;$i.prototype.space=void 0;let tH=0;const Ut=xu(),un=xu(),Zw=xu(),We=xu(),_r=xu(),Id=xu(),Yi=xu();function xu(){return 2**++tH}const Qw=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ut,booleanish:un,commaOrSpaceSeparated:Yi,commaSeparated:Id,number:We,overloadedBoolean:Zw,spaceSeparated:_r},Symbol.toStringTag,{value:"Module"})),Tx=Object.keys(Qw);class uj extends $i{constructor(t,r,n,i){let a=-1;if(super(t,r),y4(this,"space",i),typeof n=="number")for(;++a<Tx.length;){const s=Tx[a];y4(this,Tx[a],(n&Qw[s])===Qw[s])}}}uj.prototype.defined=!0;function y4(e,t,r){r&&(e[t]=r)}function Bf(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const a=new uj(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(a.mustUseProperty=!0),t[n]=a,r[Jw(n)]=n,r[Jw(a.attribute)]=n}return new Hm(t,r,e.space)}const S8=Bf({properties:{ariaActiveDescendant:null,ariaAtomic:un,ariaAutoComplete:null,ariaBusy:un,ariaChecked:un,ariaColCount:We,ariaColIndex:We,ariaColSpan:We,ariaControls:_r,ariaCurrent:null,ariaDescribedBy:_r,ariaDetails:null,ariaDisabled:un,ariaDropEffect:_r,ariaErrorMessage:null,ariaExpanded:un,ariaFlowTo:_r,ariaGrabbed:un,ariaHasPopup:null,ariaHidden:un,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:_r,ariaLevel:We,ariaLive:null,ariaModal:un,ariaMultiLine:un,ariaMultiSelectable:un,ariaOrientation:null,ariaOwns:_r,ariaPlaceholder:null,ariaPosInSet:We,ariaPressed:un,ariaReadOnly:un,ariaRelevant:null,ariaRequired:un,ariaRoleDescription:_r,ariaRowCount:We,ariaRowIndex:We,ariaRowSpan:We,ariaSelected:un,ariaSetSize:We,ariaSort:null,ariaValueMax:We,ariaValueMin:We,ariaValueNow:We,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function j8(e,t){return t in e?e[t]:t}function N8(e,t){return j8(e,t.toLowerCase())}const rH=Bf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Id,acceptCharset:_r,accessKey:_r,action:null,allow:null,allowFullScreen:Ut,allowPaymentRequest:Ut,allowUserMedia:Ut,alt:null,as:null,async:Ut,autoCapitalize:null,autoComplete:_r,autoFocus:Ut,autoPlay:Ut,blocking:_r,capture:null,charSet:null,checked:Ut,cite:null,className:_r,cols:We,colSpan:null,content:null,contentEditable:un,controls:Ut,controlsList:_r,coords:We|Id,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ut,defer:Ut,dir:null,dirName:null,disabled:Ut,download:Zw,draggable:un,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ut,formTarget:null,headers:_r,height:We,hidden:Zw,high:We,href:null,hrefLang:null,htmlFor:_r,httpEquiv:_r,id:null,imageSizes:null,imageSrcSet:null,inert:Ut,inputMode:null,integrity:null,is:null,isMap:Ut,itemId:null,itemProp:_r,itemRef:_r,itemScope:Ut,itemType:_r,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ut,low:We,manifest:null,max:null,maxLength:We,media:null,method:null,min:null,minLength:We,multiple:Ut,muted:Ut,name:null,nonce:null,noModule:Ut,noValidate:Ut,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ut,optimum:We,pattern:null,ping:_r,placeholder:null,playsInline:Ut,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ut,referrerPolicy:null,rel:_r,required:Ut,reversed:Ut,rows:We,rowSpan:We,sandbox:_r,scope:null,scoped:Ut,seamless:Ut,selected:Ut,shadowRootClonable:Ut,shadowRootDelegatesFocus:Ut,shadowRootMode:null,shape:null,size:We,sizes:null,slot:null,span:We,spellCheck:un,src:null,srcDoc:null,srcLang:null,srcSet:null,start:We,step:null,style:null,tabIndex:We,target:null,title:null,translate:null,type:null,typeMustMatch:Ut,useMap:null,value:un,width:We,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:_r,axis:null,background:null,bgColor:null,border:We,borderColor:null,bottomMargin:We,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ut,declare:Ut,event:null,face:null,frame:null,frameBorder:null,hSpace:We,leftMargin:We,link:null,longDesc:null,lowSrc:null,marginHeight:We,marginWidth:We,noResize:Ut,noHref:Ut,noShade:Ut,noWrap:Ut,object:null,profile:null,prompt:null,rev:null,rightMargin:We,rules:null,scheme:null,scrolling:un,standby:null,summary:null,text:null,topMargin:We,valueType:null,version:null,vAlign:null,vLink:null,vSpace:We,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ut,disableRemotePlayback:Ut,prefix:null,property:null,results:We,security:null,unselectable:null},space:"html",transform:N8}),nH=Bf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Yi,accentHeight:We,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:We,amplitude:We,arabicForm:null,ascent:We,attributeName:null,attributeType:null,azimuth:We,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:We,by:null,calcMode:null,capHeight:We,className:_r,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:We,diffuseConstant:We,direction:null,display:null,dur:null,divisor:We,dominantBaseline:null,download:Ut,dx:null,dy:null,edgeMode:null,editable:null,elevation:We,enableBackground:null,end:null,event:null,exponent:We,externalResourcesRequired:null,fill:null,fillOpacity:We,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Id,g2:Id,glyphName:Id,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:We,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:We,horizOriginX:We,horizOriginY:We,id:null,ideographic:We,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:We,k:We,k1:We,k2:We,k3:We,k4:We,kernelMatrix:Yi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:We,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:We,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:We,overlineThickness:We,paintOrder:null,panose1:null,path:null,pathLength:We,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:_r,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:We,pointsAtY:We,pointsAtZ:We,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Yi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Yi,rev:Yi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Yi,requiredFeatures:Yi,requiredFonts:Yi,requiredFormats:Yi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:We,specularExponent:We,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:We,strikethroughThickness:We,string:null,stroke:null,strokeDashArray:Yi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:We,strokeOpacity:We,strokeWidth:null,style:null,surfaceScale:We,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Yi,tabIndex:We,tableValues:null,target:null,targetX:We,targetY:We,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Yi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:We,underlineThickness:We,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:We,values:null,vAlphabetic:We,vMathematical:We,vectorEffect:null,vHanging:We,vIdeographic:We,version:null,vertAdvY:We,vertOriginX:We,vertOriginY:We,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:We,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:j8}),A8=Bf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),k8=Bf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:N8}),O8=Bf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),iH={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},aH=/[A-Z]/g,v4=/-[a-z]/g,sH=/^data[-\w.:]+$/i;function oH(e,t){const r=Jw(t);let n=t,i=$i;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&sH.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(v4,cH);n="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!v4.test(a)){let s=a.replace(aH,lH);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=uj}return new i(n,t)}function lH(e){return"-"+e.toLowerCase()}function cH(e){return e.charAt(1).toUpperCase()}const uH=_8([S8,rH,A8,k8,O8],"html"),dj=_8([S8,nH,A8,k8,O8],"svg");function dH(e){return e.join(" ").trim()}var fj={},b4=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,fH=/\n/g,hH=/^\s*/,pH=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,mH=/^:\s*/,gH=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,yH=/^[;\s]*/,vH=/^\s+|\s+$/g,bH=`
`,x4="/",w4="*",Bc="",xH="comment",wH="declaration";function _H(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function i(y){var g=y.match(fH);g&&(r+=g.length);var b=y.lastIndexOf(bH);n=~b?y.length-b:n+y.length}function a(){var y={line:r,column:n};return function(g){return g.position=new s(y),c(),g}}function s(y){this.start=y,this.end={line:r,column:n},this.source=t.source}s.prototype.content=e;function o(y){var g=new Error(t.source+":"+r+":"+n+": "+y);if(g.reason=y,g.filename=t.source,g.line=r,g.column=n,g.source=e,!t.silent)throw g}function l(y){var g=y.exec(e);if(g){var b=g[0];return i(b),e=e.slice(b.length),g}}function c(){l(hH)}function u(y){var g;for(y=y||[];g=f();)g!==!1&&y.push(g);return y}function f(){var y=a();if(!(x4!=e.charAt(0)||w4!=e.charAt(1))){for(var g=2;Bc!=e.charAt(g)&&(w4!=e.charAt(g)||x4!=e.charAt(g+1));)++g;if(g+=2,Bc===e.charAt(g-1))return o("End of comment missing");var b=e.slice(2,g-2);return n+=2,i(b),e=e.slice(g),n+=2,y({type:xH,comment:b})}}function p(){var y=a(),g=l(pH);if(g){if(f(),!l(mH))return o("property missing ':'");var b=l(gH),v=y({type:wH,property:_4(g[0].replace(b4,Bc)),value:b?_4(b[0].replace(b4,Bc)):Bc});return l(yH),v}}function h(){var y=[];u(y);for(var g;g=p();)g!==!1&&(y.push(g),u(y));return y}return c(),h()}function _4(e){return e?e.replace(vH,Bc):Bc}var SH=_H,jH=wl&&wl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fj,"__esModule",{value:!0});fj.default=AH;const NH=jH(SH);function AH(e,t){let r=null;if(!e||typeof e!="string")return r;const n=(0,NH.default)(e),i=typeof t=="function";return n.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(r=r||{},r[s]=o)}),r}var x1={};Object.defineProperty(x1,"__esModule",{value:!0});x1.camelCase=void 0;var kH=/^--[a-zA-Z0-9_-]+$/,OH=/-([a-z])/g,EH=/^[^-]+$/,PH=/^-(webkit|moz|ms|o|khtml)-/,CH=/^-(ms)-/,TH=function(e){return!e||EH.test(e)||kH.test(e)},IH=function(e,t){return t.toUpperCase()},S4=function(e,t){return"".concat(t,"-")},LH=function(e,t){return t===void 0&&(t={}),TH(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(CH,S4):e=e.replace(PH,S4),e.replace(OH,IH))};x1.camelCase=LH;var RH=wl&&wl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},$H=RH(fj),MH=x1;function e5(e,t){var r={};return!e||typeof e!="string"||(0,$H.default)(e,function(n,i){n&&i&&(r[(0,MH.camelCase)(n,t)]=i)}),r}e5.default=e5;var DH=e5;const BH=ir(DH),E8=P8("end"),hj=P8("start");function P8(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function FH(e){const t=hj(e),r=E8(e);if(t&&r)return{start:t,end:r}}function yp(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?j4(e.position):"start"in e||"end"in e?j4(e):"line"in e||"column"in e?t5(e):""}function t5(e){return N4(e&&e.line)+":"+N4(e&&e.column)}function j4(e){return t5(e&&e.start)+"-"+t5(e&&e.end)}function N4(e){return e&&typeof e=="number"?e:1}class oi extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",a={},s=!1;if(r&&("line"in r&&"column"in r?a={place:r}:"start"in r&&"end"in r?a={place:r}:"type"in r?a={ancestors:[r],place:r.position}:a={...r}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?a.ruleId=n:(a.source=n.slice(0,l),a.ruleId=n.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=yp(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}oi.prototype.file="";oi.prototype.name="";oi.prototype.reason="";oi.prototype.message="";oi.prototype.stack="";oi.prototype.column=void 0;oi.prototype.line=void 0;oi.prototype.ancestors=void 0;oi.prototype.cause=void 0;oi.prototype.fatal=void 0;oi.prototype.place=void 0;oi.prototype.ruleId=void 0;oi.prototype.source=void 0;const pj={}.hasOwnProperty,UH=new Map,zH=/[A-Z]/g,qH=new Set(["table","tbody","thead","tfoot","tr"]),WH=new Set(["td","th"]),C8="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function HH(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=QH(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=ZH(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?dj:uH,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=T8(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function T8(e,t,r){if(t.type==="element")return VH(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return GH(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return YH(e,t,r);if(t.type==="mdxjsEsm")return KH(e,t);if(t.type==="root")return XH(e,t,r);if(t.type==="text")return JH(e,t)}function VH(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=dj,e.schema=i),e.ancestors.push(t);const a=L8(e,t.tagName,!1),s=eV(e,t);let o=gj(e,t);return qH.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!eH(l):!0})),I8(e,s,a,t),mj(s,o),e.ancestors.pop(),e.schema=n,e.create(t,a,s,r)}function GH(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Jp(e,t.position)}function KH(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Jp(e,t.position)}function YH(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=dj,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:L8(e,t.name,!0),s=tV(e,t),o=gj(e,t);return I8(e,s,a,t),mj(s,o),e.ancestors.pop(),e.schema=n,e.create(t,a,s,r)}function XH(e,t,r){const n={};return mj(n,gj(e,t)),e.create(t,e.Fragment,n,r)}function JH(e,t){return t.value}function I8(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function mj(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function ZH(e,t,r){return n;function n(i,a,s,o){const c=Array.isArray(s.children)?r:t;return o?c(a,s,o):c(a,s)}}function QH(e,t){return r;function r(n,i,a,s){const o=Array.isArray(a.children),l=hj(n);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function eV(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&pj.call(t.properties,i)){const a=rV(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&WH.has(t.tagName)?n=o:r[s]=o}}if(n){const a=r.style||(r.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function tV(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const a=n.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else Jp(e,t.position);else{const i=n.name;let a;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else Jp(e,t.position);else a=n.value===null?!0:n.value;r[i]=a}return r}function gj(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:UH;for(;++n<t.children.length;){const a=t.children[n];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=T8(e,a,s);o!==void 0&&r.push(o)}return r}function rV(e,t,r){const n=oH(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?YW(r):dH(r)),n.property==="style"){let i=typeof r=="object"?r:nV(e,String(r));return e.stylePropertyNameCase==="css"&&(i=iV(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?iH[n.property]||n.property:n.attribute,r]}}function nV(e,t){try{return BH(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new oi("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=C8+"#cannot-parse-style-attribute",i}}function L8(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=m4(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}n=s}else n=m4(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return pj.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);Jp(e)}function Jp(e,t){const r=new oi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=C8+"#cannot-handle-mdx-estrees-without-createevaluater",r}function iV(e){const t={};let r;for(r in e)pj.call(e,r)&&(t[aV(r)]=e[r]);return t}function aV(e){let t=e.replace(zH,sV);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function sV(e){return"-"+e.toLowerCase()}const Ix={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},oV={};function lV(e,t){const r=oV,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return R8(e,n,i)}function R8(e,t,r){if(cV(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return A4(e.children,t,r)}return Array.isArray(e)?A4(e,t,r):""}function A4(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=R8(e[i],t,r);return n.join("")}function cV(e){return!!(e&&typeof e=="object")}const k4=document.createElement("i");function yj(e){const t="&"+e+";";k4.innerHTML=t;const r=k4.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Us(e,t,r,n){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)s=Array.from(n),s.unshift(t,r),e.splice(...s);else for(r&&e.splice(t,r);a<n.length;)s=n.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function Ea(e,t){return e.length>0?(Us(e,e.length,0,t),e):t}const O4={}.hasOwnProperty;function uV(e){const t={};let r=-1;for(;++r<e.length;)dV(t,e[r]);return t}function dV(e,t){let r;for(r in t){const i=(O4.call(e,r)?e[r]:void 0)||(e[r]={}),a=t[r];let s;if(a)for(s in a){O4.call(i,s)||(i[s]=[]);const o=a[s];fV(i[s],Array.isArray(o)?o:o?[o]:[])}}}function fV(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Us(e,0,0,n)}function $8(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function Ld(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Cs=Kl(/[A-Za-z]/),aa=Kl(/[\dA-Za-z]/),hV=Kl(/[#-'*+\--9=?A-Z^-~]/);function r5(e){return e!==null&&(e<32||e===127)}const n5=Kl(/\d/),pV=Kl(/[\dA-Fa-f]/),mV=Kl(/[!-/:-@[-`{-~]/);function Ot(e){return e!==null&&e<-2}function Ri(e){return e!==null&&(e<0||e===32)}function nr(e){return e===-2||e===-1||e===32}const gV=Kl(new RegExp("\\p{P}|\\p{S}","u")),yV=Kl(/\s/);function Kl(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function Ff(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const a=e.charCodeAt(r);let s="";if(a===37&&aa(e.charCodeAt(r+1))&&aa(e.charCodeAt(r+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(r+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(n,r),encodeURIComponent(s)),n=r+i+1,s=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function Ar(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return nr(l)?(e.enter(r),o(l)):t(l)}function o(l){return nr(l)&&a++<i?(e.consume(l),o):(e.exit(r),t(l))}}const vV={tokenize:bV};function bV(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Ar(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Ot(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const xV={tokenize:wV},E4={tokenize:_V};function wV(e){const t=this,r=[];let n=0,i,a,s;return o;function o(_){if(n<r.length){const N=r[n];return t.containerState=N[1],e.attempt(N[0].continuation,l,c)(_)}return c(_)}function l(_){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const N=t.events.length;let S=N,j;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){j=t.events[S][1].end;break}v(n);let P=N;for(;P<t.events.length;)t.events[P][1].end={...j},P++;return Us(t.events,S+1,0,t.events.slice(N)),t.events.length=P,c(_)}return o(_)}function c(_){if(n===r.length){if(!i)return p(_);if(i.currentConstruct&&i.currentConstruct.concrete)return y(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(E4,u,f)(_)}function u(_){return i&&w(),v(n),p(_)}function f(_){return t.parser.lazy[t.now().line]=n!==r.length,s=t.now().offset,y(_)}function p(_){return t.containerState={},e.attempt(E4,h,y)(_)}function h(_){return n++,r.push([t.currentConstruct,t.containerState]),p(_)}function y(_){if(_===null){i&&w(),v(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(_)}function g(_){if(_===null){b(e.exit("chunkFlow"),!0),v(0),e.consume(_);return}return Ot(_)?(e.consume(_),b(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(_),g)}function b(_,N){const S=t.sliceStream(_);if(N&&S.push(null),_.previous=a,a&&(a.next=_),a=_,i.defineSkip(_.start),i.write(S),t.parser.lazy[_.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<s&&(!i.events[j][1].end||i.events[j][1].end.offset>s))return;const P=t.events.length;let C=P,L,F;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){if(L){F=t.events[C][1].end;break}L=!0}for(v(n),j=P;j<t.events.length;)t.events[j][1].end={...F},j++;Us(t.events,C+1,0,t.events.slice(P)),t.events.length=j}}function v(_){let N=r.length;for(;N-- >_;){const S=r[N];t.containerState=S[1],S[0].exit.call(t,e)}r.length=_}function w(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function _V(e,t,r){return Ar(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function P4(e){if(e===null||Ri(e)||yV(e))return 1;if(gV(e))return 2}function vj(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!n.includes(a)&&(t=a(t,r),n.push(a))}return t}const i5={name:"attention",resolveAll:SV,tokenize:jV};function SV(e,t){let r=-1,n,i,a,s,o,l,c,u;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const f={...e[n][1].end},p={...e[r][1].start};C4(f,-l),C4(p,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[n][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:p},a={type:l>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[n][1].end={...s.start},e[r][1].start={...o.end},c=[],e[n][1].end.offset-e[n][1].start.offset&&(c=Ea(c,[["enter",e[n][1],t],["exit",e[n][1],t]])),c=Ea(c,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),c=Ea(c,vj(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),c=Ea(c,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(u=2,c=Ea(c,[["enter",e[r][1],t],["exit",e[r][1],t]])):u=0,Us(e,n-1,r-n+3,c),r=n+c.length-u-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function jV(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=P4(n);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const c=e.exit("attentionSequence"),u=P4(l),f=!u||u===2&&i||r.includes(l),p=!i||i===2&&u||r.includes(n);return c._open=!!(a===42?f:f&&(i||!p)),c._close=!!(a===42?p:p&&(u||!f)),t(l)}}function C4(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const NV={name:"autolink",tokenize:AV};function AV(e,t,r){let n=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(h){return Cs(h)?(e.consume(h),s):h===64?r(h):c(h)}function s(h){return h===43||h===45||h===46||aa(h)?(n=1,o(h)):c(h)}function o(h){return h===58?(e.consume(h),n=0,l):(h===43||h===45||h===46||aa(h))&&n++<32?(e.consume(h),o):(n=0,c(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||r5(h)?r(h):(e.consume(h),l)}function c(h){return h===64?(e.consume(h),u):hV(h)?(e.consume(h),c):r(h)}function u(h){return aa(h)?f(h):r(h)}function f(h){return h===46?(e.consume(h),n=0,u):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):p(h)}function p(h){if((h===45||aa(h))&&n++<63){const y=h===45?p:f;return e.consume(h),y}return r(h)}}const w1={partial:!0,tokenize:kV};function kV(e,t,r){return n;function n(a){return nr(a)?Ar(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Ot(a)?t(a):r(a)}}const M8={continuation:{tokenize:EV},exit:PV,name:"blockQuote",tokenize:OV};function OV(e,t,r){const n=this;return i;function i(s){if(s===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return r(s)}function a(s){return nr(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function EV(e,t,r){const n=this;return i;function i(s){return nr(s)?Ar(e,a,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(M8,t,r)(s)}}function PV(e){e.exit("blockQuote")}const D8={name:"characterEscape",tokenize:CV};function CV(e,t,r){return n;function n(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return mV(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(a)}}const B8={name:"characterReference",tokenize:TV};function TV(e,t,r){const n=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,s=aa,u(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=pV,u):(e.enter("characterReferenceValue"),a=7,s=n5,u(f))}function u(f){if(f===59&&i){const p=e.exit("characterReferenceValue");return s===aa&&!yj(n.sliceSerialize(p))?r(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),u):r(f)}}const T4={partial:!0,tokenize:LV},I4={concrete:!0,name:"codeFenced",tokenize:IV};function IV(e,t,r){const n=this,i={partial:!0,tokenize:S};let a=0,s=0,o;return l;function l(j){return c(j)}function c(j){const P=n.events[n.events.length-1];return a=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,o=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(j)}function u(j){return j===o?(s++,e.consume(j),u):s<3?r(j):(e.exit("codeFencedFenceSequence"),nr(j)?Ar(e,f,"whitespace")(j):f(j))}function f(j){return j===null||Ot(j)?(e.exit("codeFencedFence"),n.interrupt?t(j):e.check(T4,g,N)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(j))}function p(j){return j===null||Ot(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(j)):nr(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ar(e,h,"whitespace")(j)):j===96&&j===o?r(j):(e.consume(j),p)}function h(j){return j===null||Ot(j)?f(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(j))}function y(j){return j===null||Ot(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(j)):j===96&&j===o?r(j):(e.consume(j),y)}function g(j){return e.attempt(i,N,b)(j)}function b(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),v}function v(j){return a>0&&nr(j)?Ar(e,w,"linePrefix",a+1)(j):w(j)}function w(j){return j===null||Ot(j)?e.check(T4,g,N)(j):(e.enter("codeFlowValue"),_(j))}function _(j){return j===null||Ot(j)?(e.exit("codeFlowValue"),w(j)):(e.consume(j),_)}function N(j){return e.exit("codeFenced"),t(j)}function S(j,P,C){let L=0;return F;function F(B){return j.enter("lineEnding"),j.consume(B),j.exit("lineEnding"),k}function k(B){return j.enter("codeFencedFence"),nr(B)?Ar(j,E,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):E(B)}function E(B){return B===o?(j.enter("codeFencedFenceSequence"),$(B)):C(B)}function $(B){return B===o?(L++,j.consume(B),$):L>=s?(j.exit("codeFencedFenceSequence"),nr(B)?Ar(j,M,"whitespace")(B):M(B)):C(B)}function M(B){return B===null||Ot(B)?(j.exit("codeFencedFence"),P(B)):C(B)}}}function LV(e,t,r){const n=this;return i;function i(s){return s===null?r(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}const Lx={name:"codeIndented",tokenize:$V},RV={partial:!0,tokenize:MV};function $V(e,t,r){const n=this;return i;function i(c){return e.enter("codeIndented"),Ar(e,a,"linePrefix",5)(c)}function a(c){const u=n.events[n.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?s(c):r(c)}function s(c){return c===null?l(c):Ot(c)?e.attempt(RV,s,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||Ot(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),t(c)}}function MV(e,t,r){const n=this;return i;function i(s){return n.parser.lazy[n.now().line]?r(s):Ot(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Ar(e,a,"linePrefix",5)(s)}function a(s){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):Ot(s)?i(s):r(s)}}const DV={name:"codeText",previous:FV,resolve:BV,tokenize:UV};function BV(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function FV(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function UV(e,t,r){let n=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),n++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?r(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,u(f)):Ot(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Ot(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function u(f){return f===96?(e.consume(f),i++,u):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",c(f))}}class zV{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Dh(this.left,n),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Dh(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Dh(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Dh(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Dh(this.left,r.reverse())}}}function Dh(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function F8(e){const t={};let r=-1,n,i,a,s,o,l,c;const u=new zV(e);for(;++r<u.length;){for(;r in t;)r=t[r];if(n=u.get(r),r&&n[1].type==="chunkFlow"&&u.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,qV(u,r)),r=t[r],c=!0);else if(n[1]._container){for(a=r,i=void 0;a--;)if(s=u.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(n[1].end={...u.get(i)[1].start},o=u.slice(i,r),o.unshift(n),u.splice(i,r-i+1,o))}}return Us(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function qV(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const a=[];let s=r._tokenizer;s||(s=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let u,f,p=-1,h=r,y=0,g=0;const b=[g];for(;h;){for(;e.get(++i)[1]!==h;);a.push(i),h._tokenizer||(u=n.sliceStream(h),h.next||u.push(null),f&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=r;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(g=p+1,b.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):b.pop(),p=b.length;p--;){const v=o.slice(b[p],b[p+1]),w=a.pop();l.push([w,w+v.length-1]),e.splice(w,2,v)}for(l.reverse(),p=-1;++p<l.length;)c[y+l[p][0]]=y+l[p][1],y+=l[p][1]-l[p][0]-1;return c}const WV={resolve:VV,tokenize:GV},HV={partial:!0,tokenize:KV};function VV(e){return F8(e),e}function GV(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Ot(o)?e.check(HV,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function KV(e,t,r){const n=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Ar(e,a,"linePrefix")}function a(s){if(s===null||Ot(s))return r(s);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(n.parser.constructs.flow,r,t)(s)}}function U8(e,t,r,n,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return f;function f(v){return v===60?(e.enter(n),e.enter(i),e.enter(a),e.consume(v),e.exit(a),p):v===null||v===32||v===41||r5(v)?r(v):(e.enter(n),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(v))}function p(v){return v===62?(e.enter(a),e.consume(v),e.exit(a),e.exit(i),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===62?(e.exit("chunkString"),e.exit(o),p(v)):v===null||v===60||Ot(v)?r(v):(e.consume(v),v===92?y:h)}function y(v){return v===60||v===62||v===92?(e.consume(v),h):h(v)}function g(v){return!u&&(v===null||v===41||Ri(v))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(n),t(v)):u<c&&v===40?(e.consume(v),u++,g):v===41?(e.consume(v),u--,g):v===null||v===32||v===40||r5(v)?r(v):(e.consume(v),v===92?b:g)}function b(v){return v===40||v===41||v===92?(e.consume(v),g):g(v)}}function z8(e,t,r,n,i,a){const s=this;let o=0,l;return c;function c(h){return e.enter(n),e.enter(i),e.consume(h),e.exit(i),e.enter(a),u}function u(h){return o>999||h===null||h===91||h===93&&!l||h===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?r(h):h===93?(e.exit(a),e.enter(i),e.consume(h),e.exit(i),e.exit(n),t):Ot(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||Ot(h)||o++>999?(e.exit("chunkString"),u(h)):(e.consume(h),l||(l=!nr(h)),h===92?p:f)}function p(h){return h===91||h===92||h===93?(e.consume(h),o++,f):f(h)}}function q8(e,t,r,n,i,a){let s;return o;function o(p){return p===34||p===39||p===40?(e.enter(n),e.enter(i),e.consume(p),e.exit(i),s=p===40?41:p,l):r(p)}function l(p){return p===s?(e.enter(i),e.consume(p),e.exit(i),e.exit(n),t):(e.enter(a),c(p))}function c(p){return p===s?(e.exit(a),l(s)):p===null?r(p):Ot(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Ar(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(p))}function u(p){return p===s||p===null||Ot(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?f:u)}function f(p){return p===s||p===92?(e.consume(p),u):u(p)}}function vp(e,t){let r;return n;function n(i){return Ot(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):nr(i)?Ar(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const YV={name:"definition",tokenize:JV},XV={partial:!0,tokenize:ZV};function JV(e,t,r){const n=this;let i;return a;function a(h){return e.enter("definition"),s(h)}function s(h){return z8.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function o(h){return i=Ld(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):r(h)}function l(h){return Ri(h)?vp(e,c)(h):c(h)}function c(h){return U8(e,u,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function u(h){return e.attempt(XV,f,f)(h)}function f(h){return nr(h)?Ar(e,p,"whitespace")(h):p(h)}function p(h){return h===null||Ot(h)?(e.exit("definition"),n.parser.defined.push(i),t(h)):r(h)}}function ZV(e,t,r){return n;function n(o){return Ri(o)?vp(e,i)(o):r(o)}function i(o){return q8(e,a,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return nr(o)?Ar(e,s,"whitespace")(o):s(o)}function s(o){return o===null||Ot(o)?t(o):r(o)}}const QV={name:"hardBreakEscape",tokenize:eG};function eG(e,t,r){return n;function n(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Ot(a)?(e.exit("hardBreakEscape"),t(a)):r(a)}}const tG={name:"headingAtx",resolve:rG,tokenize:nG};function rG(e,t){let r=e.length-2,n=3,i,a;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},a={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Us(e,n,r-n+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function nG(e,t,r){let n=0;return i;function i(u){return e.enter("atxHeading"),a(u)}function a(u){return e.enter("atxHeadingSequence"),s(u)}function s(u){return u===35&&n++<6?(e.consume(u),s):u===null||Ri(u)?(e.exit("atxHeadingSequence"),o(u)):r(u)}function o(u){return u===35?(e.enter("atxHeadingSequence"),l(u)):u===null||Ot(u)?(e.exit("atxHeading"),t(u)):nr(u)?Ar(e,o,"whitespace")(u):(e.enter("atxHeadingText"),c(u))}function l(u){return u===35?(e.consume(u),l):(e.exit("atxHeadingSequence"),o(u))}function c(u){return u===null||u===35||Ri(u)?(e.exit("atxHeadingText"),o(u)):(e.consume(u),c)}}const iG=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],L4=["pre","script","style","textarea"],aG={concrete:!0,name:"htmlFlow",resolveTo:lG,tokenize:cG},sG={partial:!0,tokenize:dG},oG={partial:!0,tokenize:uG};function lG(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function cG(e,t,r){const n=this;let i,a,s,o,l;return c;function c(I){return u(I)}function u(I){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(I),f}function f(I){return I===33?(e.consume(I),p):I===47?(e.consume(I),a=!0,g):I===63?(e.consume(I),i=3,n.interrupt?t:D):Cs(I)?(e.consume(I),s=String.fromCharCode(I),b):r(I)}function p(I){return I===45?(e.consume(I),i=2,h):I===91?(e.consume(I),i=5,o=0,y):Cs(I)?(e.consume(I),i=4,n.interrupt?t:D):r(I)}function h(I){return I===45?(e.consume(I),n.interrupt?t:D):r(I)}function y(I){const Y="CDATA[";return I===Y.charCodeAt(o++)?(e.consume(I),o===Y.length?n.interrupt?t:E:y):r(I)}function g(I){return Cs(I)?(e.consume(I),s=String.fromCharCode(I),b):r(I)}function b(I){if(I===null||I===47||I===62||Ri(I)){const Y=I===47,ie=s.toLowerCase();return!Y&&!a&&L4.includes(ie)?(i=1,n.interrupt?t(I):E(I)):iG.includes(s.toLowerCase())?(i=6,Y?(e.consume(I),v):n.interrupt?t(I):E(I)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(I):a?w(I):_(I))}return I===45||aa(I)?(e.consume(I),s+=String.fromCharCode(I),b):r(I)}function v(I){return I===62?(e.consume(I),n.interrupt?t:E):r(I)}function w(I){return nr(I)?(e.consume(I),w):F(I)}function _(I){return I===47?(e.consume(I),F):I===58||I===95||Cs(I)?(e.consume(I),N):nr(I)?(e.consume(I),_):F(I)}function N(I){return I===45||I===46||I===58||I===95||aa(I)?(e.consume(I),N):S(I)}function S(I){return I===61?(e.consume(I),j):nr(I)?(e.consume(I),S):_(I)}function j(I){return I===null||I===60||I===61||I===62||I===96?r(I):I===34||I===39?(e.consume(I),l=I,P):nr(I)?(e.consume(I),j):C(I)}function P(I){return I===l?(e.consume(I),l=null,L):I===null||Ot(I)?r(I):(e.consume(I),P)}function C(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||Ri(I)?S(I):(e.consume(I),C)}function L(I){return I===47||I===62||nr(I)?_(I):r(I)}function F(I){return I===62?(e.consume(I),k):r(I)}function k(I){return I===null||Ot(I)?E(I):nr(I)?(e.consume(I),k):r(I)}function E(I){return I===45&&i===2?(e.consume(I),q):I===60&&i===1?(e.consume(I),J):I===62&&i===4?(e.consume(I),se):I===63&&i===3?(e.consume(I),D):I===93&&i===5?(e.consume(I),Z):Ot(I)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(sG,T,$)(I)):I===null||Ot(I)?(e.exit("htmlFlowData"),$(I)):(e.consume(I),E)}function $(I){return e.check(oG,M,T)(I)}function M(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),B}function B(I){return I===null||Ot(I)?$(I):(e.enter("htmlFlowData"),E(I))}function q(I){return I===45?(e.consume(I),D):E(I)}function J(I){return I===47?(e.consume(I),s="",W):E(I)}function W(I){if(I===62){const Y=s.toLowerCase();return L4.includes(Y)?(e.consume(I),se):E(I)}return Cs(I)&&s.length<8?(e.consume(I),s+=String.fromCharCode(I),W):E(I)}function Z(I){return I===93?(e.consume(I),D):E(I)}function D(I){return I===62?(e.consume(I),se):I===45&&i===2?(e.consume(I),D):E(I)}function se(I){return I===null||Ot(I)?(e.exit("htmlFlowData"),T(I)):(e.consume(I),se)}function T(I){return e.exit("htmlFlow"),t(I)}}function uG(e,t,r){const n=this;return i;function i(s){return Ot(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):r(s)}function a(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}function dG(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(w1,t,r)}}const fG={name:"htmlText",tokenize:hG};function hG(e,t,r){const n=this;let i,a,s;return o;function o(D){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(D),l}function l(D){return D===33?(e.consume(D),c):D===47?(e.consume(D),S):D===63?(e.consume(D),_):Cs(D)?(e.consume(D),C):r(D)}function c(D){return D===45?(e.consume(D),u):D===91?(e.consume(D),a=0,y):Cs(D)?(e.consume(D),w):r(D)}function u(D){return D===45?(e.consume(D),h):r(D)}function f(D){return D===null?r(D):D===45?(e.consume(D),p):Ot(D)?(s=f,J(D)):(e.consume(D),f)}function p(D){return D===45?(e.consume(D),h):f(D)}function h(D){return D===62?q(D):D===45?p(D):f(D)}function y(D){const se="CDATA[";return D===se.charCodeAt(a++)?(e.consume(D),a===se.length?g:y):r(D)}function g(D){return D===null?r(D):D===93?(e.consume(D),b):Ot(D)?(s=g,J(D)):(e.consume(D),g)}function b(D){return D===93?(e.consume(D),v):g(D)}function v(D){return D===62?q(D):D===93?(e.consume(D),v):g(D)}function w(D){return D===null||D===62?q(D):Ot(D)?(s=w,J(D)):(e.consume(D),w)}function _(D){return D===null?r(D):D===63?(e.consume(D),N):Ot(D)?(s=_,J(D)):(e.consume(D),_)}function N(D){return D===62?q(D):_(D)}function S(D){return Cs(D)?(e.consume(D),j):r(D)}function j(D){return D===45||aa(D)?(e.consume(D),j):P(D)}function P(D){return Ot(D)?(s=P,J(D)):nr(D)?(e.consume(D),P):q(D)}function C(D){return D===45||aa(D)?(e.consume(D),C):D===47||D===62||Ri(D)?L(D):r(D)}function L(D){return D===47?(e.consume(D),q):D===58||D===95||Cs(D)?(e.consume(D),F):Ot(D)?(s=L,J(D)):nr(D)?(e.consume(D),L):q(D)}function F(D){return D===45||D===46||D===58||D===95||aa(D)?(e.consume(D),F):k(D)}function k(D){return D===61?(e.consume(D),E):Ot(D)?(s=k,J(D)):nr(D)?(e.consume(D),k):L(D)}function E(D){return D===null||D===60||D===61||D===62||D===96?r(D):D===34||D===39?(e.consume(D),i=D,$):Ot(D)?(s=E,J(D)):nr(D)?(e.consume(D),E):(e.consume(D),M)}function $(D){return D===i?(e.consume(D),i=void 0,B):D===null?r(D):Ot(D)?(s=$,J(D)):(e.consume(D),$)}function M(D){return D===null||D===34||D===39||D===60||D===61||D===96?r(D):D===47||D===62||Ri(D)?L(D):(e.consume(D),M)}function B(D){return D===47||D===62||Ri(D)?L(D):r(D)}function q(D){return D===62?(e.consume(D),e.exit("htmlTextData"),e.exit("htmlText"),t):r(D)}function J(D){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),W}function W(D){return nr(D)?Ar(e,Z,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):Z(D)}function Z(D){return e.enter("htmlTextData"),s(D)}}const bj={name:"labelEnd",resolveAll:yG,resolveTo:vG,tokenize:bG},pG={tokenize:xG},mG={tokenize:wG},gG={tokenize:_G};function yG(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&Us(e,0,e.length,r),e}function vG(e,t){let r=e.length,n=0,i,a,s,o;for(;r--;)if(i=e[r][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(s=r);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},u={type:"labelText",start:{...e[a+n+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=Ea(o,e.slice(a+1,a+n+3)),o=Ea(o,[["enter",u,t]]),o=Ea(o,vj(t.parser.constructs.insideSpan.null,e.slice(a+n+4,s-3),t)),o=Ea(o,[["exit",u,t],e[s-2],e[s-1],["exit",c,t]]),o=Ea(o,e.slice(s+1)),o=Ea(o,[["exit",l,t]]),Us(e,a,e.length,o),e}function bG(e,t,r){const n=this;let i=n.events.length,a,s;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){a=n.events[i][1];break}return o;function o(p){return a?a._inactive?f(p):(s=n.parser.defined.includes(Ld(n.sliceSerialize({start:a.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):r(p)}function l(p){return p===40?e.attempt(pG,u,s?u:f)(p):p===91?e.attempt(mG,u,s?c:f)(p):s?u(p):f(p)}function c(p){return e.attempt(gG,u,f)(p)}function u(p){return t(p)}function f(p){return a._balanced=!0,r(p)}}function xG(e,t,r){return n;function n(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Ri(f)?vp(e,a)(f):a(f)}function a(f){return f===41?u(f):U8(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Ri(f)?vp(e,l)(f):u(f)}function o(f){return r(f)}function l(f){return f===34||f===39||f===40?q8(e,c,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):u(f)}function c(f){return Ri(f)?vp(e,u)(f):u(f)}function u(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):r(f)}}function wG(e,t,r){const n=this;return i;function i(o){return z8.call(n,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return n.parser.defined.includes(Ld(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function s(o){return r(o)}}function _G(e,t,r){return n;function n(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):r(a)}}const SG={name:"labelStartImage",resolveAll:bj.resolveAll,tokenize:jG};function jG(e,t,r){const n=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):r(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const NG={name:"labelStartLink",resolveAll:bj.resolveAll,tokenize:AG};function AG(e,t,r){const n=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):t(s)}}const Rx={name:"lineEnding",tokenize:kG};function kG(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Ar(e,t,"linePrefix")}}const J0={name:"thematicBreak",tokenize:OG};function OG(e,t,r){let n=0,i;return a;function a(c){return e.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):n>=3&&(c===null||Ot(c))?(e.exit("thematicBreak"),t(c)):r(c)}function l(c){return c===i?(e.consume(c),n++,l):(e.exit("thematicBreakSequence"),nr(c)?Ar(e,o,"whitespace")(c):o(c))}}const Ni={continuation:{tokenize:TG},exit:LG,name:"list",tokenize:CG},EG={partial:!0,tokenize:RG},PG={partial:!0,tokenize:IG};function CG(e,t,r){const n=this,i=n.events[n.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(h){const y=n.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!n.containerState.marker||h===n.containerState.marker:n5(h)){if(n.containerState.type||(n.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(J0,r,c)(h):c(h);if(!n.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return r(h)}function l(h){return n5(h)&&++s<10?(e.consume(h),l):(!n.interrupt||s<2)&&(n.containerState.marker?h===n.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),c(h)):r(h)}function c(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||h,e.check(w1,n.interrupt?r:u,e.attempt(EG,p,f))}function u(h){return n.containerState.initialBlankLine=!0,a++,p(h)}function f(h){return nr(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),p):r(h)}function p(h){return n.containerState.size=a+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function TG(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(w1,i,a);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Ar(e,t,"listItemIndent",n.containerState.size+1)(o)}function a(o){return n.containerState.furtherBlankLines||!nr(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,s(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(PG,t,s)(o))}function s(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,Ar(e,e.attempt(Ni,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function IG(e,t,r){const n=this;return Ar(e,i,"listItemIndent",n.containerState.size+1);function i(a){const s=n.events[n.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===n.containerState.size?t(a):r(a)}}function LG(e){e.exit(this.containerState.type)}function RG(e,t,r){const n=this;return Ar(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=n.events[n.events.length-1];return!nr(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):r(a)}}const R4={name:"setextUnderline",resolveTo:$G,tokenize:MG};function $G(e,t){let r=e.length,n,i,a;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!a&&e[r][1].type==="definition"&&(a=r);const s={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[n][1],t]),e[n][1].end={...e[a][1].end}):e[n][1]=s,e.push(["exit",s,t]),e}function MG(e,t,r){const n=this;let i;return a;function a(c){let u=n.events.length,f;for(;u--;)if(n.events[u][1].type!=="lineEnding"&&n.events[u][1].type!=="linePrefix"&&n.events[u][1].type!=="content"){f=n.events[u][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||f)?(e.enter("setextHeadingLine"),i=c,s(c)):r(c)}function s(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),nr(c)?Ar(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Ot(c)?(e.exit("setextHeadingLine"),t(c)):r(c)}}const DG={tokenize:BG};function BG(e){const t=this,r=e.attempt(w1,n,e.attempt(this.parser.constructs.flowInitial,i,Ar(e,e.attempt(this.parser.constructs.flow,i,e.attempt(WV,i)),"linePrefix")));return r;function n(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const FG={resolveAll:H8()},UG=W8("string"),zG=W8("text");function W8(e){return{resolveAll:H8(e==="text"?qG:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],a=r.attempt(i,s,o);return s;function s(u){return c(u)?a(u):o(u)}function o(u){if(u===null){r.consume(u);return}return r.enter("data"),r.consume(u),l}function l(u){return c(u)?(r.exit("data"),a(u)):(r.consume(u),l)}function c(u){if(u===null)return!0;const f=i[u];let p=-1;if(f)for(;++p<f.length;){const h=f[p];if(!h.previous||h.previous.call(n,n.previous))return!0}return!1}}}function H8(e){return t;function t(r,n){let i=-1,a;for(;++i<=r.length;)a===void 0?r[i]&&r[i][1].type==="data"&&(a=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==a+2&&(r[a][1].end=r[i-1][1].end,r.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(r,n):r}}function qG(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const c={type:r===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:n.start._bufferIndex+s,_index:n.start._index+a,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...c.start},n.start.offset===n.end.offset?Object.assign(n,c):(e.splice(r,0,["enter",c,t],["exit",c,t]),r+=2)}r++}return e}const WG={42:Ni,43:Ni,45:Ni,48:Ni,49:Ni,50:Ni,51:Ni,52:Ni,53:Ni,54:Ni,55:Ni,56:Ni,57:Ni,62:M8},HG={91:YV},VG={[-2]:Lx,[-1]:Lx,32:Lx},GG={35:tG,42:J0,45:[R4,J0],60:aG,61:R4,95:J0,96:I4,126:I4},KG={38:B8,92:D8},YG={[-5]:Rx,[-4]:Rx,[-3]:Rx,33:SG,38:B8,42:i5,60:[NV,fG],91:NG,92:[QV,D8],93:bj,95:i5,96:DV},XG={null:[i5,FG]},JG={null:[42,95]},ZG={null:[]},QG=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:JG,contentInitial:HG,disable:ZG,document:WG,flow:GG,flowInitial:VG,insideSpan:XG,string:KG,text:YG},Symbol.toStringTag,{value:"Module"}));function eK(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:P(S),check:P(j),consume:w,enter:_,exit:N,interrupt:P(j,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:y,parser:e,previous:null,sliceSerialize:p,sliceStream:h,write:f};let u=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function f(k){return s=Ea(s,k),b(),s[s.length-1]!==null?[]:(C(t,0),c.events=vj(a,c.events,c),c.events)}function p(k,E){return rK(h(k),E)}function h(k){return tK(s,k)}function y(){const{_bufferIndex:k,_index:E,line:$,column:M,offset:B}=n;return{_bufferIndex:k,_index:E,line:$,column:M,offset:B}}function g(k){i[k.line]=k.column,F()}function b(){let k;for(;n._index<s.length;){const E=s[n._index];if(typeof E=="string")for(k=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===k&&n._bufferIndex<E.length;)v(E.charCodeAt(n._bufferIndex));else v(E)}}function v(k){u=u(k)}function w(k){Ot(k)?(n.line++,n.column=1,n.offset+=k===-3?2:1,F()):k!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===s[n._index].length&&(n._bufferIndex=-1,n._index++)),c.previous=k}function _(k,E){const $=E||{};return $.type=k,$.start=y(),c.events.push(["enter",$,c]),o.push($),$}function N(k){const E=o.pop();return E.end=y(),c.events.push(["exit",E,c]),E}function S(k,E){C(k,E.from)}function j(k,E){E.restore()}function P(k,E){return $;function $(M,B,q){let J,W,Z,D;return Array.isArray(M)?T(M):"tokenize"in M?T([M]):se(M);function se(te){return de;function de(ve){const oe=ve!==null&&te[ve],ye=ve!==null&&te.null,ke=[...Array.isArray(oe)?oe:oe?[oe]:[],...Array.isArray(ye)?ye:ye?[ye]:[]];return T(ke)(ve)}}function T(te){return J=te,W=0,te.length===0?q:I(te[W])}function I(te){return de;function de(ve){return D=L(),Z=te,te.partial||(c.currentConstruct=te),te.name&&c.parser.constructs.disable.null.includes(te.name)?ie():te.tokenize.call(E?Object.assign(Object.create(c),E):c,l,Y,ie)(ve)}}function Y(te){return k(Z,D),B}function ie(te){return D.restore(),++W<J.length?I(J[W]):q}}}function C(k,E){k.resolveAll&&!a.includes(k)&&a.push(k),k.resolve&&Us(c.events,E,c.events.length-E,k.resolve(c.events.slice(E),c)),k.resolveTo&&(c.events=k.resolveTo(c.events,c))}function L(){const k=y(),E=c.previous,$=c.currentConstruct,M=c.events.length,B=Array.from(o);return{from:M,restore:q};function q(){n=k,c.previous=E,c.currentConstruct=$,c.events.length=M,o=B,F()}}function F(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function tK(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(r===i)s=[e[r].slice(n,a)];else{if(s=e.slice(r,i),n>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(n):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function rK(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const a=e[r];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,n.push(s)}return n.join("")}function nK(e){const n={constructs:uV([QG,...(e||{}).extensions||[]]),content:i(vV),defined:[],document:i(xV),flow:i(DG),lazy:{},string:i(UG),text:i(zG)};return n;function i(a){return s;function s(o){return eK(n,a,o)}}}function iK(e){for(;!F8(e););return e}const $4=/[\0\t\n\r]/g;function aK(){let e=1,t="",r=!0,n;return i;function i(a,s,o){const l=[];let c,u,f,p,h;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",r&&(a.charCodeAt(0)===65279&&f++,r=void 0);f<a.length;){if($4.lastIndex=f,c=$4.exec(a),p=c&&c.index!==void 0?c.index:a.length,h=a.charCodeAt(p),!c){t=a.slice(f);break}if(h===10&&f===p&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),f<p&&(l.push(a.slice(f,p)),e+=p-f),h){case 0:{l.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,l.push(-2);e++<u;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:n=!0,e=1}f=p+1}return o&&(n&&l.push(-5),t&&l.push(t),l.push(null)),l}}const sK=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function oK(e){return e.replace(sK,lK)}function lK(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),a=i===120||i===88;return $8(r.slice(a?2:1),a?16:10)}return yj(r)||e}const V8={}.hasOwnProperty;function cK(e,t,r){return typeof t!="string"&&(r=t,t=void 0),uK(r)(iK(nK(r).document().write(aK()(e,t,!0))))}function uK(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ne),autolinkProtocol:L,autolinkEmail:L,atxHeading:a(X),blockQuote:a(ye),characterEscape:L,characterReference:L,codeFenced:a(ke),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(ke,s),codeText:a(ee,s),codeTextData:L,data:L,codeFlowValue:L,definition:a(he),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(ue),hardBreakEscape:a(Me),hardBreakTrailing:a(Me),htmlFlow:a(ze,s),htmlFlowData:L,htmlText:a(ze,s),htmlTextData:L,image:a(He),label:s,link:a(Ne),listItem:a(Be),listItemValue:p,listOrdered:a(Ue,f),listUnordered:a(Ue),paragraph:a(Qe),reference:I,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(X),strong:a(Je),thematicBreak:a(be)},exit:{atxHeading:l(),atxHeadingSequence:S,autolink:l(),autolinkEmail:oe,autolinkProtocol:ve,blockQuote:l(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:ie,characterReferenceMarkerNumeric:ie,characterReferenceValue:te,characterReference:de,codeFenced:l(b),codeFencedFence:g,codeFencedFenceInfo:h,codeFencedFenceMeta:y,codeFlowValue:F,codeIndented:l(v),codeText:l(B),codeTextData:F,data:F,definition:l(),definitionDestinationString:N,definitionLabelString:w,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(E),hardBreakTrailing:l(E),htmlFlow:l($),htmlFlowData:F,htmlText:l(M),htmlTextData:F,image:l(J),label:Z,labelText:W,lineEnding:k,link:l(q),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Y,resourceDestinationString:D,resourceTitleString:se,resource:T,setextHeading:l(C),setextHeadingLineSequence:P,setextHeadingText:j,strong:l(),thematicBreak:l()}};G8(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(le){let xe={type:"root",children:[]};const ge={stack:[xe],tokenStack:[],config:t,enter:o,exit:c,buffer:s,resume:u,data:r},Ae=[];let Oe=-1;for(;++Oe<le.length;)if(le[Oe][1].type==="listOrdered"||le[Oe][1].type==="listUnordered")if(le[Oe][0]==="enter")Ae.push(Oe);else{const Re=Ae.pop();Oe=i(le,Re,Oe)}for(Oe=-1;++Oe<le.length;){const Re=t[le[Oe][0]];V8.call(Re,le[Oe][1].type)&&Re[le[Oe][1].type].call(Object.assign({sliceSerialize:le[Oe][2].sliceSerialize},ge),le[Oe][1])}if(ge.tokenStack.length>0){const Re=ge.tokenStack[ge.tokenStack.length-1];(Re[1]||M4).call(ge,void 0,Re[0])}for(xe.position={start:ul(le.length>0?le[0][1].start:{line:1,column:1,offset:0}),end:ul(le.length>0?le[le.length-2][1].end:{line:1,column:1,offset:0})},Oe=-1;++Oe<t.transforms.length;)xe=t.transforms[Oe](xe)||xe;return xe}function i(le,xe,ge){let Ae=xe-1,Oe=-1,Re=!1,et,gt,Ke,tt;for(;++Ae<=ge;){const rt=le[Ae];switch(rt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{rt[0]==="enter"?Oe++:Oe--,tt=void 0;break}case"lineEndingBlank":{rt[0]==="enter"&&(et&&!tt&&!Oe&&!Ke&&(Ke=Ae),tt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:tt=void 0}if(!Oe&&rt[0]==="enter"&&rt[1].type==="listItemPrefix"||Oe===-1&&rt[0]==="exit"&&(rt[1].type==="listUnordered"||rt[1].type==="listOrdered")){if(et){let Ye=Ae;for(gt=void 0;Ye--;){const ft=le[Ye];if(ft[1].type==="lineEnding"||ft[1].type==="lineEndingBlank"){if(ft[0]==="exit")continue;gt&&(le[gt][1].type="lineEndingBlank",Re=!0),ft[1].type="lineEnding",gt=Ye}else if(!(ft[1].type==="linePrefix"||ft[1].type==="blockQuotePrefix"||ft[1].type==="blockQuotePrefixWhitespace"||ft[1].type==="blockQuoteMarker"||ft[1].type==="listItemIndent"))break}Ke&&(!gt||Ke<gt)&&(et._spread=!0),et.end=Object.assign({},gt?le[gt][1].start:rt[1].end),le.splice(gt||Ae,0,["exit",et,rt[2]]),Ae++,ge++}if(rt[1].type==="listItemPrefix"){const Ye={type:"listItem",_spread:!1,start:Object.assign({},rt[1].start),end:void 0};et=Ye,le.splice(Ae,0,["enter",Ye,rt[2]]),Ae++,ge++,Ke=void 0,tt=!0}}}return le[xe][1]._spread=Re,ge}function a(le,xe){return ge;function ge(Ae){o.call(this,le(Ae),Ae),xe&&xe.call(this,Ae)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(le,xe,ge){this.stack[this.stack.length-1].children.push(le),this.stack.push(le),this.tokenStack.push([xe,ge||void 0]),le.position={start:ul(xe.start),end:void 0}}function l(le){return xe;function xe(ge){le&&le.call(this,ge),c.call(this,ge)}}function c(le,xe){const ge=this.stack.pop(),Ae=this.tokenStack.pop();if(Ae)Ae[0].type!==le.type&&(xe?xe.call(this,le,Ae[0]):(Ae[1]||M4).call(this,le,Ae[0]));else throw new Error("Cannot close `"+le.type+"` ("+yp({start:le.start,end:le.end})+"): its not open");ge.position.end=ul(le.end)}function u(){return lV(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(le){if(this.data.expectingFirstListItemValue){const xe=this.stack[this.stack.length-2];xe.start=Number.parseInt(this.sliceSerialize(le),10),this.data.expectingFirstListItemValue=void 0}}function h(){const le=this.resume(),xe=this.stack[this.stack.length-1];xe.lang=le}function y(){const le=this.resume(),xe=this.stack[this.stack.length-1];xe.meta=le}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const le=this.resume(),xe=this.stack[this.stack.length-1];xe.value=le.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const le=this.resume(),xe=this.stack[this.stack.length-1];xe.value=le.replace(/(\r?\n|\r)$/g,"")}function w(le){const xe=this.resume(),ge=this.stack[this.stack.length-1];ge.label=xe,ge.identifier=Ld(this.sliceSerialize(le)).toLowerCase()}function _(){const le=this.resume(),xe=this.stack[this.stack.length-1];xe.title=le}function N(){const le=this.resume(),xe=this.stack[this.stack.length-1];xe.url=le}function S(le){const xe=this.stack[this.stack.length-1];if(!xe.depth){const ge=this.sliceSerialize(le).length;xe.depth=ge}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function P(le){const xe=this.stack[this.stack.length-1];xe.depth=this.sliceSerialize(le).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function L(le){const ge=this.stack[this.stack.length-1].children;let Ae=ge[ge.length-1];(!Ae||Ae.type!=="text")&&(Ae=Mt(),Ae.position={start:ul(le.start),end:void 0},ge.push(Ae)),this.stack.push(Ae)}function F(le){const xe=this.stack.pop();xe.value+=this.sliceSerialize(le),xe.position.end=ul(le.end)}function k(le){const xe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ge=xe.children[xe.children.length-1];ge.position.end=ul(le.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(xe.type)&&(L.call(this,le),F.call(this,le))}function E(){this.data.atHardBreak=!0}function $(){const le=this.resume(),xe=this.stack[this.stack.length-1];xe.value=le}function M(){const le=this.resume(),xe=this.stack[this.stack.length-1];xe.value=le}function B(){const le=this.resume(),xe=this.stack[this.stack.length-1];xe.value=le}function q(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const xe=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=xe,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function J(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const xe=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=xe,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function W(le){const xe=this.sliceSerialize(le),ge=this.stack[this.stack.length-2];ge.label=oK(xe),ge.identifier=Ld(xe).toLowerCase()}function Z(){const le=this.stack[this.stack.length-1],xe=this.resume(),ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,ge.type==="link"){const Ae=le.children;ge.children=Ae}else ge.alt=xe}function D(){const le=this.resume(),xe=this.stack[this.stack.length-1];xe.url=le}function se(){const le=this.resume(),xe=this.stack[this.stack.length-1];xe.title=le}function T(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function Y(le){const xe=this.resume(),ge=this.stack[this.stack.length-1];ge.label=xe,ge.identifier=Ld(this.sliceSerialize(le)).toLowerCase(),this.data.referenceType="full"}function ie(le){this.data.characterReferenceType=le.type}function te(le){const xe=this.sliceSerialize(le),ge=this.data.characterReferenceType;let Ae;ge?(Ae=$8(xe,ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ae=yj(xe);const Oe=this.stack[this.stack.length-1];Oe.value+=Ae}function de(le){const xe=this.stack.pop();xe.position.end=ul(le.end)}function ve(le){F.call(this,le);const xe=this.stack[this.stack.length-1];xe.url=this.sliceSerialize(le)}function oe(le){F.call(this,le);const xe=this.stack[this.stack.length-1];xe.url="mailto:"+this.sliceSerialize(le)}function ye(){return{type:"blockquote",children:[]}}function ke(){return{type:"code",lang:null,meta:null,value:""}}function ee(){return{type:"inlineCode",value:""}}function he(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ue(){return{type:"emphasis",children:[]}}function X(){return{type:"heading",depth:0,children:[]}}function Me(){return{type:"break"}}function ze(){return{type:"html",value:""}}function He(){return{type:"image",title:null,url:"",alt:null}}function Ne(){return{type:"link",title:null,url:"",children:[]}}function Ue(le){return{type:"list",ordered:le.type==="listOrdered",start:null,spread:le._spread,children:[]}}function Be(le){return{type:"listItem",spread:le._spread,checked:null,children:[]}}function Qe(){return{type:"paragraph",children:[]}}function Je(){return{type:"strong",children:[]}}function Mt(){return{type:"text",value:""}}function be(){return{type:"thematicBreak"}}}function ul(e){return{line:e.line,column:e.column,offset:e.offset}}function G8(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?G8(e,n):dK(e,n)}}function dK(e,t){let r;for(r in t)if(V8.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function M4(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+yp({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+yp({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+yp({start:t.start,end:t.end})+") is still open")}function fK(e){const t=this;t.parser=r;function r(n){return cK(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function hK(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function pK(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function mK(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function gK(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function yK(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function vK(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=Ff(n.toLowerCase()),a=e.footnoteOrder.indexOf(n);let s,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(n,o);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function bK(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function xK(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function K8(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=n:i.push({type:"text",value:n}),i}function wK(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return K8(e,t);const i={src:Ff(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function _K(e,t){const r={src:Ff(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function SK(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function jK(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return K8(e,t);const i={href:Ff(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function NK(e,t){const r={href:Ff(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function AK(e,t,r){const n=e.all(t),i=r?kK(r):Y8(t),a={},s=[];if(typeof t.checked=="boolean"){const u=n[0];let f;u&&u.type==="element"&&u.tagName==="p"?f=u:(f={type:"element",tagName:"p",properties:{},children:[]},n.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const u=n[o];(i||o!==0||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?s.push(...u.children):s.push(u)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,c),e.applyData(t,c)}function kK(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=Y8(r[n])}return t}function Y8(e){const t=e.spread;return t??e.children.length>1}function OK(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const s=n[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,a),e.applyData(t,a)}function EK(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function PK(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function CK(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function TK(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],s),i.push(s)}if(r.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=hj(t.children[1]),l=E8(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function IK(e,t,r){const n=r?r.children:void 0,a=(n?n.indexOf(t):1)===0?"th":"td",s=r&&r.type==="table"?r.align:void 0,o=s?s.length:t.children.length;let l=-1;const c=[];for(;++l<o;){const f=t.children[l],p={},h=s?s[l]:void 0;h&&(p.align=h);let y={type:"element",tagName:a,properties:p,children:[]};f&&(y.children=e.all(f),e.patch(f,y),y=e.applyData(f,y)),c.push(y)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,u),e.applyData(t,u)}function LK(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const D4=9,B4=32;function RK(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const a=[];for(;n;)a.push(F4(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return a.push(F4(t.slice(i),i>0,!1)),a.join("")}function F4(e,t,r){let n=0,i=e.length;if(t){let a=e.codePointAt(n);for(;a===D4||a===B4;)n++,a=e.codePointAt(n)}if(r){let a=e.codePointAt(i-1);for(;a===D4||a===B4;)i--,a=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function $K(e,t){const r={type:"text",value:RK(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function MK(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const DK={blockquote:hK,break:pK,code:mK,delete:gK,emphasis:yK,footnoteReference:vK,heading:bK,html:xK,imageReference:wK,image:_K,inlineCode:SK,linkReference:jK,link:NK,listItem:AK,list:OK,paragraph:EK,root:PK,strong:CK,table:TK,tableCell:LK,tableRow:IK,text:$K,thematicBreak:MK,toml:h0,yaml:h0,definition:h0,footnoteDefinition:h0};function h0(){}const X8=-1,_1=0,bp=1,Dy=2,xj=3,wj=4,_j=5,Sj=6,J8=7,Z8=8,U4=typeof self=="object"?self:globalThis,BK=(e,t)=>{const r=(i,a)=>(e.set(a,i),i),n=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case _1:case X8:return r(s,i);case bp:{const o=r([],i);for(const l of s)o.push(n(l));return o}case Dy:{const o=r({},i);for(const[l,c]of s)o[n(l)]=n(c);return o}case xj:return r(new Date(s),i);case wj:{const{source:o,flags:l}=s;return r(new RegExp(o,l),i)}case _j:{const o=r(new Map,i);for(const[l,c]of s)o.set(n(l),n(c));return o}case Sj:{const o=r(new Set,i);for(const l of s)o.add(n(l));return o}case J8:{const{name:o,message:l}=s;return r(new U4[o](l),i)}case Z8:return r(BigInt(s),i);case"BigInt":return r(Object(BigInt(s)),i);case"ArrayBuffer":return r(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return r(new DataView(o),s)}}return r(new U4[a](s),i)};return n},z4=e=>BK(new Map,e)(0),Ku="",{toString:FK}={},{keys:UK}=Object,Bh=e=>{const t=typeof e;if(t!=="object"||!e)return[_1,t];const r=FK.call(e).slice(8,-1);switch(r){case"Array":return[bp,Ku];case"Object":return[Dy,Ku];case"Date":return[xj,Ku];case"RegExp":return[wj,Ku];case"Map":return[_j,Ku];case"Set":return[Sj,Ku];case"DataView":return[bp,r]}return r.includes("Array")?[bp,r]:r.includes("Error")?[J8,r]:[Dy,r]},p0=([e,t])=>e===_1&&(t==="function"||t==="symbol"),zK=(e,t,r,n)=>{const i=(s,o)=>{const l=n.push(s)-1;return r.set(o,l),l},a=s=>{if(r.has(s))return r.get(s);let[o,l]=Bh(s);switch(o){case _1:{let u=s;switch(l){case"bigint":o=Z8,u=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([X8],s)}return i([o,u],s)}case bp:{if(l){let p=s;return l==="DataView"?p=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(s)),i([l,[...p]],s)}const u=[],f=i([o,u],s);for(const p of s)u.push(a(p));return f}case Dy:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const u=[],f=i([o,u],s);for(const p of UK(s))(e||!p0(Bh(s[p])))&&u.push([a(p),a(s[p])]);return f}case xj:return i([o,s.toISOString()],s);case wj:{const{source:u,flags:f}=s;return i([o,{source:u,flags:f}],s)}case _j:{const u=[],f=i([o,u],s);for(const[p,h]of s)(e||!(p0(Bh(p))||p0(Bh(h))))&&u.push([a(p),a(h)]);return f}case Sj:{const u=[],f=i([o,u],s);for(const p of s)(e||!p0(Bh(p)))&&u.push(a(p));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},q4=(e,{json:t,lossy:r}={})=>{const n=[];return zK(!(t||r),!!t,new Map,n)(e),n},By=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?z4(q4(e,t)):structuredClone(e):(e,t)=>z4(q4(e,t));function qK(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function WK(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function HK(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||qK,n=e.options.footnoteBackLabel||WK,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const u=e.all(c),f=String(c.identifier).toUpperCase(),p=Ff(f.toLowerCase());let h=0;const y=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++h<=g;){y.length>0&&y.push({type:"text",value:" "});let w=typeof r=="string"?r:r(l,h);typeof w=="string"&&(w={type:"text",value:w}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,h),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const b=u[u.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const w=b.children[b.children.length-1];w&&w.type==="text"?w.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...y)}else u.push(...y);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(u,!0)};e.patch(c,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...By(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Q8=function(e){if(e==null)return YK;if(typeof e=="function")return S1(e);if(typeof e=="object")return Array.isArray(e)?VK(e):GK(e);if(typeof e=="string")return KK(e);throw new Error("Expected function, string, or object as test")};function VK(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Q8(e[r]);return S1(n);function n(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function GK(e){const t=e;return S1(r);function r(n){const i=n;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function KK(e){return S1(t);function t(r){return r&&r.type===e}}function S1(e){return t;function t(r,n,i){return!!(XK(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function YK(){return!0}function XK(e){return e!==null&&typeof e=="object"&&"type"in e}const eR=[],JK=!0,W4=!1,ZK="skip";function QK(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const a=Q8(i),s=n?-1:1;o(e,void 0,[])();function o(l,c,u){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return p;function p(){let h=eR,y,g,b;if((!t||a(l,c,u[u.length-1]||void 0))&&(h=eY(r(l,u)),h[0]===W4))return h;if("children"in l&&l.children){const v=l;if(v.children&&h[0]!==ZK)for(g=(n?v.children.length:-1)+s,b=u.concat(v);g>-1&&g<v.children.length;){const w=v.children[g];if(y=o(w,g,b)(),y[0]===W4)return y;g=typeof y[1]=="number"?y[1]:g+s}}return h}}}function eY(e){return Array.isArray(e)?e:typeof e=="number"?[JK,e]:e==null?eR:[e]}function tR(e,t,r,n){let i,a,s;typeof t=="function"&&typeof r!="function"?(a=void 0,s=t,i=r):(a=t,s=r,i=n),QK(e,a,o,i);function o(l,c){const u=c[c.length-1],f=u?u.children.indexOf(l):void 0;return s(l,f,u)}}const a5={}.hasOwnProperty,tY={};function rY(e,t){const r=t||tY,n=new Map,i=new Map,a=new Map,s={...DK,...r.handlers},o={all:c,applyData:iY,definitionById:n,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:r,patch:nY,wrap:sY};return tR(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const f=u.type==="definition"?n:i,p=String(u.identifier).toUpperCase();f.has(p)||f.set(p,u)}}),o;function l(u,f){const p=u.type,h=o.handlers[p];if(a5.call(o.handlers,p)&&h)return h(o,u,f);if(o.options.passThrough&&o.options.passThrough.includes(p)){if("children"in u){const{children:g,...b}=u,v=By(b);return v.children=o.all(u),v}return By(u)}return(o.options.unknownHandler||aY)(o,u,f)}function c(u){const f=[];if("children"in u){const p=u.children;let h=-1;for(;++h<p.length;){const y=o.one(p[h],u);if(y){if(h&&p[h-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=H4(y.value)),!Array.isArray(y)&&y.type==="element")){const g=y.children[0];g&&g.type==="text"&&(g.value=H4(g.value))}Array.isArray(y)?f.push(...y):f.push(y)}}}return f}}function nY(e,t){e.position&&(t.position=FH(e))}function iY(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const s="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:s}}r.type==="element"&&a&&Object.assign(r.properties,By(a)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function aY(e,t){const r=t.data||{},n="value"in t&&!(a5.call(r,"hProperties")||a5.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sY(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function H4(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function V4(e,t){const r=rY(e,t),n=r.one(e,void 0),i=HK(r),a=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function oY(e,t){return e&&"run"in e?async function(r,n){const i=V4(r,{file:n,...t});await e.run(i,n)}:function(r,n){return V4(r,{file:n,...e||t})}}function G4(e){if(e)throw e}var Z0=Object.prototype.hasOwnProperty,rR=Object.prototype.toString,K4=Object.defineProperty,Y4=Object.getOwnPropertyDescriptor,X4=function(t){return typeof Array.isArray=="function"?Array.isArray(t):rR.call(t)==="[object Array]"},J4=function(t){if(!t||rR.call(t)!=="[object Object]")return!1;var r=Z0.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&Z0.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||Z0.call(t,i)},Z4=function(t,r){K4&&r.name==="__proto__"?K4(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},Q4=function(t,r){if(r==="__proto__")if(Z0.call(t,r)){if(Y4)return Y4(t,r).value}else return;return t[r]},lY=function e(){var t,r,n,i,a,s,o=arguments[0],l=1,c=arguments.length,u=!1;for(typeof o=="boolean"&&(u=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(t=arguments[l],t!=null)for(r in t)n=Q4(o,r),i=Q4(t,r),o!==i&&(u&&i&&(J4(i)||(a=X4(i)))?(a?(a=!1,s=n&&X4(n)?n:[]):s=n&&J4(n)?n:{},Z4(o,{name:r,newValue:e(u,s,i)})):typeof i<"u"&&Z4(o,{name:r,newValue:i}));return o};const $x=ir(lY);function s5(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function cY(){const e=[],t={run:r,use:n};return t;function r(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const u=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,u?uY(u,o)(...c):s(null,...c)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function uY(e,t){let r;return n;function n(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(c){const u=c;if(o&&r)throw u;return i(u)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){r||(r=!0,t(s,...o))}function a(s){i(null,s)}}const Es={basename:dY,dirname:fY,extname:hY,join:pY,sep:"/"};function dY(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Vm(e);let r=0,n=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else n<0&&(a=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(n=i):(o=-1,n=s));return r===n?n=s:n<0&&(n=e.length),e.slice(r,n)}function fY(e){if(Vm(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function hY(e){Vm(e);let t=e.length,r=-1,n=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){n=t+1;break}continue}r<0&&(s=!0,r=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||r<0||a===0||a===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function pY(...e){let t=-1,r;for(;++t<e.length;)Vm(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":mY(r)}function mY(e){Vm(e);const t=e.codePointAt(0)===47;let r=gY(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function gY(e,t){let r="",n=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=s,a=0;continue}}else if(r.length>0){r="",n=0,i=s,a=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,s):r=e.slice(i+1,s),n=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return r}function Vm(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const yY={cwd:vY};function vY(){return"/"}function o5(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function bY(e){if(typeof e=="string")e=new URL(e);else if(!o5(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return xY(e)}function xY(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Mx=["history","path","basename","stem","extname","dirname"];class nR{constructor(t){let r;t?o5(t)?r={path:t}:typeof t=="string"||wY(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":yY.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<Mx.length;){const a=Mx[n];a in r&&r[a]!==void 0&&r[a]!==null&&(this[a]=a==="history"?[...r[a]]:r[a])}let i;for(i in r)Mx.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?Es.basename(this.path):void 0}set basename(t){Bx(t,"basename"),Dx(t,"basename"),this.path=Es.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Es.dirname(this.path):void 0}set dirname(t){e3(this.basename,"dirname"),this.path=Es.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Es.extname(this.path):void 0}set extname(t){if(Dx(t,"extname"),e3(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Es.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){o5(t)&&(t=bY(t)),Bx(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Es.basename(this.path,this.extname):void 0}set stem(t){Bx(t,"stem"),Dx(t,"stem"),this.path=Es.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new oi(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Dx(e,t){if(e&&e.includes(Es.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Es.sep+"`")}function Bx(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function e3(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function wY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const _Y=function(e){const n=this.constructor.prototype,i=n[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,n),a},SY={}.hasOwnProperty;class jj extends _Y{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=cY()}copy(){const t=new jj;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data($x(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(zx("data",this.frozen),this.namespace[t]=r,this):SY.call(this.namespace,t)&&this.namespace[t]||void 0:t?(zx("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=m0(t),n=this.parser||this.Parser;return Fx("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),Fx("process",this.parser||this.Parser),Ux("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(a,s){const o=m0(t),l=n.parse(o);n.run(l,o,function(u,f,p){if(u||!f||!p)return c(u);const h=f,y=n.stringify(h,p);AY(y)?p.value=y:p.result=y,c(u,p)});function c(u,f){u||!f?s(u):a?a(f):r(void 0,f)}}}processSync(t){let r=!1,n;return this.freeze(),Fx("processSync",this.parser||this.Parser),Ux("processSync",this.compiler||this.Compiler),this.process(t,i),r3("processSync","process",r),n;function i(a,s){r=!0,G4(a),n=s}}run(t,r,n){t3(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?a(void 0,n):new Promise(a);function a(s,o){const l=m0(r);i.run(t,l,c);function c(u,f,p){const h=f||t;u?o(u):s?s(h):n(void 0,h,p)}}}runSync(t,r){let n=!1,i;return this.run(t,r,a),r3("runSync","run",n),i;function a(s,o){G4(s),i=o,n=!0}}stringify(t,r){this.freeze();const n=m0(r),i=this.compiler||this.Compiler;return Ux("stringify",i),t3(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(zx("use",this.frozen),t!=null)if(typeof t=="function")l(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...f]=c;l(u,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=$x(!0,i.settings,c.settings))}function o(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const f=c[u];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let f=-1,p=-1;for(;++f<n.length;)if(n[f][0]===c){p=f;break}if(p===-1)n.push([c,...u]);else if(u.length>0){let[h,...y]=u;const g=n[p][1];s5(g)&&s5(h)&&(h=$x(!0,g,h)),n[p]=[c,h,...y]}}}}const jY=new jj().freeze();function Fx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ux(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function zx(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function t3(e){if(!s5(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function r3(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function m0(e){return NY(e)?e:new nR(e)}function NY(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function AY(e){return typeof e=="string"||kY(e)}function kY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const OY="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",n3=[],i3={allowDangerousHtml:!0},EY=/^(https?|ircs?|mailto|xmpp)$/i,PY=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function CY(e){const t=TY(e),r=IY(e);return LY(t.runSync(t.parse(r),r),e)}function TY(e){const t=e.rehypePlugins||n3,r=e.remarkPlugins||n3,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...i3}:i3;return jY().use(fK).use(r).use(oY,n).use(t)}function IY(e){const t=e.children||"",r=new nR;return typeof t=="string"&&(r.value=t),r}function LY(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||RY;for(const u of PY)Object.hasOwn(t,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+OY+u.id,void 0);return tR(e,c),HH(e,{Fragment:d.Fragment,components:i,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function c(u,f,p){if(u.type==="raw"&&p&&typeof f=="number")return s?p.children.splice(f,1):p.children[f]={type:"text",value:u.value},f;if(u.type==="element"){let h;for(h in Ix)if(Object.hasOwn(Ix,h)&&Object.hasOwn(u.properties,h)){const y=u.properties[h],g=Ix[h];(g===null||g.includes(u.tagName))&&(u.properties[h]=l(String(y||""),h,u))}}if(u.type==="element"){let h=r?!r.includes(u.tagName):a?a.includes(u.tagName):!1;if(!h&&n&&typeof f=="number"&&(h=!n(u,f,p)),h&&p&&typeof f=="number")return o&&u.children?p.children.splice(f,1,...u.children):p.children.splice(f,1),f}}}function RY(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||EY.test(e.slice(0,t))?e:""}function pi({content:e,className:t=""}){return d.jsx("div",{className:`prose prose-sm max-w-none ${t}`,children:d.jsx(CY,{components:{h1:({node:r,...n})=>d.jsx("h1",{className:"text-2xl font-bold mb-2",...n}),h2:({node:r,...n})=>d.jsx("h2",{className:"text-xl font-bold mb-2",...n}),h3:({node:r,...n})=>d.jsx("h3",{className:"text-lg font-semibold mb-1",...n}),strong:({node:r,...n})=>d.jsx("strong",{className:"font-semibold text-gray-900",...n}),em:({node:r,...n})=>d.jsx("em",{className:"italic",...n}),p:({node:r,...n})=>d.jsx("p",{className:"mb-2 leading-relaxed",...n}),ul:({node:r,...n})=>d.jsx("ul",{className:"list-disc list-outside mb-2 space-y-1 pl-5",...n}),ol:({node:r,...n})=>d.jsx("ol",{className:"list-decimal list-outside mb-2 space-y-1 pl-5",...n}),li:({node:r,...n})=>d.jsx("li",{className:"leading-relaxed",...n}),code:({node:r,inline:n,...i})=>n?d.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-sm font-mono",...i}):d.jsx("code",{className:"block bg-gray-100 p-2 rounded text-sm font-mono overflow-x-auto",...i})},children:e})})}var Jt;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},e.find=(i,a)=>{for(const s of i)if(a(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Jt||(Jt={}));var a3;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(a3||(a3={}));const lt=Jt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ml=e=>{switch(typeof e){case"undefined":return lt.undefined;case"string":return lt.string;case"number":return Number.isNaN(e)?lt.nan:lt.number;case"boolean":return lt.boolean;case"function":return lt.function;case"bigint":return lt.bigint;case"symbol":return lt.symbol;case"object":return Array.isArray(e)?lt.array:e===null?lt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?lt.promise:typeof Map<"u"&&e instanceof Map?lt.map:typeof Set<"u"&&e instanceof Set?lt.set:typeof Date<"u"&&e instanceof Date?lt.date:lt.object;default:return lt.unknown}},Ve=Jt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ro extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(s))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),n}static assert(t){if(!(t instanceof Ro))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Jt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ro.create=e=>new Ro(e);const l5=(e,t)=>{let r;switch(e.code){case Ve.invalid_type:e.received===lt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ve.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Jt.jsonStringifyReplacer)}`;break;case Ve.unrecognized_keys:r=`Unrecognized key(s) in object: ${Jt.joinValues(e.keys,", ")}`;break;case Ve.invalid_union:r="Invalid input";break;case Ve.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Jt.joinValues(e.options)}`;break;case Ve.invalid_enum_value:r=`Invalid enum value. Expected ${Jt.joinValues(e.options)}, received '${e.received}'`;break;case Ve.invalid_arguments:r="Invalid function arguments";break;case Ve.invalid_return_type:r="Invalid function return type";break;case Ve.invalid_date:r="Invalid date";break;case Ve.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Jt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ve.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ve.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ve.custom:r="Invalid input";break;case Ve.invalid_intersection_types:r="Intersection results could not be merged";break;case Ve.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ve.not_finite:r="Number must be finite";break;default:r=t.defaultError,Jt.assertNever(e)}return{message:r}};let $Y=l5;function MY(){return $Y}const DY=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)o=c(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}};function Ze(e,t){const r=MY(),n=DY({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===l5?void 0:l5].filter(i=>!!i)});e.common.issues.push(n)}class bi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return Tt;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return bi.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Tt;a.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:t.value,value:n}}}const Tt=Object.freeze({status:"aborted"}),np=e=>({status:"dirty",value:e}),za=e=>({status:"valid",value:e}),s3=e=>e.status==="aborted",o3=e=>e.status==="dirty",Jd=e=>e.status==="valid",Fy=e=>typeof Promise<"u"&&e instanceof Promise;var ht;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ht||(ht={}));class zs{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const l3=(e,t)=>{if(Jd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ro(e.common.issues);return this._error=r,this._error}}};function qt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,o)=>{const{message:l}=e;return s.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:i}}class Vt{get description(){return this._def.description}_getType(t){return ml(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ml(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new bi,ctx:{common:t.parent.common,data:t.data,parsedType:ml(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Fy(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ml(t)},i=this._parseSync({data:t,path:n.path,parent:n});return l3(n,i)}"~validate"(t){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ml(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return Jd(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>Jd(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ml(t)},i=this._parse({data:t,path:n.path,parent:n}),a=await(Fy(i)?i:Promise.resolve(i));return l3(n,a)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=t(i),o=()=>a.addIssue({code:Ve.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new ef({schema:this,typeName:Pt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return $l.create(this,this._def)}nullable(){return tf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ms.create(this)}promise(){return Hy.create(this,this._def)}or(t){return zy.create([this,t],this._def)}and(t){return qy.create(this,t,this._def)}transform(t){return new ef({...qt(this._def),schema:this,typeName:Pt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new d5({...qt(this._def),innerType:this,defaultValue:r,typeName:Pt.ZodDefault})}brand(){return new oX({typeName:Pt.ZodBranded,type:this,...qt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new f5({...qt(this._def),innerType:this,catchValue:r,typeName:Pt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Nj.create(this,t)}readonly(){return h5.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const BY=/^c[^\s-]{8,}$/i,FY=/^[0-9a-z]+$/,UY=/^[0-9A-HJKMNP-TV-Z]{26}$/i,zY=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qY=/^[a-z0-9_-]{21}$/i,WY=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,HY=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,VY=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,GY="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let qx;const KY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,YY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,XY=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,JY=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ZY=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,QY=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,iR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",eX=new RegExp(`^${iR}$`);function aR(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function tX(e){return new RegExp(`^${aR(e)}$`)}function rX(e){let t=`${iR}T${aR(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function nX(e,t){return!!((t==="v4"||!t)&&KY.test(e)||(t==="v6"||!t)&&XY.test(e))}function iX(e,t){if(!WY.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function aX(e,t){return!!((t==="v4"||!t)&&YY.test(e)||(t==="v6"||!t)&&JY.test(e))}class wo extends Vt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==lt.string){const a=this._getOrReturnCtx(t);return Ze(a,{code:Ve.invalid_type,expected:lt.string,received:a.parsedType}),Tt}const n=new bi;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),Ze(i,{code:Ve.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),Ze(i,{code:Ve.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=t.data.length>a.value,o=t.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(t,i),s?Ze(i,{code:Ve.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&Ze(i,{code:Ve.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")VY.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"email",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")qx||(qx=new RegExp(GY,"u")),qx.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"emoji",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")zY.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"uuid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")qY.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"nanoid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")BY.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"cuid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")FY.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"cuid2",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")UY.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"ulid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Ze(i,{validation:"url",code:Ve.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"regex",code:Ve.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),Ze(i,{code:Ve.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),Ze(i,{code:Ve.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),Ze(i,{code:Ve.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?rX(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{code:Ve.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?eX.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{code:Ve.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?tX(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{code:Ve.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?HY.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"duration",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?nX(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"ip",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?iX(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"jwt",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?aX(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"cidr",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?ZY.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"base64",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?QY.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"base64url",code:Ve.invalid_string,message:a.message}),n.dirty()):Jt.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:Ve.invalid_string,...ht.errToObj(n)})}_addCheck(t){return new wo({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ht.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ht.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ht.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ht.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ht.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ht.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ht.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ht.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ht.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ht.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ht.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ht.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ht.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ht.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ht.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ht.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ht.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ht.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ht.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ht.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ht.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ht.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ht.errToObj(r)})}nonempty(t){return this.min(1,ht.errToObj(t))}trim(){return new wo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new wo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new wo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}wo.create=e=>new wo({checks:[],typeName:Pt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...qt(e)});function sX(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return a%s/10**i}class Zd extends Vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==lt.number){const a=this._getOrReturnCtx(t);return Ze(a,{code:Ve.invalid_type,expected:lt.number,received:a.parsedType}),Tt}let n;const i=new bi;for(const a of this._def.checks)a.kind==="int"?Jt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ze(n,{code:Ve.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),Ze(n,{code:Ve.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),Ze(n,{code:Ve.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?sX(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),Ze(n,{code:Ve.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ze(n,{code:Ve.not_finite,message:a.message}),i.dirty()):Jt.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ht.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ht.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ht.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ht.toString(r))}setLimit(t,r,n,i){return new Zd({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ht.toString(i)}]})}_addCheck(t){return new Zd({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ht.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ht.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ht.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ht.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ht.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ht.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ht.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ht.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ht.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Jt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Zd.create=e=>new Zd({checks:[],typeName:Pt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...qt(e)});class Zp extends Vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==lt.bigint)return this._getInvalidInput(t);let n;const i=new bi;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),Ze(n,{code:Ve.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),Ze(n,{code:Ve.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ze(n,{code:Ve.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Jt.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ze(r,{code:Ve.invalid_type,expected:lt.bigint,received:r.parsedType}),Tt}gte(t,r){return this.setLimit("min",t,!0,ht.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ht.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ht.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ht.toString(r))}setLimit(t,r,n,i){return new Zp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ht.toString(i)}]})}_addCheck(t){return new Zp({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ht.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ht.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ht.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ht.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ht.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Zp.create=e=>new Zp({checks:[],typeName:Pt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...qt(e)});class c5 extends Vt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==lt.boolean){const n=this._getOrReturnCtx(t);return Ze(n,{code:Ve.invalid_type,expected:lt.boolean,received:n.parsedType}),Tt}return za(t.data)}}c5.create=e=>new c5({typeName:Pt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...qt(e)});class Uy extends Vt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==lt.date){const a=this._getOrReturnCtx(t);return Ze(a,{code:Ve.invalid_type,expected:lt.date,received:a.parsedType}),Tt}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Ze(a,{code:Ve.invalid_date}),Tt}const n=new bi;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),Ze(i,{code:Ve.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),Ze(i,{code:Ve.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Jt.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Uy({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ht.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ht.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Uy.create=e=>new Uy({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Pt.ZodDate,...qt(e)});class c3 extends Vt{_parse(t){if(this._getType(t)!==lt.symbol){const n=this._getOrReturnCtx(t);return Ze(n,{code:Ve.invalid_type,expected:lt.symbol,received:n.parsedType}),Tt}return za(t.data)}}c3.create=e=>new c3({typeName:Pt.ZodSymbol,...qt(e)});class u3 extends Vt{_parse(t){if(this._getType(t)!==lt.undefined){const n=this._getOrReturnCtx(t);return Ze(n,{code:Ve.invalid_type,expected:lt.undefined,received:n.parsedType}),Tt}return za(t.data)}}u3.create=e=>new u3({typeName:Pt.ZodUndefined,...qt(e)});class d3 extends Vt{_parse(t){if(this._getType(t)!==lt.null){const n=this._getOrReturnCtx(t);return Ze(n,{code:Ve.invalid_type,expected:lt.null,received:n.parsedType}),Tt}return za(t.data)}}d3.create=e=>new d3({typeName:Pt.ZodNull,...qt(e)});class f3 extends Vt{constructor(){super(...arguments),this._any=!0}_parse(t){return za(t.data)}}f3.create=e=>new f3({typeName:Pt.ZodAny,...qt(e)});class h3 extends Vt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return za(t.data)}}h3.create=e=>new h3({typeName:Pt.ZodUnknown,...qt(e)});class Fl extends Vt{_parse(t){const r=this._getOrReturnCtx(t);return Ze(r,{code:Ve.invalid_type,expected:lt.never,received:r.parsedType}),Tt}}Fl.create=e=>new Fl({typeName:Pt.ZodNever,...qt(e)});class p3 extends Vt{_parse(t){if(this._getType(t)!==lt.undefined){const n=this._getOrReturnCtx(t);return Ze(n,{code:Ve.invalid_type,expected:lt.void,received:n.parsedType}),Tt}return za(t.data)}}p3.create=e=>new p3({typeName:Pt.ZodVoid,...qt(e)});class Ms extends Vt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==lt.array)return Ze(r,{code:Ve.invalid_type,expected:lt.array,received:r.parsedType}),Tt;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(Ze(r,{code:s?Ve.too_big:Ve.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ze(r,{code:Ve.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ze(r,{code:Ve.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new zs(r,s,r.path,o)))).then(s=>bi.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new zs(r,s,r.path,o)));return bi.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new Ms({...this._def,minLength:{value:t,message:ht.toString(r)}})}max(t,r){return new Ms({...this._def,maxLength:{value:t,message:ht.toString(r)}})}length(t,r){return new Ms({...this._def,exactLength:{value:t,message:ht.toString(r)}})}nonempty(t){return this.min(1,t)}}Ms.create=(e,t)=>new Ms({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Pt.ZodArray,...qt(t)});function id(e){if(e instanceof hn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=$l.create(id(n))}return new hn({...e._def,shape:()=>t})}else return e instanceof Ms?new Ms({...e._def,type:id(e.element)}):e instanceof $l?$l.create(id(e.unwrap())):e instanceof tf?tf.create(id(e.unwrap())):e instanceof ou?ou.create(e.items.map(t=>id(t))):e}class hn extends Vt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Jt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==lt.object){const c=this._getOrReturnCtx(t);return Ze(c,{code:Ve.invalid_type,expected:lt.object,received:c.parsedType}),Tt}const{status:n,ctx:i}=this._processInputParams(t),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof Fl&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const l=[];for(const c of s){const u=a[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new zs(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Fl){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(Ze(i,{code:Ve.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new zs(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key,p=await u.value;c.push({key:f,value:p,alwaysSet:u.alwaysSet})}return c}).then(c=>bi.mergeObjectSync(n,c)):bi.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return ht.errToObj,new hn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ht.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new hn({...this._def,unknownKeys:"strip"})}passthrough(){return new hn({...this._def,unknownKeys:"passthrough"})}extend(t){return new hn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new hn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Pt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new hn({...this._def,catchall:t})}pick(t){const r={};for(const n of Jt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new hn({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Jt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new hn({...this._def,shape:()=>r})}deepPartial(){return id(this)}partial(t){const r={};for(const n of Jt.objectKeys(this.shape)){const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new hn({...this._def,shape:()=>r})}required(t){const r={};for(const n of Jt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof $l;)a=a._def.innerType;r[n]=a}return new hn({...this._def,shape:()=>r})}keyof(){return sR(Jt.objectKeys(this.shape))}}hn.create=(e,t)=>new hn({shape:()=>e,unknownKeys:"strip",catchall:Fl.create(),typeName:Pt.ZodObject,...qt(t)});hn.strictCreate=(e,t)=>new hn({shape:()=>e,unknownKeys:"strict",catchall:Fl.create(),typeName:Pt.ZodObject,...qt(t)});hn.lazycreate=(e,t)=>new hn({shape:e,unknownKeys:"strip",catchall:Fl.create(),typeName:Pt.ZodObject,...qt(t)});class zy extends Vt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new Ro(o.ctx.common.issues));return Ze(r,{code:Ve.invalid_union,unionErrors:s}),Tt}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new Ro(l));return Ze(r,{code:Ve.invalid_union,unionErrors:o}),Tt}}get options(){return this._def.options}}zy.create=(e,t)=>new zy({options:e,typeName:Pt.ZodUnion,...qt(t)});function u5(e,t){const r=ml(e),n=ml(t);if(e===t)return{valid:!0,data:e};if(r===lt.object&&n===lt.object){const i=Jt.objectKeys(t),a=Jt.objectKeys(e).filter(o=>i.indexOf(o)!==-1),s={...e,...t};for(const o of a){const l=u5(e[o],t[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(r===lt.array&&n===lt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const s=e[a],o=t[a],l=u5(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===lt.date&&n===lt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class qy extends Vt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(a,s)=>{if(s3(a)||s3(s))return Tt;const o=u5(a.value,s.value);return o.valid?((o3(a)||o3(s))&&r.dirty(),{status:r.value,value:o.data}):(Ze(n,{code:Ve.invalid_intersection_types}),Tt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}qy.create=(e,t,r)=>new qy({left:e,right:t,typeName:Pt.ZodIntersection,...qt(r)});class ou extends Vt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==lt.array)return Ze(n,{code:Ve.invalid_type,expected:lt.array,received:n.parsedType}),Tt;if(n.data.length<this._def.items.length)return Ze(n,{code:Ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Tt;!this._def.rest&&n.data.length>this._def.items.length&&(Ze(n,{code:Ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new zs(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>bi.mergeArray(r,s)):bi.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new ou({...this._def,rest:t})}}ou.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ou({items:e,typeName:Pt.ZodTuple,rest:null,...qt(t)})};class Wy extends Vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==lt.object)return Ze(n,{code:Ve.invalid_type,expected:lt.object,received:n.parsedType}),Tt;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in n.data)i.push({key:a._parse(new zs(n,o,n.path,o)),value:s._parse(new zs(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?bi.mergeObjectAsync(r,i):bi.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Vt?new Wy({keyType:t,valueType:r,typeName:Pt.ZodRecord,...qt(n)}):new Wy({keyType:wo.create(),valueType:t,typeName:Pt.ZodRecord,...qt(r)})}}class m3 extends Vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==lt.map)return Ze(n,{code:Ve.invalid_type,expected:lt.map,received:n.parsedType}),Tt;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,l],c)=>({key:i._parse(new zs(n,o,n.path,[c,"key"])),value:a._parse(new zs(n,l,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Tt;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Tt;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}}m3.create=(e,t,r)=>new m3({valueType:t,keyType:e,typeName:Pt.ZodMap,...qt(r)});class Qp extends Vt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==lt.set)return Ze(n,{code:Ve.invalid_type,expected:lt.set,received:n.parsedType}),Tt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ze(n,{code:Ve.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ze(n,{code:Ve.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Tt;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((l,c)=>a._parse(new zs(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(t,r){return new Qp({...this._def,minSize:{value:t,message:ht.toString(r)}})}max(t,r){return new Qp({...this._def,maxSize:{value:t,message:ht.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Qp.create=(e,t)=>new Qp({valueType:e,minSize:null,maxSize:null,typeName:Pt.ZodSet,...qt(t)});class g3 extends Vt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}g3.create=(e,t)=>new g3({getter:e,typeName:Pt.ZodLazy,...qt(t)});class y3 extends Vt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ze(r,{received:r.data,code:Ve.invalid_literal,expected:this._def.value}),Tt}return{status:"valid",value:t.data}}get value(){return this._def.value}}y3.create=(e,t)=>new y3({value:e,typeName:Pt.ZodLiteral,...qt(t)});function sR(e,t){return new Qd({values:e,typeName:Pt.ZodEnum,...qt(t)})}class Qd extends Vt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ze(r,{expected:Jt.joinValues(n),received:r.parsedType,code:Ve.invalid_type}),Tt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ze(r,{received:r.data,code:Ve.invalid_enum_value,options:n}),Tt}return za(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Qd.create(t,{...this._def,...r})}exclude(t,r=this._def){return Qd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Qd.create=sR;class v3 extends Vt{_parse(t){const r=Jt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==lt.string&&n.parsedType!==lt.number){const i=Jt.objectValues(r);return Ze(n,{expected:Jt.joinValues(i),received:n.parsedType,code:Ve.invalid_type}),Tt}if(this._cache||(this._cache=new Set(Jt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=Jt.objectValues(r);return Ze(n,{received:n.data,code:Ve.invalid_enum_value,options:i}),Tt}return za(t.data)}get enum(){return this._def.values}}v3.create=(e,t)=>new v3({values:e,typeName:Pt.ZodNativeEnum,...qt(t)});class Hy extends Vt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==lt.promise&&r.common.async===!1)return Ze(r,{code:Ve.invalid_type,expected:lt.promise,received:r.parsedType}),Tt;const n=r.parsedType===lt.promise?r.data:Promise.resolve(r.data);return za(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Hy.create=(e,t)=>new Hy({type:e,typeName:Pt.ZodPromise,...qt(t)});class ef extends Vt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Pt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:s=>{Ze(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return Tt;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?Tt:l.status==="dirty"||r.value==="dirty"?np(l.value):l});{if(r.value==="aborted")return Tt;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?Tt:o.status==="dirty"||r.value==="dirty"?np(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Tt:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Tt:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Jd(s))return Tt;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Jd(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):Tt);Jt.assertNever(i)}}ef.create=(e,t,r)=>new ef({schema:e,typeName:Pt.ZodEffects,effect:t,...qt(r)});ef.createWithPreprocess=(e,t,r)=>new ef({schema:t,effect:{type:"preprocess",transform:e},typeName:Pt.ZodEffects,...qt(r)});class $l extends Vt{_parse(t){return this._getType(t)===lt.undefined?za(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}$l.create=(e,t)=>new $l({innerType:e,typeName:Pt.ZodOptional,...qt(t)});class tf extends Vt{_parse(t){return this._getType(t)===lt.null?za(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}tf.create=(e,t)=>new tf({innerType:e,typeName:Pt.ZodNullable,...qt(t)});class d5 extends Vt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===lt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}d5.create=(e,t)=>new d5({innerType:e,typeName:Pt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...qt(t)});class f5 extends Vt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Fy(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ro(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ro(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}f5.create=(e,t)=>new f5({innerType:e,typeName:Pt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...qt(t)});class b3 extends Vt{_parse(t){if(this._getType(t)!==lt.nan){const n=this._getOrReturnCtx(t);return Ze(n,{code:Ve.invalid_type,expected:lt.nan,received:n.parsedType}),Tt}return{status:"valid",value:t.data}}}b3.create=e=>new b3({typeName:Pt.ZodNaN,...qt(e)});class oX extends Vt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Nj extends Vt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Tt:a.status==="dirty"?(r.dirty(),np(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Tt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new Nj({in:t,out:r,typeName:Pt.ZodPipeline})}}class h5 extends Vt{_parse(t){const r=this._def.innerType._parse(t),n=i=>(Jd(i)&&(i.value=Object.freeze(i.value)),i);return Fy(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}h5.create=(e,t)=>new h5({innerType:e,typeName:Pt.ZodReadonly,...qt(t)});var Pt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Pt||(Pt={}));const Dt=wo.create,co=Zd.create,Wx=c5.create;Fl.create;const Gi=Ms.create,di=hn.create;zy.create;qy.create;ou.create;const x3=Wy.create,Hx=Qd.create;Hy.create;$l.create;tf.create;const lX=di({id:Dt().uuid(),title:Dt(),subject:Dt(),durationMinutes:co().min(5).max(60),difficulty:Hx(["Beginner","Intermediate","Advanced"]),patientProfile:di({name:Dt(),age:co(),gender:Hx(["male","female","other"]),prakriti:Hx(["Vata","Pitta","Kapha","Sama"]),vikriti:Dt().optional(),occupation:Dt().optional()}),chiefComplaint:Dt().optional(),historyOfPresentIllness:Dt(),ashtasthanaPariksha:x3(Dt()).optional(),doshaAnalysis:di({vata:co().min(0).max(100),pitta:co().min(0).max(100),kapha:co().min(0).max(100)}),potentialDiagnoses:Gi(di({dx:Dt(),confidence:co().min(0).max(1)})),diagnosisMCQ:di({question:Dt(),options:Gi(Dt()).length(4),answerIndex:co().min(0).max(3),explanation:Dt().optional()}).optional(),suggestedChikitsa:Dt(),mcqs:Gi(di({id:Dt(),question:Dt(),options:Gi(Dt()),answerIndex:co(),sloId:Dt()})),rubrics:Gi(di({id:Dt(),description:Dt(),maxPoints:co(),sloId:Dt()})),finalExplanation:Dt(),sloMappings:Gi(Dt()),physicalExam:di({vitals:di({bp:Dt().optional(),hr:Dt().optional(),rr:Dt().optional(),temp:Dt().optional(),spo2:Dt().optional()}).optional(),generalExam:Dt().optional(),systemicExam:Dt().optional()}).optional(),availableLabTests:Gi(di({category:Dt(),tests:Gi(Dt())})).optional(),labResults:x3(Dt()).optional(),learningPearls:Gi(Dt()).optional(),furtherReading:Gi(di({title:Dt(),reference:Dt()})).optional(),managementOptions:di({immediateActions:Gi(di({id:Dt(),text:Dt(),isCorrect:Wx()})),investigations:Gi(di({id:Dt(),text:Dt(),isCorrect:Wx()})),definitiveManagement:Gi(di({id:Dt(),text:Dt(),isCorrect:Wx()}))}).optional()});function cX({user:e}){const{stationId:t}=zm(),r=Ua(),n=Hs(),[i,a]=G.useState(null),[s,o]=G.useState(null),[l,c]=G.useState(!0),[u,f]=G.useState(!1);G.useEffect(()=>{t&&p()},[t]);const p=async()=>{var y;try{const{data:g,error:b}=await Ie.from("stations").select("*").eq("id",t).single();if(b)throw b;a(g),(y=g.blueprint)!=null&&y.generatedCase&&o(g.blueprint.generatedCase)}catch(g){console.error("Error loading station:",g)}finally{c(!1)}},h=async()=>{var y,g;if(!(!i||!s)){f(!0);try{const b=[];if(!s.physicalExam||!s.physicalExam.vitals)b.push("Physical examination vitals are missing");else{const N=s.physicalExam.vitals;(!N.bp||!N.hr||!N.rr||!N.temp||!N.spo2)&&b.push("Some vital signs are missing")}if((!((y=s.physicalExam)!=null&&y.generalExam)||s.physicalExam.generalExam.trim()==="")&&b.push("General examination findings are missing"),(!((g=s.physicalExam)!=null&&g.systemicExam)||s.physicalExam.systemicExam.trim()==="")&&b.push("Systemic examination findings are missing"),(!s.labResults||Object.keys(s.labResults).length<4)&&b.push("Lab results are missing or insufficient"),(!s.learningPearls||s.learningPearls.length<3)&&b.push("Learning pearls are missing or insufficient"),(!s.furtherReading||s.furtherReading.length<2)&&b.push("Further reading references are missing or insufficient"),b.length>0)throw new Error(`Cannot approve case with missing data:
${b.join(`
`)}

Please regenerate the case.`);const v=lX.parse(s),{data:w,error:_}=await Ie.from("case_snapshots").insert({station_id:i.id,clinical_case:v,approved_by:e.id}).select().single();if(_)throw _;r(`/assign/${w.id}`),n.success("Case approved successfully!")}catch(b){n.error("Error approving case: "+b.message)}finally{f(!1)}}};return l?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Li,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 flex items-center justify-center pb-20 md:pb-0",children:d.jsx(Zc,{className:"w-8 h-8 animate-spin text-primary-600"})}),d.jsx(Mn,{role:"faculty"}),d.jsx(Lo,{toasts:n.toasts,onClose:n.removeToast})]}):!i||!s?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Li,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 p-6 pb-20 md:pb-6",children:d.jsx("p",{children:"Station not found or case not generated yet."})}),d.jsx(Mn,{role:"faculty"}),d.jsx(Lo,{toasts:n.toasts,onClose:n.removeToast})]}):d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Li,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(Xd,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Review Generated Case"}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-100 p-6 md:p-8 space-y-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Overview"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),d.jsx("p",{className:"text-lg",children:s.title})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"History of Present Illness"}),d.jsx("div",{className:"text-gray-900 mt-2",children:d.jsx(pi,{content:s.historyOfPresentIllness})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Patient Profile"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Name:"})," ",s.patientProfile.name]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Age:"})," ",s.patientProfile.age]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Gender:"})," ",s.patientProfile.gender]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Prakriti:"})," ",s.patientProfile.prakriti]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Suggested Chikitsa"}),d.jsx("div",{className:"text-gray-900 mt-2",children:d.jsx(pi,{content:s.suggestedChikitsa})})]})]})]}),s.physicalExam&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Physical Examination"}),d.jsxs("div",{className:"space-y-4",children:[s.physicalExam.vitals&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vitals"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"BP:"})," ",s.physicalExam.vitals.bp||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"HR:"})," ",s.physicalExam.vitals.hr||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"RR:"})," ",s.physicalExam.vitals.rr||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Temp:"})," ",s.physicalExam.vitals.temp||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"SpO2:"})," ",s.physicalExam.vitals.spo2||"Not recorded"]})]})]}),s.physicalExam.generalExam&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"General Examination"}),d.jsx("div",{className:"text-gray-900 mt-2",children:d.jsx(pi,{content:s.physicalExam.generalExam})})]}),s.physicalExam.systemicExam&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Systemic Examination"}),d.jsx("div",{className:"text-gray-900 mt-2",children:d.jsx(pi,{content:s.physicalExam.systemicExam})})]})]})]}),s.labResults&&Object.keys(s.labResults).length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Lab Results (Available)"}),d.jsxs("div",{className:"space-y-3",children:[Object.entries(s.labResults).slice(0,5).map(([y,g])=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[d.jsxs("strong",{className:"text-gray-900",children:[y,":"]})," ",d.jsx("div",{className:"mt-1",children:d.jsx(pi,{content:String(g)})})]},y)),Object.keys(s.labResults).length>5&&d.jsxs("p",{className:"text-sm text-gray-500",children:["... and ",Object.keys(s.labResults).length-5," more tests"]})]})]}),s.learningPearls&&s.learningPearls.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Learning Pearls"}),d.jsx("ul",{className:"list-disc list-outside space-y-3 pl-6",children:s.learningPearls.map((y,g)=>d.jsx("li",{className:"text-gray-900 leading-relaxed",children:d.jsx(pi,{content:y})},g))})]}),s.furtherReading&&s.furtherReading.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Further Reading"}),d.jsx("div",{className:"space-y-3",children:s.furtherReading.map((y,g)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-blue-50",children:[d.jsxs("strong",{className:"text-gray-900",children:[y.title,":"]})," ",d.jsx("span",{className:"text-gray-700",children:y.reference})]},g))})]}),s.mcqs&&s.mcqs.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Multiple Choice Questions"}),d.jsx("div",{className:"space-y-4",children:s.mcqs.map((y,g)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[d.jsx("p",{className:"font-medium mb-3 text-gray-900",children:y.question}),d.jsx("ul",{className:"list-disc list-outside space-y-2 pl-5",children:y.options.map((b,v)=>d.jsxs("li",{className:v===y.answerIndex?"text-green-700 font-semibold":"text-gray-700",children:[b,v===y.answerIndex&&d.jsx("span",{className:"ml-2 text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Correct"})]},v))})]},g))})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200",children:[d.jsxs("button",{onClick:h,disabled:u,className:"flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium shadow-sm hover:shadow-md",children:[u?d.jsx(Zc,{className:"w-4 h-4 animate-spin"}):d.jsx(m8,{className:"w-4 h-4"}),"Approve Case"]}),d.jsxs("button",{onClick:()=>r("/create"),className:"flex items-center justify-center gap-2 px-6 py-3 border-2 border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:[d.jsx(Df,{className:"w-4 h-4"}),"Regenerate"]})]})]})]})}),d.jsx(Mn,{role:"faculty"})]})}function uX({user:e}){var M;const{snapshotId:t}=zm(),r=Ua(),n=Hs(),[i,a]=G.useState(null),[s,o]=G.useState([]),[l,c]=G.useState([]),[u,f]=G.useState([]),[p,h]=G.useState([]),[y,g]=G.useState("cohort"),[b,v]=G.useState(""),[w,_]=G.useState(""),[N,S]=G.useState(1),[j,P]=G.useState(!0),[C,L]=G.useState(!1);G.useEffect(()=>{t&&F()},[t]);const F=async()=>{try{const{data:B,error:q}=await Ie.from("case_snapshots").select("*").eq("id",t).single();if(q)throw q;a(B);const{data:J,error:W}=await Ie.from("cohorts").select("*").order("name");if(W)throw W;const Z=await Promise.all((J||[]).map(async T=>{const{data:I}=await Ie.from("cohort_members").select("student_id").eq("cohort_id",T.id),Y=(I||[]).map(te=>te.student_id);let ie=[];if(Y.length>0){const{data:te}=await Ie.from("users").select("id, name, email").in("id",Y);ie=(te||[]).map(de=>({id:de.id,name:de.name,email:de.email}))}return{...T,students:ie}}));o(Z);const{data:D,error:se}=await Ie.from("users").select("id, name, email").eq("role","student").order("name");if(se)throw se;c(D||[])}catch(B){console.error("Error loading data:",B)}finally{P(!1)}},k=async()=>{if(t){if(y==="cohort"&&u.length===0){n.warning("Please select at least one cohort");return}if(y==="student"&&p.length===0){n.warning("Please select at least one student");return}if(y==="both"&&u.length===0&&p.length===0){n.warning("Please select at least one cohort or student");return}L(!0);try{const B=[];for(const q of u)B.push({snapshot_id:t,cohort_id:q,start_at:b||null,due_at:w||null,max_attempts:N});for(const q of p){const J=l.find(W=>W.id===q);if(J){let W=null;const{data:Z}=await Ie.from("cohorts").select("id").eq("name",`Personal: ${J.name}`).single();if(Z)W=Z.id;else{const{data:D,error:se}=await Ie.from("cohorts").insert({name:`Personal: ${J.name}`,description:`Personal assignment cohort for ${J.name}`}).select().single();if(se)throw se;W=D.id,await Ie.from("cohort_members").insert({cohort_id:W,student_id:q})}W&&B.push({snapshot_id:t,cohort_id:W,start_at:b||null,due_at:w||null,max_attempts:N})}}if(B.length>0){const{error:q}=await Ie.from("assignments").insert(B);if(q)throw q}n.success(`Successfully created ${B.length} assignment(s)!`),r("/dashboard")}catch(B){n.error("Error creating assignment: "+B.message)}finally{L(!1)}}},E=B=>{f(q=>q.includes(B)?q.filter(J=>J!==B):[...q,B])},$=B=>{h(q=>q.includes(B)?q.filter(J=>J!==B):[...q,B])};return j?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Li,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 flex items-center justify-center pb-20 md:pb-0",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),d.jsx(Mn,{role:"faculty"}),d.jsx(Lo,{toasts:n.toasts,onClose:n.removeToast})]}):d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Li,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-2xl mx-auto",children:[d.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(Xd,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Assign Case"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Case Title"}),d.jsx("p",{className:"text-lg font-semibold",children:((M=i==null?void 0:i.clinical_case)==null?void 0:M.title)||"Untitled Case"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Assignment Mode"}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{type:"button",onClick:()=>{g("cohort"),h([])},className:`px-4 py-2 rounded-md ${y==="cohort"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[d.jsx(Ao,{className:"w-4 h-4 inline mr-2"}),"Cohorts"]}),d.jsxs("button",{type:"button",onClick:()=>{g("student"),f([])},className:`px-4 py-2 rounded-md ${y==="student"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[d.jsx($s,{className:"w-4 h-4 inline mr-2"}),"Individual Students"]}),d.jsx("button",{type:"button",onClick:()=>g("both"),className:`px-4 py-2 rounded-md ${y==="both"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Both"})]})]}),(y==="cohort"||y==="both")&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Cohorts ",y==="cohort"&&"*"]}),d.jsx("div",{className:"border border-gray-300 rounded-md max-h-60 overflow-y-auto",children:s.length===0?d.jsx("p",{className:"p-4 text-gray-500 text-sm",children:"No cohorts available. Create cohorts first."}):s.map(B=>d.jsxs("div",{className:`p-3 border-b border-gray-200 last:border-b-0 cursor-pointer hover:bg-gray-50 ${u.includes(B.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>E(B.id),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:B.name}),B.description&&d.jsx("div",{className:"text-sm text-gray-500",children:B.description}),d.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[B.students.length," student",B.students.length!==1?"s":""]})]}),d.jsx("input",{type:"checkbox",checked:u.includes(B.id),onChange:()=>E(B.id),className:"ml-4 w-5 h-5 text-primary-600"})]}),u.includes(B.id)&&B.students.length>0&&d.jsxs("div",{className:"mt-2 ml-4 text-xs text-gray-600",children:["Students: ",B.students.map(q=>q.name).join(", ")]})]},B.id))}),u.length>0&&d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[u.length," cohort",u.length!==1?"s":""," selected"]})]}),(y==="student"||y==="both")&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Individual Students ",y==="student"&&"*"]}),d.jsx("div",{className:"border border-gray-300 rounded-md max-h-60 overflow-y-auto",children:l.length===0?d.jsx("p",{className:"p-4 text-gray-500 text-sm",children:"No students available."}):l.map(B=>d.jsx("div",{className:`p-3 border-b border-gray-200 last:border-b-0 cursor-pointer hover:bg-gray-50 ${p.includes(B.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>$(B.id),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:B.name}),d.jsx("div",{className:"text-sm text-gray-500",children:B.email})]}),d.jsx("input",{type:"checkbox",checked:p.includes(B.id),onChange:()=>$(B.id),className:"ml-4 w-5 h-5 text-primary-600"})]})},B.id))}),p.length>0&&d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[p.length," student",p.length!==1?"s":""," selected"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),d.jsx("input",{type:"datetime-local",value:b,onChange:B=>v(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),d.jsx("input",{type:"datetime-local",value:w,onChange:B=>_(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Attempts"}),d.jsx("input",{type:"number",min:"1",max:"10",value:N,onChange:B=>S(parseInt(B.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("button",{onClick:k,disabled:C||y==="cohort"&&u.length===0||y==="student"&&p.length===0||y==="both"&&u.length===0&&p.length===0,className:"w-full flex items-center justify-center gap-2 bg-primary-600 text-white px-6 py-3 rounded-md hover:bg-primary-700 disabled:opacity-50",children:[d.jsx(m8,{className:"w-5 h-5"}),C?"Assigning...":`Assign to ${u.length+p.length} ${u.length+p.length===1?"Recipient":"Recipients"}`]})]})]})}),d.jsx(Mn,{role:"faculty"}),d.jsx(Lo,{toasts:n.toasts,onClose:n.removeToast})]})}function dX({user:e}){const t=Ua(),[r,n]=G.useState([]),[i,a]=G.useState(!0),[s,o]=G.useState("");G.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:u,error:f}=await Ie.from("stations").select("*").eq("created_by",e.id).order("created_at",{ascending:!1});if(f)throw f;const p=await Promise.all((u||[]).map(async h=>{const{data:y}=await Ie.from("case_snapshots").select("*").eq("station_id",h.id).order("approved_at",{ascending:!1}).limit(1).single();return{...h,snapshot:y}}));n(p)}catch(u){console.error("Error loading stations:",u)}finally{a(!1)}},c=r.filter(u=>{var f,p,h,y;return((f=u.title)==null?void 0:f.toLowerCase().includes(s.toLowerCase()))||((y=(h=(p=u.snapshot)==null?void 0:p.clinical_case)==null?void 0:h.title)==null?void 0:y.toLowerCase().includes(s.toLowerCase()))});return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Li,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Station Library"}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(cj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Search stations...",value:s,onChange:u=>o(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):c.length===0?d.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:d.jsx("p",{className:"text-gray-600",children:"No stations found"})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(u=>{var f,p,h,y;return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:((p=(f=u.snapshot)==null?void 0:f.clinical_case)==null?void 0:p.title)||u.title||"Untitled Station"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:((y=(h=u.snapshot)==null?void 0:h.clinical_case)==null?void 0:y.subject)||"No subject"}),d.jsx("div",{className:"flex items-center gap-2 mb-4",children:u.snapshot?d.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:"Approved"}):d.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:"Pending"})}),d.jsxs("div",{className:"flex gap-2",children:[u.snapshot&&d.jsxs("button",{onClick:()=>t(`/review/${u.id}`),className:"flex items-center gap-1 px-3 py-1 text-sm bg-primary-100 text-primary-700 rounded hover:bg-primary-200",children:[d.jsx(b1,{className:"w-4 h-4"}),"View"]}),d.jsxs("button",{onClick:()=>t(`/create?edit=${u.id}`),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:[d.jsx(lj,{className:"w-4 h-4"}),"Edit"]})]})]},u.id)})})]})}),d.jsx(Mn,{role:"faculty"})]})}function oR(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=oR(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function zt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=oR(e))&&(n&&(n+=" "),n+=t);return n}var fX=Array.isArray,Mi=fX,hX=typeof wl=="object"&&wl&&wl.Object===Object&&wl,lR=hX,pX=lR,mX=typeof self=="object"&&self&&self.Object===Object&&self,gX=pX||mX||Function("return this")(),Vs=gX,yX=Vs,vX=yX.Symbol,Gm=vX,w3=Gm,cR=Object.prototype,bX=cR.hasOwnProperty,xX=cR.toString,Fh=w3?w3.toStringTag:void 0;function wX(e){var t=bX.call(e,Fh),r=e[Fh];try{e[Fh]=void 0;var n=!0}catch{}var i=xX.call(e);return n&&(t?e[Fh]=r:delete e[Fh]),i}var _X=wX,SX=Object.prototype,jX=SX.toString;function NX(e){return jX.call(e)}var AX=NX,_3=Gm,kX=_X,OX=AX,EX="[object Null]",PX="[object Undefined]",S3=_3?_3.toStringTag:void 0;function CX(e){return e==null?e===void 0?PX:EX:S3&&S3 in Object(e)?kX(e):OX(e)}var Uo=CX;function TX(e){return e!=null&&typeof e=="object"}var zo=TX,IX=Uo,LX=zo,RX="[object Symbol]";function $X(e){return typeof e=="symbol"||LX(e)&&IX(e)==RX}var Uf=$X,MX=Mi,DX=Uf,BX=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,FX=/^\w*$/;function UX(e,t){if(MX(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||DX(e)?!0:FX.test(e)||!BX.test(e)||t!=null&&e in Object(t)}var Aj=UX;function zX(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Yl=zX;const zf=ir(Yl);var qX=Uo,WX=Yl,HX="[object AsyncFunction]",VX="[object Function]",GX="[object GeneratorFunction]",KX="[object Proxy]";function YX(e){if(!WX(e))return!1;var t=qX(e);return t==VX||t==GX||t==HX||t==KX}var kj=YX;const kt=ir(kj);var XX=Vs,JX=XX["__core-js_shared__"],ZX=JX,Vx=ZX,j3=function(){var e=/[^.]+$/.exec(Vx&&Vx.keys&&Vx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function QX(e){return!!j3&&j3 in e}var eJ=QX,tJ=Function.prototype,rJ=tJ.toString;function nJ(e){if(e!=null){try{return rJ.call(e)}catch{}try{return e+""}catch{}}return""}var uR=nJ,iJ=kj,aJ=eJ,sJ=Yl,oJ=uR,lJ=/[\\^$.*+?()[\]{}|]/g,cJ=/^\[object .+?Constructor\]$/,uJ=Function.prototype,dJ=Object.prototype,fJ=uJ.toString,hJ=dJ.hasOwnProperty,pJ=RegExp("^"+fJ.call(hJ).replace(lJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mJ(e){if(!sJ(e)||aJ(e))return!1;var t=iJ(e)?pJ:cJ;return t.test(oJ(e))}var gJ=mJ;function yJ(e,t){return e==null?void 0:e[t]}var vJ=yJ,bJ=gJ,xJ=vJ;function wJ(e,t){var r=xJ(e,t);return bJ(r)?r:void 0}var wu=wJ,_J=wu,SJ=_J(Object,"create"),j1=SJ,N3=j1;function jJ(){this.__data__=N3?N3(null):{},this.size=0}var NJ=jJ;function AJ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var kJ=AJ,OJ=j1,EJ="__lodash_hash_undefined__",PJ=Object.prototype,CJ=PJ.hasOwnProperty;function TJ(e){var t=this.__data__;if(OJ){var r=t[e];return r===EJ?void 0:r}return CJ.call(t,e)?t[e]:void 0}var IJ=TJ,LJ=j1,RJ=Object.prototype,$J=RJ.hasOwnProperty;function MJ(e){var t=this.__data__;return LJ?t[e]!==void 0:$J.call(t,e)}var DJ=MJ,BJ=j1,FJ="__lodash_hash_undefined__";function UJ(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=BJ&&t===void 0?FJ:t,this}var zJ=UJ,qJ=NJ,WJ=kJ,HJ=IJ,VJ=DJ,GJ=zJ;function qf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}qf.prototype.clear=qJ;qf.prototype.delete=WJ;qf.prototype.get=HJ;qf.prototype.has=VJ;qf.prototype.set=GJ;var KJ=qf;function YJ(){this.__data__=[],this.size=0}var XJ=YJ;function JJ(e,t){return e===t||e!==e&&t!==t}var Oj=JJ,ZJ=Oj;function QJ(e,t){for(var r=e.length;r--;)if(ZJ(e[r][0],t))return r;return-1}var N1=QJ,eZ=N1,tZ=Array.prototype,rZ=tZ.splice;function nZ(e){var t=this.__data__,r=eZ(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():rZ.call(t,r,1),--this.size,!0}var iZ=nZ,aZ=N1;function sZ(e){var t=this.__data__,r=aZ(t,e);return r<0?void 0:t[r][1]}var oZ=sZ,lZ=N1;function cZ(e){return lZ(this.__data__,e)>-1}var uZ=cZ,dZ=N1;function fZ(e,t){var r=this.__data__,n=dZ(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var hZ=fZ,pZ=XJ,mZ=iZ,gZ=oZ,yZ=uZ,vZ=hZ;function Wf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Wf.prototype.clear=pZ;Wf.prototype.delete=mZ;Wf.prototype.get=gZ;Wf.prototype.has=yZ;Wf.prototype.set=vZ;var A1=Wf,bZ=wu,xZ=Vs,wZ=bZ(xZ,"Map"),Ej=wZ,A3=KJ,_Z=A1,SZ=Ej;function jZ(){this.size=0,this.__data__={hash:new A3,map:new(SZ||_Z),string:new A3}}var NZ=jZ;function AZ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var kZ=AZ,OZ=kZ;function EZ(e,t){var r=e.__data__;return OZ(t)?r[typeof t=="string"?"string":"hash"]:r.map}var k1=EZ,PZ=k1;function CZ(e){var t=PZ(this,e).delete(e);return this.size-=t?1:0,t}var TZ=CZ,IZ=k1;function LZ(e){return IZ(this,e).get(e)}var RZ=LZ,$Z=k1;function MZ(e){return $Z(this,e).has(e)}var DZ=MZ,BZ=k1;function FZ(e,t){var r=BZ(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var UZ=FZ,zZ=NZ,qZ=TZ,WZ=RZ,HZ=DZ,VZ=UZ;function Hf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hf.prototype.clear=zZ;Hf.prototype.delete=qZ;Hf.prototype.get=WZ;Hf.prototype.has=HZ;Hf.prototype.set=VZ;var Pj=Hf,dR=Pj,GZ="Expected a function";function Cj(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(GZ);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(Cj.Cache||dR),r}Cj.Cache=dR;var fR=Cj;const KZ=ir(fR);var YZ=fR,XZ=500;function JZ(e){var t=YZ(e,function(n){return r.size===XZ&&r.clear(),n}),r=t.cache;return t}var ZZ=JZ,QZ=ZZ,eQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tQ=/\\(\\)?/g,rQ=QZ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(eQ,function(r,n,i,a){t.push(i?a.replace(tQ,"$1"):n||r)}),t}),nQ=rQ;function iQ(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Tj=iQ,k3=Gm,aQ=Tj,sQ=Mi,oQ=Uf,O3=k3?k3.prototype:void 0,E3=O3?O3.toString:void 0;function hR(e){if(typeof e=="string")return e;if(sQ(e))return aQ(e,hR)+"";if(oQ(e))return E3?E3.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var lQ=hR,cQ=lQ;function uQ(e){return e==null?"":cQ(e)}var pR=uQ,dQ=Mi,fQ=Aj,hQ=nQ,pQ=pR;function mQ(e,t){return dQ(e)?e:fQ(e,t)?[e]:hQ(pQ(e))}var mR=mQ,gQ=Uf;function yQ(e){if(typeof e=="string"||gQ(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var O1=yQ,vQ=mR,bQ=O1;function xQ(e,t){t=vQ(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[bQ(t[r++])];return r&&r==n?e:void 0}var Ij=xQ,wQ=Ij;function _Q(e,t,r){var n=e==null?void 0:wQ(e,t);return n===void 0?r:n}var gR=_Q;const la=ir(gR);function SQ(e){return e==null}var jQ=SQ;const Rt=ir(jQ);var NQ=Uo,AQ=Mi,kQ=zo,OQ="[object String]";function EQ(e){return typeof e=="string"||!AQ(e)&&kQ(e)&&NQ(e)==OQ}var PQ=EQ;const lu=ir(PQ);var yR={exports:{}},fr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lj=Symbol.for("react.element"),Rj=Symbol.for("react.portal"),E1=Symbol.for("react.fragment"),P1=Symbol.for("react.strict_mode"),C1=Symbol.for("react.profiler"),T1=Symbol.for("react.provider"),I1=Symbol.for("react.context"),CQ=Symbol.for("react.server_context"),L1=Symbol.for("react.forward_ref"),R1=Symbol.for("react.suspense"),$1=Symbol.for("react.suspense_list"),M1=Symbol.for("react.memo"),D1=Symbol.for("react.lazy"),TQ=Symbol.for("react.offscreen"),vR;vR=Symbol.for("react.module.reference");function qa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Lj:switch(e=e.type,e){case E1:case C1:case P1:case R1:case $1:return e;default:switch(e=e&&e.$$typeof,e){case CQ:case I1:case L1:case D1:case M1:case T1:return e;default:return t}}case Rj:return t}}}fr.ContextConsumer=I1;fr.ContextProvider=T1;fr.Element=Lj;fr.ForwardRef=L1;fr.Fragment=E1;fr.Lazy=D1;fr.Memo=M1;fr.Portal=Rj;fr.Profiler=C1;fr.StrictMode=P1;fr.Suspense=R1;fr.SuspenseList=$1;fr.isAsyncMode=function(){return!1};fr.isConcurrentMode=function(){return!1};fr.isContextConsumer=function(e){return qa(e)===I1};fr.isContextProvider=function(e){return qa(e)===T1};fr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lj};fr.isForwardRef=function(e){return qa(e)===L1};fr.isFragment=function(e){return qa(e)===E1};fr.isLazy=function(e){return qa(e)===D1};fr.isMemo=function(e){return qa(e)===M1};fr.isPortal=function(e){return qa(e)===Rj};fr.isProfiler=function(e){return qa(e)===C1};fr.isStrictMode=function(e){return qa(e)===P1};fr.isSuspense=function(e){return qa(e)===R1};fr.isSuspenseList=function(e){return qa(e)===$1};fr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===E1||e===C1||e===P1||e===R1||e===$1||e===TQ||typeof e=="object"&&e!==null&&(e.$$typeof===D1||e.$$typeof===M1||e.$$typeof===T1||e.$$typeof===I1||e.$$typeof===L1||e.$$typeof===vR||e.getModuleId!==void 0)};fr.typeOf=qa;yR.exports=fr;var IQ=yR.exports,LQ=Uo,RQ=zo,$Q="[object Number]";function MQ(e){return typeof e=="number"||RQ(e)&&LQ(e)==$Q}var bR=MQ;const DQ=ir(bR);var BQ=bR;function FQ(e){return BQ(e)&&e!=+e}var UQ=FQ;const Km=ir(UQ);var mi=function(t){return t===0?0:t>0?1:-1},Vc=function(t){return lu(t)&&t.indexOf("%")===t.length-1},Ge=function(t){return DQ(t)&&!Km(t)},zQ=function(t){return Rt(t)},On=function(t){return Ge(t)||lu(t)},qQ=0,Vf=function(t){var r=++qQ;return"".concat(t||"").concat(r)},gi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ge(t)&&!lu(t))return n;var a;if(Vc(t)){var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return Km(a)&&(a=n),i&&a>r&&(a=r),a},xl=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},WQ=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},ea=function(t,r){return Ge(t)&&Ge(r)?function(n){return t+n*(r-t)}:function(){return r}};function Vy(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):la(n,t))===r})}var HQ=function(t,r){return Ge(t)&&Ge(r)?t-r:lu(t)&&lu(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Rd(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function p5(e){"@babel/helpers - typeof";return p5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p5(e)}var VQ=["viewBox","children"],GQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],P3=["points","pathLength"],Gx={svg:VQ,polygon:P3,polyline:P3},$j=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Gy=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(G.isValidElement(t)&&(n=t.props),!zf(n))return null;var i={};return Object.keys(n).forEach(function(a){$j.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},KQ=function(t,r,n){return function(i){return t(r,n,i),null}},cu=function(t,r,n){if(!zf(t)||p5(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var s=t[a];$j.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=KQ(s,r,n))}),i},YQ=["children"],XQ=["children"];function C3(e,t){if(e==null)return{};var r=JQ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function m5(e){"@babel/helpers - typeof";return m5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m5(e)}var T3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ko=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},I3=null,Kx=null,Mj=function e(t){if(t===I3&&Array.isArray(Kx))return Kx;var r=[];return G.Children.forEach(t,function(n){Rt(n)||(IQ.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Kx=r,I3=t,r};function ca(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return ko(i)}):n=[ko(t)],Mj(e).forEach(function(i){var a=la(i,"type.displayName")||la(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Qi(e,t){var r=ca(e,t);return r&&r[0]}var L3=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!Ge(n)||n<=0||!Ge(i)||i<=0)},ZQ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],QQ=function(t){return t&&t.type&&lu(t.type)&&ZQ.indexOf(t.type)>=0},eee=function(t){return t&&m5(t)==="object"&&"clipDot"in t},tee=function(t,r,n,i){var a,s=(a=Gx==null?void 0:Gx[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!kt(t)&&(i&&s.includes(r)||GQ.includes(r))||n&&$j.includes(r)},xt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(G.isValidElement(t)&&(i=t.props),!zf(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;tee((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},g5=function e(t,r){if(t===r)return!0;var n=G.Children.count(t);if(n!==G.Children.count(r))return!1;if(n===0)return!0;if(n===1)return R3(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!R3(a,s))return!1}return!0},R3=function(t,r){if(Rt(t)&&Rt(r))return!0;if(!Rt(t)&&!Rt(r)){var n=t.props||{},i=n.children,a=C3(n,YQ),s=r.props||{},o=s.children,l=C3(s,XQ);return i&&o?Rd(a,l)&&g5(i,o):!i&&!o?Rd(a,l):!1}return!1},$3=function(t,r){var n=[],i={};return Mj(t).forEach(function(a,s){if(QQ(a))n.push(a);else if(a){var o=ko(a.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var f=c(a,o,s);n.push(f),i[o]=!0}}}),n},ree=function(t){var r=t&&t.type;return r&&T3[r]?T3[r]:null},nee=function(t,r){return Mj(r).indexOf(t)},iee=["children","width","height","viewBox","className","style","title","desc"];function y5(){return y5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y5.apply(this,arguments)}function aee(e,t){if(e==null)return{};var r=see(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function see(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v5(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,s=e.style,o=e.title,l=e.desc,c=aee(e,iee),u=i||{width:r,height:n,x:0,y:0},f=zt("recharts-surface",a);return ce.createElement("svg",y5({},xt(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ce.createElement("title",null,o),ce.createElement("desc",null,l),t)}var oee=["children","className"];function b5(){return b5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b5.apply(this,arguments)}function lee(e,t){if(e==null)return{};var r=cee(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Zt=ce.forwardRef(function(e,t){var r=e.children,n=e.className,i=lee(e,oee),a=zt("recharts-layer",n);return ce.createElement("g",b5({className:a},xt(i,!0),{ref:t}),r)}),fs=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function uee(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var dee=uee,fee=dee;function hee(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:fee(e,t,r)}var pee=hee,mee="\\ud800-\\udfff",gee="\\u0300-\\u036f",yee="\\ufe20-\\ufe2f",vee="\\u20d0-\\u20ff",bee=gee+yee+vee,xee="\\ufe0e\\ufe0f",wee="\\u200d",_ee=RegExp("["+wee+mee+bee+xee+"]");function See(e){return _ee.test(e)}var xR=See;function jee(e){return e.split("")}var Nee=jee,wR="\\ud800-\\udfff",Aee="\\u0300-\\u036f",kee="\\ufe20-\\ufe2f",Oee="\\u20d0-\\u20ff",Eee=Aee+kee+Oee,Pee="\\ufe0e\\ufe0f",Cee="["+wR+"]",x5="["+Eee+"]",w5="\\ud83c[\\udffb-\\udfff]",Tee="(?:"+x5+"|"+w5+")",_R="[^"+wR+"]",SR="(?:\\ud83c[\\udde6-\\uddff]){2}",jR="[\\ud800-\\udbff][\\udc00-\\udfff]",Iee="\\u200d",NR=Tee+"?",AR="["+Pee+"]?",Lee="(?:"+Iee+"(?:"+[_R,SR,jR].join("|")+")"+AR+NR+")*",Ree=AR+NR+Lee,$ee="(?:"+[_R+x5+"?",x5,SR,jR,Cee].join("|")+")",Mee=RegExp(w5+"(?="+w5+")|"+$ee+Ree,"g");function Dee(e){return e.match(Mee)||[]}var Bee=Dee,Fee=Nee,Uee=xR,zee=Bee;function qee(e){return Uee(e)?zee(e):Fee(e)}var Wee=qee,Hee=pee,Vee=xR,Gee=Wee,Kee=pR;function Yee(e){return function(t){t=Kee(t);var r=Vee(t)?Gee(t):void 0,n=r?r[0]:t.charAt(0),i=r?Hee(r,1).join(""):t.slice(1);return n[e]()+i}}var Xee=Yee,Jee=Xee,Zee=Jee("toUpperCase"),Qee=Zee;const B1=ir(Qee);function jr(e){return function(){return e}}const kR=Math.cos,Ky=Math.sin,ms=Math.sqrt,Yy=Math.PI,F1=2*Yy,_5=Math.PI,S5=2*_5,Tc=1e-6,ete=S5-Tc;function OR(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function tte(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return OR;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class rte{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?OR:tte(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,c=i-r,u=s-t,f=o-r,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Tc)if(!(Math.abs(f*l-c*u)>Tc)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-s,y=i-o,g=l*l+c*c,b=h*h+y*y,v=Math.sqrt(g),w=Math.sqrt(p),_=a*Math.tan((_5-Math.acos((g+p-b)/(2*v*w)))/2),N=_/w,S=_/v;Math.abs(N-1)>Tc&&this._append`L${t+N*u},${r+N*f}`,this._append`A${a},${a},0,0,${+(f*h>u*y)},${this._x1=t+S*l},${this._y1=r+S*c}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=t+o,u=r+l,f=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Tc||Math.abs(this._y1-u)>Tc)&&this._append`L${c},${u}`,n&&(p<0&&(p=p%S5+S5),p>ete?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:p>Tc&&this._append`A${n},${n},0,${+(p>=_5)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Dj(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new rte(t)}function Bj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ER(e){this._context=e}ER.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function U1(e){return new ER(e)}function PR(e){return e[0]}function CR(e){return e[1]}function TR(e,t){var r=jr(!0),n=null,i=U1,a=null,s=Dj(o);e=typeof e=="function"?e:e===void 0?PR:jr(e),t=typeof t=="function"?t:t===void 0?CR:jr(t);function o(l){var c,u=(l=Bj(l)).length,f,p=!1,h;for(n==null&&(a=i(h=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(f,c,l),+t(f,c,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:jr(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:jr(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:jr(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function g0(e,t,r){var n=null,i=jr(!0),a=null,s=U1,o=null,l=Dj(c);e=typeof e=="function"?e:e===void 0?PR:jr(+e),t=typeof t=="function"?t:jr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?CR:jr(+r);function c(f){var p,h,y,g=(f=Bj(f)).length,b,v=!1,w,_=new Array(g),N=new Array(g);for(a==null&&(o=s(w=l())),p=0;p<=g;++p){if(!(p<g&&i(b=f[p],p,f))===v)if(v=!v)h=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=p-1;y>=h;--y)o.point(_[y],N[y]);o.lineEnd(),o.areaEnd()}v&&(_[p]=+e(b,p,f),N[p]=+t(b,p,f),o.point(n?+n(b,p,f):_[p],r?+r(b,p,f):N[p]))}if(w)return o=null,w+""||null}function u(){return TR().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:jr(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:jr(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:jr(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:jr(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:jr(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:jr(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:jr(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class IR{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function nte(e){return new IR(e,!0)}function ite(e){return new IR(e,!1)}const Fj={draw(e,t){const r=ms(t/Yy);e.moveTo(r,0),e.arc(0,0,r,0,F1)}},ate={draw(e,t){const r=ms(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},LR=ms(1/3),ste=LR*2,ote={draw(e,t){const r=ms(t/ste),n=r*LR;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},lte={draw(e,t){const r=ms(t),n=-r/2;e.rect(n,n,r,r)}},cte=.8908130915292852,RR=Ky(Yy/10)/Ky(7*Yy/10),ute=Ky(F1/10)*RR,dte=-kR(F1/10)*RR,fte={draw(e,t){const r=ms(t*cte),n=ute*r,i=dte*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=F1*a/5,o=kR(s),l=Ky(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},Yx=ms(3),hte={draw(e,t){const r=-ms(t/(Yx*3));e.moveTo(0,r*2),e.lineTo(-Yx*r,-r),e.lineTo(Yx*r,-r),e.closePath()}},Sa=-.5,ja=ms(3)/2,j5=1/ms(12),pte=(j5/2+1)*3,mte={draw(e,t){const r=ms(t/pte),n=r/2,i=r*j5,a=n,s=r*j5+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Sa*n-ja*i,ja*n+Sa*i),e.lineTo(Sa*a-ja*s,ja*a+Sa*s),e.lineTo(Sa*o-ja*l,ja*o+Sa*l),e.lineTo(Sa*n+ja*i,Sa*i-ja*n),e.lineTo(Sa*a+ja*s,Sa*s-ja*a),e.lineTo(Sa*o+ja*l,Sa*l-ja*o),e.closePath()}};function gte(e,t){let r=null,n=Dj(i);e=typeof e=="function"?e:jr(e||Fj),t=typeof t=="function"?t:jr(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:jr(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:jr(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Xy(){}function Jy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function $R(e){this._context=e}$R.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yte(e){return new $R(e)}function MR(e){this._context=e}MR.prototype={areaStart:Xy,areaEnd:Xy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Jy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vte(e){return new MR(e)}function DR(e){this._context=e}DR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Jy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bte(e){return new DR(e)}function BR(e){this._context=e}BR.prototype={areaStart:Xy,areaEnd:Xy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function xte(e){return new BR(e)}function M3(e){return e<0?-1:1}function D3(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(M3(a)+M3(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function B3(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Xx(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function Zy(e){this._context=e}Zy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xx(this,this._t0,B3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Xx(this,B3(this,r=D3(this,e,t)),r);break;default:Xx(this,this._t0,r=D3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function FR(e){this._context=new UR(e)}(FR.prototype=Object.create(Zy.prototype)).point=function(e,t){Zy.prototype.point.call(this,t,e)};function UR(e){this._context=e}UR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function wte(e){return new Zy(e)}function _te(e){return new FR(e)}function zR(e){this._context=e}zR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=F3(e),i=F3(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function F3(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Ste(e){return new zR(e)}function z1(e,t){this._context=e,this._t=t}z1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function jte(e){return new z1(e,.5)}function Nte(e){return new z1(e,0)}function Ate(e){return new z1(e,1)}function rf(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function N5(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function kte(e,t){return e[t]}function Ote(e){const t=[];return t.key=e,t}function Ete(){var e=jr([]),t=N5,r=rf,n=kte;function i(a){var s=Array.from(e.apply(this,arguments),Ote),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,a)]).data=f;for(o=0,u=Bj(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:jr(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:jr(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?N5:typeof a=="function"?a:jr(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??rf,i):r},i}function Pte(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}rf(e,t)}}function Cte(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}rf(e,t)}}function Tte(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[n][1]||0,p=u[n-1][1]||0,h=(f-p)/2,y=0;y<o;++y){var g=e[t[y]],b=g[n][1]||0,v=g[n-1][1]||0;h+=b-v}l+=f,c+=h*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,rf(e,t)}}function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}var Ite=["type","size","sizeType"];function A5(){return A5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A5.apply(this,arguments)}function U3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function z3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U3(Object(r),!0).forEach(function(n){Lte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lte(e,t,r){return t=Rte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rte(e){var t=$te(e,"string");return em(t)=="symbol"?t:t+""}function $te(e,t){if(em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mte(e,t){if(e==null)return{};var r=Dte(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qR={symbolCircle:Fj,symbolCross:ate,symbolDiamond:ote,symbolSquare:lte,symbolStar:fte,symbolTriangle:hte,symbolWye:mte},Bte=Math.PI/180,Fte=function(t){var r="symbol".concat(B1(t));return qR[r]||Fj},Ute=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*Bte;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},zte=function(t,r){qR["symbol".concat(B1(t))]=r},Uj=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,s=t.sizeType,o=s===void 0?"area":s,l=Mte(t,Ite),c=z3(z3({},l),{},{type:n,size:a,sizeType:o}),u=function(){var b=Fte(n),v=gte().type(b).size(Ute(a,o,n));return v()},f=c.className,p=c.cx,h=c.cy,y=xt(c,!0);return p===+p&&h===+h&&a===+a?ce.createElement("path",A5({},y,{className:zt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:u()})):null};Uj.registerSymbol=zte;function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function k5(){return k5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k5.apply(this,arguments)}function q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q3(Object(r),!0).forEach(function(n){tm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HR(n.key),n)}}function Vte(e,t,r){return t&&Hte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gte(e,t,r){return t=Qy(t),Kte(e,WR()?Reflect.construct(t,r||[],Qy(e).constructor):t.apply(e,r))}function Kte(e,t){if(t&&(nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yte(e)}function Yte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WR=function(){return!!e})()}function Qy(e){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qy(e)}function Xte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O5(e,t)}function O5(e,t){return O5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O5(e,t)}function tm(e,t,r){return t=HR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HR(e){var t=Jte(e,"string");return nf(t)=="symbol"?t:t+""}function Jte(e,t){if(nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Na=32,zj=function(e){function t(){return Wte(this,t),Gte(this,t,arguments)}return Xte(t,e),Vte(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Na/2,s=Na/6,o=Na/3,l=n.inactive?i:n.color;if(n.type==="plainline")return ce.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Na,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return ce.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Na,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return ce.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Na/8,"h").concat(Na,"v").concat(Na*3/4,"h").concat(-Na,"z"),className:"recharts-legend-icon"});if(ce.isValidElement(n.legendIcon)){var c=qte({},n);return delete c.legendIcon,ce.cloneElement(n.legendIcon,c)}return ce.createElement(Uj,{fill:l,cx:a,cy:a,size:Na,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Na,height:Na},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,y){var g=h.formatter||l,b=zt(tm(tm({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",h.inactive));if(h.type==="none")return null;var v=kt(h.value)?null:h.value;fs(!kt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=h.inactive?c:h.color;return ce.createElement("li",k5({className:b,style:f,key:"legend-item-".concat(y)},cu(n.props,h,y)),ce.createElement(v5,{width:s,height:s,viewBox:u,style:p},n.renderIcon(h)),ce.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(v,h,y):v))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return ce.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(G.PureComponent);tm(zj,"displayName","Legend");tm(zj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Zte=A1;function Qte(){this.__data__=new Zte,this.size=0}var ere=Qte;function tre(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var rre=tre;function nre(e){return this.__data__.get(e)}var ire=nre;function are(e){return this.__data__.has(e)}var sre=are,ore=A1,lre=Ej,cre=Pj,ure=200;function dre(e,t){var r=this.__data__;if(r instanceof ore){var n=r.__data__;if(!lre||n.length<ure-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new cre(n)}return r.set(e,t),this.size=r.size,this}var fre=dre,hre=A1,pre=ere,mre=rre,gre=ire,yre=sre,vre=fre;function Gf(e){var t=this.__data__=new hre(e);this.size=t.size}Gf.prototype.clear=pre;Gf.prototype.delete=mre;Gf.prototype.get=gre;Gf.prototype.has=yre;Gf.prototype.set=vre;var VR=Gf,bre="__lodash_hash_undefined__";function xre(e){return this.__data__.set(e,bre),this}var wre=xre;function _re(e){return this.__data__.has(e)}var Sre=_re,jre=Pj,Nre=wre,Are=Sre;function ev(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new jre;++t<r;)this.add(e[t])}ev.prototype.add=ev.prototype.push=Nre;ev.prototype.has=Are;var GR=ev;function kre(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var KR=kre;function Ore(e,t){return e.has(t)}var YR=Ore,Ere=GR,Pre=KR,Cre=YR,Tre=1,Ire=2;function Lre(e,t,r,n,i,a){var s=r&Tre,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(e),u=a.get(t);if(c&&u)return c==t&&u==e;var f=-1,p=!0,h=r&Ire?new Ere:void 0;for(a.set(e,t),a.set(t,e);++f<o;){var y=e[f],g=t[f];if(n)var b=s?n(g,y,f,t,e,a):n(y,g,f,e,t,a);if(b!==void 0){if(b)continue;p=!1;break}if(h){if(!Pre(t,function(v,w){if(!Cre(h,w)&&(y===v||i(y,v,r,n,a)))return h.push(w)})){p=!1;break}}else if(!(y===g||i(y,g,r,n,a))){p=!1;break}}return a.delete(e),a.delete(t),p}var XR=Lre,Rre=Vs,$re=Rre.Uint8Array,Mre=$re;function Dre(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var Bre=Dre;function Fre(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var qj=Fre,W3=Gm,H3=Mre,Ure=Oj,zre=XR,qre=Bre,Wre=qj,Hre=1,Vre=2,Gre="[object Boolean]",Kre="[object Date]",Yre="[object Error]",Xre="[object Map]",Jre="[object Number]",Zre="[object RegExp]",Qre="[object Set]",ene="[object String]",tne="[object Symbol]",rne="[object ArrayBuffer]",nne="[object DataView]",V3=W3?W3.prototype:void 0,Jx=V3?V3.valueOf:void 0;function ine(e,t,r,n,i,a,s){switch(r){case nne:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case rne:return!(e.byteLength!=t.byteLength||!a(new H3(e),new H3(t)));case Gre:case Kre:case Jre:return Ure(+e,+t);case Yre:return e.name==t.name&&e.message==t.message;case Zre:case ene:return e==t+"";case Xre:var o=qre;case Qre:var l=n&Hre;if(o||(o=Wre),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=Vre,s.set(e,t);var u=zre(o(e),o(t),n,i,a,s);return s.delete(e),u;case tne:if(Jx)return Jx.call(e)==Jx.call(t)}return!1}var ane=ine;function sne(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var JR=sne,one=JR,lne=Mi;function cne(e,t,r){var n=t(e);return lne(e)?n:one(n,r(e))}var une=cne;function dne(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}var fne=dne;function hne(){return[]}var pne=hne,mne=fne,gne=pne,yne=Object.prototype,vne=yne.propertyIsEnumerable,G3=Object.getOwnPropertySymbols,bne=G3?function(e){return e==null?[]:(e=Object(e),mne(G3(e),function(t){return vne.call(e,t)}))}:gne,xne=bne;function wne(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var _ne=wne,Sne=Uo,jne=zo,Nne="[object Arguments]";function Ane(e){return jne(e)&&Sne(e)==Nne}var kne=Ane,K3=kne,One=zo,ZR=Object.prototype,Ene=ZR.hasOwnProperty,Pne=ZR.propertyIsEnumerable,Cne=K3(function(){return arguments}())?K3:function(e){return One(e)&&Ene.call(e,"callee")&&!Pne.call(e,"callee")},Wj=Cne,tv={exports:{}};function Tne(){return!1}var Ine=Tne;tv.exports;(function(e,t){var r=Vs,n=Ine,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(tv,tv.exports);var QR=tv.exports,Lne=9007199254740991,Rne=/^(?:0|[1-9]\d*)$/;function $ne(e,t){var r=typeof e;return t=t??Lne,!!t&&(r=="number"||r!="symbol"&&Rne.test(e))&&e>-1&&e%1==0&&e<t}var Hj=$ne,Mne=9007199254740991;function Dne(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Mne}var Vj=Dne,Bne=Uo,Fne=Vj,Une=zo,zne="[object Arguments]",qne="[object Array]",Wne="[object Boolean]",Hne="[object Date]",Vne="[object Error]",Gne="[object Function]",Kne="[object Map]",Yne="[object Number]",Xne="[object Object]",Jne="[object RegExp]",Zne="[object Set]",Qne="[object String]",eie="[object WeakMap]",tie="[object ArrayBuffer]",rie="[object DataView]",nie="[object Float32Array]",iie="[object Float64Array]",aie="[object Int8Array]",sie="[object Int16Array]",oie="[object Int32Array]",lie="[object Uint8Array]",cie="[object Uint8ClampedArray]",uie="[object Uint16Array]",die="[object Uint32Array]",Pr={};Pr[nie]=Pr[iie]=Pr[aie]=Pr[sie]=Pr[oie]=Pr[lie]=Pr[cie]=Pr[uie]=Pr[die]=!0;Pr[zne]=Pr[qne]=Pr[tie]=Pr[Wne]=Pr[rie]=Pr[Hne]=Pr[Vne]=Pr[Gne]=Pr[Kne]=Pr[Yne]=Pr[Xne]=Pr[Jne]=Pr[Zne]=Pr[Qne]=Pr[eie]=!1;function fie(e){return Une(e)&&Fne(e.length)&&!!Pr[Bne(e)]}var hie=fie;function pie(e){return function(t){return e(t)}}var e$=pie,rv={exports:{}};rv.exports;(function(e,t){var r=lR,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(rv,rv.exports);var mie=rv.exports,gie=hie,yie=e$,Y3=mie,X3=Y3&&Y3.isTypedArray,vie=X3?yie(X3):gie,t$=vie,bie=_ne,xie=Wj,wie=Mi,_ie=QR,Sie=Hj,jie=t$,Nie=Object.prototype,Aie=Nie.hasOwnProperty;function kie(e,t){var r=wie(e),n=!r&&xie(e),i=!r&&!n&&_ie(e),a=!r&&!n&&!i&&jie(e),s=r||n||i||a,o=s?bie(e.length,String):[],l=o.length;for(var c in e)(t||Aie.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Sie(c,l)))&&o.push(c);return o}var Oie=kie,Eie=Object.prototype;function Pie(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Eie;return e===r}var Cie=Pie;function Tie(e,t){return function(r){return e(t(r))}}var r$=Tie,Iie=r$,Lie=Iie(Object.keys,Object),Rie=Lie,$ie=Cie,Mie=Rie,Die=Object.prototype,Bie=Die.hasOwnProperty;function Fie(e){if(!$ie(e))return Mie(e);var t=[];for(var r in Object(e))Bie.call(e,r)&&r!="constructor"&&t.push(r);return t}var Uie=Fie,zie=kj,qie=Vj;function Wie(e){return e!=null&&qie(e.length)&&!zie(e)}var Ym=Wie,Hie=Oie,Vie=Uie,Gie=Ym;function Kie(e){return Gie(e)?Hie(e):Vie(e)}var q1=Kie,Yie=une,Xie=xne,Jie=q1;function Zie(e){return Yie(e,Jie,Xie)}var Qie=Zie,J3=Qie,eae=1,tae=Object.prototype,rae=tae.hasOwnProperty;function nae(e,t,r,n,i,a){var s=r&eae,o=J3(e),l=o.length,c=J3(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var p=o[f];if(!(s?p in t:rae.call(t,p)))return!1}var h=a.get(e),y=a.get(t);if(h&&y)return h==t&&y==e;var g=!0;a.set(e,t),a.set(t,e);for(var b=s;++f<l;){p=o[f];var v=e[p],w=t[p];if(n)var _=s?n(w,v,p,t,e,a):n(v,w,p,e,t,a);if(!(_===void 0?v===w||i(v,w,r,n,a):_)){g=!1;break}b||(b=p=="constructor")}if(g&&!b){var N=e.constructor,S=t.constructor;N!=S&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof S=="function"&&S instanceof S)&&(g=!1)}return a.delete(e),a.delete(t),g}var iae=nae,aae=wu,sae=Vs,oae=aae(sae,"DataView"),lae=oae,cae=wu,uae=Vs,dae=cae(uae,"Promise"),fae=dae,hae=wu,pae=Vs,mae=hae(pae,"Set"),n$=mae,gae=wu,yae=Vs,vae=gae(yae,"WeakMap"),bae=vae,E5=lae,P5=Ej,C5=fae,T5=n$,I5=bae,i$=Uo,Kf=uR,Z3="[object Map]",xae="[object Object]",Q3="[object Promise]",eO="[object Set]",tO="[object WeakMap]",rO="[object DataView]",wae=Kf(E5),_ae=Kf(P5),Sae=Kf(C5),jae=Kf(T5),Nae=Kf(I5),Ic=i$;(E5&&Ic(new E5(new ArrayBuffer(1)))!=rO||P5&&Ic(new P5)!=Z3||C5&&Ic(C5.resolve())!=Q3||T5&&Ic(new T5)!=eO||I5&&Ic(new I5)!=tO)&&(Ic=function(e){var t=i$(e),r=t==xae?e.constructor:void 0,n=r?Kf(r):"";if(n)switch(n){case wae:return rO;case _ae:return Z3;case Sae:return Q3;case jae:return eO;case Nae:return tO}return t});var Aae=Ic,Zx=VR,kae=XR,Oae=ane,Eae=iae,nO=Aae,iO=Mi,aO=QR,Pae=t$,Cae=1,sO="[object Arguments]",oO="[object Array]",y0="[object Object]",Tae=Object.prototype,lO=Tae.hasOwnProperty;function Iae(e,t,r,n,i,a){var s=iO(e),o=iO(t),l=s?oO:nO(e),c=o?oO:nO(t);l=l==sO?y0:l,c=c==sO?y0:c;var u=l==y0,f=c==y0,p=l==c;if(p&&aO(e)){if(!aO(t))return!1;s=!0,u=!1}if(p&&!u)return a||(a=new Zx),s||Pae(e)?kae(e,t,r,n,i,a):Oae(e,t,l,r,n,i,a);if(!(r&Cae)){var h=u&&lO.call(e,"__wrapped__"),y=f&&lO.call(t,"__wrapped__");if(h||y){var g=h?e.value():e,b=y?t.value():t;return a||(a=new Zx),i(g,b,r,n,a)}}return p?(a||(a=new Zx),Eae(e,t,r,n,i,a)):!1}var Lae=Iae,Rae=Lae,cO=zo;function a$(e,t,r,n,i){return e===t?!0:e==null||t==null||!cO(e)&&!cO(t)?e!==e&&t!==t:Rae(e,t,r,n,a$,i)}var Gj=a$,$ae=VR,Mae=Gj,Dae=1,Bae=2;function Fae(e,t,r,n){var i=r.length,a=i,s=!n;if(e==null)return!a;for(e=Object(e);i--;){var o=r[i];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){o=r[i];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var f=new $ae;if(n)var p=n(c,u,l,e,t,f);if(!(p===void 0?Mae(u,c,Dae|Bae,n,f):p))return!1}}return!0}var Uae=Fae,zae=Yl;function qae(e){return e===e&&!zae(e)}var s$=qae,Wae=s$,Hae=q1;function Vae(e){for(var t=Hae(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Wae(i)]}return t}var Gae=Vae;function Kae(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var o$=Kae,Yae=Uae,Xae=Gae,Jae=o$;function Zae(e){var t=Xae(e);return t.length==1&&t[0][2]?Jae(t[0][0],t[0][1]):function(r){return r===e||Yae(r,e,t)}}var Qae=Zae;function ese(e,t){return e!=null&&t in Object(e)}var tse=ese,rse=mR,nse=Wj,ise=Mi,ase=Hj,sse=Vj,ose=O1;function lse(e,t,r){t=rse(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var s=ose(t[n]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&sse(i)&&ase(s,i)&&(ise(e)||nse(e)))}var cse=lse,use=tse,dse=cse;function fse(e,t){return e!=null&&dse(e,t,use)}var hse=fse,pse=Gj,mse=gR,gse=hse,yse=Aj,vse=s$,bse=o$,xse=O1,wse=1,_se=2;function Sse(e,t){return yse(e)&&vse(t)?bse(xse(e),t):function(r){var n=mse(r,e);return n===void 0&&n===t?gse(r,e):pse(t,n,wse|_se)}}var jse=Sse;function Nse(e){return e}var Yf=Nse;function Ase(e){return function(t){return t==null?void 0:t[e]}}var kse=Ase,Ose=Ij;function Ese(e){return function(t){return Ose(t,e)}}var Pse=Ese,Cse=kse,Tse=Pse,Ise=Aj,Lse=O1;function Rse(e){return Ise(e)?Cse(Lse(e)):Tse(e)}var $se=Rse,Mse=Qae,Dse=jse,Bse=Yf,Fse=Mi,Use=$se;function zse(e){return typeof e=="function"?e:e==null?Bse:typeof e=="object"?Fse(e)?Dse(e[0],e[1]):Mse(e):Use(e)}var Gs=zse;function qse(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var l$=qse;function Wse(e){return e!==e}var Hse=Wse;function Vse(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var Gse=Vse,Kse=l$,Yse=Hse,Xse=Gse;function Jse(e,t,r){return t===t?Xse(e,t,r):Kse(e,Yse,r)}var Zse=Jse,Qse=Zse;function eoe(e,t){var r=e==null?0:e.length;return!!r&&Qse(e,t,0)>-1}var toe=eoe;function roe(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var noe=roe;function ioe(){}var aoe=ioe,Qx=n$,soe=aoe,ooe=qj,loe=1/0,coe=Qx&&1/ooe(new Qx([,-0]))[1]==loe?function(e){return new Qx(e)}:soe,uoe=coe,doe=GR,foe=toe,hoe=noe,poe=YR,moe=uoe,goe=qj,yoe=200;function voe(e,t,r){var n=-1,i=foe,a=e.length,s=!0,o=[],l=o;if(r)s=!1,i=hoe;else if(a>=yoe){var c=t?null:moe(e);if(c)return goe(c);s=!1,i=poe,l=new doe}else l=t?[]:o;e:for(;++n<a;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;t&&l.push(f),o.push(u)}else i(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var boe=voe,xoe=Gs,woe=boe;function _oe(e,t){return e&&e.length?woe(e,xoe(t)):[]}var Soe=_oe;const uO=ir(Soe);function c$(e,t,r){return t===!0?uO(e,r):kt(t)?uO(e,t):e}function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}var joe=["ref"];function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(n){W1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Noe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d$(n.key),n)}}function Aoe(e,t,r){return t&&fO(e.prototype,t),r&&fO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function koe(e,t,r){return t=nv(t),Ooe(e,u$()?Reflect.construct(t,r||[],nv(e).constructor):t.apply(e,r))}function Ooe(e,t){if(t&&(af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eoe(e)}function Eoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u$=function(){return!!e})()}function nv(e){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nv(e)}function Poe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L5(e,t)}function L5(e,t){return L5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L5(e,t)}function W1(e,t,r){return t=d$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d$(e){var t=Coe(e,"string");return af(t)=="symbol"?t:t+""}function Coe(e,t){if(af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Toe(e,t){if(e==null)return{};var r=Ioe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ioe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Loe(e){return e.value}function Roe(e,t){if(ce.isValidElement(e))return ce.cloneElement(e,t);if(typeof e=="function")return ce.createElement(e,t);t.ref;var r=Toe(t,joe);return ce.createElement(zj,r)}var hO=1,Ds=function(e){function t(){var r;Noe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=koe(this,t,[].concat(i)),W1(r,"lastBoundingBox",{width:-1,height:-1}),r}return Poe(t,e),Aoe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>hO||Math.abs(i.height-this.lastBoundingBox.height)>hO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?uo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((c||0)-h.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var y=this.getBBoxSnapshot();p={top:((u||0)-y.height)/2}}else p=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return uo(uo({},f),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=uo(uo({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return ce.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},Roe(a,uo(uo({},this.props),{},{payload:c$(u,c,Loe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=uo(uo({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&Ge(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(G.PureComponent);W1(Ds,"displayName","Legend");W1(Ds,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var pO=Gm,$oe=Wj,Moe=Mi,mO=pO?pO.isConcatSpreadable:void 0;function Doe(e){return Moe(e)||$oe(e)||!!(mO&&e&&e[mO])}var Boe=Doe,Foe=JR,Uoe=Boe;function f$(e,t,r,n,i){var a=-1,s=e.length;for(r||(r=Uoe),i||(i=[]);++a<s;){var o=e[a];t>0&&r(o)?t>1?f$(o,t-1,r,n,i):Foe(i,o):n||(i[i.length]=o)}return i}var h$=f$;function zoe(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++i];if(r(a[l],l,a)===!1)break}return t}}var qoe=zoe,Woe=qoe,Hoe=Woe(),Voe=Hoe,Goe=Voe,Koe=q1;function Yoe(e,t){return e&&Goe(e,t,Koe)}var p$=Yoe,Xoe=Ym;function Joe(e,t){return function(r,n){if(r==null)return r;if(!Xoe(r))return e(r,n);for(var i=r.length,a=t?i:-1,s=Object(r);(t?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var Zoe=Joe,Qoe=p$,ele=Zoe,tle=ele(Qoe),Kj=tle,rle=Kj,nle=Ym;function ile(e,t){var r=-1,n=nle(e)?Array(e.length):[];return rle(e,function(i,a,s){n[++r]=t(i,a,s)}),n}var m$=ile;function ale(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var sle=ale,gO=Uf;function ole(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=gO(e),s=t!==void 0,o=t===null,l=t===t,c=gO(t);if(!o&&!c&&!a&&e>t||a&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&e<t||c&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}var lle=ole,cle=lle;function ule(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,s=i.length,o=r.length;++n<s;){var l=cle(i[n],a[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var dle=ule,e2=Tj,fle=Ij,hle=Gs,ple=m$,mle=sle,gle=e$,yle=dle,vle=Yf,ble=Mi;function xle(e,t,r){t.length?t=e2(t,function(a){return ble(a)?function(s){return fle(s,a.length===1?a[0]:a)}:a}):t=[vle];var n=-1;t=e2(t,gle(hle));var i=ple(e,function(a,s,o){var l=e2(t,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return mle(i,function(a,s){return yle(a,s,r)})}var wle=xle;function _le(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Sle=_le,jle=Sle,yO=Math.max;function Nle(e,t,r){return t=yO(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=yO(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=r(s),jle(e,this,o)}}var Ale=Nle;function kle(e){return function(){return e}}var Ole=kle,Ele=wu,Ple=function(){try{var e=Ele(Object,"defineProperty");return e({},"",{}),e}catch{}}(),g$=Ple,Cle=Ole,vO=g$,Tle=Yf,Ile=vO?function(e,t){return vO(e,"toString",{configurable:!0,enumerable:!1,value:Cle(t),writable:!0})}:Tle,Lle=Ile,Rle=800,$le=16,Mle=Date.now;function Dle(e){var t=0,r=0;return function(){var n=Mle(),i=$le-(n-r);if(r=n,i>0){if(++t>=Rle)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Ble=Dle,Fle=Lle,Ule=Ble,zle=Ule(Fle),qle=zle,Wle=Yf,Hle=Ale,Vle=qle;function Gle(e,t){return Vle(Hle(e,t,Wle),e+"")}var Kle=Gle,Yle=Oj,Xle=Ym,Jle=Hj,Zle=Yl;function Qle(e,t,r){if(!Zle(r))return!1;var n=typeof t;return(n=="number"?Xle(r)&&Jle(t,r.length):n=="string"&&t in r)?Yle(r[t],e):!1}var H1=Qle,ece=h$,tce=wle,rce=Kle,bO=H1,nce=rce(function(e,t){if(e==null)return[];var r=t.length;return r>1&&bO(e,t[0],t[1])?t=[]:r>2&&bO(t[0],t[1],t[2])&&(t=[t[0]]),tce(e,ece(t,1),[])}),ice=nce;const Yj=ir(ice);function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}function R5(){return R5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R5.apply(this,arguments)}function ace(e,t){return cce(e)||lce(e,t)||oce(e,t)||sce()}function sce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oce(e,t){if(e){if(typeof e=="string")return xO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xO(e,t)}}function xO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function cce(e){if(Array.isArray(e))return e}function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function t2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){uce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uce(e,t,r){return t=dce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dce(e){var t=fce(e,"string");return rm(t)=="symbol"?t:t+""}function fce(e,t){if(rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hce(e){return Array.isArray(e)&&On(e[0])&&On(e[1])?e.join(" ~ "):e}var pce=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,p=t.itemSorter,h=t.wrapperClassName,y=t.labelClassName,g=t.label,b=t.labelFormatter,v=t.accessibilityLayer,w=v===void 0?!1:v,_=function(){if(u&&u.length){var E={padding:0,margin:0},$=(p?Yj(u,p):u).map(function(M,B){if(M.type==="none")return null;var q=t2({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},o),J=M.formatter||f||hce,W=M.value,Z=M.name,D=W,se=Z;if(J&&D!=null&&se!=null){var T=J(W,Z,M,B,u);if(Array.isArray(T)){var I=ace(T,2);D=I[0],se=I[1]}else D=T}return ce.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:q},On(se)?ce.createElement("span",{className:"recharts-tooltip-item-name"},se):null,On(se)?ce.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ce.createElement("span",{className:"recharts-tooltip-item-value"},D),ce.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return ce.createElement("ul",{className:"recharts-tooltip-item-list",style:E},$)}return null},N=t2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=t2({margin:0},c),j=!Rt(g),P=j?g:"",C=zt("recharts-default-tooltip",h),L=zt("recharts-tooltip-label",y);j&&b&&u!==void 0&&u!==null&&(P=b(g,u));var F=w?{role:"status","aria-live":"assertive"}:{};return ce.createElement("div",R5({className:C,style:N},F),ce.createElement("p",{className:L,style:S},ce.isValidElement(P)?P:"".concat(P)),_())};function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function v0(e,t,r){return t=mce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mce(e){var t=gce(e,"string");return nm(t)=="symbol"?t:t+""}function gce(e,t){if(nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uh="recharts-tooltip-wrapper",yce={visibility:"hidden"};function vce(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return zt(Uh,v0(v0(v0(v0({},"".concat(Uh,"-right"),Ge(r)&&t&&Ge(t.x)&&r>=t.x),"".concat(Uh,"-left"),Ge(r)&&t&&Ge(t.x)&&r<t.x),"".concat(Uh,"-bottom"),Ge(n)&&t&&Ge(t.y)&&n>=t.y),"".concat(Uh,"-top"),Ge(n)&&t&&Ge(t.y)&&n<t.y))}function _O(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(a&&Ge(a[n]))return a[n];var u=r[n]-o-i,f=r[n]+i;if(t[n])return s[n]?u:f;if(s[n]){var p=u,h=l[n];return p<h?Math.max(f,l[n]):Math.max(u,l[n])}var y=f+o,g=l[n]+c;return y>g?Math.max(u,l[n]):Math.max(f,l[n])}function bce(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function xce(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=_O({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=_O({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=bce({translateX:u,translateY:f,useTranslate3d:o})):c=yce,{cssProperties:c,cssClasses:vce({translateX:u,translateY:f,coordinate:r})}}function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(n){M5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v$(n.key),n)}}function Sce(e,t,r){return t&&_ce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jce(e,t,r){return t=iv(t),Nce(e,y$()?Reflect.construct(t,r||[],iv(e).constructor):t.apply(e,r))}function Nce(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ace(e)}function Ace(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y$=function(){return!!e})()}function iv(e){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iv(e)}function kce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$5(e,t)}function $5(e,t){return $5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$5(e,t)}function M5(e,t,r){return t=v$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v$(e){var t=Oce(e,"string");return sf(t)=="symbol"?t:t+""}function Oce(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NO=1,Ece=function(e){function t(){var r;wce(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=jce(this,t,[].concat(i)),M5(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),M5(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return kce(t,e),Sce(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>NO||Math.abs(n.height-this.state.lastBoundingBox.height)>NO)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,h=i.offset,y=i.position,g=i.reverseDirection,b=i.useTranslate3d,v=i.viewBox,w=i.wrapperStyle,_=xce({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:h,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:v}),N=_.cssClasses,S=_.cssProperties,j=jO(jO({transition:p&&a?"transform ".concat(o,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return ce.createElement("div",{tabIndex:-1,className:N,style:j,ref:function(C){n.wrapperNode=C}},c)}}])}(G.PureComponent),Pce=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},_u={isSsr:Pce()};function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){Xj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x$(n.key),n)}}function Ice(e,t,r){return t&&Tce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lce(e,t,r){return t=av(t),Rce(e,b$()?Reflect.construct(t,r||[],av(e).constructor):t.apply(e,r))}function Rce(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ce(e)}function $ce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b$=function(){return!!e})()}function av(e){return av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},av(e)}function Mce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D5(e,t)}function D5(e,t){return D5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},D5(e,t)}function Xj(e,t,r){return t=x$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x$(e){var t=Dce(e,"string");return of(t)=="symbol"?t:t+""}function Dce(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Bce(e){return e.dataKey}function Fce(e,t){return ce.isValidElement(e)?ce.cloneElement(e,t):typeof e=="function"?ce.createElement(e,t):ce.createElement(pce,t)}var ki=function(e){function t(){return Cce(this,t),Lce(this,t,arguments)}return Mce(t,e),Ice(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,p=i.isAnimationActive,h=i.offset,y=i.payload,g=i.payloadUniqBy,b=i.position,v=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,N=i.wrapperStyle,S=y??[];f&&S.length&&(S=c$(y.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),g,Bce));var j=S.length>0;return ce.createElement(Ece,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:p,active:a,coordinate:u,hasPayload:j,offset:h,position:b,reverseDirection:v,useTranslate3d:w,viewBox:_,wrapperStyle:N},Fce(c,kO(kO({},this.props),{},{payload:S})))}}])}(G.PureComponent);Xj(ki,"displayName","Tooltip");Xj(ki,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!_u.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Uce=Vs,zce=function(){return Uce.Date.now()},qce=zce,Wce=/\s/;function Hce(e){for(var t=e.length;t--&&Wce.test(e.charAt(t)););return t}var Vce=Hce,Gce=Vce,Kce=/^\s+/;function Yce(e){return e&&e.slice(0,Gce(e)+1).replace(Kce,"")}var Xce=Yce,Jce=Xce,OO=Yl,Zce=Uf,EO=NaN,Qce=/^[-+]0x[0-9a-f]+$/i,eue=/^0b[01]+$/i,tue=/^0o[0-7]+$/i,rue=parseInt;function nue(e){if(typeof e=="number")return e;if(Zce(e))return EO;if(OO(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=OO(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Jce(e);var r=eue.test(e);return r||tue.test(e)?rue(e.slice(2),r?2:8):Qce.test(e)?EO:+e}var w$=nue,iue=Yl,r2=qce,PO=w$,aue="Expected a function",sue=Math.max,oue=Math.min;function lue(e,t,r){var n,i,a,s,o,l,c=0,u=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(aue);t=PO(t)||0,iue(r)&&(u=!!r.leading,f="maxWait"in r,a=f?sue(PO(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p);function h(j){var P=n,C=i;return n=i=void 0,c=j,s=e.apply(C,P),s}function y(j){return c=j,o=setTimeout(v,t),u?h(j):s}function g(j){var P=j-l,C=j-c,L=t-P;return f?oue(L,a-C):L}function b(j){var P=j-l,C=j-c;return l===void 0||P>=t||P<0||f&&C>=a}function v(){var j=r2();if(b(j))return w(j);o=setTimeout(v,g(j))}function w(j){return o=void 0,p&&n?h(j):(n=i=void 0,s)}function _(){o!==void 0&&clearTimeout(o),c=0,n=l=i=o=void 0}function N(){return o===void 0?s:w(r2())}function S(){var j=r2(),P=b(j);if(n=arguments,i=this,l=j,P){if(o===void 0)return y(l);if(f)return clearTimeout(o),o=setTimeout(v,t),h(l)}return o===void 0&&(o=setTimeout(v,t)),s}return S.cancel=_,S.flush=N,S}var cue=lue,uue=cue,due=Yl,fue="Expected a function";function hue(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(fue);return due(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),uue(e,t,{leading:n,maxWait:t,trailing:i})}var pue=hue;const _$=ir(pue);function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){mue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mue(e,t,r){return t=gue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gue(e){var t=yue(e,"string");return im(t)=="symbol"?t:t+""}function yue(e,t){if(im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vue(e,t){return _ue(e)||wue(e,t)||xue(e,t)||bue()}function bue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xue(e,t){if(e){if(typeof e=="string")return TO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TO(e,t)}}function TO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function _ue(e){if(Array.isArray(e))return e}var Xm=G.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,s=a===void 0?"100%":a,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,u=c===void 0?0:c,f=e.minHeight,p=e.maxHeight,h=e.children,y=e.debounce,g=y===void 0?0:y,b=e.id,v=e.className,w=e.onResize,_=e.style,N=_===void 0?{}:_,S=G.useRef(null),j=G.useRef();j.current=w,G.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var P=G.useState({containerWidth:i.width,containerHeight:i.height}),C=vue(P,2),L=C[0],F=C[1],k=G.useCallback(function($,M){F(function(B){var q=Math.round($),J=Math.round(M);return B.containerWidth===q&&B.containerHeight===J?B:{containerWidth:q,containerHeight:J}})},[]);G.useEffect(function(){var $=function(Z){var D,se=Z[0].contentRect,T=se.width,I=se.height;k(T,I),(D=j.current)===null||D===void 0||D.call(j,T,I)};g>0&&($=_$($,g,{trailing:!0,leading:!1}));var M=new ResizeObserver($),B=S.current.getBoundingClientRect(),q=B.width,J=B.height;return k(q,J),M.observe(S.current),function(){M.disconnect()}},[k,g]);var E=G.useMemo(function(){var $=L.containerWidth,M=L.containerHeight;if($<0||M<0)return null;fs(Vc(s)||Vc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),fs(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=Vc(s)?$:s,q=Vc(l)?M:l;r&&r>0&&(B?q=B/r:q&&(B=q*r),p&&q>p&&(q=p)),fs(B>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,q,s,l,u,f,r);var J=!Array.isArray(h)&&ko(h.type).endsWith("Chart");return ce.Children.map(h,function(W){return ce.isValidElement(W)?G.cloneElement(W,b0({width:B,height:q},J?{style:b0({height:"100%",width:"100%",maxHeight:q,maxWidth:B},W.props.style)}:{})):W})},[r,h,l,p,f,u,L,s]);return ce.createElement("div",{id:b?"".concat(b):void 0,className:zt("recharts-responsive-container",v),style:b0(b0({},N),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:p}),ref:S},E)}),Jm=function(t){return null};Jm.displayName="Cell";function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function B5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){Sue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sue(e,t,r){return t=jue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jue(e){var t=Nue(e,"string");return am(t)=="symbol"?t:t+""}function Nue(e,t){if(am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yu={widthCache:{},cacheCount:0},Aue=2e3,kue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},LO="recharts_measurement_span";function Oue(e){var t=B5({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var xp=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||_u.isSsr)return{width:0,height:0};var n=Oue(r),i=JSON.stringify({text:t,copyStyle:n});if(Yu.widthCache[i])return Yu.widthCache[i];try{var a=document.getElementById(LO);a||(a=document.createElement("span"),a.setAttribute("id",LO),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=B5(B5({},kue),n);Object.assign(a.style,s),a.textContent="".concat(t);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Yu.widthCache[i]=l,++Yu.cacheCount>Aue&&(Yu.cacheCount=0,Yu.widthCache={}),l}catch{return{width:0,height:0}}},Eue=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function sv(e,t){return Iue(e)||Tue(e,t)||Cue(e,t)||Pue()}function Pue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cue(e,t){if(e){if(typeof e=="string")return RO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RO(e,t)}}function RO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Iue(e){if(Array.isArray(e))return e}function Lue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$ue(n.key),n)}}function Rue(e,t,r){return t&&$O(e.prototype,t),r&&$O(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ue(e){var t=Mue(e,"string");return sm(t)=="symbol"?t:t+""}function Mue(e,t){if(sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Due=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,S$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Fue=Object.keys(S$),bd="NaN";function Uue(e,t){return e*S$[t]}var x0=function(){function e(t,r){Lue(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Due.test(r)&&(this.num=NaN,this.unit=""),Fue.includes(r)&&(this.num=Uue(t,r),this.unit="px")}return Rue(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Bue.exec(r))!==null&&n!==void 0?n:[],a=sv(i,3),s=a[1],o=a[2];return new e(parseFloat(s),o??"")}}])}();function j$(e){if(e.includes(bd))return bd;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=MO.exec(t))!==null&&r!==void 0?r:[],i=sv(n,4),a=i[1],s=i[2],o=i[3],l=x0.parse(a??""),c=x0.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return bd;t=t.replace(MO,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=DO.exec(t))!==null&&f!==void 0?f:[],h=sv(p,4),y=h[1],g=h[2],b=h[3],v=x0.parse(y??""),w=x0.parse(b??""),_=g==="+"?v.add(w):v.subtract(w);if(_.isNaN())return bd;t=t.replace(DO,_.toString())}return t}var BO=/\(([^()]*)\)/;function zue(e){for(var t=e;t.includes("(");){var r=BO.exec(t),n=sv(r,2),i=n[1];t=t.replace(BO,j$(i))}return t}function que(e){var t=e.replace(/\s+/g,"");return t=zue(t),t=j$(t),t}function Wue(e){try{return que(e)}catch{return bd}}function n2(e){var t=Wue(e.slice(5,-1));return t===bd?"":t}var Hue=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Vue=["dx","dy","angle","className","breakAll"];function F5(){return F5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F5.apply(this,arguments)}function FO(e,t){if(e==null)return{};var r=Gue(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UO(e,t){return Jue(e)||Xue(e,t)||Yue(e,t)||Kue()}function Kue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yue(e,t){if(e){if(typeof e=="string")return zO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zO(e,t)}}function zO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Jue(e){if(Array.isArray(e))return e}var N$=/[ \f\n\r\t\v\u2028\u2029]+/,A$=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];Rt(r)||(n?a=r.toString().split(""):a=r.toString().split(N$));var s=a.map(function(l){return{word:l,width:xp(l,i).width}}),o=n?0:xp("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Zue=function(t,r,n,i,a){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,u=Ge(s),f=o,p=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(q,J){var W=J.word,Z=J.width,D=q[q.length-1];if(D&&(i==null||a||D.width+Z+n<Number(i)))D.words.push(W),D.width+=Z+n;else{var se={words:[W],width:Z};q.push(se)}return q},[])},h=p(r),y=function(B){return B.reduce(function(q,J){return q.width>J.width?q:J})};if(!u)return h;for(var g="",b=function(B){var q=f.slice(0,B),J=A$({breakAll:c,style:l,children:q+g}).wordsWithComputedWidth,W=p(J),Z=W.length>s||y(W).width>Number(i);return[Z,W]},v=0,w=f.length-1,_=0,N;v<=w&&_<=f.length-1;){var S=Math.floor((v+w)/2),j=S-1,P=b(j),C=UO(P,2),L=C[0],F=C[1],k=b(S),E=UO(k,1),$=E[0];if(!L&&!$&&(v=S+1),L&&$&&(w=S-1),!L&&$){N=F;break}_++}return N||h},qO=function(t){var r=Rt(t)?[]:t.toString().split(N$);return[{words:r}]},Que=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!_u.isSsr){var l,c,u=A$({breakAll:s,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,p=u.spaceWidth;l=f,c=p}else return qO(i);return Zue({breakAll:s,children:i,maxLines:o,style:a},l,c,r,n)}return qO(i)},WO="#808080",uu=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,p=t.textAnchor,h=p===void 0?"start":p,y=t.verticalAnchor,g=y===void 0?"end":y,b=t.fill,v=b===void 0?WO:b,w=FO(t,Hue),_=G.useMemo(function(){return Que({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),N=w.dx,S=w.dy,j=w.angle,P=w.className,C=w.breakAll,L=FO(w,Vue);if(!On(n)||!On(a))return null;var F=n+(Ge(N)?N:0),k=a+(Ge(S)?S:0),E;switch(g){case"start":E=n2("calc(".concat(c,")"));break;case"middle":E=n2("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:E=n2("calc(".concat(_.length-1," * -").concat(o,")"));break}var $=[];if(f){var M=_[0].width,B=w.width;$.push("scale(".concat((Ge(B)?B/M:1)/M,")"))}return j&&$.push("rotate(".concat(j,", ").concat(F,", ").concat(k,")")),$.length&&(L.transform=$.join(" ")),ce.createElement("text",F5({},xt(L,!0),{x:F,y:k,className:zt("recharts-text",P),textAnchor:h,fill:v.includes("url")?WO:v}),_.map(function(q,J){var W=q.words.join(C?"":" ");return ce.createElement("tspan",{x:F,dy:J===0?E:o,key:"".concat(W,"-").concat(J)},W)}))};function Ml(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ede(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jj(e){let t,r,n;e.length!==2?(t=Ml,r=(o,l)=>Ml(e(o),l),n=(o,l)=>e(o)-l):(t=e===Ml||e===ede?e:tde,r=e,n=e);function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function tde(){return 0}function k$(e){return e===null?NaN:+e}function*rde(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const nde=Jj(Ml),Zm=nde.right;Jj(k$).center;class HO extends Map{constructor(t,r=sde){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(VO(this,t))}has(t){return super.has(VO(this,t))}set(t,r){return super.set(ide(this,t),r)}delete(t){return super.delete(ade(this,t))}}function VO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function ide({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function ade({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function sde(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ode(e=Ml){if(e===Ml)return O$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function O$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const lde=Math.sqrt(50),cde=Math.sqrt(10),ude=Math.sqrt(2);function ov(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=lde?10:a>=cde?5:a>=ude?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?ov(e,t,r*2):[o,l,c]}function U5(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?ov(t,e,r):ov(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function z5(e,t,r){return t=+t,e=+e,r=+r,ov(e,t,r)[2]}function q5(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?z5(t,e,r):z5(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function GO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function KO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function E$(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?O$:ode(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(t-c*f/l+p)),y=Math.min(n,Math.floor(t+(l-c)*f/l+p));E$(e,t,h,y,i)}const a=e[t];let s=r,o=n;for(zh(e,r,t),i(e[n],a)>0&&zh(e,r,n);s<o;){for(zh(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?zh(e,r,o):(++o,zh(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function zh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function dde(e,t,r){if(e=Float64Array.from(rde(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return KO(e);if(t>=1)return GO(e);var n,i=(n-1)*t,a=Math.floor(i),s=GO(E$(e,a).subarray(0,a+1)),o=KO(e.subarray(a+1));return s+(o-s)*(i-a)}}function fde(e,t,r=k$){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function hde(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Wa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function qo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const W5=Symbol("implicit");function Zj(){var e=new HO,t=[],r=[],n=W5;function i(a){let s=e.get(a);if(s===void 0){if(n!==W5)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new HO;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Zj(t,r).unknown(n)},Wa.apply(i,arguments),i}function om(){var e=Zj().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var p=t().length,h=i<n,y=h?i:n,g=h?n:i;a=(g-y)/Math.max(1,p-l+c*2),o&&(a=Math.floor(a)),y+=(g-y-a*(p-l))*u,s=a*(1-l),o&&(y=Math.round(y),s=Math.round(s));var b=hde(p).map(function(v){return y+a*v});return r(h?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(p){return arguments.length?(o=!!p,f()):o},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},e.copy=function(){return om(t(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},Wa.apply(f(),arguments)}function P$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return P$(t())},e}function wp(){return P$(om.apply(null,arguments).paddingInner(1))}function Qj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function C$(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Qm(){}var lm=.7,lv=1/lm,$d="\\s*([+-]?\\d+)\\s*",cm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pde=/^#([0-9a-f]{3,8})$/,mde=new RegExp(`^rgb\\(${$d},${$d},${$d}\\)$`),gde=new RegExp(`^rgb\\(${Bs},${Bs},${Bs}\\)$`),yde=new RegExp(`^rgba\\(${$d},${$d},${$d},${cm}\\)$`),vde=new RegExp(`^rgba\\(${Bs},${Bs},${Bs},${cm}\\)$`),bde=new RegExp(`^hsl\\(${cm},${Bs},${Bs}\\)$`),xde=new RegExp(`^hsla\\(${cm},${Bs},${Bs},${cm}\\)$`),YO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qj(Qm,um,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:XO,formatHex:XO,formatHex8:wde,formatHsl:_de,formatRgb:JO,toString:JO});function XO(){return this.rgb().formatHex()}function wde(){return this.rgb().formatHex8()}function _de(){return T$(this).formatHsl()}function JO(){return this.rgb().formatRgb()}function um(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=pde.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ZO(t):r===3?new Pi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?w0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?w0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mde.exec(e))?new Pi(t[1],t[2],t[3],1):(t=gde.exec(e))?new Pi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=yde.exec(e))?w0(t[1],t[2],t[3],t[4]):(t=vde.exec(e))?w0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bde.exec(e))?tE(t[1],t[2]/100,t[3]/100,1):(t=xde.exec(e))?tE(t[1],t[2]/100,t[3]/100,t[4]):YO.hasOwnProperty(e)?ZO(YO[e]):e==="transparent"?new Pi(NaN,NaN,NaN,0):null}function ZO(e){return new Pi(e>>16&255,e>>8&255,e&255,1)}function w0(e,t,r,n){return n<=0&&(e=t=r=NaN),new Pi(e,t,r,n)}function Sde(e){return e instanceof Qm||(e=um(e)),e?(e=e.rgb(),new Pi(e.r,e.g,e.b,e.opacity)):new Pi}function H5(e,t,r,n){return arguments.length===1?Sde(e):new Pi(e,t,r,n??1)}function Pi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Qj(Pi,H5,C$(Qm,{brighter(e){return e=e==null?lv:Math.pow(lv,e),new Pi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?lm:Math.pow(lm,e),new Pi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pi(Qc(this.r),Qc(this.g),Qc(this.b),cv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QO,formatHex:QO,formatHex8:jde,formatRgb:eE,toString:eE}));function QO(){return`#${Gc(this.r)}${Gc(this.g)}${Gc(this.b)}`}function jde(){return`#${Gc(this.r)}${Gc(this.g)}${Gc(this.b)}${Gc((isNaN(this.opacity)?1:this.opacity)*255)}`}function eE(){const e=cv(this.opacity);return`${e===1?"rgb(":"rgba("}${Qc(this.r)}, ${Qc(this.g)}, ${Qc(this.b)}${e===1?")":`, ${e})`}`}function cv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gc(e){return e=Qc(e),(e<16?"0":"")+e.toString(16)}function tE(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new cs(e,t,r,n)}function T$(e){if(e instanceof cs)return new cs(e.h,e.s,e.l,e.opacity);if(e instanceof Qm||(e=um(e)),!e)return new cs;if(e instanceof cs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new cs(s,o,l,e.opacity)}function Nde(e,t,r,n){return arguments.length===1?T$(e):new cs(e,t,r,n??1)}function cs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Qj(cs,Nde,C$(Qm,{brighter(e){return e=e==null?lv:Math.pow(lv,e),new cs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?lm:Math.pow(lm,e),new cs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Pi(i2(e>=240?e-240:e+120,i,n),i2(e,i,n),i2(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new cs(rE(this.h),_0(this.s),_0(this.l),cv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cv(this.opacity);return`${e===1?"hsl(":"hsla("}${rE(this.h)}, ${_0(this.s)*100}%, ${_0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rE(e){return e=(e||0)%360,e<0?e+360:e}function _0(e){return Math.max(0,Math.min(1,e||0))}function i2(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const eN=e=>()=>e;function Ade(e,t){return function(r){return e+r*t}}function kde(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Ode(e){return(e=+e)==1?I$:function(t,r){return r-t?kde(t,r,e):eN(isNaN(t)?r:t)}}function I$(e,t){var r=t-e;return r?Ade(e,r):eN(isNaN(e)?t:e)}const nE=function e(t){var r=Ode(t);function n(i,a){var s=r((i=H5(i)).r,(a=H5(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),c=I$(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n}(1);function Ede(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function Pde(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Cde(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Xf(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function Tde(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function uv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Ide(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Xf(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var V5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a2=new RegExp(V5.source,"g");function Lde(e){return function(){return e}}function Rde(e){return function(t){return e(t)+""}}function $de(e,t){var r=V5.lastIndex=a2.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=V5.exec(e))&&(i=a2.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:uv(n,i)})),r=a2.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Rde(l[0].x):Lde(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function Xf(e,t){var r=typeof t,n;return t==null||r==="boolean"?eN(t):(r==="number"?uv:r==="string"?(n=um(t))?(t=n,nE):$de:t instanceof um?nE:t instanceof Date?Tde:Pde(t)?Ede:Array.isArray(t)?Cde:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ide:uv)(e,t)}function tN(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Mde(e,t){t===void 0&&(t=e,e=Xf);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function Dde(e){return function(){return e}}function dv(e){return+e}var iE=[0,1];function yi(e){return e}function G5(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Dde(isNaN(t)?NaN:.5)}function Bde(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Fde(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=G5(i,n),a=r(s,a)):(n=G5(n,i),a=r(a,s)),function(o){return a(n(o))}}function Ude(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=G5(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=Zm(e,o,1,n)-1;return a[l](i[l](o))}}function eg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function V1(){var e=iE,t=iE,r=Xf,n,i,a,s=yi,o,l,c;function u(){var p=Math.min(e.length,t.length);return s!==yi&&(s=Bde(e[0],e[p-1])),o=p>2?Ude:Fde,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=o(e.map(n),t,r)))(n(s(p)))}return f.invert=function(p){return s(i((c||(c=o(t,e.map(n),uv)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,dv),u()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=tN,u()},f.clamp=function(p){return arguments.length?(s=p?!0:yi,u()):s!==yi},f.interpolate=function(p){return arguments.length?(r=p,u()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,h){return n=p,i=h,u()}}function rN(){return V1()(yi,yi)}function zde(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function lf(e){return e=fv(Math.abs(e)),e?e[1]:NaN}function qde(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Wde(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Hde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dm(e){if(!(t=Hde.exec(e)))throw new Error("invalid format: "+e);var t;return new nN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dm.prototype=nN.prototype;function nN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}nN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vde(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var L$;function Gde(e,t){var r=fv(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(L$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+fv(e,Math.max(0,t+a-1))[0]}function aE(e,t){var r=fv(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const sE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:zde,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>aE(e*100,t),r:aE,s:Gde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function oE(e){return e}var lE=Array.prototype.map,cE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Kde(e){var t=e.grouping===void 0||e.thousands===void 0?oE:qde(lE.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?oE:Wde(lE.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=dm(f);var p=f.fill,h=f.align,y=f.sign,g=f.symbol,b=f.zero,v=f.width,w=f.comma,_=f.precision,N=f.trim,S=f.type;S==="n"?(w=!0,S="g"):sE[S]||(_===void 0&&(_=12),N=!0,S="g"),(b||p==="0"&&h==="=")&&(b=!0,p="0",h="=");var j=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",P=g==="$"?n:/[%p]/.test(S)?s:"",C=sE[S],L=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function F(k){var E=j,$=P,M,B,q;if(S==="c")$=C(k)+$,k="";else{k=+k;var J=k<0||1/k<0;if(k=isNaN(k)?l:C(Math.abs(k),_),N&&(k=Vde(k)),J&&+k==0&&y!=="+"&&(J=!1),E=(J?y==="("?y:o:y==="-"||y==="("?"":y)+E,$=(S==="s"?cE[8+L$/3]:"")+$+(J&&y==="("?")":""),L){for(M=-1,B=k.length;++M<B;)if(q=k.charCodeAt(M),48>q||q>57){$=(q===46?i+k.slice(M+1):k.slice(M))+$,k=k.slice(0,M);break}}}w&&!b&&(k=t(k,1/0));var W=E.length+k.length+$.length,Z=W<v?new Array(v-W+1).join(p):"";switch(w&&b&&(k=t(Z+k,Z.length?v-$.length:1/0),Z=""),h){case"<":k=E+k+$+Z;break;case"=":k=E+Z+k+$;break;case"^":k=Z.slice(0,W=Z.length>>1)+E+k+$+Z.slice(W);break;default:k=Z+E+k+$;break}return a(k)}return F.toString=function(){return f+""},F}function u(f,p){var h=c((f=dm(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(lf(p)/3)))*3,g=Math.pow(10,-y),b=cE[8+y/3];return function(v){return h(g*v)+b}}return{format:c,formatPrefix:u}}var S0,iN,R$;Yde({thousands:",",grouping:[3],currency:["$",""]});function Yde(e){return S0=Kde(e),iN=S0.format,R$=S0.formatPrefix,S0}function Xde(e){return Math.max(0,-lf(Math.abs(e)))}function Jde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lf(t)/3)))*3-lf(Math.abs(e)))}function Zde(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lf(t)-lf(e))+1}function $$(e,t,r,n){var i=q5(e,t,r),a;switch(n=dm(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Jde(i,s))&&(n.precision=a),R$(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Zde(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Xde(i))&&(n.precision=a-(n.type==="%")*2);break}}return iN(n)}function Xl(e){var t=e.domain;return e.ticks=function(r){var n=t();return U5(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return $$(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=z5(s,o,r),c===l)return n[i]=s,n[a]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function hv(){var e=rN();return e.copy=function(){return eg(e,hv())},Wa.apply(e,arguments),Xl(e)}function M$(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,dv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return M$(e).unknown(t)},e=arguments.length?Array.from(e,dv):[0,1],Xl(r)}function D$(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function uE(e){return Math.log(e)}function dE(e){return Math.exp(e)}function Qde(e){return-Math.log(-e)}function efe(e){return-Math.exp(-e)}function tfe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function rfe(e){return e===10?tfe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function nfe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function fE(e){return(t,r)=>-e(-t,r)}function aN(e){const t=e(uE,dE),r=t.domain;let n=10,i,a;function s(){return i=nfe(n),a=rfe(n),r()[0]<0?(i=fE(i),a=fE(a),e(Qde,efe)):e(uE,dE),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let p=i(c),h=i(u),y,g;const b=o==null?10:+o;let v=[];if(!(n%1)&&h-p<b){if(p=Math.floor(p),h=Math.ceil(h),c>0){for(;p<=h;++p)for(y=1;y<n;++y)if(g=p<0?y/a(-p):y*a(p),!(g<c)){if(g>u)break;v.push(g)}}else for(;p<=h;++p)for(y=n-1;y>=1;--y)if(g=p>0?y/a(-p):y*a(p),!(g<c)){if(g>u)break;v.push(g)}v.length*2<b&&(v=U5(c,u,b))}else v=U5(p,h,Math.min(h-p,b)).map(a);return f?v.reverse():v},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=dm(l)).precision==null&&(l.trim=!0),l=iN(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(D$(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function B$(){const e=aN(V1()).domain([1,10]);return e.copy=()=>eg(e,B$()).base(e.base()),Wa.apply(e,arguments),e}function hE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sN(e){var t=1,r=e(hE(t),pE(t));return r.constant=function(n){return arguments.length?e(hE(t=+n),pE(t)):t},Xl(r)}function F$(){var e=sN(V1());return e.copy=function(){return eg(e,F$()).constant(e.constant())},Wa.apply(e,arguments)}function mE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ife(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function afe(e){return e<0?-e*e:e*e}function oN(e){var t=e(yi,yi),r=1;function n(){return r===1?e(yi,yi):r===.5?e(ife,afe):e(mE(r),mE(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Xl(t)}function lN(){var e=oN(V1());return e.copy=function(){return eg(e,lN()).exponent(e.exponent())},Wa.apply(e,arguments),e}function sfe(){return lN.apply(null,arguments).exponent(.5)}function gE(e){return Math.sign(e)*e*e}function ofe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function U$(){var e=rN(),t=[0,1],r=!1,n;function i(a){var s=ofe(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(gE(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,dv)).map(gE)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return U$(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Wa.apply(i,arguments),Xl(i)}function z$(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=fde(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[Zm(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Ml),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return z$().domain(e).range(t).unknown(n)},Wa.apply(a,arguments)}function q$(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Zm(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return q$().domain([e,t]).range(i).unknown(a)},Wa.apply(Xl(s),arguments)}function W$(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Zm(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return W$().domain(e).range(t).unknown(r)},Wa.apply(i,arguments)}const s2=new Date,o2=new Date;function En(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<s);return l},i.filter=a=>En(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(s2.setTime(+a),o2.setTime(+s),e(s2),e(o2),Math.floor(r(s2,o2))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const pv=En(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);pv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?En(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):pv);pv.range;const _o=1e3,Ta=_o*60,So=Ta*60,$o=So*24,cN=$o*7,yE=$o*30,l2=$o*365,Kc=En(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_o)},(e,t)=>(t-e)/_o,e=>e.getUTCSeconds());Kc.range;const uN=En(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_o)},(e,t)=>{e.setTime(+e+t*Ta)},(e,t)=>(t-e)/Ta,e=>e.getMinutes());uN.range;const dN=En(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ta)},(e,t)=>(t-e)/Ta,e=>e.getUTCMinutes());dN.range;const fN=En(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_o-e.getMinutes()*Ta)},(e,t)=>{e.setTime(+e+t*So)},(e,t)=>(t-e)/So,e=>e.getHours());fN.range;const hN=En(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*So)},(e,t)=>(t-e)/So,e=>e.getUTCHours());hN.range;const tg=En(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ta)/$o,e=>e.getDate()-1);tg.range;const G1=En(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$o,e=>e.getUTCDate()-1);G1.range;const H$=En(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$o,e=>Math.floor(e/$o));H$.range;function Su(e){return En(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ta)/cN)}const K1=Su(0),mv=Su(1),lfe=Su(2),cfe=Su(3),cf=Su(4),ufe=Su(5),dfe=Su(6);K1.range;mv.range;lfe.range;cfe.range;cf.range;ufe.range;dfe.range;function ju(e){return En(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/cN)}const Y1=ju(0),gv=ju(1),ffe=ju(2),hfe=ju(3),uf=ju(4),pfe=ju(5),mfe=ju(6);Y1.range;gv.range;ffe.range;hfe.range;uf.range;pfe.range;mfe.range;const pN=En(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());pN.range;const mN=En(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mN.range;const Mo=En(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Mo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:En(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Mo.range;const Do=En(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Do.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:En(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Do.range;function V$(e,t,r,n,i,a){const s=[[Kc,1,_o],[Kc,5,5*_o],[Kc,15,15*_o],[Kc,30,30*_o],[a,1,Ta],[a,5,5*Ta],[a,15,15*Ta],[a,30,30*Ta],[i,1,So],[i,3,3*So],[i,6,6*So],[i,12,12*So],[n,1,$o],[n,2,2*$o],[r,1,cN],[t,1,yE],[t,3,3*yE],[e,1,l2]];function o(c,u,f){const p=u<c;p&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),y=h?h.range(c,+u+1):[];return p?y.reverse():y}function l(c,u,f){const p=Math.abs(u-c)/f,h=Jj(([,,b])=>b).right(s,p);if(h===s.length)return e.every(q5(c/l2,u/l2,f));if(h===0)return pv.every(Math.max(q5(c,u,f),1));const[y,g]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return y.every(g)}return[o,l]}const[gfe,yfe]=V$(Do,mN,Y1,H$,hN,dN),[vfe,bfe]=V$(Mo,pN,K1,tg,fN,uN);function c2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function u2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function qh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function xfe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Wh(i),u=Hh(i),f=Wh(a),p=Hh(a),h=Wh(s),y=Hh(s),g=Wh(o),b=Hh(o),v=Wh(l),w=Hh(l),_={a:J,A:W,b:Z,B:D,c:null,d:SE,e:SE,f:qfe,g:Qfe,G:the,H:Ffe,I:Ufe,j:zfe,L:G$,m:Wfe,M:Hfe,p:se,q:T,Q:AE,s:kE,S:Vfe,u:Gfe,U:Kfe,V:Yfe,w:Xfe,W:Jfe,x:null,X:null,y:Zfe,Y:ehe,Z:rhe,"%":NE},N={a:I,A:Y,b:ie,B:te,c:null,d:jE,e:jE,f:she,g:ghe,G:vhe,H:nhe,I:ihe,j:ahe,L:Y$,m:ohe,M:lhe,p:de,q:ve,Q:AE,s:kE,S:che,u:uhe,U:dhe,V:fhe,w:hhe,W:phe,x:null,X:null,y:mhe,Y:yhe,Z:bhe,"%":NE},S={a:F,A:k,b:E,B:$,c:M,d:wE,e:wE,f:$fe,g:xE,G:bE,H:_E,I:_E,j:Tfe,L:Rfe,m:Cfe,M:Ife,p:L,q:Pfe,Q:Dfe,s:Bfe,S:Lfe,u:Nfe,U:Afe,V:kfe,w:jfe,W:Ofe,x:B,X:q,y:xE,Y:bE,Z:Efe,"%":Mfe};_.x=j(r,_),_.X=j(n,_),_.c=j(t,_),N.x=j(r,N),N.X=j(n,N),N.c=j(t,N);function j(oe,ye){return function(ke){var ee=[],he=-1,ue=0,X=oe.length,Me,ze,He;for(ke instanceof Date||(ke=new Date(+ke));++he<X;)oe.charCodeAt(he)===37&&(ee.push(oe.slice(ue,he)),(ze=vE[Me=oe.charAt(++he)])!=null?Me=oe.charAt(++he):ze=Me==="e"?" ":"0",(He=ye[Me])&&(Me=He(ke,ze)),ee.push(Me),ue=he+1);return ee.push(oe.slice(ue,he)),ee.join("")}}function P(oe,ye){return function(ke){var ee=qh(1900,void 0,1),he=C(ee,oe,ke+="",0),ue,X;if(he!=ke.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(ye&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(ue=u2(qh(ee.y,0,1)),X=ue.getUTCDay(),ue=X>4||X===0?gv.ceil(ue):gv(ue),ue=G1.offset(ue,(ee.V-1)*7),ee.y=ue.getUTCFullYear(),ee.m=ue.getUTCMonth(),ee.d=ue.getUTCDate()+(ee.w+6)%7):(ue=c2(qh(ee.y,0,1)),X=ue.getDay(),ue=X>4||X===0?mv.ceil(ue):mv(ue),ue=tg.offset(ue,(ee.V-1)*7),ee.y=ue.getFullYear(),ee.m=ue.getMonth(),ee.d=ue.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),X="Z"in ee?u2(qh(ee.y,0,1)).getUTCDay():c2(qh(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(X+5)%7:ee.w+ee.U*7-(X+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,u2(ee)):c2(ee)}}function C(oe,ye,ke,ee){for(var he=0,ue=ye.length,X=ke.length,Me,ze;he<ue;){if(ee>=X)return-1;if(Me=ye.charCodeAt(he++),Me===37){if(Me=ye.charAt(he++),ze=S[Me in vE?ye.charAt(he++):Me],!ze||(ee=ze(oe,ke,ee))<0)return-1}else if(Me!=ke.charCodeAt(ee++))return-1}return ee}function L(oe,ye,ke){var ee=c.exec(ye.slice(ke));return ee?(oe.p=u.get(ee[0].toLowerCase()),ke+ee[0].length):-1}function F(oe,ye,ke){var ee=h.exec(ye.slice(ke));return ee?(oe.w=y.get(ee[0].toLowerCase()),ke+ee[0].length):-1}function k(oe,ye,ke){var ee=f.exec(ye.slice(ke));return ee?(oe.w=p.get(ee[0].toLowerCase()),ke+ee[0].length):-1}function E(oe,ye,ke){var ee=v.exec(ye.slice(ke));return ee?(oe.m=w.get(ee[0].toLowerCase()),ke+ee[0].length):-1}function $(oe,ye,ke){var ee=g.exec(ye.slice(ke));return ee?(oe.m=b.get(ee[0].toLowerCase()),ke+ee[0].length):-1}function M(oe,ye,ke){return C(oe,t,ye,ke)}function B(oe,ye,ke){return C(oe,r,ye,ke)}function q(oe,ye,ke){return C(oe,n,ye,ke)}function J(oe){return s[oe.getDay()]}function W(oe){return a[oe.getDay()]}function Z(oe){return l[oe.getMonth()]}function D(oe){return o[oe.getMonth()]}function se(oe){return i[+(oe.getHours()>=12)]}function T(oe){return 1+~~(oe.getMonth()/3)}function I(oe){return s[oe.getUTCDay()]}function Y(oe){return a[oe.getUTCDay()]}function ie(oe){return l[oe.getUTCMonth()]}function te(oe){return o[oe.getUTCMonth()]}function de(oe){return i[+(oe.getUTCHours()>=12)]}function ve(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ye=j(oe+="",_);return ye.toString=function(){return oe},ye},parse:function(oe){var ye=P(oe+="",!1);return ye.toString=function(){return oe},ye},utcFormat:function(oe){var ye=j(oe+="",N);return ye.toString=function(){return oe},ye},utcParse:function(oe){var ye=P(oe+="",!0);return ye.toString=function(){return oe},ye}}}var vE={"-":"",_:" ",0:"0"},Dn=/^\s*\d+/,wfe=/^%/,_fe=/[\\^$*+?|[\]().{}]/g;function Qt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function Sfe(e){return e.replace(_fe,"\\$&")}function Wh(e){return new RegExp("^(?:"+e.map(Sfe).join("|")+")","i")}function Hh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function jfe(e,t,r){var n=Dn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Nfe(e,t,r){var n=Dn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Afe(e,t,r){var n=Dn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function kfe(e,t,r){var n=Dn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Ofe(e,t,r){var n=Dn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function bE(e,t,r){var n=Dn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function xE(e,t,r){var n=Dn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Efe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Pfe(e,t,r){var n=Dn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Cfe(e,t,r){var n=Dn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function wE(e,t,r){var n=Dn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Tfe(e,t,r){var n=Dn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function _E(e,t,r){var n=Dn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Ife(e,t,r){var n=Dn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Lfe(e,t,r){var n=Dn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Rfe(e,t,r){var n=Dn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function $fe(e,t,r){var n=Dn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Mfe(e,t,r){var n=wfe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Dfe(e,t,r){var n=Dn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Bfe(e,t,r){var n=Dn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function SE(e,t){return Qt(e.getDate(),t,2)}function Ffe(e,t){return Qt(e.getHours(),t,2)}function Ufe(e,t){return Qt(e.getHours()%12||12,t,2)}function zfe(e,t){return Qt(1+tg.count(Mo(e),e),t,3)}function G$(e,t){return Qt(e.getMilliseconds(),t,3)}function qfe(e,t){return G$(e,t)+"000"}function Wfe(e,t){return Qt(e.getMonth()+1,t,2)}function Hfe(e,t){return Qt(e.getMinutes(),t,2)}function Vfe(e,t){return Qt(e.getSeconds(),t,2)}function Gfe(e){var t=e.getDay();return t===0?7:t}function Kfe(e,t){return Qt(K1.count(Mo(e)-1,e),t,2)}function K$(e){var t=e.getDay();return t>=4||t===0?cf(e):cf.ceil(e)}function Yfe(e,t){return e=K$(e),Qt(cf.count(Mo(e),e)+(Mo(e).getDay()===4),t,2)}function Xfe(e){return e.getDay()}function Jfe(e,t){return Qt(mv.count(Mo(e)-1,e),t,2)}function Zfe(e,t){return Qt(e.getFullYear()%100,t,2)}function Qfe(e,t){return e=K$(e),Qt(e.getFullYear()%100,t,2)}function ehe(e,t){return Qt(e.getFullYear()%1e4,t,4)}function the(e,t){var r=e.getDay();return e=r>=4||r===0?cf(e):cf.ceil(e),Qt(e.getFullYear()%1e4,t,4)}function rhe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qt(t/60|0,"0",2)+Qt(t%60,"0",2)}function jE(e,t){return Qt(e.getUTCDate(),t,2)}function nhe(e,t){return Qt(e.getUTCHours(),t,2)}function ihe(e,t){return Qt(e.getUTCHours()%12||12,t,2)}function ahe(e,t){return Qt(1+G1.count(Do(e),e),t,3)}function Y$(e,t){return Qt(e.getUTCMilliseconds(),t,3)}function she(e,t){return Y$(e,t)+"000"}function ohe(e,t){return Qt(e.getUTCMonth()+1,t,2)}function lhe(e,t){return Qt(e.getUTCMinutes(),t,2)}function che(e,t){return Qt(e.getUTCSeconds(),t,2)}function uhe(e){var t=e.getUTCDay();return t===0?7:t}function dhe(e,t){return Qt(Y1.count(Do(e)-1,e),t,2)}function X$(e){var t=e.getUTCDay();return t>=4||t===0?uf(e):uf.ceil(e)}function fhe(e,t){return e=X$(e),Qt(uf.count(Do(e),e)+(Do(e).getUTCDay()===4),t,2)}function hhe(e){return e.getUTCDay()}function phe(e,t){return Qt(gv.count(Do(e)-1,e),t,2)}function mhe(e,t){return Qt(e.getUTCFullYear()%100,t,2)}function ghe(e,t){return e=X$(e),Qt(e.getUTCFullYear()%100,t,2)}function yhe(e,t){return Qt(e.getUTCFullYear()%1e4,t,4)}function vhe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?uf(e):uf.ceil(e),Qt(e.getUTCFullYear()%1e4,t,4)}function bhe(){return"+0000"}function NE(){return"%"}function AE(e){return+e}function kE(e){return Math.floor(+e/1e3)}var Xu,J$,Z$;xhe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xhe(e){return Xu=xfe(e),J$=Xu.format,Xu.parse,Z$=Xu.utcFormat,Xu.utcParse,Xu}function whe(e){return new Date(e)}function _he(e){return e instanceof Date?+e:+new Date(+e)}function gN(e,t,r,n,i,a,s,o,l,c){var u=rN(),f=u.invert,p=u.domain,h=c(".%L"),y=c(":%S"),g=c("%I:%M"),b=c("%I %p"),v=c("%a %d"),w=c("%b %d"),_=c("%B"),N=c("%Y");function S(j){return(l(j)<j?h:o(j)<j?y:s(j)<j?g:a(j)<j?b:n(j)<j?i(j)<j?v:w:r(j)<j?_:N)(j)}return u.invert=function(j){return new Date(f(j))},u.domain=function(j){return arguments.length?p(Array.from(j,_he)):p().map(whe)},u.ticks=function(j){var P=p();return e(P[0],P[P.length-1],j??10)},u.tickFormat=function(j,P){return P==null?S:c(P)},u.nice=function(j){var P=p();return(!j||typeof j.range!="function")&&(j=t(P[0],P[P.length-1],j??10)),j?p(D$(P,j)):u},u.copy=function(){return eg(u,gN(e,t,r,n,i,a,s,o,l,c))},u}function She(){return Wa.apply(gN(vfe,bfe,Mo,pN,K1,tg,fN,uN,Kc,J$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jhe(){return Wa.apply(gN(gfe,yfe,Do,mN,Y1,G1,hN,dN,Kc,Z$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function X1(){var e=0,t=1,r,n,i,a,s=yi,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(p){var h,y;return arguments.length?([h,y]=p,s=f(h,y),c):[s(0),s(1)]}}return c.range=u(Xf),c.rangeRound=u(tN),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),c}}function Jl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Q$(){var e=Xl(X1()(yi));return e.copy=function(){return Jl(e,Q$())},qo.apply(e,arguments)}function eM(){var e=aN(X1()).domain([1,10]);return e.copy=function(){return Jl(e,eM()).base(e.base())},qo.apply(e,arguments)}function tM(){var e=sN(X1());return e.copy=function(){return Jl(e,tM()).constant(e.constant())},qo.apply(e,arguments)}function yN(){var e=oN(X1());return e.copy=function(){return Jl(e,yN()).exponent(e.exponent())},qo.apply(e,arguments)}function Nhe(){return yN.apply(null,arguments).exponent(.5)}function rM(){var e=[],t=yi;function r(n){if(n!=null&&!isNaN(n=+n))return t((Zm(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ml),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>dde(e,a/n))},r.copy=function(){return rM(t).domain(e)},qo.apply(r,arguments)}function J1(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,c=yi,u,f=!1,p;function h(g){return isNaN(g=+g)?p:(g=.5+((g=+u(g))-a)*(n*g<n*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,r]=g,i=u(e=+e),a=u(t=+t),s=u(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h):[e,t,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(c=g,h):c};function y(g){return function(b){var v,w,_;return arguments.length?([v,w,_]=b,c=Mde(g,[v,w,_]),h):[c(0),c(.5),c(1)]}}return h.range=y(Xf),h.rangeRound=y(tN),h.unknown=function(g){return arguments.length?(p=g,h):p},function(g){return u=g,i=g(e),a=g(t),s=g(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h}}function nM(){var e=Xl(J1()(yi));return e.copy=function(){return Jl(e,nM())},qo.apply(e,arguments)}function iM(){var e=aN(J1()).domain([.1,1,10]);return e.copy=function(){return Jl(e,iM()).base(e.base())},qo.apply(e,arguments)}function aM(){var e=sN(J1());return e.copy=function(){return Jl(e,aM()).constant(e.constant())},qo.apply(e,arguments)}function vN(){var e=oN(J1());return e.copy=function(){return Jl(e,vN()).exponent(e.exponent())},qo.apply(e,arguments)}function Ahe(){return vN.apply(null,arguments).exponent(.5)}const OE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:om,scaleDiverging:nM,scaleDivergingLog:iM,scaleDivergingPow:vN,scaleDivergingSqrt:Ahe,scaleDivergingSymlog:aM,scaleIdentity:M$,scaleImplicit:W5,scaleLinear:hv,scaleLog:B$,scaleOrdinal:Zj,scalePoint:wp,scalePow:lN,scaleQuantile:z$,scaleQuantize:q$,scaleRadial:U$,scaleSequential:Q$,scaleSequentialLog:eM,scaleSequentialPow:yN,scaleSequentialQuantile:rM,scaleSequentialSqrt:Nhe,scaleSequentialSymlog:tM,scaleSqrt:sfe,scaleSymlog:F$,scaleThreshold:W$,scaleTime:She,scaleUtc:jhe,tickFormat:$$},Symbol.toStringTag,{value:"Module"}));var khe=Uf;function Ohe(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(s!=null&&(o===void 0?s===s&&!khe(s):r(s,o)))var o=s,l=a}return l}var Z1=Ohe;function Ehe(e,t){return e>t}var sM=Ehe,Phe=Z1,Che=sM,The=Yf;function Ihe(e){return e&&e.length?Phe(e,The,Che):void 0}var Lhe=Ihe;const Q1=ir(Lhe);function Rhe(e,t){return e<t}var oM=Rhe,$he=Z1,Mhe=oM,Dhe=Yf;function Bhe(e){return e&&e.length?$he(e,Dhe,Mhe):void 0}var Fhe=Bhe;const eb=ir(Fhe);var Uhe=Tj,zhe=Gs,qhe=m$,Whe=Mi;function Hhe(e,t){var r=Whe(e)?Uhe:qhe;return r(e,zhe(t))}var Vhe=Hhe,Ghe=h$,Khe=Vhe;function Yhe(e,t){return Ghe(Khe(e,t),1)}var Xhe=Yhe;const Jhe=ir(Xhe);var Zhe=Gj;function Qhe(e,t){return Zhe(e,t)}var epe=Qhe;const rg=ir(epe);var Jf=1e9,tpe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xN,$r=!0,Ba="[DecimalError] ",eu=Ba+"Invalid argument: ",bN=Ba+"Exponent out of range: ",Zf=Math.floor,Lc=Math.pow,rpe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,na,Tn=1e7,Cr=7,lM=9007199254740991,yv=Zf(lM/Cr),at={};at.absoluteValue=at.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};at.comparedTo=at.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};at.decimalPlaces=at.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Cr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};at.dividedBy=at.div=function(e){return Oo(this,new this.constructor(e))};at.dividedToIntegerBy=at.idiv=function(e){var t=this,r=t.constructor;return vr(Oo(t,new r(e),0,1),r.precision)};at.equals=at.eq=function(e){return!this.cmp(e)};at.exponent=function(){return mn(this)};at.greaterThan=at.gt=function(e){return this.cmp(e)>0};at.greaterThanOrEqualTo=at.gte=function(e){return this.cmp(e)>=0};at.isInteger=at.isint=function(){return this.e>this.d.length-2};at.isNegative=at.isneg=function(){return this.s<0};at.isPositive=at.ispos=function(){return this.s>0};at.isZero=function(){return this.s===0};at.lessThan=at.lt=function(e){return this.cmp(e)<0};at.lessThanOrEqualTo=at.lte=function(e){return this.cmp(e)<1};at.logarithm=at.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(na))throw Error(Ba+"NaN");if(r.s<1)throw Error(Ba+(r.s?"NaN":"-Infinity"));return r.eq(na)?new n(0):($r=!1,t=Oo(fm(r,a),fm(e,a),a),$r=!0,vr(t,i))};at.minus=at.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dM(t,e):cM(t,(e.s=-e.s,e))};at.modulo=at.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Ba+"NaN");return r.s?($r=!1,t=Oo(r,e,0,1).times(e),$r=!0,r.minus(t)):vr(new n(r),i)};at.naturalExponential=at.exp=function(){return uM(this)};at.naturalLogarithm=at.ln=function(){return fm(this)};at.negated=at.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};at.plus=at.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cM(t,e):dM(t,(e.s=-e.s,e))};at.precision=at.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(eu+e);if(t=mn(i)+1,n=i.d.length-1,r=n*Cr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};at.squareRoot=at.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ba+"NaN")}for(e=mn(o),$r=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Ts(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Zf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(Oo(o,a,s+2)).times(.5),Ts(a.d).slice(0,s)===(t=Ts(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(vr(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return $r=!0,vr(n,r)};at.times=at.mul=function(e){var t,r,n,i,a,s,o,l,c,u=this,f=u.constructor,p=u.d,h=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=p.length,c=h.length,l<c&&(a=p,p=h,h=a,s=l,l=c,c=s),a=[],s=l+c,n=s;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+h[n]*p[i-n-1]+t,a[i--]=o%Tn|0,t=o/Tn|0;a[i]=(a[i]+t)%Tn|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,$r?vr(e,f.precision):e};at.toDecimalPlaces=at.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(qs(e,0,Jf),t===void 0?t=n.rounding:qs(t,0,8),vr(r,e+mn(r)+1,t))};at.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=du(n,!0):(qs(e,0,Jf),t===void 0?t=i.rounding:qs(t,0,8),n=vr(new i(n),e+1,t),r=du(n,!0,e+1)),r};at.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?du(i):(qs(e,0,Jf),t===void 0?t=a.rounding:qs(t,0,8),n=vr(new a(i),e+mn(i)+1,t),r=du(n.abs(),!1,e+mn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};at.toInteger=at.toint=function(){var e=this,t=e.constructor;return vr(new t(e),mn(e)+1,t.rounding)};at.toNumber=function(){return+this};at.toPower=at.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(na);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ba+"Infinity");return o}if(o.eq(na))return o;if(n=l.precision,e.eq(na))return vr(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=u<0?-u:u)<=lM){for(i=new l(na),t=Math.ceil(n/Cr+4),$r=!1;r%2&&(i=i.times(o),PE(i.d,t)),r=Zf(r/2),r!==0;)o=o.times(o),PE(o.d,t);return $r=!0,e.s<0?new l(na).div(i):vr(i,n)}}else if(a<0)throw Error(Ba+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,$r=!1,i=e.times(fm(o,n+c)),$r=!0,i=uM(i),i.s=a,i};at.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=mn(i),n=du(i,r<=a.toExpNeg||r>=a.toExpPos)):(qs(e,1,Jf),t===void 0?t=a.rounding:qs(t,0,8),i=vr(new a(i),e,t),r=mn(i),n=du(i,e<=r||r<=a.toExpNeg,e)),n};at.toSignificantDigits=at.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(qs(e,1,Jf),t===void 0?t=n.rounding:qs(t,0,8)),vr(new n(r),e,t)};at.toString=at.valueOf=at.val=at.toJSON=at[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=mn(e),r=e.constructor;return du(e,t<=r.toExpNeg||t>=r.toExpPos)};function cM(e,t){var r,n,i,a,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),$r?vr(t,f):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=c.length):(n=c,i=s,o=l.length),s=Math.ceil(f/Cr),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/Tn|0,l[a]%=Tn;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,$r?vr(t,f):t}function qs(e,t,r){if(e!==~~e||e<t||e>r)throw Error(eu+e)}function Ts(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Cr-n.length,r&&(a+=gl(r)),a+=n;s=e[t],n=s+"",r=Cr-n.length,r&&(a+=gl(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Oo=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Tn|0,s=a/Tn|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Tn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,c,u,f,p,h,y,g,b,v,w,_,N,S,j,P,C,L=n.constructor,F=n.s==i.s?1:-1,k=n.d,E=i.d;if(!n.s)return new L(n);if(!i.s)throw Error(Ba+"Division by zero");for(l=n.e-i.e,P=E.length,S=k.length,h=new L(F),y=h.d=[],c=0;E[c]==(k[c]||0);)++c;if(E[c]>(k[c]||0)&&--l,a==null?w=a=L.precision:s?w=a+(mn(n)-mn(i))+1:w=a,w<0)return new L(0);if(w=w/Cr+2|0,c=0,P==1)for(u=0,E=E[0],w++;(c<S||u)&&w--;c++)_=u*Tn+(k[c]||0),y[c]=_/E|0,u=_%E|0;else{for(u=Tn/(E[0]+1)|0,u>1&&(E=e(E,u),k=e(k,u),P=E.length,S=k.length),N=P,g=k.slice(0,P),b=g.length;b<P;)g[b++]=0;C=E.slice(),C.unshift(0),j=E[0],E[1]>=Tn/2&&++j;do u=0,o=t(E,g,P,b),o<0?(v=g[0],P!=b&&(v=v*Tn+(g[1]||0)),u=v/j|0,u>1?(u>=Tn&&(u=Tn-1),f=e(E,u),p=f.length,b=g.length,o=t(f,g,p,b),o==1&&(u--,r(f,P<p?C:E,p))):(u==0&&(o=u=1),f=E.slice()),p=f.length,p<b&&f.unshift(0),r(g,f,b),o==-1&&(b=g.length,o=t(E,g,P,b),o<1&&(u++,r(g,P<b?C:E,b))),b=g.length):o===0&&(u++,g=[0]),y[c++]=u,o&&g[0]?g[b++]=k[N]||0:(g=[k[N]],b=1);while((N++<S||g[0]!==void 0)&&w--)}return y[0]||y.shift(),h.e=l,vr(h,s?a+mn(h)+1:a)}}();function uM(e,t){var r,n,i,a,s,o,l=0,c=0,u=e.constructor,f=u.precision;if(mn(e)>16)throw Error(bN+mn(e));if(!e.s)return new u(na);for($r=!1,o=f,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(Lc(2,c))/Math.LN10*2+5|0,o+=n,r=i=a=new u(na),u.precision=o;;){if(i=vr(i.times(e),o),r=r.times(++l),s=a.plus(Oo(i,r,o)),Ts(s.d).slice(0,o)===Ts(a.d).slice(0,o)){for(;c--;)a=vr(a.times(a),o);return u.precision=f,t==null?($r=!0,vr(a,f)):a}a=s}}function mn(e){for(var t=e.e*Cr,r=e.d[0];r>=10;r/=10)t++;return t}function d2(e,t,r){if(t>e.LN10.sd())throw $r=!0,r&&(e.precision=r),Error(Ba+"LN10 precision limit exceeded");return vr(new e(e.LN10),t)}function gl(e){for(var t="";e--;)t+="0";return t}function fm(e,t){var r,n,i,a,s,o,l,c,u,f=1,p=10,h=e,y=h.d,g=h.constructor,b=g.precision;if(h.s<1)throw Error(Ba+(h.s?"NaN":"-Infinity"));if(h.eq(na))return new g(0);if(t==null?($r=!1,c=b):c=t,h.eq(10))return t==null&&($r=!0),d2(g,c);if(c+=p,g.precision=c,r=Ts(y),n=r.charAt(0),a=mn(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Ts(h.d),n=r.charAt(0),f++;a=mn(h),n>1?(h=new g("0."+r),a++):h=new g(n+"."+r.slice(1))}else return l=d2(g,c+2,b).times(a+""),h=fm(new g(n+"."+r.slice(1)),c-p).plus(l),g.precision=b,t==null?($r=!0,vr(h,b)):h;for(o=s=h=Oo(h.minus(na),h.plus(na),c),u=vr(h.times(h),c),i=3;;){if(s=vr(s.times(u),c),l=o.plus(Oo(s,new g(i),c)),Ts(l.d).slice(0,c)===Ts(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(d2(g,c+2,b).times(a+""))),o=Oo(o,new g(f),c),g.precision=b,t==null?($r=!0,vr(o,b)):o;o=l,i+=2}}function EE(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Zf(r/Cr),e.d=[],n=(r+1)%Cr,r<0&&(n+=Cr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Cr;n<i;)e.d.push(+t.slice(n,n+=Cr));t=t.slice(n),n=Cr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),$r&&(e.e>yv||e.e<-yv))throw Error(bN+r)}else e.s=0,e.e=0,e.d=[0];return e}function vr(e,t,r){var n,i,a,s,o,l,c,u,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Cr,i=t,c=f[u=0];else{if(u=Math.ceil((n+1)/Cr),a=f.length,u>=a)return e;for(c=a=f[u],s=1;a>=10;a/=10)s++;n%=Cr,i=n-Cr+s}if(r!==void 0&&(a=Lc(10,s-i-1),o=c/a%10|0,l=t<0||f[u+1]!==void 0||c%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/Lc(10,s-i):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(a=mn(e),f.length=1,t=t-a-1,f[0]=Lc(10,(Cr-t%Cr)%Cr),e.e=Zf(-t/Cr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=Lc(10,Cr-n),f[u]=i>0?(c/Lc(10,s-i)%Lc(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==Tn&&(f[0]=1,++e.e);break}else{if(f[u]+=a,f[u]!=Tn)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if($r&&(e.e>yv||e.e<-yv))throw Error(bN+mn(e));return e}function dM(e,t){var r,n,i,a,s,o,l,c,u,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),$r?vr(t,h):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),i=Math.max(Math.ceil(h/Cr),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Tn-1;--l[a],l[i]+=Tn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,$r?vr(t,h):t):new p(0)}function du(e,t,r){var n,i=mn(e),a=Ts(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+gl(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+gl(-i-1)+a,r&&(n=r-s)>0&&(a+=gl(n))):i>=s?(a+=gl(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+gl(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=gl(n))),e.s<0?"-"+a:a}function PE(e,t){if(e.length>t)return e.length=t,!0}function fM(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(eu+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return EE(s,a.toString())}else if(typeof a!="string")throw Error(eu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,rpe.test(a))EE(s,a);else throw Error(eu+a)}if(i.prototype=at,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=fM,i.config=i.set=npe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function npe(e){if(!e||typeof e!="object")throw Error(Ba+"Object expected");var t,r,n,i=["precision",1,Jf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Zf(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(eu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(eu+r+": "+n);return this}var xN=fM(tpe);na=new xN(1);const pr=xN;function ipe(e){return lpe(e)||ope(e)||spe(e)||ape()}function ape(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function spe(e,t){if(e){if(typeof e=="string")return K5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K5(e,t)}}function ope(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function lpe(e){if(Array.isArray(e))return K5(e)}function K5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cpe=function(t){return t},hM={},pM=function(t){return t===hM},CE=function(t){return function r(){return arguments.length===0||arguments.length===1&&pM(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},upe=function e(t,r){return t===1?r:CE(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==hM}).length;return s>=t?r.apply(void 0,i):e(t-s,CE(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(f){return pM(f)?l.shift():f});return r.apply(void 0,ipe(u).concat(l))}))})},tb=function(t){return upe(t.length,t)},Y5=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},dpe=tb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),fpe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return cpe;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},X5=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},mM=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=t.apply(void 0,a)),n}};function hpe(e){var t;return e===0?t=1:t=Math.floor(new pr(e).abs().log(10).toNumber())+1,t}function ppe(e,t,r){for(var n=new pr(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var mpe=tb(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),gpe=tb(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),ype=tb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const rb={rangeStep:ppe,getDigitCount:hpe,interpolateNumber:mpe,uninterpolateNumber:gpe,uninterpolateTruncation:ype};function J5(e){return xpe(e)||bpe(e)||gM(e)||vpe()}function vpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bpe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xpe(e){if(Array.isArray(e))return Z5(e)}function hm(e,t){return Spe(e)||_pe(e,t)||gM(e,t)||wpe()}function wpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gM(e,t){if(e){if(typeof e=="string")return Z5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z5(e,t)}}function Z5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _pe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function Spe(e){if(Array.isArray(e))return e}function yM(e){var t=hm(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function vM(e,t,r){if(e.lte(0))return new pr(0);var n=rb.getDigitCount(e.toNumber()),i=new pr(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new pr(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?l:new pr(Math.ceil(l))}function jpe(e,t,r){var n=1,i=new pr(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new pr(10).pow(rb.getDigitCount(e)-1),i=new pr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new pr(Math.floor(e)))}else e===0?i=new pr(Math.floor((t-1)/2)):r||(i=new pr(Math.floor(e)));var s=Math.floor((t-1)/2),o=fpe(dpe(function(l){return i.add(new pr(l-s).mul(n)).toNumber()}),Y5);return o(0,t)}function bM(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new pr(0),tickMin:new pr(0),tickMax:new pr(0)};var a=vM(new pr(t).sub(e).div(r-1),n,i),s;e<=0&&t>=0?s=new pr(0):(s=new pr(e).add(t).div(2),s=s.sub(new pr(s).mod(a)));var o=Math.ceil(s.sub(e).div(a).toNumber()),l=Math.ceil(new pr(t).sub(s).div(a).toNumber()),c=o+l+1;return c>r?bM(e,t,r,n,i+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:a,tickMin:s.sub(new pr(o).mul(a)),tickMax:s.add(new pr(l).mul(a))})}function Npe(e){var t=hm(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=yM([r,n]),l=hm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(J5(Y5(0,i-1).map(function(){return 1/0}))):[].concat(J5(Y5(0,i-1).map(function(){return-1/0})),[u]);return r>n?X5(f):f}if(c===u)return jpe(c,i,a);var p=bM(c,u,s,a),h=p.step,y=p.tickMin,g=p.tickMax,b=rb.rangeStep(y,g.add(new pr(.1).mul(h)),h);return r>n?X5(b):b}function Ape(e,t){var r=hm(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=yM([n,i]),o=hm(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(t,2),f=vM(new pr(c).sub(l).div(u-1),a,0),p=[].concat(J5(rb.rangeStep(new pr(l),new pr(c).sub(new pr(.99).mul(f)),f)),[c]);return n>i?X5(p):p}var kpe=mM(Npe),Ope=mM(Ape),Epe="Invariant failed";function fu(e,t){throw new Error(Epe)}var Ppe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vv.apply(this,arguments)}function Cpe(e,t){return Rpe(e)||Lpe(e,t)||Ipe(e,t)||Tpe()}function Tpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ipe(e,t){if(e){if(typeof e=="string")return TE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TE(e,t)}}function TE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Rpe(e){if(Array.isArray(e))return e}function $pe(e,t){if(e==null)return{};var r=Mpe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_M(n.key),n)}}function Fpe(e,t,r){return t&&Bpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Upe(e,t,r){return t=bv(t),zpe(e,xM()?Reflect.construct(t,r||[],bv(e).constructor):t.apply(e,r))}function zpe(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qpe(e)}function qpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xM=function(){return!!e})()}function bv(e){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bv(e)}function Wpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q5(e,t)}function Q5(e,t){return Q5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Q5(e,t)}function wM(e,t,r){return t=_M(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _M(e){var t=Hpe(e,"string");return df(t)=="symbol"?t:t+""}function Hpe(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ng=function(e){function t(){return Dpe(this,t),Upe(this,t,arguments)}return Wpe(t,e),Fpe(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,p=$pe(n,Ppe),h=xt(p,!1);this.props.direction==="x"&&u.type!=="number"&&fu();var y=l.map(function(g){var b=c(g,o),v=b.x,w=b.y,_=b.value,N=b.errorVal;if(!N)return null;var S=[],j,P;if(Array.isArray(N)){var C=Cpe(N,2);j=C[0],P=C[1]}else j=P=N;if(a==="vertical"){var L=u.scale,F=w+i,k=F+s,E=F-s,$=L(_-j),M=L(_+P);S.push({x1:M,y1:k,x2:M,y2:E}),S.push({x1:$,y1:F,x2:M,y2:F}),S.push({x1:$,y1:k,x2:$,y2:E})}else if(a==="horizontal"){var B=f.scale,q=v+i,J=q-s,W=q+s,Z=B(_-j),D=B(_+P);S.push({x1:J,y1:D,x2:W,y2:D}),S.push({x1:q,y1:Z,x2:q,y2:D}),S.push({x1:J,y1:Z,x2:W,y2:Z})}return ce.createElement(Zt,vv({className:"recharts-errorBar",key:"bar-".concat(S.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},h),S.map(function(se){return ce.createElement("line",vv({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return ce.createElement(Zt,{className:"recharts-errorBars"},y)}}])}(ce.Component);wM(ng,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});wM(ng,"displayName","ErrorBar");function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function IE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(r),!0).forEach(function(n){Vpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vpe(e,t,r){return t=Gpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gpe(e){var t=Kpe(e,"string");return pm(t)=="symbol"?t:t+""}function Kpe(e,t){if(pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SM=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,s=Qi(r,Ds);if(!s)return null;var o=Ds.defaultProps,l=o!==void 0?Ac(Ac({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(n||[]).reduce(function(u,f){var p=f.item,h=f.props,y=h.sectors||h.data||[];return u.concat(y.map(function(g){return{type:s.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(n||[]).map(function(u){var f=u.item,p=f.type.defaultProps,h=p!==void 0?Ac(Ac({},p),f.props):{},y=h.dataKey,g=h.name,b=h.legendType,v=h.hide;return{inactive:v,dataKey:y,type:l.iconType||b||"square",color:wN(f),value:g||y,payload:h}}),Ac(Ac(Ac({},l),Ds.getWithHeight(s,i)),{},{payload:c,item:s})};function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function LE(e){return Zpe(e)||Jpe(e)||Xpe(e)||Ype()}function Ype(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xpe(e,t){if(e){if(typeof e=="string")return e_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e_(e,t)}}function Jpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zpe(e){if(Array.isArray(e))return e_(e)}function e_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(r),!0).forEach(function(n){Md(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Md(e,t,r){return t=Qpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qpe(e){var t=eme(e,"string");return mm(t)=="symbol"?t:t+""}function eme(e,t){if(mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function An(e,t,r){return Rt(e)||Rt(t)?r:On(t)?la(e,t,r):kt(t)?t(e):r}function _p(e,t,r,n){var i=Jhe(e,function(o){return An(o,t)});if(r==="number"){var a=i.filter(function(o){return Ge(o)||parseFloat(o)});return a.length?[eb(a),Q1(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!Rt(o)}):i;return s.map(function(o){return On(o)||o instanceof Date?o:""})}var tme=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,p=c>=o-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(mi(f-u)!==mi(p-f)){var y=[];if(mi(p-f)===mi(l[1]-l[0])){h=p;var g=f+l[1]-l[0];y[0]=Math.min(g,(g+u)/2),y[1]=Math.max(g,(g+u)/2)}else{h=u;var b=p+l[1]-l[0];y[0]=Math.min(f,(b+f)/2),y[1]=Math.max(f,(b+f)/2)}var v=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>v[0]&&t<=v[1]||t>=y[0]&&t<=y[1]){s=i[c].index;break}}else{var w=Math.min(u,p),_=Math.max(u,p);if(t>(w+f)/2&&t<=(_+f)/2){s=i[c].index;break}}}else for(var N=0;N<o;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<o-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===o-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){s=n[N].index;break}return s},wN=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Kr(Kr({},t.type.defaultProps),t.props):t.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},rme=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,f=Object.keys(u),p=0,h=f.length;p<h;p++){var y=u[f[p]],g=y.items,b=y.cateAxisId,v=g.filter(function(P){return ko(P.type).indexOf("Bar")>=0});if(v&&v.length){var w=v[0].type.defaultProps,_=w!==void 0?Kr(Kr({},w),v[0].props):v[0].props,N=_.barSize,S=_[b];s[S]||(s[S]=[]);var j=Rt(N)?r:N;s[S].push({item:v[0],stackList:v.slice(1),barSize:Rt(j)?void 0:gi(j,n,0)})}}return s},nme=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,s=a===void 0?[]:a,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=gi(r,i,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var p=!1,h=i/l,y=s.reduce(function(N,S){return N+S.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&h>0&&(p=!0,h*=.9,y=l*h);var g=(i-y)/2>>0,b={offset:g-c,size:0};u=s.reduce(function(N,S){var j={item:S.item,position:{offset:b.offset+b.size+c,size:p?h:S.barSize}},P=[].concat(LE(N),[j]);return b=P[P.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){P.push({item:C,position:b})}),P},f)}else{var v=gi(n,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var w=(i-2*v-(l-1)*c)/l;w>1&&(w>>=0);var _=o===+o?Math.min(w,o):w;u=s.reduce(function(N,S,j){var P=[].concat(LE(N),[{item:S.item,position:{offset:v+(w+c)*j+(w-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){P.push({item:C,position:P[P.length-1].position})}),P},f)}return u},ime=function(t,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=SM({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,p=u.height,h=c.align,y=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&h!=="center"&&Ge(t[h]))return Kr(Kr({},t),{},Md({},h,t[h]+(f||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&y!=="middle"&&Ge(t[y]))return Kr(Kr({},t),{},Md({},y,t[y]+(p||0)))}return t},ame=function(t,r,n){return Rt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},jM=function(t,r,n,i,a){var s=r.props.children,o=ca(s,ng).filter(function(c){return ame(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=An(u,n);if(Rt(f))return c;var p=Array.isArray(f)?[eb(f),Q1(f)]:[f,f],h=l.reduce(function(y,g){var b=An(u,g,0),v=p[0]-Math.abs(Array.isArray(b)?b[0]:b),w=p[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(v,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},sme=function(t,r,n,i,a){var s=r.map(function(o){return jM(t,o,n,a,i)}).filter(function(o){return!Rt(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},NM=function(t,r,n,i,a){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&jM(t,l,c,i)||_p(t,c,n,a)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},AM=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},kM=function(t,r,n,i){if(i)return t.map(function(l){return l.coordinate});var a,s,o=t.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},jo=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?mi(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var p=a?a.indexOf(f):f;return{coordinate:i(p)+c,value:f,offset:c}});return u.filter(function(f){return!Km(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:i(f)+c,value:f,index:p,offset:c}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,p){return{coordinate:i(f)+c,value:a?a[f]:f,index:p,offset:c}})},f2=new WeakMap,j0=function(t,r){if(typeof r!="function")return t;f2.has(t)||f2.set(t,new WeakMap);var n=f2.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},OM=function(t,r,n){var i=t.scale,a=t.type,s=t.layout,o=t.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:om(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:hv(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:wp(),realScaleType:"point"}:a==="category"?{scale:om(),realScaleType:"band"}:{scale:hv(),realScaleType:"linear"};if(lu(i)){var l="scale".concat(B1(i));return{scale:(OE[l]||wp)(),realScaleType:OE[l]?l:"point"}}return kt(i)?{scale:i}:{scale:wp(),realScaleType:"point"}},$E=1e-4,EM=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-$E,s=Math.max(i[0],i[1])+$E,o=t(r[0]),l=t(r[n-1]);(o<a||o>s||l<a||l>s)&&t.domain([r[0],r[n-1]])}},ome=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},lme=function(t,r){if(!r||r.length!==2||!Ge(r[0])||!Ge(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!Ge(t[0])||t[0]<n)&&(a[0]=n),(!Ge(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},cme=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=Km(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},ume=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=Km(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=a,t[s][n][1]=a+o,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},dme={sign:cme,expand:Pte,none:rf,silhouette:Cte,wiggle:Tte,positive:ume},fme=function(t,r,n){var i=r.map(function(o){return o.props.dataKey}),a=dme[n],s=Ete().keys(i).value(function(o,l){return+An(o,l,0)}).order(N5).offset(a);return s(t)},hme=function(t,r,n,i,a,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,p){var h,y=(h=p.type)!==null&&h!==void 0&&h.defaultProps?Kr(Kr({},p.type.defaultProps),p.props):p.props,g=y.stackId,b=y.hide;if(b)return f;var v=y[n],w=f[v]||{hasStack:!1,stackGroups:{}};if(On(g)){var _=w.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(p),w.hasStack=!0,w.stackGroups[g]=_}else w.stackGroups[Vf("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return Kr(Kr({},f),{},Md({},v,w))},l),u={};return Object.keys(c).reduce(function(f,p){var h=c[p];if(h.hasStack){var y={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,b){var v=h.stackGroups[b];return Kr(Kr({},g),{},Md({},b,{numericAxisId:n,cateAxisId:i,items:v.items,stackedData:fme(t,v.items,a)}))},y)}return Kr(Kr({},f),{},Md({},p,h))},u)},PM=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=kpe(c,a,o);return t.domain([eb(u),Q1(u)]),{niceTicks:u}}if(a&&i==="number"){var f=t.domain(),p=Ope(f,a,o);return{niceTicks:p}}return null};function ME(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Rt(i[t.dataKey])){var o=Vy(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=An(i,Rt(s)?t.dataKey:s);return Rt(l)?null:t.scale(l)}var DE=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=An(s,r.dataKey,r.domain[o]);return Rt(l)?null:r.scale(l)-a/2+i},pme=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},mme=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Kr(Kr({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(On(a)){var s=r[a];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},gme=function(t){return t.reduce(function(r,n){return[eb(n.concat([r[0]]).filter(Ge)),Q1(n.concat([r[1]]).filter(Ge))]},[1/0,-1/0])},CM=function(t,r,n){return Object.keys(t).reduce(function(i,a){var s=t[a],o=s.stackedData,l=o.reduce(function(c,u){var f=gme(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},BE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,t_=function(t,r,n){if(kt(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(Ge(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(BE.test(t[0])){var a=+BE.exec(t[0])[1];i[0]=r[0]-a}else kt(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Ge(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(FE.test(t[1])){var s=+FE.exec(t[1])[1];i[1]=r[1]+s}else kt(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},xv=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=Yj(r,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},UE=function(t,r,n){return!t||!t.length||rg(t,la(n,"type.defaultProps.domain"))?r:t},TM=function(t,r){var n=t.type.defaultProps?Kr(Kr({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Kr(Kr({},xt(t,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:wN(t),value:An(r,i),type:l,payload:r,chartType:c,hide:u})};function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function zE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(r),!0).forEach(function(n){IM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IM(e,t,r){return t=yme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yme(e){var t=vme(e,"string");return gm(t)=="symbol"?t:t+""}function vme(e,t){if(gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bme(e,t){return Sme(e)||_me(e,t)||wme(e,t)||xme()}function xme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wme(e,t){if(e){if(typeof e=="string")return qE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qE(e,t)}}function qE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _me(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Sme(e){if(Array.isArray(e))return e}var wv=Math.PI/180,jme=function(t){return t*180/Math.PI},kr=function(t,r,n,i){return{x:t+Math.cos(-wv*i)*n,y:r+Math.sin(-wv*i)*n}},LM=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Nme=function(t,r,n,i,a){var s=t.width,o=t.height,l=t.startAngle,c=t.endAngle,u=gi(t.cx,s,s/2),f=gi(t.cy,o,o/2),p=LM(s,o,n),h=gi(t.innerRadius,p,0),y=gi(t.outerRadius,p,p*.8),g=Object.keys(r);return g.reduce(function(b,v){var w=r[v],_=w.domain,N=w.reversed,S;if(Rt(w.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[h,y]),N&&(S=[S[1],S[0]]);else{S=w.range;var j=S,P=bme(j,2);l=P[0],c=P[1]}var C=OM(w,a),L=C.realScaleType,F=C.scale;F.domain(_).range(S),EM(F);var k=PM(F,go(go({},w),{},{realScaleType:L})),E=go(go(go({},w),k),{},{range:S,radius:y,realScaleType:L,scale:F,cx:u,cy:f,innerRadius:h,outerRadius:y,startAngle:l,endAngle:c});return go(go({},b),{},IM({},v,E))},{})},Ame=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},kme=function(t,r){var n=t.x,i=t.y,a=r.cx,s=r.cy,o=Ame({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:jme(c),angleInRadian:c}},Ome=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},Eme=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return t+o*360},WE=function(t,r){var n=t.x,i=t.y,a=kme({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=Ome(r),f=u.startAngle,p=u.endAngle,h=o,y;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;y=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;y=h>=p&&h<=f}return y?go(go({},r),{},{radius:s,angle:Eme(h,r)}):null},RM=function(t){return!G.isValidElement(t)&&!kt(t)&&typeof t!="boolean"?t.className:""};function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}var Pme=["offset"];function Cme(e){return Rme(e)||Lme(e)||Ime(e)||Tme()}function Tme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ime(e,t){if(e){if(typeof e=="string")return r_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r_(e,t)}}function Lme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rme(e){if(Array.isArray(e))return r_(e)}function r_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $me(e,t){if(e==null)return{};var r=Mme(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(r),!0).forEach(function(n){Dme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dme(e,t,r){return t=Bme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bme(e){var t=Fme(e,"string");return ym(t)=="symbol"?t:t+""}function Fme(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vm.apply(this,arguments)}var Ume=function(t){var r=t.value,n=t.formatter,i=Rt(t.children)?r:t.children;return kt(n)?n(i):i},zme=function(t,r){var n=mi(r-t),i=Math.min(Math.abs(r-t),360);return n*i},qme=function(t,r,n){var i=t.position,a=t.viewBox,s=t.offset,o=t.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,p=l.outerRadius,h=l.startAngle,y=l.endAngle,g=l.clockWise,b=(f+p)/2,v=zme(h,y),w=v>=0?1:-1,_,N;i==="insideStart"?(_=h+w*s,N=g):i==="insideEnd"?(_=y-w*s,N=!g):i==="end"&&(_=y+w*s,N=g),N=v<=0?N:!N;var S=kr(c,u,b,_),j=kr(c,u,b,_+(N?1:-1)*359),P="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(N?0:1,`,
    `).concat(j.x,",").concat(j.y),C=Rt(t.id)?Vf("recharts-radial-line-"):t.id;return ce.createElement("text",vm({},n,{dominantBaseline:"central",className:zt("recharts-radial-bar-label",o)}),ce.createElement("defs",null,ce.createElement("path",{id:C,d:P})),ce.createElement("textPath",{xlinkHref:"#".concat(C)},r))},Wme=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,p=(u+f)/2;if(i==="outside"){var h=kr(s,o,c+n,p),y=h.x,g=h.y;return{x:y,y:g,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,v=kr(s,o,b,p),w=v.x,_=v.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Hme=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,p=f*i,h=f>0?"end":"start",y=f>0?"start":"end",g=c>=0?1:-1,b=g*i,v=g>0?"end":"start",w=g>0?"start":"end";if(a==="top"){var _={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return _n(_n({},_),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var N={x:o+c/2,y:l+u+p,textAnchor:"middle",verticalAnchor:y};return _n(_n({},N),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var S={x:o-b,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return _n(_n({},S),n?{width:Math.max(S.x-n.x,0),height:u}:{})}if(a==="right"){var j={x:o+c+b,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return _n(_n({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:u}:{})}var P=n?{width:c,height:u}:{};return a==="insideLeft"?_n({x:o+b,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},P):a==="insideRight"?_n({x:o+c-b,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},P):a==="insideTop"?_n({x:o+c/2,y:l+p,textAnchor:"middle",verticalAnchor:y},P):a==="insideBottom"?_n({x:o+c/2,y:l+u-p,textAnchor:"middle",verticalAnchor:h},P):a==="insideTopLeft"?_n({x:o+b,y:l+p,textAnchor:w,verticalAnchor:y},P):a==="insideTopRight"?_n({x:o+c-b,y:l+p,textAnchor:v,verticalAnchor:y},P):a==="insideBottomLeft"?_n({x:o+b,y:l+u-p,textAnchor:w,verticalAnchor:h},P):a==="insideBottomRight"?_n({x:o+c-b,y:l+u-p,textAnchor:v,verticalAnchor:h},P):zf(a)&&(Ge(a.x)||Vc(a.x))&&(Ge(a.y)||Vc(a.y))?_n({x:o+gi(a.x,c),y:l+gi(a.y,u),textAnchor:"end",verticalAnchor:"end"},P):_n({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Vme=function(t){return"cx"in t&&Ge(t.cx)};function Rn(e){var t=e.offset,r=t===void 0?5:t,n=$me(e,Pme),i=_n({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,p=i.textBreakAll;if(!a||Rt(o)&&Rt(l)&&!G.isValidElement(c)&&!kt(c))return null;if(G.isValidElement(c))return G.cloneElement(c,i);var h;if(kt(c)){if(h=G.createElement(c,i),G.isValidElement(h))return h}else h=Ume(i);var y=Vme(a),g=xt(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return qme(i,h,g);var b=y?Wme(i):Hme(i);return ce.createElement(uu,vm({className:zt("recharts-label",f)},g,b,{breakAll:p}),h)}Rn.displayName="Label";var $M=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,p=t.y,h=t.top,y=t.left,g=t.width,b=t.height,v=t.clockWise,w=t.labelViewBox;if(w)return w;if(Ge(g)&&Ge(b)){if(Ge(f)&&Ge(p))return{x:f,y:p,width:g,height:b};if(Ge(h)&&Ge(y))return{x:h,y,width:g,height:b}}return Ge(f)&&Ge(p)?{x:f,y:p,width:0,height:0}:Ge(r)&&Ge(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:v}:t.viewBox?t.viewBox:{}},Gme=function(t,r){return t?t===!0?ce.createElement(Rn,{key:"label-implicit",viewBox:r}):On(t)?ce.createElement(Rn,{key:"label-implicit",viewBox:r,value:t}):G.isValidElement(t)?t.type===Rn?G.cloneElement(t,{key:"label-implicit",viewBox:r}):ce.createElement(Rn,{key:"label-implicit",content:t,viewBox:r}):kt(t)?ce.createElement(Rn,{key:"label-implicit",content:t,viewBox:r}):zf(t)?ce.createElement(Rn,vm({viewBox:r},t,{key:"label-implicit"})):null:null},Kme=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=$M(t),s=ca(i,Rn).map(function(l,c){return G.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return s;var o=Gme(t.label,r||a);return[o].concat(Cme(s))};Rn.parseViewBox=$M;Rn.renderCallByParent=Kme;function Yme(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Xme=Yme;const Jme=ir(Xme);function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}var Zme=["valueAccessor"],Qme=["data","dataKey","clockWise","id","textBreakAll"];function ege(e){return ige(e)||nge(e)||rge(e)||tge()}function tge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rge(e,t){if(e){if(typeof e=="string")return n_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n_(e,t)}}function nge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ige(e){if(Array.isArray(e))return n_(e)}function n_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_v.apply(this,arguments)}function VE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(r),!0).forEach(function(n){age(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function age(e,t,r){return t=sge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sge(e){var t=oge(e,"string");return bm(t)=="symbol"?t:t+""}function oge(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KE(e,t){if(e==null)return{};var r=lge(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cge=function(t){return Array.isArray(t.value)?Jme(t.value):t.value};function Eo(e){var t=e.valueAccessor,r=t===void 0?cge:t,n=KE(e,Zme),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=KE(n,Qme);return!i||!i.length?null:ce.createElement(Zt,{className:"recharts-label-list"},i.map(function(u,f){var p=Rt(a)?r(u,f):An(u&&u.payload,a),h=Rt(o)?{}:{id:"".concat(o,"-").concat(f)};return ce.createElement(Rn,_v({},xt(u,!0),c,h,{parentViewBox:u.parentViewBox,value:p,textBreakAll:l,viewBox:Rn.parseViewBox(Rt(s)?u:GE(GE({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Eo.displayName="LabelList";function uge(e,t){return e?e===!0?ce.createElement(Eo,{key:"labelList-implicit",data:t}):ce.isValidElement(e)||kt(e)?ce.createElement(Eo,{key:"labelList-implicit",data:t,content:e}):zf(e)?ce.createElement(Eo,_v({data:t},e,{key:"labelList-implicit"})):null:null}function dge(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=ca(n,Eo).map(function(s,o){return G.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return i;var a=uge(e.label,t);return[a].concat(ege(i))}Eo.renderCallByParent=dge;function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i_.apply(this,arguments)}function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(n){fge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fge(e,t,r){return t=hge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hge(e){var t=pge(e,"string");return xm(t)=="symbol"?t:t+""}function pge(e,t){if(xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mge=function(t,r){var n=mi(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},N0=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(o?1:-1)+i,f=Math.asin(l/u)/wv,p=c?a:a+s*f,h=kr(r,n,u,p),y=kr(r,n,i,p),g=c?a-s*f:a,b=kr(r,n,u*Math.cos(f*wv),g);return{center:h,circleTangency:y,lineTangency:b,theta:f}},MM=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.startAngle,o=t.endAngle,l=mge(s,o),c=s+l,u=kr(r,n,a,s),f=kr(r,n,a,c),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=kr(r,n,i,s),y=kr(r,n,i,c);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},gge=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=mi(u-c),p=N0({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),h=p.circleTangency,y=p.lineTangency,g=p.theta,b=N0({cx:r,cy:n,radius:a,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),v=b.circleTangency,w=b.lineTangency,_=b.theta,N=l?Math.abs(c-u):Math.abs(c-u)-g-_;if(N<0)return o?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):MM({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var j=N0({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),P=j.circleTangency,C=j.lineTangency,L=j.theta,F=N0({cx:r,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=F.circleTangency,E=F.lineTangency,$=F.theta,M=l?Math.abs(c-u):Math.abs(c-u)-L-$;if(M<0&&s===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},yge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},DM=function(t){var r=XE(XE({},yge),t),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,p=r.className;if(s<a||u===f)return null;var h=zt("recharts-sector",p),y=s-a,g=gi(o,y,0,!0),b;return g>0&&Math.abs(u-f)<360?b=gge({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):b=MM({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f}),ce.createElement("path",i_({},xt(r,!0),{className:h,d:b,role:"img"}))};function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}function a_(){return a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a_.apply(this,arguments)}function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(n){vge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vge(e,t,r){return t=bge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bge(e){var t=xge(e,"string");return wm(t)=="symbol"?t:t+""}function xge(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QE={curveBasisClosed:vte,curveBasisOpen:bte,curveBasis:yte,curveBumpX:nte,curveBumpY:ite,curveLinearClosed:xte,curveLinear:U1,curveMonotoneX:wte,curveMonotoneY:_te,curveNatural:Ste,curveStep:jte,curveStepAfter:Ate,curveStepBefore:Nte},A0=function(t){return t.x===+t.x&&t.y===+t.y},Vh=function(t){return t.x},Gh=function(t){return t.y},wge=function(t,r){if(kt(t))return t;var n="curve".concat(B1(t));return(n==="curveMonotone"||n==="curveBump")&&r?QE["".concat(n).concat(r==="vertical"?"Y":"X")]:QE[n]||U1},_ge=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=wge(n,o),f=c?a.filter(function(g){return A0(g)}):a,p;if(Array.isArray(s)){var h=c?s.filter(function(g){return A0(g)}):s,y=f.map(function(g,b){return ZE(ZE({},g),{},{base:h[b]})});return o==="vertical"?p=g0().y(Gh).x1(Vh).x0(function(g){return g.base.x}):p=g0().x(Vh).y1(Gh).y0(function(g){return g.base.y}),p.defined(A0).curve(u),p(y)}return o==="vertical"&&Ge(s)?p=g0().y(Gh).x1(Vh).x0(s):Ge(s)?p=g0().x(Vh).y1(Gh).y0(s):p=TR().x(Vh).y(Gh),p.defined(A0).curve(u),p(f)},Sv=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?_ge(t):i;return G.createElement("path",a_({},xt(t,!1),Gy(t),{className:zt("recharts-curve",r),d:s,ref:a}))},BM={exports:{}},Sge="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jge=Sge,Nge=jge;function FM(){}function UM(){}UM.resetWarningCache=FM;var Age=function(){function e(n,i,a,s,o,l){if(l!==Nge){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:UM,resetWarningCache:FM};return r.PropTypes=r,r};BM.exports=Age();var kge=BM.exports;const sr=ir(kge);var Oge=Object.getOwnPropertyNames,Ege=Object.getOwnPropertySymbols,Pge=Object.prototype.hasOwnProperty;function eP(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function k0(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var l=e(r,n,i);return a.delete(r),a.delete(n),l}}function Cge(e){return e!=null?e[Symbol.toStringTag]:void 0}function tP(e){return Oge(e).concat(Ege(e))}var Tge=Object.hasOwn||function(e,t){return Pge.call(e,t)};function Nu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Ige="__v",Lge="__o",Rge="_owner",rP=Object.getOwnPropertyDescriptor,nP=Object.keys;function $ge(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Mge(e,t){return Nu(e.getTime(),t.getTime())}function Dge(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Bge(e,t){return e===t}function iP(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var c=t.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(i[f]){f++;continue}var p=s.value,h=o.value;if(r.equals(p[0],h[0],l,f,e,t,r)&&r.equals(p[1],h[1],p[0],h[0],e,t,r)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var Fge=Nu;function Uge(e,t,r){var n=nP(e),i=n.length;if(nP(t).length!==i)return!1;for(;i-- >0;)if(!zM(e,t,r,n[i]))return!1;return!0}function Kh(e,t,r){var n=tP(e),i=n.length;if(tP(t).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!zM(e,t,r,a)||(s=rP(e,a),o=rP(t,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function zge(e,t){return Nu(e.valueOf(),t.valueOf())}function qge(e,t){return e.source===t.source&&e.flags===t.flags}function aP(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),s,o;(s=a.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!i[u]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Wge(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Hge(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function zM(e,t,r,n){return(n===Rge||n===Lge||n===Ige)&&(e.$$typeof||t.$$typeof)?!0:Tge(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Vge="[object Arguments]",Gge="[object Boolean]",Kge="[object Date]",Yge="[object Error]",Xge="[object Map]",Jge="[object Number]",Zge="[object Object]",Qge="[object RegExp]",e0e="[object Set]",t0e="[object String]",r0e="[object URL]",n0e=Array.isArray,sP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,oP=Object.assign,i0e=Object.prototype.toString.call.bind(Object.prototype.toString);function a0e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,p=e.areUrlsEqual,h=e.unknownTagComparators;return function(g,b,v){if(g===b)return!0;if(g==null||b==null)return!1;var w=typeof g;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?s(g,b,v):w==="function"?i(g,b,v):!1;var _=g.constructor;if(_!==b.constructor)return!1;if(_===Object)return o(g,b,v);if(n0e(g))return t(g,b,v);if(sP!=null&&sP(g))return f(g,b,v);if(_===Date)return r(g,b,v);if(_===RegExp)return c(g,b,v);if(_===Map)return a(g,b,v);if(_===Set)return u(g,b,v);var N=i0e(g);if(N===Kge)return r(g,b,v);if(N===Qge)return c(g,b,v);if(N===Xge)return a(g,b,v);if(N===e0e)return u(g,b,v);if(N===Zge)return typeof g.then!="function"&&typeof b.then!="function"&&o(g,b,v);if(N===r0e)return p(g,b,v);if(N===Yge)return n(g,b,v);if(N===Vge)return o(g,b,v);if(N===Gge||N===Jge||N===t0e)return l(g,b,v);if(h){var S=h[N];if(!S){var j=Cge(g);j&&(S=h[j])}if(S)return S(g,b,v)}return!1}}function s0e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Kh:$ge,areDatesEqual:Mge,areErrorsEqual:Dge,areFunctionsEqual:Bge,areMapsEqual:n?eP(iP,Kh):iP,areNumbersEqual:Fge,areObjectsEqual:n?Kh:Uge,arePrimitiveWrappersEqual:zge,areRegExpsEqual:qge,areSetsEqual:n?eP(aP,Kh):aP,areTypedArraysEqual:n?Kh:Wge,areUrlsEqual:Hge,unknownTagComparators:void 0};if(r&&(i=oP({},i,r(i))),t){var a=k0(i.areArraysEqual),s=k0(i.areMapsEqual),o=k0(i.areObjectsEqual),l=k0(i.areSetsEqual);i=oP({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function o0e(e){return function(t,r,n,i,a,s,o){return e(t,r,o)}}function l0e(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(l,c){var u=n(),f=u.cache,p=f===void 0?t?new WeakMap:void 0:f,h=u.meta;return r(l,c,{cache:p,equals:i,meta:h,strict:a})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,s)}}var c0e=Zl();Zl({strict:!0});Zl({circular:!0});Zl({circular:!0,strict:!0});Zl({createInternalComparator:function(){return Nu}});Zl({strict:!0,createInternalComparator:function(){return Nu}});Zl({circular:!0,createInternalComparator:function(){return Nu}});Zl({circular:!0,createInternalComparator:function(){return Nu},strict:!0});function Zl(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,s=a===void 0?!1:a,o=s0e(e),l=a0e(o),c=n?n(l):o0e(l);return l0e({circular:r,comparator:l,createState:i,equals:c,strict:s})}function u0e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function lP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):u0e(i)};requestAnimationFrame(n)}function s_(e){"@babel/helpers - typeof";return s_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s_(e)}function d0e(e){return m0e(e)||p0e(e)||h0e(e)||f0e()}function f0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h0e(e,t){if(e){if(typeof e=="string")return cP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cP(e,t)}}function cP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m0e(e){if(Array.isArray(e))return e}function g0e(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=d0e(s),l=o[0],c=o.slice(1);if(typeof l=="number"){lP(i.bind(null,c),l);return}i(l),lP(i.bind(null,c));return}s_(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){qM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qM(e,t,r){return t=y0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y0e(e){var t=v0e(e,"string");return _m(t)==="symbol"?t:String(t)}function v0e(e,t){if(_m(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b0e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},x0e=function(t){return t},w0e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Sp=function(t,r){return Object.keys(r).reduce(function(n,i){return dP(dP({},n),{},qM({},i,t(i,r[i])))},{})},fP=function(t,r,n){return t.map(function(i){return"".concat(w0e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function _0e(e,t){return N0e(e)||j0e(e,t)||WM(e,t)||S0e()}function S0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function N0e(e){if(Array.isArray(e))return e}function A0e(e){return E0e(e)||O0e(e)||WM(e)||k0e()}function k0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WM(e,t){if(e){if(typeof e=="string")return o_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o_(e,t)}}function O0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function E0e(e){if(Array.isArray(e))return o_(e)}function o_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jv=1e-4,HM=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},VM=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},hP=function(t,r){return function(n){var i=HM(t,r);return VM(i,n)}},P0e=function(t,r){return function(n){var i=HM(t,r),a=[].concat(A0e(i.map(function(s,o){return s*o}).slice(1)),[0]);return VM(a,n)}},pP=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),u=_0e(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var f=hP(i,s),p=hP(a,o),h=P0e(i,s),y=function(v){return v>1?1:v<0?0:v},g=function(v){for(var w=v>1?1:v,_=w,N=0;N<8;++N){var S=f(_)-w,j=h(_);if(Math.abs(S-w)<jv||j<jv)return p(_);_=y(_-S/j)}return p(_)};return g.isStepper=!1,g},C0e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,s=t.dt,o=s===void 0?17:s,l=function(u,f,p){var h=-(u-f)*n,y=p*a,g=p+(h-y)*o/1e3,b=p*o/1e3+u;return Math.abs(b-f)<jv&&Math.abs(g)<jv?[f,0]:[b,g]};return l.isStepper=!0,l.dt=o,l},T0e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pP(i);case"spring":return C0e();default:if(i.split("(")[0]==="cubic-bezier")return pP(i)}return typeof i=="function"?i:null};function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function mP(e){return R0e(e)||L0e(e)||GM(e)||I0e()}function I0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function R0e(e){if(Array.isArray(e))return c_(e)}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){l_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l_(e,t,r){return t=$0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $0e(e){var t=M0e(e,"string");return Sm(t)==="symbol"?t:String(t)}function M0e(e,t){if(Sm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D0e(e,t){return U0e(e)||F0e(e,t)||GM(e,t)||B0e()}function B0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GM(e,t){if(e){if(typeof e=="string")return c_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c_(e,t)}}function c_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function U0e(e){if(Array.isArray(e))return e}var Nv=function(t,r,n){return t+(r-t)*n},u_=function(t){var r=t.from,n=t.to;return r!==n},z0e=function e(t,r,n){var i=Sp(function(a,s){if(u_(s)){var o=t(s.from,s.to,s.velocity),l=D0e(o,2),c=l[0],u=l[1];return Wn(Wn({},s),{},{from:c,velocity:u})}return s},r);return n<1?Sp(function(a,s){return u_(s)?Wn(Wn({},s),{},{velocity:Nv(s.velocity,i[a].velocity,n),from:Nv(s.from,i[a].from,n)}):s},r):e(t,i,n-1)};const q0e=function(e,t,r,n,i){var a=b0e(e,t),s=a.reduce(function(b,v){return Wn(Wn({},b),{},l_({},v,[e[v],t[v]]))},{}),o=a.reduce(function(b,v){return Wn(Wn({},b),{},l_({},v,{from:e[v],velocity:0,to:t[v]}))},{}),l=-1,c,u,f=function(){return null},p=function(){return Sp(function(v,w){return w.from},o)},h=function(){return!Object.values(o).filter(u_).length},y=function(v){c||(c=v);var w=v-c,_=w/r.dt;o=z0e(r,o,_),i(Wn(Wn(Wn({},e),t),p())),c=v,h()||(l=requestAnimationFrame(f))},g=function(v){u||(u=v);var w=(v-u)/n,_=Sp(function(S,j){return Nv.apply(void 0,mP(j).concat([r(w)]))},s);if(i(Wn(Wn(Wn({},e),t),_)),w<1)l=requestAnimationFrame(f);else{var N=Sp(function(S,j){return Nv.apply(void 0,mP(j).concat([r(1)]))},s);i(Wn(Wn(Wn({},e),t),N))}};return f=r.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}var W0e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function H0e(e,t){if(e==null)return{};var r=V0e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V0e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function h2(e){return X0e(e)||Y0e(e)||K0e(e)||G0e()}function G0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K0e(e,t){if(e){if(typeof e=="string")return d_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d_(e,t)}}function Y0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function X0e(e){if(Array.isArray(e))return d_(e)}function d_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){ip(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ip(e,t,r){return t=KM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KM(n.key),n)}}function Q0e(e,t,r){return t&&Z0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KM(e){var t=eye(e,"string");return ff(t)==="symbol"?t:String(t)}function eye(e,t){if(ff(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ff(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}function f_(e,t){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f_(e,t)}function rye(e){var t=nye();return function(){var n=Av(e),i;if(t){var a=Av(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return h_(this,i)}}function h_(e,t){if(t&&(ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p_(e)}function p_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Av(e){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Av(e)}var Ws=function(e){tye(r,e);var t=rye(r);function r(n,i){var a;J0e(this,r),a=t.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,p=s.children,h=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(p_(a)),a.changeStyle=a.changeStyle.bind(p_(a)),!o||h<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:u}),h_(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof p=="function")return a.state={style:c},h_(a);a.state={style:l?ip({},l,c):c}}else a.state={style:{}};return a}return Q0e(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,p=this.state.style;if(o){if(!s){var h={style:l?ip({},l,u):u};this.state&&p&&(l&&p[l]!==u||!l&&p!==u)&&this.setState(h);return}if(!(c0e(i.to,u)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||c?f:i.to;if(this.state&&p){var b={style:l?ip({},l,g):g};(l&&p[l]!==g||!l&&p!==g)&&this.setState(b)}this.runAnimation(Qa(Qa({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,h=q0e(s,o,T0e(c),l,this.changeStyle),y=function(){a.stopJSAnimation=h()};this.manager.start([p,u,y,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,f=c.duration,p=f===void 0?0:f,h=function(g,b,v){if(v===0)return g;var w=b.duration,_=b.easing,N=_===void 0?"ease":_,S=b.style,j=b.properties,P=b.onAnimationEnd,C=v>0?s[v-1]:b,L=j||Object.keys(S);if(typeof N=="function"||N==="spring")return[].concat(h2(g),[a.runJSAnimation.bind(a,{from:C.style,to:S,duration:w,easing:N}),w]);var F=fP(L,w,N),k=Qa(Qa(Qa({},C.style),S),{},{transition:F});return[].concat(h2(g),[k,w,P]).filter(x0e)};return this.manager.start([l].concat(h2(s.reduce(h,[u,Math.max(p,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=g0e());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,h=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var g=o?ip({},o,l):l,b=fP(Object.keys(g),s,c);y.start([u,a,Qa(Qa({},g),{},{transition:b}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=H0e(i,W0e),c=G.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var f=function(h){var y=h.props,g=y.style,b=g===void 0?{}:g,v=y.className,w=G.cloneElement(h,Qa(Qa({},l),{},{style:Qa(Qa({},b),u),className:v}));return w};return c===1?f(G.Children.only(a)):ce.createElement("div",null,G.Children.map(a,function(p){return f(p)}))}}]),r}(G.PureComponent);Ws.displayName="Animate";Ws.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ws.propTypes={from:sr.oneOfType([sr.object,sr.string]),to:sr.oneOfType([sr.object,sr.string]),attributeName:sr.string,duration:sr.number,begin:sr.number,easing:sr.oneOfType([sr.string,sr.func]),steps:sr.arrayOf(sr.shape({duration:sr.number.isRequired,style:sr.object.isRequired,easing:sr.oneOfType([sr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),sr.func]),properties:sr.arrayOf("string"),onAnimationEnd:sr.func})),children:sr.oneOfType([sr.node,sr.func]),isActive:sr.bool,canBegin:sr.bool,onAnimationEnd:sr.func,shouldReAnimate:sr.bool,onAnimationStart:sr.func,onAnimationReStart:sr.func};function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kv.apply(this,arguments)}function iye(e,t){return lye(e)||oye(e,t)||sye(e,t)||aye()}function aye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sye(e,t){if(e){if(typeof e=="string")return vP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vP(e,t)}}function vP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function lye(e){if(Array.isArray(e))return e}function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){cye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cye(e,t,r){return t=uye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uye(e){var t=dye(e,"string");return jm(t)=="symbol"?t:t+""}function dye(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wP=function(t,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=a[p]>s?s:a[p];u="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*f[1])),u+="L ".concat(t+n,",").concat(r+i-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+i)),u+="L ".concat(t+l*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+i-o*f[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);u="M ".concat(t,",").concat(r+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+l*y,",").concat(r,`
            L `).concat(t+n-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*y,`
            L `).concat(t+n,",").concat(r+i-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+n-l*y,",").concat(r+i,`
            L `).concat(t+l*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t,",").concat(r+i-o*y," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},fye=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),f=Math.min(s,s+l),p=Math.max(s,s+l);return n>=c&&n<=u&&i>=f&&i<=p}return!1},hye={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_N=function(t){var r=xP(xP({},hye),t),n=G.useRef(),i=G.useState(-1),a=iye(i,2),s=a[0],o=a[1];G.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&o(N)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,p=r.radius,h=r.className,y=r.animationEasing,g=r.animationDuration,b=r.animationBegin,v=r.isAnimationActive,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var _=zt("recharts-rectangle",h);return w?ce.createElement(Ws,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:g,animationEasing:y,isActive:w},function(N){var S=N.width,j=N.height,P=N.x,C=N.y;return ce.createElement(Ws,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,isActive:v,easing:y},ce.createElement("path",kv({},xt(r,!0),{className:_,d:wP(P,C,S,j,p),ref:n})))}):ce.createElement("path",kv({},xt(r,!0),{className:_,d:wP(l,c,u,f,p)}))},pye=["points","className","baseLinePoints","connectNulls"];function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(this,arguments)}function mye(e,t){if(e==null)return{};var r=gye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _P(e){return xye(e)||bye(e)||vye(e)||yye()}function yye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vye(e,t){if(e){if(typeof e=="string")return m_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m_(e,t)}}function bye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xye(e){if(Array.isArray(e))return m_(e)}function m_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var SP=function(t){return t&&t.x===+t.x&&t.y===+t.y},wye=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){SP(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),SP(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},jp=function(t,r){var n=wye(t);r&&(n=[n.reduce(function(a,s){return[].concat(_P(a),_P(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},_ye=function(t,r,n){var i=jp(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(jp(r.reverse(),n).slice(1))},Sye=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,s=mye(t,pye);if(!r||!r.length)return null;var o=zt("recharts-polygon",n);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",c=_ye(r,i,a);return ce.createElement("g",{className:o},ce.createElement("path",xd({},xt(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?ce.createElement("path",xd({},xt(s,!0),{fill:"none",d:jp(r,a)})):null,l?ce.createElement("path",xd({},xt(s,!0),{fill:"none",d:jp(i,a)})):null)}var u=jp(r,a);return ce.createElement("path",xd({},xt(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:o,d:u}))};function g_(){return g_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g_.apply(this,arguments)}var nb=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,s=zt("recharts-dot",a);return r===+r&&n===+n&&i===+i?G.createElement("circle",g_({},xt(t,!1),Gy(t),{className:s,cx:r,cy:n,r:i})):null};function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}var jye=["x","y","top","left","width","height","className"];function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y_.apply(this,arguments)}function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){Aye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aye(e,t,r){return t=kye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kye(e){var t=Oye(e,"string");return Nm(t)=="symbol"?t:t+""}function Oye(e,t){if(Nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eye(e,t){if(e==null)return{};var r=Pye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Cye=function(t,r,n,i,a,s){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},Tye=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,p=t.height,h=p===void 0?0:p,y=t.className,g=Eye(t,jye),b=Nye({x:n,y:a,top:o,left:c,width:f,height:h},g);return!Ge(n)||!Ge(a)||!Ge(f)||!Ge(h)||!Ge(o)||!Ge(c)?null:ce.createElement("path",y_({},xt(b,!0),{className:zt("recharts-cross",y),d:Cye(n,a,f,h,o,c)}))},Iye=Z1,Lye=sM,Rye=Gs;function $ye(e,t){return e&&e.length?Iye(e,Rye(t),Lye):void 0}var Mye=$ye;const Dye=ir(Mye);var Bye=Z1,Fye=Gs,Uye=oM;function zye(e,t){return e&&e.length?Bye(e,Fye(t),Uye):void 0}var qye=zye;const Wye=ir(qye);var Hye=["cx","cy","angle","ticks","axisLine"],Vye=["ticks","tick","angle","tickFormatter","stroke"];function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Np.apply(this,arguments)}function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){ib(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AP(e,t){if(e==null)return{};var r=Gye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XM(n.key),n)}}function Yye(e,t,r){return t&&kP(e.prototype,t),r&&kP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xye(e,t,r){return t=Ov(t),Jye(e,YM()?Reflect.construct(t,r||[],Ov(e).constructor):t.apply(e,r))}function Jye(e,t){if(t&&(hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zye(e)}function Zye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YM=function(){return!!e})()}function Ov(e){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ov(e)}function Qye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v_(e,t)}function v_(e,t){return v_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v_(e,t)}function ib(e,t,r){return t=XM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XM(e){var t=eve(e,"string");return hf(t)=="symbol"?t:t+""}function eve(e,t){if(hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ab=function(e){function t(){return Kye(this,t),Xye(this,t,arguments)}return Qye(t,e),Yye(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return kr(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=Dye(o,function(u){return u.coordinate||0}),c=Wye(o,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=n.axisLine,c=AP(n,Hye),u=o.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),f=kr(i,a,u[0],s),p=kr(i,a,u[1],s),h=kc(kc(kc({},xt(c,!1)),{},{fill:"none"},xt(l,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return ce.createElement("line",Np({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,u=AP(i,Vye),f=this.getTickTextAnchor(),p=xt(u,!1),h=xt(s,!1),y=a.map(function(g,b){var v=n.getTickValueCoord(g),w=kc(kc(kc(kc({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(v.x,", ").concat(v.y,")")},p),{},{stroke:"none",fill:c},h),{},{index:b},v),{},{payload:g});return ce.createElement(Zt,Np({className:zt("recharts-polar-radius-axis-tick",RM(s)),key:"tick-".concat(g.coordinate)},cu(n.props,g,b)),t.renderTickItem(s,w,l?l(g.value,b):g.value))});return ce.createElement(Zt,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:ce.createElement(Zt,{className:zt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Rn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return ce.isValidElement(n)?s=ce.cloneElement(n,i):kt(n)?s=n(i):s=ce.createElement(uu,Np({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(G.PureComponent);ib(ab,"displayName","PolarRadiusAxis");ib(ab,"axisType","radiusAxis");ib(ab,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fc.apply(this,arguments)}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){sb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZM(n.key),n)}}function rve(e,t,r){return t&&EP(e.prototype,t),r&&EP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nve(e,t,r){return t=Ev(t),ive(e,JM()?Reflect.construct(t,r||[],Ev(e).constructor):t.apply(e,r))}function ive(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ave(e)}function ave(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JM=function(){return!!e})()}function Ev(e){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ev(e)}function sve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b_(e,t)}function b_(e,t){return b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},b_(e,t)}function sb(e,t,r){return t=ZM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZM(e){var t=ove(e,"string");return pf(t)=="symbol"?t:t+""}function ove(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lve=Math.PI/180,PP=1e-5,ob=function(e){function t(){return tve(this,t),nve(this,t,arguments)}return sve(t,e),rve(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,u=c||8,f=kr(a,s,o,n.coordinate),p=kr(a,s,o+(l==="inner"?-1:1)*u,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*lve),s;return a>PP?s=i==="outer"?"start":"end":a<-PP?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,o=n.axisLine,l=n.axisLineType,c=Oc(Oc({},xt(this.props,!1)),{},{fill:"none"},xt(o,!1));if(l==="circle")return ce.createElement(nb,Fc({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:s}));var u=this.props.ticks,f=u.map(function(p){return kr(i,a,s,p.coordinate)});return ce.createElement(Sye,Fc({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,u=xt(this.props,!1),f=xt(s,!1),p=Oc(Oc({},u),{},{fill:"none"},xt(o,!1)),h=a.map(function(y,g){var b=n.getTickLineCoord(y),v=n.getTickTextAnchor(y),w=Oc(Oc(Oc({textAnchor:v},u),{},{stroke:"none",fill:c},f),{},{index:g,payload:y,x:b.x2,y:b.y2});return ce.createElement(Zt,Fc({className:zt("recharts-polar-angle-axis-tick",RM(s)),key:"tick-".concat(y.coordinate)},cu(n.props,y,g)),o&&ce.createElement("line",Fc({className:"recharts-polar-angle-axis-tick-line"},p,b)),s&&t.renderTickItem(s,w,l?l(y.value,g):y.value))});return ce.createElement(Zt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:ce.createElement(Zt,{className:zt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return ce.isValidElement(n)?s=ce.cloneElement(n,i):kt(n)?s=n(i):s=ce.createElement(uu,Fc({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(G.PureComponent);sb(ob,"displayName","PolarAngleAxis");sb(ob,"axisType","angleAxis");sb(ob,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var cve=r$,uve=cve(Object.getPrototypeOf,Object),dve=uve,fve=Uo,hve=dve,pve=zo,mve="[object Object]",gve=Function.prototype,yve=Object.prototype,QM=gve.toString,vve=yve.hasOwnProperty,bve=QM.call(Object);function xve(e){if(!pve(e)||fve(e)!=mve)return!1;var t=hve(e);if(t===null)return!0;var r=vve.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&QM.call(r)==bve}var wve=xve;const _ve=ir(wve);var Sve=Uo,jve=zo,Nve="[object Boolean]";function Ave(e){return e===!0||e===!1||jve(e)&&Sve(e)==Nve}var kve=Ave;const Ove=ir(kve);function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pv.apply(this,arguments)}function Eve(e,t){return Ive(e)||Tve(e,t)||Cve(e,t)||Pve()}function Pve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cve(e,t){if(e){if(typeof e=="string")return CP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CP(e,t)}}function CP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Ive(e){if(Array.isArray(e))return e}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){Lve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lve(e,t,r){return t=Rve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rve(e){var t=$ve(e,"string");return Am(t)=="symbol"?t:t+""}function $ve(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LP=function(t,r,n,i,a){var s=n-i,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+a),o+="L ".concat(t+n-s/2-i,",").concat(r+a),o+="L ".concat(t,",").concat(r," Z"),o},Mve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dve=function(t){var r=IP(IP({},Mve),t),n=G.useRef(),i=G.useState(-1),a=Eve(i,2),s=a[0],o=a[1];G.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,y=r.animationEasing,g=r.animationDuration,b=r.animationBegin,v=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||p!==+p||u===0&&f===0||p===0)return null;var w=zt("recharts-trapezoid",h);return v?ce.createElement(Ws,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:p,x:l,y:c},duration:g,animationEasing:y,isActive:v},function(_){var N=_.upperWidth,S=_.lowerWidth,j=_.height,P=_.x,C=_.y;return ce.createElement(Ws,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,easing:y},ce.createElement("path",Pv({},xt(r,!0),{className:w,d:LP(P,C,N,S,j),ref:n})))}):ce.createElement("g",null,ce.createElement("path",Pv({},xt(r,!0),{className:w,d:LP(l,c,u,f,p)})))},Bve=["option","shapeType","propTransformer","activeClassName","isActive"];function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function Fve(e,t){if(e==null)return{};var r=Uve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(n){zve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zve(e,t,r){return t=qve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qve(e){var t=Wve(e,"string");return km(t)=="symbol"?t:t+""}function Wve(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hve(e,t){return Cv(Cv({},t),e)}function Vve(e,t){return e==="symbols"}function $P(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ce.createElement(_N,r);case"trapezoid":return ce.createElement(Dve,r);case"sector":return ce.createElement(DM,r);case"symbols":if(Vve(t))return ce.createElement(Uj,r);break;default:return null}}function Gve(e){return G.isValidElement(e)?e.props:e}function e7(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?Hve:n,a=e.activeClassName,s=a===void 0?"recharts-active-shape":a,o=e.isActive,l=Fve(e,Bve),c;if(G.isValidElement(t))c=G.cloneElement(t,Cv(Cv({},l),Gve(t)));else if(kt(t))c=t(l);else if(_ve(t)&&!Ove(t)){var u=i(t,l);c=ce.createElement($P,{shapeType:r,elementProps:u})}else{var f=l;c=ce.createElement($P,{shapeType:r,elementProps:f})}return o?ce.createElement(Zt,{className:s},c):c}function lb(e,t){return t!=null&&"trapezoids"in e.props}function cb(e,t){return t!=null&&"sectors"in e.props}function Om(e,t){return t!=null&&"points"in e.props}function Kve(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function Yve(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Xve(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function Jve(e,t){var r;return lb(e,t)?r=Kve:cb(e,t)?r=Yve:Om(e,t)&&(r=Xve),r}function Zve(e,t){var r;return lb(e,t)?r="trapezoids":cb(e,t)?r="sectors":Om(e,t)&&(r="points"),r}function Qve(e,t){if(lb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(cb(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Om(e,t)?t.payload:{}}function e1e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=Zve(r,t),a=Qve(r,t),s=n.filter(function(l,c){var u=rg(a,l),f=r.props[i].filter(function(y){var g=Jve(r,t);return g(y,t)}),p=r.props[i].indexOf(f[f.length-1]),h=c===p;return u&&h}),o=n.indexOf(s[s.length-1]);return o}var Q0;function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wd.apply(this,arguments)}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){Pa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r7(n.key),n)}}function r1e(e,t,r){return t&&DP(e.prototype,t),r&&DP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function n1e(e,t,r){return t=Tv(t),i1e(e,t7()?Reflect.construct(t,r||[],Tv(e).constructor):t.apply(e,r))}function i1e(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a1e(e)}function a1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t7=function(){return!!e})()}function Tv(e){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tv(e)}function s1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x_(e,t)}function x_(e,t){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},x_(e,t)}function Pa(e,t,r){return t=r7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r7(e){var t=o1e(e,"string");return mf(t)=="symbol"?t:t+""}function o1e(e,t){if(mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wo=function(e){function t(r){var n;return t1e(this,t),n=n1e(this,t,[r]),Pa(n,"pieRef",null),Pa(n,"sectorRefs",[]),Pa(n,"id",Vf("recharts-pie-")),Pa(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),kt(i)&&i()}),Pa(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),kt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return s1e(t,e),r1e(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,c=a.valueKey,u=xt(this.props,!1),f=xt(s,!1),p=xt(o,!1),h=s&&s.offsetRadius||20,y=n.map(function(g,b){var v=(g.startAngle+g.endAngle)/2,w=kr(g.cx,g.cy,g.outerRadius+h,v),_=Sr(Sr(Sr(Sr({},u),g),{},{stroke:"none"},f),{},{index:b,textAnchor:t.getTextAnchor(w.x,g.cx)},w),N=Sr(Sr(Sr(Sr({},u),g),{},{fill:"none",stroke:g.fill},p),{},{index:b,points:[kr(g.cx,g.cy,g.outerRadius,v),w]}),S=l;return Rt(l)&&Rt(c)?S="value":Rt(l)&&(S=c),ce.createElement(Zt,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(b)},o&&t.renderLabelLineItem(o,N,"line"),t.renderLabelItem(s,_,An(g,S)))});return ce.createElement(Zt,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return n.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(u),p=l&&i.hasActiveIndex()?l:null,h=f?s:p,y=Sr(Sr({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return ce.createElement(Zt,wd({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},cu(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),ce.createElement(e7,wd({option:h,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return ce.createElement(Ws,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,b=[],v=a&&a[0],w=v.startAngle;return a.forEach(function(_,N){var S=p&&p[N],j=N>0?la(_,"paddingAngle",0):0;if(S){var P=ea(S.endAngle-S.startAngle,_.endAngle-_.startAngle),C=Sr(Sr({},_),{},{startAngle:w+j,endAngle:w+P(g)+j});b.push(C),w=C.endAngle}else{var L=_.endAngle,F=_.startAngle,k=ea(0,L-F),E=k(g),$=Sr(Sr({},_),{},{startAngle:w+j,endAngle:w+E+j});b.push($),w=$.endAngle}}),ce.createElement(Zt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!rg(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,c=i.cx,u=i.cy,f=i.innerRadius,p=i.outerRadius,h=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!s||!s.length||!Ge(c)||!Ge(u)||!Ge(f)||!Ge(p))return null;var g=zt("recharts-pie",o);return ce.createElement(Zt,{tabIndex:this.props.rootTabIndex,className:g,ref:function(v){n.pieRef=v}},this.renderSectors(),l&&this.renderLabels(s),Rn.renderCallByParent(this.props,null,!1),(!h||y)&&Eo.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(ce.isValidElement(n))return ce.cloneElement(n,i);if(kt(n))return n(i);var s=zt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ce.createElement(Sv,wd({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(ce.isValidElement(n))return ce.cloneElement(n,i);var s=a;if(kt(n)&&(s=n(i),ce.isValidElement(s)))return s;var o=zt("recharts-pie-label-text",typeof n!="boolean"&&!kt(n)?n.className:"");return ce.createElement(uu,wd({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(G.PureComponent);Q0=Wo;Pa(Wo,"displayName","Pie");Pa(Wo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!_u.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Pa(Wo,"parseDeltaAngle",function(e,t){var r=mi(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Pa(Wo,"getRealPieData",function(e){var t=e.data,r=e.children,n=xt(e,!1),i=ca(r,Jm);return t&&t.length?t.map(function(a,s){return Sr(Sr(Sr({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Sr(Sr({},n),a.props)}):[]});Pa(Wo,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,s=LM(i,a),o=n+gi(e.cx,i,i/2),l=r+gi(e.cy,a,a/2),c=gi(e.innerRadius,s,0),u=gi(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:u,maxRadius:f}});Pa(Wo,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Sr(Sr({},t.type.defaultProps),t.props):t.props,i=Q0.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,o=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,f=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),y=Q0.parseCoordinateOfPie(n,r),g=Q0.parseDeltaAngle(s,o),b=Math.abs(g),v=c;Rt(c)&&Rt(f)?(fs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Rt(c)&&(fs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var w=i.filter(function(C){return An(C,v,0)!==0}).length,_=(b>=360?w:w-1)*l,N=b-w*h-_,S=i.reduce(function(C,L){var F=An(L,v,0);return C+(Ge(F)?F:0)},0),j;if(S>0){var P;j=i.map(function(C,L){var F=An(C,v,0),k=An(C,u,L),E=(Ge(F)?F:0)/S,$;L?$=P.endAngle+mi(g)*l*(F!==0?1:0):$=s;var M=$+mi(g)*((F!==0?h:0)+E*N),B=($+M)/2,q=(y.innerRadius+y.outerRadius)/2,J=[{name:k,value:F,payload:C,dataKey:v,type:p}],W=kr(y.cx,y.cy,q,B);return P=Sr(Sr(Sr({percent:E,cornerRadius:a,name:k,tooltipPayload:J,midAngle:B,middleRadius:q,tooltipPosition:W},C),y),{},{value:An(C,v),startAngle:$,endAngle:M,payload:C,paddingAngle:mi(g)*l}),P})}return Sr(Sr({},y),{},{sectors:j,data:i})});var l1e=Math.ceil,c1e=Math.max;function u1e(e,t,r,n){for(var i=-1,a=c1e(l1e((t-e)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=e,e+=r;return s}var d1e=u1e,f1e=w$,BP=1/0,h1e=17976931348623157e292;function p1e(e){if(!e)return e===0?e:0;if(e=f1e(e),e===BP||e===-BP){var t=e<0?-1:1;return t*h1e}return e===e?e:0}var n7=p1e,m1e=d1e,g1e=H1,p2=n7;function y1e(e){return function(t,r,n){return n&&typeof n!="number"&&g1e(t,r,n)&&(r=n=void 0),t=p2(t),r===void 0?(r=t,t=0):r=p2(r),n=n===void 0?t<r?1:-1:p2(n),m1e(t,r,n,e)}}var v1e=y1e,b1e=v1e,x1e=b1e(),w1e=x1e;const Iv=ir(w1e);function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function FP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(r),!0).forEach(function(n){i7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i7(e,t,r){return t=_1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _1e(e){var t=S1e(e,"string");return Em(t)=="symbol"?t:t+""}function S1e(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j1e=["Webkit","Moz","O","ms"],N1e=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=j1e.reduce(function(a,s){return UP(UP({},a),{},i7({},s+n,r))},{});return i[t]=r,i};function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lv.apply(this,arguments)}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function m2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){Ji(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s7(n.key),n)}}function k1e(e,t,r){return t&&qP(e.prototype,t),r&&qP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O1e(e,t,r){return t=Rv(t),E1e(e,a7()?Reflect.construct(t,r||[],Rv(e).constructor):t.apply(e,r))}function E1e(e,t){if(t&&(gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P1e(e)}function P1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a7=function(){return!!e})()}function Rv(e){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rv(e)}function C1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w_(e,t)}function w_(e,t){return w_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},w_(e,t)}function Ji(e,t,r){return t=s7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s7(e){var t=T1e(e,"string");return gf(t)=="symbol"?t:t+""}function T1e(e,t){if(gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var I1e=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=wp().domain(Iv(0,l)).range([a,a+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},WP=function(t){return t.changedTouches&&!!t.changedTouches.length},yf=function(e){function t(r){var n;return A1e(this,t),n=O1e(this,t,[r]),Ji(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ji(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ji(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),Ji(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ji(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ji(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ji(n,"handleSlideDragStart",function(i){var a=WP(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return C1e(t,e),k1e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(i,a),p=Math.max(i,a),h=t.getIndexInRange(s,f),y=t.getIndexInRange(s,p);return{startIndex:h-h%l,endIndex:y===u?u:y-y%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=An(a[n],o,n);return kt(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,p=l.startIndex,h=l.endIndex,y=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,c+u-f-o,c+u-f-s):g<0&&(g=Math.max(g,c-s,c-o));var b=this.getIndex({startX:s+g,endX:o+g});(b.startIndex!==p||b.endIndex!==h)&&y&&y(b),this.setState({startX:s+g,endX:o+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=WP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,f=u.x,p=u.width,h=u.travellerWidth,y=u.onChange,g=u.gap,b=u.data,v={startX:this.state.startX,endX:this.state.endX},w=n.pageX-a;w>0?w=Math.min(w,f+p-h-c):w<0&&(w=Math.max(w,f-c)),v[s]=c+w;var _=this.getIndex(v),N=_.startIndex,S=_.endIndex,j=function(){var C=b.length-1;return s==="startX"&&(o>l?N%g===0:S%g===0)||o<l&&S===C||s==="endX"&&(o>l?S%g===0:N%g===0)||o>l&&S===C};this.setState(Ji(Ji({},s,c+w),"brushMoveStartX",n.pageX),function(){y&&j()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],f=o.indexOf(u);if(f!==-1){var p=f+n;if(!(p===-1||p>=o.length)){var h=o[p];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(Ji({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return ce.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=G.Children.only(c);return f?ce.cloneElement(f,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,p=l.traveller,h=l.ariaLabel,y=l.data,g=l.startIndex,b=l.endIndex,v=Math.max(n,this.props.x),w=m2(m2({},xt(this.props,!1)),{},{x:v,y:c,width:u,height:f}),_=h||"Min value: ".concat((a=y[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=y[b])===null||s===void 0?void 0:s.name);return ce.createElement(Zt,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,w))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return ce.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,p=u.endX,h=5,y={pointerEvents:"none",fill:c};return ce.createElement(Zt,{className:"recharts-brush-texts"},ce.createElement(uu,Lv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:s+o/2},y),this.getTextOfTick(i)),ce.createElement(uu,Lv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+h,y:s+o/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,y=p.endX,g=p.isTextActive,b=p.isSlideMoving,v=p.isTravellerMoving,w=p.isTravellerFocused;if(!i||!i.length||!Ge(o)||!Ge(l)||!Ge(c)||!Ge(u)||c<=0||u<=0)return null;var _=zt("recharts-brush",a),N=ce.Children.count(s)===1,S=N1e("userSelect","none");return ce.createElement(Zt,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(h,y),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(y,"endX"),(g||b||v||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(a+o/2)-1;return ce.createElement(ce.Fragment,null,ce.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),ce.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),ce.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return ce.isValidElement(n)?a=ce.cloneElement(n,i):kt(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return m2({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?I1e({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var p=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(G.PureComponent);Ji(yf,"displayName","Brush");Ji(yf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var L1e=Kj;function R1e(e,t){var r;return L1e(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var $1e=R1e,M1e=KR,D1e=Gs,B1e=$1e,F1e=Mi,U1e=H1;function z1e(e,t,r){var n=F1e(e)?M1e:B1e;return r&&U1e(e,t,r)&&(t=void 0),n(e,D1e(t))}var q1e=z1e;const W1e=ir(q1e);var Fs=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},HP=g$;function H1e(e,t,r){t=="__proto__"&&HP?HP(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var V1e=H1e,G1e=V1e,K1e=p$,Y1e=Gs;function X1e(e,t){var r={};return t=Y1e(t),K1e(e,function(n,i,a){G1e(r,i,t(n,i,a))}),r}var J1e=X1e;const Z1e=ir(J1e);function Q1e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var ebe=Q1e,tbe=Kj;function rbe(e,t){var r=!0;return tbe(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var nbe=rbe,ibe=ebe,abe=nbe,sbe=Gs,obe=Mi,lbe=H1;function cbe(e,t,r){var n=obe(e)?ibe:abe;return r&&lbe(e,t,r)&&(t=void 0),n(e,sbe(t))}var ube=cbe;const o7=ir(ube);var dbe=["x","y"];function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function __(){return __=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},__.apply(this,arguments)}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){fbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fbe(e,t,r){return t=hbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hbe(e){var t=pbe(e,"string");return Pm(t)=="symbol"?t:t+""}function pbe(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mbe(e,t){if(e==null)return{};var r=gbe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ybe(e,t){var r=e.x,n=e.y,i=mbe(e,dbe),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||i.height),u=parseInt(c,10),f="".concat(t.width||i.width),p=parseInt(f,10);return Yh(Yh(Yh(Yh(Yh({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function GP(e){return ce.createElement(e7,__({shapeType:"rectangle",propTransformer:ybe,activeClassName:"recharts-active-bar"},e))}var vbe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=Ge(n)||zQ(n);return a?t(n,i):(a||fu(),r)}},bbe=["value","background"],l7;function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function xbe(e,t){if(e==null)return{};var r=wbe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$v.apply(this,arguments)}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){Nl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u7(n.key),n)}}function Sbe(e,t,r){return t&&YP(e.prototype,t),r&&YP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jbe(e,t,r){return t=Mv(t),Nbe(e,c7()?Reflect.construct(t,r||[],Mv(e).constructor):t.apply(e,r))}function Nbe(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Abe(e)}function Abe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c7=function(){return!!e})()}function Mv(e){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mv(e)}function kbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S_(e,t)}function S_(e,t){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S_(e,t)}function Nl(e,t,r){return t=u7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u7(e){var t=Obe(e,"string");return vf(t)=="symbol"?t:t+""}function Obe(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Au=function(e){function t(){var r;_be(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=jbe(this,t,[].concat(i)),Nl(r,"state",{isAnimationFinished:!1}),Nl(r,"id",Vf("recharts-bar-")),Nl(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Nl(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return kbe(t,e),Sbe(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=xt(this.props,!1);return n&&n.map(function(f,p){var h=p===l,y=h?c:s,g=dn(dn(dn({},u),f),{},{isActive:h,option:y,index:p,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ce.createElement(Zt,$v({className:"recharts-bar-rectangle"},cu(i.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),ce.createElement(GP,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,p=this.state.prevData;return ce.createElement(Ws,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var y=h.t,g=a.map(function(b,v){var w=p&&p[v];if(w){var _=ea(w.x,b.x),N=ea(w.y,b.y),S=ea(w.width,b.width),j=ea(w.height,b.height);return dn(dn({},b),{},{x:_(y),y:N(y),width:S(y),height:j(y)})}if(s==="horizontal"){var P=ea(0,b.height),C=P(y);return dn(dn({},b),{},{y:b.y+b.height-C,height:C})}var L=ea(0,b.width),F=L(y);return dn(dn({},b),{},{width:F})});return ce.createElement(Zt,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!rg(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=xt(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,p=xbe(c,bbe);if(!f)return null;var h=dn(dn(dn(dn(dn({},p),{},{fill:"#eee"},f),l),cu(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return ce.createElement(GP,$v({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=ca(u,ng);if(!f)return null;var p=c==="vertical"?s[0].height/2:s[0].width/2,h=function(b,v){var w=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:w,errorVal:An(b,v)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ce.createElement(Zt,y,f.map(function(g){return ce.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,p=n.height,h=n.isAnimationActive,y=n.background,g=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,v=zt("recharts-bar",s),w=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,N=w||_,S=Rt(g)?this.id:g;return ce.createElement(Zt,{className:v},w||_?ce.createElement("defs",null,ce.createElement("clipPath",{id:"clipPath-".concat(S)},ce.createElement("rect",{x:w?c:c-f/2,y:_?u:u-p/2,width:w?f:f*2,height:_?p:p*2}))):null,ce.createElement(Zt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,S),(!h||b)&&Eo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(G.PureComponent);l7=Au;Nl(Au,"displayName","Bar");Nl(Au,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!_u.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Nl(Au,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,p=e.offset,h=ome(n,r);if(!h)return null;var y=t.layout,g=r.type.defaultProps,b=g!==void 0?dn(dn({},g),r.props):r.props,v=b.dataKey,w=b.children,_=b.minPointSize,N=y==="horizontal"?s:a,S=c?N.scale.domain():null,j=pme({numericAxis:N}),P=ca(w,Jm),C=f.map(function(L,F){var k,E,$,M,B,q;c?k=lme(c[u+F],S):(k=An(L,v),Array.isArray(k)||(k=[j,k]));var J=vbe(_,l7.defaultProps.minPointSize)(k[1],F);if(y==="horizontal"){var W,Z=[s.scale(k[0]),s.scale(k[1])],D=Z[0],se=Z[1];E=DE({axis:a,ticks:o,bandSize:i,offset:h.offset,entry:L,index:F}),$=(W=se??D)!==null&&W!==void 0?W:void 0,M=h.size;var T=D-se;if(B=Number.isNaN(T)?0:T,q={x:E,y:s.y,width:M,height:s.height},Math.abs(J)>0&&Math.abs(B)<Math.abs(J)){var I=mi(B||J)*(Math.abs(J)-Math.abs(B));$-=I,B+=I}}else{var Y=[a.scale(k[0]),a.scale(k[1])],ie=Y[0],te=Y[1];if(E=ie,$=DE({axis:s,ticks:l,bandSize:i,offset:h.offset,entry:L,index:F}),M=te-ie,B=h.size,q={x:a.x,y:$,width:a.width,height:B},Math.abs(J)>0&&Math.abs(M)<Math.abs(J)){var de=mi(M||J)*(Math.abs(J)-Math.abs(M));M+=de}}return dn(dn(dn({},L),{},{x:E,y:$,width:M,height:B,value:c?k:k[1],payload:L,background:q},P&&P[F]&&P[F].props),{},{tooltipPayload:[TM(r,L)],tooltipPosition:{x:E+M/2,y:$+B/2}})});return dn({data:C,layout:y},p)});function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function Ebe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d7(n.key),n)}}function Pbe(e,t,r){return t&&XP(e.prototype,t),r&&XP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(r),!0).forEach(function(n){ub(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ub(e,t,r){return t=d7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d7(e){var t=Cbe(e,"string");return Cm(t)=="symbol"?t:t+""}function Cbe(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f7=function(t,r,n,i,a){var s=t.width,o=t.height,l=t.layout,c=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},p=!!Qi(c,Au);return u.reduce(function(h,y){var g=r[y],b=g.orientation,v=g.domain,w=g.padding,_=w===void 0?{}:w,N=g.mirror,S=g.reversed,j="".concat(b).concat(N?"Mirror":""),P,C,L,F,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var E=v[1]-v[0],$=1/0,M=g.categoricalDomain.sort(HQ);if(M.forEach(function(Y,ie){ie>0&&($=Math.min((Y||0)-(M[ie-1]||0),$))}),Number.isFinite($)){var B=$/E,q=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(P=B*q/2),g.padding==="no-gap"){var J=gi(t.barCategoryGap,B*q),W=B*q/2;P=W-J-(W-J)/q*J}}}i==="xAxis"?C=[n.left+(_.left||0)+(P||0),n.left+n.width-(_.right||0)-(P||0)]:i==="yAxis"?C=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(P||0),n.top+n.height-(_.bottom||0)-(P||0)]:C=g.range,S&&(C=[C[1],C[0]]);var Z=OM(g,a,p),D=Z.scale,se=Z.realScaleType;D.domain(v).range(C),EM(D);var T=PM(D,ss(ss({},g),{},{realScaleType:se}));i==="xAxis"?(k=b==="top"&&!N||b==="bottom"&&N,L=n.left,F=f[j]-k*g.height):i==="yAxis"&&(k=b==="left"&&!N||b==="right"&&N,L=f[j]-k*g.width,F=n.top);var I=ss(ss(ss({},g),T),{},{realScaleType:se,x:L,y:F,scale:D,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return I.bandSize=xv(I,T),!g.hide&&i==="xAxis"?f[j]+=(k?-1:1)*I.height:g.hide||(f[j]+=(k?-1:1)*I.width),ss(ss({},h),{},ub({},y,I))},{})},h7=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},Tbe=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return h7({x:r,y:n},{x:i,y:a})},p7=function(){function e(t){Ebe(this,e),this.scale=t}return Pbe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();ub(p7,"EPS",1e-4);var SN=function(t){var r=Object.keys(t).reduce(function(n,i){return ss(ss({},n),{},ub({},i,p7.create(t[i])))},{});return ss(ss({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return Z1e(i,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return o7(i,function(a,s){return r[s].isInRange(a)})}})};function Ibe(e){return(e%180+180)%180}var Lbe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Ibe(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},Rbe=Gs,$be=Ym,Mbe=q1;function Dbe(e){return function(t,r,n){var i=Object(t);if(!$be(t)){var a=Rbe(r);t=Mbe(t),r=function(o){return a(i[o],o,i)}}var s=e(t,r,n);return s>-1?i[a?t[s]:s]:void 0}}var Bbe=Dbe,Fbe=n7;function Ube(e){var t=Fbe(e),r=t%1;return t===t?r?t-r:t:0}var zbe=Ube,qbe=l$,Wbe=Gs,Hbe=zbe,Vbe=Math.max;function Gbe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:Hbe(r);return i<0&&(i=Vbe(n+i,0)),qbe(e,Wbe(t),i)}var Kbe=Gbe,Ybe=Bbe,Xbe=Kbe,Jbe=Ybe(Xbe),Zbe=Jbe;const Qbe=ir(Zbe);var exe=KZ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),jN=G.createContext(void 0),NN=G.createContext(void 0),m7=G.createContext(void 0),g7=G.createContext({}),y7=G.createContext(void 0),v7=G.createContext(0),b7=G.createContext(0),ZP=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,u=exe(a);return ce.createElement(jN.Provider,{value:n},ce.createElement(NN.Provider,{value:i},ce.createElement(g7.Provider,{value:a},ce.createElement(m7.Provider,{value:u},ce.createElement(y7.Provider,{value:s},ce.createElement(v7.Provider,{value:c},ce.createElement(b7.Provider,{value:l},o)))))))},txe=function(){return G.useContext(y7)},x7=function(t){var r=G.useContext(jN);r==null&&fu();var n=r[t];return n==null&&fu(),n},rxe=function(){var t=G.useContext(jN);return xl(t)},nxe=function(){var t=G.useContext(NN),r=Qbe(t,function(n){return o7(n.domain,Number.isFinite)});return r||xl(t)},w7=function(t){var r=G.useContext(NN);r==null&&fu();var n=r[t];return n==null&&fu(),n},ixe=function(){var t=G.useContext(m7);return t},axe=function(){return G.useContext(g7)},AN=function(){return G.useContext(b7)},kN=function(){return G.useContext(v7)};function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function sxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S7(n.key),n)}}function lxe(e,t,r){return t&&oxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cxe(e,t,r){return t=Dv(t),uxe(e,_7()?Reflect.construct(t,r||[],Dv(e).constructor):t.apply(e,r))}function uxe(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dxe(e)}function dxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_7=function(){return!!e})()}function Dv(e){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dv(e)}function fxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j_(e,t)}function j_(e,t){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j_(e,t)}function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function e6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(n){ON(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ON(e,t,r){return t=S7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S7(e){var t=hxe(e,"string");return bf(t)=="symbol"?t:t+""}function hxe(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pxe(e,t){return vxe(e)||yxe(e,t)||gxe(e,t)||mxe()}function mxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gxe(e,t){if(e){if(typeof e=="string")return t6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t6(e,t)}}function t6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function vxe(e){if(Array.isArray(e))return e}function N_(){return N_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N_.apply(this,arguments)}var bxe=function(t,r){var n;return ce.isValidElement(t)?n=ce.cloneElement(t,r):kt(t)?n=t(r):n=ce.createElement("line",N_({},r,{className:"recharts-reference-line-line"})),n},xxe=function(t,r,n,i,a,s,o,l,c){var u=a.x,f=a.y,p=a.width,h=a.height;if(n){var y=c.y,g=t.y.apply(y,{position:s});if(Fs(c,"discard")&&!t.y.isInRange(g))return null;var b=[{x:u+p,y:g},{x:u,y:g}];return l==="left"?b.reverse():b}if(r){var v=c.x,w=t.x.apply(v,{position:s});if(Fs(c,"discard")&&!t.x.isInRange(w))return null;var _=[{x:w,y:f+h},{x:w,y:f}];return o==="top"?_.reverse():_}if(i){var N=c.segment,S=N.map(function(j){return t.apply(j,{position:s})});return Fs(c,"discard")&&W1e(S,function(j){return!t.isInRange(j)})?null:S}return null};function wxe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=txe(),u=x7(i),f=w7(a),p=ixe();if(!c||!p)return null;fs(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=SN({x:u.scale,y:f.scale}),y=On(t),g=On(r),b=n&&n.length===2,v=xxe(h,y,g,b,p,e.position,u.orientation,f.orientation,e);if(!v)return null;var w=pxe(v,2),_=w[0],N=_.x,S=_.y,j=w[1],P=j.x,C=j.y,L=Fs(e,"hidden")?"url(#".concat(c,")"):void 0,F=e6(e6({clipPath:L},xt(e,!0)),{},{x1:N,y1:S,x2:P,y2:C});return ce.createElement(Zt,{className:zt("recharts-reference-line",o)},bxe(s,F),Rn.renderCallByParent(e,Tbe({x1:N,y1:S,x2:P,y2:C})))}var EN=function(e){function t(){return sxe(this,t),cxe(this,t,arguments)}return fxe(t,e),lxe(t,[{key:"render",value:function(){return ce.createElement(wxe,this.props)}}])}(ce.Component);ON(EN,"displayName","ReferenceLine");ON(EN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function A_(){return A_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A_.apply(this,arguments)}function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function r6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function n6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r6(Object(r),!0).forEach(function(n){db(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N7(n.key),n)}}function jxe(e,t,r){return t&&Sxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nxe(e,t,r){return t=Bv(t),Axe(e,j7()?Reflect.construct(t,r||[],Bv(e).constructor):t.apply(e,r))}function Axe(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kxe(e)}function kxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j7=function(){return!!e})()}function Bv(e){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bv(e)}function Oxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k_(e,t)}function k_(e,t){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k_(e,t)}function db(e,t,r){return t=N7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N7(e){var t=Exe(e,"string");return xf(t)=="symbol"?t:t+""}function Exe(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pxe=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,s=SN({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Fs(t,"discard")&&!s.isInRange(o)?null:o},fb=function(e){function t(){return _xe(this,t),Nxe(this,t,arguments)}return Oxe(t,e),jxe(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=On(i),u=On(a);if(fs(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=Pxe(this.props);if(!f)return null;var p=f.x,h=f.y,y=this.props,g=y.shape,b=y.className,v=Fs(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=n6(n6({clipPath:v},xt(this.props,!0)),{},{cx:p,cy:h});return ce.createElement(Zt,{className:zt("recharts-reference-dot",b)},t.renderDot(g,w),Rn.renderCallByParent(this.props,{x:p-s,y:h-s,width:2*s,height:2*s}))}}])}(ce.Component);db(fb,"displayName","ReferenceDot");db(fb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});db(fb,"renderDot",function(e,t){var r;return ce.isValidElement(e)?r=ce.cloneElement(e,t):kt(e)?r=e(t):r=ce.createElement(nb,A_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function O_(){return O_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O_.apply(this,arguments)}function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function i6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function a6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i6(Object(r),!0).forEach(function(n){hb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Txe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k7(n.key),n)}}function Ixe(e,t,r){return t&&Txe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lxe(e,t,r){return t=Fv(t),Rxe(e,A7()?Reflect.construct(t,r||[],Fv(e).constructor):t.apply(e,r))}function Rxe(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $xe(e)}function $xe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A7=function(){return!!e})()}function Fv(e){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fv(e)}function Mxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E_(e,t)}function E_(e,t){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},E_(e,t)}function hb(e,t,r){return t=k7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k7(e){var t=Dxe(e,"string");return wf(t)=="symbol"?t:t+""}function Dxe(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bxe=function(t,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var p=SN({x:u.scale,y:f.scale}),h={x:t?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},y={x:r?p.x.apply(o,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return Fs(a,"discard")&&(!p.isInRange(h)||!p.isInRange(y))?null:h7(h,y)},pb=function(e){function t(){return Cxe(this,t),Lxe(this,t,arguments)}return Mxe(t,e),Ixe(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;fs(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=On(i),p=On(a),h=On(s),y=On(o),g=this.props.shape;if(!f&&!p&&!h&&!y&&!g)return null;var b=Bxe(f,p,h,y,this.props);if(!b&&!g)return null;var v=Fs(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ce.createElement(Zt,{className:zt("recharts-reference-area",l)},t.renderRect(g,a6(a6({clipPath:v},xt(this.props,!0)),b)),Rn.renderCallByParent(this.props,b))}}])}(ce.Component);hb(pb,"displayName","ReferenceArea");hb(pb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});hb(pb,"renderRect",function(e,t){var r;return ce.isValidElement(e)?r=ce.cloneElement(e,t):kt(e)?r=e(t):r=ce.createElement(_N,O_({},t,{className:"recharts-reference-area-rect"})),r});function O7(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function Fxe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Lbe(n,r)}function Uxe(e,t,r){var n=r==="width",i=e.x,a=e.y,s=e.width,o=e.height;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Uv(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function zxe(e,t){return O7(e,t+1)}function qxe(e,t,r,n,i){for(var a=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,u=s,f=function(){var y=n==null?void 0:n[l];if(y===void 0)return{v:O7(n,c)};var g=l,b,v=function(){return b===void 0&&(b=r(y,g)),b},w=y.coordinate,_=l===0||Uv(e,w,v,u,o);_||(l=0,u=s,c+=1),_&&(u=w+e*(v()/2+i),l+=c)},p;c<=a.length;)if(p=f(),p)return p.v;return[]}function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function s6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s6(Object(r),!0).forEach(function(n){Wxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wxe(e,t,r){return t=Hxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hxe(e){var t=Vxe(e,"string");return Tm(t)=="symbol"?t:t+""}function Vxe(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gxe(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=t.start,l=t.end,c=function(p){var h=a[p],y,g=function(){return y===void 0&&(y=r(h,p)),y};if(p===s-1){var b=e*(h.coordinate+e*g()/2-l);a[p]=h=ni(ni({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate})}else a[p]=h=ni(ni({},h),{},{tickCoord:h.coordinate});var v=Uv(e,h.tickCoord,g,o,l);v&&(l=h.tickCoord-e*(g()/2+i),a[p]=ni(ni({},h),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function Kxe(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(a){var u=n[o-1],f=r(u,o-1),p=e*(u.coordinate+e*f/2-c);s[o-1]=u=ni(ni({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var h=Uv(e,u.tickCoord,function(){return f},l,c);h&&(c=u.tickCoord-e*(f/2+i),s[o-1]=ni(ni({},u),{},{isShow:!0}))}for(var y=a?o-1:o,g=function(w){var _=s[w],N,S=function(){return N===void 0&&(N=r(_,w)),N};if(w===0){var j=e*(_.coordinate-e*S()/2-l);s[w]=_=ni(ni({},_),{},{tickCoord:j<0?_.coordinate-j*e:_.coordinate})}else s[w]=_=ni(ni({},_),{},{tickCoord:_.coordinate});var P=Uv(e,_.tickCoord,S,l,c);P&&(l=_.tickCoord+e*(S()/2+i),s[w]=ni(ni({},_),{},{isShow:!0}))},b=0;b<y;b++)g(b);return s}function PN(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(Ge(l)||_u.isSsr)return zxe(i,typeof l=="number"&&Ge(l)?l:0);var p=[],h=o==="top"||o==="bottom"?"width":"height",y=u&&h==="width"?xp(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(_,N){var S=kt(c)?c(_.value,N):_.value;return h==="width"?Fxe(xp(S,{fontSize:t,letterSpacing:r}),y,f):xp(S,{fontSize:t,letterSpacing:r})[h]},b=i.length>=2?mi(i[1].coordinate-i[0].coordinate):1,v=Uxe(a,b,h);return l==="equidistantPreserveStart"?qxe(b,v,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=Kxe(b,v,g,i,s,l==="preserveStartEnd"):p=Gxe(b,v,g,i,s),p.filter(function(w){return w.isShow}))}var Yxe=["viewBox"],Xxe=["viewBox"],Jxe=["ticks"];function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_d.apply(this,arguments)}function o6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o6(Object(r),!0).forEach(function(n){CN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g2(e,t){if(e==null)return{};var r=Zxe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P7(n.key),n)}}function e2e(e,t,r){return t&&l6(e.prototype,t),r&&l6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function t2e(e,t,r){return t=zv(t),r2e(e,E7()?Reflect.construct(t,r||[],zv(e).constructor):t.apply(e,r))}function r2e(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n2e(e)}function n2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E7=function(){return!!e})()}function zv(e){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zv(e)}function i2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P_(e,t)}function P_(e,t){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},P_(e,t)}function CN(e,t,r){return t=P7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P7(e){var t=a2e(e,"string");return _f(t)=="symbol"?t:t+""}function a2e(e,t){if(_f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qf=function(e){function t(r){var n;return Qxe(this,t),n=t2e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return i2e(t,e),e2e(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=g2(n,Yxe),o=this.props,l=o.viewBox,c=g2(o,Xxe);return!Rd(a,l)||!Rd(s,c)||!Rd(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,p=i.tickMargin,h,y,g,b,v,w,_=f?-1:1,N=n.tickSize||u,S=Ge(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":h=y=n.coordinate,b=s+ +!f*l,g=b-_*N,w=g-_*p,v=S;break;case"left":g=b=n.coordinate,y=a+ +!f*o,h=y-_*N,v=h-_*p,w=S;break;case"right":g=b=n.coordinate,y=a+ +f*o,h=y+_*N,v=h+_*p,w=S;break;default:h=y=n.coordinate,b=s+ +f*l,g=b+_*N,w=g+_*p,v=S;break}return{line:{x1:h,y1:g,x2:y,y2:b},tick:{x:v,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=wn(wn(wn({},xt(this.props,!1)),xt(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);f=wn(wn({},f),{},{x1:i,y1:a+p*o,x2:i+s,y2:a+p*o})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=wn(wn({},f),{},{x1:i+h*s,y1:a,x2:i+h*s,y2:a+o})}return ce.createElement("line",_d({},f,{className:zt("recharts-cartesian-axis-line",la(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,p=o.unit,h=PN(wn(wn({},this.props),{},{ticks:n}),i,a),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),b=xt(this.props,!1),v=xt(u,!1),w=wn(wn({},b),{},{fill:"none"},xt(l,!1)),_=h.map(function(N,S){var j=s.getTickLineCoord(N),P=j.line,C=j.tick,L=wn(wn(wn(wn({textAnchor:y,verticalAnchor:g},b),{},{stroke:"none",fill:c},v),C),{},{index:S,payload:N,visibleTicksCount:h.length,tickFormatter:f});return ce.createElement(Zt,_d({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},cu(s.props,N,S)),l&&ce.createElement("line",_d({},w,P,{className:zt("recharts-cartesian-axis-tick-line",la(l,"className"))})),u&&t.renderTickItem(u,L,"".concat(kt(f)?f(N.value,S):N.value).concat(p||"")))});return ce.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,p=f.ticks,h=g2(f,Jxe),y=p;return kt(l)&&(y=p&&p.length>0?l(this.props):l(h)),s<=0||o<=0||!y||!y.length?null:ce.createElement(Zt,{className:zt("recharts-cartesian-axis",c),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Rn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=zt(i.className,"recharts-cartesian-axis-tick-value");return ce.isValidElement(n)?s=ce.cloneElement(n,wn(wn({},i),{},{className:o})):kt(n)?s=n(wn(wn({},i),{},{className:o})):s=ce.createElement(uu,_d({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(G.Component);CN(Qf,"displayName","CartesianAxis");CN(Qf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var s2e=["x1","y1","x2","y2","key"],o2e=["offset"];function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function c6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c6(Object(r),!0).forEach(function(n){l2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l2e(e,t,r){return t=c2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c2e(e){var t=u2e(e,"string");return hu(t)=="symbol"?t:t+""}function u2e(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yc(){return Yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yc.apply(this,arguments)}function u6(e,t){if(e==null)return{};var r=d2e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var f2e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,s=t.width,o=t.height,l=t.ry;return ce.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function C7(e,t){var r;if(ce.isValidElement(e))r=ce.cloneElement(e,t);else if(kt(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,s=t.y2,o=t.key,l=u6(t,s2e),c=xt(l,!1);c.offset;var u=u6(c,o2e);r=ce.createElement("line",Yc({},u,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function h2e(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=ai(ai({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return C7(i,c)});return ce.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function p2e(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=ai(ai({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return C7(i,c)});return ce.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function m2e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=o.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==u[0]&&u.unshift(0);var f=u.map(function(p,h){var y=!u[h+1],g=y?i+s-p:u[h+1]-p;if(g<=0)return null;var b=h%t.length;return ce.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:g,width:a,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ce.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function g2e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==u[0]&&u.unshift(0);var f=u.map(function(p,h){var y=!u[h+1],g=y?a+o-p:u[h+1]-p;if(g<=0)return null;var b=h%n.length;return ce.createElement("rect",{key:"react-".concat(h),x:p,y:s,width:g,height:l,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ce.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var y2e=function(t,r){var n=t.xAxis,i=t.width,a=t.height,s=t.offset;return kM(PN(ai(ai(ai({},Qf.defaultProps),n),{},{ticks:jo(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},v2e=function(t,r){var n=t.yAxis,i=t.width,a=t.height,s=t.offset;return kM(PN(ai(ai(ai({},Qf.defaultProps),n),{},{ticks:jo(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Ju={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ig(e){var t,r,n,i,a,s,o=AN(),l=kN(),c=axe(),u=ai(ai({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ju.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ju.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ju.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Ju.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Ju.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Ju.verticalFill,x:Ge(e.x)?e.x:c.left,y:Ge(e.y)?e.y:c.top,width:Ge(e.width)?e.width:c.width,height:Ge(e.height)?e.height:c.height}),f=u.x,p=u.y,h=u.width,y=u.height,g=u.syncWithTicks,b=u.horizontalValues,v=u.verticalValues,w=rxe(),_=nxe();if(!Ge(h)||h<=0||!Ge(y)||y<=0||!Ge(f)||f!==+f||!Ge(p)||p!==+p)return null;var N=u.verticalCoordinatesGenerator||y2e,S=u.horizontalCoordinatesGenerator||v2e,j=u.horizontalPoints,P=u.verticalPoints;if((!j||!j.length)&&kt(S)){var C=b&&b.length,L=S({yAxis:_?ai(ai({},_),{},{ticks:C?b:_.ticks}):void 0,width:o,height:l,offset:c},C?!0:g);fs(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(hu(L),"]")),Array.isArray(L)&&(j=L)}if((!P||!P.length)&&kt(N)){var F=v&&v.length,k=N({xAxis:w?ai(ai({},w),{},{ticks:F?v:w.ticks}):void 0,width:o,height:l,offset:c},F?!0:g);fs(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(hu(k),"]")),Array.isArray(k)&&(P=k)}return ce.createElement("g",{className:"recharts-cartesian-grid"},ce.createElement(f2e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ce.createElement(h2e,Yc({},u,{offset:c,horizontalPoints:j,xAxis:w,yAxis:_})),ce.createElement(p2e,Yc({},u,{offset:c,verticalPoints:P,xAxis:w,yAxis:_})),ce.createElement(m2e,Yc({},u,{horizontalPoints:j})),ce.createElement(g2e,Yc({},u,{verticalPoints:P})))}ig.displayName="CartesianGrid";var b2e=["type","layout","connectNulls","ref"],x2e=["key"];function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function d6(e,t){if(e==null)return{};var r=w2e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function w2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ap.apply(this,arguments)}function f6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f6(Object(r),!0).forEach(function(n){os(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zu(e){return N2e(e)||j2e(e)||S2e(e)||_2e()}function _2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S2e(e,t){if(e){if(typeof e=="string")return C_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C_(e,t)}}function j2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function N2e(e){if(Array.isArray(e))return C_(e)}function C_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I7(n.key),n)}}function k2e(e,t,r){return t&&h6(e.prototype,t),r&&h6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O2e(e,t,r){return t=qv(t),E2e(e,T7()?Reflect.construct(t,r||[],qv(e).constructor):t.apply(e,r))}function E2e(e,t){if(t&&(Sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P2e(e)}function P2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T7=function(){return!!e})()}function qv(e){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qv(e)}function C2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T_(e,t)}function T_(e,t){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T_(e,t)}function os(e,t,r){return t=I7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I7(e){var t=T2e(e,"string");return Sf(t)=="symbol"?t:t+""}function T2e(e,t){if(Sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ul=function(e){function t(){var r;A2e(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=O2e(this,t,[].concat(i)),os(r,"state",{isAnimationFinished:!0,totalLength:0}),os(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),os(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(v,w){return v+w});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,p=o-s,h=[],y=0,g=0;y<l.length;g+=l[y],++y)if(g+l[y]>f){h=[].concat(Zu(l.slice(0,y)),[f-g]);break}var b=h.length%2===0?[0,p]:[p];return[].concat(Zu(t.repeat(l,u)),Zu(h),b).map(function(v){return"".concat(v,"px")}).join(", ")}),os(r,"id",Vf("recharts-line-")),os(r,"pathRef",function(s){r.mainCurve=s}),os(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),os(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return C2e(t,e),k2e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=ca(u,ng);if(!f)return null;var p=function(g,b){return{x:g.x,y:g.y,value:g.value,errorVal:An(g.payload,b)}},h={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ce.createElement(Zt,h,f.map(function(y){return ce.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=xt(this.props,!1),p=xt(l,!0),h=c.map(function(g,b){var v=Xi(Xi(Xi({key:"dot-".concat(b),r:3},f),p),{},{index:b,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:c});return t.renderDotItem(l,v)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return ce.createElement(Zt,Ap({className:"recharts-line-dots",key:"dots"},y),h)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=d6(o,b2e),p=Xi(Xi(Xi({},xt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return ce.createElement(Sv,Ap({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,p=s.animationEasing,h=s.animationId,y=s.animateNewValues,g=s.width,b=s.height,v=this.state,w=v.prevPoints,_=v.totalLength;return ce.createElement(Ws,{begin:u,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var S=N.t;if(w){var j=w.length/o.length,P=o.map(function(E,$){var M=Math.floor($*j);if(w[M]){var B=w[M],q=ea(B.x,E.x),J=ea(B.y,E.y);return Xi(Xi({},E),{},{x:q(S),y:J(S)})}if(y){var W=ea(g*2,E.x),Z=ea(b/2,E.y);return Xi(Xi({},E),{},{x:W(S),y:Z(S)})}return Xi(Xi({},E),{},{x:E.x,y:E.y})});return a.renderCurveStatically(P,n,i)}var C=ea(0,_),L=C(S),F;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});F=a.getStrokeDasharray(L,_,k)}else F=a.generateSimpleStrokeDasharray(_,L);return a.renderCurveStatically(o,n,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!rg(c,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.xAxis,u=i.yAxis,f=i.top,p=i.left,h=i.width,y=i.height,g=i.isAnimationActive,b=i.id;if(a||!o||!o.length)return null;var v=this.state.isAnimationFinished,w=o.length===1,_=zt("recharts-line",l),N=c&&c.allowDataOverflow,S=u&&u.allowDataOverflow,j=N||S,P=Rt(b)?this.id:b,C=(n=xt(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},L=C.r,F=L===void 0?3:L,k=C.strokeWidth,E=k===void 0?2:k,$=eee(s)?s:{},M=$.clipDot,B=M===void 0?!0:M,q=F*2+E;return ce.createElement(Zt,{className:_},N||S?ce.createElement("defs",null,ce.createElement("clipPath",{id:"clipPath-".concat(P)},ce.createElement("rect",{x:N?p:p-h/2,y:S?f:f-y/2,width:N?h:h*2,height:S?y:y*2})),!B&&ce.createElement("clipPath",{id:"clipPath-dots-".concat(P)},ce.createElement("rect",{x:p-q/2,y:f-q/2,width:h+q,height:y+q}))):null,!w&&this.renderCurve(j,P),this.renderErrorBar(j,P),(w||s)&&this.renderDots(j,B,P),(!g||v)&&Eo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Zu(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(Zu(s),Zu(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(ce.isValidElement(n))a=ce.cloneElement(n,i);else if(kt(n))a=n(i);else{var s=i.key,o=d6(i,x2e),l=zt("recharts-line-dot",typeof n!="boolean"?n.className:"");a=ce.createElement(nb,Ap({key:s},o,{className:l}))}return a}}])}(G.PureComponent);os(Ul,"displayName","Line");os(Ul,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!_u.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});os(Ul,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,f=l.map(function(p,h){var y=An(p,s);return u==="horizontal"?{x:ME({axis:r,ticks:i,bandSize:o,entry:p,index:h}),y:Rt(y)?null:n.scale(y),value:y,payload:p}:{x:Rt(y)?null:r.scale(y),y:ME({axis:n,ticks:a,bandSize:o,entry:p,index:h}),value:y,payload:p}});return Xi({points:f,layout:u},c)});function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function I2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$7(n.key),n)}}function R2e(e,t,r){return t&&L2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $2e(e,t,r){return t=Wv(t),M2e(e,L7()?Reflect.construct(t,r||[],Wv(e).constructor):t.apply(e,r))}function M2e(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D2e(e)}function D2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L7=function(){return!!e})()}function Wv(e){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wv(e)}function B2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I_(e,t)}function I_(e,t){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I_(e,t)}function R7(e,t,r){return t=$7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $7(e){var t=F2e(e,"string");return jf(t)=="symbol"?t:t+""}function F2e(e,t){if(jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L_.apply(this,arguments)}function U2e(e){var t=e.xAxisId,r=AN(),n=kN(),i=x7(t);return i==null?null:G.createElement(Qf,L_({},i,{className:zt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return jo(s,!0)}}))}var Ql=function(e){function t(){return I2e(this,t),$2e(this,t,arguments)}return B2e(t,e),R2e(t,[{key:"render",value:function(){return G.createElement(U2e,this.props)}}])}(G.Component);R7(Ql,"displayName","XAxis");R7(Ql,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function z2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B7(n.key),n)}}function W2e(e,t,r){return t&&q2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H2e(e,t,r){return t=Hv(t),V2e(e,M7()?Reflect.construct(t,r||[],Hv(e).constructor):t.apply(e,r))}function V2e(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G2e(e)}function G2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M7=function(){return!!e})()}function Hv(e){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hv(e)}function K2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R_(e,t)}function R_(e,t){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R_(e,t)}function D7(e,t,r){return t=B7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B7(e){var t=Y2e(e,"string");return Nf(t)=="symbol"?t:t+""}function Y2e(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$_.apply(this,arguments)}var X2e=function(t){var r=t.yAxisId,n=AN(),i=kN(),a=w7(r);return a==null?null:G.createElement(Qf,$_({},a,{className:zt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return jo(o,!0)}}))},ec=function(e){function t(){return z2e(this,t),H2e(this,t,arguments)}return K2e(t,e),W2e(t,[{key:"render",value:function(){return G.createElement(X2e,this.props)}}])}(G.Component);D7(ec,"displayName","YAxis");D7(ec,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function p6(e){return ewe(e)||Q2e(e)||Z2e(e)||J2e()}function J2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z2e(e,t){if(e){if(typeof e=="string")return M_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M_(e,t)}}function Q2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ewe(e){if(Array.isArray(e))return M_(e)}function M_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var D_=function(t,r,n,i,a){var s=ca(t,EN),o=ca(t,fb),l=[].concat(p6(s),p6(o)),c=ca(t,pb),u="".concat(i,"Id"),f=i[0],p=r;if(l.length&&(p=l.reduce(function(g,b){if(b.props[u]===n&&Fs(b.props,"extendDomain")&&Ge(b.props[f])){var v=b.props[f];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},p)),c.length){var h="".concat(f,"1"),y="".concat(f,"2");p=c.reduce(function(g,b){if(b.props[u]===n&&Fs(b.props,"extendDomain")&&Ge(b.props[h])&&Ge(b.props[y])){var v=b.props[h],w=b.props[y];return[Math.min(g[0],v,w),Math.max(g[1],v,w)]}return g},p)}return a&&a.length&&(p=a.reduce(function(g,b){return Ge(b)?[Math.min(g[0],b),Math.max(g[1],b)]:g},p)),p},F7={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,p),y=r?r+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],h]:l._events[y].push(h):(l._events[y]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,y=new Array(h);p<h;p++)y[p]=f[p].fn;return y},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,p,h,y){var g=r?r+c:c;if(!this._events[g])return!1;var b=this._events[g],v=arguments.length,w,_;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,f),!0;case 4:return b.fn.call(b.context,u,f,p),!0;case 5:return b.fn.call(b.context,u,f,p,h),!0;case 6:return b.fn.call(b.context,u,f,p,h,y),!0}for(_=1,w=new Array(v-1);_<v;_++)w[_-1]=arguments[_];b.fn.apply(b.context,w)}else{var N=b.length,S;for(_=0;_<N;_++)switch(b[_].once&&this.removeListener(c,b[_].fn,void 0,!0),v){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,u);break;case 3:b[_].fn.call(b[_].context,u,f);break;case 4:b[_].fn.call(b[_].context,u,f,p);break;default:if(!w)for(S=1,w=new Array(v-1);S<v;S++)w[S-1]=arguments[S];b[_].fn.apply(b[_].context,w)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,p){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var y=this._events[h];if(y.fn)y.fn===u&&(!p||y.once)&&(!f||y.context===f)&&s(this,h);else{for(var g=0,b=[],v=y.length;g<v;g++)(y[g].fn!==u||p&&!y[g].once||f&&y[g].context!==f)&&b.push(y[g]);b.length?this._events[h]=b.length===1?b[0]:b:s(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(F7);var twe=F7.exports;const rwe=ir(twe);var y2=new rwe,v2="recharts.syncMouseEvents";function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function nwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U7(n.key),n)}}function awe(e,t,r){return t&&iwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b2(e,t,r){return t=U7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U7(e){var t=swe(e,"string");return Im(t)=="symbol"?t:t+""}function swe(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var owe=function(){function e(){nwe(this,e),b2(this,"activeIndex",0),b2(this,"coordinateList",[]),b2(this,"layout","horizontal")}return awe(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,p=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function lwe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&Ge(n)&&Ge(i))return!0}return!1}function cwe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function z7(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,s=kr(t,r,n,i),o=kr(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function uwe(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,p=kr(o,l,c,f),h=kr(o,l,u,f);n=p.x,i=p.y,a=h.x,s=h.y}else return z7(t);return[{x:n,y:i},{x:a,y:s}]}function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function m6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function O0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m6(Object(r),!0).forEach(function(n){dwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dwe(e,t,r){return t=fwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fwe(e){var t=hwe(e,"string");return Lm(t)=="symbol"?t:t+""}function hwe(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pwe(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,h=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!a||!s||p!=="ScatterChart"&&i!=="axis")return null;var y,g=Sv;if(p==="ScatterChart")y=s,g=Tye;else if(p==="BarChart")y=cwe(f,s,l,u),g=_N;else if(f==="radial"){var b=z7(s),v=b.cx,w=b.cy,_=b.radius,N=b.startAngle,S=b.endAngle;y={cx:v,cy:w,startAngle:N,endAngle:S,innerRadius:_,outerRadius:_},g=DM}else y={points:uwe(f,s,l)},g=Sv;var j=O0(O0(O0(O0({stroke:"#ccc",pointerEvents:"none"},l),y),xt(h,!1)),{},{payload:o,payloadIndex:c,className:zt("recharts-tooltip-cursor",h.className)});return G.isValidElement(h)?G.cloneElement(h,j):G.createElement(g,j)}var mwe=["item"],gwe=["children","className","width","height","style","compact","title","desc"];function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function Sd(){return Sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sd.apply(this,arguments)}function g6(e,t){return bwe(e)||vwe(e,t)||W7(e,t)||ywe()}function ywe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function bwe(e){if(Array.isArray(e))return e}function y6(e,t){if(e==null)return{};var r=xwe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _we(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H7(n.key),n)}}function Swe(e,t,r){return t&&_we(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jwe(e,t,r){return t=Vv(t),Nwe(e,q7()?Reflect.construct(t,r||[],Vv(e).constructor):t.apply(e,r))}function Nwe(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Awe(e)}function Awe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q7=function(){return!!e})()}function Vv(e){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vv(e)}function kwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B_(e,t)}function B_(e,t){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},B_(e,t)}function kf(e){return Pwe(e)||Ewe(e)||W7(e)||Owe()}function Owe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W7(e,t){if(e){if(typeof e=="string")return F_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F_(e,t)}}function Ewe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pwe(e){if(Array.isArray(e))return F_(e)}function F_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v6(Object(r),!0).forEach(function(n){St(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function St(e,t,r){return t=H7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H7(e){var t=Cwe(e,"string");return Af(t)=="symbol"?t:t+""}function Cwe(e,t){if(Af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Twe={xAxis:["bottom","top"],yAxis:["left","right"]},Iwe={width:"100%",height:"100%"},V7={x:0,y:0};function E0(e){return e}var Lwe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Rwe=function(t,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,o=i.radius;return Pe(Pe(Pe({},i),kr(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return Pe(Pe(Pe({},i),kr(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return V7},mb=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(kf(o),kf(c)):o},[]);return s.length>0?s:t&&t.length&&Ge(i)&&Ge(a)?t.slice(i,a+1):[]};function G7(e){return e==="number"?[0,"auto"]:void 0}var U_=function(t,r,n,i){var a=t.graphicalItems,s=t.tooltipAxis,o=mb(r,t);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var h=f===void 0?o:f;p=Vy(h,s.dataKey,i)}else p=f&&f[n]||o[n];return p?[].concat(kf(l),[TM(c,p)]):l},[])},b6=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},s=Lwe(a,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=tme(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,p=U_(t,r,u,f),h=Rwe(n,o,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},$we=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,p=t.stackOffset,h=AM(u,a);return n.reduce(function(y,g){var b,v=g.type.defaultProps!==void 0?Pe(Pe({},g.type.defaultProps),g.props):g.props,w=v.type,_=v.dataKey,N=v.allowDataOverflow,S=v.allowDuplicatedCategory,j=v.scale,P=v.ticks,C=v.includeHidden,L=v[s];if(y[L])return y;var F=mb(t.data,{graphicalItems:i.filter(function(T){var I,Y=s in T.props?T.props[s]:(I=T.type.defaultProps)===null||I===void 0?void 0:I[s];return Y===L}),dataStartIndex:l,dataEndIndex:c}),k=F.length,E,$,M;lwe(v.domain,N,w)&&(E=t_(v.domain,null,N),h&&(w==="number"||j!=="auto")&&(M=_p(F,_,"category")));var B=G7(w);if(!E||E.length===0){var q,J=(q=v.domain)!==null&&q!==void 0?q:B;if(_){if(E=_p(F,_,w),w==="category"&&h){var W=WQ(E);S&&W?($=E,E=Iv(0,k)):S||(E=UE(J,E,g).reduce(function(T,I){return T.indexOf(I)>=0?T:[].concat(kf(T),[I])},[]))}else if(w==="category")S?E=E.filter(function(T){return T!==""&&!Rt(T)}):E=UE(J,E,g).reduce(function(T,I){return T.indexOf(I)>=0||I===""||Rt(I)?T:[].concat(kf(T),[I])},[]);else if(w==="number"){var Z=sme(F,i.filter(function(T){var I,Y,ie=s in T.props?T.props[s]:(I=T.type.defaultProps)===null||I===void 0?void 0:I[s],te="hide"in T.props?T.props.hide:(Y=T.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return ie===L&&(C||!te)}),_,a,u);Z&&(E=Z)}h&&(w==="number"||j!=="auto")&&(M=_p(F,_,"category"))}else h?E=Iv(0,k):o&&o[L]&&o[L].hasStack&&w==="number"?E=p==="expand"?[0,1]:CM(o[L].stackGroups,l,c):E=NM(F,i.filter(function(T){var I=s in T.props?T.props[s]:T.type.defaultProps[s],Y="hide"in T.props?T.props.hide:T.type.defaultProps.hide;return I===L&&(C||!Y)}),w,u,!0);if(w==="number")E=D_(f,E,L,a,P),J&&(E=t_(J,E,N));else if(w==="category"&&J){var D=J,se=E.every(function(T){return D.indexOf(T)>=0});se&&(E=D)}}return Pe(Pe({},y),{},St({},L,Pe(Pe({},v),{},{axisType:a,domain:E,categoricalDomain:M,duplicateDomain:$,originalDomain:(b=v.domain)!==null&&b!==void 0?b:B,isCategorical:h,layout:u})))},{})},Mwe=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,p=mb(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),h=p.length,y=AM(u,a),g=-1;return n.reduce(function(b,v){var w=v.type.defaultProps!==void 0?Pe(Pe({},v.type.defaultProps),v.props):v.props,_=w[s],N=G7("number");if(!b[_]){g++;var S;return y?S=Iv(0,h):o&&o[_]&&o[_].hasStack?(S=CM(o[_].stackGroups,l,c),S=D_(f,S,_,a)):(S=t_(N,NM(p,n.filter(function(j){var P,C,L=s in j.props?j.props[s]:(P=j.type.defaultProps)===null||P===void 0?void 0:P[s],F="hide"in j.props?j.props.hide:(C=j.type.defaultProps)===null||C===void 0?void 0:C.hide;return L===_&&!F}),"number",u),i.defaultProps.allowDataOverflow),S=D_(f,S,_,a)),Pe(Pe({},b),{},St({},_,Pe(Pe({axisType:a},i.defaultProps),{},{hide:!0,orientation:la(Twe,"".concat(a,".").concat(g%2),null),domain:S,originalDomain:N,isCategorical:y,layout:u})))}return b},{})},Dwe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,f="".concat(i,"Id"),p=ca(u,a),h={};return p&&p.length?h=$we(t,{axes:p,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(h=Mwe(t,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),h},Bwe=function(t){var r=xl(t),n=jo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Yj(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:xv(r,n)}},x6=function(t){var r=t.children,n=t.defaultShowTooltip,i=Qi(r,yf),a=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Fwe=function(t){return!t||!t.length?!1:t.some(function(r){var n=ko(r&&r.type);return n&&n.indexOf("Bar")>=0})},w6=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Uwe=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,s=a===void 0?{}:a,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,p=n.margin||{},h=Qi(f,yf),y=Qi(f,Ds),g=Object.keys(l).reduce(function(S,j){var P=l[j],C=P.orientation;return!P.mirror&&!P.hide?Pe(Pe({},S),{},St({},C,S[C]+P.width)):S},{left:p.left||0,right:p.right||0}),b=Object.keys(s).reduce(function(S,j){var P=s[j],C=P.orientation;return!P.mirror&&!P.hide?Pe(Pe({},S),{},St({},C,la(S,"".concat(C))+P.height)):S},{top:p.top||0,bottom:p.bottom||0}),v=Pe(Pe({},b),g),w=v.bottom;h&&(v.bottom+=h.props.height||yf.defaultProps.height),y&&r&&(v=ime(v,i,n,r));var _=c-v.left-v.right,N=u-v.top-v.bottom;return Pe(Pe({brushBottom:w},v),{},{width:Math.max(_,0),height:Math.max(N,0)})},zwe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},TN=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,p=function(v,w){var _=w.graphicalItems,N=w.stackGroups,S=w.offset,j=w.updateId,P=w.dataStartIndex,C=w.dataEndIndex,L=v.barSize,F=v.layout,k=v.barGap,E=v.barCategoryGap,$=v.maxBarSize,M=w6(F),B=M.numericAxisName,q=M.cateAxisName,J=Fwe(_),W=[];return _.forEach(function(Z,D){var se=mb(v.data,{graphicalItems:[Z],dataStartIndex:P,dataEndIndex:C}),T=Z.type.defaultProps!==void 0?Pe(Pe({},Z.type.defaultProps),Z.props):Z.props,I=T.dataKey,Y=T.maxBarSize,ie=T["".concat(B,"Id")],te=T["".concat(q,"Id")],de={},ve=l.reduce(function(Be,Qe){var Je=w["".concat(Qe.axisType,"Map")],Mt=T["".concat(Qe.axisType,"Id")];Je&&Je[Mt]||Qe.axisType==="zAxis"||fu();var be=Je[Mt];return Pe(Pe({},Be),{},St(St({},Qe.axisType,be),"".concat(Qe.axisType,"Ticks"),jo(be)))},de),oe=ve[q],ye=ve["".concat(q,"Ticks")],ke=N&&N[ie]&&N[ie].hasStack&&mme(Z,N[ie].stackGroups),ee=ko(Z.type).indexOf("Bar")>=0,he=xv(oe,ye),ue=[],X=J&&rme({barSize:L,stackGroups:N,totalSize:zwe(ve,q)});if(ee){var Me,ze,He=Rt(Y)?$:Y,Ne=(Me=(ze=xv(oe,ye,!0))!==null&&ze!==void 0?ze:He)!==null&&Me!==void 0?Me:0;ue=nme({barGap:k,barCategoryGap:E,bandSize:Ne!==he?Ne:he,sizeList:X[te],maxBarSize:He}),Ne!==he&&(ue=ue.map(function(Be){return Pe(Pe({},Be),{},{position:Pe(Pe({},Be.position),{},{offset:Be.position.offset-Ne/2})})}))}var Ue=Z&&Z.type&&Z.type.getComposedData;Ue&&W.push({props:Pe(Pe({},Ue(Pe(Pe({},ve),{},{displayedData:se,props:v,dataKey:I,item:Z,bandSize:he,barPosition:ue,offset:S,stackedData:ke,layout:F,dataStartIndex:P,dataEndIndex:C}))),{},St(St(St({key:Z.key||"item-".concat(D)},B,ve[B]),q,ve[q]),"animationId",j)),childIndex:nee(Z,v.children),item:Z})}),W},h=function(v,w){var _=v.props,N=v.dataStartIndex,S=v.dataEndIndex,j=v.updateId;if(!L3({props:_}))return null;var P=_.children,C=_.layout,L=_.stackOffset,F=_.data,k=_.reverseStackOrder,E=w6(C),$=E.numericAxisName,M=E.cateAxisName,B=ca(P,n),q=hme(F,B,"".concat($,"Id"),"".concat(M,"Id"),L,k),J=l.reduce(function(T,I){var Y="".concat(I.axisType,"Map");return Pe(Pe({},T),{},St({},Y,Dwe(_,Pe(Pe({},I),{},{graphicalItems:B,stackGroups:I.axisType===$&&q,dataStartIndex:N,dataEndIndex:S}))))},{}),W=Uwe(Pe(Pe({},J),{},{props:_,graphicalItems:B}),w==null?void 0:w.legendBBox);Object.keys(J).forEach(function(T){J[T]=u(_,J[T],W,T.replace("Map",""),r)});var Z=J["".concat(M,"Map")],D=Bwe(Z),se=p(_,Pe(Pe({},J),{},{dataStartIndex:N,dataEndIndex:S,updateId:j,graphicalItems:B,stackGroups:q,offset:W}));return Pe(Pe({formattedGraphicalItems:se,graphicalItems:B,offset:W,stackGroups:q},D),J)},y=function(b){function v(w){var _,N,S;return wwe(this,v),S=jwe(this,v,[w]),St(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),St(S,"accessibilityManager",new owe),St(S,"handleLegendBBoxUpdate",function(j){if(j){var P=S.state,C=P.dataStartIndex,L=P.dataEndIndex,F=P.updateId;S.setState(Pe({legendBBox:j},h({props:S.props,dataStartIndex:C,dataEndIndex:L,updateId:F},Pe(Pe({},S.state),{},{legendBBox:j}))))}}),St(S,"handleReceiveSyncEvent",function(j,P,C){if(S.props.syncId===j){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(P)}}),St(S,"handleBrushChange",function(j){var P=j.startIndex,C=j.endIndex;if(P!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var L=S.state.updateId;S.setState(function(){return Pe({dataStartIndex:P,dataEndIndex:C},h({props:S.props,dataStartIndex:P,dataEndIndex:C,updateId:L},S.state))}),S.triggerSyncEvent({dataStartIndex:P,dataEndIndex:C})}}),St(S,"handleMouseEnter",function(j){var P=S.getMouseInfo(j);if(P){var C=Pe(Pe({},P),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var L=S.props.onMouseEnter;kt(L)&&L(C,j)}}),St(S,"triggeredAfterMouseMove",function(j){var P=S.getMouseInfo(j),C=P?Pe(Pe({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var L=S.props.onMouseMove;kt(L)&&L(C,j)}),St(S,"handleItemMouseEnter",function(j){S.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),St(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),St(S,"handleMouseMove",function(j){j.persist(),S.throttleTriggeredAfterMouseMove(j)}),St(S,"handleMouseLeave",function(j){S.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};S.setState(P),S.triggerSyncEvent(P);var C=S.props.onMouseLeave;kt(C)&&C(P,j)}),St(S,"handleOuterEvent",function(j){var P=ree(j),C=la(S.props,"".concat(P));if(P&&kt(C)){var L,F;/.*touch.*/i.test(P)?F=S.getMouseInfo(j.changedTouches[0]):F=S.getMouseInfo(j),C((L=F)!==null&&L!==void 0?L:{},j)}}),St(S,"handleClick",function(j){var P=S.getMouseInfo(j);if(P){var C=Pe(Pe({},P),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var L=S.props.onClick;kt(L)&&L(C,j)}}),St(S,"handleMouseDown",function(j){var P=S.props.onMouseDown;if(kt(P)){var C=S.getMouseInfo(j);P(C,j)}}),St(S,"handleMouseUp",function(j){var P=S.props.onMouseUp;if(kt(P)){var C=S.getMouseInfo(j);P(C,j)}}),St(S,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),St(S,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.handleMouseDown(j.changedTouches[0])}),St(S,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.handleMouseUp(j.changedTouches[0])}),St(S,"handleDoubleClick",function(j){var P=S.props.onDoubleClick;if(kt(P)){var C=S.getMouseInfo(j);P(C,j)}}),St(S,"handleContextMenu",function(j){var P=S.props.onContextMenu;if(kt(P)){var C=S.getMouseInfo(j);P(C,j)}}),St(S,"triggerSyncEvent",function(j){S.props.syncId!==void 0&&y2.emit(v2,S.props.syncId,j,S.eventEmitterSymbol)}),St(S,"applySyncEvent",function(j){var P=S.props,C=P.layout,L=P.syncMethod,F=S.state.updateId,k=j.dataStartIndex,E=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)S.setState(Pe({dataStartIndex:k,dataEndIndex:E},h({props:S.props,dataStartIndex:k,dataEndIndex:E,updateId:F},S.state)));else if(j.activeTooltipIndex!==void 0){var $=j.chartX,M=j.chartY,B=j.activeTooltipIndex,q=S.state,J=q.offset,W=q.tooltipTicks;if(!J)return;if(typeof L=="function")B=L(W,j);else if(L==="value"){B=-1;for(var Z=0;Z<W.length;Z++)if(W[Z].value===j.activeLabel){B=Z;break}}var D=Pe(Pe({},J),{},{x:J.left,y:J.top}),se=Math.min($,D.x+D.width),T=Math.min(M,D.y+D.height),I=W[B]&&W[B].value,Y=U_(S.state,S.props.data,B),ie=W[B]?{x:C==="horizontal"?W[B].coordinate:se,y:C==="horizontal"?T:W[B].coordinate}:V7;S.setState(Pe(Pe({},j),{},{activeLabel:I,activeCoordinate:ie,activePayload:Y,activeTooltipIndex:B}))}else S.setState(j)}),St(S,"renderCursor",function(j){var P,C=S.state,L=C.isTooltipActive,F=C.activeCoordinate,k=C.activePayload,E=C.offset,$=C.activeTooltipIndex,M=C.tooltipAxisBandSize,B=S.getTooltipEventType(),q=(P=j.props.active)!==null&&P!==void 0?P:L,J=S.props.layout,W=j.key||"_recharts-cursor";return ce.createElement(pwe,{key:W,activeCoordinate:F,activePayload:k,activeTooltipIndex:$,chartName:r,element:j,isActive:q,layout:J,offset:E,tooltipAxisBandSize:M,tooltipEventType:B})}),St(S,"renderPolarAxis",function(j,P,C){var L=la(j,"type.axisType"),F=la(S.state,"".concat(L,"Map")),k=j.type.defaultProps,E=k!==void 0?Pe(Pe({},k),j.props):j.props,$=F&&F[E["".concat(L,"Id")]];return G.cloneElement(j,Pe(Pe({},$),{},{className:zt(L,$.className),key:j.key||"".concat(P,"-").concat(C),ticks:jo($,!0)}))}),St(S,"renderPolarGrid",function(j){var P=j.props,C=P.radialLines,L=P.polarAngles,F=P.polarRadius,k=S.state,E=k.radiusAxisMap,$=k.angleAxisMap,M=xl(E),B=xl($),q=B.cx,J=B.cy,W=B.innerRadius,Z=B.outerRadius;return G.cloneElement(j,{polarAngles:Array.isArray(L)?L:jo(B,!0).map(function(D){return D.coordinate}),polarRadius:Array.isArray(F)?F:jo(M,!0).map(function(D){return D.coordinate}),cx:q,cy:J,innerRadius:W,outerRadius:Z,key:j.key||"polar-grid",radialLines:C})}),St(S,"renderLegend",function(){var j=S.state.formattedGraphicalItems,P=S.props,C=P.children,L=P.width,F=P.height,k=S.props.margin||{},E=L-(k.left||0)-(k.right||0),$=SM({children:C,formattedGraphicalItems:j,legendWidth:E,legendContent:c});if(!$)return null;var M=$.item,B=y6($,mwe);return G.cloneElement(M,Pe(Pe({},B),{},{chartWidth:L,chartHeight:F,margin:k,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),St(S,"renderTooltip",function(){var j,P=S.props,C=P.children,L=P.accessibilityLayer,F=Qi(C,ki);if(!F)return null;var k=S.state,E=k.isTooltipActive,$=k.activeCoordinate,M=k.activePayload,B=k.activeLabel,q=k.offset,J=(j=F.props.active)!==null&&j!==void 0?j:E;return G.cloneElement(F,{viewBox:Pe(Pe({},q),{},{x:q.left,y:q.top}),active:J,label:B,payload:J?M:[],coordinate:$,accessibilityLayer:L})}),St(S,"renderBrush",function(j){var P=S.props,C=P.margin,L=P.data,F=S.state,k=F.offset,E=F.dataStartIndex,$=F.dataEndIndex,M=F.updateId;return G.cloneElement(j,{key:j.key||"_recharts-brush",onChange:j0(S.handleBrushChange,j.props.onChange),data:L,x:Ge(j.props.x)?j.props.x:k.left,y:Ge(j.props.y)?j.props.y:k.top+k.height+k.brushBottom-(C.bottom||0),width:Ge(j.props.width)?j.props.width:k.width,startIndex:E,endIndex:$,updateId:"brush-".concat(M)})}),St(S,"renderReferenceElement",function(j,P,C){if(!j)return null;var L=S,F=L.clipPathId,k=S.state,E=k.xAxisMap,$=k.yAxisMap,M=k.offset,B=j.type.defaultProps||{},q=j.props,J=q.xAxisId,W=J===void 0?B.xAxisId:J,Z=q.yAxisId,D=Z===void 0?B.yAxisId:Z;return G.cloneElement(j,{key:j.key||"".concat(P,"-").concat(C),xAxis:E[W],yAxis:$[D],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:F})}),St(S,"renderActivePoints",function(j){var P=j.item,C=j.activePoint,L=j.basePoint,F=j.childIndex,k=j.isRange,E=[],$=P.props.key,M=P.item.type.defaultProps!==void 0?Pe(Pe({},P.item.type.defaultProps),P.item.props):P.item.props,B=M.activeDot,q=M.dataKey,J=Pe(Pe({index:F,dataKey:q,cx:C.x,cy:C.y,r:4,fill:wN(P.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},xt(B,!1)),Gy(B));return E.push(v.renderActiveDot(B,J,"".concat($,"-activePoint-").concat(F))),L?E.push(v.renderActiveDot(B,Pe(Pe({},J),{},{cx:L.x,cy:L.y}),"".concat($,"-basePoint-").concat(F))):k&&E.push(null),E}),St(S,"renderGraphicChild",function(j,P,C){var L=S.filterFormatItem(j,P,C);if(!L)return null;var F=S.getTooltipEventType(),k=S.state,E=k.isTooltipActive,$=k.tooltipAxis,M=k.activeTooltipIndex,B=k.activeLabel,q=S.props.children,J=Qi(q,ki),W=L.props,Z=W.points,D=W.isRange,se=W.baseLine,T=L.item.type.defaultProps!==void 0?Pe(Pe({},L.item.type.defaultProps),L.item.props):L.item.props,I=T.activeDot,Y=T.hide,ie=T.activeBar,te=T.activeShape,de=!!(!Y&&E&&J&&(I||ie||te)),ve={};F!=="axis"&&J&&J.props.trigger==="click"?ve={onClick:j0(S.handleItemMouseEnter,j.props.onClick)}:F!=="axis"&&(ve={onMouseLeave:j0(S.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:j0(S.handleItemMouseEnter,j.props.onMouseEnter)});var oe=G.cloneElement(j,Pe(Pe({},L.props),ve));function ye(Qe){return typeof $.dataKey=="function"?$.dataKey(Qe.payload):null}if(de)if(M>=0){var ke,ee;if($.dataKey&&!$.allowDuplicatedCategory){var he=typeof $.dataKey=="function"?ye:"payload.".concat($.dataKey.toString());ke=Vy(Z,he,B),ee=D&&se&&Vy(se,he,B)}else ke=Z==null?void 0:Z[M],ee=D&&se&&se[M];if(te||ie){var ue=j.props.activeIndex!==void 0?j.props.activeIndex:M;return[G.cloneElement(j,Pe(Pe(Pe({},L.props),ve),{},{activeIndex:ue})),null,null]}if(!Rt(ke))return[oe].concat(kf(S.renderActivePoints({item:L,activePoint:ke,basePoint:ee,childIndex:M,isRange:D})))}else{var X,Me=(X=S.getItemByXY(S.state.activeCoordinate))!==null&&X!==void 0?X:{graphicalItem:oe},ze=Me.graphicalItem,He=ze.item,Ne=He===void 0?j:He,Ue=ze.childIndex,Be=Pe(Pe(Pe({},L.props),ve),{},{activeIndex:Ue});return[G.cloneElement(Ne,Be),null,null]}return D?[oe,null,null]:[oe,null]}),St(S,"renderCustomized",function(j,P,C){return G.cloneElement(j,Pe(Pe({key:"recharts-customized-".concat(C)},S.props),S.state))}),St(S,"renderMap",{CartesianGrid:{handler:E0,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:E0},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:E0},YAxis:{handler:E0},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:Vf("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=_$(S.triggeredAfterMouseMove,(N=w.throttleDelay)!==null&&N!==void 0?N:1e3/60),S.state={},S}return kwe(v,b),Swe(v,[{key:"componentDidMount",value:function(){var _,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,N=_.children,S=_.data,j=_.height,P=_.layout,C=Qi(N,ki);if(C){var L=C.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,k=U_(this.state,S,L,F),E=this.state.tooltipTicks[L].coordinate,$=(this.state.offset.top+j)/2,M=P==="horizontal",B=M?{x:E,y:$}:{y:E,x:$},q=this.state.formattedGraphicalItems.find(function(W){var Z=W.item;return Z.type.name==="Scatter"});q&&(B=Pe(Pe({},B),q.props.points[L].tooltipPosition),k=q.props.points[L].tooltipPayload);var J={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:F,activePayload:k,activeCoordinate:B};this.setState(J),this.renderCursor(C),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,j;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(_){g5([Qi(_.children,ki)],[Qi(this.props.children,ki)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Qi(this.props.children,ki);if(_&&typeof _.props.shared=="boolean"){var N=_.props.shared?"axis":"item";return o.indexOf(N)>=0?N:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var N=this.container,S=N.getBoundingClientRect(),j=Eue(S),P={chartX:Math.round(_.pageX-j.left),chartY:Math.round(_.pageY-j.top)},C=S.width/N.offsetWidth||1,L=this.inRange(P.chartX,P.chartY,C);if(!L)return null;var F=this.state,k=F.xAxisMap,E=F.yAxisMap,$=this.getTooltipEventType(),M=b6(this.state,this.props.data,this.props.layout,L);if($!=="axis"&&k&&E){var B=xl(k).scale,q=xl(E).scale,J=B&&B.invert?B.invert(P.chartX):null,W=q&&q.invert?q.invert(P.chartY):null;return Pe(Pe({},P),{},{xValue:J,yValue:W},M)}return M?Pe(Pe({},P),M):null}},{key:"inRange",value:function(_,N){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,P=_/S,C=N/S;if(j==="horizontal"||j==="vertical"){var L=this.state.offset,F=P>=L.left&&P<=L.left+L.width&&C>=L.top&&C<=L.top+L.height;return F?{x:P,y:C}:null}var k=this.state,E=k.angleAxisMap,$=k.radiusAxisMap;if(E&&$){var M=xl(E);return WE({x:P,y:C},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,N=this.getTooltipEventType(),S=Qi(_,ki),j={};S&&N==="axis"&&(S.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Gy(this.props,this.handleOuterEvent);return Pe(Pe({},P),j)}},{key:"addListener",value:function(){y2.on(v2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){y2.removeListener(v2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,N,S){for(var j=this.state.formattedGraphicalItems,P=0,C=j.length;P<C;P++){var L=j[P];if(L.item===_||L.props.key===_.key||N===ko(L.item.type)&&S===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,N=this.state.offset,S=N.left,j=N.top,P=N.height,C=N.width;return ce.createElement("defs",null,ce.createElement("clipPath",{id:_},ce.createElement("rect",{x:S,y:j,height:P,width:C})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(N,S){var j=g6(S,2),P=j[0],C=j[1];return Pe(Pe({},N),{},St({},P,C.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(N,S){var j=g6(S,2),P=j[0],C=j[1];return Pe(Pe({},N),{},St({},P,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[_])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(_){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[_])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(_){var N=this.state,S=N.formattedGraphicalItems,j=N.activeItem;if(S&&S.length)for(var P=0,C=S.length;P<C;P++){var L=S[P],F=L.props,k=L.item,E=k.type.defaultProps!==void 0?Pe(Pe({},k.type.defaultProps),k.props):k.props,$=ko(k.type);if($==="Bar"){var M=(F.data||[]).find(function(W){return fye(_,W)});if(M)return{graphicalItem:L,payload:M}}else if($==="RadialBar"){var B=(F.data||[]).find(function(W){return WE(_,W)});if(B)return{graphicalItem:L,payload:B}}else if(lb(L,j)||cb(L,j)||Om(L,j)){var q=e1e({graphicalItem:L,activeTooltipItem:j,itemData:E.data}),J=E.activeIndex===void 0?q:E.activeIndex;return{graphicalItem:Pe(Pe({},L),{},{childIndex:J}),payload:Om(L,j)?E.data[q]:L.props.data[q]}}}return null}},{key:"render",value:function(){var _=this;if(!L3(this))return null;var N=this.props,S=N.children,j=N.className,P=N.width,C=N.height,L=N.style,F=N.compact,k=N.title,E=N.desc,$=y6(N,gwe),M=xt($,!1);if(F)return ce.createElement(ZP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ce.createElement(v5,Sd({},M,{width:P,height:C,title:k,desc:E}),this.renderClipPath(),$3(S,this.renderMap)));if(this.props.accessibilityLayer){var B,q;M.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,M.role=(q=this.props.role)!==null&&q!==void 0?q:"application",M.onKeyDown=function(W){_.accessibilityManager.keyboardEvent(W)},M.onFocus=function(){_.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return ce.createElement(ZP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ce.createElement("div",Sd({className:zt("recharts-wrapper",j),style:Pe({position:"relative",cursor:"default",width:P,height:C},L)},J,{ref:function(Z){_.container=Z}}),ce.createElement(v5,Sd({},M,{width:P,height:C,title:k,desc:E,style:Iwe}),this.renderClipPath(),$3(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(G.Component);St(y,"displayName",r),St(y,"defaultProps",Pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),St(y,"getDerivedStateFromProps",function(b,v){var w=b.dataKey,_=b.data,N=b.children,S=b.width,j=b.height,P=b.layout,C=b.stackOffset,L=b.margin,F=v.dataStartIndex,k=v.dataEndIndex;if(v.updateId===void 0){var E=x6(b);return Pe(Pe(Pe({},E),{},{updateId:0},h(Pe(Pe({props:b},E),{},{updateId:0}),v)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:j,prevLayout:P,prevStackOffset:C,prevMargin:L,prevChildren:N})}if(w!==v.prevDataKey||_!==v.prevData||S!==v.prevWidth||j!==v.prevHeight||P!==v.prevLayout||C!==v.prevStackOffset||!Rd(L,v.prevMargin)){var $=x6(b),M={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},B=Pe(Pe({},b6(v,_,P)),{},{updateId:v.updateId+1}),q=Pe(Pe(Pe({},$),M),B);return Pe(Pe(Pe({},q),h(Pe({props:b},q),v)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:j,prevLayout:P,prevStackOffset:C,prevMargin:L,prevChildren:N})}if(!g5(N,v.prevChildren)){var J,W,Z,D,se=Qi(N,yf),T=se&&(J=(W=se.props)===null||W===void 0?void 0:W.startIndex)!==null&&J!==void 0?J:F,I=se&&(Z=(D=se.props)===null||D===void 0?void 0:D.endIndex)!==null&&Z!==void 0?Z:k,Y=T!==F||I!==k,ie=!Rt(_),te=ie&&!Y?v.updateId:v.updateId+1;return Pe(Pe({updateId:te},h(Pe(Pe({props:b},v),{},{updateId:te,dataStartIndex:T,dataEndIndex:I}),v)),{},{prevChildren:N,dataStartIndex:T,dataEndIndex:I})}return null}),St(y,"renderActiveDot",function(b,v,w){var _;return G.isValidElement(b)?_=G.cloneElement(b,v):kt(b)?_=b(v):_=ce.createElement(nb,v),ce.createElement(Zt,{className:"recharts-active-dot",key:w},_)});var g=G.forwardRef(function(v,w){return ce.createElement(y,Sd({},v,{ref:w}))});return g.displayName=y.displayName,g},IN=TN({chartName:"LineChart",GraphicalChild:Ul,axisComponents:[{axisType:"xAxis",AxisComp:Ql},{axisType:"yAxis",AxisComp:ec}],formatAxisMap:f7}),qwe=TN({chartName:"BarChart",GraphicalChild:Au,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ql},{axisType:"yAxis",AxisComp:ec}],formatAxisMap:f7}),Wwe=TN({chartName:"PieChart",GraphicalChild:Wo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ob},{axisType:"radiusAxis",AxisComp:ab}],formatAxisMap:Nme,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Hwe({data:e}){const t=["#3b82f6","#60a5fa","#93c5fd","#cbd5e1","#ef4444"];return d.jsx(Xm,{width:"100%",height:300,children:d.jsxs(qwe,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(ig,{strokeDasharray:"3 3"}),d.jsx(Ql,{dataKey:"range"}),d.jsx(ec,{}),d.jsx(ki,{}),d.jsx(Au,{dataKey:"count",fill:"#3b82f6",radius:[8,8,0,0],children:e.map((r,n)=>d.jsx(Jm,{fill:t[n%t.length]},`cell-${n}`))})]})})}function Vwe({data:e}){return d.jsx(Xm,{width:"100%",height:300,children:d.jsxs(IN,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(ig,{strokeDasharray:"3 3"}),d.jsx(Ql,{dataKey:"date"}),d.jsx(ec,{}),d.jsx(ki,{}),d.jsx(Ds,{}),d.jsx(Ul,{type:"monotone",dataKey:"completions",stroke:"#10b981",strokeWidth:2,name:"Completions"}),d.jsx(Ul,{type:"monotone",dataKey:"assignments",stroke:"#3b82f6",strokeWidth:2,name:"Assignments"})]})})}const _6=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function Gwe({data:e}){return d.jsx(Xm,{width:"100%",height:300,children:d.jsxs(Wwe,{children:[d.jsx(Wo,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:({name:t,percent:r})=>`${t}: ${(r*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:e.map((t,r)=>d.jsx(Jm,{fill:_6[r%_6.length]},`cell-${r}`))}),d.jsx(ki,{}),d.jsx(Ds,{})]})})}function Kwe({user:e}){const[t,r]=G.useState({totalAssignments:0,totalCompletions:0,averageScore:0,completionRate:0}),[n,i]=G.useState({scoreDistribution:[],completionTrend:[],stationPerformance:[],studentPerformance:[],hintUsage:[],diagnosisAccuracy:[],timeToCompletion:[],sloTrends:[],managementAnalytics:{completionRate:0,averageScore:0,mostSelectedOptions:[],leastSelectedOptions:[],averageReasoningScore:0,commonMistakes:[],timeSpent:{average:0,median:0}}}),[a,s]=G.useState(!0);G.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:l}=await Ie.from("stations").select("id, title").eq("created_by",e.id);if(!l)return;const c=l.map(ee=>ee.id),{data:u}=await Ie.from("case_snapshots").select("id, station_id, clinical_case").in("station_id",c);if(!u)return;const f=u.map(ee=>ee.id),{data:p}=await Ie.from("assignments").select("id, snapshot_id, created_at, due_at").in("snapshot_id",f),{data:h}=await Ie.from("simulation_runs").select("score, submitted_at, assignment_id, started_at, student_id, transcript, actions").in("assignment_id",(p==null?void 0:p.map(ee=>ee.id))||[]),y=(h==null?void 0:h.filter(ee=>ee.submitted_at))||[],g=y.map(ee=>{var he;return((he=ee.score)==null?void 0:he.overall)||0}).filter(ee=>ee>0),b=g.length>0?g.reduce((ee,he)=>ee+he,0)/g.length:0;r({totalAssignments:(p==null?void 0:p.length)||0,totalCompletions:y.length,averageScore:Math.round(b),completionRate:p&&p.length>0?Math.round(y.length/p.length*100):0});const w=[{range:"0-20",min:0,max:20},{range:"21-40",min:21,max:40},{range:"41-60",min:41,max:60},{range:"61-80",min:61,max:80},{range:"81-100",min:81,max:100}].map(ee=>({range:ee.range,count:g.filter(he=>he>=ee.min&&he<=ee.max).length})),_=new Date,N=[];for(let ee=6;ee>=0;ee--){const he=new Date(_);he.setDate(he.getDate()-ee);const ue=he.toISOString().split("T")[0],X=y.filter(ze=>{var Ne;return((Ne=ze.submitted_at)==null?void 0:Ne.split("T")[0])===ue}).length,Me=(p==null?void 0:p.filter(ze=>{var Ne;return((Ne=ze.created_at)==null?void 0:Ne.split("T")[0])===ue}).length)||0;N.push({date:he.toLocaleDateString("en-US",{month:"short",day:"numeric"}),completions:X,assignments:Me})}const S=new Map;y.forEach(ee=>{const he=p==null?void 0:p.find(ue=>ue.id===ee.assignment_id);if(he){const ue=u.find(X=>X.id===he.snapshot_id);if(ue){const X=l.find(Me=>Me.id===ue.station_id);if(X){const Me=S.get(X.title||"Untitled")||0;S.set(X.title||"Untitled",Me+1)}}}});const j=Array.from(S.entries()).map(([ee,he])=>({name:ee,value:he})).slice(0,6),P=new Map;p==null||p.forEach(ee=>{var He;const he=y.filter(Ne=>Ne.assignment_id===ee.id),ue=he.map(Ne=>{var Ue;return((Ue=Ne.score)==null?void 0:Ue.overall)||0}).filter(Ne=>Ne>0),X=u.find(Ne=>Ne.id===ee.snapshot_id),Me=((He=X==null?void 0:X.clinical_case)==null?void 0:He.title)||"Untitled Assignment",ze=new Set(he.map(Ne=>Ne.student_id));P.set(Me,{scores:ue,completions:he.length,totalStudents:ze.size})});const C=Array.from(P.entries()).map(([ee,he])=>({assignmentTitle:ee,averageScore:he.scores.length>0?Math.round(he.scores.reduce((ue,X)=>ue+X,0)/he.scores.length):0,completions:he.completions,totalStudents:he.totalStudents})).sort((ee,he)=>he.averageScore-ee.averageScore).slice(0,10),L=new Map;y.forEach(ee=>{var ue,X;const he=p==null?void 0:p.find(Me=>Me.id===ee.assignment_id);if(he){const Me=u.find(Ue=>Ue.id===he.snapshot_id),ze=((ue=Me==null?void 0:Me.clinical_case)==null?void 0:ue.title)||"Untitled Assignment",He=((X=ee.transcript)==null?void 0:X.hintsUsed)||0,Ne=L.get(ze)||{hints:[],total:0};Ne.hints.push(He),Ne.total+=He,L.set(ze,Ne)}});const F=Array.from(L.entries()).map(([ee,he])=>({assignmentTitle:ee,averageHints:he.hints.length>0?Math.round(he.total/he.hints.length*10)/10:0,totalHints:he.total})).sort((ee,he)=>he.averageHints-ee.averageHints).slice(0,10),k=[];for(let ee=6;ee>=0;ee--){const he=new Date(_);he.setDate(he.getDate()-ee);const ue=he.toISOString().split("T")[0],X=y.filter(He=>{var Ue;return((Ue=He.submitted_at)==null?void 0:Ue.split("T")[0])===ue});let Me=0,ze=0;X.forEach(He=>{const Ne=He.score;(Ne==null?void 0:Ne.diagnosisCorrect)!==void 0&&(ze++,Ne.diagnosisCorrect&&Me++)}),k.push({date:he.toLocaleDateString("en-US",{month:"short",day:"numeric"}),accuracy:ze>0?Math.round(Me/ze*100):0,total:ze})}const E=new Map;y.forEach(ee=>{var ue;const he=p==null?void 0:p.find(X=>X.id===ee.assignment_id);if(he&&ee.started_at&&ee.submitted_at){const X=u.find(Be=>Be.id===he.snapshot_id),Me=((ue=X==null?void 0:X.clinical_case)==null?void 0:ue.title)||"Untitled Assignment",ze=new Date(ee.started_at).getTime(),Ne=(new Date(ee.submitted_at).getTime()-ze)/(1e3*60),Ue=E.get(Me)||[];Ue.push(Ne),E.set(Me,Ue)}});const $=Array.from(E.entries()).map(([ee,he])=>{const ue=[...he].sort((Me,ze)=>Me-ze),X=ue.length>0?ue[Math.floor(ue.length/2)]:0;return{assignmentTitle:ee,averageTime:he.length>0?Math.round(he.reduce((Me,ze)=>Me+ze,0)/he.length*10)/10:0,medianTime:Math.round(X*10)/10}}).slice(0,10),M=new Map;y.forEach(ee=>{const he=ee.score;((he==null?void 0:he.sloResults)||[]).forEach(X=>{const Me=M.get(X.sloId)||{text:"",correct:0,total:0};Me.total++,X.status==="Achieved"&&Me.correct++,M.set(X.sloId,Me)})});const{data:B}=await Ie.from("slo").select("id, text");B==null||B.forEach(ee=>{const he=M.get(ee.id);he&&(he.text=ee.text)});const q=Array.from(M.entries()).map(([ee,he])=>({sloId:ee,sloText:he.text||"Unknown SLO",achievementRate:he.total>0?Math.round(he.correct/he.total*100):0,attempts:he.total})).sort((ee,he)=>he.attempts-ee.attempts).slice(0,10),J=y.map(ee=>{const ue=(ee.actions||[]).find(X=>X.type==="management_submitted");return ue?{run:ee,management:ue.payload}:null}).filter(ee=>ee!==null),W=y.length>0?Math.round(J.length/y.length*100):0,Z=J.map(ee=>{var ue;const he=ee.run.score;return((ue=he==null?void 0:he.managementResults)==null?void 0:ue.overallScore)||0}).filter(ee=>ee>0),D=Z.length>0?Math.round(Z.reduce((ee,he)=>ee+he,0)/Z.length):0,se=new Map;J.forEach(ee=>{var ze,He;const he=ee.management,ue=p==null?void 0:p.find(Ne=>Ne.id===ee.run.assignment_id),X=ue?u.find(Ne=>Ne.id===ue.snapshot_id):null,Me=(ze=X==null?void 0:X.clinical_case)==null?void 0:ze.managementOptions;if(Me&&((he.immediate||[]).forEach(Ne=>{var Be;const Ue=(Be=Me.immediateActions)==null?void 0:Be.find(Qe=>Qe.id===Ne);if(Ue){const Qe=`immediate-${Ne}`,Je=se.get(Qe)||{text:Ue.text,count:0,isCorrect:Ue.isCorrect};Je.count++,se.set(Qe,Je)}}),(he.investigations||[]).forEach(Ne=>{var Be;const Ue=(Be=Me.investigations)==null?void 0:Be.find(Qe=>Qe.id===Ne);if(Ue){const Qe=`invest-${Ne}`,Je=se.get(Qe)||{text:Ue.text,count:0,isCorrect:Ue.isCorrect};Je.count++,se.set(Qe,Je)}}),he.definitive)){const Ne=(He=Me.definitiveManagement)==null?void 0:He.find(Ue=>Ue.id===he.definitive);if(Ne){const Ue=`definitive-${he.definitive}`,Be=se.get(Ue)||{text:Ne.text,count:0,isCorrect:Ne.isCorrect};Be.count++,se.set(Ue,Be)}}});const T=Array.from(se.values()),I=[...T].sort((ee,he)=>he.count-ee.count).slice(0,5),Y=[...T].sort((ee,he)=>ee.count-he.count).slice(0,5),ie=T.filter(ee=>!ee.isCorrect&&ee.count>0).sort((ee,he)=>he.count-ee.count).slice(0,5),te=J.map(ee=>{var X,Me;const ue=(ee.run.actions||[]).find(ze=>ze.type==="management_submitted");return((Me=(X=ue==null?void 0:ue.payload)==null?void 0:X.reasoningAnalysis)==null?void 0:Me.score)||0}).filter(ee=>ee>0),de=te.length>0?Math.round(te.reduce((ee,he)=>ee+he,0)/te.length):0,ve=[];J.forEach(ee=>{const he=ee.run.actions||[],ue=he.find(Me=>Me.type==="management_submitted"),X=he.find(Me=>Me.type==="diagnosis_submitted");if(ue!=null&&ue.timestamp&&(X!=null&&X.timestamp)){const Me=new Date(X.timestamp).getTime(),He=(new Date(ue.timestamp).getTime()-Me)/(1e3*60);He>0&&He<120&&ve.push(He)}});const oe=ve.length>0?Math.round(ve.reduce((ee,he)=>ee+he,0)/ve.length*10)/10:0,ye=[...ve].sort((ee,he)=>ee-he),ke=ye.length>0?Math.round(ye[Math.floor(ye.length/2)]*10)/10:0;i({scoreDistribution:w,completionTrend:N,stationPerformance:j,studentPerformance:C,hintUsage:F,diagnosisAccuracy:k,timeToCompletion:$,sloTrends:q,managementAnalytics:{completionRate:W,averageScore:D,mostSelectedOptions:I,leastSelectedOptions:Y,averageReasoningScore:de,commonMistakes:ie,timeSpent:{average:oe,median:ke}}})}catch(l){console.error("Error loading analytics:",l)}finally{s(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Li,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Analytics Dashboard"}),a?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Assignments"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.totalAssignments})]}),d.jsx(La,{className:"w-8 h-8 text-blue-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Completions"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.totalCompletions})]}),d.jsx(Ao,{className:"w-8 h-8 text-green-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[t.averageScore,"%"]})]}),d.jsx($f,{className:"w-8 h-8 text-purple-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Completion Rate"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[t.completionRate,"%"]})]}),d.jsx(Ra,{className:"w-8 h-8 text-orange-600"})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Score Distribution"}),n.scoreDistribution.length>0?d.jsx(Hwe,{data:n.scoreDistribution}):d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No score data available"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Completion Trend (Last 7 Days)"}),n.completionTrend.length>0?d.jsx(Vwe,{data:n.completionTrend}):d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No trend data available"})]})]}),n.stationPerformance.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Station Performance"}),d.jsx(Gwe,{data:n.stationPerformance})]}),n.studentPerformance.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Top Assignments Performance"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Average Score"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completions"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Students"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.studentPerformance.map((l,c)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.jsxs("span",{className:`font-semibold ${l.averageScore>=80?"text-green-600":l.averageScore>=60?"text-yellow-600":"text-red-600"}`,children:[l.averageScore,"%"]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.completions}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.totalStudents})]},c))})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.diagnosisAccuracy.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Diagnosis Accuracy Trend (Last 7 Days)"}),d.jsx("div",{className:"space-y-3",children:n.diagnosisAccuracy.map((l,c)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:l.date}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${l.accuracy>=80?"bg-green-500":l.accuracy>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${l.accuracy}%`}})}),d.jsxs("span",{className:"text-sm font-semibold text-gray-900 w-12 text-right",children:[l.accuracy,"%"]}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",l.total,")"]})]})]},c))})]}),n.hintUsage.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Hint Usage by Assignment"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Hints"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.hintUsage.map((l,c)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:l.averageHints}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:l.totalHints})]},c))})]})})]})]}),n.timeToCompletion.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Time to Completion"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Time (min)"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Median Time (min)"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.timeToCompletion.map((l,c)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:l.averageTime}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:l.medianTime})]},c))})]})})]}),n.sloTrends.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"SLO Achievement Trends"}),d.jsx("div",{className:"space-y-4",children:n.sloTrends.map((l,c)=>d.jsxs("div",{className:"border-l-4 border-primary-500 pl-4 py-2",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:l.sloText}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${l.achievementRate>=70?"bg-green-500":l.achievementRate>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${l.achievementRate}%`}})}),d.jsxs("span",{className:"text-sm font-semibold text-gray-900 w-16 text-right",children:[l.achievementRate,"%"]}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",l.attempts," attempts)"]})]})]},c))})]}),n.managementAnalytics.completionRate>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx($y,{className:"w-6 h-6 text-green-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Management Plan Analytics"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completion Rate"}),d.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[n.managementAnalytics.completionRate,"%"]})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Average Score"}),d.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:[n.managementAnalytics.averageScore,"%"]})]}),d.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Avg Reasoning Score"}),d.jsxs("p",{className:"text-2xl font-bold text-purple-700",children:[n.managementAnalytics.averageReasoningScore,"/100"]})]}),d.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Avg Time Spent"}),d.jsxs("p",{className:"text-2xl font-bold text-orange-700",children:[n.managementAnalytics.timeSpent.average," min"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.managementAnalytics.mostSelectedOptions.length>0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900",children:"Most Selected Options"}),d.jsx("div",{className:"space-y-2",children:n.managementAnalytics.mostSelectedOptions.map((l,c)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[l.isCorrect?d.jsx(Nn,{className:"w-4 h-4 text-green-600 flex-shrink-0"}):d.jsx(Ai,{className:"w-4 h-4 text-red-600 flex-shrink-0"}),d.jsx("span",{className:"text-sm text-gray-900 flex-1",children:l.text})]}),d.jsx("span",{className:"text-sm font-semibold text-gray-700",children:l.count})]},c))})]}),n.managementAnalytics.commonMistakes.length>0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900",children:"Common Mistakes"}),d.jsx("div",{className:"space-y-2",children:n.managementAnalytics.commonMistakes.map((l,c)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200",children:[d.jsx("span",{className:"text-sm text-gray-900 flex-1",children:l.text}),d.jsxs("span",{className:"text-sm font-semibold text-red-700",children:[l.count," times"]})]},c))})]})]})]})]})]})}),d.jsx(Mn,{role:"faculty"})]})}function Ywe({user:e}){const[t,r]=G.useState({totalStations:0,approvedCases:0,pendingReview:0,totalAssignments:0}),[n,i]=G.useState(!0);G.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:o}=await Ie.from("stations").select("id").eq("created_by",e.id),{data:l}=await Ie.from("case_snapshots").select("id, station_id").eq("approved_by",e.id),c=(o==null?void 0:o.map(g=>g.id))||[],{data:u}=await Ie.from("case_snapshots").select("station_id").in("station_id",c),f=new Set((u==null?void 0:u.map(g=>g.station_id))||[]),p=c.filter(g=>!f.has(g)),h=(l==null?void 0:l.map(g=>g.id))||[],{data:y}=await Ie.from("assignments").select("id").in("snapshot_id",h);r({totalStations:(o==null?void 0:o.length)||0,approvedCases:(l==null?void 0:l.length)||0,pendingReview:p.length,totalAssignments:(y==null?void 0:y.length)||0})}catch(o){console.error("Error loading stats:",o)}finally{i(!1)}},s=async()=>{await sj()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Li,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Profile"}),d.jsx("p",{className:"text-gray-600",children:"View your account information and statistics"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center",children:d.jsx($s,{className:"w-10 h-10 text-primary-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.name}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(x8,{className:"w-4 h-4"}),d.jsx("span",{children:e.email})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(Mf,{className:"w-4 h-4"}),d.jsxs("span",{children:["Member since ",new Date(e.created_at).toLocaleDateString()]})]})]})]}),d.jsx("div",{className:"border-t pt-4",children:d.jsx("div",{className:"flex items-center gap-2 text-sm",children:d.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full font-medium",children:"Faculty"})})})]}),!n&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.totalStations})]}),d.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:d.jsx(Da,{className:"w-6 h-6 text-blue-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Approved Cases"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.approvedCases})]}),d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(Ra,{className:"w-6 h-6 text-green-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Pending Review"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.pendingReview})]}),d.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:d.jsx(bu,{className:"w-6 h-6 text-yellow-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Assignments"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.totalAssignments})]}),d.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:d.jsx(Da,{className:"w-6 h-6 text-purple-600"})})]})})]}),n&&d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[d.jsx(b8,{className:"w-5 h-5"}),d.jsx("span",{children:"Sign Out"})]})})]})}),d.jsx(Mn,{role:"faculty"})]})}function S6({user:e}){const t=Ua(),[r,n]=G.useState([]),[i,a]=G.useState([]),[s,o]=G.useState(!0),[l,c]=G.useState("all"),[u,f]=G.useState(""),[p,h]=G.useState("all");G.useEffect(()=>{y()},[]),G.useEffect(()=>{g()},[r,l,u,p]);const y=async()=>{try{const{data:S}=await Ie.from("cohort_members").select("cohort_id").eq("student_id",e.id);if(!S||S.length===0){o(!1);return}const j=S.map(F=>F.cohort_id),{data:P,error:C}=await Ie.from("assignments").select("*").in("cohort_id",j).order("created_at",{ascending:!1});if(C)throw C;const L=await Promise.all((P||[]).map(async F=>{var J;const{data:k}=await Ie.from("case_snapshots").select("*").eq("id",F.snapshot_id).single(),{data:E}=await Ie.from("simulation_runs").select("id, score, submitted_at").eq("assignment_id",F.id).eq("student_id",e.id).order("submitted_at",{ascending:!1}),$=(E==null?void 0:E.length)||0,M=(E==null?void 0:E.reduce((W,Z)=>{const D=Z.score;return Math.max(W,(D==null?void 0:D.overall)||0)},0))||0,B=(J=E==null?void 0:E[0])==null?void 0:J.submitted_at;let q="not_started";return $>0&&(q=(E==null?void 0:E.some(Z=>Z.submitted_at))?"completed":"in_progress"),{...F,snapshot:k,attemptsCount:$,bestScore:M,lastAttempt:B,status:q}}));n(L)}catch(S){console.error("Error loading assignments:",S)}finally{o(!1)}},g=()=>{let S=[...r];if(p==="pending"?S=S.filter(j=>j.status==="not_started"&&(!j.due_at||new Date(j.due_at)>new Date)):p==="in_progress"?S=S.filter(j=>j.status==="in_progress"):p==="completed"&&(S=S.filter(j=>j.status==="completed")),l!=="all"&&(S=S.filter(j=>j.status===l)),u){const j=u.toLowerCase();S=S.filter(P=>{var C,L,F,k,E,$,M;return((F=(L=(C=P.snapshot)==null?void 0:C.clinical_case)==null?void 0:L.title)==null?void 0:F.toLowerCase().includes(j))||((M=($=(E=(k=P.snapshot)==null?void 0:k.clinical_case)==null?void 0:E.patientProfile)==null?void 0:$.name)==null?void 0:M.toLowerCase().includes(j))})}a(S)},b=S=>Math.max(0,S.max_attempts-(S.attemptsCount||0)),v=S=>S.due_at?new Date(S.due_at)<new Date&&S.status!=="completed":!1,w=({dueDate:S})=>{const[j,P]=G.useState("");return G.useEffect(()=>{const C=()=>{const F=new Date,E=new Date(S).getTime()-F.getTime();if(E<=0){P("Overdue");return}const $=Math.floor(E/(1e3*60*60*24)),M=Math.floor(E%(1e3*60*60*24)/(1e3*60*60)),B=Math.floor(E%(1e3*60*60)/(1e3*60));$>0?P(`${$}d ${M}h left`):M>0?P(`${M}h ${B}m left`):P(`${B}m left`)};C();const L=setInterval(C,6e4);return()=>clearInterval(L)},[S]),d.jsxs("span",{className:"text-xs text-primary-600 font-medium ml-2",children:["(",j,")"]})},_=S=>v(S)?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:"Overdue"}):S.status==="completed"?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Completed"}):S.status==="in_progress"?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full",children:"In Progress"}):d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:"Not Started"}),N={total:r.length,completed:r.filter(S=>S.status==="completed").length,inProgress:r.filter(S=>S.status==="in_progress").length,notStarted:r.filter(S=>S.status==="not_started").length};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 pb-20 md:pb-6",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"My Assignments"}),d.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"View and manage your OSCE simulations"})]}),!s&&d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:N.total}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Total"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-green-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-green-700",children:N.completed}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Completed"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-yellow-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-yellow-700",children:N.inProgress}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"In Progress"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-700",children:N.notStarted}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Not Started"})]})]}),!s&&d.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[d.jsx("div",{className:"border-b border-gray-200",children:d.jsx("div",{className:"flex overflow-x-auto",children:[{key:"all",label:"All",count:r.length},{key:"pending",label:"Pending",count:r.filter(S=>S.status==="not_started"&&(!S.due_at||new Date(S.due_at)>new Date)).length},{key:"in_progress",label:"In Progress",count:r.filter(S=>S.status==="in_progress").length},{key:"completed",label:"Completed",count:r.filter(S=>S.status==="completed").length}].map(S=>d.jsxs("button",{onClick:()=>h(S.key),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${p===S.key?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[S.label,S.count>0&&d.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${p===S.key?"bg-primary-100 text-primary-800":"bg-gray-100 text-gray-600"}`,children:S.count})]},S.key))})}),d.jsx("div",{className:"p-4 border-b border-gray-200",children:d.jsxs("div",{className:"relative",children:[d.jsx(cj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search assignments...",value:u,onChange:S=>f(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})})]}),s?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):i.length===0?d.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[d.jsx(y1,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.length===0?"No Assignments Available":"No Assignments Match Your Filters"}),d.jsx("p",{className:"text-gray-600 text-sm mb-4",children:r.length===0?"You don't have any assignments yet. Check back later or contact your faculty if you expect to see assignments here.":"Try adjusting your search or filter criteria to find what you're looking for."}),r.length>0&&d.jsx("button",{onClick:()=>{h("all"),c("all"),f("")},className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Clear Filters"}),r.length===0&&d.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsx("strong",{children:"Tip:"})," Make sure you're enrolled in cohorts to receive assignments. You can manage your cohorts in your Profile settings."]})})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(S=>{var j,P,C,L,F,k;return d.jsxs("div",{className:`bg-white rounded-xl shadow-md p-5 md:p-6 hover:shadow-xl transition-all border-2 ${v(S)?"border-l-4 border-red-500 border-r-2 border-t-2 border-b-2":"border-gray-200"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 flex-1",children:((P=(j=S.snapshot)==null?void 0:j.clinical_case)==null?void 0:P.title)||"Untitled Station"}),_(S)]}),((L=(C=S.snapshot)==null?void 0:C.clinical_case)==null?void 0:L.patientProfile)&&d.jsxs("div",{className:"mb-3 text-sm text-gray-600",children:[d.jsx("span",{className:"font-medium",children:"Patient:"})," ",S.snapshot.clinical_case.patientProfile.name]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(bu,{className:"w-4 h-4"}),d.jsxs("span",{children:[((k=(F=S.snapshot)==null?void 0:F.clinical_case)==null?void 0:k.durationMinutes)||15," minutes"]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(h4,{className:"w-4 h-4"}),d.jsxs("span",{children:[b(S)," of ",S.max_attempts," attempts left"]})]}),S.bestScore!==void 0&&S.bestScore>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[d.jsx(Ra,{className:"w-4 h-4"}),d.jsxs("span",{children:["Best Score: ",S.bestScore.toFixed(0),"%"]})]}),S.due_at&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(Mf,{className:"w-4 h-4"}),d.jsxs("span",{className:v(S)?"text-red-600 font-medium":"",children:["Due: ",new Date(S.due_at).toLocaleDateString()]}),!v(S)&&new Date(S.due_at)>new Date&&d.jsx(w,{dueDate:S.due_at})]})]}),d.jsx("div",{className:"flex gap-2",children:S.status==="completed"?d.jsxs("button",{onClick:()=>{t("/results")},className:"flex-1 flex items-center justify-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:[d.jsx(Nn,{className:"w-4 h-4"}),"View Results"]}):d.jsxs("button",{onClick:()=>t(`/simulation/${S.id}`),disabled:b(S)===0,className:"flex-1 flex items-center justify-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[d.jsx(h4,{className:"w-4 h-4"}),S.status==="in_progress"?"Continue":"Start Simulation"]})})]},S.id)})})]}),d.jsx(Mn,{role:"student"})]})}function Xwe({activeTab:e,onTabChange:t}){const r=[{id:"chat",label:"Chat",icon:MW},{id:"exam",label:"Exam",icon:zW},{id:"labs",label:"Labs",icon:qW},{id:"diagnosis",label:"Diagnosis",icon:Da}];return d.jsx("div",{className:"bg-white border-b-2 border-gray-300 shadow-sm",children:d.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:r.map(n=>{const i=n.icon,a=e===n.id;return d.jsxs("button",{onClick:()=>t(n.id),className:`flex items-center gap-2 px-4 md:px-6 py-3 md:py-4 text-sm md:text-base font-semibold border-b-3 transition-all whitespace-nowrap ${a?"border-primary-600 text-primary-700 bg-primary-50":"border-transparent text-gray-600 hover:text-primary-600 hover:bg-gray-50 hover:border-gray-300"}`,children:[d.jsx(i,{className:`w-4 h-4 md:w-5 md:h-5 ${a?"text-primary-600":""}`}),d.jsx("span",{children:n.label})]},n.id)})})})}function Jwe({messages:e,input:t,setInput:r,sending:n,onSendMessage:i,onRequestHint:a,hintsRemaining:s}){const o=G.useRef(null);return G.useEffect(()=>{var l;(l=o.current)==null||l.scrollIntoView({behavior:"smooth"})},[e]),d.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[d.jsxs("div",{className:"bg-white border-b-2 border-gray-300 p-4 flex items-center justify-between shadow-sm",children:[d.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Chat with Patient"}),d.jsxs("button",{onClick:a,disabled:s<=0,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-900 rounded-lg hover:from-yellow-500 hover:to-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md font-semibold text-sm",children:[d.jsx(v8,{className:"w-4 h-4"}),"Hint (",s,")"]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map((l,c)=>d.jsxs("div",{className:`flex ${l.role==="user"?"justify-end":"justify-start"} items-start gap-2`,children:[l.role==="assistant"&&d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx($s,{className:"w-4 h-4 text-primary-600"})}),d.jsxs("div",{className:`max-w-[85%] md:max-w-[75%] rounded-xl p-3 md:p-4 shadow-md ${l.role==="user"?"bg-gradient-to-br from-primary-600 to-primary-700 text-white":"bg-white border-2 border-gray-200 text-gray-900"}`,children:[l.role==="user"?d.jsx("p",{className:"text-white whitespace-pre-wrap",children:l.content}):d.jsx("div",{className:"text-gray-800",children:d.jsx(pi,{content:l.content})}),d.jsx("span",{className:`text-xs mt-2 block ${l.role==="user"?"text-primary-100":"text-gray-500"}`,children:l.timestamp instanceof Date?l.timestamp.toLocaleTimeString():new Date(l.timestamp).toLocaleTimeString()})]}),l.role==="user"&&d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx($s,{className:"w-4 h-4 text-gray-600"})})]},c)),n&&d.jsxs("div",{className:"flex justify-start items-start gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx($s,{className:"w-4 h-4 text-primary-600"})}),d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),d.jsx("div",{ref:o})]}),d.jsx("div",{className:"bg-white border-t-2 border-gray-300 p-4 shadow-lg",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:t,onChange:l=>r(l.target.value),onKeyPress:l=>l.key==="Enter"&&!n&&i(),placeholder:"Ask a question...",className:"flex-1 px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400",disabled:n}),d.jsx("button",{onClick:i,disabled:n||!t.trim(),className:"px-5 py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-lg hover:from-primary-700 hover:to-primary-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md font-semibold",children:d.jsx(FW,{className:"w-5 h-5"})})]})})]})}function Zwe({caseData:e,vitalsEnabled:t=!1,onToggleVitals:r}){const n=(e==null?void 0:e.physicalExam)||{},i=n.vitals||{},a=n.generalExam||"",s=n.systemicExam||"";return d.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-4 md:p-6 space-y-4 md:space-y-6 bg-gray-50",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Physical Examination"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI-generated examination findings"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-primary-100 p-2 rounded-lg",children:d.jsx(TW,{className:"w-5 h-5 text-primary-700"})}),d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Vital Signs"})]}),r&&d.jsx("button",{onClick:r,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${t?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t?d.jsxs(d.Fragment,{children:[d.jsx(b1,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"Enabled"})]}):d.jsxs(d.Fragment,{children:[d.jsx(f4,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"Enable Vitals"})]})})]}),t?d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 md:gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Blood Pressure"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 rounded-lg text-gray-900 font-medium",children:i.bp||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Heart Rate"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-red-50 to-red-100 border-2 border-red-200 rounded-lg text-gray-900 font-medium",children:i.hr||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Respiratory Rate"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-200 rounded-lg text-gray-900 font-medium",children:i.rr||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Temperature"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-orange-50 to-orange-100 border-2 border-orange-200 rounded-lg text-gray-900 font-medium",children:i.temp||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"SpO2"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-200 rounded-lg text-gray-900 font-medium",children:i.spo2||"Not recorded"})]})]}):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(f4,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),d.jsx("p",{className:"text-sm md:text-base",children:"Vital signs are hidden"}),d.jsx("p",{className:"text-xs md:text-sm mt-1",children:'Click "Enable Vitals" to view vital signs'})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4",children:"General Examination"}),d.jsx("div",{className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-lg min-h-[120px] text-gray-900",children:a?d.jsx(pi,{content:a}):d.jsx("p",{className:"text-gray-500",children:"General examination findings not available."})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("div",{className:"flex items-center gap-2 mb-4",children:d.jsx("span",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Systemic Examination"})}),d.jsx("div",{className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-lg min-h-[200px] text-gray-900",children:s?d.jsx(pi,{content:s}):d.jsx("p",{className:"text-gray-500",children:"Systemic examination findings not available."})})]})]})}const K7=[{name:"BEDSIDE TESTS",tests:["ECG","Blood Glucose","Urine Dipstick"]},{name:"BASIC LABS",tests:["CBC","CMP","ESR","CRP","TSH","Lipid Profile","LFT","RFT","ABG"]},{name:"ADVANCED LABS",tests:["Troponin","BNP","D-dimer","Coagulation Profile","Blood Culture","HbA1c"]},{name:"IMAGING",tests:["Chest X-Ray","CT Head","CT Chest","CT Abdomen","Abdominal Ultrasound","Echocardiogram"]}];K7.flatMap(e=>e.tests.map(t=>({test:t,category:e.name})));function Y7(e,t,r){if(r&&r[e])return r[e];const n=e.toLowerCase();return n.includes("ecg")?"Normal sinus rhythm, no acute changes":n.includes("glucose")?"Random blood glucose: 180 mg/dL (elevated)":n.includes("urine")?"Negative for nitrites, leukocyte esterase, protein, blood":n.includes("cbc")?"WBC: 15,000/L (elevated), Hb: 12 g/dL, Platelets: 250,000/L":n.includes("cmp")?"Na: 138 mEq/L, K: 4.2 mEq/L, Creatinine: 1.2 mg/dL, BUN: 45 mg/dL (elevated)":n.includes("crp")?"150 mg/L (markedly elevated)":n.includes("chest x-ray")||n.includes("chest xray")?"Consolidation in right lower lobe, consistent with pneumonia":n.includes("ct head")?"No acute intracranial pathology, age-appropriate atrophy":n.includes("ct chest")?"Right lower lobe consolidation with air bronchograms, consistent with pneumonia":n.includes("blood culture")?"Pending (results typically available in 48-72 hours)":n.includes("troponin")?"0.02 ng/mL (normal)":n.includes("bnp")?"200 pg/mL (mildly elevated)":n.includes("d-dimer")?"0.8 mg/L (elevated)":n.includes("abg")?"pH: 7.35, pCO2: 42 mmHg, pO2: 65 mmHg, HCO3: 22 mEq/L (respiratory acidosis with hypoxemia)":`Result for ${e}: See detailed report`}function j6(e,t){return t.some(r=>r.testName===e)}function Qwe({labOrders:e,labResults:t,onOrderTest:r,caseData:n}){const[i,a]=G.useState("order"),s=(l,c)=>{j6(l,e)||r(l,c)},o=l=>{const c=t.find(u=>u.testName===l);return c?c.result:Y7(l,n,n==null?void 0:n.labResults)};return d.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[d.jsx("div",{className:"bg-white border-b-2 border-gray-300 p-4 shadow-sm",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>a("order"),className:`px-6 py-2.5 rounded-lg font-semibold transition-all shadow-md ${i==="order"?"bg-gradient-to-r from-primary-600 to-primary-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Order Tests"}),d.jsx("button",{onClick:()=>a("view"),className:`px-6 py-2.5 rounded-lg font-semibold transition-all shadow-md ${i==="view"?"bg-gradient-to-r from-primary-600 to-primary-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"View Results"})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:i==="order"?d.jsx("div",{className:"space-y-4 md:space-y-6",children:K7.map(l=>d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 md:p-6 border border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4 pb-2 border-b-2 border-gray-200",children:l.name}),d.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3",children:l.tests.map(c=>{const u=j6(c,e);return d.jsxs("button",{onClick:()=>s(c,l.name),disabled:u,className:`px-4 py-2 rounded-lg text-sm md:text-base font-semibold transition-all shadow-sm ${u?"bg-gradient-to-r from-green-500 to-green-600 text-white cursor-not-allowed shadow-md":"bg-gray-100 text-gray-800 hover:bg-primary-100 hover:text-primary-700 hover:shadow-md border-2 border-gray-200"}`,children:[c,u&&" "]},c)})})]},l.name))}):d.jsx("div",{className:"space-y-4",children:e.length===0?d.jsx("div",{className:"bg-white rounded-xl shadow-md p-8 md:p-12 text-center border border-gray-200",children:d.jsx("p",{className:"text-gray-600 font-medium",children:'No tests ordered yet. Switch to "Order Tests" to order lab tests.'})}):e.map(l=>{const c=o(l.testName);return d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 md:p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b-2 border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:l.testName}),d.jsx("span",{className:"text-xs md:text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full font-medium",children:l.category})]}),d.jsx("p",{className:"text-gray-800 font-medium leading-relaxed",children:c})]},l.testName)})})})]})}function e5e({diagnosis:e,onUpdate:t,diagnosisMCQ:r,selectedDiagnosisMCQ:n,onDiagnosisMCQChange:i}){const[a,s]=G.useState(e);return G.useEffect(()=>{t(a)},[a,t]),d.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-4 md:p-6 bg-gray-50",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"bg-primary-100 p-2 rounded-lg",children:d.jsx(Da,{className:"w-5 h-5 md:w-6 md:h-6 text-primary-700"})}),d.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Enter Diagnosis"})]}),d.jsx("p",{className:"text-sm md:text-base text-gray-600 ml-12",children:"Enter your diagnosis based on the patient's history, physical examination findings, and laboratory results."})]}),r&&d.jsxs("div",{className:"mb-6 bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("label",{className:"block text-sm md:text-base font-semibold text-gray-900 mb-4",children:r.question}),d.jsx("div",{className:"space-y-3",children:r.options.map((o,l)=>d.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition-colors ${n===l?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:[d.jsx("input",{type:"radio",name:"diagnosis-mcq",value:l,checked:n===l,onChange:()=>i==null?void 0:i(l),className:"w-4 h-4 text-primary-600 focus:ring-primary-500 focus:ring-2"}),d.jsxs("span",{className:"ml-3 text-sm md:text-base text-gray-900 font-medium",children:[String.fromCharCode(65+l),". ",o]})]},l))}),n!=null&&d.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsx("span",{className:"font-semibold",children:"Selected:"})," ",r.options[n]]})})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm md:text-base font-semibold text-gray-700 mb-3",children:"Additional Notes (Optional)"}),d.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-2",children:"Provide additional details, reasoning, or differential diagnoses to support your answer."}),d.jsx("textarea",{value:a,onChange:o=>s(o.target.value),placeholder:"Enter additional notes about your diagnosis (e.g., reasoning, differential diagnoses, supporting findings, etc.)...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 min-h-[150px] md:min-h-[200px] text-gray-900 placeholder-gray-400 text-base leading-relaxed shadow-sm"})]}),a&&d.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl p-4 md:p-5 shadow-md",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-green-500 p-1.5 rounded-full",children:d.jsx(Nn,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold text-green-900 block",children:"Diagnosis Entered"}),d.jsx("span",{className:"text-sm text-green-800 mt-1 block",children:a})]})]})})]})}const t5e="AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",r5e="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";function n5e({user:e}){var Ue,Be,Qe,Je,Mt;const{assignmentId:t}=zm(),r=Ua(),n=Hs(),[i,a]=G.useState(null),[s,o]=G.useState(null),[l,c]=G.useState([]),[u,f]=G.useState(""),[p,h]=G.useState(!0),[y,g]=G.useState(!1),[b,v]=G.useState(0),[w,_]=G.useState(null),[N,S]=G.useState(!1),[j,P]=G.useState("chat"),[C,L]=G.useState(0),[F,k]=G.useState([]),[E,$]=G.useState([]),[M,B]=G.useState(""),[q,J]=G.useState(null),[W,Z]=G.useState(!1),[D,se]=G.useState(!1),T=10;G.useEffect(()=>{t&&(I(),Y())},[t]),G.useEffect(()=>{if(w){const be=async()=>{const{data:xe}=await Ie.from("simulation_runs").select("actions").eq("id",w).single(),Ae=((xe==null?void 0:xe.actions)||[]).some(Oe=>Oe.type==="management_submitted");se(Ae)};be();const le=Ie.channel(`run-${w}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"simulation_runs",filter:`id=eq.${w}`},()=>{be()}).subscribe();return()=>{le.unsubscribe()}}},[w]);const I=async()=>{try{const{data:be,error:le}=await Ie.from("assignments").select("*").eq("id",t).single();if(le)throw le;a(be);const{data:xe,error:ge}=await Ie.from("case_snapshots").select("*").eq("id",be.snapshot_id).single();if(ge)throw ge;o(xe);const{data:Ae}=await Ie.from("simulation_runs").select("*").eq("assignment_id",t).eq("student_id",e.id).is("submitted_at",null).order("created_at",{ascending:!1}).limit(1);let Oe;if(Ae&&Ae.length>0){if(Oe=Ae[0],_(Oe.id),Oe.transcript){const Re=Oe.transcript;Re.messages&&c(Re.messages.map(et=>({...et,timestamp:typeof et.timestamp=="string"?new Date(et.timestamp):et.timestamp}))),L(Re.hintsUsed||0),k(Re.labOrders||[]),$(Re.labResults||[]),B(Re.diagnosis||""),J(Re.diagnosisMCQAnswer??null),Z(Re.vitalsEnabled||!1)}}else{const{data:Re,error:et}=await Ie.from("simulation_runs").insert({assignment_id:t,student_id:e.id,started_at:new Date().toISOString(),transcript:{messages:[],hintsUsed:0,labOrders:[],labResults:[],diagnosis:"",diagnosisMCQAnswer:null,vitalsEnabled:!1}}).select().single();if(et)throw et;Oe=Re,_(Re.id)}}catch(be){console.error("Error loading assignment:",be),n.error("Failed to load assignment")}finally{h(!1)}},Y=()=>{const be=setInterval(()=>{v(le=>{var ge;const xe=le+1;if((ge=s==null?void 0:s.clinical_case)!=null&&ge.durationMinutes){const Ae=s.clinical_case.durationMinutes*60;xe>=Ae*.8&&!N&&S(!0)}return xe})},1e3);return()=>clearInterval(be)},ie=be=>{const le=Math.floor(be/60),xe=be%60;return`${le}:${xe.toString().padStart(2,"0")}`},te=async()=>{if(!w)return;const be={messages:l.map(le=>({...le,timestamp:le.timestamp instanceof Date?le.timestamp.toISOString():le.timestamp})),hintsUsed:C,labOrders:F,labResults:E,diagnosis:M,diagnosisMCQAnswer:q??void 0,vitalsEnabled:W};await Ie.from("simulation_runs").update({transcript:be}).eq("id",w)},de=(be,le)=>{var gt,Ke;if(!(s!=null&&s.clinical_case))return"";const xe=s.clinical_case,ge=((gt=xe.patientProfile)==null?void 0:gt.name)||"Patient",Ae=xe.historyOfPresentIllness||"",Oe=((Ke=xe.patientProfile)==null?void 0:Ke.prakriti)||"Sama",Re=xe.doshaAnalysis||{},et=le.slice(-5).map(tt=>`${tt.role==="user"?"Clinician":"Patient"}: ${tt.content}`).join(`
`);return`You are ${ge}, a virtual patient in an Ayurvedic medical simulation. You are speaking with a clinician who is examining you.

IMPORTANT: You are the PATIENT. The user asking questions is the CLINICIAN/DOCTOR. Do not switch roles.

Patient Context:
- History of Present Illness: ${Ae}
- Prakriti: ${Oe}
- Dosha Analysis: Vata ${Re.vata||33}%, Pitta ${Re.pitta||33}%, Kapha ${Re.kapha||34}%

Recent Conversation:
${et}

Clinician: ${be}

Respond as the patient would, staying in character. Be natural, concise (1-2 sentences), and consistent with the case. Do not reveal diagnosis or treatment unless asked directly about symptoms. Keep responses under 100 words.`},ve=be=>{if(!(s!=null&&s.clinical_case))return null;const le=s.clinical_case,xe=be.toLowerCase();if(xe.includes("physical exam")||xe.includes("vitals")||xe.includes("examination")){const ge=le.physicalExam;if(!ge)return"Physical examination information is not available. Please perform the examination yourself.";let Ae=`Based on the physical examination:
`;return ge.vitals&&(Ae+="Vitals: ",ge.vitals.bp&&(Ae+=`BP ${ge.vitals.bp}, `),ge.vitals.hr&&(Ae+=`HR ${ge.vitals.hr}, `),ge.vitals.rr&&(Ae+=`RR ${ge.vitals.rr}, `),ge.vitals.temp&&(Ae+=`Temp ${ge.vitals.temp}, `),ge.vitals.spo2&&(Ae+=`SpO2 ${ge.vitals.spo2}. `),Ae+=`
`),ge.generalExam&&(Ae+=`General Examination: ${ge.generalExam}
`),ge.systemicExam&&(Ae+=`Systemic Examination: ${ge.systemicExam}
`),Ae.trim()||"Physical examination findings are being documented."}if(xe.includes("lab")||xe.includes("test result")||xe.includes("investigation")){const ge=le.labResults||{};for(const[Ae,Oe]of Object.entries(ge))if(xe.includes(Ae.toLowerCase())||Ae.toLowerCase().includes(xe))return`${Ae}: ${Oe}`;return Object.keys(ge).length>0?`Lab results are available. Please check the Labs tab to view specific test results. Available tests: ${Object.keys(ge).join(", ")}`:"No lab results are available yet. Please order tests from the Labs tab."}return null},oe=async()=>{var ge,Ae,Oe,Re;if(!u.trim()||!w||!s)return;const be={role:"user",content:u,timestamp:new Date},le=[...l,be];c(le);const xe=u;f(""),g(!0);try{const et=ve(xe);if(et){const nt={role:"assistant",content:et,timestamp:new Date},er=[...le,nt];c(er),await te(),g(!1);return}if(s!=null&&s.id)try{const{data:nt}=await Ie.from("faq_cache").select("faq_data").eq("snapshot_id",s.id).single();if(nt!=null&&nt.faq_data){const er=nt.faq_data,hr=xe.toLowerCase().trim();for(const[or,Nt]of Object.entries(er)){const Gt=or.toLowerCase();if(hr.includes(Gt)||Gt.includes(hr)||hr.split(/\s+/).filter(ha=>ha.length>3&&Gt.includes(ha)).length>=2){const ha={role:"assistant",content:Nt,timestamp:new Date},Pn=[...le,ha];c(Pn),await te(),g(!1);return}}}}catch(nt){console.debug("FAQ cache check failed, using Gemini API:",nt)}const gt=de(xe,l);if(!gt)throw new Error("Unable to build patient context. Please refresh the page.");const Ke=await fetch(r5e,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":t5e},body:JSON.stringify({contents:[{parts:[{text:gt}]}],generationConfig:{temperature:.8,topK:40,topP:.95,maxOutputTokens:1024}})});if(!Ke.ok){if(Ke.status===429||Ke.status>=500)throw new Error("Could not generate due to server overload. Please wait a moment and try again.");const nt=await Ke.text();let er="Could not generate due to server overload. Please try again later.";try{const hr=JSON.parse(nt);(ge=hr.error)!=null&&ge.message&&Ke.status!==429&&Ke.status<500&&(er=hr.error.message)}catch{}throw new Error(er)}const tt=await Ke.json();if(!tt.candidates||tt.candidates.length===0)throw new Error("Could not generate due to server overload. Please try again later.");const Ye={role:"assistant",content:((Re=(Oe=(Ae=tt.candidates[0])==null?void 0:Ae.content)==null?void 0:Oe.parts[0])==null?void 0:Re.text)||"I'm sorry, I didn't understand that.",timestamp:new Date},ft=[...le,Ye];c(ft),await te()}catch(et){console.error("Error sending message:",et);const gt=et.message||"Could not generate due to server overload. Please try again later.";n.error(gt)}finally{g(!1)}},ye=async()=>{if(!(C>=T||!w||!s)){g(!0);try{const be=["Consider asking about the onset and progression of symptoms.","Think about the patient's dosha imbalance - what symptoms suggest this?","Review the physical examination findings carefully.","Consider what laboratory tests would be most helpful for this presentation.","Think about the differential diagnoses based on the chief complaint.","Consider the patient's age, gender, and prakriti in your assessment.","Review the history of present illness for key diagnostic clues.","Consider what additional history might be relevant.","Think about the most likely diagnosis given the symptoms.","Consider what treatment approach would be appropriate."],xe={role:"assistant",content:be[Math.floor(Math.random()*be.length)],timestamp:new Date};c([...l,xe]),L(C+1),await te()}catch(be){console.error("Error requesting hint:",be),n.error("Failed to get hint: "+be.message)}finally{g(!1)}}},ke=(be,le)=>{var Re;const xe={testName:be,category:le,orderedAt:new Date().toISOString()},ge=[...F,xe];k(ge);const Ae={testName:be,result:Y7(be,s==null?void 0:s.clinical_case,(Re=s==null?void 0:s.clinical_case)==null?void 0:Re.labResults),category:le},Oe=[...E,Ae];$(Oe),te()},ee=be=>{B(be),te()},he=async()=>{if(w)try{await te(),r(`/management/${w}?assignmentId=${t}`)}catch(be){console.error("Error saving diagnosis:",be),n.error("Failed to save diagnosis. Please try again.")}},ue=async()=>{var be,le,xe,ge,Ae,Oe,Re;if(w)try{const{data:et}=await Ie.from("simulation_runs").select("actions").eq("id",w).single();if(!((et==null?void 0:et.actions)||[]).some(nt=>nt.type==="management_submitted")){n.error("Please complete the management plan before final submission"),r(`/management/${w}?assignmentId=${t}`);return}let tt;try{tt=await Ie.functions.invoke("score_simulation",{body:{runId:w}})}catch(nt){throw console.error("Function invoke error (catch block):",nt),(be=nt.message)!=null&&be.includes("Failed to fetch")||(le=nt.message)!=null&&le.includes("NetworkError")||(xe=nt.message)!=null&&xe.includes("Failed to send")||!nt.message?new Error("Edge Function not available. Please ensure the score_simulation function is deployed in Supabase. Check the Supabase Dashboard  Edge Functions."):new Error(`Failed to call Edge Function: ${nt.message||"Unknown error"}`)}const{data:rt,error:Ye}=tt||{};if(Ye)throw console.error("Scoring function error details:",{error:Ye,message:Ye.message,context:Ye.context,status:Ye.status}),(ge=Ye.message)!=null&&ge.includes("Failed to send")||(Ae=Ye.message)!=null&&Ae.includes("fetch")||(Oe=Ye.message)!=null&&Oe.includes("NetworkError")||(Re=Ye.message)!=null&&Re.includes("Failed to fetch")?new Error("Edge Function not available. Please ensure the score_simulation function is deployed in Supabase. Check the Supabase Dashboard  Edge Functions."):new Error(Ye.message||"Failed to score simulation");if(!rt||!rt.score)throw console.error("Invalid response from scoring function:",rt),new Error("Invalid response from scoring function");const{error:ft}=await Ie.from("simulation_runs").update({submitted_at:new Date().toISOString(),score:rt.score}).eq("id",w);if(ft)throw console.error("Update error:",ft),new Error("Failed to update simulation run");r(`/debrief/${w}`)}catch(et){console.error("Error submitting:",et);const gt=et.message||"Please try again.";n.error(`Error submitting simulation: ${gt}. If this persists, the Edge Function may not be deployed. Please check Supabase Dashboard  Edge Functions.`)}};if(p)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});const X=((Be=(Ue=s==null?void 0:s.clinical_case)==null?void 0:Ue.patientProfile)==null?void 0:Be.name)||"Patient",ze=(((Qe=s==null?void 0:s.clinical_case)==null?void 0:Qe.durationMinutes)||15)*60,He=b/ze*100,Ne=b>=ze;return d.jsxs("div",{className:"flex flex-col h-screen bg-gradient-to-br from-gray-50 to-gray-100 pb-20 md:pb-4",children:[d.jsxs("div",{className:"bg-white border-b-2 border-gray-300 shadow-sm p-4 md:p-6",children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-8 w-auto object-contain hidden md:block"}),d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center shadow-md",children:d.jsx($s,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:X}),d.jsx("p",{className:"text-sm md:text-base text-gray-600",children:((Je=s==null?void 0:s.clinical_case)==null?void 0:Je.title)||"Clinical Case"})]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mt-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(bu,{className:`w-5 h-5 ${N?"text-red-600":"text-gray-700"}`}),d.jsxs("span",{className:`font-mono text-base md:text-lg font-semibold ${N?"text-red-600":"text-gray-900"}`,children:[ie(b)," / ",ie(ze)]}),N&&!Ne&&d.jsx("span",{className:"text-xs md:text-sm text-red-600 font-medium bg-red-50 px-2 py-1 rounded",children:"Time running out!"})]}),Ne&&d.jsxs("span",{className:"text-sm text-red-700 font-semibold flex items-center gap-2 bg-red-50 px-3 py-1.5 rounded-lg",children:[d.jsx(g1,{className:"w-5 h-5"}),"Time's up!"]})]}),d.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-3 shadow-inner",children:d.jsx("div",{className:`h-3 rounded-full transition-all shadow-sm ${He>=100?"bg-red-600":He>=80?"bg-yellow-500":"bg-primary-600"}`,style:{width:`${Math.min(He,100)}%`}})})]}),d.jsx(Xwe,{activeTab:j,onTabChange:P}),d.jsxs("div",{className:"flex-1 overflow-hidden",children:[j==="chat"&&d.jsx(Jwe,{messages:l,input:u,setInput:f,sending:y,onSendMessage:oe,onRequestHint:ye,hintsRemaining:T-C}),j==="exam"&&d.jsx(Zwe,{caseData:s==null?void 0:s.clinical_case,vitalsEnabled:W,onToggleVitals:async()=>{const be=!W;if(Z(be),w){const le={messages:l.map(xe=>({...xe,timestamp:xe.timestamp instanceof Date?xe.timestamp.toISOString():xe.timestamp})),hintsUsed:C,labOrders:F,labResults:E,diagnosis:M,vitalsEnabled:be};await Ie.from("simulation_runs").update({transcript:le}).eq("id",w)}}}),j==="labs"&&d.jsx(Qwe,{labOrders:F,labResults:E,onOrderTest:ke,caseData:s==null?void 0:s.clinical_case}),j==="diagnosis"&&d.jsx(e5e,{diagnosis:M,onUpdate:ee,diagnosisMCQ:(Mt=s==null?void 0:s.clinical_case)==null?void 0:Mt.diagnosisMCQ,selectedDiagnosisMCQ:q,onDiagnosisMCQChange:async be=>{if(J(be),w){const le={messages:l.map(xe=>({...xe,timestamp:xe.timestamp instanceof Date?xe.timestamp.toISOString():xe.timestamp})),hintsUsed:C,labOrders:F,labResults:E,diagnosis:M,diagnosisMCQAnswer:be,vitalsEnabled:W};await Ie.from("simulation_runs").update({transcript:le}).eq("id",w)}}})]}),d.jsxs("div",{className:"bg-white border-t border-gray-200 p-4",children:[D?d.jsxs("button",{onClick:ue,disabled:!w,className:"w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(Nn,{className:"w-4 h-4"}),"Final Submit for Scoring"]}):d.jsxs("button",{onClick:he,disabled:!w,className:"w-full px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(Nn,{className:"w-4 h-4"}),"Submit Diagnosis"]}),Ne&&d.jsx("p",{className:"text-xs text-red-600 mt-2 text-center",children:"Your time is up. You can still submit your responses."})]}),d.jsx(Mn,{role:"student"}),d.jsx(Lo,{toasts:n.toasts,onClose:n.removeToast})]})}function i5e({}){const{runId:e}=zm(),t=Ua(),r=Hs(),[n,i]=G.useState(!0),[a,s]=G.useState(!1),[o,l]=G.useState(null),[c,u]=G.useState([]),[f,p]=G.useState([]),[h,y]=G.useState(""),[g,b]=G.useState(""),[v,w]=G.useState(""),[_,N]=G.useState(!1),[S,j]=G.useState(!1);G.useEffect(()=>{e&&P()},[e]);const P=async()=>{var $,M;try{const{data:B,error:q}=await Ie.from("simulation_runs").select("*, assignments!inner(snapshot_id, case_snapshots!inner(clinical_case))").eq("id",e).single();if(q||!B)throw new Error("Simulation run not found");const J=($=B.assignments)==null?void 0:$.case_snapshots;if(!J||!J.clinical_case)throw new Error("Case data not found");const W=J.clinical_case.managementOptions;if(!W)throw new Error("Management options not available for this case");l(W);const D=(B.actions||[]).find(se=>se.type==="management_submitted"||se.type==="management_draft");if(D){const se=D.payload;u(se.immediate||[]),p(se.investigations||[]),y(se.definitive||""),b(se.otherText||""),w(se.freeText||""),N(((M=se.immediate)==null?void 0:M.includes("immediate-other"))||!1),j(D.type==="management_draft")}}catch(B){console.error("Error loading management plan:",B),r.error(B.message||"Failed to load management plan")}finally{i(!1)}},C=$=>{$==="immediate-other"?(N(!_),_?(u(c.filter(M=>M!=="immediate-other")),b("")):u([...c,"immediate-other"])):c.includes($)?u(c.filter(M=>M!==$)):u([...c,$])},L=$=>{f.includes($)?p(f.filter(M=>M!==$)):p([...f,$])},F=$=>{y($)},k=async()=>{var $,M;if(e){s(!0);try{const{data:B,error:q}=await Ie.from("simulation_runs").select("actions").eq("id",e).single();if(q&&q.code!=="PGRST116")throw q;const J=(B==null?void 0:B.actions)||[],W=J.findIndex(T=>T.type==="management_draft"||T.type==="management_submitted"),Z={type:"management_draft",payload:{immediate:c,investigations:f,definitive:h,freeText:v,otherText:_?g:void 0},timestamp:new Date().toISOString()};let D;W>=0?(D=[...J],D[W]=Z):D=[...J,Z];const{error:se}=await Ie.from("simulation_runs").update({actions:D}).eq("id",e);if(se)throw se.code==="42703"||($=se.message)!=null&&$.includes("column")||(M=se.message)!=null&&M.includes("actions")?new Error("Database column not found. Please run the SQL migration to add the actions column."):se;j(!0),r.success("Draft saved successfully")}catch(B){console.error("Error saving draft:",B),r.error(B.message||"Failed to save draft")}finally{s(!1)}}},E=async()=>{var $,M,B,q,J,W;if(e){if(!h){r.error("Please select a definitive management option");return}s(!0);try{const{error:Z}=await Ie.functions.invoke("submit_management",{body:{runId:e,immediate:c,investigations:f,definitive:h,freeText:v.trim()||void 0,otherText:_?g.trim():void 0}});if(Z)throw Z;r.success("Management plan submitted. Scoring your case...");let D;try{D=await Ie.functions.invoke("score_simulation",{body:{runId:e}})}catch(Y){throw console.error("Function invoke error:",Y),($=Y.message)!=null&&$.includes("Failed to fetch")||(M=Y.message)!=null&&M.includes("NetworkError")||(B=Y.message)!=null&&B.includes("Failed to send")||!Y.message?new Error("Edge Function not available. Please ensure the score_simulation function is deployed in Supabase."):new Error(`Failed to call scoring function: ${Y.message||"Unknown error"}`)}const{data:se,error:T}=D||{};if(T)throw console.error("Score function error:",T),(q=T.message)!=null&&q.includes("Failed to fetch")||(J=T.message)!=null&&J.includes("NetworkError")||(W=T.message)!=null&&W.includes("Failed to send")?new Error("Edge Function not available. Please ensure the score_simulation function is deployed in Supabase."):new Error(T.message||"Failed to score simulation");if(!se||!se.score)throw new Error("Scoring completed but no score data returned");const{error:I}=await Ie.from("simulation_runs").update({submitted_at:new Date().toISOString(),score:se.score}).eq("id",e);if(I)throw console.error("Update error:",I),new Error("Failed to update simulation run");r.success("Case submitted successfully!"),t("/debrief/"+e)}catch(Z){console.error("Error confirming and submitting:",Z),r.error(Z.message||"Failed to confirm and submit case")}finally{s(!1)}}};return n?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):o?d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsx("div",{className:"bg-white border-b-2 border-gray-300 shadow-sm p-4 md:p-6",children:d.jsx("div",{className:"flex items-center justify-between mb-2",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:async()=>{const{data:$}=await Ie.from("simulation_runs").select("assignment_id").eq("id",e).single();$!=null&&$.assignment_id?t("/simulation/"+$.assignment_id+"?tab=diagnosis"):t("/home")},className:"text-gray-600 hover:text-gray-900",children:d.jsx(Xd,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Management Plan"}),d.jsx("p",{className:"text-sm text-gray-600",children:" "})]})]})})}),d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(oj,{className:"w-5 h-5 text-red-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Section A - Immediate / Stabilizing Actions"})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select primary immediate actions (multi-select)"}),d.jsx("div",{className:"space-y-3",children:o.immediateActions.map($=>{const M=c.includes($.id);return d.jsxs("label",{className:"flex items-start p-3 border-2 rounded-lg cursor-pointer transition-colors "+(M?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"),children:[d.jsx("input",{type:"checkbox",checked:c.includes($.id),onChange:()=>C($.id),className:"mt-1 w-4 h-4 text-primary-600 focus:ring-primary-500 focus:ring-2 rounded"}),d.jsx("span",{className:"ml-3 text-sm md:text-base text-gray-900 font-medium flex-1",children:$.text})]},$.id)})}),_&&d.jsx("div",{className:"mt-4",children:d.jsx("textarea",{value:g,onChange:$=>b($.target.value),placeholder:"Enter your alternative management plan...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:3})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(g8,{className:"w-5 h-5 text-blue-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Section B - Investigations to Order"})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select relevant tests (multi-select)"}),d.jsx("div",{className:"space-y-3",children:o.investigations.map($=>{const M=f.includes($.id);return d.jsxs("label",{className:"flex items-start p-3 border-2 rounded-lg cursor-pointer transition-colors "+(M?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"),children:[d.jsx("input",{type:"checkbox",checked:f.includes($.id),onChange:()=>L($.id),className:"mt-1 w-4 h-4 text-primary-600 focus:ring-primary-500 focus:ring-2 rounded"}),d.jsx("span",{className:"ml-3 text-sm md:text-base text-gray-900 font-medium flex-1",children:$.text})]},$.id)})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx($y,{className:"w-5 h-5 text-green-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Section C - Definitive Management / Disposition"})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select disposition (single-select)"}),d.jsx("div",{className:"space-y-3",children:o.definitiveManagement.map($=>{const M=h===$.id;return d.jsxs("label",{className:"flex items-center p-3 border-2 rounded-lg cursor-pointer transition-colors "+(M?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"),children:[d.jsx("input",{type:"radio",name:"definitive",value:$.id,checked:h===$.id,onChange:()=>F($.id),className:"w-4 h-4 text-green-600 focus:ring-green-500 focus:ring-2"}),d.jsx("span",{className:"ml-3 text-sm md:text-base text-gray-900 font-medium flex-1",children:$.text})]},$.id)})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brief reasoning (optional, max 400 chars)"}),d.jsx("textarea",{value:v,onChange:$=>{$.target.value.length<=400&&w($.target.value)},placeholder:"Brief management rationale...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:4}),d.jsxs("div",{className:"text-right text-xs text-gray-500 mt-1",children:[v.length,"/400 characters"]})]}),d.jsxs("div",{className:"flex gap-4 pb-6",children:[d.jsx("button",{onClick:async()=>{const{data:$}=await Ie.from("simulation_runs").select("assignment_id").eq("id",e).single();$!=null&&$.assignment_id?t("/simulation/"+$.assignment_id+"?tab=diagnosis"):t("/home")},className:"flex-1 px-4 py-3 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 font-medium",children:"Back to Diagnosis"}),d.jsxs("button",{onClick:k,disabled:a,className:"px-4 py-3 bg-gray-500 text-white rounded-md hover:bg-gray-600 disabled:opacity-50 font-medium flex items-center gap-2",children:[d.jsx(BW,{className:"w-4 h-4"}),"Save Draft"]}),d.jsxs("button",{onClick:E,disabled:a||!h,className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium flex items-center justify-center gap-2",children:[d.jsx(Nn,{className:"w-4 h-4"}),"Confirm and Submit"]})]}),S&&d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800",children:'You have a saved draft. Click "Confirm and Submit" to finalize your submission.'})]}),d.jsx(Mn,{role:"student"}),d.jsx(Lo,{toasts:r.toasts,onClose:r.removeToast})]}):d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-gray-600 mb-4",children:"Management options not available"}),d.jsx("button",{onClick:()=>t("/home"),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Go Back"})]})})}function a5e({activeTab:e,onTabChange:t}){const r=[{id:"feedback",label:"Feedback",icon:Da},{id:"review",label:"Review",icon:b1},{id:"questions",label:"Questions",icon:IW}];return d.jsx("div",{className:"bg-white border-b border-gray-200",children:d.jsx("div",{className:"flex overflow-x-auto",children:r.map(n=>{const i=n.icon,a=e===n.id;return d.jsxs("button",{onClick:()=>t(n.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${a?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[d.jsx(i,{className:"w-4 h-4"}),n.label]},n.id)})})})}function s5e({accuracy:e,timeTaken:t,currentStreak:r}){return d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Accuracy"}),d.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[e,"%"]})]}),d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Time Taken"}),d.jsx("div",{className:"text-3xl font-bold text-blue-600",children:t})]}),d.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Current Streak"}),d.jsxs("div",{className:"text-3xl font-bold text-yellow-600 flex items-center gap-1",children:[r,d.jsx("span",{className:"text-2xl",children:""})]})]})]})}function o5e({reasoning:e}){const r=(n=>{const i=n.match(/\d+\.\s+[^\n]+/g);if(i&&i.length>0)return i.map(s=>s.replace(/^\d+\.\s+/,""));const a=n.split(/[.!?]\s+/).filter(s=>s.trim().length>20);return a.length>=3?a.slice(0,5):[n]})(e);return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stepwise clinical reasoning"}),d.jsx("div",{className:"space-y-2",children:r.map((n,i)=>d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsxs("span",{className:"font-semibold text-gray-700 flex-shrink-0",children:[i+1,"."]}),d.jsx("span",{className:"text-sm text-gray-900 flex-1",children:n.trim()})]},i))})]})}function l5e({potentialDiagnoses:e,studentDiagnosis:t,correctDiagnosis:r}){const[n,i]=G.useState(!0);return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>i(!n),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"DIFFERENTIALS REVIEW"}),d.jsx(v1,{className:`w-5 h-5 text-gray-500 transition-transform ${n?"":"rotate-180"}`})]}),n&&d.jsx("div",{className:"space-y-3",children:e.map((a,s)=>{const o=a.dx===r;return d.jsx("div",{className:`p-4 rounded-lg border-2 ${o?"bg-green-50 border-green-200":"bg-white border-gray-200"}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[o&&d.jsx(Nn,{className:"w-5 h-5 text-green-600"}),d.jsx("span",{className:"font-medium text-gray-900",children:a.dx})]})},s)})})]})}function c5e({pearls:e}){const[t,r]=G.useState(!0);return!e||e.length===0?null:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!t),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"4) Learning pearls (1-line each)"}),d.jsx(v1,{className:`w-5 h-5 text-gray-500 transition-transform ${t?"":"rotate-180"}`})]}),t&&d.jsx("div",{className:"space-y-3",children:e.map((n,i)=>d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(v8,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),d.jsx("div",{className:"text-gray-700 text-sm leading-relaxed flex-1",children:d.jsx(pi,{content:n})})]},i))})]})}function u5e({references:e}){const[t,r]=G.useState(!0);return!e||e.length===0?null:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!t),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"FURTHER READING"}),d.jsx(v1,{className:`w-5 h-5 text-gray-500 transition-transform ${t?"":"rotate-180"}`})]}),t&&d.jsx("div",{className:"space-y-3",children:e.map((n,i)=>d.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(y1,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:n.title}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:n.reference})]})]})},i))})]})}function d5e({osceFeedback:e}){const[t,r]=G.useState(new Set),n=i=>{const a=new Set(t);a.has(i)?a.delete(i):a.add(i),r(a)};return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"1) OSCE feedback  per rubric section"}),d.jsx("div",{className:"space-y-3",children:e.categories.map((i,a)=>{const s=t.has(i.id),o=a===0;return d.jsxs("div",{className:`border-2 rounded-lg transition-all ${s&&o?"bg-amber-50 border-amber-300":"bg-white border-gray-200 hover:border-gray-300"}`,children:[d.jsxs("button",{onClick:()=>n(i.id),className:"w-full p-4 flex items-center justify-between text-left cursor-pointer",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"font-semibold text-gray-900",children:i.nameHindi}),i.nameEnglish&&d.jsxs("span",{className:"text-sm text-gray-600",children:["(",i.nameEnglish,")"]})]}),d.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:[i.itemsCompleted," of ",i.totalItems," items completed"]}),d.jsx("div",{className:"text-xs text-gray-500",children:"Tap to expand"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[Math.round(i.earnedScore),"/",i.maxScore]}),s?d.jsx(v1,{className:"w-5 h-5 text-gray-600"}):d.jsx(PW,{className:"w-5 h-5 text-gray-600"})]})]}),s&&d.jsxs("div",{className:"px-4 pb-4 border-t border-gray-200 pt-4",children:[i.checklistItems.length>0?d.jsx("div",{className:"space-y-2",children:i.checklistItems.map((l,c)=>d.jsxs("div",{className:`flex items-start gap-2 p-3 rounded-lg ${l.completed?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[l.completed?d.jsx(Nn,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}):d.jsx(Ai,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-sm text-gray-900 flex-1",children:l.text})]},l.id||c))}):d.jsx("div",{className:"text-sm text-gray-600 italic",children:"No checklist items available for this category."}),i.rubrics.length>0&&d.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[d.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Rubric Details:"}),d.jsx("div",{className:"space-y-2",children:i.rubrics.map((l,c)=>d.jsxs("div",{className:"text-sm",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("span",{className:"text-gray-900",children:l.description}),d.jsxs("span",{className:"text-gray-600",children:[l.pointsEarned.toFixed(1)," / ",l.maxPoints," points"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${l.percentage>=70?"bg-green-600":l.percentage>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(l.percentage,100)}%`}})}),l.feedback&&d.jsx("p",{className:"text-xs text-gray-600 mt-1 italic",children:l.feedback})]},l.id||c))})]})]})]},i.id)})})]})}const f5e="modulepreload",h5e=function(e){return"/"+e},N6={},x2=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=h5e(l),l in N6)return;N6[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":f5e,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})};function ur(e){"@babel/helpers - typeof";return ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ur(e)}var ps=Uint8Array,sa=Uint16Array,LN=Int32Array,RN=new ps([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$N=new ps([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),A6=new ps([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),X7=function(e,t){for(var r=new sa(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new LN(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},J7=X7(RN,2),p5e=J7.b,z_=J7.r;p5e[28]=258,z_[258]=28;var m5e=X7($N,0),k6=m5e.r,q_=new sa(32768);for(var Tr=0;Tr<32768;++Tr){var dl=(Tr&43690)>>1|(Tr&21845)<<1;dl=(dl&52428)>>2|(dl&13107)<<2,dl=(dl&61680)>>4|(dl&3855)<<4,q_[Tr]=((dl&65280)>>8|(dl&255)<<8)>>1}var kp=function(e,t,r){for(var n=e.length,i=0,a=new sa(t);i<n;++i)e[i]&&++a[e[i]-1];var s=new sa(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new sa(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],f=s[e[i]-1]++<<u,p=f|(1<<u)-1;f<=p;++f)o[q_[f]>>l]=c}else for(o=new sa(n),i=0;i<n;++i)e[i]&&(o[i]=q_[s[e[i]-1]++]>>15-e[i]);return o},pu=new ps(288);for(var Tr=0;Tr<144;++Tr)pu[Tr]=8;for(var Tr=144;Tr<256;++Tr)pu[Tr]=9;for(var Tr=256;Tr<280;++Tr)pu[Tr]=7;for(var Tr=280;Tr<288;++Tr)pu[Tr]=8;var Gv=new ps(32);for(var Tr=0;Tr<32;++Tr)Gv[Tr]=5;var g5e=kp(pu,9,0),y5e=kp(Gv,5,0),Z7=function(e){return(e+7)/8|0},v5e=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ps(e.subarray(t,r))},fo=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Xh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},w2=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:eD,l:0};if(i==1){var s=new ps(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(S,j){return S.f-j.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=a[0].s,n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var h=new sa(p+1),y=W_(r[u-1],h,0);if(y>t){var n=0,g=0,b=y-t,v=1<<b;for(a.sort(function(j,P){return h[P.s]-h[j.s]||j.f-P.f});n<i;++n){var w=a[n].s;if(h[w]>t)g+=v-(1<<y-h[w]),h[w]=t;else break}for(g>>=b;g>0;){var _=a[n].s;h[_]<t?g-=1<<t-h[_]++-1:++n}for(;n>=0&&g;--n){var N=a[n].s;h[N]==t&&(--h[N],++g)}y=t}return{t:new ps(h),l:y}},W_=function(e,t,r){return e.s==-1?Math.max(W_(e.l,t,r+1),W_(e.r,t,r+1)):t[e.s]=r},O6=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new sa(++t),n=0,i=e[0],a=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==i&&o!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[o]}return{c:r.subarray(0,n),n:t}},Jh=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Q7=function(e,t,r){var n=r.length,i=Z7(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},E6=function(e,t,r,n,i,a,s,o,l,c,u){fo(t,u++,r),++i[256];for(var f=w2(i,15),p=f.t,h=f.l,y=w2(a,15),g=y.t,b=y.l,v=O6(p),w=v.c,_=v.n,N=O6(g),S=N.c,j=N.n,P=new sa(19),C=0;C<w.length;++C)++P[w[C]&31];for(var C=0;C<S.length;++C)++P[S[C]&31];for(var L=w2(P,7),F=L.t,k=L.l,E=19;E>4&&!F[A6[E-1]];--E);var $=c+5<<3,M=Jh(i,pu)+Jh(a,Gv)+s,B=Jh(i,p)+Jh(a,g)+s+14+3*E+Jh(P,F)+2*P[16]+3*P[17]+7*P[18];if(l>=0&&$<=M&&$<=B)return Q7(t,u,e.subarray(l,l+c));var q,J,W,Z;if(fo(t,u,1+(B<M)),u+=2,B<M){q=kp(p,h,0),J=p,W=kp(g,b,0),Z=g;var D=kp(F,k,0);fo(t,u,_-257),fo(t,u+5,j-1),fo(t,u+10,E-4),u+=14;for(var C=0;C<E;++C)fo(t,u+3*C,F[A6[C]]);u+=3*E;for(var se=[w,S],T=0;T<2;++T)for(var I=se[T],C=0;C<I.length;++C){var Y=I[C]&31;fo(t,u,D[Y]),u+=F[Y],Y>15&&(fo(t,u,I[C]>>5&127),u+=I[C]>>12)}}else q=g5e,J=pu,W=y5e,Z=Gv;for(var C=0;C<o;++C){var ie=n[C];if(ie>255){var Y=ie>>18&31;Xh(t,u,q[Y+257]),u+=J[Y+257],Y>7&&(fo(t,u,ie>>23&31),u+=RN[Y]);var te=ie&31;Xh(t,u,W[te]),u+=Z[te],te>3&&(Xh(t,u,ie>>5&8191),u+=$N[te])}else Xh(t,u,q[ie]),u+=J[ie]}return Xh(t,u,q[256]),u+J[256]},b5e=new LN([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),eD=new ps(0),x5e=function(e,t,r,n,i,a){var s=a.z||e.length,o=new ps(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),c=a.l,u=(a.r||0)&7;if(t){u&&(l[0]=a.r>>3);for(var f=b5e[t-1],p=f>>13,h=f&8191,y=(1<<r)-1,g=a.p||new sa(32768),b=a.h||new sa(y+1),v=Math.ceil(r/3),w=2*v,_=function(ue){return(e[ue]^e[ue+1]<<v^e[ue+2]<<w)&y},N=new LN(25e3),S=new sa(288),j=new sa(32),P=0,C=0,L=a.i||0,F=0,k=a.w||0,E=0;L+2<s;++L){var $=_(L),M=L&32767,B=b[$];if(g[M]=B,b[$]=M,k<=L){var q=s-L;if((P>7e3||F>24576)&&(q>423||!c)){u=E6(e,l,0,N,S,j,C,F,E,L-E,u),F=P=C=0,E=L;for(var J=0;J<286;++J)S[J]=0;for(var J=0;J<30;++J)j[J]=0}var W=2,Z=0,D=h,se=M-B&32767;if(q>2&&$==_(L-se))for(var T=Math.min(p,q)-1,I=Math.min(32767,L),Y=Math.min(258,q);se<=I&&--D&&M!=B;){if(e[L+W]==e[L+W-se]){for(var ie=0;ie<Y&&e[L+ie]==e[L+ie-se];++ie);if(ie>W){if(W=ie,Z=se,ie>T)break;for(var te=Math.min(se,ie-2),de=0,J=0;J<te;++J){var ve=L-se+J&32767,oe=g[ve],ye=ve-oe&32767;ye>de&&(de=ye,B=ve)}}}M=B,B=g[M],se+=M-B&32767}if(Z){N[F++]=268435456|z_[W]<<18|k6[Z];var ke=z_[W]&31,ee=k6[Z]&31;C+=RN[ke]+$N[ee],++S[257+ke],++j[ee],k=L+W,++P}else N[F++]=e[L],++S[e[L]]}}for(L=Math.max(L,k);L<s;++L)N[F++]=e[L],++S[e[L]];u=E6(e,l,c,N,S,j,C,F,E,L-E,u),c||(a.r=u&7|l[u/8|0]<<3,u-=7,a.h=b,a.p=g,a.i=L,a.w=k)}else{for(var L=a.w||0;L<s+c;L+=65535){var he=L+65535;he>=s&&(l[u/8|0]=c,he=s),u=Q7(l,u+1,e.subarray(L,he))}a.i=s}return v5e(o,0,n+Z7(u)+i)},tD=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},w5e=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new ps(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return x5e(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},rD=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},_5e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=tD();i.p(t.dictionary),rD(e,2,i.d())}};function H_(e,t){t||(t={});var r=tD();r.p(e);var n=w5e(e,t,t.dictionary?6:2,4);return _5e(n,t),rD(n,n.length-4,r.d()),n}var S5e=typeof TextDecoder<"u"&&new TextDecoder,j5e=0;try{S5e.decode(eD,{stream:!0}),j5e=1}catch{}function N5e(e){if(Array.isArray(e))return e}function A5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function P6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function k5e(e,t){if(e){if(typeof e=="string")return P6(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P6(e,t):void 0}}function O5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C6(e,t){return N5e(e)||A5e(e,t)||k5e(e,t)||O5e()}function T6(e,t="utf8"){return new TextDecoder(t).decode(e)}const E5e=new TextEncoder;function P5e(e){return E5e.encode(e)}const C5e=1024*8,T5e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),_2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class MN{constructor(t=C5e,r={}){rr(this,"buffer");rr(this,"byteLength");rr(this,"byteOffset");rr(this,"length");rr(this,"offset");rr(this,"lastWrittenByte");rr(this,"littleEndian");rr(this,"_data");rr(this,"_mark");rr(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,a=t.byteLength-i;let s=i;(ArrayBuffer.isView(t)||t instanceof MN)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=_2[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===T5e&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new _2[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new _2[r](a);return this.offset+=n,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return T6(this.readBytes(t))}decodeText(t=1,r="utf8"){return T6(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(P5e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function eh(e){let t=e.length;for(;--t>=0;)e[t]=0}const I5e=3,L5e=258,nD=29,R5e=256,$5e=R5e+1+nD,iD=30,M5e=512,D5e=new Array(($5e+2)*2);eh(D5e);const B5e=new Array(iD*2);eh(B5e);const F5e=new Array(M5e);eh(F5e);const U5e=new Array(L5e-I5e+1);eh(U5e);const z5e=new Array(nD);eh(z5e);const q5e=new Array(iD);eh(q5e);const W5e=(e,t,r,n)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+t[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var V_=W5e;const H5e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},V5e=new Uint32Array(H5e()),G5e=(e,t,r,n)=>{const i=V5e,a=n+r;e^=-1;for(let s=n;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1};var As=G5e,G_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},aD={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const K5e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Y5e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)K5e(r,n)&&(e[n]=r[n])}}return e},X5e=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let s=e[n];r.set(s,i),i+=s.length}return r},sD={assign:Y5e,flattenChunks:X5e};let oD=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{oD=!1}const Rm=new Uint8Array(256);for(let e=0;e<256;e++)Rm[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Rm[254]=Rm[254]=1;var J5e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,s=e.length,o=0;for(i=0;i<s;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),a=0,i=0;a<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const Z5e=(e,t)=>{if(t<65534&&e.subarray&&oD)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var Q5e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=e[n++];if(s<128){a[i++]=s;continue}let o=Rm[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|e[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return Z5e(a,i)},e_e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Rm[e[r]]>t?r:t},K_={string2buf:J5e,buf2string:Q5e,utf8border:e_e};function t_e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var r_e=t_e;const P0=16209,n_e=16191;var i_e=function(t,r){let n,i,a,s,o,l,c,u,f,p,h,y,g,b,v,w,_,N,S,j,P,C,L,F;const k=t.state;n=t.next_in,L=t.input,i=n+(t.avail_in-5),a=t.next_out,F=t.output,s=a-(r-t.avail_out),o=a+(t.avail_out-257),l=k.dmax,c=k.wsize,u=k.whave,f=k.wnext,p=k.window,h=k.hold,y=k.bits,g=k.lencode,b=k.distcode,v=(1<<k.lenbits)-1,w=(1<<k.distbits)-1;e:do{y<15&&(h+=L[n++]<<y,y+=8,h+=L[n++]<<y,y+=8),_=g[h&v];t:for(;;){if(N=_>>>24,h>>>=N,y-=N,N=_>>>16&255,N===0)F[a++]=_&65535;else if(N&16){S=_&65535,N&=15,N&&(y<N&&(h+=L[n++]<<y,y+=8),S+=h&(1<<N)-1,h>>>=N,y-=N),y<15&&(h+=L[n++]<<y,y+=8,h+=L[n++]<<y,y+=8),_=b[h&w];r:for(;;){if(N=_>>>24,h>>>=N,y-=N,N=_>>>16&255,N&16){if(j=_&65535,N&=15,y<N&&(h+=L[n++]<<y,y+=8,y<N&&(h+=L[n++]<<y,y+=8)),j+=h&(1<<N)-1,j>l){t.msg="invalid distance too far back",k.mode=P0;break e}if(h>>>=N,y-=N,N=a-s,j>N){if(N=j-N,N>u&&k.sane){t.msg="invalid distance too far back",k.mode=P0;break e}if(P=0,C=p,f===0){if(P+=c-N,N<S){S-=N;do F[a++]=p[P++];while(--N);P=a-j,C=F}}else if(f<N){if(P+=c+f-N,N-=f,N<S){S-=N;do F[a++]=p[P++];while(--N);if(P=0,f<S){N=f,S-=N;do F[a++]=p[P++];while(--N);P=a-j,C=F}}}else if(P+=f-N,N<S){S-=N;do F[a++]=p[P++];while(--N);P=a-j,C=F}for(;S>2;)F[a++]=C[P++],F[a++]=C[P++],F[a++]=C[P++],S-=3;S&&(F[a++]=C[P++],S>1&&(F[a++]=C[P++]))}else{P=a-j;do F[a++]=F[P++],F[a++]=F[P++],F[a++]=F[P++],S-=3;while(S>2);S&&(F[a++]=F[P++],S>1&&(F[a++]=F[P++]))}}else if(N&64){t.msg="invalid distance code",k.mode=P0;break e}else{_=b[(_&65535)+(h&(1<<N)-1)];continue r}break}}else if(N&64)if(N&32){k.mode=n_e;break e}else{t.msg="invalid literal/length code",k.mode=P0;break e}else{_=g[(_&65535)+(h&(1<<N)-1)];continue t}break}}while(n<i&&a<o);S=y>>3,n-=S,y-=S<<3,h&=(1<<y)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<o?257+(o-a):257-(a-o),k.hold=h,k.bits=y};const Qu=15,I6=852,L6=592,R6=0,S2=1,$6=2,a_e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),s_e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),o_e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),l_e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),c_e=(e,t,r,n,i,a,s,o)=>{const l=o.bits;let c=0,u=0,f=0,p=0,h=0,y=0,g=0,b=0,v=0,w=0,_,N,S,j,P,C=null,L;const F=new Uint16Array(Qu+1),k=new Uint16Array(Qu+1);let E=null,$,M,B;for(c=0;c<=Qu;c++)F[c]=0;for(u=0;u<n;u++)F[t[r+u]]++;for(h=l,p=Qu;p>=1&&F[p]===0;p--);if(h>p&&(h=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<p&&F[f]===0;f++);for(h<f&&(h=f),b=1,c=1;c<=Qu;c++)if(b<<=1,b-=F[c],b<0)return-1;if(b>0&&(e===R6||p!==1))return-1;for(k[1]=0,c=1;c<Qu;c++)k[c+1]=k[c]+F[c];for(u=0;u<n;u++)t[r+u]!==0&&(s[k[t[r+u]]++]=u);if(e===R6?(C=E=s,L=20):e===S2?(C=a_e,E=s_e,L=257):(C=o_e,E=l_e,L=0),w=0,u=0,c=f,P=a,y=h,g=0,S=-1,v=1<<h,j=v-1,e===S2&&v>I6||e===$6&&v>L6)return 1;for(;;){$=c-g,s[u]+1<L?(M=0,B=s[u]):s[u]>=L?(M=E[s[u]-L],B=C[s[u]-L]):(M=96,B=0),_=1<<c-g,N=1<<y,f=N;do N-=_,i[P+(w>>g)+N]=$<<24|M<<16|B|0;while(N!==0);for(_=1<<c-1;w&_;)_>>=1;if(_!==0?(w&=_-1,w+=_):w=0,u++,--F[c]===0){if(c===p)break;c=t[r+s[u]]}if(c>h&&(w&j)!==S){for(g===0&&(g=h),P+=f,y=c-g,b=1<<y;y+g<p&&(b-=F[y+g],!(b<=0));)y++,b<<=1;if(v+=1<<y,e===S2&&v>I6||e===$6&&v>L6)return 1;S=w&j,i[S]=h<<24|y<<16|P-a|0}}return w!==0&&(i[P+w]=c-g<<24|64<<16|0),o.bits=h,0};var Op=c_e;const u_e=0,lD=1,cD=2,{Z_FINISH:M6,Z_BLOCK:d_e,Z_TREES:C0,Z_OK:mu,Z_STREAM_END:f_e,Z_NEED_DICT:h_e,Z_STREAM_ERROR:Fa,Z_DATA_ERROR:uD,Z_MEM_ERROR:dD,Z_BUF_ERROR:p_e,Z_DEFLATED:D6}=aD,gb=16180,B6=16181,F6=16182,U6=16183,z6=16184,q6=16185,W6=16186,H6=16187,V6=16188,G6=16189,Kv=16190,ho=16191,j2=16192,K6=16193,N2=16194,Y6=16195,X6=16196,J6=16197,Z6=16198,T0=16199,I0=16200,Q6=16201,eC=16202,tC=16203,rC=16204,nC=16205,A2=16206,iC=16207,aC=16208,Lr=16209,fD=16210,hD=16211,m_e=852,g_e=592,y_e=15,v_e=y_e,sC=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function b_e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ku=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<gb||t.mode>hD?1:0},pD=e=>{if(ku(e))return Fa;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=gb,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(m_e),t.distcode=t.distdyn=new Int32Array(g_e),t.sane=1,t.back=-1,mu},mD=e=>{if(ku(e))return Fa;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,pD(e)},gD=(e,t)=>{let r;if(ku(e))return Fa;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Fa:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,mD(e))},yD=(e,t)=>{if(!e)return Fa;const r=new b_e;e.state=r,r.strm=e,r.window=null,r.mode=gb;const n=gD(e,t);return n!==mu&&(e.state=null),n},x_e=e=>yD(e,v_e);let oC=!0,k2,O2;const w_e=e=>{if(oC){k2=new Int32Array(512),O2=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Op(lD,e.lens,0,288,k2,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Op(cD,e.lens,0,32,O2,0,e.work,{bits:5}),oC=!1}e.lencode=k2,e.lenbits=9,e.distcode=O2,e.distbits=5},vD=(e,t,r,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},__e=(e,t)=>{let r,n,i,a,s,o,l,c,u,f,p,h,y,g,b=0,v,w,_,N,S,j,P,C;const L=new Uint8Array(4);let F,k;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ku(e)||!e.output||!e.input&&e.avail_in!==0)return Fa;r=e.state,r.mode===ho&&(r.mode=j2),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,c=r.hold,u=r.bits,f=o,p=l,C=mu;e:for(;;)switch(r.mode){case gb:if(r.wrap===0){r.mode=j2;break}for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,L[0]=c&255,L[1]=c>>>8&255,r.check=As(r.check,L,2,0),c=0,u=0,r.mode=B6;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=Lr;break}if((c&15)!==D6){e.msg="unknown compression method",r.mode=Lr;break}if(c>>>=4,u-=4,P=(c&15)+8,r.wbits===0&&(r.wbits=P),P>15||P>r.wbits){e.msg="invalid window size",r.mode=Lr;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=c&512?G6:ho,c=0,u=0;break;case B6:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==D6){e.msg="unknown compression method",r.mode=Lr;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Lr;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,r.check=As(r.check,L,2,0)),c=0,u=0,r.mode=F6;case F6:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,L[2]=c>>>16&255,L[3]=c>>>24&255,r.check=As(r.check,L,4,0)),c=0,u=0,r.mode=U6;case U6:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,r.check=As(r.check,L,2,0)),c=0,u=0,r.mode=z6;case z6:if(r.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,r.check=As(r.check,L,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=q6;case q6:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(P=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+h),P)),r.flags&512&&r.wrap&4&&(r.check=As(r.check,n,h,a)),o-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=W6;case W6:if(r.flags&2048){if(o===0)break e;h=0;do P=n[a+h++],r.head&&P&&r.length<65536&&(r.head.name+=String.fromCharCode(P));while(P&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=As(r.check,n,h,a)),o-=h,a+=h,P)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=H6;case H6:if(r.flags&4096){if(o===0)break e;h=0;do P=n[a+h++],r.head&&P&&r.length<65536&&(r.head.comment+=String.fromCharCode(P));while(P&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=As(r.check,n,h,a)),o-=h,a+=h,P)break e}else r.head&&(r.head.comment=null);r.mode=V6;case V6:if(r.flags&512){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Lr;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=ho;break;case G6:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}e.adler=r.check=sC(c),c=0,u=0,r.mode=Kv;case Kv:if(r.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=u,h_e;e.adler=r.check=1,r.mode=ho;case ho:if(t===d_e||t===C0)break e;case j2:if(r.last){c>>>=u&7,u-=u&7,r.mode=A2;break}for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=K6;break;case 1:if(w_e(r),r.mode=T0,t===C0){c>>>=2,u-=2;break e}break;case 2:r.mode=X6;break;case 3:e.msg="invalid block type",r.mode=Lr}c>>>=2,u-=2;break;case K6:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Lr;break}if(r.length=c&65535,c=0,u=0,r.mode=N2,t===C0)break e;case N2:r.mode=Y6;case Y6:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(n.subarray(a,a+h),s),o-=h,a+=h,l-=h,s+=h,r.length-=h;break}r.mode=ho;break;case X6:for(;u<14;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Lr;break}r.have=0,r.mode=J6;case J6:for(;r.have<r.ncode;){for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.lens[E[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[E[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,F={bits:r.lenbits},C=Op(u_e,r.lens,0,19,r.lencode,0,r.work,F),r.lenbits=F.bits,C){e.msg="invalid code lengths set",r.mode=Lr;break}r.have=0,r.mode=Z6;case Z6:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[c&(1<<r.lenbits)-1],v=b>>>24,w=b>>>16&255,_=b&65535,!(v<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(_<16)c>>>=v,u-=v,r.lens[r.have++]=_;else{if(_===16){for(k=v+2;u<k;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(c>>>=v,u-=v,r.have===0){e.msg="invalid bit length repeat",r.mode=Lr;break}P=r.lens[r.have-1],h=3+(c&3),c>>>=2,u-=2}else if(_===17){for(k=v+3;u<k;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=v,u-=v,P=0,h=3+(c&7),c>>>=3,u-=3}else{for(k=v+7;u<k;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=v,u-=v,P=0,h=11+(c&127),c>>>=7,u-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Lr;break}for(;h--;)r.lens[r.have++]=P}}if(r.mode===Lr)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Lr;break}if(r.lenbits=9,F={bits:r.lenbits},C=Op(lD,r.lens,0,r.nlen,r.lencode,0,r.work,F),r.lenbits=F.bits,C){e.msg="invalid literal/lengths set",r.mode=Lr;break}if(r.distbits=6,r.distcode=r.distdyn,F={bits:r.distbits},C=Op(cD,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,F),r.distbits=F.bits,C){e.msg="invalid distances set",r.mode=Lr;break}if(r.mode=T0,t===C0)break e;case T0:r.mode=I0;case I0:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=u,i_e(e,p),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,c=r.hold,u=r.bits,r.mode===ho&&(r.back=-1);break}for(r.back=0;b=r.lencode[c&(1<<r.lenbits)-1],v=b>>>24,w=b>>>16&255,_=b&65535,!(v<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(w&&!(w&240)){for(N=v,S=w,j=_;b=r.lencode[j+((c&(1<<N+S)-1)>>N)],v=b>>>24,w=b>>>16&255,_=b&65535,!(N+v<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=N,u-=N,r.back+=N}if(c>>>=v,u-=v,r.back+=v,r.length=_,w===0){r.mode=nC;break}if(w&32){r.back=-1,r.mode=ho;break}if(w&64){e.msg="invalid literal/length code",r.mode=Lr;break}r.extra=w&15,r.mode=Q6;case Q6:if(r.extra){for(k=r.extra;u<k;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=eC;case eC:for(;b=r.distcode[c&(1<<r.distbits)-1],v=b>>>24,w=b>>>16&255,_=b&65535,!(v<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(!(w&240)){for(N=v,S=w,j=_;b=r.distcode[j+((c&(1<<N+S)-1)>>N)],v=b>>>24,w=b>>>16&255,_=b&65535,!(N+v<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=N,u-=N,r.back+=N}if(c>>>=v,u-=v,r.back+=v,w&64){e.msg="invalid distance code",r.mode=Lr;break}r.offset=_,r.extra=w&15,r.mode=tC;case tC:if(r.extra){for(k=r.extra;u<k;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Lr;break}r.mode=rC;case rC:if(l===0)break e;if(h=p-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Lr;break}h>r.wnext?(h-=r.wnext,y=r.wsize-h):y=r.wnext-h,h>r.length&&(h=r.length),g=r.window}else g=i,y=s-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do i[s++]=g[y++];while(--h);r.length===0&&(r.mode=I0);break;case nC:if(l===0)break e;i[s++]=r.length,l--,r.mode=I0;break;case A2:if(r.wrap){for(;u<32;){if(o===0)break e;o--,c|=n[a++]<<u,u+=8}if(p-=l,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?As(r.check,i,p,s-p):V_(r.check,i,p,s-p)),p=l,r.wrap&4&&(r.flags?c:sC(c))!==r.check){e.msg="incorrect data check",r.mode=Lr;break}c=0,u=0}r.mode=iC;case iC:if(r.wrap&&r.flags){for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Lr;break}c=0,u=0}r.mode=aC;case aC:C=f_e;break e;case Lr:C=uD;break e;case fD:return dD;case hD:default:return Fa}return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=u,(r.wsize||p!==e.avail_out&&r.mode<Lr&&(r.mode<A2||t!==M6))&&vD(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?As(r.check,i,p,e.next_out-p):V_(r.check,i,p,e.next_out-p)),e.data_type=r.bits+(r.last?64:0)+(r.mode===ho?128:0)+(r.mode===T0||r.mode===N2?256:0),(f===0&&p===0||t===M6)&&C===mu&&(C=p_e),C},S_e=e=>{if(ku(e))return Fa;let t=e.state;return t.window&&(t.window=null),e.state=null,mu},j_e=(e,t)=>{if(ku(e))return Fa;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,mu):Fa},N_e=(e,t)=>{const r=t.length;let n,i,a;return ku(e)||(n=e.state,n.wrap!==0&&n.mode!==Kv)?Fa:n.mode===Kv&&(i=1,i=V_(i,t,r,0),i!==n.check)?uD:(a=vD(e,t,r,r),a?(n.mode=fD,dD):(n.havedict=1,mu))};var A_e=mD,k_e=gD,O_e=pD,E_e=x_e,P_e=yD,C_e=__e,T_e=S_e,I_e=j_e,L_e=N_e,R_e="pako inflate (from Nodeca project)",vo={inflateReset:A_e,inflateReset2:k_e,inflateResetKeep:O_e,inflateInit:E_e,inflateInit2:P_e,inflate:C_e,inflateEnd:T_e,inflateGetHeader:I_e,inflateSetDictionary:L_e,inflateInfo:R_e};function $_e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var M_e=$_e;const bD=Object.prototype.toString,{Z_NO_FLUSH:D_e,Z_FINISH:B_e,Z_OK:$m,Z_STREAM_END:E2,Z_NEED_DICT:P2,Z_STREAM_ERROR:F_e,Z_DATA_ERROR:lC,Z_MEM_ERROR:U_e}=aD;function ag(e){this.options=sD.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r_e,this.strm.avail_out=0;let r=vo.inflateInit2(this.strm,t.windowBits);if(r!==$m)throw new Error(G_[r]);if(this.header=new M_e,vo.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=K_.string2buf(t.dictionary):bD.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=vo.inflateSetDictionary(this.strm,t.dictionary),r!==$m)))throw new Error(G_[r])}ag.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?B_e:D_e,bD.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=vo.inflate(r,s),a===P2&&i&&(a=vo.inflateSetDictionary(r,i),a===$m?a=vo.inflate(r,s):a===lC&&(a=P2));r.avail_in>0&&a===E2&&r.state.wrap>0&&e[r.next_in]!==0;)vo.inflateReset(r),a=vo.inflate(r,s);switch(a){case F_e:case lC:case P2:case U_e:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===E2))if(this.options.to==="string"){let l=K_.utf8border(r.output,r.next_out),c=r.next_out-l,u=K_.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===$m&&o===0)){if(a===E2)return a=vo.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};ag.prototype.onData=function(e){this.chunks.push(e)};ag.prototype.onEnd=function(e){e===$m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=sD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function z_e(e,t){const r=new ag(t);if(r.push(e),r.err)throw r.msg||G_[r.err];return r.result}var q_e=ag,W_e=z_e,H_e={Inflate:q_e,inflate:W_e};const{Inflate:V_e,inflate:G_e}=H_e;var cC=V_e,K_e=G_e;const xD=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;xD[e]=t}const uC=4294967295;function Y_e(e,t,r){let n=e;for(let i=0;i<r;i++)n=xD[(n^t[i])&255]^n>>>8;return n}function X_e(e,t){return(Y_e(uC,e,t)^uC)>>>0}function dC(e,t,r){const n=e.readUint32(),i=X_e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function wD(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function _D(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function SD(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function jD(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-i]+r[a]>>1)&255}}function ND(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+J_e(t[a-i],r[a],r[a-i])&255}}function J_e(e,t,r){const n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),s=Math.abs(n-r);return i<=a&&i<=s?e:a<=s?t:r}function Z_e(e,t,r,n,i,a){switch(e){case 0:wD(t,r,i);break;case 1:_D(t,r,i,a);break;case 2:SD(t,r,n,i);break;case 3:jD(t,r,n,i,a);break;case 4:ND(t,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const Q_e=new Uint16Array([255]),eSe=new Uint8Array(Q_e.buffer),tSe=eSe[0]===255;function rSe(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(n*r*o);let c=0;for(let u=0;u<7;u++){const f=s[u],p=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(p<=0||h<=0)continue;const y=p*o,g=new Uint8Array(y);for(let b=0;b<h;b++){const v=t[c++],w=t.subarray(c,c+y);c+=y;const _=new Uint8Array(y);Z_e(v,w,_,g,y,o),g.set(_);for(let N=0;N<p;N++){const S=f.x+N*f.xStep,j=f.y+b*f.yStep;if(!(S>=r||j>=n))for(let P=0;P<o;P++)l[(j*r+S)*o+P]=_[N*o+P]}}}if(a===16){const u=new Uint16Array(l.buffer);if(tSe)for(let f=0;f<u.length;f++)u[f]=nSe(u[f]);return u}else return l}function nSe(e){return(e&255)<<8|e>>8&255}const iSe=new Uint16Array([255]),aSe=new Uint8Array(iSe.buffer),sSe=aSe[0]===255,oSe=new Uint8Array(0);function fC(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),l=new Uint8Array(n*o);let c=oSe,u=0,f,p;for(let h=0;h<n;h++){switch(f=t.subarray(u+1,u+1+o),p=l.subarray(h*o,(h+1)*o),t[u]){case 0:wD(f,p,o);break;case 1:_D(f,p,o,s);break;case 2:SD(f,p,c,o);break;case 3:jD(f,p,c,o,s);break;case 4:ND(f,p,c,o,s);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}c=p,u+=o+1}if(a===16){const h=new Uint16Array(l.buffer);if(sSe)for(let y=0;y<h.length;y++)h[y]=lSe(h[y]);return h}else return l}function lSe(e){return(e&255)<<8|e>>8&255}const ey=Uint8Array.of(137,80,78,71,13,10,26,10);function hC(e){if(!cSe(e.readBytes(ey.length)))throw new Error("wrong PNG signature")}function cSe(e){if(e.length<ey.length)return!1;for(let t=0;t<ey.length;t++)if(e[t]!==ey[t])return!1;return!0}const uSe="tEXt",dSe=0,AD=new TextDecoder("latin1");function fSe(e){if(pSe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const hSe=/^[\u0000-\u00FF]*$/;function pSe(e){if(!hSe.test(e))throw new Error("invalid latin1 text")}function mSe(e,t,r){const n=kD(t);e[n]=gSe(t,r-n.length-1)}function kD(e){for(e.mark();e.readByte()!==dSe;);const t=e.offset;e.reset();const r=AD.decode(e.readBytes(t-e.offset-1));return e.skip(1),fSe(r),r}function gSe(e,t){return AD.decode(e.readBytes(t))}const Ki={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},C2={UNKNOWN:-1,DEFLATE:0},pC={UNKNOWN:-1,ADAPTIVE:0},T2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},L0={NONE:0,BACKGROUND:1,PREVIOUS:2},I2={SOURCE:0,OVER:1};class ySe extends MN{constructor(r,n={}){super(r);rr(this,"_checkCrc");rr(this,"_inflator");rr(this,"_png");rr(this,"_apng");rr(this,"_end");rr(this,"_hasPalette");rr(this,"_palette");rr(this,"_hasTransparency");rr(this,"_transparency");rr(this,"_compressionMethod");rr(this,"_filterMethod");rr(this,"_interlaceMethod");rr(this,"_colorType");rr(this,"_isAnimated");rr(this,"_numberOfFrames");rr(this,"_numberOfPlays");rr(this,"_frames");rr(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new cC,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=C2.UNKNOWN,this._filterMethod=pC.UNKNOWN,this._interlaceMethod=T2.UNKNOWN,this._colorType=Ki.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(hC(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(hC(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case uSe:mSe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?dC(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?dC(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=vSe(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Ki.GREYSCALE:i=1;break;case Ki.TRUECOLOUR:i=3;break;case Ki.INDEXED_COLOUR:i=1;break;case Ki.GREYSCALE_ALPHA:i=2;break;case Ki.TRUECOLOUR_ALPHA:i=4;break;case Ki.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==C2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ki.GREYSCALE:case Ki.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ki.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ki.UNKNOWN:case Ki.GREYSCALE_ALPHA:case Ki.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=kD(this),i=this.readUint8();if(i!==C2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:K_e(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=fC({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case L0.NONE:break;case L0.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*r.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case L0.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case I2.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++)r.data[l+u]=n.data[c+u]}break;case I2.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++){const f=n.data[c+this._png.channels-1]/i,p=u%(this._png.channels-1)===0?1:n.data[c+u],h=Math.floor(f*p+(1-f)*r.data[l+u]);r.data[l+u]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==pC.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===T2.NO_INTERLACE)this._png.data=fC({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===T2.ADAM7)this._png.data=rSe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:L0.NONE,blendOp:I2.SOURCE,data:r}),this._inflator=new cC,this._writingDataChunks=!1}}function vSe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var mC;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(mC||(mC={}));function bSe(e,t){return new ySe(e,t).decode()}var At=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function L2(){At.console&&typeof At.console.log=="function"&&At.console.log.apply(At.console,arguments)}var yr={log:L2,warn:function(e){At.console&&(typeof At.console.warn=="function"?At.console.warn.apply(At.console,arguments):L2.call(null,arguments))},error:function(e){At.console&&(typeof At.console.error=="function"?At.console.error.apply(At.console,arguments):L2(e))}};function R2(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Rc(n.response,t,r)},n.onerror=function(){yr.error("could not download file")},n.send()}function gC(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function R0(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Rc=At.saveAs||((typeof window>"u"?"undefined":ur(window))!=="object"||window!==At?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=At.URL||At.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?gC(i.href)?R2(e,t,r):R0(i,i.target="_blank"):R0(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){R0(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(gC(e))R2(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){R0(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:ur(a)!=="object"&&(yr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return R2(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(At.HTMLElement)||At.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":ur(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=At.URL||At.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function OD(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var ty=At.atob.bind(At),yC=At.btoa.bind(At);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function $2(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=Zn(r,n,i,a,t[0],7,-680876936),a=Zn(a,r,n,i,t[1],12,-389564586),i=Zn(i,a,r,n,t[2],17,606105819),n=Zn(n,i,a,r,t[3],22,-1044525330),r=Zn(r,n,i,a,t[4],7,-176418897),a=Zn(a,r,n,i,t[5],12,1200080426),i=Zn(i,a,r,n,t[6],17,-1473231341),n=Zn(n,i,a,r,t[7],22,-45705983),r=Zn(r,n,i,a,t[8],7,1770035416),a=Zn(a,r,n,i,t[9],12,-1958414417),i=Zn(i,a,r,n,t[10],17,-42063),n=Zn(n,i,a,r,t[11],22,-1990404162),r=Zn(r,n,i,a,t[12],7,1804603682),a=Zn(a,r,n,i,t[13],12,-40341101),i=Zn(i,a,r,n,t[14],17,-1502002290),r=Qn(r,n=Zn(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Qn(a,r,n,i,t[6],9,-1069501632),i=Qn(i,a,r,n,t[11],14,643717713),n=Qn(n,i,a,r,t[0],20,-373897302),r=Qn(r,n,i,a,t[5],5,-701558691),a=Qn(a,r,n,i,t[10],9,38016083),i=Qn(i,a,r,n,t[15],14,-660478335),n=Qn(n,i,a,r,t[4],20,-405537848),r=Qn(r,n,i,a,t[9],5,568446438),a=Qn(a,r,n,i,t[14],9,-1019803690),i=Qn(i,a,r,n,t[3],14,-187363961),n=Qn(n,i,a,r,t[8],20,1163531501),r=Qn(r,n,i,a,t[13],5,-1444681467),a=Qn(a,r,n,i,t[2],9,-51403784),i=Qn(i,a,r,n,t[7],14,1735328473),r=ei(r,n=Qn(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=ei(a,r,n,i,t[8],11,-2022574463),i=ei(i,a,r,n,t[11],16,1839030562),n=ei(n,i,a,r,t[14],23,-35309556),r=ei(r,n,i,a,t[1],4,-1530992060),a=ei(a,r,n,i,t[4],11,1272893353),i=ei(i,a,r,n,t[7],16,-155497632),n=ei(n,i,a,r,t[10],23,-1094730640),r=ei(r,n,i,a,t[13],4,681279174),a=ei(a,r,n,i,t[0],11,-358537222),i=ei(i,a,r,n,t[3],16,-722521979),n=ei(n,i,a,r,t[6],23,76029189),r=ei(r,n,i,a,t[9],4,-640364487),a=ei(a,r,n,i,t[12],11,-421815835),i=ei(i,a,r,n,t[15],16,530742520),r=ti(r,n=ei(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=ti(a,r,n,i,t[7],10,1126891415),i=ti(i,a,r,n,t[14],15,-1416354905),n=ti(n,i,a,r,t[5],21,-57434055),r=ti(r,n,i,a,t[12],6,1700485571),a=ti(a,r,n,i,t[3],10,-1894986606),i=ti(i,a,r,n,t[10],15,-1051523),n=ti(n,i,a,r,t[1],21,-2054922799),r=ti(r,n,i,a,t[8],6,1873313359),a=ti(a,r,n,i,t[15],10,-30611744),i=ti(i,a,r,n,t[6],15,-1560198380),n=ti(n,i,a,r,t[13],21,1309151649),r=ti(r,n,i,a,t[4],6,-145523070),a=ti(a,r,n,i,t[11],10,-1120210379),i=ti(i,a,r,n,t[2],15,718787259),n=ti(n,i,a,r,t[9],21,-343485551),e[0]=Al(r,e[0]),e[1]=Al(n,e[1]),e[2]=Al(i,e[2]),e[3]=Al(a,e[3])}function yb(e,t,r,n,i,a){return t=Al(Al(t,e),Al(n,a)),Al(t<<i|t>>>32-i,r)}function Zn(e,t,r,n,i,a,s){return yb(t&r|~t&n,e,t,i,a,s)}function Qn(e,t,r,n,i,a,s){return yb(t&n|r&~n,e,t,i,a,s)}function ei(e,t,r,n,i,a,s){return yb(t^r^n,e,t,i,a,s)}function ti(e,t,r,n,i,a,s){return yb(r^(t|~n),e,t,i,a,s)}function ED(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)$2(n,xSe(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for($2(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,$2(n,i),n}function xSe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var vC="0123456789abcdef".split("");function wSe(e){for(var t="",r=0;r<4;r++)t+=vC[e>>8*r+4&15]+vC[e>>8*r&15];return t}function _Se(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Y_(e){return ED(e).map(_Se).join("")}var SSe=function(e){for(var t=0;t<e.length;t++)e[t]=wSe(e[t]);return e.join("")}(ED("hello"))!="5d41402abc4b2a76b9719d911017c592";function Al(e,t){if(SSe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function X_(e,t){var r,n,i,a;if(e!==r){for(var s=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var f=t.length,p=0,h=0,y="";for(l=0;l<f;l++)h=(h+(u=o[p=(p+1)%256]))%256,o[p]=o[h],o[h]=u,s=o[(o[p]+o[h])%256],y+=String.fromCharCode(t.charCodeAt(l)^s);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var bC={print:4,modify:8,copy:16,"annot-forms":32};function ad(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(bC.perm!==void 0)throw new Error("Invalid permission: "+o);i+=bC[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=Y_(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=X_(this.encryptionKey,this.padding)}function sd(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function xC(e){if(ur(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var s=t[r][a];try{s[0].apply(e,n)}catch(o){At.console&&yr.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Yv(e){if(!(this instanceof Yv))return new Yv(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function PD(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Uc(e,t,r,n,i){if(!(this instanceof Uc))return new Uc(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,PD.call(this,n,i)}function jd(e,t,r,n,i){if(!(this instanceof jd))return new jd(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,PD.call(this,n,i)}function vt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",u=null;ur(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=xC;var y="1.3",g=h.__private__.getPdfVersion=function(){return y};h.__private__.setPdfVersion=function(A){y=A};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return b};var v=h.__private__.getPageFormat=function(A){return b[A]};i=i||"a4";var w="compat",_="advanced",N=w;function S(){this.saveGraphicsState(),X(new _t(Oe,0,0,-Oe,0,fc()*Oe).toString()+" cm"),this.setFontSize(this.getFontSize()/Oe),c="n",N=_}function j(){this.restoreGraphicsState(),c="S",N=w}var P=h.__private__.combineFontStyleAndFontWeight=function(A,U){if(A=="bold"&&U=="normal"||A=="bold"&&U==400||A=="normal"&&U=="italic"||A=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(A=U==400||U==="normal"?A==="italic"?"italic":"normal":U!=700&&U!=="bold"||A!=="normal"?(U==700?"bold":U)+""+A:"bold"),A};h.advancedAPI=function(A){var U=N===w;return U&&S.call(this),typeof A!="function"||(A(this),U&&j.call(this)),this},h.compatAPI=function(A){var U=N===_;return U&&j.call(this),typeof A!="function"||(A(this),U&&S.call(this)),this},h.isAdvancedAPI=function(){return N===_};var C,L=function(A){if(N!==_)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=h.roundToPrecision=h.__private__.roundToPrecision=function(A,U){var ae=t||U;if(isNaN(A)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ae).replace(/0+$/,"")};C=h.hpf=h.__private__.hpf=typeof l=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,l)}:l==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,16)};var k=h.f2=h.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return F(A,2)},E=h.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return F(A,3)},$=h.scale=h.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return N===w?A*Oe:N===_?A:void 0},M=function(A){return $(function(U){return N===w?fc()-U:N===_?U:void 0}(A))};h.__private__.setPrecision=h.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(t=parseInt(A,10))};var B,q="00000000000000000000000000000000",J=h.__private__.getFileId=function(){return q},W=h.__private__.setFileId=function(A){return q=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Yr=new ad(u.userPermissions,u.userPassword,u.ownerPassword,q)),q};h.setFileId=function(A){return W(A),this},h.getFileId=function(){return J()};var Z=h.__private__.convertDateToPDFDate=function(A){var U=A.getTimezoneOffset(),ae=U<0?"+":"-",fe=Math.floor(Math.abs(U/60)),we=Math.abs(U%60),Te=[ae,Y(fe),"'",Y(we),"'"].join("");return["D:",A.getFullYear(),Y(A.getMonth()+1),Y(A.getDate()),Y(A.getHours()),Y(A.getMinutes()),Y(A.getSeconds()),Te].join("")},D=h.__private__.convertPDFDateToDate=function(A){var U=parseInt(A.substr(2,4),10),ae=parseInt(A.substr(6,2),10)-1,fe=parseInt(A.substr(8,2),10),we=parseInt(A.substr(10,2),10),Te=parseInt(A.substr(12,2),10),De=parseInt(A.substr(14,2),10);return new Date(U,ae,fe,we,Te,De,0)},se=h.__private__.setCreationDate=function(A){var U;if(A===void 0&&(A=new Date),A instanceof Date)U=Z(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=A}return B=U},T=h.__private__.getCreationDate=function(A){var U=B;return A==="jsDate"&&(U=D(B)),U};h.setCreationDate=function(A){return se(A),this},h.getCreationDate=function(A){return T(A)};var I,Y=h.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},ie=h.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},te=0,de=[],ve=[],oe=0,ye=[],ke=[],ee=!1,he=ve;h.__private__.setCustomOutputDestination=function(A){ee=!0,he=A};var ue=function(A){ee||(he=A)};h.__private__.resetCustomOutputDestination=function(){ee=!1,he=ve};var X=h.__private__.out=function(A){return A=A.toString(),oe+=A.length+1,he.push(A),he},Me=h.__private__.write=function(A){return X(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},ze=h.__private__.getArrayBuffer=function(A){for(var U=A.length,ae=new ArrayBuffer(U),fe=new Uint8Array(ae);U--;)fe[U]=A.charCodeAt(U);return ae},He=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return He};var Ne=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(A){return Ne=N===_?A/Oe:A,this};var Ue,Be=h.__private__.getFontSize=h.getFontSize=function(){return N===w?Ne:Ne*Oe},Qe=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(A){return Qe=A,this},h.__private__.getR2L=h.getR2L=function(){return Qe};var Je,Mt=h.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))Ue=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');Ue=A}else Ue=parseInt(A,10)};h.__private__.getZoomMode=function(){return Ue};var be,le=h.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');Je=A};h.__private__.getPageMode=function(){return Je};var xe=h.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');be=A};h.__private__.getLayoutMode=function(){return be},h.__private__.setDisplayMode=h.setDisplayMode=function(A,U,ae){return Mt(A),xe(U),le(ae),this};var ge={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(A){if(Object.keys(ge).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ge[A]},h.__private__.getDocumentProperties=function(){return ge},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(A){for(var U in ge)ge.hasOwnProperty(U)&&A[U]&&(ge[U]=A[U]);return this},h.__private__.setDocumentProperty=function(A,U){if(Object.keys(ge).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ge[A]=U};var Ae,Oe,Re,et,gt,Ke={},tt={},rt=[],Ye={},ft={},nt={},er={},hr=null,or=0,Nt=[],Gt=new xC(h),ha=e.hotfixes||[],Pn={},Ys={},vs=[],_t=function A(U,ae,fe,we,Te,De){if(!(this instanceof A))return new A(U,ae,fe,we,Te,De);isNaN(U)&&(U=1),isNaN(ae)&&(ae=0),isNaN(fe)&&(fe=0),isNaN(we)&&(we=1),isNaN(Te)&&(Te=0),isNaN(De)&&(De=0),this._matrix=[U,ae,fe,we,Te,De]};Object.defineProperty(_t.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(_t.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(_t.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(_t.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(_t.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(_t.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(_t.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(_t.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(_t.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(_t.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(_t.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(_t.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(_t.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(_t.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(_t.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(_t.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),_t.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(A)},_t.prototype.multiply=function(A){var U=A.sx*this.sx+A.shy*this.shx,ae=A.sx*this.shy+A.shy*this.sy,fe=A.shx*this.sx+A.sy*this.shx,we=A.shx*this.shy+A.sy*this.sy,Te=A.tx*this.sx+A.ty*this.shx+this.tx,De=A.tx*this.shy+A.ty*this.sy+this.ty;return new _t(U,ae,fe,we,Te,De)},_t.prototype.decompose=function(){var A=this.sx,U=this.shy,ae=this.shx,fe=this.sy,we=this.tx,Te=this.ty,De=Math.sqrt(A*A+U*U),ct=(A/=De)*ae+(U/=De)*fe;ae-=A*ct,fe-=U*ct;var mt=Math.sqrt(ae*ae+fe*fe);return ct/=mt,A*(fe/=mt)<U*(ae/=mt)&&(A=-A,U=-U,ct=-ct,De=-De),{scale:new _t(De,0,0,mt,0,0),translate:new _t(1,0,0,1,we,Te),rotate:new _t(A,U,-U,A,0,0),skew:new _t(1,0,ct,1,0,0)}},_t.prototype.toString=function(A){return this.join(" ")},_t.prototype.inversed=function(){var A=this.sx,U=this.shy,ae=this.shx,fe=this.sy,we=this.tx,Te=this.ty,De=1/(A*fe-U*ae),ct=fe*De,mt=-U*De,Et=-ae*De,It=A*De;return new _t(ct,mt,Et,It,-ct*we-Et*Te,-mt*we-It*Te)},_t.prototype.applyToPoint=function(A){var U=A.x*this.sx+A.y*this.shx+this.tx,ae=A.x*this.shy+A.y*this.sy+this.ty;return new uc(U,ae)},_t.prototype.applyToRectangle=function(A){var U=this.applyToPoint(A),ae=this.applyToPoint(new uc(A.x+A.w,A.y+A.h));return new dh(U.x,U.y,ae.x-U.x,ae.y-U.y)},_t.prototype.clone=function(){var A=this.sx,U=this.shy,ae=this.shx,fe=this.sy,we=this.tx,Te=this.ty;return new _t(A,U,ae,fe,we,Te)},h.Matrix=_t;var Xs=h.matrixMult=function(A,U){return U.multiply(A)},Js=new _t(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Js;var pa=function(A,U){if(!ft[A]){var ae=(U instanceof Uc?"Sh":"P")+(Object.keys(Ye).length+1).toString(10);U.id=ae,ft[A]=ae,Ye[ae]=U,Gt.publish("addPattern",U)}};h.ShadingPattern=Uc,h.TilingPattern=jd,h.addShadingPattern=function(A,U){return L("addShadingPattern()"),pa(A,U),this},h.beginTilingPattern=function(A){L("beginTilingPattern()"),fh(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},h.endTilingPattern=function(A,U){L("endTilingPattern()"),U.stream=ke[I].join(`
`),pa(A,U),Gt.publish("endTilingPattern",U),vs.pop().restore()};var ma,zr=h.__private__.newObject=function(){var A=Cn();return Bn(A,!0),A},Cn=h.__private__.newObjectDeferred=function(){return te++,de[te]=function(){return oe},te},Bn=function(A,U){return U=typeof U=="boolean"&&U,de[A]=oe,U&&X(A+" 0 obj"),A},tc=h.__private__.newAdditionalObject=function(){var A={objId:Cn(),content:""};return ye.push(A),A},Ho=Cn(),Ha=Cn(),bs=h.__private__.decodeColorString=function(A){var U=A.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length!==5||U[4]!=="k"&&U[4]!=="K"||(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var ae=parseFloat(U[0]);U=[ae,ae,ae,"r"]}for(var fe="#",we=0;we<3;we++)fe+=("0"+Math.floor(255*parseFloat(U[we])).toString(16)).slice(-2);return fe},Va=h.__private__.encodeColorString=function(A){var U;typeof A=="string"&&(A={ch1:A});var ae=A.ch1,fe=A.ch2,we=A.ch3,Te=A.ch4,De=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var ct=new OD(ae);if(ct.ok)ae=ct.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var mt=parseInt(ae.substr(1),16);ae=mt>>16&255,fe=mt>>8&255,we=255&mt}if(fe===void 0||Te===void 0&&ae===fe&&fe===we)U=typeof ae=="string"?ae+" "+De[0]:A.precision===2?k(ae/255)+" "+De[0]:E(ae/255)+" "+De[0];else if(Te===void 0||ur(Te)==="object"){if(Te&&!isNaN(Te.a)&&Te.a===0)return["1.","1.","1.",De[1]].join(" ");U=typeof ae=="string"?[ae,fe,we,De[1]].join(" "):A.precision===2?[k(ae/255),k(fe/255),k(we/255),De[1]].join(" "):[E(ae/255),E(fe/255),E(we/255),De[1]].join(" ")}else U=typeof ae=="string"?[ae,fe,we,Te,De[2]].join(" "):A.precision===2?[k(ae),k(fe),k(we),k(Te),De[2]].join(" "):[E(ae),E(fe),E(we),E(Te),De[2]].join(" ");return U},Ga=h.__private__.getFilters=function(){return s},ga=h.__private__.putStream=function(A){var U=(A=A||{}).data||"",ae=A.filters||Ga(),fe=A.alreadyAppliedFilters||[],we=A.addLength1||!1,Te=U.length,De=A.objectId,ct=function(gn){return gn};if(u!==null&&De===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(ct=Yr.encryptor(De,0));var mt={};ae===!0&&(ae=["FlateEncode"]);var Et=A.additionalKeyValues||[],It=(mt=vt.API.processDataByFilters!==void 0?vt.API.processDataByFilters(U,ae):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(mt.data.length!==0&&(Et.push({key:"Length",value:mt.data.length}),we===!0&&Et.push({key:"Length1",value:Te})),It.length!=0)if(It.split("/").length-1==1)Et.push({key:"Filter",value:It});else{Et.push({key:"Filter",value:"["+It+"]"});for(var tr=0;tr<Et.length;tr+=1)if(Et[tr].key==="DecodeParms"){for(var Mr=[],ln=0;ln<mt.reverseChain.split("/").length-1;ln+=1)Mr.push("null");Mr.push(Et[tr].value),Et[tr].value="["+Mr.join(" ")+"]"}}X("<<");for(var br=0;br<Et.length;br++)X("/"+Et[br].key+" "+Et[br].value);X(">>"),mt.data.length!==0&&(X("stream"),X(ct(mt.data)),X("endstream"))},rc=h.__private__.putPage=function(A){var U=A.number,ae=A.data,fe=A.objId,we=A.contentsObjId;Bn(fe,!0),X("<</Type /Page"),X("/Parent "+A.rootDictionaryObjId+" 0 R"),X("/Resources "+A.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(C(A.mediaBox.bottomLeftX))+" "+parseFloat(C(A.mediaBox.bottomLeftY))+" "+C(A.mediaBox.topRightX)+" "+C(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&X("/CropBox ["+C(A.cropBox.bottomLeftX)+" "+C(A.cropBox.bottomLeftY)+" "+C(A.cropBox.topRightX)+" "+C(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&X("/BleedBox ["+C(A.bleedBox.bottomLeftX)+" "+C(A.bleedBox.bottomLeftY)+" "+C(A.bleedBox.topRightX)+" "+C(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&X("/TrimBox ["+C(A.trimBox.bottomLeftX)+" "+C(A.trimBox.bottomLeftY)+" "+C(A.trimBox.topRightX)+" "+C(A.trimBox.topRightY)+"]"),A.artBox!==null&&X("/ArtBox ["+C(A.artBox.bottomLeftX)+" "+C(A.artBox.bottomLeftY)+" "+C(A.artBox.topRightX)+" "+C(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&X("/UserUnit "+A.userUnit),Gt.publish("putPage",{objId:fe,pageContext:Nt[U],pageNumber:U,page:ae}),X("/Contents "+we+" 0 R"),X(">>"),X("endobj");var Te=ae.join(`
`);return N===_&&(Te+=`
Q`),Bn(we,!0),ga({data:Te,filters:Ga(),objectId:we}),X("endobj"),fe},xs=h.__private__.putPages=function(){var A,U,ae=[];for(A=1;A<=or;A++)Nt[A].objId=Cn(),Nt[A].contentsObjId=Cn();for(A=1;A<=or;A++)ae.push(rc({number:A,data:ke[A],objId:Nt[A].objId,contentsObjId:Nt[A].contentsObjId,mediaBox:Nt[A].mediaBox,cropBox:Nt[A].cropBox,bleedBox:Nt[A].bleedBox,trimBox:Nt[A].trimBox,artBox:Nt[A].artBox,userUnit:Nt[A].userUnit,rootDictionaryObjId:Ho,resourceDictionaryObjId:Ha}));Bn(Ho,!0),X("<</Type /Pages");var fe="/Kids [";for(U=0;U<or;U++)fe+=ae[U]+" 0 R ";X(fe+"]"),X("/Count "+or),X(">>"),X("endobj"),Gt.publish("postPutPages")},nc=function(A){Gt.publish("putFont",{font:A,out:X,newObject:zr,putStream:ga}),A.isAlreadyPutted!==!0&&(A.objectNumber=zr(),X("<<"),X("/Type /Font"),X("/BaseFont /"+sd(A.postScriptName)),X("/Subtype /Type1"),typeof A.encoding=="string"&&X("/Encoding /"+A.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Eu=function(A){A.objectNumber=zr();var U=[];U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Form"}),U.push({key:"BBox",value:"["+[C(A.x),C(A.y),C(A.x+A.width),C(A.y+A.height)].join(" ")+"]"}),U.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ae=A.pages[1].join(`
`);ga({data:ae,additionalKeyValues:U,objectId:A.objectNumber}),X("endobj")},Pu=function(A,U){U||(U=21);var ae=zr(),fe=function(De,ct){var mt,Et=[],It=1/(ct-1);for(mt=0;mt<1;mt+=It)Et.push(mt);if(Et.push(1),De[0].offset!=0){var tr={offset:0,color:De[0].color};De.unshift(tr)}if(De[De.length-1].offset!=1){var Mr={offset:1,color:De[De.length-1].color};De.push(Mr)}for(var ln="",br=0,gn=0;gn<Et.length;gn++){for(mt=Et[gn];mt>De[br+1].offset;)br++;var cn=De[br].offset,Fn=(mt-cn)/(De[br+1].offset-cn),va=De[br].color,_i=De[br+1].color;ln+=ie(Math.round((1-Fn)*va[0]+Fn*_i[0]).toString(16))+ie(Math.round((1-Fn)*va[1]+Fn*_i[1]).toString(16))+ie(Math.round((1-Fn)*va[2]+Fn*_i[2]).toString(16))}return ln.trim()}(A.colors,U),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+U+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ga({data:fe,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),X("endobj"),A.objectNumber=zr(),X("<< /ShadingType "+A.type),X("/ColorSpace /DeviceRGB");var Te="/Coords ["+C(parseFloat(A.coords[0]))+" "+C(parseFloat(A.coords[1]))+" ";A.type===2?Te+=C(parseFloat(A.coords[2]))+" "+C(parseFloat(A.coords[3])):Te+=C(parseFloat(A.coords[2]))+" "+C(parseFloat(A.coords[3]))+" "+C(parseFloat(A.coords[4]))+" "+C(parseFloat(A.coords[5])),X(Te+="]"),A.matrix&&X("/Matrix ["+A.matrix.toString()+"]"),X("/Function "+ae+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Cu=function(A,U){var ae=Cn(),fe=zr();U.push({resourcesOid:ae,objectOid:fe}),A.objectNumber=fe;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+A.boundingBox.map(C).join(" ")+"]"}),we.push({key:"XStep",value:C(A.xStep)}),we.push({key:"YStep",value:C(A.yStep)}),we.push({key:"Resources",value:ae+" 0 R"}),A.matrix&&we.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),ga({data:A.stream,additionalKeyValues:we,objectId:A.objectNumber}),X("endobj")},vb=function(A){for(var U in A.objectNumber=zr(),X("<<"),A)switch(U){case"opacity":X("/ca "+k(A[U]));break;case"stroke-opacity":X("/CA "+k(A[U]))}X(">>"),X("endobj")},th=function(A){Bn(A.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var U in X("/Font <<"),Ke)Ke.hasOwnProperty(U)&&(f===!1||f===!0&&p.hasOwnProperty(U))&&X("/"+U+" "+Ke[U].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(Ye).length>0){for(var U in X("/Shading <<"),Ye)Ye.hasOwnProperty(U)&&Ye[U]instanceof Uc&&Ye[U].objectNumber>=0&&X("/"+U+" "+Ye[U].objectNumber+" 0 R");Gt.publish("putShadingPatternDict"),X(">>")}}(),function(U){if(Object.keys(Ye).length>0){for(var ae in X("/Pattern <<"),Ye)Ye.hasOwnProperty(ae)&&Ye[ae]instanceof h.TilingPattern&&Ye[ae].objectNumber>=0&&Ye[ae].objectNumber<U&&X("/"+ae+" "+Ye[ae].objectNumber+" 0 R");Gt.publish("putTilingPatternDict"),X(">>")}}(A.objectOid),function(){if(Object.keys(nt).length>0){var U;for(U in X("/ExtGState <<"),nt)nt.hasOwnProperty(U)&&nt[U].objectNumber>=0&&X("/"+U+" "+nt[U].objectNumber+" 0 R");Gt.publish("putGStateDict"),X(">>")}}(),function(){for(var U in X("/XObject <<"),Pn)Pn.hasOwnProperty(U)&&Pn[U].objectNumber>=0&&X("/"+U+" "+Pn[U].objectNumber+" 0 R");Gt.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},sg=function(A){tt[A.fontName]=tt[A.fontName]||{},tt[A.fontName][A.fontStyle]=A.id},og=function(A,U,ae,fe,we){var Te={id:"F"+(Object.keys(Ke).length+1).toString(10),postScriptName:A,fontName:U,fontStyle:ae,encoding:fe,isStandardFont:we||!1,metadata:{}};return Gt.publish("addFont",{font:Te,instance:this}),Ke[Te.id]=Te,sg(Te),Te.id},ya=h.__private__.pdfEscape=h.pdfEscape=function(A,U){return function(ae,fe){var we,Te,De,ct,mt,Et,It,tr,Mr;if(De=(fe=fe||{}).sourceEncoding||"Unicode",mt=fe.outputEncoding,(fe.autoencode||mt)&&Ke[Ae].metadata&&Ke[Ae].metadata[De]&&Ke[Ae].metadata[De].encoding&&(ct=Ke[Ae].metadata[De].encoding,!mt&&Ke[Ae].encoding&&(mt=Ke[Ae].encoding),!mt&&ct.codePages&&(mt=ct.codePages[0]),typeof mt=="string"&&(mt=ct[mt]),mt)){for(It=!1,Et=[],we=0,Te=ae.length;we<Te;we++)(tr=mt[ae.charCodeAt(we)])?Et.push(String.fromCharCode(tr)):Et.push(ae[we]),Et[we].charCodeAt(0)>>8&&(It=!0);ae=Et.join("")}for(we=ae.length;It===void 0&&we!==0;)ae.charCodeAt(we-1)>>8&&(It=!0),we--;if(!It)return ae;for(Et=fe.noBOM?[]:[254,255],we=0,Te=ae.length;we<Te;we++){if((Mr=(tr=ae.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Et.push(Mr),Et.push(tr-(Mr<<8))}return String.fromCharCode.apply(void 0,Et)}(A,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rh=h.__private__.beginPage=function(A){ke[++or]=[],Nt[or]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},cg(or),ue(ke[I])},lg=function(A,U){var ae,fe,we;switch(r=U||r,typeof A=="string"&&(ae=v(A.toLowerCase()),Array.isArray(ae)&&(fe=ae[0],we=ae[1])),Array.isArray(A)&&(fe=A[0]*Oe,we=A[1]*Oe),isNaN(fe)&&(fe=i[0],we=i[1]),(fe>14400||we>14400)&&(yr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),we=Math.min(14400,we)),i=[fe,we],r.substr(0,1)){case"l":we>fe&&(i=[we,fe]);break;case"p":fe>we&&(i=[we,fe])}rh(i),kb(oh),X(Iu),ch!==0&&X(ch+" J"),uh!==0&&X(uh+" j"),Gt.publish("addPage",{pageNumber:or})},nh=function(A){A>0&&A<=or&&(ke.splice(A,1),Nt.splice(A,1),or--,I>or&&(I=or),this.setPage(I))},cg=function(A){A>0&&A<=or&&(I=A)},ug=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ke.length-1},dg=function(A,U,ae){var fe,we=void 0;return ae=ae||{},A=A!==void 0?A:Ke[Ae].fontName,U=U!==void 0?U:Ke[Ae].fontStyle,fe=A.toLowerCase(),tt[fe]!==void 0&&tt[fe][U]!==void 0?we=tt[fe][U]:tt[A]!==void 0&&tt[A][U]!==void 0?we=tt[A][U]:ae.disableWarning===!1&&yr.warn("Unable to look up font label for font '"+A+"', '"+U+"'. Refer to getFontList() for available fonts."),we||ae.noFallback||(we=tt.times[U])==null&&(we=tt.times.normal),we},Tu=h.__private__.putInfo=function(){var A=zr(),U=function(fe){return fe};for(var ae in u!==null&&(U=Yr.encryptor(A,0)),X("<<"),X("/Producer ("+ya(U("jsPDF "+vt.version))+")"),ge)ge.hasOwnProperty(ae)&&ge[ae]&&X("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+ya(U(ge[ae]))+")");X("/CreationDate ("+ya(U(B))+")"),X(">>"),X("endobj")},bb=h.__private__.putCatalog=function(A){var U=(A=A||{}).rootDictionaryObjId||Ho;switch(zr(),X("<<"),X("/Type /Catalog"),X("/Pages "+U+" 0 R"),Ue||(Ue="fullwidth"),Ue){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+Ue;ae.substr(ae.length-1)==="%"&&(Ue=parseInt(Ue)/100),typeof Ue=="number"&&X("/OpenAction [3 0 R /XYZ null null "+k(Ue)+"]")}switch(be||(be="continuous"),be){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}Je&&X("/PageMode /"+Je),Gt.publish("putCatalog"),X(">>"),X("endobj")},on=h.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(te+1)),X("/Root "+te+" 0 R"),X("/Info "+(te-1)+" 0 R"),u!==null&&X("/Encrypt "+Yr.oid+" 0 R"),X("/ID [ <"+q+"> <"+q+"> ]"),X(">>")},fg=h.__private__.putHeader=function(){X("%PDF-"+y),X("%")},hg=h.__private__.putXRef=function(){var A="0000000000";X("xref"),X("0 "+(te+1)),X("0000000000 65535 f ");for(var U=1;U<=te;U++)typeof de[U]=="function"?X((A+de[U]()).slice(-10)+" 00000 n "):de[U]!==void 0?X((A+de[U]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},Zs=h.__private__.buildDocument=function(){var A;te=0,oe=0,ve=[],de=[],ye=[],Ho=Cn(),Ha=Cn(),ue(ve),Gt.publish("buildDocument"),fg(),xs(),function(){Gt.publish("putAdditionalObjects");for(var ae=0;ae<ye.length;ae++){var fe=ye[ae];Bn(fe.objId,!0),X(fe.content),X("endobj")}Gt.publish("postPutAdditionalObjects")}(),A=[],function(){for(var ae in Ke)Ke.hasOwnProperty(ae)&&(f===!1||f===!0&&p.hasOwnProperty(ae))&&nc(Ke[ae])}(),function(){var ae;for(ae in nt)nt.hasOwnProperty(ae)&&vb(nt[ae])}(),function(){for(var ae in Pn)Pn.hasOwnProperty(ae)&&Eu(Pn[ae])}(),function(ae){var fe;for(fe in Ye)Ye.hasOwnProperty(fe)&&(Ye[fe]instanceof Uc?Pu(Ye[fe]):Ye[fe]instanceof jd&&Cu(Ye[fe],ae))}(A),Gt.publish("putResources"),A.forEach(th),th({resourcesOid:Ha,objectOid:Number.MAX_SAFE_INTEGER}),Gt.publish("postPutResources"),u!==null&&(Yr.oid=zr(),X("<<"),X("/Filter /Standard"),X("/V "+Yr.v),X("/R "+Yr.r),X("/U <"+Yr.toHexString(Yr.U)+">"),X("/O <"+Yr.toHexString(Yr.O)+">"),X("/P "+Yr.P),X(">>"),X("endobj")),Tu(),bb();var U=oe;return hg(),on(),X("startxref"),X(""+U),X("%%EOF"),ue(ke[I]),ve.join(`
`)},ic=h.__private__.getBlob=function(A){return new Blob([ze(A)],{type:"application/pdf"})},Ka=h.output=h.__private__.output=(ma=function(A,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",A){case void 0:return Zs();case"save":h.save(U.filename);break;case"arraybuffer":return ze(Zs());case"blob":return ic(Zs());case"bloburi":case"bloburl":if(At.URL!==void 0&&typeof At.URL.createObjectURL=="function")return At.URL&&At.URL.createObjectURL(ic(Zs()))||void 0;yr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",fe=Zs();try{ae=yC(fe)}catch{ae=yC(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+U.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Te=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(we=U.pdfObjectUrl,Te="");var De='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Te+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");<\/script></body></html>",ct=At.open();return ct!==null&&ct.document.write(De),ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',Et=At.open();if(Et!==null){Et.document.write(mt);var It=this;Et.document.documentElement.querySelector("#pdfViewer").onload=function(){Et.document.title=U.filename,Et.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(It.output("bloburl"))}}return Et}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(At)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',Mr=At.open();if(Mr!==null&&(Mr.document.write(tr),Mr.document.title=U.filename),Mr||typeof safari>"u")return Mr;break;case"datauri":case"dataurl":return At.document.location.href=this.output("datauristring",U);default:return null}},ma.foo=function(){try{return ma.apply(this,arguments)}catch(ae){var A=ae.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var U="Error in function "+A.split(`
`)[0].split("<")[0]+": "+ae.message;if(!At.console)throw new Error(U);At.console.error(U,ae),At.alert&&alert(U)}},ma.foo.bar=ma,ma.foo),ac=function(A){return Array.isArray(ha)===!0&&ha.indexOf(A)>-1};switch(n){case"pt":Oe=1;break;case"mm":Oe=72/25.4;break;case"cm":Oe=72/2.54;break;case"in":Oe=72;break;case"px":Oe=ac("px_scaling")==1?.75:96/72;break;case"pc":case"em":Oe=12;break;case"ex":Oe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Oe=n}var Yr=null;se(),W();var ih=h.__private__.getPageInfo=h.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Nt[A].objId,pageNumber:A,pageContext:Nt[A]}},xb=h.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in Nt)if(Nt[U].objId===A)break;return ih(U)},wb=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Nt[I].objId,pageNumber:I,pageContext:Nt[I]}};h.addPage=function(){return lg.apply(this,arguments),this},h.setPage=function(){return cg.apply(this,arguments),ue.call(this,ke[I]),this},h.insertPage=function(A){return this.addPage(),this.movePage(I,A),this},h.movePage=function(A,U){var ae,fe;if(A>U){ae=ke[A],fe=Nt[A];for(var we=A;we>U;we--)ke[we]=ke[we-1],Nt[we]=Nt[we-1];ke[U]=ae,Nt[U]=fe,this.setPage(U)}else if(A<U){ae=ke[A],fe=Nt[A];for(var Te=A;Te<U;Te++)ke[Te]=ke[Te+1],Nt[Te]=Nt[Te+1];ke[U]=ae,Nt[U]=fe,this.setPage(U)}return this},h.deletePage=function(){return nh.apply(this,arguments),this},h.__private__.text=h.text=function(A,U,ae,fe,we){var Te,De,ct,mt,Et,It,tr,Mr,ln,br=(fe=fe||{}).scope||this;if(typeof A=="number"&&typeof U=="number"&&(typeof ae=="string"||Array.isArray(ae))){var gn=ae;ae=U,U=A,A=gn}if(arguments[3]instanceof _t==0?(ct=arguments[4],mt=arguments[5],ur(tr=arguments[3])==="object"&&tr!==null||(typeof ct=="string"&&(mt=ct,ct=null),typeof tr=="string"&&(mt=tr,tr=null),typeof tr=="number"&&(ct=tr,tr=null),fe={flags:tr,angle:ct,align:mt})):(L("The transform parameter of text() with a Matrix value"),ln=we),isNaN(U)||isNaN(ae)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return br;var cn,Fn="",va=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:oc,_i=br.internal.scaleFactor;function wg(ar){return ar=ar.split("	").join(Array(fe.TabLen||9).join(" ")),ya(ar,tr)}function Mu(ar){for(var mr,Jr=ar.concat(),yn=[],ao=Jr.length;ao--;)typeof(mr=Jr.shift())=="string"?yn.push(mr):Array.isArray(ar)&&(mr.length===1||mr[1]===void 0&&mr[2]===void 0)?yn.push(mr[0]):yn.push([mr[0],mr[1],mr[2]]);return yn}function hc(ar,mr){var Jr;if(typeof ar=="string")Jr=mr(ar)[0];else if(Array.isArray(ar)){for(var yn,ao,_h=ar.concat(),Fu=[],jg=_h.length;jg--;)typeof(yn=_h.shift())=="string"?Fu.push(mr(yn)[0]):Array.isArray(yn)&&typeof yn[0]=="string"&&(ao=mr(yn[0],yn[1],yn[2]),Fu.push([ao[0],ao[1],ao[2]]));Jr=Fu}return Jr}var Ko=!1,pc=!0;if(typeof A=="string")Ko=!0;else if(Array.isArray(A)){var mc=A.concat();De=[];for(var gc,Kn=mc.length;Kn--;)(typeof(gc=mc.shift())!="string"||Array.isArray(gc)&&typeof gc[0]!="string")&&(pc=!1);Ko=pc}if(Ko===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var yc=Ne/br.internal.scaleFactor,vc=yc*(va-1);switch(fe.baseline){case"bottom":ae-=vc;break;case"top":ae+=yc-vc;break;case"hanging":ae+=yc-2*vc;break;case"middle":ae+=yc/2-vc}if((It=fe.maxWidth||0)>0&&(typeof A=="string"?A=br.splitTextToSize(A,It):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(ar,mr){return ar.concat(br.splitTextToSize(mr,It))},[]))),Te={text:A,x:U,y:ae,options:fe,mutex:{pdfEscape:ya,activeFontKey:Ae,fonts:Ke,activeFontSize:Ne}},Gt.publish("preProcessText",Te),A=Te.text,ct=(fe=Te.options).angle,ln instanceof _t==0&&ct&&typeof ct=="number"){ct*=Math.PI/180,fe.rotationDirection===0&&(ct=-ct),N===_&&(ct=-ct);var hh=Math.cos(ct),ph=Math.sin(ct);ln=new _t(hh,ph,-ph,hh,0,0)}else ct&&ct instanceof _t&&(ln=ct);N!==_||ln||(ln=Js),(Et=fe.charSpace||Ru)!==void 0&&(Fn+=C($(Et))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mr=fe.horizontalScale)!==void 0&&(Fn+=C(100*Mr)+` Tz
`),fe.lang;var qr=-1,no=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Du=br.internal.getCurrentPageInfo().pageContext;switch(no){case 0:case!1:case"fill":qr=0;break;case 1:case!0:case"stroke":qr=1;break;case 2:case"fillThenStroke":qr=2;break;case 3:case"invisible":qr=3;break;case 4:case"fillAndAddForClipping":qr=4;break;case 5:case"strokeAndAddPathForClipping":qr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":qr=6;break;case 7:case"addToPathForClipping":qr=7}var _g=Du.usedRenderingMode!==void 0?Du.usedRenderingMode:-1;qr!==-1?Fn+=qr+` Tr
`:_g!==-1&&(Fn+=`0 Tr
`),qr!==-1&&(Du.usedRenderingMode=qr),mt=fe.align||"left";var ba,bc=Ne*va,mh=br.internal.pageSize.getWidth(),gh=Ke[Ae];Et=fe.charSpace||Ru,It=fe.maxWidth||0,tr=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var Yo=[],xc=function(ar){return br.getStringUnitWidth(ar,{font:gh,charSpace:Et,fontSize:Ne,doKerning:!1})*Ne/_i};if(Object.prototype.toString.call(A)==="[object Array]"){var Bi;De=Mu(A),mt!=="left"&&(ba=De.map(xc));var Fi,Xo=0;if(mt==="right"){U-=ba[0],A=[],Kn=De.length;for(var io=0;io<Kn;io++)io===0?(Fi=Qs(U),Bi=eo(ae)):(Fi=$(Xo-ba[io]),Bi=-bc),A.push([De[io],Fi,Bi]),Xo=ba[io]}else if(mt==="center"){U-=ba[0]/2,A=[],Kn=De.length;for(var Jo=0;Jo<Kn;Jo++)Jo===0?(Fi=Qs(U),Bi=eo(ae)):(Fi=$((Xo-ba[Jo])/2),Bi=-bc),A.push([De[Jo],Fi,Bi]),Xo=ba[Jo]}else if(mt==="left"){A=[],Kn=De.length;for(var yh=0;yh<Kn;yh++)A.push(De[yh])}else if(mt==="justify"&&gh.encoding==="Identity-H"){A=[],Kn=De.length,It=It!==0?It:mh;for(var Bu=0,Xr=0;Xr<Kn;Xr++)if(Bi=Xr===0?eo(ae):-bc,Fi=Xr===0?Qs(U):Bu,Xr<Kn-1){var Sg=$((It-ba[Xr])/(De[Xr].split(" ").length-1)),_s=De[Xr].split(" ");A.push([_s[0]+" ",Fi,Bi]),Bu=0;for(var Ss=1;Ss<_s.length;Ss++){var vh=(xc(_s[Ss-1]+" "+_s[Ss])-xc(_s[Ss]))*_i+Sg;Ss==_s.length-1?A.push([_s[Ss],vh,0]):A.push([_s[Ss]+" ",vh,0]),Bu-=vh}}else A.push([De[Xr],Fi,Bi]);A.push(["",Bu,0])}else{if(mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Kn=De.length,It=It!==0?It:mh,Xr=0;Xr<Kn;Xr++){Bi=Xr===0?eo(ae):-bc,Fi=Xr===0?Qs(U):0;var bh=De[Xr].split(" ").length-1,xh=bh>0?(It-ba[Xr])/bh:0;Xr<Kn-1?Yo.push(C($(xh))):Yo.push(0),A.push([De[Xr],Fi,Bi])}}}(typeof fe.R2L=="boolean"?fe.R2L:Qe)===!0&&(A=hc(A,function(ar,mr,Jr){return[ar.split("").reverse().join(""),mr,Jr]})),Te={text:A,x:U,y:ae,options:fe,mutex:{pdfEscape:ya,activeFontKey:Ae,fonts:Ke,activeFontSize:Ne}},Gt.publish("postProcessText",Te),A=Te.text,cn=Te.mutex.isHex||!1;var wh=Ke[Ae].encoding;wh!=="WinAnsiEncoding"&&wh!=="StandardEncoding"||(A=hc(A,function(ar,mr,Jr){return[wg(ar),mr,Jr]})),De=Mu(A),A=[];for(var Zo,Qo,el,wc=Array.isArray(De[0])?1:0,tl="",_c=function(ar,mr,Jr){var yn="";return Jr instanceof _t?(Jr=typeof fe.angle=="number"?Xs(Jr,new _t(1,0,0,1,ar,mr)):Xs(new _t(1,0,0,1,ar,mr),Jr),N===_&&(Jr=Xs(new _t(1,0,0,-1,0,0),Jr)),yn=Jr.join(" ")+` Tm
`):yn=C(ar)+" "+C(mr)+` Td
`,yn},xa=0;xa<De.length;xa++){switch(tl="",wc){case 1:el=(cn?"<":"(")+De[xa][0]+(cn?">":")"),Zo=parseFloat(De[xa][1]),Qo=parseFloat(De[xa][2]);break;case 0:el=(cn?"<":"(")+De[xa]+(cn?">":")"),Zo=Qs(U),Qo=eo(ae)}Yo!==void 0&&Yo[xa]!==void 0&&(tl=Yo[xa]+` Tw
`),xa===0?A.push(tl+_c(Zo,Qo,ln)+el):wc===0?A.push(tl+el):wc===1&&A.push(tl+_c(Zo,Qo,ln)+el)}A=wc===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var js=`BT
/`;return js+=Ae+" "+Ne+` Tf
`,js+=C(Ne*va)+` TL
`,js+=lc+`
`,js+=Fn,js+=A,X(js+="ET"),p[Ae]=!0,br};var _b=h.__private__.clip=h.clip=function(A){return X(A==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return _b("evenodd")},h.__private__.discardPath=h.discardPath=function(){return X("n"),this};var ws=h.__private__.isValidStyle=function(A){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(U=!0),U};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(A){return ws(A)&&(c=A),this};var pg=h.__private__.getStyle=h.getStyle=function(A){var U=c;switch(A){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=A}return U},mg=h.close=function(){return X("h"),this};h.stroke=function(){return X("S"),this},h.fill=function(A){return Vo("f",A),this},h.fillEvenOdd=function(A){return Vo("f*",A),this},h.fillStroke=function(A){return Vo("B",A),this},h.fillStrokeEvenOdd=function(A){return Vo("B*",A),this};var Vo=function(A,U){ur(U)==="object"?jb(U,A):X(A)},ah=function(A){A===null||N===_&&A===void 0||(A=pg(A),X(A))};function Sb(A,U,ae,fe,we){var Te=new jd(U||this.boundingBox,ae||this.xStep,fe||this.yStep,this.gState,we||this.matrix);Te.stream=this.stream;var De=A+"$$"+this.cloneIndex+++"$$";return pa(De,Te),Te}var jb=function(A,U){var ae=ft[A.key],fe=Ye[ae];if(fe instanceof Uc)X("q"),X(Nb(U)),fe.gState&&h.setGState(fe.gState),X(A.matrix.toString()+" cm"),X("/"+ae+" sh"),X("Q");else if(fe instanceof jd){var we=new _t(1,0,0,-1,0,fc());A.matrix&&(we=we.multiply(A.matrix||Js),ae=Sb.call(fe,A.key,A.boundingBox,A.xStep,A.yStep,we).id),X("q"),X("/Pattern cs"),X("/"+ae+" scn"),fe.gState&&h.setGState(fe.gState),X(U),X("Q")}},Nb=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},sh=h.moveTo=function(A,U){return X(C($(A))+" "+C(M(U))+" m"),this},sc=h.lineTo=function(A,U){return X(C($(A))+" "+C(M(U))+" l"),this},Go=h.curveTo=function(A,U,ae,fe,we,Te){return X([C($(A)),C(M(U)),C($(ae)),C(M(fe)),C($(we)),C(M(Te)),"c"].join(" ")),this};h.__private__.line=h.line=function(A,U,ae,fe,we){if(isNaN(A)||isNaN(U)||isNaN(ae)||isNaN(fe)||!ws(we))throw new Error("Invalid arguments passed to jsPDF.line");return N===w?this.lines([[ae-A,fe-U]],A,U,[1,1],we||"S"):this.lines([[ae-A,fe-U]],A,U,[1,1]).stroke()},h.__private__.lines=h.lines=function(A,U,ae,fe,we,Te){var De,ct,mt,Et,It,tr,Mr,ln,br,gn,cn,Fn;if(typeof A=="number"&&(Fn=ae,ae=U,U=A,A=Fn),fe=fe||[1,1],Te=Te||!1,isNaN(U)||isNaN(ae)||!Array.isArray(A)||!Array.isArray(fe)||!ws(we)||typeof Te!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(sh(U,ae),De=fe[0],ct=fe[1],Et=A.length,gn=U,cn=ae,mt=0;mt<Et;mt++)(It=A[mt]).length===2?(gn=It[0]*De+gn,cn=It[1]*ct+cn,sc(gn,cn)):(tr=It[0]*De+gn,Mr=It[1]*ct+cn,ln=It[2]*De+gn,br=It[3]*ct+cn,gn=It[4]*De+gn,cn=It[5]*ct+cn,Go(tr,Mr,ln,br,gn,cn));return Te&&mg(),ah(we),this},h.path=function(A){for(var U=0;U<A.length;U++){var ae=A[U],fe=ae.c;switch(ae.op){case"m":sh(fe[0],fe[1]);break;case"l":sc(fe[0],fe[1]);break;case"c":Go.apply(this,fe);break;case"h":mg()}}return this},h.__private__.rect=h.rect=function(A,U,ae,fe,we){if(isNaN(A)||isNaN(U)||isNaN(ae)||isNaN(fe)||!ws(we))throw new Error("Invalid arguments passed to jsPDF.rect");return N===w&&(fe=-fe),X([C($(A)),C(M(U)),C($(ae)),C($(fe)),"re"].join(" ")),ah(we),this},h.__private__.triangle=h.triangle=function(A,U,ae,fe,we,Te,De){if(isNaN(A)||isNaN(U)||isNaN(ae)||isNaN(fe)||isNaN(we)||isNaN(Te)||!ws(De))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-A,fe-U],[we-ae,Te-fe],[A-we,U-Te]],A,U,[1,1],De,!0),this},h.__private__.roundedRect=h.roundedRect=function(A,U,ae,fe,we,Te,De){if(isNaN(A)||isNaN(U)||isNaN(ae)||isNaN(fe)||isNaN(we)||isNaN(Te)||!ws(De))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ct=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*ae),Te=Math.min(Te,.5*fe),this.lines([[ae-2*we,0],[we*ct,0,we,Te-Te*ct,we,Te],[0,fe-2*Te],[0,Te*ct,-we*ct,Te,-we,Te],[2*we-ae,0],[-we*ct,0,-we,-Te*ct,-we,-Te],[0,2*Te-fe],[0,-Te*ct,we*ct,-Te,we,-Te]],A+we,U,[1,1],De,!0),this},h.__private__.ellipse=h.ellipse=function(A,U,ae,fe,we){if(isNaN(A)||isNaN(U)||isNaN(ae)||isNaN(fe)||!ws(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Te=4/3*(Math.SQRT2-1)*ae,De=4/3*(Math.SQRT2-1)*fe;return sh(A+ae,U),Go(A+ae,U-De,A+Te,U-fe,A,U-fe),Go(A-Te,U-fe,A-ae,U-De,A-ae,U),Go(A-ae,U+De,A-Te,U+fe,A,U+fe),Go(A+Te,U+fe,A+ae,U+De,A+ae,U),ah(we),this},h.__private__.circle=h.circle=function(A,U,ae,fe){if(isNaN(A)||isNaN(U)||isNaN(ae)||!ws(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,U,ae,ae,fe)},h.setFont=function(A,U,ae){return ae&&(U=P(U,ae)),Ae=dg(A,U,{disableWarning:!1}),this};var Ab=h.__private__.getFont=h.getFont=function(){return Ke[dg.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var A,U,ae={};for(A in tt)if(tt.hasOwnProperty(A))for(U in ae[A]=[],tt[A])tt[A].hasOwnProperty(U)&&ae[A].push(U);return ae},h.addFont=function(A,U,ae,fe,we){var Te=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Te.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Te.indexOf(arguments[3])==-1&&(ae=P(ae,fe)),og.call(this,A,U,ae,we=we||"Identity-H")};var oc,oh=e.lineWidth||.200025,Ct=h.__private__.getLineWidth=h.getLineWidth=function(){return oh},kb=h.__private__.setLineWidth=h.setLineWidth=function(A){return oh=A,X(C($(A))+" w"),this};h.__private__.setLineDash=vt.API.setLineDash=vt.API.setLineDashPattern=function(A,U){if(A=A||[],U=U||0,isNaN(U)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ae){return C($(ae))}).join(" "),U=C($(U)),X("["+A+"] "+U+" d"),this};var Ob=h.__private__.getLineHeight=h.getLineHeight=function(){return Ne*oc};h.__private__.getLineHeight=h.getLineHeight=function(){return Ne*oc};var Eb=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(oc=A),this},Pb=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return oc};Eb(e.lineHeight);var Qs=h.__private__.getHorizontalCoordinate=function(A){return $(A)},eo=h.__private__.getVerticalCoordinate=function(A){return N===_?A:Nt[I].mediaBox.topRightY-Nt[I].mediaBox.bottomLeftY-$(A)},Cb=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(A){return C(Qs(A))},Tb=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(A){return C(eo(A))},Iu=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return bs(Iu)},h.__private__.setStrokeColor=h.setDrawColor=function(A,U,ae,fe){return Iu=Va({ch1:A,ch2:U,ch3:ae,ch4:fe,pdfColorType:"draw",precision:2}),X(Iu),this};var lh=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return bs(lh)},h.__private__.setFillColor=h.setFillColor=function(A,U,ae,fe){return lh=Va({ch1:A,ch2:U,ch3:ae,ch4:fe,pdfColorType:"fill",precision:2}),X(lh),this};var lc=e.textColor||"0 g",Lu=h.__private__.getTextColor=h.getTextColor=function(){return bs(lc)};h.__private__.setTextColor=h.setTextColor=function(A,U,ae,fe){return lc=Va({ch1:A,ch2:U,ch3:ae,ch4:fe,pdfColorType:"text",precision:3}),this};var Ru=e.charSpace,Ib=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Ru||0)};h.__private__.setCharSpace=h.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ru=A,this};var ch=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(A){var U=h.CapJoinStyles[A];if(U===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ch=U,X(U+" J"),this};var uh=0;h.__private__.setLineJoin=h.setLineJoin=function(A){var U=h.CapJoinStyles[A];if(U===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return uh=U,X(U+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(C($(A))+" M"),this},h.GState=Yv,h.setGState=function(A){(A=typeof A=="string"?nt[er[A]]:cc(null,A)).equals(hr)||(X("/"+A.id+" gs"),hr=A)};var cc=function(A,U){if(!A||!er[A]){var ae=!1;for(var fe in nt)if(nt.hasOwnProperty(fe)&&nt[fe].equals(U)){ae=!0;break}if(ae)U=nt[fe];else{var we="GS"+(Object.keys(nt).length+1).toString(10);nt[we]=U,U.id=we}return A&&(er[A]=U.id),Gt.publish("addGState",U),U}};h.addGState=function(A,U){return cc(A,U),this},h.saveGraphicsState=function(){return X("q"),rt.push({key:Ae,size:Ne,color:lc}),this},h.restoreGraphicsState=function(){X("Q");var A=rt.pop();return Ae=A.key,Ne=A.size,lc=A.color,hr=null,this},h.setCurrentTransformationMatrix=function(A){return X(A.toString()+" cm"),this},h.comment=function(A){return X("#"+A),this};var uc=function(A,U){var ae=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(Te){isNaN(Te)||(ae=parseFloat(Te))}});var fe=U||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Te){isNaN(Te)||(fe=parseFloat(Te))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Te){we=Te.toString()}}),this},dh=function(A,U,ae,fe){uc.call(this,A,U),this.type="rect";var we=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(De){isNaN(De)||(we=parseFloat(De))}});var Te=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Te},set:function(De){isNaN(De)||(Te=parseFloat(De))}}),this},$u=function(){this.page=or,this.currentPage=I,this.pages=ke.slice(0),this.pagesContext=Nt.slice(0),this.x=Re,this.y=et,this.matrix=gt,this.width=gg(I),this.height=to(I),this.outputDestination=he,this.id="",this.objectNumber=-1};$u.prototype.restore=function(){or=this.page,I=this.currentPage,Nt=this.pagesContext,ke=this.pages,Re=this.x,et=this.y,gt=this.matrix,yg(I,this.width),ro(I,this.height),he=this.outputDestination};var fh=function(A,U,ae,fe,we){vs.push(new $u),or=I=0,ke=[],Re=A,et=U,gt=we,rh([ae,fe])};for(var dc in h.beginFormObject=function(A,U,ae,fe,we){return fh(A,U,ae,fe,we),this},h.endFormObject=function(A){return function(U){if(Ys[U])vs.pop().restore();else{var ae=new $u,fe="Xo"+(Object.keys(Pn).length+1).toString(10);ae.id=fe,Ys[U]=fe,Pn[fe]=ae,Gt.publish("addFormObject",ae),vs.pop().restore()}}(A),this},h.doFormObject=function(A,U){var ae=Pn[Ys[A]];return X("q"),X(U.toString()+" cm"),X("/"+ae.id+" Do"),X("Q"),this},h.getFormObject=function(A){var U=Pn[Ys[A]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},h.save=function(A,U){return A=A||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(Rc(ic(Zs()),A),typeof Rc.unload=="function"&&At.setTimeout&&setTimeout(Rc.unload,911),this):new Promise(function(ae,fe){try{var we=Rc(ic(Zs()),A);typeof Rc.unload=="function"&&At.setTimeout&&setTimeout(Rc.unload,911),ae(we)}catch(Te){fe(Te.message)}})},vt.API)vt.API.hasOwnProperty(dc)&&(dc==="events"&&vt.API.events.length?function(A,U){var ae,fe,we;for(we=U.length-1;we!==-1;we--)ae=U[we][0],fe=U[we][1],A.subscribe.apply(A,[ae].concat(typeof fe=="function"?[fe]:fe))}(Gt,vt.API.events):h[dc]=vt.API[dc]);function gg(A){return Nt[A].mediaBox.topRightX-Nt[A].mediaBox.bottomLeftX}function yg(A,U){Nt[A].mediaBox.topRightX=U+Nt[A].mediaBox.bottomLeftX}function to(A){return Nt[A].mediaBox.topRightY-Nt[A].mediaBox.bottomLeftY}function ro(A,U){Nt[A].mediaBox.topRightY=U+Nt[A].mediaBox.bottomLeftY}var vg=h.getPageWidth=function(A){return gg(A=A||I)/Oe},bg=h.setPageWidth=function(A,U){yg(A,U*Oe)},fc=h.getPageHeight=function(A){return to(A=A||I)/Oe},xg=h.setPageHeight=function(A,U){ro(A,U*Oe)};return h.internal={pdfEscape:ya,getStyle:pg,getFont:Ab,getFontSize:Be,getCharSpace:Ib,getTextColor:Lu,getLineHeight:Ob,getLineHeightFactor:Pb,getLineWidth:Ct,write:Me,getHorizontalCoordinate:Qs,getVerticalCoordinate:eo,getCoordinateString:Cb,getVerticalCoordinateString:Tb,collections:{},newObject:zr,newAdditionalObject:tc,newObjectDeferred:Cn,newObjectDeferredBegin:Bn,getFilters:Ga,putStream:ga,events:Gt,scaleFactor:Oe,pageSize:{getWidth:function(){return vg(I)},setWidth:function(A){bg(I,A)},getHeight:function(){return fc(I)},setHeight:function(A){xg(I,A)}},encryptionOptions:u,encryption:Yr,getEncryptor:function(A){return u!==null?Yr.encryptor(A,0):function(U){return U}},output:Ka,getNumberOfPages:ug,pages:ke,out:X,f2:k,f3:E,getPageInfo:ih,getPageInfoByObjId:xb,getCurrentPageInfo:wb,getPDFVersion:g,Point:uc,Rectangle:dh,Matrix:_t,hasHotfix:ac},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return vg(I)},set:function(A){bg(I,A)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return fc(I)},set:function(A){xg(I,A)},enumerable:!0,configurable:!0}),(function(A){for(var U=0,ae=He.length;U<ae;U++){var fe=og.call(this,A[U][0],A[U][1],A[U][2],He[U][3],!0);f===!1&&(p[fe]=!0);var we=A[U][0].split("-");sg({id:fe,fontName:we[0],fontStyle:we[1]||""})}Gt.publish("addFonts",{fonts:Ke,dictionary:tt})}).call(h,He),Ae="F1",lg(i,r),Gt.publish("initialized"),h}ad.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},ad.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ad.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},ad.prototype.processOwnerPassword=function(e,t){return X_(Y_(t).substr(0,5),e)},ad.prototype.encryptor=function(e,t){var r=Y_(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return X_(r,n)}},Yv.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||ur(e)!==ur(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},vt.API={events:[]},vt.version="3.0.3";var Vr=vt.API,DN=1,Ou=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ed=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Lt=function(e){return e.toFixed(2)},fl=function(e){return e.toFixed(5)};Vr.__acroform__={};var Di=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},wC=function(e){return e*DN},ks=function(e){var t=new TD,r=ot.internal.getHeight(e)||0,n=ot.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Lt(n)),Number(Lt(r))],t},jSe=Vr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},NSe=Vr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},ASe=Vr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},rn=Vr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ASe(e,t-1)},nn=Vr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return jSe(e,t-1)},an=Vr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return NSe(e,t-1)},kSe=Vr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(a)||0,[Number(Lt(l.lowerLeft_X)),Number(Lt(l.lowerLeft_Y)),Number(Lt(l.upperRight_X)),Number(Lt(l.upperRight_Y))]},OSe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=J_(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Lt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=ks(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},J_=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var a=r,s=ot.internal.getHeight(e)||0;s=s<0?-s:s;var o=ot.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(k,E,$){if(k+1<i.length){var M=E+" "+i[k+1][0];return $0(M,e,$).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var c,u,f=$0("3",e,a).height,p=e.multiline?s-a:(s-f)/2,h=p+=2,y=0,g=0,b=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+$0(t,e,a=12).width+", FieldWidth:"+o+`
`;break}for(var v="",w=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var N=!1;if(i[_].length!==1&&b!==i[_].length-1){if((f+2)*(w+2)+2>s)continue e;v+=i[_][b],N=!0,g=_,_--}else{v=(v+=i[_][b]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var S=parseInt(_),j=l(S,v,a),P=_>=i.length-1;if(j&&!P){v+=" ",b=0;continue}if(j||P){if(P)g=S;else if(e.multiline&&(f+2)*(w+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(w+2)+2>s)continue e;g=S}}for(var C="",L=y;L<=g;L++){var F=i[L];if(e.multiline){if(L===g){C+=F[b]+" ",b=(b+1)%F.length;continue}if(L===y){C+=F[F.length-1]+" ";continue}}C+=F[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,u=$0(C,e,a).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}t+=Lt(c)+" "+Lt(h)+` Td
`,t+="("+Ou(C)+`) Tj
`,t+=-Lt(c)+` 0 Td
`,h=-(a+2),u=0,y=N?g:g+1,w++,v=""}break}return n.text=t,n.fontSize=a,n},$0=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},ESe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},PSe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},CSe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(gs.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(ESe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");DN=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new ID,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&PSe(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=kSe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ot.createDefaultAppearanceStream(o),ur(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=OSe(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var h=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var y=h[s];typeof y=="function"&&(y=y.call(i,o)),f+="/"+s+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=h)=="function"&&(y=y.call(i,o)),f+="/"+s+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(g,b){for(var v in g)if(g.hasOwnProperty(v)){var w=v,_=g[v];b.internal.newObjectDeferredBegin(_.objId,!0),ur(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete g[w]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},CD=Vr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),ur(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Ou(n(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},M2=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Ou(n(e))+")"},Is=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Is.prototype.toString=function(){return this.objId+" 0 R"},Is.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Is.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:CD(i,this.objId,this.scope)}):i instanceof Is?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var TD=function(){Is.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Di(TD,Is);var ID=function(){Is.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ou(r(e))+")"}},set:function(r){e=r}})};Di(ID,Is);var gs=function e(){Is.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!rn(t,3)},set:function(v){v?this.F=nn(t,3):this.F=an(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Xv)return;a="FieldObject"+e.FieldNum++}var v=function(w){return w};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Ou(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/DN:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Xv||this instanceof tu))return M2(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ln==0?M2(p,this.objId,this.scope):p},set:function(v){v=v.toString(),p=this instanceof Ln==0?v.substr(0,1)==="("?ed(v.substr(1,v.length-2)):ed(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ln==1?ed(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof Ln==1?"/"+v:v}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ln==0?M2(h,this.objId,this.scope):h},set:function(v){v=v.toString(),h=this instanceof Ln==0?v.substr(0,1)==="("?ed(v.substr(1,v.length-2)):ed(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ln==1?ed(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof Ln==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(v){y=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,1)},set:function(v){v?this.Ff=nn(this.Ff,1):this.Ff=an(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,2)},set:function(v){v?this.Ff=nn(this.Ff,2):this.Ff=an(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,3)},set:function(v){v?this.Ff=nn(this.Ff,3):this.Ff=an(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');b=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(b){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};Di(gs,Is);var Dd=function(){gs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return CD(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,18)},set:function(r){r?this.Ff=nn(this.Ff,18):this.Ff=an(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=nn(this.Ff,19):this.Ff=an(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,20)},set:function(r){r?(this.Ff=nn(this.Ff,20),t.sort()):this.Ff=an(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,22)},set:function(r){r?this.Ff=nn(this.Ff,22):this.Ff=an(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,23)},set:function(r){r?this.Ff=nn(this.Ff,23):this.Ff=an(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,27)},set:function(r){r?this.Ff=nn(this.Ff,27):this.Ff=an(this.Ff,27)}}),this.hasAppearanceStream=!1};Di(Dd,gs);var Bd=function(){Dd.call(this),this.fontName="helvetica",this.combo=!1};Di(Bd,Dd);var Fd=function(){Bd.call(this),this.combo=!0};Di(Fd,Bd);var ry=function(){Fd.call(this),this.edit=!0};Di(ry,Fd);var Ln=function(){gs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,15)},set:function(r){r?this.Ff=nn(this.Ff,15):this.Ff=an(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,16)},set:function(r){r?this.Ff=nn(this.Ff,16):this.Ff=an(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,17)},set:function(r){r?this.Ff=nn(this.Ff,17):this.Ff=an(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,26)},set:function(r){r?this.Ff=nn(this.Ff,26):this.Ff=an(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Ou(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){ur(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Di(Ln,gs);var ny=function(){Ln.call(this),this.pushButton=!0};Di(ny,Ln);var Ud=function(){Ln.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Di(Ud,Ln);var Xv=function(){var e,t;gs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+Ou(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){ur(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ot.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Di(Xv,gs),Ud.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Ud.prototype.createOption=function(e){var t=new Xv;return t.Parent=this,t.optionName=e,this.Kids.push(t),TSe.call(this.scope,t),t};var iy=function(){Ln.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ot.CheckBox.createAppearanceStream()};Di(iy,Ln);var tu=function(){gs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,13)},set:function(t){t?this.Ff=nn(this.Ff,13):this.Ff=an(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,21)},set:function(t){t?this.Ff=nn(this.Ff,21):this.Ff=an(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,23)},set:function(t){t?this.Ff=nn(this.Ff,23):this.Ff=an(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,24)},set:function(t){t?this.Ff=nn(this.Ff,24):this.Ff=an(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,25)},set:function(t){t?this.Ff=nn(this.Ff,25):this.Ff=an(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,26)},set:function(t){t?this.Ff=nn(this.Ff,26):this.Ff=an(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Di(tu,gs);var ay=function(){tu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,14)},set:function(e){e?this.Ff=nn(this.Ff,14):this.Ff=an(this.Ff,14)}}),this.password=!0};Di(ay,tu);var ot={CheckBox:{createAppearanceStream:function(){return{N:{On:ot.CheckBox.YesNormal},D:{On:ot.CheckBox.YesPushDown,Off:ot.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ks(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=J_(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Lt(ot.internal.getWidth(e))+" "+Lt(ot.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Lt(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ks(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=ot.internal.getHeight(e),s=ot.internal.getWidth(e),o=J_(e,e.caption);return i.push("1 g"),i.push("0 0 "+Lt(s)+" "+Lt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Lt(s-1)+" "+Lt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Lt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=ks(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Lt(ot.internal.getWidth(e))+" "+Lt(ot.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ot.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ot.RadioButton.Circle.YesNormal,t.D[e]=ot.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ks(e);t.scope=e.scope;var r=[],n=ot.internal.getWidth(e)<=ot.internal.getHeight(e)?ot.internal.getWidth(e)/4:ot.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=ot.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+fl(ot.internal.getWidth(e)/2)+" "+fl(ot.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ks(e);t.scope=e.scope;var r=[],n=ot.internal.getWidth(e)<=ot.internal.getHeight(e)?ot.internal.getWidth(e)/4:ot.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*ot.internal.Bezier_C).toFixed(5)),s=Number((n*ot.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+fl(ot.internal.getWidth(e)/2)+" "+fl(ot.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+fl(ot.internal.getWidth(e)/2)+" "+fl(ot.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ks(e);t.scope=e.scope;var r=[],n=ot.internal.getWidth(e)<=ot.internal.getHeight(e)?ot.internal.getWidth(e)/4:ot.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*ot.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+fl(ot.internal.getWidth(e)/2)+" "+fl(ot.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ot.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ot.RadioButton.Cross.YesNormal,t.D[e]=ot.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ks(e);t.scope=e.scope;var r=[],n=ot.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Lt(ot.internal.getWidth(e)-2)+" "+Lt(ot.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Lt(n.x1.x)+" "+Lt(n.x1.y)+" m"),r.push(Lt(n.x2.x)+" "+Lt(n.x2.y)+" l"),r.push(Lt(n.x4.x)+" "+Lt(n.x4.y)+" m"),r.push(Lt(n.x3.x)+" "+Lt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ks(e);t.scope=e.scope;var r=ot.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Lt(ot.internal.getWidth(e))+" "+Lt(ot.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Lt(ot.internal.getWidth(e)-2)+" "+Lt(ot.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Lt(r.x1.x)+" "+Lt(r.x1.y)+" m"),n.push(Lt(r.x2.x)+" "+Lt(r.x2.y)+" l"),n.push(Lt(r.x4.x)+" "+Lt(r.x4.y)+" m"),n.push(Lt(r.x3.x)+" "+Lt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ks(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Lt(ot.internal.getWidth(e))+" "+Lt(ot.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};ot.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ot.internal.getWidth(e),r=ot.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},ot.internal.getWidth=function(e){var t=0;return ur(e)==="object"&&(t=wC(e.Rect[2])),t},ot.internal.getHeight=function(e){var t=0;return ur(e)==="object"&&(t=wC(e.Rect[3])),t};var TSe=Vr.addField=function(e){if(CSe(this,e),!(e instanceof gs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Vr.AcroFormChoiceField=Dd,Vr.AcroFormListBox=Bd,Vr.AcroFormComboBox=Fd,Vr.AcroFormEditBox=ry,Vr.AcroFormButton=Ln,Vr.AcroFormPushButton=ny,Vr.AcroFormRadioButton=Ud,Vr.AcroFormCheckBox=iy,Vr.AcroFormTextField=tu,Vr.AcroFormPasswordField=ay,Vr.AcroFormAppearance=ot,Vr.AcroForm={ChoiceField:Dd,ListBox:Bd,ComboBox:Fd,EditBox:ry,Button:Ln,PushButton:ny,RadioButton:Ud,CheckBox:iy,TextField:tu,PasswordField:ay,Appearance:ot},vt.AcroForm={ChoiceField:Dd,ListBox:Bd,ComboBox:Fd,EditBox:ry,Button:Ln,PushButton:ny,RadioButton:Ud,CheckBox:iy,TextField:tu,PasswordField:ay,Appearance:ot};vt.AcroForm;function LD(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(k,E){var $,M,B,q,J,W=r;if((E=E||r)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(j(k))for(J in n)for(B=n[J],$=0;$<B.length;$+=1){for(q=!0,M=0;M<B[$].length;M+=1)if(B[$][M]!==void 0&&B[$][M]!==k[M]){q=!1;break}if(q===!0){W=J;break}}else for(J in n)for(B=n[J],$=0;$<B.length;$+=1){for(q=!0,M=0;M<B[$].length;M+=1)if(B[$][M]!==void 0&&B[$][M]!==k.charCodeAt(M)){q=!1;break}if(q===!0){W=J;break}}return W===r&&E!==r&&(W=E),W},a=function k(E){for(var $=this.internal.write,M=this.internal.putStream,B=(0,this.internal.getFilters)();B.indexOf("FlateEncode")!==-1;)B.splice(B.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var q=[];if(q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Image"}),q.push({key:"Width",value:E.width}),q.push({key:"Height",value:E.height}),E.colorSpace===v.INDEXED?q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(q.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===v.DEVICE_CMYK&&q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),q.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&q.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)&&E.transparency.length>0){for(var J="",W=0,Z=E.transparency.length;W<Z;W++)J+=E.transparency[W]+" "+E.transparency[W]+" ";q.push({key:"Mask",value:"["+J+"]"})}E.sMask!==void 0&&q.push({key:"SMask",value:E.objectId+1+" 0 R"});var D=E.filter!==void 0?["/"+E.filter]:void 0;if(M({data:E.data,additionalKeyValues:q,alreadyAppliedFilters:D,objectId:E.objectId}),$("endobj"),"sMask"in E&&E.sMask!==void 0){var se,T=(se=E.sMaskBitsPerComponent)!==null&&se!==void 0?se:E.bitsPerComponent,I={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:E.sMask};"filter"in E&&(I.decodeParameters="/Predictor ".concat(E.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(E.width),I.filter=E.filter),k.call(this,I)}if(E.colorSpace===v.INDEXED){var Y=this.internal.newObject();M({data:C(new Uint8Array(E.palette)),objectId:Y}),$("endobj")}},s=function(){var k=this.internal.collections[t+"images"];for(var E in k)a.call(this,k[E])},o=function(){var k,E=this.internal.collections[t+"images"],$=this.internal.write;for(var M in E)$("/I"+(k=E[M]).index,k.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var k=this.internal.collections[t+"images"];return l.call(this),k},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(k){return typeof e["process"+k.toUpperCase()]=="function"},p=function(k){return ur(k)==="object"&&k.nodeType===1},h=function(k,E){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var $=""+k.getAttribute("src");if($.indexOf("data:image/")===0)return ty(unescape($).split("base64,").pop());var M=e.loadFile($,!0);if(M!==void 0)return M}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var B;switch(E){case"PNG":B="image/png";break;case"WEBP":B="image/webp";break;default:B="image/jpeg"}return ty(k.toDataURL(B,1).split("base64,").pop())}},y=function(k){var E=this.internal.collections[t+"images"];if(E){for(var $ in E)if(k===E[$].alias)return E[$]}},g=function(k,E,$){return k||E||(k=-96,E=-96),k<0&&(k=-1*$.width*72/k/this.internal.scaleFactor),E<0&&(E=-1*$.height*72/E/this.internal.scaleFactor),k===0&&(k=E*$.width/$.height),E===0&&(E=k*$.height/$.width),[k,E]},b=function(k,E,$,M,B,q){var J=g.call(this,$,M,B),W=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,D=c.call(this);if($=J[0],M=J[1],D[B.index]=B,q){q*=Math.PI/180;var se=Math.cos(q),T=Math.sin(q),I=function(ie){return ie.toFixed(4)},Y=[I(se),I(T),I(-1*T),I(se),0,0,"cm"]}this.internal.write("q"),q?(this.internal.write([1,"0","0",1,W(k),Z(E+M),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([W($),"0","0",W(M),"0","0","cm"].join(" "))):this.internal.write([W($),"0","0",W(M),W(k),Z(E+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+B.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(k){var E,$,M=0;if(typeof k=="string")for($=k.length,E=0;E<$;E++)M=(M<<5)-M+k.charCodeAt(E),M|=0;else if(j(k))for($=k.byteLength/2,E=0;E<$;E++)M=(M<<5)-M+k[E],M|=0;return M},N=e.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var E=!0;return k.length===0&&(E=!1),k.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(E=!1),E},S=e.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var E=k.indexOf(",");return E<0?null:k.substring(0,E).trim().endsWith("base64")?k.substring(E+1):null};e.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},P=e.__addimage__.binaryStringToUint8Array=function(k){for(var E=k.length,$=new Uint8Array(E),M=0;M<E;M++)$[M]=k.charCodeAt(M);return $},C=e.__addimage__.arrayBufferToBinaryString=function(k){for(var E="",$=j(k)?k:new Uint8Array(k),M=0;M<$.length;M+=8192)E+=String.fromCharCode.apply(null,$.subarray(M,M+8192));return E};e.addImage=function(){var k,E,$,M,B,q,J,W,Z;if(typeof arguments[1]=="number"?(E=r,$=arguments[1],M=arguments[2],B=arguments[3],q=arguments[4],J=arguments[5],W=arguments[6],Z=arguments[7]):(E=arguments[1],$=arguments[2],M=arguments[3],B=arguments[4],q=arguments[5],J=arguments[6],W=arguments[7],Z=arguments[8]),ur(k=arguments[0])==="object"&&!p(k)&&"imageData"in k){var D=k;k=D.imageData,E=D.format||E||r,$=D.x||$||0,M=D.y||M||0,B=D.w||D.width||B,q=D.h||D.height||q,J=D.alias||J,W=D.compression||W,Z=D.rotation||D.angle||Z}var se=this.internal.getFilters();if(W===void 0&&se.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN($)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var T=L.call(this,k,E,J,W);return b.call(this,$,M,B,q,T,Z),this};var L=function(k,E,$,M){var B,q,J;if(typeof k=="string"&&i(k)===r){k=unescape(k);var W=F(k,!1);(W!==""||(W=e.loadFile(k,!0))!==void 0)&&(k=W)}if(p(k)&&(k=h(k,E)),E=i(k,E),!f(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((J=$)==null||J.length===0)&&($=function(Z){return typeof Z=="string"||j(Z)?_(Z):j(Z.data)?_(Z.data):null}(k)),(B=y.call(this,$))||(k instanceof Uint8Array||E==="RGBA"||(q=k,k=P(k)),B=this["process"+E.toUpperCase()](k,u.call(this),$,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in e.image_compression?Z:w.NONE}(M),q)),!B)throw new Error("An unknown error occurred whilst processing the image.");return B},F=e.__addimage__.convertBase64ToBinaryString=function(k,E){E=typeof E!="boolean"||E;var $,M="";if(typeof k=="string"){var B;$=(B=S(k))!==null&&B!==void 0?B:k;try{M=ty($)}catch(q){if(E)throw N($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};e.getImageProperties=function(k){var E,$,M="";if(p(k)&&(k=h(k)),typeof k=="string"&&i(k)===r&&((M=F(k,!1))===""&&(M=e.loadFile(k)||""),k=M),$=i(k),!f($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(k instanceof Uint8Array||(k=P(k)),!(E=this["process"+$.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=$,E}})(vt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};vt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var h=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),w=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(v(n.contents))+")",a+=" /Popup "+b.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(v(w))+") >>",g.content=a;var _=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(a+=" /Open true"),a+=" >>",b.content=a,this.internal.write(g.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var N=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(y(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var j=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+j+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+a)},options:s,type:"link"})},e.textWithLink=function(r,n,i,a){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,i,a),i+=.2*c,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-c,o,s,a),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(vt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=e.__arabicParser__.isArabicEndLetter=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return s(g)&&i.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var b=0,v=r,w="",_=0;for(b=0;b<g.length;b+=1)v[g.charCodeAt(b)]!==void 0?(_++,typeof(v=v[g.charCodeAt(b)])=="number"&&(w+=String.fromCharCode(v),v=r,_=0),b===g.length-1&&(v=r,w+=g.charAt(b-(_-1)),b-=_-1,_=0)):(v=r,w+=g.charAt(b-_),b-=_,_=0);return w};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,b,v){return s(g)?a(g)===!1?-1:!c(g)||!s(b)&&!s(v)||!s(v)&&o(b)||o(g)&&!s(b)||o(g)&&l(b)||o(g)&&o(b)?0:u(g)&&s(b)&&!o(b)&&s(v)&&c(v)?3:o(g)||!s(v)?1:2:-1},h=function(g){var b=0,v=0,w=0,_="",N="",S="",j=(g=g||"").split("\\s+"),P=[];for(b=0;b<j.length;b+=1){for(P.push(""),v=0;v<j[b].length;v+=1)_=j[b][v],N=j[b][v-1],S=j[b][v+1],s(_)?(w=p(_,N,S),P[b]+=w!==-1?String.fromCharCode(t[_.charCodeAt(0)][w]):_):P[b]+=_;P[b]=f(P[b])}return P.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var g,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(b)){var w=0;for(v=[],w=0;w<b.length;w+=1)Array.isArray(b[w])?v.push([h(b[w][0]),b[w][1],b[w][2]]):v.push([h(b[w])]);g=v}else g=h(b);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",y])}(vt.API),vt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(vt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(g){y=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,h=0,y=0,g=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,N){return _.concat(b.splitTextToSize(N,v))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)h<(g=this.getStringUnitWidth(l[w],{font:f})*u)&&(h=g);return h!==0&&(y=l.length),{w:h/=p,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,f,p){if(n.call(this),!u)throw new Error("No data for PDF table.");var h,y,g,b,v=[],w=[],_=[],N={},S={},j=[],P=[],C=(p=p||{}).autoSize||!1,L=p.printHeaders!==!1,F=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,k=p.margins||Object.assign({width:this.getPageWidth()},t),E=typeof p.padding=="number"?p.padding:3,$=p.headerBackgroundColor||"#c8c8c8",M=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=M,this.setFontSize(F),f==null)w=v=Object.keys(u[0]),_=v.map(function(){return"left"});else if(Array.isArray(f)&&ur(f[0])==="object")for(v=f.map(function(D){return D.name}),w=f.map(function(D){return D.prompt||D.name||""}),_=f.map(function(D){return D.align||"left"}),h=0;h<f.length;h+=1)S[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=v=f,_=v.map(function(){return"left"}));if(C||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<v.length;h+=1){for(N[b=v[h]]=u.map(function(D){return D[b]}),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=N[b],this.setFont(void 0,"normal"),g=0;g<y.length;g+=1)j.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[b]=Math.max.apply(null,j)+E+E,j=[]}if(L){var B={};for(h=0;h<v.length;h+=1)B[v[h]]={},B[v[h]].text=w[h],B[v[h]].align=_[h];var q=o.call(this,B,S);P=v.map(function(D){return new a(l,c,S[D],q,B[D].text,void 0,B[D].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var J=f.reduce(function(D,se){return D[se.name]=se.align,D},{});for(h=0;h<u.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:u[h]},this);var W=o.call(this,u[h],S);for(g=0;g<v.length;g+=1){var Z=u[h][v[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:g,data:Z},this),s.call(this,new a(l,c,S[v[g]],W,Z,h+2,J[v[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var y=l[h];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+u+u},this).reduce(function(h,y){return Math.max(h,y)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(vt.API);var RD={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$D=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Z_=LD($D),MD=[100,200,300,400,500,600,700,800,900],ISe=LD(MD);function D2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return RD[a=a||"normal"]?a:"normal"}(e.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof Z_[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function _C(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var LSe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},SC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function jC(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function NC(e){return e.trimLeft()}function RSe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function $Se(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var M0,AC,kC,td,D0,OC,EC,PC,B2=["times"];function CC(e,t,r,n,i){var a=4,s=IC;switch(i){case vt.API.image_compression.FAST:a=1,s=TC;break;case vt.API.image_compression.MEDIUM:a=6,s=LC;break;case vt.API.image_compression.SLOW:a=9,s=RC}e=function(l,c,u,f){for(var p,h=l.length/c,y=new Uint8Array(l.length+h),g=[MSe,TC,IC,LC,RC],b=0;b<h;b+=1){var v=b*c,w=l.subarray(v,v+c);if(f)y.set(f(w,u,p),v+b);else{for(var _=g.length,N=[],S=0;S<_;S+=1)N[S]=g[S](w,u,p);var j=BSe(N.concat());y.set(N[j],v+b)}p=w}return y}(e,t,Math.ceil(r*n/8),s);var o=H_(e,{level:a});return vt.API.__addimage__.arrayBufferToBinaryString(o)}function MSe(e){var t=Array.apply([],e);return t.unshift(0),t}function TC(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=e[i-t]||0;n[i+1]=e[i]-a+256&255}return n}function IC(e,t,r){var n=e.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=e[a]-s+256&255}return i}function LC(e,t,r){var n=e.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=e[a-t]||0,o=r&&r[a]||0;i[a+1]=e[a]+256-(s+o>>>1)&255}return i}function RC(e,t,r){var n=e.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=DSe(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);i[a+1]=e[a]-s+256&255}return i}function DSe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r}function BSe(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function F2(e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return DD(e,i)>>a&s}function $C(e,t,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,l=(t&o)<<s;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var p=f>>8&255;c.setUint8(u,p)}})(e,a,DD(e,a)&~(o<<s)&65535|l)}function DD(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function FSe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,s=1<<1+(7&i);e[t++],e[t++];var o=null,l=null;a&&(o=t,l=s,t+=3*s);var c=!0,u=[],f=0,p=null,h=0,y=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],1&g||(p=null),h=g>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,N=e[t++],S=N>>6&1,j=1<<1+(7&N),P=o,C=l,L=!1;N>>7&&(L=!0,P=t,C=j,t+=3*j);var F=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}u.push({x:b,y:v,width:w,height:_,has_local_palette:L,palette_offset:P,palette_size:C,data_offset:F,data_length:t-F,transparent_index:p,interlaced:!!S,delay:f,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(E){if(E<0||E>=u.length)throw new Error("Frame index out of range.");return u[E]},this.decodeAndBlitFrameBGRA=function(E,$){var M=this.frameInfo(E),B=M.width*M.height,q=new Uint8Array(B);MC(e,M.data_offset,q,B);var J=M.palette_offset,W=M.transparent_index;W===null&&(W=256);var Z=M.width,D=r-Z,se=Z,T=4*(M.y*r+M.x),I=4*((M.y+M.height)*r+M.x),Y=T,ie=4*D;M.interlaced===!0&&(ie+=4*r*7);for(var te=8,de=0,ve=q.length;de<ve;++de){var oe=q[de];if(se===0&&(se=Z,(Y+=ie)>=I&&(ie=4*D+4*r*(te-1),Y=T+(Z+D)*(te<<1),te>>=1)),oe===W)Y+=4;else{var ye=e[J+3*oe],ke=e[J+3*oe+1],ee=e[J+3*oe+2];$[Y++]=ee,$[Y++]=ke,$[Y++]=ye,$[Y++]=255}--se}},this.decodeAndBlitFrameRGBA=function(E,$){var M=this.frameInfo(E),B=M.width*M.height,q=new Uint8Array(B);MC(e,M.data_offset,q,B);var J=M.palette_offset,W=M.transparent_index;W===null&&(W=256);var Z=M.width,D=r-Z,se=Z,T=4*(M.y*r+M.x),I=4*((M.y+M.height)*r+M.x),Y=T,ie=4*D;M.interlaced===!0&&(ie+=4*r*7);for(var te=8,de=0,ve=q.length;de<ve;++de){var oe=q[de];if(se===0&&(se=Z,(Y+=ie)>=I&&(ie=4*D+4*r*(te-1),Y=T+(Z+D)*(te<<1),te>>=1)),oe===W)Y+=4;else{var ye=e[J+3*oe],ke=e[J+3*oe+1],ee=e[J+3*oe+2];$[Y++]=ye,$[Y++]=ke,$[Y++]=ee,$[Y++]=255}--se}}}function MC(e,t,r,n){for(var i=e[t++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,u=0,f=0,p=0,h=e[t++],y=new Int32Array(4096),g=null;;){for(;u<16&&h!==0;)f|=e[t++]<<u,u+=8,h===1?h=e[t++]:--h;if(u<l)break;var b=f&c;if(f>>=l,u-=l,b!==a){if(b===s)break;for(var v=b<o?b:g,w=0,_=v;_>a;)_=y[_]>>8,++w;var N=_;if(p+w+(v!==b?1:0)>n)return void yr.log("Warning, gif stream longer than expected.");r[p++]=N;var S=p+=w;for(v!==b&&(r[p++]=N),_=v;w--;)_=y[_],r[--S]=255&_,_>>=8;g!==null&&o<4096&&(y[o++]=g<<8|N,o>=c+1&&l<12&&(++l,c=c<<1|1)),g=b}else o=s+1,c=(1<<(l=i+1))-1,g=null}return p!==n&&yr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function U2(e){var t,r,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),y=new Array(64),g=[],b=0,v=7,w=new Array(64),_=new Array(64),N=new Array(64),S=new Array(256),j=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],B=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(T,I){for(var Y=0,ie=0,te=new Array,de=1;de<=16;de++){for(var ve=1;ve<=T[de];ve++)te[I[ie]]=[],te[I[ie]][0]=Y,te[I[ie]][1]=de,ie++,Y++;Y*=2}return te}function J(T){for(var I=T[0],Y=T[1]-1;Y>=0;)I&1<<Y&&(b|=1<<v),Y--,--v<0&&(b==255?(W(255),W(0)):W(b),v=7,b=0)}function W(T){g.push(T)}function Z(T){W(T>>8&255),W(255&T)}function D(T,I,Y,ie,te){for(var de,ve=te[0],oe=te[240],ye=function(Ne,Ue){var Be,Qe,Je,Mt,be,le,xe,ge,Ae,Oe,Re=0;for(Ae=0;Ae<8;++Ae){Be=Ne[Re],Qe=Ne[Re+1],Je=Ne[Re+2],Mt=Ne[Re+3],be=Ne[Re+4],le=Ne[Re+5],xe=Ne[Re+6];var et=Be+(ge=Ne[Re+7]),gt=Be-ge,Ke=Qe+xe,tt=Qe-xe,rt=Je+le,Ye=Je-le,ft=Mt+be,nt=Mt-be,er=et+ft,hr=et-ft,or=Ke+rt,Nt=Ke-rt;Ne[Re]=er+or,Ne[Re+4]=er-or;var Gt=.707106781*(Nt+hr);Ne[Re+2]=hr+Gt,Ne[Re+6]=hr-Gt;var ha=.382683433*((er=nt+Ye)-(Nt=tt+gt)),Pn=.5411961*er+ha,Ys=1.306562965*Nt+ha,vs=.707106781*(or=Ye+tt),_t=gt+vs,Xs=gt-vs;Ne[Re+5]=Xs+Pn,Ne[Re+3]=Xs-Pn,Ne[Re+1]=_t+Ys,Ne[Re+7]=_t-Ys,Re+=8}for(Re=0,Ae=0;Ae<8;++Ae){Be=Ne[Re],Qe=Ne[Re+8],Je=Ne[Re+16],Mt=Ne[Re+24],be=Ne[Re+32],le=Ne[Re+40],xe=Ne[Re+48];var Js=Be+(ge=Ne[Re+56]),pa=Be-ge,ma=Qe+xe,zr=Qe-xe,Cn=Je+le,Bn=Je-le,tc=Mt+be,Ho=Mt-be,Ha=Js+tc,bs=Js-tc,Va=ma+Cn,Ga=ma-Cn;Ne[Re]=Ha+Va,Ne[Re+32]=Ha-Va;var ga=.707106781*(Ga+bs);Ne[Re+16]=bs+ga,Ne[Re+48]=bs-ga;var rc=.382683433*((Ha=Ho+Bn)-(Ga=zr+pa)),xs=.5411961*Ha+rc,nc=1.306562965*Ga+rc,Eu=.707106781*(Va=Bn+zr),Pu=pa+Eu,Cu=pa-Eu;Ne[Re+40]=Cu+xs,Ne[Re+24]=Cu-xs,Ne[Re+8]=Pu+nc,Ne[Re+56]=Pu-nc,Re++}for(Ae=0;Ae<64;++Ae)Oe=Ne[Ae]*Ue[Ae],h[Ae]=Oe>0?Oe+.5|0:Oe-.5|0;return h}(T,I),ke=0;ke<64;++ke)y[P[ke]]=ye[ke];var ee=y[0]-Y;Y=y[0],ee==0?J(ie[0]):(J(ie[p[de=32767+ee]]),J(f[de]));for(var he=63;he>0&&y[he]==0;)he--;if(he==0)return J(ve),Y;for(var ue,X=1;X<=he;){for(var Me=X;y[X]==0&&X<=he;)++X;var ze=X-Me;if(ze>=16){ue=ze>>4;for(var He=1;He<=ue;++He)J(oe);ze&=15}de=32767+y[X],J(te[(ze<<4)+p[de]]),J(f[de]),X++}return he!=63&&J(ve),Y}function se(T){T=Math.min(Math.max(T,1),100),a!=T&&(function(I){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var te=s((Y[ie]*I+50)/100);te=Math.min(Math.max(te,1),255),o[P[ie]]=te}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var oe=s((de[ve]*I+50)/100);oe=Math.min(Math.max(oe,1),255),l[P[ve]]=oe}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,ee=0;ee<8;ee++)for(var he=0;he<8;he++)c[ke]=1/(o[P[ke]]*ye[ee]*ye[he]*8),u[ke]=1/(l[P[ke]]*ye[ee]*ye[he]*8),ke++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),a=T)}this.encode=function(T,I){I&&se(I),g=new Array,b=0,v=7,Z(65496),Z(65504),Z(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),Z(1),Z(1),W(0),W(0),function(){Z(65499),Z(132),W(0);for(var Qe=0;Qe<64;Qe++)W(o[Qe]);W(1);for(var Je=0;Je<64;Je++)W(l[Je])}(),function(Qe,Je){Z(65472),Z(17),W(8),Z(Je),Z(Qe),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(T.width,T.height),function(){Z(65476),Z(418),W(0);for(var Qe=0;Qe<16;Qe++)W(C[Qe+1]);for(var Je=0;Je<=11;Je++)W(L[Je]);W(16);for(var Mt=0;Mt<16;Mt++)W(F[Mt+1]);for(var be=0;be<=161;be++)W(k[be]);W(1);for(var le=0;le<16;le++)W(E[le+1]);for(var xe=0;xe<=11;xe++)W($[xe]);W(17);for(var ge=0;ge<16;ge++)W(M[ge+1]);for(var Ae=0;Ae<=161;Ae++)W(B[Ae])}(),Z(65498),Z(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var Y=0,ie=0,te=0;b=0,v=7,this.encode.displayName="_encode_";for(var de,ve,oe,ye,ke,ee,he,ue,X,Me=T.data,ze=T.width,He=T.height,Ne=4*ze,Ue=0;Ue<He;){for(de=0;de<Ne;){for(ke=Ne*Ue+de,he=-1,ue=0,X=0;X<64;X++)ee=ke+(ue=X>>3)*Ne+(he=4*(7&X)),Ue+ue>=He&&(ee-=Ne*(Ue+1+ue-He)),de+he>=Ne&&(ee-=de+he-Ne+4),ve=Me[ee++],oe=Me[ee++],ye=Me[ee++],w[X]=(j[ve]+j[oe+256|0]+j[ye+512|0]>>16)-128,_[X]=(j[ve+768|0]+j[oe+1024|0]+j[ye+1280|0]>>16)-128,N[X]=(j[ve+1280|0]+j[oe+1536|0]+j[ye+1792|0]>>16)-128;Y=D(w,c,Y,t,n),ie=D(_,u,ie,r,i),te=D(N,u,te,r,i),de+=32}Ue+=8}if(v>=0){var Be=[];Be[1]=v+1,Be[0]=(1<<v+1)-1,J(Be)}return Z(65497),new Uint8Array(g)},e=e||50,function(){for(var T=String.fromCharCode,I=0;I<256;I++)S[I]=T(I)}(),t=q(C,L),r=q(E,$),n=q(F,k),i=q(M,B),function(){for(var T=1,I=2,Y=1;Y<=15;Y++){for(var ie=T;ie<I;ie++)p[32767+ie]=Y,f[32767+ie]=[],f[32767+ie][1]=Y,f[32767+ie][0]=ie;for(var te=-(I-1);te<=-T;te++)p[32767+te]=Y,f[32767+te]=[],f[32767+te][1]=Y,f[32767+te][0]=I-1+te;T<<=1,I<<=1}}(),function(){for(var T=0;T<256;T++)j[T]=19595*T,j[T+256|0]=38470*T,j[T+512|0]=7471*T+32768,j[T+768|0]=-11059*T,j[T+1024|0]=-21709*T,j[T+1280|0]=32768*T+8421375,j[T+1536|0]=-27439*T,j[T+1792|0]=-5329*T}(),se(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function es(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function DC(e){function t(L){if(!L)throw Error("assert :P")}function r(L,F,k){for(var E=0;4>E;E++)if(L[F+E]!=k.charCodeAt(E))return!0;return!1}function n(L,F,k,E,$){for(var M=0;M<$;M++)L[F+M]=k[E+M]}function i(L,F,k,E){for(var $=0;$<E;$++)L[F+$]=k}function a(L){return new Int32Array(L)}function s(L,F){for(var k=[],E=0;E<L;E++)k.push(new F);return k}function o(L,F){var k=[];return function E($,M,B){for(var q=B[M],J=0;J<q&&($.push(B.length>M+1?[]:new F),!(B.length<M+1));J++)E($[J],M+1,B)}(k,0,L),k}var l=function(){var L=this;function F(m,x){for(var O=1<<x-1>>>0;m&O;)O>>>=1;return O?(m&O-1)+O:m}function k(m,x,O,R,z){t(!(R%O));do m[x+(R-=O)]=z;while(0<R)}function E(m,x,O,R,z){if(t(2328>=z),512>=z)var H=a(512);else if((H=a(z))==null)return 0;return function(V,K,Q,re,pe,je){var ne,me,_e=K,Ee=1<<Q,Se=a(16),Ce=a(16);for(t(pe!=0),t(re!=null),t(V!=null),t(0<Q),me=0;me<pe;++me){if(15<re[me])return 0;++Se[re[me]]}if(Se[0]==pe)return 0;for(Ce[1]=0,ne=1;15>ne;++ne){if(Se[ne]>1<<ne)return 0;Ce[ne+1]=Ce[ne]+Se[ne]}for(me=0;me<pe;++me)ne=re[me],0<re[me]&&(je[Ce[ne]++]=me);if(Ce[15]==1)return(re=new $).g=0,re.value=je[0],k(V,_e,1,Ee,re),Ee;var Le,Fe=-1,$e=Ee-1,yt=0,st=1,Bt=1,ut=1<<Q;for(me=0,ne=1,pe=2;ne<=Q;++ne,pe<<=1){if(st+=Bt<<=1,0>(Bt-=Se[ne]))return 0;for(;0<Se[ne];--Se[ne])(re=new $).g=ne,re.value=je[me++],k(V,_e+yt,pe,ut,re),yt=F(yt,ne)}for(ne=Q+1,pe=2;15>=ne;++ne,pe<<=1){if(st+=Bt<<=1,0>(Bt-=Se[ne]))return 0;for(;0<Se[ne];--Se[ne]){if(re=new $,(yt&$e)!=Fe){for(_e+=ut,Le=1<<(Fe=ne)-Q;15>Fe&&!(0>=(Le-=Se[Fe]));)++Fe,Le<<=1;Ee+=ut=1<<(Le=Fe-Q),V[K+(Fe=yt&$e)].g=Le+Q,V[K+Fe].value=_e-K-Fe}re.g=ne-Q,re.value=je[me++],k(V,_e+(yt>>Q),pe,ut,re),yt=F(yt,ne)}}return st!=2*Ce[15]-1?0:Ee}(m,x,O,R,z,H)}function $(){this.value=this.g=0}function M(){this.value=this.g=0}function B(){this.G=s(5,$),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(xc,M)}function q(m,x,O,R){t(m!=null),t(x!=null),t(2147483648>R),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=x,m.pa=O,m.Jd=x,m.Yc=O+R,m.Zc=4<=R?O+R-4+1:O,ve(m)}function J(m,x){for(var O=0;0<x--;)O|=ye(m,128)<<x;return O}function W(m,x){var O=J(m,x);return oe(m)?-O:O}function Z(m,x,O,R){var z,H=0;for(t(m!=null),t(x!=null),t(4294967288>R),m.Sb=R,m.Ra=0,m.u=0,m.h=0,4<R&&(R=4),z=0;z<R;++z)H+=x[O+z]<<8*z;m.Ra=H,m.bb=R,m.oa=x,m.pa=O}function D(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Xo-8>>>0,++m.bb,m.u-=8;ie(m)&&(m.h=1,m.u=0)}function se(m,x){if(t(0<=x),!m.h&&x<=Fi){var O=Y(m)&Bi[x];return m.u+=x,D(m),O}return m.h=1,m.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(m){return m.Ra>>>(m.u&Xo-1)>>>0}function ie(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Xo}function te(m,x){m.u=x,m.h=ie(m)}function de(m){m.u>=io&&(t(m.u>=io),D(m))}function ve(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function oe(m){return J(m,1)}function ye(m,x){var O=m.Ca;0>m.b&&ve(m);var R=m.b,z=O*x>>>8,H=(m.I>>>R>z)+0;for(H?(O-=z,m.I-=z+1<<R>>>0):O=z+1,R=O,z=0;256<=R;)z+=8,R>>=8;return R=7^z+Jo[R],m.b-=R,m.Ca=(O<<R)-1,H}function ke(m,x,O){m[x+0]=O>>24&255,m[x+1]=O>>16&255,m[x+2]=O>>8&255,m[x+3]=255&O}function ee(m,x){return m[x+0]|m[x+1]<<8}function he(m,x){return ee(m,x)|m[x+2]<<16}function ue(m,x){return ee(m,x)|ee(m,x+2)<<16}function X(m,x){var O=1<<x;return t(m!=null),t(0<x),m.X=a(O),m.X==null?0:(m.Mb=32-x,m.Xa=x,1)}function Me(m,x){t(m!=null),t(x!=null),t(m.Xa==x.Xa),n(x.X,0,m.X,0,1<<x.Xa)}function ze(){this.X=[],this.Xa=this.Mb=0}function He(m,x,O,R){t(O!=null),t(R!=null);var z=O[0],H=R[0];return z==0&&(z=(m*H+x/2)/x),H==0&&(H=(x*z+m/2)/m),0>=z||0>=H?0:(O[0]=z,R[0]=H,1)}function Ne(m,x){return m+(1<<x)-1>>>x}function Ue(m,x){return((4278255360&m)+(4278255360&x)>>>0&4278255360)+((16711935&m)+(16711935&x)>>>0&16711935)>>>0}function Be(m,x){L[x]=function(O,R,z,H,V,K,Q){var re;for(re=0;re<V;++re){var pe=L[m](K[Q+re-1],z,H+re);K[Q+re]=Ue(O[R+re],pe)}}}function Qe(){this.ud=this.hd=this.jd=0}function Je(m,x){return((4278124286&(m^x))>>>1)+(m&x)>>>0}function Mt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function be(m,x){return Mt(m+(m-x+.5>>1))}function le(m,x,O){return Math.abs(x-O)-Math.abs(m-O)}function xe(m,x,O,R,z,H,V){for(R=H[V-1],O=0;O<z;++O)H[V+O]=R=Ue(m[x+O],R)}function ge(m,x,O,R,z){var H;for(H=0;H<O;++H){var V=m[x+H],K=V>>8&255,Q=16711935&(Q=(Q=16711935&V)+((K<<16)+K));R[z+H]=(4278255360&V)+Q>>>0}}function Ae(m,x){x.jd=255&m,x.hd=m>>8&255,x.ud=m>>16&255}function Oe(m,x,O,R,z,H){var V;for(V=0;V<R;++V){var K=x[O+V],Q=K>>>8,re=K,pe=255&(pe=(pe=K>>>16)+((m.jd<<24>>24)*(Q<<24>>24)>>>5));re=255&(re=(re+=(m.hd<<24>>24)*(Q<<24>>24)>>>5)+((m.ud<<24>>24)*(pe<<24>>24)>>>5)),z[H+V]=(4278255360&K)+(pe<<16)+re}}function Re(m,x,O,R,z){L[x]=function(H,V,K,Q,re,pe,je,ne,me){for(Q=je;Q<ne;++Q)for(je=0;je<me;++je)re[pe++]=z(K[R(H[V++])])},L[m]=function(H,V,K,Q,re,pe,je){var ne=8>>H.b,me=H.Ea,_e=H.K[0],Ee=H.w;if(8>ne)for(H=(1<<H.b)-1,Ee=(1<<ne)-1;V<K;++V){var Se,Ce=0;for(Se=0;Se<me;++Se)Se&H||(Ce=R(Q[re++])),pe[je++]=z(_e[Ce&Ee]),Ce>>=ne}else L["VP8LMapColor"+O](Q,re,_e,Ee,pe,je,V,K,me)}}function et(m,x,O,R,z){for(O=x+O;x<O;){var H=m[x++];R[z++]=H>>16&255,R[z++]=H>>8&255,R[z++]=255&H}}function gt(m,x,O,R,z){for(O=x+O;x<O;){var H=m[x++];R[z++]=H>>16&255,R[z++]=H>>8&255,R[z++]=255&H,R[z++]=H>>24&255}}function Ke(m,x,O,R,z){for(O=x+O;x<O;){var H=(V=m[x++])>>16&240|V>>12&15,V=240&V|V>>28&15;R[z++]=H,R[z++]=V}}function tt(m,x,O,R,z){for(O=x+O;x<O;){var H=(V=m[x++])>>16&248|V>>13&7,V=V>>5&224|V>>3&31;R[z++]=H,R[z++]=V}}function rt(m,x,O,R,z){for(O=x+O;x<O;){var H=m[x++];R[z++]=255&H,R[z++]=H>>8&255,R[z++]=H>>16&255}}function Ye(m,x,O,R,z,H){if(H==0)for(O=x+O;x<O;)ke(R,((H=m[x++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),z+=32;else n(R,z,m,x,O)}function ft(m,x){L[x][0]=L[m+"0"],L[x][1]=L[m+"1"],L[x][2]=L[m+"2"],L[x][3]=L[m+"3"],L[x][4]=L[m+"4"],L[x][5]=L[m+"5"],L[x][6]=L[m+"6"],L[x][7]=L[m+"7"],L[x][8]=L[m+"8"],L[x][9]=L[m+"9"],L[x][10]=L[m+"10"],L[x][11]=L[m+"11"],L[x][12]=L[m+"12"],L[x][13]=L[m+"13"],L[x][14]=L[m+"0"],L[x][15]=L[m+"0"]}function nt(m){return m==$b||m==Mb||m==Pg||m==Db}function er(){this.eb=[],this.size=this.A=this.fb=0}function hr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function or(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new er,this.f.kb=new hr,this.sd=null}function Nt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ha(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Pn(m,x){var O=m.T,R=x.ba.f.RGBA,z=R.eb,H=R.fb+m.ka*R.A,V=_a[x.ba.S],K=m.y,Q=m.O,re=m.f,pe=m.N,je=m.ea,ne=m.W,me=x.cc,_e=x.dc,Ee=x.Mc,Se=x.Nc,Ce=m.ka,Le=m.ka+m.T,Fe=m.U,$e=Fe+1>>1;for(Ce==0?V(K,Q,null,null,re,pe,je,ne,re,pe,je,ne,z,H,null,null,Fe):(V(x.ec,x.fc,K,Q,me,_e,Ee,Se,re,pe,je,ne,z,H-R.A,z,H,Fe),++O);Ce+2<Le;Ce+=2)me=re,_e=pe,Ee=je,Se=ne,pe+=m.Rc,ne+=m.Rc,H+=2*R.A,V(K,(Q+=2*m.fa)-m.fa,K,Q,me,_e,Ee,Se,re,pe,je,ne,z,H-R.A,z,H,Fe);return Q+=m.fa,m.j+Le<m.o?(n(x.ec,x.fc,K,Q,Fe),n(x.cc,x.dc,re,pe,$e),n(x.Mc,x.Nc,je,ne,$e),O--):1&Le||V(K,Q,null,null,re,pe,je,ne,re,pe,je,ne,z,H+R.A,null,null,Fe),O}function Ys(m,x,O){var R=m.F,z=[m.J];if(R!=null){var H=m.U,V=x.ba.S,K=V==Eg||V==Pg;x=x.ba.f.RGBA;var Q=[0],re=m.ka;Q[0]=m.T,m.Kb&&(re==0?--Q[0]:(--re,z[0]-=m.width),m.j+m.ka+m.T==m.o&&(Q[0]=m.o-m.j-re));var pe=x.eb;re=x.fb+re*x.A,m=VN(R,z[0],m.width,H,Q,pe,re+(K?0:3),x.A),t(O==Q),m&&nt(V)&&Sh(pe,re,K,H,Q,x.A)}return 0}function vs(m){var x=m.ma,O=x.ba.S,R=11>O,z=O==kg||O==Og||O==Eg||O==Rb||O==12||nt(O);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!mh(x.Oa,m,z?11:12))return 0;if(z&&nt(O)&&wg(),m.da)alert("todo:use_scaling");else{if(R){if(x.Ib=ha,m.Kb){if(O=m.U+1>>1,x.memory=a(m.U+2*O),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+m.U,x.Mc=x.cc,x.Nc=x.dc+O,x.Ib=Pn,wg()}}else alert("todo:EmitYUV");z&&(x.Jb=Ys,R&&va())}if(R&&!lA){for(m=0;256>m;++m)o9[m]=89858*(m-128)+Tg>>Cg,u9[m]=-22014*(m-128)+Tg,c9[m]=-45773*(m-128),l9[m]=113618*(m-128)+Tg>>Cg;for(m=Nh;m<Ub;++m)x=76283*(m-16)+Tg>>Cg,d9[m-Nh]=qr(x,255),f9[m-Nh]=qr(x+8>>4,15);lA=1}return 1}function _t(m){var x=m.ma,O=m.U,R=m.T;return t(!(1&m.ka)),0>=O||0>=R?0:(O=x.Ib(m,x),x.Jb!=null&&x.Jb(m,x,O),x.Dc+=O,1)}function Xs(m){m.ma.memory=null}function Js(m,x,O,R){return se(m,8)!=47?0:(x[0]=se(m,14)+1,O[0]=se(m,14)+1,R[0]=se(m,1),se(m,3)!=0?0:!m.h)}function pa(m,x){if(4>m)return m+1;var O=m-2>>1;return(2+(1&m)<<O)+se(x,O)+1}function ma(m,x){return 120<x?x-120:1<=(O=((O=GD[x-1])>>4)*m+(8-(15&O)))?O:1;var O}function zr(m,x,O){var R=Y(O),z=m[x+=255&R].g-8;return 0<z&&(te(O,O.u+8),R=Y(O),x+=m[x].value,x+=R&(1<<z)-1),te(O,O.u+m[x].g),m[x].value}function Cn(m,x,O){return O.g+=m.g,O.value+=m.value<<x>>>0,t(8>=O.g),m.g}function Bn(m,x,O){var R=m.xc;return t((x=R==0?0:m.vc[m.md*(O>>R)+(x>>R)])<m.Wb),m.Ya[x]}function tc(m,x,O,R){var z=m.ab,H=m.c*x,V=m.C;x=V+x;var K=O,Q=R;for(R=m.Ta,O=m.Ua;0<z--;){var re=m.gc[z],pe=V,je=x,ne=K,me=Q,_e=(Q=R,K=O,re.Ea);switch(t(pe<je),t(je<=re.nc),re.hc){case 2:Xr(ne,me,(je-pe)*_e,Q,K);break;case 0:var Ee=pe,Se=je,Ce=Q,Le=K,Fe=(ut=re).Ea;Ee==0&&(yh(ne,me,null,null,1,Ce,Le),xe(ne,me+1,0,0,Fe-1,Ce,Le+1),me+=Fe,Le+=Fe,++Ee);for(var $e=1<<ut.b,yt=$e-1,st=Ne(Fe,ut.b),Bt=ut.K,ut=ut.w+(Ee>>ut.b)*st;Ee<Se;){var Ht=Bt,vn=ut,Ft=1;for(Bu(ne,me,Ce,Le-Fe,1,Ce,Le);Ft<Fe;){var dt=(Ft&~yt)+$e;dt>Fe&&(dt=Fe),(0,bh[Ht[vn++]>>8&15])(ne,me+ +Ft,Ce,Le+Ft-Fe,dt-Ft,Ce,Le+Ft),Ft=dt}me+=Fe,Le+=Fe,++Ee&yt||(ut+=st)}je!=re.nc&&n(Q,K-_e,Q,K+(je-pe-1)*_e,_e);break;case 1:for(_e=ne,Se=me,Fe=(ne=re.Ea)-(Le=ne&~(Ce=(me=1<<re.b)-1)),Ee=Ne(ne,re.b),$e=re.K,re=re.w+(pe>>re.b)*Ee;pe<je;){for(yt=$e,st=re,Bt=new Qe,ut=Se+Le,Ht=Se+ne;Se<ut;)Ae(yt[st++],Bt),xh(Bt,_e,Se,me,Q,K),Se+=me,K+=me;Se<Ht&&(Ae(yt[st++],Bt),xh(Bt,_e,Se,Fe,Q,K),Se+=Fe,K+=Fe),++pe&Ce||(re+=Ee)}break;case 3:if(ne==Q&&me==K&&0<re.b){for(Se=Q,ne=_e=K+(je-pe)*_e-(Le=(je-pe)*Ne(re.Ea,re.b)),me=Q,Ce=K,Ee=[],Le=(Fe=Le)-1;0<=Le;--Le)Ee[Le]=me[Ce+Le];for(Le=Fe-1;0<=Le;--Le)Se[ne+Le]=Ee[Le];Sg(re,pe,je,Q,_e,Q,K)}else Sg(re,pe,je,ne,me,Q,K)}K=R,Q=O}Q!=O&&n(R,O,K,Q,H)}function Ho(m,x){var O=m.V,R=m.Ba+m.c*m.C,z=x-m.C;if(t(x<=m.l.o),t(16>=z),0<z){var H=m.l,V=m.Ta,K=m.Ua,Q=H.width;if(tc(m,z,O,R),z=K=[K],t((O=m.C)<(R=x)),t(H.v<H.va),R>H.o&&(R=H.o),O<H.j){var re=H.j-O;O=H.j,z[0]+=re*Q}if(O>=R?O=0:(z[0]+=4*H.v,H.ka=O-H.j,H.U=H.va-H.v,H.T=R-O,O=1),O){if(K=K[0],11>(O=m.ca).S){var pe=O.f.RGBA,je=(R=O.S,z=H.U,H=H.T,re=pe.eb,pe.A),ne=H;for(pe=pe.fb+m.Ma*pe.A;0<ne--;){var me=V,_e=K,Ee=z,Se=re,Ce=pe;switch(R){case Ag:wh(me,_e,Ee,Se,Ce);break;case kg:Zo(me,_e,Ee,Se,Ce);break;case $b:Zo(me,_e,Ee,Se,Ce),Sh(Se,Ce,0,Ee,1,0);break;case QN:wc(me,_e,Ee,Se,Ce);break;case Og:Ye(me,_e,Ee,Se,Ce,1);break;case Mb:Ye(me,_e,Ee,Se,Ce,1),Sh(Se,Ce,0,Ee,1,0);break;case Eg:Ye(me,_e,Ee,Se,Ce,0);break;case Pg:Ye(me,_e,Ee,Se,Ce,0),Sh(Se,Ce,1,Ee,1,0);break;case Rb:Qo(me,_e,Ee,Se,Ce);break;case Db:Qo(me,_e,Ee,Se,Ce),HN(Se,Ce,Ee,1,0);break;case eA:el(me,_e,Ee,Se,Ce);break;default:t(0)}K+=Q,pe+=je}m.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=O.height)}}m.C=x,t(m.C<=m.i)}function Ha(m){var x;if(0<m.ua)return 0;for(x=0;x<m.Wb;++x){var O=m.Ya[x].G,R=m.Ya[x].H;if(0<O[1][R[1]+0].g||0<O[2][R[2]+0].g||0<O[3][R[3]+0].g)return 0}return 1}function bs(m,x,O,R,z,H){if(m.Z!=0){var V=m.qd,K=m.rd;for(t(nl[m.Z]!=null);x<O;++x)nl[m.Z](V,K,R,z,R,z,H),V=R,K=z,z+=H;m.qd=V,m.rd=K}}function Va(m,x){var O=m.l.ma,R=O.Z==0||O.Z==1?m.l.j:m.C;if(R=m.C<R?R:m.C,t(x<=m.l.o),x>R){var z=m.l.width,H=O.ca,V=O.tb+z*R,K=m.V,Q=m.Ba+m.c*R,re=m.gc;t(m.ab==1),t(re[0].hc==3),Ss(re[0],R,x,K,Q,H,V),bs(O,R,x,H,V,z)}m.C=m.Ma=x}function Ga(m,x,O,R,z,H,V){var K=m.$/R,Q=m.$%R,re=m.m,pe=m.s,je=O+m.$,ne=je;z=O+R*z;var me=O+R*H,_e=280+pe.ua,Ee=m.Pb?K:16777216,Se=0<pe.ua?pe.Wa:null,Ce=pe.wc,Le=je<me?Bn(pe,Q,K):null;t(m.C<H),t(me<=z);var Fe=!1;e:for(;;){for(;Fe||je<me;){var $e=0;if(K>=Ee){var yt=je-O;t((Ee=m).Pb),Ee.wd=Ee.m,Ee.xd=yt,0<Ee.s.ua&&Me(Ee.s.Wa,Ee.s.vb),Ee=K+YD}if(Q&Ce||(Le=Bn(pe,Q,K)),t(Le!=null),Le.Qb&&(x[je]=Le.qb,Fe=!0),!Fe)if(de(re),Le.jc){$e=re,yt=x;var st=je,Bt=Le.pd[Y($e)&xc-1];t(Le.jc),256>Bt.g?(te($e,$e.u+Bt.g),yt[st]=Bt.value,$e=0):(te($e,$e.u+Bt.g-256),t(256<=Bt.value),$e=Bt.value),$e==0&&(Fe=!0)}else $e=zr(Le.G[0],Le.H[0],re);if(re.h)break;if(Fe||256>$e){if(!Fe)if(Le.nd)x[je]=(Le.qb|$e<<8)>>>0;else{if(de(re),Fe=zr(Le.G[1],Le.H[1],re),de(re),yt=zr(Le.G[2],Le.H[2],re),st=zr(Le.G[3],Le.H[3],re),re.h)break;x[je]=(st<<24|Fe<<16|$e<<8|yt)>>>0}if(Fe=!1,++je,++Q>=R&&(Q=0,++K,V!=null&&K<=H&&!(K%16)&&V(m,K),Se!=null))for(;ne<je;)$e=x[ne++],Se.X[(506832829*$e&4294967295)>>>Se.Mb]=$e}else if(280>$e){if($e=pa($e-256,re),yt=zr(Le.G[4],Le.H[4],re),de(re),yt=ma(R,yt=pa(yt,re)),re.h)break;if(je-O<yt||z-je<$e)break e;for(st=0;st<$e;++st)x[je+st]=x[je+st-yt];for(je+=$e,Q+=$e;Q>=R;)Q-=R,++K,V!=null&&K<=H&&!(K%16)&&V(m,K);if(t(je<=z),Q&Ce&&(Le=Bn(pe,Q,K)),Se!=null)for(;ne<je;)$e=x[ne++],Se.X[(506832829*$e&4294967295)>>>Se.Mb]=$e}else{if(!($e<_e))break e;for(Fe=$e-280,t(Se!=null);ne<je;)$e=x[ne++],Se.X[(506832829*$e&4294967295)>>>Se.Mb]=$e;$e=je,t(!(Fe>>>(yt=Se).Xa)),x[$e]=yt.X[Fe],Fe=!0}Fe||t(re.h==ie(re))}if(m.Pb&&re.h&&je<z)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Me(m.s.vb,m.s.Wa);else{if(re.h)break e;V!=null&&V(m,K>H?H:K),m.a=0,m.$=je-O}return 1}return m.a=3,0}function ga(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var x=m.Wa;x!=null&&(x.X=null),m.vb=null,t(m!=null)}function rc(){var m=new mt;return m==null?null:(m.a=0,m.xb=nA,ft("Predictor","VP8LPredictors"),ft("Predictor","VP8LPredictors_C"),ft("PredictorAdd","VP8LPredictorsAdd"),ft("PredictorAdd","VP8LPredictorsAdd_C"),Xr=ge,xh=Oe,wh=et,Zo=gt,Qo=Ke,el=tt,wc=rt,L.VP8LMapColor32b=_s,L.VP8LMapColor8b=vh,m)}function xs(m,x,O,R,z){var H=1,V=[m],K=[x],Q=R.m,re=R.s,pe=null,je=0;e:for(;;){if(O)for(;H&&se(Q,1);){var ne=V,me=K,_e=R,Ee=1,Se=_e.m,Ce=_e.gc[_e.ab],Le=se(Se,2);if(_e.Oc&1<<Le)H=0;else{switch(_e.Oc|=1<<Le,Ce.hc=Le,Ce.Ea=ne[0],Ce.nc=me[0],Ce.K=[null],++_e.ab,t(4>=_e.ab),Le){case 0:case 1:Ce.b=se(Se,3)+2,Ee=xs(Ne(Ce.Ea,Ce.b),Ne(Ce.nc,Ce.b),0,_e,Ce.K),Ce.K=Ce.K[0];break;case 3:var Fe,$e=se(Se,8)+1,yt=16<$e?0:4<$e?1:2<$e?2:3;if(ne[0]=Ne(Ce.Ea,yt),Ce.b=yt,Fe=Ee=xs($e,1,0,_e,Ce.K)){var st,Bt=$e,ut=Ce,Ht=1<<(8>>ut.b),vn=a(Ht);if(vn==null)Fe=0;else{var Ft=ut.K[0],dt=ut.w;for(vn[0]=ut.K[0][0],st=1;st<1*Bt;++st)vn[st]=Ue(Ft[dt+st],vn[st-1]);for(;st<4*Ht;++st)vn[st]=0;ut.K[0]=null,ut.K[0]=vn,Fe=1}}Ee=Fe;break;case 2:break;default:t(0)}H=Ee}}if(V=V[0],K=K[0],H&&se(Q,1)&&!(H=1<=(je=se(Q,4))&&11>=je)){R.a=3;break e}var Xe;if(Xe=H)t:{var Zr,$t,Kt,Or=R,Un=V,li=K,Wr=je,Yn=O,ci=Or.m,bn=Or.s,Yt=[null],lr=1,Hr=0,cr=KD[Wr];r:for(;;){if(Yn&&se(ci,1)){var zn=se(ci,3)+2,Xa=Ne(Un,zn),Qr=Ne(li,zn),Si=Xa*Qr;if(!xs(Xa,Qr,0,Or,Yt))break r;for(Yt=Yt[0],bn.xc=zn,Zr=0;Zr<Si;++Zr){var gr=Yt[Zr]>>8&65535;Yt[Zr]=gr,gr>=lr&&(lr=gr+1)}}if(ci.h)break r;for($t=0;5>$t;++$t){var xn=tA[$t];!$t&&0<Wr&&(xn+=1<<Wr),Hr<xn&&(Hr=xn)}var zi=s(lr*cr,$),ui=lr,qi=s(ui,B);if(qi==null)var Wi=null;else t(65536>=ui),Wi=qi;var ji=a(Hr);if(Wi==null||ji==null||zi==null){Or.a=1;break r}var Hi=zi;for(Zr=Kt=0;Zr<lr;++Zr){var xr=Wi[Zr],Vi=xr.G,Ja=xr.H,Sc=0,oo=1,qn=0;for($t=0;5>$t;++$t){xn=tA[$t],Vi[$t]=Hi,Ja[$t]=Kt,!$t&&0<Wr&&(xn+=1<<Wr);i:{var Lg,zb=xn,Rg=Or,Ah=ji,m9=Hi,g9=Kt,qb=0,il=Rg.m,y9=se(il,1);if(i(Ah,0,0,zb),y9){var v9=se(il,1)+1,b9=se(il,1),dA=se(il,b9==0?1:8);Ah[dA]=1,v9==2&&(Ah[dA=se(il,8)]=1);var $g=1}else{var fA=a(19),hA=se(il,4)+4;if(19<hA){Rg.a=3;var Mg=0;break i}for(Lg=0;Lg<hA;++Lg)fA[VD[Lg]]=se(il,3);var Wb=void 0,kh=void 0,pA=Rg,x9=fA,Dg=zb,mA=Ah,Hb=0,al=pA.m,gA=8,yA=s(128,$);n:for(;E(yA,0,7,x9,19);){if(se(al,1)){var w9=2+2*se(al,3);if((Wb=2+se(al,w9))>Dg)break n}else Wb=Dg;for(kh=0;kh<Dg&&Wb--;){de(al);var vA=yA[0+(127&Y(al))];te(al,al.u+vA.g);var Uu=vA.value;if(16>Uu)mA[kh++]=Uu,Uu!=0&&(gA=Uu);else{var _9=Uu==16,bA=Uu-16,S9=WD[bA],xA=se(al,qD[bA])+S9;if(kh+xA>Dg)break n;for(var j9=_9?gA:0;0<xA--;)mA[kh++]=j9}}Hb=1;break n}Hb||(pA.a=3),$g=Hb}($g=$g&&!il.h)&&(qb=E(m9,g9,8,Ah,zb)),$g&&qb!=0?Mg=qb:(Rg.a=3,Mg=0)}if(Mg==0)break r;if(oo&&HD[$t]==1&&(oo=Hi[Kt].g==0),Sc+=Hi[Kt].g,Kt+=Mg,3>=$t){var Oh,Vb=ji[0];for(Oh=1;Oh<xn;++Oh)ji[Oh]>Vb&&(Vb=ji[Oh]);qn+=Vb}}if(xr.nd=oo,xr.Qb=0,oo&&(xr.qb=(Vi[3][Ja[3]+0].value<<24|Vi[1][Ja[1]+0].value<<16|Vi[2][Ja[2]+0].value)>>>0,Sc==0&&256>Vi[0][Ja[0]+0].value&&(xr.Qb=1,xr.qb+=Vi[0][Ja[0]+0].value<<8)),xr.jc=!xr.Qb&&6>qn,xr.jc){var Bg,lo=xr;for(Bg=0;Bg<xc;++Bg){var sl=Bg,ol=lo.pd[sl],Fg=lo.G[0][lo.H[0]+sl];256<=Fg.value?(ol.g=Fg.g+256,ol.value=Fg.value):(ol.g=0,ol.value=0,sl>>=Cn(Fg,8,ol),sl>>=Cn(lo.G[1][lo.H[1]+sl],16,ol),sl>>=Cn(lo.G[2][lo.H[2]+sl],0,ol),Cn(lo.G[3][lo.H[3]+sl],24,ol))}}}bn.vc=Yt,bn.Wb=lr,bn.Ya=Wi,bn.yc=zi,Xe=1;break t}Xe=0}if(!(H=Xe)){R.a=3;break e}if(0<je){if(re.ua=1<<je,!X(re.Wa,je)){R.a=1,H=0;break e}}else re.ua=0;var Gb=R,wA=V,N9=K,Kb=Gb.s,Yb=Kb.xc;if(Gb.c=wA,Gb.i=N9,Kb.md=Ne(wA,Yb),Kb.wc=Yb==0?-1:(1<<Yb)-1,O){R.xb=r9;break e}if((pe=a(V*K))==null){R.a=1,H=0;break e}H=(H=Ga(R,pe,0,V,K,K,null))&&!Q.h;break e}return H?(z!=null?z[0]=pe:(t(pe==null),t(O)),R.$=0,O||ga(re)):ga(re),H}function nc(m,x){var O=m.c*m.i,R=O+x+16*x;return t(m.c<=x),m.V=a(R),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+O+x,1)}function Eu(m,x){var O=m.C,R=x-O,z=m.V,H=m.Ba+m.c*O;for(t(x<=m.l.o);0<R;){var V=16<R?16:R,K=m.l.ma,Q=m.l.width,re=Q*V,pe=K.ca,je=K.tb+Q*O,ne=m.Ta,me=m.Ua;tc(m,V,z,H),GN(ne,me,pe,je,re),bs(K,O,O+V,pe,je,Q),R-=V,z+=V*m.c,O+=V}t(O==x),m.C=m.Ma=x}function Pu(){this.ub=this.yd=this.td=this.Rb=0}function Cu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function vb(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function th(){this.Yb=function(){var m=[];return function x(O,R,z){for(var H=z[R],V=0;V<H&&(O.push(z.length>R+1?[]:0),!(z.length<R+1));V++)x(O[V],R+1,z)}(m,0,[3,11]),m}()}function sg(){this.jb=a(3),this.Wc=o([4,8],th),this.Xc=o([4,17],th)}function og(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function ya(){this.ld=this.La=this.dd=this.tc=0}function rh(){this.Na=this.la=0}function lg(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function nh(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function cg(){this.uc=this.M=this.Nb=0,this.wa=Array(new ya),this.Y=0,this.ya=Array(new nh),this.aa=0,this.l=new Tu}function ug(){this.y=a(16),this.f=a(8),this.ea=a(8)}function dg(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new Pu,this.Kc=new Cu,this.ed=new og,this.Qa=new vb,this.Ic=this.$c=this.Aa=0,this.D=new cg,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,T),this.ia=0,this.pb=s(4,lg),this.Pa=new sg,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ug),this.Hd=0,this.rb=Array(new rh),this.sb=0,this.wa=Array(new ya),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new nh),this.L=this.aa=0,this.gd=o([4,2],ya),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Tu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function bb(){var m=new dg;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,jh||(jh=Zs)),m}function on(m,x,O){return m.a==0&&(m.a=x,m.sc=O,m.cb=0),0}function fg(m,x,O){return 3<=O&&m[x+0]==157&&m[x+1]==1&&m[x+2]==42}function hg(m,x){if(m==null)return 0;if(m.a=0,m.sc="OK",x==null)return on(m,2,"null VP8Io passed to VP8GetHeaders()");var O=x.data,R=x.w,z=x.ha;if(4>z)return on(m,7,"Truncated header.");var H=O[R+0]|O[R+1]<<8|O[R+2]<<16,V=m.Od;if(V.Rb=!(1&H),V.td=H>>1&7,V.yd=H>>4&1,V.ub=H>>5,3<V.td)return on(m,3,"Incorrect keyframe parameters.");if(!V.yd)return on(m,4,"Frame not displayable.");R+=3,z-=3;var K=m.Kc;if(V.Rb){if(7>z)return on(m,7,"cannot parse picture header");if(!fg(O,R,z))return on(m,3,"Bad code word");K.c=16383&(O[R+4]<<8|O[R+3]),K.Td=O[R+4]>>6,K.i=16383&(O[R+6]<<8|O[R+5]),K.Ud=O[R+6]>>6,R+=7,z-=7,m.za=K.c+15>>4,m.Ub=K.i+15>>4,x.width=K.c,x.height=K.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,i((H=m.Pa).jb,0,255,H.jb.length),t((H=m.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,i(H.Zb,0,0,H.Zb.length),i(H.Lb,0,0,H.Lb)}if(V.ub>z)return on(m,7,"bad partition length");q(H=m.m,O,R,V.ub),R+=V.ub,z-=V.ub,V.Rb&&(K.Ld=oe(H),K.Kd=oe(H)),K=m.Qa;var Q,re=m.Pa;if(t(H!=null),t(K!=null),K.Cb=oe(H),K.Cb){if(K.Bb=oe(H),oe(H)){for(K.Fb=oe(H),Q=0;4>Q;++Q)K.Zb[Q]=oe(H)?W(H,7):0;for(Q=0;4>Q;++Q)K.Lb[Q]=oe(H)?W(H,6):0}if(K.Bb)for(Q=0;3>Q;++Q)re.jb[Q]=oe(H)?J(H,8):255}else K.Bb=0;if(H.Ka)return on(m,3,"cannot parse segment header");if((K=m.ed).zd=oe(H),K.Tb=J(H,6),K.wb=J(H,3),K.Pc=oe(H),K.Pc&&oe(H)){for(re=0;4>re;++re)oe(H)&&(K.vd[re]=W(H,6));for(re=0;4>re;++re)oe(H)&&(K.od[re]=W(H,6))}if(m.L=K.Tb==0?0:K.zd?1:2,H.Ka)return on(m,3,"cannot parse filter header");var pe=z;if(z=Q=R,R=Q+pe,K=pe,m.Xb=(1<<J(m.m,2))-1,pe<3*(re=m.Xb))O=7;else{for(Q+=3*re,K-=3*re,pe=0;pe<re;++pe){var je=O[z+0]|O[z+1]<<8|O[z+2]<<16;je>K&&(je=K),q(m.Jc[+pe],O,Q,je),Q+=je,K-=je,z+=3}q(m.Jc[+re],O,Q,K),O=Q<R?0:5}if(O!=0)return on(m,O,"cannot parse partitions");for(O=J(Q=m.m,7),z=oe(Q)?W(Q,4):0,R=oe(Q)?W(Q,4):0,K=oe(Q)?W(Q,4):0,re=oe(Q)?W(Q,4):0,Q=oe(Q)?W(Q,4):0,pe=m.Qa,je=0;4>je;++je){if(pe.Cb){var ne=pe.Zb[je];pe.Fb||(ne+=O)}else{if(0<je){m.pb[je]=m.pb[0];continue}ne=O}var me=m.pb[je];me.Sc[0]=Bb[qr(ne+z,127)],me.Sc[1]=Fb[qr(ne+0,127)],me.Eb[0]=2*Bb[qr(ne+R,127)],me.Eb[1]=101581*Fb[qr(ne+K,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=Bb[qr(ne+re,117)],me.Qc[1]=Fb[qr(ne+Q,127)],me.lc=ne+Q}if(!V.Rb)return on(m,4,"Not a key frame.");for(oe(H),V=m.Pa,O=0;4>O;++O){for(z=0;8>z;++z)for(R=0;3>R;++R)for(K=0;11>K;++K)re=ye(H,e9[O][z][R][K])?J(H,8):ZD[O][z][R][K],V.Wc[O][z].Yb[R][K]=re;for(z=0;17>z;++z)V.Xc[O][z]=V.Wc[O][t9[z]]}return m.kc=oe(H),m.kc&&(m.Bd=J(H,8)),m.cb=1}function Zs(m,x,O,R,z,H,V){var K=x[z].Yb[O];for(O=0;16>z;++z){if(!ye(m,K[O+0]))return z;for(;!ye(m,K[O+1]);)if(K=x[++z].Yb[0],O=0,z==16)return 16;var Q=x[z+1].Yb;if(ye(m,K[O+2])){var re=m,pe=0;if(ye(re,(ne=K)[(je=O)+3]))if(ye(re,ne[je+6])){for(K=0,je=2*(pe=ye(re,ne[je+8]))+(ne=ye(re,ne[je+9+pe])),pe=0,ne=XD[je];ne[K];++K)pe+=pe+ye(re,ne[K]);pe+=3+(8<<je)}else ye(re,ne[je+7])?(pe=7+2*ye(re,165),pe+=ye(re,145)):pe=5+ye(re,159);else pe=ye(re,ne[je+4])?3+ye(re,ne[je+5]):2;K=Q[2]}else pe=1,K=Q[1];Q=V+JD[z],0>(re=m).b&&ve(re);var je,ne=re.b,me=(je=re.Ca>>1)-(re.I>>ne)>>31;--re.b,re.Ca+=me,re.Ca|=1,re.I-=(je+1&me)<<ne,H[Q]=((pe^me)-me)*R[(0<z)+0]}return 16}function ic(m){var x=m.rb[m.sb-1];x.la=0,x.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function Ka(m,x,O,R,z){z=m[x+O+32*R]+(z>>3),m[x+O+32*R]=-256&z?0>z?0:255:z}function ac(m,x,O,R,z,H){Ka(m,x,0,O,R+z),Ka(m,x,1,O,R+H),Ka(m,x,2,O,R-H),Ka(m,x,3,O,R-z)}function Yr(m){return(20091*m>>16)+m}function ih(m,x,O,R){var z,H=0,V=a(16);for(z=0;4>z;++z){var K=m[x+0]+m[x+8],Q=m[x+0]-m[x+8],re=(35468*m[x+4]>>16)-Yr(m[x+12]),pe=Yr(m[x+4])+(35468*m[x+12]>>16);V[H+0]=K+pe,V[H+1]=Q+re,V[H+2]=Q-re,V[H+3]=K-pe,H+=4,x++}for(z=H=0;4>z;++z)K=(m=V[H+0]+4)+V[H+8],Q=m-V[H+8],re=(35468*V[H+4]>>16)-Yr(V[H+12]),Ka(O,R,0,0,K+(pe=Yr(V[H+4])+(35468*V[H+12]>>16))),Ka(O,R,1,0,Q+re),Ka(O,R,2,0,Q-re),Ka(O,R,3,0,K-pe),H++,R+=32}function xb(m,x,O,R){var z=m[x+0]+4,H=35468*m[x+4]>>16,V=Yr(m[x+4]),K=35468*m[x+1]>>16;ac(O,R,0,z+V,m=Yr(m[x+1]),K),ac(O,R,1,z+H,m,K),ac(O,R,2,z-H,m,K),ac(O,R,3,z-V,m,K)}function wb(m,x,O,R,z){ih(m,x,O,R),z&&ih(m,x+16,O,R+4)}function _b(m,x,O,R){_c(m,x+0,O,R,1),_c(m,x+32,O,R+128,1)}function ws(m,x,O,R){var z;for(m=m[x+0]+4,z=0;4>z;++z)for(x=0;4>x;++x)Ka(O,R,x,z,m)}function pg(m,x,O,R){m[x+0]&&ar(m,x+0,O,R),m[x+16]&&ar(m,x+16,O,R+4),m[x+32]&&ar(m,x+32,O,R+128),m[x+48]&&ar(m,x+48,O,R+128+4)}function mg(m,x,O,R){var z,H=a(16);for(z=0;4>z;++z){var V=m[x+0+z]+m[x+12+z],K=m[x+4+z]+m[x+8+z],Q=m[x+4+z]-m[x+8+z],re=m[x+0+z]-m[x+12+z];H[0+z]=V+K,H[8+z]=V-K,H[4+z]=re+Q,H[12+z]=re-Q}for(z=0;4>z;++z)V=(m=H[0+4*z]+3)+H[3+4*z],K=H[1+4*z]+H[2+4*z],Q=H[1+4*z]-H[2+4*z],re=m-H[3+4*z],O[R+0]=V+K>>3,O[R+16]=re+Q>>3,O[R+32]=V-K>>3,O[R+48]=re-Q>>3,R+=64}function Vo(m,x,O){var R,z=x-32,H=Ui,V=255-m[z-1];for(R=0;R<O;++R){var K,Q=H,re=V+m[x-1];for(K=0;K<O;++K)m[x+K]=Q[re+m[z+K]];x+=32}}function ah(m,x){Vo(m,x,4)}function Sb(m,x){Vo(m,x,8)}function jb(m,x){Vo(m,x,16)}function Nb(m,x){var O;for(O=0;16>O;++O)n(m,x+32*O,m,x-32,16)}function sh(m,x){var O;for(O=16;0<O;--O)i(m,x,m[x-1],16),x+=32}function sc(m,x,O){var R;for(R=0;16>R;++R)i(x,O+32*R,m,16)}function Go(m,x){var O,R=16;for(O=0;16>O;++O)R+=m[x-1+32*O]+m[x+O-32];sc(R>>5,m,x)}function Ab(m,x){var O,R=8;for(O=0;16>O;++O)R+=m[x-1+32*O];sc(R>>4,m,x)}function oc(m,x){var O,R=8;for(O=0;16>O;++O)R+=m[x+O-32];sc(R>>4,m,x)}function oh(m,x){sc(128,m,x)}function Ct(m,x,O){return m+2*x+O+2>>2}function kb(m,x){var O,R=x-32;for(R=new Uint8Array([Ct(m[R-1],m[R+0],m[R+1]),Ct(m[R+0],m[R+1],m[R+2]),Ct(m[R+1],m[R+2],m[R+3]),Ct(m[R+2],m[R+3],m[R+4])]),O=0;4>O;++O)n(m,x+32*O,R,0,R.length)}function Ob(m,x){var O=m[x-1],R=m[x-1+32],z=m[x-1+64],H=m[x-1+96];ke(m,x+0,16843009*Ct(m[x-1-32],O,R)),ke(m,x+32,16843009*Ct(O,R,z)),ke(m,x+64,16843009*Ct(R,z,H)),ke(m,x+96,16843009*Ct(z,H,H))}function Eb(m,x){var O,R=4;for(O=0;4>O;++O)R+=m[x+O-32]+m[x-1+32*O];for(R>>=3,O=0;4>O;++O)i(m,x+32*O,R,4)}function Pb(m,x){var O=m[x-1+0],R=m[x-1+32],z=m[x-1+64],H=m[x-1-32],V=m[x+0-32],K=m[x+1-32],Q=m[x+2-32],re=m[x+3-32];m[x+0+96]=Ct(R,z,m[x-1+96]),m[x+1+96]=m[x+0+64]=Ct(O,R,z),m[x+2+96]=m[x+1+64]=m[x+0+32]=Ct(H,O,R),m[x+3+96]=m[x+2+64]=m[x+1+32]=m[x+0+0]=Ct(V,H,O),m[x+3+64]=m[x+2+32]=m[x+1+0]=Ct(K,V,H),m[x+3+32]=m[x+2+0]=Ct(Q,K,V),m[x+3+0]=Ct(re,Q,K)}function Qs(m,x){var O=m[x+1-32],R=m[x+2-32],z=m[x+3-32],H=m[x+4-32],V=m[x+5-32],K=m[x+6-32],Q=m[x+7-32];m[x+0+0]=Ct(m[x+0-32],O,R),m[x+1+0]=m[x+0+32]=Ct(O,R,z),m[x+2+0]=m[x+1+32]=m[x+0+64]=Ct(R,z,H),m[x+3+0]=m[x+2+32]=m[x+1+64]=m[x+0+96]=Ct(z,H,V),m[x+3+32]=m[x+2+64]=m[x+1+96]=Ct(H,V,K),m[x+3+64]=m[x+2+96]=Ct(V,K,Q),m[x+3+96]=Ct(K,Q,Q)}function eo(m,x){var O=m[x-1+0],R=m[x-1+32],z=m[x-1+64],H=m[x-1-32],V=m[x+0-32],K=m[x+1-32],Q=m[x+2-32],re=m[x+3-32];m[x+0+0]=m[x+1+64]=H+V+1>>1,m[x+1+0]=m[x+2+64]=V+K+1>>1,m[x+2+0]=m[x+3+64]=K+Q+1>>1,m[x+3+0]=Q+re+1>>1,m[x+0+96]=Ct(z,R,O),m[x+0+64]=Ct(R,O,H),m[x+0+32]=m[x+1+96]=Ct(O,H,V),m[x+1+32]=m[x+2+96]=Ct(H,V,K),m[x+2+32]=m[x+3+96]=Ct(V,K,Q),m[x+3+32]=Ct(K,Q,re)}function Cb(m,x){var O=m[x+0-32],R=m[x+1-32],z=m[x+2-32],H=m[x+3-32],V=m[x+4-32],K=m[x+5-32],Q=m[x+6-32],re=m[x+7-32];m[x+0+0]=O+R+1>>1,m[x+1+0]=m[x+0+64]=R+z+1>>1,m[x+2+0]=m[x+1+64]=z+H+1>>1,m[x+3+0]=m[x+2+64]=H+V+1>>1,m[x+0+32]=Ct(O,R,z),m[x+1+32]=m[x+0+96]=Ct(R,z,H),m[x+2+32]=m[x+1+96]=Ct(z,H,V),m[x+3+32]=m[x+2+96]=Ct(H,V,K),m[x+3+64]=Ct(V,K,Q),m[x+3+96]=Ct(K,Q,re)}function Tb(m,x){var O=m[x-1+0],R=m[x-1+32],z=m[x-1+64],H=m[x-1+96];m[x+0+0]=O+R+1>>1,m[x+2+0]=m[x+0+32]=R+z+1>>1,m[x+2+32]=m[x+0+64]=z+H+1>>1,m[x+1+0]=Ct(O,R,z),m[x+3+0]=m[x+1+32]=Ct(R,z,H),m[x+3+32]=m[x+1+64]=Ct(z,H,H),m[x+3+64]=m[x+2+64]=m[x+0+96]=m[x+1+96]=m[x+2+96]=m[x+3+96]=H}function Iu(m,x){var O=m[x-1+0],R=m[x-1+32],z=m[x-1+64],H=m[x-1+96],V=m[x-1-32],K=m[x+0-32],Q=m[x+1-32],re=m[x+2-32];m[x+0+0]=m[x+2+32]=O+V+1>>1,m[x+0+32]=m[x+2+64]=R+O+1>>1,m[x+0+64]=m[x+2+96]=z+R+1>>1,m[x+0+96]=H+z+1>>1,m[x+3+0]=Ct(K,Q,re),m[x+2+0]=Ct(V,K,Q),m[x+1+0]=m[x+3+32]=Ct(O,V,K),m[x+1+32]=m[x+3+64]=Ct(R,O,V),m[x+1+64]=m[x+3+96]=Ct(z,R,O),m[x+1+96]=Ct(H,z,R)}function lh(m,x){var O;for(O=0;8>O;++O)n(m,x+32*O,m,x-32,8)}function lc(m,x){var O;for(O=0;8>O;++O)i(m,x,m[x-1],8),x+=32}function Lu(m,x,O){var R;for(R=0;8>R;++R)i(x,O+32*R,m,8)}function Ru(m,x){var O,R=8;for(O=0;8>O;++O)R+=m[x+O-32]+m[x-1+32*O];Lu(R>>4,m,x)}function Ib(m,x){var O,R=4;for(O=0;8>O;++O)R+=m[x+O-32];Lu(R>>3,m,x)}function ch(m,x){var O,R=4;for(O=0;8>O;++O)R+=m[x-1+32*O];Lu(R>>3,m,x)}function uh(m,x){Lu(128,m,x)}function cc(m,x,O){var R=m[x-O],z=m[x+0],H=3*(z-R)+Lb[1020+m[x-2*O]-m[x+O]],V=Ng[112+(H+4>>3)];m[x-O]=Ui[255+R+Ng[112+(H+3>>3)]],m[x+0]=Ui[255+z-V]}function uc(m,x,O,R){var z=m[x+0],H=m[x+O];return wa[255+m[x-2*O]-m[x-O]]>R||wa[255+H-z]>R}function dh(m,x,O,R){return 4*wa[255+m[x-O]-m[x+0]]+wa[255+m[x-2*O]-m[x+O]]<=R}function $u(m,x,O,R,z){var H=m[x-3*O],V=m[x-2*O],K=m[x-O],Q=m[x+0],re=m[x+O],pe=m[x+2*O],je=m[x+3*O];return 4*wa[255+K-Q]+wa[255+V-re]>R?0:wa[255+m[x-4*O]-H]<=z&&wa[255+H-V]<=z&&wa[255+V-K]<=z&&wa[255+je-pe]<=z&&wa[255+pe-re]<=z&&wa[255+re-Q]<=z}function fh(m,x,O,R){var z=2*R+1;for(R=0;16>R;++R)dh(m,x+R,O,z)&&cc(m,x+R,O)}function dc(m,x,O,R){var z=2*R+1;for(R=0;16>R;++R)dh(m,x+R*O,1,z)&&cc(m,x+R*O,1)}function gg(m,x,O,R){var z;for(z=3;0<z;--z)fh(m,x+=4*O,O,R)}function yg(m,x,O,R){var z;for(z=3;0<z;--z)dc(m,x+=4,O,R)}function to(m,x,O,R,z,H,V,K){for(H=2*H+1;0<z--;){if($u(m,x,O,H,V))if(uc(m,x,O,K))cc(m,x,O);else{var Q=m,re=x,pe=O,je=Q[re-2*pe],ne=Q[re-pe],me=Q[re+0],_e=Q[re+pe],Ee=Q[re+2*pe],Se=27*(Le=Lb[1020+3*(me-ne)+Lb[1020+je-_e]])+63>>7,Ce=18*Le+63>>7,Le=9*Le+63>>7;Q[re-3*pe]=Ui[255+Q[re-3*pe]+Le],Q[re-2*pe]=Ui[255+je+Ce],Q[re-pe]=Ui[255+ne+Se],Q[re+0]=Ui[255+me-Se],Q[re+pe]=Ui[255+_e-Ce],Q[re+2*pe]=Ui[255+Ee-Le]}x+=R}}function ro(m,x,O,R,z,H,V,K){for(H=2*H+1;0<z--;){if($u(m,x,O,H,V))if(uc(m,x,O,K))cc(m,x,O);else{var Q=m,re=x,pe=O,je=Q[re-pe],ne=Q[re+0],me=Q[re+pe],_e=Ng[112+(4+(Ee=3*(ne-je))>>3)],Ee=Ng[112+(Ee+3>>3)],Se=_e+1>>1;Q[re-2*pe]=Ui[255+Q[re-2*pe]+Se],Q[re-pe]=Ui[255+je+Ee],Q[re+0]=Ui[255+ne-_e],Q[re+pe]=Ui[255+me-Se]}x+=R}}function vg(m,x,O,R,z,H){to(m,x,O,1,16,R,z,H)}function bg(m,x,O,R,z,H){to(m,x,1,O,16,R,z,H)}function fc(m,x,O,R,z,H){var V;for(V=3;0<V;--V)ro(m,x+=4*O,O,1,16,R,z,H)}function xg(m,x,O,R,z,H){var V;for(V=3;0<V;--V)ro(m,x+=4,1,O,16,R,z,H)}function A(m,x,O,R,z,H,V,K){to(m,x,z,1,8,H,V,K),to(O,R,z,1,8,H,V,K)}function U(m,x,O,R,z,H,V,K){to(m,x,1,z,8,H,V,K),to(O,R,1,z,8,H,V,K)}function ae(m,x,O,R,z,H,V,K){ro(m,x+4*z,z,1,8,H,V,K),ro(O,R+4*z,z,1,8,H,V,K)}function fe(m,x,O,R,z,H,V,K){ro(m,x+4,1,z,8,H,V,K),ro(O,R+4,1,z,8,H,V,K)}function we(){this.ba=new or,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Te(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function De(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ct(){this.ua=0,this.Wa=new ze,this.vb=new ze,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new B,this.yc=new $}function mt(){this.xb=this.a=0,this.l=new Tu,this.ca=new or,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ct,this.ab=0,this.gc=s(4,De),this.Oc=0}function Et(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Tu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function It(m,x,O,R,z,H,V){for(m=m==null?0:m[x+0],x=0;x<V;++x)z[H+x]=m+O[R+x]&255,m=z[H+x]}function tr(m,x,O,R,z,H,V){var K;if(m==null)It(null,null,O,R,z,H,V);else for(K=0;K<V;++K)z[H+K]=m[x+K]+O[R+K]&255}function Mr(m,x,O,R,z,H,V){if(m==null)It(null,null,O,R,z,H,V);else{var K,Q=m[x+0],re=Q,pe=Q;for(K=0;K<V;++K)re=pe+(Q=m[x+K])-re,pe=O[R+K]+(-256&re?0>re?0:255:re)&255,re=Q,z[H+K]=pe}}function ln(m,x,O,R){var z=x.width,H=x.o;if(t(m!=null&&x!=null),0>O||0>=R||O+R>H)return null;if(!m.Cc){if(m.ga==null){var V;if(m.ga=new Et,(V=m.ga==null)||(V=x.width*x.o,t(m.Gb.length==0),m.Gb=a(V),m.Uc=0,m.Gb==null?V=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,V=1),V=!V),!V){V=m.ga;var K=m.Fa,Q=m.P,re=m.qc,pe=m.mb,je=m.nb,ne=Q+1,me=re-1,_e=V.l;if(t(K!=null&&pe!=null&&x!=null),nl[0]=null,nl[1]=It,nl[2]=tr,nl[3]=Mr,V.ca=pe,V.tb=je,V.c=x.width,V.i=x.height,t(0<V.c&&0<V.i),1>=re)x=0;else if(V.$a=3&K[Q+0],V.Z=K[Q+0]>>2&3,V.Lc=K[Q+0]>>4&3,Q=K[Q+0]>>6&3,0>V.$a||1<V.$a||4<=V.Z||1<V.Lc||Q)x=0;else if(_e.put=_t,_e.ac=vs,_e.bc=Xs,_e.ma=V,_e.width=x.width,_e.height=x.height,_e.Da=x.Da,_e.v=x.v,_e.va=x.va,_e.j=x.j,_e.o=x.o,V.$a)e:{t(V.$a==1),x=rc();t:for(;;){if(x==null){x=0;break e}if(t(V!=null),V.mc=x,x.c=V.c,x.i=V.i,x.l=V.l,x.l.ma=V,x.l.width=V.c,x.l.height=V.i,x.a=0,Z(x.m,K,ne,me),!xs(V.c,V.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&Ha(x.s)?(V.ic=1,K=x.c*x.i,x.Ta=null,x.Ua=0,x.V=a(K),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(V.ic=0,x=nc(x,V.c)),!x))break t;x=1;break e}V.mc=null,x=0}else x=me>=V.c*V.i;V=!x}if(V)return null;m.ga.Lc!=1?m.Ga=0:R=H-O}t(m.ga!=null),t(O+R<=H);e:{if(x=(K=m.ga).c,H=K.l.o,K.$a==0){if(ne=m.rc,me=m.Vc,_e=m.Fa,Q=m.P+1+O*x,re=m.mb,pe=m.nb+O*x,t(Q<=m.P+m.qc),K.Z!=0)for(t(nl[K.Z]!=null),V=0;V<R;++V)nl[K.Z](ne,me,_e,Q,re,pe,x),ne=re,me=pe,pe+=x,Q+=x;else for(V=0;V<R;++V)n(re,pe,_e,Q,x),ne=re,me=pe,pe+=x,Q+=x;m.rc=ne,m.Vc=me}else{if(t(K.mc!=null),x=O+R,t((V=K.mc)!=null),t(x<=V.i),V.C>=x)x=1;else if(K.ic||va(),K.ic){K=V.V,ne=V.Ba,me=V.c;var Ee=V.i,Se=(_e=1,Q=V.$/me,re=V.$%me,pe=V.m,je=V.s,V.$),Ce=me*Ee,Le=me*x,Fe=je.wc,$e=Se<Le?Bn(je,re,Q):null;t(Se<=Ce),t(x<=Ee),t(Ha(je));t:for(;;){for(;!pe.h&&Se<Le;){if(re&Fe||($e=Bn(je,re,Q)),t($e!=null),de(pe),256>(Ee=zr($e.G[0],$e.H[0],pe)))K[ne+Se]=Ee,++Se,++re>=me&&(re=0,++Q<=x&&!(Q%16)&&Va(V,Q));else{if(!(280>Ee)){_e=0;break t}Ee=pa(Ee-256,pe);var yt,st=zr($e.G[4],$e.H[4],pe);if(de(pe),!(Se>=(st=ma(me,st=pa(st,pe)))&&Ce-Se>=Ee)){_e=0;break t}for(yt=0;yt<Ee;++yt)K[ne+Se+yt]=K[ne+Se+yt-st];for(Se+=Ee,re+=Ee;re>=me;)re-=me,++Q<=x&&!(Q%16)&&Va(V,Q);Se<Le&&re&Fe&&($e=Bn(je,re,Q))}t(pe.h==ie(pe))}Va(V,Q>x?x:Q);break t}!_e||pe.h&&Se<Ce?(_e=0,V.a=pe.h?5:3):V.$=Se,x=_e}else x=Ga(V,V.V,V.Ba,V.c,V.i,x,Eu);if(!x){R=0;break e}}O+R>=H&&(m.Cc=1),R=1}if(!R)return null;if(m.Cc&&((R=m.ga)!=null&&(R.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+O*z}function br(m,x,O,R,z,H){for(;0<z--;){var V,K=m,Q=x+(O?1:0),re=m,pe=x+(O?0:3);for(V=0;V<R;++V){var je=re[pe+4*V];je!=255&&(je*=32897,K[Q+4*V+0]=K[Q+4*V+0]*je>>23,K[Q+4*V+1]=K[Q+4*V+1]*je>>23,K[Q+4*V+2]=K[Q+4*V+2]*je>>23)}x+=H}}function gn(m,x,O,R,z){for(;0<R--;){var H;for(H=0;H<O;++H){var V=m[x+2*H+0],K=15&(re=m[x+2*H+1]),Q=4369*K,re=(240&re|re>>4)*Q>>16;m[x+2*H+0]=(240&V|V>>4)*Q>>16&240|(15&V|V<<4)*Q>>16>>4&15,m[x+2*H+1]=240&re|K}x+=z}}function cn(m,x,O,R,z,H,V,K){var Q,re,pe=255;for(re=0;re<z;++re){for(Q=0;Q<R;++Q){var je=m[x+Q];H[V+4*Q]=je,pe&=je}x+=O,V+=K}return pe!=255}function Fn(m,x,O,R,z){var H;for(H=0;H<z;++H)O[R+H]=m[x+H]>>8}function va(){Sh=br,HN=gn,VN=cn,GN=Fn}function _i(m,x,O){L[m]=function(R,z,H,V,K,Q,re,pe,je,ne,me,_e,Ee,Se,Ce,Le,Fe){var $e,yt=Fe-1>>1,st=K[Q+0]|re[pe+0]<<16,Bt=je[ne+0]|me[_e+0]<<16;t(R!=null);var ut=3*st+Bt+131074>>2;for(x(R[z+0],255&ut,ut>>16,Ee,Se),H!=null&&(ut=3*Bt+st+131074>>2,x(H[V+0],255&ut,ut>>16,Ce,Le)),$e=1;$e<=yt;++$e){var Ht=K[Q+$e]|re[pe+$e]<<16,vn=je[ne+$e]|me[_e+$e]<<16,Ft=st+Ht+Bt+vn+524296,dt=Ft+2*(Ht+Bt)>>3;ut=dt+st>>1,st=(Ft=Ft+2*(st+vn)>>3)+Ht>>1,x(R[z+2*$e-1],255&ut,ut>>16,Ee,Se+(2*$e-1)*O),x(R[z+2*$e-0],255&st,st>>16,Ee,Se+(2*$e-0)*O),H!=null&&(ut=Ft+Bt>>1,st=dt+vn>>1,x(H[V+2*$e-1],255&ut,ut>>16,Ce,Le+(2*$e-1)*O),x(H[V+2*$e+0],255&st,st>>16,Ce,Le+(2*$e+0)*O)),st=Ht,Bt=vn}1&Fe||(ut=3*st+Bt+131074>>2,x(R[z+Fe-1],255&ut,ut>>16,Ee,Se+(Fe-1)*O),H!=null&&(ut=3*Bt+st+131074>>2,x(H[V+Fe-1],255&ut,ut>>16,Ce,Le+(Fe-1)*O)))}}function wg(){_a[Ag]=n9,_a[kg]=iA,_a[QN]=i9,_a[Og]=aA,_a[Eg]=sA,_a[Rb]=oA,_a[eA]=a9,_a[$b]=iA,_a[Mb]=aA,_a[Pg]=sA,_a[Db]=oA}function Mu(m){return m&-16384?0>m?0:255:m>>s9}function hc(m,x){return Mu((19077*m>>8)+(26149*x>>8)-14234)}function Ko(m,x,O){return Mu((19077*m>>8)-(6419*x>>8)-(13320*O>>8)+8708)}function pc(m,x){return Mu((19077*m>>8)+(33050*x>>8)-17685)}function mc(m,x,O,R,z){R[z+0]=hc(m,O),R[z+1]=Ko(m,x,O),R[z+2]=pc(m,x)}function gc(m,x,O,R,z){R[z+0]=pc(m,x),R[z+1]=Ko(m,x,O),R[z+2]=hc(m,O)}function Kn(m,x,O,R,z){var H=Ko(m,x,O);x=H<<3&224|pc(m,x)>>3,R[z+0]=248&hc(m,O)|H>>5,R[z+1]=x}function yc(m,x,O,R,z){var H=240&pc(m,x)|15;R[z+0]=240&hc(m,O)|Ko(m,x,O)>>4,R[z+1]=H}function vc(m,x,O,R,z){R[z+0]=255,mc(m,x,O,R,z+1)}function hh(m,x,O,R,z){gc(m,x,O,R,z),R[z+3]=255}function ph(m,x,O,R,z){mc(m,x,O,R,z),R[z+3]=255}function qr(m,x){return 0>m?0:m>x?x:m}function no(m,x,O){L[m]=function(R,z,H,V,K,Q,re,pe,je){for(var ne=pe+(-2&je)*O;pe!=ne;)x(R[z+0],H[V+0],K[Q+0],re,pe),x(R[z+1],H[V+0],K[Q+0],re,pe+O),z+=2,++V,++Q,pe+=2*O;1&je&&x(R[z+0],H[V+0],K[Q+0],re,pe)}}function Du(m,x,O){return O==0?m==0?x==0?6:5:x==0?4:0:O}function _g(m,x,O,R,z){switch(m>>>30){case 3:_c(x,O,R,z,0);break;case 2:xa(x,O,R,z);break;case 1:ar(x,O,R,z)}}function ba(m,x){var O,R,z=x.M,H=x.Nb,V=m.oc,K=m.pc+40,Q=m.oc,re=m.pc+584,pe=m.oc,je=m.pc+600;for(O=0;16>O;++O)V[K+32*O-1]=129;for(O=0;8>O;++O)Q[re+32*O-1]=129,pe[je+32*O-1]=129;for(0<z?V[K-1-32]=Q[re-1-32]=pe[je-1-32]=129:(i(V,K-32-1,127,21),i(Q,re-32-1,127,9),i(pe,je-32-1,127,9)),R=0;R<m.za;++R){var ne=x.ya[x.aa+R];if(0<R){for(O=-1;16>O;++O)n(V,K+32*O-4,V,K+32*O+12,4);for(O=-1;8>O;++O)n(Q,re+32*O-4,Q,re+32*O+4,4),n(pe,je+32*O-4,pe,je+32*O+4,4)}var me=m.Gd,_e=m.Hd+R,Ee=ne.ad,Se=ne.Hc;if(0<z&&(n(V,K-32,me[_e].y,0,16),n(Q,re-32,me[_e].f,0,8),n(pe,je-32,me[_e].ea,0,8)),ne.Za){var Ce=V,Le=K-32+16;for(0<z&&(R>=m.za-1?i(Ce,Le,me[_e].y[15],4):n(Ce,Le,me[_e+1].y,0,4)),O=0;4>O;O++)Ce[Le+128+O]=Ce[Le+256+O]=Ce[Le+384+O]=Ce[Le+0+O];for(O=0;16>O;++O,Se<<=2)Ce=V,Le=K+cA[O],Ya[ne.Ob[O]](Ce,Le),_g(Se,Ee,16*+O,Ce,Le)}else if(Ce=Du(R,z,ne.Ob[0]),rl[Ce](V,K),Se!=0)for(O=0;16>O;++O,Se<<=2)_g(Se,Ee,16*+O,V,K+cA[O]);for(O=ne.Gc,Ce=Du(R,z,ne.Dd),so[Ce](Q,re),so[Ce](pe,je),Se=Ee,Ce=Q,Le=re,255&(ne=0|O)&&(170&ne?js(Se,256,Ce,Le):mr(Se,256,Ce,Le)),ne=pe,Se=je,255&(O>>=8)&&(170&O?js(Ee,320,ne,Se):mr(Ee,320,ne,Se)),z<m.Ub-1&&(n(me[_e].y,0,V,K+480,16),n(me[_e].f,0,Q,re+224,8),n(me[_e].ea,0,pe,je+224,8)),O=8*H*m.B,me=m.sa,_e=m.ta+16*R+16*H*m.R,Ee=m.qa,ne=m.ra+8*R+O,Se=m.Ha,Ce=m.Ia+8*R+O,O=0;16>O;++O)n(me,_e+O*m.R,V,K+32*O,16);for(O=0;8>O;++O)n(Ee,ne+O*m.B,Q,re+32*O,8),n(Se,Ce+O*m.B,pe,je+32*O,8)}}function bc(m,x,O,R,z,H,V,K,Q){var re=[0],pe=[0],je=0,ne=Q!=null?Q.kd:0,me=Q??new Te;if(m==null||12>O)return 7;me.data=m,me.w=x,me.ha=O,x=[x],O=[O],me.gb=[me.gb];e:{var _e=x,Ee=O,Se=me.gb;if(t(m!=null),t(Ee!=null),t(Se!=null),Se[0]=0,12<=Ee[0]&&!r(m,_e[0],"RIFF")){if(r(m,_e[0]+8,"WEBP")){Se=3;break e}var Ce=ue(m,_e[0]+4);if(12>Ce||4294967286<Ce){Se=3;break e}if(ne&&Ce>Ee[0]-8){Se=7;break e}Se[0]=Ce,_e[0]+=12,Ee[0]-=12}Se=0}if(Se!=0)return Se;for(Ce=0<me.gb[0],O=O[0];;){e:{var Le=m;Ee=x,Se=O;var Fe=re,$e=pe,yt=_e=[0];if((ut=je=[je])[0]=0,8>Se[0])Se=7;else{if(!r(Le,Ee[0],"VP8X")){if(ue(Le,Ee[0]+4)!=10){Se=3;break e}if(18>Se[0]){Se=7;break e}var st=ue(Le,Ee[0]+8),Bt=1+he(Le,Ee[0]+12);if(2147483648<=Bt*(Le=1+he(Le,Ee[0]+15))){Se=3;break e}yt!=null&&(yt[0]=st),Fe!=null&&(Fe[0]=Bt),$e!=null&&($e[0]=Le),Ee[0]+=18,Se[0]-=18,ut[0]=1}Se=0}}if(je=je[0],_e=_e[0],Se!=0)return Se;if(Ee=!!(2&_e),!Ce&&je)return 3;if(H!=null&&(H[0]=!!(16&_e)),V!=null&&(V[0]=Ee),K!=null&&(K[0]=0),V=re[0],_e=pe[0],je&&Ee&&Q==null){Se=0;break}if(4>O){Se=7;break}if(Ce&&je||!Ce&&!je&&!r(m,x[0],"ALPH")){O=[O],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{st=m,Se=x,Ce=O;var ut=me.gb;Fe=me.na,$e=me.P,yt=me.Sa,Bt=22,t(st!=null),t(Ce!=null),Le=Se[0];var Ht=Ce[0];for(t(Fe!=null),t(yt!=null),Fe[0]=null,$e[0]=null,yt[0]=0;;){if(Se[0]=Le,Ce[0]=Ht,8>Ht){Se=7;break e}var vn=ue(st,Le+4);if(4294967286<vn){Se=3;break e}var Ft=8+vn+1&-2;if(Bt+=Ft,0<ut&&Bt>ut){Se=3;break e}if(!r(st,Le,"VP8 ")||!r(st,Le,"VP8L")){Se=0;break e}if(Ht[0]<Ft){Se=7;break e}r(st,Le,"ALPH")||(Fe[0]=st,$e[0]=Le+8,yt[0]=vn),Le+=Ft,Ht-=Ft}}if(O=O[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],Se!=0)break}O=[O],me.Ja=[me.Ja],me.xa=[me.xa];e:if(ut=m,Se=x,Ce=O,Fe=me.gb[0],$e=me.Ja,yt=me.xa,st=Se[0],Le=!r(ut,st,"VP8 "),Bt=!r(ut,st,"VP8L"),t(ut!=null),t(Ce!=null),t($e!=null),t(yt!=null),8>Ce[0])Se=7;else{if(Le||Bt){if(ut=ue(ut,st+4),12<=Fe&&ut>Fe-12){Se=3;break e}if(ne&&ut>Ce[0]-8){Se=7;break e}$e[0]=ut,Se[0]+=8,Ce[0]-=8,yt[0]=Bt}else yt[0]=5<=Ce[0]&&ut[st+0]==47&&!(ut[st+4]>>5),$e[0]=Ce[0];Se=0}if(O=O[0],me.Ja=me.Ja[0],me.xa=me.xa[0],x=x[0],Se!=0)break;if(4294967286<me.Ja)return 3;if(K==null||Ee||(K[0]=me.xa?2:1),V=[V],_e=[_e],me.xa){if(5>O){Se=7;break}K=V,ne=_e,Ee=H,m==null||5>O?m=0:5<=O&&m[x+0]==47&&!(m[x+4]>>5)?(Ce=[0],ut=[0],Fe=[0],Z($e=new I,m,x,O),Js($e,Ce,ut,Fe)?(K!=null&&(K[0]=Ce[0]),ne!=null&&(ne[0]=ut[0]),Ee!=null&&(Ee[0]=Fe[0]),m=1):m=0):m=0}else{if(10>O){Se=7;break}K=_e,m==null||10>O||!fg(m,x+3,O-3)?m=0:(ne=m[x+0]|m[x+1]<<8|m[x+2]<<16,Ee=16383&(m[x+7]<<8|m[x+6]),m=16383&(m[x+9]<<8|m[x+8]),1&ne||3<(ne>>1&7)||!(ne>>4&1)||ne>>5>=me.Ja||!Ee||!m?m=0:(V&&(V[0]=Ee),K&&(K[0]=m),m=1))}if(!m||(V=V[0],_e=_e[0],je&&(re[0]!=V||pe[0]!=_e)))return 3;Q!=null&&(Q[0]=me,Q.offset=x-Q.w,t(4294967286>x-Q.w),t(Q.offset==Q.ha-O));break}return Se==0||Se==7&&je&&Q==null?(H!=null&&(H[0]|=me.na!=null&&0<me.na.length),R!=null&&(R[0]=V),z!=null&&(z[0]=_e),0):Se}function mh(m,x,O){var R=x.width,z=x.height,H=0,V=0,K=R,Q=z;if(x.Da=m!=null&&0<m.Da,x.Da&&(K=m.cd,Q=m.bd,H=m.v,V=m.j,11>O||(H&=-2,V&=-2),0>H||0>V||0>=K||0>=Q||H+K>R||V+Q>z))return 0;if(x.v=H,x.j=V,x.va=H+K,x.o=V+Q,x.U=K,x.T=Q,x.da=m!=null&&0<m.da,x.da){if(!He(K,Q,O=[m.ib],H=[m.hb]))return 0;x.ib=O[0],x.hb=H[0]}return x.ob=m!=null&&m.ob,x.Kb=m==null||!m.Sd,x.da&&(x.ob=x.ib<3*R/4&&x.hb<3*z/4,x.Kb=0),1}function gh(m){if(m==null)return 2;if(11>m.S){var x=m.f.RGBA;x.fb+=(m.height-1)*x.A,x.A=-x.A}else x=m.f.kb,m=m.height,x.O+=(m-1)*x.fa,x.fa=-x.fa,x.N+=(m-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(m-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(m-1)*x.lb,x.lb=-x.lb);return 0}function Yo(m,x,O,R){if(R==null||0>=m||0>=x)return 2;if(O!=null){if(O.Da){var z=O.cd,H=O.bd,V=-2&O.v,K=-2&O.j;if(0>V||0>K||0>=z||0>=H||V+z>m||K+H>x)return 2;m=z,x=H}if(O.da){if(!He(m,x,z=[O.ib],H=[O.hb]))return 2;m=z[0],x=H[0]}}R.width=m,R.height=x;e:{var Q=R.width,re=R.height;if(m=R.S,0>=Q||0>=re||!(m>=Ag&&13>m))m=2;else{if(0>=R.Rd&&R.sd==null){V=H=z=x=0;var pe=(K=Q*uA[m])*re;if(11>m||(H=(re+1)/2*(x=(Q+1)/2),m==12&&(V=(z=Q)*re)),(re=a(pe+2*H+V))==null){m=1;break e}R.sd=re,11>m?((Q=R.f.RGBA).eb=re,Q.fb=0,Q.A=K,Q.size=pe):((Q=R.f.kb).y=re,Q.O=0,Q.fa=K,Q.Fd=pe,Q.f=re,Q.N=0+pe,Q.Ab=x,Q.Cd=H,Q.ea=re,Q.W=0+pe+H,Q.Db=x,Q.Ed=H,m==12&&(Q.F=re,Q.J=0+pe+2*H),Q.Tc=V,Q.lb=z)}if(x=1,z=R.S,H=R.width,V=R.height,z>=Ag&&13>z)if(11>z)m=R.f.RGBA,x&=(K=Math.abs(m.A))*(V-1)+H<=m.size,x&=K>=H*uA[z],x&=m.eb!=null;else{m=R.f.kb,K=(H+1)/2,pe=(V+1)/2,Q=Math.abs(m.fa),re=Math.abs(m.Ab);var je=Math.abs(m.Db),ne=Math.abs(m.lb),me=ne*(V-1)+H;x&=Q*(V-1)+H<=m.Fd,x&=re*(pe-1)+K<=m.Cd,x=(x&=je*(pe-1)+K<=m.Ed)&Q>=H&re>=K&je>=K,x&=m.y!=null,x&=m.f!=null,x&=m.ea!=null,z==12&&(x&=ne>=H,x&=me<=m.Tc,x&=m.F!=null)}else x=0;m=x?0:2}}return m!=0||O!=null&&O.fd&&(m=gh(R)),m}var xc=64,Bi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Fi=24,Xo=32,io=8,Jo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Be("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(m){return m},L.Predictor2=function(m,x,O){return x[O+0]},L.Predictor3=function(m,x,O){return x[O+1]},L.Predictor4=function(m,x,O){return x[O-1]},L.Predictor5=function(m,x,O){return Je(Je(m,x[O+1]),x[O+0])},L.Predictor6=function(m,x,O){return Je(m,x[O-1])},L.Predictor7=function(m,x,O){return Je(m,x[O+0])},L.Predictor8=function(m,x,O){return Je(x[O-1],x[O+0])},L.Predictor9=function(m,x,O){return Je(x[O+0],x[O+1])},L.Predictor10=function(m,x,O){return Je(Je(m,x[O-1]),Je(x[O+0],x[O+1]))},L.Predictor11=function(m,x,O){var R=x[O+0];return 0>=le(R>>24&255,m>>24&255,(x=x[O-1])>>24&255)+le(R>>16&255,m>>16&255,x>>16&255)+le(R>>8&255,m>>8&255,x>>8&255)+le(255&R,255&m,255&x)?R:m},L.Predictor12=function(m,x,O){var R=x[O+0];return(Mt((m>>24&255)+(R>>24&255)-((x=x[O-1])>>24&255))<<24|Mt((m>>16&255)+(R>>16&255)-(x>>16&255))<<16|Mt((m>>8&255)+(R>>8&255)-(x>>8&255))<<8|Mt((255&m)+(255&R)-(255&x)))>>>0},L.Predictor13=function(m,x,O){var R=x[O-1];return(be((m=Je(m,x[O+0]))>>24&255,R>>24&255)<<24|be(m>>16&255,R>>16&255)<<16|be(m>>8&255,R>>8&255)<<8|be(255&m,255&R))>>>0};var yh=L.PredictorAdd0;L.PredictorAdd1=xe,Be("Predictor2","PredictorAdd2"),Be("Predictor3","PredictorAdd3"),Be("Predictor4","PredictorAdd4"),Be("Predictor5","PredictorAdd5"),Be("Predictor6","PredictorAdd6"),Be("Predictor7","PredictorAdd7"),Be("Predictor8","PredictorAdd8"),Be("Predictor9","PredictorAdd9"),Be("Predictor10","PredictorAdd10"),Be("Predictor11","PredictorAdd11"),Be("Predictor12","PredictorAdd12"),Be("Predictor13","PredictorAdd13");var Bu=L.PredictorAdd2;Re("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Re("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Xr,Sg=L.ColorIndexInverseTransform,_s=L.MapARGB,Ss=L.VP8LColorIndexInverseTransformAlpha,vh=L.MapAlpha,bh=L.VP8LPredictorsAdd=[];bh.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var xh,wh,Zo,Qo,el,wc,tl,_c,xa,js,ar,mr,Jr,yn,ao,_h,Fu,jg,BN,FN,UN,zN,qN,WN,Sh,HN,VN,GN,KN=a(511),YN=a(2041),XN=a(225),JN=a(767),ZN=0,Lb=YN,Ng=XN,Ui=JN,wa=KN,Ag=0,kg=1,QN=2,Og=3,Eg=4,Rb=5,eA=6,$b=7,Mb=8,Pg=9,Db=10,qD=[2,3,7],WD=[3,3,11],tA=[280,256,256,256,40],HD=[0,1,1,1,0],VD=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],GD=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],KD=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],YD=8,Bb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],jh=null,XD=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],JD=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],rA=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ZD=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],QD=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],e9=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],t9=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],rl=[],Ya=[],so=[],r9=1,nA=2,nl=[],_a=[];_i("UpsampleRgbLinePair",mc,3),_i("UpsampleBgrLinePair",gc,3),_i("UpsampleRgbaLinePair",ph,4),_i("UpsampleBgraLinePair",hh,4),_i("UpsampleArgbLinePair",vc,4),_i("UpsampleRgba4444LinePair",yc,2),_i("UpsampleRgb565LinePair",Kn,2);var n9=L.UpsampleRgbLinePair,i9=L.UpsampleBgrLinePair,iA=L.UpsampleRgbaLinePair,aA=L.UpsampleBgraLinePair,sA=L.UpsampleArgbLinePair,oA=L.UpsampleRgba4444LinePair,a9=L.UpsampleRgb565LinePair,Cg=16,Tg=1<<Cg-1,Nh=-227,Ub=482,s9=6,lA=0,o9=a(256),l9=a(256),c9=a(256),u9=a(256),d9=a(Ub-Nh),f9=a(Ub-Nh);no("YuvToRgbRow",mc,3),no("YuvToBgrRow",gc,3),no("YuvToRgbaRow",ph,4),no("YuvToBgraRow",hh,4),no("YuvToArgbRow",vc,4),no("YuvToRgba4444Row",yc,2),no("YuvToRgb565Row",Kn,2);var cA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ig=[0,2,8],h9=[8,7,6,4,4,2,2,2,1,1,1,1],p9=1;this.WebPDecodeRGBA=function(m,x,O,R,z){var H=kg,V=new we,K=new or;V.ba=K,K.S=H,K.width=[K.width],K.height=[K.height];var Q=K.width,re=K.height,pe=new Nt;if(pe==null||m==null)var je=2;else t(pe!=null),je=bc(m,x,O,pe.width,pe.height,pe.Pd,pe.Qd,pe.format,null);if(je!=0?Q=0:(Q!=null&&(Q[0]=pe.width[0]),re!=null&&(re[0]=pe.height[0]),Q=1),Q){K.width=K.width[0],K.height=K.height[0],R!=null&&(R[0]=K.width),z!=null&&(z[0]=K.height);e:{if(R=new Tu,(z=new Te).data=m,z.w=x,z.ha=O,z.kd=1,x=[0],t(z!=null),((m=bc(z.data,z.w,z.ha,null,null,null,x,null,z))==0||m==7)&&x[0]&&(m=4),(x=m)==0){if(t(V!=null),R.data=z.data,R.w=z.w+z.offset,R.ha=z.ha-z.offset,R.put=_t,R.ac=vs,R.bc=Xs,R.ma=V,z.xa){if((m=rc())==null){V=1;break e}if(function(ne,me){var _e=[0],Ee=[0],Se=[0];t:for(;;){if(ne==null)return 0;if(me==null)return ne.a=2,0;if(ne.l=me,ne.a=0,Z(ne.m,me.data,me.w,me.ha),!Js(ne.m,_e,Ee,Se)){ne.a=3;break t}if(ne.xb=nA,me.width=_e[0],me.height=Ee[0],!xs(_e[0],Ee[0],1,ne,null))break t;return 1}return t(ne.a!=0),0}(m,R)){if(R=(x=Yo(R.width,R.height,V.Oa,V.ba))==0){t:{R=m;r:for(;;){if(R==null){R=0;break t}if(t(R.s.yc!=null),t(R.s.Ya!=null),t(0<R.s.Wb),t((O=R.l)!=null),t((z=O.ma)!=null),R.xb!=0){if(R.ca=z.ba,R.tb=z.tb,t(R.ca!=null),!mh(z.Oa,O,Og)){R.a=2;break r}if(!nc(R,O.width)||O.da)break r;if((O.da||nt(R.ca.S))&&va(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&va()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!X(R.s.vb,R.s.Wa.Xa)){R.a=1;break r}R.xb=0}if(!Ga(R,R.V,R.Ba,R.c,R.i,O.o,Ho))break r;z.Dc=R.Ma,R=1;break t}t(R.a!=0),R=0}R=!R}R&&(x=m.a)}else x=m.a}else{if((m=new bb)==null){V=1;break e}if(m.Fa=z.na,m.P=z.P,m.qc=z.Sa,hg(m,R)){if((x=Yo(R.width,R.height,V.Oa,V.ba))==0){if(m.Aa=0,O=V.Oa,t((z=m)!=null),O!=null){if(0<(Q=0>(Q=O.Md)?0:100<Q?255:255*Q/100)){for(re=pe=0;4>re;++re)12>(je=z.pb[re]).lc&&(je.ia=Q*h9[0>je.lc?0:je.lc]>>3),pe|=je.ia;pe&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=O.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}(function(ne,me){if(ne==null)return 0;if(me==null)return on(ne,2,"NULL VP8Io parameter in VP8Decode().");if(!ne.cb&&!hg(ne,me))return 0;if(t(ne.cb),me.ac==null||me.ac(me)){me.ob&&(ne.L=0);var _e=Ig[ne.L];if(ne.L==2?(ne.yb=0,ne.zb=0):(ne.yb=me.v-_e>>4,ne.zb=me.j-_e>>4,0>ne.yb&&(ne.yb=0),0>ne.zb&&(ne.zb=0)),ne.Va=me.o+15+_e>>4,ne.Hb=me.va+15+_e>>4,ne.Hb>ne.za&&(ne.Hb=ne.za),ne.Va>ne.Ub&&(ne.Va=ne.Ub),0<ne.L){var Ee=ne.ed;for(_e=0;4>_e;++_e){var Se;if(ne.Qa.Cb){var Ce=ne.Qa.Lb[_e];ne.Qa.Fb||(Ce+=Ee.Tb)}else Ce=Ee.Tb;for(Se=0;1>=Se;++Se){var Le=ne.gd[_e][Se],Fe=Ce;if(Ee.Pc&&(Fe+=Ee.vd[0],Se&&(Fe+=Ee.od[0])),0<(Fe=0>Fe?0:63<Fe?63:Fe)){var $e=Fe;0<Ee.wb&&($e=4<Ee.wb?$e>>2:$e>>1)>9-Ee.wb&&($e=9-Ee.wb),1>$e&&($e=1),Le.dd=$e,Le.tc=2*Fe+$e,Le.ld=40<=Fe?2:15<=Fe?1:0}else Le.tc=0;Le.La=Se}}}_e=0}else on(ne,6,"Frame setup failed"),_e=ne.a;if(_e=_e==0){if(_e){ne.$c=0,0<ne.Aa||(ne.Ic=p9);t:{_e=ne.Ic,Ee=4*($e=ne.za);var yt=32*$e,st=$e+1,Bt=0<ne.L?$e*(0<ne.Aa?2:1):0,ut=(ne.Aa==2?2:1)*$e;if((Le=Ee+832+(Se=3*(16*_e+Ig[ne.L])/2*yt)+(Ce=ne.Fa!=null&&0<ne.Fa.length?ne.Kc.c*ne.Kc.i:0))!=Le)_e=0;else{if(Le>ne.Vb){if(ne.Vb=0,ne.Ec=a(Le),ne.Fc=0,ne.Ec==null){_e=on(ne,1,"no memory during frame initialization.");break t}ne.Vb=Le}Le=ne.Ec,Fe=ne.Fc,ne.Ac=Le,ne.Bc=Fe,Fe+=Ee,ne.Gd=s(yt,ug),ne.Hd=0,ne.rb=s(st+1,rh),ne.sb=1,ne.wa=Bt?s(Bt,ya):null,ne.Y=0,ne.D.Nb=0,ne.D.wa=ne.wa,ne.D.Y=ne.Y,0<ne.Aa&&(ne.D.Y+=$e),t(!0),ne.oc=Le,ne.pc=Fe,Fe+=832,ne.ya=s(ut,nh),ne.aa=0,ne.D.ya=ne.ya,ne.D.aa=ne.aa,ne.Aa==2&&(ne.D.aa+=$e),ne.R=16*$e,ne.B=8*$e,$e=(yt=Ig[ne.L])*ne.R,yt=yt/2*ne.B,ne.sa=Le,ne.ta=Fe+$e,ne.qa=ne.sa,ne.ra=ne.ta+16*_e*ne.R+yt,ne.Ha=ne.qa,ne.Ia=ne.ra+8*_e*ne.B+yt,ne.$c=0,Fe+=Se,ne.mb=Ce?Le:null,ne.nb=Ce?Fe:null,t(Fe+Ce<=ne.Fc+ne.Vb),ic(ne),i(ne.Ac,ne.Bc,0,Ee),_e=1}}if(_e){if(me.ka=0,me.y=ne.sa,me.O=ne.ta,me.f=ne.qa,me.N=ne.ra,me.ea=ne.Ha,me.Vd=ne.Ia,me.fa=ne.R,me.Rc=ne.B,me.F=null,me.J=0,!ZN){for(_e=-255;255>=_e;++_e)KN[255+_e]=0>_e?-_e:_e;for(_e=-1020;1020>=_e;++_e)YN[1020+_e]=-128>_e?-128:127<_e?127:_e;for(_e=-112;112>=_e;++_e)XN[112+_e]=-16>_e?-16:15<_e?15:_e;for(_e=-255;510>=_e;++_e)JN[255+_e]=0>_e?0:255<_e?255:_e;ZN=1}tl=mg,_c=wb,js=_b,ar=ws,mr=pg,xa=xb,Jr=vg,yn=bg,ao=A,_h=U,Fu=fc,jg=xg,BN=ae,FN=fe,UN=fh,zN=dc,qN=gg,WN=yg,Ya[0]=Eb,Ya[1]=ah,Ya[2]=kb,Ya[3]=Ob,Ya[4]=Pb,Ya[5]=eo,Ya[6]=Qs,Ya[7]=Cb,Ya[8]=Iu,Ya[9]=Tb,rl[0]=Go,rl[1]=jb,rl[2]=Nb,rl[3]=sh,rl[4]=Ab,rl[5]=oc,rl[6]=oh,so[0]=Ru,so[1]=Sb,so[2]=lh,so[3]=lc,so[4]=ch,so[5]=Ib,so[6]=uh,_e=1}else _e=0}_e&&(_e=function(Ht,vn){for(Ht.M=0;Ht.M<Ht.Va;++Ht.M){var Ft,dt=Ht.Jc[Ht.M&Ht.Xb],Xe=Ht.m,Zr=Ht;for(Ft=0;Ft<Zr.za;++Ft){var $t=Xe,Kt=Zr,Or=Kt.Ac,Un=Kt.Bc+4*Ft,li=Kt.zc,Wr=Kt.ya[Kt.aa+Ft];if(Kt.Qa.Bb?Wr.$b=ye($t,Kt.Pa.jb[0])?2+ye($t,Kt.Pa.jb[2]):ye($t,Kt.Pa.jb[1]):Wr.$b=0,Kt.kc&&(Wr.Ad=ye($t,Kt.Bd)),Wr.Za=!ye($t,145)+0,Wr.Za){var Yn=Wr.Ob,ci=0;for(Kt=0;4>Kt;++Kt){var bn,Yt=li[0+Kt];for(bn=0;4>bn;++bn){Yt=QD[Or[Un+bn]][Yt];for(var lr=rA[ye($t,Yt[0])];0<lr;)lr=rA[2*lr+ye($t,Yt[lr])];Yt=-lr,Or[Un+bn]=Yt}n(Yn,ci,Or,Un,4),ci+=4,li[0+Kt]=Yt}}else Yt=ye($t,156)?ye($t,128)?1:3:ye($t,163)?2:0,Wr.Ob[0]=Yt,i(Or,Un,Yt,4),i(li,0,Yt,4);Wr.Dd=ye($t,142)?ye($t,114)?ye($t,183)?1:3:2:0}if(Zr.m.Ka)return on(Ht,7,"Premature end-of-partition0 encountered.");for(;Ht.ja<Ht.za;++Ht.ja){if(Zr=dt,$t=(Xe=Ht).rb[Xe.sb-1],Or=Xe.rb[Xe.sb+Xe.ja],Ft=Xe.ya[Xe.aa+Xe.ja],Un=Xe.kc?Ft.Ad:0)$t.la=Or.la=0,Ft.Za||($t.Na=Or.Na=0),Ft.Hc=0,Ft.Gc=0,Ft.ia=0;else{var Hr,cr;if($t=Or,Or=Zr,Un=Xe.Pa.Xc,li=Xe.ya[Xe.aa+Xe.ja],Wr=Xe.pb[li.$b],Kt=li.ad,Yn=0,ci=Xe.rb[Xe.sb-1],Yt=bn=0,i(Kt,Yn,0,384),li.Za)var zn=0,Xa=Un[3];else{lr=a(16);var Qr=$t.Na+ci.Na;if(Qr=jh(Or,Un[1],Qr,Wr.Eb,0,lr,0),$t.Na=ci.Na=(0<Qr)+0,1<Qr)tl(lr,0,Kt,Yn);else{var Si=lr[0]+3>>3;for(lr=0;256>lr;lr+=16)Kt[Yn+lr]=Si}zn=1,Xa=Un[0]}var gr=15&$t.la,xn=15&ci.la;for(lr=0;4>lr;++lr){var zi=1&xn;for(Si=cr=0;4>Si;++Si)gr=gr>>1|(zi=(Qr=jh(Or,Xa,Qr=zi+(1&gr),Wr.Sc,zn,Kt,Yn))>zn)<<7,cr=cr<<2|(3<Qr?3:1<Qr?2:Kt[Yn+0]!=0),Yn+=16;gr>>=4,xn=xn>>1|zi<<7,bn=(bn<<8|cr)>>>0}for(Xa=gr,zn=xn>>4,Hr=0;4>Hr;Hr+=2){for(cr=0,gr=$t.la>>4+Hr,xn=ci.la>>4+Hr,lr=0;2>lr;++lr){for(zi=1&xn,Si=0;2>Si;++Si)Qr=zi+(1&gr),gr=gr>>1|(zi=0<(Qr=jh(Or,Un[2],Qr,Wr.Qc,0,Kt,Yn)))<<3,cr=cr<<2|(3<Qr?3:1<Qr?2:Kt[Yn+0]!=0),Yn+=16;gr>>=2,xn=xn>>1|zi<<5}Yt|=cr<<4*Hr,Xa|=gr<<4<<Hr,zn|=(240&xn)<<Hr}$t.la=Xa,ci.la=zn,li.Hc=bn,li.Gc=Yt,li.ia=43690&Yt?0:Wr.ia,Un=!(bn|Yt)}if(0<Xe.L&&(Xe.wa[Xe.Y+Xe.ja]=Xe.gd[Ft.$b][Ft.Za],Xe.wa[Xe.Y+Xe.ja].La|=!Un),Zr.Ka)return on(Ht,7,"Premature end-of-file encountered.")}if(ic(Ht),Xe=vn,Zr=1,Ft=(dt=Ht).D,$t=0<dt.L&&dt.M>=dt.zb&&dt.M<=dt.Va,dt.Aa==0)t:{if(Ft.M=dt.M,Ft.uc=$t,ba(dt,Ft),Zr=1,Ft=(cr=dt.D).Nb,$t=(Yt=Ig[dt.L])*dt.R,Or=Yt/2*dt.B,lr=16*Ft*dt.R,Si=8*Ft*dt.B,Un=dt.sa,li=dt.ta-$t+lr,Wr=dt.qa,Kt=dt.ra-Or+Si,Yn=dt.Ha,ci=dt.Ia-Or+Si,xn=(gr=cr.M)==0,bn=gr>=dt.Va-1,dt.Aa==2&&ba(dt,cr),cr.uc)for(zi=(Qr=dt).D.M,t(Qr.D.uc),cr=Qr.yb;cr<Qr.Hb;++cr){zn=cr,Xa=zi;var ui=(qi=(qn=Qr).D).Nb;Hr=qn.R;var qi=qi.wa[qi.Y+zn],Wi=qn.sa,ji=qn.ta+16*ui*Hr+16*zn,Hi=qi.dd,xr=qi.tc;if(xr!=0)if(t(3<=xr),qn.L==1)0<zn&&zN(Wi,ji,Hr,xr+4),qi.La&&WN(Wi,ji,Hr,xr),0<Xa&&UN(Wi,ji,Hr,xr+4),qi.La&&qN(Wi,ji,Hr,xr);else{var Vi=qn.B,Ja=qn.qa,Sc=qn.ra+8*ui*Vi+8*zn,oo=qn.Ha,qn=qn.Ia+8*ui*Vi+8*zn;ui=qi.ld,0<zn&&(yn(Wi,ji,Hr,xr+4,Hi,ui),_h(Ja,Sc,oo,qn,Vi,xr+4,Hi,ui)),qi.La&&(jg(Wi,ji,Hr,xr,Hi,ui),FN(Ja,Sc,oo,qn,Vi,xr,Hi,ui)),0<Xa&&(Jr(Wi,ji,Hr,xr+4,Hi,ui),ao(Ja,Sc,oo,qn,Vi,xr+4,Hi,ui)),qi.La&&(Fu(Wi,ji,Hr,xr,Hi,ui),BN(Ja,Sc,oo,qn,Vi,xr,Hi,ui))}}if(dt.ia&&alert("todo:DitherRow"),Xe.put!=null){if(cr=16*gr,gr=16*(gr+1),xn?(Xe.y=dt.sa,Xe.O=dt.ta+lr,Xe.f=dt.qa,Xe.N=dt.ra+Si,Xe.ea=dt.Ha,Xe.W=dt.Ia+Si):(cr-=Yt,Xe.y=Un,Xe.O=li,Xe.f=Wr,Xe.N=Kt,Xe.ea=Yn,Xe.W=ci),bn||(gr-=Yt),gr>Xe.o&&(gr=Xe.o),Xe.F=null,Xe.J=null,dt.Fa!=null&&0<dt.Fa.length&&cr<gr&&(Xe.J=ln(dt,Xe,cr,gr-cr),Xe.F=dt.mb,Xe.F==null&&Xe.F.length==0)){Zr=on(dt,3,"Could not decode alpha data.");break t}cr<Xe.j&&(Yt=Xe.j-cr,cr=Xe.j,t(!(1&Yt)),Xe.O+=dt.R*Yt,Xe.N+=dt.B*(Yt>>1),Xe.W+=dt.B*(Yt>>1),Xe.F!=null&&(Xe.J+=Xe.width*Yt)),cr<gr&&(Xe.O+=Xe.v,Xe.N+=Xe.v>>1,Xe.W+=Xe.v>>1,Xe.F!=null&&(Xe.J+=Xe.v),Xe.ka=cr-Xe.j,Xe.U=Xe.va-Xe.v,Xe.T=gr-cr,Zr=Xe.put(Xe))}Ft+1!=dt.Ic||bn||(n(dt.sa,dt.ta-$t,Un,li+16*dt.R,$t),n(dt.qa,dt.ra-Or,Wr,Kt+8*dt.B,Or),n(dt.Ha,dt.Ia-Or,Yn,ci+8*dt.B,Or))}if(!Zr)return on(Ht,6,"Output aborted.")}return 1}(ne,me)),me.bc!=null&&me.bc(me),_e&=1}return _e?(ne.cb=0,_e):0})(m,R)||(x=m.a)}}else x=m.a}x==0&&V.Oa!=null&&V.Oa.fd&&(x=gh(V.ba))}V=x}H=V!=0?null:11>H?K.f.RGBA.eb:K.f.kb.y}else H=null;return H};var uA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(L,F){for(var k="",E=0;E<4;E++)k+=String.fromCharCode(L[F++]);return k}function u(L,F){return L[F+0]|L[F+1]<<8}function f(L,F){return(L[F+0]|L[F+1]<<8|L[F+2]<<16)>>>0}function p(L,F){return(L[F+0]|L[F+1]<<8|L[F+2]<<16|L[F+3]<<24)>>>0}new l;var h=[0],y=[0],g=[],b=new l,v=e,w=function(L,F){var k={},E=0,$=!1,M=0,B=0;if(k.frames=[],!function(T,I){for(var Y=0;Y<4;Y++)if(T[I+Y]!="RIFF".charCodeAt(Y))return!0;return!1}(L,F)){for(p(L,F+=4),F+=8;F<L.length;){var q=c(L,F),J=p(L,F+=4);F+=4;var W=J+(1&J);switch(q){case"VP8 ":case"VP8L":k.frames[E]===void 0&&(k.frames[E]={}),(se=k.frames[E]).src_off=$?B:F-8,se.src_size=M+J+8,E++,$&&($=!1,M=0,B=0);break;case"VP8X":(se=k.header={}).feature_flags=L[F];var Z=F+4;se.canvas_width=1+f(L,Z),Z+=3,se.canvas_height=1+f(L,Z),Z+=3;break;case"ALPH":$=!0,M=W+8,B=F-8;break;case"ANIM":(se=k.header).bgcolor=p(L,F),Z=F+4,se.loop_count=u(L,Z),Z+=2;break;case"ANMF":var D,se;(se=k.frames[E]={}).offset_x=2*f(L,F),F+=3,se.offset_y=2*f(L,F),F+=3,se.width=1+f(L,F),F+=3,se.height=1+f(L,F),F+=3,se.duration=f(L,F),F+=3,D=L[F++],se.dispose=1&D,se.blend=D>>1&1}q!="ANMF"&&(F+=W)}return k}}(v,0);w.response=v,w.rgbaoutput=!0,w.dataurl=!1;var _=w.header?w.header:null,N=w.frames?w.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],y=[_.canvas_width];for(var S=0;S<N.length&&N[S].blend!=0;S++);}var j=N[0],P=b.WebPDecodeRGBA(v,j.src_off,j.src_size,y,h);j.rgba=P,j.imgwidth=y[0],j.imgheight=h[0];for(var C=0;C<y[0]*h[0]*4;C++)g[C]=P[C];return this.width=y,this.height=h,this.data=g,this}(function(e){var t,r,n,i,a,s,o,l,c,u=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new l,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new s,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new s,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=T;Object.defineProperty(this,"pdf",{get:function(){return I}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(ue){Y=!!ue}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(ue){ie=!!ue}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(ue){isNaN(ue)||(te=ue)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(ue){isNaN(ue)||(de=ue)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ue){var X;typeof ue=="number"?X=[ue,ue,ue,ue]:((X=new Array(4))[0]=ue[0],X[1]=ue.length>=2?ue[1]:X[0],X[2]=ue.length>=3?ue[2]:X[0],X[3]=ue.length>=4?ue[3]:X[1]),c.margin=X}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(ue){ve=ue}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(ue){oe=ue}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(ue){ye=ue}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ue){ue instanceof u&&(c=ue)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ue){c.path=ue}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(ue){ke=ue}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ue){var X;X=p(ue),this.ctx.fillStyle=X.style,this.ctx.isFillTransparent=X.a===0,this.ctx.fillOpacity=X.a,this.pdf.setFillColor(X.r,X.g,X.b,{a:X.a}),this.pdf.setTextColor(X.r,X.g,X.b,{a:X.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ue){var X=p(ue);this.ctx.strokeStyle=X.style,this.ctx.isStrokeTransparent=X.a===0,this.ctx.strokeOpacity=X.a,X.a===0?this.pdf.setDrawColor(255,255,255):(X.a,this.pdf.setDrawColor(X.r,X.g,X.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ue){["butt","round","square"].indexOf(ue)!==-1&&(this.ctx.lineCap=ue,this.pdf.setLineCap(ue))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ue){isNaN(ue)||(this.ctx.lineWidth=ue,this.pdf.setLineWidth(ue))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ue){["bevel","round","miter"].indexOf(ue)!==-1&&(this.ctx.lineJoin=ue,this.pdf.setLineJoin(ue))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ue){isNaN(ue)||(this.ctx.miterLimit=ue,this.pdf.setMiterLimit(ue))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ue){this.ctx.textBaseline=ue}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ue){["right","end","center","left","start"].indexOf(ue)!==-1&&(this.ctx.textAlign=ue)}});var ee=null,he=null;Object.defineProperty(this,"fontFaces",{get:function(){return he},set:function(ue){ee=null,he=ue}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ue){var X;if(this.ctx.font=ue,(X=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ue))!==null){var Me=X[1];X[2];var ze=X[3],He=X[4];X[5];var Ne=X[6],Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(He)[2];He=Math.floor(Ue==="px"?parseFloat(He)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(He)*this.pdf.getFontSize():parseFloat(He)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(He);var Be=function(Oe){var Re,et,gt=[],Ke=Oe.trim();if(Ke==="")return B2;if(Ke in SC)return[SC[Ke]];for(;Ke!=="";){switch(et=null,Re=(Ke=NC(Ke)).charAt(0)){case'"':case"'":et=RSe(Ke.substring(1),Re);break;default:et=$Se(Ke)}if(et===null||(gt.push(et[0]),(Ke=NC(et[1]))!==""&&Ke.charAt(0)!==","))return B2;Ke=Ke.replace(/^,/,"")}return gt}(Ne);if(this.fontFaces){var Qe=function(Oe,Re){if(ee===null){var et=function(gt){var Ke=[];return Object.keys(gt).forEach(function(tt){gt[tt].forEach(function(rt){var Ye=null;switch(rt){case"bold":Ye={family:tt,weight:"bold"};break;case"italic":Ye={family:tt,style:"italic"};break;case"bolditalic":Ye={family:tt,weight:"bold",style:"italic"};break;case"":case"normal":Ye={family:tt}}Ye!==null&&(Ye.ref={name:tt,style:rt},Ke.push(Ye))})}),Ke}(Oe.getFontList());ee=function(gt){for(var Ke={},tt=0;tt<gt.length;++tt){var rt=D2(gt[tt]),Ye=rt.family,ft=rt.stretch,nt=rt.style,er=rt.weight;Ke[Ye]=Ke[Ye]||{},Ke[Ye][ft]=Ke[Ye][ft]||{},Ke[Ye][ft][nt]=Ke[Ye][ft][nt]||{},Ke[Ye][ft][nt][er]=rt}return Ke}(et.concat(Re))}return ee}(this.pdf,this.fontFaces),Je=Be.map(function(Oe){return{family:Oe,stretch:"normal",weight:ze,style:Me}}),Mt=function(Oe,Re,et){for(var gt=(et=et||{}).defaultFontFamily||"times",Ke=Object.assign({},LSe,et.genericFontFamilies||{}),tt=null,rt=null,Ye=0;Ye<Re.length;++Ye)if(Ke[(tt=D2(Re[Ye])).family]&&(tt.family=Ke[tt.family]),Oe.hasOwnProperty(tt.family)){rt=Oe[tt.family];break}if(!(rt=rt||Oe[gt]))throw new Error("Could not find a font-family for the rule '"+jC(tt)+"' and default family '"+gt+"'.");if(rt=function(ft,nt){if(nt[ft])return nt[ft];var er=Z_[ft],hr=er<=Z_.normal?-1:1,or=_C(nt,$D,er,hr);if(!or)throw new Error("Could not find a matching font-stretch value for "+ft);return or}(tt.stretch,rt),rt=function(ft,nt){if(nt[ft])return nt[ft];for(var er=RD[ft],hr=0;hr<er.length;++hr)if(nt[er[hr]])return nt[er[hr]];throw new Error("Could not find a matching font-style for "+ft)}(tt.style,rt),!(rt=function(ft,nt){if(nt[ft])return nt[ft];if(ft===400&&nt[500])return nt[500];if(ft===500&&nt[400])return nt[400];var er=ISe[ft],hr=_C(nt,MD,er,ft<400?-1:1);if(!hr)throw new Error("Could not find a matching font-weight for value "+ft);return hr}(tt.weight,rt)))throw new Error("Failed to resolve a font for the rule '"+jC(tt)+"'.");return rt}(Qe,Je);this.pdf.setFont(Mt.ref.name,Mt.ref.style)}else{var be="";(ze==="bold"||parseInt(ze,10)>=700||Me==="bold")&&(be="bold"),Me==="italic"&&(be+="italic"),be.length===0&&(be="normal");for(var le="",xe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ge=0;ge<Be.length;ge++){if(this.pdf.internal.getFont(Be[ge],be,{noFallback:!0,disableWarning:!0})!==void 0){le=Be[ge];break}if(be==="bolditalic"&&this.pdf.internal.getFont(Be[ge],"bold",{noFallback:!0,disableWarning:!0})!==void 0)le=Be[ge],be="bold";else if(this.pdf.internal.getFont(Be[ge],"normal",{noFallback:!0,disableWarning:!0})!==void 0){le=Be[ge],be="normal";break}}if(le===""){for(var Ae=0;Ae<Be.length;Ae++)if(xe[Be[Ae]]){le=xe[Be[Ae]];break}}le=le===""?"Times":le,this.pdf.setFont(le,be)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ue){this.ctx.globalCompositeOperation=ue}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ue){this.ctx.globalAlpha=ue}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ue){this.ctx.lineDashOffset=ue,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ue){this.ctx.lineDash=ue,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ue){this.ctx.ignoreClearRect=!!ue}})};f.prototype.setLineDash=function(T){this.lineDash=T},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){N.call(this,"fill",!1)},f.prototype.stroke=function(){N.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(T,I){if(isNaN(T)||isNaN(I))throw yr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new s(T,I));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new s(T,I)},f.prototype.closePath=function(){var T=new s(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&ur(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){T=new s(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(T.x,T.y)},f.prototype.lineTo=function(T,I){if(isNaN(T)||isNaN(I))throw yr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new s(T,I));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new s(Y.x,Y.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},f.prototype.quadraticCurveTo=function(T,I,Y,ie){if(isNaN(Y)||isNaN(ie)||isNaN(T)||isNaN(I))throw yr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new s(Y,ie)),de=this.ctx.transform.applyToPoint(new s(T,I));this.path.push({type:"qct",x1:de.x,y1:de.y,x:te.x,y:te.y}),this.ctx.lastPoint=new s(te.x,te.y)},f.prototype.bezierCurveTo=function(T,I,Y,ie,te,de){if(isNaN(te)||isNaN(de)||isNaN(T)||isNaN(I)||isNaN(Y)||isNaN(ie))throw yr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new s(te,de)),oe=this.ctx.transform.applyToPoint(new s(T,I)),ye=this.ctx.transform.applyToPoint(new s(Y,ie));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:ye.x,y2:ye.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new s(ve.x,ve.y)},f.prototype.arc=function(T,I,Y,ie,te,de){if(isNaN(T)||isNaN(I)||isNaN(Y)||isNaN(ie)||isNaN(te))throw yr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new s(T,I));T=ve.x,I=ve.y;var oe=this.ctx.transform.applyToPoint(new s(0,Y)),ye=this.ctx.transform.applyToPoint(new s(0,0));Y=Math.sqrt(Math.pow(oe.x-ye.x,2)+Math.pow(oe.y-ye.y,2))}Math.abs(te-ie)>=2*Math.PI&&(ie=0,te=2*Math.PI),this.path.push({type:"arc",x:T,y:I,radius:Y,startAngle:ie,endAngle:te,counterclockwise:de})},f.prototype.arcTo=function(T,I,Y,ie,te){throw new Error("arcTo not implemented.")},f.prototype.rect=function(T,I,Y,ie){if(isNaN(T)||isNaN(I)||isNaN(Y)||isNaN(ie))throw yr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,I),this.lineTo(T+Y,I),this.lineTo(T+Y,I+ie),this.lineTo(T,I+ie),this.lineTo(T,I),this.lineTo(T+Y,I),this.lineTo(T,I)},f.prototype.fillRect=function(T,I,Y,ie){if(isNaN(T)||isNaN(I)||isNaN(Y)||isNaN(ie))throw yr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,I,Y,ie),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},f.prototype.strokeRect=function(T,I,Y,ie){if(isNaN(T)||isNaN(I)||isNaN(Y)||isNaN(ie))throw yr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(T,I,Y,ie),this.stroke())},f.prototype.clearRect=function(T,I,Y,ie){if(isNaN(T)||isNaN(I)||isNaN(Y)||isNaN(ie))throw yr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,I,Y,ie))},f.prototype.save=function(T){T=typeof T!="boolean"||T;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},f.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(I),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(T){var I,Y,ie,te;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))I=0,Y=0,ie=0,te=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(de!==null)I=parseInt(de[1]),Y=parseInt(de[2]),ie=parseInt(de[3]),te=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)I=parseInt(de[1]),Y=parseInt(de[2]),ie=parseInt(de[3]),te=parseFloat(de[4]);else{if(te=1,typeof T=="string"&&T.charAt(0)!=="#"){var ve=new OD(T);T=ve.ok?ve.toHex():"#000000"}T.length===4?(I=T.substring(1,2),I+=I,Y=T.substring(2,3),Y+=Y,ie=T.substring(3,4),ie+=ie):(I=T.substring(1,3),Y=T.substring(3,5),ie=T.substring(5,7)),I=parseInt(I,16),Y=parseInt(Y,16),ie=parseInt(ie,16)}}return{r:I,g:Y,b:ie,a:te,style:T}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(T,I,Y,ie){if(isNaN(I)||isNaN(Y)||typeof T!="string")throw yr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!h.call(this)){var te=W(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;E.call(this,{text:T,x:I,y:Y,scale:de,angle:te,align:this.textAlign,maxWidth:ie})}},f.prototype.strokeText=function(T,I,Y,ie){if(isNaN(I)||isNaN(Y)||typeof T!="string")throw yr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ie=isNaN(ie)?void 0:ie;var te=W(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;E.call(this,{text:T,x:I,y:Y,scale:de,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:ie})}},f.prototype.measureText=function(T){if(typeof T!="string")throw yr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,Y=this.pdf.internal.scaleFactor,ie=I.internal.getFontSize(),te=I.getStringUnitWidth(T)*ie/I.internal.scaleFactor;return new function(de){var ve=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this}({width:te*=Math.round(96*Y/72*1e4)/1e4})},f.prototype.scale=function(T,I){if(isNaN(T)||isNaN(I))throw yr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new l(T,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.rotate=function(T){if(isNaN(T))throw yr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new l(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},f.prototype.translate=function(T,I){if(isNaN(T)||isNaN(I))throw yr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new l(1,0,0,1,T,I);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.transform=function(T,I,Y,ie,te,de){if(isNaN(T)||isNaN(I)||isNaN(Y)||isNaN(ie)||isNaN(te)||isNaN(de))throw yr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new l(T,I,Y,ie,te,de);this.ctx.transform=this.ctx.transform.multiply(ve)},f.prototype.setTransform=function(T,I,Y,ie,te,de){T=isNaN(T)?1:T,I=isNaN(I)?0:I,Y=isNaN(Y)?0:Y,ie=isNaN(ie)?1:ie,te=isNaN(te)?0:te,de=isNaN(de)?0:de,this.ctx.transform=new l(T,I,Y,ie,te,de)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(T,I,Y,ie,te,de,ve,oe,ye){var ke=this.pdf.getImageProperties(T),ee=1,he=1,ue=1,X=1;ie!==void 0&&oe!==void 0&&(ue=oe/ie,X=ye/te,ee=ke.width/ie*oe/ie,he=ke.height/te*ye/te),de===void 0&&(de=I,ve=Y,I=0,Y=0),ie!==void 0&&oe===void 0&&(oe=ie,ye=te),ie===void 0&&oe===void 0&&(oe=ke.width,ye=ke.height);for(var Me,ze=this.ctx.transform.decompose(),He=W(ze.rotate.shx),Ne=new l,Ue=(Ne=(Ne=(Ne=Ne.multiply(ze.translate)).multiply(ze.skew)).multiply(ze.scale)).applyToRectangle(new o(de-I*ue,ve-Y*X,ie*ee,te*he)),Be=b.call(this,Ue),Qe=[],Je=0;Je<Be.length;Je+=1)Qe.indexOf(Be[Je])===-1&&Qe.push(Be[Je]);if(_(Qe),this.autoPaging)for(var Mt=Qe[0],be=Qe[Qe.length-1],le=Mt;le<be+1;le++){this.pdf.setPage(le);var xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ge=le===1?this.posY+this.margin[0]:this.margin[0],Ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Re=le===1?0:Ae+(le-2)*Oe;if(this.ctx.clip_path.length!==0){var et=this.path;Me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Me,this.posX+this.margin[3],-Re+ge+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=et}var gt=JSON.parse(JSON.stringify(Ue));gt=w([gt],this.posX+this.margin[3],-Re+ge+this.ctx.prevPageLastElemOffset)[0];var Ke=(le>Mt||le<be)&&g.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xe,Oe,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",gt.x,gt.y,gt.w,gt.h,null,null,He),Ke&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",Ue.x,Ue.y,Ue.w,Ue.h,null,null,He)};var b=function(T,I,Y){var ie=[];I=I||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":ie.push(Math.floor((T.y+te)/Y)+1);break;case"arc":ie.push(Math.floor((T.y+te-T.radius)/Y)+1),ie.push(Math.floor((T.y+te+T.radius)/Y)+1);break;case"qct":var de=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);ie.push(Math.floor((de.y+te)/Y)+1),ie.push(Math.floor((de.y+de.h+te)/Y)+1);break;case"bct":var ve=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);ie.push(Math.floor((ve.y+te)/Y)+1),ie.push(Math.floor((ve.y+ve.h+te)/Y)+1);break;case"rect":ie.push(Math.floor((T.y+te)/Y)+1),ie.push(Math.floor((T.y+T.h+te)/Y)+1)}for(var oe=0;oe<ie.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<ie[oe];)v.call(this);return ie},v=function(){var T=this.fillStyle,I=this.strokeStyle,Y=this.font,ie=this.lineCap,te=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=I,this.font=Y,this.lineCap=ie,this.lineWidth=te,this.lineJoin=de},w=function(T,I,Y){for(var ie=0;ie<T.length;ie++)switch(T[ie].type){case"bct":T[ie].x2+=I,T[ie].y2+=Y;case"qct":T[ie].x1+=I,T[ie].y1+=Y;default:T[ie].x+=I,T[ie].y+=Y}return T},_=function(T){return T.sort(function(I,Y){return I-Y})},N=function(T,I){for(var Y,ie,te=this.fillStyle,de=this.strokeStyle,ve=this.lineCap,oe=this.lineWidth,ye=Math.abs(oe*this.ctx.transform.scaleX),ke=this.lineJoin,ee=JSON.parse(JSON.stringify(this.path)),he=JSON.parse(JSON.stringify(this.path)),ue=[],X=0;X<he.length;X++)if(he[X].x!==void 0)for(var Me=b.call(this,he[X]),ze=0;ze<Me.length;ze+=1)ue.indexOf(Me[ze])===-1&&ue.push(Me[ze]);for(var He=0;He<ue.length;He++)for(;this.pdf.internal.getNumberOfPages()<ue[He];)v.call(this);if(_(ue),this.autoPaging)for(var Ne=ue[0],Ue=ue[ue.length-1],Be=Ne;Be<Ue+1;Be++){this.pdf.setPage(Be),this.fillStyle=te,this.strokeStyle=de,this.lineCap=ve,this.lineWidth=ye,this.lineJoin=ke;var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Je=Be===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],be=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],le=Be===1?0:Mt+(Be-2)*be;if(this.ctx.clip_path.length!==0){var xe=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Y,this.posX+this.margin[3],-le+Je+this.ctx.prevPageLastElemOffset),S.call(this,T,!0),this.path=xe}if(ie=JSON.parse(JSON.stringify(ee)),this.path=w(ie,this.posX+this.margin[3],-le+Je+this.ctx.prevPageLastElemOffset),I===!1||Be===0){var ge=(Be>Ne||Be<Ue)&&g.call(this);ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,be,null).clip().discardPath()),S.call(this,T,I),ge&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}else this.lineWidth=ye,S.call(this,T,I),this.lineWidth=oe;this.path=ee},S=function(T,I){if((T!=="stroke"||I||!y.call(this))&&(T==="stroke"||I||!h.call(this))){for(var Y,ie,te=[],de=this.path,ve=0;ve<de.length;ve++){var oe=de[ve];switch(oe.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:oe,deltas:[],abs:[]});break;case"lt":var ye=te.length;if(de[ve-1]&&!isNaN(de[ve-1].x)&&(Y=[oe.x-de[ve-1].x,oe.y-de[ve-1].y],ye>0)){for(;ye>=0;ye--)if(te[ye-1].close!==!0&&te[ye-1].begin!==!0){te[ye-1].deltas.push(Y),te[ye-1].abs.push(oe);break}}break;case"bct":Y=[oe.x1-de[ve-1].x,oe.y1-de[ve-1].y,oe.x2-de[ve-1].x,oe.y2-de[ve-1].y,oe.x-de[ve-1].x,oe.y-de[ve-1].y],te[te.length-1].deltas.push(Y);break;case"qct":var ke=de[ve-1].x+2/3*(oe.x1-de[ve-1].x),ee=de[ve-1].y+2/3*(oe.y1-de[ve-1].y),he=oe.x+2/3*(oe.x1-oe.x),ue=oe.y+2/3*(oe.y1-oe.y),X=oe.x,Me=oe.y;Y=[ke-de[ve-1].x,ee-de[ve-1].y,he-de[ve-1].x,ue-de[ve-1].y,X-de[ve-1].x,Me-de[ve-1].y],te[te.length-1].deltas.push(Y);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(oe)}}ie=I?null:T==="stroke"?"stroke":"fill";for(var ze=!1,He=0;He<te.length;He++)if(te[He].arc)for(var Ne=te[He].abs,Ue=0;Ue<Ne.length;Ue++){var Be=Ne[Ue];Be.type==="arc"?C.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,I,!ze):$.call(this,Be.x,Be.y),ze=!0}else if(te[He].close===!0)this.pdf.internal.out("h"),ze=!1;else if(te[He].begin!==!0){var Qe=te[He].start.x,Je=te[He].start.y;M.call(this,te[He].deltas,Qe,Je),ze=!0}ie&&L.call(this,ie),I&&F.call(this)}},j=function(T){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-Y;case"top":return T+I-Y;case"hanging":return T+I-2*Y;case"middle":return T+I/2-Y;default:return T}},P=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(I,Y){this.colorStops.push([I,Y])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(T,I,Y,ie,te,de,ve,oe,ye){for(var ke=q.call(this,Y,ie,te,de),ee=0;ee<ke.length;ee++){var he=ke[ee];ee===0&&(ye?k.call(this,he.x1+T,he.y1+I):$.call(this,he.x1+T,he.y1+I)),B.call(this,T,I,he.x2,he.y2,he.x3,he.y3,he.x4,he.y4)}oe?F.call(this):L.call(this,ve)},L=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(T,I){this.pdf.internal.out(r(T)+" "+n(I)+" m")},E=function(T){var I;switch(T.align){case"right":case"end":I="right";break;case"center":I="center";break;default:I="left"}var Y=this.pdf.getTextDimensions(T.text),ie=j.call(this,T.y),te=P.call(this,ie)-Y.h,de=this.ctx.transform.applyToPoint(new s(T.x,ie)),ve=this.ctx.transform.decompose(),oe=new l;oe=(oe=(oe=oe.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var ye,ke,ee,he=this.ctx.transform.applyToRectangle(new o(T.x,ie,Y.w,Y.h)),ue=oe.applyToRectangle(new o(T.x,te,Y.w,Y.h)),X=b.call(this,ue),Me=[],ze=0;ze<X.length;ze+=1)Me.indexOf(X[ze])===-1&&Me.push(X[ze]);if(_(Me),this.autoPaging)for(var He=Me[0],Ne=Me[Me.length-1],Ue=He;Ue<Ne+1;Ue++){this.pdf.setPage(Ue);var Be=Ue===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[2],Mt=Je-this.margin[0],be=this.pdf.internal.pageSize.width-this.margin[1],le=be-this.margin[3],xe=Ue===1?0:Qe+(Ue-2)*Mt;if(this.ctx.clip_path.length!==0){var ge=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ye,this.posX+this.margin[3],-1*xe+Be),S.call(this,"fill",!0),this.path=ge}var Ae=w([JSON.parse(JSON.stringify(ue))],this.posX+this.margin[3],-xe+Be+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*T.scale),ee=this.lineWidth,this.lineWidth=ee*T.scale);var Oe=this.autoPaging!=="text";if(Oe||Ae.y+Ae.h<=Je){if(Oe||Ae.y>=Be&&Ae.x<=be){var Re=Oe?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||be-Ae.x)[0],et=w([JSON.parse(JSON.stringify(he))],this.posX+this.margin[3],-xe+Be+this.ctx.prevPageLastElemOffset)[0],gt=Oe&&(Ue>He||Ue<Ne)&&g.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],le,Mt,null).clip().discardPath()),this.pdf.text(Re,et.x,et.y,{angle:T.angle,align:I,renderingMode:T.renderingMode}),gt&&this.pdf.restoreGraphicsState()}}else Ae.y<Je&&(this.ctx.prevPageLastElemOffset+=Je-Ae.y);T.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=ee)}else T.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*T.scale),ee=this.lineWidth,this.lineWidth=ee*T.scale),this.pdf.text(T.text,de.x+this.posX,de.y+this.posY,{angle:T.angle,align:I,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=ee)},$=function(T,I,Y,ie){Y=Y||0,ie=ie||0,this.pdf.internal.out(r(T+Y)+" "+n(I+ie)+" l")},M=function(T,I,Y){return this.pdf.lines(T,I,Y,null,null)},B=function(T,I,Y,ie,te,de,ve,oe){this.pdf.internal.out([t(i(Y+T)),t(a(ie+I)),t(i(te+T)),t(a(de+I)),t(i(ve+T)),t(a(oe+I)),"c"].join(" "))},q=function(T,I,Y,ie){for(var te=2*Math.PI,de=Math.PI/2;I>Y;)I-=te;var ve=Math.abs(Y-I);ve<te&&ie&&(ve=te-ve);for(var oe=[],ye=ie?-1:1,ke=I;ve>1e-5;){var ee=ke+ye*Math.min(ve,de);oe.push(J.call(this,T,ke,ee)),ve-=Math.abs(ee-ke),ke=ee}return oe},J=function(T,I,Y){var ie=(Y-I)/2,te=T*Math.cos(ie),de=T*Math.sin(ie),ve=te,oe=-de,ye=ve*ve+oe*oe,ke=ye+ve*te+oe*de,ee=4/3*(Math.sqrt(2*ye*ke)-ke)/(ve*de-oe*te),he=ve-ee*oe,ue=oe+ee*ve,X=he,Me=-ue,ze=ie+I,He=Math.cos(ze),Ne=Math.sin(ze);return{x1:T*Math.cos(I),y1:T*Math.sin(I),x2:he*He-ue*Ne,y2:he*Ne+ue*He,x3:X*He-Me*Ne,y3:X*Ne+Me*He,x4:T*Math.cos(Y),y4:T*Math.sin(Y)}},W=function(T){return 180*T/Math.PI},Z=function(T,I,Y,ie,te,de){var ve=T+.5*(Y-T),oe=I+.5*(ie-I),ye=te+.5*(Y-te),ke=de+.5*(ie-de),ee=Math.min(T,te,ve,ye),he=Math.max(T,te,ve,ye),ue=Math.min(I,de,oe,ke),X=Math.max(I,de,oe,ke);return new o(ee,ue,he-ee,X-ue)},D=function(T,I,Y,ie,te,de,ve,oe){var ye,ke,ee,he,ue,X,Me,ze,He,Ne,Ue,Be,Qe,Je,Mt=Y-T,be=ie-I,le=te-Y,xe=de-ie,ge=ve-te,Ae=oe-de;for(ke=0;ke<41;ke++)He=(Me=(ee=T+(ye=ke/40)*Mt)+ye*((ue=Y+ye*le)-ee))+ye*(ue+ye*(te+ye*ge-ue)-Me),Ne=(ze=(he=I+ye*be)+ye*((X=ie+ye*xe)-he))+ye*(X+ye*(de+ye*Ae-X)-ze),ke==0?(Ue=He,Be=Ne,Qe=He,Je=Ne):(Ue=Math.min(Ue,He),Be=Math.min(Be,Ne),Qe=Math.max(Qe,He),Je=Math.max(Je,Ne));return new o(Math.round(Ue),Math.round(Be),Math.round(Qe-Ue),Math.round(Je-Be))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,I,Y=(T=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:I}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(vt.API),function(e){var t=function(s){var o,l,c,u,f,p,h,y,g,b;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(p=(f=((f=((f=((f=(f-(b=f%85))/85)-(g=f%85))/85)-(y=f%85))/85)-(h=f%85))/85)%85,l.push(p+33,h+33,y+33,g+33,b+33)):l.push(122);return function(v,w){for(var _=w;_>0;_--)v.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,c,u,f,p=String,h="length",y=255,g="charCodeAt",b="slice",v="replace";for(s[b](-2),s=s[b](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],u=0,f=(s+=o="uuuuu"[b](s[h]%5||5))[h];f>u;u+=5)l=52200625*(s[g](u)-33)+614125*(s[g](u+1)-33)+7225*(s[g](u+2)-33)+85*(s[g](u+3)-33)+(s[g](u+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return function(w,_){for(var N=_;N>0;N--)w.pop()}(c,o[h]),p.fromCharCode.apply(p,c)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=H_(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(vt.API),function(e){e.loadFile=function(t,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,p=0,h=function(y){var g=y.length,b=[],v=String.fromCharCode;for(p=0;p<g;p+=1)b.push(v(255&y.charCodeAt(p)));return b.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(h(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return h(f.responseText)}(i,a,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(vt.API),function(e){function t(){return(At.html2canvas?Promise.resolve(At.html2canvas):x2(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(At.DOMPurify?Promise.resolve(At.DOMPurify):x2(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=ur(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var y=u[h],g=y.src.find(function(b){return b.format==="truetype"});g&&c.addFont(g.url,y.ref.name,y.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,f).then(function(p){return c.updateProgress(1),p})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),p=c.call(f,o,l);return s.convert(p,u.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,vt.getPageSize=function(o,l,c){if(ur(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var y,g=0,b=0;if(h.hasOwnProperty(p))g=h[p][1]/f,b=h[p][0]/f;else try{g=c[1],b=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",b>g&&(y=b,b=g,g=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>b&&(y=b,b=g,g=y)}return{width:b,height:g,unit:l,k:f,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(D2):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(vt.API),vt.API.addJS=function(e){return kC=e,this.internal.events.subscribe("postPutResources",function(){M0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(M0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),AC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+kC+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){M0!==void 0&&AC!==void 0&&this.internal.out("/Names <</JavaScript "+M0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var f=r.internal.newObject();u.push(f);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<u.length;a++)r.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(vt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,g={width:0,height:0,numcomponents:1},b=4;b<y;b+=2){if(b+=h,t.indexOf(f.charCodeAt(b+1))!==-1){p=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),g={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:p,numcomponents:f.charCodeAt(b+9)};break}h=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}}(vt.API),vt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=bSe(e,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,c=a.palette,u=a.depth;i=c&&l===1?function(C){for(var L=C.width,F=C.height,k=C.data,E=C.palette,$=C.depth,M=!1,B=[],q=[],J=void 0,W=!1,Z=0,D=0;D<E.length;D++){var se=C6(E[D],4),T=se[0],I=se[1],Y=se[2],ie=se[3];B.push(T,I,Y),ie!=null&&(ie===0?(Z++,q.length<1&&q.push(D)):ie<255&&(W=!0))}if(W||Z>1){M=!0,q=void 0;var te=L*F;J=new Uint8Array(te);for(var de=new DataView(k.buffer),ve=0;ve<te;ve++){var oe=F2(de,ve,$),ye=C6(E[oe],4)[3];J[ve]=ye}}else Z===0&&(q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:M?8:void 0,colorBytes:k,alphaBytes:J,needSMask:M,palette:B,mask:q}}(a):l===2||l===4?function(C){for(var L=C.data,F=C.width,k=C.height,E=C.channels,$=C.depth,M=E===2?"DeviceGray":"DeviceRGB",B=E-1,q=F*k,J=B,W=q*J,Z=1*q,D=Math.ceil(W*$/8),se=Math.ceil(Z*$/8),T=new Uint8Array(D),I=new Uint8Array(se),Y=new DataView(L.buffer),ie=new DataView(T.buffer),te=new DataView(I.buffer),de=!1,ve=0;ve<q;ve++){for(var oe=ve*E,ye=0;ye<J;ye++)$C(ie,F2(Y,oe+ye,$),ve*J+ye,$);var ke=F2(Y,oe+J,$);ke<(1<<$)-1&&(de=!0),$C(te,ke,1*ve,$)}return{colorSpace:M,colorsPerPixel:B,sMaskBitsPerComponent:de?$:void 0,colorBytes:T,alphaBytes:I,needSMask:de}}(a):function(C){var L=C.data,F=C.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:L instanceof Uint16Array?function(k){for(var E=k.length,$=new Uint8Array(2*E),M=new DataView($.buffer,$.byteOffset,$.byteLength),B=0;B<E;B++)M.setUint16(2*B,k[B],!1);return $}(L):L,needSMask:!1}}(a);var f,p,h,y=i,g=y.colorSpace,b=y.colorsPerPixel,v=y.sMaskBitsPerComponent,w=y.colorBytes,_=y.alphaBytes,N=y.needSMask,S=y.palette,j=y.mask,P=null;return n!==vt.API.image_compression.NONE&&typeof H_=="function"?(P=function(C){var L;switch(C){case vt.API.image_compression.FAST:L=11;break;case vt.API.image_compression.MEDIUM:L=13;break;case vt.API.image_compression.SLOW:L=14;break;default:L=12}return L}(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(P," /Colors ").concat(b," /BitsPerComponent ").concat(u," /Columns ").concat(s),e=CC(w,Math.ceil(s*b*u/8),b,u,n),N&&(h=CC(_,Math.ceil(s*v/8),1,v,n))):(f=void 0,p=void 0,e=w,N&&(h=_)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:f,decodeParameters:p,transparency:j,palette:S,sMask:h,predictor:P,width:s,height:o,bitsPerComponent:u,sMaskBitsPerComponent:v,colorSpace:g}}},function(e){e.processGIF89A=function(t,r,n,i){var a=new FSe(t),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new U2(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)},e.processGIF87A=e.processGIF89A}(vt.API),es.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},es.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){yr.log("bit decode error:"+r)}},es.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},es.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},es.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},es.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,c=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},es.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},es.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},es.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},es.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new es(t,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new U2(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(vt.API),DC.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new DC(t),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new U2(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(vt.API),vt.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=n[c],f=n[c+1],p=n[c+2],h=n[c+3];a[o++]=u,a[o++]=f,a[o++]=p,s[l++]=h}var y=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},vt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},td=vt.API,D0=td.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,p=0,h=e.length,y=0,g=o[0]||l,b=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(p=f&&ur(c[n])==="object"&&!isNaN(parseInt(c[n][y],10))?c[n][y]/u:0,b.push((o[n]||g)/l+p)),y=n;return b},OC=td.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return td.processArabic&&(e=td.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:D0.apply(this,arguments).reduce(function(a,s){return a+s},0)},EC=function(e,t,r,n){for(var i=[],a=0,s=e.length,o=0;a!==s&&o+t[a]<r;)o+=t[a],a++;i.push(e.slice(0,a));var l=a;for(o=0;a!==s;)o+t[a]>n&&(i.push(e.slice(l,a)),o=0,l=a),o+=t[a],a++;return l!==a&&i.push(e.slice(l,a)),i},PC=function(e,t,r){r||(r={});var n,i,a,s,o,l,c,u=[],f=[u],p=r.textIndent||0,h=0,y=0,g=e.split(" "),b=D0.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var v=Array(l).join(" "),w=[];g.map(function(N){(N=N.split(/\s*\n/)).length>1?w=w.concat(N.map(function(S,j){return(j&&S.length?`
`:"")+S})):w.push(N[0])}),g=w,l=OC.apply(this,[v,r])}for(a=0,s=g.length;a<s;a++){var _=0;if(n=g[a],l&&n[0]==`
`&&(n=n.substr(1),_=1),p+h+(y=(i=D0.apply(this,[n,r])).reduce(function(N,S){return N+S},0))>t||_){if(y>t){for(o=EC.apply(this,[n,i,t-(p+h),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);y=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(N,S){return N+S},0)}else u=[n];f.push(u),p=y+l,h=b}else u.push(n),p+=h+y,h=b}return c=l?function(N,S){return(S?v:"")+N.join(" ")}:function(N){return N.join(" ")},f.map(c)},td.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(PC.apply(this,[n[o],s,a]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=t[a],i[t[a]]=r[a];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var h,y,g,b,v=["{"];for(var w in p){if(h=p[w],isNaN(parseInt(w,10))?y="'"+w+"'":(w=parseInt(w,10),y=(y=s(w).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof h=="number")h<0?(g=s(h).slice(3),b="-"):(g=s(h).slice(2),b=""),g=b+g.slice(0,-1)+i[g.slice(-1)];else{if(ur(h)!=="object")throw new Error("Don't know what to do with value type "+ur(h)+".");g=o(h)}v.push(y+g)}return v.push("}"),v.join("")},l=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,y,g,b,v={},w=1,_=v,N=[],S="",j="",P=p.length-1,C=1;C<P;C+=1)(b=p[C])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(b):b=="{"?(N.push([_,g]),_={},g=void 0):b=="}"?((y=N.pop())[0][y[1]]=_,g=void 0,_=y[0]):b=="-"?w=-1:g===void 0?n.hasOwnProperty(b)?(S+=n[b],g=parseInt(S,16)*w,w=1,S=""):S+=b:n.hasOwnProperty(b)?(j+=n[b],_[g]=parseInt(j,16)*w,w=1,g=void 0,j=""):j+=b;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var h=p.font,y=f.Unicode[h.postScriptName];y&&(h.metadata.Unicode={},h.metadata.Unicode.widths=y.widths,h.metadata.Unicode.kerning=y.kerning);var g=u.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(vt.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(ty(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(vt),vt.API.addSvgAsImage=function(e,t,r,n,i,a,s,o){if(isNaN(t)||isNaN(r))throw yr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw yr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(At.canvg?Promise.resolve(At.canvg):x2(()=>import("./index.es-B5L_sR_e.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),t,r,n,i,s,o)})},vt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},vt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function p(y,g){var b,v=!1;for(b=0;b<y.length;b+=1)y[b]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=o.length;for(f=0;f<h;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(ur(e)==="object"){for(i in e)if(a=e[i],p(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&p(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(c=0;c<a.length;c+=1)if(n=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(n=!1);n===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,g=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?g.push("/"+y+" /"+r[y].value):g.push("/"+y+" "+r[y].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(vt.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,p=a.length;f<p;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(a){var s,o,l,c,u,f,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(a).sort(function(h,y){return h-y})).length;f<p;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",y=0;y<p.length;y++)h+=String.fromCharCode(p[y]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var b=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+sd(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+sd(o.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+sd(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var y=c();u({data:p,addLength1:!0,objectId:y}),l("endobj");var g=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var b=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+sd(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+sd(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,u=a.options||{},f=a.mutex||{},p=f.pdfEscape,h=f.activeFontKey,y=f.fonts,g=h,b="",v=0,w="",_=y[g].encoding;if(y[g].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(w=o,g=h,Array.isArray(o)&&(w=o[0]),v=0;v<w.length;v+=1)y[g].metadata.hasOwnProperty("cmap")&&(s=y[g].metadata.cmap.unicode.codeMap[w[v].charCodeAt(0)]),s||w[v].charCodeAt(0)<256&&y[g].metadata.hasOwnProperty("Unicode")?b+=w[v]:b+="";var N="";return parseInt(g.slice(1))<14||_==="WinAnsiEncoding"?N=p(b,g).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(N=r(b,y[g])),f.isHex=!0,{text:N,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(vt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(vt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,s,o,l,c,u,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,_=0;this.__bidiEngine__={};var N=function(k){var E=k.charCodeAt(),$=E>>8,M=g[$];return M!==void 0?f[256*M+(255&E)]:$===252||$===253?"AL":v.test($)?"L":$===8?"R":"N"},S=function(k){for(var E,$=0;$<k.length;$++){if((E=N(k.charAt($)))==="L")return!1;if(E==="R")return!0}return!1},j=function(k,E,$,M){var B,q,J,W,Z=E[M];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(Z="AN");break;case"AL":w=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":M<1||M+1>=E.length||(B=$[M-1])!=="EN"&&B!=="AN"||(q=E[M+1])!=="EN"&&q!=="AN"?Z="N":w&&(q="AN"),Z=q===B?q:"N";break;case"ES":Z=(B=M>0?$[M-1]:"B")==="EN"&&M+1<E.length&&E[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&$[M-1]==="EN"){Z="EN";break}if(w){Z="N";break}for(J=M+1,W=E.length;J<W&&E[J]==="ET";)J++;Z=J<W&&E[J]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(W=E.length,J=M+1;J<W&&E[J]==="NSM";)J++;if(J<W){var D=k[M],se=D>=1425&&D<=2303||D===64286;if(B=E[J],se&&(B==="R"||B==="AL")){Z="R";break}}}Z=M<1||(B=E[M-1])==="B"?"N":$[M-1];break;case"B":w=!1,i=!0,Z=_;break;case"S":a=!0,Z="N"}return Z},P=function(k,E,$){var M=k.split("");return $&&C(M,$,{hiLevel:_}),M.reverse(),E&&E.reverse(),M.join("")},C=function(k,E,$){var M,B,q,J,W,Z=-1,D=k.length,se=0,T=[],I=_?h:p,Y=[];for(w=!1,i=!1,a=!1,B=0;B<D;B++)Y[B]=N(k[B]);for(q=0;q<D;q++){if(W=se,T[q]=j(k,Y,T,q),M=240&(se=I[W][y[T[q]]]),se&=15,E[q]=J=I[se][5],M>0)if(M===16){for(B=Z;B<q;B++)E[B]=1;Z=-1}else Z=-1;if(I[se][6])Z===-1&&(Z=q);else if(Z>-1){for(B=Z;B<q;B++)E[B]=J;Z=-1}Y[q]==="B"&&(E[q]=0),$.hiLevel|=J}a&&function(ie,te,de){for(var ve=0;ve<de;ve++)if(ie[ve]==="S"){te[ve]=_;for(var oe=ve-1;oe>=0&&ie[oe]==="WS";oe--)te[oe]=_}}(Y,E,D)},L=function(k,E,$,M,B){if(!(B.hiLevel<k)){if(k===1&&_===1&&!i)return E.reverse(),void($&&$.reverse());for(var q,J,W,Z,D=E.length,se=0;se<D;){if(M[se]>=k){for(W=se+1;W<D&&M[W]>=k;)W++;for(Z=se,J=W-1;Z<J;Z++,J--)q=E[Z],E[Z]=E[J],E[J]=q,$&&(q=$[Z],$[Z]=$[J],$[J]=q);se=W}se++}}},F=function(k,E,$){var M=k.split(""),B={hiLevel:_};return $||($=[]),C(M,$,B),function(q,J,W){if(W.hiLevel!==0&&u)for(var Z,D=0;D<q.length;D++)J[D]===1&&(Z=b.indexOf(q[D]))>=0&&(q[D]=b[Z+1])}(M,$,B),L(2,M,E,$,B),L(1,M,E,$,B),M.join("")};return this.__bidiEngine__.doBidiReorder=function(k,E,$){if(function(B,q){if(q)for(var J=0;J<B.length;J++)q[J]=J;o===void 0&&(o=S(B)),c===void 0&&(c=S(B))}(k,E),s||!l||c)if(s&&l&&o^c)_=o?1:0,k=P(k,E,$);else if(!s&&l&&c)_=o?1:0,k=F(k,E,$),k=P(k,E);else if(!s||o||l||c){if(s&&!l&&o^c)k=P(k,E),o?(_=0,k=F(k,E,$)):(_=1,k=F(k,E,$),k=P(k,E));else if(s&&o&&!l&&c)_=1,k=F(k,E,$),k=P(k,E);else if(!s&&!l&&o^c){var M=u;o?(_=1,k=F(k,E,$),_=0,u=!1,k=F(k,E,$),u=M):(_=0,k=F(k,E,$),k=P(k,E),_=1,u=!1,k=F(k,E,$),u=M,k=P(k,E))}}else _=0,k=F(k,E,$);else _=o?1:0,k=F(k,E,$);return k},this.__bidiEngine__.setOptions=function(k){k&&(s=k.isInputVisual,l=k.isOutputVisual,o=k.isInputRtl,c=k.isOutputRtl,u=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(vt),vt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new zl(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new tje(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new USe(this.contents),this.head=new qSe(this),this.name=new KSe(this),this.cmap=new BD(this),this.toUnicode={},this.hhea=new WSe(this),this.maxp=new YSe(this),this.hmtx=new XSe(this),this.post=new VSe(this),this.os2=new HSe(this),this.loca=new eje(this),this.glyf=new JSe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,s,o;for(s=0,a=0,o=(t=""+t).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ys,zl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),USe=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,s,o,l,c,u,f,p,h,y,g;for(g in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),u=16*h-f,(i=new zl).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(s),i.writeShort(u),a=16*h,c=i.pos+a,o=null,y=[],r)for(p=r[g],i.writeString(g),i.writeInt(e(p)),i.writeInt(c),i.writeInt(p.length),y=y.concat(p),g==="head"&&(o=c),c+=p.length;c%4;)y.push(0),c++;return i.write(y),n=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,s;for(r=FD.call(r);r.length%4;)r.push(0);for(a=new zl(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),zSe={}.hasOwnProperty,Ks=function(e,t){for(var r in t)zSe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ys=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var qSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,ys),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new zl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),BC=function(){function e(t,r){var n,i,a,s,o,l,c,u,f,p,h,y,g,b,v,w,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(h=t.readUInt16(),p=h/2,t.pos+=6,a=function(){var N,S;for(S=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)S.push(t.readUInt16());return S}(),t.pos+=2,g=function(){var N,S;for(S=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)S.push(t.readUInt16());return S}(),c=function(){var N,S;for(S=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)S.push(t.readUInt16());return S}(),u=function(){var N,S;for(S=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)S.push(t.readUInt16());return S}(),i=(this.length-t.pos+this.offset)/2,o=function(){var N,S;for(S=[],l=N=0;0<=i?N<i:N>i;l=0<=i?++N:--N)S.push(t.readUInt16());return S}(),l=v=0,_=a.length;v<_;l=++v)for(b=a[l],n=w=y=g[l];y<=b?w<=b:w>=b;n=y<=b?++w:--w)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-y)-(p-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,i,a,s,o,l,c,u,f,p,h,y,g,b,v,w,_,N,S,j,P,C,L,F,k,E,$,M,B,q,J,W,Z,D,se,T,I,Y,ie,te,de,ve,oe,ye,ke,ee;switch(M=new zl,s=Object.keys(t).sort(function(he,ue){return he-ue}),r){case"macroman":for(g=0,b=function(){var he=[];for(y=0;y<256;++y)he.push(0);return he}(),w={0:0},a={},B=0,Z=s.length;B<Z;B++)w[oe=t[i=s[B]]]==null&&(w[oe]=++g),a[i]={old:t[i],new:w[t[i]]},b[i]=w[t[i]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(b),{charMap:a,subtable:M.data,maxGlyphID:g+1};case"unicode":for(E=[],f=[],_=0,w={},n={},v=c=null,q=0,D=s.length;q<D;q++)w[S=t[i=s[q]]]==null&&(w[S]=++_),n[i]={old:S,new:w[S]},o=w[S]-i,v!=null&&o===c||(v&&f.push(v),E.push(i),c=o),v=i;for(v&&f.push(v),f.push(65535),E.push(65535),F=2*(L=E.length),C=2*Math.pow(Math.log(L)/Math.LN2,2),p=Math.log(C/2)/Math.LN2,P=2*L-C,l=[],j=[],h=[],y=J=0,se=E.length;J<se;y=++J){if(k=E[y],u=f[y],k===65535){l.push(0),j.push(0);break}if(k-($=n[k].new)>=32768)for(l.push(0),j.push(2*(h.length+L-y)),i=W=k;k<=u?W<=u:W>=u;i=k<=u?++W:--W)h.push(n[i].new);else l.push($-k),j.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*L+2*h.length),M.writeUInt16(0),M.writeUInt16(F),M.writeUInt16(C),M.writeUInt16(p),M.writeUInt16(P),de=0,T=f.length;de<T;de++)i=f[de],M.writeUInt16(i);for(M.writeUInt16(0),ve=0,I=E.length;ve<I;ve++)i=E[ve],M.writeUInt16(i);for(ye=0,Y=l.length;ye<Y;ye++)o=l[ye],M.writeUInt16(o);for(ke=0,ie=j.length;ke<ie;ke++)N=j[ke],M.writeUInt16(N);for(ee=0,te=h.length;ee<te;ee++)g=h[ee],M.writeUInt16(g);return{charMap:n,subtable:M.data,maxGlyphID:_+1}}},e}(),BD=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,ys),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new BC(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=BC.encode(t,r),(i=new zl).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),WSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,ys),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),HSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,ys),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),VSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,ys),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(t.readUInt32());return l}).call(this)}},e}(),GSe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},KSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,ys),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,a,s,o,l,c,u,f,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(l={},a=u=0,f=n.length;u<f;a=++u)i=n[a],t.pos=i.offset,c=t.readString(i.length),s=new GSe(c,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),YSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,ys),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),XSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,ys),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,a,s,o,l;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)u.push(t.readInt16());return u}(),this.widths=(function(){var c,u,f,p;for(p=[],c=0,u=(f=this.metrics).length;c<u;c++)a=f[c],p.push(a.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)l.push(this.widths.push(n));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),FD=[].slice,JSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,ys),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,a,s,o,l,c,u,f;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,s=(o=new zl(r.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[t]=s===-1?new QSe(o,c,f,l,u):new ZSe(o,s,c,f,l,u),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,a,s,o,l;for(s=[],a=[],o=0,l=r.length;o<l;o++)i=t[r[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},e}(),ZSe=function(){function e(t,r,n,i,a,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),QSe=function(){function e(t,r,n,i,a){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new zl(FD.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),eje=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ks(e,ys),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},e}(),tje=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,s,o,l;for(i={},s=0,o=t.length;s<o;s++)i[a=t[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,s,o,l,c,u,f,p,h,y,g,b,v;for(i in n=BD.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),h={0:0},v=n.charMap)h[(l=v[i]).old]=l.new;for(y in p=n.maxGlyphID,s)y in h||(h[y]=p++);return u=function(w){var _,N;for(_ in N={},w)N[w[_]]=_;return N}(h),f=Object.keys(u).sort(function(w,_){return w-_}),g=function(){var w,_,N;for(N=[],w=0,_=f.length;w<_;w++)o=f[w],N.push(u[o]);return N}(),a=this.font.glyf.encode(s,g,h),c=this.font.loca.encode(a.offsets,g),b={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e}();vt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+r},t}();function rje(e){const t=new vt;let r=20;const n=t.internal.pageSize.getWidth(),i=20,a=n-2*i,s=(l,c,u=!1,f="#000000")=>{t.setFontSize(c),t.setTextColor(f),u?t.setFont("helvetica","bold"):t.setFont("helvetica","normal"),t.splitTextToSize(l,a).forEach(h=>{r>t.internal.pageSize.getHeight()-30&&(t.addPage(),r=20),t.text(h,i,r),r+=c*.5}),r+=5};s("Simulation Debrief Report",18,!0),r+=5,s(`Case: ${e.caseTitle}`,12,!0),s(`Patient: ${e.patientName}`,10),r+=5,s("Performance Summary",14,!0,"#3b82f6"),r+=3,s(`Overall Score: ${e.score.overall}%`,12,!0),s(`Diagnosis Accuracy: ${e.score.accuracy}%`,10),s(`MCQ Score: ${e.score.mcqScore}%`,10),s(`Time Taken: ${e.timeTaken} minutes`,10),s(`Current Streak: ${e.currentStreak} days`,10),r+=5,e.score.sloResults&&e.score.sloResults.length>0&&(s("Learning Outcomes",14,!0,"#3b82f6"),r+=3,e.score.sloResults.forEach(l=>{const c=l.status==="Achieved"?"":"";s(`${c} ${l.sloId}: ${l.percent}%`,10),l.sloText&&s(`   ${l.sloText}`,9)}),r+=5),s("Diagnosis Review",14,!0,"#3b82f6"),r+=3,s(`Your Diagnosis: ${e.diagnosis.student}`,10),s(`Correct Diagnosis: ${e.diagnosis.correct}`,10,!0),e.diagnosis.potential&&e.diagnosis.potential.length>0&&(s("Other Potential Diagnoses:",10,!0),e.diagnosis.potential.forEach(l=>{s(`   ${l.dx}`,9)})),r+=5,e.stepwiseReasoning&&(s("Stepwise Reasoning",14,!0,"#3b82f6"),r+=3,s(e.stepwiseReasoning,9),r+=5),e.mcqResults&&e.mcqResults.length>0&&(s("MCQ Results",14,!0,"#3b82f6"),r+=3,e.mcqResults.forEach((l,c)=>{s(`${c+1}. ${l.question}`,10,!0),l.options.forEach((u,f)=>{let p="  ";f===l.correctIndex&&(p=" "),f===l.selectedIndex&&!l.correct&&(p=" "),s(`${p}${u}`,9)}),l.explanation&&s(`Explanation: ${l.explanation}`,9),r+=3}),r+=5),e.rubricResults&&e.rubricResults.length>0&&(s("Rubric Assessment",14,!0,"#3b82f6"),r+=3,e.rubricResults.forEach((l,c)=>{s(`${c+1}. ${l.criterion}`,10,!0),s(`   Points: ${l.pointsEarned} / ${l.maxPoints}`,9),l.percentage!==void 0&&s(`   Score: ${l.percentage}%`,9),l.feedback&&s(`   Feedback: ${l.feedback}`,9),r+=3}),r+=5),e.learningPearls&&e.learningPearls.length>0&&(s("Learning Pearls",14,!0,"#3b82f6"),r+=3,e.learningPearls.forEach(l=>{s(` ${l}`,9)}),r+=5),e.furtherReading&&e.furtherReading.length>0&&(s("Further Reading",14,!0,"#3b82f6"),r+=3,e.furtherReading.forEach(l=>{s(` ${l.title}`,9),l.url&&s(`  ${l.url}`,8)}));const o=t.getNumberOfPages();for(let l=1;l<=o;l++)t.setPage(l),t.setFontSize(8),t.setTextColor("#666666"),t.text(`Page ${l} of ${o} | Generated on ${new Date().toLocaleDateString()}`,i,t.internal.pageSize.getHeight()-10);return t}function nje({user:e}){var ee,he,ue,X,Me,ze,He,Ne,Ue,Be,Qe,Je,Mt;const{runId:t}=zm(),r=Ua(),n=Hs(),[i,a]=G.useState(null),[s,o]=G.useState(!0),[l,c]=G.useState(null),[u,f]=G.useState("feedback"),[p,h]=G.useState(0),[y,g]=G.useState({}),[b,v]=G.useState(!1),[w,_]=G.useState([]),[N,S]=G.useState(new Map);G.useEffect(()=>{t&&(C(),P(),j())},[t]);const j=async()=>{try{const{data:be}=await Ie.from("competencies").select("*");be&&_(be);const{data:le}=await Ie.from("slo").select("*").not("competency_id","is",null);if(le){const xe=new Map;le.forEach(ge=>{xe.set(ge.id,ge)}),S(xe)}}catch(be){console.error("Error loading competency data:",be)}};G.useEffect(()=>{if(i&&i.transcript){const le=i.transcript.postCaseMCQAnswers||{};g(le),v(Object.keys(le).length>0)}},[i]);const P=async()=>{try{const{data:be}=await Ie.from("simulation_runs").select("submitted_at, created_at").eq("student_id",e.id).not("submitted_at","is",null).order("submitted_at",{ascending:!1});if(!be||be.length===0){h(0);return}let le=0;const xe=new Date;xe.setHours(0,0,0,0);let ge=new Date(xe);for(const Ae of be){const Oe=new Date(Ae.submitted_at||Ae.created_at);if(Oe.setHours(0,0,0,0),Oe.getTime()===ge.getTime())le++,ge.setDate(ge.getDate()-1);else if(Oe.getTime()<ge.getTime())break}h(le)}catch(be){console.error("Error calculating streak:",be),h(0)}},C=async()=>{try{const{data:be,error:le}=await Ie.from("simulation_runs").select("*").eq("id",t).single();if(le)throw le;if(a(be),be){const xe=be.transcript,ge=(xe==null?void 0:xe.postCaseMCQAnswers)||{};g(ge),v(Object.keys(ge).length>0)}if(be.assignment_id){const{data:xe}=await Ie.from("assignments").select("snapshot_id").eq("id",be.assignment_id).single();if(xe){const{data:ge}=await Ie.from("case_snapshots").select("*").eq("id",xe.snapshot_id).single();c(ge)}}}catch(be){console.error("Error loading debrief:",be)}finally{o(!1)}};if(s)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});if(!i||!i.score)return d.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:d.jsx("p",{children:"Debrief data not available yet."})});const L=i.score,F=L.overall||0,k=L.sloResults||[],E=L.managementResults||null,$=L.osceFeedback||null,M=i.transcript,q=(((ee=l==null?void 0:l.clinical_case)==null?void 0:ee.mcqs)||[]).slice(-3).slice(0,3),J=(M==null?void 0:M.postCaseMCQAnswers)||{},W=q.length>0&&q.some(be=>J[`post-case-${be.id}`]!==void 0),Z=L.postCaseMCQs||[],D=L.correctDiagnosis||((X=(ue=(he=l==null?void 0:l.clinical_case)==null?void 0:he.potentialDiagnoses)==null?void 0:ue[0])==null?void 0:X.dx)||"",se=L.studentDiagnosis||(M==null?void 0:M.diagnosis)||"",T=L.diagnosisCorrect||!1,I=L.diagnosisScore||0,ie=(()=>{if(!i.started_at||!i.submitted_at)return"N/A";const be=new Date(i.started_at),le=new Date(i.submitted_at),xe=Math.floor((le.getTime()-be.getTime())/6e4),ge=Math.floor((le.getTime()-be.getTime())%6e4/1e3);return`${xe}m ${ge}s`})(),te=L.stepwiseReasoning||L.aiComments||"Stepwise reasoning not available.",de=((Me=l==null?void 0:l.clinical_case)==null?void 0:Me.learningPearls)||[],ve=((ze=l==null?void 0:l.clinical_case)==null?void 0:ze.furtherReading)||[],oe=be=>be>=80?"text-green-600":be>=60?"text-yellow-600":"text-red-600",ye=be=>be>=80?"bg-green-100 text-green-800 border-green-200":be>=60?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200",ke=()=>{var Re,et,gt,Ke,tt;if(!i||!l)return;const be=((Re=l.clinical_case)==null?void 0:Re.title)||"Untitled Case",le=((gt=(et=l.clinical_case)==null?void 0:et.patientProfile)==null?void 0:gt.name)||"Patient";let xe=0;if(i.started_at&&i.submitted_at){const rt=new Date(i.started_at),Ye=new Date(i.submitted_at);xe=Math.floor((Ye.getTime()-rt.getTime())/6e4)}const ge=(Z||[]).map((rt,Ye)=>{const ft=q.find(hr=>hr.question===rt.question),nt=(ft==null?void 0:ft.answerIndex)??-1,er=y[`post-case-${ft==null?void 0:ft.id}`]??-1;return{question:rt.question||`Question ${Ye+1}`,options:rt.options||(ft==null?void 0:ft.options)||[],selectedIndex:er,correctIndex:nt,correct:er===nt,explanation:rt.explanation}}),Ae={caseTitle:be,patientName:le,score:{overall:F,accuracy:I,mcqScore:ge.length>0?Math.round(ge.filter(rt=>rt.correct).length/ge.length*100):0,sloResults:k.map(rt=>({sloId:rt.sloId||"Unknown",sloText:rt.sloText,status:rt.status||"Not Achieved",percent:rt.percent||0}))},timeTaken:xe,currentStreak:p,stepwiseReasoning:te,diagnosis:{student:se,correct:D,potential:((Ke=l.clinical_case)==null?void 0:Ke.potentialDiagnoses)||[]},mcqResults:ge,rubricResults:((tt=i.score)==null?void 0:tt.rubricResults)||[],learningPearls:de,furtherReading:ve};rje(Ae).save(`debrief-${be.replace(/[^a-z0-9]/gi,"-").toLowerCase()}-${new Date().toISOString().split("T")[0]}.pdf`)};return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Simulation Debrief"}),((He=l==null?void 0:l.clinical_case)==null?void 0:He.title)&&d.jsx("p",{className:"text-gray-600",children:l.clinical_case.title})]}),d.jsxs("button",{onClick:()=>r("/results"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900",children:[d.jsx(Xd,{className:"w-4 h-4"}),"Back to Results"]})]}),d.jsx("div",{className:`mb-6 p-4 rounded-lg border-2 ${T?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[T?d.jsx(Nn,{className:"w-6 h-6 text-green-600"}):d.jsx(Ai,{className:"w-6 h-6 text-red-600"}),d.jsxs("div",{children:[d.jsxs("div",{className:`font-semibold ${T?"text-green-800":"text-red-800"}`,children:["Diagnosis ",T?"Correct":"Incorrect"]}),!T&&d.jsxs("div",{className:"text-sm text-red-700 mt-1",children:["The correct diagnosis was: ",D]})]})]})}),d.jsx(s5e,{accuracy:I,timeTaken:ie,currentStreak:p}),d.jsx(a5e,{activeTab:u,onTabChange:f}),d.jsxs("div",{className:"mt-6",children:[u==="feedback"&&d.jsxs("div",{children:[$&&d.jsx(d5e,{osceFeedback:$}),$&&$.missedItems&&$.missedItems.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"2) Missed-item checklist"}),d.jsx("div",{className:"space-y-2",children:$.missedItems.map((be,le)=>d.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[d.jsx(Ai,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-sm text-gray-900 flex-1",children:be.text})]},le))})]}),d.jsx(o5e,{reasoning:te}),d.jsx(c5e,{pearls:de}),d.jsx(u5e,{references:ve}),L.aiComments&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ra,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"AI-Generated Feedback"})]}),d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsx("div",{className:"text-gray-700",children:d.jsx(pi,{content:L.aiComments})})})]}),F<80&&d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(g1,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Areas for Improvement"}),d.jsxs("ul",{className:"list-disc list-inside text-yellow-800 space-y-1",children:[k.filter(be=>be.status!=="Achieved").slice(0,3).map((be,le)=>d.jsxs("li",{children:["Focus on improving ",be.sloId||`SLO ${le+1}`," (currently"," ",be.percent.toFixed(0),"%)"]},le)),d.jsx("li",{children:"Review the case materials and practice similar scenarios"}),d.jsx("li",{children:"Consider retaking this simulation to improve your score"})]})]})]})})]}),u==="review"&&d.jsxs("div",{children:[d.jsxs("div",{className:`bg-white rounded-lg shadow p-6 mb-6 border-2 ${ye(F)}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Overall Performance"}),d.jsx($f,{className:`w-6 h-6 ${oe(F)}`})]}),d.jsx("div",{className:"flex items-center justify-center mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:`text-6xl font-bold ${oe(F)}`,children:[F.toFixed(0),"%"]}),d.jsx("div",{className:"text-gray-600 mt-2",children:"Overall Score"})]})}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:k.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"SLOs Assessed"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:k.filter(be=>be.status==="Achieved").length}),d.jsx("div",{className:"text-sm text-gray-600",children:"SLOs Achieved"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:ie}),d.jsx("div",{className:"text-sm text-gray-600",children:"Time Taken"})]})]})]}),((Ne=l==null?void 0:l.clinical_case)==null?void 0:Ne.potentialDiagnoses)&&d.jsx(l5e,{potentialDiagnoses:l.clinical_case.potentialDiagnoses,studentDiagnosis:se,correctDiagnosis:D}),k.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(La,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"SLO (Specific Learning Outcomes) Breakdown"})]}),d.jsx("div",{className:"space-y-4",children:k.map((be,le)=>d.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"flex-1",children:be.sloText?d.jsx("p",{className:"text-sm text-gray-900 mt-1",children:d.jsx(pi,{content:be.sloText})}):d.jsx("span",{className:"font-medium text-gray-900",children:be.sloId||`SLO ${le+1}`})}),d.jsxs("div",{className:"flex items-center gap-2",children:[be.status==="Achieved"?d.jsx(Nn,{className:"w-5 h-5 text-green-600"}):d.jsx(Ai,{className:"w-5 h-5 text-red-600"}),d.jsxs("span",{className:`font-semibold ${oe(be.percent)}`,children:[be.percent.toFixed(0),"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:`h-3 rounded-full transition-all ${be.percent>=70?"bg-green-600":be.percent>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(be.percent,100)}%`}})}),be.feedback&&d.jsxs("p",{className:"text-sm text-gray-600 mt-2 italic",children:['"',be.feedback,'"']})]},le))})]}),E&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx($y,{className:"w-5 h-5 text-green-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Management Plan Assessment"})]}),d.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Overall Management Score"}),d.jsxs("div",{className:`text-3xl font-bold ${oe(E.overallScore)}`,children:[E.overallScore,"%"]})]}),d.jsxs("div",{className:"text-right space-y-2",children:[d.jsxs("div",{className:"text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Immediate Actions: "}),d.jsxs("span",{className:`font-semibold ${oe(E.immediateScore)}`,children:[E.immediateScore,"%"]})]}),d.jsxs("div",{className:"text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Investigations: "}),d.jsxs("span",{className:`font-semibold ${oe(E.investigationScore)}`,children:[E.investigationScore,"%"]})]}),d.jsxs("div",{className:"text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Definitive: "}),d.jsxs("span",{className:`font-semibold ${oe(E.definitiveScore)}`,children:[E.definitiveScore,"%"]})]})]})]})}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(oj,{className:"w-4 h-4 text-red-600"}),d.jsx("h3",{className:"font-semibold text-gray-900",children:"Section A - Immediate Actions"}),d.jsxs("span",{className:`ml-auto text-sm font-semibold ${oe(E.immediateScore)}`,children:[E.immediateScore,"%"]})]}),d.jsx("div",{className:"space-y-2",children:(Ue=E.selectedImmediate)==null?void 0:Ue.map((be,le)=>d.jsx("div",{className:`p-3 rounded-lg border-2 ${be.isCorrect?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[be.isCorrect?d.jsx(Nn,{className:"w-4 h-4 text-green-600 flex-shrink-0"}):d.jsx(Ai,{className:"w-4 h-4 text-red-600 flex-shrink-0"}),d.jsx("span",{className:"text-sm text-gray-900",children:be.text})]})},le))})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(g8,{className:"w-4 h-4 text-blue-600"}),d.jsx("h3",{className:"font-semibold text-gray-900",children:"Section B - Investigations"}),d.jsxs("span",{className:`ml-auto text-sm font-semibold ${oe(E.investigationScore)}`,children:[E.investigationScore,"%"]})]}),d.jsx("div",{className:"space-y-2",children:(Be=E.selectedInvestigations)==null?void 0:Be.map((be,le)=>d.jsx("div",{className:`p-3 rounded-lg border-2 ${be.isCorrect?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[be.isCorrect?d.jsx(Nn,{className:"w-4 h-4 text-green-600 flex-shrink-0"}):d.jsx(Ai,{className:"w-4 h-4 text-red-600 flex-shrink-0"}),d.jsx("span",{className:"text-sm text-gray-900",children:be.text})]})},le))})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx($y,{className:"w-4 h-4 text-green-600"}),d.jsx("h3",{className:"font-semibold text-gray-900",children:"Section C - Definitive Management"}),d.jsxs("span",{className:`ml-auto text-sm font-semibold ${oe(E.definitiveScore)}`,children:[E.definitiveScore,"%"]})]}),d.jsx("div",{className:`p-3 rounded-lg border-2 ${(Qe=E.selectedDefinitive)!=null&&Qe.isCorrect?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[(Je=E.selectedDefinitive)!=null&&Je.isCorrect?d.jsx(Nn,{className:"w-4 h-4 text-green-600 flex-shrink-0"}):d.jsx(Ai,{className:"w-4 h-4 text-red-600 flex-shrink-0"}),d.jsx("span",{className:"text-sm text-gray-900",children:(Mt=E.selectedDefinitive)==null?void 0:Mt.text})]})})]}),E.reasoningAnalysis&&d.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(Ra,{className:"w-4 h-4 text-blue-600"}),d.jsx("h3",{className:"font-semibold text-gray-900",children:"AI Clinical Reasoning Analysis"}),d.jsxs("span",{className:`ml-auto text-sm font-semibold ${oe(E.reasoningAnalysis.score||0)}`,children:[E.reasoningAnalysis.score||0,"/100"]})]}),E.reasoningAnalysis.feedback&&d.jsx("div",{className:"text-sm text-gray-700 mb-3",children:d.jsx(pi,{content:E.reasoningAnalysis.feedback})}),E.reasoningAnalysis.strengths&&E.reasoningAnalysis.strengths.length>0&&d.jsxs("div",{className:"mb-3",children:[d.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Strengths:"}),d.jsx("ul",{className:"list-disc list-inside text-sm text-gray-700 space-y-1",children:E.reasoningAnalysis.strengths.map((be,le)=>d.jsx("li",{children:be},le))})]}),E.reasoningAnalysis.improvements&&E.reasoningAnalysis.improvements.length>0&&d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-orange-800 mb-1",children:"Areas for Improvement:"}),d.jsx("ul",{className:"list-disc list-inside text-sm text-gray-700 space-y-1",children:E.reasoningAnalysis.improvements.map((be,le)=>d.jsx("li",{children:be},le))})]})]}),E.freeText&&d.jsxs("div",{className:"mb-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[d.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Your Clinical Reasoning:"}),d.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:E.freeText})]}),E.otherText&&d.jsxs("div",{className:"mb-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[d.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Alternative Management Plan:"}),d.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:E.otherText})]})]}),k.length>0&&w.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(La,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"CBDC Assessment"})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Your performance across CBDC competencies and their associated learning outcomes."}),(()=>{const be=new Map;k.forEach(ge=>{const Ae=N.get(ge.sloId);if(Ae&&Ae.competency_id){const Oe=w.find(Re=>Re.id===Ae.competency_id);Oe&&(be.has(Oe.id)||be.set(Oe.id,{competency:Oe,slos:[],averageScore:0}),be.get(Oe.id).slos.push({...ge,sloText:Ae.text,millerLevel:Ae.miller_level,bloomDomain:Ae.bloom_domain}))}}),be.forEach(ge=>{if(ge.slos.length>0){const Ae=ge.slos.reduce((Oe,Re)=>Oe+Re.percent,0);ge.averageScore=Math.round(Ae/ge.slos.length)}});const le=Array.from(be.values()).sort((ge,Ae)=>Ae.averageScore-ge.averageScore),xe=k.filter(ge=>{const Ae=N.get(ge.sloId);return!Ae||!Ae.competency_id});return d.jsxs("div",{className:"space-y-6",children:[le.map((ge,Ae)=>d.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:ge.competency.description}),d.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[d.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:ge.competency.domain}),ge.competency.level&&d.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded",children:ge.competency.level}),d.jsxs("span",{className:"text-xs text-gray-600",children:[ge.slos.length," SLO",ge.slos.length!==1?"s":""]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:`text-2xl font-bold ${oe(ge.averageScore)}`,children:[ge.averageScore,"%"]}),d.jsx("div",{className:"text-xs text-gray-600",children:"Average"})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:d.jsx("div",{className:`h-3 rounded-full transition-all ${ge.averageScore>=70?"bg-green-600":ge.averageScore>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(ge.averageScore,100)}%`}})}),d.jsx("div",{className:"space-y-3 mt-4",children:ge.slos.map((Oe,Re)=>d.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"font-medium text-gray-900 text-sm",children:d.jsx(pi,{content:Oe.sloText||Oe.sloId})}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[Oe.millerLevel&&d.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-100 text-green-800 rounded",children:Oe.millerLevel}),Oe.bloomDomain&&d.jsx("span",{className:"text-xs px-2 py-0.5 bg-orange-100 text-orange-800 rounded",children:Oe.bloomDomain})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[Oe.status==="Achieved"?d.jsx(Nn,{className:"w-4 h-4 text-green-600"}):d.jsx(Ai,{className:"w-4 h-4 text-red-600"}),d.jsxs("span",{className:`text-sm font-semibold ${oe(Oe.percent)}`,children:[Oe.percent,"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${Oe.percent>=70?"bg-green-600":Oe.percent>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(Oe.percent,100)}%`}})}),Oe.feedback&&d.jsxs("p",{className:"text-xs text-gray-600 mt-2 italic",children:['"',Oe.feedback,'"']})]},Re))})]},Ae)),xe.length>0&&d.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[d.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Unassigned Learning Outcomes"}),d.jsx("div",{className:"space-y-3",children:xe.map((ge,Ae)=>{const Oe=N.get(ge.sloId),Re=(Oe==null?void 0:Oe.text)||ge.sloText||ge.sloId;return d.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:"flex-1",children:d.jsx("span",{className:"font-medium text-gray-900 text-sm",children:d.jsx(pi,{content:Re})})}),d.jsxs("div",{className:"flex items-center gap-2",children:[ge.status==="Achieved"?d.jsx(Nn,{className:"w-4 h-4 text-green-600"}):d.jsx(Ai,{className:"w-4 h-4 text-red-600"}),d.jsxs("span",{className:`text-sm font-semibold ${oe(ge.percent)}`,children:[ge.percent,"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${ge.percent>=70?"bg-green-600":ge.percent>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(ge.percent,100)}%`}})})]},Ae)})})]})]})})()]})]}),u==="questions"&&d.jsx("div",{children:q.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Da,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"POST-CASE QUESTIONS"})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:b?"Review your answers and results below.":"Answer these questions based on the case you just completed."}),d.jsx("div",{className:"space-y-4",children:q.map((be,le)=>{var gt;const xe=`post-case-${be.id}`,ge=y[xe],Ae=be.answerIndex,Oe=be.options[Ae],Re=b||W,et=Z.find(Ke=>Ke.question===be.question);return d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsx("div",{className:"flex items-start justify-between mb-3",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("p",{className:"font-medium text-gray-900 mb-2",children:[le+1,". ",be.question]}),d.jsx("div",{className:"space-y-2 mt-3",children:(gt=be.options)==null?void 0:gt.map((Ke,tt)=>{const rt=ge===tt,Ye=tt===Ae;return d.jsx("button",{onClick:()=>{Re||g({...y,[xe]:tt})},disabled:Re,className:`w-full text-left p-3 rounded-lg border-2 transition-all ${Re?Ye?"bg-green-50 border-green-200":rt&&!Ye?"bg-red-50 border-red-200":"bg-white border-gray-200":rt?"bg-primary-50 border-primary-300":"bg-white border-gray-200 hover:border-primary-300 hover:bg-gray-50"} ${Re?"cursor-default":"cursor-pointer"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:Ke}),Re&&Ye&&d.jsx(Nn,{className:"w-5 h-5 text-green-600"}),Re&&rt&&!Ye&&d.jsx(Ai,{className:"w-5 h-5 text-red-600"}),!Re&&rt&&d.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-primary-600 bg-primary-100"})]})},tt)})})]})}),Re&&((et==null?void 0:et.explanation)||be.explanation)&&d.jsxs("div",{className:"mt-3 pt-3 border-t",children:[d.jsx("div",{className:"font-medium text-gray-700 mb-1",children:"EXPLANATION"}),d.jsx("p",{className:"text-sm text-gray-600",children:(et==null?void 0:et.explanation)||`The correct answer is ${Oe}. ${be.explanation||""}`})]})]},le)})}),!b&&!W&&d.jsx("div",{className:"mt-6 pt-4 border-t",children:d.jsx("button",{onClick:async()=>{if(!q.every(le=>y[`post-case-${le.id}`]!==void 0)){n.warning("Please answer all questions before submitting.");return}if(t){const le={...M,postCaseMCQAnswers:y},{error:xe}=await Ie.from("simulation_runs").update({transcript:le}).eq("id",t);if(xe){n.error("Error saving answers: "+xe.message);return}try{const{error:ge}=await Ie.functions.invoke("score_simulation",{body:{runId:t}});ge?console.error("Error re-scoring:",ge):(await C(),v(!0))}catch(ge){console.error("Error calling score function:",ge)}}},disabled:q.some(be=>y[`post-case-${be.id}`]===void 0),className:"w-full px-4 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-all",children:"Submit Answers"})}),(b||W)&&d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-gray-600",children:["Score: ",q.filter(be=>y[`post-case-${be.id}`]===be.answerIndex).length," / ",q.length]}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[q.length>0?(q.filter(be=>y[`post-case-${be.id}`]===be.answerIndex).length/q.length*100).toFixed(0):0,"%"]})]})})]})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-6",children:[d.jsxs("button",{onClick:()=>r("/results"),className:"flex items-center justify-center gap-2 px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[d.jsx(Xd,{className:"w-4 h-4"}),"Back to Results"]}),d.jsxs("button",{onClick:ke,className:"flex items-center justify-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(Td,{className:"w-4 h-4"}),"Download PDF Report"]})]})]}),d.jsx(Mn,{role:"student"}),d.jsx(Lo,{toasts:n.toasts,onClose:n.removeToast})]})}function ije({user:e}){const t=Ua(),[r,n]=G.useState([]),[i,a]=G.useState(!0);G.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:c,error:u}=await Ie.from("simulation_runs").select("*").eq("student_id",e.id).not("submitted_at","is",null).order("submitted_at",{ascending:!1});if(u)throw u;const f=await Promise.all((c||[]).map(async p=>{const{data:h}=await Ie.from("assignments").select("*").eq("id",p.assignment_id).single();let y=null;if(h){const{data:g}=await Ie.from("case_snapshots").select("*").eq("id",h.snapshot_id).single();y=g}return{...p,assignment:h,snapshot:y}}));n(f)}catch(c){console.error("Error loading results:",c)}finally{a(!1)}},o=c=>c>=80?"bg-green-100 text-green-800":c>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",l=(c,u)=>{const f=new Date(c),p=new Date(u);return`${Math.floor((p.getTime()-f.getTime())/6e4)} minutes`};return i?d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Results & History"}),d.jsx("p",{className:"text-gray-600",children:"View your past simulation attempts and performance"})]}),r.length>0&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Attempts"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.length>0?Math.round(r.reduce((c,u)=>{var p;const f=((p=u.score)==null?void 0:p.overall)||0;return c+f},0)/r.length):0,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:[r.length>0?Math.max(...r.map(c=>{var f;return((f=c.score)==null?void 0:f.overall)||0})):0,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]})]}),r.length===0?d.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[d.jsx($f,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 text-lg",children:"No completed simulations yet"}),d.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Complete a simulation to see your results here"})]}):d.jsx("div",{className:"space-y-4",children:r.map(c=>{var y,g,b,v,w,_,N;const u=((y=c.score)==null?void 0:y.overall)||0,f=((g=c.score)==null?void 0:g.sloResults)||[],p=((v=(b=c.snapshot)==null?void 0:b.clinical_case)==null?void 0:v.title)||"Untitled Station",h=((N=(_=(w=c.snapshot)==null?void 0:w.clinical_case)==null?void 0:_.patientProfile)==null?void 0:N.name)||"Patient";return d.jsx("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p}),d.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Patient: ",h]})]}),d.jsxs("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${o(u)}`,children:[u.toFixed(0),"%"]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm text-gray-600",children:[c.started_at&&c.submitted_at&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(bu,{className:"w-4 h-4"}),d.jsx("span",{children:l(c.started_at,c.submitted_at)})]}),c.submitted_at&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Mf,{className:"w-4 h-4"}),d.jsx("span",{children:new Date(c.submitted_at).toLocaleDateString()})]}),f.length>0&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Ra,{className:"w-4 h-4"}),d.jsxs("span",{children:[f.filter(S=>S.status==="Achieved").length," /"," ",f.length," SLOs Achieved"]})]})]}),f.length>0&&d.jsxs("div",{className:"mt-4 space-y-2",children:[f.slice(0,3).map((S,j)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${S.percent>=70?"bg-green-600":"bg-yellow-600"}`,style:{width:`${S.percent}%`}})}),d.jsxs("span",{className:"text-xs text-gray-600 w-12 text-right",children:[S.percent,"%"]})]},j)),f.length>3&&d.jsxs("p",{className:"text-xs text-gray-500",children:["+",f.length-3," more SLOs"]})]})]}),d.jsx("div",{className:"flex gap-2",children:d.jsxs("button",{onClick:()=>t(`/debrief/${c.id}`),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:[d.jsx(b1,{className:"w-4 h-4"}),"View Details"]})})]})},c.id)})})]}),d.jsx(Mn,{role:"student"})]})}function aje({user:e}){const t=Hs(),[r,n]=G.useState({totalAttempts:0,averageScore:0,bestScore:0,completedAssignments:0}),[i,a]=G.useState([]),[s,o]=G.useState([]),[l,c]=G.useState(!0),[u,f]=G.useState(!1),[p,h]=G.useState(!1),[y,g]=G.useState({totalTimeSpent:0,averageTimePerAttempt:0,improvementRate:0,slosAchieved:0,totalSlos:0,streak:0,lastActivity:null});G.useEffect(()=>{b(),v()},[]);const b=async()=>{try{const{data:S}=await Ie.from("simulation_runs").select("score, submitted_at, started_at, created_at").eq("student_id",e.id).not("submitted_at","is",null),j=S||[],P=j.map(te=>{var de;return((de=te.score)==null?void 0:de.overall)||0}).filter(te=>te>0),C=j.length,L=P.length>0?P.reduce((te,de)=>te+de,0)/P.length:0,F=P.length>0?Math.max(...P):0,{data:k}=await Ie.from("cohort_members").select("cohort_id").eq("student_id",e.id);let E=0;if(k&&k.length>0){const te=k.map(ve=>ve.cohort_id),{data:de}=await Ie.from("assignments").select("id").in("cohort_id",te);if(de){const ve=de.map(ye=>ye.id),{data:oe}=await Ie.from("simulation_runs").select("assignment_id").eq("student_id",e.id).not("submitted_at","is",null).in("assignment_id",ve);E=new Set(oe==null?void 0:oe.map(ye=>ye.assignment_id)).size}}const{data:$}=await Ie.from("simulation_runs").select("started_at, submitted_at, score, created_at").eq("student_id",e.id).not("submitted_at","is",null),M=($||[]).reduce((te,de)=>{if(de.started_at&&de.submitted_at){const ve=new Date(de.started_at),oe=new Date(de.submitted_at);return te+Math.floor((oe.getTime()-ve.getTime())/6e4)}return te},0),B=j.length>0?Math.round(M/j.length):0;let q=0,J=0;j.forEach(te=>{var ve;(((ve=te.score)==null?void 0:ve.sloResults)||[]).forEach(oe=>{J++,oe.status==="Achieved"&&q++})});const W=P.slice(0,5),Z=P.slice(5,10),D=W.length>0?W.reduce((te,de)=>te+de,0)/W.length:0,se=Z.length>0?Z.reduce((te,de)=>te+de,0)/Z.length:0,T=se>0?(D-se)/se*100:0,I=j[0],Y=(I==null?void 0:I.submitted_at)||null;let ie=0;if(j.length>0){const te=new Date;te.setHours(0,0,0,0);let de=new Date(te);for(let ve=0;ve<j.length;ve++){const oe=j[ve],ye=new Date(oe.submitted_at||oe.created_at||oe.started_at);if(ye.setHours(0,0,0,0),ye.getTime()===de.getTime())ie++,de.setDate(de.getDate()-1);else if(ye.getTime()<de.getTime())break}}n({totalAttempts:C,averageScore:Math.round(L),bestScore:Math.round(F),completedAssignments:E}),g({totalTimeSpent:M,averageTimePerAttempt:B,improvementRate:Math.round(T*10)/10,slosAchieved:q,totalSlos:J,streak:ie,lastActivity:Y})}catch(S){console.error("Error loading stats:",S)}finally{c(!1)}},v=async()=>{try{const{data:S}=await Ie.from("cohort_members").select("cohort_id, cohorts(id, name, description)").eq("student_id",e.id),j=(S||[]).map(F=>F.cohort_id),P=(S||[]).map(F=>F.cohorts).filter(Boolean);a(P);const{data:C}=await Ie.from("cohorts").select("id, name, description").order("name"),L=(C||[]).filter(F=>!j.includes(F.id));o(L)}catch(S){console.error("Error loading cohorts:",S)}},w=async S=>{f(!0);try{const{error:j}=await Ie.from("cohort_members").insert({cohort_id:S,student_id:e.id});if(j)throw j;await v()}catch(j){t.error("Error joining cohort: "+j.message)}finally{f(!1)}},_=async S=>{if(confirm("Are you sure you want to leave this cohort? You will lose access to its assignments.")){f(!0);try{const{error:j}=await Ie.from("cohort_members").delete().eq("cohort_id",S).eq("student_id",e.id);if(j)throw j;await v()}catch(j){t.error("Error leaving cohort: "+j.message)}finally{f(!1)}}},N=async()=>{await sj()};return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Profile"}),d.jsx("p",{className:"text-gray-600",children:"View your account information and performance statistics"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center",children:d.jsx($s,{className:"w-10 h-10 text-primary-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.name}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(x8,{className:"w-4 h-4"}),d.jsx("span",{children:e.email})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(Mf,{className:"w-4 h-4"}),d.jsxs("span",{children:["Member since ",new Date(e.created_at).toLocaleDateString()]})]})]})]}),d.jsx("div",{className:"border-t pt-4",children:d.jsx("div",{className:"flex items-center gap-2 text-sm",children:d.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full font-medium",children:"Student"})})})]}),!l&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(y1,{className:"w-5 h-5 text-primary-600"}),d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.totalAttempts})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Attempts"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Ra,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.averageScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx($f,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[r.bestScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(gp,{className:"w-5 h-5 text-primary-600"}),d.jsx("div",{className:"text-2xl font-bold text-primary-600",children:r.completedAssignments})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(La,{className:"w-5 h-5 text-primary-600"}),"Performance Metrics"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Time Spent"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[y.totalTimeSpent," min"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Avg Time per Attempt"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[y.averageTimePerAttempt," min"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Improvement Rate"}),d.jsxs("span",{className:`font-semibold ${y.improvementRate>0?"text-green-600":y.improvementRate<0?"text-red-600":"text-gray-900"}`,children:[y.improvementRate>0?"+":"",y.improvementRate,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Current Streak"}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[y.streak," days"]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(gp,{className:"w-5 h-5 text-primary-600"}),"Learning Outcomes"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"SLOs Achieved"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[y.slosAchieved," / ",y.totalSlos]})]}),y.totalSlos>0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-primary-600 h-3 rounded-full transition-all",style:{width:`${y.slosAchieved/y.totalSlos*100}%`}})}),d.jsxs("div",{className:"text-sm text-gray-500",children:[(y.slosAchieved/y.totalSlos*100).toFixed(1),"% achievement rate"]})]}),y.lastActivity&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mt-4 pt-4 border-t",children:[d.jsx(bu,{className:"w-4 h-4"}),d.jsxs("span",{children:["Last activity: ",new Date(y.lastActivity).toLocaleDateString()]})]})]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ao,{className:"w-5 h-5 text-primary-600"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Cohorts"})]}),d.jsxs("button",{onClick:()=>h(!p),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:[d.jsx(w8,{className:"w-4 h-4"}),"Manage"]})]}),i.length===0?d.jsx("p",{className:"text-gray-500 text-sm",children:"You are not in any cohorts yet."}):d.jsx("div",{className:"space-y-2",children:i.map(S=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:S.name}),S.description&&d.jsx("div",{className:"text-sm text-gray-500",children:S.description})]}),p&&d.jsx("button",{onClick:()=>_(S.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Leave cohort",children:d.jsx(Df,{className:"w-4 h-4"})})]},S.id))}),p&&s.length>0&&d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Cohorts"}),d.jsx("div",{className:"space-y-2",children:s.map(S=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-md",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:S.name}),S.description&&d.jsx("div",{className:"text-sm text-gray-500",children:S.description})]}),d.jsxs("button",{onClick:()=>w(S.id),disabled:u,className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 transition-colors",children:[d.jsx(Wm,{className:"w-4 h-4"}),"Join"]})]},S.id))})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Actions"}),d.jsx("div",{className:"space-y-2",children:d.jsxs("button",{onClick:N,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors font-medium",children:[d.jsx(b8,{className:"w-5 h-5"}),"Sign Out"]})})]})]}),d.jsx(Mn,{role:"student"})]})}function sje({data:e}){return d.jsx(Xm,{width:"100%",height:300,children:d.jsxs(IN,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(ig,{strokeDasharray:"3 3"}),d.jsx(Ql,{dataKey:"date"}),d.jsx(ec,{domain:[0,100]}),d.jsx(ki,{}),d.jsx(Ds,{}),d.jsx(Ul,{type:"monotone",dataKey:"score",stroke:"#3b82f6",strokeWidth:2,name:"Score (%)",dot:{fill:"#3b82f6",r:4}})]})})}function oje({user:e}){const[t,r]=G.useState(null),[n,i]=G.useState(!0),[a,s]=G.useState([]);G.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:c}=await Ie.from("cohort_members").select("cohort_id").eq("student_id",e.id),u=(c==null?void 0:c.map(T=>T.cohort_id))||[];let f=[];if(u.length>0){const{data:T}=await Ie.from("assignments").select("*").in("cohort_id",u);f=T||[]}const{data:p}=await Ie.from("simulation_runs").select("*, assignments!inner(snapshot_id, case_snapshots!inner(clinical_case))").eq("student_id",e.id).order("submitted_at",{ascending:!1}),h=(p||[]).filter(T=>T.submitted_at),y=(p||[]).filter(T=>!T.submitted_at),g=h.map(T=>{var I;return((I=T.score)==null?void 0:I.overall)||0}).filter(T=>T>0),b=g.length>0?g.reduce((T,I)=>T+I,0)/g.length:0,v=g.length>0?Math.max(...g):0,w=g.slice(0,3),_=g.slice(3,6),N=w.length>0?w.reduce((T,I)=>T+I,0)/w.length:0,S=_.length>0?_.reduce((T,I)=>T+I,0)/_.length:0,j=S>0?(N-S)/S*100:0,P=h.slice(0,10).map(T=>{var ie;const I=((ie=T.score)==null?void 0:ie.overall)||0,Y=T.submitted_at||T.created_at;return{date:new Date(Y).toLocaleDateString("en-US",{month:"short",day:"numeric"}),score:Math.round(I)}}).reverse();s(P);const C=new Map;h.forEach(T=>{var Y;(((Y=T.score)==null?void 0:Y.sloResults)||[]).forEach(ie=>{const te=ie.sloId||"unknown";C.has(te)||C.set(te,{achieved:0,total:0,text:ie.sloText});const de=C.get(te);de.total++,ie.status==="Achieved"&&de.achieved++})});const L=Array.from(C.entries()).map(([T,I])=>({sloId:T,sloText:I.text,achieved:I.achieved,total:I.total,percentage:I.total>0?I.achieved/I.total*100:0})).sort((T,I)=>I.percentage-T.percentage),F=h.reduce((T,I)=>{if(I.started_at&&I.submitted_at){const Y=new Date(I.started_at),ie=new Date(I.submitted_at);return T+Math.floor((ie.getTime()-Y.getTime())/6e4)}return T},0),k=h.slice(0,5).map(T=>{var I;return{date:T.submitted_at||T.created_at,action:"Completed simulation",score:((I=T.score)==null?void 0:I.overall)||0}}),E=new Set(h.map(T=>T.assignment_id)),$=new Set(y.map(T=>T.assignment_id)),M=f.filter(T=>E.has(T.id)).length,B=f.filter(T=>$.has(T.id)&&!E.has(T.id)).length,q=f.length-M-B,{data:J}=await Ie.from("competencies").select("id, domain, level, description"),{data:W}=await Ie.from("slo").select("id, competency_id, text"),Z=new Map;W==null||W.forEach(T=>{T.competency_id&&Z.set(T.id,T.competency_id)});const D=new Map;J==null||J.forEach(T=>{D.set(T.id,{competency:T.id,domain:T.domain,level:T.level||null,description:T.description,totalAttempts:0,achievedAttempts:0,assignments:[]})}),h.forEach(T=>{var ye,ke;if(!f.find(ee=>ee.id===T.assignment_id))return;const Y=(ye=T.assignments)==null?void 0:ye.case_snapshots;if(!(Y!=null&&Y.clinical_case))return;const ie=Y.clinical_case,te=ie.sloMappings||[],de=ie.title||"Untitled Assignment",ve=((ke=T.score)==null?void 0:ke.sloResults)||[],oe=new Set(ve.filter(ee=>ee.status==="Achieved").map(ee=>ee.sloId));te.forEach(ee=>{const he=Z.get(ee);if(!he)return;const ue=D.get(he);ue&&(ue.totalAttempts++,oe.has(ee)&&ue.achievedAttempts++,ue.assignments.includes(de)||ue.assignments.push(de))})});const se=Array.from(D.values()).filter(T=>T.totalAttempts>0).map(T=>({competency:T.competency,domain:T.domain,level:T.level,description:T.description,progress:T.totalAttempts>0?Math.round(T.achievedAttempts/T.totalAttempts*100):0,totalAttempts:T.totalAttempts,achievedAttempts:T.achievedAttempts,assignments:T.assignments})).sort((T,I)=>I.progress-T.progress);r({totalAssignments:f.length,completedAssignments:M,pendingAssignments:q,inProgressAssignments:B,totalAttempts:(p==null?void 0:p.length)||0,averageScore:Math.round(b),bestScore:Math.round(v),improvementTrend:Math.round(j*10)/10,sloProgress:L,recentActivity:k,timeSpent:F,competencyProgress:se})}catch(c){console.error("Error loading analytics:",c)}finally{i(!1)}};if(n)return d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});if(!t)return d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 p-4",children:d.jsx("p",{children:"Unable to load analytics data."})});const l=t.totalAssignments>0?t.completedAssignments/t.totalAssignments*100:0;return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Analytics"}),d.jsx("p",{className:"text-gray-600",children:"Track your progress and performance"})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(gp,{className:"w-5 h-5 text-primary-600"}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[l.toFixed(0),"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Completion Rate"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Ra,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[t.averageScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx($f,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[t.bestScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(bu,{className:"w-5 h-5 text-blue-600"}),d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.timeSpent})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Minutes Practiced"})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(La,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Progress Overview"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Completed"}),d.jsxs("span",{className:"text-sm font-semibold",children:[t.completedAssignments,"/",t.totalAssignments]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-green-600 h-3 rounded-full transition-all",style:{width:`${l}%`}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"In Progress"}),d.jsx("span",{className:"text-sm font-semibold",children:t.inProgressAssignments})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-yellow-600 h-3 rounded-full transition-all",style:{width:`${t.totalAssignments>0?t.inProgressAssignments/t.totalAssignments*100:0}%`}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Pending"}),d.jsx("span",{className:"text-sm font-semibold",children:t.pendingAssignments})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-gray-400 h-3 rounded-full transition-all",style:{width:`${t.totalAssignments>0?t.pendingAssignments/t.totalAssignments*100:0}%`}})})]})]})]}),a.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ra,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Score Trend (Last 10 Attempts)"})]}),d.jsx(sje,{data:a})]}),t.improvementTrend!==0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ra,{className:`w-5 h-5 ${t.improvementTrend>0?"text-green-600":"text-red-600"}`}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Performance Trend"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:`text-3xl font-bold ${t.improvementTrend>0?"text-green-600":"text-red-600"}`,children:[t.improvementTrend>0?"+":"",t.improvementTrend.toFixed(1),"%"]}),d.jsxs("div",{className:"text-gray-600",children:[t.improvementTrend>0?"Improving":"Declining"," compared to previous attempts"]})]})]}),t.sloProgress.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(gp,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"SLO Achievement"})]}),d.jsx("div",{className:"space-y-4",children:t.sloProgress.slice(0,5).map((c,u)=>d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:c.sloId}),c.sloText&&d.jsx("div",{className:"text-sm text-gray-600",children:c.sloText})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[c.percentage>=70?d.jsx(Nn,{className:"w-5 h-5 text-green-600"}):d.jsx(Ai,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("span",{className:"font-semibold",children:[c.percentage.toFixed(0),"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${c.percentage>=70?"bg-green-600":"bg-yellow-600"}`,style:{width:`${c.percentage}%`}})}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Achieved ",c.achieved," out of ",c.total," attempts"]})]},u))})]}),t.recentActivity.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(EW,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"})]}),d.jsx("div",{className:"space-y-3",children:t.recentActivity.map((c,u)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Mf,{className:"w-4 h-4 text-gray-400"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:c.action}),d.jsx("div",{className:"text-sm text-gray-500",children:new Date(c.date).toLocaleDateString()})]})]}),c.score!==void 0&&d.jsxs("div",{className:"font-semibold text-primary-600",children:[c.score.toFixed(0),"%"]})]},u))})]}),t.competencyProgress.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(gp,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Competency Progress"})]}),d.jsx("div",{className:"space-y-4",children:t.competencyProgress.slice(0,8).map((c,u)=>d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:c.competency}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:c.description}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:c.domain}),c.level&&d.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded",children:c.level})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[c.progress>=70?d.jsx(Nn,{className:"w-5 h-5 text-green-600"}):c.progress>=50?d.jsx(Ai,{className:"w-5 h-5 text-yellow-600"}):d.jsx(Ai,{className:"w-5 h-5 text-red-600"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[c.progress,"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${c.progress>=70?"bg-green-600":c.progress>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${c.progress}%`}})}),d.jsxs("div",{className:"text-xs text-gray-500",children:["Achieved ",c.achievedAttempts," out of ",c.totalAttempts," attempts",c.assignments.length>0&&d.jsxs("span",{className:"ml-2",children:[" ",c.assignments.length," assignment",c.assignments.length!==1?"s":""]})]})]},u))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Assignment Status"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Assignments"}),d.jsx("span",{className:"font-semibold",children:t.totalAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Completed"}),d.jsx("span",{className:"font-semibold text-green-600",children:t.completedAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"In Progress"}),d.jsx("span",{className:"font-semibold text-yellow-600",children:t.inProgressAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Pending"}),d.jsx("span",{className:"font-semibold text-gray-600",children:t.pendingAssignments})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Stats"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Attempts"}),d.jsx("span",{className:"font-semibold",children:t.totalAttempts})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Average Score"}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[t.averageScore,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Best Score"}),d.jsxs("span",{className:"font-semibold text-yellow-600",children:[t.bestScore,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Time Practiced"}),d.jsxs("span",{className:"font-semibold text-blue-600",children:[t.timeSpent," min"]})]})]})]})]})]}),d.jsx(Mn,{role:"student"})]})}function UD({data:e}){return!e||e.length===0?d.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:d.jsx("p",{children:"No performance data available"})}):d.jsx(Xm,{width:"100%",height:300,children:d.jsxs(IN,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(ig,{strokeDasharray:"3 3"}),d.jsx(Ql,{dataKey:"date",angle:-45,textAnchor:"end",height:80}),d.jsx(ec,{domain:[0,100]}),d.jsx(ki,{formatter:t=>[`${t.toFixed(1)}%`,"Average Score"],labelFormatter:t=>`Date: ${t}`}),d.jsx(Ds,{}),d.jsx(Ul,{type:"monotone",dataKey:"averageScore",stroke:"#3b82f6",strokeWidth:2,name:"Average Score",dot:{fill:"#3b82f6",r:4},activeDot:{r:6}})]})})}function zD({entries:e,maxDisplay:t=20}){if(!e||e.length===0)return d.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:d.jsx("p",{children:"No student performance data available"})});const r=e.slice(0,t),n=a=>a===1?d.jsx(HW,{className:"w-6 h-6 text-yellow-500"}):a===2?d.jsx($W,{className:"w-6 h-6 text-gray-400"}):a===3?d.jsx($f,{className:"w-6 h-6 text-amber-600"}):d.jsx("div",{className:"w-6 h-6 flex items-center justify-center text-gray-500 font-bold",children:a}),i=a=>a===1?"bg-yellow-50 border-yellow-200":a===2?"bg-gray-50 border-gray-200":a===3?"bg-amber-50 border-amber-200":"bg-white border-gray-200";return d.jsxs("div",{className:"space-y-2",children:[r.map((a,s)=>{const o=s+1;return d.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border-2 ${i(o)} transition-all hover:shadow-md`,children:[d.jsx("div",{className:"flex-shrink-0",children:n(o)}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold text-gray-900 truncate",children:a.name}),d.jsx("div",{className:"text-sm text-gray-600 truncate",children:a.email})]}),d.jsxs("div",{className:"flex items-center gap-6 flex-shrink-0",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-gray-500",children:"Avg Score"}),d.jsxs("div",{className:"text-lg font-bold text-primary-600",children:[a.averageScore.toFixed(1),"%"]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-gray-500",children:"Attempts"}),d.jsx("div",{className:"text-lg font-semibold text-gray-700",children:a.totalAttempts})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-gray-500",children:"Best"}),d.jsxs("div",{className:"text-lg font-semibold text-green-600",children:[a.bestScore.toFixed(1),"%"]})]})]})]},a.id)}),e.length>t&&d.jsxs("div",{className:"text-center text-sm text-gray-500 pt-2",children:["Showing top ",t," of ",e.length," students"]})]})}function lje({user:e}){const t=Hs(),[r,n]=G.useState({totalFaculty:0,totalStudents:0,activeStations:0,coverage:0}),[i,a]=G.useState(!0),[s,o]=G.useState([]),[l,c]=G.useState([]),[u,f]=G.useState(!0);G.useEffect(()=>{h(),y()},[]);const p=async()=>{try{const{data:g}=await Ie.from("users").select("id, name, email, role, created_at"),{data:b}=await Ie.from("stations").select("id, title, created_at"),{data:v}=await Ie.from("case_snapshots").select("id, approved_at"),{data:w}=await Ie.from("assignments").select("id, created_at"),{data:_}=await Ie.from("simulation_runs").select("id, score, submitted_at").not("submitted_at","is",null),{data:N}=await Ie.from("competencies").select("id, domain, level"),S=(g==null?void 0:g.filter(M=>M.role==="faculty").length)||0,j=(g==null?void 0:g.filter(M=>M.role==="student").length)||0,P=(_==null?void 0:_.filter(M=>M.submitted_at))||[],C=P.map(M=>{var B;return((B=M.score)==null?void 0:B.overall)||0}).filter(M=>M>0),L=C.length>0?C.reduce((M,B)=>M+B,0)/C.length:0,F={generatedAt:new Date().toISOString(),summary:{totalUsers:(g==null?void 0:g.length)||0,totalFaculty:S,totalStudents:j,totalStations:(b==null?void 0:b.length)||0,totalSnapshots:(v==null?void 0:v.length)||0,totalAssignments:(w==null?void 0:w.length)||0,totalCompletions:P.length,averageScore:Math.round(L),totalCompetencies:(N==null?void 0:N.length)||0},userBreakdown:{faculty:g==null?void 0:g.filter(M=>M.role==="faculty").map(M=>({name:M.name,email:M.email,joined:M.created_at})),students:g==null?void 0:g.filter(M=>M.role==="student").map(M=>({name:M.name,email:M.email,joined:M.created_at}))},performance:{totalAttempts:P.length,averageScore:Math.round(L),completionRate:w&&w.length>0?Math.round(P.length/w.length*100):0}},k=new Blob([JSON.stringify(F,null,2)],{type:"application/json"}),E=URL.createObjectURL(k),$=document.createElement("a");$.href=E,$.download=`system-report-${new Date().toISOString().split("T")[0]}.json`,$.click(),t.success("Report exported successfully!")}catch(g){t.error("Error exporting report: "+(g.message||"Unknown error")),console.error("Error exporting report:",g)}},h=async()=>{try{const{data:g}=await Ie.from("users").select("role"),b=(g==null?void 0:g.filter(k=>k.role==="faculty").length)||0,v=(g==null?void 0:g.filter(k=>k.role==="student").length)||0,{data:w}=await Ie.from("stations").select("id"),{data:_}=await Ie.from("competencies").select("id"),{data:N}=await Ie.from("slo").select("id, competency_id"),S=new Map;N==null||N.forEach(k=>{k.competency_id&&S.set(k.id,k.competency_id)});const{data:j}=await Ie.from("case_snapshots").select("clinical_case"),P=new Set;j==null||j.forEach(k=>{var $;((($=k.clinical_case)==null?void 0:$.sloMappings)||[]).forEach(M=>{const B=S.get(M);B&&P.add(B)})});const C=(_==null?void 0:_.length)||0,L=P.size,F=C>0?Math.round(L/C*100):0;n({totalFaculty:b,totalStudents:v,activeStations:(w==null?void 0:w.length)||0,coverage:F})}catch(g){console.error("Error loading stats:",g)}finally{a(!1)}},y=async()=>{try{f(!0);const{data:g,error:b}=await Ie.from("simulation_runs").select("id, score, submitted_at, student_id").not("submitted_at","is",null).order("submitted_at",{ascending:!1}).limit(1e3);if(b)throw b;const v=new Map;g==null||g.forEach(j=>{var F,k;const P=(F=j.submitted_at)==null?void 0:F.split("T")[0];if(!P)return;const C=(k=j.score)==null?void 0:k.overall;if(!C||C<=0)return;v.has(P)||v.set(P,{scores:[],students:new Set});const L=v.get(P);L.scores.push(C),L.students.add(j.student_id)});const w=Array.from(v.entries()).map(([j,P])=>({dateKey:j,date:new Date(j).toLocaleDateString("en-US",{month:"short",day:"numeric"}),averageScore:P.scores.reduce((C,L)=>C+L,0)/P.scores.length,totalStudents:P.students.size})).sort((j,P)=>j.dateKey.localeCompare(P.dateKey)).slice(-30).map(({dateKey:j,...P})=>P);o(w);const _=new Map;g==null||g.forEach(j=>{var C;const P=(C=j.score)==null?void 0:C.overall;!P||P<=0||(_.has(j.student_id)||_.set(j.student_id,{scores:[],name:"",email:""}),_.get(j.student_id).scores.push(P))});const N=Array.from(_.keys());if(N.length>0){const{data:j}=await Ie.from("users").select("id, name, email").eq("role","student").in("id",N);j==null||j.forEach(P=>{const C=_.get(P.id);C&&(C.name=P.name,C.email=P.email)})}const S=Array.from(_.entries()).map(([j,P])=>{const C=P.scores.reduce((F,k)=>F+k,0)/P.scores.length,L=Math.max(...P.scores);return{id:j,name:P.name||"Unknown",email:P.email||"",averageScore:C,totalAttempts:P.scores.length,bestScore:L}}).filter(j=>j.name!=="Unknown").sort((j,P)=>P.averageScore!==j.averageScore?P.averageScore-j.averageScore:P.totalAttempts-j.totalAttempts).slice(0,50);c(S)}catch(g){console.error("Error loading performance data:",g)}finally{f(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Li,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Admin Dashboard"}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Faculty"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.totalFaculty})]}),d.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:d.jsx(Ao,{className:"w-6 h-6 text-blue-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.totalStudents})]}),d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(Ao,{className:"w-6 h-6 text-green-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.activeStations})]}),d.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:d.jsx(Da,{className:"w-6 h-6 text-purple-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"CBDC Coverage"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[r.coverage,"%"]})]}),d.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:d.jsx(La,{className:"w-6 h-6 text-orange-600"})})]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8 border border-gray-100",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Student Performance Trend"}),u?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):s.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[d.jsx(La,{className:"w-12 h-12 mb-3 text-gray-400"}),d.jsx("p",{className:"text-sm",children:"No performance data available yet"})]}):d.jsx(UD,{data:s})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8 border border-gray-100",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Student Leaderboard"}),u?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):l.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[d.jsx(Ao,{className:"w-12 h-12 mb-3 text-gray-400"}),d.jsx("p",{className:"text-sm",children:"No leaderboard data available yet"})]}):d.jsx(zD,{entries:l,maxDisplay:20})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),d.jsx("div",{className:"flex gap-4",children:d.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors font-medium shadow-sm hover:shadow-md",children:[d.jsx(Td,{className:"w-4 h-4"}),"Export System Report"]})})]})]})]})})]})}function cje({isOpen:e,onClose:t,onSave:r}){const[n,i]=G.useState({id:"",domain:"",level:"",description:""}),[a,s]=G.useState(!1),[o,l]=G.useState(null);if(!e)return null;const c=async u=>{if(u.preventDefault(),l(null),!n.id.trim()||!n.domain.trim()||!n.description.trim()){l("ID, Domain, and Description are required");return}s(!0);try{await r({id:n.id.trim(),domain:n.domain.trim(),level:n.level.trim()||null,description:n.description.trim()}),i({id:"",domain:"",level:"",description:""}),t()}catch(f){l(f.message||"Failed to save competency")}finally{s(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Competency"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(Df,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[o&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:o}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ID ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:n.id,onChange:u=>i({...n,id:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Domain ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:n.domain,onChange:u=>i({...n,domain:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),d.jsx("input",{type:"text",value:n.level,onChange:u=>i({...n,level:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Optional"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{value:n.description,onChange:u=>i({...n,description:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,required:!0})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Saving...":"Save"})]})]})]})})}function uje({isOpen:e,onClose:t,competency:r,onSave:n}){const[i,a]=G.useState({id:"",domain:"",level:"",description:""}),[s,o]=G.useState(!1),[l,c]=G.useState(null);if(G.useEffect(()=>{r&&a({id:r.id,domain:r.domain,level:r.level||"",description:r.description})},[r]),!e||!r)return null;const u=async f=>{if(f.preventDefault(),c(null),!i.domain.trim()||!i.description.trim()){c("Domain and Description are required");return}o(!0);try{await n({id:i.id,domain:i.domain.trim(),level:i.level.trim()||null,description:i.description.trim()}),t()}catch(p){c(p.message||"Failed to update competency")}finally{o(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Competency"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(Df,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),d.jsx("input",{type:"text",value:i.id,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ID cannot be changed"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Domain ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i.domain,onChange:f=>a({...i,domain:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),d.jsx("input",{type:"text",value:i.level,onChange:f=>a({...i,level:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Optional"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{value:i.description,onChange:f=>a({...i,description:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,required:!0})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Saving...":"Update"})]})]})]})})}function dje({user:e}){const t=Hs(),[r,n]=G.useState([]),[i,a]=G.useState(!0),[s,o]=G.useState(!1),[l,c]=G.useState(null);G.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:g,error:b}=await Ie.from("competencies").select("*").order("id");if(b)throw b;n(g||[])}catch(g){console.error("Error loading competencies:",g)}finally{a(!1)}},f=()=>{const g=[["ID","Domain","Level","Description"],...r.map(_=>[_.id,_.domain,_.level||"",_.description])].map(_=>_.map(N=>`"${N}"`).join(",")).join(`
`),b=new Blob([g],{type:"text/csv"}),v=URL.createObjectURL(b),w=document.createElement("a");w.href=v,w.download="cbdc-competencies.csv",w.click()},p=async g=>{const{error:b}=await Ie.from("competencies").insert([g]);if(b)throw b;await u()},h=async g=>{const{error:b}=await Ie.from("competencies").update({domain:g.domain,level:g.level,description:g.description}).eq("id",g.id);if(b)throw b;await u()},y=async g=>{if(!confirm(`Are you sure you want to delete competency "${g}"? This action cannot be undone.`))return;const{error:b}=await Ie.from("competencies").delete().eq("id",g);if(b){t.error("Error deleting competency: "+b.message);return}await u()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Li,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"CBDC Manager"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[d.jsx(Td,{className:"w-4 h-4"}),"Export CSV"]}),d.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(Wm,{className:"w-4 h-4"}),"Add Competency"]})]})]}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Domain"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(g=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.id}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.domain}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.level||"-"}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:g.description}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[d.jsx("button",{onClick:()=>c(g),className:"text-primary-600 hover:text-primary-900 mr-4",title:"Edit competency",children:d.jsx(lj,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>y(g.id),className:"text-red-600 hover:text-red-900",title:"Delete competency",children:d.jsx(WW,{className:"w-4 h-4"})})]})]},g.id))})]})})]})}),d.jsx(cje,{isOpen:s,onClose:()=>o(!1),onSave:p}),d.jsx(uje,{isOpen:l!==null,onClose:()=>c(null),competency:l,onSave:h})]})}function fje({isOpen:e,onClose:t,user:r,onSave:n}){const[i,a]=G.useState({name:"",email:"",role:"student"}),[s,o]=G.useState(!1),[l,c]=G.useState(null);if(G.useEffect(()=>{r&&a({name:r.name,email:r.email,role:r.role})},[r]),!e||!r)return null;const u=async f=>{if(f.preventDefault(),c(null),!i.name.trim()||!i.email.trim()){c("Name and Email are required");return}o(!0);try{await n({id:r.id,name:i.name.trim(),email:i.email.trim(),role:i.role}),t()}catch(p){c(p.message||"Failed to update user")}finally{o(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit User"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(Df,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i.name,onChange:f=>a({...i,name:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"email",value:i.email,onChange:f=>a({...i,email:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{value:i.role,onChange:f=>a({...i,role:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Saving...":"Update"})]})]})]})})}function hje({user:e}){const[t,r]=G.useState([]),[n,i]=G.useState(!0),[a,s]=G.useState(""),[o,l]=G.useState(null);G.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:h,error:y}=await Ie.from("users").select("*").order("created_at",{ascending:!1});if(y)throw y;r(h||[])}catch(h){console.error("Error loading users:",h)}finally{i(!1)}},u=t.filter(h=>h.name.toLowerCase().includes(a.toLowerCase())||h.email.toLowerCase().includes(a.toLowerCase())),f=h=>{switch(h){case"admin":return"bg-red-100 text-red-800";case"faculty":return"bg-blue-100 text-blue-800";case"student":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},p=async h=>{const{error:y}=await Ie.from("users").update({name:h.name,email:h.email,role:h.role}).eq("id",h.id);if(y)throw y;await c()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Li,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"User Management"}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(cj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:h=>s(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),n?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(h=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx($s,{className:"w-5 h-5 text-gray-400 mr-2"}),d.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.email}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${f(h.role)}`,children:h.role})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(h.created_at).toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>l(h),className:"text-primary-600 hover:text-primary-900",title:"Edit user",children:d.jsx(lj,{className:"w-4 h-4"})})})]},h.id))})]})})]})}),d.jsx(fje,{isOpen:o!==null,onClose:()=>l(null),user:o,onSave:p})]})}function pje({user:e}){const t=Hs(),[r,n]=G.useState([]),[i,a]=G.useState(null),[s,o]=G.useState([]),[l,c]=G.useState([]),[u,f]=G.useState(!0);G.useEffect(()=>{p(),g()},[]);const p=async()=>{try{const{data:b,error:v}=await Ie.from("reports").select("*").order("created_at",{ascending:!1}).limit(10);if(v)throw v;n(b||[])}catch(b){console.error("Error loading reports:",b)}},h=async b=>{a(b);try{const v=new Date;let w,_=new Date(v);if(b==="quarterly"){const T=Math.floor(v.getMonth()/3);w=new Date(v.getFullYear(),T*3,1)}else w=new Date(v.getFullYear(),0,1);const{data:N}=await Ie.from("competencies").select("*"),{data:S}=await Ie.from("stations").select("id, title, blueprint"),{data:j}=await Ie.from("case_snapshots").select("id, clinical_case, approved_at").gte("approved_at",w.toISOString()).lte("approved_at",_.toISOString()),{data:P}=await Ie.from("assignments").select("id, snapshot_id, created_at").gte("created_at",w.toISOString()).lte("created_at",_.toISOString()),C=(P==null?void 0:P.map(T=>T.id))||[],{data:L}=await Ie.from("simulation_runs").select("id, score, submitted_at").in("assignment_id",C).not("submitted_at","is",null),F=new Set;j==null||j.forEach(T=>{var Y;(((Y=T.clinical_case)==null?void 0:Y.sloMappings)||[]).forEach(ie=>{F.add(ie)})});const k=(N==null?void 0:N.length)||0,E=F.size,$=k>0?Math.round(E/k*100):0,M=(L==null?void 0:L.filter(T=>T.submitted_at))||[],B=M.map(T=>{var I;return((I=T.score)==null?void 0:I.overall)||0}).filter(T=>T>0),q=B.length>0?B.reduce((T,I)=>T+I,0)/B.length:0,J={summary:{period:b==="quarterly"?"Quarterly":"Annual",periodStart:w.toISOString().split("T")[0],periodEnd:_.toISOString().split("T")[0],generatedAt:new Date().toISOString()},metrics:{totalCompetencies:k,coveredCompetencies:E,coverage:$,totalStations:(S==null?void 0:S.length)||0,totalSnapshots:(j==null?void 0:j.length)||0,totalAssignments:(P==null?void 0:P.length)||0,totalCompletions:M.length,averageScore:Math.round(q)},stationDistribution:{total:(S==null?void 0:S.length)||0,bySubject:{}},studentPerformance:{totalAttempts:M.length,averageScore:Math.round(q),completionRate:P&&P.length>0?Math.round(M.length/P.length*100):0},sloAchievement:{total:0,achieved:0,percentage:0}},{error:W}=await Ie.from("reports").insert([{type:b,period_start:w.toISOString().split("T")[0],period_end:_.toISOString().split("T")[0],report_data:J,generated_by:e.id}]);if(W)throw W;const Z=new Blob([JSON.stringify(J,null,2)],{type:"application/json"}),D=URL.createObjectURL(Z),se=document.createElement("a");se.href=D,se.download=`${b}-report-${w.toISOString().split("T")[0]}.json`,se.click(),await p(),t.success("Report generated successfully!")}catch(v){t.error("Error generating report: "+(v.message||"Unknown error")),console.error("Error generating report:",v)}finally{a(null)}},y=b=>{try{const v=b.report_data;let w=`Compliance Report
`;w+=`Type,${b.type}
`,w+=`Period,${b.period_start} to ${b.period_end}
`,w+=`Generated,${new Date(b.created_at).toLocaleString()}

`,w+=`Metrics
`,w+=`Metric,Value
`,v.metrics&&(w+=`CBDC Coverage,${v.metrics.coverage}%
`,w+=`Total Stations,${v.metrics.totalStations}
`,w+=`Total Snapshots,${v.metrics.totalSnapshots}
`,w+=`Total Assignments,${v.metrics.totalAssignments}
`,w+=`Total Completions,${v.metrics.totalCompletions}
`,w+=`Average Score,${v.metrics.averageScore}%
`),w+=`
Student Performance
`,w+=`Metric,Value
`,v.studentPerformance&&(w+=`Total Attempts,${v.studentPerformance.totalAttempts}
`,w+=`Average Score,${v.studentPerformance.averageScore}%
`,w+=`Completion Rate,${v.studentPerformance.completionRate}%
`);const _=new Blob([w],{type:"text/csv;charset=utf-8;"}),N=URL.createObjectURL(_),S=document.createElement("a");S.href=N,S.download=`${b.type}-report-${b.period_start}.csv`,S.click(),URL.revokeObjectURL(N),t.success("CSV exported successfully!")}catch(v){t.error("Error exporting CSV: "+(v.message||"Unknown error"))}},g=async()=>{try{f(!0);const{data:b,error:v}=await Ie.from("simulation_runs").select("id, score, submitted_at, student_id").not("submitted_at","is",null).order("submitted_at",{ascending:!1}).limit(1e3);if(v)throw v;const w=new Map;b==null||b.forEach(P=>{var k,E;const C=(k=P.submitted_at)==null?void 0:k.split("T")[0];if(!C)return;const L=(E=P.score)==null?void 0:E.overall;if(!L||L<=0)return;w.has(C)||w.set(C,{scores:[],students:new Set});const F=w.get(C);F.scores.push(L),F.students.add(P.student_id)});const _=Array.from(w.entries()).map(([P,C])=>({dateKey:P,date:new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric"}),averageScore:C.scores.reduce((L,F)=>L+F,0)/C.scores.length,totalStudents:C.students.size})).sort((P,C)=>P.dateKey.localeCompare(C.dateKey)).slice(-30).map(({dateKey:P,...C})=>C);o(_);const N=new Map;b==null||b.forEach(P=>{var L;const C=(L=P.score)==null?void 0:L.overall;!C||C<=0||(N.has(P.student_id)||N.set(P.student_id,{scores:[],name:"",email:""}),N.get(P.student_id).scores.push(C))});const S=Array.from(N.keys());if(S.length>0){const{data:P}=await Ie.from("users").select("id, name, email").eq("role","student").in("id",S);P==null||P.forEach(C=>{const L=N.get(C.id);L&&(L.name=C.name,L.email=C.email)})}const j=Array.from(N.entries()).map(([P,C])=>{const L=C.scores.reduce((k,E)=>k+E,0)/C.scores.length,F=Math.max(...C.scores);return{id:P,name:C.name||"Unknown",email:C.email||"",averageScore:L,totalAttempts:C.scores.length,bestScore:F}}).filter(P=>P.name!=="Unknown").sort((P,C)=>C.averageScore!==P.averageScore?C.averageScore-P.averageScore:C.totalAttempts-P.totalAttempts).slice(0,50);c(j)}catch(b){console.error("Error loading performance data:",b)}finally{f(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Li,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Compliance Reports"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Student Performance Trend"}),u?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx(UD,{data:s})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Student Leaderboard"}),u?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx(zD,{entries:l,maxDisplay:20})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Quarterly Report"}),d.jsx(Da,{className:"w-8 h-8 text-blue-600"})]}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Generate a comprehensive quarterly compliance report covering all competencies and stations."}),d.jsx("button",{onClick:()=>h("quarterly"),disabled:i!==null,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i==="quarterly"?d.jsxs(d.Fragment,{children:[d.jsx(Zc,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Td,{className:"w-4 h-4"}),"Generate Quarterly Report"]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Annual Report"}),d.jsx(Ra,{className:"w-8 h-8 text-green-600"})]}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Generate an annual compliance report with year-over-year trends and analytics."}),d.jsx("button",{onClick:()=>h("annual"),disabled:i!==null,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i==="annual"?d.jsxs(d.Fragment,{children:[d.jsx(Zc,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Td,{className:"w-4 h-4"}),"Generate Annual Report"]})})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Report History"}),r.length===0?d.jsx("p",{className:"text-gray-600",children:"No reports generated yet."}):d.jsx("div",{className:"space-y-3",children:r.map(b=>{var v;return d.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded ${b.type==="quarterly"?"bg-blue-100":"bg-green-100"}`,children:b.type==="quarterly"?d.jsx(Da,{className:"w-5 h-5 text-blue-600"}):d.jsx(Ra,{className:"w-5 h-5 text-green-600"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium text-gray-900 capitalize",children:[b.type," Report"]}),d.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2 mt-1",children:[d.jsx(Mf,{className:"w-4 h-4"}),new Date(b.period_start).toLocaleDateString()," - ",new Date(b.period_end).toLocaleDateString()]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"text-sm text-gray-500",children:new Date(b.created_at).toLocaleDateString()}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>{const w=new Blob([JSON.stringify(b.report_data,null,2)],{type:"application/json"}),_=URL.createObjectURL(w),N=document.createElement("a");N.href=_,N.download=`${b.type}-report-${b.period_start}.json`,N.click()},className:"p-2 text-primary-600 hover:bg-primary-50 rounded transition-colors",title:"Download JSON",children:d.jsx(Td,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>y(b),className:"p-2 text-green-600 hover:bg-green-50 rounded transition-colors",title:"Export to CSV",children:d.jsx(CW,{className:"w-4 h-4"})})]})]})]}),((v=b.report_data)==null?void 0:v.metrics)&&d.jsxs("div",{className:"mt-3 pt-3 border-t grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Coverage"}),d.jsxs("div",{className:"font-semibold text-gray-900",children:[b.report_data.metrics.coverage,"%"]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Stations"}),d.jsx("div",{className:"font-semibold text-gray-900",children:b.report_data.metrics.totalStations})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Completions"}),d.jsx("div",{className:"font-semibold text-gray-900",children:b.report_data.metrics.totalCompletions})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Avg Score"}),d.jsxs("div",{className:"font-semibold text-gray-900",children:[b.report_data.metrics.averageScore,"%"]})]})]})]},b.id)})})]})]})}),d.jsx(Lo,{toasts:t.toasts,onClose:t.removeToast})]})}function mje(){return d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})})}class gje extends G.Component{constructor(){super(...arguments);rr(this,"state",{hasError:!1,error:null});rr(this,"handleReset",()=>{this.setState({hasError:!1,error:null}),window.location.href="/"})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n)}render(){var r;return this.state.hasError?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[d.jsx(g1,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),d.jsx("p",{className:"text-gray-600 mb-4",children:((r=this.state.error)==null?void 0:r.message)||"An unexpected error occurred"}),d.jsxs("button",{onClick:this.handleReset,className:"flex items-center justify-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors mx-auto",children:[d.jsx(DW,{className:"w-4 h-4"}),"Return to Home"]})]})}):this.props.children}}function yje({authUserId:e,authUserEmail:t,authUserName:r,onComplete:n}){const[i,a]=G.useState(r||""),[s,o]=G.useState("student"),[l,c]=G.useState([]),[u,f]=G.useState([]),[p,h]=G.useState(!1),[y,g]=G.useState(!1),[b,v]=G.useState(null);G.useEffect(()=>{s==="student"&&w()},[s]);const w=async()=>{h(!0);try{const{data:N,error:S}=await Ie.from("cohorts").select("id, name, description").order("name");if(S)throw S;f(N||[])}catch(N){console.error("Error loading cohorts:",N)}finally{h(!1)}},_=async N=>{N.preventDefault(),g(!0),v(null);try{const{error:S}=await Ie.from("users").insert({id:e,name:i.trim()||(t==null?void 0:t.split("@")[0])||"User",email:t||"",role:s}).select().single();if(S)throw S;if(s==="student"&&l.length>0){const j=l.map(C=>({cohort_id:C,student_id:e})),{error:P}=await Ie.from("cohort_members").insert(j);P&&console.error("Error adding student to cohorts:",P)}n()}catch(S){v(S.message||"An error occurred while completing your profile"),g(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-primary-50 to-gray-100 px-4 py-8",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 md:p-10 w-full max-w-md border-2 border-gray-200",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-16 md:h-20 w-auto object-contain"})}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Complete Your Profile"}),d.jsx("p",{className:"text-gray-600 mt-2 text-sm md:text-base",children:"Please provide the following information to complete your account setup"})]}),d.jsxs("form",{onSubmit:_,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i,onChange:N=>a(N.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400",placeholder:"Enter your full name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",value:t||"",disabled:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email is set from your OAuth account"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{value:s,onChange:N=>{o(N.target.value),c([])},required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 bg-white",children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),s==="student"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Cohorts (Optional)"}),p?d.jsx("div",{className:"text-sm text-gray-500",children:"Loading cohorts..."}):u.length===0?d.jsx("div",{className:"text-sm text-gray-500 p-3 bg-gray-50 rounded-md",children:"No cohorts available. You can join cohorts later from your profile settings."}):d.jsx("div",{className:"border border-gray-300 rounded-md max-h-40 overflow-y-auto p-2",children:u.map(N=>d.jsxs("label",{className:"flex items-start gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:l.includes(N.id),onChange:S=>{S.target.checked?c([...l,N.id]):c(l.filter(j=>j!==N.id))},className:"mt-1"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.name}),N.description&&d.jsx("div",{className:"text-xs text-gray-500",children:N.description})]})]},N.id))}),l.length>0&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length," cohort",l.length!==1?"s":""," selected"]})]}),b&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:b}),d.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white py-3 px-6 rounded-xl hover:from-primary-700 hover:to-primary-800 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 font-bold text-base md:text-lg shadow-lg transition-all transform hover:scale-[1.02]",children:y?"Completing Profile...":"Complete Profile"})]})]})})}const FC={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpdmN1c2ZzcHBqeWFsYmdxdHh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NjI2NjYsImV4cCI6MjA3ODQzODY2Nn0.DMugE2X3gBvcRBXt-NqWceWQB2Vmi9kbavEE6MEjAmI",VITE_SUPABASE_URL:"https://kivcusfsppjyalbgqtxy.supabase.co"};function vje(){const[e,t]=G.useState(null),[r,n]=G.useState(!0),[i,a]=G.useState(!1),[s,o]=G.useState(null);G.useEffect(()=>{Ie.auth.getSession().then(({data:{session:h}})=>{h?l():n(!1)});const{data:{subscription:p}}=Ie.auth.onAuthStateChange((h,y)=>{y?l():(t(null),n(!1))});return()=>p.unsubscribe()},[]);const l=async()=>{var p,h,y,g,b,v;try{const{data:{user:w}}=await Ie.auth.getUser();if(!w){n(!1);return}const{data:_,error:N}=await Ie.from("users").select("*").eq("id",w.id).single();if(N&&N.code==="PGRST116")if(((p=w.identities)==null?void 0:p.some(j=>j.provider!=="email"))||!1){o({id:w.id,email:w.email,name:((h=w.user_metadata)==null?void 0:h.name)||((y=w.user_metadata)==null?void 0:y.full_name)}),a(!0),n(!1);return}else{const{data:j}=await Ie.from("users").insert({id:w.id,name:((g=w.user_metadata)==null?void 0:g.name)||((b=w.email)==null?void 0:b.split("@")[0])||"User",email:w.email,role:((v=w.user_metadata)==null?void 0:v.role)||"student"}).select().single();j&&t(j)}else _&&(t(_),a(!1))}catch(w){console.error("Error loading user:",w)}finally{n(!1)}},c=()=>{a(!1),o(null),l()};if(r)return d.jsx(mje,{});if(i&&s)return d.jsx(yje,{authUserId:s.id,authUserEmail:s.email,authUserName:s.name,onComplete:c});if(!e)return d.jsx(AW,{onAuthSuccess:l});const f=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY"].filter(p=>!FC[p]||FC[p].trim()==="");return f.length>0?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Configuration Error"}),d.jsx("p",{className:"text-gray-700 mb-4",children:"The following required environment variables are missing:"}),d.jsx("ul",{className:"list-disc list-inside text-gray-600 mb-4 space-y-1",children:f.map(p=>d.jsx("li",{children:p},p))}),d.jsx("p",{className:"text-sm text-gray-500",children:"Please set these variables in your .env file and restart the application."})]})}):d.jsx(gje,{children:d.jsxs(ez,{children:[d.jsxs(GU,{children:[e.role==="faculty"&&d.jsxs(d.Fragment,{children:[d.jsx(en,{path:"/dashboard",element:d.jsx(VW,{user:e})}),d.jsx(en,{path:"/create",element:d.jsx(KW,{user:e})}),d.jsx(en,{path:"/review/:stationId",element:d.jsx(cX,{user:e})}),d.jsx(en,{path:"/assign/:snapshotId",element:d.jsx(uX,{user:e})}),d.jsx(en,{path:"/library",element:d.jsx(dX,{user:e})}),d.jsx(en,{path:"/analytics",element:d.jsx(Kwe,{user:e})}),d.jsx(en,{path:"/profile",element:d.jsx(Ywe,{user:e})})]}),e.role==="student"&&d.jsxs(d.Fragment,{children:[d.jsx(en,{path:"/home",element:d.jsx(S6,{user:e})}),d.jsx(en,{path:"/assigned",element:d.jsx(S6,{user:e})}),d.jsx(en,{path:"/analytics",element:d.jsx(oje,{user:e})}),d.jsx(en,{path:"/simulation/:assignmentId",element:d.jsx(n5e,{user:e})}),d.jsx(en,{path:"/management/:runId",element:d.jsx(i5e,{user:e})}),d.jsx(en,{path:"/debrief/:runId",element:d.jsx(nje,{user:e})}),d.jsx(en,{path:"/results",element:d.jsx(ije,{user:e})}),d.jsx(en,{path:"/profile",element:d.jsx(aje,{user:e})})]}),e.role==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx(en,{path:"/admin/dashboard",element:d.jsx(lje,{user:e})}),d.jsx(en,{path:"/admin/reports",element:d.jsx(pje,{user:e})}),d.jsx(en,{path:"/admin/cbdc",element:d.jsx(dje,{user:e})}),d.jsx(en,{path:"/admin/users",element:d.jsx(hje,{user:e})})]}),d.jsx(en,{path:"/",element:d.jsx(HU,{to:e.role==="faculty"?"/dashboard":e.role==="admin"?"/admin/dashboard":"/home",replace:!0})})]}),e&&d.jsx(Mn,{role:e.role})]})})}z2.createRoot(document.getElementById("root")).render(d.jsx(ce.StrictMode,{children:d.jsx(vje,{})}));export{ur as _,wl as c,ir as g};
