var _9=Object.defineProperty;var S9=(e,t,r)=>t in e?_9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var tr=(e,t,r)=>S9(e,typeof t!="symbol"?t+"":t,r);function DC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var bl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function j9(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var BC={exports:{}},Yv={},FC={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm=Symbol.for("react.element"),A9=Symbol.for("react.portal"),N9=Symbol.for("react.fragment"),k9=Symbol.for("react.strict_mode"),E9=Symbol.for("react.profiler"),O9=Symbol.for("react.provider"),P9=Symbol.for("react.context"),C9=Symbol.for("react.forward_ref"),T9=Symbol.for("react.suspense"),L9=Symbol.for("react.memo"),I9=Symbol.for("react.lazy"),vN=Symbol.iterator;function R9(e){return e===null||typeof e!="object"?null:(e=vN&&e[vN]||e["@@iterator"],typeof e=="function"?e:null)}var UC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zC=Object.assign,qC={};function kf(e,t,r){this.props=e,this.context=t,this.refs=qC,this.updater=r||UC}kf.prototype.isReactComponent={};kf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function WC(){}WC.prototype=kf.prototype;function X_(e,t,r){this.props=e,this.context=t,this.refs=qC,this.updater=r||UC}var J_=X_.prototype=new WC;J_.constructor=X_;zC(J_,kf.prototype);J_.isPureReactComponent=!0;var bN=Array.isArray,HC=Object.prototype.hasOwnProperty,Z_={current:null},VC={key:!0,ref:!0,__self:!0,__source:!0};function GC(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)HC.call(t,n)&&!VC.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Mm,type:e,key:a,ref:s,props:i,_owner:Z_.current}}function $9(e,t){return{$$typeof:Mm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Q_(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mm}function M9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xN=/\/+/g;function Yb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?M9(""+e.key):t.toString(36)}function D0(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Mm:case A9:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Yb(s,0):n,bN(i)?(r="",e!=null&&(r=e.replace(xN,"$&/")+"/"),D0(i,t,r,"",function(u){return u})):i!=null&&(Q_(i)&&(i=$9(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(xN,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",bN(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+Yb(a,o);s+=D0(a,t,r,l,i)}else if(l=R9(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+Yb(a,o++),s+=D0(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Fg(e,t,r){if(e==null)return e;var n=[],i=0;return D0(e,n,"","",function(a){return t.call(r,a,i++)}),n}function D9(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yi={current:null},B0={transition:null},B9={ReactCurrentDispatcher:yi,ReactCurrentBatchConfig:B0,ReactCurrentOwner:Z_};function KC(){throw Error("act(...) is not supported in production builds of React.")}qt.Children={map:Fg,forEach:function(e,t,r){Fg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Fg(e,function(){t++}),t},toArray:function(e){return Fg(e,function(t){return t})||[]},only:function(e){if(!Q_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};qt.Component=kf;qt.Fragment=N9;qt.Profiler=E9;qt.PureComponent=X_;qt.StrictMode=k9;qt.Suspense=T9;qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B9;qt.act=KC;qt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zC({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Z_.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)HC.call(t,l)&&!VC.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Mm,type:e.type,key:i,ref:a,props:n,_owner:s}};qt.createContext=function(e){return e={$$typeof:P9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:O9,_context:e},e.Consumer=e};qt.createElement=GC;qt.createFactory=function(e){var t=GC.bind(null,e);return t.type=e,t};qt.createRef=function(){return{current:null}};qt.forwardRef=function(e){return{$$typeof:C9,render:e}};qt.isValidElement=Q_;qt.lazy=function(e){return{$$typeof:I9,_payload:{_status:-1,_result:e},_init:D9}};qt.memo=function(e,t){return{$$typeof:L9,type:e,compare:t===void 0?null:t}};qt.startTransition=function(e){var t=B0.transition;B0.transition={};try{e()}finally{B0.transition=t}};qt.unstable_act=KC;qt.useCallback=function(e,t){return yi.current.useCallback(e,t)};qt.useContext=function(e){return yi.current.useContext(e)};qt.useDebugValue=function(){};qt.useDeferredValue=function(e){return yi.current.useDeferredValue(e)};qt.useEffect=function(e,t){return yi.current.useEffect(e,t)};qt.useId=function(){return yi.current.useId()};qt.useImperativeHandle=function(e,t,r){return yi.current.useImperativeHandle(e,t,r)};qt.useInsertionEffect=function(e,t){return yi.current.useInsertionEffect(e,t)};qt.useLayoutEffect=function(e,t){return yi.current.useLayoutEffect(e,t)};qt.useMemo=function(e,t){return yi.current.useMemo(e,t)};qt.useReducer=function(e,t,r){return yi.current.useReducer(e,t,r)};qt.useRef=function(e){return yi.current.useRef(e)};qt.useState=function(e){return yi.current.useState(e)};qt.useSyncExternalStore=function(e,t,r){return yi.current.useSyncExternalStore(e,t,r)};qt.useTransition=function(){return yi.current.useTransition()};qt.version="18.3.1";FC.exports=qt;var X=FC.exports;const oe=nr(X),F9=DC({__proto__:null,default:oe},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U9=X,z9=Symbol.for("react.element"),q9=Symbol.for("react.fragment"),W9=Object.prototype.hasOwnProperty,H9=U9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V9={key:!0,ref:!0,__self:!0,__source:!0};function YC(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)W9.call(t,n)&&!V9.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:z9,type:e,key:a,ref:s,props:i,_owner:H9.current}}Yv.Fragment=q9;Yv.jsx=YC;Yv.jsxs=YC;BC.exports=Yv;var d=BC.exports,F2={},XC={exports:{}},oa={},JC={exports:{}},ZC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,J){var $=B.length;B.push(J);e:for(;0<$;){var ae=$-1>>>1,T=B[ae];if(0<i(T,J))B[ae]=J,B[$]=T,$=ae;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var J=B[0],$=B.pop();if($!==J){B[0]=$;e:for(var ae=0,T=B.length,C=T>>>1;ae<C;){var K=2*(ae+1)-1,Q=B[K],ie=K+1,ue=B[ie];if(0>i(Q,$))ie<T&&0>i(ue,Q)?(B[ae]=ue,B[ie]=$,ae=ie):(B[ae]=Q,B[K]=$,ae=K);else if(ie<T&&0>i(ue,$))B[ae]=ue,B[ie]=$,ae=ie;else break e}}return J}function i(B,J){var $=B.sortIndex-J.sortIndex;return $!==0?$:B.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,p=3,h=!1,y=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(B){for(var J=r(u);J!==null;){if(J.callback===null)n(u);else if(J.startTime<=B)n(u),J.sortIndex=J.expirationTime,t(l,J);else break;J=r(u)}}function A(B){if(g=!1,_(B),!y)if(r(l)!==null)y=!0,H(S);else{var J=r(u);J!==null&&V(A,J.startTime-B)}}function S(B,J){y=!1,g&&(g=!1,v(L),L=-1),h=!0;var $=p;try{for(_(J),f=r(l);f!==null&&(!(f.expirationTime>J)||B&&!k());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,p=f.priorityLevel;var T=ae(f.expirationTime<=J);J=e.unstable_now(),typeof T=="function"?f.callback=T:f===r(l)&&n(l),_(J)}else n(l);f=r(l)}if(f!==null)var C=!0;else{var K=r(u);K!==null&&V(A,K.startTime-J),C=!1}return C}finally{f=null,p=$,h=!1}}var j=!1,O=null,L=-1,I=5,F=-1;function k(){return!(e.unstable_now()-F<I)}function P(){if(O!==null){var B=e.unstable_now();F=B;var J=!0;try{J=O(!0,B)}finally{J?M():(j=!1,O=null)}}else j=!1}var M;if(typeof w=="function")M=function(){w(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,U=D.port2;D.port1.onmessage=P,M=function(){U.postMessage(null)}}else M=function(){b(P,0)};function H(B){O=B,j||(j=!0,M())}function V(B,J){L=b(function(){B(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){y||h||(y=!0,H(S))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(B){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var $=p;p=J;try{return B()}finally{p=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=p;p=B;try{return J()}finally{p=$}},e.unstable_scheduleCallback=function(B,J,$){var ae=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ae+$:ae):$=ae,B){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=$+T,B={id:c++,callback:J,priorityLevel:B,startTime:$,expirationTime:T,sortIndex:-1},$>ae?(B.sortIndex=$,t(u,B),r(l)===null&&B===r(u)&&(g?(v(L),L=-1):g=!0,V(A,$-ae))):(B.sortIndex=T,t(l,B),y||h||(y=!0,H(S))),B},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(B){var J=p;return function(){var $=p;p=J;try{return B.apply(this,arguments)}finally{p=$}}}})(ZC);JC.exports=ZC;var G9=JC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K9=X,aa=G9;function We(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QC=new Set,Ep={};function mc(e,t){Ud(e,t),Ud(e+"Capture",t)}function Ud(e,t){for(Ep[e]=t,e=0;e<t.length;e++)QC.add(t[e])}var Eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),U2=Object.prototype.hasOwnProperty,Y9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wN={},_N={};function X9(e){return U2.call(_N,e)?!0:U2.call(wN,e)?!1:Y9.test(e)?_N[e]=!0:(wN[e]=!0,!1)}function J9(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Z9(e,t,r,n){if(t===null||typeof t>"u"||J9(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vi(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Hn[e]=new vi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Hn[t]=new vi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Hn[e]=new vi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Hn[e]=new vi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Hn[e]=new vi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Hn[e]=new vi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Hn[e]=new vi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Hn[e]=new vi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Hn[e]=new vi(e,5,!1,e.toLowerCase(),null,!1,!1)});var eS=/[\-:]([a-z])/g;function tS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(eS,tS);Hn[t]=new vi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(eS,tS);Hn[t]=new vi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(eS,tS);Hn[t]=new vi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Hn[e]=new vi(e,1,!1,e.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Hn[e]=new vi(e,1,!1,e.toLowerCase(),null,!0,!0)});function rS(e,t,r,n){var i=Hn.hasOwnProperty(t)?Hn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Z9(t,r,i,n)&&(r=null),n||i===null?X9(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $o=K9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ug=Symbol.for("react.element"),sd=Symbol.for("react.portal"),od=Symbol.for("react.fragment"),nS=Symbol.for("react.strict_mode"),z2=Symbol.for("react.profiler"),eT=Symbol.for("react.provider"),tT=Symbol.for("react.context"),iS=Symbol.for("react.forward_ref"),q2=Symbol.for("react.suspense"),W2=Symbol.for("react.suspense_list"),aS=Symbol.for("react.memo"),dl=Symbol.for("react.lazy"),rT=Symbol.for("react.offscreen"),SN=Symbol.iterator;function Eh(e){return e===null||typeof e!="object"?null:(e=SN&&e[SN]||e["@@iterator"],typeof e=="function"?e:null)}var Ur=Object.assign,Xb;function Jh(e){if(Xb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Xb=t&&t[1]||""}return`
`+Xb+e}var Jb=!1;function Zb(e,t){if(!e||Jb)return"";Jb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Jb=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Jh(e):""}function Q9(e){switch(e.tag){case 5:return Jh(e.type);case 16:return Jh("Lazy");case 13:return Jh("Suspense");case 19:return Jh("SuspenseList");case 0:case 2:case 15:return e=Zb(e.type,!1),e;case 11:return e=Zb(e.type.render,!1),e;case 1:return e=Zb(e.type,!0),e;default:return""}}function H2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case od:return"Fragment";case sd:return"Portal";case z2:return"Profiler";case nS:return"StrictMode";case q2:return"Suspense";case W2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tT:return(e.displayName||"Context")+".Consumer";case eT:return(e._context.displayName||"Context")+".Provider";case iS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case aS:return t=e.displayName||null,t!==null?t:H2(e.type)||"Memo";case dl:t=e._payload,e=e._init;try{return H2(e(t))}catch{}}return null}function eB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H2(t);case 8:return t===nS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $l(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tB(e){var t=nT(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zg(e){e._valueTracker||(e._valueTracker=tB(e))}function iT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=nT(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ay(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function V2(e,t){var r=t.checked;return Ur({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function jN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=$l(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function aT(e,t){t=t.checked,t!=null&&rS(e,"checked",t,!1)}function G2(e,t){aT(e,t);var r=$l(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?K2(e,t.type,r):t.hasOwnProperty("defaultValue")&&K2(e,t.type,$l(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function AN(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function K2(e,t,r){(t!=="number"||ay(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Zh=Array.isArray;function jd(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$l(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Y2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(We(91));return Ur({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function NN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(We(92));if(Zh(r)){if(1<r.length)throw Error(We(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$l(r)}}function sT(e,t){var r=$l(t.value),n=$l(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function kN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function X2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qg,lT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qg=qg||document.createElement("div"),qg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Op(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ip={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rB=["Webkit","ms","Moz","O"];Object.keys(ip).forEach(function(e){rB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ip[t]=ip[e]})});function uT(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ip.hasOwnProperty(e)&&ip[e]?(""+t).trim():t+"px"}function cT(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=uT(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var nB=Ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function J2(e,t){if(t){if(nB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(We(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(We(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(We(61))}if(t.style!=null&&typeof t.style!="object")throw Error(We(62))}}function Z2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q2=null;function sS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ew=null,Ad=null,Nd=null;function EN(e){if(e=Fm(e)){if(typeof ew!="function")throw Error(We(280));var t=e.stateNode;t&&(t=e1(t),ew(e.stateNode,e.type,t))}}function dT(e){Ad?Nd?Nd.push(e):Nd=[e]:Ad=e}function fT(){if(Ad){var e=Ad,t=Nd;if(Nd=Ad=null,EN(e),t)for(e=0;e<t.length;e++)EN(t[e])}}function hT(e,t){return e(t)}function pT(){}var Qb=!1;function mT(e,t,r){if(Qb)return e(t,r);Qb=!0;try{return hT(e,t,r)}finally{Qb=!1,(Ad!==null||Nd!==null)&&(pT(),fT())}}function Pp(e,t){var r=e.stateNode;if(r===null)return null;var n=e1(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(We(231,t,typeof r));return r}var tw=!1;if(Eo)try{var Oh={};Object.defineProperty(Oh,"passive",{get:function(){tw=!0}}),window.addEventListener("test",Oh,Oh),window.removeEventListener("test",Oh,Oh)}catch{tw=!1}function iB(e,t,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var ap=!1,sy=null,oy=!1,rw=null,aB={onError:function(e){ap=!0,sy=e}};function sB(e,t,r,n,i,a,s,o,l){ap=!1,sy=null,iB.apply(aB,arguments)}function oB(e,t,r,n,i,a,s,o,l){if(sB.apply(this,arguments),ap){if(ap){var u=sy;ap=!1,sy=null}else throw Error(We(198));oy||(oy=!0,rw=u)}}function gc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function gT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ON(e){if(gc(e)!==e)throw Error(We(188))}function lB(e){var t=e.alternate;if(!t){if(t=gc(e),t===null)throw Error(We(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return ON(i),e;if(a===n)return ON(i),t;a=a.sibling}throw Error(We(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(We(189))}}if(r.alternate!==n)throw Error(We(190))}if(r.tag!==3)throw Error(We(188));return r.stateNode.current===r?e:t}function yT(e){return e=lB(e),e!==null?vT(e):null}function vT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vT(e);if(t!==null)return t;e=e.sibling}return null}var bT=aa.unstable_scheduleCallback,PN=aa.unstable_cancelCallback,uB=aa.unstable_shouldYield,cB=aa.unstable_requestPaint,en=aa.unstable_now,dB=aa.unstable_getCurrentPriorityLevel,oS=aa.unstable_ImmediatePriority,xT=aa.unstable_UserBlockingPriority,ly=aa.unstable_NormalPriority,fB=aa.unstable_LowPriority,wT=aa.unstable_IdlePriority,Xv=null,Ts=null;function hB(e){if(Ts&&typeof Ts.onCommitFiberRoot=="function")try{Ts.onCommitFiberRoot(Xv,e,void 0,(e.current.flags&128)===128)}catch{}}var as=Math.clz32?Math.clz32:gB,pB=Math.log,mB=Math.LN2;function gB(e){return e>>>=0,e===0?32:31-(pB(e)/mB|0)|0}var Wg=64,Hg=4194304;function Qh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Qh(o):(a&=s,a!==0&&(n=Qh(a)))}else s=r&~i,s!==0?n=Qh(s):a!==0&&(n=Qh(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-as(t),i=1<<r,n|=e[r],t&=~i;return n}function yB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vB(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-as(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=yB(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function nw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _T(){var e=Wg;return Wg<<=1,!(Wg&4194240)&&(Wg=64),e}function ex(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Dm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-as(t),e[t]=r}function bB(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-as(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function lS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-as(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var cr=0;function ST(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jT,uS,AT,NT,kT,iw=!1,Vg=[],Al=null,Nl=null,kl=null,Cp=new Map,Tp=new Map,ml=[],xB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function CN(e,t){switch(e){case"focusin":case"focusout":Al=null;break;case"dragenter":case"dragleave":Nl=null;break;case"mouseover":case"mouseout":kl=null;break;case"pointerover":case"pointerout":Cp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tp.delete(t.pointerId)}}function Ph(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Fm(t),t!==null&&uS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function wB(e,t,r,n,i){switch(t){case"focusin":return Al=Ph(Al,e,t,r,n,i),!0;case"dragenter":return Nl=Ph(Nl,e,t,r,n,i),!0;case"mouseover":return kl=Ph(kl,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Cp.set(a,Ph(Cp.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Tp.set(a,Ph(Tp.get(a)||null,e,t,r,n,i)),!0}return!1}function ET(e){var t=zu(e.target);if(t!==null){var r=gc(t);if(r!==null){if(t=r.tag,t===13){if(t=gT(r),t!==null){e.blockedOn=t,kT(e.priority,function(){AT(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function F0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=aw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Q2=n,r.target.dispatchEvent(n),Q2=null}else return t=Fm(r),t!==null&&uS(t),e.blockedOn=r,!1;t.shift()}return!0}function TN(e,t,r){F0(e)&&r.delete(t)}function _B(){iw=!1,Al!==null&&F0(Al)&&(Al=null),Nl!==null&&F0(Nl)&&(Nl=null),kl!==null&&F0(kl)&&(kl=null),Cp.forEach(TN),Tp.forEach(TN)}function Ch(e,t){e.blockedOn===t&&(e.blockedOn=null,iw||(iw=!0,aa.unstable_scheduleCallback(aa.unstable_NormalPriority,_B)))}function Lp(e){function t(i){return Ch(i,e)}if(0<Vg.length){Ch(Vg[0],e);for(var r=1;r<Vg.length;r++){var n=Vg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Al!==null&&Ch(Al,e),Nl!==null&&Ch(Nl,e),kl!==null&&Ch(kl,e),Cp.forEach(t),Tp.forEach(t),r=0;r<ml.length;r++)n=ml[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ml.length&&(r=ml[0],r.blockedOn===null);)ET(r),r.blockedOn===null&&ml.shift()}var kd=$o.ReactCurrentBatchConfig,cy=!0;function SB(e,t,r,n){var i=cr,a=kd.transition;kd.transition=null;try{cr=1,cS(e,t,r,n)}finally{cr=i,kd.transition=a}}function jB(e,t,r,n){var i=cr,a=kd.transition;kd.transition=null;try{cr=4,cS(e,t,r,n)}finally{cr=i,kd.transition=a}}function cS(e,t,r,n){if(cy){var i=aw(e,t,r,n);if(i===null)cx(e,t,n,dy,r),CN(e,n);else if(wB(i,e,t,r,n))n.stopPropagation();else if(CN(e,n),t&4&&-1<xB.indexOf(e)){for(;i!==null;){var a=Fm(i);if(a!==null&&jT(a),a=aw(e,t,r,n),a===null&&cx(e,t,n,dy,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else cx(e,t,n,null,r)}}var dy=null;function aw(e,t,r,n){if(dy=null,e=sS(n),e=zu(e),e!==null)if(t=gc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=gT(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dy=e,null}function OT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dB()){case oS:return 1;case xT:return 4;case ly:case fB:return 16;case wT:return 536870912;default:return 16}default:return 16}}var xl=null,dS=null,U0=null;function PT(){if(U0)return U0;var e,t=dS,r=t.length,n,i="value"in xl?xl.value:xl.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return U0=i.slice(e,1<n?1-n:void 0)}function z0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gg(){return!0}function LN(){return!1}function la(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Gg:LN,this.isPropagationStopped=LN,this}return Ur(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gg)},persist:function(){},isPersistent:Gg}),t}var Ef={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fS=la(Ef),Bm=Ur({},Ef,{view:0,detail:0}),AB=la(Bm),tx,rx,Th,Jv=Ur({},Bm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Th&&(Th&&e.type==="mousemove"?(tx=e.screenX-Th.screenX,rx=e.screenY-Th.screenY):rx=tx=0,Th=e),tx)},movementY:function(e){return"movementY"in e?e.movementY:rx}}),IN=la(Jv),NB=Ur({},Jv,{dataTransfer:0}),kB=la(NB),EB=Ur({},Bm,{relatedTarget:0}),nx=la(EB),OB=Ur({},Ef,{animationName:0,elapsedTime:0,pseudoElement:0}),PB=la(OB),CB=Ur({},Ef,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TB=la(CB),LB=Ur({},Ef,{data:0}),RN=la(LB),IB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$B={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$B[e])?!!t[e]:!1}function hS(){return MB}var DB=Ur({},Bm,{key:function(e){if(e.key){var t=IB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=z0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hS,charCode:function(e){return e.type==="keypress"?z0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?z0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),BB=la(DB),FB=Ur({},Jv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$N=la(FB),UB=Ur({},Bm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hS}),zB=la(UB),qB=Ur({},Ef,{propertyName:0,elapsedTime:0,pseudoElement:0}),WB=la(qB),HB=Ur({},Jv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),VB=la(HB),GB=[9,13,27,32],pS=Eo&&"CompositionEvent"in window,sp=null;Eo&&"documentMode"in document&&(sp=document.documentMode);var KB=Eo&&"TextEvent"in window&&!sp,CT=Eo&&(!pS||sp&&8<sp&&11>=sp),MN=" ",DN=!1;function TT(e,t){switch(e){case"keyup":return GB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ld=!1;function YB(e,t){switch(e){case"compositionend":return LT(t);case"keypress":return t.which!==32?null:(DN=!0,MN);case"textInput":return e=t.data,e===MN&&DN?null:e;default:return null}}function XB(e,t){if(ld)return e==="compositionend"||!pS&&TT(e,t)?(e=PT(),U0=dS=xl=null,ld=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return CT&&t.locale!=="ko"?null:t.data;default:return null}}var JB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JB[e.type]:t==="textarea"}function IT(e,t,r,n){dT(n),t=fy(t,"onChange"),0<t.length&&(r=new fS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var op=null,Ip=null;function ZB(e){HT(e,0)}function Zv(e){var t=dd(e);if(iT(t))return e}function QB(e,t){if(e==="change")return t}var RT=!1;if(Eo){var ix;if(Eo){var ax="oninput"in document;if(!ax){var FN=document.createElement("div");FN.setAttribute("oninput","return;"),ax=typeof FN.oninput=="function"}ix=ax}else ix=!1;RT=ix&&(!document.documentMode||9<document.documentMode)}function UN(){op&&(op.detachEvent("onpropertychange",$T),Ip=op=null)}function $T(e){if(e.propertyName==="value"&&Zv(Ip)){var t=[];IT(t,Ip,e,sS(e)),mT(ZB,t)}}function eF(e,t,r){e==="focusin"?(UN(),op=t,Ip=r,op.attachEvent("onpropertychange",$T)):e==="focusout"&&UN()}function tF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zv(Ip)}function rF(e,t){if(e==="click")return Zv(t)}function nF(e,t){if(e==="input"||e==="change")return Zv(t)}function iF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var us=typeof Object.is=="function"?Object.is:iF;function Rp(e,t){if(us(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!U2.call(t,i)||!us(e[i],t[i]))return!1}return!0}function zN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qN(e,t){var r=zN(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zN(r)}}function MT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?MT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function DT(){for(var e=window,t=ay();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ay(e.document)}return t}function mS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function aF(e){var t=DT(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&MT(r.ownerDocument.documentElement,r)){if(n!==null&&mS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=qN(r,a);var s=qN(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sF=Eo&&"documentMode"in document&&11>=document.documentMode,ud=null,sw=null,lp=null,ow=!1;function WN(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ow||ud==null||ud!==ay(n)||(n=ud,"selectionStart"in n&&mS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),lp&&Rp(lp,n)||(lp=n,n=fy(sw,"onSelect"),0<n.length&&(t=new fS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ud)))}function Kg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var cd={animationend:Kg("Animation","AnimationEnd"),animationiteration:Kg("Animation","AnimationIteration"),animationstart:Kg("Animation","AnimationStart"),transitionend:Kg("Transition","TransitionEnd")},sx={},BT={};Eo&&(BT=document.createElement("div").style,"AnimationEvent"in window||(delete cd.animationend.animation,delete cd.animationiteration.animation,delete cd.animationstart.animation),"TransitionEvent"in window||delete cd.transitionend.transition);function Qv(e){if(sx[e])return sx[e];if(!cd[e])return e;var t=cd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in BT)return sx[e]=t[r];return e}var FT=Qv("animationend"),UT=Qv("animationiteration"),zT=Qv("animationstart"),qT=Qv("transitionend"),WT=new Map,HN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zl(e,t){WT.set(e,t),mc(t,[e])}for(var ox=0;ox<HN.length;ox++){var lx=HN[ox],oF=lx.toLowerCase(),lF=lx[0].toUpperCase()+lx.slice(1);zl(oF,"on"+lF)}zl(FT,"onAnimationEnd");zl(UT,"onAnimationIteration");zl(zT,"onAnimationStart");zl("dblclick","onDoubleClick");zl("focusin","onFocus");zl("focusout","onBlur");zl(qT,"onTransitionEnd");Ud("onMouseEnter",["mouseout","mouseover"]);Ud("onMouseLeave",["mouseout","mouseover"]);Ud("onPointerEnter",["pointerout","pointerover"]);Ud("onPointerLeave",["pointerout","pointerover"]);mc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mc("onBeforeInput",["compositionend","keypress","textInput","paste"]);mc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ep="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uF=new Set("cancel close invalid load scroll toggle".split(" ").concat(ep));function VN(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,oB(n,t,void 0,e),e.currentTarget=null}function HT(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;VN(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;VN(i,o,u),a=l}}}if(oy)throw e=rw,oy=!1,rw=null,e}function kr(e,t){var r=t[fw];r===void 0&&(r=t[fw]=new Set);var n=e+"__bubble";r.has(n)||(VT(t,e,2,!1),r.add(n))}function ux(e,t,r){var n=0;t&&(n|=4),VT(r,e,n,t)}var Yg="_reactListening"+Math.random().toString(36).slice(2);function $p(e){if(!e[Yg]){e[Yg]=!0,QC.forEach(function(r){r!=="selectionchange"&&(uF.has(r)||ux(r,!1,e),ux(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yg]||(t[Yg]=!0,ux("selectionchange",!1,t))}}function VT(e,t,r,n){switch(OT(t)){case 1:var i=SB;break;case 4:i=jB;break;default:i=cS}r=i.bind(null,t,r,e),i=void 0,!tw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function cx(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=zu(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}mT(function(){var u=a,c=sS(r),f=[];e:{var p=WT.get(e);if(p!==void 0){var h=fS,y=e;switch(e){case"keypress":if(z0(r)===0)break e;case"keydown":case"keyup":h=BB;break;case"focusin":y="focus",h=nx;break;case"focusout":y="blur",h=nx;break;case"beforeblur":case"afterblur":h=nx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=IN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=kB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=zB;break;case FT:case UT:case zT:h=PB;break;case qT:h=WB;break;case"scroll":h=AB;break;case"wheel":h=VB;break;case"copy":case"cut":case"paste":h=TB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=$N}var g=(t&4)!==0,b=!g&&e==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var w=u,_;w!==null;){_=w;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,v!==null&&(A=Pp(w,v),A!=null&&g.push(Mp(w,A,_)))),b)break;w=w.return}0<g.length&&(p=new h(p,y,null,r,c),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&r!==Q2&&(y=r.relatedTarget||r.fromElement)&&(zu(y)||y[Oo]))break e;if((h||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,h?(y=r.relatedTarget||r.toElement,h=u,y=y?zu(y):null,y!==null&&(b=gc(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=u),h!==y)){if(g=IN,A="onMouseLeave",v="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=$N,A="onPointerLeave",v="onPointerEnter",w="pointer"),b=h==null?p:dd(h),_=y==null?p:dd(y),p=new g(A,w+"leave",h,r,c),p.target=b,p.relatedTarget=_,A=null,zu(c)===u&&(g=new g(v,w+"enter",y,r,c),g.target=_,g.relatedTarget=b,A=g),b=A,h&&y)t:{for(g=h,v=y,w=0,_=g;_;_=Uc(_))w++;for(_=0,A=v;A;A=Uc(A))_++;for(;0<w-_;)g=Uc(g),w--;for(;0<_-w;)v=Uc(v),_--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=Uc(g),v=Uc(v)}g=null}else g=null;h!==null&&GN(f,p,h,g,!1),y!==null&&b!==null&&GN(f,b,y,g,!0)}}e:{if(p=u?dd(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var S=QB;else if(BN(p))if(RT)S=nF;else{S=tF;var j=eF}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=rF);if(S&&(S=S(e,u))){IT(f,S,r,c);break e}j&&j(e,p,u),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&K2(p,"number",p.value)}switch(j=u?dd(u):window,e){case"focusin":(BN(j)||j.contentEditable==="true")&&(ud=j,sw=u,lp=null);break;case"focusout":lp=sw=ud=null;break;case"mousedown":ow=!0;break;case"contextmenu":case"mouseup":case"dragend":ow=!1,WN(f,r,c);break;case"selectionchange":if(sF)break;case"keydown":case"keyup":WN(f,r,c)}var O;if(pS)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else ld?TT(e,r)&&(L="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(CT&&r.locale!=="ko"&&(ld||L!=="onCompositionStart"?L==="onCompositionEnd"&&ld&&(O=PT()):(xl=c,dS="value"in xl?xl.value:xl.textContent,ld=!0)),j=fy(u,L),0<j.length&&(L=new RN(L,e,null,r,c),f.push({event:L,listeners:j}),O?L.data=O:(O=LT(r),O!==null&&(L.data=O)))),(O=KB?YB(e,r):XB(e,r))&&(u=fy(u,"onBeforeInput"),0<u.length&&(c=new RN("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=O))}HT(f,t)})}function Mp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fy(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Pp(e,r),a!=null&&n.unshift(Mp(e,a,i)),a=Pp(e,t),a!=null&&n.push(Mp(e,a,i))),e=e.return}return n}function Uc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function GN(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Pp(r,a),l!=null&&s.unshift(Mp(r,l,o))):i||(l=Pp(r,a),l!=null&&s.push(Mp(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var cF=/\r\n?/g,dF=/\u0000|\uFFFD/g;function KN(e){return(typeof e=="string"?e:""+e).replace(cF,`
`).replace(dF,"")}function Xg(e,t,r){if(t=KN(t),KN(e)!==t&&r)throw Error(We(425))}function hy(){}var lw=null,uw=null;function cw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dw=typeof setTimeout=="function"?setTimeout:void 0,fF=typeof clearTimeout=="function"?clearTimeout:void 0,YN=typeof Promise=="function"?Promise:void 0,hF=typeof queueMicrotask=="function"?queueMicrotask:typeof YN<"u"?function(e){return YN.resolve(null).then(e).catch(pF)}:dw;function pF(e){setTimeout(function(){throw e})}function dx(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Lp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Lp(t)}function El(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function XN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Of=Math.random().toString(36).slice(2),Es="__reactFiber$"+Of,Dp="__reactProps$"+Of,Oo="__reactContainer$"+Of,fw="__reactEvents$"+Of,mF="__reactListeners$"+Of,gF="__reactHandles$"+Of;function zu(e){var t=e[Es];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Oo]||r[Es]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=XN(e);e!==null;){if(r=e[Es])return r;e=XN(e)}return t}e=r,r=e.parentNode}return null}function Fm(e){return e=e[Es]||e[Oo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(We(33))}function e1(e){return e[Dp]||null}var hw=[],fd=-1;function ql(e){return{current:e}}function Cr(e){0>fd||(e.current=hw[fd],hw[fd]=null,fd--)}function Sr(e,t){fd++,hw[fd]=e.current,e.current=t}var Ml={},ai=ql(Ml),ki=ql(!1),tc=Ml;function zd(e,t){var r=e.type.contextTypes;if(!r)return Ml;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ei(e){return e=e.childContextTypes,e!=null}function py(){Cr(ki),Cr(ai)}function JN(e,t,r){if(ai.current!==Ml)throw Error(We(168));Sr(ai,t),Sr(ki,r)}function GT(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(We(108,eB(e)||"Unknown",i));return Ur({},r,n)}function my(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ml,tc=ai.current,Sr(ai,e),Sr(ki,ki.current),!0}function ZN(e,t,r){var n=e.stateNode;if(!n)throw Error(We(169));r?(e=GT(e,t,tc),n.__reactInternalMemoizedMergedChildContext=e,Cr(ki),Cr(ai),Sr(ai,e)):Cr(ki),Sr(ki,r)}var po=null,t1=!1,fx=!1;function KT(e){po===null?po=[e]:po.push(e)}function yF(e){t1=!0,KT(e)}function Wl(){if(!fx&&po!==null){fx=!0;var e=0,t=cr;try{var r=po;for(cr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}po=null,t1=!1}catch(i){throw po!==null&&(po=po.slice(e+1)),bT(oS,Wl),i}finally{cr=t,fx=!1}}return null}var hd=[],pd=0,gy=null,yy=0,_a=[],Sa=0,rc=null,yo=1,vo="";function Ou(e,t){hd[pd++]=yy,hd[pd++]=gy,gy=e,yy=t}function YT(e,t,r){_a[Sa++]=yo,_a[Sa++]=vo,_a[Sa++]=rc,rc=e;var n=yo;e=vo;var i=32-as(n)-1;n&=~(1<<i),r+=1;var a=32-as(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,yo=1<<32-as(t)+i|r<<i|n,vo=a+e}else yo=1<<a|r<<i|n,vo=e}function gS(e){e.return!==null&&(Ou(e,1),YT(e,1,0))}function yS(e){for(;e===gy;)gy=hd[--pd],hd[pd]=null,yy=hd[--pd],hd[pd]=null;for(;e===rc;)rc=_a[--Sa],_a[Sa]=null,vo=_a[--Sa],_a[Sa]=null,yo=_a[--Sa],_a[Sa]=null}var ra=null,Qi=null,Lr=!1,ns=null;function XT(e,t){var r=Ea(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function QN(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ra=e,Qi=El(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ra=e,Qi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=rc!==null?{id:yo,overflow:vo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ea(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ra=e,Qi=null,!0):!1;default:return!1}}function pw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mw(e){if(Lr){var t=Qi;if(t){var r=t;if(!QN(e,t)){if(pw(e))throw Error(We(418));t=El(r.nextSibling);var n=ra;t&&QN(e,t)?XT(n,r):(e.flags=e.flags&-4097|2,Lr=!1,ra=e)}}else{if(pw(e))throw Error(We(418));e.flags=e.flags&-4097|2,Lr=!1,ra=e}}}function ek(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ra=e}function Jg(e){if(e!==ra)return!1;if(!Lr)return ek(e),Lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cw(e.type,e.memoizedProps)),t&&(t=Qi)){if(pw(e))throw JT(),Error(We(418));for(;t;)XT(e,t),t=El(t.nextSibling)}if(ek(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(We(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qi=El(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qi=null}}else Qi=ra?El(e.stateNode.nextSibling):null;return!0}function JT(){for(var e=Qi;e;)e=El(e.nextSibling)}function qd(){Qi=ra=null,Lr=!1}function vS(e){ns===null?ns=[e]:ns.push(e)}var vF=$o.ReactCurrentBatchConfig;function Lh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(We(309));var n=r.stateNode}if(!n)throw Error(We(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(We(284));if(!r._owner)throw Error(We(290,e))}return e}function Zg(e,t){throw e=Object.prototype.toString.call(t),Error(We(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tk(e){var t=e._init;return t(e._payload)}function ZT(e){function t(v,w){if(e){var _=v.deletions;_===null?(v.deletions=[w],v.flags|=16):_.push(w)}}function r(v,w){if(!e)return null;for(;w!==null;)t(v,w),w=w.sibling;return null}function n(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=Tl(v,w),v.index=0,v.sibling=null,v}function a(v,w,_){return v.index=_,e?(_=v.alternate,_!==null?(_=_.index,_<w?(v.flags|=2,w):_):(v.flags|=2,w)):(v.flags|=1048576,w)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,w,_,A){return w===null||w.tag!==6?(w=bx(_,v.mode,A),w.return=v,w):(w=i(w,_),w.return=v,w)}function l(v,w,_,A){var S=_.type;return S===od?c(v,w,_.props.children,A,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===dl&&tk(S)===w.type)?(A=i(w,_.props),A.ref=Lh(v,w,_),A.return=v,A):(A=Y0(_.type,_.key,_.props,null,v.mode,A),A.ref=Lh(v,w,_),A.return=v,A)}function u(v,w,_,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=xx(_,v.mode,A),w.return=v,w):(w=i(w,_.children||[]),w.return=v,w)}function c(v,w,_,A,S){return w===null||w.tag!==7?(w=Ju(_,v.mode,A,S),w.return=v,w):(w=i(w,_),w.return=v,w)}function f(v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=bx(""+w,v.mode,_),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ug:return _=Y0(w.type,w.key,w.props,null,v.mode,_),_.ref=Lh(v,null,w),_.return=v,_;case sd:return w=xx(w,v.mode,_),w.return=v,w;case dl:var A=w._init;return f(v,A(w._payload),_)}if(Zh(w)||Eh(w))return w=Ju(w,v.mode,_,null),w.return=v,w;Zg(v,w)}return null}function p(v,w,_,A){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:o(v,w,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ug:return _.key===S?l(v,w,_,A):null;case sd:return _.key===S?u(v,w,_,A):null;case dl:return S=_._init,p(v,w,S(_._payload),A)}if(Zh(_)||Eh(_))return S!==null?null:c(v,w,_,A,null);Zg(v,_)}return null}function h(v,w,_,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(_)||null,o(w,v,""+A,S);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ug:return v=v.get(A.key===null?_:A.key)||null,l(w,v,A,S);case sd:return v=v.get(A.key===null?_:A.key)||null,u(w,v,A,S);case dl:var j=A._init;return h(v,w,_,j(A._payload),S)}if(Zh(A)||Eh(A))return v=v.get(_)||null,c(w,v,A,S,null);Zg(w,A)}return null}function y(v,w,_,A){for(var S=null,j=null,O=w,L=w=0,I=null;O!==null&&L<_.length;L++){O.index>L?(I=O,O=null):I=O.sibling;var F=p(v,O,_[L],A);if(F===null){O===null&&(O=I);break}e&&O&&F.alternate===null&&t(v,O),w=a(F,w,L),j===null?S=F:j.sibling=F,j=F,O=I}if(L===_.length)return r(v,O),Lr&&Ou(v,L),S;if(O===null){for(;L<_.length;L++)O=f(v,_[L],A),O!==null&&(w=a(O,w,L),j===null?S=O:j.sibling=O,j=O);return Lr&&Ou(v,L),S}for(O=n(v,O);L<_.length;L++)I=h(O,v,L,_[L],A),I!==null&&(e&&I.alternate!==null&&O.delete(I.key===null?L:I.key),w=a(I,w,L),j===null?S=I:j.sibling=I,j=I);return e&&O.forEach(function(k){return t(v,k)}),Lr&&Ou(v,L),S}function g(v,w,_,A){var S=Eh(_);if(typeof S!="function")throw Error(We(150));if(_=S.call(_),_==null)throw Error(We(151));for(var j=S=null,O=w,L=w=0,I=null,F=_.next();O!==null&&!F.done;L++,F=_.next()){O.index>L?(I=O,O=null):I=O.sibling;var k=p(v,O,F.value,A);if(k===null){O===null&&(O=I);break}e&&O&&k.alternate===null&&t(v,O),w=a(k,w,L),j===null?S=k:j.sibling=k,j=k,O=I}if(F.done)return r(v,O),Lr&&Ou(v,L),S;if(O===null){for(;!F.done;L++,F=_.next())F=f(v,F.value,A),F!==null&&(w=a(F,w,L),j===null?S=F:j.sibling=F,j=F);return Lr&&Ou(v,L),S}for(O=n(v,O);!F.done;L++,F=_.next())F=h(O,v,L,F.value,A),F!==null&&(e&&F.alternate!==null&&O.delete(F.key===null?L:F.key),w=a(F,w,L),j===null?S=F:j.sibling=F,j=F);return e&&O.forEach(function(P){return t(v,P)}),Lr&&Ou(v,L),S}function b(v,w,_,A){if(typeof _=="object"&&_!==null&&_.type===od&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ug:e:{for(var S=_.key,j=w;j!==null;){if(j.key===S){if(S=_.type,S===od){if(j.tag===7){r(v,j.sibling),w=i(j,_.props.children),w.return=v,v=w;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===dl&&tk(S)===j.type){r(v,j.sibling),w=i(j,_.props),w.ref=Lh(v,j,_),w.return=v,v=w;break e}r(v,j);break}else t(v,j);j=j.sibling}_.type===od?(w=Ju(_.props.children,v.mode,A,_.key),w.return=v,v=w):(A=Y0(_.type,_.key,_.props,null,v.mode,A),A.ref=Lh(v,w,_),A.return=v,v=A)}return s(v);case sd:e:{for(j=_.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(v,w.sibling),w=i(w,_.children||[]),w.return=v,v=w;break e}else{r(v,w);break}else t(v,w);w=w.sibling}w=xx(_,v.mode,A),w.return=v,v=w}return s(v);case dl:return j=_._init,b(v,w,j(_._payload),A)}if(Zh(_))return y(v,w,_,A);if(Eh(_))return g(v,w,_,A);Zg(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(v,w.sibling),w=i(w,_),w.return=v,v=w):(r(v,w),w=bx(_,v.mode,A),w.return=v,v=w),s(v)):r(v,w)}return b}var Wd=ZT(!0),QT=ZT(!1),vy=ql(null),by=null,md=null,bS=null;function xS(){bS=md=by=null}function wS(e){var t=vy.current;Cr(vy),e._currentValue=t}function gw(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ed(e,t){by=e,bS=md=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ai=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(bS!==e)if(e={context:e,memoizedValue:t,next:null},md===null){if(by===null)throw Error(We(308));md=e,by.dependencies={lanes:0,firstContext:e}}else md=md.next=e;return t}var qu=null;function _S(e){qu===null?qu=[e]:qu.push(e)}function eL(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,_S(t)):(r.next=i.next,i.next=r),t.interleaved=r,Po(e,n)}function Po(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var fl=!1;function SS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tL(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function So(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ol(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Yt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Po(e,r)}return i=n.interleaved,i===null?(t.next=t,_S(n)):(t.next=i.next,i.next=t),n.interleaved=t,Po(e,r)}function q0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,lS(e,r)}}function rk(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function xy(e,t,r,n){var i=e.updateQueue;fl=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,c=u=l=null,o=a;do{var p=o.lane,h=o.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,g=o;switch(p=t,h=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(h,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(h,f,p):y,p==null)break e;f=Ur({},f,p);break e;case 2:fl=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);ic|=s,e.lanes=s,e.memoizedState=f}}function nk(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(We(191,i));i.call(n)}}}var Um={},Ls=ql(Um),Bp=ql(Um),Fp=ql(Um);function Wu(e){if(e===Um)throw Error(We(174));return e}function jS(e,t){switch(Sr(Fp,t),Sr(Bp,e),Sr(Ls,Um),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:X2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=X2(t,e)}Cr(Ls),Sr(Ls,t)}function Hd(){Cr(Ls),Cr(Bp),Cr(Fp)}function rL(e){Wu(Fp.current);var t=Wu(Ls.current),r=X2(t,e.type);t!==r&&(Sr(Bp,e),Sr(Ls,r))}function AS(e){Bp.current===e&&(Cr(Ls),Cr(Bp))}var Br=ql(0);function wy(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hx=[];function NS(){for(var e=0;e<hx.length;e++)hx[e]._workInProgressVersionPrimary=null;hx.length=0}var W0=$o.ReactCurrentDispatcher,px=$o.ReactCurrentBatchConfig,nc=0,Fr=null,jn=null,Cn=null,_y=!1,up=!1,Up=0,bF=0;function Yn(){throw Error(We(321))}function kS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!us(e[r],t[r]))return!1;return!0}function ES(e,t,r,n,i,a){if(nc=a,Fr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,W0.current=e===null||e.memoizedState===null?SF:jF,e=r(n,i),up){a=0;do{if(up=!1,Up=0,25<=a)throw Error(We(301));a+=1,Cn=jn=null,t.updateQueue=null,W0.current=AF,e=r(n,i)}while(up)}if(W0.current=Sy,t=jn!==null&&jn.next!==null,nc=0,Cn=jn=Fr=null,_y=!1,t)throw Error(We(300));return e}function OS(){var e=Up!==0;return Up=0,e}function Ns(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?Fr.memoizedState=Cn=e:Cn=Cn.next=e,Cn}function La(){if(jn===null){var e=Fr.alternate;e=e!==null?e.memoizedState:null}else e=jn.next;var t=Cn===null?Fr.memoizedState:Cn.next;if(t!==null)Cn=t,jn=e;else{if(e===null)throw Error(We(310));jn=e,e={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},Cn===null?Fr.memoizedState=Cn=e:Cn=Cn.next=e}return Cn}function zp(e,t){return typeof t=="function"?t(e):t}function mx(e){var t=La(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=jn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((nc&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Fr.lanes|=c,ic|=c}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,us(n,t.memoizedState)||(Ai=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Fr.lanes|=a,ic|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function gx(e){var t=La(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);us(a,t.memoizedState)||(Ai=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function nL(){}function iL(e,t){var r=Fr,n=La(),i=t(),a=!us(n.memoizedState,i);if(a&&(n.memoizedState=i,Ai=!0),n=n.queue,PS(oL.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Cn!==null&&Cn.memoizedState.tag&1){if(r.flags|=2048,qp(9,sL.bind(null,r,n,i,t),void 0,null),In===null)throw Error(We(349));nc&30||aL(r,t,i)}return i}function aL(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Fr.updateQueue,t===null?(t={lastEffect:null,stores:null},Fr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function sL(e,t,r,n){t.value=r,t.getSnapshot=n,lL(t)&&uL(e)}function oL(e,t,r){return r(function(){lL(t)&&uL(e)})}function lL(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!us(e,r)}catch{return!0}}function uL(e){var t=Po(e,1);t!==null&&ss(t,e,1,-1)}function ik(e){var t=Ns();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zp,lastRenderedState:e},t.queue=e,e=e.dispatch=_F.bind(null,Fr,e),[t.memoizedState,e]}function qp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Fr.updateQueue,t===null?(t={lastEffect:null,stores:null},Fr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function cL(){return La().memoizedState}function H0(e,t,r,n){var i=Ns();Fr.flags|=e,i.memoizedState=qp(1|t,r,void 0,n===void 0?null:n)}function r1(e,t,r,n){var i=La();n=n===void 0?null:n;var a=void 0;if(jn!==null){var s=jn.memoizedState;if(a=s.destroy,n!==null&&kS(n,s.deps)){i.memoizedState=qp(t,r,a,n);return}}Fr.flags|=e,i.memoizedState=qp(1|t,r,a,n)}function ak(e,t){return H0(8390656,8,e,t)}function PS(e,t){return r1(2048,8,e,t)}function dL(e,t){return r1(4,2,e,t)}function fL(e,t){return r1(4,4,e,t)}function hL(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pL(e,t,r){return r=r!=null?r.concat([e]):null,r1(4,4,hL.bind(null,t,e),r)}function CS(){}function mL(e,t){var r=La();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&kS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function gL(e,t){var r=La();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&kS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function yL(e,t,r){return nc&21?(us(r,t)||(r=_T(),Fr.lanes|=r,ic|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ai=!0),e.memoizedState=r)}function xF(e,t){var r=cr;cr=r!==0&&4>r?r:4,e(!0);var n=px.transition;px.transition={};try{e(!1),t()}finally{cr=r,px.transition=n}}function vL(){return La().memoizedState}function wF(e,t,r){var n=Cl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},bL(e))xL(t,r);else if(r=eL(e,t,r,n),r!==null){var i=mi();ss(r,e,n,i),wL(r,t,n)}}function _F(e,t,r){var n=Cl(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(bL(e))xL(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,us(o,s)){var l=t.interleaved;l===null?(i.next=i,_S(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=eL(e,t,i,n),r!==null&&(i=mi(),ss(r,e,n,i),wL(r,t,n))}}function bL(e){var t=e.alternate;return e===Fr||t!==null&&t===Fr}function xL(e,t){up=_y=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function wL(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,lS(e,r)}}var Sy={readContext:Ta,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},SF={readContext:Ta,useCallback:function(e,t){return Ns().memoizedState=[e,t===void 0?null:t],e},useContext:Ta,useEffect:ak,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,H0(4194308,4,hL.bind(null,t,e),r)},useLayoutEffect:function(e,t){return H0(4194308,4,e,t)},useInsertionEffect:function(e,t){return H0(4,2,e,t)},useMemo:function(e,t){var r=Ns();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ns();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=wF.bind(null,Fr,e),[n.memoizedState,e]},useRef:function(e){var t=Ns();return e={current:e},t.memoizedState=e},useState:ik,useDebugValue:CS,useDeferredValue:function(e){return Ns().memoizedState=e},useTransition:function(){var e=ik(!1),t=e[0];return e=xF.bind(null,e[1]),Ns().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Fr,i=Ns();if(Lr){if(r===void 0)throw Error(We(407));r=r()}else{if(r=t(),In===null)throw Error(We(349));nc&30||aL(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,ak(oL.bind(null,n,a,e),[e]),n.flags|=2048,qp(9,sL.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ns(),t=In.identifierPrefix;if(Lr){var r=vo,n=yo;r=(n&~(1<<32-as(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Up++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=bF++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jF={readContext:Ta,useCallback:mL,useContext:Ta,useEffect:PS,useImperativeHandle:pL,useInsertionEffect:dL,useLayoutEffect:fL,useMemo:gL,useReducer:mx,useRef:cL,useState:function(){return mx(zp)},useDebugValue:CS,useDeferredValue:function(e){var t=La();return yL(t,jn.memoizedState,e)},useTransition:function(){var e=mx(zp)[0],t=La().memoizedState;return[e,t]},useMutableSource:nL,useSyncExternalStore:iL,useId:vL,unstable_isNewReconciler:!1},AF={readContext:Ta,useCallback:mL,useContext:Ta,useEffect:PS,useImperativeHandle:pL,useInsertionEffect:dL,useLayoutEffect:fL,useMemo:gL,useReducer:gx,useRef:cL,useState:function(){return gx(zp)},useDebugValue:CS,useDeferredValue:function(e){var t=La();return jn===null?t.memoizedState=e:yL(t,jn.memoizedState,e)},useTransition:function(){var e=gx(zp)[0],t=La().memoizedState;return[e,t]},useMutableSource:nL,useSyncExternalStore:iL,useId:vL,unstable_isNewReconciler:!1};function Za(e,t){if(e&&e.defaultProps){t=Ur({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function yw(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ur({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var n1={isMounted:function(e){return(e=e._reactInternals)?gc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=mi(),i=Cl(e),a=So(n,i);a.payload=t,r!=null&&(a.callback=r),t=Ol(e,a,i),t!==null&&(ss(t,e,i,n),q0(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=mi(),i=Cl(e),a=So(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ol(e,a,i),t!==null&&(ss(t,e,i,n),q0(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=mi(),n=Cl(e),i=So(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ol(e,i,n),t!==null&&(ss(t,e,n,r),q0(t,e,n))}};function sk(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!Rp(r,n)||!Rp(i,a):!0}function _L(e,t,r){var n=!1,i=Ml,a=t.contextType;return typeof a=="object"&&a!==null?a=Ta(a):(i=Ei(t)?tc:ai.current,n=t.contextTypes,a=(n=n!=null)?zd(e,i):Ml),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=n1,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ok(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&n1.enqueueReplaceState(t,t.state,null)}function vw(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},SS(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ta(a):(a=Ei(t)?tc:ai.current,i.context=zd(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(yw(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&n1.enqueueReplaceState(i,i.state,null),xy(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Vd(e,t){try{var r="",n=t;do r+=Q9(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function yx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function bw(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var NF=typeof WeakMap=="function"?WeakMap:Map;function SL(e,t,r){r=So(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ay||(Ay=!0,Ow=n),bw(e,t)},r}function jL(e,t,r){r=So(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){bw(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){bw(e,t),typeof n!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function lk(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new NF;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=FF.bind(null,e,t,r),t.then(e,e))}function uk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ck(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=So(-1,1),t.tag=2,Ol(r,t,1))),r.lanes|=1),e)}var kF=$o.ReactCurrentOwner,Ai=!1;function ci(e,t,r,n){t.child=e===null?QT(t,null,r,n):Wd(t,e.child,r,n)}function dk(e,t,r,n,i){r=r.render;var a=t.ref;return Ed(t,i),n=ES(e,t,r,n,a,i),r=OS(),e!==null&&!Ai?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Co(e,t,i)):(Lr&&r&&gS(t),t.flags|=1,ci(e,t,n,i),t.child)}function fk(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!BS(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,AL(e,t,a,n,i)):(e=Y0(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Rp,r(s,n)&&e.ref===t.ref)return Co(e,t,i)}return t.flags|=1,e=Tl(a,n),e.ref=t.ref,e.return=t,t.child=e}function AL(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Rp(a,n)&&e.ref===t.ref)if(Ai=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Ai=!0);else return t.lanes=e.lanes,Co(e,t,i)}return xw(e,t,r,n,i)}function NL(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sr(yd,Gi),Gi|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sr(yd,Gi),Gi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Sr(yd,Gi),Gi|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Sr(yd,Gi),Gi|=n;return ci(e,t,i,r),t.child}function kL(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function xw(e,t,r,n,i){var a=Ei(r)?tc:ai.current;return a=zd(t,a),Ed(t,i),r=ES(e,t,r,n,a,i),n=OS(),e!==null&&!Ai?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Co(e,t,i)):(Lr&&n&&gS(t),t.flags|=1,ci(e,t,r,i),t.child)}function hk(e,t,r,n,i){if(Ei(r)){var a=!0;my(t)}else a=!1;if(Ed(t,i),t.stateNode===null)V0(e,t),_L(t,r,n),vw(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ta(u):(u=Ei(r)?tc:ai.current,u=zd(t,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&ok(t,s,n,u),fl=!1;var p=t.memoizedState;s.state=p,xy(t,n,s,i),l=t.memoizedState,o!==n||p!==l||ki.current||fl?(typeof c=="function"&&(yw(t,r,c,n),l=t.memoizedState),(o=fl||sk(t,r,o,n,p,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,tL(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Za(t.type,o),s.props=u,f=t.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ta(l):(l=Ei(r)?tc:ai.current,l=zd(t,l));var h=r.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||p!==l)&&ok(t,s,n,l),fl=!1,p=t.memoizedState,s.state=p,xy(t,n,s,i);var y=t.memoizedState;o!==f||p!==y||ki.current||fl?(typeof h=="function"&&(yw(t,r,h,n),y=t.memoizedState),(u=fl||sk(t,r,u,n,p,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,y,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),s.props=n,s.state=y,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return ww(e,t,r,n,a,i)}function ww(e,t,r,n,i,a){kL(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&ZN(t,r,!1),Co(e,t,a);n=t.stateNode,kF.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Wd(t,e.child,null,a),t.child=Wd(t,null,o,a)):ci(e,t,o,a),t.memoizedState=n.state,i&&ZN(t,r,!0),t.child}function EL(e){var t=e.stateNode;t.pendingContext?JN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&JN(e,t.context,!1),jS(e,t.containerInfo)}function pk(e,t,r,n,i){return qd(),vS(i),t.flags|=256,ci(e,t,r,n),t.child}var _w={dehydrated:null,treeContext:null,retryLane:0};function Sw(e){return{baseLanes:e,cachePool:null,transitions:null}}function OL(e,t,r){var n=t.pendingProps,i=Br.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Sr(Br,i&1),e===null)return mw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=s1(s,n,0,null),e=Ju(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Sw(r),t.memoizedState=_w,e):TS(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return EF(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Tl(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Tl(o,a):(a=Ju(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?Sw(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=_w,n}return a=e.child,e=a.sibling,n=Tl(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function TS(e,t){return t=s1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qg(e,t,r,n){return n!==null&&vS(n),Wd(t,e.child,null,r),e=TS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function EF(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=yx(Error(We(422))),Qg(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=s1({mode:"visible",children:n.children},i,0,null),a=Ju(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Wd(t,e.child,null,s),t.child.memoizedState=Sw(s),t.memoizedState=_w,a);if(!(t.mode&1))return Qg(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(We(419)),n=yx(a,n,void 0),Qg(e,t,s,n)}if(o=(s&e.childLanes)!==0,Ai||o){if(n=In,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Po(e,i),ss(n,e,i,-1))}return DS(),n=yx(Error(We(421))),Qg(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=UF.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Qi=El(i.nextSibling),ra=t,Lr=!0,ns=null,e!==null&&(_a[Sa++]=yo,_a[Sa++]=vo,_a[Sa++]=rc,yo=e.id,vo=e.overflow,rc=t),t=TS(t,n.children),t.flags|=4096,t)}function mk(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),gw(e.return,t,r)}function vx(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function PL(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(ci(e,t,n.children,r),n=Br.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mk(e,r,t);else if(e.tag===19)mk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Sr(Br,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&wy(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),vx(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&wy(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}vx(t,!0,r,null,a);break;case"together":vx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function V0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Co(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ic|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(We(153));if(t.child!==null){for(e=t.child,r=Tl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Tl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function OF(e,t,r){switch(t.tag){case 3:EL(t),qd();break;case 5:rL(t);break;case 1:Ei(t.type)&&my(t);break;case 4:jS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Sr(vy,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Sr(Br,Br.current&1),t.flags|=128,null):r&t.child.childLanes?OL(e,t,r):(Sr(Br,Br.current&1),e=Co(e,t,r),e!==null?e.sibling:null);Sr(Br,Br.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return PL(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Sr(Br,Br.current),n)break;return null;case 22:case 23:return t.lanes=0,NL(e,t,r)}return Co(e,t,r)}var CL,jw,TL,LL;CL=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};jw=function(){};TL=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Wu(Ls.current);var a=null;switch(r){case"input":i=V2(e,i),n=V2(e,n),a=[];break;case"select":i=Ur({},i,{value:void 0}),n=Ur({},n,{value:void 0}),a=[];break;case"textarea":i=Y2(e,i),n=Y2(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=hy)}J2(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ep.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ep.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&kr("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};LL=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ih(e,t){if(!Lr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function PF(e,t,r){var n=t.pendingProps;switch(yS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(t),null;case 1:return Ei(t.type)&&py(),Xn(t),null;case 3:return n=t.stateNode,Hd(),Cr(ki),Cr(ai),NS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Jg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ns!==null&&(Tw(ns),ns=null))),jw(e,t),Xn(t),null;case 5:AS(t);var i=Wu(Fp.current);if(r=t.type,e!==null&&t.stateNode!=null)TL(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(We(166));return Xn(t),null}if(e=Wu(Ls.current),Jg(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Es]=t,n[Dp]=a,e=(t.mode&1)!==0,r){case"dialog":kr("cancel",n),kr("close",n);break;case"iframe":case"object":case"embed":kr("load",n);break;case"video":case"audio":for(i=0;i<ep.length;i++)kr(ep[i],n);break;case"source":kr("error",n);break;case"img":case"image":case"link":kr("error",n),kr("load",n);break;case"details":kr("toggle",n);break;case"input":jN(n,a),kr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},kr("invalid",n);break;case"textarea":NN(n,a),kr("invalid",n)}J2(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Xg(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Xg(n.textContent,o,e),i=["children",""+o]):Ep.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&kr("scroll",n)}switch(r){case"input":zg(n),AN(n,a,!0);break;case"textarea":zg(n),kN(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=hy)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oT(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Es]=t,e[Dp]=n,CL(e,t,!1,!1),t.stateNode=e;e:{switch(s=Z2(r,n),r){case"dialog":kr("cancel",e),kr("close",e),i=n;break;case"iframe":case"object":case"embed":kr("load",e),i=n;break;case"video":case"audio":for(i=0;i<ep.length;i++)kr(ep[i],e);i=n;break;case"source":kr("error",e),i=n;break;case"img":case"image":case"link":kr("error",e),kr("load",e),i=n;break;case"details":kr("toggle",e),i=n;break;case"input":jN(e,n),i=V2(e,n),kr("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ur({},n,{value:void 0}),kr("invalid",e);break;case"textarea":NN(e,n),i=Y2(e,n),kr("invalid",e);break;default:i=n}J2(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?cT(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lT(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Op(e,l):typeof l=="number"&&Op(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ep.hasOwnProperty(a)?l!=null&&a==="onScroll"&&kr("scroll",e):l!=null&&rS(e,a,l,s))}switch(r){case"input":zg(e),AN(e,n,!1);break;case"textarea":zg(e),kN(e);break;case"option":n.value!=null&&e.setAttribute("value",""+$l(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?jd(e,!!n.multiple,a,!1):n.defaultValue!=null&&jd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=hy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xn(t),null;case 6:if(e&&t.stateNode!=null)LL(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(We(166));if(r=Wu(Fp.current),Wu(Ls.current),Jg(t)){if(n=t.stateNode,r=t.memoizedProps,n[Es]=t,(a=n.nodeValue!==r)&&(e=ra,e!==null))switch(e.tag){case 3:Xg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xg(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Es]=t,t.stateNode=n}return Xn(t),null;case 13:if(Cr(Br),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Lr&&Qi!==null&&t.mode&1&&!(t.flags&128))JT(),qd(),t.flags|=98560,a=!1;else if(a=Jg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(We(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(We(317));a[Es]=t}else qd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xn(t),a=!1}else ns!==null&&(Tw(ns),ns=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Br.current&1?Nn===0&&(Nn=3):DS())),t.updateQueue!==null&&(t.flags|=4),Xn(t),null);case 4:return Hd(),jw(e,t),e===null&&$p(t.stateNode.containerInfo),Xn(t),null;case 10:return wS(t.type._context),Xn(t),null;case 17:return Ei(t.type)&&py(),Xn(t),null;case 19:if(Cr(Br),a=t.memoizedState,a===null)return Xn(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Ih(a,!1);else{if(Nn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=wy(e),s!==null){for(t.flags|=128,Ih(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Sr(Br,Br.current&1|2),t.child}e=e.sibling}a.tail!==null&&en()>Gd&&(t.flags|=128,n=!0,Ih(a,!1),t.lanes=4194304)}else{if(!n)if(e=wy(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ih(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Lr)return Xn(t),null}else 2*en()-a.renderingStartTime>Gd&&r!==1073741824&&(t.flags|=128,n=!0,Ih(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=en(),t.sibling=null,r=Br.current,Sr(Br,n?r&1|2:r&1),t):(Xn(t),null);case 22:case 23:return MS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Gi&1073741824&&(Xn(t),t.subtreeFlags&6&&(t.flags|=8192)):Xn(t),null;case 24:return null;case 25:return null}throw Error(We(156,t.tag))}function CF(e,t){switch(yS(t),t.tag){case 1:return Ei(t.type)&&py(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hd(),Cr(ki),Cr(ai),NS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return AS(t),null;case 13:if(Cr(Br),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(We(340));qd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Cr(Br),null;case 4:return Hd(),null;case 10:return wS(t.type._context),null;case 22:case 23:return MS(),null;case 24:return null;default:return null}}var e0=!1,ni=!1,TF=typeof WeakSet=="function"?WeakSet:Set,tt=null;function gd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Gr(e,t,n)}else r.current=null}function Aw(e,t,r){try{r()}catch(n){Gr(e,t,n)}}var gk=!1;function LF(e,t){if(lw=cy,e=DT(),mS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=e,p=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===r&&++u===i&&(o=s),p===a&&++c===n&&(l=s),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(uw={focusedElem:e,selectionRange:r},cy=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){t=tt;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,b=y.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Za(t.type,g),b);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(A){Gr(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}return y=gk,gk=!1,y}function cp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Aw(t,r,a)}i=i.next}while(i!==n)}}function i1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Nw(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function IL(e){var t=e.alternate;t!==null&&(e.alternate=null,IL(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Es],delete t[Dp],delete t[fw],delete t[mF],delete t[gF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function RL(e){return e.tag===5||e.tag===3||e.tag===4}function yk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||RL(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=hy));else if(n!==4&&(e=e.child,e!==null))for(kw(e,t,r),e=e.sibling;e!==null;)kw(e,t,r),e=e.sibling}function Ew(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ew(e,t,r),e=e.sibling;e!==null;)Ew(e,t,r),e=e.sibling}var zn=null,es=!1;function sl(e,t,r){for(r=r.child;r!==null;)$L(e,t,r),r=r.sibling}function $L(e,t,r){if(Ts&&typeof Ts.onCommitFiberUnmount=="function")try{Ts.onCommitFiberUnmount(Xv,r)}catch{}switch(r.tag){case 5:ni||gd(r,t);case 6:var n=zn,i=es;zn=null,sl(e,t,r),zn=n,es=i,zn!==null&&(es?(e=zn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):zn.removeChild(r.stateNode));break;case 18:zn!==null&&(es?(e=zn,r=r.stateNode,e.nodeType===8?dx(e.parentNode,r):e.nodeType===1&&dx(e,r),Lp(e)):dx(zn,r.stateNode));break;case 4:n=zn,i=es,zn=r.stateNode.containerInfo,es=!0,sl(e,t,r),zn=n,es=i;break;case 0:case 11:case 14:case 15:if(!ni&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Aw(r,t,s),i=i.next}while(i!==n)}sl(e,t,r);break;case 1:if(!ni&&(gd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Gr(r,t,o)}sl(e,t,r);break;case 21:sl(e,t,r);break;case 22:r.mode&1?(ni=(n=ni)||r.memoizedState!==null,sl(e,t,r),ni=n):sl(e,t,r);break;default:sl(e,t,r)}}function vk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new TF),t.forEach(function(n){var i=zF.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Va(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:zn=o.stateNode,es=!1;break e;case 3:zn=o.stateNode.containerInfo,es=!0;break e;case 4:zn=o.stateNode.containerInfo,es=!0;break e}o=o.return}if(zn===null)throw Error(We(160));$L(a,s,i),zn=null,es=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Gr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ML(t,e),t=t.sibling}function ML(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Va(t,e),_s(e),n&4){try{cp(3,e,e.return),i1(3,e)}catch(g){Gr(e,e.return,g)}try{cp(5,e,e.return)}catch(g){Gr(e,e.return,g)}}break;case 1:Va(t,e),_s(e),n&512&&r!==null&&gd(r,r.return);break;case 5:if(Va(t,e),_s(e),n&512&&r!==null&&gd(r,r.return),e.flags&32){var i=e.stateNode;try{Op(i,"")}catch(g){Gr(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&aT(i,a),Z2(o,s);var u=Z2(o,a);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?cT(i,f):c==="dangerouslySetInnerHTML"?lT(i,f):c==="children"?Op(i,f):rS(i,c,f,u)}switch(o){case"input":G2(i,a);break;case"textarea":sT(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?jd(i,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?jd(i,!!a.multiple,a.defaultValue,!0):jd(i,!!a.multiple,a.multiple?[]:"",!1))}i[Dp]=a}catch(g){Gr(e,e.return,g)}}break;case 6:if(Va(t,e),_s(e),n&4){if(e.stateNode===null)throw Error(We(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Gr(e,e.return,g)}}break;case 3:if(Va(t,e),_s(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Lp(t.containerInfo)}catch(g){Gr(e,e.return,g)}break;case 4:Va(t,e),_s(e);break;case 13:Va(t,e),_s(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(RS=en())),n&4&&vk(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(ni=(u=ni)||c,Va(t,e),ni=u):Va(t,e),_s(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(tt=e,c=e.child;c!==null;){for(f=tt=c;tt!==null;){switch(p=tt,h=p.child,p.tag){case 0:case 11:case 14:case 15:cp(4,p,p.return);break;case 1:gd(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){Gr(n,r,g)}}break;case 5:gd(p,p.return);break;case 22:if(p.memoizedState!==null){xk(f);continue}}h!==null?(h.return=p,tt=h):xk(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=uT("display",s))}catch(g){Gr(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Gr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Va(t,e),_s(e),n&4&&vk(e);break;case 21:break;default:Va(t,e),_s(e)}}function _s(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(RL(r)){var n=r;break e}r=r.return}throw Error(We(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Op(i,""),n.flags&=-33);var a=yk(e);Ew(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=yk(e);kw(e,o,s);break;default:throw Error(We(161))}}catch(l){Gr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IF(e,t,r){tt=e,DL(e)}function DL(e,t,r){for(var n=(e.mode&1)!==0;tt!==null;){var i=tt,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||e0;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ni;o=e0;var u=ni;if(e0=s,(ni=l)&&!u)for(tt=i;tt!==null;)s=tt,l=s.child,s.tag===22&&s.memoizedState!==null?wk(i):l!==null?(l.return=s,tt=l):wk(i);for(;a!==null;)tt=a,DL(a),a=a.sibling;tt=i,e0=o,ni=u}bk(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,tt=a):bk(e)}}function bk(e){for(;tt!==null;){var t=tt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ni||i1(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ni)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Za(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&nk(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}nk(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Lp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}ni||t.flags&512&&Nw(t)}catch(p){Gr(t,t.return,p)}}if(t===e){tt=null;break}if(r=t.sibling,r!==null){r.return=t.return,tt=r;break}tt=t.return}}function xk(e){for(;tt!==null;){var t=tt;if(t===e){tt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,tt=r;break}tt=t.return}}function wk(e){for(;tt!==null;){var t=tt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{i1(4,t)}catch(l){Gr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Gr(t,i,l)}}var a=t.return;try{Nw(t)}catch(l){Gr(t,a,l)}break;case 5:var s=t.return;try{Nw(t)}catch(l){Gr(t,s,l)}}}catch(l){Gr(t,t.return,l)}if(t===e){tt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,tt=o;break}tt=t.return}}var RF=Math.ceil,jy=$o.ReactCurrentDispatcher,LS=$o.ReactCurrentOwner,Pa=$o.ReactCurrentBatchConfig,Yt=0,In=null,pn=null,qn=0,Gi=0,yd=ql(0),Nn=0,Wp=null,ic=0,a1=0,IS=0,dp=null,ji=null,RS=0,Gd=1/0,co=null,Ay=!1,Ow=null,Pl=null,t0=!1,wl=null,Ny=0,fp=0,Pw=null,G0=-1,K0=0;function mi(){return Yt&6?en():G0!==-1?G0:G0=en()}function Cl(e){return e.mode&1?Yt&2&&qn!==0?qn&-qn:vF.transition!==null?(K0===0&&(K0=_T()),K0):(e=cr,e!==0||(e=window.event,e=e===void 0?16:OT(e.type)),e):1}function ss(e,t,r,n){if(50<fp)throw fp=0,Pw=null,Error(We(185));Dm(e,r,n),(!(Yt&2)||e!==In)&&(e===In&&(!(Yt&2)&&(a1|=r),Nn===4&&gl(e,qn)),Oi(e,n),r===1&&Yt===0&&!(t.mode&1)&&(Gd=en()+500,t1&&Wl()))}function Oi(e,t){var r=e.callbackNode;vB(e,t);var n=uy(e,e===In?qn:0);if(n===0)r!==null&&PN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&PN(r),t===1)e.tag===0?yF(_k.bind(null,e)):KT(_k.bind(null,e)),hF(function(){!(Yt&6)&&Wl()}),r=null;else{switch(ST(n)){case 1:r=oS;break;case 4:r=xT;break;case 16:r=ly;break;case 536870912:r=wT;break;default:r=ly}r=VL(r,BL.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function BL(e,t){if(G0=-1,K0=0,Yt&6)throw Error(We(327));var r=e.callbackNode;if(Od()&&e.callbackNode!==r)return null;var n=uy(e,e===In?qn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ky(e,n);else{t=n;var i=Yt;Yt|=2;var a=UL();(In!==e||qn!==t)&&(co=null,Gd=en()+500,Xu(e,t));do try{DF();break}catch(o){FL(e,o)}while(!0);xS(),jy.current=a,Yt=i,pn!==null?t=0:(In=null,qn=0,t=Nn)}if(t!==0){if(t===2&&(i=nw(e),i!==0&&(n=i,t=Cw(e,i))),t===1)throw r=Wp,Xu(e,0),gl(e,n),Oi(e,en()),r;if(t===6)gl(e,n);else{if(i=e.current.alternate,!(n&30)&&!$F(i)&&(t=ky(e,n),t===2&&(a=nw(e),a!==0&&(n=a,t=Cw(e,a))),t===1))throw r=Wp,Xu(e,0),gl(e,n),Oi(e,en()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(We(345));case 2:Pu(e,ji,co);break;case 3:if(gl(e,n),(n&130023424)===n&&(t=RS+500-en(),10<t)){if(uy(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){mi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=dw(Pu.bind(null,e,ji,co),t);break}Pu(e,ji,co);break;case 4:if(gl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-as(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=en()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*RF(n/1960))-n,10<n){e.timeoutHandle=dw(Pu.bind(null,e,ji,co),n);break}Pu(e,ji,co);break;case 5:Pu(e,ji,co);break;default:throw Error(We(329))}}}return Oi(e,en()),e.callbackNode===r?BL.bind(null,e):null}function Cw(e,t){var r=dp;return e.current.memoizedState.isDehydrated&&(Xu(e,t).flags|=256),e=ky(e,t),e!==2&&(t=ji,ji=r,t!==null&&Tw(t)),e}function Tw(e){ji===null?ji=e:ji.push.apply(ji,e)}function $F(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!us(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gl(e,t){for(t&=~IS,t&=~a1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-as(t),n=1<<r;e[r]=-1,t&=~n}}function _k(e){if(Yt&6)throw Error(We(327));Od();var t=uy(e,0);if(!(t&1))return Oi(e,en()),null;var r=ky(e,t);if(e.tag!==0&&r===2){var n=nw(e);n!==0&&(t=n,r=Cw(e,n))}if(r===1)throw r=Wp,Xu(e,0),gl(e,t),Oi(e,en()),r;if(r===6)throw Error(We(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e,ji,co),Oi(e,en()),null}function $S(e,t){var r=Yt;Yt|=1;try{return e(t)}finally{Yt=r,Yt===0&&(Gd=en()+500,t1&&Wl())}}function ac(e){wl!==null&&wl.tag===0&&!(Yt&6)&&Od();var t=Yt;Yt|=1;var r=Pa.transition,n=cr;try{if(Pa.transition=null,cr=1,e)return e()}finally{cr=n,Pa.transition=r,Yt=t,!(Yt&6)&&Wl()}}function MS(){Gi=yd.current,Cr(yd)}function Xu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,fF(r)),pn!==null)for(r=pn.return;r!==null;){var n=r;switch(yS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&py();break;case 3:Hd(),Cr(ki),Cr(ai),NS();break;case 5:AS(n);break;case 4:Hd();break;case 13:Cr(Br);break;case 19:Cr(Br);break;case 10:wS(n.type._context);break;case 22:case 23:MS()}r=r.return}if(In=e,pn=e=Tl(e.current,null),qn=Gi=t,Nn=0,Wp=null,IS=a1=ic=0,ji=dp=null,qu!==null){for(t=0;t<qu.length;t++)if(r=qu[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}qu=null}return e}function FL(e,t){do{var r=pn;try{if(xS(),W0.current=Sy,_y){for(var n=Fr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}_y=!1}if(nc=0,Cn=jn=Fr=null,up=!1,Up=0,LS.current=null,r===null||r.return===null){Nn=1,Wp=t,pn=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=qn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=uk(s);if(h!==null){h.flags&=-257,ck(h,s,o,a,t),h.mode&1&&lk(a,u,t),t=h,l=u;var y=t.updateQueue;if(y===null){var g=new Set;g.add(l),t.updateQueue=g}else y.add(l);break e}else{if(!(t&1)){lk(a,u,t),DS();break e}l=Error(We(426))}}else if(Lr&&o.mode&1){var b=uk(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ck(b,s,o,a,t),vS(Vd(l,o));break e}}a=l=Vd(l,o),Nn!==4&&(Nn=2),dp===null?dp=[a]:dp.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=SL(a,l,t);rk(a,v);break e;case 1:o=l;var w=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Pl===null||!Pl.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var A=jL(a,o,t);rk(a,A);break e}}a=a.return}while(a!==null)}qL(r)}catch(S){t=S,pn===r&&r!==null&&(pn=r=r.return);continue}break}while(!0)}function UL(){var e=jy.current;return jy.current=Sy,e===null?Sy:e}function DS(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),In===null||!(ic&268435455)&&!(a1&268435455)||gl(In,qn)}function ky(e,t){var r=Yt;Yt|=2;var n=UL();(In!==e||qn!==t)&&(co=null,Xu(e,t));do try{MF();break}catch(i){FL(e,i)}while(!0);if(xS(),Yt=r,jy.current=n,pn!==null)throw Error(We(261));return In=null,qn=0,Nn}function MF(){for(;pn!==null;)zL(pn)}function DF(){for(;pn!==null&&!uB();)zL(pn)}function zL(e){var t=HL(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,t===null?qL(e):pn=t,LS.current=null}function qL(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=CF(r,t),r!==null){r.flags&=32767,pn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Nn=6,pn=null;return}}else if(r=PF(r,t,Gi),r!==null){pn=r;return}if(t=t.sibling,t!==null){pn=t;return}pn=t=e}while(t!==null);Nn===0&&(Nn=5)}function Pu(e,t,r){var n=cr,i=Pa.transition;try{Pa.transition=null,cr=1,BF(e,t,r,n)}finally{Pa.transition=i,cr=n}return null}function BF(e,t,r,n){do Od();while(wl!==null);if(Yt&6)throw Error(We(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(We(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(bB(e,a),e===In&&(pn=In=null,qn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||t0||(t0=!0,VL(ly,function(){return Od(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Pa.transition,Pa.transition=null;var s=cr;cr=1;var o=Yt;Yt|=4,LS.current=null,LF(e,r),ML(r,e),aF(uw),cy=!!lw,uw=lw=null,e.current=r,IF(r),cB(),Yt=o,cr=s,Pa.transition=a}else e.current=r;if(t0&&(t0=!1,wl=e,Ny=i),a=e.pendingLanes,a===0&&(Pl=null),hB(r.stateNode),Oi(e,en()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ay)throw Ay=!1,e=Ow,Ow=null,e;return Ny&1&&e.tag!==0&&Od(),a=e.pendingLanes,a&1?e===Pw?fp++:(fp=0,Pw=e):fp=0,Wl(),null}function Od(){if(wl!==null){var e=ST(Ny),t=Pa.transition,r=cr;try{if(Pa.transition=null,cr=16>e?16:e,wl===null)var n=!1;else{if(e=wl,wl=null,Ny=0,Yt&6)throw Error(We(331));var i=Yt;for(Yt|=4,tt=e.current;tt!==null;){var a=tt,s=a.child;if(tt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(tt=u;tt!==null;){var c=tt;switch(c.tag){case 0:case 11:case 15:cp(8,c,a)}var f=c.child;if(f!==null)f.return=c,tt=f;else for(;tt!==null;){c=tt;var p=c.sibling,h=c.return;if(IL(c),c===u){tt=null;break}if(p!==null){p.return=h,tt=p;break}tt=h}}}var y=a.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}tt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,tt=s;else e:for(;tt!==null;){if(a=tt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:cp(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,tt=v;break e}tt=a.return}}var w=e.current;for(tt=w;tt!==null;){s=tt;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,tt=_;else e:for(s=w;tt!==null;){if(o=tt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:i1(9,o)}}catch(S){Gr(o,o.return,S)}if(o===s){tt=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,tt=A;break e}tt=o.return}}if(Yt=i,Wl(),Ts&&typeof Ts.onPostCommitFiberRoot=="function")try{Ts.onPostCommitFiberRoot(Xv,e)}catch{}n=!0}return n}finally{cr=r,Pa.transition=t}}return!1}function Sk(e,t,r){t=Vd(r,t),t=SL(e,t,1),e=Ol(e,t,1),t=mi(),e!==null&&(Dm(e,1,t),Oi(e,t))}function Gr(e,t,r){if(e.tag===3)Sk(e,e,r);else for(;t!==null;){if(t.tag===3){Sk(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Pl===null||!Pl.has(n))){e=Vd(r,e),e=jL(t,e,1),t=Ol(t,e,1),e=mi(),t!==null&&(Dm(t,1,e),Oi(t,e));break}}t=t.return}}function FF(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=mi(),e.pingedLanes|=e.suspendedLanes&r,In===e&&(qn&r)===r&&(Nn===4||Nn===3&&(qn&130023424)===qn&&500>en()-RS?Xu(e,0):IS|=r),Oi(e,t)}function WL(e,t){t===0&&(e.mode&1?(t=Hg,Hg<<=1,!(Hg&130023424)&&(Hg=4194304)):t=1);var r=mi();e=Po(e,t),e!==null&&(Dm(e,t,r),Oi(e,r))}function UF(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),WL(e,r)}function zF(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(We(314))}n!==null&&n.delete(t),WL(e,r)}var HL;HL=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ki.current)Ai=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ai=!1,OF(e,t,r);Ai=!!(e.flags&131072)}else Ai=!1,Lr&&t.flags&1048576&&YT(t,yy,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;V0(e,t),e=t.pendingProps;var i=zd(t,ai.current);Ed(t,r),i=ES(null,t,n,e,i,r);var a=OS();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ei(n)?(a=!0,my(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,SS(t),i.updater=n1,t.stateNode=i,i._reactInternals=t,vw(t,n,e,r),t=ww(null,t,n,!0,a,r)):(t.tag=0,Lr&&a&&gS(t),ci(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(V0(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=WF(n),e=Za(n,e),i){case 0:t=xw(null,t,n,e,r);break e;case 1:t=hk(null,t,n,e,r);break e;case 11:t=dk(null,t,n,e,r);break e;case 14:t=fk(null,t,n,Za(n.type,e),r);break e}throw Error(We(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Za(n,i),xw(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Za(n,i),hk(e,t,n,i,r);case 3:e:{if(EL(t),e===null)throw Error(We(387));n=t.pendingProps,a=t.memoizedState,i=a.element,tL(e,t),xy(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Vd(Error(We(423)),t),t=pk(e,t,n,r,i);break e}else if(n!==i){i=Vd(Error(We(424)),t),t=pk(e,t,n,r,i);break e}else for(Qi=El(t.stateNode.containerInfo.firstChild),ra=t,Lr=!0,ns=null,r=QT(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(qd(),n===i){t=Co(e,t,r);break e}ci(e,t,n,r)}t=t.child}return t;case 5:return rL(t),e===null&&mw(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,cw(n,i)?s=null:a!==null&&cw(n,a)&&(t.flags|=32),kL(e,t),ci(e,t,s,r),t.child;case 6:return e===null&&mw(t),null;case 13:return OL(e,t,r);case 4:return jS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Wd(t,null,n,r):ci(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Za(n,i),dk(e,t,n,i,r);case 7:return ci(e,t,t.pendingProps,r),t.child;case 8:return ci(e,t,t.pendingProps.children,r),t.child;case 12:return ci(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Sr(vy,n._currentValue),n._currentValue=s,a!==null)if(us(a.value,s)){if(a.children===i.children&&!ki.current){t=Co(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=So(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),gw(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(We(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),gw(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}ci(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ed(t,r),i=Ta(i),n=n(i),t.flags|=1,ci(e,t,n,r),t.child;case 14:return n=t.type,i=Za(n,t.pendingProps),i=Za(n.type,i),fk(e,t,n,i,r);case 15:return AL(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Za(n,i),V0(e,t),t.tag=1,Ei(n)?(e=!0,my(t)):e=!1,Ed(t,r),_L(t,n,i),vw(t,n,i,r),ww(null,t,n,!0,e,r);case 19:return PL(e,t,r);case 22:return NL(e,t,r)}throw Error(We(156,t.tag))};function VL(e,t){return bT(e,t)}function qF(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ea(e,t,r,n){return new qF(e,t,r,n)}function BS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WF(e){if(typeof e=="function")return BS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===iS)return 11;if(e===aS)return 14}return 2}function Tl(e,t){var r=e.alternate;return r===null?(r=Ea(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Y0(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")BS(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case od:return Ju(r.children,i,a,t);case nS:s=8,i|=8;break;case z2:return e=Ea(12,r,t,i|2),e.elementType=z2,e.lanes=a,e;case q2:return e=Ea(13,r,t,i),e.elementType=q2,e.lanes=a,e;case W2:return e=Ea(19,r,t,i),e.elementType=W2,e.lanes=a,e;case rT:return s1(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case eT:s=10;break e;case tT:s=9;break e;case iS:s=11;break e;case aS:s=14;break e;case dl:s=16,n=null;break e}throw Error(We(130,e==null?e:typeof e,""))}return t=Ea(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Ju(e,t,r,n){return e=Ea(7,e,n,t),e.lanes=r,e}function s1(e,t,r,n){return e=Ea(22,e,n,t),e.elementType=rT,e.lanes=r,e.stateNode={isHidden:!1},e}function bx(e,t,r){return e=Ea(6,e,null,t),e.lanes=r,e}function xx(e,t,r){return t=Ea(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function HF(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ex(0),this.expirationTimes=ex(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ex(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function FS(e,t,r,n,i,a,s,o,l){return e=new HF(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ea(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},SS(a),e}function VF(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function GL(e){if(!e)return Ml;e=e._reactInternals;e:{if(gc(e)!==e||e.tag!==1)throw Error(We(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ei(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(We(171))}if(e.tag===1){var r=e.type;if(Ei(r))return GT(e,r,t)}return t}function KL(e,t,r,n,i,a,s,o,l){return e=FS(r,n,!0,e,i,a,s,o,l),e.context=GL(null),r=e.current,n=mi(),i=Cl(r),a=So(n,i),a.callback=t??null,Ol(r,a,i),e.current.lanes=i,Dm(e,i,n),Oi(e,n),e}function o1(e,t,r,n){var i=t.current,a=mi(),s=Cl(i);return r=GL(r),t.context===null?t.context=r:t.pendingContext=r,t=So(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ol(i,t,s),e!==null&&(ss(e,i,s,a),q0(e,i,s)),s}function Ey(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function US(e,t){jk(e,t),(e=e.alternate)&&jk(e,t)}function GF(){return null}var YL=typeof reportError=="function"?reportError:function(e){console.error(e)};function zS(e){this._internalRoot=e}l1.prototype.render=zS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(We(409));o1(e,t,null,null)};l1.prototype.unmount=zS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ac(function(){o1(null,e,null,null)}),t[Oo]=null}};function l1(e){this._internalRoot=e}l1.prototype.unstable_scheduleHydration=function(e){if(e){var t=NT();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ml.length&&t!==0&&t<ml[r].priority;r++);ml.splice(r,0,e),r===0&&ET(e)}};function qS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ak(){}function KF(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Ey(s);a.call(u)}}var s=KL(t,n,e,0,null,!1,!1,"",Ak);return e._reactRootContainer=s,e[Oo]=s.current,$p(e.nodeType===8?e.parentNode:e),ac(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Ey(l);o.call(u)}}var l=FS(e,0,!1,null,null,!1,!1,"",Ak);return e._reactRootContainer=l,e[Oo]=l.current,$p(e.nodeType===8?e.parentNode:e),ac(function(){o1(t,l,r,n)}),l}function c1(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Ey(s);o.call(l)}}o1(t,s,e,i)}else s=KF(r,t,e,i,n);return Ey(s)}jT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Qh(t.pendingLanes);r!==0&&(lS(t,r|1),Oi(t,en()),!(Yt&6)&&(Gd=en()+500,Wl()))}break;case 13:ac(function(){var n=Po(e,1);if(n!==null){var i=mi();ss(n,e,1,i)}}),US(e,1)}};uS=function(e){if(e.tag===13){var t=Po(e,134217728);if(t!==null){var r=mi();ss(t,e,134217728,r)}US(e,134217728)}};AT=function(e){if(e.tag===13){var t=Cl(e),r=Po(e,t);if(r!==null){var n=mi();ss(r,e,t,n)}US(e,t)}};NT=function(){return cr};kT=function(e,t){var r=cr;try{return cr=e,t()}finally{cr=r}};ew=function(e,t,r){switch(t){case"input":if(G2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=e1(n);if(!i)throw Error(We(90));iT(n),G2(n,i)}}}break;case"textarea":sT(e,r);break;case"select":t=r.value,t!=null&&jd(e,!!r.multiple,t,!1)}};hT=$S;pT=ac;var YF={usingClientEntryPoint:!1,Events:[Fm,dd,e1,dT,fT,$S]},Rh={findFiberByHostInstance:zu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XF={bundleType:Rh.bundleType,version:Rh.version,rendererPackageName:Rh.rendererPackageName,rendererConfig:Rh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$o.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yT(e),e===null?null:e.stateNode},findFiberByHostInstance:Rh.findFiberByHostInstance||GF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var r0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!r0.isDisabled&&r0.supportsFiber)try{Xv=r0.inject(XF),Ts=r0}catch{}}oa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YF;oa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qS(t))throw Error(We(200));return VF(e,t,null,r)};oa.createRoot=function(e,t){if(!qS(e))throw Error(We(299));var r=!1,n="",i=YL;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=FS(e,1,!1,null,null,r,!1,n,i),e[Oo]=t.current,$p(e.nodeType===8?e.parentNode:e),new zS(t)};oa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(We(188)):(e=Object.keys(e).join(","),Error(We(268,e)));return e=yT(t),e=e===null?null:e.stateNode,e};oa.flushSync=function(e){return ac(e)};oa.hydrate=function(e,t,r){if(!u1(t))throw Error(We(200));return c1(null,e,t,!0,r)};oa.hydrateRoot=function(e,t,r){if(!qS(e))throw Error(We(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=YL;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=KL(t,null,e,1,r??null,i,!1,a,s),e[Oo]=t.current,$p(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new l1(t)};oa.render=function(e,t,r){if(!u1(t))throw Error(We(200));return c1(null,e,t,!1,r)};oa.unmountComponentAtNode=function(e){if(!u1(e))throw Error(We(40));return e._reactRootContainer?(ac(function(){c1(null,null,e,!1,function(){e._reactRootContainer=null,e[Oo]=null})}),!0):!1};oa.unstable_batchedUpdates=$S;oa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!u1(r))throw Error(We(200));if(e==null||e._reactInternals===void 0)throw Error(We(38));return c1(e,t,r,!1,n)};oa.version="18.3.1-next-f1338f8080-20240426";function XL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XL)}catch(e){console.error(e)}}XL(),XC.exports=oa;var JF=XC.exports,Nk=JF;F2.createRoot=Nk.createRoot,F2.hydrateRoot=Nk.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hp(){return Hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hp.apply(this,arguments)}var _l;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(_l||(_l={}));const kk="popstate";function ZF(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:s,hash:o}=n.location;return Lw("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Oy(i)}return eU(t,r,null,e)}function an(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function JL(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QF(){return Math.random().toString(36).substr(2,8)}function Ek(e,t){return{usr:e.state,key:e.key,idx:t}}function Lw(e,t,r,n){return r===void 0&&(r=null),Hp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pf(t):t,{state:r,key:t&&t.key||n||QF()})}function Oy(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function eU(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=_l.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Hp({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){o=_l.Pop;let b=c(),v=b==null?null:b-u;u=b,l&&l({action:o,location:g.location,delta:v})}function p(b,v){o=_l.Push;let w=Lw(g.location,b,v);u=c()+1;let _=Ek(w,u),A=g.createHref(w);try{s.pushState(_,"",A)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(A)}a&&l&&l({action:o,location:g.location,delta:1})}function h(b,v){o=_l.Replace;let w=Lw(g.location,b,v);u=c();let _=Ek(w,u),A=g.createHref(w);s.replaceState(_,"",A),a&&l&&l({action:o,location:g.location,delta:0})}function y(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:Oy(b);return w=w.replace(/ $/,"%20"),an(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let g={get action(){return o},get location(){return e(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(kk,f),l=b,()=>{i.removeEventListener(kk,f),l=null}},createHref(b){return t(i,b)},createURL:y,encodeLocation(b){let v=y(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:h,go(b){return s.go(b)}};return g}var Ok;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ok||(Ok={}));function tU(e,t,r){return r===void 0&&(r="/"),rU(e,t,r)}function rU(e,t,r,n){let i=typeof t=="string"?Pf(t):t,a=WS(i.pathname||"/",r);if(a==null)return null;let s=ZL(e);nU(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=mU(a);o=fU(s[l],u)}return o}function ZL(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(an(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Ll([n,l.relativePath]),c=r.concat(l);a.children&&a.children.length>0&&(an(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ZL(a.children,t,c,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:cU(u,a.index),routesMeta:c})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of QL(a.path))i(a,s,l)}),t}function QL(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=QL(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function nU(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:dU(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const iU=/^:[\w-]+$/,aU=3,sU=2,oU=1,lU=10,uU=-2,Pk=e=>e==="*";function cU(e,t){let r=e.split("/"),n=r.length;return r.some(Pk)&&(n+=uU),t&&(n+=sU),r.filter(i=>!Pk(i)).reduce((i,a)=>i+(iU.test(a)?aU:a===""?oU:lU),n)}function dU(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function fU(e,t,r){let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=a==="/"?t:t.slice(a.length)||"/",f=hU({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Ll([a,f.pathname]),pathnameBase:bU(Ll([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=Ll([a,f.pathnameBase]))}return s}function hU(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=pU(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,c,f)=>{let{paramName:p,isOptional:h}=c;if(p==="*"){let g=o[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const y=o[f];return h&&!y?u[p]=void 0:u[p]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function pU(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),JL(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function mU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return JL(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function WS(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function gU(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Pf(e):e;return{pathname:r?r.startsWith("/")?r:yU(r,t):t,search:xU(n),hash:wU(i)}}function yU(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function wx(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vU(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function HS(e,t){let r=vU(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function VS(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Pf(e):(i=Hp({},e),an(!i.pathname||!i.pathname.includes("?"),wx("?","pathname","search",i)),an(!i.pathname||!i.pathname.includes("#"),wx("#","pathname","hash",i)),an(!i.search||!i.search.includes("#"),wx("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}o=f>=0?t[f]:"/"}let l=gU(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ll=e=>e.join("/").replace(/\/\/+/g,"/"),bU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _U(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const eI=["post","put","patch","delete"];new Set(eI);const SU=["get",...eI];new Set(SU);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vp.apply(this,arguments)}const GS=X.createContext(null),jU=X.createContext(null),Hl=X.createContext(null),d1=X.createContext(null),Mo=X.createContext({outlet:null,matches:[],isDataRoute:!1}),tI=X.createContext(null);function AU(e,t){let{relative:r}=t===void 0?{}:t;Cf()||an(!1);let{basename:n,navigator:i}=X.useContext(Hl),{hash:a,pathname:s,search:o}=nI(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Ll([n,s])),i.createHref({pathname:l,search:o,hash:a})}function Cf(){return X.useContext(d1)!=null}function yc(){return Cf()||an(!1),X.useContext(d1).location}function rI(e){X.useContext(Hl).static||X.useLayoutEffect(e)}function ds(){let{isDataRoute:e}=X.useContext(Mo);return e?DU():NU()}function NU(){Cf()||an(!1);let e=X.useContext(GS),{basename:t,future:r,navigator:n}=X.useContext(Hl),{matches:i}=X.useContext(Mo),{pathname:a}=yc(),s=JSON.stringify(HS(i,r.v7_relativeSplatPath)),o=X.useRef(!1);return rI(()=>{o.current=!0}),X.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=VS(u,JSON.parse(s),a,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ll([t,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[t,n,s,a,e])}function f1(){let{matches:e}=X.useContext(Mo),t=e[e.length-1];return t?t.params:{}}function nI(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=X.useContext(Hl),{matches:i}=X.useContext(Mo),{pathname:a}=yc(),s=JSON.stringify(HS(i,n.v7_relativeSplatPath));return X.useMemo(()=>VS(e,JSON.parse(s),a,r==="path"),[e,s,a,r])}function kU(e,t){return EU(e,t)}function EU(e,t,r,n){Cf()||an(!1);let{navigator:i}=X.useContext(Hl),{matches:a}=X.useContext(Mo),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=yc(),c;if(t){var f;let b=typeof t=="string"?Pf(t):t;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||an(!1),c=b}else c=u;let p=c.pathname||"/",h=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=tU(e,{pathname:h}),g=LU(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Ll([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Ll([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return t&&g?X.createElement(d1.Provider,{value:{location:Vp({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:_l.Pop}},g):g}function OU(){let e=MU(),t=_U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},t),r?X.createElement("pre",{style:i},r):null,null)}const PU=X.createElement(OU,null);class CU extends X.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?X.createElement(Mo.Provider,{value:this.props.routeContext},X.createElement(tI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TU(e){let{routeContext:t,match:r,children:n}=e,i=X.useContext(GS);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),X.createElement(Mo.Provider,{value:t},n)}function LU(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let c=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);c>=0||an(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:p,errors:h}=r,y=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,p)=>{let h,y=!1,g=null,b=null;r&&(h=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||PU,l&&(u<0&&p===0?(BU("route-fallback"),y=!0,b=null):u===p&&(y=!0,b=f.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,p+1)),w=()=>{let _;return h?_=g:y?_=b:f.route.Component?_=X.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=c,X.createElement(TU,{match:f,routeContext:{outlet:c,matches:v,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?X.createElement(CU,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var iI=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(iI||{}),aI=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(aI||{});function IU(e){let t=X.useContext(GS);return t||an(!1),t}function RU(e){let t=X.useContext(jU);return t||an(!1),t}function $U(e){let t=X.useContext(Mo);return t||an(!1),t}function sI(e){let t=$U(),r=t.matches[t.matches.length-1];return r.route.id||an(!1),r.route.id}function MU(){var e;let t=X.useContext(tI),r=RU(),n=sI();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function DU(){let{router:e}=IU(iI.UseNavigateStable),t=sI(aI.UseNavigateStable),r=X.useRef(!1);return rI(()=>{r.current=!0}),X.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Vp({fromRouteId:t},a)))},[e,t])}const Ck={};function BU(e,t,r){Ck[e]||(Ck[e]=!0)}function FU(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function UU(e){let{to:t,replace:r,state:n,relative:i}=e;Cf()||an(!1);let{future:a,static:s}=X.useContext(Hl),{matches:o}=X.useContext(Mo),{pathname:l}=yc(),u=ds(),c=VS(t,HS(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return X.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function un(e){an(!1)}function zU(e){let{basename:t="/",children:r=null,location:n,navigationType:i=_l.Pop,navigator:a,static:s=!1,future:o}=e;Cf()&&an(!1);let l=t.replace(/^\/*/,"/"),u=X.useMemo(()=>({basename:l,navigator:a,static:s,future:Vp({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=Pf(n));let{pathname:c="/",search:f="",hash:p="",state:h=null,key:y="default"}=n,g=X.useMemo(()=>{let b=WS(c,l);return b==null?null:{location:{pathname:b,search:f,hash:p,state:h,key:y},navigationType:i}},[l,c,f,p,h,y,i]);return g==null?null:X.createElement(Hl.Provider,{value:u},X.createElement(d1.Provider,{children:r,value:g}))}function qU(e){let{children:t,location:r}=e;return kU(Iw(t),r)}new Promise(()=>{});function Iw(e,t){t===void 0&&(t=[]);let r=[];return X.Children.forEach(e,(n,i)=>{if(!X.isValidElement(n))return;let a=[...t,i];if(n.type===X.Fragment){r.push.apply(r,Iw(n.props.children,a));return}n.type!==un&&an(!1),!n.props.index||!n.props.children||an(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Iw(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rw.apply(this,arguments)}function WU(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function HU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VU(e,t){return e.button===0&&(!t||t==="_self")&&!HU(e)}const GU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KU="6";try{window.__reactRouterVersion=KU}catch{}const YU="startTransition",Tk=F9[YU];function XU(e){let{basename:t,children:r,future:n,window:i}=e,a=X.useRef();a.current==null&&(a.current=ZF({window:i,v5Compat:!0}));let s=a.current,[o,l]=X.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},c=X.useCallback(f=>{u&&Tk?Tk(()=>l(f)):l(f)},[l,u]);return X.useLayoutEffect(()=>s.listen(c),[s,c]),X.useEffect(()=>FU(n),[n]),X.createElement(zU,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const JU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oI=X.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f}=t,p=WU(t,GU),{basename:h}=X.useContext(Hl),y,g=!1;if(typeof u=="string"&&ZU.test(u)&&(y=u,JU))try{let _=new URL(window.location.href),A=u.startsWith("//")?new URL(_.protocol+u):new URL(u),S=WS(A.pathname,h);A.origin===_.origin&&S!=null?u=S+A.search+A.hash:g=!0}catch{}let b=AU(u,{relative:i}),v=QU(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:f});function w(_){n&&n(_),_.defaultPrevented||v(_)}return X.createElement("a",Rw({},p,{href:y||b,onClick:g||a?n:w,ref:r,target:l}))});var Lk;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Lk||(Lk={}));var Ik;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ik||(Ik={}));function QU(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=t===void 0?{}:t,l=ds(),u=yc(),c=nI(e,{relative:s});return X.useCallback(f=>{if(VU(f,r)){f.preventDefault();let p=n!==void 0?n:Oy(u)===Oy(c);l(e,{replace:p,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,c,n,i,r,e,a,s,o])}var $w=function(e,t){return $w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},$w(e,t)};function lI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");$w(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Py=function(){return Py=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Py.apply(this,arguments)};function Tf(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function uI(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(i<3?s(a):i>3?s(t,r,a):s(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function cI(e,t){return function(r,n){t(r,n,e)}}function dI(e,t,r,n,i,a){function s(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,p=!1,h=r.length-1;h>=0;h--){var y={};for(var g in n)y[g]=g==="access"?{}:n[g];for(var g in n.access)y.access[g]=n.access[g];y.addInitializer=function(v){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(v||null))};var b=(0,r[h])(o==="accessor"?{get:c.get,set:c.set}:c[l],y);if(o==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(f=s(b.get))&&(c.get=f),(f=s(b.set))&&(c.set=f),(f=s(b.init))&&i.unshift(f)}else(f=s(b))&&(o==="field"?i.unshift(f):c[l]=f)}u&&Object.defineProperty(u,n.name,c),p=!0}function fI(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function hI(e){return typeof e=="symbol"?e:"".concat(e)}function pI(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function mI(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ct(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}function gI(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var h1=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function yI(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&h1(t,e,r)}function Cy(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function KS(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function vI(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(KS(arguments[t]));return e}function bI(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}function xI(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Kd(e){return this instanceof Kd?(this.v=e,this):new Kd(e)}function wI(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(y){return Promise.resolve(y).then(h,f)}}function o(h,y){n[h]&&(i[h]=function(g){return new Promise(function(b,v){a.push([h,g,b,v])>1||l(h,g)})},y&&(i[h]=y(i[h])))}function l(h,y){try{u(n[h](y))}catch(g){p(a[0][3],g)}}function u(h){h.value instanceof Kd?Promise.resolve(h.value.v).then(c,f):p(a[0][2],h)}function c(h){l("next",h)}function f(h){l("throw",h)}function p(h,y){h(y),a.shift(),a.length&&l(a[0][0],a[0][1])}}function _I(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(s){return(r=!r)?{value:Kd(e[i](s)),done:!1}:a?a(s):s}:a}}function SI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Cy=="function"?Cy(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(s){return new Promise(function(o,l){s=e[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(u){a({value:u,done:o})},s)}}function jI(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var ez=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Mw=function(e){return Mw=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Mw(e)};function AI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Mw(e),n=0;n<r.length;n++)r[n]!=="default"&&h1(t,e,r[n]);return ez(t,e),t}function NI(e){return e&&e.__esModule?e:{default:e}}function kI(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function EI(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function OI(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function PI(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var tz=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function CI(e){function t(a){e.error=e.hasError?new tz(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(s){return t(s),i()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function TI(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,s){return n?t?".jsx":".js":i&&(!a||!s)?r:i+a+"."+s.toLowerCase()+"js"}):e}const rz={__extends:lI,__assign:Py,__rest:Tf,__decorate:uI,__param:cI,__esDecorate:dI,__runInitializers:fI,__propKey:hI,__setFunctionName:pI,__metadata:mI,__awaiter:ct,__generator:gI,__createBinding:h1,__exportStar:yI,__values:Cy,__read:KS,__spread:vI,__spreadArrays:bI,__spreadArray:xI,__await:Kd,__asyncGenerator:wI,__asyncDelegator:_I,__asyncValues:SI,__makeTemplateObject:jI,__importStar:AI,__importDefault:NI,__classPrivateFieldGet:kI,__classPrivateFieldSet:EI,__classPrivateFieldIn:OI,__addDisposableResource:PI,__disposeResources:CI,__rewriteRelativeImportExtension:TI},nz=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:PI,get __assign(){return Py},__asyncDelegator:_I,__asyncGenerator:wI,__asyncValues:SI,__await:Kd,__awaiter:ct,__classPrivateFieldGet:kI,__classPrivateFieldIn:OI,__classPrivateFieldSet:EI,__createBinding:h1,__decorate:uI,__disposeResources:CI,__esDecorate:dI,__exportStar:yI,__extends:lI,__generator:gI,__importDefault:NI,__importStar:AI,__makeTemplateObject:jI,__metadata:mI,__param:cI,__propKey:hI,__read:KS,__rest:Tf,__rewriteRelativeImportExtension:TI,__runInitializers:fI,__setFunctionName:pI,__spread:vI,__spreadArray:xI,__spreadArrays:bI,__values:Cy,default:rz},Symbol.toStringTag,{value:"Module"})),iz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class YS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class az extends YS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Rk extends YS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $k extends YS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Dw;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Dw||(Dw={}));class sz{constructor(t,{headers:r={},customFetch:n,region:i=Dw.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=iz(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ct(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:o,method:l,body:u,signal:c,timeout:f}=n;let p={},{region:h}=n;h||(h=this.region);const y=new URL(`${this.url}/${r}`);h&&h!=="any"&&(p["x-region"]=h,y.searchParams.set("forceFunctionRegion",h));let g;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(p["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(p["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let b=c;f&&(s=new AbortController,a=setTimeout(()=>s.abort(),f),c?(b=s.signal,c.addEventListener("abort",()=>s.abort())):b=s.signal);const v=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:g,signal:b}).catch(S=>{throw new az(S)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new Rk(v);if(!v.ok)throw new $k(v);let _=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),A;return _==="application/json"?A=yield v.json():_==="application/octet-stream"||_==="application/pdf"?A=yield v.blob():_==="text/event-stream"?A=v:_==="multipart/form-data"?A=yield v.formData():A=yield v.text(),{data:A,error:null,response:v}}catch(o){return{data:null,error:o,response:o instanceof $k||o instanceof Rk?o.context:void 0}}finally{a&&clearTimeout(a)}})}}var di={};const Lf=j9(nz);var n0={},i0={},a0={},s0={},o0={},l0={},Mk;function LI(){if(Mk)return l0;Mk=1,Object.defineProperty(l0,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return l0.default=e,l0}var Dk;function II(){if(Dk)return o0;Dk=1,Object.defineProperty(o0,"__esModule",{value:!0});const t=Lf.__importDefault(LI());class r{constructor(i){var a,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,f,p;let h=null,y=null,g=null,b=l.status,v=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=S:y=JSON.parse(S))}const _=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),A=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&A&&A.length>1&&(g=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(h={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,g=null,b=406,v="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await l.text();try{h=JSON.parse(_),Array.isArray(h)&&l.status===404&&(y=[],h=null,b=200,v="OK")}catch{l.status===404&&_===""?(b=204,v="No Content"):h={message:_}}if(h&&this.isMaybeSingle&&(!((p=h==null?void 0:h.details)===null||p===void 0)&&p.includes("0 rows"))&&(h=null,b=200,v="OK"),h&&this.shouldThrowOnError)throw new t.default(h)}return{error:h,data:y,count:g,status:b,statusText:v}});return this.shouldThrowOnError||(o=o.catch(l=>{var u,c,f;return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(c=l==null?void 0:l.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(f=l==null?void 0:l.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),o.then(i,a)}returns(){return this}overrideTypes(){return this}}return o0.default=r,o0}var Bk;function RI(){if(Bk)return s0;Bk=1,Object.defineProperty(s0,"__esModule",{value:!0});const t=Lf.__importDefault(II());class r extends t.default{select(i){let a=!1;const s=(i??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var c;const f=[i?"analyze":null,a?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return s0.default=r,s0}var Fk;function XS(){if(Fk)return a0;Fk=1,Object.defineProperty(a0,"__esModule",{value:!0});const t=Lf.__importDefault(RI()),r=new RegExp("[,()]");class n extends t.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:o,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${u}fts${c}.${s}`),this}match(a){return Object.entries(a).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(a,s,o){return this.url.searchParams.append(a,`not.${s}.${o}`),this}or(a,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,s,o){return this.url.searchParams.append(a,`${s}.${o}`),this}}return a0.default=n,a0}var Uk;function $I(){if(Uk)return i0;Uk=1,Object.defineProperty(i0,"__esModule",{value:!0});const t=Lf.__importDefault(XS());class r{constructor(i,{headers:a={},schema:s,fetch:o}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=o}select(i,a){const{head:s=!1,count:o}=a??{},l=s?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",c),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var o;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:a}={}){var s;const o="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return i0.default=r,i0}var zk;function oz(){if(zk)return n0;zk=1,Object.defineProperty(n0,"__esModule",{value:!0});const e=Lf,t=e.__importDefault($I()),r=e.__importDefault(XS());class n{constructor(a,{headers:s={},schema:o,fetch:l}={}){this.url=a,this.headers=new Headers(s),this.schemaName=o,this.fetch=l}from(a){const s=new URL(`${this.url}/${a}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:o=!1,get:l=!1,count:u}={}){var c;let f;const p=new URL(`${this.url}/rpc/${a}`);let h;o||l?(f=o?"HEAD":"GET",Object.entries(s).filter(([g,b])=>b!==void 0).map(([g,b])=>[g,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([g,b])=>{p.searchParams.append(g,b)})):(f="POST",h=s);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new r.default({method:f,url:p,headers:y,schema:this.schemaName,body:h,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return n0.default=n,n0}Object.defineProperty(di,"__esModule",{value:!0});var MI=di.PostgrestError=GI=di.PostgrestBuilder=HI=di.PostgrestTransformBuilder=qI=di.PostgrestFilterBuilder=UI=di.PostgrestQueryBuilder=BI=di.PostgrestClient=void 0;const If=Lf,DI=If.__importDefault(oz());var BI=di.PostgrestClient=DI.default;const FI=If.__importDefault($I());var UI=di.PostgrestQueryBuilder=FI.default;const zI=If.__importDefault(XS());var qI=di.PostgrestFilterBuilder=zI.default;const WI=If.__importDefault(RI());var HI=di.PostgrestTransformBuilder=WI.default;const VI=If.__importDefault(II());var GI=di.PostgrestBuilder=VI.default;const KI=If.__importDefault(LI());MI=di.PostgrestError=KI.default;var YI=di.default={PostgrestClient:DI.default,PostgrestQueryBuilder:FI.default,PostgrestFilterBuilder:zI.default,PostgrestTransformBuilder:WI.default,PostgrestBuilder:VI.default,PostgrestError:KI.default};const lz=DC({__proto__:null,get PostgrestBuilder(){return GI},get PostgrestClient(){return BI},get PostgrestError(){return MI},get PostgrestFilterBuilder(){return qI},get PostgrestQueryBuilder(){return UI},get PostgrestTransformBuilder(){return HI},default:YI},[di]),{PostgrestClient:uz,PostgrestQueryBuilder:hje,PostgrestFilterBuilder:pje,PostgrestTransformBuilder:mje,PostgrestBuilder:gje,PostgrestError:yje}=YI||lz;class cz{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const dz="2.81.0",fz=`realtime-js/${dz}`,XI="1.0.0",hz="2.0.0",qk=XI,Bw=1e4,pz=1e3,mz=100;var $u;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($u||($u={}));var Sn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Sn||(Sn={}));var wa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(wa||(wa={}));var Fw;(function(e){e.websocket="websocket"})(Fw||(Fw={}));var Mu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Mu||(Mu={}));class gz{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){const{join_ref:r,ref:n,event:i,topic:a,payload:s}=t,o=this.META_LENGTH+r.length+n.length+a.length+i.length,l=new ArrayBuffer(this.HEADER_LENGTH+o);let u=new DataView(l),c=0;u.setUint8(c++,this.KINDS.push),u.setUint8(c++,r.length),u.setUint8(c++,n.length),u.setUint8(c++,a.length),u.setUint8(c++,i.length),Array.from(r,p=>u.setUint8(c++,p.charCodeAt(0))),Array.from(n,p=>u.setUint8(c++,p.charCodeAt(0))),Array.from(a,p=>u.setUint8(c++,p.charCodeAt(0))),Array.from(i,p=>u.setUint8(c++,p.charCodeAt(0)));var f=new Uint8Array(l.byteLength+s.byteLength);return f.set(new Uint8Array(l),0),f.set(new Uint8Array(s),l.byteLength),f.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const{join_ref:i,ref:a,topic:s}=t,o=t.payload.event,l=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+s.length+o.length,c=new ArrayBuffer(this.HEADER_LENGTH+u);let f=new DataView(c),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,i.length),f.setUint8(p++,a.length),f.setUint8(p++,s.length),f.setUint8(p++,o.length),f.setUint8(p++,this.BINARY_ENCODING),Array.from(i,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(a,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(s,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(o,y=>f.setUint8(p++,y.charCodeAt(0)));var h=new Uint8Array(c.byteLength+l.byteLength);return h.set(new Uint8Array(c),0),h.set(new Uint8Array(l),c.byteLength),h.buffer}_encodeJsonUserBroadcastPush(t){var r,n;const{join_ref:i,ref:a,topic:s}=t,o=t.payload.event,l=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(l)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+s.length+o.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let h=new DataView(p),y=0;h.setUint8(y++,this.KINDS.userBroadcastPush),h.setUint8(y++,i.length),h.setUint8(y++,a.length),h.setUint8(y++,s.length),h.setUint8(y++,o.length),h.setUint8(y++,this.JSON_ENCODING),Array.from(i,b=>h.setUint8(y++,b.charCodeAt(0))),Array.from(a,b=>h.setUint8(y++,b.charCodeAt(0))),Array.from(s,b=>h.setUint8(y++,b.charCodeAt(0))),Array.from(o,b=>h.setUint8(y++,b.charCodeAt(0)));var g=new Uint8Array(p.byteLength+c.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(c),p.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,s,o,l]=n;return r({join_ref:i,ref:a,topic:s,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,i);case this.KINDS.reply:return this._decodeReply(t,r,i);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodePush(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3);let o=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(t.slice(o,o+i));o=o+i;const u=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+s));o=o+s;const f=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{join_ref:l,ref:null,topic:u,event:c,payload:f}}_decodeReply(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const u=n.decode(t.slice(l,l+i));l=l+i;const c=n.decode(t.slice(l,l+a));l=l+a;const f=n.decode(t.slice(l,l+s));l=l+s;const p=n.decode(t.slice(l,l+o));l=l+o;const h=JSON.parse(n.decode(t.slice(l,t.byteLength))),y={status:p,response:h};return{join_ref:u,ref:c,topic:f,event:wa.reply,payload:y}}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+i));s=s+i;const l=n.decode(t.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{join_ref:null,ref:null,topic:o,event:l,payload:u}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+i));l=l+i;const c=n.decode(t.slice(l,l+a));l=l+a;const f=n.decode(t.slice(l,l+s));l=l+s;const p=t.slice(l,t.byteLength),h=o===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,y={type:this.BROADCAST,event:c,payload:h};return s>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class JI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var br;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(br||(br={}));const Wk=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=yz(s,e,t,i),a),{}):{}},yz=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?ZI(a,s):Uw(s)},ZI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return wz(t,r)}switch(e){case br.bool:return vz(t);case br.float4:case br.float8:case br.int2:case br.int4:case br.int8:case br.numeric:case br.oid:return bz(t);case br.json:case br.jsonb:return xz(t);case br.timestamp:return _z(t);case br.abstime:case br.date:case br.daterange:case br.int4range:case br.int8range:case br.money:case br.reltime:case br.text:case br.time:case br.timestamptz:case br.timetz:case br.tsrange:case br.tstzrange:return Uw(t);default:return Uw(t)}},Uw=e=>e,vz=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},bz=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},xz=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},wz=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>ZI(t,o))}return e},_z=e=>typeof e=="string"?e.replace(" ","T"):e,QI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class _x{constructor(t,r,n={},i=Bw){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Hk;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Hk||(Hk={}));class hp{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hp.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=hp.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=hp.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(a,(u,c)=>{s[u]||(l[u]=c)}),this.map(s,(u,c)=>{const f=a[u];if(f){const p=c.map(b=>b.presence_ref),h=f.map(b=>b.presence_ref),y=c.filter(b=>h.indexOf(b.presence_ref)<0),g=f.filter(b=>p.indexOf(b.presence_ref)<0);y.length>0&&(o[u]=y),g.length>0&&(l[u]=g)}else o[u]=c}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var u;const c=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),c.length>0){const f=t[o].map(h=>h.presence_ref),p=c.filter(h=>f.indexOf(h.presence_ref)<0);t[o].unshift(...p)}n(o,c,l)}),this.map(s,(o,l)=>{let u=t[o];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[o]=u,i(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Vk||(Vk={}));var pp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(pp||(pp={}));var fo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(fo||(fo={}));class JS{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Sn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new _x(this,wa.join,this.params,this.timeout),this.rejoinTimer=new JI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Sn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Sn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Sn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Sn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Sn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wa.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new hp(this),this.broadcastEndpointURL=QI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Sn.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[pp.PRESENCE]&&this.bindings[pp.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},p={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(fo.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(fo.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var y;if(this.socket.setAuth(),h===void 0){t==null||t(fo.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,b=(y=g==null?void 0:g.length)!==null&&y!==void 0?y:0,v=[];for(let w=0;w<b;w++){const _=g[w],{filter:{event:A,schema:S,table:j,filter:O}}=_,L=h&&h[w];if(L&&L.event===A&&L.schema===S&&L.table===j&&L.filter===O)v.push(Object.assign(Object.assign({},_),{id:L.id}));else{this.unsubscribe(),this.state=Sn.errored,t==null||t(fo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(fo.SUBSCRIBED);return}}).receive("error",h=>{this.state=Sn.errored,t==null||t(fo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(fo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Sn.joined&&t===pp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Sn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new _x(this,wa.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Sn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new _x(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>mz){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=wa;if(n&&[o,l,u,c].indexOf(s)>=0&&n!==this._joinRef())return;let p=this._onMessage(s,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var y,g,b;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(g=h.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(h=>h.callback(p,n)):(a=this.bindings[s])===null||a===void 0||a.filter(h=>{var y,g,b,v,w,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const A=h.id,S=(y=h.filter)===null||y===void 0?void 0:y.event;return A&&((g=r.ids)===null||g===void 0?void 0:g.includes(A))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const A=(w=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return A==="*"||A===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:g,table:b,commit_timestamp:v,type:w,errors:_}=y;p=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:v,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(y))}h.callback(p,n)})}_isClosed(){return this.state===Sn.closed}_isJoined(){return this.state===Sn.joined}_isJoining(){return this.state===Sn.joining}_isLeaving(){return this.state===Sn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&JS.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(wa.close,{},t)}_onError(t){this._on(wa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Sn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Wk(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Wk(t.columns,t.old_record)),r}}const Sx=()=>{},u0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Sz=[1e3,2e3,5e3,1e4],jz=1e4,Az=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Nz{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bw,this.transport=null,this.heartbeatIntervalMs=u0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sx,this.ref=0,this.reconnectTimer=null,this.vsn=qk,this.logger=Sx,this.conn=null,this.sendBuffer=[],this.serializer=new gz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Fw.websocket}`,this.httpEndpoint=QI(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cz.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $u.connecting:return Mu.Connecting;case $u.open:return Mu.Open;case $u.closing:return Mu.Closing;default:return Mu.Closed}}isConnected(){return this.connectionState()===Mu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new JS(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(pz,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},u0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===$u.open||this.conn.readyState===$u.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(wa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Az],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:fz};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(wa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new JI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},u0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,o,l,u,c,f,p,h;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Bw,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:u0.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Sx,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:qk,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>Sz[y-1]||jz,this.vsn){case XI:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(y,g)=>g(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,g)=>g(JSON.parse(y));break;case hz:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class ZS extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Dr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class kz extends ZS{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zw extends ZS{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const QS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ez=()=>Response,qw=e=>{if(Array.isArray(e))return e.map(r=>qw(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=qw(n)}),t},Oz=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},jx=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Pz=(e,t,r)=>ct(void 0,void 0,void 0,function*(){const n=yield Ez();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new kz(jx(i),a,s))}).catch(i=>{t(new zw(jx(i),i))}):t(new zw(jx(e),e))}),Cz=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(Oz(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function zm(e,t,r,n,i,a){return ct(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,Cz(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>Pz(l,o,n))})})}function Gp(e,t,r,n){return ct(this,void 0,void 0,function*(){return zm(e,"GET",t,r,n)})}function Qa(e,t,r,n,i){return ct(this,void 0,void 0,function*(){return zm(e,"POST",t,n,i,r)})}function Ww(e,t,r,n,i){return ct(this,void 0,void 0,function*(){return zm(e,"PUT",t,n,i,r)})}function Tz(e,t,r,n){return ct(this,void 0,void 0,function*(){return zm(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function ej(e,t,r,n,i){return ct(this,void 0,void 0,function*(){return zm(e,"DELETE",t,n,i,r)})}class Lz{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ct(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Dr(t))return{data:null,error:t};throw t}})}}var e8;class Iz{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[e8]="BlobDownloadBuilder",this.promise=null}asStream(){return new Lz(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ct(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Dr(t))return{data:null,error:t};throw t}})}}e8=Symbol.toStringTag;const Rz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $z{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=QS(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return ct(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},Gk),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),f=yield(t=="PUT"?Ww:Qa)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Dr(a))return{data:null,error:a};throw a}})}upload(t,r,n){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return ct(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Gk.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield Ww(this.fetch,o.toString(),l,{headers:c});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Dr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return ct(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Qa(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new ZS("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dr(n))return{data:null,error:n};throw n}})}update(t,r,n){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ct(this,void 0,void 0,function*(){try{return{data:yield Qa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return ct(this,void 0,void 0,function*(){try{return{data:{path:(yield Qa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return ct(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Qa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return ct(this,void 0,void 0,function*(){try{const i=yield Qa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dr(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"",o=this._getFinalPath(t),l=()=>Gp(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new Iz(l,this.shouldThrowOnError)}info(t){return ct(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Gp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:qw(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dr(n))return{data:null,error:n};throw n}})}exists(t){return ct(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Tz(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dr(n)&&n instanceof zw){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return ct(this,void 0,void 0,function*(){try{return{data:yield ej(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}list(t,r,n){return ct(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Rz),r),{prefix:t||""});return{data:yield Qa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dr(i))return{data:null,error:i};throw i}})}listV2(t,r){return ct(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Qa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const t8="2.81.0",r8={"X-Client-Info":`storage-js/${t8}`};class Mz{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r8),r),this.fetch=QS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ct(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Gp(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}getBucket(t){return ct(this,void 0,void 0,function*(){try{return{data:yield Gp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}createBucket(t){return ct(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Qa(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dr(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return ct(this,void 0,void 0,function*(){try{return{data:yield Ww(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ct(this,void 0,void 0,function*(){try{return{data:yield Qa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ct(this,void 0,void 0,function*(){try{return{data:yield ej(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Dz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r8),r),this.fetch=QS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ct(this,void 0,void 0,function*(){try{return{data:yield Qa(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}listBuckets(t){return ct(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Gp(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ct(this,void 0,void 0,function*(){try{return{data:yield ej(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}}const tj={"X-Client-Info":`storage-js/${t8}`,"Content-Type":"application/json"};class n8 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Xi(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Ax extends n8{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bz extends n8{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Kk;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Kk||(Kk={}));const rj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Fz=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Yk=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Uz=(e,t,r)=>ct(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";t(new Ax(Yk(s),i,o))}).catch(()=>{const s=i+"",o=a.statusText||`HTTP ${i} error`;t(new Ax(o,i,s))});else{const s=i+"",o=a.statusText||`HTTP ${i} error`;t(new Ax(o,i,s))}}else t(new Bz(Yk(e),e))}),zz=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Fz(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function qz(e,t,r,n,i,a){return ct(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,zz(t,n,i,a)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>Uz(l,o,n))})})}function Ji(e,t,r,n,i){return ct(this,void 0,void 0,function*(){return qz(e,"POST",t,n,i,r)})}class Wz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tj),r),this.fetch=rj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ct(this,void 0,void 0,function*(){try{return{data:(yield Ji(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xi(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ct(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xi(n))return{data:null,error:n};throw n}})}listIndexes(t){return ct(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xi(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ct(this,void 0,void 0,function*(){try{return{data:(yield Ji(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xi(n))return{data:null,error:n};throw n}})}}class Hz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tj),r),this.fetch=rj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ct(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ji(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xi(r))return{data:null,error:r};throw r}})}getVectors(t){return ct(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xi(r))return{data:null,error:r};throw r}})}listVectors(t){return ct(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ji(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xi(r))return{data:null,error:r};throw r}})}queryVectors(t){return ct(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xi(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ct(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ji(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xi(r))return{data:null,error:r};throw r}})}}class Vz{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tj),r),this.fetch=rj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ct(this,void 0,void 0,function*(){try{return{data:(yield Ji(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xi(r))return{data:null,error:r};throw r}})}getBucket(t){return ct(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xi(r))return{data:null,error:r};throw r}})}listBuckets(){return ct(this,arguments,void 0,function*(t={}){try{return{data:yield Ji(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xi(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ct(this,void 0,void 0,function*(){try{return{data:(yield Ji(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xi(r))return{data:null,error:r};throw r}})}}class Gz extends Vz{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Kz(this.url,this.headers,t,this.fetch)}}class Kz extends Wz{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ct(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ct(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ct(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ct(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Yz(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Yz extends Hz{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ct(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ct(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ct(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ct(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ct(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Xz extends Mz{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new $z(this.url,this.headers,t,this.fetch)}get vectors(){return new Gz(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Dz(this.url+"/iceberg",this.headers,this.fetch)}}const Jz="2.81.0";let tp="";typeof Deno<"u"?tp="deno":typeof document<"u"?tp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tp="react-native":tp="node";const Zz={"X-Client-Info":`supabase-js-${tp}/${Jz}`},Qz={headers:Zz},eq={schema:"public"},tq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rq={},nq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),iq=()=>Headers,aq=(e,t,r)=>{const n=nq(r),i=iq();return async(a,s)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:u}))}};function sq(e){return e.endsWith("/")?e:e+"/"}function oq(e,t){var r,n;const{db:i,auth:a,realtime:s,global:o}=e,{db:l,auth:u,realtime:c,global:f}=t,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},c),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function lq(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(sq(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const i8="2.81.0",td=30*1e3,Hw=3,Nx=Hw*td,uq="http://localhost:9999",cq="supabase.auth.token",dq={"X-Client-Info":`gotrue-js/${i8}`},Vw="X-Supabase-Api-Version",a8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hq=10*60*1e3;class Kp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function pt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class pq extends Kp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function mq(e){return pt(e)&&e.name==="AuthApiError"}class Du extends Kp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Vl extends Kp{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Xa extends Vl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gq(e){return pt(e)&&e.name==="AuthSessionMissingError"}class zc extends Vl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class c0 extends Vl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class d0 extends Vl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yq(e){return pt(e)&&e.name==="AuthImplicitGrantRedirectError"}class Xk extends Vl{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gw extends Vl{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function kx(e){return pt(e)&&e.name==="AuthRetryableFetchError"}class Jk extends Vl{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Kw extends Vl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ty="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zk=` 	
\r=`.split(""),vq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Zk.length;t+=1)e[Zk[t].charCodeAt(0)]=-2;for(let t=0;t<Ty.length;t+=1)e[Ty[t].charCodeAt(0)]=t;return e})();function Qk(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ty[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ty[n]),t.queuedBits-=6}}function s8(e,t,r){const n=vq[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function e4(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{wq(s,n,r)};for(let s=0;s<e.length;s+=1)s8(e.charCodeAt(s),i,a);return t.join("")}function bq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function xq(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}bq(n,t)}}function wq(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Pd(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)s8(e.charCodeAt(i),r,n);return new Uint8Array(t)}function _q(e){const t=[];return xq(e,r=>t.push(r)),new Uint8Array(t)}function Hu(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Qk(i,r,n)),Qk(null,r,n),t.join("")}function Sq(e){return Math.round(Date.now()/1e3)+e}function jq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ti=()=>typeof window<"u"&&typeof document<"u",ju={tested:!1,writable:!1},o8=()=>{if(!ti())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ju.tested)return ju.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ju.tested=!0,ju.writable=!0}catch{ju.tested=!0,ju.writable=!1}return ju.writable};function Aq(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const l8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Nq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",rd=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Au=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ol=async(e,t)=>{await e.removeItem(t)};class p1{constructor(){this.promise=new p1.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}p1.promiseConstructor=Promise;function Ex(e){const t=e.split(".");if(t.length!==3)throw new Kw("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!fq.test(t[n]))throw new Kw("JWT not in base64url format");return{header:JSON.parse(e4(t[0])),payload:JSON.parse(e4(t[1])),signature:Pd(t[2]),raw:{header:t[0],payload:t[1]}}}async function kq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Eq(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function Oq(e){return("0"+e.toString(16)).substr(-2)}function Pq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Oq).join("")}async function Cq(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Tq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Cq(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qc(e,t,r=!1){const n=Pq();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await rd(e,`${t}-code-verifier`,i);const a=await Tq(n);return[a,n===a?"plain":"s256"]}const Lq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Iq(e){const t=e.headers.get(Vw);if(!t||!t.match(Lq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Rq(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function $q(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Mq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wc(e){if(!Mq.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ox(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Dq(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function t4(e){return JSON.parse(JSON.stringify(e))}const Cu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Bq=[502,503,504];async function r4(e){var t;if(!Nq(e))throw new Gw(Cu(e),0);if(Bq.includes(e.status))throw new Gw(Cu(e),e.status);let r;try{r=await e.json()}catch(a){throw new Du(Cu(a),a)}let n;const i=Iq(e);if(i&&i.getTime()>=a8["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Jk(Cu(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Xa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new Jk(Cu(r),e.status,r.weak_password.reasons);throw new pq(Cu(r),e.status||500,n)}const Fq=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function St(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Vw]||(a[Vw]=a8["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await Uq(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Uq(e,t,r,n,i,a){const s=Fq(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new Gw(Cu(l),0)}if(o.ok||await r4(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await r4(l)}}function Ja(e){var t;let r=null;Wq(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Sq(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function n4(e){const t=Ja(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function yl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function zq(e){return{data:e,error:null}}function qq(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=Tf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function i4(e){return e}function Wq(e){return e.access_token&&e.refresh_token&&e.expires_in}const Px=["global","local","others"];class Hq{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=l8(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Px[0]){if(Px.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Px.join(", ")}`);try{return await St(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await St(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:yl})}catch(n){if(pt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Tf(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await St(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:qq,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(pt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await St(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:yl})}catch(r){if(pt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await St(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:i4});if(c.error)throw c.error;const f=await c.json(),p=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(pt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Wc(t);try{return await St(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:yl})}catch(r){if(pt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Wc(t);try{return await St(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:yl})}catch(n){if(pt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Wc(t);try{return await St(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:yl})}catch(n){if(pt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Wc(t.userId);try{const{data:r,error:n}=await St(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(pt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Wc(t.userId),Wc(t.id);try{return{data:await St(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await St(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:i4});if(c.error)throw c.error;const f=await c.json(),p=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(pt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await St(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(pt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await St(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(pt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await St(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await St(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await St(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(pt(r))return{data:null,error:r};throw r}}}function a4(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Hc={debug:!!(globalThis&&o8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class u8 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Vq extends u8{}async function Gq(e,t,r){Hc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Hc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Hc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Hc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Hc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Vq(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Hc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Kq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function c8(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Yq(e){return parseInt(e,16)}function Xq(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Jq(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:l,resources:u,scheme:c,uri:f,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=c8(e.address),y=c?`${c}://${n}`:n,g=e.statement?`${e.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${h}

${g}`;let v=`URI: ${f}
Version: ${p}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),o&&(v+=`
Not Before: ${o.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let w=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}v+=w}return`${b}
${v}`}class fn extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Ly extends fn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Zq({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new fn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new fn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new fn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new fn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new fn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new fn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new fn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new fn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(d8(s)){if(a.rp.id!==s)return new fn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new fn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new fn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new fn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new fn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Qq({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new fn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new fn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(d8(n)){if(r.rpId!==n)return new fn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new fn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new fn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new fn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class eW{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const tW=new eW;function rW(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Tf(e,["challenge","user","excludeCredentials"]),a=Pd(t).buffer,s=Object.assign(Object.assign({},r),{id:Pd(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Pd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function nW(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Tf(e,["challenge","allowCredentials"]),i=Pd(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:Pd(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function iW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Hu(new Uint8Array(e.response.attestationObject)),clientDataJSON:Hu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function aW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Hu(new Uint8Array(i.authenticatorData)),clientDataJSON:Hu(new Uint8Array(i.clientDataJSON)),signature:Hu(new Uint8Array(i.signature)),userHandle:i.userHandle?Hu(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function d8(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function s4(){var e,t;return!!(ti()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function sW(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ly("Browser returned unexpected credential type",t)}:{data:null,error:new Ly("Empty credential response",t)}}catch(t){return{data:null,error:Zq({error:t,options:e})}}}async function oW(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ly("Browser returned unexpected credential type",t)}:{data:null,error:new Ly("Empty credential response",t)}}catch(t){return{data:null,error:Qq({error:t,options:e})}}}const lW={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},uW={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Iy(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(t(s)){const o=n[a];t(o)?n[a]=Iy(o,s):n[a]=Iy(s)}else n[a]=s}return n}function cW(e,t){return Iy(lW,e,t||{})}function dW(e,t){return Iy(uW,e,t||{})}class fW{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const l=i??tW.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=cW(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:c,error:f}=await sW({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}case"request":{const u=dW(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:c,error:f}=await oW(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}}}catch(s){return pt(s)?{data:null,error:s}:{data:null,error:new Du("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Kp("rpId is required for WebAuthn authentication")};try{if(!s4())return{data:null,error:new Du("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return pt(s)?{data:null,error:s}:{data:null,error:new Du("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Kp("rpId is required for WebAuthn registration")};try{if(!s4())return{data:null,error:new Du("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(c=>{var f;return(f=c.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(s){return pt(s)?{data:null,error:s}:{data:null,error:new Du("Unexpected error in register",s)}}}}Kq();const hW={url:uq,storageKey:cq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function o4(e,t,r){return await r()}const Vc={};class Yp{get jwks(){var t,r;return(r=(t=Vc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Vc[this.storageKey]=Object.assign(Object.assign({},Vc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Vc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vc[this.storageKey]=Object.assign(Object.assign({},Vc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},hW),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Yp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Yp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&ti()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Hq({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=l8(a.fetch),this.lock=a.lock||o4,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:ti()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Gq:this.lock=o4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fW(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:o8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=a4(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=a4(this.memoryStorage)),ti()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${i8}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(ti()&&(r=Aq(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ti()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),yq(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return pt(r)?this._returnResult({error:r}):this._returnResult({error:new Du("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ja}),{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(pt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:c,password:f,options:p}=t;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await qc(this.storage,this.storageKey)),a=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:y},xform:Ja})}else if("phone"in t){const{phone:c,password:f,options:p}=t;a=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ja})}else throw new c0("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(pt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:n4})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:n4})}else throw new c0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new zc;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(pt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,s,o,l,u,c,f,p;let h,y;if("message"in t)h=t.message,y=t.signature;else{const{chain:g,wallet:b,statement:v,options:w}=t;let _;if(ti())if(typeof b=="object")_=b;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")_=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const A=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=c8(S[0]);let O=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!O){const I=await _.request({method:"eth_chainId"});O=Yq(I)}const L={domain:A.host,address:j,statement:v,uri:A.href,version:"1",chainId:O,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.resources};h=Jq(L),y=await _.request({method:"personal_sign",params:[Xq(h),j]})}try{const{data:g,error:b}=await St(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ja});if(b)throw b;if(!g||!g.session||!g.user){const v=new zc;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:b})}catch(g){if(pt(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,i,a,s,o,l,u,c,f,p,h;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:b,wallet:v,statement:w,options:_}=t;let A;if(ti())if(typeof v=="object")A=v;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))A=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=v}const S=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const j=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let O;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")O=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)O=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)y=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),g=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const j=await A.signMessage(new TextEncoder().encode(y),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=j}}try{const{data:b,error:v}=await St(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Hu(g)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ja});if(v)throw v;if(!b||!b.session||!b.user){const w=new zc;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:v})}catch(b){if(pt(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await Au(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await St(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ja});if(await ol(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const o=new zc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(pt(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ja}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new zc;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(pt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await qc(this.storage,this.storageKey));const{error:f}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:c}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new c0("You must provide either an email or phone number.")}catch(o){if(pt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await St(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ja});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(pt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;this.flowType==="pkce"&&([a,s]=await qc(this.storage,this.storageKey));const o=await St(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:zq});return this._returnResult(o)}catch(a){if(pt(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Xa;const{error:i}=await St(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(pt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await St(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await St(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new c0("You must provide either an email or phone number and a type")}catch(r){if(pt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Au(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Nx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Au(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Ox()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=Dq(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:yl}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xa}:await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:yl})})}catch(r){if(pt(r))return gq(r)&&(await this._removeSession(),await ol(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Xa;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await qc(this.storage,this.storageKey));const{data:u,error:c}=await St(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:yl});if(c)throw c;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(pt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xa;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Ex(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(pt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Xa;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(pt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ti())throw new d0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new d0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Xk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new d0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xk("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=t;if(!a||!o||!s||!u)throw new d0("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(o);let p=c+f;l&&(p=parseInt(l));const h=p-c;h*1e3<=td&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const y=p-f;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,c);const{data:g,error:b}=await this._getUser(a);if(b)throw b;const v={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:p,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(pt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Au(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(mq(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await ol(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=jq(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await qc(this.storage,this.storageKey,!0));try{return await St(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(pt(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(pt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,u,c;const{data:f,error:p}=a;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await St(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return ti()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(pt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:o,token:l,access_token:u,nonce:c}=t,f=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ja}),{data:p,error:h}=f;return h?this._returnResult({data:{user:null,session:null},error:h}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new zc}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:h}))}catch(i){if(pt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await St(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(pt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Eq(async i=>(i>0&&await kq(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await St(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ja})),(i,a)=>{const s=200*Math.pow(2,i);return a&&kx(a)&&Date.now()+s-n<td})}catch(n){if(this._debug(r,"error",n),pt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ti()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Au(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Au(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await rd(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Ox()}else if(i&&!i.user&&!i.user){const s=await Au(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await ol(this.storage,this.storageKey+"-user"),await rd(this.storage,this.storageKey,i)):i.user=Ox()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Nx;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Nx}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),kx(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Xa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new p1;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Xa;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),pt(a)){const s={data:null,error:a};return kx(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await rd(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=t4(i);await rd(this.storage,this.storageKey,a)}else{const i=t4(r);await rd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ol(this.storage,this.storageKey),await ol(this.storage,this.storageKey+"-code-verifier"),await ol(this.storage,this.storageKey+"-user"),this.userStorage&&await ol(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ti()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),td);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/td);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${td}ms, refresh threshold is ${Hw} ticks`),i<=Hw&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof u8)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ti()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await qc(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await St(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(pt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await St(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(pt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?iW(t.webauthn.credential_response):aW(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await St(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(pt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await St(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:rW(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:nW(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(pt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ex(n.access_token);let s=null;a.aal&&(s=a.aal);let o=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=a.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await St(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Xa})})}catch(r){if(pt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Xa});const s=await St(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&ti()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(pt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Xa});const s=await St(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&ti()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(pt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+hq>i)return n;const{data:a,error:s}=await St(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:y}=await this.getSession();if(y||!h.session)return this._returnResult({data:null,error:y});n=h.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=Ex(n);r!=null&&r.allowExpired||Rq(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:s},error:null}}const c=$q(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,s,_q(`${o}.${l}`)))throw new Kw("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(pt(n))return this._returnResult({data:null,error:n});throw n}}}Yp.nextInstanceID={};const pW=Yp;class mW extends pW{constructor(t){super(t)}}class gW{constructor(t,r,n){var i,a,s;this.supabaseUrl=t,this.supabaseKey=r;const o=lq(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:eq,realtime:rq,auth:Object.assign(Object.assign({},tq),{storageKey:l}),global:Qz},c=oq(n??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=c.auth)!==null&&s!==void 0?s:{},this.headers,c.global.fetch),this.fetch=aq(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new uz(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Xz(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new sz(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:l,debug:u,throwOnError:c},f,p){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mW({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),f),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:l,debug:u,throwOnError:c,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Nz(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yW=(e,t,r)=>new gW(e,t,r);function vW(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}vW()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bW="https://kivcusfsppjyalbgqtxy.supabase.co",xW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpdmN1c2ZzcHBqeWFsYmdxdHh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NjI2NjYsImV4cCI6MjA3ODQzODY2Nn0.DMugE2X3gBvcRBXt-NqWceWQB2Vmi9kbavEE6MEjAmI",Ie=yW(bW,xW);async function nj(){try{const{error:e}=await Ie.auth.signOut();e&&console.error("Sign out error:",e)}catch(e){console.error("Sign out exception:",e)}window.location.href="/"}async function wW(){const{data:e,error:t}=await Ie.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(t)throw t;return e}function _W({onAuthSuccess:e}){const[t,r]=X.useState(!1),[n,i]=X.useState(""),[a,s]=X.useState(""),[o,l]=X.useState(""),[u,c]=X.useState("student"),[f,p]=X.useState([]),[h,y]=X.useState([]),[g,b]=X.useState(!1),[v,w]=X.useState(!1),[_,A]=X.useState(!1),[S,j]=X.useState(null),[O,L]=X.useState(null);X.useEffect(()=>{t&&u==="student"&&I()},[t,u]);const I=async()=>{b(!0);try{const{data:P,error:M}=await Ie.from("cohorts").select("id, name, description").order("name");if(M)throw M;y(P||[])}catch(P){console.error("Error loading cohorts:",P)}finally{b(!1)}},F=async()=>{A(!0),j(null),L(null);try{await wW()}catch(P){j(P.message||"Failed to sign in with Google. Please try again."),A(!1)}},k=async P=>{P.preventDefault(),w(!0),j(null),L(null);try{if(t){const{data:M,error:D}=await Ie.auth.signUp({email:n,password:a,options:{data:{name:o,role:u},emailRedirectTo:window.location.origin}});if(D)throw D;if(M.user&&!M.session){const U=u==="student"&&f.length>0?" After confirming your email, please join your selected cohorts from your profile page.":"";L(`Confirmation email sent to ${n}! Please check your inbox and click the confirmation link to activate your account.${U}`),w(!1),i(""),s(""),l(""),c("student"),p([]);return}if(M.user){let U=!1,H=0;const V=5;for(;!U&&H<V;){await new Promise($=>setTimeout($,500));const{data:B,error:J}=await Ie.from("users").select("id").eq("id",M.user.id).single();if(B&&!J)U=!0;else if(J&&J.code==="PGRST116"){const{error:$}=await Ie.from("users").insert({id:M.user.id,name:o,email:n,role:u});$||(U=!0)}H++}U||console.error("User record was not created after signup")}if(M.session&&M.user){if(u==="student"&&f.length>0){await new Promise(H=>setTimeout(H,1e3));const{error:U}=await Ie.from("users").select("id").eq("id",M.user.id).single();if(U)console.error("Cannot add cohorts: User record not found",U),j("Account created but failed to join cohorts. Please join them from your profile.");else{const H=f.map(J=>({cohort_id:J,student_id:M.user.id})),{data:V,error:B}=await Ie.from("cohort_members").insert(H).select();B?(console.error("Error adding student to cohorts:",B),j(`Account created but failed to join some cohorts: ${B.message}. Please join them from your profile.`)):V&&console.log("Successfully added student to cohorts:",V)}}e()}}else{const{error:M}=await Ie.auth.signInWithPassword({email:n,password:a});if(M)throw M;e()}}catch(M){j(M.message||"An error occurred"),w(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-primary-50 to-gray-100 px-4 py-8",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 md:p-10 w-full max-w-md border-2 border-gray-200",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-16 md:h-20 w-auto object-contain"})}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Kaya CBDC V-OSCE"}),d.jsx("p",{className:"text-gray-600 mt-2 text-sm md:text-base",children:"Yashwant Ayurvedic College"})]}),d.jsx("button",{type:"button",onClick:F,disabled:_||v,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-300 text-gray-700 py-3 px-6 rounded-xl hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:opacity-50 font-medium text-base md:text-lg shadow-md transition-all transform hover:scale-[1.02] mb-4",children:_?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("span",{children:"Connecting..."})]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),d.jsx("span",{children:"Sign in with Google"})]})}),d.jsxs("div",{className:"relative my-6",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-300"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),d.jsxs("form",{onSubmit:k,className:"space-y-4",children:[t&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),d.jsx("input",{type:"text",value:o,onChange:P=>l(P.target.value),required:t,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),d.jsxs("select",{value:u,onChange:P=>{c(P.target.value),p([])},required:t,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 bg-white",children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),u==="student"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Cohorts (Optional)"}),g?d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 p-3 bg-gray-50 rounded-md",children:[d.jsxs("svg",{className:"animate-spin h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("span",{children:"Loading cohorts..."})]}):h.length===0?d.jsx("div",{className:"text-sm text-gray-600 p-3 bg-gray-50 border border-gray-200 rounded-md",children:"No cohorts available. You can join cohorts later from your profile settings."}):d.jsx("div",{className:"border border-gray-300 rounded-md max-h-40 overflow-y-auto p-2",children:h.map(P=>d.jsxs("label",{className:"flex items-start gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:f.includes(P.id),onChange:M=>{M.target.checked?p([...f,P.id]):p(f.filter(D=>D!==P.id))},className:"mt-1"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name}),P.description&&d.jsx("div",{className:"text-xs text-gray-500",children:P.description})]})]},P.id))}),f.length>0&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[f.length," cohort",f.length!==1?"s":""," selected"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",value:n,onChange:P=>i(P.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsx("input",{type:"password",value:a,onChange:P=>s(P.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),S&&d.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-700 px-4 py-3 rounded-r-lg",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),d.jsx("p",{className:"text-sm leading-relaxed",children:S})]})}),O&&d.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 text-green-700 px-4 py-3 rounded-r-lg",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-medium",children:"Email Sent!"}),d.jsx("p",{className:"text-sm mt-1 leading-relaxed",children:O})]})]})}),d.jsx("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white py-3 px-6 rounded-xl hover:from-primary-700 hover:to-primary-800 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 font-bold text-base md:text-lg shadow-lg transition-all transform hover:scale-[1.02]",children:v?"Loading...":t?"Sign Up":"Sign In"})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("button",{onClick:()=>{r(!t),j(null),L(null)},className:"text-primary-600 hover:text-primary-700 text-sm",children:t?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Et=(e,t)=>{const r=X.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...u},c)=>X.createElement("svg",{ref:c,...SW,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${jW(e)}`,o].join(" "),...u},[...t.map(([f,p])=>X.createElement(f,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=Et("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=Et("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=Et("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=Et("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=Et("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=Et("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=Et("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=Et("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=Et("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=Et("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=Et("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Et("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=Et("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=Et("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=Et("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=Et("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Et("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=Et("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=Et("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=Et("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=Et("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=Et("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=Et("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=Et("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=Et("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=Et("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=Et("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=Et("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=Et("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=Et("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=Et("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=Et("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=Et("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=Et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=Et("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=Et("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=Et("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=Et("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=Et("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=Et("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=Et("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Et("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=Et("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=Et("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Et("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=Et("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=Et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Pi({role:e}){const t=yc(),r=async()=>{await nj()},a=e==="faculty"?[{path:"/dashboard",icon:Ry,label:"Dashboard"},{path:"/create",icon:qm,label:"Create Station"},{path:"/library",icon:h8,label:"Library"},{path:"/analytics",icon:Ca,label:"Analytics"}]:[{path:"/admin/dashboard",icon:Ry,label:"Dashboard"},{path:"/admin/cbdc",icon:sa,label:"CBDC Manager"},{path:"/admin/reports",icon:Ca,label:"Reports"},{path:"/admin/users",icon:jo,label:"Users"}];return d.jsx("div",{className:"hidden md:flex md:flex-col md:w-64 md:fixed md:inset-y-0 bg-white border-r border-gray-200",children:d.jsxs("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center flex-shrink-0 px-4 mb-8 gap-3",children:[d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-10 w-auto object-contain"}),d.jsx("h1",{className:"text-xl font-bold text-primary-900",children:"Kaya V-OSCE"})]}),d.jsx("nav",{className:"flex-1 px-2 space-y-1",children:a.map(s=>{const o=s.icon,l=t.pathname===s.path||t.pathname.startsWith(s.path+"/");return d.jsxs(oI,{to:s.path,className:`flex items-center px-4 py-2 text-sm font-medium rounded-md ${l?"bg-primary-100 text-primary-900":"text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(o,{className:"mr-3 h-5 w-5"}),s.label]},s.path)})}),d.jsx("div",{className:"px-4 pb-4",children:d.jsxs("button",{onClick:r,className:"flex items-center w-full px-4 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-50",children:[d.jsx(y8,{className:"mr-3 h-5 w-5"}),"Sign Out"]})})]})})}function Wn({role:e}){const t=yc(),a=e==="admin"?[{path:"/admin/dashboard",icon:Ry,label:"Dashboard"},{path:"/admin/cbdc",icon:sa,label:"CBDC"},{path:"/admin/reports",icon:Ca,label:"Reports"},{path:"/admin/users",icon:jo,label:"Users"}]:e==="faculty"?[{path:"/dashboard",icon:Ry,label:"Dashboard"},{path:"/create",icon:qm,label:"Create"},{path:"/library",icon:h8,label:"Library"},{path:"/analytics",icon:Ca,label:"Analytics"},{path:"/profile",icon:Is,label:"Profile"}]:[{path:"/home",icon:PW,label:"Home"},{path:"/assigned",icon:g1,label:"Assignments"},{path:"/analytics",icon:Ca,label:"Analytics"},{path:"/profile",icon:Is,label:"Profile"}];return d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-300 shadow-lg z-50 md:hidden safe-area-bottom",children:d.jsx("div",{className:"flex justify-around items-center h-16 px-2",children:a.map(s=>{const o=s.icon,l=t.pathname===s.path||s.path!=="/dashboard"&&s.path!=="/admin/dashboard"&&t.pathname.startsWith(s.path);return d.jsxs(oI,{to:s.path,className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${l?"text-primary-600 bg-primary-50 rounded-t-lg":"text-gray-600 hover:text-primary-500"}`,children:[d.jsx(o,{className:`w-5 h-5 ${l?"scale-110":""} transition-transform`}),d.jsx("span",{className:`text-xs mt-0.5 font-medium ${l?"text-primary-700":"text-gray-600"}`,children:s.label})]},s.path)})})})}function UW({user:e}){const t=ds(),[r,n]=X.useState({approved:0,pending:0,total:0}),[i,a]=X.useState(!0);X.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:o,error:l}=await Ie.from("stations").select("id").eq("created_by",e.id);if(l)throw l;const u=(o==null?void 0:o.map(p=>p.id))||[],{data:c,error:f}=await Ie.from("case_snapshots").select("id",{count:"exact"}).in("station_id",u);if(f)throw f;n({approved:(c==null?void 0:c.length)||0,pending:u.length-((c==null?void 0:c.length)||0),total:u.length})}catch(o){console.error("Error loading stats:",o)}finally{a(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Pi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Faculty Dashboard"}),d.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome back, ",e.name]})]}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved Cases"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.approved})]}),d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(sa,{className:"w-6 h-6 text-green-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Review"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.pending})]}),d.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:d.jsx(vc,{className:"w-6 h-6 text-yellow-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.total})]}),d.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:d.jsx(jo,{className:"w-6 h-6 text-blue-600"})})]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),d.jsxs("button",{onClick:()=>t("/create"),className:"w-full md:w-auto flex items-center justify-center gap-2 bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors font-medium shadow-sm hover:shadow-md",children:[d.jsx(qm,{className:"w-5 h-5"}),"Create New Station"]})]})]})]})}),d.jsx(Wn,{role:"faculty"})]})}function zW({toast:e,onClose:t}){X.useEffect(()=>{if(e.duration!==0){const s=setTimeout(()=>{t(e.id)},e.duration||5e3);return()=>clearTimeout(s)}},[e.id,e.duration,t]);const r={success:Na,error:m1,warning:NW,info:CW},n={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"},i={success:"text-green-600",error:"text-red-600",warning:"text-yellow-600",info:"text-blue-600"},a=r[e.type];return d.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-lg border-2 shadow-lg min-w-[300px] max-w-md ${n[e.type]} animate-in slide-in-from-top-5 fade-in`,children:[d.jsx(a,{className:`w-5 h-5 flex-shrink-0 mt-0.5 ${i[e.type]}`}),d.jsx("div",{className:"flex-1 text-sm font-medium",children:e.message}),d.jsx("button",{onClick:()=>t(e.id),className:`flex-shrink-0 ${i[e.type]} hover:opacity-70 transition-opacity`,"aria-label":"Close",children:d.jsx(Mf,{className:"w-4 h-4"})})]})}function Dl({toasts:e,onClose:t}){return e.length===0?null:d.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:e.map(r=>d.jsx("div",{className:"pointer-events-auto",children:d.jsx(zW,{toast:r,onClose:t})},r.id))})}function Do(){const[e,t]=X.useState([]),r=(l,u="info",c)=>{const f=Math.random().toString(36).substring(2,9),p={id:f,message:l,type:u,duration:c};return t(h=>[...h,p]),f};return{toasts:e,showToast:r,removeToast:l=>{t(u=>u.filter(c=>c.id!==l))},success:(l,u)=>r(l,"success",u),error:(l,u)=>r(l,"error",u),warning:(l,u)=>r(l,"warning",u),info:(l,u)=>r(l,"info",u)}}const $h="AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",c4="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";function qW({user:e}){var S,j,O,L,I,F;const t=ds(),r=Do(),[n,i]=X.useState(1),[a,s]=X.useState(!1),[o,l]=X.useState(!1),[u,c]=X.useState([]),[f,p]=X.useState([]),[h,y]=X.useState({subject:"",competencyId:"",slo:"",millerLevel:"ShowsHow",bloomDomain:"Cognitive",duration:15,difficulty:"Intermediate",prakriti:"Sama",doshaSliders:{vata:33,pitta:33,kapha:34},includeAshtasthana:!1});X.useEffect(()=>{g(),b()},[]);const g=async()=>{const{data:k}=await Ie.from("subjects").select("*");k&&c(k)},b=async()=>{const{data:k}=await Ie.from("competencies").select("*");k&&p(k)},v=k=>{var P,M,D,U,H,V;return`You are an expert Ayurvedic physician creating a virtual OSCE (Objective Structured Clinical Examination) case for medical students.

Generate a complete clinical case in JSON format matching this specification:

Subject: ${k.subject}
Miller's Level: ${k.millerLevel||"ShowsHow"}
Bloom's Domain: ${k.bloomDomain||"Cognitive"}
Difficulty: ${k.difficulty}
Duration: ${k.duration} minutes
Prakriti: ${k.prakriti||"Sama"}
Dosha Distribution: Vata ${((P=k.doshaSliders)==null?void 0:P.vata)||33}%, Pitta ${((M=k.doshaSliders)==null?void 0:M.pitta)||33}%, Kapha ${((D=k.doshaSliders)==null?void 0:D.kapha)||34}%
${k.includeAshtasthana?"Include Ashtasthana Pariksha findings":""}
${k.slo?`SLO: ${k.slo}`:""}

Return a JSON object with this exact structure:
{
  "id": "generate-uuid-here",
  "title": "Case title",
  "subject": "${k.subject}",
  "durationMinutes": ${k.duration},
  "difficulty": "${k.difficulty}",
  "patientProfile": {
    "name": "Patient name",
    "age": 35,
    "gender": "male",
    "prakriti": "${k.prakriti||"Sama"}",
    "occupation": "Relevant occupation"
  },
  "chiefComplaint": "Primary complaint in patient's own words (e.g., 'Fever and cough for 3 days')",
  "historyOfPresentIllness": "Detailed HPI in Ayurvedic context",
  ${k.includeAshtasthana?`"ashtasthanaPariksha": {
    "Nadi": "Pulse findings",
    "Mala": "Stool findings",
    "Mutra": "Urine findings",
    "Jihva": "Tongue findings",
    "Shabda": "Voice findings",
    "Sparsha": "Touch findings",
    "Druk": "Eye findings",
    "Akriti": "General appearance"
  },`:""}
  "doshaAnalysis": {
    "vata": ${((U=k.doshaSliders)==null?void 0:U.vata)||33},
    "pitta": ${((H=k.doshaSliders)==null?void 0:H.pitta)||33},
    "kapha": ${((V=k.doshaSliders)==null?void 0:V.kapha)||34}
  },
  "potentialDiagnoses": [
    {"dx": "Primary diagnosis", "confidence": 0.9},
    {"dx": "Differential diagnosis", "confidence": 0.6}
  ],
  "diagnosisMCQ": {
    "question": "What is the most likely diagnosis for this patient?",
    "options": ["Primary diagnosis", "Differential diagnosis 1", "Differential diagnosis 2", "Differential diagnosis 3"],
    "answerIndex": 0,
    "explanation": "Brief explanation of why the correct diagnosis is the most appropriate based on the case findings"
  },
  "suggestedChikitsa": "Detailed treatment plan",
  "mcqs": [
    {
      "id": "mcq-1",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${k.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    },
    {
      "id": "mcq-2",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${k.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    },
    {
      "id": "mcq-3",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${k.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    }
  ],
  "rubrics": [
    {
      "id": "rubric-1",
      "description": "Rubric description",
      "maxPoints": 10,
      "sloId": "${k.slo||"default-slo"}"
    }
  ],
  "finalExplanation": "Comprehensive explanation",
  "sloMappings": ["${k.slo||"default-slo"}"],
  "physicalExam": {
    "vitals": {
      "bp": "Actual blood pressure relevant to the case (e.g., '90/60 mmHg' for hypotension, '150/95 mmHg' for hypertension)",
      "hr": "Actual heart rate relevant to the case (e.g., '110 bpm' for tachycardia, '55 bpm' for bradycardia)",
      "rr": "Actual respiratory rate relevant to the case (e.g., '28 breaths/min' for tachypnea, '12 breaths/min' for normal)",
      "temp": "Actual temperature relevant to the case (e.g., '102.8F (oral)' for fever, '98.6F (oral)' for normal)",
      "spo2": "Actual oxygen saturation relevant to the case (e.g., '88% on room air' for hypoxemia, '98% on room air' for normal)"
    },
    "generalExam": "Detailed general examination findings that are consistent with the diagnosis and clinical presentation. Include appearance, consciousness level, pallor, icterus, edema, etc.",
    "systemicExam": "Detailed systemic examination findings organized by system (CNS, CVS, RS, GIT, etc.) that are consistent with the diagnosis. Be specific and realistic."
  },
  "availableLabTests": [
    {"category": "BEDSIDE TESTS", "tests": ["ECG", "Blood Glucose", "Urine Dipstick"]},
    {"category": "BASIC LABS", "tests": ["CBC", "CMP", "ESR", "CRP", "TSH", "Lipid Profile", "LFT", "RFT", "ABG"]},
    {"category": "ADVANCED LABS", "tests": ["Troponin", "BNP", "D-dimer", "Coagulation Profile", "Blood Culture", "HbA1c"]},
    {"category": "IMAGING", "tests": ["Chest X-Ray", "CT Head", "CT Chest", "CT Abdomen", "Abdominal Ultrasound", "Echocardiogram"]}
  ],
  "labResults": {
    "CBC": "Complete blood count results relevant to the case (e.g., 'WBC: 15,000/L (elevated), Hb: 12 g/dL, Platelets: 250,000/L' for infection)",
    "CMP": "Comprehensive metabolic panel results relevant to the case (e.g., 'Na: 138 mEq/L, K: 4.2 mEq/L, Creatinine: 1.2 mg/dL, BUN: 45 mg/dL (elevated)' for renal issues)",
    "Chest X-Ray": "Chest X-ray findings relevant to the case (e.g., 'Consolidation in right lower lobe, consistent with pneumonia' or 'Normal chest X-ray')",
    "ECG": "ECG findings relevant to the case (e.g., 'Normal sinus rhythm' or 'ST elevation in leads II, III, aVF')",
    "CRP": "C-reactive protein result relevant to the case (e.g., '150 mg/L (markedly elevated)' for inflammation)",
    "Urine Dipstick": "Urine dipstick results relevant to the case (e.g., 'Negative for nitrites, leukocyte esterase, protein, blood' or 'Positive for protein and blood')"
  },
  "learningPearls": [
    "Key learning point 1 relevant to this case",
    "Key learning point 2 relevant to this case",
    "Key learning point 3 relevant to this case"
  ],
  "furtherReading": [
    {
      "title": "Relevant Textbook Chapter",
      "reference": "Textbook Name, Edition. Chapter X: Topic"
    },
    {
      "title": "Clinical Guidelines",
      "reference": "Guideline Name and Year"
    }
  ]
}

CRITICAL REQUIREMENTS - YOU MUST FOLLOW THESE:

1. MCQs (REQUIRED - MUST GENERATE AT LEAST 3):
   - Generate at least 3 multiple-choice questions related to the case
   - Each MCQ must have 4 options (A, B, C, D)
   - Include an explanation for each correct answer
   - The last 3 MCQs will be used as post-case questions (shown after submission)
   - Additional MCQs (if any) can be used as pre-case questions

2. Physical Exam (REQUIRED - MUST BE GENERATED):
   - Vitals: Generate ALL 5 vital signs (BP, HR, RR, Temp, SpO2) with realistic values that match the diagnosis
   - General Exam: Write 2-3 sentences describing patient appearance, consciousness, pallor, icterus, edema, etc. relevant to the condition
   - Systemic Exam: Write detailed findings by system (CNS, CVS, RS, GIT, etc.) - at least 4-5 sentences with specific findings
   - Example for pneumonia: BP 90/60 (hypotension), HR 110 (tachycardia), RR 28 (tachypnea), Temp 102.8F (fever), SpO2 88% (hypoxemia)
   - Example for hypertension: BP 150/95 (elevated), HR 85, RR 16, Temp 98.6F, SpO2 98%

2. Lab Results (REQUIRED - MUST BE GENERATED):
   - Generate results for at least 4-6 common tests (CBC, CMP, Chest X-Ray, ECG, CRP, etc.)
   - Results MUST support the diagnosis and be realistic
   - Include abnormal values with explanations (e.g., "WBC: 15,000/L (elevated)")

3. Learning Pearls (REQUIRED - MUST BE 3-5 ITEMS):
   - Each pearl should be a complete sentence
   - Focus on key teaching points specific to this case
   - Be actionable and educational

4. Further Reading (REQUIRED - MUST BE 2-3 ITEMS):
   - Include specific textbook names, editions, and chapter numbers
   - Include relevant clinical guidelines with years
   - Make them specific to the diagnosis

5. Data Consistency:
   - If patient has fever  Temp must be elevated (e.g., 102F+)
   - If patient has respiratory distress  RR elevated, SpO2 decreased
   - If patient has infection  WBC elevated, CRP elevated
   - All findings must support the primary diagnosis

Return ONLY valid JSON, no markdown formatting, no code blocks. The JSON must be parseable directly.`},w=(k,P)=>{var D;let M=k.match(/```json\s*([\s\S]*?)\s*```/);if(M||(M=k.match(/```\s*([\s\S]*?)\s*```/)),M||(M=k.match(/\{[\s\S]*\}/)),!M)throw new Error("No JSON found in Gemini response. The AI may not have returned valid JSON.");try{const U=M[1]||M[0],H=JSON.parse(U);if(H.id=crypto.randomUUID(),H.subject=P.subject,H.durationMinutes=P.duration,H.difficulty=P.difficulty,H.patientProfile||(H.patientProfile={name:"Patient",age:35,gender:"male",prakriti:P.prakriti||"Sama",occupation:"Not specified"}),H.mcqs||(H.mcqs=[]),H.rubrics||(H.rubrics=[]),H.potentialDiagnoses||(H.potentialDiagnoses=[]),H.sloMappings||(H.sloMappings=[]),!H.diagnosisMCQ&&H.potentialDiagnoses&&H.potentialDiagnoses.length>0){const V=((D=H.potentialDiagnoses[0])==null?void 0:D.dx)||"Primary diagnosis",B=H.potentialDiagnoses.slice(0,4).map(J=>J.dx);for(;B.length<4;)B.push(`Differential diagnosis ${B.length}`);H.diagnosisMCQ={question:"What is the most likely diagnosis for this patient?",options:B,answerIndex:0,explanation:`The correct diagnosis is ${V}, which is supported by the clinical findings, physical examination, and laboratory results presented in this case.`}}return H.physicalExam||(H.physicalExam={vitals:{},generalExam:"",systemicExam:""}),H.physicalExam.vitals||(H.physicalExam.vitals={}),(!H.availableLabTests||H.availableLabTests.length===0)&&(H.availableLabTests=[]),H}catch(U){throw new Error(`Failed to parse JSON from Gemini response: ${U.message}`)}},_=async()=>{var k,P,M,D,U;if(!h.subject||!h.competencyId){r.warning("Please select a subject and competency first");return}if($h.trim()===""){r.error("Gemini API key is not configured. Please set VITE_GEMINI_API_KEY in your environment variables.");return}l(!0);try{const H=f.find(C=>C.id===h.competencyId),V=H?`${H.id}: ${H.description}`:h.competencyId,B=`You are an expert in medical education creating Specific Learning Outcomes (SLOs) for Ayurvedic medicine.

Subject: ${h.subject}
CBDC Competency: ${V}
Miller's Level: ${h.millerLevel}
Bloom's Domain: ${h.bloomDomain}

Generate a specific, measurable, and actionable learning outcome statement that:
1. Is aligned with the subject and competency
2. Matches the Miller's Level (${h.millerLevel})
3. Matches the Bloom's Domain (${h.bloomDomain})
4. Is specific to Ayurvedic medicine context
5. Is clear and concise (one sentence, max 20 words)

Return ONLY the SLO statement text, nothing else. No explanations, no quotes, just the statement.`,J=await fetch(c4,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":$h},body:JSON.stringify({contents:[{parts:[{text:B}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:100}})});if(!J.ok){const C=await J.text();let K=`Gemini API error (${J.status})`;try{const Q=JSON.parse(C);(k=Q.error)!=null&&k.message?K+=": "+Q.error.message:K+=": "+C}catch{K+=": "+C}throw new Error(K)}const $=await J.json();if(!$.candidates||$.candidates.length===0)throw new Error("No response from Gemini API. Please check your API key and try again.");const ae=((U=(D=(M=(P=$.candidates[0])==null?void 0:P.content)==null?void 0:M.parts[0])==null?void 0:D.text)==null?void 0:U.trim())||"";if(!ae)throw new Error("Empty response from Gemini API");const T=ae.replace(/^["']|["']$/g,"").replace(/^```[\w]*\n?|\n?```$/g,"").trim();y({...h,slo:T}),r.success("SLO suggested successfully!")}catch(H){r.error("Error suggesting SLO: "+H.message)}finally{l(!1)}},A=async()=>{var k,P,M,D,U,H;s(!0);try{if(!h.subject)throw new Error("Please select a subject");if(!h.competencyId)throw new Error("Please select a CBDC competency");if(!$h||$h.trim()==="")throw new Error("Gemini API key is not configured. Please set VITE_GEMINI_API_KEY in your environment variables.");const V=v(h),B=await fetch(c4,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":$h},body:JSON.stringify({contents:[{parts:[{text:V}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:8192}})});if(!B.ok){const Q=await B.text();let ie=`Gemini API error (${B.status})`;try{const ue=JSON.parse(Q);(k=ue.error)!=null&&k.message?ie+=": "+ue.error.message:ie+=": "+Q}catch{ie+=": "+Q}throw new Error(ie)}const J=await B.json();if(!J.candidates||J.candidates.length===0)throw new Error("No response from Gemini API. Please check your API key and try again.");const $=((D=(M=(P=J.candidates[0])==null?void 0:P.content)==null?void 0:M.parts[0])==null?void 0:D.text)||"";if(!$)throw new Error("Empty response from Gemini API");const ae=w($,h),T=[];if(!ae.physicalExam||!ae.physicalExam.vitals)T.push("Physical examination vitals are missing");else{const Q=ae.physicalExam.vitals;(!Q.bp||!Q.hr||!Q.rr||!Q.temp||!Q.spo2)&&T.push("Some vital signs are missing (BP, HR, RR, Temp, SpO2)")}if((!((U=ae.physicalExam)!=null&&U.generalExam)||ae.physicalExam.generalExam.trim()==="")&&T.push("General examination findings are missing"),(!((H=ae.physicalExam)!=null&&H.systemicExam)||ae.physicalExam.systemicExam.trim()==="")&&T.push("Systemic examination findings are missing"),(!ae.labResults||Object.keys(ae.labResults).length<4)&&T.push("Lab results are missing or insufficient (need at least 4 test results)"),!ae.learningPearls||ae.learningPearls.length<3?T.push("Learning pearls are missing or insufficient (need at least 3)"):ae.learningPearls.some(ie=>ie.toLowerCase().includes("key learning point")||ie.toLowerCase().includes("relevant to this case")||ie.trim().length<20)&&T.push("Learning pearls contain generic placeholder text"),!ae.furtherReading||ae.furtherReading.length<2?T.push("Further reading references are missing or insufficient (need at least 2)"):ae.furtherReading.some(ie=>ie.title.toLowerCase().includes("relevant textbook")||ie.title.toLowerCase().includes("textbook name")||ie.reference.toLowerCase().includes("chapter x")||ie.reference.toLowerCase().includes("textbook name"))&&T.push("Further reading contains generic placeholder text"),T.length>0)throw new Error(`AI generation incomplete:
${T.join(`
`)}

Please regenerate the case.`);const{data:C,error:K}=await Ie.from("stations").insert({title:ae.title||"New Station",blueprint:{...h,generatedCase:ae},created_by:e.id}).select().single();if(K)throw K;t(`/review/${C.id}`),r.success("Case generated successfully!")}catch(V){r.error("Error generating case: "+V.message)}finally{s(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Pi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(Xp,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Create New Station"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[n>=1&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 1: Subject & Competency"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),d.jsxs("select",{value:h.subject,onChange:k=>y({...h,subject:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Select Subject"}),u.map(k=>d.jsx("option",{value:k.name,children:k.name},k.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CBDC Competency"}),d.jsxs("select",{value:h.competencyId||"",onChange:k=>y({...h,competencyId:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Select Competency"}),f.map(k=>d.jsxs("option",{value:k.id,children:[k.id,": ",k.description]},k.id))]})]})]}),n>=2&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 2: Learning Outcomes"}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"SLO (Specific Learning Outcome)"}),d.jsx("button",{type:"button",onClick:_,disabled:o||!h.subject||!h.competencyId,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-primary-600 bg-primary-50 border border-primary-200 rounded-md hover:bg-primary-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?d.jsxs(d.Fragment,{children:[d.jsx(Yd,{className:"w-3 h-3 animate-spin"}),"Suggesting..."]}):d.jsxs(d.Fragment,{children:[d.jsx($W,{className:"w-3 h-3"}),"AI Suggest"]})})]}),d.jsx("textarea",{value:h.slo||"",onChange:k=>y({...h,slo:k.target.value}),placeholder:"e.g., Demonstrate interpretation of Nadi in Pitta Jwara",className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Miller's Level"}),d.jsxs("select",{value:h.millerLevel,onChange:k=>y({...h,millerLevel:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Knows",children:"Knows"}),d.jsx("option",{value:"KnowsHow",children:"Knows How"}),d.jsx("option",{value:"ShowsHow",children:"Shows How"}),d.jsx("option",{value:"Does",children:"Does"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bloom's Domain"}),d.jsxs("select",{value:h.bloomDomain,onChange:k=>y({...h,bloomDomain:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Cognitive",children:"Cognitive"}),d.jsx("option",{value:"Psychomotor",children:"Psychomotor"}),d.jsx("option",{value:"Affective",children:"Affective"})]})]})]})]}),n>=3&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 3: Case Parameters"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),d.jsx("input",{type:"number",min:"5",max:"60",value:h.duration,onChange:k=>y({...h,duration:parseInt(k.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),d.jsxs("select",{value:h.difficulty,onChange:k=>y({...h,difficulty:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Beginner",children:"Beginner"}),d.jsx("option",{value:"Intermediate",children:"Intermediate"}),d.jsx("option",{value:"Advanced",children:"Advanced"})]})]})]})]}),n>=4&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 4: Ayurvedic Parameters"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prakriti"}),d.jsxs("select",{value:h.prakriti,onChange:k=>y({...h,prakriti:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Vata",children:"Vata"}),d.jsx("option",{value:"Pitta",children:"Pitta"}),d.jsx("option",{value:"Kapha",children:"Kapha"}),d.jsx("option",{value:"Sama",children:"Sama"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dosha Distribution (must sum to 100)"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Vata: ",(S=h.doshaSliders)==null?void 0:S.vata,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((j=h.doshaSliders)==null?void 0:j.vata)||0,onChange:k=>{var H;const P=parseInt(k.target.value),M=100-P,D=Math.min(M,((H=h.doshaSliders)==null?void 0:H.pitta)||0),U=100-P-D;y({...h,doshaSliders:{vata:P,pitta:D,kapha:U}})},className:"w-full"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Pitta: ",(O=h.doshaSliders)==null?void 0:O.pitta,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((L=h.doshaSliders)==null?void 0:L.pitta)||0,onChange:k=>{var H;const P=parseInt(k.target.value),M=100-P,D=Math.min(M,((H=h.doshaSliders)==null?void 0:H.vata)||0),U=100-D-P;y({...h,doshaSliders:{vata:D,pitta:P,kapha:U}})},className:"w-full"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Kapha: ",(I=h.doshaSliders)==null?void 0:I.kapha,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((F=h.doshaSliders)==null?void 0:F.kapha)||0,onChange:k=>{var H;const P=parseInt(k.target.value),M=100-P,D=Math.min(M,((H=h.doshaSliders)==null?void 0:H.vata)||0),U=100-D-P;y({...h,doshaSliders:{vata:D,pitta:U,kapha:P}})},className:"w-full"})]})]})]}),d.jsx("div",{children:d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:h.includeAshtasthana||!1,onChange:k=>y({...h,includeAshtasthana:k.target.checked})}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Include Ashtasthana Pariksha"})]})})]}),d.jsxs("div",{className:"flex justify-between pt-6 border-t",children:[d.jsx("button",{onClick:()=>i(Math.max(1,n-1)),disabled:n===1,className:"px-4 py-2 border border-gray-300 rounded-md disabled:opacity-50",children:"Previous"}),n<4?d.jsx("button",{onClick:()=>i(n+1),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Next"}):d.jsxs("button",{onClick:A,disabled:a||!h.subject,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 flex items-center gap-2",children:[a&&d.jsx(Yd,{className:"w-4 h-4 animate-spin"}),"Generate Case"]})]})]})]})}),d.jsx(Wn,{role:"faculty"}),d.jsx(Dl,{toasts:r.toasts,onClose:r.removeToast})]})}function WW(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const HW=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,VW=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,GW={};function d4(e,t){return(GW.jsx?VW:HW).test(e)}const KW=/[ \t\n\f\r]/g;function YW(e){return typeof e=="object"?e.type==="text"?f4(e.value):!1:f4(e)}function f4(e){return e.replace(KW,"")===""}class Wm{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Wm.prototype.normal={};Wm.prototype.property={};Wm.prototype.space=void 0;function v8(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new Wm(r,n,t)}function Yw(e){return e.toLowerCase()}class Ti{constructor(t,r){this.attribute=r,this.property=t}}Ti.prototype.attribute="";Ti.prototype.booleanish=!1;Ti.prototype.boolean=!1;Ti.prototype.commaOrSpaceSeparated=!1;Ti.prototype.commaSeparated=!1;Ti.prototype.defined=!1;Ti.prototype.mustUseProperty=!1;Ti.prototype.number=!1;Ti.prototype.overloadedBoolean=!1;Ti.prototype.property="";Ti.prototype.spaceSeparated=!1;Ti.prototype.space=void 0;let XW=0;const Ft=bc(),cn=bc(),Xw=bc(),He=bc(),xr=bc(),Td=bc(),Wi=bc();function bc(){return 2**++XW}const Jw=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ft,booleanish:cn,commaOrSpaceSeparated:Wi,commaSeparated:Td,number:He,overloadedBoolean:Xw,spaceSeparated:xr},Symbol.toStringTag,{value:"Module"})),Cx=Object.keys(Jw);class sj extends Ti{constructor(t,r,n,i){let a=-1;if(super(t,r),h4(this,"space",i),typeof n=="number")for(;++a<Cx.length;){const s=Cx[a];h4(this,Cx[a],(n&Jw[s])===Jw[s])}}}sj.prototype.defined=!0;function h4(e,t,r){r&&(e[t]=r)}function Df(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const a=new sj(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(a.mustUseProperty=!0),t[n]=a,r[Yw(n)]=n,r[Yw(a.attribute)]=n}return new Wm(t,r,e.space)}const b8=Df({properties:{ariaActiveDescendant:null,ariaAtomic:cn,ariaAutoComplete:null,ariaBusy:cn,ariaChecked:cn,ariaColCount:He,ariaColIndex:He,ariaColSpan:He,ariaControls:xr,ariaCurrent:null,ariaDescribedBy:xr,ariaDetails:null,ariaDisabled:cn,ariaDropEffect:xr,ariaErrorMessage:null,ariaExpanded:cn,ariaFlowTo:xr,ariaGrabbed:cn,ariaHasPopup:null,ariaHidden:cn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:xr,ariaLevel:He,ariaLive:null,ariaModal:cn,ariaMultiLine:cn,ariaMultiSelectable:cn,ariaOrientation:null,ariaOwns:xr,ariaPlaceholder:null,ariaPosInSet:He,ariaPressed:cn,ariaReadOnly:cn,ariaRelevant:null,ariaRequired:cn,ariaRoleDescription:xr,ariaRowCount:He,ariaRowIndex:He,ariaRowSpan:He,ariaSelected:cn,ariaSetSize:He,ariaSort:null,ariaValueMax:He,ariaValueMin:He,ariaValueNow:He,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function x8(e,t){return t in e?e[t]:t}function w8(e,t){return x8(e,t.toLowerCase())}const JW=Df({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Td,acceptCharset:xr,accessKey:xr,action:null,allow:null,allowFullScreen:Ft,allowPaymentRequest:Ft,allowUserMedia:Ft,alt:null,as:null,async:Ft,autoCapitalize:null,autoComplete:xr,autoFocus:Ft,autoPlay:Ft,blocking:xr,capture:null,charSet:null,checked:Ft,cite:null,className:xr,cols:He,colSpan:null,content:null,contentEditable:cn,controls:Ft,controlsList:xr,coords:He|Td,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ft,defer:Ft,dir:null,dirName:null,disabled:Ft,download:Xw,draggable:cn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ft,formTarget:null,headers:xr,height:He,hidden:Xw,high:He,href:null,hrefLang:null,htmlFor:xr,httpEquiv:xr,id:null,imageSizes:null,imageSrcSet:null,inert:Ft,inputMode:null,integrity:null,is:null,isMap:Ft,itemId:null,itemProp:xr,itemRef:xr,itemScope:Ft,itemType:xr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ft,low:He,manifest:null,max:null,maxLength:He,media:null,method:null,min:null,minLength:He,multiple:Ft,muted:Ft,name:null,nonce:null,noModule:Ft,noValidate:Ft,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ft,optimum:He,pattern:null,ping:xr,placeholder:null,playsInline:Ft,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ft,referrerPolicy:null,rel:xr,required:Ft,reversed:Ft,rows:He,rowSpan:He,sandbox:xr,scope:null,scoped:Ft,seamless:Ft,selected:Ft,shadowRootClonable:Ft,shadowRootDelegatesFocus:Ft,shadowRootMode:null,shape:null,size:He,sizes:null,slot:null,span:He,spellCheck:cn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:He,step:null,style:null,tabIndex:He,target:null,title:null,translate:null,type:null,typeMustMatch:Ft,useMap:null,value:cn,width:He,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:xr,axis:null,background:null,bgColor:null,border:He,borderColor:null,bottomMargin:He,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ft,declare:Ft,event:null,face:null,frame:null,frameBorder:null,hSpace:He,leftMargin:He,link:null,longDesc:null,lowSrc:null,marginHeight:He,marginWidth:He,noResize:Ft,noHref:Ft,noShade:Ft,noWrap:Ft,object:null,profile:null,prompt:null,rev:null,rightMargin:He,rules:null,scheme:null,scrolling:cn,standby:null,summary:null,text:null,topMargin:He,valueType:null,version:null,vAlign:null,vLink:null,vSpace:He,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ft,disableRemotePlayback:Ft,prefix:null,property:null,results:He,security:null,unselectable:null},space:"html",transform:w8}),ZW=Df({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Wi,accentHeight:He,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:He,amplitude:He,arabicForm:null,ascent:He,attributeName:null,attributeType:null,azimuth:He,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:He,by:null,calcMode:null,capHeight:He,className:xr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:He,diffuseConstant:He,direction:null,display:null,dur:null,divisor:He,dominantBaseline:null,download:Ft,dx:null,dy:null,edgeMode:null,editable:null,elevation:He,enableBackground:null,end:null,event:null,exponent:He,externalResourcesRequired:null,fill:null,fillOpacity:He,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Td,g2:Td,glyphName:Td,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:He,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:He,horizOriginX:He,horizOriginY:He,id:null,ideographic:He,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:He,k:He,k1:He,k2:He,k3:He,k4:He,kernelMatrix:Wi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:He,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:He,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:He,overlineThickness:He,paintOrder:null,panose1:null,path:null,pathLength:He,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:xr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:He,pointsAtY:He,pointsAtZ:He,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Wi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Wi,rev:Wi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Wi,requiredFeatures:Wi,requiredFonts:Wi,requiredFormats:Wi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:He,specularExponent:He,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:He,strikethroughThickness:He,string:null,stroke:null,strokeDashArray:Wi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:He,strokeOpacity:He,strokeWidth:null,style:null,surfaceScale:He,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Wi,tabIndex:He,tableValues:null,target:null,targetX:He,targetY:He,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Wi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:He,underlineThickness:He,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:He,values:null,vAlphabetic:He,vMathematical:He,vectorEffect:null,vHanging:He,vIdeographic:He,version:null,vertAdvY:He,vertOriginX:He,vertOriginY:He,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:He,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:x8}),_8=Df({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),S8=Df({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:w8}),j8=Df({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),QW={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},eH=/[A-Z]/g,p4=/-[a-z]/g,tH=/^data[-\w.:]+$/i;function rH(e,t){const r=Yw(t);let n=t,i=Ti;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&tH.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(p4,iH);n="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!p4.test(a)){let s=a.replace(eH,nH);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=sj}return new i(n,t)}function nH(e){return"-"+e.toLowerCase()}function iH(e){return e.charAt(1).toUpperCase()}const aH=v8([b8,JW,_8,S8,j8],"html"),oj=v8([b8,ZW,_8,S8,j8],"svg");function sH(e){return e.join(" ").trim()}var lj={},m4=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,oH=/\n/g,lH=/^\s*/,uH=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,cH=/^:\s*/,dH=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,fH=/^[;\s]*/,hH=/^\s+|\s+$/g,pH=`
`,g4="/",y4="*",Bu="",mH="comment",gH="declaration";function yH(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function i(y){var g=y.match(oH);g&&(r+=g.length);var b=y.lastIndexOf(pH);n=~b?y.length-b:n+y.length}function a(){var y={line:r,column:n};return function(g){return g.position=new s(y),u(),g}}function s(y){this.start=y,this.end={line:r,column:n},this.source=t.source}s.prototype.content=e;function o(y){var g=new Error(t.source+":"+r+":"+n+": "+y);if(g.reason=y,g.filename=t.source,g.line=r,g.column=n,g.source=e,!t.silent)throw g}function l(y){var g=y.exec(e);if(g){var b=g[0];return i(b),e=e.slice(b.length),g}}function u(){l(lH)}function c(y){var g;for(y=y||[];g=f();)g!==!1&&y.push(g);return y}function f(){var y=a();if(!(g4!=e.charAt(0)||y4!=e.charAt(1))){for(var g=2;Bu!=e.charAt(g)&&(y4!=e.charAt(g)||g4!=e.charAt(g+1));)++g;if(g+=2,Bu===e.charAt(g-1))return o("End of comment missing");var b=e.slice(2,g-2);return n+=2,i(b),e=e.slice(g),n+=2,y({type:mH,comment:b})}}function p(){var y=a(),g=l(uH);if(g){if(f(),!l(cH))return o("property missing ':'");var b=l(dH),v=y({type:gH,property:v4(g[0].replace(m4,Bu)),value:b?v4(b[0].replace(m4,Bu)):Bu});return l(fH),v}}function h(){var y=[];c(y);for(var g;g=p();)g!==!1&&(y.push(g),c(y));return y}return u(),h()}function v4(e){return e?e.replace(hH,Bu):Bu}var vH=yH,bH=bl&&bl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lj,"__esModule",{value:!0});lj.default=wH;const xH=bH(vH);function wH(e,t){let r=null;if(!e||typeof e!="string")return r;const n=(0,xH.default)(e),i=typeof t=="function";return n.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(r=r||{},r[s]=o)}),r}var b1={};Object.defineProperty(b1,"__esModule",{value:!0});b1.camelCase=void 0;var _H=/^--[a-zA-Z0-9_-]+$/,SH=/-([a-z])/g,jH=/^[^-]+$/,AH=/^-(webkit|moz|ms|o|khtml)-/,NH=/^-(ms)-/,kH=function(e){return!e||jH.test(e)||_H.test(e)},EH=function(e,t){return t.toUpperCase()},b4=function(e,t){return"".concat(t,"-")},OH=function(e,t){return t===void 0&&(t={}),kH(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(NH,b4):e=e.replace(AH,b4),e.replace(SH,EH))};b1.camelCase=OH;var PH=bl&&bl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},CH=PH(lj),TH=b1;function Zw(e,t){var r={};return!e||typeof e!="string"||(0,CH.default)(e,function(n,i){n&&i&&(r[(0,TH.camelCase)(n,t)]=i)}),r}Zw.default=Zw;var LH=Zw;const IH=nr(LH),A8=N8("end"),uj=N8("start");function N8(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function RH(e){const t=uj(e),r=A8(e);if(t&&r)return{start:t,end:r}}function gp(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?x4(e.position):"start"in e||"end"in e?x4(e):"line"in e||"column"in e?Qw(e):""}function Qw(e){return w4(e&&e.line)+":"+w4(e&&e.column)}function x4(e){return Qw(e&&e.start)+"-"+Qw(e&&e.end)}function w4(e){return e&&typeof e=="number"?e:1}class si extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",a={},s=!1;if(r&&("line"in r&&"column"in r?a={place:r}:"start"in r&&"end"in r?a={place:r}:"type"in r?a={ancestors:[r],place:r.position}:a={...r}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?a.ruleId=n:(a.source=n.slice(0,l),a.ruleId=n.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=gp(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}si.prototype.file="";si.prototype.name="";si.prototype.reason="";si.prototype.message="";si.prototype.stack="";si.prototype.column=void 0;si.prototype.line=void 0;si.prototype.ancestors=void 0;si.prototype.cause=void 0;si.prototype.fatal=void 0;si.prototype.place=void 0;si.prototype.ruleId=void 0;si.prototype.source=void 0;const cj={}.hasOwnProperty,$H=new Map,MH=/[A-Z]/g,DH=new Set(["table","tbody","thead","tfoot","tr"]),BH=new Set(["td","th"]),k8="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function FH(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=KH(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=GH(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?oj:aH,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=E8(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function E8(e,t,r){if(t.type==="element")return UH(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return zH(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return WH(e,t,r);if(t.type==="mdxjsEsm")return qH(e,t);if(t.type==="root")return HH(e,t,r);if(t.type==="text")return VH(e,t)}function UH(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=oj,e.schema=i),e.ancestors.push(t);const a=P8(e,t.tagName,!1),s=YH(e,t);let o=fj(e,t);return DH.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!YW(l):!0})),O8(e,s,a,t),dj(s,o),e.ancestors.pop(),e.schema=n,e.create(t,a,s,r)}function zH(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Jp(e,t.position)}function qH(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Jp(e,t.position)}function WH(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=oj,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:P8(e,t.name,!0),s=XH(e,t),o=fj(e,t);return O8(e,s,a,t),dj(s,o),e.ancestors.pop(),e.schema=n,e.create(t,a,s,r)}function HH(e,t,r){const n={};return dj(n,fj(e,t)),e.create(t,e.Fragment,n,r)}function VH(e,t){return t.value}function O8(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function dj(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function GH(e,t,r){return n;function n(i,a,s,o){const u=Array.isArray(s.children)?r:t;return o?u(a,s,o):u(a,s)}}function KH(e,t){return r;function r(n,i,a,s){const o=Array.isArray(a.children),l=uj(n);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function YH(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&cj.call(t.properties,i)){const a=JH(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&BH.has(t.tagName)?n=o:r[s]=o}}if(n){const a=r.style||(r.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function XH(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const a=n.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else Jp(e,t.position);else{const i=n.name;let a;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else Jp(e,t.position);else a=n.value===null?!0:n.value;r[i]=a}return r}function fj(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:$H;for(;++n<t.children.length;){const a=t.children[n];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const o=E8(e,a,s);o!==void 0&&r.push(o)}return r}function JH(e,t,r){const n=rH(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?WW(r):sH(r)),n.property==="style"){let i=typeof r=="object"?r:ZH(e,String(r));return e.stylePropertyNameCase==="css"&&(i=QH(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?QW[n.property]||n.property:n.attribute,r]}}function ZH(e,t){try{return IH(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new si("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=k8+"#cannot-parse-style-attribute",i}}function P8(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=d4(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}n=s}else n=d4(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return cj.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);Jp(e)}function Jp(e,t){const r=new si("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=k8+"#cannot-handle-mdx-estrees-without-createevaluater",r}function QH(e){const t={};let r;for(r in e)cj.call(e,r)&&(t[eV(r)]=e[r]);return t}function eV(e){let t=e.replace(MH,tV);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function tV(e){return"-"+e.toLowerCase()}const Tx={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},rV={};function nV(e,t){const r=rV,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return C8(e,n,i)}function C8(e,t,r){if(iV(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return _4(e.children,t,r)}return Array.isArray(e)?_4(e,t,r):""}function _4(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=C8(e[i],t,r);return n.join("")}function iV(e){return!!(e&&typeof e=="object")}const S4=document.createElement("i");function hj(e){const t="&"+e+";";S4.innerHTML=t;const r=S4.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Bs(e,t,r,n){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)s=Array.from(n),s.unshift(t,r),e.splice(...s);else for(r&&e.splice(t,r);a<n.length;)s=n.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function ja(e,t){return e.length>0?(Bs(e,e.length,0,t),e):t}const j4={}.hasOwnProperty;function aV(e){const t={};let r=-1;for(;++r<e.length;)sV(t,e[r]);return t}function sV(e,t){let r;for(r in t){const i=(j4.call(e,r)?e[r]:void 0)||(e[r]={}),a=t[r];let s;if(a)for(s in a){j4.call(i,s)||(i[s]=[]);const o=a[s];oV(i[s],Array.isArray(o)?o:o?[o]:[])}}}function oV(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Bs(e,0,0,n)}function T8(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function Ld(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Os=Gl(/[A-Za-z]/),ea=Gl(/[\dA-Za-z]/),lV=Gl(/[#-'*+\--9=?A-Z^-~]/);function e5(e){return e!==null&&(e<32||e===127)}const t5=Gl(/\d/),uV=Gl(/[\dA-Fa-f]/),cV=Gl(/[!-/:-@[-`{-~]/);function kt(e){return e!==null&&e<-2}function Ci(e){return e!==null&&(e<0||e===32)}function rr(e){return e===-2||e===-1||e===32}const dV=Gl(new RegExp("\\p{P}|\\p{S}","u")),fV=Gl(/\s/);function Gl(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function Bf(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const a=e.charCodeAt(r);let s="";if(a===37&&ea(e.charCodeAt(r+1))&&ea(e.charCodeAt(r+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(r+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(n,r),encodeURIComponent(s)),n=r+i+1,s=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function jr(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return rr(l)?(e.enter(r),o(l)):t(l)}function o(l){return rr(l)&&a++<i?(e.consume(l),o):(e.exit(r),t(l))}}const hV={tokenize:pV};function pV(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),jr(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return kt(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const mV={tokenize:gV},A4={tokenize:yV};function gV(e){const t=this,r=[];let n=0,i,a,s;return o;function o(_){if(n<r.length){const A=r[n];return t.containerState=A[1],e.attempt(A[0].continuation,l,u)(_)}return u(_)}function l(_){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const A=t.events.length;let S=A,j;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){j=t.events[S][1].end;break}v(n);let O=A;for(;O<t.events.length;)t.events[O][1].end={...j},O++;return Bs(t.events,S+1,0,t.events.slice(A)),t.events.length=O,u(_)}return o(_)}function u(_){if(n===r.length){if(!i)return p(_);if(i.currentConstruct&&i.currentConstruct.concrete)return y(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(A4,c,f)(_)}function c(_){return i&&w(),v(n),p(_)}function f(_){return t.parser.lazy[t.now().line]=n!==r.length,s=t.now().offset,y(_)}function p(_){return t.containerState={},e.attempt(A4,h,y)(_)}function h(_){return n++,r.push([t.currentConstruct,t.containerState]),p(_)}function y(_){if(_===null){i&&w(),v(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(_)}function g(_){if(_===null){b(e.exit("chunkFlow"),!0),v(0),e.consume(_);return}return kt(_)?(e.consume(_),b(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(_),g)}function b(_,A){const S=t.sliceStream(_);if(A&&S.push(null),_.previous=a,a&&(a.next=_),a=_,i.defineSkip(_.start),i.write(S),t.parser.lazy[_.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<s&&(!i.events[j][1].end||i.events[j][1].end.offset>s))return;const O=t.events.length;let L=O,I,F;for(;L--;)if(t.events[L][0]==="exit"&&t.events[L][1].type==="chunkFlow"){if(I){F=t.events[L][1].end;break}I=!0}for(v(n),j=O;j<t.events.length;)t.events[j][1].end={...F},j++;Bs(t.events,L+1,0,t.events.slice(O)),t.events.length=j}}function v(_){let A=r.length;for(;A-- >_;){const S=r[A];t.containerState=S[1],S[0].exit.call(t,e)}r.length=_}function w(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function yV(e,t,r){return jr(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function N4(e){if(e===null||Ci(e)||fV(e))return 1;if(dV(e))return 2}function pj(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!n.includes(a)&&(t=a(t,r),n.push(a))}return t}const r5={name:"attention",resolveAll:vV,tokenize:bV};function vV(e,t){let r=-1,n,i,a,s,o,l,u,c;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const f={...e[n][1].end},p={...e[r][1].start};k4(f,-l),k4(p,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[n][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:p},a={type:l>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[n][1].end={...s.start},e[r][1].start={...o.end},u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=ja(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=ja(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),u=ja(u,pj(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),u=ja(u,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(c=2,u=ja(u,[["enter",e[r][1],t],["exit",e[r][1],t]])):c=0,Bs(e,n-1,r-n+3,u),r=n+u.length-c-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function bV(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=N4(n);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const u=e.exit("attentionSequence"),c=N4(l),f=!c||c===2&&i||r.includes(l),p=!i||i===2&&c||r.includes(n);return u._open=!!(a===42?f:f&&(i||!p)),u._close=!!(a===42?p:p&&(c||!f)),t(l)}}function k4(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const xV={name:"autolink",tokenize:wV};function wV(e,t,r){let n=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(h){return Os(h)?(e.consume(h),s):h===64?r(h):u(h)}function s(h){return h===43||h===45||h===46||ea(h)?(n=1,o(h)):u(h)}function o(h){return h===58?(e.consume(h),n=0,l):(h===43||h===45||h===46||ea(h))&&n++<32?(e.consume(h),o):(n=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||e5(h)?r(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),c):lV(h)?(e.consume(h),u):r(h)}function c(h){return ea(h)?f(h):r(h)}function f(h){return h===46?(e.consume(h),n=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):p(h)}function p(h){if((h===45||ea(h))&&n++<63){const y=h===45?p:f;return e.consume(h),y}return r(h)}}const x1={partial:!0,tokenize:_V};function _V(e,t,r){return n;function n(a){return rr(a)?jr(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||kt(a)?t(a):r(a)}}const L8={continuation:{tokenize:jV},exit:AV,name:"blockQuote",tokenize:SV};function SV(e,t,r){const n=this;return i;function i(s){if(s===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return r(s)}function a(s){return rr(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function jV(e,t,r){const n=this;return i;function i(s){return rr(s)?jr(e,a,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(L8,t,r)(s)}}function AV(e){e.exit("blockQuote")}const I8={name:"characterEscape",tokenize:NV};function NV(e,t,r){return n;function n(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return cV(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(a)}}const R8={name:"characterReference",tokenize:kV};function kV(e,t,r){const n=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,s=ea,c(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=uV,c):(e.enter("characterReferenceValue"),a=7,s=t5,c(f))}function c(f){if(f===59&&i){const p=e.exit("characterReferenceValue");return s===ea&&!hj(n.sliceSerialize(p))?r(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),c):r(f)}}const E4={partial:!0,tokenize:OV},O4={concrete:!0,name:"codeFenced",tokenize:EV};function EV(e,t,r){const n=this,i={partial:!0,tokenize:S};let a=0,s=0,o;return l;function l(j){return u(j)}function u(j){const O=n.events[n.events.length-1];return a=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,o=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(j)}function c(j){return j===o?(s++,e.consume(j),c):s<3?r(j):(e.exit("codeFencedFenceSequence"),rr(j)?jr(e,f,"whitespace")(j):f(j))}function f(j){return j===null||kt(j)?(e.exit("codeFencedFence"),n.interrupt?t(j):e.check(E4,g,A)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(j))}function p(j){return j===null||kt(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(j)):rr(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),jr(e,h,"whitespace")(j)):j===96&&j===o?r(j):(e.consume(j),p)}function h(j){return j===null||kt(j)?f(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(j))}function y(j){return j===null||kt(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(j)):j===96&&j===o?r(j):(e.consume(j),y)}function g(j){return e.attempt(i,A,b)(j)}function b(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),v}function v(j){return a>0&&rr(j)?jr(e,w,"linePrefix",a+1)(j):w(j)}function w(j){return j===null||kt(j)?e.check(E4,g,A)(j):(e.enter("codeFlowValue"),_(j))}function _(j){return j===null||kt(j)?(e.exit("codeFlowValue"),w(j)):(e.consume(j),_)}function A(j){return e.exit("codeFenced"),t(j)}function S(j,O,L){let I=0;return F;function F(U){return j.enter("lineEnding"),j.consume(U),j.exit("lineEnding"),k}function k(U){return j.enter("codeFencedFence"),rr(U)?jr(j,P,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):P(U)}function P(U){return U===o?(j.enter("codeFencedFenceSequence"),M(U)):L(U)}function M(U){return U===o?(I++,j.consume(U),M):I>=s?(j.exit("codeFencedFenceSequence"),rr(U)?jr(j,D,"whitespace")(U):D(U)):L(U)}function D(U){return U===null||kt(U)?(j.exit("codeFencedFence"),O(U)):L(U)}}}function OV(e,t,r){const n=this;return i;function i(s){return s===null?r(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}const Lx={name:"codeIndented",tokenize:CV},PV={partial:!0,tokenize:TV};function CV(e,t,r){const n=this;return i;function i(u){return e.enter("codeIndented"),jr(e,a,"linePrefix",5)(u)}function a(u){const c=n.events[n.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):r(u)}function s(u){return u===null?l(u):kt(u)?e.attempt(PV,s,l)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||kt(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),o)}function l(u){return e.exit("codeIndented"),t(u)}}function TV(e,t,r){const n=this;return i;function i(s){return n.parser.lazy[n.now().line]?r(s):kt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):jr(e,a,"linePrefix",5)(s)}function a(s){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):kt(s)?i(s):r(s)}}const LV={name:"codeText",previous:RV,resolve:IV,tokenize:$V};function IV(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function RV(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function $V(e,t,r){let n=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),n++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?r(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,c(f)):kt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||kt(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function c(f){return f===96?(e.consume(f),i++,c):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",u(f))}}class MV{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Mh(this.left,n),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Mh(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Mh(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Mh(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Mh(this.left,r.reverse())}}}function Mh(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function $8(e){const t={};let r=-1,n,i,a,s,o,l,u;const c=new MV(e);for(;++r<c.length;){for(;r in t;)r=t[r];if(n=c.get(r),r&&n[1].type==="chunkFlow"&&c.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,DV(c,r)),r=t[r],u=!0);else if(n[1]._container){for(a=r,i=void 0;a--;)if(s=c.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(n[1].end={...c.get(i)[1].start},o=c.slice(i,r),o.unshift(n),c.splice(i,r-i+1,o))}}return Bs(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function DV(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const a=[];let s=r._tokenizer;s||(s=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],u={};let c,f,p=-1,h=r,y=0,g=0;const b=[g];for(;h;){for(;e.get(++i)[1]!==h;);a.push(i),h._tokenizer||(c=n.sliceStream(h),h.next||c.push(null),f&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=r;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(g=p+1,b.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):b.pop(),p=b.length;p--;){const v=o.slice(b[p],b[p+1]),w=a.pop();l.push([w,w+v.length-1]),e.splice(w,2,v)}for(l.reverse(),p=-1;++p<l.length;)u[y+l[p][0]]=y+l[p][1],y+=l[p][1]-l[p][0]-1;return u}const BV={resolve:UV,tokenize:zV},FV={partial:!0,tokenize:qV};function UV(e){return $8(e),e}function zV(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):kt(o)?e.check(FV,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function qV(e,t,r){const n=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),jr(e,a,"linePrefix")}function a(s){if(s===null||kt(s))return r(s);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(n.parser.constructs.flow,r,t)(s)}}function M8(e,t,r,n,i,a,s,o,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return f;function f(v){return v===60?(e.enter(n),e.enter(i),e.enter(a),e.consume(v),e.exit(a),p):v===null||v===32||v===41||e5(v)?r(v):(e.enter(n),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(v))}function p(v){return v===62?(e.enter(a),e.consume(v),e.exit(a),e.exit(i),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===62?(e.exit("chunkString"),e.exit(o),p(v)):v===null||v===60||kt(v)?r(v):(e.consume(v),v===92?y:h)}function y(v){return v===60||v===62||v===92?(e.consume(v),h):h(v)}function g(v){return!c&&(v===null||v===41||Ci(v))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(n),t(v)):c<u&&v===40?(e.consume(v),c++,g):v===41?(e.consume(v),c--,g):v===null||v===32||v===40||e5(v)?r(v):(e.consume(v),v===92?b:g)}function b(v){return v===40||v===41||v===92?(e.consume(v),g):g(v)}}function D8(e,t,r,n,i,a){const s=this;let o=0,l;return u;function u(h){return e.enter(n),e.enter(i),e.consume(h),e.exit(i),e.enter(a),c}function c(h){return o>999||h===null||h===91||h===93&&!l||h===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?r(h):h===93?(e.exit(a),e.enter(i),e.consume(h),e.exit(i),e.exit(n),t):kt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||kt(h)||o++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l||(l=!rr(h)),h===92?p:f)}function p(h){return h===91||h===92||h===93?(e.consume(h),o++,f):f(h)}}function B8(e,t,r,n,i,a){let s;return o;function o(p){return p===34||p===39||p===40?(e.enter(n),e.enter(i),e.consume(p),e.exit(i),s=p===40?41:p,l):r(p)}function l(p){return p===s?(e.enter(i),e.consume(p),e.exit(i),e.exit(n),t):(e.enter(a),u(p))}function u(p){return p===s?(e.exit(a),l(s)):p===null?r(p):kt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),jr(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===s||p===null||kt(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?f:c)}function f(p){return p===s||p===92?(e.consume(p),c):c(p)}}function yp(e,t){let r;return n;function n(i){return kt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):rr(i)?jr(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const WV={name:"definition",tokenize:VV},HV={partial:!0,tokenize:GV};function VV(e,t,r){const n=this;let i;return a;function a(h){return e.enter("definition"),s(h)}function s(h){return D8.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function o(h){return i=Ld(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):r(h)}function l(h){return Ci(h)?yp(e,u)(h):u(h)}function u(h){return M8(e,c,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(HV,f,f)(h)}function f(h){return rr(h)?jr(e,p,"whitespace")(h):p(h)}function p(h){return h===null||kt(h)?(e.exit("definition"),n.parser.defined.push(i),t(h)):r(h)}}function GV(e,t,r){return n;function n(o){return Ci(o)?yp(e,i)(o):r(o)}function i(o){return B8(e,a,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return rr(o)?jr(e,s,"whitespace")(o):s(o)}function s(o){return o===null||kt(o)?t(o):r(o)}}const KV={name:"hardBreakEscape",tokenize:YV};function YV(e,t,r){return n;function n(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return kt(a)?(e.exit("hardBreakEscape"),t(a)):r(a)}}const XV={name:"headingAtx",resolve:JV,tokenize:ZV};function JV(e,t){let r=e.length-2,n=3,i,a;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},a={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Bs(e,n,r-n+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function ZV(e,t,r){let n=0;return i;function i(c){return e.enter("atxHeading"),a(c)}function a(c){return e.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&n++<6?(e.consume(c),s):c===null||Ci(c)?(e.exit("atxHeadingSequence"),o(c)):r(c)}function o(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||kt(c)?(e.exit("atxHeading"),t(c)):rr(c)?jr(e,o,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),o(c))}function u(c){return c===null||c===35||Ci(c)?(e.exit("atxHeadingText"),o(c)):(e.consume(c),u)}}const QV=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],P4=["pre","script","style","textarea"],eG={concrete:!0,name:"htmlFlow",resolveTo:nG,tokenize:iG},tG={partial:!0,tokenize:sG},rG={partial:!0,tokenize:aG};function nG(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function iG(e,t,r){const n=this;let i,a,s,o,l;return u;function u(C){return c(C)}function c(C){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(C),f}function f(C){return C===33?(e.consume(C),p):C===47?(e.consume(C),a=!0,g):C===63?(e.consume(C),i=3,n.interrupt?t:$):Os(C)?(e.consume(C),s=String.fromCharCode(C),b):r(C)}function p(C){return C===45?(e.consume(C),i=2,h):C===91?(e.consume(C),i=5,o=0,y):Os(C)?(e.consume(C),i=4,n.interrupt?t:$):r(C)}function h(C){return C===45?(e.consume(C),n.interrupt?t:$):r(C)}function y(C){const K="CDATA[";return C===K.charCodeAt(o++)?(e.consume(C),o===K.length?n.interrupt?t:P:y):r(C)}function g(C){return Os(C)?(e.consume(C),s=String.fromCharCode(C),b):r(C)}function b(C){if(C===null||C===47||C===62||Ci(C)){const K=C===47,Q=s.toLowerCase();return!K&&!a&&P4.includes(Q)?(i=1,n.interrupt?t(C):P(C)):QV.includes(s.toLowerCase())?(i=6,K?(e.consume(C),v):n.interrupt?t(C):P(C)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(C):a?w(C):_(C))}return C===45||ea(C)?(e.consume(C),s+=String.fromCharCode(C),b):r(C)}function v(C){return C===62?(e.consume(C),n.interrupt?t:P):r(C)}function w(C){return rr(C)?(e.consume(C),w):F(C)}function _(C){return C===47?(e.consume(C),F):C===58||C===95||Os(C)?(e.consume(C),A):rr(C)?(e.consume(C),_):F(C)}function A(C){return C===45||C===46||C===58||C===95||ea(C)?(e.consume(C),A):S(C)}function S(C){return C===61?(e.consume(C),j):rr(C)?(e.consume(C),S):_(C)}function j(C){return C===null||C===60||C===61||C===62||C===96?r(C):C===34||C===39?(e.consume(C),l=C,O):rr(C)?(e.consume(C),j):L(C)}function O(C){return C===l?(e.consume(C),l=null,I):C===null||kt(C)?r(C):(e.consume(C),O)}function L(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||Ci(C)?S(C):(e.consume(C),L)}function I(C){return C===47||C===62||rr(C)?_(C):r(C)}function F(C){return C===62?(e.consume(C),k):r(C)}function k(C){return C===null||kt(C)?P(C):rr(C)?(e.consume(C),k):r(C)}function P(C){return C===45&&i===2?(e.consume(C),H):C===60&&i===1?(e.consume(C),V):C===62&&i===4?(e.consume(C),ae):C===63&&i===3?(e.consume(C),$):C===93&&i===5?(e.consume(C),J):kt(C)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(tG,T,M)(C)):C===null||kt(C)?(e.exit("htmlFlowData"),M(C)):(e.consume(C),P)}function M(C){return e.check(rG,D,T)(C)}function D(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),U}function U(C){return C===null||kt(C)?M(C):(e.enter("htmlFlowData"),P(C))}function H(C){return C===45?(e.consume(C),$):P(C)}function V(C){return C===47?(e.consume(C),s="",B):P(C)}function B(C){if(C===62){const K=s.toLowerCase();return P4.includes(K)?(e.consume(C),ae):P(C)}return Os(C)&&s.length<8?(e.consume(C),s+=String.fromCharCode(C),B):P(C)}function J(C){return C===93?(e.consume(C),$):P(C)}function $(C){return C===62?(e.consume(C),ae):C===45&&i===2?(e.consume(C),$):P(C)}function ae(C){return C===null||kt(C)?(e.exit("htmlFlowData"),T(C)):(e.consume(C),ae)}function T(C){return e.exit("htmlFlow"),t(C)}}function aG(e,t,r){const n=this;return i;function i(s){return kt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):r(s)}function a(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}function sG(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(x1,t,r)}}const oG={name:"htmlText",tokenize:lG};function lG(e,t,r){const n=this;let i,a,s;return o;function o($){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume($),l}function l($){return $===33?(e.consume($),u):$===47?(e.consume($),S):$===63?(e.consume($),_):Os($)?(e.consume($),L):r($)}function u($){return $===45?(e.consume($),c):$===91?(e.consume($),a=0,y):Os($)?(e.consume($),w):r($)}function c($){return $===45?(e.consume($),h):r($)}function f($){return $===null?r($):$===45?(e.consume($),p):kt($)?(s=f,V($)):(e.consume($),f)}function p($){return $===45?(e.consume($),h):f($)}function h($){return $===62?H($):$===45?p($):f($)}function y($){const ae="CDATA[";return $===ae.charCodeAt(a++)?(e.consume($),a===ae.length?g:y):r($)}function g($){return $===null?r($):$===93?(e.consume($),b):kt($)?(s=g,V($)):(e.consume($),g)}function b($){return $===93?(e.consume($),v):g($)}function v($){return $===62?H($):$===93?(e.consume($),v):g($)}function w($){return $===null||$===62?H($):kt($)?(s=w,V($)):(e.consume($),w)}function _($){return $===null?r($):$===63?(e.consume($),A):kt($)?(s=_,V($)):(e.consume($),_)}function A($){return $===62?H($):_($)}function S($){return Os($)?(e.consume($),j):r($)}function j($){return $===45||ea($)?(e.consume($),j):O($)}function O($){return kt($)?(s=O,V($)):rr($)?(e.consume($),O):H($)}function L($){return $===45||ea($)?(e.consume($),L):$===47||$===62||Ci($)?I($):r($)}function I($){return $===47?(e.consume($),H):$===58||$===95||Os($)?(e.consume($),F):kt($)?(s=I,V($)):rr($)?(e.consume($),I):H($)}function F($){return $===45||$===46||$===58||$===95||ea($)?(e.consume($),F):k($)}function k($){return $===61?(e.consume($),P):kt($)?(s=k,V($)):rr($)?(e.consume($),k):I($)}function P($){return $===null||$===60||$===61||$===62||$===96?r($):$===34||$===39?(e.consume($),i=$,M):kt($)?(s=P,V($)):rr($)?(e.consume($),P):(e.consume($),D)}function M($){return $===i?(e.consume($),i=void 0,U):$===null?r($):kt($)?(s=M,V($)):(e.consume($),M)}function D($){return $===null||$===34||$===39||$===60||$===61||$===96?r($):$===47||$===62||Ci($)?I($):(e.consume($),D)}function U($){return $===47||$===62||Ci($)?I($):r($)}function H($){return $===62?(e.consume($),e.exit("htmlTextData"),e.exit("htmlText"),t):r($)}function V($){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),B}function B($){return rr($)?jr(e,J,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):J($)}function J($){return e.enter("htmlTextData"),s($)}}const mj={name:"labelEnd",resolveAll:fG,resolveTo:hG,tokenize:pG},uG={tokenize:mG},cG={tokenize:gG},dG={tokenize:yG};function fG(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&Bs(e,0,e.length,r),e}function hG(e,t){let r=e.length,n=0,i,a,s,o;for(;r--;)if(i=e[r][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(s=r);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},c={type:"labelText",start:{...e[a+n+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",u,t]],o=ja(o,e.slice(a+1,a+n+3)),o=ja(o,[["enter",c,t]]),o=ja(o,pj(t.parser.constructs.insideSpan.null,e.slice(a+n+4,s-3),t)),o=ja(o,[["exit",c,t],e[s-2],e[s-1],["exit",u,t]]),o=ja(o,e.slice(s+1)),o=ja(o,[["exit",l,t]]),Bs(e,a,e.length,o),e}function pG(e,t,r){const n=this;let i=n.events.length,a,s;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){a=n.events[i][1];break}return o;function o(p){return a?a._inactive?f(p):(s=n.parser.defined.includes(Ld(n.sliceSerialize({start:a.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):r(p)}function l(p){return p===40?e.attempt(uG,c,s?c:f)(p):p===91?e.attempt(cG,c,s?u:f)(p):s?c(p):f(p)}function u(p){return e.attempt(dG,c,f)(p)}function c(p){return t(p)}function f(p){return a._balanced=!0,r(p)}}function mG(e,t,r){return n;function n(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Ci(f)?yp(e,a)(f):a(f)}function a(f){return f===41?c(f):M8(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Ci(f)?yp(e,l)(f):c(f)}function o(f){return r(f)}function l(f){return f===34||f===39||f===40?B8(e,u,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return Ci(f)?yp(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):r(f)}}function gG(e,t,r){const n=this;return i;function i(o){return D8.call(n,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return n.parser.defined.includes(Ld(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function s(o){return r(o)}}function yG(e,t,r){return n;function n(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):r(a)}}const vG={name:"labelStartImage",resolveAll:mj.resolveAll,tokenize:bG};function bG(e,t,r){const n=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):r(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const xG={name:"labelStartLink",resolveAll:mj.resolveAll,tokenize:wG};function wG(e,t,r){const n=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):t(s)}}const Ix={name:"lineEnding",tokenize:_G};function _G(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),jr(e,t,"linePrefix")}}const X0={name:"thematicBreak",tokenize:SG};function SG(e,t,r){let n=0,i;return a;function a(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):n>=3&&(u===null||kt(u))?(e.exit("thematicBreak"),t(u)):r(u)}function l(u){return u===i?(e.consume(u),n++,l):(e.exit("thematicBreakSequence"),rr(u)?jr(e,o,"whitespace")(u):o(u))}}const _i={continuation:{tokenize:kG},exit:OG,name:"list",tokenize:NG},jG={partial:!0,tokenize:PG},AG={partial:!0,tokenize:EG};function NG(e,t,r){const n=this,i=n.events[n.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(h){const y=n.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!n.containerState.marker||h===n.containerState.marker:t5(h)){if(n.containerState.type||(n.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(X0,r,u)(h):u(h);if(!n.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return r(h)}function l(h){return t5(h)&&++s<10?(e.consume(h),l):(!n.interrupt||s<2)&&(n.containerState.marker?h===n.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):r(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||h,e.check(x1,n.interrupt?r:c,e.attempt(jG,p,f))}function c(h){return n.containerState.initialBlankLine=!0,a++,p(h)}function f(h){return rr(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),p):r(h)}function p(h){return n.containerState.size=a+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function kG(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(x1,i,a);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,jr(e,t,"listItemIndent",n.containerState.size+1)(o)}function a(o){return n.containerState.furtherBlankLines||!rr(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,s(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(AG,t,s)(o))}function s(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,jr(e,e.attempt(_i,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function EG(e,t,r){const n=this;return jr(e,i,"listItemIndent",n.containerState.size+1);function i(a){const s=n.events[n.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===n.containerState.size?t(a):r(a)}}function OG(e){e.exit(this.containerState.type)}function PG(e,t,r){const n=this;return jr(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=n.events[n.events.length-1];return!rr(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):r(a)}}const C4={name:"setextUnderline",resolveTo:CG,tokenize:TG};function CG(e,t){let r=e.length,n,i,a;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!a&&e[r][1].type==="definition"&&(a=r);const s={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[n][1],t]),e[n][1].end={...e[a][1].end}):e[n][1]=s,e.push(["exit",s,t]),e}function TG(e,t,r){const n=this;let i;return a;function a(u){let c=n.events.length,f;for(;c--;)if(n.events[c][1].type!=="lineEnding"&&n.events[c][1].type!=="linePrefix"&&n.events[c][1].type!=="content"){f=n.events[c][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||f)?(e.enter("setextHeadingLine"),i=u,s(u)):r(u)}function s(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),rr(u)?jr(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||kt(u)?(e.exit("setextHeadingLine"),t(u)):r(u)}}const LG={tokenize:IG};function IG(e){const t=this,r=e.attempt(x1,n,e.attempt(this.parser.constructs.flowInitial,i,jr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(BV,i)),"linePrefix")));return r;function n(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const RG={resolveAll:U8()},$G=F8("string"),MG=F8("text");function F8(e){return{resolveAll:U8(e==="text"?DG:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],a=r.attempt(i,s,o);return s;function s(c){return u(c)?a(c):o(c)}function o(c){if(c===null){r.consume(c);return}return r.enter("data"),r.consume(c),l}function l(c){return u(c)?(r.exit("data"),a(c)):(r.consume(c),l)}function u(c){if(c===null)return!0;const f=i[c];let p=-1;if(f)for(;++p<f.length;){const h=f[p];if(!h.previous||h.previous.call(n,n.previous))return!0}return!1}}}function U8(e){return t;function t(r,n){let i=-1,a;for(;++i<=r.length;)a===void 0?r[i]&&r[i][1].type==="data"&&(a=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==a+2&&(r[a][1].end=r[i-1][1].end,r.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(r,n):r}}function DG(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let a=i.length,s=-1,o=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const u={type:r===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:n.start._bufferIndex+s,_index:n.start._index+a,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...u.start},n.start.offset===n.end.offset?Object.assign(n,u):(e.splice(r,0,["enter",u,t],["exit",u,t]),r+=2)}r++}return e}const BG={42:_i,43:_i,45:_i,48:_i,49:_i,50:_i,51:_i,52:_i,53:_i,54:_i,55:_i,56:_i,57:_i,62:L8},FG={91:WV},UG={[-2]:Lx,[-1]:Lx,32:Lx},zG={35:XV,42:X0,45:[C4,X0],60:eG,61:C4,95:X0,96:O4,126:O4},qG={38:R8,92:I8},WG={[-5]:Ix,[-4]:Ix,[-3]:Ix,33:vG,38:R8,42:r5,60:[xV,oG],91:xG,92:[KV,I8],93:mj,95:r5,96:LV},HG={null:[r5,RG]},VG={null:[42,95]},GG={null:[]},KG=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:VG,contentInitial:FG,disable:GG,document:BG,flow:zG,flowInitial:UG,insideSpan:HG,string:qG,text:WG},Symbol.toStringTag,{value:"Module"}));function YG(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:O(S),check:O(j),consume:w,enter:_,exit:A,interrupt:O(j,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:y,parser:e,previous:null,sliceSerialize:p,sliceStream:h,write:f};let c=t.tokenize.call(u,l);return t.resolveAll&&a.push(t),u;function f(k){return s=ja(s,k),b(),s[s.length-1]!==null?[]:(L(t,0),u.events=pj(a,u.events,u),u.events)}function p(k,P){return JG(h(k),P)}function h(k){return XG(s,k)}function y(){const{_bufferIndex:k,_index:P,line:M,column:D,offset:U}=n;return{_bufferIndex:k,_index:P,line:M,column:D,offset:U}}function g(k){i[k.line]=k.column,F()}function b(){let k;for(;n._index<s.length;){const P=s[n._index];if(typeof P=="string")for(k=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===k&&n._bufferIndex<P.length;)v(P.charCodeAt(n._bufferIndex));else v(P)}}function v(k){c=c(k)}function w(k){kt(k)?(n.line++,n.column=1,n.offset+=k===-3?2:1,F()):k!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===s[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=k}function _(k,P){const M=P||{};return M.type=k,M.start=y(),u.events.push(["enter",M,u]),o.push(M),M}function A(k){const P=o.pop();return P.end=y(),u.events.push(["exit",P,u]),P}function S(k,P){L(k,P.from)}function j(k,P){P.restore()}function O(k,P){return M;function M(D,U,H){let V,B,J,$;return Array.isArray(D)?T(D):"tokenize"in D?T([D]):ae(D);function ae(ie){return ue;function ue(me){const se=me!==null&&ie[me],ge=me!==null&&ie.null,Se=[...Array.isArray(se)?se:se?[se]:[],...Array.isArray(ge)?ge:ge?[ge]:[]];return T(Se)(me)}}function T(ie){return V=ie,B=0,ie.length===0?H:C(ie[B])}function C(ie){return ue;function ue(me){return $=I(),J=ie,ie.partial||(u.currentConstruct=ie),ie.name&&u.parser.constructs.disable.null.includes(ie.name)?Q():ie.tokenize.call(P?Object.assign(Object.create(u),P):u,l,K,Q)(me)}}function K(ie){return k(J,$),U}function Q(ie){return $.restore(),++B<V.length?C(V[B]):H}}}function L(k,P){k.resolveAll&&!a.includes(k)&&a.push(k),k.resolve&&Bs(u.events,P,u.events.length-P,k.resolve(u.events.slice(P),u)),k.resolveTo&&(u.events=k.resolveTo(u.events,u))}function I(){const k=y(),P=u.previous,M=u.currentConstruct,D=u.events.length,U=Array.from(o);return{from:D,restore:H};function H(){n=k,u.previous=P,u.currentConstruct=M,u.events.length=D,o=U,F()}}function F(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function XG(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(r===i)s=[e[r].slice(n,a)];else{if(s=e.slice(r,i),n>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(n):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function JG(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const a=e[r];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,n.push(s)}return n.join("")}function ZG(e){const n={constructs:aV([KG,...(e||{}).extensions||[]]),content:i(hV),defined:[],document:i(mV),flow:i(LG),lazy:{},string:i($G),text:i(MG)};return n;function i(a){return s;function s(o){return YG(n,a,o)}}}function QG(e){for(;!$8(e););return e}const T4=/[\0\t\n\r]/g;function eK(){let e=1,t="",r=!0,n;return i;function i(a,s,o){const l=[];let u,c,f,p,h;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",r&&(a.charCodeAt(0)===65279&&f++,r=void 0);f<a.length;){if(T4.lastIndex=f,u=T4.exec(a),p=u&&u.index!==void 0?u.index:a.length,h=a.charCodeAt(p),!u){t=a.slice(f);break}if(h===10&&f===p&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),f<p&&(l.push(a.slice(f,p)),e+=p-f),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:n=!0,e=1}f=p+1}return o&&(n&&l.push(-5),t&&l.push(t),l.push(null)),l}}const tK=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function rK(e){return e.replace(tK,nK)}function nK(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),a=i===120||i===88;return T8(r.slice(a?2:1),a?16:10)}return hj(r)||e}const z8={}.hasOwnProperty;function iK(e,t,r){return typeof t!="string"&&(r=t,t=void 0),aK(r)(QG(ZG(r).document().write(eK()(e,t,!0))))}function aK(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(fe),autolinkProtocol:I,autolinkEmail:I,atxHeading:a(ee),blockQuote:a(ge),characterEscape:I,characterReference:I,codeFenced:a(Se),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(Se,s),codeText:a(pe,s),codeTextData:I,data:I,codeFlowValue:I,definition:a(Fe),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(ye),hardBreakEscape:a(Ze),hardBreakTrailing:a(Ze),htmlFlow:a(Qe,s),htmlFlowData:I,htmlText:a(Qe,s),htmlTextData:I,image:a(Xe),label:s,link:a(fe),listItem:a(Le),listItemValue:p,listOrdered:a(Ue,f),listUnordered:a(Ue),paragraph:a(_e),reference:C,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(ee),strong:a(Ce),thematicBreak:a(Be)},exit:{atxHeading:l(),atxHeadingSequence:S,autolink:l(),autolinkEmail:se,autolinkProtocol:me,blockQuote:l(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:ie,characterReference:ue,codeFenced:l(b),codeFencedFence:g,codeFencedFenceInfo:h,codeFencedFenceMeta:y,codeFlowValue:F,codeIndented:l(v),codeText:l(U),codeTextData:F,data:F,definition:l(),definitionDestinationString:A,definitionLabelString:w,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(P),hardBreakTrailing:l(P),htmlFlow:l(M),htmlFlowData:F,htmlText:l(D),htmlTextData:F,image:l(V),label:J,labelText:B,lineEnding:k,link:l(H),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:K,resourceDestinationString:$,resourceTitleString:ae,resource:T,setextHeading:l(L),setextHeadingLineSequence:O,setextHeadingText:j,strong:l(),thematicBreak:l()}};q8(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(ce){let je={type:"root",children:[]};const Te={stack:[je],tokenStack:[],config:t,enter:o,exit:u,buffer:s,resume:c,data:r},Oe=[];let $e=-1;for(;++$e<ce.length;)if(ce[$e][1].type==="listOrdered"||ce[$e][1].type==="listUnordered")if(ce[$e][0]==="enter")Oe.push($e);else{const qe=Oe.pop();$e=i(ce,qe,$e)}for($e=-1;++$e<ce.length;){const qe=t[ce[$e][0]];z8.call(qe,ce[$e][1].type)&&qe[ce[$e][1].type].call(Object.assign({sliceSerialize:ce[$e][2].sliceSerialize},Te),ce[$e][1])}if(Te.tokenStack.length>0){const qe=Te.tokenStack[Te.tokenStack.length-1];(qe[1]||L4).call(Te,void 0,qe[0])}for(je.position={start:ll(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:ll(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},$e=-1;++$e<t.transforms.length;)je=t.transforms[$e](je)||je;return je}function i(ce,je,Te){let Oe=je-1,$e=-1,qe=!1,mt,vt,Je,yt;for(;++Oe<=Te;){const gt=ce[Oe];switch(gt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{gt[0]==="enter"?$e++:$e--,yt=void 0;break}case"lineEndingBlank":{gt[0]==="enter"&&(mt&&!yt&&!$e&&!Je&&(Je=Oe),yt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:yt=void 0}if(!$e&&gt[0]==="enter"&&gt[1].type==="listItemPrefix"||$e===-1&&gt[0]==="exit"&&(gt[1].type==="listUnordered"||gt[1].type==="listOrdered")){if(mt){let et=Oe;for(vt=void 0;et--;){const bt=ce[et];if(bt[1].type==="lineEnding"||bt[1].type==="lineEndingBlank"){if(bt[0]==="exit")continue;vt&&(ce[vt][1].type="lineEndingBlank",qe=!0),bt[1].type="lineEnding",vt=et}else if(!(bt[1].type==="linePrefix"||bt[1].type==="blockQuotePrefix"||bt[1].type==="blockQuotePrefixWhitespace"||bt[1].type==="blockQuoteMarker"||bt[1].type==="listItemIndent"))break}Je&&(!vt||Je<vt)&&(mt._spread=!0),mt.end=Object.assign({},vt?ce[vt][1].start:gt[1].end),ce.splice(vt||Oe,0,["exit",mt,gt[2]]),Oe++,Te++}if(gt[1].type==="listItemPrefix"){const et={type:"listItem",_spread:!1,start:Object.assign({},gt[1].start),end:void 0};mt=et,ce.splice(Oe,0,["enter",et,gt[2]]),Oe++,Te++,Je=void 0,yt=!0}}}return ce[je][1]._spread=qe,Te}function a(ce,je){return Te;function Te(Oe){o.call(this,ce(Oe),Oe),je&&je.call(this,Oe)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(ce,je,Te){this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([je,Te||void 0]),ce.position={start:ll(je.start),end:void 0}}function l(ce){return je;function je(Te){ce&&ce.call(this,Te),u.call(this,Te)}}function u(ce,je){const Te=this.stack.pop(),Oe=this.tokenStack.pop();if(Oe)Oe[0].type!==ce.type&&(je?je.call(this,ce,Oe[0]):(Oe[1]||L4).call(this,ce,Oe[0]));else throw new Error("Cannot close `"+ce.type+"` ("+gp({start:ce.start,end:ce.end})+"): its not open");Te.position.end=ll(ce.end)}function c(){return nV(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(ce){if(this.data.expectingFirstListItemValue){const je=this.stack[this.stack.length-2];je.start=Number.parseInt(this.sliceSerialize(ce),10),this.data.expectingFirstListItemValue=void 0}}function h(){const ce=this.resume(),je=this.stack[this.stack.length-1];je.lang=ce}function y(){const ce=this.resume(),je=this.stack[this.stack.length-1];je.meta=ce}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const ce=this.resume(),je=this.stack[this.stack.length-1];je.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const ce=this.resume(),je=this.stack[this.stack.length-1];je.value=ce.replace(/(\r?\n|\r)$/g,"")}function w(ce){const je=this.resume(),Te=this.stack[this.stack.length-1];Te.label=je,Te.identifier=Ld(this.sliceSerialize(ce)).toLowerCase()}function _(){const ce=this.resume(),je=this.stack[this.stack.length-1];je.title=ce}function A(){const ce=this.resume(),je=this.stack[this.stack.length-1];je.url=ce}function S(ce){const je=this.stack[this.stack.length-1];if(!je.depth){const Te=this.sliceSerialize(ce).length;je.depth=Te}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function O(ce){const je=this.stack[this.stack.length-1];je.depth=this.sliceSerialize(ce).codePointAt(0)===61?1:2}function L(){this.data.setextHeadingSlurpLineEnding=void 0}function I(ce){const Te=this.stack[this.stack.length-1].children;let Oe=Te[Te.length-1];(!Oe||Oe.type!=="text")&&(Oe=Re(),Oe.position={start:ll(ce.start),end:void 0},Te.push(Oe)),this.stack.push(Oe)}function F(ce){const je=this.stack.pop();je.value+=this.sliceSerialize(ce),je.position.end=ll(ce.end)}function k(ce){const je=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Te=je.children[je.children.length-1];Te.position.end=ll(ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(je.type)&&(I.call(this,ce),F.call(this,ce))}function P(){this.data.atHardBreak=!0}function M(){const ce=this.resume(),je=this.stack[this.stack.length-1];je.value=ce}function D(){const ce=this.resume(),je=this.stack[this.stack.length-1];je.value=ce}function U(){const ce=this.resume(),je=this.stack[this.stack.length-1];je.value=ce}function H(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const je=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=je,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function V(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const je=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=je,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function B(ce){const je=this.sliceSerialize(ce),Te=this.stack[this.stack.length-2];Te.label=rK(je),Te.identifier=Ld(je).toLowerCase()}function J(){const ce=this.stack[this.stack.length-1],je=this.resume(),Te=this.stack[this.stack.length-1];if(this.data.inReference=!0,Te.type==="link"){const Oe=ce.children;Te.children=Oe}else Te.alt=je}function $(){const ce=this.resume(),je=this.stack[this.stack.length-1];je.url=ce}function ae(){const ce=this.resume(),je=this.stack[this.stack.length-1];je.title=ce}function T(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function K(ce){const je=this.resume(),Te=this.stack[this.stack.length-1];Te.label=je,Te.identifier=Ld(this.sliceSerialize(ce)).toLowerCase(),this.data.referenceType="full"}function Q(ce){this.data.characterReferenceType=ce.type}function ie(ce){const je=this.sliceSerialize(ce),Te=this.data.characterReferenceType;let Oe;Te?(Oe=T8(je,Te==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Oe=hj(je);const $e=this.stack[this.stack.length-1];$e.value+=Oe}function ue(ce){const je=this.stack.pop();je.position.end=ll(ce.end)}function me(ce){F.call(this,ce);const je=this.stack[this.stack.length-1];je.url=this.sliceSerialize(ce)}function se(ce){F.call(this,ce);const je=this.stack[this.stack.length-1];je.url="mailto:"+this.sliceSerialize(ce)}function ge(){return{type:"blockquote",children:[]}}function Se(){return{type:"code",lang:null,meta:null,value:""}}function pe(){return{type:"inlineCode",value:""}}function Fe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ye(){return{type:"emphasis",children:[]}}function ee(){return{type:"heading",depth:0,children:[]}}function Ze(){return{type:"break"}}function Qe(){return{type:"html",value:""}}function Xe(){return{type:"image",title:null,url:"",alt:null}}function fe(){return{type:"link",title:null,url:"",children:[]}}function Ue(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function Le(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function _e(){return{type:"paragraph",children:[]}}function Ce(){return{type:"strong",children:[]}}function Re(){return{type:"text",value:""}}function Be(){return{type:"thematicBreak"}}}function ll(e){return{line:e.line,column:e.column,offset:e.offset}}function q8(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?q8(e,n):sK(e,n)}}function sK(e,t){let r;for(r in t)if(z8.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function L4(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+gp({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+gp({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+gp({start:t.start,end:t.end})+") is still open")}function oK(e){const t=this;t.parser=r;function r(n){return iK(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function lK(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function uK(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function cK(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function dK(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function fK(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function hK(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=Bf(n.toLowerCase()),a=e.footnoteOrder.indexOf(n);let s,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(n,o);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function pK(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function mK(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function W8(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=n:i.push({type:"text",value:n}),i}function gK(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return W8(e,t);const i={src:Bf(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function yK(e,t){const r={src:Bf(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function vK(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function bK(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return W8(e,t);const i={href:Bf(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function xK(e,t){const r={href:Bf(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wK(e,t,r){const n=e.all(t),i=r?_K(r):H8(t),a={},s=[];if(typeof t.checked=="boolean"){const c=n[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},n.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const c=n[o];(i||o!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,u),e.applyData(t,u)}function _K(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=H8(r[n])}return t}function H8(e){const t=e.spread;return t??e.children.length>1}function SK(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const s=n[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,a),e.applyData(t,a)}function jK(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function AK(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function NK(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function kK(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],s),i.push(s)}if(r.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=uj(t.children[1]),l=A8(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function EK(e,t,r){const n=r?r.children:void 0,a=(n?n.indexOf(t):1)===0?"th":"td",s=r&&r.type==="table"?r.align:void 0,o=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<o;){const f=t.children[l],p={},h=s?s[l]:void 0;h&&(p.align=h);let y={type:"element",tagName:a,properties:p,children:[]};f&&(y.children=e.all(f),e.patch(f,y),y=e.applyData(f,y)),u.push(y)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function OK(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const I4=9,R4=32;function PK(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const a=[];for(;n;)a.push($4(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return a.push($4(t.slice(i),i>0,!1)),a.join("")}function $4(e,t,r){let n=0,i=e.length;if(t){let a=e.codePointAt(n);for(;a===I4||a===R4;)n++,a=e.codePointAt(n)}if(r){let a=e.codePointAt(i-1);for(;a===I4||a===R4;)i--,a=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function CK(e,t){const r={type:"text",value:PK(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function TK(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const LK={blockquote:lK,break:uK,code:cK,delete:dK,emphasis:fK,footnoteReference:hK,heading:pK,html:mK,imageReference:gK,image:yK,inlineCode:vK,linkReference:bK,link:xK,listItem:wK,list:SK,paragraph:jK,root:AK,strong:NK,table:kK,tableCell:OK,tableRow:EK,text:CK,thematicBreak:TK,toml:f0,yaml:f0,definition:f0,footnoteDefinition:f0};function f0(){}const V8=-1,w1=0,vp=1,$y=2,gj=3,yj=4,vj=5,bj=6,G8=7,K8=8,M4=typeof self=="object"?self:globalThis,IK=(e,t)=>{const r=(i,a)=>(e.set(a,i),i),n=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case w1:case V8:return r(s,i);case vp:{const o=r([],i);for(const l of s)o.push(n(l));return o}case $y:{const o=r({},i);for(const[l,u]of s)o[n(l)]=n(u);return o}case gj:return r(new Date(s),i);case yj:{const{source:o,flags:l}=s;return r(new RegExp(o,l),i)}case vj:{const o=r(new Map,i);for(const[l,u]of s)o.set(n(l),n(u));return o}case bj:{const o=r(new Set,i);for(const l of s)o.add(n(l));return o}case G8:{const{name:o,message:l}=s;return r(new M4[o](l),i)}case K8:return r(BigInt(s),i);case"BigInt":return r(Object(BigInt(s)),i);case"ArrayBuffer":return r(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return r(new DataView(o),s)}}return r(new M4[a](s),i)};return n},D4=e=>IK(new Map,e)(0),Gc="",{toString:RK}={},{keys:$K}=Object,Dh=e=>{const t=typeof e;if(t!=="object"||!e)return[w1,t];const r=RK.call(e).slice(8,-1);switch(r){case"Array":return[vp,Gc];case"Object":return[$y,Gc];case"Date":return[gj,Gc];case"RegExp":return[yj,Gc];case"Map":return[vj,Gc];case"Set":return[bj,Gc];case"DataView":return[vp,r]}return r.includes("Array")?[vp,r]:r.includes("Error")?[G8,r]:[$y,r]},h0=([e,t])=>e===w1&&(t==="function"||t==="symbol"),MK=(e,t,r,n)=>{const i=(s,o)=>{const l=n.push(s)-1;return r.set(o,l),l},a=s=>{if(r.has(s))return r.get(s);let[o,l]=Dh(s);switch(o){case w1:{let c=s;switch(l){case"bigint":o=K8,c=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([V8],s)}return i([o,c],s)}case vp:{if(l){let p=s;return l==="DataView"?p=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(s)),i([l,[...p]],s)}const c=[],f=i([o,c],s);for(const p of s)c.push(a(p));return f}case $y:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const c=[],f=i([o,c],s);for(const p of $K(s))(e||!h0(Dh(s[p])))&&c.push([a(p),a(s[p])]);return f}case gj:return i([o,s.toISOString()],s);case yj:{const{source:c,flags:f}=s;return i([o,{source:c,flags:f}],s)}case vj:{const c=[],f=i([o,c],s);for(const[p,h]of s)(e||!(h0(Dh(p))||h0(Dh(h))))&&c.push([a(p),a(h)]);return f}case bj:{const c=[],f=i([o,c],s);for(const p of s)(e||!h0(Dh(p)))&&c.push(a(p));return f}}const{message:u}=s;return i([o,{name:l,message:u}],s)};return a},B4=(e,{json:t,lossy:r}={})=>{const n=[];return MK(!(t||r),!!t,new Map,n)(e),n},My=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?D4(B4(e,t)):structuredClone(e):(e,t)=>D4(B4(e,t));function DK(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function BK(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function FK(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||DK,n=e.options.footnoteBackLabel||BK,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),f=String(u.identifier).toUpperCase(),p=Bf(f.toLowerCase());let h=0;const y=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++h<=g;){y.length>0&&y.push({type:"text",value:" "});let w=typeof r=="string"?r:r(l,h);typeof w=="string"&&(w={type:"text",value:w}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,h),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const b=c[c.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const w=b.children[b.children.length-1];w&&w.type==="text"?w.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...y)}else c.push(...y);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(c,!0)};e.patch(u,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...My(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Y8=function(e){if(e==null)return WK;if(typeof e=="function")return _1(e);if(typeof e=="object")return Array.isArray(e)?UK(e):zK(e);if(typeof e=="string")return qK(e);throw new Error("Expected function, string, or object as test")};function UK(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Y8(e[r]);return _1(n);function n(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function zK(e){const t=e;return _1(r);function r(n){const i=n;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function qK(e){return _1(t);function t(r){return r&&r.type===e}}function _1(e){return t;function t(r,n,i){return!!(HK(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function WK(){return!0}function HK(e){return e!==null&&typeof e=="object"&&"type"in e}const X8=[],VK=!0,F4=!1,GK="skip";function KK(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const a=Y8(i),s=n?-1:1;o(e,void 0,[])();function o(l,u,c){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return p;function p(){let h=X8,y,g,b;if((!t||a(l,u,c[c.length-1]||void 0))&&(h=YK(r(l,c)),h[0]===F4))return h;if("children"in l&&l.children){const v=l;if(v.children&&h[0]!==GK)for(g=(n?v.children.length:-1)+s,b=c.concat(v);g>-1&&g<v.children.length;){const w=v.children[g];if(y=o(w,g,b)(),y[0]===F4)return y;g=typeof y[1]=="number"?y[1]:g+s}}return h}}}function YK(e){return Array.isArray(e)?e:typeof e=="number"?[VK,e]:e==null?X8:[e]}function J8(e,t,r,n){let i,a,s;typeof t=="function"&&typeof r!="function"?(a=void 0,s=t,i=r):(a=t,s=r,i=n),KK(e,a,o,i);function o(l,u){const c=u[u.length-1],f=c?c.children.indexOf(l):void 0;return s(l,f,c)}}const n5={}.hasOwnProperty,XK={};function JK(e,t){const r=t||XK,n=new Map,i=new Map,a=new Map,s={...LK,...r.handlers},o={all:u,applyData:QK,definitionById:n,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:r,patch:ZK,wrap:tY};return J8(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const f=c.type==="definition"?n:i,p=String(c.identifier).toUpperCase();f.has(p)||f.set(p,c)}}),o;function l(c,f){const p=c.type,h=o.handlers[p];if(n5.call(o.handlers,p)&&h)return h(o,c,f);if(o.options.passThrough&&o.options.passThrough.includes(p)){if("children"in c){const{children:g,...b}=c,v=My(b);return v.children=o.all(c),v}return My(c)}return(o.options.unknownHandler||eY)(o,c,f)}function u(c){const f=[];if("children"in c){const p=c.children;let h=-1;for(;++h<p.length;){const y=o.one(p[h],c);if(y){if(h&&p[h-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=U4(y.value)),!Array.isArray(y)&&y.type==="element")){const g=y.children[0];g&&g.type==="text"&&(g.value=U4(g.value))}Array.isArray(y)?f.push(...y):f.push(y)}}}return f}}function ZK(e,t){e.position&&(t.position=RH(e))}function QK(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const s="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:s}}r.type==="element"&&a&&Object.assign(r.properties,My(a)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function eY(e,t){const r=t.data||{},n="value"in t&&!(n5.call(r,"hProperties")||n5.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tY(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function U4(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function z4(e,t){const r=JK(e,t),n=r.one(e,void 0),i=FK(r),a=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function rY(e,t){return e&&"run"in e?async function(r,n){const i=z4(r,{file:n,...t});await e.run(i,n)}:function(r,n){return z4(r,{file:n,...e||t})}}function q4(e){if(e)throw e}var J0=Object.prototype.hasOwnProperty,Z8=Object.prototype.toString,W4=Object.defineProperty,H4=Object.getOwnPropertyDescriptor,V4=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Z8.call(t)==="[object Array]"},G4=function(t){if(!t||Z8.call(t)!=="[object Object]")return!1;var r=J0.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&J0.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||J0.call(t,i)},K4=function(t,r){W4&&r.name==="__proto__"?W4(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},Y4=function(t,r){if(r==="__proto__")if(J0.call(t,r)){if(H4)return H4(t,r).value}else return;return t[r]},nY=function e(){var t,r,n,i,a,s,o=arguments[0],l=1,u=arguments.length,c=!1;for(typeof o=="boolean"&&(c=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(t=arguments[l],t!=null)for(r in t)n=Y4(o,r),i=Y4(t,r),o!==i&&(c&&i&&(G4(i)||(a=V4(i)))?(a?(a=!1,s=n&&V4(n)?n:[]):s=n&&G4(n)?n:{},K4(o,{name:r,newValue:e(c,s,i)})):typeof i<"u"&&K4(o,{name:r,newValue:i}));return o};const Rx=nr(nY);function i5(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function iY(){const e=[],t={run:r,use:n};return t;function r(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...u){const c=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?aY(c,o)(...u):s(null,...u)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function aY(e,t){let r;return n;function n(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(u){const c=u;if(o&&r)throw c;return i(c)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){r||(r=!0,t(s,...o))}function a(s){i(null,s)}}const ks={basename:sY,dirname:oY,extname:lY,join:uY,sep:"/"};function sY(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Hm(e);let r=0,n=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else n<0&&(a=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(n=i):(o=-1,n=s));return r===n?n=s:n<0&&(n=e.length),e.slice(r,n)}function oY(e){if(Hm(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function lY(e){Hm(e);let t=e.length,r=-1,n=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){n=t+1;break}continue}r<0&&(s=!0,r=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||r<0||a===0||a===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function uY(...e){let t=-1,r;for(;++t<e.length;)Hm(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":cY(r)}function cY(e){Hm(e);const t=e.codePointAt(0)===47;let r=dY(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function dY(e,t){let r="",n=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=s,a=0;continue}}else if(r.length>0){r="",n=0,i=s,a=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,s):r=e.slice(i+1,s),n=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return r}function Hm(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const fY={cwd:hY};function hY(){return"/"}function a5(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function pY(e){if(typeof e=="string")e=new URL(e);else if(!a5(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return mY(e)}function mY(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const $x=["history","path","basename","stem","extname","dirname"];class Q8{constructor(t){let r;t?a5(t)?r={path:t}:typeof t=="string"||gY(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":fY.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<$x.length;){const a=$x[n];a in r&&r[a]!==void 0&&r[a]!==null&&(this[a]=a==="history"?[...r[a]]:r[a])}let i;for(i in r)$x.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?ks.basename(this.path):void 0}set basename(t){Dx(t,"basename"),Mx(t,"basename"),this.path=ks.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ks.dirname(this.path):void 0}set dirname(t){X4(this.basename,"dirname"),this.path=ks.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ks.extname(this.path):void 0}set extname(t){if(Mx(t,"extname"),X4(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ks.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){a5(t)&&(t=pY(t)),Dx(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ks.basename(this.path,this.extname):void 0}set stem(t){Dx(t,"stem"),Mx(t,"stem"),this.path=ks.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new si(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Mx(e,t){if(e&&e.includes(ks.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ks.sep+"`")}function Dx(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function X4(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function gY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const yY=function(e){const n=this.constructor.prototype,i=n[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,n),a},vY={}.hasOwnProperty;class xj extends yY{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=iY()}copy(){const t=new xj;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(Rx(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(Ux("data",this.frozen),this.namespace[t]=r,this):vY.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Ux("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=p0(t),n=this.parser||this.Parser;return Bx("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),Bx("process",this.parser||this.Parser),Fx("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(a,s){const o=p0(t),l=n.parse(o);n.run(l,o,function(c,f,p){if(c||!f||!p)return u(c);const h=f,y=n.stringify(h,p);wY(y)?p.value=y:p.result=y,u(c,p)});function u(c,f){c||!f?s(c):a?a(f):r(void 0,f)}}}processSync(t){let r=!1,n;return this.freeze(),Bx("processSync",this.parser||this.Parser),Fx("processSync",this.compiler||this.Compiler),this.process(t,i),Z4("processSync","process",r),n;function i(a,s){r=!0,q4(a),n=s}}run(t,r,n){J4(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?a(void 0,n):new Promise(a);function a(s,o){const l=p0(r);i.run(t,l,u);function u(c,f,p){const h=f||t;c?o(c):s?s(h):n(void 0,h,p)}}}runSync(t,r){let n=!1,i;return this.run(t,r,a),Z4("runSync","run",n),i;function a(s,o){q4(s),i=o,n=!0}}stringify(t,r){this.freeze();const n=p0(r),i=this.compiler||this.Compiler;return Fx("stringify",i),J4(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(Ux("use",this.frozen),t!=null)if(typeof t=="function")l(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...f]=u;l(c,f)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=Rx(!0,i.settings,u.settings))}function o(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const f=u[c];a(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let f=-1,p=-1;for(;++f<n.length;)if(n[f][0]===u){p=f;break}if(p===-1)n.push([u,...c]);else if(c.length>0){let[h,...y]=c;const g=n[p][1];i5(g)&&i5(h)&&(h=Rx(!0,g,h)),n[p]=[u,h,...y]}}}}const bY=new xj().freeze();function Bx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Fx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ux(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function J4(e){if(!i5(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Z4(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function p0(e){return xY(e)?e:new Q8(e)}function xY(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function wY(e){return typeof e=="string"||_Y(e)}function _Y(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const SY="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Q4=[],e3={allowDangerousHtml:!0},jY=/^(https?|ircs?|mailto|xmpp)$/i,AY=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function NY(e){const t=kY(e),r=EY(e);return OY(t.runSync(t.parse(r),r),e)}function kY(e){const t=e.rehypePlugins||Q4,r=e.remarkPlugins||Q4,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...e3}:e3;return bY().use(oK).use(r).use(rY,n).use(t)}function EY(e){const t=e.children||"",r=new Q8;return typeof t=="string"&&(r.value=t),r}function OY(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||PY;for(const c of AY)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+SY+c.id,void 0);return J8(e,u),FH(e,{Fragment:d.Fragment,components:i,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function u(c,f,p){if(c.type==="raw"&&p&&typeof f=="number")return s?p.children.splice(f,1):p.children[f]={type:"text",value:c.value},f;if(c.type==="element"){let h;for(h in Tx)if(Object.hasOwn(Tx,h)&&Object.hasOwn(c.properties,h)){const y=c.properties[h],g=Tx[h];(g===null||g.includes(c.tagName))&&(c.properties[h]=l(String(y||""),h,c))}}if(c.type==="element"){let h=r?!r.includes(c.tagName):a?a.includes(c.tagName):!1;if(!h&&n&&typeof f=="number"&&(h=!n(c,f,p)),h&&p&&typeof f=="number")return o&&c.children?p.children.splice(f,1,...c.children):p.children.splice(f,1),f}}}function PY(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||jY.test(e.slice(0,t))?e:""}function Aa({content:e,className:t=""}){return d.jsx("div",{className:`prose prose-sm max-w-none ${t}`,children:d.jsx(NY,{components:{h1:({node:r,...n})=>d.jsx("h1",{className:"text-2xl font-bold mb-2",...n}),h2:({node:r,...n})=>d.jsx("h2",{className:"text-xl font-bold mb-2",...n}),h3:({node:r,...n})=>d.jsx("h3",{className:"text-lg font-semibold mb-1",...n}),strong:({node:r,...n})=>d.jsx("strong",{className:"font-semibold text-gray-900",...n}),em:({node:r,...n})=>d.jsx("em",{className:"italic",...n}),p:({node:r,...n})=>d.jsx("p",{className:"mb-2 leading-relaxed",...n}),ul:({node:r,...n})=>d.jsx("ul",{className:"list-disc list-outside mb-2 space-y-1 pl-5",...n}),ol:({node:r,...n})=>d.jsx("ol",{className:"list-decimal list-outside mb-2 space-y-1 pl-5",...n}),li:({node:r,...n})=>d.jsx("li",{className:"leading-relaxed",...n}),code:({node:r,inline:n,...i})=>n?d.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-sm font-mono",...i}):d.jsx("code",{className:"block bg-gray-100 p-2 rounded text-sm font-mono overflow-x-auto",...i})},children:e})})}var Jt;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},e.find=(i,a)=>{for(const s of i)if(a(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Jt||(Jt={}));var t3;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(t3||(t3={}));const at=Jt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),hl=e=>{switch(typeof e){case"undefined":return at.undefined;case"string":return at.string;case"number":return Number.isNaN(e)?at.nan:at.number;case"boolean":return at.boolean;case"function":return at.function;case"bigint":return at.bigint;case"symbol":return at.symbol;case"object":return Array.isArray(e)?at.array:e===null?at.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?at.promise:typeof Map<"u"&&e instanceof Map?at.map:typeof Set<"u"&&e instanceof Set?at.set:typeof Date<"u"&&e instanceof Date?at.date:at.object;default:return at.unknown}},Ve=Jt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class To extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(s))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return i(this),n}static assert(t){if(!(t instanceof To))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Jt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}To.create=e=>new To(e);const s5=(e,t)=>{let r;switch(e.code){case Ve.invalid_type:e.received===at.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ve.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Jt.jsonStringifyReplacer)}`;break;case Ve.unrecognized_keys:r=`Unrecognized key(s) in object: ${Jt.joinValues(e.keys,", ")}`;break;case Ve.invalid_union:r="Invalid input";break;case Ve.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Jt.joinValues(e.options)}`;break;case Ve.invalid_enum_value:r=`Invalid enum value. Expected ${Jt.joinValues(e.options)}, received '${e.received}'`;break;case Ve.invalid_arguments:r="Invalid function arguments";break;case Ve.invalid_return_type:r="Invalid function return type";break;case Ve.invalid_date:r="Invalid date";break;case Ve.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Jt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ve.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ve.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ve.custom:r="Invalid input";break;case Ve.invalid_intersection_types:r="Intersection results could not be merged";break;case Ve.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ve.not_finite:r="Number must be finite";break;default:r=t.defaultError,Jt.assertNever(e)}return{message:r}};let CY=s5;function TY(){return CY}const LY=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)o=u(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}};function Ye(e,t){const r=TY(),n=LY({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===s5?void 0:s5].filter(i=>!!i)});e.common.issues.push(n)}class gi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return Lt;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return gi.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Lt;a.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:t.value,value:n}}}const Lt=Object.freeze({status:"aborted"}),rp=e=>({status:"dirty",value:e}),$a=e=>({status:"valid",value:e}),r3=e=>e.status==="aborted",n3=e=>e.status==="dirty",Xd=e=>e.status==="valid",Dy=e=>typeof Promise<"u"&&e instanceof Promise;var ut;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ut||(ut={}));class Fs{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const i3=(e,t)=>{if(Xd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new To(e.common.issues);return this._error=r,this._error}}};function zt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,o)=>{const{message:l}=e;return s.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:i}}class Vt{get description(){return this._def.description}_getType(t){return hl(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:hl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new gi,ctx:{common:t.parent.common,data:t.data,parsedType:hl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Dy(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hl(t)},i=this._parseSync({data:t,path:n.path,parent:n});return i3(n,i)}"~validate"(t){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hl(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return Xd(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>Xd(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hl(t)},i=this._parse({data:t,path:n.path,parent:n}),a=await(Dy(i)?i:Promise.resolve(i));return i3(n,a)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=t(i),o=()=>a.addIssue({code:Ve.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Qd({schema:this,typeName:Pt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Il.create(this,this._def)}nullable(){return ef.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Rs.create(this)}promise(){return qy.create(this,this._def)}or(t){return Fy.create([this,t],this._def)}and(t){return Uy.create(this,t,this._def)}transform(t){return new Qd({...zt(this._def),schema:this,typeName:Pt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new l5({...zt(this._def),innerType:this,defaultValue:r,typeName:Pt.ZodDefault})}brand(){return new rX({typeName:Pt.ZodBranded,type:this,...zt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new u5({...zt(this._def),innerType:this,catchValue:r,typeName:Pt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return wj.create(this,t)}readonly(){return c5.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const IY=/^c[^\s-]{8,}$/i,RY=/^[0-9a-z]+$/,$Y=/^[0-9A-HJKMNP-TV-Z]{26}$/i,MY=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,DY=/^[a-z0-9_-]{21}$/i,BY=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,FY=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,UY=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,zY="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let zx;const qY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,WY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,HY=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,VY=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,GY=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,KY=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,eR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",YY=new RegExp(`^${eR}$`);function tR(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function XY(e){return new RegExp(`^${tR(e)}$`)}function JY(e){let t=`${eR}T${tR(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function ZY(e,t){return!!((t==="v4"||!t)&&qY.test(e)||(t==="v6"||!t)&&HY.test(e))}function QY(e,t){if(!BY.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function eX(e,t){return!!((t==="v4"||!t)&&WY.test(e)||(t==="v6"||!t)&&VY.test(e))}class bo extends Vt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==at.string){const a=this._getOrReturnCtx(t);return Ye(a,{code:Ve.invalid_type,expected:at.string,received:a.parsedType}),Lt}const n=new gi;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),Ye(i,{code:Ve.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),Ye(i,{code:Ve.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=t.data.length>a.value,o=t.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(t,i),s?Ye(i,{code:Ve.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&Ye(i,{code:Ve.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")UY.test(t.data)||(i=this._getOrReturnCtx(t,i),Ye(i,{validation:"email",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")zx||(zx=new RegExp(zY,"u")),zx.test(t.data)||(i=this._getOrReturnCtx(t,i),Ye(i,{validation:"emoji",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")MY.test(t.data)||(i=this._getOrReturnCtx(t,i),Ye(i,{validation:"uuid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")DY.test(t.data)||(i=this._getOrReturnCtx(t,i),Ye(i,{validation:"nanoid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")IY.test(t.data)||(i=this._getOrReturnCtx(t,i),Ye(i,{validation:"cuid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")RY.test(t.data)||(i=this._getOrReturnCtx(t,i),Ye(i,{validation:"cuid2",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")$Y.test(t.data)||(i=this._getOrReturnCtx(t,i),Ye(i,{validation:"ulid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Ye(i,{validation:"url",code:Ve.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Ye(i,{validation:"regex",code:Ve.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),Ye(i,{code:Ve.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),Ye(i,{code:Ve.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),Ye(i,{code:Ve.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?JY(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Ye(i,{code:Ve.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?YY.test(t.data)||(i=this._getOrReturnCtx(t,i),Ye(i,{code:Ve.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?XY(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Ye(i,{code:Ve.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?FY.test(t.data)||(i=this._getOrReturnCtx(t,i),Ye(i,{validation:"duration",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?ZY(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Ye(i,{validation:"ip",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?QY(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),Ye(i,{validation:"jwt",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?eX(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Ye(i,{validation:"cidr",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?GY.test(t.data)||(i=this._getOrReturnCtx(t,i),Ye(i,{validation:"base64",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?KY.test(t.data)||(i=this._getOrReturnCtx(t,i),Ye(i,{validation:"base64url",code:Ve.invalid_string,message:a.message}),n.dirty()):Jt.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:Ve.invalid_string,...ut.errToObj(n)})}_addCheck(t){return new bo({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ut.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ut.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ut.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ut.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ut.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ut.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ut.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ut.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ut.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ut.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ut.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ut.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ut.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ut.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ut.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ut.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ut.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ut.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ut.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ut.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ut.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ut.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ut.errToObj(r)})}nonempty(t){return this.min(1,ut.errToObj(t))}trim(){return new bo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}bo.create=e=>new bo({checks:[],typeName:Pt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...zt(e)});function tX(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return a%s/10**i}class Jd extends Vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==at.number){const a=this._getOrReturnCtx(t);return Ye(a,{code:Ve.invalid_type,expected:at.number,received:a.parsedType}),Lt}let n;const i=new gi;for(const a of this._def.checks)a.kind==="int"?Jt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ye(n,{code:Ve.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),Ye(n,{code:Ve.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),Ye(n,{code:Ve.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?tX(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),Ye(n,{code:Ve.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ye(n,{code:Ve.not_finite,message:a.message}),i.dirty()):Jt.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ut.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ut.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ut.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ut.toString(r))}setLimit(t,r,n,i){return new Jd({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ut.toString(i)}]})}_addCheck(t){return new Jd({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ut.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ut.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ut.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ut.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ut.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ut.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ut.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ut.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ut.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Jt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Jd.create=e=>new Jd({checks:[],typeName:Pt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...zt(e)});class Zp extends Vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==at.bigint)return this._getInvalidInput(t);let n;const i=new gi;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),Ye(n,{code:Ve.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),Ye(n,{code:Ve.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ye(n,{code:Ve.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Jt.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ye(r,{code:Ve.invalid_type,expected:at.bigint,received:r.parsedType}),Lt}gte(t,r){return this.setLimit("min",t,!0,ut.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ut.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ut.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ut.toString(r))}setLimit(t,r,n,i){return new Zp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ut.toString(i)}]})}_addCheck(t){return new Zp({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ut.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ut.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ut.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ut.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ut.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Zp.create=e=>new Zp({checks:[],typeName:Pt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...zt(e)});class a3 extends Vt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==at.boolean){const n=this._getOrReturnCtx(t);return Ye(n,{code:Ve.invalid_type,expected:at.boolean,received:n.parsedType}),Lt}return $a(t.data)}}a3.create=e=>new a3({typeName:Pt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...zt(e)});class By extends Vt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==at.date){const a=this._getOrReturnCtx(t);return Ye(a,{code:Ve.invalid_type,expected:at.date,received:a.parsedType}),Lt}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Ye(a,{code:Ve.invalid_date}),Lt}const n=new gi;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),Ye(i,{code:Ve.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),Ye(i,{code:Ve.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Jt.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new By({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ut.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ut.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}By.create=e=>new By({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Pt.ZodDate,...zt(e)});class s3 extends Vt{_parse(t){if(this._getType(t)!==at.symbol){const n=this._getOrReturnCtx(t);return Ye(n,{code:Ve.invalid_type,expected:at.symbol,received:n.parsedType}),Lt}return $a(t.data)}}s3.create=e=>new s3({typeName:Pt.ZodSymbol,...zt(e)});class o3 extends Vt{_parse(t){if(this._getType(t)!==at.undefined){const n=this._getOrReturnCtx(t);return Ye(n,{code:Ve.invalid_type,expected:at.undefined,received:n.parsedType}),Lt}return $a(t.data)}}o3.create=e=>new o3({typeName:Pt.ZodUndefined,...zt(e)});class l3 extends Vt{_parse(t){if(this._getType(t)!==at.null){const n=this._getOrReturnCtx(t);return Ye(n,{code:Ve.invalid_type,expected:at.null,received:n.parsedType}),Lt}return $a(t.data)}}l3.create=e=>new l3({typeName:Pt.ZodNull,...zt(e)});class u3 extends Vt{constructor(){super(...arguments),this._any=!0}_parse(t){return $a(t.data)}}u3.create=e=>new u3({typeName:Pt.ZodAny,...zt(e)});class c3 extends Vt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return $a(t.data)}}c3.create=e=>new c3({typeName:Pt.ZodUnknown,...zt(e)});class Bl extends Vt{_parse(t){const r=this._getOrReturnCtx(t);return Ye(r,{code:Ve.invalid_type,expected:at.never,received:r.parsedType}),Lt}}Bl.create=e=>new Bl({typeName:Pt.ZodNever,...zt(e)});class d3 extends Vt{_parse(t){if(this._getType(t)!==at.undefined){const n=this._getOrReturnCtx(t);return Ye(n,{code:Ve.invalid_type,expected:at.void,received:n.parsedType}),Lt}return $a(t.data)}}d3.create=e=>new d3({typeName:Pt.ZodVoid,...zt(e)});class Rs extends Vt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==at.array)return Ye(r,{code:Ve.invalid_type,expected:at.array,received:r.parsedType}),Lt;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(Ye(r,{code:s?Ve.too_big:Ve.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ye(r,{code:Ve.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ye(r,{code:Ve.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new Fs(r,s,r.path,o)))).then(s=>gi.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new Fs(r,s,r.path,o)));return gi.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new Rs({...this._def,minLength:{value:t,message:ut.toString(r)}})}max(t,r){return new Rs({...this._def,maxLength:{value:t,message:ut.toString(r)}})}length(t,r){return new Rs({...this._def,exactLength:{value:t,message:ut.toString(r)}})}nonempty(t){return this.min(1,t)}}Rs.create=(e,t)=>new Rs({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Pt.ZodArray,...zt(t)});function nd(e){if(e instanceof hn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Il.create(nd(n))}return new hn({...e._def,shape:()=>t})}else return e instanceof Rs?new Rs({...e._def,type:nd(e.element)}):e instanceof Il?Il.create(nd(e.unwrap())):e instanceof ef?ef.create(nd(e.unwrap())):e instanceof sc?sc.create(e.items.map(t=>nd(t))):e}class hn extends Vt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Jt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==at.object){const u=this._getOrReturnCtx(t);return Ye(u,{code:Ve.invalid_type,expected:at.object,received:u.parsedType}),Lt}const{status:n,ctx:i}=this._processInputParams(t),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof Bl&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||o.push(u);const l=[];for(const u of s){const c=a[u],f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Fs(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Bl){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of o)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")o.length>0&&(Ye(i,{code:Ve.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of o){const f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Fs(i,f,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const f=await c.key,p=await c.value;u.push({key:f,value:p,alwaysSet:c.alwaysSet})}return u}).then(u=>gi.mergeObjectSync(n,u)):gi.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return ut.errToObj,new hn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ut.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new hn({...this._def,unknownKeys:"strip"})}passthrough(){return new hn({...this._def,unknownKeys:"passthrough"})}extend(t){return new hn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new hn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Pt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new hn({...this._def,catchall:t})}pick(t){const r={};for(const n of Jt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new hn({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Jt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new hn({...this._def,shape:()=>r})}deepPartial(){return nd(this)}partial(t){const r={};for(const n of Jt.objectKeys(this.shape)){const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new hn({...this._def,shape:()=>r})}required(t){const r={};for(const n of Jt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Il;)a=a._def.innerType;r[n]=a}return new hn({...this._def,shape:()=>r})}keyof(){return rR(Jt.objectKeys(this.shape))}}hn.create=(e,t)=>new hn({shape:()=>e,unknownKeys:"strip",catchall:Bl.create(),typeName:Pt.ZodObject,...zt(t)});hn.strictCreate=(e,t)=>new hn({shape:()=>e,unknownKeys:"strict",catchall:Bl.create(),typeName:Pt.ZodObject,...zt(t)});hn.lazycreate=(e,t)=>new hn({shape:e,unknownKeys:"strip",catchall:Bl.create(),typeName:Pt.ZodObject,...zt(t)});class Fy extends Vt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new To(o.ctx.common.issues));return Ye(r,{code:Ve.invalid_union,unionErrors:s}),Lt}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},c=l._parseSync({data:r.data,path:r.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!a&&(a={result:c,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new To(l));return Ye(r,{code:Ve.invalid_union,unionErrors:o}),Lt}}get options(){return this._def.options}}Fy.create=(e,t)=>new Fy({options:e,typeName:Pt.ZodUnion,...zt(t)});function o5(e,t){const r=hl(e),n=hl(t);if(e===t)return{valid:!0,data:e};if(r===at.object&&n===at.object){const i=Jt.objectKeys(t),a=Jt.objectKeys(e).filter(o=>i.indexOf(o)!==-1),s={...e,...t};for(const o of a){const l=o5(e[o],t[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(r===at.array&&n===at.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const s=e[a],o=t[a],l=o5(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===at.date&&n===at.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Uy extends Vt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(a,s)=>{if(r3(a)||r3(s))return Lt;const o=o5(a.value,s.value);return o.valid?((n3(a)||n3(s))&&r.dirty(),{status:r.value,value:o.data}):(Ye(n,{code:Ve.invalid_intersection_types}),Lt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Uy.create=(e,t,r)=>new Uy({left:e,right:t,typeName:Pt.ZodIntersection,...zt(r)});class sc extends Vt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==at.array)return Ye(n,{code:Ve.invalid_type,expected:at.array,received:n.parsedType}),Lt;if(n.data.length<this._def.items.length)return Ye(n,{code:Ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Lt;!this._def.rest&&n.data.length>this._def.items.length&&(Ye(n,{code:Ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Fs(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>gi.mergeArray(r,s)):gi.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new sc({...this._def,rest:t})}}sc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new sc({items:e,typeName:Pt.ZodTuple,rest:null,...zt(t)})};class zy extends Vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==at.object)return Ye(n,{code:Ve.invalid_type,expected:at.object,received:n.parsedType}),Lt;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in n.data)i.push({key:a._parse(new Fs(n,o,n.path,o)),value:s._parse(new Fs(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?gi.mergeObjectAsync(r,i):gi.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Vt?new zy({keyType:t,valueType:r,typeName:Pt.ZodRecord,...zt(n)}):new zy({keyType:bo.create(),valueType:t,typeName:Pt.ZodRecord,...zt(r)})}}class f3 extends Vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==at.map)return Ye(n,{code:Ve.invalid_type,expected:at.map,received:n.parsedType}),Lt;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,l],u)=>({key:i._parse(new Fs(n,o,n.path,[u,"key"])),value:a._parse(new Fs(n,l,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return Lt;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),o.set(u.value,c.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of s){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return Lt;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),o.set(u.value,c.value)}return{status:r.value,value:o}}}}f3.create=(e,t,r)=>new f3({valueType:t,keyType:e,typeName:Pt.ZodMap,...zt(r)});class Qp extends Vt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==at.set)return Ye(n,{code:Ve.invalid_type,expected:at.set,received:n.parsedType}),Lt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ye(n,{code:Ve.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ye(n,{code:Ve.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(l){const u=new Set;for(const c of l){if(c.status==="aborted")return Lt;c.status==="dirty"&&r.dirty(),u.add(c.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((l,u)=>a._parse(new Fs(n,l,n.path,u)));return n.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(t,r){return new Qp({...this._def,minSize:{value:t,message:ut.toString(r)}})}max(t,r){return new Qp({...this._def,maxSize:{value:t,message:ut.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Qp.create=(e,t)=>new Qp({valueType:e,minSize:null,maxSize:null,typeName:Pt.ZodSet,...zt(t)});class h3 extends Vt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}h3.create=(e,t)=>new h3({getter:e,typeName:Pt.ZodLazy,...zt(t)});class p3 extends Vt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ye(r,{received:r.data,code:Ve.invalid_literal,expected:this._def.value}),Lt}return{status:"valid",value:t.data}}get value(){return this._def.value}}p3.create=(e,t)=>new p3({value:e,typeName:Pt.ZodLiteral,...zt(t)});function rR(e,t){return new Zd({values:e,typeName:Pt.ZodEnum,...zt(t)})}class Zd extends Vt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ye(r,{expected:Jt.joinValues(n),received:r.parsedType,code:Ve.invalid_type}),Lt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ye(r,{received:r.data,code:Ve.invalid_enum_value,options:n}),Lt}return $a(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Zd.create(t,{...this._def,...r})}exclude(t,r=this._def){return Zd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Zd.create=rR;class m3 extends Vt{_parse(t){const r=Jt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==at.string&&n.parsedType!==at.number){const i=Jt.objectValues(r);return Ye(n,{expected:Jt.joinValues(i),received:n.parsedType,code:Ve.invalid_type}),Lt}if(this._cache||(this._cache=new Set(Jt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=Jt.objectValues(r);return Ye(n,{received:n.data,code:Ve.invalid_enum_value,options:i}),Lt}return $a(t.data)}get enum(){return this._def.values}}m3.create=(e,t)=>new m3({values:e,typeName:Pt.ZodNativeEnum,...zt(t)});class qy extends Vt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==at.promise&&r.common.async===!1)return Ye(r,{code:Ve.invalid_type,expected:at.promise,received:r.parsedType}),Lt;const n=r.parsedType===at.promise?r.data:Promise.resolve(r.data);return $a(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}qy.create=(e,t)=>new qy({type:e,typeName:Pt.ZodPromise,...zt(t)});class Qd extends Vt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Pt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:s=>{Ye(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return Lt;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?Lt:l.status==="dirty"||r.value==="dirty"?rp(l.value):l});{if(r.value==="aborted")return Lt;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?Lt:o.status==="dirty"||r.value==="dirty"?rp(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Lt:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Lt:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Xd(s))return Lt;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Xd(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):Lt);Jt.assertNever(i)}}Qd.create=(e,t,r)=>new Qd({schema:e,typeName:Pt.ZodEffects,effect:t,...zt(r)});Qd.createWithPreprocess=(e,t,r)=>new Qd({schema:t,effect:{type:"preprocess",transform:e},typeName:Pt.ZodEffects,...zt(r)});class Il extends Vt{_parse(t){return this._getType(t)===at.undefined?$a(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Il.create=(e,t)=>new Il({innerType:e,typeName:Pt.ZodOptional,...zt(t)});class ef extends Vt{_parse(t){return this._getType(t)===at.null?$a(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ef.create=(e,t)=>new ef({innerType:e,typeName:Pt.ZodNullable,...zt(t)});class l5 extends Vt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===at.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}l5.create=(e,t)=>new l5({innerType:e,typeName:Pt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...zt(t)});class u5 extends Vt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Dy(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new To(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new To(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}u5.create=(e,t)=>new u5({innerType:e,typeName:Pt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...zt(t)});class g3 extends Vt{_parse(t){if(this._getType(t)!==at.nan){const n=this._getOrReturnCtx(t);return Ye(n,{code:Ve.invalid_type,expected:at.nan,received:n.parsedType}),Lt}return{status:"valid",value:t.data}}}g3.create=e=>new g3({typeName:Pt.ZodNaN,...zt(e)});class rX extends Vt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class wj extends Vt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Lt:a.status==="dirty"?(r.dirty(),rp(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Lt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new wj({in:t,out:r,typeName:Pt.ZodPipeline})}}class c5 extends Vt{_parse(t){const r=this._def.innerType._parse(t),n=i=>(Xd(i)&&(i.value=Object.freeze(i.value)),i);return Dy(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}c5.create=(e,t)=>new c5({innerType:e,typeName:Pt.ZodReadonly,...zt(t)});var Pt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Pt||(Pt={}));const Wt=bo.create,so=Jd.create;Bl.create;const Ss=Rs.create,Ga=hn.create;Fy.create;Uy.create;sc.create;const y3=zy.create,qx=Zd.create;qy.create;Il.create;ef.create;const nX=Ga({id:Wt().uuid(),title:Wt(),subject:Wt(),durationMinutes:so().min(5).max(60),difficulty:qx(["Beginner","Intermediate","Advanced"]),patientProfile:Ga({name:Wt(),age:so(),gender:qx(["male","female","other"]),prakriti:qx(["Vata","Pitta","Kapha","Sama"]),vikriti:Wt().optional(),occupation:Wt().optional()}),chiefComplaint:Wt().optional(),historyOfPresentIllness:Wt(),ashtasthanaPariksha:y3(Wt()).optional(),doshaAnalysis:Ga({vata:so().min(0).max(100),pitta:so().min(0).max(100),kapha:so().min(0).max(100)}),potentialDiagnoses:Ss(Ga({dx:Wt(),confidence:so().min(0).max(1)})),diagnosisMCQ:Ga({question:Wt(),options:Ss(Wt()).length(4),answerIndex:so().min(0).max(3),explanation:Wt().optional()}).optional(),suggestedChikitsa:Wt(),mcqs:Ss(Ga({id:Wt(),question:Wt(),options:Ss(Wt()),answerIndex:so(),sloId:Wt()})),rubrics:Ss(Ga({id:Wt(),description:Wt(),maxPoints:so(),sloId:Wt()})),finalExplanation:Wt(),sloMappings:Ss(Wt()),physicalExam:Ga({vitals:Ga({bp:Wt().optional(),hr:Wt().optional(),rr:Wt().optional(),temp:Wt().optional(),spo2:Wt().optional()}).optional(),generalExam:Wt().optional(),systemicExam:Wt().optional()}).optional(),availableLabTests:Ss(Ga({category:Wt(),tests:Ss(Wt())})).optional(),labResults:y3(Wt()).optional(),learningPearls:Ss(Wt()).optional(),furtherReading:Ss(Ga({title:Wt(),reference:Wt()})).optional()});function iX({user:e}){const{stationId:t}=f1(),r=ds(),n=Do(),[i,a]=X.useState(null),[s,o]=X.useState(null),[l,u]=X.useState(!0),[c,f]=X.useState(!1);X.useEffect(()=>{t&&p()},[t]);const p=async()=>{var y;try{const{data:g,error:b}=await Ie.from("stations").select("*").eq("id",t).single();if(b)throw b;a(g),(y=g.blueprint)!=null&&y.generatedCase&&o(g.blueprint.generatedCase)}catch(g){console.error("Error loading station:",g)}finally{u(!1)}},h=async()=>{var y,g;if(!(!i||!s)){f(!0);try{const b=[];if(!s.physicalExam||!s.physicalExam.vitals)b.push("Physical examination vitals are missing");else{const A=s.physicalExam.vitals;(!A.bp||!A.hr||!A.rr||!A.temp||!A.spo2)&&b.push("Some vital signs are missing")}if((!((y=s.physicalExam)!=null&&y.generalExam)||s.physicalExam.generalExam.trim()==="")&&b.push("General examination findings are missing"),(!((g=s.physicalExam)!=null&&g.systemicExam)||s.physicalExam.systemicExam.trim()==="")&&b.push("Systemic examination findings are missing"),(!s.labResults||Object.keys(s.labResults).length<4)&&b.push("Lab results are missing or insufficient"),(!s.learningPearls||s.learningPearls.length<3)&&b.push("Learning pearls are missing or insufficient"),(!s.furtherReading||s.furtherReading.length<2)&&b.push("Further reading references are missing or insufficient"),b.length>0)throw new Error(`Cannot approve case with missing data:
${b.join(`
`)}

Please regenerate the case.`);const v=nX.parse(s),{data:w,error:_}=await Ie.from("case_snapshots").insert({station_id:i.id,clinical_case:v,approved_by:e.id}).select().single();if(_)throw _;r(`/assign/${w.id}`),n.success("Case approved successfully!")}catch(b){n.error("Error approving case: "+b.message)}finally{f(!1)}}};return l?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Pi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 flex items-center justify-center pb-20 md:pb-0",children:d.jsx(Yd,{className:"w-8 h-8 animate-spin text-primary-600"})}),d.jsx(Wn,{role:"faculty"}),d.jsx(Dl,{toasts:n.toasts,onClose:n.removeToast})]}):!i||!s?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Pi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 p-6 pb-20 md:pb-6",children:d.jsx("p",{children:"Station not found or case not generated yet."})}),d.jsx(Wn,{role:"faculty"}),d.jsx(Dl,{toasts:n.toasts,onClose:n.removeToast})]}):d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Pi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(Xp,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Review Generated Case"}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-100 p-6 md:p-8 space-y-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Overview"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),d.jsx("p",{className:"text-lg",children:s.title})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"History of Present Illness"}),d.jsx("div",{className:"text-gray-900 mt-2",children:d.jsx(Aa,{content:s.historyOfPresentIllness})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Patient Profile"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Name:"})," ",s.patientProfile.name]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Age:"})," ",s.patientProfile.age]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Gender:"})," ",s.patientProfile.gender]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Prakriti:"})," ",s.patientProfile.prakriti]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Suggested Chikitsa"}),d.jsx("div",{className:"text-gray-900 mt-2",children:d.jsx(Aa,{content:s.suggestedChikitsa})})]})]})]}),s.physicalExam&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Physical Examination"}),d.jsxs("div",{className:"space-y-4",children:[s.physicalExam.vitals&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vitals"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"BP:"})," ",s.physicalExam.vitals.bp||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"HR:"})," ",s.physicalExam.vitals.hr||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"RR:"})," ",s.physicalExam.vitals.rr||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Temp:"})," ",s.physicalExam.vitals.temp||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"SpO2:"})," ",s.physicalExam.vitals.spo2||"Not recorded"]})]})]}),s.physicalExam.generalExam&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"General Examination"}),d.jsx("div",{className:"text-gray-900 mt-2",children:d.jsx(Aa,{content:s.physicalExam.generalExam})})]}),s.physicalExam.systemicExam&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Systemic Examination"}),d.jsx("div",{className:"text-gray-900 mt-2",children:d.jsx(Aa,{content:s.physicalExam.systemicExam})})]})]})]}),s.labResults&&Object.keys(s.labResults).length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Lab Results (Available)"}),d.jsxs("div",{className:"space-y-3",children:[Object.entries(s.labResults).slice(0,5).map(([y,g])=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[d.jsxs("strong",{className:"text-gray-900",children:[y,":"]})," ",d.jsx("div",{className:"mt-1",children:d.jsx(Aa,{content:String(g)})})]},y)),Object.keys(s.labResults).length>5&&d.jsxs("p",{className:"text-sm text-gray-500",children:["... and ",Object.keys(s.labResults).length-5," more tests"]})]})]}),s.learningPearls&&s.learningPearls.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Learning Pearls"}),d.jsx("ul",{className:"list-disc list-outside space-y-3 pl-6",children:s.learningPearls.map((y,g)=>d.jsx("li",{className:"text-gray-900 leading-relaxed",children:d.jsx(Aa,{content:y})},g))})]}),s.furtherReading&&s.furtherReading.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Further Reading"}),d.jsx("div",{className:"space-y-3",children:s.furtherReading.map((y,g)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-blue-50",children:[d.jsxs("strong",{className:"text-gray-900",children:[y.title,":"]})," ",d.jsx("span",{className:"text-gray-700",children:y.reference})]},g))})]}),s.mcqs&&s.mcqs.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Multiple Choice Questions"}),d.jsx("div",{className:"space-y-4",children:s.mcqs.map((y,g)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[d.jsx("p",{className:"font-medium mb-3 text-gray-900",children:y.question}),d.jsx("ul",{className:"list-disc list-outside space-y-2 pl-5",children:y.options.map((b,v)=>d.jsxs("li",{className:v===y.answerIndex?"text-green-700 font-semibold":"text-gray-700",children:[b,v===y.answerIndex&&d.jsx("span",{className:"ml-2 text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Correct"})]},v))})]},g))})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200",children:[d.jsxs("button",{onClick:h,disabled:c,className:"flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium shadow-sm hover:shadow-md",children:[c?d.jsx(Yd,{className:"w-4 h-4 animate-spin"}):d.jsx(f8,{className:"w-4 h-4"}),"Approve Case"]}),d.jsxs("button",{onClick:()=>r("/create"),className:"flex items-center justify-center gap-2 px-6 py-3 border-2 border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:[d.jsx(Mf,{className:"w-4 h-4"}),"Regenerate"]})]})]})]})}),d.jsx(Wn,{role:"faculty"})]})}function aX({user:e}){var D;const{snapshotId:t}=f1(),r=ds(),n=Do(),[i,a]=X.useState(null),[s,o]=X.useState([]),[l,u]=X.useState([]),[c,f]=X.useState([]),[p,h]=X.useState([]),[y,g]=X.useState("cohort"),[b,v]=X.useState(""),[w,_]=X.useState(""),[A,S]=X.useState(1),[j,O]=X.useState(!0),[L,I]=X.useState(!1);X.useEffect(()=>{t&&F()},[t]);const F=async()=>{try{const{data:U,error:H}=await Ie.from("case_snapshots").select("*").eq("id",t).single();if(H)throw H;a(U);const{data:V,error:B}=await Ie.from("cohorts").select("*").order("name");if(B)throw B;const J=await Promise.all((V||[]).map(async T=>{const{data:C}=await Ie.from("cohort_members").select("student_id").eq("cohort_id",T.id),K=(C||[]).map(ie=>ie.student_id);let Q=[];if(K.length>0){const{data:ie}=await Ie.from("users").select("id, name, email").in("id",K);Q=(ie||[]).map(ue=>({id:ue.id,name:ue.name,email:ue.email}))}return{...T,students:Q}}));o(J);const{data:$,error:ae}=await Ie.from("users").select("id, name, email").eq("role","student").order("name");if(ae)throw ae;u($||[])}catch(U){console.error("Error loading data:",U)}finally{O(!1)}},k=async()=>{if(t){if(y==="cohort"&&c.length===0){n.warning("Please select at least one cohort");return}if(y==="student"&&p.length===0){n.warning("Please select at least one student");return}if(y==="both"&&c.length===0&&p.length===0){n.warning("Please select at least one cohort or student");return}I(!0);try{const U=[];for(const H of c)U.push({snapshot_id:t,cohort_id:H,start_at:b||null,due_at:w||null,max_attempts:A});for(const H of p){const V=l.find(B=>B.id===H);if(V){let B=null;const{data:J}=await Ie.from("cohorts").select("id").eq("name",`Personal: ${V.name}`).single();if(J)B=J.id;else{const{data:$,error:ae}=await Ie.from("cohorts").insert({name:`Personal: ${V.name}`,description:`Personal assignment cohort for ${V.name}`}).select().single();if(ae)throw ae;B=$.id,await Ie.from("cohort_members").insert({cohort_id:B,student_id:H})}B&&U.push({snapshot_id:t,cohort_id:B,start_at:b||null,due_at:w||null,max_attempts:A})}}if(U.length>0){const{error:H}=await Ie.from("assignments").insert(U);if(H)throw H}n.success(`Successfully created ${U.length} assignment(s)!`),r("/dashboard")}catch(U){n.error("Error creating assignment: "+U.message)}finally{I(!1)}}},P=U=>{f(H=>H.includes(U)?H.filter(V=>V!==U):[...H,U])},M=U=>{h(H=>H.includes(U)?H.filter(V=>V!==U):[...H,U])};return j?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Pi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 flex items-center justify-center pb-20 md:pb-0",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),d.jsx(Wn,{role:"faculty"}),d.jsx(Dl,{toasts:n.toasts,onClose:n.removeToast})]}):d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Pi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-2xl mx-auto",children:[d.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(Xp,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Assign Case"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Case Title"}),d.jsx("p",{className:"text-lg font-semibold",children:((D=i==null?void 0:i.clinical_case)==null?void 0:D.title)||"Untitled Case"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Assignment Mode"}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{type:"button",onClick:()=>{g("cohort"),h([])},className:`px-4 py-2 rounded-md ${y==="cohort"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[d.jsx(jo,{className:"w-4 h-4 inline mr-2"}),"Cohorts"]}),d.jsxs("button",{type:"button",onClick:()=>{g("student"),f([])},className:`px-4 py-2 rounded-md ${y==="student"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[d.jsx(Is,{className:"w-4 h-4 inline mr-2"}),"Individual Students"]}),d.jsx("button",{type:"button",onClick:()=>g("both"),className:`px-4 py-2 rounded-md ${y==="both"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Both"})]})]}),(y==="cohort"||y==="both")&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Cohorts ",y==="cohort"&&"*"]}),d.jsx("div",{className:"border border-gray-300 rounded-md max-h-60 overflow-y-auto",children:s.length===0?d.jsx("p",{className:"p-4 text-gray-500 text-sm",children:"No cohorts available. Create cohorts first."}):s.map(U=>d.jsxs("div",{className:`p-3 border-b border-gray-200 last:border-b-0 cursor-pointer hover:bg-gray-50 ${c.includes(U.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>P(U.id),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:U.name}),U.description&&d.jsx("div",{className:"text-sm text-gray-500",children:U.description}),d.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[U.students.length," student",U.students.length!==1?"s":""]})]}),d.jsx("input",{type:"checkbox",checked:c.includes(U.id),onChange:()=>P(U.id),className:"ml-4 w-5 h-5 text-primary-600"})]}),c.includes(U.id)&&U.students.length>0&&d.jsxs("div",{className:"mt-2 ml-4 text-xs text-gray-600",children:["Students: ",U.students.map(H=>H.name).join(", ")]})]},U.id))}),c.length>0&&d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[c.length," cohort",c.length!==1?"s":""," selected"]})]}),(y==="student"||y==="both")&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Individual Students ",y==="student"&&"*"]}),d.jsx("div",{className:"border border-gray-300 rounded-md max-h-60 overflow-y-auto",children:l.length===0?d.jsx("p",{className:"p-4 text-gray-500 text-sm",children:"No students available."}):l.map(U=>d.jsx("div",{className:`p-3 border-b border-gray-200 last:border-b-0 cursor-pointer hover:bg-gray-50 ${p.includes(U.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>M(U.id),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:U.name}),d.jsx("div",{className:"text-sm text-gray-500",children:U.email})]}),d.jsx("input",{type:"checkbox",checked:p.includes(U.id),onChange:()=>M(U.id),className:"ml-4 w-5 h-5 text-primary-600"})]})},U.id))}),p.length>0&&d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[p.length," student",p.length!==1?"s":""," selected"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),d.jsx("input",{type:"datetime-local",value:b,onChange:U=>v(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),d.jsx("input",{type:"datetime-local",value:w,onChange:U=>_(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Attempts"}),d.jsx("input",{type:"number",min:"1",max:"10",value:A,onChange:U=>S(parseInt(U.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("button",{onClick:k,disabled:L||y==="cohort"&&c.length===0||y==="student"&&p.length===0||y==="both"&&c.length===0&&p.length===0,className:"w-full flex items-center justify-center gap-2 bg-primary-600 text-white px-6 py-3 rounded-md hover:bg-primary-700 disabled:opacity-50",children:[d.jsx(f8,{className:"w-5 h-5"}),L?"Assigning...":`Assign to ${c.length+p.length} ${c.length+p.length===1?"Recipient":"Recipients"}`]})]})]})}),d.jsx(Wn,{role:"faculty"}),d.jsx(Dl,{toasts:n.toasts,onClose:n.removeToast})]})}function sX({user:e}){const t=ds(),[r,n]=X.useState([]),[i,a]=X.useState(!0),[s,o]=X.useState("");X.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:c,error:f}=await Ie.from("stations").select("*").eq("created_by",e.id).order("created_at",{ascending:!1});if(f)throw f;const p=await Promise.all((c||[]).map(async h=>{const{data:y}=await Ie.from("case_snapshots").select("*").eq("station_id",h.id).order("approved_at",{ascending:!1}).limit(1).single();return{...h,snapshot:y}}));n(p)}catch(c){console.error("Error loading stations:",c)}finally{a(!1)}},u=r.filter(c=>{var f,p,h,y;return((f=c.title)==null?void 0:f.toLowerCase().includes(s.toLowerCase()))||((y=(h=(p=c.snapshot)==null?void 0:p.clinical_case)==null?void 0:h.title)==null?void 0:y.toLowerCase().includes(s.toLowerCase()))});return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Pi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Station Library"}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(aj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Search stations...",value:s,onChange:c=>o(c.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):u.length===0?d.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:d.jsx("p",{className:"text-gray-600",children:"No stations found"})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(c=>{var f,p,h,y;return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:((p=(f=c.snapshot)==null?void 0:f.clinical_case)==null?void 0:p.title)||c.title||"Untitled Station"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:((y=(h=c.snapshot)==null?void 0:h.clinical_case)==null?void 0:y.subject)||"No subject"}),d.jsx("div",{className:"flex items-center gap-2 mb-4",children:c.snapshot?d.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:"Approved"}):d.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:"Pending"})}),d.jsxs("div",{className:"flex gap-2",children:[c.snapshot&&d.jsxs("button",{onClick:()=>t(`/review/${c.id}`),className:"flex items-center gap-1 px-3 py-1 text-sm bg-primary-100 text-primary-700 rounded hover:bg-primary-200",children:[d.jsx(v1,{className:"w-4 h-4"}),"View"]}),d.jsxs("button",{onClick:()=>t(`/create?edit=${c.id}`),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:[d.jsx(ij,{className:"w-4 h-4"}),"Edit"]})]})]},c.id)})})]})}),d.jsx(Wn,{role:"faculty"})]})}function nR(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=nR(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ut(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=nR(e))&&(n&&(n+=" "),n+=t);return n}var oX=Array.isArray,Li=oX,lX=typeof bl=="object"&&bl&&bl.Object===Object&&bl,iR=lX,uX=iR,cX=typeof self=="object"&&self&&self.Object===Object&&self,dX=uX||cX||Function("return this")(),qs=dX,fX=qs,hX=fX.Symbol,Vm=hX,v3=Vm,aR=Object.prototype,pX=aR.hasOwnProperty,mX=aR.toString,Bh=v3?v3.toStringTag:void 0;function gX(e){var t=pX.call(e,Bh),r=e[Bh];try{e[Bh]=void 0;var n=!0}catch{}var i=mX.call(e);return n&&(t?e[Bh]=r:delete e[Bh]),i}var yX=gX,vX=Object.prototype,bX=vX.toString;function xX(e){return bX.call(e)}var wX=xX,b3=Vm,_X=yX,SX=wX,jX="[object Null]",AX="[object Undefined]",x3=b3?b3.toStringTag:void 0;function NX(e){return e==null?e===void 0?AX:jX:x3&&x3 in Object(e)?_X(e):SX(e)}var Bo=NX;function kX(e){return e!=null&&typeof e=="object"}var Fo=kX,EX=Bo,OX=Fo,PX="[object Symbol]";function CX(e){return typeof e=="symbol"||OX(e)&&EX(e)==PX}var Ff=CX,TX=Li,LX=Ff,IX=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,RX=/^\w*$/;function $X(e,t){if(TX(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||LX(e)?!0:RX.test(e)||!IX.test(e)||t!=null&&e in Object(t)}var _j=$X;function MX(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Kl=MX;const Uf=nr(Kl);var DX=Bo,BX=Kl,FX="[object AsyncFunction]",UX="[object Function]",zX="[object GeneratorFunction]",qX="[object Proxy]";function WX(e){if(!BX(e))return!1;var t=DX(e);return t==UX||t==zX||t==FX||t==qX}var Sj=WX;const Nt=nr(Sj);var HX=qs,VX=HX["__core-js_shared__"],GX=VX,Wx=GX,w3=function(){var e=/[^.]+$/.exec(Wx&&Wx.keys&&Wx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function KX(e){return!!w3&&w3 in e}var YX=KX,XX=Function.prototype,JX=XX.toString;function ZX(e){if(e!=null){try{return JX.call(e)}catch{}try{return e+""}catch{}}return""}var sR=ZX,QX=Sj,eJ=YX,tJ=Kl,rJ=sR,nJ=/[\\^$.*+?()[\]{}|]/g,iJ=/^\[object .+?Constructor\]$/,aJ=Function.prototype,sJ=Object.prototype,oJ=aJ.toString,lJ=sJ.hasOwnProperty,uJ=RegExp("^"+oJ.call(lJ).replace(nJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cJ(e){if(!tJ(e)||eJ(e))return!1;var t=QX(e)?uJ:iJ;return t.test(rJ(e))}var dJ=cJ;function fJ(e,t){return e==null?void 0:e[t]}var hJ=fJ,pJ=dJ,mJ=hJ;function gJ(e,t){var r=mJ(e,t);return pJ(r)?r:void 0}var xc=gJ,yJ=xc,vJ=yJ(Object,"create"),S1=vJ,_3=S1;function bJ(){this.__data__=_3?_3(null):{},this.size=0}var xJ=bJ;function wJ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _J=wJ,SJ=S1,jJ="__lodash_hash_undefined__",AJ=Object.prototype,NJ=AJ.hasOwnProperty;function kJ(e){var t=this.__data__;if(SJ){var r=t[e];return r===jJ?void 0:r}return NJ.call(t,e)?t[e]:void 0}var EJ=kJ,OJ=S1,PJ=Object.prototype,CJ=PJ.hasOwnProperty;function TJ(e){var t=this.__data__;return OJ?t[e]!==void 0:CJ.call(t,e)}var LJ=TJ,IJ=S1,RJ="__lodash_hash_undefined__";function $J(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=IJ&&t===void 0?RJ:t,this}var MJ=$J,DJ=xJ,BJ=_J,FJ=EJ,UJ=LJ,zJ=MJ;function zf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zf.prototype.clear=DJ;zf.prototype.delete=BJ;zf.prototype.get=FJ;zf.prototype.has=UJ;zf.prototype.set=zJ;var qJ=zf;function WJ(){this.__data__=[],this.size=0}var HJ=WJ;function VJ(e,t){return e===t||e!==e&&t!==t}var jj=VJ,GJ=jj;function KJ(e,t){for(var r=e.length;r--;)if(GJ(e[r][0],t))return r;return-1}var j1=KJ,YJ=j1,XJ=Array.prototype,JJ=XJ.splice;function ZJ(e){var t=this.__data__,r=YJ(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():JJ.call(t,r,1),--this.size,!0}var QJ=ZJ,eZ=j1;function tZ(e){var t=this.__data__,r=eZ(t,e);return r<0?void 0:t[r][1]}var rZ=tZ,nZ=j1;function iZ(e){return nZ(this.__data__,e)>-1}var aZ=iZ,sZ=j1;function oZ(e,t){var r=this.__data__,n=sZ(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var lZ=oZ,uZ=HJ,cZ=QJ,dZ=rZ,fZ=aZ,hZ=lZ;function qf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}qf.prototype.clear=uZ;qf.prototype.delete=cZ;qf.prototype.get=dZ;qf.prototype.has=fZ;qf.prototype.set=hZ;var A1=qf,pZ=xc,mZ=qs,gZ=pZ(mZ,"Map"),Aj=gZ,S3=qJ,yZ=A1,vZ=Aj;function bZ(){this.size=0,this.__data__={hash:new S3,map:new(vZ||yZ),string:new S3}}var xZ=bZ;function wZ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var _Z=wZ,SZ=_Z;function jZ(e,t){var r=e.__data__;return SZ(t)?r[typeof t=="string"?"string":"hash"]:r.map}var N1=jZ,AZ=N1;function NZ(e){var t=AZ(this,e).delete(e);return this.size-=t?1:0,t}var kZ=NZ,EZ=N1;function OZ(e){return EZ(this,e).get(e)}var PZ=OZ,CZ=N1;function TZ(e){return CZ(this,e).has(e)}var LZ=TZ,IZ=N1;function RZ(e,t){var r=IZ(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var $Z=RZ,MZ=xZ,DZ=kZ,BZ=PZ,FZ=LZ,UZ=$Z;function Wf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Wf.prototype.clear=MZ;Wf.prototype.delete=DZ;Wf.prototype.get=BZ;Wf.prototype.has=FZ;Wf.prototype.set=UZ;var Nj=Wf,oR=Nj,zZ="Expected a function";function kj(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(zZ);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(kj.Cache||oR),r}kj.Cache=oR;var lR=kj;const qZ=nr(lR);var WZ=lR,HZ=500;function VZ(e){var t=WZ(e,function(n){return r.size===HZ&&r.clear(),n}),r=t.cache;return t}var GZ=VZ,KZ=GZ,YZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,XZ=/\\(\\)?/g,JZ=KZ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(YZ,function(r,n,i,a){t.push(i?a.replace(XZ,"$1"):n||r)}),t}),ZZ=JZ;function QZ(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Ej=QZ,j3=Vm,eQ=Ej,tQ=Li,rQ=Ff,A3=j3?j3.prototype:void 0,N3=A3?A3.toString:void 0;function uR(e){if(typeof e=="string")return e;if(tQ(e))return eQ(e,uR)+"";if(rQ(e))return N3?N3.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var nQ=uR,iQ=nQ;function aQ(e){return e==null?"":iQ(e)}var cR=aQ,sQ=Li,oQ=_j,lQ=ZZ,uQ=cR;function cQ(e,t){return sQ(e)?e:oQ(e,t)?[e]:lQ(uQ(e))}var dR=cQ,dQ=Ff;function fQ(e){if(typeof e=="string"||dQ(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var k1=fQ,hQ=dR,pQ=k1;function mQ(e,t){t=hQ(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[pQ(t[r++])];return r&&r==n?e:void 0}var Oj=mQ,gQ=Oj;function yQ(e,t,r){var n=e==null?void 0:gQ(e,t);return n===void 0?r:n}var fR=yQ;const na=nr(fR);function vQ(e){return e==null}var bQ=vQ;const $t=nr(bQ);var xQ=Bo,wQ=Li,_Q=Fo,SQ="[object String]";function jQ(e){return typeof e=="string"||!wQ(e)&&_Q(e)&&xQ(e)==SQ}var AQ=jQ;const oc=nr(AQ);var hR={exports:{}},dr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pj=Symbol.for("react.element"),Cj=Symbol.for("react.portal"),E1=Symbol.for("react.fragment"),O1=Symbol.for("react.strict_mode"),P1=Symbol.for("react.profiler"),C1=Symbol.for("react.provider"),T1=Symbol.for("react.context"),NQ=Symbol.for("react.server_context"),L1=Symbol.for("react.forward_ref"),I1=Symbol.for("react.suspense"),R1=Symbol.for("react.suspense_list"),$1=Symbol.for("react.memo"),M1=Symbol.for("react.lazy"),kQ=Symbol.for("react.offscreen"),pR;pR=Symbol.for("react.module.reference");function Ma(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Pj:switch(e=e.type,e){case E1:case P1:case O1:case I1:case R1:return e;default:switch(e=e&&e.$$typeof,e){case NQ:case T1:case L1:case M1:case $1:case C1:return e;default:return t}}case Cj:return t}}}dr.ContextConsumer=T1;dr.ContextProvider=C1;dr.Element=Pj;dr.ForwardRef=L1;dr.Fragment=E1;dr.Lazy=M1;dr.Memo=$1;dr.Portal=Cj;dr.Profiler=P1;dr.StrictMode=O1;dr.Suspense=I1;dr.SuspenseList=R1;dr.isAsyncMode=function(){return!1};dr.isConcurrentMode=function(){return!1};dr.isContextConsumer=function(e){return Ma(e)===T1};dr.isContextProvider=function(e){return Ma(e)===C1};dr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pj};dr.isForwardRef=function(e){return Ma(e)===L1};dr.isFragment=function(e){return Ma(e)===E1};dr.isLazy=function(e){return Ma(e)===M1};dr.isMemo=function(e){return Ma(e)===$1};dr.isPortal=function(e){return Ma(e)===Cj};dr.isProfiler=function(e){return Ma(e)===P1};dr.isStrictMode=function(e){return Ma(e)===O1};dr.isSuspense=function(e){return Ma(e)===I1};dr.isSuspenseList=function(e){return Ma(e)===R1};dr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===E1||e===P1||e===O1||e===I1||e===R1||e===kQ||typeof e=="object"&&e!==null&&(e.$$typeof===M1||e.$$typeof===$1||e.$$typeof===C1||e.$$typeof===T1||e.$$typeof===L1||e.$$typeof===pR||e.getModuleId!==void 0)};dr.typeOf=Ma;hR.exports=dr;var EQ=hR.exports,OQ=Bo,PQ=Fo,CQ="[object Number]";function TQ(e){return typeof e=="number"||PQ(e)&&OQ(e)==CQ}var mR=TQ;const LQ=nr(mR);var IQ=mR;function RQ(e){return IQ(e)&&e!=+e}var $Q=RQ;const Gm=nr($Q);var fi=function(t){return t===0?0:t>0?1:-1},Vu=function(t){return oc(t)&&t.indexOf("%")===t.length-1},Ge=function(t){return LQ(t)&&!Gm(t)},MQ=function(t){return $t(t)},kn=function(t){return Ge(t)||oc(t)},DQ=0,Hf=function(t){var r=++DQ;return"".concat(t||"").concat(r)},hi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ge(t)&&!oc(t))return n;var a;if(Vu(t)){var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return Gm(a)&&(a=n),i&&a>r&&(a=r),a},vl=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},BQ=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Yi=function(t,r){return Ge(t)&&Ge(r)?function(n){return t+n*(r-t)}:function(){return r}};function Wy(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):na(n,t))===r})}var FQ=function(t,r){return Ge(t)&&Ge(r)?t-r:oc(t)&&oc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Id(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function d5(e){"@babel/helpers - typeof";return d5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d5(e)}var UQ=["viewBox","children"],zQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],k3=["points","pathLength"],Hx={svg:UQ,polygon:k3,polyline:k3},Tj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Hy=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(X.isValidElement(t)&&(n=t.props),!Uf(n))return null;var i={};return Object.keys(n).forEach(function(a){Tj.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},qQ=function(t,r,n){return function(i){return t(r,n,i),null}},lc=function(t,r,n){if(!Uf(t)||d5(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var s=t[a];Tj.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=qQ(s,r,n))}),i},WQ=["children"],HQ=["children"];function E3(e,t){if(e==null)return{};var r=VQ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function f5(e){"@babel/helpers - typeof";return f5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f5(e)}var O3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ao=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},P3=null,Vx=null,Lj=function e(t){if(t===P3&&Array.isArray(Vx))return Vx;var r=[];return X.Children.forEach(t,function(n){$t(n)||(EQ.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Vx=r,P3=t,r};function ia(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Ao(i)}):n=[Ao(t)],Lj(e).forEach(function(i){var a=na(i,"type.displayName")||na(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Ki(e,t){var r=ia(e,t);return r&&r[0]}var C3=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!Ge(n)||n<=0||!Ge(i)||i<=0)},GQ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],KQ=function(t){return t&&t.type&&oc(t.type)&&GQ.indexOf(t.type)>=0},YQ=function(t){return t&&f5(t)==="object"&&"clipDot"in t},XQ=function(t,r,n,i){var a,s=(a=Hx==null?void 0:Hx[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Nt(t)&&(i&&s.includes(r)||zQ.includes(r))||n&&Tj.includes(r)},xt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(X.isValidElement(t)&&(i=t.props),!Uf(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;XQ((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},h5=function e(t,r){if(t===r)return!0;var n=X.Children.count(t);if(n!==X.Children.count(r))return!1;if(n===0)return!0;if(n===1)return T3(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!T3(a,s))return!1}return!0},T3=function(t,r){if($t(t)&&$t(r))return!0;if(!$t(t)&&!$t(r)){var n=t.props||{},i=n.children,a=E3(n,WQ),s=r.props||{},o=s.children,l=E3(s,HQ);return i&&o?Id(a,l)&&h5(i,o):!i&&!o?Id(a,l):!1}return!1},L3=function(t,r){var n=[],i={};return Lj(t).forEach(function(a,s){if(KQ(a))n.push(a);else if(a){var o=Ao(a.type),l=r[o]||{},u=l.handler,c=l.once;if(u&&(!c||!i[o])){var f=u(a,o,s);n.push(f),i[o]=!0}}}),n},JQ=function(t){var r=t&&t.type;return r&&O3[r]?O3[r]:null},ZQ=function(t,r){return Lj(r).indexOf(t)},QQ=["children","width","height","viewBox","className","style","title","desc"];function p5(){return p5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p5.apply(this,arguments)}function eee(e,t){if(e==null)return{};var r=tee(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function m5(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,s=e.style,o=e.title,l=e.desc,u=eee(e,QQ),c=i||{width:r,height:n,x:0,y:0},f=Ut("recharts-surface",a);return oe.createElement("svg",p5({},xt(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),oe.createElement("title",null,o),oe.createElement("desc",null,l),t)}var ree=["children","className"];function g5(){return g5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g5.apply(this,arguments)}function nee(e,t){if(e==null)return{};var r=iee(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Zt=oe.forwardRef(function(e,t){var r=e.children,n=e.className,i=nee(e,ree),a=Ut("recharts-layer",n);return oe.createElement("g",g5({className:a},xt(i,!0),{ref:t}),r)}),ls=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function aee(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var see=aee,oee=see;function lee(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:oee(e,t,r)}var uee=lee,cee="\\ud800-\\udfff",dee="\\u0300-\\u036f",fee="\\ufe20-\\ufe2f",hee="\\u20d0-\\u20ff",pee=dee+fee+hee,mee="\\ufe0e\\ufe0f",gee="\\u200d",yee=RegExp("["+gee+cee+pee+mee+"]");function vee(e){return yee.test(e)}var gR=vee;function bee(e){return e.split("")}var xee=bee,yR="\\ud800-\\udfff",wee="\\u0300-\\u036f",_ee="\\ufe20-\\ufe2f",See="\\u20d0-\\u20ff",jee=wee+_ee+See,Aee="\\ufe0e\\ufe0f",Nee="["+yR+"]",y5="["+jee+"]",v5="\\ud83c[\\udffb-\\udfff]",kee="(?:"+y5+"|"+v5+")",vR="[^"+yR+"]",bR="(?:\\ud83c[\\udde6-\\uddff]){2}",xR="[\\ud800-\\udbff][\\udc00-\\udfff]",Eee="\\u200d",wR=kee+"?",_R="["+Aee+"]?",Oee="(?:"+Eee+"(?:"+[vR,bR,xR].join("|")+")"+_R+wR+")*",Pee=_R+wR+Oee,Cee="(?:"+[vR+y5+"?",y5,bR,xR,Nee].join("|")+")",Tee=RegExp(v5+"(?="+v5+")|"+Cee+Pee,"g");function Lee(e){return e.match(Tee)||[]}var Iee=Lee,Ree=xee,$ee=gR,Mee=Iee;function Dee(e){return $ee(e)?Mee(e):Ree(e)}var Bee=Dee,Fee=uee,Uee=gR,zee=Bee,qee=cR;function Wee(e){return function(t){t=qee(t);var r=Uee(t)?zee(t):void 0,n=r?r[0]:t.charAt(0),i=r?Fee(r,1).join(""):t.slice(1);return n[e]()+i}}var Hee=Wee,Vee=Hee,Gee=Vee("toUpperCase"),Kee=Gee;const D1=nr(Kee);function _r(e){return function(){return e}}const SR=Math.cos,Vy=Math.sin,fs=Math.sqrt,Gy=Math.PI,B1=2*Gy,b5=Math.PI,x5=2*b5,Tu=1e-6,Yee=x5-Tu;function jR(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Xee(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return jR;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Jee{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?jR:Xee(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,u=i-r,c=s-t,f=o-r,p=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Tu)if(!(Math.abs(f*l-u*c)>Tu)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-s,y=i-o,g=l*l+u*u,b=h*h+y*y,v=Math.sqrt(g),w=Math.sqrt(p),_=a*Math.tan((b5-Math.acos((g+p-b)/(2*v*w)))/2),A=_/w,S=_/v;Math.abs(A-1)>Tu&&this._append`L${t+A*c},${r+A*f}`,this._append`A${a},${a},0,0,${+(f*h>c*y)},${this._x1=t+S*l},${this._y1=r+S*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=t+o,c=r+l,f=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Tu||Math.abs(this._y1-c)>Tu)&&this._append`L${u},${c}`,n&&(p<0&&(p=p%x5+x5),p>Yee?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=c}`:p>Tu&&this._append`A${n},${n},0,${+(p>=b5)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Ij(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Jee(t)}function Rj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AR(e){this._context=e}AR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function F1(e){return new AR(e)}function NR(e){return e[0]}function kR(e){return e[1]}function ER(e,t){var r=_r(!0),n=null,i=F1,a=null,s=Ij(o);e=typeof e=="function"?e:e===void 0?NR:_r(e),t=typeof t=="function"?t:t===void 0?kR:_r(t);function o(l){var u,c=(l=Rj(l)).length,f,p=!1,h;for(n==null&&(a=i(h=s())),u=0;u<=c;++u)!(u<c&&r(f=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(f,u,l),+t(f,u,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:_r(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:_r(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:_r(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function m0(e,t,r){var n=null,i=_r(!0),a=null,s=F1,o=null,l=Ij(u);e=typeof e=="function"?e:e===void 0?NR:_r(+e),t=typeof t=="function"?t:_r(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?kR:_r(+r);function u(f){var p,h,y,g=(f=Rj(f)).length,b,v=!1,w,_=new Array(g),A=new Array(g);for(a==null&&(o=s(w=l())),p=0;p<=g;++p){if(!(p<g&&i(b=f[p],p,f))===v)if(v=!v)h=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=p-1;y>=h;--y)o.point(_[y],A[y]);o.lineEnd(),o.areaEnd()}v&&(_[p]=+e(b,p,f),A[p]=+t(b,p,f),o.point(n?+n(b,p,f):_[p],r?+r(b,p,f):A[p]))}if(w)return o=null,w+""||null}function c(){return ER().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:_r(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:_r(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:_r(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:_r(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:_r(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:_r(+f),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:_r(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class OR{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Zee(e){return new OR(e,!0)}function Qee(e){return new OR(e,!1)}const $j={draw(e,t){const r=fs(t/Gy);e.moveTo(r,0),e.arc(0,0,r,0,B1)}},ete={draw(e,t){const r=fs(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},PR=fs(1/3),tte=PR*2,rte={draw(e,t){const r=fs(t/tte),n=r*PR;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},nte={draw(e,t){const r=fs(t),n=-r/2;e.rect(n,n,r,r)}},ite=.8908130915292852,CR=Vy(Gy/10)/Vy(7*Gy/10),ate=Vy(B1/10)*CR,ste=-SR(B1/10)*CR,ote={draw(e,t){const r=fs(t*ite),n=ate*r,i=ste*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=B1*a/5,o=SR(s),l=Vy(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},Gx=fs(3),lte={draw(e,t){const r=-fs(t/(Gx*3));e.moveTo(0,r*2),e.lineTo(-Gx*r,-r),e.lineTo(Gx*r,-r),e.closePath()}},va=-.5,ba=fs(3)/2,w5=1/fs(12),ute=(w5/2+1)*3,cte={draw(e,t){const r=fs(t/ute),n=r/2,i=r*w5,a=n,s=r*w5+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(va*n-ba*i,ba*n+va*i),e.lineTo(va*a-ba*s,ba*a+va*s),e.lineTo(va*o-ba*l,ba*o+va*l),e.lineTo(va*n+ba*i,va*i-ba*n),e.lineTo(va*a+ba*s,va*s-ba*a),e.lineTo(va*o+ba*l,va*l-ba*o),e.closePath()}};function dte(e,t){let r=null,n=Ij(i);e=typeof e=="function"?e:_r(e||$j),t=typeof t=="function"?t:_r(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:_r(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:_r(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Ky(){}function Yy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function TR(e){this._context=e}TR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fte(e){return new TR(e)}function LR(e){this._context=e}LR.prototype={areaStart:Ky,areaEnd:Ky,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Yy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hte(e){return new LR(e)}function IR(e){this._context=e}IR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Yy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pte(e){return new IR(e)}function RR(e){this._context=e}RR.prototype={areaStart:Ky,areaEnd:Ky,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function mte(e){return new RR(e)}function I3(e){return e<0?-1:1}function R3(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(I3(a)+I3(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function $3(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Kx(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function Xy(e){this._context=e}Xy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kx(this,this._t0,$3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Kx(this,$3(this,r=R3(this,e,t)),r);break;default:Kx(this,this._t0,r=R3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function $R(e){this._context=new MR(e)}($R.prototype=Object.create(Xy.prototype)).point=function(e,t){Xy.prototype.point.call(this,t,e)};function MR(e){this._context=e}MR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function gte(e){return new Xy(e)}function yte(e){return new $R(e)}function DR(e){this._context=e}DR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=M3(e),i=M3(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function M3(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function vte(e){return new DR(e)}function U1(e,t){this._context=e,this._t=t}U1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function bte(e){return new U1(e,.5)}function xte(e){return new U1(e,0)}function wte(e){return new U1(e,1)}function tf(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function _5(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function _te(e,t){return e[t]}function Ste(e){const t=[];return t.key=e,t}function jte(){var e=_r([]),t=_5,r=tf,n=_te;function i(a){var s=Array.from(e.apply(this,arguments),Ste),o,l=s.length,u=-1,c;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,c=Rj(t(s));o<l;++o)s[c[o]].index=o;return r(s,c),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:_r(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:_r(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?_5:typeof a=="function"?a:_r(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??tf,i):r},i}function Ate(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}tf(e,t)}}function Nte(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}tf(e,t)}}function kte(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var c=e[t[o]],f=c[n][1]||0,p=c[n-1][1]||0,h=(f-p)/2,y=0;y<o;++y){var g=e[t[y]],b=g[n][1]||0,v=g[n-1][1]||0;h+=b-v}l+=f,u+=h*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,tf(e,t)}}function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}var Ete=["type","size","sizeType"];function S5(){return S5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S5.apply(this,arguments)}function D3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function B3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(r),!0).forEach(function(n){Ote(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ote(e,t,r){return t=Pte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pte(e){var t=Cte(e,"string");return em(t)=="symbol"?t:t+""}function Cte(e,t){if(em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tte(e,t){if(e==null)return{};var r=Lte(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var BR={symbolCircle:$j,symbolCross:ete,symbolDiamond:rte,symbolSquare:nte,symbolStar:ote,symbolTriangle:lte,symbolWye:cte},Ite=Math.PI/180,Rte=function(t){var r="symbol".concat(D1(t));return BR[r]||$j},$te=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*Ite;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Mte=function(t,r){BR["symbol".concat(D1(t))]=r},Mj=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,s=t.sizeType,o=s===void 0?"area":s,l=Tte(t,Ete),u=B3(B3({},l),{},{type:n,size:a,sizeType:o}),c=function(){var b=Rte(n),v=dte().type(b).size($te(a,o,n));return v()},f=u.className,p=u.cx,h=u.cy,y=xt(u,!0);return p===+p&&h===+h&&a===+a?oe.createElement("path",S5({},y,{className:Ut("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:c()})):null};Mj.registerSymbol=Mte;function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function j5(){return j5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j5.apply(this,arguments)}function F3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(r),!0).forEach(function(n){tm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UR(n.key),n)}}function Ute(e,t,r){return t&&Fte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zte(e,t,r){return t=Jy(t),qte(e,FR()?Reflect.construct(t,r||[],Jy(e).constructor):t.apply(e,r))}function qte(e,t){if(t&&(rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wte(e)}function Wte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FR=function(){return!!e})()}function Jy(e){return Jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jy(e)}function Hte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A5(e,t)}function A5(e,t){return A5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A5(e,t)}function tm(e,t,r){return t=UR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UR(e){var t=Vte(e,"string");return rf(t)=="symbol"?t:t+""}function Vte(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xa=32,Dj=function(e){function t(){return Bte(this,t),zte(this,t,arguments)}return Hte(t,e),Ute(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=xa/2,s=xa/6,o=xa/3,l=n.inactive?i:n.color;if(n.type==="plainline")return oe.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:xa,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return oe.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(xa,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return oe.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(xa/8,"h").concat(xa,"v").concat(xa*3/4,"h").concat(-xa,"z"),className:"recharts-legend-icon"});if(oe.isValidElement(n.legendIcon)){var u=Dte({},n);return delete u.legendIcon,oe.cloneElement(n.legendIcon,u)}return oe.createElement(Mj,{fill:l,cx:a,cy:a,size:xa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:xa,height:xa},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,y){var g=h.formatter||l,b=Ut(tm(tm({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",h.inactive));if(h.type==="none")return null;var v=Nt(h.value)?null:h.value;ls(!Nt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=h.inactive?u:h.color;return oe.createElement("li",j5({className:b,style:f,key:"legend-item-".concat(y)},lc(n.props,h,y)),oe.createElement(m5,{width:s,height:s,viewBox:c,style:p},n.renderIcon(h)),oe.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(v,h,y):v))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return oe.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(X.PureComponent);tm(Dj,"displayName","Legend");tm(Dj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Gte=A1;function Kte(){this.__data__=new Gte,this.size=0}var Yte=Kte;function Xte(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Jte=Xte;function Zte(e){return this.__data__.get(e)}var Qte=Zte;function ere(e){return this.__data__.has(e)}var tre=ere,rre=A1,nre=Aj,ire=Nj,are=200;function sre(e,t){var r=this.__data__;if(r instanceof rre){var n=r.__data__;if(!nre||n.length<are-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ire(n)}return r.set(e,t),this.size=r.size,this}var ore=sre,lre=A1,ure=Yte,cre=Jte,dre=Qte,fre=tre,hre=ore;function Vf(e){var t=this.__data__=new lre(e);this.size=t.size}Vf.prototype.clear=ure;Vf.prototype.delete=cre;Vf.prototype.get=dre;Vf.prototype.has=fre;Vf.prototype.set=hre;var zR=Vf,pre="__lodash_hash_undefined__";function mre(e){return this.__data__.set(e,pre),this}var gre=mre;function yre(e){return this.__data__.has(e)}var vre=yre,bre=Nj,xre=gre,wre=vre;function Zy(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new bre;++t<r;)this.add(e[t])}Zy.prototype.add=Zy.prototype.push=xre;Zy.prototype.has=wre;var qR=Zy;function _re(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var WR=_re;function Sre(e,t){return e.has(t)}var HR=Sre,jre=qR,Are=WR,Nre=HR,kre=1,Ere=2;function Ore(e,t,r,n,i,a){var s=r&kre,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var f=-1,p=!0,h=r&Ere?new jre:void 0;for(a.set(e,t),a.set(t,e);++f<o;){var y=e[f],g=t[f];if(n)var b=s?n(g,y,f,t,e,a):n(y,g,f,e,t,a);if(b!==void 0){if(b)continue;p=!1;break}if(h){if(!Are(t,function(v,w){if(!Nre(h,w)&&(y===v||i(y,v,r,n,a)))return h.push(w)})){p=!1;break}}else if(!(y===g||i(y,g,r,n,a))){p=!1;break}}return a.delete(e),a.delete(t),p}var VR=Ore,Pre=qs,Cre=Pre.Uint8Array,Tre=Cre;function Lre(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var Ire=Lre;function Rre(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Bj=Rre,U3=Vm,z3=Tre,$re=jj,Mre=VR,Dre=Ire,Bre=Bj,Fre=1,Ure=2,zre="[object Boolean]",qre="[object Date]",Wre="[object Error]",Hre="[object Map]",Vre="[object Number]",Gre="[object RegExp]",Kre="[object Set]",Yre="[object String]",Xre="[object Symbol]",Jre="[object ArrayBuffer]",Zre="[object DataView]",q3=U3?U3.prototype:void 0,Yx=q3?q3.valueOf:void 0;function Qre(e,t,r,n,i,a,s){switch(r){case Zre:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Jre:return!(e.byteLength!=t.byteLength||!a(new z3(e),new z3(t)));case zre:case qre:case Vre:return $re(+e,+t);case Wre:return e.name==t.name&&e.message==t.message;case Gre:case Yre:return e==t+"";case Hre:var o=Dre;case Kre:var l=n&Fre;if(o||(o=Bre),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;n|=Ure,s.set(e,t);var c=Mre(o(e),o(t),n,i,a,s);return s.delete(e),c;case Xre:if(Yx)return Yx.call(e)==Yx.call(t)}return!1}var ene=Qre;function tne(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var GR=tne,rne=GR,nne=Li;function ine(e,t,r){var n=t(e);return nne(e)?n:rne(n,r(e))}var ane=ine;function sne(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}var one=sne;function lne(){return[]}var une=lne,cne=one,dne=une,fne=Object.prototype,hne=fne.propertyIsEnumerable,W3=Object.getOwnPropertySymbols,pne=W3?function(e){return e==null?[]:(e=Object(e),cne(W3(e),function(t){return hne.call(e,t)}))}:dne,mne=pne;function gne(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var yne=gne,vne=Bo,bne=Fo,xne="[object Arguments]";function wne(e){return bne(e)&&vne(e)==xne}var _ne=wne,H3=_ne,Sne=Fo,KR=Object.prototype,jne=KR.hasOwnProperty,Ane=KR.propertyIsEnumerable,Nne=H3(function(){return arguments}())?H3:function(e){return Sne(e)&&jne.call(e,"callee")&&!Ane.call(e,"callee")},Fj=Nne,Qy={exports:{}};function kne(){return!1}var Ene=kne;Qy.exports;(function(e,t){var r=qs,n=Ene,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;e.exports=u})(Qy,Qy.exports);var YR=Qy.exports,One=9007199254740991,Pne=/^(?:0|[1-9]\d*)$/;function Cne(e,t){var r=typeof e;return t=t??One,!!t&&(r=="number"||r!="symbol"&&Pne.test(e))&&e>-1&&e%1==0&&e<t}var Uj=Cne,Tne=9007199254740991;function Lne(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Tne}var zj=Lne,Ine=Bo,Rne=zj,$ne=Fo,Mne="[object Arguments]",Dne="[object Array]",Bne="[object Boolean]",Fne="[object Date]",Une="[object Error]",zne="[object Function]",qne="[object Map]",Wne="[object Number]",Hne="[object Object]",Vne="[object RegExp]",Gne="[object Set]",Kne="[object String]",Yne="[object WeakMap]",Xne="[object ArrayBuffer]",Jne="[object DataView]",Zne="[object Float32Array]",Qne="[object Float64Array]",eie="[object Int8Array]",tie="[object Int16Array]",rie="[object Int32Array]",nie="[object Uint8Array]",iie="[object Uint8ClampedArray]",aie="[object Uint16Array]",sie="[object Uint32Array]",Er={};Er[Zne]=Er[Qne]=Er[eie]=Er[tie]=Er[rie]=Er[nie]=Er[iie]=Er[aie]=Er[sie]=!0;Er[Mne]=Er[Dne]=Er[Xne]=Er[Bne]=Er[Jne]=Er[Fne]=Er[Une]=Er[zne]=Er[qne]=Er[Wne]=Er[Hne]=Er[Vne]=Er[Gne]=Er[Kne]=Er[Yne]=!1;function oie(e){return $ne(e)&&Rne(e.length)&&!!Er[Ine(e)]}var lie=oie;function uie(e){return function(t){return e(t)}}var XR=uie,ev={exports:{}};ev.exports;(function(e,t){var r=iR,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(ev,ev.exports);var cie=ev.exports,die=lie,fie=XR,V3=cie,G3=V3&&V3.isTypedArray,hie=G3?fie(G3):die,JR=hie,pie=yne,mie=Fj,gie=Li,yie=YR,vie=Uj,bie=JR,xie=Object.prototype,wie=xie.hasOwnProperty;function _ie(e,t){var r=gie(e),n=!r&&mie(e),i=!r&&!n&&yie(e),a=!r&&!n&&!i&&bie(e),s=r||n||i||a,o=s?pie(e.length,String):[],l=o.length;for(var u in e)(t||wie.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||vie(u,l)))&&o.push(u);return o}var Sie=_ie,jie=Object.prototype;function Aie(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||jie;return e===r}var Nie=Aie;function kie(e,t){return function(r){return e(t(r))}}var ZR=kie,Eie=ZR,Oie=Eie(Object.keys,Object),Pie=Oie,Cie=Nie,Tie=Pie,Lie=Object.prototype,Iie=Lie.hasOwnProperty;function Rie(e){if(!Cie(e))return Tie(e);var t=[];for(var r in Object(e))Iie.call(e,r)&&r!="constructor"&&t.push(r);return t}var $ie=Rie,Mie=Sj,Die=zj;function Bie(e){return e!=null&&Die(e.length)&&!Mie(e)}var Km=Bie,Fie=Sie,Uie=$ie,zie=Km;function qie(e){return zie(e)?Fie(e):Uie(e)}var z1=qie,Wie=ane,Hie=mne,Vie=z1;function Gie(e){return Wie(e,Vie,Hie)}var Kie=Gie,K3=Kie,Yie=1,Xie=Object.prototype,Jie=Xie.hasOwnProperty;function Zie(e,t,r,n,i,a){var s=r&Yie,o=K3(e),l=o.length,u=K3(t),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var p=o[f];if(!(s?p in t:Jie.call(t,p)))return!1}var h=a.get(e),y=a.get(t);if(h&&y)return h==t&&y==e;var g=!0;a.set(e,t),a.set(t,e);for(var b=s;++f<l;){p=o[f];var v=e[p],w=t[p];if(n)var _=s?n(w,v,p,t,e,a):n(v,w,p,e,t,a);if(!(_===void 0?v===w||i(v,w,r,n,a):_)){g=!1;break}b||(b=p=="constructor")}if(g&&!b){var A=e.constructor,S=t.constructor;A!=S&&"constructor"in e&&"constructor"in t&&!(typeof A=="function"&&A instanceof A&&typeof S=="function"&&S instanceof S)&&(g=!1)}return a.delete(e),a.delete(t),g}var Qie=Zie,eae=xc,tae=qs,rae=eae(tae,"DataView"),nae=rae,iae=xc,aae=qs,sae=iae(aae,"Promise"),oae=sae,lae=xc,uae=qs,cae=lae(uae,"Set"),QR=cae,dae=xc,fae=qs,hae=dae(fae,"WeakMap"),pae=hae,N5=nae,k5=Aj,E5=oae,O5=QR,P5=pae,e$=Bo,Gf=sR,Y3="[object Map]",mae="[object Object]",X3="[object Promise]",J3="[object Set]",Z3="[object WeakMap]",Q3="[object DataView]",gae=Gf(N5),yae=Gf(k5),vae=Gf(E5),bae=Gf(O5),xae=Gf(P5),Lu=e$;(N5&&Lu(new N5(new ArrayBuffer(1)))!=Q3||k5&&Lu(new k5)!=Y3||E5&&Lu(E5.resolve())!=X3||O5&&Lu(new O5)!=J3||P5&&Lu(new P5)!=Z3)&&(Lu=function(e){var t=e$(e),r=t==mae?e.constructor:void 0,n=r?Gf(r):"";if(n)switch(n){case gae:return Q3;case yae:return Y3;case vae:return X3;case bae:return J3;case xae:return Z3}return t});var wae=Lu,Xx=zR,_ae=VR,Sae=ene,jae=Qie,eE=wae,tE=Li,rE=YR,Aae=JR,Nae=1,nE="[object Arguments]",iE="[object Array]",g0="[object Object]",kae=Object.prototype,aE=kae.hasOwnProperty;function Eae(e,t,r,n,i,a){var s=tE(e),o=tE(t),l=s?iE:eE(e),u=o?iE:eE(t);l=l==nE?g0:l,u=u==nE?g0:u;var c=l==g0,f=u==g0,p=l==u;if(p&&rE(e)){if(!rE(t))return!1;s=!0,c=!1}if(p&&!c)return a||(a=new Xx),s||Aae(e)?_ae(e,t,r,n,i,a):Sae(e,t,l,r,n,i,a);if(!(r&Nae)){var h=c&&aE.call(e,"__wrapped__"),y=f&&aE.call(t,"__wrapped__");if(h||y){var g=h?e.value():e,b=y?t.value():t;return a||(a=new Xx),i(g,b,r,n,a)}}return p?(a||(a=new Xx),jae(e,t,r,n,i,a)):!1}var Oae=Eae,Pae=Oae,sE=Fo;function t$(e,t,r,n,i){return e===t?!0:e==null||t==null||!sE(e)&&!sE(t)?e!==e&&t!==t:Pae(e,t,r,n,t$,i)}var qj=t$,Cae=zR,Tae=qj,Lae=1,Iae=2;function Rae(e,t,r,n){var i=r.length,a=i,s=!n;if(e==null)return!a;for(e=Object(e);i--;){var o=r[i];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){o=r[i];var l=o[0],u=e[l],c=o[1];if(s&&o[2]){if(u===void 0&&!(l in e))return!1}else{var f=new Cae;if(n)var p=n(u,c,l,e,t,f);if(!(p===void 0?Tae(c,u,Lae|Iae,n,f):p))return!1}}return!0}var $ae=Rae,Mae=Kl;function Dae(e){return e===e&&!Mae(e)}var r$=Dae,Bae=r$,Fae=z1;function Uae(e){for(var t=Fae(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Bae(i)]}return t}var zae=Uae;function qae(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var n$=qae,Wae=$ae,Hae=zae,Vae=n$;function Gae(e){var t=Hae(e);return t.length==1&&t[0][2]?Vae(t[0][0],t[0][1]):function(r){return r===e||Wae(r,e,t)}}var Kae=Gae;function Yae(e,t){return e!=null&&t in Object(e)}var Xae=Yae,Jae=dR,Zae=Fj,Qae=Li,ese=Uj,tse=zj,rse=k1;function nse(e,t,r){t=Jae(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var s=rse(t[n]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&tse(i)&&ese(s,i)&&(Qae(e)||Zae(e)))}var ise=nse,ase=Xae,sse=ise;function ose(e,t){return e!=null&&sse(e,t,ase)}var lse=ose,use=qj,cse=fR,dse=lse,fse=_j,hse=r$,pse=n$,mse=k1,gse=1,yse=2;function vse(e,t){return fse(e)&&hse(t)?pse(mse(e),t):function(r){var n=cse(r,e);return n===void 0&&n===t?dse(r,e):use(t,n,gse|yse)}}var bse=vse;function xse(e){return e}var Kf=xse;function wse(e){return function(t){return t==null?void 0:t[e]}}var _se=wse,Sse=Oj;function jse(e){return function(t){return Sse(t,e)}}var Ase=jse,Nse=_se,kse=Ase,Ese=_j,Ose=k1;function Pse(e){return Ese(e)?Nse(Ose(e)):kse(e)}var Cse=Pse,Tse=Kae,Lse=bse,Ise=Kf,Rse=Li,$se=Cse;function Mse(e){return typeof e=="function"?e:e==null?Ise:typeof e=="object"?Rse(e)?Lse(e[0],e[1]):Tse(e):$se(e)}var Ws=Mse;function Dse(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var i$=Dse;function Bse(e){return e!==e}var Fse=Bse;function Use(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var zse=Use,qse=i$,Wse=Fse,Hse=zse;function Vse(e,t,r){return t===t?Hse(e,t,r):qse(e,Wse,r)}var Gse=Vse,Kse=Gse;function Yse(e,t){var r=e==null?0:e.length;return!!r&&Kse(e,t,0)>-1}var Xse=Yse;function Jse(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var Zse=Jse;function Qse(){}var eoe=Qse,Jx=QR,toe=eoe,roe=Bj,noe=1/0,ioe=Jx&&1/roe(new Jx([,-0]))[1]==noe?function(e){return new Jx(e)}:toe,aoe=ioe,soe=qR,ooe=Xse,loe=Zse,uoe=HR,coe=aoe,doe=Bj,foe=200;function hoe(e,t,r){var n=-1,i=ooe,a=e.length,s=!0,o=[],l=o;if(r)s=!1,i=loe;else if(a>=foe){var u=t?null:coe(e);if(u)return doe(u);s=!1,i=uoe,l=new soe}else l=t?[]:o;e:for(;++n<a;){var c=e[n],f=t?t(c):c;if(c=r||c!==0?c:0,s&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;t&&l.push(f),o.push(c)}else i(l,f,r)||(l!==o&&l.push(f),o.push(c))}return o}var poe=hoe,moe=Ws,goe=poe;function yoe(e,t){return e&&e.length?goe(e,moe(t)):[]}var voe=yoe;const oE=nr(voe);function a$(e,t,r){return t===!0?oE(e,r):Nt(t)?oE(e,t):e}function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}var boe=["ref"];function lE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(r),!0).forEach(function(n){q1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o$(n.key),n)}}function woe(e,t,r){return t&&uE(e.prototype,t),r&&uE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _oe(e,t,r){return t=tv(t),Soe(e,s$()?Reflect.construct(t,r||[],tv(e).constructor):t.apply(e,r))}function Soe(e,t){if(t&&(nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return joe(e)}function joe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s$=function(){return!!e})()}function tv(e){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tv(e)}function Aoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C5(e,t)}function C5(e,t){return C5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},C5(e,t)}function q1(e,t,r){return t=o$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o$(e){var t=Noe(e,"string");return nf(t)=="symbol"?t:t+""}function Noe(e,t){if(nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function koe(e,t){if(e==null)return{};var r=Eoe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ooe(e){return e.value}function Poe(e,t){if(oe.isValidElement(e))return oe.cloneElement(e,t);if(typeof e=="function")return oe.createElement(e,t);t.ref;var r=koe(t,boe);return oe.createElement(Dj,r)}var cE=1,$s=function(e){function t(){var r;xoe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=_oe(this,t,[].concat(i)),q1(r,"lastBoundingBox",{width:-1,height:-1}),r}return Aoe(t,e),woe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>cE||Math.abs(i.height-this.lastBoundingBox.height)>cE)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?oo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var y=this.getBBoxSnapshot();p={top:((c||0)-y.height)/2}}else p=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return oo(oo({},f),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=oo(oo({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return oe.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},Poe(a,oo(oo({},this.props),{},{payload:a$(c,u,Ooe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=oo(oo({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&Ge(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(X.PureComponent);q1($s,"displayName","Legend");q1($s,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var dE=Vm,Coe=Fj,Toe=Li,fE=dE?dE.isConcatSpreadable:void 0;function Loe(e){return Toe(e)||Coe(e)||!!(fE&&e&&e[fE])}var Ioe=Loe,Roe=GR,$oe=Ioe;function l$(e,t,r,n,i){var a=-1,s=e.length;for(r||(r=$oe),i||(i=[]);++a<s;){var o=e[a];t>0&&r(o)?t>1?l$(o,t-1,r,n,i):Roe(i,o):n||(i[i.length]=o)}return i}var u$=l$;function Moe(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++i];if(r(a[l],l,a)===!1)break}return t}}var Doe=Moe,Boe=Doe,Foe=Boe(),Uoe=Foe,zoe=Uoe,qoe=z1;function Woe(e,t){return e&&zoe(e,t,qoe)}var c$=Woe,Hoe=Km;function Voe(e,t){return function(r,n){if(r==null)return r;if(!Hoe(r))return e(r,n);for(var i=r.length,a=t?i:-1,s=Object(r);(t?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var Goe=Voe,Koe=c$,Yoe=Goe,Xoe=Yoe(Koe),Wj=Xoe,Joe=Wj,Zoe=Km;function Qoe(e,t){var r=-1,n=Zoe(e)?Array(e.length):[];return Joe(e,function(i,a,s){n[++r]=t(i,a,s)}),n}var d$=Qoe;function ele(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var tle=ele,hE=Ff;function rle(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=hE(e),s=t!==void 0,o=t===null,l=t===t,u=hE(t);if(!o&&!u&&!a&&e>t||a&&s&&l&&!o&&!u||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}var nle=rle,ile=nle;function ale(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,s=i.length,o=r.length;++n<s;){var l=ile(i[n],a[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var sle=ale,Zx=Ej,ole=Oj,lle=Ws,ule=d$,cle=tle,dle=XR,fle=sle,hle=Kf,ple=Li;function mle(e,t,r){t.length?t=Zx(t,function(a){return ple(a)?function(s){return ole(s,a.length===1?a[0]:a)}:a}):t=[hle];var n=-1;t=Zx(t,dle(lle));var i=ule(e,function(a,s,o){var l=Zx(t,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return cle(i,function(a,s){return fle(a,s,r)})}var gle=mle;function yle(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var vle=yle,ble=vle,pE=Math.max;function xle(e,t,r){return t=pE(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=pE(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=r(s),ble(e,this,o)}}var wle=xle;function _le(e){return function(){return e}}var Sle=_le,jle=xc,Ale=function(){try{var e=jle(Object,"defineProperty");return e({},"",{}),e}catch{}}(),f$=Ale,Nle=Sle,mE=f$,kle=Kf,Ele=mE?function(e,t){return mE(e,"toString",{configurable:!0,enumerable:!1,value:Nle(t),writable:!0})}:kle,Ole=Ele,Ple=800,Cle=16,Tle=Date.now;function Lle(e){var t=0,r=0;return function(){var n=Tle(),i=Cle-(n-r);if(r=n,i>0){if(++t>=Ple)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Ile=Lle,Rle=Ole,$le=Ile,Mle=$le(Rle),Dle=Mle,Ble=Kf,Fle=wle,Ule=Dle;function zle(e,t){return Ule(Fle(e,t,Ble),e+"")}var qle=zle,Wle=jj,Hle=Km,Vle=Uj,Gle=Kl;function Kle(e,t,r){if(!Gle(r))return!1;var n=typeof t;return(n=="number"?Hle(r)&&Vle(t,r.length):n=="string"&&t in r)?Wle(r[t],e):!1}var W1=Kle,Yle=u$,Xle=gle,Jle=qle,gE=W1,Zle=Jle(function(e,t){if(e==null)return[];var r=t.length;return r>1&&gE(e,t[0],t[1])?t=[]:r>2&&gE(t[0],t[1],t[2])&&(t=[t[0]]),Xle(e,Yle(t,1),[])}),Qle=Zle;const Hj=nr(Qle);function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}function T5(){return T5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T5.apply(this,arguments)}function eue(e,t){return iue(e)||nue(e,t)||rue(e,t)||tue()}function tue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rue(e,t){if(e){if(typeof e=="string")return yE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yE(e,t)}}function yE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function iue(e){if(Array.isArray(e))return e}function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(n){aue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aue(e,t,r){return t=sue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sue(e){var t=oue(e,"string");return rm(t)=="symbol"?t:t+""}function oue(e,t){if(rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lue(e){return Array.isArray(e)&&kn(e[0])&&kn(e[1])?e.join(" ~ "):e}var uue=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,u=l===void 0?{}:l,c=t.payload,f=t.formatter,p=t.itemSorter,h=t.wrapperClassName,y=t.labelClassName,g=t.label,b=t.labelFormatter,v=t.accessibilityLayer,w=v===void 0?!1:v,_=function(){if(c&&c.length){var P={padding:0,margin:0},M=(p?Hj(c,p):c).map(function(D,U){if(D.type==="none")return null;var H=Qx({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},o),V=D.formatter||f||lue,B=D.value,J=D.name,$=B,ae=J;if(V&&$!=null&&ae!=null){var T=V(B,J,D,U,c);if(Array.isArray(T)){var C=eue(T,2);$=C[0],ae=C[1]}else $=T}return oe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:H},kn(ae)?oe.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,kn(ae)?oe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,oe.createElement("span",{className:"recharts-tooltip-item-value"},$),oe.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return oe.createElement("ul",{className:"recharts-tooltip-item-list",style:P},M)}return null},A=Qx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=Qx({margin:0},u),j=!$t(g),O=j?g:"",L=Ut("recharts-default-tooltip",h),I=Ut("recharts-tooltip-label",y);j&&b&&c!==void 0&&c!==null&&(O=b(g,c));var F=w?{role:"status","aria-live":"assertive"}:{};return oe.createElement("div",T5({className:L,style:A},F),oe.createElement("p",{className:I,style:S},oe.isValidElement(O)?O:"".concat(O)),_())};function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function y0(e,t,r){return t=cue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cue(e){var t=due(e,"string");return nm(t)=="symbol"?t:t+""}function due(e,t){if(nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fh="recharts-tooltip-wrapper",fue={visibility:"hidden"};function hue(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ut(Fh,y0(y0(y0(y0({},"".concat(Fh,"-right"),Ge(r)&&t&&Ge(t.x)&&r>=t.x),"".concat(Fh,"-left"),Ge(r)&&t&&Ge(t.x)&&r<t.x),"".concat(Fh,"-bottom"),Ge(n)&&t&&Ge(t.y)&&n>=t.y),"".concat(Fh,"-top"),Ge(n)&&t&&Ge(t.y)&&n<t.y))}function bE(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(a&&Ge(a[n]))return a[n];var c=r[n]-o-i,f=r[n]+i;if(t[n])return s[n]?c:f;if(s[n]){var p=c,h=l[n];return p<h?Math.max(f,l[n]):Math.max(c,l[n])}var y=f+o,g=l[n]+u;return y>g?Math.max(c,l[n]):Math.max(f,l[n])}function pue(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function mue(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,u,c,f;return s.height>0&&s.width>0&&r?(c=bE({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=bE({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=pue({translateX:c,translateY:f,useTranslate3d:o})):u=fue,{cssProperties:u,cssClasses:hue({translateX:c,translateY:f,coordinate:r})}}function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}function xE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(r),!0).forEach(function(n){I5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p$(n.key),n)}}function vue(e,t,r){return t&&yue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bue(e,t,r){return t=rv(t),xue(e,h$()?Reflect.construct(t,r||[],rv(e).constructor):t.apply(e,r))}function xue(e,t){if(t&&(af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wue(e)}function wue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h$=function(){return!!e})()}function rv(e){return rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rv(e)}function _ue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L5(e,t)}function L5(e,t){return L5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L5(e,t)}function I5(e,t,r){return t=p$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p$(e){var t=Sue(e,"string");return af(t)=="symbol"?t:t+""}function Sue(e,t){if(af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _E=1,jue=function(e){function t(){var r;gue(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=bue(this,t,[].concat(i)),I5(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),I5(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,c;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),r}return _ue(t,e),vue(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>_E||Math.abs(n.height-this.state.lastBoundingBox.height)>_E)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,h=i.offset,y=i.position,g=i.reverseDirection,b=i.useTranslate3d,v=i.viewBox,w=i.wrapperStyle,_=mue({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:h,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:v}),A=_.cssClasses,S=_.cssProperties,j=wE(wE({transition:p&&a?"transform ".concat(o,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return oe.createElement("div",{tabIndex:-1,className:A,style:j,ref:function(L){n.wrapperNode=L}},u)}}])}(X.PureComponent),Aue=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wc={isSsr:Aue()};function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function SE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(r),!0).forEach(function(n){Vj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g$(n.key),n)}}function Eue(e,t,r){return t&&kue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oue(e,t,r){return t=nv(t),Pue(e,m$()?Reflect.construct(t,r||[],nv(e).constructor):t.apply(e,r))}function Pue(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cue(e)}function Cue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m$=function(){return!!e})()}function nv(e){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nv(e)}function Tue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R5(e,t)}function R5(e,t){return R5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R5(e,t)}function Vj(e,t,r){return t=g$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g$(e){var t=Lue(e,"string");return sf(t)=="symbol"?t:t+""}function Lue(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Iue(e){return e.dataKey}function Rue(e,t){return oe.isValidElement(e)?oe.cloneElement(e,t):typeof e=="function"?oe.createElement(e,t):oe.createElement(uue,t)}var Si=function(e){function t(){return Nue(this,t),Oue(this,t,arguments)}return Tue(t,e),Eue(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,p=i.isAnimationActive,h=i.offset,y=i.payload,g=i.payloadUniqBy,b=i.position,v=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,A=i.wrapperStyle,S=y??[];f&&S.length&&(S=a$(y.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),g,Iue));var j=S.length>0;return oe.createElement(jue,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:p,active:a,coordinate:c,hasPayload:j,offset:h,position:b,reverseDirection:v,useTranslate3d:w,viewBox:_,wrapperStyle:A},Rue(u,jE(jE({},this.props),{},{payload:S})))}}])}(X.PureComponent);Vj(Si,"displayName","Tooltip");Vj(Si,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var $ue=qs,Mue=function(){return $ue.Date.now()},Due=Mue,Bue=/\s/;function Fue(e){for(var t=e.length;t--&&Bue.test(e.charAt(t)););return t}var Uue=Fue,zue=Uue,que=/^\s+/;function Wue(e){return e&&e.slice(0,zue(e)+1).replace(que,"")}var Hue=Wue,Vue=Hue,AE=Kl,Gue=Ff,NE=NaN,Kue=/^[-+]0x[0-9a-f]+$/i,Yue=/^0b[01]+$/i,Xue=/^0o[0-7]+$/i,Jue=parseInt;function Zue(e){if(typeof e=="number")return e;if(Gue(e))return NE;if(AE(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=AE(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Vue(e);var r=Yue.test(e);return r||Xue.test(e)?Jue(e.slice(2),r?2:8):Kue.test(e)?NE:+e}var y$=Zue,Que=Kl,e2=Due,kE=y$,ece="Expected a function",tce=Math.max,rce=Math.min;function nce(e,t,r){var n,i,a,s,o,l,u=0,c=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(ece);t=kE(t)||0,Que(r)&&(c=!!r.leading,f="maxWait"in r,a=f?tce(kE(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p);function h(j){var O=n,L=i;return n=i=void 0,u=j,s=e.apply(L,O),s}function y(j){return u=j,o=setTimeout(v,t),c?h(j):s}function g(j){var O=j-l,L=j-u,I=t-O;return f?rce(I,a-L):I}function b(j){var O=j-l,L=j-u;return l===void 0||O>=t||O<0||f&&L>=a}function v(){var j=e2();if(b(j))return w(j);o=setTimeout(v,g(j))}function w(j){return o=void 0,p&&n?h(j):(n=i=void 0,s)}function _(){o!==void 0&&clearTimeout(o),u=0,n=l=i=o=void 0}function A(){return o===void 0?s:w(e2())}function S(){var j=e2(),O=b(j);if(n=arguments,i=this,l=j,O){if(o===void 0)return y(l);if(f)return clearTimeout(o),o=setTimeout(v,t),h(l)}return o===void 0&&(o=setTimeout(v,t)),s}return S.cancel=_,S.flush=A,S}var ice=nce,ace=ice,sce=Kl,oce="Expected a function";function lce(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(oce);return sce(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),ace(e,t,{leading:n,maxWait:t,trailing:i})}var uce=lce;const v$=nr(uce);function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function EE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function v0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(r),!0).forEach(function(n){cce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cce(e,t,r){return t=dce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dce(e){var t=fce(e,"string");return im(t)=="symbol"?t:t+""}function fce(e,t){if(im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hce(e,t){return yce(e)||gce(e,t)||mce(e,t)||pce()}function pce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mce(e,t){if(e){if(typeof e=="string")return OE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OE(e,t)}}function OE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function yce(e){if(Array.isArray(e))return e}var Ym=X.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,s=a===void 0?"100%":a,o=e.height,l=o===void 0?"100%":o,u=e.minWidth,c=u===void 0?0:u,f=e.minHeight,p=e.maxHeight,h=e.children,y=e.debounce,g=y===void 0?0:y,b=e.id,v=e.className,w=e.onResize,_=e.style,A=_===void 0?{}:_,S=X.useRef(null),j=X.useRef();j.current=w,X.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var O=X.useState({containerWidth:i.width,containerHeight:i.height}),L=hce(O,2),I=L[0],F=L[1],k=X.useCallback(function(M,D){F(function(U){var H=Math.round(M),V=Math.round(D);return U.containerWidth===H&&U.containerHeight===V?U:{containerWidth:H,containerHeight:V}})},[]);X.useEffect(function(){var M=function(J){var $,ae=J[0].contentRect,T=ae.width,C=ae.height;k(T,C),($=j.current)===null||$===void 0||$.call(j,T,C)};g>0&&(M=v$(M,g,{trailing:!0,leading:!1}));var D=new ResizeObserver(M),U=S.current.getBoundingClientRect(),H=U.width,V=U.height;return k(H,V),D.observe(S.current),function(){D.disconnect()}},[k,g]);var P=X.useMemo(function(){var M=I.containerWidth,D=I.containerHeight;if(M<0||D<0)return null;ls(Vu(s)||Vu(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ls(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=Vu(s)?M:s,H=Vu(l)?D:l;r&&r>0&&(U?H=U/r:H&&(U=H*r),p&&H>p&&(H=p)),ls(U>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,H,s,l,c,f,r);var V=!Array.isArray(h)&&Ao(h.type).endsWith("Chart");return oe.Children.map(h,function(B){return oe.isValidElement(B)?X.cloneElement(B,v0({width:U,height:H},V?{style:v0({height:"100%",width:"100%",maxHeight:H,maxWidth:U},B.props.style)}:{})):B})},[r,h,l,p,f,c,I,s]);return oe.createElement("div",{id:b?"".concat(b):void 0,className:Ut("recharts-responsive-container",v),style:v0(v0({},A),{},{width:s,height:l,minWidth:c,minHeight:f,maxHeight:p}),ref:S},P)}),Xm=function(t){return null};Xm.displayName="Cell";function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function PE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(r),!0).forEach(function(n){vce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vce(e,t,r){return t=bce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bce(e){var t=xce(e,"string");return am(t)=="symbol"?t:t+""}function xce(e,t){if(am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kc={widthCache:{},cacheCount:0},wce=2e3,_ce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CE="recharts_measurement_span";function Sce(e){var t=$5({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var bp=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||wc.isSsr)return{width:0,height:0};var n=Sce(r),i=JSON.stringify({text:t,copyStyle:n});if(Kc.widthCache[i])return Kc.widthCache[i];try{var a=document.getElementById(CE);a||(a=document.createElement("span"),a.setAttribute("id",CE),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=$5($5({},_ce),n);Object.assign(a.style,s),a.textContent="".concat(t);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Kc.widthCache[i]=l,++Kc.cacheCount>wce&&(Kc.cacheCount=0,Kc.widthCache={}),l}catch{return{width:0,height:0}}},jce=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function iv(e,t){return Ece(e)||kce(e,t)||Nce(e,t)||Ace()}function Ace(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nce(e,t){if(e){if(typeof e=="string")return TE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TE(e,t)}}function TE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Ece(e){if(Array.isArray(e))return e}function Oce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cce(n.key),n)}}function Pce(e,t,r){return t&&LE(e.prototype,t),r&&LE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cce(e){var t=Tce(e,"string");return sm(t)=="symbol"?t:t+""}function Tce(e,t){if(sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var IE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ice=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,b$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Rce=Object.keys(b$),vd="NaN";function $ce(e,t){return e*b$[t]}var b0=function(){function e(t,r){Oce(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Lce.test(r)&&(this.num=NaN,this.unit=""),Rce.includes(r)&&(this.num=$ce(t,r),this.unit="px")}return Pce(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Ice.exec(r))!==null&&n!==void 0?n:[],a=iv(i,3),s=a[1],o=a[2];return new e(parseFloat(s),o??"")}}])}();function x$(e){if(e.includes(vd))return vd;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=IE.exec(t))!==null&&r!==void 0?r:[],i=iv(n,4),a=i[1],s=i[2],o=i[3],l=b0.parse(a??""),u=b0.parse(o??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return vd;t=t.replace(IE,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=RE.exec(t))!==null&&f!==void 0?f:[],h=iv(p,4),y=h[1],g=h[2],b=h[3],v=b0.parse(y??""),w=b0.parse(b??""),_=g==="+"?v.add(w):v.subtract(w);if(_.isNaN())return vd;t=t.replace(RE,_.toString())}return t}var $E=/\(([^()]*)\)/;function Mce(e){for(var t=e;t.includes("(");){var r=$E.exec(t),n=iv(r,2),i=n[1];t=t.replace($E,x$(i))}return t}function Dce(e){var t=e.replace(/\s+/g,"");return t=Mce(t),t=x$(t),t}function Bce(e){try{return Dce(e)}catch{return vd}}function t2(e){var t=Bce(e.slice(5,-1));return t===vd?"":t}var Fce=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Uce=["dx","dy","angle","className","breakAll"];function M5(){return M5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M5.apply(this,arguments)}function ME(e,t){if(e==null)return{};var r=zce(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DE(e,t){return Vce(e)||Hce(e,t)||Wce(e,t)||qce()}function qce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wce(e,t){if(e){if(typeof e=="string")return BE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BE(e,t)}}function BE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Vce(e){if(Array.isArray(e))return e}var w$=/[ \f\n\r\t\v\u2028\u2029]+/,_$=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];$t(r)||(n?a=r.toString().split(""):a=r.toString().split(w$));var s=a.map(function(l){return{word:l,width:bp(l,i).width}}),o=n?0:bp("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Gce=function(t,r,n,i,a){var s=t.maxLines,o=t.children,l=t.style,u=t.breakAll,c=Ge(s),f=o,p=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(H,V){var B=V.word,J=V.width,$=H[H.length-1];if($&&(i==null||a||$.width+J+n<Number(i)))$.words.push(B),$.width+=J+n;else{var ae={words:[B],width:J};H.push(ae)}return H},[])},h=p(r),y=function(U){return U.reduce(function(H,V){return H.width>V.width?H:V})};if(!c)return h;for(var g="",b=function(U){var H=f.slice(0,U),V=_$({breakAll:u,style:l,children:H+g}).wordsWithComputedWidth,B=p(V),J=B.length>s||y(B).width>Number(i);return[J,B]},v=0,w=f.length-1,_=0,A;v<=w&&_<=f.length-1;){var S=Math.floor((v+w)/2),j=S-1,O=b(j),L=DE(O,2),I=L[0],F=L[1],k=b(S),P=DE(k,1),M=P[0];if(!I&&!M&&(v=S+1),I&&M&&(w=S-1),!I&&M){A=F;break}_++}return A||h},FE=function(t){var r=$t(t)?[]:t.toString().split(w$);return[{words:r}]},Kce=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!wc.isSsr){var l,u,c=_$({breakAll:s,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,p=c.spaceWidth;l=f,u=p}else return FE(i);return Gce({breakAll:s,children:i,maxLines:o,style:a},l,u,r,n)}return FE(i)},UE="#808080",uc=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,u=l===void 0?"0.71em":l,c=t.scaleToFit,f=c===void 0?!1:c,p=t.textAnchor,h=p===void 0?"start":p,y=t.verticalAnchor,g=y===void 0?"end":y,b=t.fill,v=b===void 0?UE:b,w=ME(t,Fce),_=X.useMemo(function(){return Kce({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),A=w.dx,S=w.dy,j=w.angle,O=w.className,L=w.breakAll,I=ME(w,Uce);if(!kn(n)||!kn(a))return null;var F=n+(Ge(A)?A:0),k=a+(Ge(S)?S:0),P;switch(g){case"start":P=t2("calc(".concat(u,")"));break;case"middle":P=t2("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:P=t2("calc(".concat(_.length-1," * -").concat(o,")"));break}var M=[];if(f){var D=_[0].width,U=w.width;M.push("scale(".concat((Ge(U)?U/D:1)/D,")"))}return j&&M.push("rotate(".concat(j,", ").concat(F,", ").concat(k,")")),M.length&&(I.transform=M.join(" ")),oe.createElement("text",M5({},xt(I,!0),{x:F,y:k,className:Ut("recharts-text",O),textAnchor:h,fill:v.includes("url")?UE:v}),_.map(function(H,V){var B=H.words.join(L?"":" ");return oe.createElement("tspan",{x:F,dy:V===0?P:o,key:"".concat(B,"-").concat(V)},B)}))};function Rl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Yce(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gj(e){let t,r,n;e.length!==2?(t=Rl,r=(o,l)=>Rl(e(o),l),n=(o,l)=>e(o)-l):(t=e===Rl||e===Yce?e:Xce,r=e,n=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;r(o[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;r(o[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(o,l,u=0,c=o.length){const f=i(o,l,u,c-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function Xce(){return 0}function S$(e){return e===null?NaN:+e}function*Jce(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Zce=Gj(Rl),Jm=Zce.right;Gj(S$).center;class zE extends Map{constructor(t,r=tde){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(qE(this,t))}has(t){return super.has(qE(this,t))}set(t,r){return super.set(Qce(this,t),r)}delete(t){return super.delete(ede(this,t))}}function qE({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Qce({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function ede({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function tde(e){return e!==null&&typeof e=="object"?e.valueOf():e}function rde(e=Rl){if(e===Rl)return j$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function j$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const nde=Math.sqrt(50),ide=Math.sqrt(10),ade=Math.sqrt(2);function av(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=nde?10:a>=ide?5:a>=ade?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?av(e,t,r*2):[o,l,u]}function D5(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?av(t,e,r):av(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function B5(e,t,r){return t=+t,e=+e,r=+r,av(e,t,r)[2]}function F5(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?B5(t,e,r):B5(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function WE(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function HE(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function A$(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?j$:rde(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/l+p)),y=Math.min(n,Math.floor(t+(l-u)*f/l+p));A$(e,t,h,y,i)}const a=e[t];let s=r,o=n;for(Uh(e,r,t),i(e[n],a)>0&&Uh(e,r,n);s<o;){for(Uh(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?Uh(e,r,o):(++o,Uh(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Uh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function sde(e,t,r){if(e=Float64Array.from(Jce(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return HE(e);if(t>=1)return WE(e);var n,i=(n-1)*t,a=Math.floor(i),s=WE(A$(e,a).subarray(0,a+1)),o=HE(e.subarray(a+1));return s+(o-s)*(i-a)}}function ode(e,t,r=S$){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function lde(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Da(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Uo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const U5=Symbol("implicit");function Kj(){var e=new zE,t=[],r=[],n=U5;function i(a){let s=e.get(a);if(s===void 0){if(n!==U5)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new zE;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Kj(t,r).unknown(n)},Da.apply(i,arguments),i}function om(){var e=Kj().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var p=t().length,h=i<n,y=h?i:n,g=h?n:i;a=(g-y)/Math.max(1,p-l+u*2),o&&(a=Math.floor(a)),y+=(g-y-a*(p-l))*c,s=a*(1-l),o&&(y=Math.round(y),s=Math.round(s));var b=lde(p).map(function(v){return y+a*v});return r(h?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(p){return arguments.length?(o=!!p,f()):o},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),f()):c},e.copy=function(){return om(t(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Da.apply(f(),arguments)}function N$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return N$(t())},e}function xp(){return N$(om.apply(null,arguments).paddingInner(1))}function Yj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function k$(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Zm(){}var lm=.7,sv=1/lm,Rd="\\s*([+-]?\\d+)\\s*",um="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ms="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ude=/^#([0-9a-f]{3,8})$/,cde=new RegExp(`^rgb\\(${Rd},${Rd},${Rd}\\)$`),dde=new RegExp(`^rgb\\(${Ms},${Ms},${Ms}\\)$`),fde=new RegExp(`^rgba\\(${Rd},${Rd},${Rd},${um}\\)$`),hde=new RegExp(`^rgba\\(${Ms},${Ms},${Ms},${um}\\)$`),pde=new RegExp(`^hsl\\(${um},${Ms},${Ms}\\)$`),mde=new RegExp(`^hsla\\(${um},${Ms},${Ms},${um}\\)$`),VE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yj(Zm,cm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:GE,formatHex:GE,formatHex8:gde,formatHsl:yde,formatRgb:KE,toString:KE});function GE(){return this.rgb().formatHex()}function gde(){return this.rgb().formatHex8()}function yde(){return E$(this).formatHsl()}function KE(){return this.rgb().formatRgb()}function cm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ude.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?YE(t):r===3?new Ni(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?x0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?x0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cde.exec(e))?new Ni(t[1],t[2],t[3],1):(t=dde.exec(e))?new Ni(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fde.exec(e))?x0(t[1],t[2],t[3],t[4]):(t=hde.exec(e))?x0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=pde.exec(e))?ZE(t[1],t[2]/100,t[3]/100,1):(t=mde.exec(e))?ZE(t[1],t[2]/100,t[3]/100,t[4]):VE.hasOwnProperty(e)?YE(VE[e]):e==="transparent"?new Ni(NaN,NaN,NaN,0):null}function YE(e){return new Ni(e>>16&255,e>>8&255,e&255,1)}function x0(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ni(e,t,r,n)}function vde(e){return e instanceof Zm||(e=cm(e)),e?(e=e.rgb(),new Ni(e.r,e.g,e.b,e.opacity)):new Ni}function z5(e,t,r,n){return arguments.length===1?vde(e):new Ni(e,t,r,n??1)}function Ni(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Yj(Ni,z5,k$(Zm,{brighter(e){return e=e==null?sv:Math.pow(sv,e),new Ni(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?lm:Math.pow(lm,e),new Ni(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ni(Zu(this.r),Zu(this.g),Zu(this.b),ov(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XE,formatHex:XE,formatHex8:bde,formatRgb:JE,toString:JE}));function XE(){return`#${Gu(this.r)}${Gu(this.g)}${Gu(this.b)}`}function bde(){return`#${Gu(this.r)}${Gu(this.g)}${Gu(this.b)}${Gu((isNaN(this.opacity)?1:this.opacity)*255)}`}function JE(){const e=ov(this.opacity);return`${e===1?"rgb(":"rgba("}${Zu(this.r)}, ${Zu(this.g)}, ${Zu(this.b)}${e===1?")":`, ${e})`}`}function ov(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Zu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gu(e){return e=Zu(e),(e<16?"0":"")+e.toString(16)}function ZE(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new is(e,t,r,n)}function E$(e){if(e instanceof is)return new is(e.h,e.s,e.l,e.opacity);if(e instanceof Zm||(e=cm(e)),!e)return new is;if(e instanceof is)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new is(s,o,l,e.opacity)}function xde(e,t,r,n){return arguments.length===1?E$(e):new is(e,t,r,n??1)}function is(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Yj(is,xde,k$(Zm,{brighter(e){return e=e==null?sv:Math.pow(sv,e),new is(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?lm:Math.pow(lm,e),new is(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ni(r2(e>=240?e-240:e+120,i,n),r2(e,i,n),r2(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new is(QE(this.h),w0(this.s),w0(this.l),ov(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ov(this.opacity);return`${e===1?"hsl(":"hsla("}${QE(this.h)}, ${w0(this.s)*100}%, ${w0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function QE(e){return e=(e||0)%360,e<0?e+360:e}function w0(e){return Math.max(0,Math.min(1,e||0))}function r2(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Xj=e=>()=>e;function wde(e,t){return function(r){return e+r*t}}function _de(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Sde(e){return(e=+e)==1?O$:function(t,r){return r-t?_de(t,r,e):Xj(isNaN(t)?r:t)}}function O$(e,t){var r=t-e;return r?wde(e,r):Xj(isNaN(e)?t:e)}const eO=function e(t){var r=Sde(t);function n(i,a){var s=r((i=z5(i)).r,(a=z5(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=O$(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function jde(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function Ade(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Nde(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Yf(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function kde(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function lv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Ede(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Yf(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var q5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,n2=new RegExp(q5.source,"g");function Ode(e){return function(){return e}}function Pde(e){return function(t){return e(t)+""}}function Cde(e,t){var r=q5.lastIndex=n2.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=q5.exec(e))&&(i=n2.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:lv(n,i)})),r=n2.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Pde(l[0].x):Ode(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)o[(f=l[c]).i]=f.x(u);return o.join("")})}function Yf(e,t){var r=typeof t,n;return t==null||r==="boolean"?Xj(t):(r==="number"?lv:r==="string"?(n=cm(t))?(t=n,eO):Cde:t instanceof cm?eO:t instanceof Date?kde:Ade(t)?jde:Array.isArray(t)?Nde:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ede:lv)(e,t)}function Jj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Tde(e,t){t===void 0&&(t=e,e=Yf);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function Lde(e){return function(){return e}}function uv(e){return+e}var tO=[0,1];function pi(e){return e}function W5(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Lde(isNaN(t)?NaN:.5)}function Ide(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Rde(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=W5(i,n),a=r(s,a)):(n=W5(n,i),a=r(a,s)),function(o){return a(n(o))}}function $de(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=W5(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=Jm(e,o,1,n)-1;return a[l](i[l](o))}}function Qm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function H1(){var e=tO,t=tO,r=Yf,n,i,a,s=pi,o,l,u;function c(){var p=Math.min(e.length,t.length);return s!==pi&&(s=Ide(e[0],e[p-1])),o=p>2?$de:Rde,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=o(e.map(n),t,r)))(n(s(p)))}return f.invert=function(p){return s(i((u||(u=o(t,e.map(n),lv)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,uv),c()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),c()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=Jj,c()},f.clamp=function(p){return arguments.length?(s=p?!0:pi,c()):s!==pi},f.interpolate=function(p){return arguments.length?(r=p,c()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,h){return n=p,i=h,c()}}function Zj(){return H1()(pi,pi)}function Mde(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function cv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function of(e){return e=cv(Math.abs(e)),e?e[1]:NaN}function Dde(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Bde(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Fde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dm(e){if(!(t=Fde.exec(e)))throw new Error("invalid format: "+e);var t;return new Qj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dm.prototype=Qj.prototype;function Qj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ude(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var P$;function zde(e,t){var r=cv(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(P$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+cv(e,Math.max(0,t+a-1))[0]}function rO(e,t){var r=cv(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const nO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Mde,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>rO(e*100,t),r:rO,s:zde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function iO(e){return e}var aO=Array.prototype.map,sO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qde(e){var t=e.grouping===void 0||e.thousands===void 0?iO:Dde(aO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?iO:Bde(aO.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=dm(f);var p=f.fill,h=f.align,y=f.sign,g=f.symbol,b=f.zero,v=f.width,w=f.comma,_=f.precision,A=f.trim,S=f.type;S==="n"?(w=!0,S="g"):nO[S]||(_===void 0&&(_=12),A=!0,S="g"),(b||p==="0"&&h==="=")&&(b=!0,p="0",h="=");var j=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",O=g==="$"?n:/[%p]/.test(S)?s:"",L=nO[S],I=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function F(k){var P=j,M=O,D,U,H;if(S==="c")M=L(k)+M,k="";else{k=+k;var V=k<0||1/k<0;if(k=isNaN(k)?l:L(Math.abs(k),_),A&&(k=Ude(k)),V&&+k==0&&y!=="+"&&(V=!1),P=(V?y==="("?y:o:y==="-"||y==="("?"":y)+P,M=(S==="s"?sO[8+P$/3]:"")+M+(V&&y==="("?")":""),I){for(D=-1,U=k.length;++D<U;)if(H=k.charCodeAt(D),48>H||H>57){M=(H===46?i+k.slice(D+1):k.slice(D))+M,k=k.slice(0,D);break}}}w&&!b&&(k=t(k,1/0));var B=P.length+k.length+M.length,J=B<v?new Array(v-B+1).join(p):"";switch(w&&b&&(k=t(J+k,J.length?v-M.length:1/0),J=""),h){case"<":k=P+k+M+J;break;case"=":k=P+J+k+M;break;case"^":k=J.slice(0,B=J.length>>1)+P+k+M+J.slice(B);break;default:k=J+P+k+M;break}return a(k)}return F.toString=function(){return f+""},F}function c(f,p){var h=u((f=dm(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(of(p)/3)))*3,g=Math.pow(10,-y),b=sO[8+y/3];return function(v){return h(g*v)+b}}return{format:u,formatPrefix:c}}var _0,eA,C$;Wde({thousands:",",grouping:[3],currency:["$",""]});function Wde(e){return _0=qde(e),eA=_0.format,C$=_0.formatPrefix,_0}function Hde(e){return Math.max(0,-of(Math.abs(e)))}function Vde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(of(t)/3)))*3-of(Math.abs(e)))}function Gde(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,of(t)-of(e))+1}function T$(e,t,r,n){var i=F5(e,t,r),a;switch(n=dm(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Vde(i,s))&&(n.precision=a),C$(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Gde(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Hde(i))&&(n.precision=a-(n.type==="%")*2);break}}return eA(n)}function Yl(e){var t=e.domain;return e.ticks=function(r){var n=t();return D5(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return T$(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=B5(s,o,r),u===l)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function dv(){var e=Zj();return e.copy=function(){return Qm(e,dv())},Da.apply(e,arguments),Yl(e)}function L$(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,uv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return L$(e).unknown(t)},e=arguments.length?Array.from(e,uv):[0,1],Yl(r)}function I$(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function oO(e){return Math.log(e)}function lO(e){return Math.exp(e)}function Kde(e){return-Math.log(-e)}function Yde(e){return-Math.exp(-e)}function Xde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Jde(e){return e===10?Xde:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Zde(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function uO(e){return(t,r)=>-e(-t,r)}function tA(e){const t=e(oO,lO),r=t.domain;let n=10,i,a;function s(){return i=Zde(n),a=Jde(n),r()[0]<0?(i=uO(i),a=uO(a),e(Kde,Yde)):e(oO,lO),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let p=i(u),h=i(c),y,g;const b=o==null?10:+o;let v=[];if(!(n%1)&&h-p<b){if(p=Math.floor(p),h=Math.ceil(h),u>0){for(;p<=h;++p)for(y=1;y<n;++y)if(g=p<0?y/a(-p):y*a(p),!(g<u)){if(g>c)break;v.push(g)}}else for(;p<=h;++p)for(y=n-1;y>=1;--y)if(g=p>0?y/a(-p):y*a(p),!(g<u)){if(g>c)break;v.push(g)}v.length*2<b&&(v=D5(u,c,b))}else v=D5(p,h,Math.min(h-p,b)).map(a);return f?v.reverse():v},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=dm(l)).precision==null&&(l.trim=!0),l=eA(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*n<n-.5&&(f*=n),f<=u?l(c):""}},t.nice=()=>r(I$(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function R$(){const e=tA(H1()).domain([1,10]);return e.copy=()=>Qm(e,R$()).base(e.base()),Da.apply(e,arguments),e}function cO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function dO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function rA(e){var t=1,r=e(cO(t),dO(t));return r.constant=function(n){return arguments.length?e(cO(t=+n),dO(t)):t},Yl(r)}function $$(){var e=rA(H1());return e.copy=function(){return Qm(e,$$()).constant(e.constant())},Da.apply(e,arguments)}function fO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Qde(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function efe(e){return e<0?-e*e:e*e}function nA(e){var t=e(pi,pi),r=1;function n(){return r===1?e(pi,pi):r===.5?e(Qde,efe):e(fO(r),fO(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Yl(t)}function iA(){var e=nA(H1());return e.copy=function(){return Qm(e,iA()).exponent(e.exponent())},Da.apply(e,arguments),e}function tfe(){return iA.apply(null,arguments).exponent(.5)}function hO(e){return Math.sign(e)*e*e}function rfe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function M$(){var e=Zj(),t=[0,1],r=!1,n;function i(a){var s=rfe(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(hO(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,uv)).map(hO)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return M$(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Da.apply(i,arguments),Yl(i)}function D$(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=ode(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[Jm(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Rl),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return D$().domain(e).range(t).unknown(n)},Da.apply(a,arguments)}function B$(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Jm(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return B$().domain([e,t]).range(i).unknown(a)},Da.apply(Yl(s),arguments)}function F$(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Jm(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return F$().domain(e).range(t).unknown(r)},Da.apply(i,arguments)}const i2=new Date,a2=new Date;function En(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>En(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(i2.setTime(+a),a2.setTime(+s),e(i2),e(a2),Math.floor(r(i2,a2))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const fv=En(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?En(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):fv);fv.range;const xo=1e3,Oa=xo*60,wo=Oa*60,Lo=wo*24,aA=Lo*7,pO=Lo*30,s2=Lo*365,Ku=En(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*xo)},(e,t)=>(t-e)/xo,e=>e.getUTCSeconds());Ku.range;const sA=En(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xo)},(e,t)=>{e.setTime(+e+t*Oa)},(e,t)=>(t-e)/Oa,e=>e.getMinutes());sA.range;const oA=En(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Oa)},(e,t)=>(t-e)/Oa,e=>e.getUTCMinutes());oA.range;const lA=En(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xo-e.getMinutes()*Oa)},(e,t)=>{e.setTime(+e+t*wo)},(e,t)=>(t-e)/wo,e=>e.getHours());lA.range;const uA=En(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wo)},(e,t)=>(t-e)/wo,e=>e.getUTCHours());uA.range;const eg=En(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Oa)/Lo,e=>e.getDate()-1);eg.range;const V1=En(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Lo,e=>e.getUTCDate()-1);V1.range;const U$=En(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Lo,e=>Math.floor(e/Lo));U$.range;function _c(e){return En(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Oa)/aA)}const G1=_c(0),hv=_c(1),nfe=_c(2),ife=_c(3),lf=_c(4),afe=_c(5),sfe=_c(6);G1.range;hv.range;nfe.range;ife.range;lf.range;afe.range;sfe.range;function Sc(e){return En(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/aA)}const K1=Sc(0),pv=Sc(1),ofe=Sc(2),lfe=Sc(3),uf=Sc(4),ufe=Sc(5),cfe=Sc(6);K1.range;pv.range;ofe.range;lfe.range;uf.range;ufe.range;cfe.range;const cA=En(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());cA.range;const dA=En(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());dA.range;const Io=En(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Io.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:En(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Io.range;const Ro=En(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ro.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:En(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ro.range;function z$(e,t,r,n,i,a){const s=[[Ku,1,xo],[Ku,5,5*xo],[Ku,15,15*xo],[Ku,30,30*xo],[a,1,Oa],[a,5,5*Oa],[a,15,15*Oa],[a,30,30*Oa],[i,1,wo],[i,3,3*wo],[i,6,6*wo],[i,12,12*wo],[n,1,Lo],[n,2,2*Lo],[r,1,aA],[t,1,pO],[t,3,3*pO],[e,1,s2]];function o(u,c,f){const p=c<u;p&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),y=h?h.range(u,+c+1):[];return p?y.reverse():y}function l(u,c,f){const p=Math.abs(c-u)/f,h=Gj(([,,b])=>b).right(s,p);if(h===s.length)return e.every(F5(u/s2,c/s2,f));if(h===0)return fv.every(Math.max(F5(u,c,f),1));const[y,g]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return y.every(g)}return[o,l]}const[dfe,ffe]=z$(Ro,dA,K1,U$,uA,oA),[hfe,pfe]=z$(Io,cA,G1,eg,lA,sA);function o2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function l2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function mfe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=qh(i),c=Wh(i),f=qh(a),p=Wh(a),h=qh(s),y=Wh(s),g=qh(o),b=Wh(o),v=qh(l),w=Wh(l),_={a:V,A:B,b:J,B:$,c:null,d:xO,e:xO,f:Dfe,g:Kfe,G:Xfe,H:Rfe,I:$fe,j:Mfe,L:q$,m:Bfe,M:Ffe,p:ae,q:T,Q:SO,s:jO,S:Ufe,u:zfe,U:qfe,V:Wfe,w:Hfe,W:Vfe,x:null,X:null,y:Gfe,Y:Yfe,Z:Jfe,"%":_O},A={a:C,A:K,b:Q,B:ie,c:null,d:wO,e:wO,f:the,g:dhe,G:hhe,H:Zfe,I:Qfe,j:ehe,L:H$,m:rhe,M:nhe,p:ue,q:me,Q:SO,s:jO,S:ihe,u:ahe,U:she,V:ohe,w:lhe,W:uhe,x:null,X:null,y:che,Y:fhe,Z:phe,"%":_O},S={a:F,A:k,b:P,B:M,c:D,d:vO,e:vO,f:Cfe,g:yO,G:gO,H:bO,I:bO,j:kfe,L:Pfe,m:Nfe,M:Efe,p:I,q:Afe,Q:Lfe,s:Ife,S:Ofe,u:xfe,U:wfe,V:_fe,w:bfe,W:Sfe,x:U,X:H,y:yO,Y:gO,Z:jfe,"%":Tfe};_.x=j(r,_),_.X=j(n,_),_.c=j(t,_),A.x=j(r,A),A.X=j(n,A),A.c=j(t,A);function j(se,ge){return function(Se){var pe=[],Fe=-1,ye=0,ee=se.length,Ze,Qe,Xe;for(Se instanceof Date||(Se=new Date(+Se));++Fe<ee;)se.charCodeAt(Fe)===37&&(pe.push(se.slice(ye,Fe)),(Qe=mO[Ze=se.charAt(++Fe)])!=null?Ze=se.charAt(++Fe):Qe=Ze==="e"?" ":"0",(Xe=ge[Ze])&&(Ze=Xe(Se,Qe)),pe.push(Ze),ye=Fe+1);return pe.push(se.slice(ye,Fe)),pe.join("")}}function O(se,ge){return function(Se){var pe=zh(1900,void 0,1),Fe=L(pe,se,Se+="",0),ye,ee;if(Fe!=Se.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(ge&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(ye=l2(zh(pe.y,0,1)),ee=ye.getUTCDay(),ye=ee>4||ee===0?pv.ceil(ye):pv(ye),ye=V1.offset(ye,(pe.V-1)*7),pe.y=ye.getUTCFullYear(),pe.m=ye.getUTCMonth(),pe.d=ye.getUTCDate()+(pe.w+6)%7):(ye=o2(zh(pe.y,0,1)),ee=ye.getDay(),ye=ee>4||ee===0?hv.ceil(ye):hv(ye),ye=eg.offset(ye,(pe.V-1)*7),pe.y=ye.getFullYear(),pe.m=ye.getMonth(),pe.d=ye.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),ee="Z"in pe?l2(zh(pe.y,0,1)).getUTCDay():o2(zh(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(ee+5)%7:pe.w+pe.U*7-(ee+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,l2(pe)):o2(pe)}}function L(se,ge,Se,pe){for(var Fe=0,ye=ge.length,ee=Se.length,Ze,Qe;Fe<ye;){if(pe>=ee)return-1;if(Ze=ge.charCodeAt(Fe++),Ze===37){if(Ze=ge.charAt(Fe++),Qe=S[Ze in mO?ge.charAt(Fe++):Ze],!Qe||(pe=Qe(se,Se,pe))<0)return-1}else if(Ze!=Se.charCodeAt(pe++))return-1}return pe}function I(se,ge,Se){var pe=u.exec(ge.slice(Se));return pe?(se.p=c.get(pe[0].toLowerCase()),Se+pe[0].length):-1}function F(se,ge,Se){var pe=h.exec(ge.slice(Se));return pe?(se.w=y.get(pe[0].toLowerCase()),Se+pe[0].length):-1}function k(se,ge,Se){var pe=f.exec(ge.slice(Se));return pe?(se.w=p.get(pe[0].toLowerCase()),Se+pe[0].length):-1}function P(se,ge,Se){var pe=v.exec(ge.slice(Se));return pe?(se.m=w.get(pe[0].toLowerCase()),Se+pe[0].length):-1}function M(se,ge,Se){var pe=g.exec(ge.slice(Se));return pe?(se.m=b.get(pe[0].toLowerCase()),Se+pe[0].length):-1}function D(se,ge,Se){return L(se,t,ge,Se)}function U(se,ge,Se){return L(se,r,ge,Se)}function H(se,ge,Se){return L(se,n,ge,Se)}function V(se){return s[se.getDay()]}function B(se){return a[se.getDay()]}function J(se){return l[se.getMonth()]}function $(se){return o[se.getMonth()]}function ae(se){return i[+(se.getHours()>=12)]}function T(se){return 1+~~(se.getMonth()/3)}function C(se){return s[se.getUTCDay()]}function K(se){return a[se.getUTCDay()]}function Q(se){return l[se.getUTCMonth()]}function ie(se){return o[se.getUTCMonth()]}function ue(se){return i[+(se.getUTCHours()>=12)]}function me(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var ge=j(se+="",_);return ge.toString=function(){return se},ge},parse:function(se){var ge=O(se+="",!1);return ge.toString=function(){return se},ge},utcFormat:function(se){var ge=j(se+="",A);return ge.toString=function(){return se},ge},utcParse:function(se){var ge=O(se+="",!0);return ge.toString=function(){return se},ge}}}var mO={"-":"",_:" ",0:"0"},Rn=/^\s*\d+/,gfe=/^%/,yfe=/[\\^$*+?|[\]().{}]/g;function Qt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function vfe(e){return e.replace(yfe,"\\$&")}function qh(e){return new RegExp("^(?:"+e.map(vfe).join("|")+")","i")}function Wh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function bfe(e,t,r){var n=Rn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function xfe(e,t,r){var n=Rn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function wfe(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function _fe(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Sfe(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function gO(e,t,r){var n=Rn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function yO(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function jfe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Afe(e,t,r){var n=Rn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Nfe(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function vO(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function kfe(e,t,r){var n=Rn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function bO(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Efe(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Ofe(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Pfe(e,t,r){var n=Rn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Cfe(e,t,r){var n=Rn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Tfe(e,t,r){var n=gfe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Lfe(e,t,r){var n=Rn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Ife(e,t,r){var n=Rn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function xO(e,t){return Qt(e.getDate(),t,2)}function Rfe(e,t){return Qt(e.getHours(),t,2)}function $fe(e,t){return Qt(e.getHours()%12||12,t,2)}function Mfe(e,t){return Qt(1+eg.count(Io(e),e),t,3)}function q$(e,t){return Qt(e.getMilliseconds(),t,3)}function Dfe(e,t){return q$(e,t)+"000"}function Bfe(e,t){return Qt(e.getMonth()+1,t,2)}function Ffe(e,t){return Qt(e.getMinutes(),t,2)}function Ufe(e,t){return Qt(e.getSeconds(),t,2)}function zfe(e){var t=e.getDay();return t===0?7:t}function qfe(e,t){return Qt(G1.count(Io(e)-1,e),t,2)}function W$(e){var t=e.getDay();return t>=4||t===0?lf(e):lf.ceil(e)}function Wfe(e,t){return e=W$(e),Qt(lf.count(Io(e),e)+(Io(e).getDay()===4),t,2)}function Hfe(e){return e.getDay()}function Vfe(e,t){return Qt(hv.count(Io(e)-1,e),t,2)}function Gfe(e,t){return Qt(e.getFullYear()%100,t,2)}function Kfe(e,t){return e=W$(e),Qt(e.getFullYear()%100,t,2)}function Yfe(e,t){return Qt(e.getFullYear()%1e4,t,4)}function Xfe(e,t){var r=e.getDay();return e=r>=4||r===0?lf(e):lf.ceil(e),Qt(e.getFullYear()%1e4,t,4)}function Jfe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qt(t/60|0,"0",2)+Qt(t%60,"0",2)}function wO(e,t){return Qt(e.getUTCDate(),t,2)}function Zfe(e,t){return Qt(e.getUTCHours(),t,2)}function Qfe(e,t){return Qt(e.getUTCHours()%12||12,t,2)}function ehe(e,t){return Qt(1+V1.count(Ro(e),e),t,3)}function H$(e,t){return Qt(e.getUTCMilliseconds(),t,3)}function the(e,t){return H$(e,t)+"000"}function rhe(e,t){return Qt(e.getUTCMonth()+1,t,2)}function nhe(e,t){return Qt(e.getUTCMinutes(),t,2)}function ihe(e,t){return Qt(e.getUTCSeconds(),t,2)}function ahe(e){var t=e.getUTCDay();return t===0?7:t}function she(e,t){return Qt(K1.count(Ro(e)-1,e),t,2)}function V$(e){var t=e.getUTCDay();return t>=4||t===0?uf(e):uf.ceil(e)}function ohe(e,t){return e=V$(e),Qt(uf.count(Ro(e),e)+(Ro(e).getUTCDay()===4),t,2)}function lhe(e){return e.getUTCDay()}function uhe(e,t){return Qt(pv.count(Ro(e)-1,e),t,2)}function che(e,t){return Qt(e.getUTCFullYear()%100,t,2)}function dhe(e,t){return e=V$(e),Qt(e.getUTCFullYear()%100,t,2)}function fhe(e,t){return Qt(e.getUTCFullYear()%1e4,t,4)}function hhe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?uf(e):uf.ceil(e),Qt(e.getUTCFullYear()%1e4,t,4)}function phe(){return"+0000"}function _O(){return"%"}function SO(e){return+e}function jO(e){return Math.floor(+e/1e3)}var Yc,G$,K$;mhe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mhe(e){return Yc=mfe(e),G$=Yc.format,Yc.parse,K$=Yc.utcFormat,Yc.utcParse,Yc}function ghe(e){return new Date(e)}function yhe(e){return e instanceof Date?+e:+new Date(+e)}function fA(e,t,r,n,i,a,s,o,l,u){var c=Zj(),f=c.invert,p=c.domain,h=u(".%L"),y=u(":%S"),g=u("%I:%M"),b=u("%I %p"),v=u("%a %d"),w=u("%b %d"),_=u("%B"),A=u("%Y");function S(j){return(l(j)<j?h:o(j)<j?y:s(j)<j?g:a(j)<j?b:n(j)<j?i(j)<j?v:w:r(j)<j?_:A)(j)}return c.invert=function(j){return new Date(f(j))},c.domain=function(j){return arguments.length?p(Array.from(j,yhe)):p().map(ghe)},c.ticks=function(j){var O=p();return e(O[0],O[O.length-1],j??10)},c.tickFormat=function(j,O){return O==null?S:u(O)},c.nice=function(j){var O=p();return(!j||typeof j.range!="function")&&(j=t(O[0],O[O.length-1],j??10)),j?p(I$(O,j)):c},c.copy=function(){return Qm(c,fA(e,t,r,n,i,a,s,o,l,u))},c}function vhe(){return Da.apply(fA(hfe,pfe,Io,cA,G1,eg,lA,sA,Ku,G$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bhe(){return Da.apply(fA(dfe,ffe,Ro,dA,K1,V1,uA,oA,Ku,K$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Y1(){var e=0,t=1,r,n,i,a,s=pi,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(p){var h,y;return arguments.length?([h,y]=p,s=f(h,y),u):[s(0),s(1)]}}return u.range=c(Yf),u.rangeRound=c(Jj),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Xl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Y$(){var e=Yl(Y1()(pi));return e.copy=function(){return Xl(e,Y$())},Uo.apply(e,arguments)}function X$(){var e=tA(Y1()).domain([1,10]);return e.copy=function(){return Xl(e,X$()).base(e.base())},Uo.apply(e,arguments)}function J$(){var e=rA(Y1());return e.copy=function(){return Xl(e,J$()).constant(e.constant())},Uo.apply(e,arguments)}function hA(){var e=nA(Y1());return e.copy=function(){return Xl(e,hA()).exponent(e.exponent())},Uo.apply(e,arguments)}function xhe(){return hA.apply(null,arguments).exponent(.5)}function Z$(){var e=[],t=pi;function r(n){if(n!=null&&!isNaN(n=+n))return t((Jm(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Rl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>sde(e,a/n))},r.copy=function(){return Z$(t).domain(e)},Uo.apply(r,arguments)}function X1(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,u=pi,c,f=!1,p;function h(g){return isNaN(g=+g)?p:(g=.5+((g=+c(g))-a)*(n*g<n*a?o:l),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,r]=g,i=c(e=+e),a=c(t=+t),s=c(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h):[e,t,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function y(g){return function(b){var v,w,_;return arguments.length?([v,w,_]=b,u=Tde(g,[v,w,_]),h):[u(0),u(.5),u(1)]}}return h.range=y(Yf),h.rangeRound=y(Jj),h.unknown=function(g){return arguments.length?(p=g,h):p},function(g){return c=g,i=g(e),a=g(t),s=g(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h}}function Q$(){var e=Yl(X1()(pi));return e.copy=function(){return Xl(e,Q$())},Uo.apply(e,arguments)}function eM(){var e=tA(X1()).domain([.1,1,10]);return e.copy=function(){return Xl(e,eM()).base(e.base())},Uo.apply(e,arguments)}function tM(){var e=rA(X1());return e.copy=function(){return Xl(e,tM()).constant(e.constant())},Uo.apply(e,arguments)}function pA(){var e=nA(X1());return e.copy=function(){return Xl(e,pA()).exponent(e.exponent())},Uo.apply(e,arguments)}function whe(){return pA.apply(null,arguments).exponent(.5)}const AO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:om,scaleDiverging:Q$,scaleDivergingLog:eM,scaleDivergingPow:pA,scaleDivergingSqrt:whe,scaleDivergingSymlog:tM,scaleIdentity:L$,scaleImplicit:U5,scaleLinear:dv,scaleLog:R$,scaleOrdinal:Kj,scalePoint:xp,scalePow:iA,scaleQuantile:D$,scaleQuantize:B$,scaleRadial:M$,scaleSequential:Y$,scaleSequentialLog:X$,scaleSequentialPow:hA,scaleSequentialQuantile:Z$,scaleSequentialSqrt:xhe,scaleSequentialSymlog:J$,scaleSqrt:tfe,scaleSymlog:$$,scaleThreshold:F$,scaleTime:vhe,scaleUtc:bhe,tickFormat:T$},Symbol.toStringTag,{value:"Module"}));var _he=Ff;function She(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(s!=null&&(o===void 0?s===s&&!_he(s):r(s,o)))var o=s,l=a}return l}var J1=She;function jhe(e,t){return e>t}var rM=jhe,Ahe=J1,Nhe=rM,khe=Kf;function Ehe(e){return e&&e.length?Ahe(e,khe,Nhe):void 0}var Ohe=Ehe;const Z1=nr(Ohe);function Phe(e,t){return e<t}var nM=Phe,Che=J1,The=nM,Lhe=Kf;function Ihe(e){return e&&e.length?Che(e,Lhe,The):void 0}var Rhe=Ihe;const Q1=nr(Rhe);var $he=Ej,Mhe=Ws,Dhe=d$,Bhe=Li;function Fhe(e,t){var r=Bhe(e)?$he:Dhe;return r(e,Mhe(t))}var Uhe=Fhe,zhe=u$,qhe=Uhe;function Whe(e,t){return zhe(qhe(e,t),1)}var Hhe=Whe;const Vhe=nr(Hhe);var Ghe=qj;function Khe(e,t){return Ghe(e,t)}var Yhe=Khe;const tg=nr(Yhe);var Xf=1e9,Xhe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gA,Ir=!0,Ia="[DecimalError] ",Qu=Ia+"Invalid argument: ",mA=Ia+"Exponent out of range: ",Jf=Math.floor,Iu=Math.pow,Jhe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zi,Pn=1e7,Or=7,iM=9007199254740991,mv=Jf(iM/Or),rt={};rt.absoluteValue=rt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};rt.comparedTo=rt.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};rt.decimalPlaces=rt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Or;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};rt.dividedBy=rt.div=function(e){return No(this,new this.constructor(e))};rt.dividedToIntegerBy=rt.idiv=function(e){var t=this,r=t.constructor;return gr(No(t,new r(e),0,1),r.precision)};rt.equals=rt.eq=function(e){return!this.cmp(e)};rt.exponent=function(){return mn(this)};rt.greaterThan=rt.gt=function(e){return this.cmp(e)>0};rt.greaterThanOrEqualTo=rt.gte=function(e){return this.cmp(e)>=0};rt.isInteger=rt.isint=function(){return this.e>this.d.length-2};rt.isNegative=rt.isneg=function(){return this.s<0};rt.isPositive=rt.ispos=function(){return this.s>0};rt.isZero=function(){return this.s===0};rt.lessThan=rt.lt=function(e){return this.cmp(e)<0};rt.lessThanOrEqualTo=rt.lte=function(e){return this.cmp(e)<1};rt.logarithm=rt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Zi))throw Error(Ia+"NaN");if(r.s<1)throw Error(Ia+(r.s?"NaN":"-Infinity"));return r.eq(Zi)?new n(0):(Ir=!1,t=No(fm(r,a),fm(e,a),a),Ir=!0,gr(t,i))};rt.minus=rt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?oM(t,e):aM(t,(e.s=-e.s,e))};rt.modulo=rt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Ia+"NaN");return r.s?(Ir=!1,t=No(r,e,0,1).times(e),Ir=!0,r.minus(t)):gr(new n(r),i)};rt.naturalExponential=rt.exp=function(){return sM(this)};rt.naturalLogarithm=rt.ln=function(){return fm(this)};rt.negated=rt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};rt.plus=rt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aM(t,e):oM(t,(e.s=-e.s,e))};rt.precision=rt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Qu+e);if(t=mn(i)+1,n=i.d.length-1,r=n*Or+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};rt.squareRoot=rt.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ia+"NaN")}for(e=mn(o),Ir=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Ps(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Jf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(No(o,a,s+2)).times(.5),Ps(a.d).slice(0,s)===(t=Ps(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(gr(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return Ir=!0,gr(n,r)};rt.times=rt.mul=function(e){var t,r,n,i,a,s,o,l,u,c=this,f=c.constructor,p=c.d,h=(e=new f(e)).d;if(!c.s||!e.s)return new f(0);for(e.s*=c.s,r=c.e+e.e,l=p.length,u=h.length,l<u&&(a=p,p=h,h=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+h[n]*p[i-n-1]+t,a[i--]=o%Pn|0,t=o/Pn|0;a[i]=(a[i]+t)%Pn|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Ir?gr(e,f.precision):e};rt.toDecimalPlaces=rt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Us(e,0,Xf),t===void 0?t=n.rounding:Us(t,0,8),gr(r,e+mn(r)+1,t))};rt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=cc(n,!0):(Us(e,0,Xf),t===void 0?t=i.rounding:Us(t,0,8),n=gr(new i(n),e+1,t),r=cc(n,!0,e+1)),r};rt.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?cc(i):(Us(e,0,Xf),t===void 0?t=a.rounding:Us(t,0,8),n=gr(new a(i),e+mn(i)+1,t),r=cc(n.abs(),!1,e+mn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};rt.toInteger=rt.toint=function(){var e=this,t=e.constructor;return gr(new t(e),mn(e)+1,t.rounding)};rt.toNumber=function(){return+this};rt.toPower=rt.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Zi);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ia+"Infinity");return o}if(o.eq(Zi))return o;if(n=l.precision,e.eq(Zi))return gr(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=c<0?-c:c)<=iM){for(i=new l(Zi),t=Math.ceil(n/Or+4),Ir=!1;r%2&&(i=i.times(o),kO(i.d,t)),r=Jf(r/2),r!==0;)o=o.times(o),kO(o.d,t);return Ir=!0,e.s<0?new l(Zi).div(i):gr(i,n)}}else if(a<0)throw Error(Ia+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Ir=!1,i=e.times(fm(o,n+u)),Ir=!0,i=sM(i),i.s=a,i};rt.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=mn(i),n=cc(i,r<=a.toExpNeg||r>=a.toExpPos)):(Us(e,1,Xf),t===void 0?t=a.rounding:Us(t,0,8),i=gr(new a(i),e,t),r=mn(i),n=cc(i,e<=r||r<=a.toExpNeg,e)),n};rt.toSignificantDigits=rt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Us(e,1,Xf),t===void 0?t=n.rounding:Us(t,0,8)),gr(new n(r),e,t)};rt.toString=rt.valueOf=rt.val=rt.toJSON=rt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=mn(e),r=e.constructor;return cc(e,t<=r.toExpNeg||t>=r.toExpPos)};function aM(e,t){var r,n,i,a,s,o,l,u,c=e.constructor,f=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Ir?gr(t,f):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(f/Or),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Pn|0,l[a]%=Pn;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,Ir?gr(t,f):t}function Us(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Qu+e)}function Ps(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Or-n.length,r&&(a+=pl(r)),a+=n;s=e[t],n=s+"",r=Or-n.length,r&&(a+=pl(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var No=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Pn|0,s=a/Pn|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Pn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,c,f,p,h,y,g,b,v,w,_,A,S,j,O,L,I=n.constructor,F=n.s==i.s?1:-1,k=n.d,P=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(Ia+"Division by zero");for(l=n.e-i.e,O=P.length,S=k.length,h=new I(F),y=h.d=[],u=0;P[u]==(k[u]||0);)++u;if(P[u]>(k[u]||0)&&--l,a==null?w=a=I.precision:s?w=a+(mn(n)-mn(i))+1:w=a,w<0)return new I(0);if(w=w/Or+2|0,u=0,O==1)for(c=0,P=P[0],w++;(u<S||c)&&w--;u++)_=c*Pn+(k[u]||0),y[u]=_/P|0,c=_%P|0;else{for(c=Pn/(P[0]+1)|0,c>1&&(P=e(P,c),k=e(k,c),O=P.length,S=k.length),A=O,g=k.slice(0,O),b=g.length;b<O;)g[b++]=0;L=P.slice(),L.unshift(0),j=P[0],P[1]>=Pn/2&&++j;do c=0,o=t(P,g,O,b),o<0?(v=g[0],O!=b&&(v=v*Pn+(g[1]||0)),c=v/j|0,c>1?(c>=Pn&&(c=Pn-1),f=e(P,c),p=f.length,b=g.length,o=t(f,g,p,b),o==1&&(c--,r(f,O<p?L:P,p))):(c==0&&(o=c=1),f=P.slice()),p=f.length,p<b&&f.unshift(0),r(g,f,b),o==-1&&(b=g.length,o=t(P,g,O,b),o<1&&(c++,r(g,O<b?L:P,b))),b=g.length):o===0&&(c++,g=[0]),y[u++]=c,o&&g[0]?g[b++]=k[A]||0:(g=[k[A]],b=1);while((A++<S||g[0]!==void 0)&&w--)}return y[0]||y.shift(),h.e=l,gr(h,s?a+mn(h)+1:a)}}();function sM(e,t){var r,n,i,a,s,o,l=0,u=0,c=e.constructor,f=c.precision;if(mn(e)>16)throw Error(mA+mn(e));if(!e.s)return new c(Zi);for(Ir=!1,o=f,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Iu(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new c(Zi),c.precision=o;;){if(i=gr(i.times(e),o),r=r.times(++l),s=a.plus(No(i,r,o)),Ps(s.d).slice(0,o)===Ps(a.d).slice(0,o)){for(;u--;)a=gr(a.times(a),o);return c.precision=f,t==null?(Ir=!0,gr(a,f)):a}a=s}}function mn(e){for(var t=e.e*Or,r=e.d[0];r>=10;r/=10)t++;return t}function u2(e,t,r){if(t>e.LN10.sd())throw Ir=!0,r&&(e.precision=r),Error(Ia+"LN10 precision limit exceeded");return gr(new e(e.LN10),t)}function pl(e){for(var t="";e--;)t+="0";return t}function fm(e,t){var r,n,i,a,s,o,l,u,c,f=1,p=10,h=e,y=h.d,g=h.constructor,b=g.precision;if(h.s<1)throw Error(Ia+(h.s?"NaN":"-Infinity"));if(h.eq(Zi))return new g(0);if(t==null?(Ir=!1,u=b):u=t,h.eq(10))return t==null&&(Ir=!0),u2(g,u);if(u+=p,g.precision=u,r=Ps(y),n=r.charAt(0),a=mn(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Ps(h.d),n=r.charAt(0),f++;a=mn(h),n>1?(h=new g("0."+r),a++):h=new g(n+"."+r.slice(1))}else return l=u2(g,u+2,b).times(a+""),h=fm(new g(n+"."+r.slice(1)),u-p).plus(l),g.precision=b,t==null?(Ir=!0,gr(h,b)):h;for(o=s=h=No(h.minus(Zi),h.plus(Zi),u),c=gr(h.times(h),u),i=3;;){if(s=gr(s.times(c),u),l=o.plus(No(s,new g(i),u)),Ps(l.d).slice(0,u)===Ps(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(u2(g,u+2,b).times(a+""))),o=No(o,new g(f),u),g.precision=b,t==null?(Ir=!0,gr(o,b)):o;o=l,i+=2}}function NO(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Jf(r/Or),e.d=[],n=(r+1)%Or,r<0&&(n+=Or),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Or;n<i;)e.d.push(+t.slice(n,n+=Or));t=t.slice(n),n=Or-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ir&&(e.e>mv||e.e<-mv))throw Error(mA+r)}else e.s=0,e.e=0,e.d=[0];return e}function gr(e,t,r){var n,i,a,s,o,l,u,c,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Or,i=t,u=f[c=0];else{if(c=Math.ceil((n+1)/Or),a=f.length,c>=a)return e;for(u=a=f[c],s=1;a>=10;a/=10)s++;n%=Or,i=n-Or+s}if(r!==void 0&&(a=Iu(10,s-i-1),o=u/a%10|0,l=t<0||f[c+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/Iu(10,s-i):0:f[c-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(a=mn(e),f.length=1,t=t-a-1,f[0]=Iu(10,(Or-t%Or)%Or),e.e=Jf(-t/Or)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=c,a=1,c--):(f.length=c+1,a=Iu(10,Or-n),f[c]=i>0?(u/Iu(10,s-i)%Iu(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==Pn&&(f[0]=1,++e.e);break}else{if(f[c]+=a,f[c]!=Pn)break;f[c--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Ir&&(e.e>mv||e.e<-mv))throw Error(mA+mn(e));return e}function oM(e,t){var r,n,i,a,s,o,l,u,c,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Ir?gr(t,h):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),s=u-n,s){for(c=s<0,c?(r=l,s=-s,o=f.length):(r=f,n=u,o=l.length),i=Math.max(Math.ceil(h/Or),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Pn-1;--l[a],l[i]+=Pn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Ir?gr(t,h):t):new p(0)}function cc(e,t,r){var n,i=mn(e),a=Ps(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+pl(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+pl(-i-1)+a,r&&(n=r-s)>0&&(a+=pl(n))):i>=s?(a+=pl(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+pl(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=pl(n))),e.s<0?"-"+a:a}function kO(e,t){if(e.length>t)return e.length=t,!0}function lM(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Qu+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return NO(s,a.toString())}else if(typeof a!="string")throw Error(Qu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Jhe.test(a))NO(s,a);else throw Error(Qu+a)}if(i.prototype=rt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lM,i.config=i.set=Zhe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Zhe(e){if(!e||typeof e!="object")throw Error(Ia+"Object expected");var t,r,n,i=["precision",1,Xf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Jf(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Qu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Qu+r+": "+n);return this}var gA=lM(Xhe);Zi=new gA(1);const fr=gA;function Qhe(e){return npe(e)||rpe(e)||tpe(e)||epe()}function epe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tpe(e,t){if(e){if(typeof e=="string")return H5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H5(e,t)}}function rpe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function npe(e){if(Array.isArray(e))return H5(e)}function H5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ipe=function(t){return t},uM={},cM=function(t){return t===uM},EO=function(t){return function r(){return arguments.length===0||arguments.length===1&&cM(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},ape=function e(t,r){return t===1?r:EO(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==uM}).length;return s>=t?r.apply(void 0,i):e(t-s,EO(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var c=i.map(function(f){return cM(f)?l.shift():f});return r.apply(void 0,Qhe(c).concat(l))}))})},eb=function(t){return ape(t.length,t)},V5=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},spe=eb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),ope=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return ipe;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},G5=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},dM=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=t.apply(void 0,a)),n}};function lpe(e){var t;return e===0?t=1:t=Math.floor(new fr(e).abs().log(10).toNumber())+1,t}function upe(e,t,r){for(var n=new fr(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var cpe=eb(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),dpe=eb(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),fpe=eb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const tb={rangeStep:upe,getDigitCount:lpe,interpolateNumber:cpe,uninterpolateNumber:dpe,uninterpolateTruncation:fpe};function K5(e){return mpe(e)||ppe(e)||fM(e)||hpe()}function hpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ppe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function mpe(e){if(Array.isArray(e))return Y5(e)}function hm(e,t){return vpe(e)||ype(e,t)||fM(e,t)||gpe()}function gpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fM(e,t){if(e){if(typeof e=="string")return Y5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y5(e,t)}}function Y5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ype(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function vpe(e){if(Array.isArray(e))return e}function hM(e){var t=hm(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function pM(e,t,r){if(e.lte(0))return new fr(0);var n=tb.getDigitCount(e.toNumber()),i=new fr(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new fr(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?l:new fr(Math.ceil(l))}function bpe(e,t,r){var n=1,i=new fr(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new fr(10).pow(tb.getDigitCount(e)-1),i=new fr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new fr(Math.floor(e)))}else e===0?i=new fr(Math.floor((t-1)/2)):r||(i=new fr(Math.floor(e)));var s=Math.floor((t-1)/2),o=ope(spe(function(l){return i.add(new fr(l-s).mul(n)).toNumber()}),V5);return o(0,t)}function mM(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new fr(0),tickMin:new fr(0),tickMax:new fr(0)};var a=pM(new fr(t).sub(e).div(r-1),n,i),s;e<=0&&t>=0?s=new fr(0):(s=new fr(e).add(t).div(2),s=s.sub(new fr(s).mod(a)));var o=Math.ceil(s.sub(e).div(a).toNumber()),l=Math.ceil(new fr(t).sub(s).div(a).toNumber()),u=o+l+1;return u>r?mM(e,t,r,n,i+1):(u<r&&(l=t>0?l+(r-u):l,o=t>0?o:o+(r-u)),{step:a,tickMin:s.sub(new fr(o).mul(a)),tickMax:s.add(new fr(l).mul(a))})}function xpe(e){var t=hm(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=hM([r,n]),l=hm(o,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(K5(V5(0,i-1).map(function(){return 1/0}))):[].concat(K5(V5(0,i-1).map(function(){return-1/0})),[c]);return r>n?G5(f):f}if(u===c)return bpe(u,i,a);var p=mM(u,c,s,a),h=p.step,y=p.tickMin,g=p.tickMax,b=tb.rangeStep(y,g.add(new fr(.1).mul(h)),h);return r>n?G5(b):b}function wpe(e,t){var r=hm(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=hM([n,i]),o=hm(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var c=Math.max(t,2),f=pM(new fr(u).sub(l).div(c-1),a,0),p=[].concat(K5(tb.rangeStep(new fr(l),new fr(u).sub(new fr(.99).mul(f)),f)),[u]);return n>i?G5(p):p}var _pe=dM(xpe),Spe=dM(wpe),jpe="Invariant failed";function dc(e,t){throw new Error(jpe)}var Ape=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(this,arguments)}function Npe(e,t){return Ppe(e)||Ope(e,t)||Epe(e,t)||kpe()}function kpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Epe(e,t){if(e){if(typeof e=="string")return OO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OO(e,t)}}function OO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ope(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Ppe(e){if(Array.isArray(e))return e}function Cpe(e,t){if(e==null)return{};var r=Tpe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ipe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vM(n.key),n)}}function Rpe(e,t,r){return t&&Ipe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $pe(e,t,r){return t=yv(t),Mpe(e,gM()?Reflect.construct(t,r||[],yv(e).constructor):t.apply(e,r))}function Mpe(e,t){if(t&&(cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dpe(e)}function Dpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gM=function(){return!!e})()}function yv(e){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yv(e)}function Bpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X5(e,t)}function X5(e,t){return X5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X5(e,t)}function yM(e,t,r){return t=vM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vM(e){var t=Fpe(e,"string");return cf(t)=="symbol"?t:t+""}function Fpe(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rg=function(e){function t(){return Lpe(this,t),$pe(this,t,arguments)}return Bpe(t,e),Rpe(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,u=n.dataPointFormatter,c=n.xAxis,f=n.yAxis,p=Cpe(n,Ape),h=xt(p,!1);this.props.direction==="x"&&c.type!=="number"&&dc();var y=l.map(function(g){var b=u(g,o),v=b.x,w=b.y,_=b.value,A=b.errorVal;if(!A)return null;var S=[],j,O;if(Array.isArray(A)){var L=Npe(A,2);j=L[0],O=L[1]}else j=O=A;if(a==="vertical"){var I=c.scale,F=w+i,k=F+s,P=F-s,M=I(_-j),D=I(_+O);S.push({x1:D,y1:k,x2:D,y2:P}),S.push({x1:M,y1:F,x2:D,y2:F}),S.push({x1:M,y1:k,x2:M,y2:P})}else if(a==="horizontal"){var U=f.scale,H=v+i,V=H-s,B=H+s,J=U(_-j),$=U(_+O);S.push({x1:V,y1:$,x2:B,y2:$}),S.push({x1:H,y1:J,x2:H,y2:$}),S.push({x1:V,y1:J,x2:B,y2:J})}return oe.createElement(Zt,gv({className:"recharts-errorBar",key:"bar-".concat(S.map(function(ae){return"".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))},h),S.map(function(ae){return oe.createElement("line",gv({},ae,{key:"line-".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))}))});return oe.createElement(Zt,{className:"recharts-errorBars"},y)}}])}(oe.Component);yM(rg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});yM(rg,"displayName","ErrorBar");function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){Upe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Upe(e,t,r){return t=zpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zpe(e){var t=qpe(e,"string");return pm(t)=="symbol"?t:t+""}function qpe(e,t){if(pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bM=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,s=Ki(r,$s);if(!s)return null;var o=$s.defaultProps,l=o!==void 0?Nu(Nu({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(n||[]).reduce(function(c,f){var p=f.item,h=f.props,y=h.sectors||h.data||[];return c.concat(y.map(function(g){return{type:s.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(c){var f=c.item,p=f.type.defaultProps,h=p!==void 0?Nu(Nu({},p),f.props):{},y=h.dataKey,g=h.name,b=h.legendType,v=h.hide;return{inactive:v,dataKey:y,type:l.iconType||b||"square",color:yA(f),value:g||y,payload:h}}),Nu(Nu(Nu({},l),$s.getWithHeight(s,i)),{},{payload:u,item:s})};function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function CO(e){return Gpe(e)||Vpe(e)||Hpe(e)||Wpe()}function Wpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hpe(e,t){if(e){if(typeof e=="string")return J5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J5(e,t)}}function Vpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gpe(e){if(Array.isArray(e))return J5(e)}function J5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){$d(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $d(e,t,r){return t=Kpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kpe(e){var t=Ype(e,"string");return mm(t)=="symbol"?t:t+""}function Ype(e,t){if(mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function An(e,t,r){return $t(e)||$t(t)?r:kn(t)?na(e,t,r):Nt(t)?t(e):r}function wp(e,t,r,n){var i=Vhe(e,function(o){return An(o,t)});if(r==="number"){var a=i.filter(function(o){return Ge(o)||parseFloat(o)});return a.length?[Q1(a),Z1(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!$t(o)}):i;return s.map(function(o){return kn(o)||o instanceof Date?o:""})}var Xpe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<o;u++){var c=u>0?i[u-1].coordinate:i[o-1].coordinate,f=i[u].coordinate,p=u>=o-1?i[0].coordinate:i[u+1].coordinate,h=void 0;if(fi(f-c)!==fi(p-f)){var y=[];if(fi(p-f)===fi(l[1]-l[0])){h=p;var g=f+l[1]-l[0];y[0]=Math.min(g,(g+c)/2),y[1]=Math.max(g,(g+c)/2)}else{h=c;var b=p+l[1]-l[0];y[0]=Math.min(f,(b+f)/2),y[1]=Math.max(f,(b+f)/2)}var v=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>v[0]&&t<=v[1]||t>=y[0]&&t<=y[1]){s=i[u].index;break}}else{var w=Math.min(c,p),_=Math.max(c,p);if(t>(w+f)/2&&t<=(_+f)/2){s=i[u].index;break}}}else for(var A=0;A<o;A++)if(A===0&&t<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<o-1&&t>(n[A].coordinate+n[A-1].coordinate)/2&&t<=(n[A].coordinate+n[A+1].coordinate)/2||A===o-1&&t>(n[A].coordinate+n[A-1].coordinate)/2){s=n[A].index;break}return s},yA=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Kr(Kr({},t.type.defaultProps),t.props):t.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},Jpe=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,u=o.length;l<u;l++)for(var c=a[o[l]].stackGroups,f=Object.keys(c),p=0,h=f.length;p<h;p++){var y=c[f[p]],g=y.items,b=y.cateAxisId,v=g.filter(function(O){return Ao(O.type).indexOf("Bar")>=0});if(v&&v.length){var w=v[0].type.defaultProps,_=w!==void 0?Kr(Kr({},w),v[0].props):v[0].props,A=_.barSize,S=_[b];s[S]||(s[S]=[]);var j=$t(A)?r:A;s[S].push({item:v[0],stackList:v.slice(1),barSize:$t(j)?void 0:hi(j,n,0)})}}return s},Zpe=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,s=a===void 0?[]:a,o=t.maxBarSize,l=s.length;if(l<1)return null;var u=hi(r,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var p=!1,h=i/l,y=s.reduce(function(A,S){return A+S.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&h>0&&(p=!0,h*=.9,y=l*h);var g=(i-y)/2>>0,b={offset:g-u,size:0};c=s.reduce(function(A,S){var j={item:S.item,position:{offset:b.offset+b.size+u,size:p?h:S.barSize}},O=[].concat(CO(A),[j]);return b=O[O.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(L){O.push({item:L,position:b})}),O},f)}else{var v=hi(n,i,0,!0);i-2*v-(l-1)*u<=0&&(u=0);var w=(i-2*v-(l-1)*u)/l;w>1&&(w>>=0);var _=o===+o?Math.min(w,o):w;c=s.reduce(function(A,S,j){var O=[].concat(CO(A),[{item:S.item,position:{offset:v+(w+u)*j+(w-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(L){O.push({item:L,position:O[O.length-1].position})}),O},f)}return c},Qpe=function(t,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),u=bM({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,p=c.height,h=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&h!=="center"&&Ge(t[h]))return Kr(Kr({},t),{},$d({},h,t[h]+(f||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&y!=="middle"&&Ge(t[y]))return Kr(Kr({},t),{},$d({},y,t[y]+(p||0)))}return t},eme=function(t,r,n){return $t(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},xM=function(t,r,n,i,a){var s=r.props.children,o=ia(s,rg).filter(function(u){return eme(i,a,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return t.reduce(function(u,c){var f=An(c,n);if($t(f))return u;var p=Array.isArray(f)?[Q1(f),Z1(f)]:[f,f],h=l.reduce(function(y,g){var b=An(c,g,0),v=p[0]-Math.abs(Array.isArray(b)?b[0]:b),w=p[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(v,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},tme=function(t,r,n,i,a){var s=r.map(function(o){return xM(t,o,n,a,i)}).filter(function(o){return!$t(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},wM=function(t,r,n,i,a){var s=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&xM(t,l,u,i)||wp(t,u,n,a)});if(n==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)o[u[c]]||(o[u[c]]=!0,l.push(u[c]));return l},[])},_M=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},SM=function(t,r,n,i){if(i)return t.map(function(l){return l.coordinate});var a,s,o=t.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},_o=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?fi(o[0]-o[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var c=(t.ticks||t.niceTicks).map(function(f){var p=a?a.indexOf(f):f;return{coordinate:i(p)+u,value:f,offset:u}});return c.filter(function(f){return!Gm(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:i(f)+u,value:f,index:p,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,p){return{coordinate:i(f)+u,value:a?a[f]:f,index:p,offset:u}})},c2=new WeakMap,S0=function(t,r){if(typeof r!="function")return t;c2.has(t)||c2.set(t,new WeakMap);var n=c2.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},jM=function(t,r,n){var i=t.scale,a=t.type,s=t.layout,o=t.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:om(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:dv(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:xp(),realScaleType:"point"}:a==="category"?{scale:om(),realScaleType:"band"}:{scale:dv(),realScaleType:"linear"};if(oc(i)){var l="scale".concat(D1(i));return{scale:(AO[l]||xp)(),realScaleType:AO[l]?l:"point"}}return Nt(i)?{scale:i}:{scale:xp(),realScaleType:"point"}},LO=1e-4,AM=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-LO,s=Math.max(i[0],i[1])+LO,o=t(r[0]),l=t(r[n-1]);(o<a||o>s||l<a||l>s)&&t.domain([r[0],r[n-1]])}},rme=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},nme=function(t,r){if(!r||r.length!==2||!Ge(r[0])||!Ge(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!Ge(t[0])||t[0]<n)&&(a[0]=n),(!Ge(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},ime=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=Gm(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},ame=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=Gm(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=a,t[s][n][1]=a+o,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},sme={sign:ime,expand:Ate,none:tf,silhouette:Nte,wiggle:kte,positive:ame},ome=function(t,r,n){var i=r.map(function(o){return o.props.dataKey}),a=sme[n],s=jte().keys(i).value(function(o,l){return+An(o,l,0)}).order(_5).offset(a);return s(t)},lme=function(t,r,n,i,a,s){if(!t)return null;var o=s?r.reverse():r,l={},u=o.reduce(function(f,p){var h,y=(h=p.type)!==null&&h!==void 0&&h.defaultProps?Kr(Kr({},p.type.defaultProps),p.props):p.props,g=y.stackId,b=y.hide;if(b)return f;var v=y[n],w=f[v]||{hasStack:!1,stackGroups:{}};if(kn(g)){var _=w.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(p),w.hasStack=!0,w.stackGroups[g]=_}else w.stackGroups[Hf("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return Kr(Kr({},f),{},$d({},v,w))},l),c={};return Object.keys(u).reduce(function(f,p){var h=u[p];if(h.hasStack){var y={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,b){var v=h.stackGroups[b];return Kr(Kr({},g),{},$d({},b,{numericAxisId:n,cateAxisId:i,items:v.items,stackedData:ome(t,v.items,a)}))},y)}return Kr(Kr({},f),{},$d({},p,h))},c)},NM=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var c=_pe(u,a,o);return t.domain([Q1(c),Z1(c)]),{niceTicks:c}}if(a&&i==="number"){var f=t.domain(),p=Spe(f,a,o);return{niceTicks:p}}return null};function IO(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!$t(i[t.dataKey])){var o=Wy(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=An(i,$t(s)?t.dataKey:s);return $t(l)?null:t.scale(l)}var RO=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=An(s,r.dataKey,r.domain[o]);return $t(l)?null:r.scale(l)-a/2+i},ume=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},cme=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Kr(Kr({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(kn(a)){var s=r[a];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},dme=function(t){return t.reduce(function(r,n){return[Q1(n.concat([r[0]]).filter(Ge)),Z1(n.concat([r[1]]).filter(Ge))]},[1/0,-1/0])},kM=function(t,r,n){return Object.keys(t).reduce(function(i,a){var s=t[a],o=s.stackedData,l=o.reduce(function(u,c){var f=dme(c.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},$O=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z5=function(t,r,n){if(Nt(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(Ge(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if($O.test(t[0])){var a=+$O.exec(t[0])[1];i[0]=r[0]-a}else Nt(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Ge(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(MO.test(t[1])){var s=+MO.exec(t[1])[1];i[1]=r[1]+s}else Nt(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},vv=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=Hj(r,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],c=a[o-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},DO=function(t,r,n){return!t||!t.length||tg(t,na(n,"type.defaultProps.domain"))?r:t},EM=function(t,r){var n=t.type.defaultProps?Kr(Kr({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,u=n.chartType,c=n.hide;return Kr(Kr({},xt(t,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:yA(t),value:An(r,i),type:l,payload:r,chartType:u,hide:c})};function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function BO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(r),!0).forEach(function(n){OM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OM(e,t,r){return t=fme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fme(e){var t=hme(e,"string");return gm(t)=="symbol"?t:t+""}function hme(e,t){if(gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pme(e,t){return vme(e)||yme(e,t)||gme(e,t)||mme()}function mme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gme(e,t){if(e){if(typeof e=="string")return FO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FO(e,t)}}function FO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function vme(e){if(Array.isArray(e))return e}var bv=Math.PI/180,bme=function(t){return t*180/Math.PI},Ar=function(t,r,n,i){return{x:t+Math.cos(-bv*i)*n,y:r+Math.sin(-bv*i)*n}},PM=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},xme=function(t,r,n,i,a){var s=t.width,o=t.height,l=t.startAngle,u=t.endAngle,c=hi(t.cx,s,s/2),f=hi(t.cy,o,o/2),p=PM(s,o,n),h=hi(t.innerRadius,p,0),y=hi(t.outerRadius,p,p*.8),g=Object.keys(r);return g.reduce(function(b,v){var w=r[v],_=w.domain,A=w.reversed,S;if($t(w.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[h,y]),A&&(S=[S[1],S[0]]);else{S=w.range;var j=S,O=pme(j,2);l=O[0],u=O[1]}var L=jM(w,a),I=L.realScaleType,F=L.scale;F.domain(_).range(S),AM(F);var k=NM(F,ho(ho({},w),{},{realScaleType:I})),P=ho(ho(ho({},w),k),{},{range:S,radius:y,realScaleType:I,scale:F,cx:c,cy:f,innerRadius:h,outerRadius:y,startAngle:l,endAngle:u});return ho(ho({},b),{},OM({},v,P))},{})},wme=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},_me=function(t,r){var n=t.x,i=t.y,a=r.cx,s=r.cy,o=wme({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:o,angle:bme(u),angleInRadian:u}},Sme=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},jme=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return t+o*360},UO=function(t,r){var n=t.x,i=t.y,a=_me({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,u=r.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=Sme(r),f=c.startAngle,p=c.endAngle,h=o,y;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;y=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;y=h>=p&&h<=f}return y?ho(ho({},r),{},{radius:s,angle:jme(h,r)}):null},CM=function(t){return!X.isValidElement(t)&&!Nt(t)&&typeof t!="boolean"?t.className:""};function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}var Ame=["offset"];function Nme(e){return Pme(e)||Ome(e)||Eme(e)||kme()}function kme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eme(e,t){if(e){if(typeof e=="string")return Q5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q5(e,t)}}function Ome(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pme(e){if(Array.isArray(e))return Q5(e)}function Q5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cme(e,t){if(e==null)return{};var r=Tme(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){Lme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lme(e,t,r){return t=Ime(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ime(e){var t=Rme(e,"string");return ym(t)=="symbol"?t:t+""}function Rme(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vm.apply(this,arguments)}var $me=function(t){var r=t.value,n=t.formatter,i=$t(t.children)?r:t.children;return Nt(n)?n(i):i},Mme=function(t,r){var n=fi(r-t),i=Math.min(Math.abs(r-t),360);return n*i},Dme=function(t,r,n){var i=t.position,a=t.viewBox,s=t.offset,o=t.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,p=l.outerRadius,h=l.startAngle,y=l.endAngle,g=l.clockWise,b=(f+p)/2,v=Mme(h,y),w=v>=0?1:-1,_,A;i==="insideStart"?(_=h+w*s,A=g):i==="insideEnd"?(_=y-w*s,A=!g):i==="end"&&(_=y+w*s,A=g),A=v<=0?A:!A;var S=Ar(u,c,b,_),j=Ar(u,c,b,_+(A?1:-1)*359),O="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(A?0:1,`,
    `).concat(j.x,",").concat(j.y),L=$t(t.id)?Hf("recharts-radial-line-"):t.id;return oe.createElement("text",vm({},n,{dominantBaseline:"central",className:Ut("recharts-radial-bar-label",o)}),oe.createElement("defs",null,oe.createElement("path",{id:L,d:O})),oe.createElement("textPath",{xlinkHref:"#".concat(L)},r))},Bme=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,p=(c+f)/2;if(i==="outside"){var h=Ar(s,o,u+n,p),y=h.x,g=h.y;return{x:y,y:g,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,v=Ar(s,o,b,p),w=v.x,_=v.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Fme=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,s=r,o=s.x,l=s.y,u=s.width,c=s.height,f=c>=0?1:-1,p=f*i,h=f>0?"end":"start",y=f>0?"start":"end",g=u>=0?1:-1,b=g*i,v=g>0?"end":"start",w=g>0?"start":"end";if(a==="top"){var _={x:o+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return _n(_n({},_),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var A={x:o+u/2,y:l+c+p,textAnchor:"middle",verticalAnchor:y};return _n(_n({},A),n?{height:Math.max(n.y+n.height-(l+c),0),width:u}:{})}if(a==="left"){var S={x:o-b,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return _n(_n({},S),n?{width:Math.max(S.x-n.x,0),height:c}:{})}if(a==="right"){var j={x:o+u+b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return _n(_n({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:c}:{})}var O=n?{width:u,height:c}:{};return a==="insideLeft"?_n({x:o+b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},O):a==="insideRight"?_n({x:o+u-b,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},O):a==="insideTop"?_n({x:o+u/2,y:l+p,textAnchor:"middle",verticalAnchor:y},O):a==="insideBottom"?_n({x:o+u/2,y:l+c-p,textAnchor:"middle",verticalAnchor:h},O):a==="insideTopLeft"?_n({x:o+b,y:l+p,textAnchor:w,verticalAnchor:y},O):a==="insideTopRight"?_n({x:o+u-b,y:l+p,textAnchor:v,verticalAnchor:y},O):a==="insideBottomLeft"?_n({x:o+b,y:l+c-p,textAnchor:w,verticalAnchor:h},O):a==="insideBottomRight"?_n({x:o+u-b,y:l+c-p,textAnchor:v,verticalAnchor:h},O):Uf(a)&&(Ge(a.x)||Vu(a.x))&&(Ge(a.y)||Vu(a.y))?_n({x:o+hi(a.x,u),y:l+hi(a.y,c),textAnchor:"end",verticalAnchor:"end"},O):_n({x:o+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},O)},Ume=function(t){return"cx"in t&&Ge(t.cx)};function Ln(e){var t=e.offset,r=t===void 0?5:t,n=Cme(e,Ame),i=_n({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,p=i.textBreakAll;if(!a||$t(o)&&$t(l)&&!X.isValidElement(u)&&!Nt(u))return null;if(X.isValidElement(u))return X.cloneElement(u,i);var h;if(Nt(u)){if(h=X.createElement(u,i),X.isValidElement(h))return h}else h=$me(i);var y=Ume(a),g=xt(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Dme(i,h,g);var b=y?Bme(i):Fme(i);return oe.createElement(uc,vm({className:Ut("recharts-label",f)},g,b,{breakAll:p}),h)}Ln.displayName="Label";var TM=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,u=t.innerRadius,c=t.outerRadius,f=t.x,p=t.y,h=t.top,y=t.left,g=t.width,b=t.height,v=t.clockWise,w=t.labelViewBox;if(w)return w;if(Ge(g)&&Ge(b)){if(Ge(f)&&Ge(p))return{x:f,y:p,width:g,height:b};if(Ge(h)&&Ge(y))return{x:h,y,width:g,height:b}}return Ge(f)&&Ge(p)?{x:f,y:p,width:0,height:0}:Ge(r)&&Ge(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||o||0,clockWise:v}:t.viewBox?t.viewBox:{}},zme=function(t,r){return t?t===!0?oe.createElement(Ln,{key:"label-implicit",viewBox:r}):kn(t)?oe.createElement(Ln,{key:"label-implicit",viewBox:r,value:t}):X.isValidElement(t)?t.type===Ln?X.cloneElement(t,{key:"label-implicit",viewBox:r}):oe.createElement(Ln,{key:"label-implicit",content:t,viewBox:r}):Nt(t)?oe.createElement(Ln,{key:"label-implicit",content:t,viewBox:r}):Uf(t)?oe.createElement(Ln,vm({viewBox:r},t,{key:"label-implicit"})):null:null},qme=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=TM(t),s=ia(i,Ln).map(function(l,u){return X.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return s;var o=zme(t.label,r||a);return[o].concat(Nme(s))};Ln.parseViewBox=TM;Ln.renderCallByParent=qme;function Wme(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Hme=Wme;const Vme=nr(Hme);function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}var Gme=["valueAccessor"],Kme=["data","dataKey","clockWise","id","textBreakAll"];function Yme(e){return Qme(e)||Zme(e)||Jme(e)||Xme()}function Xme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jme(e,t){if(e){if(typeof e=="string")return e_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e_(e,t)}}function Zme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qme(e){if(Array.isArray(e))return e_(e)}function e_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xv.apply(this,arguments)}function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(n){ege(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ege(e,t,r){return t=tge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tge(e){var t=rge(e,"string");return bm(t)=="symbol"?t:t+""}function rge(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HO(e,t){if(e==null)return{};var r=nge(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ige=function(t){return Array.isArray(t.value)?Vme(t.value):t.value};function ko(e){var t=e.valueAccessor,r=t===void 0?ige:t,n=HO(e,Gme),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,u=HO(n,Kme);return!i||!i.length?null:oe.createElement(Zt,{className:"recharts-label-list"},i.map(function(c,f){var p=$t(a)?r(c,f):An(c&&c.payload,a),h=$t(o)?{}:{id:"".concat(o,"-").concat(f)};return oe.createElement(Ln,xv({},xt(c,!0),u,h,{parentViewBox:c.parentViewBox,value:p,textBreakAll:l,viewBox:Ln.parseViewBox($t(s)?c:WO(WO({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}ko.displayName="LabelList";function age(e,t){return e?e===!0?oe.createElement(ko,{key:"labelList-implicit",data:t}):oe.isValidElement(e)||Nt(e)?oe.createElement(ko,{key:"labelList-implicit",data:t,content:e}):Uf(e)?oe.createElement(ko,xv({data:t},e,{key:"labelList-implicit"})):null:null}function sge(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=ia(n,ko).map(function(s,o){return X.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return i;var a=age(e.label,t);return[a].concat(Yme(i))}ko.renderCallByParent=sge;function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t_.apply(this,arguments)}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){oge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oge(e,t,r){return t=lge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lge(e){var t=uge(e,"string");return xm(t)=="symbol"?t:t+""}function uge(e,t){if(xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cge=function(t,r){var n=fi(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},j0=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,c=l*(o?1:-1)+i,f=Math.asin(l/c)/bv,p=u?a:a+s*f,h=Ar(r,n,c,p),y=Ar(r,n,i,p),g=u?a-s*f:a,b=Ar(r,n,c*Math.cos(f*bv),g);return{center:h,circleTangency:y,lineTangency:b,theta:f}},LM=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.startAngle,o=t.endAngle,l=cge(s,o),u=s+l,c=Ar(r,n,a,s),f=Ar(r,n,a,u),p="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=Ar(r,n,i,s),y=Ar(r,n,i,u);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},dge=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,c=t.endAngle,f=fi(c-u),p=j0({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),h=p.circleTangency,y=p.lineTangency,g=p.theta,b=j0({cx:r,cy:n,radius:a,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:l}),v=b.circleTangency,w=b.lineTangency,_=b.theta,A=l?Math.abs(u-c):Math.abs(u-c)-g-_;if(A<0)return o?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):LM({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var j=j0({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=j.circleTangency,L=j.lineTangency,I=j.theta,F=j0({cx:r,cy:n,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=F.circleTangency,P=F.lineTangency,M=F.theta,D=l?Math.abs(u-c):Math.abs(u-c)-I-M;if(D<0&&s===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(L.x,",").concat(L.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},fge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},IM=function(t){var r=GO(GO({},fge),t),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,c=r.startAngle,f=r.endAngle,p=r.className;if(s<a||c===f)return null;var h=Ut("recharts-sector",p),y=s-a,g=hi(o,y,0,!0),b;return g>0&&Math.abs(c-f)<360?b=dge({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):b=LM({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:c,endAngle:f}),oe.createElement("path",t_({},xt(r,!0),{className:h,d:b,role:"img"}))};function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r_.apply(this,arguments)}function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(n){hge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hge(e,t,r){return t=pge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pge(e){var t=mge(e,"string");return wm(t)=="symbol"?t:t+""}function mge(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XO={curveBasisClosed:hte,curveBasisOpen:pte,curveBasis:fte,curveBumpX:Zee,curveBumpY:Qee,curveLinearClosed:mte,curveLinear:F1,curveMonotoneX:gte,curveMonotoneY:yte,curveNatural:vte,curveStep:bte,curveStepAfter:wte,curveStepBefore:xte},A0=function(t){return t.x===+t.x&&t.y===+t.y},Hh=function(t){return t.x},Vh=function(t){return t.y},gge=function(t,r){if(Nt(t))return t;var n="curve".concat(D1(t));return(n==="curveMonotone"||n==="curveBump")&&r?XO["".concat(n).concat(r==="vertical"?"Y":"X")]:XO[n]||F1},yge=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,s=t.baseLine,o=t.layout,l=t.connectNulls,u=l===void 0?!1:l,c=gge(n,o),f=u?a.filter(function(g){return A0(g)}):a,p;if(Array.isArray(s)){var h=u?s.filter(function(g){return A0(g)}):s,y=f.map(function(g,b){return YO(YO({},g),{},{base:h[b]})});return o==="vertical"?p=m0().y(Vh).x1(Hh).x0(function(g){return g.base.x}):p=m0().x(Hh).y1(Vh).y0(function(g){return g.base.y}),p.defined(A0).curve(c),p(y)}return o==="vertical"&&Ge(s)?p=m0().y(Vh).x1(Hh).x0(s):Ge(s)?p=m0().x(Hh).y1(Vh).y0(s):p=ER().x(Hh).y(Vh),p.defined(A0).curve(c),p(f)},wv=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?yge(t):i;return X.createElement("path",r_({},xt(t,!1),Hy(t),{className:Ut("recharts-curve",r),d:s,ref:a}))},RM={exports:{}},vge="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bge=vge,xge=bge;function $M(){}function MM(){}MM.resetWarningCache=$M;var wge=function(){function e(n,i,a,s,o,l){if(l!==xge){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:MM,resetWarningCache:$M};return r.PropTypes=r,r};RM.exports=wge();var _ge=RM.exports;const sr=nr(_ge);var Sge=Object.getOwnPropertyNames,jge=Object.getOwnPropertySymbols,Age=Object.prototype.hasOwnProperty;function JO(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function N0(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var l=e(r,n,i);return a.delete(r),a.delete(n),l}}function Nge(e){return e!=null?e[Symbol.toStringTag]:void 0}function ZO(e){return Sge(e).concat(jge(e))}var kge=Object.hasOwn||function(e,t){return Age.call(e,t)};function jc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Ege="__v",Oge="__o",Pge="_owner",QO=Object.getOwnPropertyDescriptor,eP=Object.keys;function Cge(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Tge(e,t){return jc(e.getTime(),t.getTime())}function Lge(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Ige(e,t){return e===t}function tP(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var u=t.entries(),c=!1,f=0;(o=u.next())&&!o.done;){if(i[f]){f++;continue}var p=s.value,h=o.value;if(r.equals(p[0],h[0],l,f,e,t,r)&&r.equals(p[1],h[1],p[0],h[0],e,t,r)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var Rge=jc;function $ge(e,t,r){var n=eP(e),i=n.length;if(eP(t).length!==i)return!1;for(;i-- >0;)if(!DM(e,t,r,n[i]))return!1;return!0}function Gh(e,t,r){var n=ZO(e),i=n.length;if(ZO(t).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!DM(e,t,r,a)||(s=QO(e,a),o=QO(t,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function Mge(e,t){return jc(e.valueOf(),t.valueOf())}function Dge(e,t){return e.source===t.source&&e.flags===t.flags}function rP(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),s,o;(s=a.next())&&!s.done;){for(var l=t.values(),u=!1,c=0;(o=l.next())&&!o.done;){if(!i[c]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Bge(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Fge(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function DM(e,t,r,n){return(n===Pge||n===Oge||n===Ege)&&(e.$$typeof||t.$$typeof)?!0:kge(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Uge="[object Arguments]",zge="[object Boolean]",qge="[object Date]",Wge="[object Error]",Hge="[object Map]",Vge="[object Number]",Gge="[object Object]",Kge="[object RegExp]",Yge="[object Set]",Xge="[object String]",Jge="[object URL]",Zge=Array.isArray,nP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,iP=Object.assign,Qge=Object.prototype.toString.call.bind(Object.prototype.toString);function e0e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,c=e.areSetsEqual,f=e.areTypedArraysEqual,p=e.areUrlsEqual,h=e.unknownTagComparators;return function(g,b,v){if(g===b)return!0;if(g==null||b==null)return!1;var w=typeof g;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?s(g,b,v):w==="function"?i(g,b,v):!1;var _=g.constructor;if(_!==b.constructor)return!1;if(_===Object)return o(g,b,v);if(Zge(g))return t(g,b,v);if(nP!=null&&nP(g))return f(g,b,v);if(_===Date)return r(g,b,v);if(_===RegExp)return u(g,b,v);if(_===Map)return a(g,b,v);if(_===Set)return c(g,b,v);var A=Qge(g);if(A===qge)return r(g,b,v);if(A===Kge)return u(g,b,v);if(A===Hge)return a(g,b,v);if(A===Yge)return c(g,b,v);if(A===Gge)return typeof g.then!="function"&&typeof b.then!="function"&&o(g,b,v);if(A===Jge)return p(g,b,v);if(A===Wge)return n(g,b,v);if(A===Uge)return o(g,b,v);if(A===zge||A===Vge||A===Xge)return l(g,b,v);if(h){var S=h[A];if(!S){var j=Nge(g);j&&(S=h[j])}if(S)return S(g,b,v)}return!1}}function t0e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Gh:Cge,areDatesEqual:Tge,areErrorsEqual:Lge,areFunctionsEqual:Ige,areMapsEqual:n?JO(tP,Gh):tP,areNumbersEqual:Rge,areObjectsEqual:n?Gh:$ge,arePrimitiveWrappersEqual:Mge,areRegExpsEqual:Dge,areSetsEqual:n?JO(rP,Gh):rP,areTypedArraysEqual:n?Gh:Bge,areUrlsEqual:Fge,unknownTagComparators:void 0};if(r&&(i=iP({},i,r(i))),t){var a=N0(i.areArraysEqual),s=N0(i.areMapsEqual),o=N0(i.areObjectsEqual),l=N0(i.areSetsEqual);i=iP({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function r0e(e){return function(t,r,n,i,a,s,o){return e(t,r,o)}}function n0e(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(l,u){var c=n(),f=c.cache,p=f===void 0?t?new WeakMap:void 0:f,h=c.meta;return r(l,u,{cache:p,equals:i,meta:h,strict:a})};if(t)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,s)}}var i0e=Jl();Jl({strict:!0});Jl({circular:!0});Jl({circular:!0,strict:!0});Jl({createInternalComparator:function(){return jc}});Jl({strict:!0,createInternalComparator:function(){return jc}});Jl({circular:!0,createInternalComparator:function(){return jc}});Jl({circular:!0,createInternalComparator:function(){return jc},strict:!0});function Jl(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,s=a===void 0?!1:a,o=t0e(e),l=e0e(o),u=n?n(l):r0e(l);return n0e({circular:r,comparator:l,createState:i,equals:u,strict:s})}function a0e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function aP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):a0e(i)};requestAnimationFrame(n)}function n_(e){"@babel/helpers - typeof";return n_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n_(e)}function s0e(e){return c0e(e)||u0e(e)||l0e(e)||o0e()}function o0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l0e(e,t){if(e){if(typeof e=="string")return sP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sP(e,t)}}function sP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c0e(e){if(Array.isArray(e))return e}function d0e(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=s0e(s),l=o[0],u=o.slice(1);if(typeof l=="number"){aP(i.bind(null,u),l);return}i(l),aP(i.bind(null,u));return}n_(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){BM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BM(e,t,r){return t=f0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f0e(e){var t=h0e(e,"string");return _m(t)==="symbol"?t:String(t)}function h0e(e,t){if(_m(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p0e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},m0e=function(t){return t},g0e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},_p=function(t,r){return Object.keys(r).reduce(function(n,i){return lP(lP({},n),{},BM({},i,t(i,r[i])))},{})},uP=function(t,r,n){return t.map(function(i){return"".concat(g0e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function y0e(e,t){return x0e(e)||b0e(e,t)||FM(e,t)||v0e()}function v0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function x0e(e){if(Array.isArray(e))return e}function w0e(e){return j0e(e)||S0e(e)||FM(e)||_0e()}function _0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FM(e,t){if(e){if(typeof e=="string")return i_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i_(e,t)}}function S0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j0e(e){if(Array.isArray(e))return i_(e)}function i_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _v=1e-4,UM=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},zM=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},cP=function(t,r){return function(n){var i=UM(t,r);return zM(i,n)}},A0e=function(t,r){return function(n){var i=UM(t,r),a=[].concat(w0e(i.map(function(s,o){return s*o}).slice(1)),[0]);return zM(a,n)}},dP=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),c=y0e(u,4);i=c[0],a=c[1],s=c[2],o=c[3]}}}var f=cP(i,s),p=cP(a,o),h=A0e(i,s),y=function(v){return v>1?1:v<0?0:v},g=function(v){for(var w=v>1?1:v,_=w,A=0;A<8;++A){var S=f(_)-w,j=h(_);if(Math.abs(S-w)<_v||j<_v)return p(_);_=y(_-S/j)}return p(_)};return g.isStepper=!1,g},N0e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,s=t.dt,o=s===void 0?17:s,l=function(c,f,p){var h=-(c-f)*n,y=p*a,g=p+(h-y)*o/1e3,b=p*o/1e3+c;return Math.abs(b-f)<_v&&Math.abs(g)<_v?[f,0]:[b,g]};return l.isStepper=!0,l.dt=o,l},k0e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return dP(i);case"spring":return N0e();default:if(i.split("(")[0]==="cubic-bezier")return dP(i)}return typeof i=="function"?i:null};function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function fP(e){return P0e(e)||O0e(e)||qM(e)||E0e()}function E0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P0e(e){if(Array.isArray(e))return s_(e)}function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){a_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a_(e,t,r){return t=C0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C0e(e){var t=T0e(e,"string");return Sm(t)==="symbol"?t:String(t)}function T0e(e,t){if(Sm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L0e(e,t){return $0e(e)||R0e(e,t)||qM(e,t)||I0e()}function I0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qM(e,t){if(e){if(typeof e=="string")return s_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s_(e,t)}}function s_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function $0e(e){if(Array.isArray(e))return e}var Sv=function(t,r,n){return t+(r-t)*n},o_=function(t){var r=t.from,n=t.to;return r!==n},M0e=function e(t,r,n){var i=_p(function(a,s){if(o_(s)){var o=t(s.from,s.to,s.velocity),l=L0e(o,2),u=l[0],c=l[1];return Un(Un({},s),{},{from:u,velocity:c})}return s},r);return n<1?_p(function(a,s){return o_(s)?Un(Un({},s),{},{velocity:Sv(s.velocity,i[a].velocity,n),from:Sv(s.from,i[a].from,n)}):s},r):e(t,i,n-1)};const D0e=function(e,t,r,n,i){var a=p0e(e,t),s=a.reduce(function(b,v){return Un(Un({},b),{},a_({},v,[e[v],t[v]]))},{}),o=a.reduce(function(b,v){return Un(Un({},b),{},a_({},v,{from:e[v],velocity:0,to:t[v]}))},{}),l=-1,u,c,f=function(){return null},p=function(){return _p(function(v,w){return w.from},o)},h=function(){return!Object.values(o).filter(o_).length},y=function(v){u||(u=v);var w=v-u,_=w/r.dt;o=M0e(r,o,_),i(Un(Un(Un({},e),t),p())),u=v,h()||(l=requestAnimationFrame(f))},g=function(v){c||(c=v);var w=(v-c)/n,_=_p(function(S,j){return Sv.apply(void 0,fP(j).concat([r(w)]))},s);if(i(Un(Un(Un({},e),t),_)),w<1)l=requestAnimationFrame(f);else{var A=_p(function(S,j){return Sv.apply(void 0,fP(j).concat([r(1)]))},s);i(Un(Un(Un({},e),t),A))}};return f=r.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}var B0e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function F0e(e,t){if(e==null)return{};var r=U0e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U0e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function d2(e){return H0e(e)||W0e(e)||q0e(e)||z0e()}function z0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q0e(e,t){if(e){if(typeof e=="string")return l_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l_(e,t)}}function W0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function H0e(e){if(Array.isArray(e))return l_(e)}function l_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(r),!0).forEach(function(n){np(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function np(e,t,r){return t=WM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WM(n.key),n)}}function K0e(e,t,r){return t&&G0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WM(e){var t=Y0e(e,"string");return df(t)==="symbol"?t:String(t)}function Y0e(e,t){if(df(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(df(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u_(e,t)}function u_(e,t){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u_(e,t)}function J0e(e){var t=Z0e();return function(){var n=jv(e),i;if(t){var a=jv(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return c_(this,i)}}function c_(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d_(e)}function d_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jv(e){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jv(e)}var zs=function(e){X0e(r,e);var t=J0e(r);function r(n,i){var a;V0e(this,r),a=t.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,u=s.from,c=s.to,f=s.steps,p=s.children,h=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(d_(a)),a.changeStyle=a.changeStyle.bind(d_(a)),!o||h<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:c}),c_(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof p=="function")return a.state={style:u},c_(a);a.state={style:l?np({},l,u):u}}else a.state={style:{}};return a}return K0e(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,p=this.state.style;if(o){if(!s){var h={style:l?np({},l,c):c};this.state&&p&&(l&&p[l]!==c||!l&&p!==c)&&this.setState(h);return}if(!(i0e(i.to,c)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?f:i.to;if(this.state&&p){var b={style:l?np({},l,g):g};(l&&p[l]!==g||!l&&p!==g)&&this.setState(b)}this.runAnimation(Ka(Ka({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,h=D0e(s,o,k0e(u),l,this.changeStyle),y=function(){a.stopJSAnimation=h()};this.manager.start([p,c,y,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,f=u.duration,p=f===void 0?0:f,h=function(g,b,v){if(v===0)return g;var w=b.duration,_=b.easing,A=_===void 0?"ease":_,S=b.style,j=b.properties,O=b.onAnimationEnd,L=v>0?s[v-1]:b,I=j||Object.keys(S);if(typeof A=="function"||A==="spring")return[].concat(d2(g),[a.runJSAnimation.bind(a,{from:L.style,to:S,duration:w,easing:A}),w]);var F=uP(I,w,A),k=Ka(Ka(Ka({},L.style),S),{},{transition:F});return[].concat(d2(g),[k,w,O]).filter(m0e)};return this.manager.start([l].concat(d2(s.reduce(h,[c,Math.max(p,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=d0e());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,h=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var g=o?np({},o,l):l,b=uP(Object.keys(g),s,u);y.start([c,a,Ka(Ka({},g),{},{transition:b}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=F0e(i,B0e),u=X.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!o||u===0||s<=0)return a;var f=function(h){var y=h.props,g=y.style,b=g===void 0?{}:g,v=y.className,w=X.cloneElement(h,Ka(Ka({},l),{},{style:Ka(Ka({},b),c),className:v}));return w};return u===1?f(X.Children.only(a)):oe.createElement("div",null,X.Children.map(a,function(p){return f(p)}))}}]),r}(X.PureComponent);zs.displayName="Animate";zs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};zs.propTypes={from:sr.oneOfType([sr.object,sr.string]),to:sr.oneOfType([sr.object,sr.string]),attributeName:sr.string,duration:sr.number,begin:sr.number,easing:sr.oneOfType([sr.string,sr.func]),steps:sr.arrayOf(sr.shape({duration:sr.number.isRequired,style:sr.object.isRequired,easing:sr.oneOfType([sr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),sr.func]),properties:sr.arrayOf("string"),onAnimationEnd:sr.func})),children:sr.oneOfType([sr.node,sr.func]),isActive:sr.bool,canBegin:sr.bool,onAnimationEnd:sr.func,shouldReAnimate:sr.bool,onAnimationStart:sr.func,onAnimationReStart:sr.func};function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(this,arguments)}function Q0e(e,t){return nye(e)||rye(e,t)||tye(e,t)||eye()}function eye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tye(e,t){if(e){if(typeof e=="string")return mP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mP(e,t)}}function mP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function nye(e){if(Array.isArray(e))return e}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){iye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iye(e,t,r){return t=aye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aye(e){var t=sye(e,"string");return jm(t)=="symbol"?t:t+""}function sye(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vP=function(t,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,c;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=a[p]>s?s:a[p];c="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(r)),c+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+o*f[1])),c+="L ".concat(t+n,",").concat(r+i-o*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(r+i)),c+="L ".concat(t+l*f[3],",").concat(r+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-o*f[3])),c+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);c="M ".concat(t,",").concat(r+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+l*y,",").concat(r,`
            L `).concat(t+n-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+o*y,`
            L `).concat(t+n,",").concat(r+i-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-l*y,",").concat(r+i,`
            L `).concat(t+l*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+i-o*y," Z")}else c="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return c},oye=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(a,a+o),c=Math.max(a,a+o),f=Math.min(s,s+l),p=Math.max(s,s+l);return n>=u&&n<=c&&i>=f&&i<=p}return!1},lye={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vA=function(t){var r=yP(yP({},lye),t),n=X.useRef(),i=X.useState(-1),a=Q0e(i,2),s=a[0],o=a[1];X.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&o(A)}catch{}},[]);var l=r.x,u=r.y,c=r.width,f=r.height,p=r.radius,h=r.className,y=r.animationEasing,g=r.animationDuration,b=r.animationBegin,v=r.isAnimationActive,w=r.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var _=Ut("recharts-rectangle",h);return w?oe.createElement(zs,{canBegin:s>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:g,animationEasing:y,isActive:w},function(A){var S=A.width,j=A.height,O=A.x,L=A.y;return oe.createElement(zs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,isActive:v,easing:y},oe.createElement("path",Av({},xt(r,!0),{className:_,d:vP(O,L,S,j,p),ref:n})))}):oe.createElement("path",Av({},xt(r,!0),{className:_,d:vP(l,u,c,f,p)}))},uye=["points","className","baseLinePoints","connectNulls"];function bd(){return bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bd.apply(this,arguments)}function cye(e,t){if(e==null)return{};var r=dye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bP(e){return mye(e)||pye(e)||hye(e)||fye()}function fye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hye(e,t){if(e){if(typeof e=="string")return f_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f_(e,t)}}function pye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mye(e){if(Array.isArray(e))return f_(e)}function f_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xP=function(t){return t&&t.x===+t.x&&t.y===+t.y},gye=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){xP(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),xP(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Sp=function(t,r){var n=gye(t);r&&(n=[n.reduce(function(a,s){return[].concat(bP(a),bP(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},yye=function(t,r,n){var i=Sp(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Sp(r.reverse(),n).slice(1))},vye=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,s=cye(t,uye);if(!r||!r.length)return null;var o=Ut("recharts-polygon",n);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",u=yye(r,i,a);return oe.createElement("g",{className:o},oe.createElement("path",bd({},xt(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),l?oe.createElement("path",bd({},xt(s,!0),{fill:"none",d:Sp(r,a)})):null,l?oe.createElement("path",bd({},xt(s,!0),{fill:"none",d:Sp(i,a)})):null)}var c=Sp(r,a);return oe.createElement("path",bd({},xt(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",className:o,d:c}))};function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h_.apply(this,arguments)}var rb=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,s=Ut("recharts-dot",a);return r===+r&&n===+n&&i===+i?X.createElement("circle",h_({},xt(t,!1),Hy(t),{className:s,cx:r,cy:n,r:i})):null};function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}var bye=["x","y","top","left","width","height","className"];function p_(){return p_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p_.apply(this,arguments)}function wP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(r),!0).forEach(function(n){wye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wye(e,t,r){return t=_ye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ye(e){var t=Sye(e,"string");return Am(t)=="symbol"?t:t+""}function Sye(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jye(e,t){if(e==null)return{};var r=Aye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Aye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Nye=function(t,r,n,i,a,s){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},kye=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.top,o=s===void 0?0:s,l=t.left,u=l===void 0?0:l,c=t.width,f=c===void 0?0:c,p=t.height,h=p===void 0?0:p,y=t.className,g=jye(t,bye),b=xye({x:n,y:a,top:o,left:u,width:f,height:h},g);return!Ge(n)||!Ge(a)||!Ge(f)||!Ge(h)||!Ge(o)||!Ge(u)?null:oe.createElement("path",p_({},xt(b,!0),{className:Ut("recharts-cross",y),d:Nye(n,a,f,h,o,u)}))},Eye=J1,Oye=rM,Pye=Ws;function Cye(e,t){return e&&e.length?Eye(e,Pye(t),Oye):void 0}var Tye=Cye;const Lye=nr(Tye);var Iye=J1,Rye=Ws,$ye=nM;function Mye(e,t){return e&&e.length?Iye(e,Rye(t),$ye):void 0}var Dye=Mye;const Bye=nr(Dye);var Fye=["cx","cy","angle","ticks","axisLine"],Uye=["ticks","tick","angle","tickFormatter","stroke"];function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jp.apply(this,arguments)}function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(n){nb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SP(e,t){if(e==null)return{};var r=zye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VM(n.key),n)}}function Wye(e,t,r){return t&&jP(e.prototype,t),r&&jP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hye(e,t,r){return t=Nv(t),Vye(e,HM()?Reflect.construct(t,r||[],Nv(e).constructor):t.apply(e,r))}function Vye(e,t){if(t&&(ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gye(e)}function Gye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HM=function(){return!!e})()}function Nv(e){return Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nv(e)}function Kye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m_(e,t)}function m_(e,t){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m_(e,t)}function nb(e,t,r){return t=VM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VM(e){var t=Yye(e,"string");return ff(t)=="symbol"?t:t+""}function Yye(e,t){if(ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ib=function(e){function t(){return qye(this,t),Hye(this,t,arguments)}return Kye(t,e),Wye(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return Ar(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=Lye(o,function(c){return c.coordinate||0}),u=Bye(o,function(c){return c.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=n.axisLine,u=SP(n,Fye),c=o.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),f=Ar(i,a,c[0],s),p=Ar(i,a,c[1],s),h=ku(ku(ku({},xt(u,!1)),{},{fill:"none"},xt(l,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return oe.createElement("line",jp({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,u=i.stroke,c=SP(i,Uye),f=this.getTickTextAnchor(),p=xt(c,!1),h=xt(s,!1),y=a.map(function(g,b){var v=n.getTickValueCoord(g),w=ku(ku(ku(ku({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(v.x,", ").concat(v.y,")")},p),{},{stroke:"none",fill:u},h),{},{index:b},v),{},{payload:g});return oe.createElement(Zt,jp({className:Ut("recharts-polar-radius-axis-tick",CM(s)),key:"tick-".concat(g.coordinate)},lc(n.props,g,b)),t.renderTickItem(s,w,l?l(g.value,b):g.value))});return oe.createElement(Zt,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:oe.createElement(Zt,{className:Ut("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Ln.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return oe.isValidElement(n)?s=oe.cloneElement(n,i):Nt(n)?s=n(i):s=oe.createElement(uc,jp({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(X.PureComponent);nb(ib,"displayName","PolarRadiusAxis");nb(ib,"axisType","radiusAxis");nb(ib,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function Fu(){return Fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fu.apply(this,arguments)}function AP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Eu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(r),!0).forEach(function(n){ab(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KM(n.key),n)}}function Jye(e,t,r){return t&&NP(e.prototype,t),r&&NP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zye(e,t,r){return t=kv(t),Qye(e,GM()?Reflect.construct(t,r||[],kv(e).constructor):t.apply(e,r))}function Qye(e,t){if(t&&(hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eve(e)}function eve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GM=function(){return!!e})()}function kv(e){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kv(e)}function tve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g_(e,t)}function g_(e,t){return g_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},g_(e,t)}function ab(e,t,r){return t=KM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KM(e){var t=rve(e,"string");return hf(t)=="symbol"?t:t+""}function rve(e,t){if(hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nve=Math.PI/180,kP=1e-5,sb=function(e){function t(){return Xye(this,t),Zye(this,t,arguments)}return tve(t,e),Jye(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=Ar(a,s,o,n.coordinate),p=Ar(a,s,o+(l==="inner"?-1:1)*c,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*nve),s;return a>kP?s=i==="outer"?"start":"end":a<-kP?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,o=n.axisLine,l=n.axisLineType,u=Eu(Eu({},xt(this.props,!1)),{},{fill:"none"},xt(o,!1));if(l==="circle")return oe.createElement(rb,Fu({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var c=this.props.ticks,f=c.map(function(p){return Ar(i,a,s,p.coordinate)});return oe.createElement(vye,Fu({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,u=i.stroke,c=xt(this.props,!1),f=xt(s,!1),p=Eu(Eu({},c),{},{fill:"none"},xt(o,!1)),h=a.map(function(y,g){var b=n.getTickLineCoord(y),v=n.getTickTextAnchor(y),w=Eu(Eu(Eu({textAnchor:v},c),{},{stroke:"none",fill:u},f),{},{index:g,payload:y,x:b.x2,y:b.y2});return oe.createElement(Zt,Fu({className:Ut("recharts-polar-angle-axis-tick",CM(s)),key:"tick-".concat(y.coordinate)},lc(n.props,y,g)),o&&oe.createElement("line",Fu({className:"recharts-polar-angle-axis-tick-line"},p,b)),s&&t.renderTickItem(s,w,l?l(y.value,g):y.value))});return oe.createElement(Zt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:oe.createElement(Zt,{className:Ut("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return oe.isValidElement(n)?s=oe.cloneElement(n,i):Nt(n)?s=n(i):s=oe.createElement(uc,Fu({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(X.PureComponent);ab(sb,"displayName","PolarAngleAxis");ab(sb,"axisType","angleAxis");ab(sb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ive=ZR,ave=ive(Object.getPrototypeOf,Object),sve=ave,ove=Bo,lve=sve,uve=Fo,cve="[object Object]",dve=Function.prototype,fve=Object.prototype,YM=dve.toString,hve=fve.hasOwnProperty,pve=YM.call(Object);function mve(e){if(!uve(e)||ove(e)!=cve)return!1;var t=lve(e);if(t===null)return!0;var r=hve.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&YM.call(r)==pve}var gve=mve;const yve=nr(gve);var vve=Bo,bve=Fo,xve="[object Boolean]";function wve(e){return e===!0||e===!1||bve(e)&&vve(e)==xve}var _ve=wve;const Sve=nr(_ve);function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ev.apply(this,arguments)}function jve(e,t){return Eve(e)||kve(e,t)||Nve(e,t)||Ave()}function Ave(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nve(e,t){if(e){if(typeof e=="string")return EP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EP(e,t)}}function EP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Eve(e){if(Array.isArray(e))return e}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){Ove(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ove(e,t,r){return t=Pve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pve(e){var t=Cve(e,"string");return Nm(t)=="symbol"?t:t+""}function Cve(e,t){if(Nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CP=function(t,r,n,i,a){var s=n-i,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+a),o+="L ".concat(t+n-s/2-i,",").concat(r+a),o+="L ".concat(t,",").concat(r," Z"),o},Tve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lve=function(t){var r=PP(PP({},Tve),t),n=X.useRef(),i=X.useState(-1),a=jve(i,2),s=a[0],o=a[1];X.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,u=r.y,c=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,y=r.animationEasing,g=r.animationDuration,b=r.animationBegin,v=r.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||p!==+p||c===0&&f===0||p===0)return null;var w=Ut("recharts-trapezoid",h);return v?oe.createElement(zs,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:p,x:l,y:u},duration:g,animationEasing:y,isActive:v},function(_){var A=_.upperWidth,S=_.lowerWidth,j=_.height,O=_.x,L=_.y;return oe.createElement(zs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,easing:y},oe.createElement("path",Ev({},xt(r,!0),{className:w,d:CP(O,L,A,S,j),ref:n})))}):oe.createElement("g",null,oe.createElement("path",Ev({},xt(r,!0),{className:w,d:CP(l,u,c,f,p)})))},Ive=["option","shapeType","propTransformer","activeClassName","isActive"];function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function Rve(e,t){if(e==null)return{};var r=$ve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ov(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){Mve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mve(e,t,r){return t=Dve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dve(e){var t=Bve(e,"string");return km(t)=="symbol"?t:t+""}function Bve(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fve(e,t){return Ov(Ov({},t),e)}function Uve(e,t){return e==="symbols"}function LP(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return oe.createElement(vA,r);case"trapezoid":return oe.createElement(Lve,r);case"sector":return oe.createElement(IM,r);case"symbols":if(Uve(t))return oe.createElement(Mj,r);break;default:return null}}function zve(e){return X.isValidElement(e)?e.props:e}function XM(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?Fve:n,a=e.activeClassName,s=a===void 0?"recharts-active-shape":a,o=e.isActive,l=Rve(e,Ive),u;if(X.isValidElement(t))u=X.cloneElement(t,Ov(Ov({},l),zve(t)));else if(Nt(t))u=t(l);else if(yve(t)&&!Sve(t)){var c=i(t,l);u=oe.createElement(LP,{shapeType:r,elementProps:c})}else{var f=l;u=oe.createElement(LP,{shapeType:r,elementProps:f})}return o?oe.createElement(Zt,{className:s},u):u}function ob(e,t){return t!=null&&"trapezoids"in e.props}function lb(e,t){return t!=null&&"sectors"in e.props}function Em(e,t){return t!=null&&"points"in e.props}function qve(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function Wve(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Hve(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function Vve(e,t){var r;return ob(e,t)?r=qve:lb(e,t)?r=Wve:Em(e,t)&&(r=Hve),r}function Gve(e,t){var r;return ob(e,t)?r="trapezoids":lb(e,t)?r="sectors":Em(e,t)&&(r="points"),r}function Kve(e,t){if(ob(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(lb(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Em(e,t)?t.payload:{}}function Yve(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=Gve(r,t),a=Kve(r,t),s=n.filter(function(l,u){var c=tg(a,l),f=r.props[i].filter(function(y){var g=Vve(r,t);return g(y,t)}),p=r.props[i].indexOf(f[f.length-1]),h=u===p;return c&&h}),o=n.indexOf(s[s.length-1]);return o}var Z0;function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(this,arguments)}function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(r),!0).forEach(function(n){ka(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZM(n.key),n)}}function Jve(e,t,r){return t&&RP(e.prototype,t),r&&RP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zve(e,t,r){return t=Pv(t),Qve(e,JM()?Reflect.construct(t,r||[],Pv(e).constructor):t.apply(e,r))}function Qve(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e1e(e)}function e1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JM=function(){return!!e})()}function Pv(e){return Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pv(e)}function t1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y_(e,t)}function y_(e,t){return y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y_(e,t)}function ka(e,t,r){return t=ZM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZM(e){var t=r1e(e,"string");return pf(t)=="symbol"?t:t+""}function r1e(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zo=function(e){function t(r){var n;return Xve(this,t),n=Zve(this,t,[r]),ka(n,"pieRef",null),ka(n,"sectorRefs",[]),ka(n,"id",Hf("recharts-pie-")),ka(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Nt(i)&&i()}),ka(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Nt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return t1e(t,e),Jve(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,u=a.valueKey,c=xt(this.props,!1),f=xt(s,!1),p=xt(o,!1),h=s&&s.offsetRadius||20,y=n.map(function(g,b){var v=(g.startAngle+g.endAngle)/2,w=Ar(g.cx,g.cy,g.outerRadius+h,v),_=wr(wr(wr(wr({},c),g),{},{stroke:"none"},f),{},{index:b,textAnchor:t.getTextAnchor(w.x,g.cx)},w),A=wr(wr(wr(wr({},c),g),{},{fill:"none",stroke:g.fill},p),{},{index:b,points:[Ar(g.cx,g.cy,g.outerRadius,v),w]}),S=l;return $t(l)&&$t(u)?S="value":$t(l)&&(S=u),oe.createElement(Zt,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(b)},o&&t.renderLabelLineItem(o,A,"line"),t.renderLabelItem(s,_,An(g,S)))});return oe.createElement(Zt,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return n.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(c),p=l&&i.hasActiveIndex()?l:null,h=f?s:p,y=wr(wr({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return oe.createElement(Zt,xd({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},lc(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),oe.createElement(XM,xd({option:h,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return oe.createElement(zs,{begin:o,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,b=[],v=a&&a[0],w=v.startAngle;return a.forEach(function(_,A){var S=p&&p[A],j=A>0?na(_,"paddingAngle",0):0;if(S){var O=Yi(S.endAngle-S.startAngle,_.endAngle-_.startAngle),L=wr(wr({},_),{},{startAngle:w+j,endAngle:w+O(g)+j});b.push(L),w=L.endAngle}else{var I=_.endAngle,F=_.startAngle,k=Yi(0,I-F),P=k(g),M=wr(wr({},_),{},{startAngle:w+j,endAngle:w+P+j});b.push(M),w=M.endAngle}}),oe.createElement(Zt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!tg(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,p=i.outerRadius,h=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!s||!s.length||!Ge(u)||!Ge(c)||!Ge(f)||!Ge(p))return null;var g=Ut("recharts-pie",o);return oe.createElement(Zt,{tabIndex:this.props.rootTabIndex,className:g,ref:function(v){n.pieRef=v}},this.renderSectors(),l&&this.renderLabels(s),Ln.renderCallByParent(this.props,null,!1),(!h||y)&&ko.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(oe.isValidElement(n))return oe.cloneElement(n,i);if(Nt(n))return n(i);var s=Ut("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return oe.createElement(wv,xd({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(oe.isValidElement(n))return oe.cloneElement(n,i);var s=a;if(Nt(n)&&(s=n(i),oe.isValidElement(s)))return s;var o=Ut("recharts-pie-label-text",typeof n!="boolean"&&!Nt(n)?n.className:"");return oe.createElement(uc,xd({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(X.PureComponent);Z0=zo;ka(zo,"displayName","Pie");ka(zo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!wc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ka(zo,"parseDeltaAngle",function(e,t){var r=fi(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ka(zo,"getRealPieData",function(e){var t=e.data,r=e.children,n=xt(e,!1),i=ia(r,Xm);return t&&t.length?t.map(function(a,s){return wr(wr(wr({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return wr(wr({},n),a.props)}):[]});ka(zo,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,s=PM(i,a),o=n+hi(e.cx,i,i/2),l=r+hi(e.cy,a,a/2),u=hi(e.innerRadius,s,0),c=hi(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});ka(zo,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?wr(wr({},t.type.defaultProps),t.props):t.props,i=Z0.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,o=n.endAngle,l=n.paddingAngle,u=n.dataKey,c=n.nameKey,f=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),y=Z0.parseCoordinateOfPie(n,r),g=Z0.parseDeltaAngle(s,o),b=Math.abs(g),v=u;$t(u)&&$t(f)?(ls(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):$t(u)&&(ls(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var w=i.filter(function(L){return An(L,v,0)!==0}).length,_=(b>=360?w:w-1)*l,A=b-w*h-_,S=i.reduce(function(L,I){var F=An(I,v,0);return L+(Ge(F)?F:0)},0),j;if(S>0){var O;j=i.map(function(L,I){var F=An(L,v,0),k=An(L,c,I),P=(Ge(F)?F:0)/S,M;I?M=O.endAngle+fi(g)*l*(F!==0?1:0):M=s;var D=M+fi(g)*((F!==0?h:0)+P*A),U=(M+D)/2,H=(y.innerRadius+y.outerRadius)/2,V=[{name:k,value:F,payload:L,dataKey:v,type:p}],B=Ar(y.cx,y.cy,H,U);return O=wr(wr(wr({percent:P,cornerRadius:a,name:k,tooltipPayload:V,midAngle:U,middleRadius:H,tooltipPosition:B},L),y),{},{value:An(L,v),startAngle:M,endAngle:D,payload:L,paddingAngle:fi(g)*l}),O})}return wr(wr({},y),{},{sectors:j,data:i})});var n1e=Math.ceil,i1e=Math.max;function a1e(e,t,r,n){for(var i=-1,a=i1e(n1e((t-e)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=e,e+=r;return s}var s1e=a1e,o1e=y$,$P=1/0,l1e=17976931348623157e292;function u1e(e){if(!e)return e===0?e:0;if(e=o1e(e),e===$P||e===-$P){var t=e<0?-1:1;return t*l1e}return e===e?e:0}var QM=u1e,c1e=s1e,d1e=W1,f2=QM;function f1e(e){return function(t,r,n){return n&&typeof n!="number"&&d1e(t,r,n)&&(r=n=void 0),t=f2(t),r===void 0?(r=t,t=0):r=f2(r),n=n===void 0?t<r?1:-1:f2(n),c1e(t,r,n,e)}}var h1e=f1e,p1e=h1e,m1e=p1e(),g1e=m1e;const Cv=nr(g1e);function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){e7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e7(e,t,r){return t=y1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y1e(e){var t=v1e(e,"string");return Om(t)=="symbol"?t:t+""}function v1e(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b1e=["Webkit","Moz","O","ms"],x1e=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=b1e.reduce(function(a,s){return DP(DP({},a),{},e7({},s+n,r))},{});return i[t]=r,i};function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(this,arguments)}function BP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(r),!0).forEach(function(n){Vi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r7(n.key),n)}}function _1e(e,t,r){return t&&FP(e.prototype,t),r&&FP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function S1e(e,t,r){return t=Lv(t),j1e(e,t7()?Reflect.construct(t,r||[],Lv(e).constructor):t.apply(e,r))}function j1e(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A1e(e)}function A1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t7=function(){return!!e})()}function Lv(e){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lv(e)}function N1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v_(e,t)}function v_(e,t){return v_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v_(e,t)}function Vi(e,t,r){return t=r7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r7(e){var t=k1e(e,"string");return mf(t)=="symbol"?t:t+""}function k1e(e,t){if(mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var E1e=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=xp().domain(Cv(0,l)).range([a,a+s-o]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:c}},UP=function(t){return t.changedTouches&&!!t.changedTouches.length},gf=function(e){function t(r){var n;return w1e(this,t),n=S1e(this,t,[r]),Vi(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Vi(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Vi(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),Vi(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Vi(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Vi(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Vi(n,"handleSlideDragStart",function(i){var a=UP(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return N1e(t,e),_1e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,c=u.length-1,f=Math.min(i,a),p=Math.max(i,a),h=t.getIndexInRange(s,f),y=t.getIndexInRange(s,p);return{startIndex:h-h%l,endIndex:y===c?c:y-y%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=An(a[n],o,n);return Nt(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,p=l.startIndex,h=l.endIndex,y=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+c-f-o,u+c-f-s):g<0&&(g=Math.max(g,u-s,u-o));var b=this.getIndex({startX:s+g,endX:o+g});(b.startIndex!==p||b.endIndex!==h)&&y&&y(b),this.setState({startX:s+g,endX:o+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=UP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[s],c=this.props,f=c.x,p=c.width,h=c.travellerWidth,y=c.onChange,g=c.gap,b=c.data,v={startX:this.state.startX,endX:this.state.endX},w=n.pageX-a;w>0?w=Math.min(w,f+p-h-u):w<0&&(w=Math.max(w,f-u)),v[s]=u+w;var _=this.getIndex(v),A=_.startIndex,S=_.endIndex,j=function(){var L=b.length-1;return s==="startX"&&(o>l?A%g===0:S%g===0)||o<l&&S===L||s==="endX"&&(o>l?S%g===0:A%g===0)||o>l&&S===L};this.setState(Vi(Vi({},s,u+w),"brushMoveStartX",n.pageX),function(){y&&j()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],f=o.indexOf(c);if(f!==-1){var p=f+n;if(!(p===-1||p>=o.length)){var h=o[p];i==="startX"&&h>=u||i==="endX"&&h<=l||this.setState(Vi({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,u=n.stroke;return oe.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,u=n.children,c=n.padding,f=X.Children.only(u);return f?oe.cloneElement(f,{x:i,y:a,width:s,height:o,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,p=l.traveller,h=l.ariaLabel,y=l.data,g=l.startIndex,b=l.endIndex,v=Math.max(n,this.props.x),w=h2(h2({},xt(this.props,!1)),{},{x:v,y:u,width:c,height:f}),_=h||"Min value: ".concat((a=y[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=y[b])===null||s===void 0?void 0:s.name);return oe.createElement(Zt,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,w))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return oe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,u=n.stroke,c=this.state,f=c.startX,p=c.endX,h=5,y={pointerEvents:"none",fill:u};return oe.createElement(Zt,{className:"recharts-brush-texts"},oe.createElement(uc,Tv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:s+o/2},y),this.getTextOfTick(i)),oe.createElement(uc,Tv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+h,y:s+o/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,u=n.width,c=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,y=p.endX,g=p.isTextActive,b=p.isSlideMoving,v=p.isTravellerMoving,w=p.isTravellerFocused;if(!i||!i.length||!Ge(o)||!Ge(l)||!Ge(u)||!Ge(c)||u<=0||c<=0)return null;var _=Ut("recharts-brush",a),A=oe.Children.count(s)===1,S=x1e("userSelect","none");return oe.createElement(Zt,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(h,y),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(y,"endX"),(g||b||v||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,u=Math.floor(a+o/2)-1;return oe.createElement(oe.Fragment,null,oe.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),oe.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),oe.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return oe.isValidElement(n)?a=oe.cloneElement(n,i):Nt(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,u=n.updateId,c=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return h2({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?E1e({data:a,width:s,x:o,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var p=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(X.PureComponent);Vi(gf,"displayName","Brush");Vi(gf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var O1e=Wj;function P1e(e,t){var r;return O1e(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var C1e=P1e,T1e=WR,L1e=Ws,I1e=C1e,R1e=Li,$1e=W1;function M1e(e,t,r){var n=R1e(e)?T1e:I1e;return r&&$1e(e,t,r)&&(t=void 0),n(e,L1e(t))}var D1e=M1e;const B1e=nr(D1e);var Ds=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},zP=f$;function F1e(e,t,r){t=="__proto__"&&zP?zP(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var U1e=F1e,z1e=U1e,q1e=c$,W1e=Ws;function H1e(e,t){var r={};return t=W1e(t),q1e(e,function(n,i,a){z1e(r,i,t(n,i,a))}),r}var V1e=H1e;const G1e=nr(V1e);function K1e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Y1e=K1e,X1e=Wj;function J1e(e,t){var r=!0;return X1e(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var Z1e=J1e,Q1e=Y1e,ebe=Z1e,tbe=Ws,rbe=Li,nbe=W1;function ibe(e,t,r){var n=rbe(e)?Q1e:ebe;return r&&nbe(e,t,r)&&(t=void 0),n(e,tbe(t))}var abe=ibe;const n7=nr(abe);var sbe=["x","y"];function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function b_(){return b_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b_.apply(this,arguments)}function qP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(r),!0).forEach(function(n){obe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function obe(e,t,r){return t=lbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lbe(e){var t=ube(e,"string");return Pm(t)=="symbol"?t:t+""}function ube(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cbe(e,t){if(e==null)return{};var r=dbe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fbe(e,t){var r=e.x,n=e.y,i=cbe(e,sbe),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),u="".concat(t.height||i.height),c=parseInt(u,10),f="".concat(t.width||i.width),p=parseInt(f,10);return Kh(Kh(Kh(Kh(Kh({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:p,name:t.name,radius:t.radius})}function WP(e){return oe.createElement(XM,b_({shapeType:"rectangle",propTransformer:fbe,activeClassName:"recharts-active-bar"},e))}var hbe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=Ge(n)||MQ(n);return a?t(n,i):(a||dc(),r)}},pbe=["value","background"],i7;function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function mbe(e,t){if(e==null)return{};var r=gbe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iv.apply(this,arguments)}function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(n){Sl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ybe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s7(n.key),n)}}function vbe(e,t,r){return t&&VP(e.prototype,t),r&&VP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bbe(e,t,r){return t=Rv(t),xbe(e,a7()?Reflect.construct(t,r||[],Rv(e).constructor):t.apply(e,r))}function xbe(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wbe(e)}function wbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a7=function(){return!!e})()}function Rv(e){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rv(e)}function _be(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x_(e,t)}function x_(e,t){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},x_(e,t)}function Sl(e,t,r){return t=s7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s7(e){var t=Sbe(e,"string");return yf(t)=="symbol"?t:t+""}function Sbe(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ac=function(e){function t(){var r;ybe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=bbe(this,t,[].concat(i)),Sl(r,"state",{isAnimationFinished:!1}),Sl(r,"id",Hf("recharts-bar-")),Sl(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Sl(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return _be(t,e),vbe(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,u=a.activeBar,c=xt(this.props,!1);return n&&n.map(function(f,p){var h=p===l,y=h?u:s,g=dn(dn(dn({},c),f),{},{isActive:h,option:y,index:p,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return oe.createElement(Zt,Iv({className:"recharts-bar-rectangle"},lc(i.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),oe.createElement(WP,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,p=this.state.prevData;return oe.createElement(zs,{begin:l,duration:u,isActive:o,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var y=h.t,g=a.map(function(b,v){var w=p&&p[v];if(w){var _=Yi(w.x,b.x),A=Yi(w.y,b.y),S=Yi(w.width,b.width),j=Yi(w.height,b.height);return dn(dn({},b),{},{x:_(y),y:A(y),width:S(y),height:j(y)})}if(s==="horizontal"){var O=Yi(0,b.height),L=O(y);return dn(dn({},b),{},{y:b.y+b.height-L,height:L})}var I=Yi(0,b.width),F=I(y);return dn(dn({},b),{},{width:F})});return oe.createElement(Zt,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!tg(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=xt(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,p=mbe(u,pbe);if(!f)return null;var h=dn(dn(dn(dn(dn({},p),{},{fill:"#eee"},f),l),lc(n.props,u,c)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return oe.createElement(WP,Iv({key:"background-bar-".concat(c),option:n.props.background,isActive:c===o},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=ia(c,rg);if(!f)return null;var p=u==="vertical"?s[0].height/2:s[0].width/2,h=function(b,v){var w=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:w,errorVal:An(b,v)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return oe.createElement(Zt,y,f.map(function(g){return oe.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,u=n.left,c=n.top,f=n.width,p=n.height,h=n.isAnimationActive,y=n.background,g=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,v=Ut("recharts-bar",s),w=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,A=w||_,S=$t(g)?this.id:g;return oe.createElement(Zt,{className:v},w||_?oe.createElement("defs",null,oe.createElement("clipPath",{id:"clipPath-".concat(S)},oe.createElement("rect",{x:w?u:u-f/2,y:_?c:c-p/2,width:w?f:f*2,height:_?p:p*2}))):null,oe.createElement(Zt,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,S),(!h||b)&&ko.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(X.PureComponent);i7=Ac;Sl(Ac,"displayName","Bar");Sl(Ac,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Sl(Ac,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,c=e.dataStartIndex,f=e.displayedData,p=e.offset,h=rme(n,r);if(!h)return null;var y=t.layout,g=r.type.defaultProps,b=g!==void 0?dn(dn({},g),r.props):r.props,v=b.dataKey,w=b.children,_=b.minPointSize,A=y==="horizontal"?s:a,S=u?A.scale.domain():null,j=ume({numericAxis:A}),O=ia(w,Xm),L=f.map(function(I,F){var k,P,M,D,U,H;u?k=nme(u[c+F],S):(k=An(I,v),Array.isArray(k)||(k=[j,k]));var V=hbe(_,i7.defaultProps.minPointSize)(k[1],F);if(y==="horizontal"){var B,J=[s.scale(k[0]),s.scale(k[1])],$=J[0],ae=J[1];P=RO({axis:a,ticks:o,bandSize:i,offset:h.offset,entry:I,index:F}),M=(B=ae??$)!==null&&B!==void 0?B:void 0,D=h.size;var T=$-ae;if(U=Number.isNaN(T)?0:T,H={x:P,y:s.y,width:D,height:s.height},Math.abs(V)>0&&Math.abs(U)<Math.abs(V)){var C=fi(U||V)*(Math.abs(V)-Math.abs(U));M-=C,U+=C}}else{var K=[a.scale(k[0]),a.scale(k[1])],Q=K[0],ie=K[1];if(P=Q,M=RO({axis:s,ticks:l,bandSize:i,offset:h.offset,entry:I,index:F}),D=ie-Q,U=h.size,H={x:a.x,y:M,width:a.width,height:U},Math.abs(V)>0&&Math.abs(D)<Math.abs(V)){var ue=fi(D||V)*(Math.abs(V)-Math.abs(D));D+=ue}}return dn(dn(dn({},I),{},{x:P,y:M,width:D,height:U,value:u?k:k[1],payload:I,background:H},O&&O[F]&&O[F].props),{},{tooltipPayload:[EM(r,I)],tooltipPosition:{x:P+D/2,y:M+U/2}})});return dn({data:L,layout:y},p)});function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function jbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o7(n.key),n)}}function Abe(e,t,r){return t&&GP(e.prototype,t),r&&GP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){ub(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ub(e,t,r){return t=o7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o7(e){var t=Nbe(e,"string");return Cm(t)=="symbol"?t:t+""}function Nbe(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l7=function(t,r,n,i,a){var s=t.width,o=t.height,l=t.layout,u=t.children,c=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},p=!!Ki(u,Ac);return c.reduce(function(h,y){var g=r[y],b=g.orientation,v=g.domain,w=g.padding,_=w===void 0?{}:w,A=g.mirror,S=g.reversed,j="".concat(b).concat(A?"Mirror":""),O,L,I,F,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var P=v[1]-v[0],M=1/0,D=g.categoricalDomain.sort(FQ);if(D.forEach(function(K,Q){Q>0&&(M=Math.min((K||0)-(D[Q-1]||0),M))}),Number.isFinite(M)){var U=M/P,H=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(O=U*H/2),g.padding==="no-gap"){var V=hi(t.barCategoryGap,U*H),B=U*H/2;O=B-V-(B-V)/H*V}}}i==="xAxis"?L=[n.left+(_.left||0)+(O||0),n.left+n.width-(_.right||0)-(O||0)]:i==="yAxis"?L=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(O||0),n.top+n.height-(_.bottom||0)-(O||0)]:L=g.range,S&&(L=[L[1],L[0]]);var J=jM(g,a,p),$=J.scale,ae=J.realScaleType;$.domain(v).range(L),AM($);var T=NM($,ts(ts({},g),{},{realScaleType:ae}));i==="xAxis"?(k=b==="top"&&!A||b==="bottom"&&A,I=n.left,F=f[j]-k*g.height):i==="yAxis"&&(k=b==="left"&&!A||b==="right"&&A,I=f[j]-k*g.width,F=n.top);var C=ts(ts(ts({},g),T),{},{realScaleType:ae,x:I,y:F,scale:$,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return C.bandSize=vv(C,T),!g.hide&&i==="xAxis"?f[j]+=(k?-1:1)*C.height:g.hide||(f[j]+=(k?-1:1)*C.width),ts(ts({},h),{},ub({},y,C))},{})},u7=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},kbe=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return u7({x:r,y:n},{x:i,y:a})},c7=function(){function e(t){jbe(this,e),this.scale=t}return Abe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();ub(c7,"EPS",1e-4);var bA=function(t){var r=Object.keys(t).reduce(function(n,i){return ts(ts({},n),{},ub({},i,c7.create(t[i])))},{});return ts(ts({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return G1e(i,function(l,u){return r[u].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return n7(i,function(a,s){return r[s].isInRange(a)})}})};function Ebe(e){return(e%180+180)%180}var Obe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Ebe(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},Pbe=Ws,Cbe=Km,Tbe=z1;function Lbe(e){return function(t,r,n){var i=Object(t);if(!Cbe(t)){var a=Pbe(r);t=Tbe(t),r=function(o){return a(i[o],o,i)}}var s=e(t,r,n);return s>-1?i[a?t[s]:s]:void 0}}var Ibe=Lbe,Rbe=QM;function $be(e){var t=Rbe(e),r=t%1;return t===t?r?t-r:t:0}var Mbe=$be,Dbe=i$,Bbe=Ws,Fbe=Mbe,Ube=Math.max;function zbe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:Fbe(r);return i<0&&(i=Ube(n+i,0)),Dbe(e,Bbe(t),i)}var qbe=zbe,Wbe=Ibe,Hbe=qbe,Vbe=Wbe(Hbe),Gbe=Vbe;const Kbe=nr(Gbe);var Ybe=qZ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),xA=X.createContext(void 0),wA=X.createContext(void 0),d7=X.createContext(void 0),f7=X.createContext({}),h7=X.createContext(void 0),p7=X.createContext(0),m7=X.createContext(0),YP=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=t.clipPathId,o=t.children,l=t.width,u=t.height,c=Ybe(a);return oe.createElement(xA.Provider,{value:n},oe.createElement(wA.Provider,{value:i},oe.createElement(f7.Provider,{value:a},oe.createElement(d7.Provider,{value:c},oe.createElement(h7.Provider,{value:s},oe.createElement(p7.Provider,{value:u},oe.createElement(m7.Provider,{value:l},o)))))))},Xbe=function(){return X.useContext(h7)},g7=function(t){var r=X.useContext(xA);r==null&&dc();var n=r[t];return n==null&&dc(),n},Jbe=function(){var t=X.useContext(xA);return vl(t)},Zbe=function(){var t=X.useContext(wA),r=Kbe(t,function(n){return n7(n.domain,Number.isFinite)});return r||vl(t)},y7=function(t){var r=X.useContext(wA);r==null&&dc();var n=r[t];return n==null&&dc(),n},Qbe=function(){var t=X.useContext(d7);return t},exe=function(){return X.useContext(f7)},_A=function(){return X.useContext(m7)},SA=function(){return X.useContext(p7)};function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function txe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b7(n.key),n)}}function nxe(e,t,r){return t&&rxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ixe(e,t,r){return t=$v(t),axe(e,v7()?Reflect.construct(t,r||[],$v(e).constructor):t.apply(e,r))}function axe(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sxe(e)}function sxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v7=function(){return!!e})()}function $v(e){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$v(e)}function oxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w_(e,t)}function w_(e,t){return w_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},w_(e,t)}function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(n){jA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jA(e,t,r){return t=b7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b7(e){var t=lxe(e,"string");return vf(t)=="symbol"?t:t+""}function lxe(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function uxe(e,t){return hxe(e)||fxe(e,t)||dxe(e,t)||cxe()}function cxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dxe(e,t){if(e){if(typeof e=="string")return ZP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZP(e,t)}}function ZP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function hxe(e){if(Array.isArray(e))return e}function __(){return __=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},__.apply(this,arguments)}var pxe=function(t,r){var n;return oe.isValidElement(t)?n=oe.cloneElement(t,r):Nt(t)?n=t(r):n=oe.createElement("line",__({},r,{className:"recharts-reference-line-line"})),n},mxe=function(t,r,n,i,a,s,o,l,u){var c=a.x,f=a.y,p=a.width,h=a.height;if(n){var y=u.y,g=t.y.apply(y,{position:s});if(Ds(u,"discard")&&!t.y.isInRange(g))return null;var b=[{x:c+p,y:g},{x:c,y:g}];return l==="left"?b.reverse():b}if(r){var v=u.x,w=t.x.apply(v,{position:s});if(Ds(u,"discard")&&!t.x.isInRange(w))return null;var _=[{x:w,y:f+h},{x:w,y:f}];return o==="top"?_.reverse():_}if(i){var A=u.segment,S=A.map(function(j){return t.apply(j,{position:s})});return Ds(u,"discard")&&B1e(S,function(j){return!t.isInRange(j)})?null:S}return null};function gxe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,u=Xbe(),c=g7(i),f=y7(a),p=Qbe();if(!u||!p)return null;ls(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=bA({x:c.scale,y:f.scale}),y=kn(t),g=kn(r),b=n&&n.length===2,v=mxe(h,y,g,b,p,e.position,c.orientation,f.orientation,e);if(!v)return null;var w=uxe(v,2),_=w[0],A=_.x,S=_.y,j=w[1],O=j.x,L=j.y,I=Ds(e,"hidden")?"url(#".concat(u,")"):void 0,F=JP(JP({clipPath:I},xt(e,!0)),{},{x1:A,y1:S,x2:O,y2:L});return oe.createElement(Zt,{className:Ut("recharts-reference-line",o)},pxe(s,F),Ln.renderCallByParent(e,kbe({x1:A,y1:S,x2:O,y2:L})))}var AA=function(e){function t(){return txe(this,t),ixe(this,t,arguments)}return oxe(t,e),nxe(t,[{key:"render",value:function(){return oe.createElement(gxe,this.props)}}])}(oe.Component);jA(AA,"displayName","ReferenceLine");jA(AA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function S_(){return S_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S_.apply(this,arguments)}function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function e6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(n){cb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w7(n.key),n)}}function bxe(e,t,r){return t&&vxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xxe(e,t,r){return t=Mv(t),wxe(e,x7()?Reflect.construct(t,r||[],Mv(e).constructor):t.apply(e,r))}function wxe(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _xe(e)}function _xe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x7=function(){return!!e})()}function Mv(e){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mv(e)}function Sxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j_(e,t)}function j_(e,t){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j_(e,t)}function cb(e,t,r){return t=w7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w7(e){var t=jxe(e,"string");return bf(t)=="symbol"?t:t+""}function jxe(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Axe=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,s=bA({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Ds(t,"discard")&&!s.isInRange(o)?null:o},db=function(e){function t(){return yxe(this,t),xxe(this,t,arguments)}return Sxe(t,e),bxe(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,u=kn(i),c=kn(a);if(ls(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Axe(this.props);if(!f)return null;var p=f.x,h=f.y,y=this.props,g=y.shape,b=y.className,v=Ds(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=e6(e6({clipPath:v},xt(this.props,!0)),{},{cx:p,cy:h});return oe.createElement(Zt,{className:Ut("recharts-reference-dot",b)},t.renderDot(g,w),Ln.renderCallByParent(this.props,{x:p-s,y:h-s,width:2*s,height:2*s}))}}])}(oe.Component);cb(db,"displayName","ReferenceDot");cb(db,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});cb(db,"renderDot",function(e,t){var r;return oe.isValidElement(e)?r=oe.cloneElement(e,t):Nt(e)?r=e(t):r=oe.createElement(rb,S_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function A_(){return A_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A_.apply(this,arguments)}function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function t6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function r6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t6(Object(r),!0).forEach(function(n){fb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S7(n.key),n)}}function Exe(e,t,r){return t&&kxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oxe(e,t,r){return t=Dv(t),Pxe(e,_7()?Reflect.construct(t,r||[],Dv(e).constructor):t.apply(e,r))}function Pxe(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cxe(e)}function Cxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_7=function(){return!!e})()}function Dv(e){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dv(e)}function Txe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N_(e,t)}function N_(e,t){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},N_(e,t)}function fb(e,t,r){return t=S7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S7(e){var t=Lxe(e,"string");return xf(t)=="symbol"?t:t+""}function Lxe(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ixe=function(t,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var p=bA({x:c.scale,y:f.scale}),h={x:t?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},y={x:r?p.x.apply(o,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Ds(a,"discard")&&(!p.isInRange(h)||!p.isInRange(y))?null:u7(h,y)},hb=function(e){function t(){return Nxe(this,t),Oxe(this,t,arguments)}return Txe(t,e),Exe(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,u=n.alwaysShow,c=n.clipPathId;ls(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=kn(i),p=kn(a),h=kn(s),y=kn(o),g=this.props.shape;if(!f&&!p&&!h&&!y&&!g)return null;var b=Ixe(f,p,h,y,this.props);if(!b&&!g)return null;var v=Ds(this.props,"hidden")?"url(#".concat(c,")"):void 0;return oe.createElement(Zt,{className:Ut("recharts-reference-area",l)},t.renderRect(g,r6(r6({clipPath:v},xt(this.props,!0)),b)),Ln.renderCallByParent(this.props,b))}}])}(oe.Component);fb(hb,"displayName","ReferenceArea");fb(hb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});fb(hb,"renderRect",function(e,t){var r;return oe.isValidElement(e)?r=oe.cloneElement(e,t):Nt(e)?r=e(t):r=oe.createElement(vA,A_({},t,{className:"recharts-reference-area-rect"})),r});function j7(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function Rxe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Obe(n,r)}function $xe(e,t,r){var n=r==="width",i=e.x,a=e.y,s=e.width,o=e.height;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Bv(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function Mxe(e,t){return j7(e,t+1)}function Dxe(e,t,r,n,i){for(var a=(n||[]).slice(),s=t.start,o=t.end,l=0,u=1,c=s,f=function(){var y=n==null?void 0:n[l];if(y===void 0)return{v:j7(n,u)};var g=l,b,v=function(){return b===void 0&&(b=r(y,g)),b},w=y.coordinate,_=l===0||Bv(e,w,v,c,o);_||(l=0,c=s,u+=1),_&&(c=w+e*(v()/2+i),l+=u)},p;u<=a.length;)if(p=f(),p)return p.v;return[]}function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function n6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n6(Object(r),!0).forEach(function(n){Bxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bxe(e,t,r){return t=Fxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fxe(e){var t=Uxe(e,"string");return Tm(t)=="symbol"?t:t+""}function Uxe(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zxe(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=t.start,l=t.end,u=function(p){var h=a[p],y,g=function(){return y===void 0&&(y=r(h,p)),y};if(p===s-1){var b=e*(h.coordinate+e*g()/2-l);a[p]=h=ri(ri({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate})}else a[p]=h=ri(ri({},h),{},{tickCoord:h.coordinate});var v=Bv(e,h.tickCoord,g,o,l);v&&(l=h.tickCoord-e*(g()/2+i),a[p]=ri(ri({},h),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return a}function qxe(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=t.start,u=t.end;if(a){var c=n[o-1],f=r(c,o-1),p=e*(c.coordinate+e*f/2-u);s[o-1]=c=ri(ri({},c),{},{tickCoord:p>0?c.coordinate-p*e:c.coordinate});var h=Bv(e,c.tickCoord,function(){return f},l,u);h&&(u=c.tickCoord-e*(f/2+i),s[o-1]=ri(ri({},c),{},{isShow:!0}))}for(var y=a?o-1:o,g=function(w){var _=s[w],A,S=function(){return A===void 0&&(A=r(_,w)),A};if(w===0){var j=e*(_.coordinate-e*S()/2-l);s[w]=_=ri(ri({},_),{},{tickCoord:j<0?_.coordinate-j*e:_.coordinate})}else s[w]=_=ri(ri({},_),{},{tickCoord:_.coordinate});var O=Bv(e,_.tickCoord,S,l,u);O&&(l=_.tickCoord+e*(S()/2+i),s[w]=ri(ri({},_),{},{isShow:!0}))},b=0;b<y;b++)g(b);return s}function NA(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,u=e.tickFormatter,c=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(Ge(l)||wc.isSsr)return Mxe(i,typeof l=="number"&&Ge(l)?l:0);var p=[],h=o==="top"||o==="bottom"?"width":"height",y=c&&h==="width"?bp(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(_,A){var S=Nt(u)?u(_.value,A):_.value;return h==="width"?Rxe(bp(S,{fontSize:t,letterSpacing:r}),y,f):bp(S,{fontSize:t,letterSpacing:r})[h]},b=i.length>=2?fi(i[1].coordinate-i[0].coordinate):1,v=$xe(a,b,h);return l==="equidistantPreserveStart"?Dxe(b,v,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=qxe(b,v,g,i,s,l==="preserveStartEnd"):p=zxe(b,v,g,i,s),p.filter(function(w){return w.isShow}))}var Wxe=["viewBox"],Hxe=["viewBox"],Vxe=["ticks"];function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wd.apply(this,arguments)}function i6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i6(Object(r),!0).forEach(function(n){kA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p2(e,t){if(e==null)return{};var r=Gxe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N7(n.key),n)}}function Yxe(e,t,r){return t&&a6(e.prototype,t),r&&a6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xxe(e,t,r){return t=Fv(t),Jxe(e,A7()?Reflect.construct(t,r||[],Fv(e).constructor):t.apply(e,r))}function Jxe(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zxe(e)}function Zxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A7=function(){return!!e})()}function Fv(e){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fv(e)}function Qxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k_(e,t)}function k_(e,t){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k_(e,t)}function kA(e,t,r){return t=N7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N7(e){var t=e2e(e,"string");return wf(t)=="symbol"?t:t+""}function e2e(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zf=function(e){function t(r){var n;return Kxe(this,t),n=Xxe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Qxe(t,e),Yxe(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=p2(n,Wxe),o=this.props,l=o.viewBox,u=p2(o,Hxe);return!Id(a,l)||!Id(s,u)||!Id(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,p=i.tickMargin,h,y,g,b,v,w,_=f?-1:1,A=n.tickSize||c,S=Ge(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":h=y=n.coordinate,b=s+ +!f*l,g=b-_*A,w=g-_*p,v=S;break;case"left":g=b=n.coordinate,y=a+ +!f*o,h=y-_*A,v=h-_*p,w=S;break;case"right":g=b=n.coordinate,y=a+ +f*o,h=y+_*A,v=h+_*p,w=S;break;default:h=y=n.coordinate,b=s+ +f*l,g=b+_*A,w=g+_*p,v=S;break}return{line:{x1:h,y1:g,x2:y,y2:b},tick:{x:v,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,u=n.mirror,c=n.axisLine,f=wn(wn(wn({},xt(this.props,!1)),xt(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);f=wn(wn({},f),{},{x1:i,y1:a+p*o,x2:i+s,y2:a+p*o})}else{var h=+(l==="left"&&!u||l==="right"&&u);f=wn(wn({},f),{},{x1:i+h*s,y1:a,x2:i+h*s,y2:a+o})}return oe.createElement("line",wd({},f,{className:Ut("recharts-cartesian-axis-line",na(c,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,u=o.stroke,c=o.tick,f=o.tickFormatter,p=o.unit,h=NA(wn(wn({},this.props),{},{ticks:n}),i,a),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),b=xt(this.props,!1),v=xt(c,!1),w=wn(wn({},b),{},{fill:"none"},xt(l,!1)),_=h.map(function(A,S){var j=s.getTickLineCoord(A),O=j.line,L=j.tick,I=wn(wn(wn(wn({textAnchor:y,verticalAnchor:g},b),{},{stroke:"none",fill:u},v),L),{},{index:S,payload:A,visibleTicksCount:h.length,tickFormatter:f});return oe.createElement(Zt,wd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},lc(s.props,A,S)),l&&oe.createElement("line",wd({},w,O,{className:Ut("recharts-cartesian-axis-tick-line",na(l,"className"))})),c&&t.renderTickItem(c,I,"".concat(Nt(f)?f(A.value,S):A.value).concat(p||"")))});return oe.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,p=f.ticks,h=p2(f,Vxe),y=p;return Nt(l)&&(y=p&&p.length>0?l(this.props):l(h)),s<=0||o<=0||!y||!y.length?null:oe.createElement(Zt,{className:Ut("recharts-cartesian-axis",u),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Ln.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=Ut(i.className,"recharts-cartesian-axis-tick-value");return oe.isValidElement(n)?s=oe.cloneElement(n,wn(wn({},i),{},{className:o})):Nt(n)?s=n(wn(wn({},i),{},{className:o})):s=oe.createElement(uc,wd({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(X.Component);kA(Zf,"displayName","CartesianAxis");kA(Zf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var t2e=["x1","y1","x2","y2","key"],r2e=["offset"];function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function s6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s6(Object(r),!0).forEach(function(n){n2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n2e(e,t,r){return t=i2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i2e(e){var t=a2e(e,"string");return fc(t)=="symbol"?t:t+""}function a2e(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(this,arguments)}function o6(e,t){if(e==null)return{};var r=s2e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var o2e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,s=t.width,o=t.height,l=t.ry;return oe.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function k7(e,t){var r;if(oe.isValidElement(e))r=oe.cloneElement(e,t);else if(Nt(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,s=t.y2,o=t.key,l=o6(t,t2e),u=xt(l,!1);u.offset;var c=o6(u,r2e);r=oe.createElement("line",Yu({},c,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function l2e(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=ii(ii({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return k7(i,u)});return oe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function u2e(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=ii(ii({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return k7(i,u)});return oe.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function c2e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var c=o.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==c[0]&&c.unshift(0);var f=c.map(function(p,h){var y=!c[h+1],g=y?i+s-p:c[h+1]-p;if(g<=0)return null;var b=h%t.length;return oe.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:g,width:a,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return oe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function d2e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,s=e.y,o=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var c=u.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==c[0]&&c.unshift(0);var f=c.map(function(p,h){var y=!c[h+1],g=y?a+o-p:c[h+1]-p;if(g<=0)return null;var b=h%n.length;return oe.createElement("rect",{key:"react-".concat(h),x:p,y:s,width:g,height:l,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return oe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var f2e=function(t,r){var n=t.xAxis,i=t.width,a=t.height,s=t.offset;return SM(NA(ii(ii(ii({},Zf.defaultProps),n),{},{ticks:_o(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},h2e=function(t,r){var n=t.yAxis,i=t.width,a=t.height,s=t.offset;return SM(NA(ii(ii(ii({},Zf.defaultProps),n),{},{ticks:_o(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Xc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ng(e){var t,r,n,i,a,s,o=_A(),l=SA(),u=exe(),c=ii(ii({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Xc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Xc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Xc.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Xc.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Xc.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Xc.verticalFill,x:Ge(e.x)?e.x:u.left,y:Ge(e.y)?e.y:u.top,width:Ge(e.width)?e.width:u.width,height:Ge(e.height)?e.height:u.height}),f=c.x,p=c.y,h=c.width,y=c.height,g=c.syncWithTicks,b=c.horizontalValues,v=c.verticalValues,w=Jbe(),_=Zbe();if(!Ge(h)||h<=0||!Ge(y)||y<=0||!Ge(f)||f!==+f||!Ge(p)||p!==+p)return null;var A=c.verticalCoordinatesGenerator||f2e,S=c.horizontalCoordinatesGenerator||h2e,j=c.horizontalPoints,O=c.verticalPoints;if((!j||!j.length)&&Nt(S)){var L=b&&b.length,I=S({yAxis:_?ii(ii({},_),{},{ticks:L?b:_.ticks}):void 0,width:o,height:l,offset:u},L?!0:g);ls(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(fc(I),"]")),Array.isArray(I)&&(j=I)}if((!O||!O.length)&&Nt(A)){var F=v&&v.length,k=A({xAxis:w?ii(ii({},w),{},{ticks:F?v:w.ticks}):void 0,width:o,height:l,offset:u},F?!0:g);ls(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(fc(k),"]")),Array.isArray(k)&&(O=k)}return oe.createElement("g",{className:"recharts-cartesian-grid"},oe.createElement(o2e,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),oe.createElement(l2e,Yu({},c,{offset:u,horizontalPoints:j,xAxis:w,yAxis:_})),oe.createElement(u2e,Yu({},c,{offset:u,verticalPoints:O,xAxis:w,yAxis:_})),oe.createElement(c2e,Yu({},c,{horizontalPoints:j})),oe.createElement(d2e,Yu({},c,{verticalPoints:O})))}ng.displayName="CartesianGrid";var p2e=["type","layout","connectNulls","ref"],m2e=["key"];function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function l6(e,t){if(e==null)return{};var r=g2e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ap.apply(this,arguments)}function u6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u6(Object(r),!0).forEach(function(n){rs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jc(e){return x2e(e)||b2e(e)||v2e(e)||y2e()}function y2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v2e(e,t){if(e){if(typeof e=="string")return E_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E_(e,t)}}function b2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function x2e(e){if(Array.isArray(e))return E_(e)}function E_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O7(n.key),n)}}function _2e(e,t,r){return t&&c6(e.prototype,t),r&&c6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function S2e(e,t,r){return t=Uv(t),j2e(e,E7()?Reflect.construct(t,r||[],Uv(e).constructor):t.apply(e,r))}function j2e(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A2e(e)}function A2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E7=function(){return!!e})()}function Uv(e){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uv(e)}function N2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O_(e,t)}function O_(e,t){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O_(e,t)}function rs(e,t,r){return t=O7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O7(e){var t=k2e(e,"string");return _f(t)=="symbol"?t:t+""}function k2e(e,t){if(_f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fl=function(e){function t(){var r;w2e(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=S2e(this,t,[].concat(i)),rs(r,"state",{isAnimationFinished:!0,totalLength:0}),rs(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),rs(r,"getStrokeDasharray",function(s,o,l){var u=l.reduce(function(v,w){return v+w});if(!u)return r.generateSimpleStrokeDasharray(o,s);for(var c=Math.floor(s/u),f=s%u,p=o-s,h=[],y=0,g=0;y<l.length;g+=l[y],++y)if(g+l[y]>f){h=[].concat(Jc(l.slice(0,y)),[f-g]);break}var b=h.length%2===0?[0,p]:[p];return[].concat(Jc(t.repeat(l,c)),Jc(h),b).map(function(v){return"".concat(v,"px")}).join(", ")}),rs(r,"id",Hf("recharts-line-")),rs(r,"pathRef",function(s){r.mainCurve=s}),rs(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),rs(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return N2e(t,e),_2e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=ia(c,rg);if(!f)return null;var p=function(g,b){return{x:g.x,y:g.y,value:g.value,errorVal:An(g.payload,b)}},h={clipPath:n?"url(#clipPath-".concat(i,")"):null};return oe.createElement(Zt,h,f.map(function(y){return oe.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,c=o.dataKey,f=xt(this.props,!1),p=xt(l,!0),h=u.map(function(g,b){var v=Hi(Hi(Hi({key:"dot-".concat(b),r:3},f),p),{},{index:b,cx:g.x,cy:g.y,value:g.value,dataKey:c,payload:g.payload,points:u});return t.renderDotItem(l,v)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return oe.createElement(Zt,Ap({className:"recharts-line-dots",key:"dots"},y),h)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,l=o.type,u=o.layout,c=o.connectNulls;o.ref;var f=l6(o,p2e),p=Hi(Hi(Hi({},xt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:l,layout:u,connectNulls:c});return oe.createElement(wv,Ap({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,u=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,p=s.animationEasing,h=s.animationId,y=s.animateNewValues,g=s.width,b=s.height,v=this.state,w=v.prevPoints,_=v.totalLength;return oe.createElement(zs,{begin:c,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var S=A.t;if(w){var j=w.length/o.length,O=o.map(function(P,M){var D=Math.floor(M*j);if(w[D]){var U=w[D],H=Yi(U.x,P.x),V=Yi(U.y,P.y);return Hi(Hi({},P),{},{x:H(S),y:V(S)})}if(y){var B=Yi(g*2,P.x),J=Yi(b/2,P.y);return Hi(Hi({},P),{},{x:B(S),y:J(S)})}return Hi(Hi({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(O,n,i)}var L=Yi(0,_),I=L(S),F;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});F=a.getStrokeDasharray(I,_,k)}else F=a.generateSimpleStrokeDasharray(_,I);return a.renderCurveStatically(o,n,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return o&&s&&s.length&&(!u&&c>0||!tg(u,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,p=i.left,h=i.width,y=i.height,g=i.isAnimationActive,b=i.id;if(a||!o||!o.length)return null;var v=this.state.isAnimationFinished,w=o.length===1,_=Ut("recharts-line",l),A=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,j=A||S,O=$t(b)?this.id:b,L=(n=xt(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=L.r,F=I===void 0?3:I,k=L.strokeWidth,P=k===void 0?2:k,M=YQ(s)?s:{},D=M.clipDot,U=D===void 0?!0:D,H=F*2+P;return oe.createElement(Zt,{className:_},A||S?oe.createElement("defs",null,oe.createElement("clipPath",{id:"clipPath-".concat(O)},oe.createElement("rect",{x:A?p:p-h/2,y:S?f:f-y/2,width:A?h:h*2,height:S?y:y*2})),!U&&oe.createElement("clipPath",{id:"clipPath-dots-".concat(O)},oe.createElement("rect",{x:p-H/2,y:f-H/2,width:h+H,height:y+H}))):null,!w&&this.renderCurve(j,O),this.renderErrorBar(j,O),(w||s)&&this.renderDots(j,U,O),(!g||v)&&ko.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Jc(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(Jc(s),Jc(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(oe.isValidElement(n))a=oe.cloneElement(n,i);else if(Nt(n))a=n(i);else{var s=i.key,o=l6(i,m2e),l=Ut("recharts-line-dot",typeof n!="boolean"?n.className:"");a=oe.createElement(rb,Ap({key:s},o,{className:l}))}return a}}])}(X.PureComponent);rs(Fl,"displayName","Line");rs(Fl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!wc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});rs(Fl,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,u=e.offset,c=t.layout,f=l.map(function(p,h){var y=An(p,s);return c==="horizontal"?{x:IO({axis:r,ticks:i,bandSize:o,entry:p,index:h}),y:$t(y)?null:n.scale(y),value:y,payload:p}:{x:$t(y)?null:r.scale(y),y:IO({axis:n,ticks:a,bandSize:o,entry:p,index:h}),value:y,payload:p}});return Hi({points:f,layout:c},u)});function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function E2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T7(n.key),n)}}function P2e(e,t,r){return t&&O2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C2e(e,t,r){return t=zv(t),T2e(e,P7()?Reflect.construct(t,r||[],zv(e).constructor):t.apply(e,r))}function T2e(e,t){if(t&&(Sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L2e(e)}function L2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P7=function(){return!!e})()}function zv(e){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zv(e)}function I2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P_(e,t)}function P_(e,t){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},P_(e,t)}function C7(e,t,r){return t=T7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T7(e){var t=R2e(e,"string");return Sf(t)=="symbol"?t:t+""}function R2e(e,t){if(Sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C_.apply(this,arguments)}function $2e(e){var t=e.xAxisId,r=_A(),n=SA(),i=g7(t);return i==null?null:X.createElement(Zf,C_({},i,{className:Ut("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return _o(s,!0)}}))}var Zl=function(e){function t(){return E2e(this,t),C2e(this,t,arguments)}return I2e(t,e),P2e(t,[{key:"render",value:function(){return X.createElement($2e,this.props)}}])}(X.Component);C7(Zl,"displayName","XAxis");C7(Zl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function M2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R7(n.key),n)}}function B2e(e,t,r){return t&&D2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F2e(e,t,r){return t=qv(t),U2e(e,L7()?Reflect.construct(t,r||[],qv(e).constructor):t.apply(e,r))}function U2e(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z2e(e)}function z2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L7=function(){return!!e})()}function qv(e){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qv(e)}function q2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T_(e,t)}function T_(e,t){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T_(e,t)}function I7(e,t,r){return t=R7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R7(e){var t=W2e(e,"string");return jf(t)=="symbol"?t:t+""}function W2e(e,t){if(jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L_.apply(this,arguments)}var H2e=function(t){var r=t.yAxisId,n=_A(),i=SA(),a=y7(r);return a==null?null:X.createElement(Zf,L_({},a,{className:Ut("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return _o(o,!0)}}))},Ql=function(e){function t(){return M2e(this,t),F2e(this,t,arguments)}return q2e(t,e),B2e(t,[{key:"render",value:function(){return X.createElement(H2e,this.props)}}])}(X.Component);I7(Ql,"displayName","YAxis");I7(Ql,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function d6(e){return Y2e(e)||K2e(e)||G2e(e)||V2e()}function V2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G2e(e,t){if(e){if(typeof e=="string")return I_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I_(e,t)}}function K2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y2e(e){if(Array.isArray(e))return I_(e)}function I_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R_=function(t,r,n,i,a){var s=ia(t,AA),o=ia(t,db),l=[].concat(d6(s),d6(o)),u=ia(t,hb),c="".concat(i,"Id"),f=i[0],p=r;if(l.length&&(p=l.reduce(function(g,b){if(b.props[c]===n&&Ds(b.props,"extendDomain")&&Ge(b.props[f])){var v=b.props[f];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},p)),u.length){var h="".concat(f,"1"),y="".concat(f,"2");p=u.reduce(function(g,b){if(b.props[c]===n&&Ds(b.props,"extendDomain")&&Ge(b.props[h])&&Ge(b.props[y])){var v=b.props[h],w=b.props[y];return[Math.min(g[0],v,w),Math.max(g[1],v,w)]}return g},p)}return a&&a.length&&(p=a.reduce(function(g,b){return Ge(b)?[Math.min(g[0],b),Math.max(g[1],b)]:g},p)),p},$7={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,f||l,p),y=r?r+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],h]:l._events[y].push(h):(l._events[y]=h,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=r?r+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,y=new Array(h);p<h;p++)y[p]=f[p].fn;return y},o.prototype.listenerCount=function(u){var c=r?r+u:u,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,c,f,p,h,y){var g=r?r+u:u;if(!this._events[g])return!1;var b=this._events[g],v=arguments.length,w,_;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,f),!0;case 4:return b.fn.call(b.context,c,f,p),!0;case 5:return b.fn.call(b.context,c,f,p,h),!0;case 6:return b.fn.call(b.context,c,f,p,h,y),!0}for(_=1,w=new Array(v-1);_<v;_++)w[_-1]=arguments[_];b.fn.apply(b.context,w)}else{var A=b.length,S;for(_=0;_<A;_++)switch(b[_].once&&this.removeListener(u,b[_].fn,void 0,!0),v){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,c);break;case 3:b[_].fn.call(b[_].context,c,f);break;case 4:b[_].fn.call(b[_].context,c,f,p);break;default:if(!w)for(S=1,w=new Array(v-1);S<v;S++)w[S-1]=arguments[S];b[_].fn.apply(b[_].context,w)}}return!0},o.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},o.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},o.prototype.removeListener=function(u,c,f,p){var h=r?r+u:u;if(!this._events[h])return this;if(!c)return s(this,h),this;var y=this._events[h];if(y.fn)y.fn===c&&(!p||y.once)&&(!f||y.context===f)&&s(this,h);else{for(var g=0,b=[],v=y.length;g<v;g++)(y[g].fn!==c||p&&!y[g].once||f&&y[g].context!==f)&&b.push(y[g]);b.length?this._events[h]=b.length===1?b[0]:b:s(this,h)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})($7);var X2e=$7.exports;const J2e=nr(X2e);var m2=new J2e,g2="recharts.syncMouseEvents";function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function Z2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M7(n.key),n)}}function ewe(e,t,r){return t&&Q2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y2(e,t,r){return t=M7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M7(e){var t=twe(e,"string");return Lm(t)=="symbol"?t:t+""}function twe(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rwe=function(){function e(){Z2e(this,e),y2(this,"activeIndex",0),y2(this,"coordinateList",[]),y2(this,"layout","horizontal")}return ewe(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,u=l===void 0?null:l,c=r.offset,f=c===void 0?null:c,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,c=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+u,p=s+this.offset.top+o/2+c;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function nwe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&Ge(n)&&Ge(i))return!0}return!1}function iwe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function D7(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,s=Ar(t,r,n,i),o=Ar(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function awe(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,u=t.innerRadius,c=t.outerRadius,f=t.angle,p=Ar(o,l,u,f),h=Ar(o,l,c,f);n=p.x,i=p.y,a=h.x,s=h.y}else return D7(t);return[{x:n,y:i},{x:a,y:s}]}function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function f6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function k0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f6(Object(r),!0).forEach(function(n){swe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function swe(e,t,r){return t=owe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function owe(e){var t=lwe(e,"string");return Im(t)=="symbol"?t:t+""}function lwe(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uwe(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,u=e.activeTooltipIndex,c=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,h=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!a||!s||p!=="ScatterChart"&&i!=="axis")return null;var y,g=wv;if(p==="ScatterChart")y=s,g=kye;else if(p==="BarChart")y=iwe(f,s,l,c),g=vA;else if(f==="radial"){var b=D7(s),v=b.cx,w=b.cy,_=b.radius,A=b.startAngle,S=b.endAngle;y={cx:v,cy:w,startAngle:A,endAngle:S,innerRadius:_,outerRadius:_},g=IM}else y={points:awe(f,s,l)},g=wv;var j=k0(k0(k0(k0({stroke:"#ccc",pointerEvents:"none"},l),y),xt(h,!1)),{},{payload:o,payloadIndex:u,className:Ut("recharts-tooltip-cursor",h.className)});return X.isValidElement(h)?X.cloneElement(h,j):X.createElement(g,j)}var cwe=["item"],dwe=["children","className","width","height","style","compact","title","desc"];function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_d.apply(this,arguments)}function h6(e,t){return pwe(e)||hwe(e,t)||F7(e,t)||fwe()}function fwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function pwe(e){if(Array.isArray(e))return e}function p6(e,t){if(e==null)return{};var r=mwe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ywe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U7(n.key),n)}}function vwe(e,t,r){return t&&ywe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bwe(e,t,r){return t=Wv(t),xwe(e,B7()?Reflect.construct(t,r||[],Wv(e).constructor):t.apply(e,r))}function xwe(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wwe(e)}function wwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B7=function(){return!!e})()}function Wv(e){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wv(e)}function _we(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$_(e,t)}function $_(e,t){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$_(e,t)}function Nf(e){return Awe(e)||jwe(e)||F7(e)||Swe()}function Swe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F7(e,t){if(e){if(typeof e=="string")return M_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M_(e,t)}}function jwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Awe(e){if(Array.isArray(e))return M_(e)}function M_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m6(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _t(e,t,r){return t=U7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U7(e){var t=Nwe(e,"string");return Af(t)=="symbol"?t:t+""}function Nwe(e,t){if(Af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kwe={xAxis:["bottom","top"],yAxis:["left","right"]},Ewe={width:"100%",height:"100%"},z7={x:0,y:0};function E0(e){return e}var Owe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Pwe=function(t,r,n,i){var a=r.find(function(c){return c&&c.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,o=i.radius;return Ne(Ne(Ne({},i),Ar(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,u=i.angle;return Ne(Ne(Ne({},i),Ar(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return z7},pb=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(Nf(o),Nf(u)):o},[]);return s.length>0?s:t&&t.length&&Ge(i)&&Ge(a)?t.slice(i,a+1):[]};function q7(e){return e==="number"?[0,"auto"]:void 0}var D_=function(t,r,n,i){var a=t.graphicalItems,s=t.tooltipAxis,o=pb(r,t);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var h=f===void 0?o:f;p=Wy(h,s.dataKey,i)}else p=f&&f[n]||o[n];return p?[].concat(Nf(l),[EM(u,p)]):l},[])},g6=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},s=Owe(a,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,c=Xpe(s,o,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,p=D_(t,r,c,f),h=Pwe(n,o,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},Cwe=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=t.layout,f=t.children,p=t.stackOffset,h=_M(c,a);return n.reduce(function(y,g){var b,v=g.type.defaultProps!==void 0?Ne(Ne({},g.type.defaultProps),g.props):g.props,w=v.type,_=v.dataKey,A=v.allowDataOverflow,S=v.allowDuplicatedCategory,j=v.scale,O=v.ticks,L=v.includeHidden,I=v[s];if(y[I])return y;var F=pb(t.data,{graphicalItems:i.filter(function(T){var C,K=s in T.props?T.props[s]:(C=T.type.defaultProps)===null||C===void 0?void 0:C[s];return K===I}),dataStartIndex:l,dataEndIndex:u}),k=F.length,P,M,D;nwe(v.domain,A,w)&&(P=Z5(v.domain,null,A),h&&(w==="number"||j!=="auto")&&(D=wp(F,_,"category")));var U=q7(w);if(!P||P.length===0){var H,V=(H=v.domain)!==null&&H!==void 0?H:U;if(_){if(P=wp(F,_,w),w==="category"&&h){var B=BQ(P);S&&B?(M=P,P=Cv(0,k)):S||(P=DO(V,P,g).reduce(function(T,C){return T.indexOf(C)>=0?T:[].concat(Nf(T),[C])},[]))}else if(w==="category")S?P=P.filter(function(T){return T!==""&&!$t(T)}):P=DO(V,P,g).reduce(function(T,C){return T.indexOf(C)>=0||C===""||$t(C)?T:[].concat(Nf(T),[C])},[]);else if(w==="number"){var J=tme(F,i.filter(function(T){var C,K,Q=s in T.props?T.props[s]:(C=T.type.defaultProps)===null||C===void 0?void 0:C[s],ie="hide"in T.props?T.props.hide:(K=T.type.defaultProps)===null||K===void 0?void 0:K.hide;return Q===I&&(L||!ie)}),_,a,c);J&&(P=J)}h&&(w==="number"||j!=="auto")&&(D=wp(F,_,"category"))}else h?P=Cv(0,k):o&&o[I]&&o[I].hasStack&&w==="number"?P=p==="expand"?[0,1]:kM(o[I].stackGroups,l,u):P=wM(F,i.filter(function(T){var C=s in T.props?T.props[s]:T.type.defaultProps[s],K="hide"in T.props?T.props.hide:T.type.defaultProps.hide;return C===I&&(L||!K)}),w,c,!0);if(w==="number")P=R_(f,P,I,a,O),V&&(P=Z5(V,P,A));else if(w==="category"&&V){var $=V,ae=P.every(function(T){return $.indexOf(T)>=0});ae&&(P=$)}}return Ne(Ne({},y),{},_t({},I,Ne(Ne({},v),{},{axisType:a,domain:P,categoricalDomain:D,duplicateDomain:M,originalDomain:(b=v.domain)!==null&&b!==void 0?b:U,isCategorical:h,layout:c})))},{})},Twe=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=t.layout,f=t.children,p=pb(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),h=p.length,y=_M(c,a),g=-1;return n.reduce(function(b,v){var w=v.type.defaultProps!==void 0?Ne(Ne({},v.type.defaultProps),v.props):v.props,_=w[s],A=q7("number");if(!b[_]){g++;var S;return y?S=Cv(0,h):o&&o[_]&&o[_].hasStack?(S=kM(o[_].stackGroups,l,u),S=R_(f,S,_,a)):(S=Z5(A,wM(p,n.filter(function(j){var O,L,I=s in j.props?j.props[s]:(O=j.type.defaultProps)===null||O===void 0?void 0:O[s],F="hide"in j.props?j.props.hide:(L=j.type.defaultProps)===null||L===void 0?void 0:L.hide;return I===_&&!F}),"number",c),i.defaultProps.allowDataOverflow),S=R_(f,S,_,a)),Ne(Ne({},b),{},_t({},_,Ne(Ne({axisType:a},i.defaultProps),{},{hide:!0,orientation:na(kwe,"".concat(a,".").concat(g%2),null),domain:S,originalDomain:A,isCategorical:y,layout:c})))}return b},{})},Lwe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=t.children,f="".concat(i,"Id"),p=ia(c,a),h={};return p&&p.length?h=Cwe(t,{axes:p,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(h=Twe(t,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),h},Iwe=function(t){var r=vl(t),n=_o(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Hj(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:vv(r,n)}},y6=function(t){var r=t.children,n=t.defaultShowTooltip,i=Ki(r,gf),a=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Rwe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ao(r&&r.type);return n&&n.indexOf("Bar")>=0})},v6=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$we=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,s=a===void 0?{}:a,o=t.yAxisMap,l=o===void 0?{}:o,u=n.width,c=n.height,f=n.children,p=n.margin||{},h=Ki(f,gf),y=Ki(f,$s),g=Object.keys(l).reduce(function(S,j){var O=l[j],L=O.orientation;return!O.mirror&&!O.hide?Ne(Ne({},S),{},_t({},L,S[L]+O.width)):S},{left:p.left||0,right:p.right||0}),b=Object.keys(s).reduce(function(S,j){var O=s[j],L=O.orientation;return!O.mirror&&!O.hide?Ne(Ne({},S),{},_t({},L,na(S,"".concat(L))+O.height)):S},{top:p.top||0,bottom:p.bottom||0}),v=Ne(Ne({},b),g),w=v.bottom;h&&(v.bottom+=h.props.height||gf.defaultProps.height),y&&r&&(v=Qpe(v,i,n,r));var _=u-v.left-v.right,A=c-v.top-v.bottom;return Ne(Ne({brushBottom:w},v),{},{width:Math.max(_,0),height:Math.max(A,0)})},Mwe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},EA=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,u=t.legendContent,c=t.formatAxisMap,f=t.defaultProps,p=function(v,w){var _=w.graphicalItems,A=w.stackGroups,S=w.offset,j=w.updateId,O=w.dataStartIndex,L=w.dataEndIndex,I=v.barSize,F=v.layout,k=v.barGap,P=v.barCategoryGap,M=v.maxBarSize,D=v6(F),U=D.numericAxisName,H=D.cateAxisName,V=Rwe(_),B=[];return _.forEach(function(J,$){var ae=pb(v.data,{graphicalItems:[J],dataStartIndex:O,dataEndIndex:L}),T=J.type.defaultProps!==void 0?Ne(Ne({},J.type.defaultProps),J.props):J.props,C=T.dataKey,K=T.maxBarSize,Q=T["".concat(U,"Id")],ie=T["".concat(H,"Id")],ue={},me=l.reduce(function(Le,_e){var Ce=w["".concat(_e.axisType,"Map")],Re=T["".concat(_e.axisType,"Id")];Ce&&Ce[Re]||_e.axisType==="zAxis"||dc();var Be=Ce[Re];return Ne(Ne({},Le),{},_t(_t({},_e.axisType,Be),"".concat(_e.axisType,"Ticks"),_o(Be)))},ue),se=me[H],ge=me["".concat(H,"Ticks")],Se=A&&A[Q]&&A[Q].hasStack&&cme(J,A[Q].stackGroups),pe=Ao(J.type).indexOf("Bar")>=0,Fe=vv(se,ge),ye=[],ee=V&&Jpe({barSize:I,stackGroups:A,totalSize:Mwe(me,H)});if(pe){var Ze,Qe,Xe=$t(K)?M:K,fe=(Ze=(Qe=vv(se,ge,!0))!==null&&Qe!==void 0?Qe:Xe)!==null&&Ze!==void 0?Ze:0;ye=Zpe({barGap:k,barCategoryGap:P,bandSize:fe!==Fe?fe:Fe,sizeList:ee[ie],maxBarSize:Xe}),fe!==Fe&&(ye=ye.map(function(Le){return Ne(Ne({},Le),{},{position:Ne(Ne({},Le.position),{},{offset:Le.position.offset-fe/2})})}))}var Ue=J&&J.type&&J.type.getComposedData;Ue&&B.push({props:Ne(Ne({},Ue(Ne(Ne({},me),{},{displayedData:ae,props:v,dataKey:C,item:J,bandSize:Fe,barPosition:ye,offset:S,stackedData:Se,layout:F,dataStartIndex:O,dataEndIndex:L}))),{},_t(_t(_t({key:J.key||"item-".concat($)},U,me[U]),H,me[H]),"animationId",j)),childIndex:ZQ(J,v.children),item:J})}),B},h=function(v,w){var _=v.props,A=v.dataStartIndex,S=v.dataEndIndex,j=v.updateId;if(!C3({props:_}))return null;var O=_.children,L=_.layout,I=_.stackOffset,F=_.data,k=_.reverseStackOrder,P=v6(L),M=P.numericAxisName,D=P.cateAxisName,U=ia(O,n),H=lme(F,U,"".concat(M,"Id"),"".concat(D,"Id"),I,k),V=l.reduce(function(T,C){var K="".concat(C.axisType,"Map");return Ne(Ne({},T),{},_t({},K,Lwe(_,Ne(Ne({},C),{},{graphicalItems:U,stackGroups:C.axisType===M&&H,dataStartIndex:A,dataEndIndex:S}))))},{}),B=$we(Ne(Ne({},V),{},{props:_,graphicalItems:U}),w==null?void 0:w.legendBBox);Object.keys(V).forEach(function(T){V[T]=c(_,V[T],B,T.replace("Map",""),r)});var J=V["".concat(D,"Map")],$=Iwe(J),ae=p(_,Ne(Ne({},V),{},{dataStartIndex:A,dataEndIndex:S,updateId:j,graphicalItems:U,stackGroups:H,offset:B}));return Ne(Ne({formattedGraphicalItems:ae,graphicalItems:U,offset:B,stackGroups:H},$),V)},y=function(b){function v(w){var _,A,S;return gwe(this,v),S=bwe(this,v,[w]),_t(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_t(S,"accessibilityManager",new rwe),_t(S,"handleLegendBBoxUpdate",function(j){if(j){var O=S.state,L=O.dataStartIndex,I=O.dataEndIndex,F=O.updateId;S.setState(Ne({legendBBox:j},h({props:S.props,dataStartIndex:L,dataEndIndex:I,updateId:F},Ne(Ne({},S.state),{},{legendBBox:j}))))}}),_t(S,"handleReceiveSyncEvent",function(j,O,L){if(S.props.syncId===j){if(L===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(O)}}),_t(S,"handleBrushChange",function(j){var O=j.startIndex,L=j.endIndex;if(O!==S.state.dataStartIndex||L!==S.state.dataEndIndex){var I=S.state.updateId;S.setState(function(){return Ne({dataStartIndex:O,dataEndIndex:L},h({props:S.props,dataStartIndex:O,dataEndIndex:L,updateId:I},S.state))}),S.triggerSyncEvent({dataStartIndex:O,dataEndIndex:L})}}),_t(S,"handleMouseEnter",function(j){var O=S.getMouseInfo(j);if(O){var L=Ne(Ne({},O),{},{isTooltipActive:!0});S.setState(L),S.triggerSyncEvent(L);var I=S.props.onMouseEnter;Nt(I)&&I(L,j)}}),_t(S,"triggeredAfterMouseMove",function(j){var O=S.getMouseInfo(j),L=O?Ne(Ne({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(L),S.triggerSyncEvent(L);var I=S.props.onMouseMove;Nt(I)&&I(L,j)}),_t(S,"handleItemMouseEnter",function(j){S.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),_t(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),_t(S,"handleMouseMove",function(j){j.persist(),S.throttleTriggeredAfterMouseMove(j)}),_t(S,"handleMouseLeave",function(j){S.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};S.setState(O),S.triggerSyncEvent(O);var L=S.props.onMouseLeave;Nt(L)&&L(O,j)}),_t(S,"handleOuterEvent",function(j){var O=JQ(j),L=na(S.props,"".concat(O));if(O&&Nt(L)){var I,F;/.*touch.*/i.test(O)?F=S.getMouseInfo(j.changedTouches[0]):F=S.getMouseInfo(j),L((I=F)!==null&&I!==void 0?I:{},j)}}),_t(S,"handleClick",function(j){var O=S.getMouseInfo(j);if(O){var L=Ne(Ne({},O),{},{isTooltipActive:!0});S.setState(L),S.triggerSyncEvent(L);var I=S.props.onClick;Nt(I)&&I(L,j)}}),_t(S,"handleMouseDown",function(j){var O=S.props.onMouseDown;if(Nt(O)){var L=S.getMouseInfo(j);O(L,j)}}),_t(S,"handleMouseUp",function(j){var O=S.props.onMouseUp;if(Nt(O)){var L=S.getMouseInfo(j);O(L,j)}}),_t(S,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),_t(S,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.handleMouseDown(j.changedTouches[0])}),_t(S,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.handleMouseUp(j.changedTouches[0])}),_t(S,"handleDoubleClick",function(j){var O=S.props.onDoubleClick;if(Nt(O)){var L=S.getMouseInfo(j);O(L,j)}}),_t(S,"handleContextMenu",function(j){var O=S.props.onContextMenu;if(Nt(O)){var L=S.getMouseInfo(j);O(L,j)}}),_t(S,"triggerSyncEvent",function(j){S.props.syncId!==void 0&&m2.emit(g2,S.props.syncId,j,S.eventEmitterSymbol)}),_t(S,"applySyncEvent",function(j){var O=S.props,L=O.layout,I=O.syncMethod,F=S.state.updateId,k=j.dataStartIndex,P=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)S.setState(Ne({dataStartIndex:k,dataEndIndex:P},h({props:S.props,dataStartIndex:k,dataEndIndex:P,updateId:F},S.state)));else if(j.activeTooltipIndex!==void 0){var M=j.chartX,D=j.chartY,U=j.activeTooltipIndex,H=S.state,V=H.offset,B=H.tooltipTicks;if(!V)return;if(typeof I=="function")U=I(B,j);else if(I==="value"){U=-1;for(var J=0;J<B.length;J++)if(B[J].value===j.activeLabel){U=J;break}}var $=Ne(Ne({},V),{},{x:V.left,y:V.top}),ae=Math.min(M,$.x+$.width),T=Math.min(D,$.y+$.height),C=B[U]&&B[U].value,K=D_(S.state,S.props.data,U),Q=B[U]?{x:L==="horizontal"?B[U].coordinate:ae,y:L==="horizontal"?T:B[U].coordinate}:z7;S.setState(Ne(Ne({},j),{},{activeLabel:C,activeCoordinate:Q,activePayload:K,activeTooltipIndex:U}))}else S.setState(j)}),_t(S,"renderCursor",function(j){var O,L=S.state,I=L.isTooltipActive,F=L.activeCoordinate,k=L.activePayload,P=L.offset,M=L.activeTooltipIndex,D=L.tooltipAxisBandSize,U=S.getTooltipEventType(),H=(O=j.props.active)!==null&&O!==void 0?O:I,V=S.props.layout,B=j.key||"_recharts-cursor";return oe.createElement(uwe,{key:B,activeCoordinate:F,activePayload:k,activeTooltipIndex:M,chartName:r,element:j,isActive:H,layout:V,offset:P,tooltipAxisBandSize:D,tooltipEventType:U})}),_t(S,"renderPolarAxis",function(j,O,L){var I=na(j,"type.axisType"),F=na(S.state,"".concat(I,"Map")),k=j.type.defaultProps,P=k!==void 0?Ne(Ne({},k),j.props):j.props,M=F&&F[P["".concat(I,"Id")]];return X.cloneElement(j,Ne(Ne({},M),{},{className:Ut(I,M.className),key:j.key||"".concat(O,"-").concat(L),ticks:_o(M,!0)}))}),_t(S,"renderPolarGrid",function(j){var O=j.props,L=O.radialLines,I=O.polarAngles,F=O.polarRadius,k=S.state,P=k.radiusAxisMap,M=k.angleAxisMap,D=vl(P),U=vl(M),H=U.cx,V=U.cy,B=U.innerRadius,J=U.outerRadius;return X.cloneElement(j,{polarAngles:Array.isArray(I)?I:_o(U,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(F)?F:_o(D,!0).map(function($){return $.coordinate}),cx:H,cy:V,innerRadius:B,outerRadius:J,key:j.key||"polar-grid",radialLines:L})}),_t(S,"renderLegend",function(){var j=S.state.formattedGraphicalItems,O=S.props,L=O.children,I=O.width,F=O.height,k=S.props.margin||{},P=I-(k.left||0)-(k.right||0),M=bM({children:L,formattedGraphicalItems:j,legendWidth:P,legendContent:u});if(!M)return null;var D=M.item,U=p6(M,cwe);return X.cloneElement(D,Ne(Ne({},U),{},{chartWidth:I,chartHeight:F,margin:k,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),_t(S,"renderTooltip",function(){var j,O=S.props,L=O.children,I=O.accessibilityLayer,F=Ki(L,Si);if(!F)return null;var k=S.state,P=k.isTooltipActive,M=k.activeCoordinate,D=k.activePayload,U=k.activeLabel,H=k.offset,V=(j=F.props.active)!==null&&j!==void 0?j:P;return X.cloneElement(F,{viewBox:Ne(Ne({},H),{},{x:H.left,y:H.top}),active:V,label:U,payload:V?D:[],coordinate:M,accessibilityLayer:I})}),_t(S,"renderBrush",function(j){var O=S.props,L=O.margin,I=O.data,F=S.state,k=F.offset,P=F.dataStartIndex,M=F.dataEndIndex,D=F.updateId;return X.cloneElement(j,{key:j.key||"_recharts-brush",onChange:S0(S.handleBrushChange,j.props.onChange),data:I,x:Ge(j.props.x)?j.props.x:k.left,y:Ge(j.props.y)?j.props.y:k.top+k.height+k.brushBottom-(L.bottom||0),width:Ge(j.props.width)?j.props.width:k.width,startIndex:P,endIndex:M,updateId:"brush-".concat(D)})}),_t(S,"renderReferenceElement",function(j,O,L){if(!j)return null;var I=S,F=I.clipPathId,k=S.state,P=k.xAxisMap,M=k.yAxisMap,D=k.offset,U=j.type.defaultProps||{},H=j.props,V=H.xAxisId,B=V===void 0?U.xAxisId:V,J=H.yAxisId,$=J===void 0?U.yAxisId:J;return X.cloneElement(j,{key:j.key||"".concat(O,"-").concat(L),xAxis:P[B],yAxis:M[$],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:F})}),_t(S,"renderActivePoints",function(j){var O=j.item,L=j.activePoint,I=j.basePoint,F=j.childIndex,k=j.isRange,P=[],M=O.props.key,D=O.item.type.defaultProps!==void 0?Ne(Ne({},O.item.type.defaultProps),O.item.props):O.item.props,U=D.activeDot,H=D.dataKey,V=Ne(Ne({index:F,dataKey:H,cx:L.x,cy:L.y,r:4,fill:yA(O.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},xt(U,!1)),Hy(U));return P.push(v.renderActiveDot(U,V,"".concat(M,"-activePoint-").concat(F))),I?P.push(v.renderActiveDot(U,Ne(Ne({},V),{},{cx:I.x,cy:I.y}),"".concat(M,"-basePoint-").concat(F))):k&&P.push(null),P}),_t(S,"renderGraphicChild",function(j,O,L){var I=S.filterFormatItem(j,O,L);if(!I)return null;var F=S.getTooltipEventType(),k=S.state,P=k.isTooltipActive,M=k.tooltipAxis,D=k.activeTooltipIndex,U=k.activeLabel,H=S.props.children,V=Ki(H,Si),B=I.props,J=B.points,$=B.isRange,ae=B.baseLine,T=I.item.type.defaultProps!==void 0?Ne(Ne({},I.item.type.defaultProps),I.item.props):I.item.props,C=T.activeDot,K=T.hide,Q=T.activeBar,ie=T.activeShape,ue=!!(!K&&P&&V&&(C||Q||ie)),me={};F!=="axis"&&V&&V.props.trigger==="click"?me={onClick:S0(S.handleItemMouseEnter,j.props.onClick)}:F!=="axis"&&(me={onMouseLeave:S0(S.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:S0(S.handleItemMouseEnter,j.props.onMouseEnter)});var se=X.cloneElement(j,Ne(Ne({},I.props),me));function ge(_e){return typeof M.dataKey=="function"?M.dataKey(_e.payload):null}if(ue)if(D>=0){var Se,pe;if(M.dataKey&&!M.allowDuplicatedCategory){var Fe=typeof M.dataKey=="function"?ge:"payload.".concat(M.dataKey.toString());Se=Wy(J,Fe,U),pe=$&&ae&&Wy(ae,Fe,U)}else Se=J==null?void 0:J[D],pe=$&&ae&&ae[D];if(ie||Q){var ye=j.props.activeIndex!==void 0?j.props.activeIndex:D;return[X.cloneElement(j,Ne(Ne(Ne({},I.props),me),{},{activeIndex:ye})),null,null]}if(!$t(Se))return[se].concat(Nf(S.renderActivePoints({item:I,activePoint:Se,basePoint:pe,childIndex:D,isRange:$})))}else{var ee,Ze=(ee=S.getItemByXY(S.state.activeCoordinate))!==null&&ee!==void 0?ee:{graphicalItem:se},Qe=Ze.graphicalItem,Xe=Qe.item,fe=Xe===void 0?j:Xe,Ue=Qe.childIndex,Le=Ne(Ne(Ne({},I.props),me),{},{activeIndex:Ue});return[X.cloneElement(fe,Le),null,null]}return $?[se,null,null]:[se,null]}),_t(S,"renderCustomized",function(j,O,L){return X.cloneElement(j,Ne(Ne({key:"recharts-customized-".concat(L)},S.props),S.state))}),_t(S,"renderMap",{CartesianGrid:{handler:E0,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:E0},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:E0},YAxis:{handler:E0},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:Hf("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=v$(S.triggeredAfterMouseMove,(A=w.throttleDelay)!==null&&A!==void 0?A:1e3/60),S.state={},S}return _we(v,b),vwe(v,[{key:"componentDidMount",value:function(){var _,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,A=_.children,S=_.data,j=_.height,O=_.layout,L=Ki(A,Si);if(L){var I=L.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,k=D_(this.state,S,I,F),P=this.state.tooltipTicks[I].coordinate,M=(this.state.offset.top+j)/2,D=O==="horizontal",U=D?{x:P,y:M}:{y:P,x:M},H=this.state.formattedGraphicalItems.find(function(B){var J=B.item;return J.type.name==="Scatter"});H&&(U=Ne(Ne({},U),H.props.points[I].tooltipPosition),k=H.props.points[I].tooltipPayload);var V={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:F,activePayload:k,activeCoordinate:U};this.setState(V),this.renderCursor(L),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,j;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(_){h5([Ki(_.children,Si)],[Ki(this.props.children,Si)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Ki(this.props.children,Si);if(_&&typeof _.props.shared=="boolean"){var A=_.props.shared?"axis":"item";return o.indexOf(A)>=0?A:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var A=this.container,S=A.getBoundingClientRect(),j=jce(S),O={chartX:Math.round(_.pageX-j.left),chartY:Math.round(_.pageY-j.top)},L=S.width/A.offsetWidth||1,I=this.inRange(O.chartX,O.chartY,L);if(!I)return null;var F=this.state,k=F.xAxisMap,P=F.yAxisMap,M=this.getTooltipEventType(),D=g6(this.state,this.props.data,this.props.layout,I);if(M!=="axis"&&k&&P){var U=vl(k).scale,H=vl(P).scale,V=U&&U.invert?U.invert(O.chartX):null,B=H&&H.invert?H.invert(O.chartY):null;return Ne(Ne({},O),{},{xValue:V,yValue:B},D)}return D?Ne(Ne({},O),D):null}},{key:"inRange",value:function(_,A){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,O=_/S,L=A/S;if(j==="horizontal"||j==="vertical"){var I=this.state.offset,F=O>=I.left&&O<=I.left+I.width&&L>=I.top&&L<=I.top+I.height;return F?{x:O,y:L}:null}var k=this.state,P=k.angleAxisMap,M=k.radiusAxisMap;if(P&&M){var D=vl(P);return UO({x:O,y:L},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,A=this.getTooltipEventType(),S=Ki(_,Si),j={};S&&A==="axis"&&(S.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Hy(this.props,this.handleOuterEvent);return Ne(Ne({},O),j)}},{key:"addListener",value:function(){m2.on(g2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){m2.removeListener(g2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,A,S){for(var j=this.state.formattedGraphicalItems,O=0,L=j.length;O<L;O++){var I=j[O];if(I.item===_||I.props.key===_.key||A===Ao(I.item.type)&&S===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,A=this.state.offset,S=A.left,j=A.top,O=A.height,L=A.width;return oe.createElement("defs",null,oe.createElement("clipPath",{id:_},oe.createElement("rect",{x:S,y:j,height:O,width:L})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(A,S){var j=h6(S,2),O=j[0],L=j[1];return Ne(Ne({},A),{},_t({},O,L.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(A,S){var j=h6(S,2),O=j[0],L=j[1];return Ne(Ne({},A),{},_t({},O,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[_])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(_){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[_])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(_){var A=this.state,S=A.formattedGraphicalItems,j=A.activeItem;if(S&&S.length)for(var O=0,L=S.length;O<L;O++){var I=S[O],F=I.props,k=I.item,P=k.type.defaultProps!==void 0?Ne(Ne({},k.type.defaultProps),k.props):k.props,M=Ao(k.type);if(M==="Bar"){var D=(F.data||[]).find(function(B){return oye(_,B)});if(D)return{graphicalItem:I,payload:D}}else if(M==="RadialBar"){var U=(F.data||[]).find(function(B){return UO(_,B)});if(U)return{graphicalItem:I,payload:U}}else if(ob(I,j)||lb(I,j)||Em(I,j)){var H=Yve({graphicalItem:I,activeTooltipItem:j,itemData:P.data}),V=P.activeIndex===void 0?H:P.activeIndex;return{graphicalItem:Ne(Ne({},I),{},{childIndex:V}),payload:Em(I,j)?P.data[H]:I.props.data[H]}}}return null}},{key:"render",value:function(){var _=this;if(!C3(this))return null;var A=this.props,S=A.children,j=A.className,O=A.width,L=A.height,I=A.style,F=A.compact,k=A.title,P=A.desc,M=p6(A,dwe),D=xt(M,!1);if(F)return oe.createElement(YP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},oe.createElement(m5,_d({},D,{width:O,height:L,title:k,desc:P}),this.renderClipPath(),L3(S,this.renderMap)));if(this.props.accessibilityLayer){var U,H;D.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,D.role=(H=this.props.role)!==null&&H!==void 0?H:"application",D.onKeyDown=function(B){_.accessibilityManager.keyboardEvent(B)},D.onFocus=function(){_.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return oe.createElement(YP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},oe.createElement("div",_d({className:Ut("recharts-wrapper",j),style:Ne({position:"relative",cursor:"default",width:O,height:L},I)},V,{ref:function(J){_.container=J}}),oe.createElement(m5,_d({},D,{width:O,height:L,title:k,desc:P,style:Ewe}),this.renderClipPath(),L3(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(X.Component);_t(y,"displayName",r),_t(y,"defaultProps",Ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),_t(y,"getDerivedStateFromProps",function(b,v){var w=b.dataKey,_=b.data,A=b.children,S=b.width,j=b.height,O=b.layout,L=b.stackOffset,I=b.margin,F=v.dataStartIndex,k=v.dataEndIndex;if(v.updateId===void 0){var P=y6(b);return Ne(Ne(Ne({},P),{},{updateId:0},h(Ne(Ne({props:b},P),{},{updateId:0}),v)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:j,prevLayout:O,prevStackOffset:L,prevMargin:I,prevChildren:A})}if(w!==v.prevDataKey||_!==v.prevData||S!==v.prevWidth||j!==v.prevHeight||O!==v.prevLayout||L!==v.prevStackOffset||!Id(I,v.prevMargin)){var M=y6(b),D={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},U=Ne(Ne({},g6(v,_,O)),{},{updateId:v.updateId+1}),H=Ne(Ne(Ne({},M),D),U);return Ne(Ne(Ne({},H),h(Ne({props:b},H),v)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:j,prevLayout:O,prevStackOffset:L,prevMargin:I,prevChildren:A})}if(!h5(A,v.prevChildren)){var V,B,J,$,ae=Ki(A,gf),T=ae&&(V=(B=ae.props)===null||B===void 0?void 0:B.startIndex)!==null&&V!==void 0?V:F,C=ae&&(J=($=ae.props)===null||$===void 0?void 0:$.endIndex)!==null&&J!==void 0?J:k,K=T!==F||C!==k,Q=!$t(_),ie=Q&&!K?v.updateId:v.updateId+1;return Ne(Ne({updateId:ie},h(Ne(Ne({props:b},v),{},{updateId:ie,dataStartIndex:T,dataEndIndex:C}),v)),{},{prevChildren:A,dataStartIndex:T,dataEndIndex:C})}return null}),_t(y,"renderActiveDot",function(b,v,w){var _;return X.isValidElement(b)?_=X.cloneElement(b,v):Nt(b)?_=b(v):_=oe.createElement(rb,v),oe.createElement(Zt,{className:"recharts-active-dot",key:w},_)});var g=X.forwardRef(function(v,w){return oe.createElement(y,_d({},v,{ref:w}))});return g.displayName=y.displayName,g},OA=EA({chartName:"LineChart",GraphicalChild:Fl,axisComponents:[{axisType:"xAxis",AxisComp:Zl},{axisType:"yAxis",AxisComp:Ql}],formatAxisMap:l7}),Dwe=EA({chartName:"BarChart",GraphicalChild:Ac,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Zl},{axisType:"yAxis",AxisComp:Ql}],formatAxisMap:l7}),Bwe=EA({chartName:"PieChart",GraphicalChild:zo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:sb},{axisType:"radiusAxis",AxisComp:ib}],formatAxisMap:xme,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Fwe({data:e}){const t=["#3b82f6","#60a5fa","#93c5fd","#cbd5e1","#ef4444"];return d.jsx(Ym,{width:"100%",height:300,children:d.jsxs(Dwe,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(ng,{strokeDasharray:"3 3"}),d.jsx(Zl,{dataKey:"range"}),d.jsx(Ql,{}),d.jsx(Si,{}),d.jsx(Ac,{dataKey:"count",fill:"#3b82f6",radius:[8,8,0,0],children:e.map((r,n)=>d.jsx(Xm,{fill:t[n%t.length]},`cell-${n}`))})]})})}function Uwe({data:e}){return d.jsx(Ym,{width:"100%",height:300,children:d.jsxs(OA,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(ng,{strokeDasharray:"3 3"}),d.jsx(Zl,{dataKey:"date"}),d.jsx(Ql,{}),d.jsx(Si,{}),d.jsx($s,{}),d.jsx(Fl,{type:"monotone",dataKey:"completions",stroke:"#10b981",strokeWidth:2,name:"Completions"}),d.jsx(Fl,{type:"monotone",dataKey:"assignments",stroke:"#3b82f6",strokeWidth:2,name:"Assignments"})]})})}const b6=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function zwe({data:e}){return d.jsx(Ym,{width:"100%",height:300,children:d.jsxs(Bwe,{children:[d.jsx(zo,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:({name:t,percent:r})=>`${t}: ${(r*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:e.map((t,r)=>d.jsx(Xm,{fill:b6[r%b6.length]},`cell-${r}`))}),d.jsx(Si,{}),d.jsx($s,{})]})})}function qwe({user:e}){const[t,r]=X.useState({totalAssignments:0,totalCompletions:0,averageScore:0,completionRate:0}),[n,i]=X.useState({scoreDistribution:[],completionTrend:[],stationPerformance:[],studentPerformance:[],hintUsage:[],diagnosisAccuracy:[],timeToCompletion:[],sloTrends:[]}),[a,s]=X.useState(!0);X.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:l}=await Ie.from("stations").select("id, title").eq("created_by",e.id);if(!l)return;const u=l.map(V=>V.id),{data:c}=await Ie.from("case_snapshots").select("id, station_id, clinical_case").in("station_id",u);if(!c)return;const f=c.map(V=>V.id),{data:p}=await Ie.from("assignments").select("id, snapshot_id, created_at, due_at").in("snapshot_id",f),{data:h}=await Ie.from("simulation_runs").select("score, submitted_at, assignment_id, started_at, student_id, transcript").in("assignment_id",(p==null?void 0:p.map(V=>V.id))||[]),y=(h==null?void 0:h.filter(V=>V.submitted_at))||[],g=y.map(V=>{var B;return((B=V.score)==null?void 0:B.overall)||0}).filter(V=>V>0),b=g.length>0?g.reduce((V,B)=>V+B,0)/g.length:0;r({totalAssignments:(p==null?void 0:p.length)||0,totalCompletions:y.length,averageScore:Math.round(b),completionRate:p&&p.length>0?Math.round(y.length/p.length*100):0});const w=[{range:"0-20",min:0,max:20},{range:"21-40",min:21,max:40},{range:"41-60",min:41,max:60},{range:"61-80",min:61,max:80},{range:"81-100",min:81,max:100}].map(V=>({range:V.range,count:g.filter(B=>B>=V.min&&B<=V.max).length})),_=new Date,A=[];for(let V=6;V>=0;V--){const B=new Date(_);B.setDate(B.getDate()-V);const J=B.toISOString().split("T")[0],$=y.filter(T=>{var K;return((K=T.submitted_at)==null?void 0:K.split("T")[0])===J}).length,ae=(p==null?void 0:p.filter(T=>{var K;return((K=T.created_at)==null?void 0:K.split("T")[0])===J}).length)||0;A.push({date:B.toLocaleDateString("en-US",{month:"short",day:"numeric"}),completions:$,assignments:ae})}const S=new Map;y.forEach(V=>{const B=p==null?void 0:p.find(J=>J.id===V.assignment_id);if(B){const J=c.find($=>$.id===B.snapshot_id);if(J){const $=l.find(ae=>ae.id===J.station_id);if($){const ae=S.get($.title||"Untitled")||0;S.set($.title||"Untitled",ae+1)}}}});const j=Array.from(S.entries()).map(([V,B])=>({name:V,value:B})).slice(0,6),O=new Map;p==null||p.forEach(V=>{var C;const B=y.filter(K=>K.assignment_id===V.id),J=B.map(K=>{var Q;return((Q=K.score)==null?void 0:Q.overall)||0}).filter(K=>K>0),$=c.find(K=>K.id===V.snapshot_id),ae=((C=$==null?void 0:$.clinical_case)==null?void 0:C.title)||"Untitled Assignment",T=new Set(B.map(K=>K.student_id));O.set(ae,{scores:J,completions:B.length,totalStudents:T.size})});const L=Array.from(O.entries()).map(([V,B])=>({assignmentTitle:V,averageScore:B.scores.length>0?Math.round(B.scores.reduce((J,$)=>J+$,0)/B.scores.length):0,completions:B.completions,totalStudents:B.totalStudents})).sort((V,B)=>B.averageScore-V.averageScore).slice(0,10),I=new Map;y.forEach(V=>{var J,$;const B=p==null?void 0:p.find(ae=>ae.id===V.assignment_id);if(B){const ae=c.find(Q=>Q.id===B.snapshot_id),T=((J=ae==null?void 0:ae.clinical_case)==null?void 0:J.title)||"Untitled Assignment",C=(($=V.transcript)==null?void 0:$.hintsUsed)||0,K=I.get(T)||{hints:[],total:0};K.hints.push(C),K.total+=C,I.set(T,K)}});const F=Array.from(I.entries()).map(([V,B])=>({assignmentTitle:V,averageHints:B.hints.length>0?Math.round(B.total/B.hints.length*10)/10:0,totalHints:B.total})).sort((V,B)=>B.averageHints-V.averageHints).slice(0,10),k=[];for(let V=6;V>=0;V--){const B=new Date(_);B.setDate(B.getDate()-V);const J=B.toISOString().split("T")[0],$=y.filter(C=>{var Q;return((Q=C.submitted_at)==null?void 0:Q.split("T")[0])===J});let ae=0,T=0;$.forEach(C=>{const K=C.score;(K==null?void 0:K.diagnosisCorrect)!==void 0&&(T++,K.diagnosisCorrect&&ae++)}),k.push({date:B.toLocaleDateString("en-US",{month:"short",day:"numeric"}),accuracy:T>0?Math.round(ae/T*100):0,total:T})}const P=new Map;y.forEach(V=>{var J;const B=p==null?void 0:p.find($=>$.id===V.assignment_id);if(B&&V.started_at&&V.submitted_at){const $=c.find(ie=>ie.id===B.snapshot_id),ae=((J=$==null?void 0:$.clinical_case)==null?void 0:J.title)||"Untitled Assignment",T=new Date(V.started_at).getTime(),K=(new Date(V.submitted_at).getTime()-T)/(1e3*60),Q=P.get(ae)||[];Q.push(K),P.set(ae,Q)}});const M=Array.from(P.entries()).map(([V,B])=>{const J=[...B].sort((ae,T)=>ae-T),$=J.length>0?J[Math.floor(J.length/2)]:0;return{assignmentTitle:V,averageTime:B.length>0?Math.round(B.reduce((ae,T)=>ae+T,0)/B.length*10)/10:0,medianTime:Math.round($*10)/10}}).slice(0,10),D=new Map;y.forEach(V=>{const B=V.score;((B==null?void 0:B.sloResults)||[]).forEach($=>{const ae=D.get($.sloId)||{text:"",correct:0,total:0};ae.total++,$.status==="Achieved"&&ae.correct++,D.set($.sloId,ae)})});const{data:U}=await Ie.from("slo").select("id, text");U==null||U.forEach(V=>{const B=D.get(V.id);B&&(B.text=V.text)});const H=Array.from(D.entries()).map(([V,B])=>({sloId:V,sloText:B.text||"Unknown SLO",achievementRate:B.total>0?Math.round(B.correct/B.total*100):0,attempts:B.total})).sort((V,B)=>B.attempts-V.attempts).slice(0,10);i({scoreDistribution:w,completionTrend:A,stationPerformance:j,studentPerformance:L,hintUsage:F,diagnosisAccuracy:k,timeToCompletion:M,sloTrends:H})}catch(l){console.error("Error loading analytics:",l)}finally{s(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Pi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Analytics Dashboard"}),a?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Assignments"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.totalAssignments})]}),d.jsx(Ca,{className:"w-8 h-8 text-blue-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Completions"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.totalCompletions})]}),d.jsx(jo,{className:"w-8 h-8 text-green-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[t.averageScore,"%"]})]}),d.jsx(Rf,{className:"w-8 h-8 text-purple-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Completion Rate"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[t.completionRate,"%"]})]}),d.jsx(os,{className:"w-8 h-8 text-orange-600"})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Score Distribution"}),n.scoreDistribution.length>0?d.jsx(Fwe,{data:n.scoreDistribution}):d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No score data available"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Completion Trend (Last 7 Days)"}),n.completionTrend.length>0?d.jsx(Uwe,{data:n.completionTrend}):d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No trend data available"})]})]}),n.stationPerformance.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Station Performance"}),d.jsx(zwe,{data:n.stationPerformance})]}),n.studentPerformance.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Top Assignments Performance"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Average Score"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completions"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Students"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.studentPerformance.map((l,u)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.jsxs("span",{className:`font-semibold ${l.averageScore>=80?"text-green-600":l.averageScore>=60?"text-yellow-600":"text-red-600"}`,children:[l.averageScore,"%"]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.completions}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.totalStudents})]},u))})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.diagnosisAccuracy.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Diagnosis Accuracy Trend (Last 7 Days)"}),d.jsx("div",{className:"space-y-3",children:n.diagnosisAccuracy.map((l,u)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:l.date}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${l.accuracy>=80?"bg-green-500":l.accuracy>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${l.accuracy}%`}})}),d.jsxs("span",{className:"text-sm font-semibold text-gray-900 w-12 text-right",children:[l.accuracy,"%"]}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",l.total,")"]})]})]},u))})]}),n.hintUsage.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Hint Usage by Assignment"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Hints"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.hintUsage.map((l,u)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:l.averageHints}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:l.totalHints})]},u))})]})})]})]}),n.timeToCompletion.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Time to Completion"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Time (min)"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Median Time (min)"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.timeToCompletion.map((l,u)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:l.averageTime}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:l.medianTime})]},u))})]})})]}),n.sloTrends.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"SLO Achievement Trends"}),d.jsx("div",{className:"space-y-4",children:n.sloTrends.map((l,u)=>d.jsxs("div",{className:"border-l-4 border-primary-500 pl-4 py-2",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:l.sloText}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${l.achievementRate>=70?"bg-green-500":l.achievementRate>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${l.achievementRate}%`}})}),d.jsxs("span",{className:"text-sm font-semibold text-gray-900 w-16 text-right",children:[l.achievementRate,"%"]}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",l.attempts," attempts)"]})]})]},u))})]})]})]})}),d.jsx(Wn,{role:"faculty"})]})}function Wwe({user:e}){const[t,r]=X.useState({totalStations:0,approvedCases:0,pendingReview:0,totalAssignments:0}),[n,i]=X.useState(!0);X.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:o}=await Ie.from("stations").select("id").eq("created_by",e.id),{data:l}=await Ie.from("case_snapshots").select("id, station_id").eq("approved_by",e.id),u=(o==null?void 0:o.map(g=>g.id))||[],{data:c}=await Ie.from("case_snapshots").select("station_id").in("station_id",u),f=new Set((c==null?void 0:c.map(g=>g.station_id))||[]),p=u.filter(g=>!f.has(g)),h=(l==null?void 0:l.map(g=>g.id))||[],{data:y}=await Ie.from("assignments").select("id").in("snapshot_id",h);r({totalStations:(o==null?void 0:o.length)||0,approvedCases:(l==null?void 0:l.length)||0,pendingReview:p.length,totalAssignments:(y==null?void 0:y.length)||0})}catch(o){console.error("Error loading stats:",o)}finally{i(!1)}},s=async()=>{await nj()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Pi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Profile"}),d.jsx("p",{className:"text-gray-600",children:"View your account information and statistics"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center",children:d.jsx(Is,{className:"w-10 h-10 text-primary-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.name}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(g8,{className:"w-4 h-4"}),d.jsx("span",{children:e.email})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx($f,{className:"w-4 h-4"}),d.jsxs("span",{children:["Member since ",new Date(e.created_at).toLocaleDateString()]})]})]})]}),d.jsx("div",{className:"border-t pt-4",children:d.jsx("div",{className:"flex items-center gap-2 text-sm",children:d.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full font-medium",children:"Faculty"})})})]}),!n&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.totalStations})]}),d.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:d.jsx(sa,{className:"w-6 h-6 text-blue-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Approved Cases"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.approvedCases})]}),d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(os,{className:"w-6 h-6 text-green-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Pending Review"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.pendingReview})]}),d.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:d.jsx(vc,{className:"w-6 h-6 text-yellow-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Assignments"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t.totalAssignments})]}),d.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:d.jsx(sa,{className:"w-6 h-6 text-purple-600"})})]})})]}),n&&d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[d.jsx(m8,{className:"w-5 h-5"}),d.jsx("span",{children:"Sign Out"})]})})]})}),d.jsx(Wn,{role:"faculty"})]})}function x6({user:e}){const t=ds(),[r,n]=X.useState([]),[i,a]=X.useState([]),[s,o]=X.useState(!0),[l,u]=X.useState("all"),[c,f]=X.useState(""),[p,h]=X.useState("all");X.useEffect(()=>{y()},[]),X.useEffect(()=>{g()},[r,l,c,p]);const y=async()=>{try{const{data:S}=await Ie.from("cohort_members").select("cohort_id").eq("student_id",e.id);if(!S||S.length===0){o(!1);return}const j=S.map(F=>F.cohort_id),{data:O,error:L}=await Ie.from("assignments").select("*").in("cohort_id",j).order("created_at",{ascending:!1});if(L)throw L;const I=await Promise.all((O||[]).map(async F=>{var V;const{data:k}=await Ie.from("case_snapshots").select("*").eq("id",F.snapshot_id).single(),{data:P}=await Ie.from("simulation_runs").select("id, score, submitted_at").eq("assignment_id",F.id).eq("student_id",e.id).order("submitted_at",{ascending:!1}),M=(P==null?void 0:P.length)||0,D=(P==null?void 0:P.reduce((B,J)=>{const $=J.score;return Math.max(B,($==null?void 0:$.overall)||0)},0))||0,U=(V=P==null?void 0:P[0])==null?void 0:V.submitted_at;let H="not_started";return M>0&&(H=(P==null?void 0:P.some(J=>J.submitted_at))?"completed":"in_progress"),{...F,snapshot:k,attemptsCount:M,bestScore:D,lastAttempt:U,status:H}}));n(I)}catch(S){console.error("Error loading assignments:",S)}finally{o(!1)}},g=()=>{let S=[...r];if(p==="pending"?S=S.filter(j=>j.status==="not_started"&&(!j.due_at||new Date(j.due_at)>new Date)):p==="in_progress"?S=S.filter(j=>j.status==="in_progress"):p==="completed"&&(S=S.filter(j=>j.status==="completed")),l!=="all"&&(S=S.filter(j=>j.status===l)),c){const j=c.toLowerCase();S=S.filter(O=>{var L,I,F,k,P,M,D;return((F=(I=(L=O.snapshot)==null?void 0:L.clinical_case)==null?void 0:I.title)==null?void 0:F.toLowerCase().includes(j))||((D=(M=(P=(k=O.snapshot)==null?void 0:k.clinical_case)==null?void 0:P.patientProfile)==null?void 0:M.name)==null?void 0:D.toLowerCase().includes(j))})}a(S)},b=S=>Math.max(0,S.max_attempts-(S.attemptsCount||0)),v=S=>S.due_at?new Date(S.due_at)<new Date&&S.status!=="completed":!1,w=({dueDate:S})=>{const[j,O]=X.useState("");return X.useEffect(()=>{const L=()=>{const F=new Date,P=new Date(S).getTime()-F.getTime();if(P<=0){O("Overdue");return}const M=Math.floor(P/(1e3*60*60*24)),D=Math.floor(P%(1e3*60*60*24)/(1e3*60*60)),U=Math.floor(P%(1e3*60*60)/(1e3*60));M>0?O(`${M}d ${D}h left`):D>0?O(`${D}h ${U}m left`):O(`${U}m left`)};L();const I=setInterval(L,6e4);return()=>clearInterval(I)},[S]),d.jsxs("span",{className:"text-xs text-primary-600 font-medium ml-2",children:["(",j,")"]})},_=S=>v(S)?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:"Overdue"}):S.status==="completed"?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Completed"}):S.status==="in_progress"?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full",children:"In Progress"}):d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:"Not Started"}),A={total:r.length,completed:r.filter(S=>S.status==="completed").length,inProgress:r.filter(S=>S.status==="in_progress").length,notStarted:r.filter(S=>S.status==="not_started").length};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 pb-20 md:pb-6",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"My Assignments"}),d.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"View and manage your OSCE simulations"})]}),!s&&d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:A.total}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Total"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-green-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-green-700",children:A.completed}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Completed"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-yellow-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-yellow-700",children:A.inProgress}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"In Progress"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-700",children:A.notStarted}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Not Started"})]})]}),!s&&d.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[d.jsx("div",{className:"border-b border-gray-200",children:d.jsx("div",{className:"flex overflow-x-auto",children:[{key:"all",label:"All",count:r.length},{key:"pending",label:"Pending",count:r.filter(S=>S.status==="not_started"&&(!S.due_at||new Date(S.due_at)>new Date)).length},{key:"in_progress",label:"In Progress",count:r.filter(S=>S.status==="in_progress").length},{key:"completed",label:"Completed",count:r.filter(S=>S.status==="completed").length}].map(S=>d.jsxs("button",{onClick:()=>h(S.key),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${p===S.key?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[S.label,S.count>0&&d.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${p===S.key?"bg-primary-100 text-primary-800":"bg-gray-100 text-gray-600"}`,children:S.count})]},S.key))})}),d.jsx("div",{className:"p-4 border-b border-gray-200",children:d.jsxs("div",{className:"relative",children:[d.jsx(aj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search assignments...",value:c,onChange:S=>f(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})})]}),s?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):i.length===0?d.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[d.jsx(g1,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.length===0?"No Assignments Available":"No Assignments Match Your Filters"}),d.jsx("p",{className:"text-gray-600 text-sm mb-4",children:r.length===0?"You don't have any assignments yet. Check back later or contact your faculty if you expect to see assignments here.":"Try adjusting your search or filter criteria to find what you're looking for."}),r.length>0&&d.jsx("button",{onClick:()=>{h("all"),u("all"),f("")},className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Clear Filters"}),r.length===0&&d.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsx("strong",{children:"Tip:"})," Make sure you're enrolled in cohorts to receive assignments. You can manage your cohorts in your Profile settings."]})})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(S=>{var j,O,L,I,F,k;return d.jsxs("div",{className:`bg-white rounded-xl shadow-md p-5 md:p-6 hover:shadow-xl transition-all border-2 ${v(S)?"border-l-4 border-red-500 border-r-2 border-t-2 border-b-2":"border-gray-200"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 flex-1",children:((O=(j=S.snapshot)==null?void 0:j.clinical_case)==null?void 0:O.title)||"Untitled Station"}),_(S)]}),((I=(L=S.snapshot)==null?void 0:L.clinical_case)==null?void 0:I.patientProfile)&&d.jsxs("div",{className:"mb-3 text-sm text-gray-600",children:[d.jsx("span",{className:"font-medium",children:"Patient:"})," ",S.snapshot.clinical_case.patientProfile.name]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(vc,{className:"w-4 h-4"}),d.jsxs("span",{children:[((k=(F=S.snapshot)==null?void 0:F.clinical_case)==null?void 0:k.durationMinutes)||15," minutes"]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(u4,{className:"w-4 h-4"}),d.jsxs("span",{children:[b(S)," of ",S.max_attempts," attempts left"]})]}),S.bestScore!==void 0&&S.bestScore>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[d.jsx(os,{className:"w-4 h-4"}),d.jsxs("span",{children:["Best Score: ",S.bestScore.toFixed(0),"%"]})]}),S.due_at&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx($f,{className:"w-4 h-4"}),d.jsxs("span",{className:v(S)?"text-red-600 font-medium":"",children:["Due: ",new Date(S.due_at).toLocaleDateString()]}),!v(S)&&new Date(S.due_at)>new Date&&d.jsx(w,{dueDate:S.due_at})]})]}),d.jsx("div",{className:"flex gap-2",children:S.status==="completed"?d.jsxs("button",{onClick:()=>{t("/results")},className:"flex-1 flex items-center justify-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:[d.jsx(Na,{className:"w-4 h-4"}),"View Results"]}):d.jsxs("button",{onClick:()=>t(`/simulation/${S.id}`),disabled:b(S)===0,className:"flex-1 flex items-center justify-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[d.jsx(u4,{className:"w-4 h-4"}),S.status==="in_progress"?"Continue":"Start Simulation"]})})]},S.id)})})]}),d.jsx(Wn,{role:"student"})]})}function Hwe({activeTab:e,onTabChange:t}){const r=[{id:"chat",label:"Chat",icon:LW},{id:"exam",label:"Exam",icon:MW},{id:"labs",label:"Labs",icon:DW},{id:"diagnosis",label:"Diagnosis",icon:sa}];return d.jsx("div",{className:"bg-white border-b-2 border-gray-300 shadow-sm",children:d.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:r.map(n=>{const i=n.icon,a=e===n.id;return d.jsxs("button",{onClick:()=>t(n.id),className:`flex items-center gap-2 px-4 md:px-6 py-3 md:py-4 text-sm md:text-base font-semibold border-b-3 transition-all whitespace-nowrap ${a?"border-primary-600 text-primary-700 bg-primary-50":"border-transparent text-gray-600 hover:text-primary-600 hover:bg-gray-50 hover:border-gray-300"}`,children:[d.jsx(i,{className:`w-4 h-4 md:w-5 md:h-5 ${a?"text-primary-600":""}`}),d.jsx("span",{children:n.label})]},n.id)})})})}function Vwe({messages:e,input:t,setInput:r,sending:n,onSendMessage:i,onRequestHint:a,hintsRemaining:s}){const o=X.useRef(null);return X.useEffect(()=>{var l;(l=o.current)==null||l.scrollIntoView({behavior:"smooth"})},[e]),d.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[d.jsxs("div",{className:"bg-white border-b-2 border-gray-300 p-4 flex items-center justify-between shadow-sm",children:[d.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Chat with Patient"}),d.jsxs("button",{onClick:a,disabled:s<=0,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-900 rounded-lg hover:from-yellow-500 hover:to-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md font-semibold text-sm",children:[d.jsx(p8,{className:"w-4 h-4"}),"Hint (",s,")"]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map((l,u)=>d.jsxs("div",{className:`flex ${l.role==="user"?"justify-end":"justify-start"} items-start gap-2`,children:[l.role==="assistant"&&d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(Is,{className:"w-4 h-4 text-primary-600"})}),d.jsxs("div",{className:`max-w-[85%] md:max-w-[75%] rounded-xl p-3 md:p-4 shadow-md ${l.role==="user"?"bg-gradient-to-br from-primary-600 to-primary-700 text-white":"bg-white border-2 border-gray-200 text-gray-900"}`,children:[l.role==="user"?d.jsx("p",{className:"text-white whitespace-pre-wrap",children:l.content}):d.jsx("div",{className:"text-gray-800",children:d.jsx(Aa,{content:l.content})}),d.jsx("span",{className:`text-xs mt-2 block ${l.role==="user"?"text-primary-100":"text-gray-500"}`,children:l.timestamp instanceof Date?l.timestamp.toLocaleTimeString():new Date(l.timestamp).toLocaleTimeString()})]}),l.role==="user"&&d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(Is,{className:"w-4 h-4 text-gray-600"})})]},u)),n&&d.jsxs("div",{className:"flex justify-start items-start gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(Is,{className:"w-4 h-4 text-primary-600"})}),d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),d.jsx("div",{ref:o})]}),d.jsx("div",{className:"bg-white border-t-2 border-gray-300 p-4 shadow-lg",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:t,onChange:l=>r(l.target.value),onKeyPress:l=>l.key==="Enter"&&!n&&i(),placeholder:"Ask a question...",className:"flex-1 px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400",disabled:n}),d.jsx("button",{onClick:i,disabled:n||!t.trim(),className:"px-5 py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-lg hover:from-primary-700 hover:to-primary-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md font-semibold",children:d.jsx(RW,{className:"w-5 h-5"})})]})})]})}function Gwe({caseData:e,vitalsEnabled:t=!1,onToggleVitals:r}){const n=(e==null?void 0:e.physicalExam)||{},i=n.vitals||{},a=n.generalExam||"",s=n.systemicExam||"";return d.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-4 md:p-6 space-y-4 md:space-y-6 bg-gray-50",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Physical Examination"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI-generated examination findings"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-primary-100 p-2 rounded-lg",children:d.jsx(EW,{className:"w-5 h-5 text-primary-700"})}),d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Vital Signs"})]}),r&&d.jsx("button",{onClick:r,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${t?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t?d.jsxs(d.Fragment,{children:[d.jsx(v1,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"Enabled"})]}):d.jsxs(d.Fragment,{children:[d.jsx(l4,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"Enable Vitals"})]})})]}),t?d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 md:gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Blood Pressure"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 rounded-lg text-gray-900 font-medium",children:i.bp||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Heart Rate"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-red-50 to-red-100 border-2 border-red-200 rounded-lg text-gray-900 font-medium",children:i.hr||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Respiratory Rate"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-200 rounded-lg text-gray-900 font-medium",children:i.rr||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Temperature"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-orange-50 to-orange-100 border-2 border-orange-200 rounded-lg text-gray-900 font-medium",children:i.temp||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"SpO2"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-200 rounded-lg text-gray-900 font-medium",children:i.spo2||"Not recorded"})]})]}):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(l4,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),d.jsx("p",{className:"text-sm md:text-base",children:"Vital signs are hidden"}),d.jsx("p",{className:"text-xs md:text-sm mt-1",children:'Click "Enable Vitals" to view vital signs'})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4",children:"General Examination"}),d.jsx("div",{className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-lg min-h-[120px] text-gray-900",children:a?d.jsx(Aa,{content:a}):d.jsx("p",{className:"text-gray-500",children:"General examination findings not available."})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("div",{className:"flex items-center gap-2 mb-4",children:d.jsx("span",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Systemic Examination"})}),d.jsx("div",{className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-lg min-h-[200px] text-gray-900",children:s?d.jsx(Aa,{content:s}):d.jsx("p",{className:"text-gray-500",children:"Systemic examination findings not available."})})]})]})}const W7=[{name:"BEDSIDE TESTS",tests:["ECG","Blood Glucose","Urine Dipstick"]},{name:"BASIC LABS",tests:["CBC","CMP","ESR","CRP","TSH","Lipid Profile","LFT","RFT","ABG"]},{name:"ADVANCED LABS",tests:["Troponin","BNP","D-dimer","Coagulation Profile","Blood Culture","HbA1c"]},{name:"IMAGING",tests:["Chest X-Ray","CT Head","CT Chest","CT Abdomen","Abdominal Ultrasound","Echocardiogram"]}];W7.flatMap(e=>e.tests.map(t=>({test:t,category:e.name})));function H7(e,t,r){if(r&&r[e])return r[e];const n=e.toLowerCase();return n.includes("ecg")?"Normal sinus rhythm, no acute changes":n.includes("glucose")?"Random blood glucose: 180 mg/dL (elevated)":n.includes("urine")?"Negative for nitrites, leukocyte esterase, protein, blood":n.includes("cbc")?"WBC: 15,000/L (elevated), Hb: 12 g/dL, Platelets: 250,000/L":n.includes("cmp")?"Na: 138 mEq/L, K: 4.2 mEq/L, Creatinine: 1.2 mg/dL, BUN: 45 mg/dL (elevated)":n.includes("crp")?"150 mg/L (markedly elevated)":n.includes("chest x-ray")||n.includes("chest xray")?"Consolidation in right lower lobe, consistent with pneumonia":n.includes("ct head")?"No acute intracranial pathology, age-appropriate atrophy":n.includes("ct chest")?"Right lower lobe consolidation with air bronchograms, consistent with pneumonia":n.includes("blood culture")?"Pending (results typically available in 48-72 hours)":n.includes("troponin")?"0.02 ng/mL (normal)":n.includes("bnp")?"200 pg/mL (mildly elevated)":n.includes("d-dimer")?"0.8 mg/L (elevated)":n.includes("abg")?"pH: 7.35, pCO2: 42 mmHg, pO2: 65 mmHg, HCO3: 22 mEq/L (respiratory acidosis with hypoxemia)":`Result for ${e}: See detailed report`}function w6(e,t){return t.some(r=>r.testName===e)}function Kwe({labOrders:e,labResults:t,onOrderTest:r,caseData:n}){const[i,a]=X.useState("order"),s=(l,u)=>{w6(l,e)||r(l,u)},o=l=>{const u=t.find(c=>c.testName===l);return u?u.result:H7(l,n,n==null?void 0:n.labResults)};return d.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[d.jsx("div",{className:"bg-white border-b-2 border-gray-300 p-4 shadow-sm",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>a("order"),className:`px-6 py-2.5 rounded-lg font-semibold transition-all shadow-md ${i==="order"?"bg-gradient-to-r from-primary-600 to-primary-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Order Tests"}),d.jsx("button",{onClick:()=>a("view"),className:`px-6 py-2.5 rounded-lg font-semibold transition-all shadow-md ${i==="view"?"bg-gradient-to-r from-primary-600 to-primary-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"View Results"})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:i==="order"?d.jsx("div",{className:"space-y-4 md:space-y-6",children:W7.map(l=>d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 md:p-6 border border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4 pb-2 border-b-2 border-gray-200",children:l.name}),d.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3",children:l.tests.map(u=>{const c=w6(u,e);return d.jsxs("button",{onClick:()=>s(u,l.name),disabled:c,className:`px-4 py-2 rounded-lg text-sm md:text-base font-semibold transition-all shadow-sm ${c?"bg-gradient-to-r from-green-500 to-green-600 text-white cursor-not-allowed shadow-md":"bg-gray-100 text-gray-800 hover:bg-primary-100 hover:text-primary-700 hover:shadow-md border-2 border-gray-200"}`,children:[u,c&&" "]},u)})})]},l.name))}):d.jsx("div",{className:"space-y-4",children:e.length===0?d.jsx("div",{className:"bg-white rounded-xl shadow-md p-8 md:p-12 text-center border border-gray-200",children:d.jsx("p",{className:"text-gray-600 font-medium",children:'No tests ordered yet. Switch to "Order Tests" to order lab tests.'})}):e.map(l=>{const u=o(l.testName);return d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 md:p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b-2 border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:l.testName}),d.jsx("span",{className:"text-xs md:text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full font-medium",children:l.category})]}),d.jsx("p",{className:"text-gray-800 font-medium leading-relaxed",children:u})]},l.testName)})})})]})}function Ywe({diagnosis:e,onUpdate:t,diagnosisMCQ:r,selectedDiagnosisMCQ:n,onDiagnosisMCQChange:i}){const[a,s]=X.useState(e);return X.useEffect(()=>{t(a)},[a,t]),d.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-4 md:p-6 bg-gray-50",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"bg-primary-100 p-2 rounded-lg",children:d.jsx(sa,{className:"w-5 h-5 md:w-6 md:h-6 text-primary-700"})}),d.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Enter Diagnosis"})]}),d.jsx("p",{className:"text-sm md:text-base text-gray-600 ml-12",children:"Enter your diagnosis based on the patient's history, physical examination findings, and laboratory results."})]}),r&&d.jsxs("div",{className:"mb-6 bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("label",{className:"block text-sm md:text-base font-semibold text-gray-900 mb-4",children:r.question}),d.jsx("div",{className:"space-y-3",children:r.options.map((o,l)=>d.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition-colors ${n===l?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:[d.jsx("input",{type:"radio",name:"diagnosis-mcq",value:l,checked:n===l,onChange:()=>i==null?void 0:i(l),className:"w-4 h-4 text-primary-600 focus:ring-primary-500 focus:ring-2"}),d.jsxs("span",{className:"ml-3 text-sm md:text-base text-gray-900 font-medium",children:[String.fromCharCode(65+l),". ",o]})]},l))}),n!=null&&d.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsx("span",{className:"font-semibold",children:"Selected:"})," ",r.options[n]]})})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm md:text-base font-semibold text-gray-700 mb-3",children:"Additional Notes (Optional)"}),d.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-2",children:"Provide additional details, reasoning, or differential diagnoses to support your answer."}),d.jsx("textarea",{value:a,onChange:o=>s(o.target.value),placeholder:"Enter additional notes about your diagnosis (e.g., reasoning, differential diagnoses, supporting findings, etc.)...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 min-h-[150px] md:min-h-[200px] text-gray-900 placeholder-gray-400 text-base leading-relaxed shadow-sm"})]}),a&&d.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl p-4 md:p-5 shadow-md",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-green-500 p-1.5 rounded-full",children:d.jsx(Na,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold text-green-900 block",children:"Diagnosis Entered"}),d.jsx("span",{className:"text-sm text-green-800 mt-1 block",children:a})]})]})})]})}const Xwe="AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",Jwe="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";function Zwe({user:e}){var Qe,Xe,fe,Ue,Le;const{assignmentId:t}=f1(),r=ds(),n=Do(),[i,a]=X.useState(null),[s,o]=X.useState(null),[l,u]=X.useState([]),[c,f]=X.useState(""),[p,h]=X.useState(!0),[y,g]=X.useState(!1),[b,v]=X.useState(0),[w,_]=X.useState(null),[A,S]=X.useState(!1),[j,O]=X.useState("chat"),[L,I]=X.useState(0),[F,k]=X.useState([]),[P,M]=X.useState([]),[D,U]=X.useState(""),[H,V]=X.useState(null),[B,J]=X.useState(!1),$=10;X.useEffect(()=>{t&&(ae(),T())},[t]);const ae=async()=>{try{const{data:_e,error:Ce}=await Ie.from("assignments").select("*").eq("id",t).single();if(Ce)throw Ce;a(_e);const{data:Re,error:Be}=await Ie.from("case_snapshots").select("*").eq("id",_e.snapshot_id).single();if(Be)throw Be;o(Re);const{data:ce}=await Ie.from("simulation_runs").select("*").eq("assignment_id",t).eq("student_id",e.id).is("submitted_at",null).order("created_at",{ascending:!1}).limit(1);let je;if(ce&&ce.length>0){if(je=ce[0],_(je.id),je.transcript){const Te=je.transcript;Te.messages&&u(Te.messages.map(Oe=>({...Oe,timestamp:typeof Oe.timestamp=="string"?new Date(Oe.timestamp):Oe.timestamp}))),I(Te.hintsUsed||0),k(Te.labOrders||[]),M(Te.labResults||[]),U(Te.diagnosis||""),V(Te.diagnosisMCQAnswer??null),J(Te.vitalsEnabled||!1)}}else{const{data:Te,error:Oe}=await Ie.from("simulation_runs").insert({assignment_id:t,student_id:e.id,started_at:new Date().toISOString(),transcript:{messages:[],hintsUsed:0,labOrders:[],labResults:[],diagnosis:"",diagnosisMCQAnswer:null,vitalsEnabled:!1}}).select().single();if(Oe)throw Oe;je=Te,_(Te.id)}}catch(_e){console.error("Error loading assignment:",_e),n.error("Failed to load assignment")}finally{h(!1)}},T=()=>{const _e=setInterval(()=>{v(Ce=>{var Be;const Re=Ce+1;if((Be=s==null?void 0:s.clinical_case)!=null&&Be.durationMinutes){const ce=s.clinical_case.durationMinutes*60;Re>=ce*.8&&!A&&S(!0)}return Re})},1e3);return()=>clearInterval(_e)},C=_e=>{const Ce=Math.floor(_e/60),Re=_e%60;return`${Ce}:${Re.toString().padStart(2,"0")}`},K=async()=>{if(!w)return;const _e={messages:l.map(Ce=>({...Ce,timestamp:Ce.timestamp instanceof Date?Ce.timestamp.toISOString():Ce.timestamp})),hintsUsed:L,labOrders:F,labResults:P,diagnosis:D,diagnosisMCQAnswer:H??void 0,vitalsEnabled:B};await Ie.from("simulation_runs").update({transcript:_e}).eq("id",w)},Q=(_e,Ce)=>{var $e,qe;if(!(s!=null&&s.clinical_case))return"";const Re=s.clinical_case,Be=(($e=Re.patientProfile)==null?void 0:$e.name)||"Patient",ce=Re.historyOfPresentIllness||"",je=((qe=Re.patientProfile)==null?void 0:qe.prakriti)||"Sama",Te=Re.doshaAnalysis||{},Oe=Ce.slice(-5).map(mt=>`${mt.role==="user"?"Clinician":"Patient"}: ${mt.content}`).join(`
`);return`You are ${Be}, a virtual patient in an Ayurvedic medical simulation. You are speaking with a clinician who is examining you.

IMPORTANT: You are the PATIENT. The user asking questions is the CLINICIAN/DOCTOR. Do not switch roles.

Patient Context:
- History of Present Illness: ${ce}
- Prakriti: ${je}
- Dosha Analysis: Vata ${Te.vata||33}%, Pitta ${Te.pitta||33}%, Kapha ${Te.kapha||34}%

Recent Conversation:
${Oe}

Clinician: ${_e}

Respond as the patient would, staying in character. Be natural, concise (1-2 sentences), and consistent with the case. Do not reveal diagnosis or treatment unless asked directly about symptoms. Keep responses under 100 words.`},ie=_e=>{if(!(s!=null&&s.clinical_case))return null;const Ce=s.clinical_case,Re=_e.toLowerCase();if(Re.includes("physical exam")||Re.includes("vitals")||Re.includes("examination")){const Be=Ce.physicalExam;if(!Be)return"Physical examination information is not available. Please perform the examination yourself.";let ce=`Based on the physical examination:
`;return Be.vitals&&(ce+="Vitals: ",Be.vitals.bp&&(ce+=`BP ${Be.vitals.bp}, `),Be.vitals.hr&&(ce+=`HR ${Be.vitals.hr}, `),Be.vitals.rr&&(ce+=`RR ${Be.vitals.rr}, `),Be.vitals.temp&&(ce+=`Temp ${Be.vitals.temp}, `),Be.vitals.spo2&&(ce+=`SpO2 ${Be.vitals.spo2}. `),ce+=`
`),Be.generalExam&&(ce+=`General Examination: ${Be.generalExam}
`),Be.systemicExam&&(ce+=`Systemic Examination: ${Be.systemicExam}
`),ce.trim()||"Physical examination findings are being documented."}if(Re.includes("lab")||Re.includes("test result")||Re.includes("investigation")){const Be=Ce.labResults||{};for(const[ce,je]of Object.entries(Be))if(Re.includes(ce.toLowerCase())||ce.toLowerCase().includes(Re))return`${ce}: ${je}`;return Object.keys(Be).length>0?`Lab results are available. Please check the Labs tab to view specific test results. Available tests: ${Object.keys(Be).join(", ")}`:"No lab results are available yet. Please order tests from the Labs tab."}return null},ue=async()=>{var Be,ce,je,Te;if(!c.trim()||!w||!s)return;const _e={role:"user",content:c,timestamp:new Date},Ce=[...l,_e];u(Ce);const Re=c;f(""),g(!0);try{const Oe=ie(Re);if(Oe){const gt={role:"assistant",content:Oe,timestamp:new Date},et=[...Ce,gt];u(et),await K(),g(!1);return}if(s!=null&&s.id)try{const{data:gt}=await Ie.from("faq_cache").select("faq_data").eq("snapshot_id",s.id).single();if(gt!=null&&gt.faq_data){const et=gt.faq_data,bt=Re.toLowerCase().trim();for(const[Ct,Rr]of Object.entries(et)){const $r=Ct.toLowerCase();if(bt.includes($r)||$r.includes(bt)||bt.split(/\s+/).filter(Xt=>Xt.length>3&&$r.includes(Xt)).length>=2){const Xt={role:"assistant",content:Rr,timestamp:new Date},jt=[...Ce,Xt];u(jt),await K(),g(!1);return}}}}catch(gt){console.debug("FAQ cache check failed, using Gemini API:",gt)}const $e=Q(Re,l);if(!$e)throw new Error("Unable to build patient context. Please refresh the page.");const qe=await fetch(Jwe,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":Xwe},body:JSON.stringify({contents:[{parts:[{text:$e}]}],generationConfig:{temperature:.8,topK:40,topP:.95,maxOutputTokens:1024}})});if(!qe.ok){const gt=await qe.text();let et=`Gemini API error (${qe.status})`;try{const bt=JSON.parse(gt);(Be=bt.error)!=null&&Be.message?et+=": "+bt.error.message:et+=": "+gt}catch{et+=": "+gt}throw new Error(et)}const mt=await qe.json();if(!mt.candidates||mt.candidates.length===0)throw new Error("No response from Gemini API. Please check your API key and try again.");const Je={role:"assistant",content:((Te=(je=(ce=mt.candidates[0])==null?void 0:ce.content)==null?void 0:je.parts[0])==null?void 0:Te.text)||"I'm sorry, I didn't understand that.",timestamp:new Date},yt=[...Ce,Je];u(yt),await K()}catch(Oe){console.error("Error sending message:",Oe),n.error("Failed to send message: "+Oe.message)}finally{g(!1)}},me=async()=>{if(!(L>=$||!w||!s)){g(!0);try{const _e=["Consider asking about the onset and progression of symptoms.","Think about the patient's dosha imbalance - what symptoms suggest this?","Review the physical examination findings carefully.","Consider what laboratory tests would be most helpful for this presentation.","Think about the differential diagnoses based on the chief complaint.","Consider the patient's age, gender, and prakriti in your assessment.","Review the history of present illness for key diagnostic clues.","Consider what additional history might be relevant.","Think about the most likely diagnosis given the symptoms.","Consider what treatment approach would be appropriate."],Re={role:"assistant",content:_e[Math.floor(Math.random()*_e.length)],timestamp:new Date};u([...l,Re]),I(L+1),await K()}catch(_e){console.error("Error requesting hint:",_e),n.error("Failed to get hint: "+_e.message)}finally{g(!1)}}},se=(_e,Ce)=>{var Te;const Re={testName:_e,category:Ce,orderedAt:new Date().toISOString()},Be=[...F,Re];k(Be);const ce={testName:_e,result:H7(_e,s==null?void 0:s.clinical_case,(Te=s==null?void 0:s.clinical_case)==null?void 0:Te.labResults),category:Ce},je=[...P,ce];M(je),K()},ge=_e=>{U(_e),K()},Se=async()=>{var _e,Ce,Re,Be,ce,je,Te;if(w)try{await K();let Oe;try{Oe=await Ie.functions.invoke("score_simulation",{body:{runId:w}})}catch(vt){throw console.error("Function invoke error (catch block):",vt),(_e=vt.message)!=null&&_e.includes("Failed to fetch")||(Ce=vt.message)!=null&&Ce.includes("NetworkError")||(Re=vt.message)!=null&&Re.includes("Failed to send")||!vt.message?new Error("Edge Function not available. Please ensure the score_simulation function is deployed in Supabase. Check the Supabase Dashboard  Edge Functions."):new Error(`Failed to call Edge Function: ${vt.message||"Unknown error"}`)}const{data:$e,error:qe}=Oe||{};if(qe)throw console.error("Scoring function error details:",{error:qe,message:qe.message,context:qe.context,status:qe.status}),(Be=qe.message)!=null&&Be.includes("Failed to send")||(ce=qe.message)!=null&&ce.includes("fetch")||(je=qe.message)!=null&&je.includes("NetworkError")||(Te=qe.message)!=null&&Te.includes("Failed to fetch")?new Error("Edge Function not available. Please ensure the score_simulation function is deployed in Supabase. Check the Supabase Dashboard  Edge Functions."):new Error(qe.message||"Failed to score simulation");if(!$e||!$e.score)throw console.error("Invalid response from scoring function:",$e),new Error("Invalid response from scoring function");const{error:mt}=await Ie.from("simulation_runs").update({submitted_at:new Date().toISOString(),score:$e.score}).eq("id",w);if(mt)throw console.error("Update error:",mt),new Error("Failed to update simulation run");r(`/debrief/${w}`)}catch(Oe){console.error("Error submitting:",Oe);const $e=Oe.message||"Please try again.";n.error(`Error submitting simulation: ${$e}. If this persists, the Edge Function may not be deployed. Please check Supabase Dashboard  Edge Functions.`)}};if(p)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});const pe=((Xe=(Qe=s==null?void 0:s.clinical_case)==null?void 0:Qe.patientProfile)==null?void 0:Xe.name)||"Patient",ye=(((fe=s==null?void 0:s.clinical_case)==null?void 0:fe.durationMinutes)||15)*60,ee=b/ye*100,Ze=b>=ye;return d.jsxs("div",{className:"flex flex-col h-screen bg-gradient-to-br from-gray-50 to-gray-100 pb-20 md:pb-4",children:[d.jsxs("div",{className:"bg-white border-b-2 border-gray-300 shadow-sm p-4 md:p-6",children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-8 w-auto object-contain hidden md:block"}),d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center shadow-md",children:d.jsx(Is,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:pe}),d.jsx("p",{className:"text-sm md:text-base text-gray-600",children:((Ue=s==null?void 0:s.clinical_case)==null?void 0:Ue.title)||"Clinical Case"})]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mt-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(vc,{className:`w-5 h-5 ${A?"text-red-600":"text-gray-700"}`}),d.jsxs("span",{className:`font-mono text-base md:text-lg font-semibold ${A?"text-red-600":"text-gray-900"}`,children:[C(b)," / ",C(ye)]}),A&&!Ze&&d.jsx("span",{className:"text-xs md:text-sm text-red-600 font-medium bg-red-50 px-2 py-1 rounded",children:"Time running out!"})]}),Ze&&d.jsxs("span",{className:"text-sm text-red-700 font-semibold flex items-center gap-2 bg-red-50 px-3 py-1.5 rounded-lg",children:[d.jsx(m1,{className:"w-5 h-5"}),"Time's up!"]})]}),d.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-3 shadow-inner",children:d.jsx("div",{className:`h-3 rounded-full transition-all shadow-sm ${ee>=100?"bg-red-600":ee>=80?"bg-yellow-500":"bg-primary-600"}`,style:{width:`${Math.min(ee,100)}%`}})})]}),d.jsx(Hwe,{activeTab:j,onTabChange:O}),d.jsxs("div",{className:"flex-1 overflow-hidden",children:[j==="chat"&&d.jsx(Vwe,{messages:l,input:c,setInput:f,sending:y,onSendMessage:ue,onRequestHint:me,hintsRemaining:$-L}),j==="exam"&&d.jsx(Gwe,{caseData:s==null?void 0:s.clinical_case,vitalsEnabled:B,onToggleVitals:async()=>{const _e=!B;if(J(_e),w){const Ce={messages:l.map(Re=>({...Re,timestamp:Re.timestamp instanceof Date?Re.timestamp.toISOString():Re.timestamp})),hintsUsed:L,labOrders:F,labResults:P,diagnosis:D,vitalsEnabled:_e};await Ie.from("simulation_runs").update({transcript:Ce}).eq("id",w)}}}),j==="labs"&&d.jsx(Kwe,{labOrders:F,labResults:P,onOrderTest:se,caseData:s==null?void 0:s.clinical_case}),j==="diagnosis"&&d.jsx(Ywe,{diagnosis:D,onUpdate:ge,diagnosisMCQ:(Le=s==null?void 0:s.clinical_case)==null?void 0:Le.diagnosisMCQ,selectedDiagnosisMCQ:H,onDiagnosisMCQChange:async _e=>{if(V(_e),w){const Ce={messages:l.map(Re=>({...Re,timestamp:Re.timestamp instanceof Date?Re.timestamp.toISOString():Re.timestamp})),hintsUsed:L,labOrders:F,labResults:P,diagnosis:D,diagnosisMCQAnswer:_e,vitalsEnabled:B};await Ie.from("simulation_runs").update({transcript:Ce}).eq("id",w)}}})]}),d.jsxs("div",{className:"bg-white border-t border-gray-200 p-4",children:[d.jsxs("button",{onClick:Se,disabled:!w,className:"w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(Na,{className:"w-4 h-4"}),"Submit for Scoring"]}),Ze&&d.jsx("p",{className:"text-xs text-red-600 mt-2 text-center",children:"Your time is up. You can still submit your responses."})]}),d.jsx(Wn,{role:"student"}),d.jsx(Dl,{toasts:n.toasts,onClose:n.removeToast})]})}function Qwe({activeTab:e,onTabChange:t}){const r=[{id:"feedback",label:"Feedback",icon:sa},{id:"review",label:"Review",icon:v1},{id:"questions",label:"Questions",icon:OW}];return d.jsx("div",{className:"bg-white border-b border-gray-200",children:d.jsx("div",{className:"flex overflow-x-auto",children:r.map(n=>{const i=n.icon,a=e===n.id;return d.jsxs("button",{onClick:()=>t(n.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${a?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[d.jsx(i,{className:"w-4 h-4"}),n.label]},n.id)})})})}function e5e({accuracy:e,timeTaken:t,currentStreak:r}){return d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Accuracy"}),d.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[e,"%"]})]}),d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Time Taken"}),d.jsx("div",{className:"text-3xl font-bold text-blue-600",children:t})]}),d.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Current Streak"}),d.jsxs("div",{className:"text-3xl font-bold text-yellow-600 flex items-center gap-1",children:[r,d.jsx("span",{className:"text-2xl",children:""})]})]})]})}function t5e({reasoning:e}){const[t,r]=X.useState(!0);return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!t),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"STEPWISE REASONING"}),d.jsx(y1,{className:`w-5 h-5 text-gray-500 transition-transform ${t?"":"rotate-180"}`})]}),t&&d.jsx("div",{className:"prose max-w-none",children:d.jsx("div",{className:"text-gray-700 leading-relaxed",children:d.jsx(Aa,{content:e})})})]})}function r5e({potentialDiagnoses:e,studentDiagnosis:t,correctDiagnosis:r}){const[n,i]=X.useState(!0);return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>i(!n),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"DIFFERENTIALS REVIEW"}),d.jsx(y1,{className:`w-5 h-5 text-gray-500 transition-transform ${n?"":"rotate-180"}`})]}),n&&d.jsx("div",{className:"space-y-3",children:e.map((a,s)=>{const o=a.dx===r,l=a.dx===t;return d.jsx("div",{className:`p-4 rounded-lg border-2 ${o?"bg-green-50 border-green-200":l?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[o?d.jsx(Na,{className:"w-5 h-5 text-green-600"}):l?d.jsx(go,{className:"w-5 h-5 text-red-600"}):null,d.jsx("span",{className:"font-medium text-gray-900",children:a.dx})]}),l&&!o&&d.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Your Pick"})]})},s)})})]})}function n5e({pearls:e}){const[t,r]=X.useState(!0);return!e||e.length===0?null:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!t),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"LEARNING PEARLS"}),d.jsx(y1,{className:`w-5 h-5 text-gray-500 transition-transform ${t?"":"rotate-180"}`})]}),t&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map((n,i)=>d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(p8,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),d.jsx("div",{className:"text-gray-700 text-sm leading-relaxed flex-1",children:d.jsx(Aa,{content:n})})]})},i))})]})}function i5e({references:e}){const[t,r]=X.useState(!0);return!e||e.length===0?null:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!t),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"FURTHER READING"}),d.jsx(y1,{className:`w-5 h-5 text-gray-500 transition-transform ${t?"":"rotate-180"}`})]}),t&&d.jsx("div",{className:"space-y-3",children:e.map((n,i)=>d.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(g1,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:n.title}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:n.reference})]})]})},i))})]})}const a5e="modulepreload",s5e=function(e){return"/"+e},_6={},v2=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=s5e(l),l in _6)return;_6[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":a5e,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})};function ur(e){"@babel/helpers - typeof";return ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ur(e)}var cs=Uint8Array,ta=Uint16Array,PA=Int32Array,CA=new cs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),TA=new cs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),S6=new cs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),V7=function(e,t){for(var r=new ta(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new PA(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},G7=V7(CA,2),o5e=G7.b,B_=G7.r;o5e[28]=258,B_[258]=28;var l5e=V7(TA,0),j6=l5e.r,F_=new ta(32768);for(var Pr=0;Pr<32768;++Pr){var ul=(Pr&43690)>>1|(Pr&21845)<<1;ul=(ul&52428)>>2|(ul&13107)<<2,ul=(ul&61680)>>4|(ul&3855)<<4,F_[Pr]=((ul&65280)>>8|(ul&255)<<8)>>1}var Np=function(e,t,r){for(var n=e.length,i=0,a=new ta(t);i<n;++i)e[i]&&++a[e[i]-1];var s=new ta(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new ta(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],c=t-e[i],f=s[e[i]-1]++<<c,p=f|(1<<c)-1;f<=p;++f)o[F_[f]>>l]=u}else for(o=new ta(n),i=0;i<n;++i)e[i]&&(o[i]=F_[s[e[i]-1]++]>>15-e[i]);return o},hc=new cs(288);for(var Pr=0;Pr<144;++Pr)hc[Pr]=8;for(var Pr=144;Pr<256;++Pr)hc[Pr]=9;for(var Pr=256;Pr<280;++Pr)hc[Pr]=7;for(var Pr=280;Pr<288;++Pr)hc[Pr]=8;var Hv=new cs(32);for(var Pr=0;Pr<32;++Pr)Hv[Pr]=5;var u5e=Np(hc,9,0),c5e=Np(Hv,5,0),K7=function(e){return(e+7)/8|0},d5e=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new cs(e.subarray(t,r))},lo=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Yh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},b2=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:X7,l:0};if(i==1){var s=new cs(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(S,j){return S.f-j.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,c=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=i-1;)o=r[r[u].f<r[f].f?u++:f++],l=r[u!=c&&r[u].f<r[f].f?u++:f++],r[c++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=a[0].s,n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var h=new ta(p+1),y=U_(r[c-1],h,0);if(y>t){var n=0,g=0,b=y-t,v=1<<b;for(a.sort(function(j,O){return h[O.s]-h[j.s]||j.f-O.f});n<i;++n){var w=a[n].s;if(h[w]>t)g+=v-(1<<y-h[w]),h[w]=t;else break}for(g>>=b;g>0;){var _=a[n].s;h[_]<t?g-=1<<t-h[_]++-1:++n}for(;n>=0&&g;--n){var A=a[n].s;h[A]==t&&(--h[A],++g)}y=t}return{t:new cs(h),l:y}},U_=function(e,t,r){return e.s==-1?Math.max(U_(e.l,t,r+1),U_(e.r,t,r+1)):t[e.s]=r},A6=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ta(++t),n=0,i=e[0],a=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==i&&o!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[o]}return{c:r.subarray(0,n),n:t}},Xh=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Y7=function(e,t,r){var n=r.length,i=K7(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},N6=function(e,t,r,n,i,a,s,o,l,u,c){lo(t,c++,r),++i[256];for(var f=b2(i,15),p=f.t,h=f.l,y=b2(a,15),g=y.t,b=y.l,v=A6(p),w=v.c,_=v.n,A=A6(g),S=A.c,j=A.n,O=new ta(19),L=0;L<w.length;++L)++O[w[L]&31];for(var L=0;L<S.length;++L)++O[S[L]&31];for(var I=b2(O,7),F=I.t,k=I.l,P=19;P>4&&!F[S6[P-1]];--P);var M=u+5<<3,D=Xh(i,hc)+Xh(a,Hv)+s,U=Xh(i,p)+Xh(a,g)+s+14+3*P+Xh(O,F)+2*O[16]+3*O[17]+7*O[18];if(l>=0&&M<=D&&M<=U)return Y7(t,c,e.subarray(l,l+u));var H,V,B,J;if(lo(t,c,1+(U<D)),c+=2,U<D){H=Np(p,h,0),V=p,B=Np(g,b,0),J=g;var $=Np(F,k,0);lo(t,c,_-257),lo(t,c+5,j-1),lo(t,c+10,P-4),c+=14;for(var L=0;L<P;++L)lo(t,c+3*L,F[S6[L]]);c+=3*P;for(var ae=[w,S],T=0;T<2;++T)for(var C=ae[T],L=0;L<C.length;++L){var K=C[L]&31;lo(t,c,$[K]),c+=F[K],K>15&&(lo(t,c,C[L]>>5&127),c+=C[L]>>12)}}else H=u5e,V=hc,B=c5e,J=Hv;for(var L=0;L<o;++L){var Q=n[L];if(Q>255){var K=Q>>18&31;Yh(t,c,H[K+257]),c+=V[K+257],K>7&&(lo(t,c,Q>>23&31),c+=CA[K]);var ie=Q&31;Yh(t,c,B[ie]),c+=J[ie],ie>3&&(Yh(t,c,Q>>5&8191),c+=TA[ie])}else Yh(t,c,H[Q]),c+=V[Q]}return Yh(t,c,H[256]),c+V[256]},f5e=new PA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),X7=new cs(0),h5e=function(e,t,r,n,i,a){var s=a.z||e.length,o=new cs(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),u=a.l,c=(a.r||0)&7;if(t){c&&(l[0]=a.r>>3);for(var f=f5e[t-1],p=f>>13,h=f&8191,y=(1<<r)-1,g=a.p||new ta(32768),b=a.h||new ta(y+1),v=Math.ceil(r/3),w=2*v,_=function(ye){return(e[ye]^e[ye+1]<<v^e[ye+2]<<w)&y},A=new PA(25e3),S=new ta(288),j=new ta(32),O=0,L=0,I=a.i||0,F=0,k=a.w||0,P=0;I+2<s;++I){var M=_(I),D=I&32767,U=b[M];if(g[D]=U,b[M]=D,k<=I){var H=s-I;if((O>7e3||F>24576)&&(H>423||!u)){c=N6(e,l,0,A,S,j,L,F,P,I-P,c),F=O=L=0,P=I;for(var V=0;V<286;++V)S[V]=0;for(var V=0;V<30;++V)j[V]=0}var B=2,J=0,$=h,ae=D-U&32767;if(H>2&&M==_(I-ae))for(var T=Math.min(p,H)-1,C=Math.min(32767,I),K=Math.min(258,H);ae<=C&&--$&&D!=U;){if(e[I+B]==e[I+B-ae]){for(var Q=0;Q<K&&e[I+Q]==e[I+Q-ae];++Q);if(Q>B){if(B=Q,J=ae,Q>T)break;for(var ie=Math.min(ae,Q-2),ue=0,V=0;V<ie;++V){var me=I-ae+V&32767,se=g[me],ge=me-se&32767;ge>ue&&(ue=ge,U=me)}}}D=U,U=g[D],ae+=D-U&32767}if(J){A[F++]=268435456|B_[B]<<18|j6[J];var Se=B_[B]&31,pe=j6[J]&31;L+=CA[Se]+TA[pe],++S[257+Se],++j[pe],k=I+B,++O}else A[F++]=e[I],++S[e[I]]}}for(I=Math.max(I,k);I<s;++I)A[F++]=e[I],++S[e[I]];c=N6(e,l,u,A,S,j,L,F,P,I-P,c),u||(a.r=c&7|l[c/8|0]<<3,c-=7,a.h=b,a.p=g,a.i=I,a.w=k)}else{for(var I=a.w||0;I<s+u;I+=65535){var Fe=I+65535;Fe>=s&&(l[c/8|0]=u,Fe=s),c=Y7(l,c+1,e.subarray(I,Fe))}a.i=s}return d5e(o,0,n+K7(c)+i)},J7=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},p5e=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new cs(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return h5e(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},Z7=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},m5e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=J7();i.p(t.dictionary),Z7(e,2,i.d())}};function z_(e,t){t||(t={});var r=J7();r.p(e);var n=p5e(e,t,t.dictionary?6:2,4);return m5e(n,t),Z7(n,n.length-4,r.d()),n}var g5e=typeof TextDecoder<"u"&&new TextDecoder,y5e=0;try{g5e.decode(X7,{stream:!0}),y5e=1}catch{}function v5e(e){if(Array.isArray(e))return e}function b5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function k6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function x5e(e,t){if(e){if(typeof e=="string")return k6(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k6(e,t):void 0}}function w5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E6(e,t){return v5e(e)||b5e(e,t)||x5e(e,t)||w5e()}function O6(e,t="utf8"){return new TextDecoder(t).decode(e)}const _5e=new TextEncoder;function S5e(e){return _5e.encode(e)}const j5e=1024*8,A5e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),x2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class LA{constructor(t=j5e,r={}){tr(this,"buffer");tr(this,"byteLength");tr(this,"byteOffset");tr(this,"length");tr(this,"offset");tr(this,"lastWrittenByte");tr(this,"littleEndian");tr(this,"_data");tr(this,"_mark");tr(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,a=t.byteLength-i;let s=i;(ArrayBuffer.isView(t)||t instanceof LA)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=x2[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===A5e&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new x2[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new x2[r](a);return this.offset+=n,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return O6(this.readBytes(t))}decodeText(t=1,r="utf8"){return O6(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(S5e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Qf(e){let t=e.length;for(;--t>=0;)e[t]=0}const N5e=3,k5e=258,Q7=29,E5e=256,O5e=E5e+1+Q7,eD=30,P5e=512,C5e=new Array((O5e+2)*2);Qf(C5e);const T5e=new Array(eD*2);Qf(T5e);const L5e=new Array(P5e);Qf(L5e);const I5e=new Array(k5e-N5e+1);Qf(I5e);const R5e=new Array(Q7);Qf(R5e);const $5e=new Array(eD);Qf($5e);const M5e=(e,t,r,n)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+t[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var q_=M5e;const D5e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},B5e=new Uint32Array(D5e()),F5e=(e,t,r,n)=>{const i=B5e,a=n+r;e^=-1;for(let s=n;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1};var js=F5e,W_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},tD={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const U5e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var z5e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)U5e(r,n)&&(e[n]=r[n])}}return e},q5e=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let s=e[n];r.set(s,i),i+=s.length}return r},rD={assign:z5e,flattenChunks:q5e};let nD=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{nD=!1}const Rm=new Uint8Array(256);for(let e=0;e<256;e++)Rm[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Rm[254]=Rm[254]=1;var W5e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,s=e.length,o=0;for(i=0;i<s;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),a=0,i=0;a<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const H5e=(e,t)=>{if(t<65534&&e.subarray&&nD)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var V5e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=e[n++];if(s<128){a[i++]=s;continue}let o=Rm[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|e[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return H5e(a,i)},G5e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Rm[e[r]]>t?r:t},H_={string2buf:W5e,buf2string:V5e,utf8border:G5e};function K5e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Y5e=K5e;const O0=16209,X5e=16191;var J5e=function(t,r){let n,i,a,s,o,l,u,c,f,p,h,y,g,b,v,w,_,A,S,j,O,L,I,F;const k=t.state;n=t.next_in,I=t.input,i=n+(t.avail_in-5),a=t.next_out,F=t.output,s=a-(r-t.avail_out),o=a+(t.avail_out-257),l=k.dmax,u=k.wsize,c=k.whave,f=k.wnext,p=k.window,h=k.hold,y=k.bits,g=k.lencode,b=k.distcode,v=(1<<k.lenbits)-1,w=(1<<k.distbits)-1;e:do{y<15&&(h+=I[n++]<<y,y+=8,h+=I[n++]<<y,y+=8),_=g[h&v];t:for(;;){if(A=_>>>24,h>>>=A,y-=A,A=_>>>16&255,A===0)F[a++]=_&65535;else if(A&16){S=_&65535,A&=15,A&&(y<A&&(h+=I[n++]<<y,y+=8),S+=h&(1<<A)-1,h>>>=A,y-=A),y<15&&(h+=I[n++]<<y,y+=8,h+=I[n++]<<y,y+=8),_=b[h&w];r:for(;;){if(A=_>>>24,h>>>=A,y-=A,A=_>>>16&255,A&16){if(j=_&65535,A&=15,y<A&&(h+=I[n++]<<y,y+=8,y<A&&(h+=I[n++]<<y,y+=8)),j+=h&(1<<A)-1,j>l){t.msg="invalid distance too far back",k.mode=O0;break e}if(h>>>=A,y-=A,A=a-s,j>A){if(A=j-A,A>c&&k.sane){t.msg="invalid distance too far back",k.mode=O0;break e}if(O=0,L=p,f===0){if(O+=u-A,A<S){S-=A;do F[a++]=p[O++];while(--A);O=a-j,L=F}}else if(f<A){if(O+=u+f-A,A-=f,A<S){S-=A;do F[a++]=p[O++];while(--A);if(O=0,f<S){A=f,S-=A;do F[a++]=p[O++];while(--A);O=a-j,L=F}}}else if(O+=f-A,A<S){S-=A;do F[a++]=p[O++];while(--A);O=a-j,L=F}for(;S>2;)F[a++]=L[O++],F[a++]=L[O++],F[a++]=L[O++],S-=3;S&&(F[a++]=L[O++],S>1&&(F[a++]=L[O++]))}else{O=a-j;do F[a++]=F[O++],F[a++]=F[O++],F[a++]=F[O++],S-=3;while(S>2);S&&(F[a++]=F[O++],S>1&&(F[a++]=F[O++]))}}else if(A&64){t.msg="invalid distance code",k.mode=O0;break e}else{_=b[(_&65535)+(h&(1<<A)-1)];continue r}break}}else if(A&64)if(A&32){k.mode=X5e;break e}else{t.msg="invalid literal/length code",k.mode=O0;break e}else{_=g[(_&65535)+(h&(1<<A)-1)];continue t}break}}while(n<i&&a<o);S=y>>3,n-=S,y-=S<<3,h&=(1<<y)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<o?257+(o-a):257-(a-o),k.hold=h,k.bits=y};const Zc=15,P6=852,C6=592,T6=0,w2=1,L6=2,Z5e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Q5e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),e_e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),t_e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),r_e=(e,t,r,n,i,a,s,o)=>{const l=o.bits;let u=0,c=0,f=0,p=0,h=0,y=0,g=0,b=0,v=0,w=0,_,A,S,j,O,L=null,I;const F=new Uint16Array(Zc+1),k=new Uint16Array(Zc+1);let P=null,M,D,U;for(u=0;u<=Zc;u++)F[u]=0;for(c=0;c<n;c++)F[t[r+c]]++;for(h=l,p=Zc;p>=1&&F[p]===0;p--);if(h>p&&(h=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<p&&F[f]===0;f++);for(h<f&&(h=f),b=1,u=1;u<=Zc;u++)if(b<<=1,b-=F[u],b<0)return-1;if(b>0&&(e===T6||p!==1))return-1;for(k[1]=0,u=1;u<Zc;u++)k[u+1]=k[u]+F[u];for(c=0;c<n;c++)t[r+c]!==0&&(s[k[t[r+c]]++]=c);if(e===T6?(L=P=s,I=20):e===w2?(L=Z5e,P=Q5e,I=257):(L=e_e,P=t_e,I=0),w=0,c=0,u=f,O=a,y=h,g=0,S=-1,v=1<<h,j=v-1,e===w2&&v>P6||e===L6&&v>C6)return 1;for(;;){M=u-g,s[c]+1<I?(D=0,U=s[c]):s[c]>=I?(D=P[s[c]-I],U=L[s[c]-I]):(D=96,U=0),_=1<<u-g,A=1<<y,f=A;do A-=_,i[O+(w>>g)+A]=M<<24|D<<16|U|0;while(A!==0);for(_=1<<u-1;w&_;)_>>=1;if(_!==0?(w&=_-1,w+=_):w=0,c++,--F[u]===0){if(u===p)break;u=t[r+s[c]]}if(u>h&&(w&j)!==S){for(g===0&&(g=h),O+=f,y=u-g,b=1<<y;y+g<p&&(b-=F[y+g],!(b<=0));)y++,b<<=1;if(v+=1<<y,e===w2&&v>P6||e===L6&&v>C6)return 1;S=w&j,i[S]=h<<24|y<<16|O-a|0}}return w!==0&&(i[O+w]=u-g<<24|64<<16|0),o.bits=h,0};var kp=r_e;const n_e=0,iD=1,aD=2,{Z_FINISH:I6,Z_BLOCK:i_e,Z_TREES:P0,Z_OK:pc,Z_STREAM_END:a_e,Z_NEED_DICT:s_e,Z_STREAM_ERROR:Ra,Z_DATA_ERROR:sD,Z_MEM_ERROR:oD,Z_BUF_ERROR:o_e,Z_DEFLATED:R6}=tD,mb=16180,$6=16181,M6=16182,D6=16183,B6=16184,F6=16185,U6=16186,z6=16187,q6=16188,W6=16189,Vv=16190,uo=16191,_2=16192,H6=16193,S2=16194,V6=16195,G6=16196,K6=16197,Y6=16198,C0=16199,T0=16200,X6=16201,J6=16202,Z6=16203,Q6=16204,eC=16205,j2=16206,tC=16207,rC=16208,Tr=16209,lD=16210,uD=16211,l_e=852,u_e=592,c_e=15,d_e=c_e,nC=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function f_e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Nc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<mb||t.mode>uD?1:0},cD=e=>{if(Nc(e))return Ra;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=mb,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(l_e),t.distcode=t.distdyn=new Int32Array(u_e),t.sane=1,t.back=-1,pc},dD=e=>{if(Nc(e))return Ra;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,cD(e)},fD=(e,t)=>{let r;if(Nc(e))return Ra;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ra:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,dD(e))},hD=(e,t)=>{if(!e)return Ra;const r=new f_e;e.state=r,r.strm=e,r.window=null,r.mode=mb;const n=fD(e,t);return n!==pc&&(e.state=null),n},h_e=e=>hD(e,d_e);let iC=!0,A2,N2;const p_e=e=>{if(iC){A2=new Int32Array(512),N2=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(kp(iD,e.lens,0,288,A2,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;kp(aD,e.lens,0,32,N2,0,e.work,{bits:5}),iC=!1}e.lencode=A2,e.lenbits=9,e.distcode=N2,e.distbits=5},pD=(e,t,r,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},m_e=(e,t)=>{let r,n,i,a,s,o,l,u,c,f,p,h,y,g,b=0,v,w,_,A,S,j,O,L;const I=new Uint8Array(4);let F,k;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Nc(e)||!e.output||!e.input&&e.avail_in!==0)return Ra;r=e.state,r.mode===uo&&(r.mode=_2),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,u=r.hold,c=r.bits,f=o,p=l,L=pc;e:for(;;)switch(r.mode){case mb:if(r.wrap===0){r.mode=_2;break}for(;c<16;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,I[0]=u&255,I[1]=u>>>8&255,r.check=js(r.check,I,2,0),u=0,c=0,r.mode=$6;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=Tr;break}if((u&15)!==R6){e.msg="unknown compression method",r.mode=Tr;break}if(u>>>=4,c-=4,O=(u&15)+8,r.wbits===0&&(r.wbits=O),O>15||O>r.wbits){e.msg="invalid window size",r.mode=Tr;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?W6:uo,u=0,c=0;break;case $6:for(;c<16;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if(r.flags=u,(r.flags&255)!==R6){e.msg="unknown compression method",r.mode=Tr;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Tr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=js(r.check,I,2,0)),u=0,c=0,r.mode=M6;case M6:for(;c<32;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,I[2]=u>>>16&255,I[3]=u>>>24&255,r.check=js(r.check,I,4,0)),u=0,c=0,r.mode=D6;case D6:for(;c<16;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=js(r.check,I,2,0)),u=0,c=0,r.mode=B6;case B6:if(r.flags&1024){for(;c<16;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=js(r.check,I,2,0)),u=0,c=0}else r.head&&(r.head.extra=null);r.mode=F6;case F6:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(O=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+h),O)),r.flags&512&&r.wrap&4&&(r.check=js(r.check,n,h,a)),o-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=U6;case U6:if(r.flags&2048){if(o===0)break e;h=0;do O=n[a+h++],r.head&&O&&r.length<65536&&(r.head.name+=String.fromCharCode(O));while(O&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=js(r.check,n,h,a)),o-=h,a+=h,O)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=z6;case z6:if(r.flags&4096){if(o===0)break e;h=0;do O=n[a+h++],r.head&&O&&r.length<65536&&(r.head.comment+=String.fromCharCode(O));while(O&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=js(r.check,n,h,a)),o-=h,a+=h,O)break e}else r.head&&(r.head.comment=null);r.mode=q6;case q6:if(r.flags&512){for(;c<16;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Tr;break}u=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=uo;break;case W6:for(;c<32;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}e.adler=r.check=nC(u),u=0,c=0,r.mode=Vv;case Vv:if(r.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=c,s_e;e.adler=r.check=1,r.mode=uo;case uo:if(t===i_e||t===P0)break e;case _2:if(r.last){u>>>=c&7,c-=c&7,r.mode=j2;break}for(;c<3;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}switch(r.last=u&1,u>>>=1,c-=1,u&3){case 0:r.mode=H6;break;case 1:if(p_e(r),r.mode=C0,t===P0){u>>>=2,c-=2;break e}break;case 2:r.mode=G6;break;case 3:e.msg="invalid block type",r.mode=Tr}u>>>=2,c-=2;break;case H6:for(u>>>=c&7,c-=c&7;c<32;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Tr;break}if(r.length=u&65535,u=0,c=0,r.mode=S2,t===P0)break e;case S2:r.mode=V6;case V6:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(n.subarray(a,a+h),s),o-=h,a+=h,l-=h,s+=h,r.length-=h;break}r.mode=uo;break;case G6:for(;c<14;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if(r.nlen=(u&31)+257,u>>>=5,c-=5,r.ndist=(u&31)+1,u>>>=5,c-=5,r.ncode=(u&15)+4,u>>>=4,c-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Tr;break}r.have=0,r.mode=K6;case K6:for(;r.have<r.ncode;){for(;c<3;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}r.lens[P[r.have++]]=u&7,u>>>=3,c-=3}for(;r.have<19;)r.lens[P[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,F={bits:r.lenbits},L=kp(n_e,r.lens,0,19,r.lencode,0,r.work,F),r.lenbits=F.bits,L){e.msg="invalid code lengths set",r.mode=Tr;break}r.have=0,r.mode=Y6;case Y6:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[u&(1<<r.lenbits)-1],v=b>>>24,w=b>>>16&255,_=b&65535,!(v<=c);){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if(_<16)u>>>=v,c-=v,r.lens[r.have++]=_;else{if(_===16){for(k=v+2;c<k;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if(u>>>=v,c-=v,r.have===0){e.msg="invalid bit length repeat",r.mode=Tr;break}O=r.lens[r.have-1],h=3+(u&3),u>>>=2,c-=2}else if(_===17){for(k=v+3;c<k;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}u>>>=v,c-=v,O=0,h=3+(u&7),u>>>=3,c-=3}else{for(k=v+7;c<k;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}u>>>=v,c-=v,O=0,h=11+(u&127),u>>>=7,c-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Tr;break}for(;h--;)r.lens[r.have++]=O}}if(r.mode===Tr)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Tr;break}if(r.lenbits=9,F={bits:r.lenbits},L=kp(iD,r.lens,0,r.nlen,r.lencode,0,r.work,F),r.lenbits=F.bits,L){e.msg="invalid literal/lengths set",r.mode=Tr;break}if(r.distbits=6,r.distcode=r.distdyn,F={bits:r.distbits},L=kp(aD,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,F),r.distbits=F.bits,L){e.msg="invalid distances set",r.mode=Tr;break}if(r.mode=C0,t===P0)break e;case C0:r.mode=T0;case T0:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=c,J5e(e,p),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,u=r.hold,c=r.bits,r.mode===uo&&(r.back=-1);break}for(r.back=0;b=r.lencode[u&(1<<r.lenbits)-1],v=b>>>24,w=b>>>16&255,_=b&65535,!(v<=c);){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if(w&&!(w&240)){for(A=v,S=w,j=_;b=r.lencode[j+((u&(1<<A+S)-1)>>A)],v=b>>>24,w=b>>>16&255,_=b&65535,!(A+v<=c);){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}u>>>=A,c-=A,r.back+=A}if(u>>>=v,c-=v,r.back+=v,r.length=_,w===0){r.mode=eC;break}if(w&32){r.back=-1,r.mode=uo;break}if(w&64){e.msg="invalid literal/length code",r.mode=Tr;break}r.extra=w&15,r.mode=X6;case X6:if(r.extra){for(k=r.extra;c<k;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=J6;case J6:for(;b=r.distcode[u&(1<<r.distbits)-1],v=b>>>24,w=b>>>16&255,_=b&65535,!(v<=c);){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if(!(w&240)){for(A=v,S=w,j=_;b=r.distcode[j+((u&(1<<A+S)-1)>>A)],v=b>>>24,w=b>>>16&255,_=b&65535,!(A+v<=c);){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}u>>>=A,c-=A,r.back+=A}if(u>>>=v,c-=v,r.back+=v,w&64){e.msg="invalid distance code",r.mode=Tr;break}r.offset=_,r.extra=w&15,r.mode=Z6;case Z6:if(r.extra){for(k=r.extra;c<k;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Tr;break}r.mode=Q6;case Q6:if(l===0)break e;if(h=p-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Tr;break}h>r.wnext?(h-=r.wnext,y=r.wsize-h):y=r.wnext-h,h>r.length&&(h=r.length),g=r.window}else g=i,y=s-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do i[s++]=g[y++];while(--h);r.length===0&&(r.mode=T0);break;case eC:if(l===0)break e;i[s++]=r.length,l--,r.mode=T0;break;case j2:if(r.wrap){for(;c<32;){if(o===0)break e;o--,u|=n[a++]<<c,c+=8}if(p-=l,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?js(r.check,i,p,s-p):q_(r.check,i,p,s-p)),p=l,r.wrap&4&&(r.flags?u:nC(u))!==r.check){e.msg="incorrect data check",r.mode=Tr;break}u=0,c=0}r.mode=tC;case tC:if(r.wrap&&r.flags){for(;c<32;){if(o===0)break e;o--,u+=n[a++]<<c,c+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Tr;break}u=0,c=0}r.mode=rC;case rC:L=a_e;break e;case Tr:L=sD;break e;case lD:return oD;case uD:default:return Ra}return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=c,(r.wsize||p!==e.avail_out&&r.mode<Tr&&(r.mode<j2||t!==I6))&&pD(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?js(r.check,i,p,e.next_out-p):q_(r.check,i,p,e.next_out-p)),e.data_type=r.bits+(r.last?64:0)+(r.mode===uo?128:0)+(r.mode===C0||r.mode===S2?256:0),(f===0&&p===0||t===I6)&&L===pc&&(L=o_e),L},g_e=e=>{if(Nc(e))return Ra;let t=e.state;return t.window&&(t.window=null),e.state=null,pc},y_e=(e,t)=>{if(Nc(e))return Ra;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,pc):Ra},v_e=(e,t)=>{const r=t.length;let n,i,a;return Nc(e)||(n=e.state,n.wrap!==0&&n.mode!==Vv)?Ra:n.mode===Vv&&(i=1,i=q_(i,t,r,0),i!==n.check)?sD:(a=pD(e,t,r,r),a?(n.mode=lD,oD):(n.havedict=1,pc))};var b_e=dD,x_e=fD,w_e=cD,__e=h_e,S_e=hD,j_e=m_e,A_e=g_e,N_e=y_e,k_e=v_e,E_e="pako inflate (from Nodeca project)",mo={inflateReset:b_e,inflateReset2:x_e,inflateResetKeep:w_e,inflateInit:__e,inflateInit2:S_e,inflate:j_e,inflateEnd:A_e,inflateGetHeader:N_e,inflateSetDictionary:k_e,inflateInfo:E_e};function O_e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var P_e=O_e;const mD=Object.prototype.toString,{Z_NO_FLUSH:C_e,Z_FINISH:T_e,Z_OK:$m,Z_STREAM_END:k2,Z_NEED_DICT:E2,Z_STREAM_ERROR:L_e,Z_DATA_ERROR:aC,Z_MEM_ERROR:I_e}=tD;function ig(e){this.options=rD.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Y5e,this.strm.avail_out=0;let r=mo.inflateInit2(this.strm,t.windowBits);if(r!==$m)throw new Error(W_[r]);if(this.header=new P_e,mo.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=H_.string2buf(t.dictionary):mD.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=mo.inflateSetDictionary(this.strm,t.dictionary),r!==$m)))throw new Error(W_[r])}ig.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?T_e:C_e,mD.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=mo.inflate(r,s),a===E2&&i&&(a=mo.inflateSetDictionary(r,i),a===$m?a=mo.inflate(r,s):a===aC&&(a=E2));r.avail_in>0&&a===k2&&r.state.wrap>0&&e[r.next_in]!==0;)mo.inflateReset(r),a=mo.inflate(r,s);switch(a){case L_e:case aC:case E2:case I_e:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===k2))if(this.options.to==="string"){let l=H_.utf8border(r.output,r.next_out),u=r.next_out-l,c=H_.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===$m&&o===0)){if(a===k2)return a=mo.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};ig.prototype.onData=function(e){this.chunks.push(e)};ig.prototype.onEnd=function(e){e===$m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=rD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function R_e(e,t){const r=new ig(t);if(r.push(e),r.err)throw r.msg||W_[r.err];return r.result}var $_e=ig,M_e=R_e,D_e={Inflate:$_e,inflate:M_e};const{Inflate:B_e,inflate:F_e}=D_e;var sC=B_e,U_e=F_e;const gD=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;gD[e]=t}const oC=4294967295;function z_e(e,t,r){let n=e;for(let i=0;i<r;i++)n=gD[(n^t[i])&255]^n>>>8;return n}function q_e(e,t){return(z_e(oC,e,t)^oC)>>>0}function lC(e,t,r){const n=e.readUint32(),i=q_e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function yD(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function vD(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function bD(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function xD(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-i]+r[a]>>1)&255}}function wD(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+W_e(t[a-i],r[a],r[a-i])&255}}function W_e(e,t,r){const n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),s=Math.abs(n-r);return i<=a&&i<=s?e:a<=s?t:r}function H_e(e,t,r,n,i,a){switch(e){case 0:yD(t,r,i);break;case 1:vD(t,r,i,a);break;case 2:bD(t,r,n,i);break;case 3:xD(t,r,n,i,a);break;case 4:wD(t,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const V_e=new Uint16Array([255]),G_e=new Uint8Array(V_e.buffer),K_e=G_e[0]===255;function Y_e(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(n*r*o);let u=0;for(let c=0;c<7;c++){const f=s[c],p=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(p<=0||h<=0)continue;const y=p*o,g=new Uint8Array(y);for(let b=0;b<h;b++){const v=t[u++],w=t.subarray(u,u+y);u+=y;const _=new Uint8Array(y);H_e(v,w,_,g,y,o),g.set(_);for(let A=0;A<p;A++){const S=f.x+A*f.xStep,j=f.y+b*f.yStep;if(!(S>=r||j>=n))for(let O=0;O<o;O++)l[(j*r+S)*o+O]=_[A*o+O]}}}if(a===16){const c=new Uint16Array(l.buffer);if(K_e)for(let f=0;f<c.length;f++)c[f]=X_e(c[f]);return c}else return l}function X_e(e){return(e&255)<<8|e>>8&255}const J_e=new Uint16Array([255]),Z_e=new Uint8Array(J_e.buffer),Q_e=Z_e[0]===255,eSe=new Uint8Array(0);function uC(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),l=new Uint8Array(n*o);let u=eSe,c=0,f,p;for(let h=0;h<n;h++){switch(f=t.subarray(c+1,c+1+o),p=l.subarray(h*o,(h+1)*o),t[c]){case 0:yD(f,p,o);break;case 1:vD(f,p,o,s);break;case 2:bD(f,p,u,o);break;case 3:xD(f,p,u,o,s);break;case 4:wD(f,p,u,o,s);break;default:throw new Error(`Unsupported filter: ${t[c]}`)}u=p,c+=o+1}if(a===16){const h=new Uint16Array(l.buffer);if(Q_e)for(let y=0;y<h.length;y++)h[y]=tSe(h[y]);return h}else return l}function tSe(e){return(e&255)<<8|e>>8&255}const Q0=Uint8Array.of(137,80,78,71,13,10,26,10);function cC(e){if(!rSe(e.readBytes(Q0.length)))throw new Error("wrong PNG signature")}function rSe(e){if(e.length<Q0.length)return!1;for(let t=0;t<Q0.length;t++)if(e[t]!==Q0[t])return!1;return!0}const nSe="tEXt",iSe=0,_D=new TextDecoder("latin1");function aSe(e){if(oSe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const sSe=/^[\u0000-\u00FF]*$/;function oSe(e){if(!sSe.test(e))throw new Error("invalid latin1 text")}function lSe(e,t,r){const n=SD(t);e[n]=uSe(t,r-n.length-1)}function SD(e){for(e.mark();e.readByte()!==iSe;);const t=e.offset;e.reset();const r=_D.decode(e.readBytes(t-e.offset-1));return e.skip(1),aSe(r),r}function uSe(e,t){return _D.decode(e.readBytes(t))}const qi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},O2={UNKNOWN:-1,DEFLATE:0},dC={UNKNOWN:-1,ADAPTIVE:0},P2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},L0={NONE:0,BACKGROUND:1,PREVIOUS:2},C2={SOURCE:0,OVER:1};class cSe extends LA{constructor(r,n={}){super(r);tr(this,"_checkCrc");tr(this,"_inflator");tr(this,"_png");tr(this,"_apng");tr(this,"_end");tr(this,"_hasPalette");tr(this,"_palette");tr(this,"_hasTransparency");tr(this,"_transparency");tr(this,"_compressionMethod");tr(this,"_filterMethod");tr(this,"_interlaceMethod");tr(this,"_colorType");tr(this,"_isAnimated");tr(this,"_numberOfFrames");tr(this,"_numberOfPlays");tr(this,"_frames");tr(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new sC,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=O2.UNKNOWN,this._filterMethod=dC.UNKNOWN,this._interlaceMethod=P2.UNKNOWN,this._colorType=qi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(cC(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(cC(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case nSe:lSe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?lC(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?lC(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=dSe(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case qi.GREYSCALE:i=1;break;case qi.TRUECOLOUR:i=3;break;case qi.INDEXED_COLOUR:i=1;break;case qi.GREYSCALE_ALPHA:i=2;break;case qi.TRUECOLOUR_ALPHA:i=4;break;case qi.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==O2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case qi.GREYSCALE:case qi.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case qi.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case qi.UNKNOWN:case qi.GREYSCALE_ALPHA:case qi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=SD(this),i=this.readUint8();if(i!==O2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:U_e(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=uC({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case L0.NONE:break;case L0.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*r.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case L0.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,u=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case C2.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let c=0;c<this._png.channels;c++)r.data[l+c]=n.data[u+c]}break;case C2.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let c=0;c<this._png.channels;c++){const f=n.data[u+this._png.channels-1]/i,p=c%(this._png.channels-1)===0?1:n.data[u+c],h=Math.floor(f*p+(1-f)*r.data[l+c]);r.data[l+c]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==dC.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===P2.NO_INTERLACE)this._png.data=uC({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===P2.ADAM7)this._png.data=Y_e({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:L0.NONE,blendOp:C2.SOURCE,data:r}),this._inflator=new sC,this._writingDataChunks=!1}}function dSe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var fC;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(fC||(fC={}));function fSe(e,t){return new cSe(e,t).decode()}var At=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function T2(){At.console&&typeof At.console.log=="function"&&At.console.log.apply(At.console,arguments)}var mr={log:T2,warn:function(e){At.console&&(typeof At.console.warn=="function"?At.console.warn.apply(At.console,arguments):T2.call(null,arguments))},error:function(e){At.console&&(typeof At.console.error=="function"?At.console.error.apply(At.console,arguments):T2(e))}};function L2(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Ru(n.response,t,r)},n.onerror=function(){mr.error("could not download file")},n.send()}function hC(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function I0(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ru=At.saveAs||((typeof window>"u"?"undefined":ur(window))!=="object"||window!==At?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=At.URL||At.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?hC(i.href)?L2(e,t,r):I0(i,i.target="_blank"):I0(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){I0(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(hC(e))L2(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){I0(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:ur(a)!=="object"&&(mr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return L2(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(At.HTMLElement)||At.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":ur(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=s?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},o.readAsDataURL(e)}else{var l=At.URL||At.webkitURL,u=l.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function jD(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var ey=At.atob.bind(At),pC=At.btoa.bind(At);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function I2(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=Jn(r,n,i,a,t[0],7,-680876936),a=Jn(a,r,n,i,t[1],12,-389564586),i=Jn(i,a,r,n,t[2],17,606105819),n=Jn(n,i,a,r,t[3],22,-1044525330),r=Jn(r,n,i,a,t[4],7,-176418897),a=Jn(a,r,n,i,t[5],12,1200080426),i=Jn(i,a,r,n,t[6],17,-1473231341),n=Jn(n,i,a,r,t[7],22,-45705983),r=Jn(r,n,i,a,t[8],7,1770035416),a=Jn(a,r,n,i,t[9],12,-1958414417),i=Jn(i,a,r,n,t[10],17,-42063),n=Jn(n,i,a,r,t[11],22,-1990404162),r=Jn(r,n,i,a,t[12],7,1804603682),a=Jn(a,r,n,i,t[13],12,-40341101),i=Jn(i,a,r,n,t[14],17,-1502002290),r=Zn(r,n=Jn(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Zn(a,r,n,i,t[6],9,-1069501632),i=Zn(i,a,r,n,t[11],14,643717713),n=Zn(n,i,a,r,t[0],20,-373897302),r=Zn(r,n,i,a,t[5],5,-701558691),a=Zn(a,r,n,i,t[10],9,38016083),i=Zn(i,a,r,n,t[15],14,-660478335),n=Zn(n,i,a,r,t[4],20,-405537848),r=Zn(r,n,i,a,t[9],5,568446438),a=Zn(a,r,n,i,t[14],9,-1019803690),i=Zn(i,a,r,n,t[3],14,-187363961),n=Zn(n,i,a,r,t[8],20,1163531501),r=Zn(r,n,i,a,t[13],5,-1444681467),a=Zn(a,r,n,i,t[2],9,-51403784),i=Zn(i,a,r,n,t[7],14,1735328473),r=Qn(r,n=Zn(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Qn(a,r,n,i,t[8],11,-2022574463),i=Qn(i,a,r,n,t[11],16,1839030562),n=Qn(n,i,a,r,t[14],23,-35309556),r=Qn(r,n,i,a,t[1],4,-1530992060),a=Qn(a,r,n,i,t[4],11,1272893353),i=Qn(i,a,r,n,t[7],16,-155497632),n=Qn(n,i,a,r,t[10],23,-1094730640),r=Qn(r,n,i,a,t[13],4,681279174),a=Qn(a,r,n,i,t[0],11,-358537222),i=Qn(i,a,r,n,t[3],16,-722521979),n=Qn(n,i,a,r,t[6],23,76029189),r=Qn(r,n,i,a,t[9],4,-640364487),a=Qn(a,r,n,i,t[12],11,-421815835),i=Qn(i,a,r,n,t[15],16,530742520),r=ei(r,n=Qn(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=ei(a,r,n,i,t[7],10,1126891415),i=ei(i,a,r,n,t[14],15,-1416354905),n=ei(n,i,a,r,t[5],21,-57434055),r=ei(r,n,i,a,t[12],6,1700485571),a=ei(a,r,n,i,t[3],10,-1894986606),i=ei(i,a,r,n,t[10],15,-1051523),n=ei(n,i,a,r,t[1],21,-2054922799),r=ei(r,n,i,a,t[8],6,1873313359),a=ei(a,r,n,i,t[15],10,-30611744),i=ei(i,a,r,n,t[6],15,-1560198380),n=ei(n,i,a,r,t[13],21,1309151649),r=ei(r,n,i,a,t[4],6,-145523070),a=ei(a,r,n,i,t[11],10,-1120210379),i=ei(i,a,r,n,t[2],15,718787259),n=ei(n,i,a,r,t[9],21,-343485551),e[0]=jl(r,e[0]),e[1]=jl(n,e[1]),e[2]=jl(i,e[2]),e[3]=jl(a,e[3])}function gb(e,t,r,n,i,a){return t=jl(jl(t,e),jl(n,a)),jl(t<<i|t>>>32-i,r)}function Jn(e,t,r,n,i,a,s){return gb(t&r|~t&n,e,t,i,a,s)}function Zn(e,t,r,n,i,a,s){return gb(t&n|r&~n,e,t,i,a,s)}function Qn(e,t,r,n,i,a,s){return gb(t^r^n,e,t,i,a,s)}function ei(e,t,r,n,i,a,s){return gb(r^(t|~n),e,t,i,a,s)}function AD(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)I2(n,hSe(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(I2(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,I2(n,i),n}function hSe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var mC="0123456789abcdef".split("");function pSe(e){for(var t="",r=0;r<4;r++)t+=mC[e>>8*r+4&15]+mC[e>>8*r&15];return t}function mSe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function V_(e){return AD(e).map(mSe).join("")}var gSe=function(e){for(var t=0;t<e.length;t++)e[t]=pSe(e[t]);return e.join("")}(AD("hello"))!="5d41402abc4b2a76b9719d911017c592";function jl(e,t){if(gSe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function G_(e,t){var r,n,i,a;if(e!==r){for(var s=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var c=o[l];u=(u+c+s.charCodeAt(l))%256,o[l]=o[u],o[u]=c}r=e,n=o}else o=n;var f=t.length,p=0,h=0,y="";for(l=0;l<f;l++)h=(h+(c=o[p=(p+1)%256]))%256,o[p]=o[h],o[h]=c,s=o[(o[p]+o[h])%256],y+=String.fromCharCode(t.charCodeAt(l)^s);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var gC={print:4,modify:8,copy:16,"annot-forms":32};function id(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(gC.perm!==void 0)throw new Error("Invalid permission: "+o);i+=gC[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=V_(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=G_(this.encryptionKey,this.padding)}function ad(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function yC(e){if(ur(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var s=t[r][a];try{s[0].apply(e,n)}catch(o){At.console&&mr.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Gv(e){if(!(this instanceof Gv))return new Gv(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function ND(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Uu(e,t,r,n,i){if(!(this instanceof Uu))return new Uu(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,ND.call(this,n,i)}function Sd(e,t,r,n,i){if(!(this instanceof Sd))return new Sd(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,ND.call(this,n,i)}function ht(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,u="S",c=null;ur(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(c=e.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=yC;var y="1.3",g=h.__private__.getPdfVersion=function(){return y};h.__private__.setPdfVersion=function(N){y=N};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return b};var v=h.__private__.getPageFormat=function(N){return b[N]};i=i||"a4";var w="compat",_="advanced",A=w;function S(){this.saveGraphicsState(),ee(new wt($e,0,0,-$e,0,fu()*$e).toString()+" cm"),this.setFontSize(this.getFontSize()/$e),u="n",A=_}function j(){this.restoreGraphicsState(),u="S",A=w}var O=h.__private__.combineFontStyleAndFontWeight=function(N,z){if(N=="bold"&&z=="normal"||N=="bold"&&z==400||N=="normal"&&z=="italic"||N=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(N=z==400||z==="normal"?N==="italic"?"italic":"normal":z!=700&&z!=="bold"||N!=="normal"?(z==700?"bold":z)+""+N:"bold"),N};h.advancedAPI=function(N){var z=A===w;return z&&S.call(this),typeof N!="function"||(N(this),z&&j.call(this)),this},h.compatAPI=function(N){var z=A===_;return z&&j.call(this),typeof N!="function"||(N(this),z&&S.call(this)),this},h.isAdvancedAPI=function(){return A===_};var L,I=function(N){if(A!==_)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=h.roundToPrecision=h.__private__.roundToPrecision=function(N,z){var ne=t||z;if(isNaN(N)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(ne).replace(/0+$/,"")};L=h.hpf=h.__private__.hpf=typeof l=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return F(N,l)}:l==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return F(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return F(N,16)};var k=h.f2=h.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return F(N,2)},P=h.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return F(N,3)},M=h.scale=h.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return A===w?N*$e:A===_?N:void 0},D=function(N){return M(function(z){return A===w?fu()-z:A===_?z:void 0}(N))};h.__private__.setPrecision=h.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(t=parseInt(N,10))};var U,H="00000000000000000000000000000000",V=h.__private__.getFileId=function(){return H},B=h.__private__.setFileId=function(N){return H=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Yr=new id(c.userPermissions,c.userPassword,c.ownerPassword,H)),H};h.setFileId=function(N){return B(N),this},h.getFileId=function(){return V()};var J=h.__private__.convertDateToPDFDate=function(N){var z=N.getTimezoneOffset(),ne=z<0?"+":"-",le=Math.floor(Math.abs(z/60)),ve=Math.abs(z%60),Ee=[ne,K(le),"'",K(ve),"'"].join("");return["D:",N.getFullYear(),K(N.getMonth()+1),K(N.getDate()),K(N.getHours()),K(N.getMinutes()),K(N.getSeconds()),Ee].join("")},$=h.__private__.convertPDFDateToDate=function(N){var z=parseInt(N.substr(2,4),10),ne=parseInt(N.substr(6,2),10)-1,le=parseInt(N.substr(8,2),10),ve=parseInt(N.substr(10,2),10),Ee=parseInt(N.substr(12,2),10),De=parseInt(N.substr(14,2),10);return new Date(z,ne,le,ve,Ee,De,0)},ae=h.__private__.setCreationDate=function(N){var z;if(N===void 0&&(N=new Date),N instanceof Date)z=J(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=N}return U=z},T=h.__private__.getCreationDate=function(N){var z=U;return N==="jsDate"&&(z=$(U)),z};h.setCreationDate=function(N){return ae(N),this},h.getCreationDate=function(N){return T(N)};var C,K=h.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},Q=h.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},ie=0,ue=[],me=[],se=0,ge=[],Se=[],pe=!1,Fe=me;h.__private__.setCustomOutputDestination=function(N){pe=!0,Fe=N};var ye=function(N){pe||(Fe=N)};h.__private__.resetCustomOutputDestination=function(){pe=!1,Fe=me};var ee=h.__private__.out=function(N){return N=N.toString(),se+=N.length+1,Fe.push(N),Fe},Ze=h.__private__.write=function(N){return ee(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},Qe=h.__private__.getArrayBuffer=function(N){for(var z=N.length,ne=new ArrayBuffer(z),le=new Uint8Array(ne);z--;)le[z]=N.charCodeAt(z);return ne},Xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Xe};var fe=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(N){return fe=A===_?N/$e:N,this};var Ue,Le=h.__private__.getFontSize=h.getFontSize=function(){return A===w?fe:fe*$e},_e=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(N){return _e=N,this},h.__private__.getR2L=h.getR2L=function(){return _e};var Ce,Re=h.__private__.setZoomMode=function(N){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))Ue=N;else if(isNaN(N)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');Ue=N}else Ue=parseInt(N,10)};h.__private__.getZoomMode=function(){return Ue};var Be,ce=h.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');Ce=N};h.__private__.getPageMode=function(){return Ce};var je=h.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');Be=N};h.__private__.getLayoutMode=function(){return Be},h.__private__.setDisplayMode=h.setDisplayMode=function(N,z,ne){return Re(N),je(z),ce(ne),this};var Te={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(N){if(Object.keys(Te).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Te[N]},h.__private__.getDocumentProperties=function(){return Te},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(N){for(var z in Te)Te.hasOwnProperty(z)&&N[z]&&(Te[z]=N[z]);return this},h.__private__.setDocumentProperty=function(N,z){if(Object.keys(Te).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Te[N]=z};var Oe,$e,qe,mt,vt,Je={},yt={},gt=[],et={},bt={},Ct={},Rr={},$r=null,Xt=0,jt=[],ir=new yC(h),eu=e.hotfixes||[],Vn={},Vs={},ms=[],wt=function N(z,ne,le,ve,Ee,De){if(!(this instanceof N))return new N(z,ne,le,ve,Ee,De);isNaN(z)&&(z=1),isNaN(ne)&&(ne=0),isNaN(le)&&(le=0),isNaN(ve)&&(ve=1),isNaN(Ee)&&(Ee=0),isNaN(De)&&(De=0),this._matrix=[z,ne,le,ve,Ee,De]};Object.defineProperty(wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wt.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(N)},wt.prototype.multiply=function(N){var z=N.sx*this.sx+N.shy*this.shx,ne=N.sx*this.shy+N.shy*this.sy,le=N.shx*this.sx+N.sy*this.shx,ve=N.shx*this.shy+N.sy*this.sy,Ee=N.tx*this.sx+N.ty*this.shx+this.tx,De=N.tx*this.shy+N.ty*this.sy+this.ty;return new wt(z,ne,le,ve,Ee,De)},wt.prototype.decompose=function(){var N=this.sx,z=this.shy,ne=this.shx,le=this.sy,ve=this.tx,Ee=this.ty,De=Math.sqrt(N*N+z*z),st=(N/=De)*ne+(z/=De)*le;ne-=N*st,le-=z*st;var dt=Math.sqrt(ne*ne+le*le);return st/=dt,N*(le/=dt)<z*(ne/=dt)&&(N=-N,z=-z,st=-st,De=-De),{scale:new wt(De,0,0,dt,0,0),translate:new wt(1,0,0,1,ve,Ee),rotate:new wt(N,z,-z,N,0,0),skew:new wt(1,0,st,1,0,0)}},wt.prototype.toString=function(N){return this.join(" ")},wt.prototype.inversed=function(){var N=this.sx,z=this.shy,ne=this.shx,le=this.sy,ve=this.tx,Ee=this.ty,De=1/(N*le-z*ne),st=le*De,dt=-z*De,Ot=-ne*De,It=N*De;return new wt(st,dt,Ot,It,-st*ve-Ot*Ee,-dt*ve-It*Ee)},wt.prototype.applyToPoint=function(N){var z=N.x*this.sx+N.y*this.shx+this.tx,ne=N.x*this.shy+N.y*this.sy+this.ty;return new cu(z,ne)},wt.prototype.applyToRectangle=function(N){var z=this.applyToPoint(N),ne=this.applyToPoint(new cu(N.x+N.w,N.y+N.h));return new ch(z.x,z.y,ne.x-z.x,ne.y-z.y)},wt.prototype.clone=function(){var N=this.sx,z=this.shy,ne=this.shx,le=this.sy,ve=this.tx,Ee=this.ty;return new wt(N,z,ne,le,ve,Ee)},h.Matrix=wt;var Gs=h.matrixMult=function(N,z){return z.multiply(N)},Ks=new wt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Ks;var ua=function(N,z){if(!bt[N]){var ne=(z instanceof Uu?"Sh":"P")+(Object.keys(et).length+1).toString(10);z.id=ne,bt[N]=ne,et[ne]=z,ir.publish("addPattern",z)}};h.ShadingPattern=Uu,h.TilingPattern=Sd,h.addShadingPattern=function(N,z){return I("addShadingPattern()"),ua(N,z),this},h.beginTilingPattern=function(N){I("beginTilingPattern()"),dh(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},h.endTilingPattern=function(N,z){I("endTilingPattern()"),z.stream=Se[C].join(`
`),ua(N,z),ir.publish("endTilingPattern",z),ms.pop().restore()};var ca,zr=h.__private__.newObject=function(){var N=On();return $n(N,!0),N},On=h.__private__.newObjectDeferred=function(){return ie++,ue[ie]=function(){return se},ie},$n=function(N,z){return z=typeof z=="boolean"&&z,ue[N]=se,z&&ee(N+" 0 obj"),N},tu=h.__private__.newAdditionalObject=function(){var N={objId:On(),content:""};return ge.push(N),N},qo=On(),Ba=On(),gs=h.__private__.decodeColorString=function(N){var z=N.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var ne=parseFloat(z[0]);z=[ne,ne,ne,"r"]}for(var le="#",ve=0;ve<3;ve++)le+=("0"+Math.floor(255*parseFloat(z[ve])).toString(16)).slice(-2);return le},Fa=h.__private__.encodeColorString=function(N){var z;typeof N=="string"&&(N={ch1:N});var ne=N.ch1,le=N.ch2,ve=N.ch3,Ee=N.ch4,De=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var st=new jD(ne);if(st.ok)ne=st.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var dt=parseInt(ne.substr(1),16);ne=dt>>16&255,le=dt>>8&255,ve=255&dt}if(le===void 0||Ee===void 0&&ne===le&&le===ve)z=typeof ne=="string"?ne+" "+De[0]:N.precision===2?k(ne/255)+" "+De[0]:P(ne/255)+" "+De[0];else if(Ee===void 0||ur(Ee)==="object"){if(Ee&&!isNaN(Ee.a)&&Ee.a===0)return["1.","1.","1.",De[1]].join(" ");z=typeof ne=="string"?[ne,le,ve,De[1]].join(" "):N.precision===2?[k(ne/255),k(le/255),k(ve/255),De[1]].join(" "):[P(ne/255),P(le/255),P(ve/255),De[1]].join(" ")}else z=typeof ne=="string"?[ne,le,ve,Ee,De[2]].join(" "):N.precision===2?[k(ne),k(le),k(ve),k(Ee),De[2]].join(" "):[P(ne),P(le),P(ve),P(Ee),De[2]].join(" ");return z},Ua=h.__private__.getFilters=function(){return s},da=h.__private__.putStream=function(N){var z=(N=N||{}).data||"",ne=N.filters||Ua(),le=N.alreadyAppliedFilters||[],ve=N.addLength1||!1,Ee=z.length,De=N.objectId,st=function(gn){return gn};if(c!==null&&De===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(st=Yr.encryptor(De,0));var dt={};ne===!0&&(ne=["FlateEncode"]);var Ot=N.additionalKeyValues||[],It=(dt=ht.API.processDataByFilters!==void 0?ht.API.processDataByFilters(z,ne):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(le)?le.join(" "):le.toString());if(dt.data.length!==0&&(Ot.push({key:"Length",value:dt.data.length}),ve===!0&&Ot.push({key:"Length1",value:Ee})),It.length!=0)if(It.split("/").length-1==1)Ot.push({key:"Filter",value:It});else{Ot.push({key:"Filter",value:"["+It+"]"});for(var er=0;er<Ot.length;er+=1)if(Ot[er].key==="DecodeParms"){for(var Mr=[],on=0;on<dt.reverseChain.split("/").length-1;on+=1)Mr.push("null");Mr.push(Ot[er].value),Ot[er].value="["+Mr.join(" ")+"]"}}ee("<<");for(var yr=0;yr<Ot.length;yr++)ee("/"+Ot[yr].key+" "+Ot[yr].value);ee(">>"),dt.data.length!==0&&(ee("stream"),ee(st(dt.data)),ee("endstream"))},ru=h.__private__.putPage=function(N){var z=N.number,ne=N.data,le=N.objId,ve=N.contentsObjId;$n(le,!0),ee("<</Type /Page"),ee("/Parent "+N.rootDictionaryObjId+" 0 R"),ee("/Resources "+N.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(L(N.mediaBox.bottomLeftX))+" "+parseFloat(L(N.mediaBox.bottomLeftY))+" "+L(N.mediaBox.topRightX)+" "+L(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&ee("/CropBox ["+L(N.cropBox.bottomLeftX)+" "+L(N.cropBox.bottomLeftY)+" "+L(N.cropBox.topRightX)+" "+L(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&ee("/BleedBox ["+L(N.bleedBox.bottomLeftX)+" "+L(N.bleedBox.bottomLeftY)+" "+L(N.bleedBox.topRightX)+" "+L(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&ee("/TrimBox ["+L(N.trimBox.bottomLeftX)+" "+L(N.trimBox.bottomLeftY)+" "+L(N.trimBox.topRightX)+" "+L(N.trimBox.topRightY)+"]"),N.artBox!==null&&ee("/ArtBox ["+L(N.artBox.bottomLeftX)+" "+L(N.artBox.bottomLeftY)+" "+L(N.artBox.topRightX)+" "+L(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&ee("/UserUnit "+N.userUnit),ir.publish("putPage",{objId:le,pageContext:jt[z],pageNumber:z,page:ne}),ee("/Contents "+ve+" 0 R"),ee(">>"),ee("endobj");var Ee=ne.join(`
`);return A===_&&(Ee+=`
Q`),$n(ve,!0),da({data:Ee,filters:Ua(),objectId:ve}),ee("endobj"),le},ys=h.__private__.putPages=function(){var N,z,ne=[];for(N=1;N<=Xt;N++)jt[N].objId=On(),jt[N].contentsObjId=On();for(N=1;N<=Xt;N++)ne.push(ru({number:N,data:Se[N],objId:jt[N].objId,contentsObjId:jt[N].contentsObjId,mediaBox:jt[N].mediaBox,cropBox:jt[N].cropBox,bleedBox:jt[N].bleedBox,trimBox:jt[N].trimBox,artBox:jt[N].artBox,userUnit:jt[N].userUnit,rootDictionaryObjId:qo,resourceDictionaryObjId:Ba}));$n(qo,!0),ee("<</Type /Pages");var le="/Kids [";for(z=0;z<Xt;z++)le+=ne[z]+" 0 R ";ee(le+"]"),ee("/Count "+Xt),ee(">>"),ee("endobj"),ir.publish("postPutPages")},nu=function(N){ir.publish("putFont",{font:N,out:ee,newObject:zr,putStream:da}),N.isAlreadyPutted!==!0&&(N.objectNumber=zr(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+ad(N.postScriptName)),ee("/Subtype /Type1"),typeof N.encoding=="string"&&ee("/Encoding /"+N.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},Ec=function(N){N.objectNumber=zr();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[L(N.x),L(N.y),L(N.x+N.width),L(N.y+N.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var ne=N.pages[1].join(`
`);da({data:ne,additionalKeyValues:z,objectId:N.objectNumber}),ee("endobj")},Oc=function(N,z){z||(z=21);var ne=zr(),le=function(De,st){var dt,Ot=[],It=1/(st-1);for(dt=0;dt<1;dt+=It)Ot.push(dt);if(Ot.push(1),De[0].offset!=0){var er={offset:0,color:De[0].color};De.unshift(er)}if(De[De.length-1].offset!=1){var Mr={offset:1,color:De[De.length-1].color};De.push(Mr)}for(var on="",yr=0,gn=0;gn<Ot.length;gn++){for(dt=Ot[gn];dt>De[yr+1].offset;)yr++;var ln=De[yr].offset,Mn=(dt-ln)/(De[yr+1].offset-ln),ha=De[yr].color,bi=De[yr+1].color;on+=Q(Math.round((1-Mn)*ha[0]+Mn*bi[0]).toString(16))+Q(Math.round((1-Mn)*ha[1]+Mn*bi[1]).toString(16))+Q(Math.round((1-Mn)*ha[2]+Mn*bi[2]).toString(16))}return on.trim()}(N.colors,z),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+z+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),da({data:le,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),ee("endobj"),N.objectNumber=zr(),ee("<< /ShadingType "+N.type),ee("/ColorSpace /DeviceRGB");var Ee="/Coords ["+L(parseFloat(N.coords[0]))+" "+L(parseFloat(N.coords[1]))+" ";N.type===2?Ee+=L(parseFloat(N.coords[2]))+" "+L(parseFloat(N.coords[3])):Ee+=L(parseFloat(N.coords[2]))+" "+L(parseFloat(N.coords[3]))+" "+L(parseFloat(N.coords[4]))+" "+L(parseFloat(N.coords[5])),ee(Ee+="]"),N.matrix&&ee("/Matrix ["+N.matrix.toString()+"]"),ee("/Function "+ne+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},Pc=function(N,z){var ne=On(),le=zr();z.push({resourcesOid:ne,objectOid:le}),N.objectNumber=le;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+N.boundingBox.map(L).join(" ")+"]"}),ve.push({key:"XStep",value:L(N.xStep)}),ve.push({key:"YStep",value:L(N.yStep)}),ve.push({key:"Resources",value:ne+" 0 R"}),N.matrix&&ve.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),da({data:N.stream,additionalKeyValues:ve,objectId:N.objectNumber}),ee("endobj")},yb=function(N){for(var z in N.objectNumber=zr(),ee("<<"),N)switch(z){case"opacity":ee("/ca "+k(N[z]));break;case"stroke-opacity":ee("/CA "+k(N[z]))}ee(">>"),ee("endobj")},eh=function(N){$n(N.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var z in ee("/Font <<"),Je)Je.hasOwnProperty(z)&&(f===!1||f===!0&&p.hasOwnProperty(z))&&ee("/"+z+" "+Je[z].objectNumber+" 0 R");ee(">>")}(),function(){if(Object.keys(et).length>0){for(var z in ee("/Shading <<"),et)et.hasOwnProperty(z)&&et[z]instanceof Uu&&et[z].objectNumber>=0&&ee("/"+z+" "+et[z].objectNumber+" 0 R");ir.publish("putShadingPatternDict"),ee(">>")}}(),function(z){if(Object.keys(et).length>0){for(var ne in ee("/Pattern <<"),et)et.hasOwnProperty(ne)&&et[ne]instanceof h.TilingPattern&&et[ne].objectNumber>=0&&et[ne].objectNumber<z&&ee("/"+ne+" "+et[ne].objectNumber+" 0 R");ir.publish("putTilingPatternDict"),ee(">>")}}(N.objectOid),function(){if(Object.keys(Ct).length>0){var z;for(z in ee("/ExtGState <<"),Ct)Ct.hasOwnProperty(z)&&Ct[z].objectNumber>=0&&ee("/"+z+" "+Ct[z].objectNumber+" 0 R");ir.publish("putGStateDict"),ee(">>")}}(),function(){for(var z in ee("/XObject <<"),Vn)Vn.hasOwnProperty(z)&&Vn[z].objectNumber>=0&&ee("/"+z+" "+Vn[z].objectNumber+" 0 R");ir.publish("putXobjectDict"),ee(">>")}(),ee(">>"),ee("endobj")},ag=function(N){yt[N.fontName]=yt[N.fontName]||{},yt[N.fontName][N.fontStyle]=N.id},sg=function(N,z,ne,le,ve){var Ee={id:"F"+(Object.keys(Je).length+1).toString(10),postScriptName:N,fontName:z,fontStyle:ne,encoding:le,isStandardFont:ve||!1,metadata:{}};return ir.publish("addFont",{font:Ee,instance:this}),Je[Ee.id]=Ee,ag(Ee),Ee.id},fa=h.__private__.pdfEscape=h.pdfEscape=function(N,z){return function(ne,le){var ve,Ee,De,st,dt,Ot,It,er,Mr;if(De=(le=le||{}).sourceEncoding||"Unicode",dt=le.outputEncoding,(le.autoencode||dt)&&Je[Oe].metadata&&Je[Oe].metadata[De]&&Je[Oe].metadata[De].encoding&&(st=Je[Oe].metadata[De].encoding,!dt&&Je[Oe].encoding&&(dt=Je[Oe].encoding),!dt&&st.codePages&&(dt=st.codePages[0]),typeof dt=="string"&&(dt=st[dt]),dt)){for(It=!1,Ot=[],ve=0,Ee=ne.length;ve<Ee;ve++)(er=dt[ne.charCodeAt(ve)])?Ot.push(String.fromCharCode(er)):Ot.push(ne[ve]),Ot[ve].charCodeAt(0)>>8&&(It=!0);ne=Ot.join("")}for(ve=ne.length;It===void 0&&ve!==0;)ne.charCodeAt(ve-1)>>8&&(It=!0),ve--;if(!It)return ne;for(Ot=le.noBOM?[]:[254,255],ve=0,Ee=ne.length;ve<Ee;ve++){if((Mr=(er=ne.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ot.push(Mr),Ot.push(er-(Mr<<8))}return String.fromCharCode.apply(void 0,Ot)}(N,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},th=h.__private__.beginPage=function(N){Se[++Xt]=[],jt[Xt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},lg(Xt),ye(Se[C])},og=function(N,z){var ne,le,ve;switch(r=z||r,typeof N=="string"&&(ne=v(N.toLowerCase()),Array.isArray(ne)&&(le=ne[0],ve=ne[1])),Array.isArray(N)&&(le=N[0]*$e,ve=N[1]*$e),isNaN(le)&&(le=i[0],ve=i[1]),(le>14400||ve>14400)&&(mr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),le=Math.min(14400,le),ve=Math.min(14400,ve)),i=[le,ve],r.substr(0,1)){case"l":ve>le&&(i=[ve,le]);break;case"p":le>ve&&(i=[ve,le])}th(i),Nb(sh),ee(Tc),lh!==0&&ee(lh+" J"),uh!==0&&ee(uh+" j"),ir.publish("addPage",{pageNumber:Xt})},rh=function(N){N>0&&N<=Xt&&(Se.splice(N,1),jt.splice(N,1),Xt--,C>Xt&&(C=Xt),this.setPage(C))},lg=function(N){N>0&&N<=Xt&&(C=N)},ug=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Se.length-1},cg=function(N,z,ne){var le,ve=void 0;return ne=ne||{},N=N!==void 0?N:Je[Oe].fontName,z=z!==void 0?z:Je[Oe].fontStyle,le=N.toLowerCase(),yt[le]!==void 0&&yt[le][z]!==void 0?ve=yt[le][z]:yt[N]!==void 0&&yt[N][z]!==void 0?ve=yt[N][z]:ne.disableWarning===!1&&mr.warn("Unable to look up font label for font '"+N+"', '"+z+"'. Refer to getFontList() for available fonts."),ve||ne.noFallback||(ve=yt.times[z])==null&&(ve=yt.times.normal),ve},Cc=h.__private__.putInfo=function(){var N=zr(),z=function(le){return le};for(var ne in c!==null&&(z=Yr.encryptor(N,0)),ee("<<"),ee("/Producer ("+fa(z("jsPDF "+ht.version))+")"),Te)Te.hasOwnProperty(ne)&&Te[ne]&&ee("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+fa(z(Te[ne]))+")");ee("/CreationDate ("+fa(z(U))+")"),ee(">>"),ee("endobj")},vb=h.__private__.putCatalog=function(N){var z=(N=N||{}).rootDictionaryObjId||qo;switch(zr(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+z+" 0 R"),Ue||(Ue="fullwidth"),Ue){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+Ue;ne.substr(ne.length-1)==="%"&&(Ue=parseInt(Ue)/100),typeof Ue=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+k(Ue)+"]")}switch(Be||(Be="continuous"),Be){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}Ce&&ee("/PageMode /"+Ce),ir.publish("putCatalog"),ee(">>"),ee("endobj")},sn=h.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(ie+1)),ee("/Root "+ie+" 0 R"),ee("/Info "+(ie-1)+" 0 R"),c!==null&&ee("/Encrypt "+Yr.oid+" 0 R"),ee("/ID [ <"+H+"> <"+H+"> ]"),ee(">>")},dg=h.__private__.putHeader=function(){ee("%PDF-"+y),ee("%")},fg=h.__private__.putXRef=function(){var N="0000000000";ee("xref"),ee("0 "+(ie+1)),ee("0000000000 65535 f ");for(var z=1;z<=ie;z++)typeof ue[z]=="function"?ee((N+ue[z]()).slice(-10)+" 00000 n "):ue[z]!==void 0?ee((N+ue[z]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},Ys=h.__private__.buildDocument=function(){var N;ie=0,se=0,me=[],ue=[],ge=[],qo=On(),Ba=On(),ye(me),ir.publish("buildDocument"),dg(),ys(),function(){ir.publish("putAdditionalObjects");for(var ne=0;ne<ge.length;ne++){var le=ge[ne];$n(le.objId,!0),ee(le.content),ee("endobj")}ir.publish("postPutAdditionalObjects")}(),N=[],function(){for(var ne in Je)Je.hasOwnProperty(ne)&&(f===!1||f===!0&&p.hasOwnProperty(ne))&&nu(Je[ne])}(),function(){var ne;for(ne in Ct)Ct.hasOwnProperty(ne)&&yb(Ct[ne])}(),function(){for(var ne in Vn)Vn.hasOwnProperty(ne)&&Ec(Vn[ne])}(),function(ne){var le;for(le in et)et.hasOwnProperty(le)&&(et[le]instanceof Uu?Oc(et[le]):et[le]instanceof Sd&&Pc(et[le],ne))}(N),ir.publish("putResources"),N.forEach(eh),eh({resourcesOid:Ba,objectOid:Number.MAX_SAFE_INTEGER}),ir.publish("postPutResources"),c!==null&&(Yr.oid=zr(),ee("<<"),ee("/Filter /Standard"),ee("/V "+Yr.v),ee("/R "+Yr.r),ee("/U <"+Yr.toHexString(Yr.U)+">"),ee("/O <"+Yr.toHexString(Yr.O)+">"),ee("/P "+Yr.P),ee(">>"),ee("endobj")),Cc(),vb();var z=se;return fg(),sn(),ee("startxref"),ee(""+z),ee("%%EOF"),ye(Se[C]),me.join(`
`)},iu=h.__private__.getBlob=function(N){return new Blob([Qe(N)],{type:"application/pdf"})},za=h.output=h.__private__.output=(ca=function(N,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",N){case void 0:return Ys();case"save":h.save(z.filename);break;case"arraybuffer":return Qe(Ys());case"blob":return iu(Ys());case"bloburi":case"bloburl":if(At.URL!==void 0&&typeof At.URL.createObjectURL=="function")return At.URL&&At.URL.createObjectURL(iu(Ys()))||void 0;mr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",le=Ys();try{ne=pC(le)}catch{ne=pC(unescape(encodeURIComponent(le)))}return"data:application/pdf;filename="+z.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ee=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(ve=z.pdfObjectUrl,Ee="");var De='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Ee+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",st=At.open();return st!==null&&st.document.write(De),st}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',Ot=At.open();if(Ot!==null){Ot.document.write(dt);var It=this;Ot.document.documentElement.querySelector("#pdfViewer").onload=function(){Ot.document.title=z.filename,Ot.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(It.output("bloburl"))}}return Ot}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(At)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',Mr=At.open();if(Mr!==null&&(Mr.document.write(er),Mr.document.title=z.filename),Mr||typeof safari>"u")return Mr;break;case"datauri":case"dataurl":return At.document.location.href=this.output("datauristring",z);default:return null}},ca.foo=function(){try{return ca.apply(this,arguments)}catch(ne){var N=ne.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var z="Error in function "+N.split(`
`)[0].split("<")[0]+": "+ne.message;if(!At.console)throw new Error(z);At.console.error(z,ne),At.alert&&alert(z)}},ca.foo.bar=ca,ca.foo),au=function(N){return Array.isArray(eu)===!0&&eu.indexOf(N)>-1};switch(n){case"pt":$e=1;break;case"mm":$e=72/25.4;break;case"cm":$e=72/2.54;break;case"in":$e=72;break;case"px":$e=au("px_scaling")==1?.75:96/72;break;case"pc":case"em":$e=12;break;case"ex":$e=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);$e=n}var Yr=null;ae(),B();var nh=h.__private__.getPageInfo=h.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:jt[N].objId,pageNumber:N,pageContext:jt[N]}},bb=h.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in jt)if(jt[z].objId===N)break;return nh(z)},xb=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:jt[C].objId,pageNumber:C,pageContext:jt[C]}};h.addPage=function(){return og.apply(this,arguments),this},h.setPage=function(){return lg.apply(this,arguments),ye.call(this,Se[C]),this},h.insertPage=function(N){return this.addPage(),this.movePage(C,N),this},h.movePage=function(N,z){var ne,le;if(N>z){ne=Se[N],le=jt[N];for(var ve=N;ve>z;ve--)Se[ve]=Se[ve-1],jt[ve]=jt[ve-1];Se[z]=ne,jt[z]=le,this.setPage(z)}else if(N<z){ne=Se[N],le=jt[N];for(var Ee=N;Ee<z;Ee++)Se[Ee]=Se[Ee+1],jt[Ee]=jt[Ee+1];Se[z]=ne,jt[z]=le,this.setPage(z)}return this},h.deletePage=function(){return rh.apply(this,arguments),this},h.__private__.text=h.text=function(N,z,ne,le,ve){var Ee,De,st,dt,Ot,It,er,Mr,on,yr=(le=le||{}).scope||this;if(typeof N=="number"&&typeof z=="number"&&(typeof ne=="string"||Array.isArray(ne))){var gn=ne;ne=z,z=N,N=gn}if(arguments[3]instanceof wt==0?(st=arguments[4],dt=arguments[5],ur(er=arguments[3])==="object"&&er!==null||(typeof st=="string"&&(dt=st,st=null),typeof er=="string"&&(dt=er,er=null),typeof er=="number"&&(st=er,er=null),le={flags:er,angle:st,align:dt})):(I("The transform parameter of text() with a Matrix value"),on=ve),isNaN(z)||isNaN(ne)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return yr;var ln,Mn="",ha=typeof le.lineHeightFactor=="number"?le.lineHeightFactor:ou,bi=yr.internal.scaleFactor;function xg(ar){return ar=ar.split("	").join(Array(le.TabLen||9).join(" ")),fa(ar,er)}function $c(ar){for(var hr,Jr=ar.concat(),yn=[],ro=Jr.length;ro--;)typeof(hr=Jr.shift())=="string"?yn.push(hr):Array.isArray(ar)&&(hr.length===1||hr[1]===void 0&&hr[2]===void 0)?yn.push(hr[0]):yn.push([hr[0],hr[1],hr[2]]);return yn}function hu(ar,hr){var Jr;if(typeof ar=="string")Jr=hr(ar)[0];else if(Array.isArray(ar)){for(var yn,ro,wh=ar.concat(),Bc=[],Sg=wh.length;Sg--;)typeof(yn=wh.shift())=="string"?Bc.push(hr(yn)[0]):Array.isArray(yn)&&typeof yn[0]=="string"&&(ro=hr(yn[0],yn[1],yn[2]),Bc.push([ro[0],ro[1],ro[2]]));Jr=Bc}return Jr}var Vo=!1,pu=!0;if(typeof N=="string")Vo=!0;else if(Array.isArray(N)){var mu=N.concat();De=[];for(var gu,Gn=mu.length;Gn--;)(typeof(gu=mu.shift())!="string"||Array.isArray(gu)&&typeof gu[0]!="string")&&(pu=!1);Vo=pu}if(Vo===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var yu=fe/yr.internal.scaleFactor,vu=yu*(ha-1);switch(le.baseline){case"bottom":ne-=vu;break;case"top":ne+=yu-vu;break;case"hanging":ne+=yu-2*vu;break;case"middle":ne+=yu/2-vu}if((It=le.maxWidth||0)>0&&(typeof N=="string"?N=yr.splitTextToSize(N,It):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(ar,hr){return ar.concat(yr.splitTextToSize(hr,It))},[]))),Ee={text:N,x:z,y:ne,options:le,mutex:{pdfEscape:fa,activeFontKey:Oe,fonts:Je,activeFontSize:fe}},ir.publish("preProcessText",Ee),N=Ee.text,st=(le=Ee.options).angle,on instanceof wt==0&&st&&typeof st=="number"){st*=Math.PI/180,le.rotationDirection===0&&(st=-st),A===_&&(st=-st);var fh=Math.cos(st),hh=Math.sin(st);on=new wt(fh,hh,-hh,fh,0,0)}else st&&st instanceof wt&&(on=st);A!==_||on||(on=Ks),(Ot=le.charSpace||Ic)!==void 0&&(Mn+=L(M(Ot))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mr=le.horizontalScale)!==void 0&&(Mn+=L(100*Mr)+` Tz
`),le.lang;var qr=-1,eo=le.renderingMode!==void 0?le.renderingMode:le.stroke,Mc=yr.internal.getCurrentPageInfo().pageContext;switch(eo){case 0:case!1:case"fill":qr=0;break;case 1:case!0:case"stroke":qr=1;break;case 2:case"fillThenStroke":qr=2;break;case 3:case"invisible":qr=3;break;case 4:case"fillAndAddForClipping":qr=4;break;case 5:case"strokeAndAddPathForClipping":qr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":qr=6;break;case 7:case"addToPathForClipping":qr=7}var wg=Mc.usedRenderingMode!==void 0?Mc.usedRenderingMode:-1;qr!==-1?Mn+=qr+` Tr
`:wg!==-1&&(Mn+=`0 Tr
`),qr!==-1&&(Mc.usedRenderingMode=qr),dt=le.align||"left";var pa,bu=fe*ha,ph=yr.internal.pageSize.getWidth(),mh=Je[Oe];Ot=le.charSpace||Ic,It=le.maxWidth||0,er=Object.assign({autoencode:!0,noBOM:!0},le.flags);var Go=[],xu=function(ar){return yr.getStringUnitWidth(ar,{font:mh,charSpace:Ot,fontSize:fe,doKerning:!1})*fe/bi};if(Object.prototype.toString.call(N)==="[object Array]"){var Ri;De=$c(N),dt!=="left"&&(pa=De.map(xu));var $i,Ko=0;if(dt==="right"){z-=pa[0],N=[],Gn=De.length;for(var to=0;to<Gn;to++)to===0?($i=Xs(z),Ri=Js(ne)):($i=M(Ko-pa[to]),Ri=-bu),N.push([De[to],$i,Ri]),Ko=pa[to]}else if(dt==="center"){z-=pa[0]/2,N=[],Gn=De.length;for(var Yo=0;Yo<Gn;Yo++)Yo===0?($i=Xs(z),Ri=Js(ne)):($i=M((Ko-pa[Yo])/2),Ri=-bu),N.push([De[Yo],$i,Ri]),Ko=pa[Yo]}else if(dt==="left"){N=[],Gn=De.length;for(var gh=0;gh<Gn;gh++)N.push(De[gh])}else if(dt==="justify"&&mh.encoding==="Identity-H"){N=[],Gn=De.length,It=It!==0?It:ph;for(var Dc=0,Xr=0;Xr<Gn;Xr++)if(Ri=Xr===0?Js(ne):-bu,$i=Xr===0?Xs(z):Dc,Xr<Gn-1){var _g=M((It-pa[Xr])/(De[Xr].split(" ").length-1)),bs=De[Xr].split(" ");N.push([bs[0]+" ",$i,Ri]),Dc=0;for(var xs=1;xs<bs.length;xs++){var yh=(xu(bs[xs-1]+" "+bs[xs])-xu(bs[xs]))*bi+_g;xs==bs.length-1?N.push([bs[xs],yh,0]):N.push([bs[xs]+" ",yh,0]),Dc-=yh}}else N.push([De[Xr],$i,Ri]);N.push(["",Dc,0])}else{if(dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],Gn=De.length,It=It!==0?It:ph,Xr=0;Xr<Gn;Xr++){Ri=Xr===0?Js(ne):-bu,$i=Xr===0?Xs(z):0;var vh=De[Xr].split(" ").length-1,bh=vh>0?(It-pa[Xr])/vh:0;Xr<Gn-1?Go.push(L(M(bh))):Go.push(0),N.push([De[Xr],$i,Ri])}}}(typeof le.R2L=="boolean"?le.R2L:_e)===!0&&(N=hu(N,function(ar,hr,Jr){return[ar.split("").reverse().join(""),hr,Jr]})),Ee={text:N,x:z,y:ne,options:le,mutex:{pdfEscape:fa,activeFontKey:Oe,fonts:Je,activeFontSize:fe}},ir.publish("postProcessText",Ee),N=Ee.text,ln=Ee.mutex.isHex||!1;var xh=Je[Oe].encoding;xh!=="WinAnsiEncoding"&&xh!=="StandardEncoding"||(N=hu(N,function(ar,hr,Jr){return[xg(ar),hr,Jr]})),De=$c(N),N=[];for(var Xo,Jo,Zo,wu=Array.isArray(De[0])?1:0,Qo="",_u=function(ar,hr,Jr){var yn="";return Jr instanceof wt?(Jr=typeof le.angle=="number"?Gs(Jr,new wt(1,0,0,1,ar,hr)):Gs(new wt(1,0,0,1,ar,hr),Jr),A===_&&(Jr=Gs(new wt(1,0,0,-1,0,0),Jr)),yn=Jr.join(" ")+` Tm
`):yn=L(ar)+" "+L(hr)+` Td
`,yn},ma=0;ma<De.length;ma++){switch(Qo="",wu){case 1:Zo=(ln?"<":"(")+De[ma][0]+(ln?">":")"),Xo=parseFloat(De[ma][1]),Jo=parseFloat(De[ma][2]);break;case 0:Zo=(ln?"<":"(")+De[ma]+(ln?">":")"),Xo=Xs(z),Jo=Js(ne)}Go!==void 0&&Go[ma]!==void 0&&(Qo=Go[ma]+` Tw
`),ma===0?N.push(Qo+_u(Xo,Jo,on)+Zo):wu===0?N.push(Qo+Zo):wu===1&&N.push(Qo+_u(Xo,Jo,on)+Zo)}N=wu===0?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var ws=`BT
/`;return ws+=Oe+" "+fe+` Tf
`,ws+=L(fe*ha)+` TL
`,ws+=lu+`
`,ws+=Mn,ws+=N,ee(ws+="ET"),p[Oe]=!0,yr};var wb=h.__private__.clip=h.clip=function(N){return ee(N==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return wb("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ee("n"),this};var vs=h.__private__.isValidStyle=function(N){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(z=!0),z};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(N){return vs(N)&&(u=N),this};var hg=h.__private__.getStyle=h.getStyle=function(N){var z=u;switch(N){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=N}return z},pg=h.close=function(){return ee("h"),this};h.stroke=function(){return ee("S"),this},h.fill=function(N){return Wo("f",N),this},h.fillEvenOdd=function(N){return Wo("f*",N),this},h.fillStroke=function(N){return Wo("B",N),this},h.fillStrokeEvenOdd=function(N){return Wo("B*",N),this};var Wo=function(N,z){ur(z)==="object"?Sb(z,N):ee(N)},ih=function(N){N===null||A===_&&N===void 0||(N=hg(N),ee(N))};function _b(N,z,ne,le,ve){var Ee=new Sd(z||this.boundingBox,ne||this.xStep,le||this.yStep,this.gState,ve||this.matrix);Ee.stream=this.stream;var De=N+"$$"+this.cloneIndex+++"$$";return ua(De,Ee),Ee}var Sb=function(N,z){var ne=bt[N.key],le=et[ne];if(le instanceof Uu)ee("q"),ee(jb(z)),le.gState&&h.setGState(le.gState),ee(N.matrix.toString()+" cm"),ee("/"+ne+" sh"),ee("Q");else if(le instanceof Sd){var ve=new wt(1,0,0,-1,0,fu());N.matrix&&(ve=ve.multiply(N.matrix||Ks),ne=_b.call(le,N.key,N.boundingBox,N.xStep,N.yStep,ve).id),ee("q"),ee("/Pattern cs"),ee("/"+ne+" scn"),le.gState&&h.setGState(le.gState),ee(z),ee("Q")}},jb=function(N){switch(N){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ah=h.moveTo=function(N,z){return ee(L(M(N))+" "+L(D(z))+" m"),this},su=h.lineTo=function(N,z){return ee(L(M(N))+" "+L(D(z))+" l"),this},Ho=h.curveTo=function(N,z,ne,le,ve,Ee){return ee([L(M(N)),L(D(z)),L(M(ne)),L(D(le)),L(M(ve)),L(D(Ee)),"c"].join(" ")),this};h.__private__.line=h.line=function(N,z,ne,le,ve){if(isNaN(N)||isNaN(z)||isNaN(ne)||isNaN(le)||!vs(ve))throw new Error("Invalid arguments passed to jsPDF.line");return A===w?this.lines([[ne-N,le-z]],N,z,[1,1],ve||"S"):this.lines([[ne-N,le-z]],N,z,[1,1]).stroke()},h.__private__.lines=h.lines=function(N,z,ne,le,ve,Ee){var De,st,dt,Ot,It,er,Mr,on,yr,gn,ln,Mn;if(typeof N=="number"&&(Mn=ne,ne=z,z=N,N=Mn),le=le||[1,1],Ee=Ee||!1,isNaN(z)||isNaN(ne)||!Array.isArray(N)||!Array.isArray(le)||!vs(ve)||typeof Ee!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ah(z,ne),De=le[0],st=le[1],Ot=N.length,gn=z,ln=ne,dt=0;dt<Ot;dt++)(It=N[dt]).length===2?(gn=It[0]*De+gn,ln=It[1]*st+ln,su(gn,ln)):(er=It[0]*De+gn,Mr=It[1]*st+ln,on=It[2]*De+gn,yr=It[3]*st+ln,gn=It[4]*De+gn,ln=It[5]*st+ln,Ho(er,Mr,on,yr,gn,ln));return Ee&&pg(),ih(ve),this},h.path=function(N){for(var z=0;z<N.length;z++){var ne=N[z],le=ne.c;switch(ne.op){case"m":ah(le[0],le[1]);break;case"l":su(le[0],le[1]);break;case"c":Ho.apply(this,le);break;case"h":pg()}}return this},h.__private__.rect=h.rect=function(N,z,ne,le,ve){if(isNaN(N)||isNaN(z)||isNaN(ne)||isNaN(le)||!vs(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return A===w&&(le=-le),ee([L(M(N)),L(D(z)),L(M(ne)),L(M(le)),"re"].join(" ")),ih(ve),this},h.__private__.triangle=h.triangle=function(N,z,ne,le,ve,Ee,De){if(isNaN(N)||isNaN(z)||isNaN(ne)||isNaN(le)||isNaN(ve)||isNaN(Ee)||!vs(De))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-N,le-z],[ve-ne,Ee-le],[N-ve,z-Ee]],N,z,[1,1],De,!0),this},h.__private__.roundedRect=h.roundedRect=function(N,z,ne,le,ve,Ee,De){if(isNaN(N)||isNaN(z)||isNaN(ne)||isNaN(le)||isNaN(ve)||isNaN(Ee)||!vs(De))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var st=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*ne),Ee=Math.min(Ee,.5*le),this.lines([[ne-2*ve,0],[ve*st,0,ve,Ee-Ee*st,ve,Ee],[0,le-2*Ee],[0,Ee*st,-ve*st,Ee,-ve,Ee],[2*ve-ne,0],[-ve*st,0,-ve,-Ee*st,-ve,-Ee],[0,2*Ee-le],[0,-Ee*st,ve*st,-Ee,ve,-Ee]],N+ve,z,[1,1],De,!0),this},h.__private__.ellipse=h.ellipse=function(N,z,ne,le,ve){if(isNaN(N)||isNaN(z)||isNaN(ne)||isNaN(le)||!vs(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ee=4/3*(Math.SQRT2-1)*ne,De=4/3*(Math.SQRT2-1)*le;return ah(N+ne,z),Ho(N+ne,z-De,N+Ee,z-le,N,z-le),Ho(N-Ee,z-le,N-ne,z-De,N-ne,z),Ho(N-ne,z+De,N-Ee,z+le,N,z+le),Ho(N+Ee,z+le,N+ne,z+De,N+ne,z),ih(ve),this},h.__private__.circle=h.circle=function(N,z,ne,le){if(isNaN(N)||isNaN(z)||isNaN(ne)||!vs(le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,z,ne,ne,le)},h.setFont=function(N,z,ne){return ne&&(z=O(z,ne)),Oe=cg(N,z,{disableWarning:!1}),this};var Ab=h.__private__.getFont=h.getFont=function(){return Je[cg.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var N,z,ne={};for(N in yt)if(yt.hasOwnProperty(N))for(z in ne[N]=[],yt[N])yt[N].hasOwnProperty(z)&&ne[N].push(z);return ne},h.addFont=function(N,z,ne,le,ve){var Ee=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ee.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Ee.indexOf(arguments[3])==-1&&(ne=O(ne,le)),sg.call(this,N,z,ne,ve=ve||"Identity-H")};var ou,sh=e.lineWidth||.200025,Tt=h.__private__.getLineWidth=h.getLineWidth=function(){return sh},Nb=h.__private__.setLineWidth=h.setLineWidth=function(N){return sh=N,ee(L(M(N))+" w"),this};h.__private__.setLineDash=ht.API.setLineDash=ht.API.setLineDashPattern=function(N,z){if(N=N||[],z=z||0,isNaN(z)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(ne){return L(M(ne))}).join(" "),z=L(M(z)),ee("["+N+"] "+z+" d"),this};var kb=h.__private__.getLineHeight=h.getLineHeight=function(){return fe*ou};h.__private__.getLineHeight=h.getLineHeight=function(){return fe*ou};var Eb=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(ou=N),this},Ob=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return ou};Eb(e.lineHeight);var Xs=h.__private__.getHorizontalCoordinate=function(N){return M(N)},Js=h.__private__.getVerticalCoordinate=function(N){return A===_?N:jt[C].mediaBox.topRightY-jt[C].mediaBox.bottomLeftY-M(N)},Pb=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(N){return L(Xs(N))},Cb=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(N){return L(Js(N))},Tc=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return gs(Tc)},h.__private__.setStrokeColor=h.setDrawColor=function(N,z,ne,le){return Tc=Fa({ch1:N,ch2:z,ch3:ne,ch4:le,pdfColorType:"draw",precision:2}),ee(Tc),this};var oh=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return gs(oh)},h.__private__.setFillColor=h.setFillColor=function(N,z,ne,le){return oh=Fa({ch1:N,ch2:z,ch3:ne,ch4:le,pdfColorType:"fill",precision:2}),ee(oh),this};var lu=e.textColor||"0 g",Lc=h.__private__.getTextColor=h.getTextColor=function(){return gs(lu)};h.__private__.setTextColor=h.setTextColor=function(N,z,ne,le){return lu=Fa({ch1:N,ch2:z,ch3:ne,ch4:le,pdfColorType:"text",precision:3}),this};var Ic=e.charSpace,Tb=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Ic||0)};h.__private__.setCharSpace=h.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ic=N,this};var lh=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(N){var z=h.CapJoinStyles[N];if(z===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return lh=z,ee(z+" J"),this};var uh=0;h.__private__.setLineJoin=h.setLineJoin=function(N){var z=h.CapJoinStyles[N];if(z===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return uh=z,ee(z+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(L(M(N))+" M"),this},h.GState=Gv,h.setGState=function(N){(N=typeof N=="string"?Ct[Rr[N]]:uu(null,N)).equals($r)||(ee("/"+N.id+" gs"),$r=N)};var uu=function(N,z){if(!N||!Rr[N]){var ne=!1;for(var le in Ct)if(Ct.hasOwnProperty(le)&&Ct[le].equals(z)){ne=!0;break}if(ne)z=Ct[le];else{var ve="GS"+(Object.keys(Ct).length+1).toString(10);Ct[ve]=z,z.id=ve}return N&&(Rr[N]=z.id),ir.publish("addGState",z),z}};h.addGState=function(N,z){return uu(N,z),this},h.saveGraphicsState=function(){return ee("q"),gt.push({key:Oe,size:fe,color:lu}),this},h.restoreGraphicsState=function(){ee("Q");var N=gt.pop();return Oe=N.key,fe=N.size,lu=N.color,$r=null,this},h.setCurrentTransformationMatrix=function(N){return ee(N.toString()+" cm"),this},h.comment=function(N){return ee("#"+N),this};var cu=function(N,z){var ne=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(Ee){isNaN(Ee)||(ne=parseFloat(Ee))}});var le=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return le},set:function(Ee){isNaN(Ee)||(le=parseFloat(Ee))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Ee){ve=Ee.toString()}}),this},ch=function(N,z,ne,le){cu.call(this,N,z),this.type="rect";var ve=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(De){isNaN(De)||(ve=parseFloat(De))}});var Ee=le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ee},set:function(De){isNaN(De)||(Ee=parseFloat(De))}}),this},Rc=function(){this.page=Xt,this.currentPage=C,this.pages=Se.slice(0),this.pagesContext=jt.slice(0),this.x=qe,this.y=mt,this.matrix=vt,this.width=mg(C),this.height=Zs(C),this.outputDestination=Fe,this.id="",this.objectNumber=-1};Rc.prototype.restore=function(){Xt=this.page,C=this.currentPage,jt=this.pagesContext,Se=this.pages,qe=this.x,mt=this.y,vt=this.matrix,gg(C,this.width),Qs(C,this.height),Fe=this.outputDestination};var dh=function(N,z,ne,le,ve){ms.push(new Rc),Xt=C=0,Se=[],qe=N,mt=z,vt=ve,th([ne,le])};for(var du in h.beginFormObject=function(N,z,ne,le,ve){return dh(N,z,ne,le,ve),this},h.endFormObject=function(N){return function(z){if(Vs[z])ms.pop().restore();else{var ne=new Rc,le="Xo"+(Object.keys(Vn).length+1).toString(10);ne.id=le,Vs[z]=le,Vn[le]=ne,ir.publish("addFormObject",ne),ms.pop().restore()}}(N),this},h.doFormObject=function(N,z){var ne=Vn[Vs[N]];return ee("q"),ee(z.toString()+" cm"),ee("/"+ne.id+" Do"),ee("Q"),this},h.getFormObject=function(N){var z=Vn[Vs[N]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},h.save=function(N,z){return N=N||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(Ru(iu(Ys()),N),typeof Ru.unload=="function"&&At.setTimeout&&setTimeout(Ru.unload,911),this):new Promise(function(ne,le){try{var ve=Ru(iu(Ys()),N);typeof Ru.unload=="function"&&At.setTimeout&&setTimeout(Ru.unload,911),ne(ve)}catch(Ee){le(Ee.message)}})},ht.API)ht.API.hasOwnProperty(du)&&(du==="events"&&ht.API.events.length?function(N,z){var ne,le,ve;for(ve=z.length-1;ve!==-1;ve--)ne=z[ve][0],le=z[ve][1],N.subscribe.apply(N,[ne].concat(typeof le=="function"?[le]:le))}(ir,ht.API.events):h[du]=ht.API[du]);function mg(N){return jt[N].mediaBox.topRightX-jt[N].mediaBox.bottomLeftX}function gg(N,z){jt[N].mediaBox.topRightX=z+jt[N].mediaBox.bottomLeftX}function Zs(N){return jt[N].mediaBox.topRightY-jt[N].mediaBox.bottomLeftY}function Qs(N,z){jt[N].mediaBox.topRightY=z+jt[N].mediaBox.bottomLeftY}var yg=h.getPageWidth=function(N){return mg(N=N||C)/$e},vg=h.setPageWidth=function(N,z){gg(N,z*$e)},fu=h.getPageHeight=function(N){return Zs(N=N||C)/$e},bg=h.setPageHeight=function(N,z){Qs(N,z*$e)};return h.internal={pdfEscape:fa,getStyle:hg,getFont:Ab,getFontSize:Le,getCharSpace:Tb,getTextColor:Lc,getLineHeight:kb,getLineHeightFactor:Ob,getLineWidth:Tt,write:Ze,getHorizontalCoordinate:Xs,getVerticalCoordinate:Js,getCoordinateString:Pb,getVerticalCoordinateString:Cb,collections:{},newObject:zr,newAdditionalObject:tu,newObjectDeferred:On,newObjectDeferredBegin:$n,getFilters:Ua,putStream:da,events:ir,scaleFactor:$e,pageSize:{getWidth:function(){return yg(C)},setWidth:function(N){vg(C,N)},getHeight:function(){return fu(C)},setHeight:function(N){bg(C,N)}},encryptionOptions:c,encryption:Yr,getEncryptor:function(N){return c!==null?Yr.encryptor(N,0):function(z){return z}},output:za,getNumberOfPages:ug,pages:Se,out:ee,f2:k,f3:P,getPageInfo:nh,getPageInfoByObjId:bb,getCurrentPageInfo:xb,getPDFVersion:g,Point:cu,Rectangle:ch,Matrix:wt,hasHotfix:au},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return yg(C)},set:function(N){vg(C,N)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return fu(C)},set:function(N){bg(C,N)},enumerable:!0,configurable:!0}),(function(N){for(var z=0,ne=Xe.length;z<ne;z++){var le=sg.call(this,N[z][0],N[z][1],N[z][2],Xe[z][3],!0);f===!1&&(p[le]=!0);var ve=N[z][0].split("-");ag({id:le,fontName:ve[0],fontStyle:ve[1]||""})}ir.publish("addFonts",{fonts:Je,dictionary:yt})}).call(h,Xe),Oe="F1",og(i,r),ir.publish("initialized"),h}id.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},id.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},id.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},id.prototype.processOwnerPassword=function(e,t){return G_(V_(t).substr(0,5),e)},id.prototype.encryptor=function(e,t){var r=V_(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return G_(r,n)}},Gv.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||ur(e)!==ur(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},ht.API={events:[]},ht.version="3.0.3";var Vr=ht.API,IA=1,kc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qc=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Rt=function(e){return e.toFixed(2)},cl=function(e){return e.toFixed(5)};Vr.__acroform__={};var Ii=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},vC=function(e){return e*IA},As=function(e){var t=new ED,r=it.internal.getHeight(e)||0,n=it.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Rt(n)),Number(Rt(r))],t},ySe=Vr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},vSe=Vr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},bSe=Vr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},tn=Vr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return bSe(e,t-1)},rn=Vr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ySe(e,t-1)},nn=Vr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return vSe(e,t-1)},xSe=Vr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(a)||0,[Number(Rt(l.lowerLeft_X)),Number(Rt(l.lowerLeft_Y)),Number(Rt(l.upperRight_X)),Number(Rt(l.upperRight_Y))]},wSe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=K_(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Rt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=As(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},K_=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var a=r,s=it.internal.getHeight(e)||0;s=s<0?-s:s;var o=it.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(k,P,M){if(k+1<i.length){var D=P+" "+i[k+1][0];return R0(D,e,M).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var u,c,f=R0("3",e,a).height,p=e.multiline?s-a:(s-f)/2,h=p+=2,y=0,g=0,b=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+R0(t,e,a=12).width+", FieldWidth:"+o+`
`;break}for(var v="",w=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var A=!1;if(i[_].length!==1&&b!==i[_].length-1){if((f+2)*(w+2)+2>s)continue e;v+=i[_][b],A=!0,g=_,_--}else{v=(v+=i[_][b]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var S=parseInt(_),j=l(S,v,a),O=_>=i.length-1;if(j&&!O){v+=" ",b=0;continue}if(j||O){if(O)g=S;else if(e.multiline&&(f+2)*(w+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(w+2)+2>s)continue e;g=S}}for(var L="",I=y;I<=g;I++){var F=i[I];if(e.multiline){if(I===g){L+=F[b]+" ",b=(b+1)%F.length;continue}if(I===y){L+=F[F.length-1]+" ";continue}}L+=F[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,c=R0(L,e,a).width,e.textAlign){case"right":u=o-c-2;break;case"center":u=(o-c)/2;break;default:u=2}t+=Rt(u)+" "+Rt(h)+` Td
`,t+="("+kc(L)+`) Tj
`,t+=-Rt(u)+` 0 Td
`,h=-(a+2),c=0,y=A?g:g+1,w++,v=""}break}return n.text=t,n.fontSize=a,n},R0=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},_Se={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},SSe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},jSe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(hs.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(_Se)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");IA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new OD,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&SSe(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],u=o.Rect;if(o.Rect&&(o.Rect=xSe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=it.createDefaultAppearanceStream(o),ur(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=wSe(o);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var h=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var y=h[s];typeof y=="function"&&(y=y.call(i,o)),f+="/"+s+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=h)=="function"&&(y=y.call(i,o)),f+="/"+s+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(g,b){for(var v in g)if(g.hasOwnProperty(v)){var w=v,_=g[v];b.internal.newObjectDeferredBegin(_.objId,!0),ur(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete g[w]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},kD=Vr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),ur(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+kc(n(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},R2=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+kc(n(e))+")"},Cs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Cs.prototype.toString=function(){return this.objId+" 0 R"},Cs.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Cs.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:kD(i,this.objId,this.scope)}):i instanceof Cs?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var ED=function(){Cs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ii(ED,Cs);var OD=function(){Cs.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+kc(r(e))+")"}},set:function(r){e=r}})};Ii(OD,Cs);var hs=function e(){Cs.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!tn(t,3)},set:function(v){v?this.F=rn(t,3):this.F=nn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Kv)return;a="FieldObject"+e.FieldNum++}var v=function(w){return w};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+kc(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/IA:u},set:function(v){u=v}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Kv||this instanceof ec))return R2(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Tn==0?R2(p,this.objId,this.scope):p},set:function(v){v=v.toString(),p=this instanceof Tn==0?v.substr(0,1)==="("?Qc(v.substr(1,v.length-2)):Qc(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tn==1?Qc(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof Tn==1?"/"+v:v}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Tn==0?R2(h,this.objId,this.scope):h},set:function(v){v=v.toString(),h=this instanceof Tn==0?v.substr(0,1)==="("?Qc(v.substr(1,v.length-2)):Qc(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tn==1?Qc(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof Tn==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(v){y=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,1)},set:function(v){v?this.Ff=rn(this.Ff,1):this.Ff=nn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,2)},set:function(v){v?this.Ff=rn(this.Ff,2):this.Ff=nn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,3)},set:function(v){v?this.Ff=rn(this.Ff,3):this.Ff=nn(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');b=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(b){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};Ii(hs,Cs);var Md=function(){hs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return kD(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,u=[];l=s.exec(a);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,18)},set:function(r){r?this.Ff=rn(this.Ff,18):this.Ff=nn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=rn(this.Ff,19):this.Ff=nn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,20)},set:function(r){r?(this.Ff=rn(this.Ff,20),t.sort()):this.Ff=nn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,22)},set:function(r){r?this.Ff=rn(this.Ff,22):this.Ff=nn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,23)},set:function(r){r?this.Ff=rn(this.Ff,23):this.Ff=nn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,27)},set:function(r){r?this.Ff=rn(this.Ff,27):this.Ff=nn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ii(Md,hs);var Dd=function(){Md.call(this),this.fontName="helvetica",this.combo=!1};Ii(Dd,Md);var Bd=function(){Dd.call(this),this.combo=!0};Ii(Bd,Dd);var ty=function(){Bd.call(this),this.edit=!0};Ii(ty,Bd);var Tn=function(){hs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,15)},set:function(r){r?this.Ff=rn(this.Ff,15):this.Ff=nn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,16)},set:function(r){r?this.Ff=rn(this.Ff,16):this.Ff=nn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,17)},set:function(r){r?this.Ff=rn(this.Ff,17):this.Ff=nn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,26)},set:function(r){r?this.Ff=rn(this.Ff,26):this.Ff=nn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+kc(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){ur(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ii(Tn,hs);var ry=function(){Tn.call(this),this.pushButton=!0};Ii(ry,Tn);var Fd=function(){Tn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ii(Fd,Tn);var Kv=function(){var e,t;hs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+kc(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){ur(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=it.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ii(Kv,hs),Fd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Fd.prototype.createOption=function(e){var t=new Kv;return t.Parent=this,t.optionName=e,this.Kids.push(t),ASe.call(this.scope,t),t};var ny=function(){Tn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=it.CheckBox.createAppearanceStream()};Ii(ny,Tn);var ec=function(){hs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,13)},set:function(t){t?this.Ff=rn(this.Ff,13):this.Ff=nn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,21)},set:function(t){t?this.Ff=rn(this.Ff,21):this.Ff=nn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,23)},set:function(t){t?this.Ff=rn(this.Ff,23):this.Ff=nn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,24)},set:function(t){t?this.Ff=rn(this.Ff,24):this.Ff=nn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,25)},set:function(t){t?this.Ff=rn(this.Ff,25):this.Ff=nn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,26)},set:function(t){t?this.Ff=rn(this.Ff,26):this.Ff=nn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ii(ec,hs);var iy=function(){ec.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,14)},set:function(e){e?this.Ff=rn(this.Ff,14):this.Ff=nn(this.Ff,14)}}),this.password=!0};Ii(iy,ec);var it={CheckBox:{createAppearanceStream:function(){return{N:{On:it.CheckBox.YesNormal},D:{On:it.CheckBox.YesPushDown,Off:it.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=As(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=K_(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Rt(it.internal.getWidth(e))+" "+Rt(it.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Rt(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=As(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=it.internal.getHeight(e),s=it.internal.getWidth(e),o=K_(e,e.caption);return i.push("1 g"),i.push("0 0 "+Rt(s)+" "+Rt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Rt(s-1)+" "+Rt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Rt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=As(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Rt(it.internal.getWidth(e))+" "+Rt(it.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:it.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=it.RadioButton.Circle.YesNormal,t.D[e]=it.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=As(e);t.scope=e.scope;var r=[],n=it.internal.getWidth(e)<=it.internal.getHeight(e)?it.internal.getWidth(e)/4:it.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=it.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+cl(it.internal.getWidth(e)/2)+" "+cl(it.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=As(e);t.scope=e.scope;var r=[],n=it.internal.getWidth(e)<=it.internal.getHeight(e)?it.internal.getWidth(e)/4:it.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*it.internal.Bezier_C).toFixed(5)),s=Number((n*it.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+cl(it.internal.getWidth(e)/2)+" "+cl(it.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+cl(it.internal.getWidth(e)/2)+" "+cl(it.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=As(e);t.scope=e.scope;var r=[],n=it.internal.getWidth(e)<=it.internal.getHeight(e)?it.internal.getWidth(e)/4:it.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*it.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+cl(it.internal.getWidth(e)/2)+" "+cl(it.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:it.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=it.RadioButton.Cross.YesNormal,t.D[e]=it.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=As(e);t.scope=e.scope;var r=[],n=it.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Rt(it.internal.getWidth(e)-2)+" "+Rt(it.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Rt(n.x1.x)+" "+Rt(n.x1.y)+" m"),r.push(Rt(n.x2.x)+" "+Rt(n.x2.y)+" l"),r.push(Rt(n.x4.x)+" "+Rt(n.x4.y)+" m"),r.push(Rt(n.x3.x)+" "+Rt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=As(e);t.scope=e.scope;var r=it.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(it.internal.getWidth(e))+" "+Rt(it.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Rt(it.internal.getWidth(e)-2)+" "+Rt(it.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Rt(r.x1.x)+" "+Rt(r.x1.y)+" m"),n.push(Rt(r.x2.x)+" "+Rt(r.x2.y)+" l"),n.push(Rt(r.x4.x)+" "+Rt(r.x4.y)+" m"),n.push(Rt(r.x3.x)+" "+Rt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=As(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Rt(it.internal.getWidth(e))+" "+Rt(it.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};it.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=it.internal.getWidth(e),r=it.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},it.internal.getWidth=function(e){var t=0;return ur(e)==="object"&&(t=vC(e.Rect[2])),t},it.internal.getHeight=function(e){var t=0;return ur(e)==="object"&&(t=vC(e.Rect[3])),t};var ASe=Vr.addField=function(e){if(jSe(this,e),!(e instanceof hs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Vr.AcroFormChoiceField=Md,Vr.AcroFormListBox=Dd,Vr.AcroFormComboBox=Bd,Vr.AcroFormEditBox=ty,Vr.AcroFormButton=Tn,Vr.AcroFormPushButton=ry,Vr.AcroFormRadioButton=Fd,Vr.AcroFormCheckBox=ny,Vr.AcroFormTextField=ec,Vr.AcroFormPasswordField=iy,Vr.AcroFormAppearance=it,Vr.AcroForm={ChoiceField:Md,ListBox:Dd,ComboBox:Bd,EditBox:ty,Button:Tn,PushButton:ry,RadioButton:Fd,CheckBox:ny,TextField:ec,PasswordField:iy,Appearance:it},ht.AcroForm={ChoiceField:Md,ListBox:Dd,ComboBox:Bd,EditBox:ty,Button:Tn,PushButton:ry,RadioButton:Fd,CheckBox:ny,TextField:ec,PasswordField:iy,Appearance:it};ht.AcroForm;function PD(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(k,P){var M,D,U,H,V,B=r;if((P=P||r)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(j(k))for(V in n)for(U=n[V],M=0;M<U.length;M+=1){for(H=!0,D=0;D<U[M].length;D+=1)if(U[M][D]!==void 0&&U[M][D]!==k[D]){H=!1;break}if(H===!0){B=V;break}}else for(V in n)for(U=n[V],M=0;M<U.length;M+=1){for(H=!0,D=0;D<U[M].length;D+=1)if(U[M][D]!==void 0&&U[M][D]!==k.charCodeAt(D)){H=!1;break}if(H===!0){B=V;break}}return B===r&&P!==r&&(B=P),B},a=function k(P){for(var M=this.internal.write,D=this.internal.putStream,U=(0,this.internal.getFilters)();U.indexOf("FlateEncode")!==-1;)U.splice(U.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:P.width}),H.push({key:"Height",value:P.height}),P.colorSpace===v.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===v.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var V="",B=0,J=P.transparency.length;B<J;B++)V+=P.transparency[B]+" "+P.transparency[B]+" ";H.push({key:"Mask",value:"["+V+"]"})}P.sMask!==void 0&&H.push({key:"SMask",value:P.objectId+1+" 0 R"});var $=P.filter!==void 0?["/"+P.filter]:void 0;if(D({data:P.data,additionalKeyValues:H,alreadyAppliedFilters:$,objectId:P.objectId}),M("endobj"),"sMask"in P&&P.sMask!==void 0){var ae,T=(ae=P.sMaskBitsPerComponent)!==null&&ae!==void 0?ae:P.bitsPerComponent,C={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:P.sMask};"filter"in P&&(C.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(P.width),C.filter=P.filter),k.call(this,C)}if(P.colorSpace===v.INDEXED){var K=this.internal.newObject();D({data:L(new Uint8Array(P.palette)),objectId:K}),M("endobj")}},s=function(){var k=this.internal.collections[t+"images"];for(var P in k)a.call(this,k[P])},o=function(){var k,P=this.internal.collections[t+"images"],M=this.internal.write;for(var D in P)M("/I"+(k=P[D]).index,k.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var k=this.internal.collections[t+"images"];return l.call(this),k},c=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(k){return typeof e["process"+k.toUpperCase()]=="function"},p=function(k){return ur(k)==="object"&&k.nodeType===1},h=function(k,P){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var M=""+k.getAttribute("src");if(M.indexOf("data:image/")===0)return ey(unescape(M).split("base64,").pop());var D=e.loadFile(M,!0);if(D!==void 0)return D}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var U;switch(P){case"PNG":U="image/png";break;case"WEBP":U="image/webp";break;default:U="image/jpeg"}return ey(k.toDataURL(U,1).split("base64,").pop())}},y=function(k){var P=this.internal.collections[t+"images"];if(P){for(var M in P)if(k===P[M].alias)return P[M]}},g=function(k,P,M){return k||P||(k=-96,P=-96),k<0&&(k=-1*M.width*72/k/this.internal.scaleFactor),P<0&&(P=-1*M.height*72/P/this.internal.scaleFactor),k===0&&(k=P*M.width/M.height),P===0&&(P=k*M.height/M.width),[k,P]},b=function(k,P,M,D,U,H){var V=g.call(this,M,D,U),B=this.internal.getCoordinateString,J=this.internal.getVerticalCoordinateString,$=u.call(this);if(M=V[0],D=V[1],$[U.index]=U,H){H*=Math.PI/180;var ae=Math.cos(H),T=Math.sin(H),C=function(Q){return Q.toFixed(4)},K=[C(ae),C(T),C(-1*T),C(ae),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,B(k),J(P+D),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([B(M),"0","0",B(D),"0","0","cm"].join(" "))):this.internal.write([B(M),"0","0",B(D),B(k),J(P+D),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+U.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(k){var P,M,D=0;if(typeof k=="string")for(M=k.length,P=0;P<M;P++)D=(D<<5)-D+k.charCodeAt(P),D|=0;else if(j(k))for(M=k.byteLength/2,P=0;P<M;P++)D=(D<<5)-D+k[P],D|=0;return D},A=e.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var P=!0;return k.length===0&&(P=!1),k.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(P=!1),P},S=e.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var P=k.indexOf(",");return P<0?null:k.substring(0,P).trim().endsWith("base64")?k.substring(P+1):null};e.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},O=e.__addimage__.binaryStringToUint8Array=function(k){for(var P=k.length,M=new Uint8Array(P),D=0;D<P;D++)M[D]=k.charCodeAt(D);return M},L=e.__addimage__.arrayBufferToBinaryString=function(k){for(var P="",M=j(k)?k:new Uint8Array(k),D=0;D<M.length;D+=8192)P+=String.fromCharCode.apply(null,M.subarray(D,D+8192));return P};e.addImage=function(){var k,P,M,D,U,H,V,B,J;if(typeof arguments[1]=="number"?(P=r,M=arguments[1],D=arguments[2],U=arguments[3],H=arguments[4],V=arguments[5],B=arguments[6],J=arguments[7]):(P=arguments[1],M=arguments[2],D=arguments[3],U=arguments[4],H=arguments[5],V=arguments[6],B=arguments[7],J=arguments[8]),ur(k=arguments[0])==="object"&&!p(k)&&"imageData"in k){var $=k;k=$.imageData,P=$.format||P||r,M=$.x||M||0,D=$.y||D||0,U=$.w||$.width||U,H=$.h||$.height||H,V=$.alias||V,B=$.compression||B,J=$.rotation||$.angle||J}var ae=this.internal.getFilters();if(B===void 0&&ae.indexOf("FlateEncode")!==-1&&(B="SLOW"),isNaN(M)||isNaN(D))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var T=I.call(this,k,P,V,B);return b.call(this,M,D,U,H,T,J),this};var I=function(k,P,M,D){var U,H,V;if(typeof k=="string"&&i(k)===r){k=unescape(k);var B=F(k,!1);(B!==""||(B=e.loadFile(k,!0))!==void 0)&&(k=B)}if(p(k)&&(k=h(k,P)),P=i(k,P),!f(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((V=M)==null||V.length===0)&&(M=function(J){return typeof J=="string"||j(J)?_(J):j(J.data)?_(J.data):null}(k)),(U=y.call(this,M))||(k instanceof Uint8Array||P==="RGBA"||(H=k,k=O(k)),U=this["process"+P.toUpperCase()](k,c.call(this),M,function(J){return J&&typeof J=="string"&&(J=J.toUpperCase()),J in e.image_compression?J:w.NONE}(D),H)),!U)throw new Error("An unknown error occurred whilst processing the image.");return U},F=e.__addimage__.convertBase64ToBinaryString=function(k,P){P=typeof P!="boolean"||P;var M,D="";if(typeof k=="string"){var U;M=(U=S(k))!==null&&U!==void 0?U:k;try{D=ey(M)}catch(H){if(P)throw A(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return D};e.getImageProperties=function(k){var P,M,D="";if(p(k)&&(k=h(k)),typeof k=="string"&&i(k)===r&&((D=F(k,!1))===""&&(D=e.loadFile(k)||""),k=D),M=i(k),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(k instanceof Uint8Array||(k=O(k)),!(P=this["process"+M.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=M,P}})(ht.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};ht.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,c=!1,f=0;f<u.length&&!c;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var h=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),w=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(v(n.contents))+")",a+=" /Popup "+b.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(v(w))+") >>",g.content=a;var _=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(a+=" /Open true"),a+=" >>",b.content=a,this.internal.write(g.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var A=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(y(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var j=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+j+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+a)},options:s,type:"link"})},e.textWithLink=function(r,n,i,a){var s,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var c=this.splitTextToSize(r,o).length;s=Math.ceil(u*c)}else o=l,s=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-u,o,s,a),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ht.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=e.__arabicParser__.isArabicEndLetter=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return s(g)&&i.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length>=3};var c=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var b=0,v=r,w="",_=0;for(b=0;b<g.length;b+=1)v[g.charCodeAt(b)]!==void 0?(_++,typeof(v=v[g.charCodeAt(b)])=="number"&&(w+=String.fromCharCode(v),v=r,_=0),b===g.length-1&&(v=r,w+=g.charAt(b-(_-1)),b-=_-1,_=0)):(v=r,w+=g.charAt(b-_),b-=_,_=0);return w};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,b,v){return s(g)?a(g)===!1?-1:!u(g)||!s(b)&&!s(v)||!s(v)&&o(b)||o(g)&&!s(b)||o(g)&&l(b)||o(g)&&o(b)?0:c(g)&&s(b)&&!o(b)&&s(v)&&u(v)?3:o(g)||!s(v)?1:2:-1},h=function(g){var b=0,v=0,w=0,_="",A="",S="",j=(g=g||"").split("\\s+"),O=[];for(b=0;b<j.length;b+=1){for(O.push(""),v=0;v<j[b].length;v+=1)_=j[b][v],A=j[b][v-1],S=j[b][v+1],s(_)?(w=p(_,A,S),O[b]+=w!==-1?String.fromCharCode(t[_.charCodeAt(0)][w]):_):O[b]+=_;O[b]=f(O[b])}return O.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var g,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(b)){var w=0;for(v=[],w=0;w<b.length;w+=1)Array.isArray(b[w])?v.push([h(b[w][0]),b[w][1],b[w][2]]):v.push([h(b[w])]);g=v}else g=h(b);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",y])}(ht.API),ht.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ht.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(g){y=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){n.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,h=0,y=0,g=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=u.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,A){return _.concat(b.splitTextToSize(A,v))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)h<(g=this.getStringUnitWidth(l[w],{font:f})*c)&&(h=g);return h!==0&&(y=l.length),{w:h/=p,h:Math.max((y*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,c,f,p){if(n.call(this),!c)throw new Error("No data for PDF table.");var h,y,g,b,v=[],w=[],_=[],A={},S={},j=[],O=[],L=(p=p||{}).autoSize||!1,I=p.printHeaders!==!1,F=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,k=p.margins||Object.assign({width:this.getPageWidth()},t),P=typeof p.padding=="number"?p.padding:3,M=p.headerBackgroundColor||"#c8c8c8",D=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=D,this.setFontSize(F),f==null)w=v=Object.keys(c[0]),_=v.map(function(){return"left"});else if(Array.isArray(f)&&ur(f[0])==="object")for(v=f.map(function($){return $.name}),w=f.map(function($){return $.prompt||$.name||""}),_=f.map(function($){return $.align||"left"}),h=0;h<f.length;h+=1)S[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=v=f,_=v.map(function(){return"left"}));if(L||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<v.length;h+=1){for(A[b=v[h]]=c.map(function($){return $[b]}),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=A[b],this.setFont(void 0,"normal"),g=0;g<y.length;g+=1)j.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[b]=Math.max.apply(null,j)+P+P,j=[]}if(I){var U={};for(h=0;h<v.length;h+=1)U[v[h]]={},U[v[h]].text=w[h],U[v[h]].align=_[h];var H=o.call(this,U,S);O=v.map(function($){return new a(l,u,S[$],H,U[$].text,void 0,U[$].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var V=f.reduce(function($,ae){return $[ae.name]=ae.align,$},{});for(h=0;h<c.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:c[h]},this);var B=o.call(this,c[h],S);for(g=0;g<v.length;g+=1){var J=c[h][v[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:g,data:J},this),s.call(this,new a(l,u,S[v[g]],B,J,h+2,V[v[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var c=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var y=l[h];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[h]-c-c)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+c+c},this).reduce(function(h,y){return Math.max(h,y)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){c=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,p.push(c)),c.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,c),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(ht.API);var CD={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},TD=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Y_=PD(TD),LD=[100,200,300,400,500,600,700,800,900],NSe=PD(LD);function $2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return CD[a=a||"normal"]?a:"normal"}(e.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof Y_[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function bC(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var kSe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},xC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function wC(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function _C(e){return e.trimLeft()}function ESe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function OSe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var $0,SC,jC,ed,M0,AC,NC,kC,M2=["times"];function EC(e,t,r,n,i){var a=4,s=PC;switch(i){case ht.API.image_compression.FAST:a=1,s=OC;break;case ht.API.image_compression.MEDIUM:a=6,s=CC;break;case ht.API.image_compression.SLOW:a=9,s=TC}e=function(l,u,c,f){for(var p,h=l.length/u,y=new Uint8Array(l.length+h),g=[PSe,OC,PC,CC,TC],b=0;b<h;b+=1){var v=b*u,w=l.subarray(v,v+u);if(f)y.set(f(w,c,p),v+b);else{for(var _=g.length,A=[],S=0;S<_;S+=1)A[S]=g[S](w,c,p);var j=TSe(A.concat());y.set(A[j],v+b)}p=w}return y}(e,t,Math.ceil(r*n/8),s);var o=z_(e,{level:a});return ht.API.__addimage__.arrayBufferToBinaryString(o)}function PSe(e){var t=Array.apply([],e);return t.unshift(0),t}function OC(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=e[i-t]||0;n[i+1]=e[i]-a+256&255}return n}function PC(e,t,r){var n=e.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=e[a]-s+256&255}return i}function CC(e,t,r){var n=e.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=e[a-t]||0,o=r&&r[a]||0;i[a+1]=e[a]+256-(s+o>>>1)&255}return i}function TC(e,t,r){var n=e.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=CSe(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);i[a+1]=e[a]-s+256&255}return i}function CSe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r}function TSe(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function D2(e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return ID(e,i)>>a&s}function LC(e,t,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,l=(t&o)<<s;(function(u,c,f){if(c+1<u.byteLength)u.setUint16(c,f,!1);else{var p=f>>8&255;u.setUint8(c,p)}})(e,a,ID(e,a)&~(o<<s)&65535|l)}function ID(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function LSe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,s=1<<1+(7&i);e[t++],e[t++];var o=null,l=null;a&&(o=t,l=s,t+=3*s);var u=!0,c=[],f=0,p=null,h=0,y=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],1&g||(p=null),h=g>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,A=e[t++],S=A>>6&1,j=1<<1+(7&A),O=o,L=l,I=!1;A>>7&&(I=!0,O=t,L=j,t+=3*j);var F=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}c.push({x:b,y:v,width:w,height:_,has_local_palette:I,palette_offset:O,palette_size:L,data_offset:F,data_length:t-F,transparent_index:p,interlaced:!!S,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return y},this.frameInfo=function(P){if(P<0||P>=c.length)throw new Error("Frame index out of range.");return c[P]},this.decodeAndBlitFrameBGRA=function(P,M){var D=this.frameInfo(P),U=D.width*D.height,H=new Uint8Array(U);IC(e,D.data_offset,H,U);var V=D.palette_offset,B=D.transparent_index;B===null&&(B=256);var J=D.width,$=r-J,ae=J,T=4*(D.y*r+D.x),C=4*((D.y+D.height)*r+D.x),K=T,Q=4*$;D.interlaced===!0&&(Q+=4*r*7);for(var ie=8,ue=0,me=H.length;ue<me;++ue){var se=H[ue];if(ae===0&&(ae=J,(K+=Q)>=C&&(Q=4*$+4*r*(ie-1),K=T+(J+$)*(ie<<1),ie>>=1)),se===B)K+=4;else{var ge=e[V+3*se],Se=e[V+3*se+1],pe=e[V+3*se+2];M[K++]=pe,M[K++]=Se,M[K++]=ge,M[K++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(P,M){var D=this.frameInfo(P),U=D.width*D.height,H=new Uint8Array(U);IC(e,D.data_offset,H,U);var V=D.palette_offset,B=D.transparent_index;B===null&&(B=256);var J=D.width,$=r-J,ae=J,T=4*(D.y*r+D.x),C=4*((D.y+D.height)*r+D.x),K=T,Q=4*$;D.interlaced===!0&&(Q+=4*r*7);for(var ie=8,ue=0,me=H.length;ue<me;++ue){var se=H[ue];if(ae===0&&(ae=J,(K+=Q)>=C&&(Q=4*$+4*r*(ie-1),K=T+(J+$)*(ie<<1),ie>>=1)),se===B)K+=4;else{var ge=e[V+3*se],Se=e[V+3*se+1],pe=e[V+3*se+2];M[K++]=ge,M[K++]=Se,M[K++]=pe,M[K++]=255}--ae}}}function IC(e,t,r,n){for(var i=e[t++],a=1<<i,s=a+1,o=s+1,l=i+1,u=(1<<l)-1,c=0,f=0,p=0,h=e[t++],y=new Int32Array(4096),g=null;;){for(;c<16&&h!==0;)f|=e[t++]<<c,c+=8,h===1?h=e[t++]:--h;if(c<l)break;var b=f&u;if(f>>=l,c-=l,b!==a){if(b===s)break;for(var v=b<o?b:g,w=0,_=v;_>a;)_=y[_]>>8,++w;var A=_;if(p+w+(v!==b?1:0)>n)return void mr.log("Warning, gif stream longer than expected.");r[p++]=A;var S=p+=w;for(v!==b&&(r[p++]=A),_=v;w--;)_=y[_],r[--S]=255&_,_>>=8;g!==null&&o<4096&&(y[o++]=g<<8|A,o>=u+1&&l<12&&(++l,u=u<<1|1)),g=b}else o=s+1,u=(1<<(l=i+1))-1,g=null}return p!==n&&mr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function B2(e){var t,r,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),y=new Array(64),g=[],b=0,v=7,w=new Array(64),_=new Array(64),A=new Array(64),S=new Array(256),j=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(T,C){for(var K=0,Q=0,ie=new Array,ue=1;ue<=16;ue++){for(var me=1;me<=T[ue];me++)ie[C[Q]]=[],ie[C[Q]][0]=K,ie[C[Q]][1]=ue,Q++,K++;K*=2}return ie}function V(T){for(var C=T[0],K=T[1]-1;K>=0;)C&1<<K&&(b|=1<<v),K--,--v<0&&(b==255?(B(255),B(0)):B(b),v=7,b=0)}function B(T){g.push(T)}function J(T){B(T>>8&255),B(255&T)}function $(T,C,K,Q,ie){for(var ue,me=ie[0],se=ie[240],ge=function(fe,Ue){var Le,_e,Ce,Re,Be,ce,je,Te,Oe,$e,qe=0;for(Oe=0;Oe<8;++Oe){Le=fe[qe],_e=fe[qe+1],Ce=fe[qe+2],Re=fe[qe+3],Be=fe[qe+4],ce=fe[qe+5],je=fe[qe+6];var mt=Le+(Te=fe[qe+7]),vt=Le-Te,Je=_e+je,yt=_e-je,gt=Ce+ce,et=Ce-ce,bt=Re+Be,Ct=Re-Be,Rr=mt+bt,$r=mt-bt,Xt=Je+gt,jt=Je-gt;fe[qe]=Rr+Xt,fe[qe+4]=Rr-Xt;var ir=.707106781*(jt+$r);fe[qe+2]=$r+ir,fe[qe+6]=$r-ir;var eu=.382683433*((Rr=Ct+et)-(jt=yt+vt)),Vn=.5411961*Rr+eu,Vs=1.306562965*jt+eu,ms=.707106781*(Xt=et+yt),wt=vt+ms,Gs=vt-ms;fe[qe+5]=Gs+Vn,fe[qe+3]=Gs-Vn,fe[qe+1]=wt+Vs,fe[qe+7]=wt-Vs,qe+=8}for(qe=0,Oe=0;Oe<8;++Oe){Le=fe[qe],_e=fe[qe+8],Ce=fe[qe+16],Re=fe[qe+24],Be=fe[qe+32],ce=fe[qe+40],je=fe[qe+48];var Ks=Le+(Te=fe[qe+56]),ua=Le-Te,ca=_e+je,zr=_e-je,On=Ce+ce,$n=Ce-ce,tu=Re+Be,qo=Re-Be,Ba=Ks+tu,gs=Ks-tu,Fa=ca+On,Ua=ca-On;fe[qe]=Ba+Fa,fe[qe+32]=Ba-Fa;var da=.707106781*(Ua+gs);fe[qe+16]=gs+da,fe[qe+48]=gs-da;var ru=.382683433*((Ba=qo+$n)-(Ua=zr+ua)),ys=.5411961*Ba+ru,nu=1.306562965*Ua+ru,Ec=.707106781*(Fa=$n+zr),Oc=ua+Ec,Pc=ua-Ec;fe[qe+40]=Pc+ys,fe[qe+24]=Pc-ys,fe[qe+8]=Oc+nu,fe[qe+56]=Oc-nu,qe++}for(Oe=0;Oe<64;++Oe)$e=fe[Oe]*Ue[Oe],h[Oe]=$e>0?$e+.5|0:$e-.5|0;return h}(T,C),Se=0;Se<64;++Se)y[O[Se]]=ge[Se];var pe=y[0]-K;K=y[0],pe==0?V(Q[0]):(V(Q[p[ue=32767+pe]]),V(f[ue]));for(var Fe=63;Fe>0&&y[Fe]==0;)Fe--;if(Fe==0)return V(me),K;for(var ye,ee=1;ee<=Fe;){for(var Ze=ee;y[ee]==0&&ee<=Fe;)++ee;var Qe=ee-Ze;if(Qe>=16){ye=Qe>>4;for(var Xe=1;Xe<=ye;++Xe)V(se);Qe&=15}ue=32767+y[ee],V(ie[(Qe<<4)+p[ue]]),V(f[ue]),ee++}return Fe!=63&&V(me),K}function ae(T){T=Math.min(Math.max(T,1),100),a!=T&&(function(C){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var ie=s((K[Q]*C+50)/100);ie=Math.min(Math.max(ie,1),255),o[O[Q]]=ie}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var se=s((ue[me]*C+50)/100);se=Math.min(Math.max(se,1),255),l[O[me]]=se}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,pe=0;pe<8;pe++)for(var Fe=0;Fe<8;Fe++)u[Se]=1/(o[O[Se]]*ge[pe]*ge[Fe]*8),c[Se]=1/(l[O[Se]]*ge[pe]*ge[Fe]*8),Se++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),a=T)}this.encode=function(T,C){C&&ae(C),g=new Array,b=0,v=7,J(65496),J(65504),J(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),J(1),J(1),B(0),B(0),function(){J(65499),J(132),B(0);for(var _e=0;_e<64;_e++)B(o[_e]);B(1);for(var Ce=0;Ce<64;Ce++)B(l[Ce])}(),function(_e,Ce){J(65472),J(17),B(8),J(Ce),J(_e),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)}(T.width,T.height),function(){J(65476),J(418),B(0);for(var _e=0;_e<16;_e++)B(L[_e+1]);for(var Ce=0;Ce<=11;Ce++)B(I[Ce]);B(16);for(var Re=0;Re<16;Re++)B(F[Re+1]);for(var Be=0;Be<=161;Be++)B(k[Be]);B(1);for(var ce=0;ce<16;ce++)B(P[ce+1]);for(var je=0;je<=11;je++)B(M[je]);B(17);for(var Te=0;Te<16;Te++)B(D[Te+1]);for(var Oe=0;Oe<=161;Oe++)B(U[Oe])}(),J(65498),J(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var K=0,Q=0,ie=0;b=0,v=7,this.encode.displayName="_encode_";for(var ue,me,se,ge,Se,pe,Fe,ye,ee,Ze=T.data,Qe=T.width,Xe=T.height,fe=4*Qe,Ue=0;Ue<Xe;){for(ue=0;ue<fe;){for(Se=fe*Ue+ue,Fe=-1,ye=0,ee=0;ee<64;ee++)pe=Se+(ye=ee>>3)*fe+(Fe=4*(7&ee)),Ue+ye>=Xe&&(pe-=fe*(Ue+1+ye-Xe)),ue+Fe>=fe&&(pe-=ue+Fe-fe+4),me=Ze[pe++],se=Ze[pe++],ge=Ze[pe++],w[ee]=(j[me]+j[se+256|0]+j[ge+512|0]>>16)-128,_[ee]=(j[me+768|0]+j[se+1024|0]+j[ge+1280|0]>>16)-128,A[ee]=(j[me+1280|0]+j[se+1536|0]+j[ge+1792|0]>>16)-128;K=$(w,u,K,t,n),Q=$(_,c,Q,r,i),ie=$(A,c,ie,r,i),ue+=32}Ue+=8}if(v>=0){var Le=[];Le[1]=v+1,Le[0]=(1<<v+1)-1,V(Le)}return J(65497),new Uint8Array(g)},e=e||50,function(){for(var T=String.fromCharCode,C=0;C<256;C++)S[C]=T(C)}(),t=H(L,I),r=H(P,M),n=H(F,k),i=H(D,U),function(){for(var T=1,C=2,K=1;K<=15;K++){for(var Q=T;Q<C;Q++)p[32767+Q]=K,f[32767+Q]=[],f[32767+Q][1]=K,f[32767+Q][0]=Q;for(var ie=-(C-1);ie<=-T;ie++)p[32767+ie]=K,f[32767+ie]=[],f[32767+ie][1]=K,f[32767+ie][0]=C-1+ie;T<<=1,C<<=1}}(),function(){for(var T=0;T<256;T++)j[T]=19595*T,j[T+256|0]=38470*T,j[T+512|0]=7471*T+32768,j[T+768|0]=-11059*T,j[T+1024|0]=-21709*T,j[T+1280|0]=32768*T+8421375,j[T+1536|0]=-27439*T,j[T+1792|0]=-5329*T}(),ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ya(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function RC(e){function t(I){if(!I)throw Error("assert :P")}function r(I,F,k){for(var P=0;4>P;P++)if(I[F+P]!=k.charCodeAt(P))return!0;return!1}function n(I,F,k,P,M){for(var D=0;D<M;D++)I[F+D]=k[P+D]}function i(I,F,k,P){for(var M=0;M<P;M++)I[F+M]=k}function a(I){return new Int32Array(I)}function s(I,F){for(var k=[],P=0;P<I;P++)k.push(new F);return k}function o(I,F){var k=[];return function P(M,D,U){for(var H=U[D],V=0;V<H&&(M.push(U.length>D+1?[]:new F),!(U.length<D+1));V++)P(M[V],D+1,U)}(k,0,I),k}var l=function(){var I=this;function F(m,x){for(var E=1<<x-1>>>0;m&E;)E>>>=1;return E?(m&E-1)+E:m}function k(m,x,E,R,q){t(!(R%E));do m[x+(R-=E)]=q;while(0<R)}function P(m,x,E,R,q){if(t(2328>=q),512>=q)var W=a(512);else if((W=a(q))==null)return 0;return function(G,Y,Z,te,de,we){var re,he,be=Y,Ae=1<<Z,xe=a(16),ke=a(16);for(t(de!=0),t(te!=null),t(G!=null),t(0<Z),he=0;he<de;++he){if(15<te[he])return 0;++xe[te[he]]}if(xe[0]==de)return 0;for(ke[1]=0,re=1;15>re;++re){if(xe[re]>1<<re)return 0;ke[re+1]=ke[re]+xe[re]}for(he=0;he<de;++he)re=te[he],0<te[he]&&(we[ke[re]++]=he);if(ke[15]==1)return(te=new M).g=0,te.value=we[0],k(G,be,1,Ae,te),Ae;var Pe,ze=-1,Me=Ae-1,ft=0,nt=1,Dt=1,ot=1<<Z;for(he=0,re=1,de=2;re<=Z;++re,de<<=1){if(nt+=Dt<<=1,0>(Dt-=xe[re]))return 0;for(;0<xe[re];--xe[re])(te=new M).g=re,te.value=we[he++],k(G,be+ft,de,ot,te),ft=F(ft,re)}for(re=Z+1,de=2;15>=re;++re,de<<=1){if(nt+=Dt<<=1,0>(Dt-=xe[re]))return 0;for(;0<xe[re];--xe[re]){if(te=new M,(ft&Me)!=ze){for(be+=ot,Pe=1<<(ze=re)-Z;15>ze&&!(0>=(Pe-=xe[ze]));)++ze,Pe<<=1;Ae+=ot=1<<(Pe=ze-Z),G[Y+(ze=ft&Me)].g=Pe+Z,G[Y+ze].value=be-Y-ze}te.g=re-Z,te.value=we[he++],k(G,be+(ft>>Z),de,ot,te),ft=F(ft,re)}}return nt!=2*ke[15]-1?0:Ae}(m,x,E,R,q,W)}function M(){this.value=this.g=0}function D(){this.value=this.g=0}function U(){this.G=s(5,M),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(xu,D)}function H(m,x,E,R){t(m!=null),t(x!=null),t(2147483648>R),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=x,m.pa=E,m.Jd=x,m.Yc=E+R,m.Zc=4<=R?E+R-4+1:E,me(m)}function V(m,x){for(var E=0;0<x--;)E|=ge(m,128)<<x;return E}function B(m,x){var E=V(m,x);return se(m)?-E:E}function J(m,x,E,R){var q,W=0;for(t(m!=null),t(x!=null),t(4294967288>R),m.Sb=R,m.Ra=0,m.u=0,m.h=0,4<R&&(R=4),q=0;q<R;++q)W+=x[E+q]<<8*q;m.Ra=W,m.bb=R,m.oa=x,m.pa=E}function $(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Ko-8>>>0,++m.bb,m.u-=8;Q(m)&&(m.h=1,m.u=0)}function ae(m,x){if(t(0<=x),!m.h&&x<=$i){var E=K(m)&Ri[x];return m.u+=x,$(m),E}return m.h=1,m.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(m){return m.Ra>>>(m.u&Ko-1)>>>0}function Q(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Ko}function ie(m,x){m.u=x,m.h=Q(m)}function ue(m){m.u>=to&&(t(m.u>=to),$(m))}function me(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function se(m){return V(m,1)}function ge(m,x){var E=m.Ca;0>m.b&&me(m);var R=m.b,q=E*x>>>8,W=(m.I>>>R>q)+0;for(W?(E-=q,m.I-=q+1<<R>>>0):E=q+1,R=E,q=0;256<=R;)q+=8,R>>=8;return R=7^q+Yo[R],m.b-=R,m.Ca=(E<<R)-1,W}function Se(m,x,E){m[x+0]=E>>24&255,m[x+1]=E>>16&255,m[x+2]=E>>8&255,m[x+3]=255&E}function pe(m,x){return m[x+0]|m[x+1]<<8}function Fe(m,x){return pe(m,x)|m[x+2]<<16}function ye(m,x){return pe(m,x)|pe(m,x+2)<<16}function ee(m,x){var E=1<<x;return t(m!=null),t(0<x),m.X=a(E),m.X==null?0:(m.Mb=32-x,m.Xa=x,1)}function Ze(m,x){t(m!=null),t(x!=null),t(m.Xa==x.Xa),n(x.X,0,m.X,0,1<<x.Xa)}function Qe(){this.X=[],this.Xa=this.Mb=0}function Xe(m,x,E,R){t(E!=null),t(R!=null);var q=E[0],W=R[0];return q==0&&(q=(m*W+x/2)/x),W==0&&(W=(x*q+m/2)/m),0>=q||0>=W?0:(E[0]=q,R[0]=W,1)}function fe(m,x){return m+(1<<x)-1>>>x}function Ue(m,x){return((4278255360&m)+(4278255360&x)>>>0&4278255360)+((16711935&m)+(16711935&x)>>>0&16711935)>>>0}function Le(m,x){I[x]=function(E,R,q,W,G,Y,Z){var te;for(te=0;te<G;++te){var de=I[m](Y[Z+te-1],q,W+te);Y[Z+te]=Ue(E[R+te],de)}}}function _e(){this.ud=this.hd=this.jd=0}function Ce(m,x){return((4278124286&(m^x))>>>1)+(m&x)>>>0}function Re(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Be(m,x){return Re(m+(m-x+.5>>1))}function ce(m,x,E){return Math.abs(x-E)-Math.abs(m-E)}function je(m,x,E,R,q,W,G){for(R=W[G-1],E=0;E<q;++E)W[G+E]=R=Ue(m[x+E],R)}function Te(m,x,E,R,q){var W;for(W=0;W<E;++W){var G=m[x+W],Y=G>>8&255,Z=16711935&(Z=(Z=16711935&G)+((Y<<16)+Y));R[q+W]=(4278255360&G)+Z>>>0}}function Oe(m,x){x.jd=255&m,x.hd=m>>8&255,x.ud=m>>16&255}function $e(m,x,E,R,q,W){var G;for(G=0;G<R;++G){var Y=x[E+G],Z=Y>>>8,te=Y,de=255&(de=(de=Y>>>16)+((m.jd<<24>>24)*(Z<<24>>24)>>>5));te=255&(te=(te+=(m.hd<<24>>24)*(Z<<24>>24)>>>5)+((m.ud<<24>>24)*(de<<24>>24)>>>5)),q[W+G]=(4278255360&Y)+(de<<16)+te}}function qe(m,x,E,R,q){I[x]=function(W,G,Y,Z,te,de,we,re,he){for(Z=we;Z<re;++Z)for(we=0;we<he;++we)te[de++]=q(Y[R(W[G++])])},I[m]=function(W,G,Y,Z,te,de,we){var re=8>>W.b,he=W.Ea,be=W.K[0],Ae=W.w;if(8>re)for(W=(1<<W.b)-1,Ae=(1<<re)-1;G<Y;++G){var xe,ke=0;for(xe=0;xe<he;++xe)xe&W||(ke=R(Z[te++])),de[we++]=q(be[ke&Ae]),ke>>=re}else I["VP8LMapColor"+E](Z,te,be,Ae,de,we,G,Y,he)}}function mt(m,x,E,R,q){for(E=x+E;x<E;){var W=m[x++];R[q++]=W>>16&255,R[q++]=W>>8&255,R[q++]=255&W}}function vt(m,x,E,R,q){for(E=x+E;x<E;){var W=m[x++];R[q++]=W>>16&255,R[q++]=W>>8&255,R[q++]=255&W,R[q++]=W>>24&255}}function Je(m,x,E,R,q){for(E=x+E;x<E;){var W=(G=m[x++])>>16&240|G>>12&15,G=240&G|G>>28&15;R[q++]=W,R[q++]=G}}function yt(m,x,E,R,q){for(E=x+E;x<E;){var W=(G=m[x++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;R[q++]=W,R[q++]=G}}function gt(m,x,E,R,q){for(E=x+E;x<E;){var W=m[x++];R[q++]=255&W,R[q++]=W>>8&255,R[q++]=W>>16&255}}function et(m,x,E,R,q,W){if(W==0)for(E=x+E;x<E;)Se(R,((W=m[x++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),q+=32;else n(R,q,m,x,E)}function bt(m,x){I[x][0]=I[m+"0"],I[x][1]=I[m+"1"],I[x][2]=I[m+"2"],I[x][3]=I[m+"3"],I[x][4]=I[m+"4"],I[x][5]=I[m+"5"],I[x][6]=I[m+"6"],I[x][7]=I[m+"7"],I[x][8]=I[m+"8"],I[x][9]=I[m+"9"],I[x][10]=I[m+"10"],I[x][11]=I[m+"11"],I[x][12]=I[m+"12"],I[x][13]=I[m+"13"],I[x][14]=I[m+"0"],I[x][15]=I[m+"0"]}function Ct(m){return m==Rb||m==$b||m==Og||m==Mb}function Rr(){this.eb=[],this.size=this.A=this.fb=0}function $r(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Xt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Rr,this.f.kb=new $r,this.sd=null}function jt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ir(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function eu(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Vn(m,x){var E=m.T,R=x.ba.f.RGBA,q=R.eb,W=R.fb+m.ka*R.A,G=ya[x.ba.S],Y=m.y,Z=m.O,te=m.f,de=m.N,we=m.ea,re=m.W,he=x.cc,be=x.dc,Ae=x.Mc,xe=x.Nc,ke=m.ka,Pe=m.ka+m.T,ze=m.U,Me=ze+1>>1;for(ke==0?G(Y,Z,null,null,te,de,we,re,te,de,we,re,q,W,null,null,ze):(G(x.ec,x.fc,Y,Z,he,be,Ae,xe,te,de,we,re,q,W-R.A,q,W,ze),++E);ke+2<Pe;ke+=2)he=te,be=de,Ae=we,xe=re,de+=m.Rc,re+=m.Rc,W+=2*R.A,G(Y,(Z+=2*m.fa)-m.fa,Y,Z,he,be,Ae,xe,te,de,we,re,q,W-R.A,q,W,ze);return Z+=m.fa,m.j+Pe<m.o?(n(x.ec,x.fc,Y,Z,ze),n(x.cc,x.dc,te,de,Me),n(x.Mc,x.Nc,we,re,Me),E--):1&Pe||G(Y,Z,null,null,te,de,we,re,te,de,we,re,q,W+R.A,null,null,ze),E}function Vs(m,x,E){var R=m.F,q=[m.J];if(R!=null){var W=m.U,G=x.ba.S,Y=G==Eg||G==Og;x=x.ba.f.RGBA;var Z=[0],te=m.ka;Z[0]=m.T,m.Kb&&(te==0?--Z[0]:(--te,q[0]-=m.width),m.j+m.ka+m.T==m.o&&(Z[0]=m.o-m.j-te));var de=x.eb;te=x.fb+te*x.A,m=zA(R,q[0],m.width,W,Z,de,te+(Y?0:3),x.A),t(E==Z),m&&Ct(G)&&_h(de,te,Y,W,Z,x.A)}return 0}function ms(m){var x=m.ma,E=x.ba.S,R=11>E,q=E==Ng||E==kg||E==Eg||E==Ib||E==12||Ct(E);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!ph(x.Oa,m,q?11:12))return 0;if(q&&Ct(E)&&xg(),m.da)alert("todo:use_scaling");else{if(R){if(x.Ib=eu,m.Kb){if(E=m.U+1>>1,x.memory=a(m.U+2*E),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+m.U,x.Mc=x.cc,x.Nc=x.dc+E,x.Ib=Vn,xg()}}else alert("todo:EmitYUV");q&&(x.Jb=Vs,R&&ha())}if(R&&!iN){for(m=0;256>m;++m)n9[m]=89858*(m-128)+Cg>>Pg,s9[m]=-22014*(m-128)+Cg,a9[m]=-45773*(m-128),i9[m]=113618*(m-128)+Cg>>Pg;for(m=jh;m<Fb;++m)x=76283*(m-16)+Cg>>Pg,o9[m-jh]=qr(x,255),l9[m-jh]=qr(x+8>>4,15);iN=1}return 1}function wt(m){var x=m.ma,E=m.U,R=m.T;return t(!(1&m.ka)),0>=E||0>=R?0:(E=x.Ib(m,x),x.Jb!=null&&x.Jb(m,x,E),x.Dc+=E,1)}function Gs(m){m.ma.memory=null}function Ks(m,x,E,R){return ae(m,8)!=47?0:(x[0]=ae(m,14)+1,E[0]=ae(m,14)+1,R[0]=ae(m,1),ae(m,3)!=0?0:!m.h)}function ua(m,x){if(4>m)return m+1;var E=m-2>>1;return(2+(1&m)<<E)+ae(x,E)+1}function ca(m,x){return 120<x?x-120:1<=(E=((E=qD[x-1])>>4)*m+(8-(15&E)))?E:1;var E}function zr(m,x,E){var R=K(E),q=m[x+=255&R].g-8;return 0<q&&(ie(E,E.u+8),R=K(E),x+=m[x].value,x+=R&(1<<q)-1),ie(E,E.u+m[x].g),m[x].value}function On(m,x,E){return E.g+=m.g,E.value+=m.value<<x>>>0,t(8>=E.g),m.g}function $n(m,x,E){var R=m.xc;return t((x=R==0?0:m.vc[m.md*(E>>R)+(x>>R)])<m.Wb),m.Ya[x]}function tu(m,x,E,R){var q=m.ab,W=m.c*x,G=m.C;x=G+x;var Y=E,Z=R;for(R=m.Ta,E=m.Ua;0<q--;){var te=m.gc[q],de=G,we=x,re=Y,he=Z,be=(Z=R,Y=E,te.Ea);switch(t(de<we),t(we<=te.nc),te.hc){case 2:Xr(re,he,(we-de)*be,Z,Y);break;case 0:var Ae=de,xe=we,ke=Z,Pe=Y,ze=(ot=te).Ea;Ae==0&&(gh(re,he,null,null,1,ke,Pe),je(re,he+1,0,0,ze-1,ke,Pe+1),he+=ze,Pe+=ze,++Ae);for(var Me=1<<ot.b,ft=Me-1,nt=fe(ze,ot.b),Dt=ot.K,ot=ot.w+(Ae>>ot.b)*nt;Ae<xe;){var Ht=Dt,vn=ot,Bt=1;for(Dc(re,he,ke,Pe-ze,1,ke,Pe);Bt<ze;){var lt=(Bt&~ft)+Me;lt>ze&&(lt=ze),(0,vh[Ht[vn++]>>8&15])(re,he+ +Bt,ke,Pe+Bt-ze,lt-Bt,ke,Pe+Bt),Bt=lt}he+=ze,Pe+=ze,++Ae&ft||(ot+=nt)}we!=te.nc&&n(Z,Y-be,Z,Y+(we-de-1)*be,be);break;case 1:for(be=re,xe=he,ze=(re=te.Ea)-(Pe=re&~(ke=(he=1<<te.b)-1)),Ae=fe(re,te.b),Me=te.K,te=te.w+(de>>te.b)*Ae;de<we;){for(ft=Me,nt=te,Dt=new _e,ot=xe+Pe,Ht=xe+re;xe<ot;)Oe(ft[nt++],Dt),bh(Dt,be,xe,he,Z,Y),xe+=he,Y+=he;xe<Ht&&(Oe(ft[nt++],Dt),bh(Dt,be,xe,ze,Z,Y),xe+=ze,Y+=ze),++de&ke||(te+=Ae)}break;case 3:if(re==Z&&he==Y&&0<te.b){for(xe=Z,re=be=Y+(we-de)*be-(Pe=(we-de)*fe(te.Ea,te.b)),he=Z,ke=Y,Ae=[],Pe=(ze=Pe)-1;0<=Pe;--Pe)Ae[Pe]=he[ke+Pe];for(Pe=ze-1;0<=Pe;--Pe)xe[re+Pe]=Ae[Pe];_g(te,de,we,Z,be,Z,Y)}else _g(te,de,we,re,he,Z,Y)}Y=R,Z=E}Z!=E&&n(R,E,Y,Z,W)}function qo(m,x){var E=m.V,R=m.Ba+m.c*m.C,q=x-m.C;if(t(x<=m.l.o),t(16>=q),0<q){var W=m.l,G=m.Ta,Y=m.Ua,Z=W.width;if(tu(m,q,E,R),q=Y=[Y],t((E=m.C)<(R=x)),t(W.v<W.va),R>W.o&&(R=W.o),E<W.j){var te=W.j-E;E=W.j,q[0]+=te*Z}if(E>=R?E=0:(q[0]+=4*W.v,W.ka=E-W.j,W.U=W.va-W.v,W.T=R-E,E=1),E){if(Y=Y[0],11>(E=m.ca).S){var de=E.f.RGBA,we=(R=E.S,q=W.U,W=W.T,te=de.eb,de.A),re=W;for(de=de.fb+m.Ma*de.A;0<re--;){var he=G,be=Y,Ae=q,xe=te,ke=de;switch(R){case Ag:xh(he,be,Ae,xe,ke);break;case Ng:Xo(he,be,Ae,xe,ke);break;case Rb:Xo(he,be,Ae,xe,ke),_h(xe,ke,0,Ae,1,0);break;case YA:wu(he,be,Ae,xe,ke);break;case kg:et(he,be,Ae,xe,ke,1);break;case $b:et(he,be,Ae,xe,ke,1),_h(xe,ke,0,Ae,1,0);break;case Eg:et(he,be,Ae,xe,ke,0);break;case Og:et(he,be,Ae,xe,ke,0),_h(xe,ke,1,Ae,1,0);break;case Ib:Jo(he,be,Ae,xe,ke);break;case Mb:Jo(he,be,Ae,xe,ke),UA(xe,ke,Ae,1,0);break;case XA:Zo(he,be,Ae,xe,ke);break;default:t(0)}Y+=Z,de+=we}m.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=E.height)}}m.C=x,t(m.C<=m.i)}function Ba(m){var x;if(0<m.ua)return 0;for(x=0;x<m.Wb;++x){var E=m.Ya[x].G,R=m.Ya[x].H;if(0<E[1][R[1]+0].g||0<E[2][R[2]+0].g||0<E[3][R[3]+0].g)return 0}return 1}function gs(m,x,E,R,q,W){if(m.Z!=0){var G=m.qd,Y=m.rd;for(t(tl[m.Z]!=null);x<E;++x)tl[m.Z](G,Y,R,q,R,q,W),G=R,Y=q,q+=W;m.qd=G,m.rd=Y}}function Fa(m,x){var E=m.l.ma,R=E.Z==0||E.Z==1?m.l.j:m.C;if(R=m.C<R?R:m.C,t(x<=m.l.o),x>R){var q=m.l.width,W=E.ca,G=E.tb+q*R,Y=m.V,Z=m.Ba+m.c*R,te=m.gc;t(m.ab==1),t(te[0].hc==3),xs(te[0],R,x,Y,Z,W,G),gs(E,R,x,W,G,q)}m.C=m.Ma=x}function Ua(m,x,E,R,q,W,G){var Y=m.$/R,Z=m.$%R,te=m.m,de=m.s,we=E+m.$,re=we;q=E+R*q;var he=E+R*W,be=280+de.ua,Ae=m.Pb?Y:16777216,xe=0<de.ua?de.Wa:null,ke=de.wc,Pe=we<he?$n(de,Z,Y):null;t(m.C<W),t(he<=q);var ze=!1;e:for(;;){for(;ze||we<he;){var Me=0;if(Y>=Ae){var ft=we-E;t((Ae=m).Pb),Ae.wd=Ae.m,Ae.xd=ft,0<Ae.s.ua&&Ze(Ae.s.Wa,Ae.s.vb),Ae=Y+HD}if(Z&ke||(Pe=$n(de,Z,Y)),t(Pe!=null),Pe.Qb&&(x[we]=Pe.qb,ze=!0),!ze)if(ue(te),Pe.jc){Me=te,ft=x;var nt=we,Dt=Pe.pd[K(Me)&xu-1];t(Pe.jc),256>Dt.g?(ie(Me,Me.u+Dt.g),ft[nt]=Dt.value,Me=0):(ie(Me,Me.u+Dt.g-256),t(256<=Dt.value),Me=Dt.value),Me==0&&(ze=!0)}else Me=zr(Pe.G[0],Pe.H[0],te);if(te.h)break;if(ze||256>Me){if(!ze)if(Pe.nd)x[we]=(Pe.qb|Me<<8)>>>0;else{if(ue(te),ze=zr(Pe.G[1],Pe.H[1],te),ue(te),ft=zr(Pe.G[2],Pe.H[2],te),nt=zr(Pe.G[3],Pe.H[3],te),te.h)break;x[we]=(nt<<24|ze<<16|Me<<8|ft)>>>0}if(ze=!1,++we,++Z>=R&&(Z=0,++Y,G!=null&&Y<=W&&!(Y%16)&&G(m,Y),xe!=null))for(;re<we;)Me=x[re++],xe.X[(506832829*Me&4294967295)>>>xe.Mb]=Me}else if(280>Me){if(Me=ua(Me-256,te),ft=zr(Pe.G[4],Pe.H[4],te),ue(te),ft=ca(R,ft=ua(ft,te)),te.h)break;if(we-E<ft||q-we<Me)break e;for(nt=0;nt<Me;++nt)x[we+nt]=x[we+nt-ft];for(we+=Me,Z+=Me;Z>=R;)Z-=R,++Y,G!=null&&Y<=W&&!(Y%16)&&G(m,Y);if(t(we<=q),Z&ke&&(Pe=$n(de,Z,Y)),xe!=null)for(;re<we;)Me=x[re++],xe.X[(506832829*Me&4294967295)>>>xe.Mb]=Me}else{if(!(Me<be))break e;for(ze=Me-280,t(xe!=null);re<we;)Me=x[re++],xe.X[(506832829*Me&4294967295)>>>xe.Mb]=Me;Me=we,t(!(ze>>>(ft=xe).Xa)),x[Me]=ft.X[ze],ze=!0}ze||t(te.h==Q(te))}if(m.Pb&&te.h&&we<q)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Ze(m.s.vb,m.s.Wa);else{if(te.h)break e;G!=null&&G(m,Y>W?W:Y),m.a=0,m.$=we-E}return 1}return m.a=3,0}function da(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var x=m.Wa;x!=null&&(x.X=null),m.vb=null,t(m!=null)}function ru(){var m=new dt;return m==null?null:(m.a=0,m.xb=QA,bt("Predictor","VP8LPredictors"),bt("Predictor","VP8LPredictors_C"),bt("PredictorAdd","VP8LPredictorsAdd"),bt("PredictorAdd","VP8LPredictorsAdd_C"),Xr=Te,bh=$e,xh=mt,Xo=vt,Jo=Je,Zo=yt,wu=gt,I.VP8LMapColor32b=bs,I.VP8LMapColor8b=yh,m)}function ys(m,x,E,R,q){var W=1,G=[m],Y=[x],Z=R.m,te=R.s,de=null,we=0;e:for(;;){if(E)for(;W&&ae(Z,1);){var re=G,he=Y,be=R,Ae=1,xe=be.m,ke=be.gc[be.ab],Pe=ae(xe,2);if(be.Oc&1<<Pe)W=0;else{switch(be.Oc|=1<<Pe,ke.hc=Pe,ke.Ea=re[0],ke.nc=he[0],ke.K=[null],++be.ab,t(4>=be.ab),Pe){case 0:case 1:ke.b=ae(xe,3)+2,Ae=ys(fe(ke.Ea,ke.b),fe(ke.nc,ke.b),0,be,ke.K),ke.K=ke.K[0];break;case 3:var ze,Me=ae(xe,8)+1,ft=16<Me?0:4<Me?1:2<Me?2:3;if(re[0]=fe(ke.Ea,ft),ke.b=ft,ze=Ae=ys(Me,1,0,be,ke.K)){var nt,Dt=Me,ot=ke,Ht=1<<(8>>ot.b),vn=a(Ht);if(vn==null)ze=0;else{var Bt=ot.K[0],lt=ot.w;for(vn[0]=ot.K[0][0],nt=1;nt<1*Dt;++nt)vn[nt]=Ue(Bt[lt+nt],vn[nt-1]);for(;nt<4*Ht;++nt)vn[nt]=0;ot.K[0]=null,ot.K[0]=vn,ze=1}}Ae=ze;break;case 2:break;default:t(0)}W=Ae}}if(G=G[0],Y=Y[0],W&&ae(Z,1)&&!(W=1<=(we=ae(Z,4))&&11>=we)){R.a=3;break e}var Ke;if(Ke=W)t:{var Zr,Mt,Gt,Nr=R,Dn=G,oi=Y,Wr=we,Kn=E,li=Nr.m,bn=Nr.s,Kt=[null],or=1,Hr=0,lr=WD[Wr];r:for(;;){if(Kn&&ae(li,1)){var Bn=ae(li,3)+2,Wa=fe(Dn,Bn),Qr=fe(oi,Bn),xi=Wa*Qr;if(!ys(Wa,Qr,0,Nr,Kt))break r;for(Kt=Kt[0],bn.xc=Bn,Zr=0;Zr<xi;++Zr){var pr=Kt[Zr]>>8&65535;Kt[Zr]=pr,pr>=or&&(or=pr+1)}}if(li.h)break r;for(Mt=0;5>Mt;++Mt){var xn=JA[Mt];!Mt&&0<Wr&&(xn+=1<<Wr),Hr<xn&&(Hr=xn)}var Di=s(or*lr,M),ui=or,Bi=s(ui,U);if(Bi==null)var Fi=null;else t(65536>=ui),Fi=Bi;var wi=a(Hr);if(Fi==null||wi==null||Di==null){Nr.a=1;break r}var Ui=Di;for(Zr=Gt=0;Zr<or;++Zr){var vr=Fi[Zr],zi=vr.G,Ha=vr.H,Su=0,io=1,Fn=0;for(Mt=0;5>Mt;++Mt){xn=JA[Mt],zi[Mt]=Ui,Ha[Mt]=Gt,!Mt&&0<Wr&&(xn+=1<<Wr);i:{var Lg,Ub=xn,Ig=Nr,Ah=wi,d9=Ui,f9=Gt,zb=0,rl=Ig.m,h9=ae(rl,1);if(i(Ah,0,0,Ub),h9){var p9=ae(rl,1)+1,m9=ae(rl,1),oN=ae(rl,m9==0?1:8);Ah[oN]=1,p9==2&&(Ah[oN=ae(rl,8)]=1);var Rg=1}else{var lN=a(19),uN=ae(rl,4)+4;if(19<uN){Ig.a=3;var $g=0;break i}for(Lg=0;Lg<uN;++Lg)lN[zD[Lg]]=ae(rl,3);var qb=void 0,Nh=void 0,cN=Ig,g9=lN,Mg=Ub,dN=Ah,Wb=0,nl=cN.m,fN=8,hN=s(128,M);n:for(;P(hN,0,7,g9,19);){if(ae(nl,1)){var y9=2+2*ae(nl,3);if((qb=2+ae(nl,y9))>Mg)break n}else qb=Mg;for(Nh=0;Nh<Mg&&qb--;){ue(nl);var pN=hN[0+(127&K(nl))];ie(nl,nl.u+pN.g);var Fc=pN.value;if(16>Fc)dN[Nh++]=Fc,Fc!=0&&(fN=Fc);else{var v9=Fc==16,mN=Fc-16,b9=FD[mN],gN=ae(nl,BD[mN])+b9;if(Nh+gN>Mg)break n;for(var x9=v9?fN:0;0<gN--;)dN[Nh++]=x9}}Wb=1;break n}Wb||(cN.a=3),Rg=Wb}(Rg=Rg&&!rl.h)&&(zb=P(d9,f9,8,Ah,Ub)),Rg&&zb!=0?$g=zb:(Ig.a=3,$g=0)}if($g==0)break r;if(io&&UD[Mt]==1&&(io=Ui[Gt].g==0),Su+=Ui[Gt].g,Gt+=$g,3>=Mt){var kh,Hb=wi[0];for(kh=1;kh<xn;++kh)wi[kh]>Hb&&(Hb=wi[kh]);Fn+=Hb}}if(vr.nd=io,vr.Qb=0,io&&(vr.qb=(zi[3][Ha[3]+0].value<<24|zi[1][Ha[1]+0].value<<16|zi[2][Ha[2]+0].value)>>>0,Su==0&&256>zi[0][Ha[0]+0].value&&(vr.Qb=1,vr.qb+=zi[0][Ha[0]+0].value<<8)),vr.jc=!vr.Qb&&6>Fn,vr.jc){var Dg,ao=vr;for(Dg=0;Dg<xu;++Dg){var il=Dg,al=ao.pd[il],Bg=ao.G[0][ao.H[0]+il];256<=Bg.value?(al.g=Bg.g+256,al.value=Bg.value):(al.g=0,al.value=0,il>>=On(Bg,8,al),il>>=On(ao.G[1][ao.H[1]+il],16,al),il>>=On(ao.G[2][ao.H[2]+il],0,al),On(ao.G[3][ao.H[3]+il],24,al))}}}bn.vc=Kt,bn.Wb=or,bn.Ya=Fi,bn.yc=Di,Ke=1;break t}Ke=0}if(!(W=Ke)){R.a=3;break e}if(0<we){if(te.ua=1<<we,!ee(te.Wa,we)){R.a=1,W=0;break e}}else te.ua=0;var Vb=R,yN=G,w9=Y,Gb=Vb.s,Kb=Gb.xc;if(Vb.c=yN,Vb.i=w9,Gb.md=fe(yN,Kb),Gb.wc=Kb==0?-1:(1<<Kb)-1,E){R.xb=ZD;break e}if((de=a(G*Y))==null){R.a=1,W=0;break e}W=(W=Ua(R,de,0,G,Y,Y,null))&&!Z.h;break e}return W?(q!=null?q[0]=de:(t(de==null),t(E)),R.$=0,E||da(te)):da(te),W}function nu(m,x){var E=m.c*m.i,R=E+x+16*x;return t(m.c<=x),m.V=a(R),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+E+x,1)}function Ec(m,x){var E=m.C,R=x-E,q=m.V,W=m.Ba+m.c*E;for(t(x<=m.l.o);0<R;){var G=16<R?16:R,Y=m.l.ma,Z=m.l.width,te=Z*G,de=Y.ca,we=Y.tb+Z*E,re=m.Ta,he=m.Ua;tu(m,G,q,W),qA(re,he,de,we,te),gs(Y,E,E+G,de,we,Z),R-=G,q+=G*m.c,E+=G}t(E==x),m.C=m.Ma=x}function Oc(){this.ub=this.yd=this.td=this.Rb=0}function Pc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function yb(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function eh(){this.Yb=function(){var m=[];return function x(E,R,q){for(var W=q[R],G=0;G<W&&(E.push(q.length>R+1?[]:0),!(q.length<R+1));G++)x(E[G],R+1,q)}(m,0,[3,11]),m}()}function ag(){this.jb=a(3),this.Wc=o([4,8],eh),this.Xc=o([4,17],eh)}function sg(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function fa(){this.ld=this.La=this.dd=this.tc=0}function th(){this.Na=this.la=0}function og(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function rh(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function lg(){this.uc=this.M=this.Nb=0,this.wa=Array(new fa),this.Y=0,this.ya=Array(new rh),this.aa=0,this.l=new Cc}function ug(){this.y=a(16),this.f=a(8),this.ea=a(8)}function cg(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new Oc,this.Kc=new Pc,this.ed=new sg,this.Qa=new yb,this.Ic=this.$c=this.Aa=0,this.D=new lg,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,T),this.ia=0,this.pb=s(4,og),this.Pa=new ag,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ug),this.Hd=0,this.rb=Array(new th),this.sb=0,this.wa=Array(new fa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new rh),this.L=this.aa=0,this.gd=o([4,2],fa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Cc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function vb(){var m=new cg;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Sh||(Sh=Ys)),m}function sn(m,x,E){return m.a==0&&(m.a=x,m.sc=E,m.cb=0),0}function dg(m,x,E){return 3<=E&&m[x+0]==157&&m[x+1]==1&&m[x+2]==42}function fg(m,x){if(m==null)return 0;if(m.a=0,m.sc="OK",x==null)return sn(m,2,"null VP8Io passed to VP8GetHeaders()");var E=x.data,R=x.w,q=x.ha;if(4>q)return sn(m,7,"Truncated header.");var W=E[R+0]|E[R+1]<<8|E[R+2]<<16,G=m.Od;if(G.Rb=!(1&W),G.td=W>>1&7,G.yd=W>>4&1,G.ub=W>>5,3<G.td)return sn(m,3,"Incorrect keyframe parameters.");if(!G.yd)return sn(m,4,"Frame not displayable.");R+=3,q-=3;var Y=m.Kc;if(G.Rb){if(7>q)return sn(m,7,"cannot parse picture header");if(!dg(E,R,q))return sn(m,3,"Bad code word");Y.c=16383&(E[R+4]<<8|E[R+3]),Y.Td=E[R+4]>>6,Y.i=16383&(E[R+6]<<8|E[R+5]),Y.Ud=E[R+6]>>6,R+=7,q-=7,m.za=Y.c+15>>4,m.Ub=Y.i+15>>4,x.width=Y.c,x.height=Y.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,i((W=m.Pa).jb,0,255,W.jb.length),t((W=m.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,i(W.Zb,0,0,W.Zb.length),i(W.Lb,0,0,W.Lb)}if(G.ub>q)return sn(m,7,"bad partition length");H(W=m.m,E,R,G.ub),R+=G.ub,q-=G.ub,G.Rb&&(Y.Ld=se(W),Y.Kd=se(W)),Y=m.Qa;var Z,te=m.Pa;if(t(W!=null),t(Y!=null),Y.Cb=se(W),Y.Cb){if(Y.Bb=se(W),se(W)){for(Y.Fb=se(W),Z=0;4>Z;++Z)Y.Zb[Z]=se(W)?B(W,7):0;for(Z=0;4>Z;++Z)Y.Lb[Z]=se(W)?B(W,6):0}if(Y.Bb)for(Z=0;3>Z;++Z)te.jb[Z]=se(W)?V(W,8):255}else Y.Bb=0;if(W.Ka)return sn(m,3,"cannot parse segment header");if((Y=m.ed).zd=se(W),Y.Tb=V(W,6),Y.wb=V(W,3),Y.Pc=se(W),Y.Pc&&se(W)){for(te=0;4>te;++te)se(W)&&(Y.vd[te]=B(W,6));for(te=0;4>te;++te)se(W)&&(Y.od[te]=B(W,6))}if(m.L=Y.Tb==0?0:Y.zd?1:2,W.Ka)return sn(m,3,"cannot parse filter header");var de=q;if(q=Z=R,R=Z+de,Y=de,m.Xb=(1<<V(m.m,2))-1,de<3*(te=m.Xb))E=7;else{for(Z+=3*te,Y-=3*te,de=0;de<te;++de){var we=E[q+0]|E[q+1]<<8|E[q+2]<<16;we>Y&&(we=Y),H(m.Jc[+de],E,Z,we),Z+=we,Y-=we,q+=3}H(m.Jc[+te],E,Z,Y),E=Z<R?0:5}if(E!=0)return sn(m,E,"cannot parse partitions");for(E=V(Z=m.m,7),q=se(Z)?B(Z,4):0,R=se(Z)?B(Z,4):0,Y=se(Z)?B(Z,4):0,te=se(Z)?B(Z,4):0,Z=se(Z)?B(Z,4):0,de=m.Qa,we=0;4>we;++we){if(de.Cb){var re=de.Zb[we];de.Fb||(re+=E)}else{if(0<we){m.pb[we]=m.pb[0];continue}re=E}var he=m.pb[we];he.Sc[0]=Db[qr(re+q,127)],he.Sc[1]=Bb[qr(re+0,127)],he.Eb[0]=2*Db[qr(re+R,127)],he.Eb[1]=101581*Bb[qr(re+Y,127)]>>16,8>he.Eb[1]&&(he.Eb[1]=8),he.Qc[0]=Db[qr(re+te,117)],he.Qc[1]=Bb[qr(re+Z,127)],he.lc=re+Z}if(!G.Rb)return sn(m,4,"Not a key frame.");for(se(W),G=m.Pa,E=0;4>E;++E){for(q=0;8>q;++q)for(R=0;3>R;++R)for(Y=0;11>Y;++Y)te=ge(W,XD[E][q][R][Y])?V(W,8):KD[E][q][R][Y],G.Wc[E][q].Yb[R][Y]=te;for(q=0;17>q;++q)G.Xc[E][q]=G.Wc[E][JD[q]]}return m.kc=se(W),m.kc&&(m.Bd=V(W,8)),m.cb=1}function Ys(m,x,E,R,q,W,G){var Y=x[q].Yb[E];for(E=0;16>q;++q){if(!ge(m,Y[E+0]))return q;for(;!ge(m,Y[E+1]);)if(Y=x[++q].Yb[0],E=0,q==16)return 16;var Z=x[q+1].Yb;if(ge(m,Y[E+2])){var te=m,de=0;if(ge(te,(re=Y)[(we=E)+3]))if(ge(te,re[we+6])){for(Y=0,we=2*(de=ge(te,re[we+8]))+(re=ge(te,re[we+9+de])),de=0,re=VD[we];re[Y];++Y)de+=de+ge(te,re[Y]);de+=3+(8<<we)}else ge(te,re[we+7])?(de=7+2*ge(te,165),de+=ge(te,145)):de=5+ge(te,159);else de=ge(te,re[we+4])?3+ge(te,re[we+5]):2;Y=Z[2]}else de=1,Y=Z[1];Z=G+GD[q],0>(te=m).b&&me(te);var we,re=te.b,he=(we=te.Ca>>1)-(te.I>>re)>>31;--te.b,te.Ca+=he,te.Ca|=1,te.I-=(we+1&he)<<re,W[Z]=((de^he)-he)*R[(0<q)+0]}return 16}function iu(m){var x=m.rb[m.sb-1];x.la=0,x.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function za(m,x,E,R,q){q=m[x+E+32*R]+(q>>3),m[x+E+32*R]=-256&q?0>q?0:255:q}function au(m,x,E,R,q,W){za(m,x,0,E,R+q),za(m,x,1,E,R+W),za(m,x,2,E,R-W),za(m,x,3,E,R-q)}function Yr(m){return(20091*m>>16)+m}function nh(m,x,E,R){var q,W=0,G=a(16);for(q=0;4>q;++q){var Y=m[x+0]+m[x+8],Z=m[x+0]-m[x+8],te=(35468*m[x+4]>>16)-Yr(m[x+12]),de=Yr(m[x+4])+(35468*m[x+12]>>16);G[W+0]=Y+de,G[W+1]=Z+te,G[W+2]=Z-te,G[W+3]=Y-de,W+=4,x++}for(q=W=0;4>q;++q)Y=(m=G[W+0]+4)+G[W+8],Z=m-G[W+8],te=(35468*G[W+4]>>16)-Yr(G[W+12]),za(E,R,0,0,Y+(de=Yr(G[W+4])+(35468*G[W+12]>>16))),za(E,R,1,0,Z+te),za(E,R,2,0,Z-te),za(E,R,3,0,Y-de),W++,R+=32}function bb(m,x,E,R){var q=m[x+0]+4,W=35468*m[x+4]>>16,G=Yr(m[x+4]),Y=35468*m[x+1]>>16;au(E,R,0,q+G,m=Yr(m[x+1]),Y),au(E,R,1,q+W,m,Y),au(E,R,2,q-W,m,Y),au(E,R,3,q-G,m,Y)}function xb(m,x,E,R,q){nh(m,x,E,R),q&&nh(m,x+16,E,R+4)}function wb(m,x,E,R){_u(m,x+0,E,R,1),_u(m,x+32,E,R+128,1)}function vs(m,x,E,R){var q;for(m=m[x+0]+4,q=0;4>q;++q)for(x=0;4>x;++x)za(E,R,x,q,m)}function hg(m,x,E,R){m[x+0]&&ar(m,x+0,E,R),m[x+16]&&ar(m,x+16,E,R+4),m[x+32]&&ar(m,x+32,E,R+128),m[x+48]&&ar(m,x+48,E,R+128+4)}function pg(m,x,E,R){var q,W=a(16);for(q=0;4>q;++q){var G=m[x+0+q]+m[x+12+q],Y=m[x+4+q]+m[x+8+q],Z=m[x+4+q]-m[x+8+q],te=m[x+0+q]-m[x+12+q];W[0+q]=G+Y,W[8+q]=G-Y,W[4+q]=te+Z,W[12+q]=te-Z}for(q=0;4>q;++q)G=(m=W[0+4*q]+3)+W[3+4*q],Y=W[1+4*q]+W[2+4*q],Z=W[1+4*q]-W[2+4*q],te=m-W[3+4*q],E[R+0]=G+Y>>3,E[R+16]=te+Z>>3,E[R+32]=G-Y>>3,E[R+48]=te-Z>>3,R+=64}function Wo(m,x,E){var R,q=x-32,W=Mi,G=255-m[q-1];for(R=0;R<E;++R){var Y,Z=W,te=G+m[x-1];for(Y=0;Y<E;++Y)m[x+Y]=Z[te+m[q+Y]];x+=32}}function ih(m,x){Wo(m,x,4)}function _b(m,x){Wo(m,x,8)}function Sb(m,x){Wo(m,x,16)}function jb(m,x){var E;for(E=0;16>E;++E)n(m,x+32*E,m,x-32,16)}function ah(m,x){var E;for(E=16;0<E;--E)i(m,x,m[x-1],16),x+=32}function su(m,x,E){var R;for(R=0;16>R;++R)i(x,E+32*R,m,16)}function Ho(m,x){var E,R=16;for(E=0;16>E;++E)R+=m[x-1+32*E]+m[x+E-32];su(R>>5,m,x)}function Ab(m,x){var E,R=8;for(E=0;16>E;++E)R+=m[x-1+32*E];su(R>>4,m,x)}function ou(m,x){var E,R=8;for(E=0;16>E;++E)R+=m[x+E-32];su(R>>4,m,x)}function sh(m,x){su(128,m,x)}function Tt(m,x,E){return m+2*x+E+2>>2}function Nb(m,x){var E,R=x-32;for(R=new Uint8Array([Tt(m[R-1],m[R+0],m[R+1]),Tt(m[R+0],m[R+1],m[R+2]),Tt(m[R+1],m[R+2],m[R+3]),Tt(m[R+2],m[R+3],m[R+4])]),E=0;4>E;++E)n(m,x+32*E,R,0,R.length)}function kb(m,x){var E=m[x-1],R=m[x-1+32],q=m[x-1+64],W=m[x-1+96];Se(m,x+0,16843009*Tt(m[x-1-32],E,R)),Se(m,x+32,16843009*Tt(E,R,q)),Se(m,x+64,16843009*Tt(R,q,W)),Se(m,x+96,16843009*Tt(q,W,W))}function Eb(m,x){var E,R=4;for(E=0;4>E;++E)R+=m[x+E-32]+m[x-1+32*E];for(R>>=3,E=0;4>E;++E)i(m,x+32*E,R,4)}function Ob(m,x){var E=m[x-1+0],R=m[x-1+32],q=m[x-1+64],W=m[x-1-32],G=m[x+0-32],Y=m[x+1-32],Z=m[x+2-32],te=m[x+3-32];m[x+0+96]=Tt(R,q,m[x-1+96]),m[x+1+96]=m[x+0+64]=Tt(E,R,q),m[x+2+96]=m[x+1+64]=m[x+0+32]=Tt(W,E,R),m[x+3+96]=m[x+2+64]=m[x+1+32]=m[x+0+0]=Tt(G,W,E),m[x+3+64]=m[x+2+32]=m[x+1+0]=Tt(Y,G,W),m[x+3+32]=m[x+2+0]=Tt(Z,Y,G),m[x+3+0]=Tt(te,Z,Y)}function Xs(m,x){var E=m[x+1-32],R=m[x+2-32],q=m[x+3-32],W=m[x+4-32],G=m[x+5-32],Y=m[x+6-32],Z=m[x+7-32];m[x+0+0]=Tt(m[x+0-32],E,R),m[x+1+0]=m[x+0+32]=Tt(E,R,q),m[x+2+0]=m[x+1+32]=m[x+0+64]=Tt(R,q,W),m[x+3+0]=m[x+2+32]=m[x+1+64]=m[x+0+96]=Tt(q,W,G),m[x+3+32]=m[x+2+64]=m[x+1+96]=Tt(W,G,Y),m[x+3+64]=m[x+2+96]=Tt(G,Y,Z),m[x+3+96]=Tt(Y,Z,Z)}function Js(m,x){var E=m[x-1+0],R=m[x-1+32],q=m[x-1+64],W=m[x-1-32],G=m[x+0-32],Y=m[x+1-32],Z=m[x+2-32],te=m[x+3-32];m[x+0+0]=m[x+1+64]=W+G+1>>1,m[x+1+0]=m[x+2+64]=G+Y+1>>1,m[x+2+0]=m[x+3+64]=Y+Z+1>>1,m[x+3+0]=Z+te+1>>1,m[x+0+96]=Tt(q,R,E),m[x+0+64]=Tt(R,E,W),m[x+0+32]=m[x+1+96]=Tt(E,W,G),m[x+1+32]=m[x+2+96]=Tt(W,G,Y),m[x+2+32]=m[x+3+96]=Tt(G,Y,Z),m[x+3+32]=Tt(Y,Z,te)}function Pb(m,x){var E=m[x+0-32],R=m[x+1-32],q=m[x+2-32],W=m[x+3-32],G=m[x+4-32],Y=m[x+5-32],Z=m[x+6-32],te=m[x+7-32];m[x+0+0]=E+R+1>>1,m[x+1+0]=m[x+0+64]=R+q+1>>1,m[x+2+0]=m[x+1+64]=q+W+1>>1,m[x+3+0]=m[x+2+64]=W+G+1>>1,m[x+0+32]=Tt(E,R,q),m[x+1+32]=m[x+0+96]=Tt(R,q,W),m[x+2+32]=m[x+1+96]=Tt(q,W,G),m[x+3+32]=m[x+2+96]=Tt(W,G,Y),m[x+3+64]=Tt(G,Y,Z),m[x+3+96]=Tt(Y,Z,te)}function Cb(m,x){var E=m[x-1+0],R=m[x-1+32],q=m[x-1+64],W=m[x-1+96];m[x+0+0]=E+R+1>>1,m[x+2+0]=m[x+0+32]=R+q+1>>1,m[x+2+32]=m[x+0+64]=q+W+1>>1,m[x+1+0]=Tt(E,R,q),m[x+3+0]=m[x+1+32]=Tt(R,q,W),m[x+3+32]=m[x+1+64]=Tt(q,W,W),m[x+3+64]=m[x+2+64]=m[x+0+96]=m[x+1+96]=m[x+2+96]=m[x+3+96]=W}function Tc(m,x){var E=m[x-1+0],R=m[x-1+32],q=m[x-1+64],W=m[x-1+96],G=m[x-1-32],Y=m[x+0-32],Z=m[x+1-32],te=m[x+2-32];m[x+0+0]=m[x+2+32]=E+G+1>>1,m[x+0+32]=m[x+2+64]=R+E+1>>1,m[x+0+64]=m[x+2+96]=q+R+1>>1,m[x+0+96]=W+q+1>>1,m[x+3+0]=Tt(Y,Z,te),m[x+2+0]=Tt(G,Y,Z),m[x+1+0]=m[x+3+32]=Tt(E,G,Y),m[x+1+32]=m[x+3+64]=Tt(R,E,G),m[x+1+64]=m[x+3+96]=Tt(q,R,E),m[x+1+96]=Tt(W,q,R)}function oh(m,x){var E;for(E=0;8>E;++E)n(m,x+32*E,m,x-32,8)}function lu(m,x){var E;for(E=0;8>E;++E)i(m,x,m[x-1],8),x+=32}function Lc(m,x,E){var R;for(R=0;8>R;++R)i(x,E+32*R,m,8)}function Ic(m,x){var E,R=8;for(E=0;8>E;++E)R+=m[x+E-32]+m[x-1+32*E];Lc(R>>4,m,x)}function Tb(m,x){var E,R=4;for(E=0;8>E;++E)R+=m[x+E-32];Lc(R>>3,m,x)}function lh(m,x){var E,R=4;for(E=0;8>E;++E)R+=m[x-1+32*E];Lc(R>>3,m,x)}function uh(m,x){Lc(128,m,x)}function uu(m,x,E){var R=m[x-E],q=m[x+0],W=3*(q-R)+Lb[1020+m[x-2*E]-m[x+E]],G=jg[112+(W+4>>3)];m[x-E]=Mi[255+R+jg[112+(W+3>>3)]],m[x+0]=Mi[255+q-G]}function cu(m,x,E,R){var q=m[x+0],W=m[x+E];return ga[255+m[x-2*E]-m[x-E]]>R||ga[255+W-q]>R}function ch(m,x,E,R){return 4*ga[255+m[x-E]-m[x+0]]+ga[255+m[x-2*E]-m[x+E]]<=R}function Rc(m,x,E,R,q){var W=m[x-3*E],G=m[x-2*E],Y=m[x-E],Z=m[x+0],te=m[x+E],de=m[x+2*E],we=m[x+3*E];return 4*ga[255+Y-Z]+ga[255+G-te]>R?0:ga[255+m[x-4*E]-W]<=q&&ga[255+W-G]<=q&&ga[255+G-Y]<=q&&ga[255+we-de]<=q&&ga[255+de-te]<=q&&ga[255+te-Z]<=q}function dh(m,x,E,R){var q=2*R+1;for(R=0;16>R;++R)ch(m,x+R,E,q)&&uu(m,x+R,E)}function du(m,x,E,R){var q=2*R+1;for(R=0;16>R;++R)ch(m,x+R*E,1,q)&&uu(m,x+R*E,1)}function mg(m,x,E,R){var q;for(q=3;0<q;--q)dh(m,x+=4*E,E,R)}function gg(m,x,E,R){var q;for(q=3;0<q;--q)du(m,x+=4,E,R)}function Zs(m,x,E,R,q,W,G,Y){for(W=2*W+1;0<q--;){if(Rc(m,x,E,W,G))if(cu(m,x,E,Y))uu(m,x,E);else{var Z=m,te=x,de=E,we=Z[te-2*de],re=Z[te-de],he=Z[te+0],be=Z[te+de],Ae=Z[te+2*de],xe=27*(Pe=Lb[1020+3*(he-re)+Lb[1020+we-be]])+63>>7,ke=18*Pe+63>>7,Pe=9*Pe+63>>7;Z[te-3*de]=Mi[255+Z[te-3*de]+Pe],Z[te-2*de]=Mi[255+we+ke],Z[te-de]=Mi[255+re+xe],Z[te+0]=Mi[255+he-xe],Z[te+de]=Mi[255+be-ke],Z[te+2*de]=Mi[255+Ae-Pe]}x+=R}}function Qs(m,x,E,R,q,W,G,Y){for(W=2*W+1;0<q--;){if(Rc(m,x,E,W,G))if(cu(m,x,E,Y))uu(m,x,E);else{var Z=m,te=x,de=E,we=Z[te-de],re=Z[te+0],he=Z[te+de],be=jg[112+(4+(Ae=3*(re-we))>>3)],Ae=jg[112+(Ae+3>>3)],xe=be+1>>1;Z[te-2*de]=Mi[255+Z[te-2*de]+xe],Z[te-de]=Mi[255+we+Ae],Z[te+0]=Mi[255+re-be],Z[te+de]=Mi[255+he-xe]}x+=R}}function yg(m,x,E,R,q,W){Zs(m,x,E,1,16,R,q,W)}function vg(m,x,E,R,q,W){Zs(m,x,1,E,16,R,q,W)}function fu(m,x,E,R,q,W){var G;for(G=3;0<G;--G)Qs(m,x+=4*E,E,1,16,R,q,W)}function bg(m,x,E,R,q,W){var G;for(G=3;0<G;--G)Qs(m,x+=4,1,E,16,R,q,W)}function N(m,x,E,R,q,W,G,Y){Zs(m,x,q,1,8,W,G,Y),Zs(E,R,q,1,8,W,G,Y)}function z(m,x,E,R,q,W,G,Y){Zs(m,x,1,q,8,W,G,Y),Zs(E,R,1,q,8,W,G,Y)}function ne(m,x,E,R,q,W,G,Y){Qs(m,x+4*q,q,1,8,W,G,Y),Qs(E,R+4*q,q,1,8,W,G,Y)}function le(m,x,E,R,q,W,G,Y){Qs(m,x+4,1,q,8,W,G,Y),Qs(E,R+4,1,q,8,W,G,Y)}function ve(){this.ba=new Xt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ir,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ee(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function De(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function st(){this.ua=0,this.Wa=new Qe,this.vb=new Qe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new M}function dt(){this.xb=this.a=0,this.l=new Cc,this.ca=new Xt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new st,this.ab=0,this.gc=s(4,De),this.Oc=0}function Ot(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Cc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function It(m,x,E,R,q,W,G){for(m=m==null?0:m[x+0],x=0;x<G;++x)q[W+x]=m+E[R+x]&255,m=q[W+x]}function er(m,x,E,R,q,W,G){var Y;if(m==null)It(null,null,E,R,q,W,G);else for(Y=0;Y<G;++Y)q[W+Y]=m[x+Y]+E[R+Y]&255}function Mr(m,x,E,R,q,W,G){if(m==null)It(null,null,E,R,q,W,G);else{var Y,Z=m[x+0],te=Z,de=Z;for(Y=0;Y<G;++Y)te=de+(Z=m[x+Y])-te,de=E[R+Y]+(-256&te?0>te?0:255:te)&255,te=Z,q[W+Y]=de}}function on(m,x,E,R){var q=x.width,W=x.o;if(t(m!=null&&x!=null),0>E||0>=R||E+R>W)return null;if(!m.Cc){if(m.ga==null){var G;if(m.ga=new Ot,(G=m.ga==null)||(G=x.width*x.o,t(m.Gb.length==0),m.Gb=a(G),m.Uc=0,m.Gb==null?G=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,G=1),G=!G),!G){G=m.ga;var Y=m.Fa,Z=m.P,te=m.qc,de=m.mb,we=m.nb,re=Z+1,he=te-1,be=G.l;if(t(Y!=null&&de!=null&&x!=null),tl[0]=null,tl[1]=It,tl[2]=er,tl[3]=Mr,G.ca=de,G.tb=we,G.c=x.width,G.i=x.height,t(0<G.c&&0<G.i),1>=te)x=0;else if(G.$a=3&Y[Z+0],G.Z=Y[Z+0]>>2&3,G.Lc=Y[Z+0]>>4&3,Z=Y[Z+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||Z)x=0;else if(be.put=wt,be.ac=ms,be.bc=Gs,be.ma=G,be.width=x.width,be.height=x.height,be.Da=x.Da,be.v=x.v,be.va=x.va,be.j=x.j,be.o=x.o,G.$a)e:{t(G.$a==1),x=ru();t:for(;;){if(x==null){x=0;break e}if(t(G!=null),G.mc=x,x.c=G.c,x.i=G.i,x.l=G.l,x.l.ma=G,x.l.width=G.c,x.l.height=G.i,x.a=0,J(x.m,Y,re,he),!ys(G.c,G.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&Ba(x.s)?(G.ic=1,Y=x.c*x.i,x.Ta=null,x.Ua=0,x.V=a(Y),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(G.ic=0,x=nu(x,G.c)),!x))break t;x=1;break e}G.mc=null,x=0}else x=he>=G.c*G.i;G=!x}if(G)return null;m.ga.Lc!=1?m.Ga=0:R=W-E}t(m.ga!=null),t(E+R<=W);e:{if(x=(Y=m.ga).c,W=Y.l.o,Y.$a==0){if(re=m.rc,he=m.Vc,be=m.Fa,Z=m.P+1+E*x,te=m.mb,de=m.nb+E*x,t(Z<=m.P+m.qc),Y.Z!=0)for(t(tl[Y.Z]!=null),G=0;G<R;++G)tl[Y.Z](re,he,be,Z,te,de,x),re=te,he=de,de+=x,Z+=x;else for(G=0;G<R;++G)n(te,de,be,Z,x),re=te,he=de,de+=x,Z+=x;m.rc=re,m.Vc=he}else{if(t(Y.mc!=null),x=E+R,t((G=Y.mc)!=null),t(x<=G.i),G.C>=x)x=1;else if(Y.ic||ha(),Y.ic){Y=G.V,re=G.Ba,he=G.c;var Ae=G.i,xe=(be=1,Z=G.$/he,te=G.$%he,de=G.m,we=G.s,G.$),ke=he*Ae,Pe=he*x,ze=we.wc,Me=xe<Pe?$n(we,te,Z):null;t(xe<=ke),t(x<=Ae),t(Ba(we));t:for(;;){for(;!de.h&&xe<Pe;){if(te&ze||(Me=$n(we,te,Z)),t(Me!=null),ue(de),256>(Ae=zr(Me.G[0],Me.H[0],de)))Y[re+xe]=Ae,++xe,++te>=he&&(te=0,++Z<=x&&!(Z%16)&&Fa(G,Z));else{if(!(280>Ae)){be=0;break t}Ae=ua(Ae-256,de);var ft,nt=zr(Me.G[4],Me.H[4],de);if(ue(de),!(xe>=(nt=ca(he,nt=ua(nt,de)))&&ke-xe>=Ae)){be=0;break t}for(ft=0;ft<Ae;++ft)Y[re+xe+ft]=Y[re+xe+ft-nt];for(xe+=Ae,te+=Ae;te>=he;)te-=he,++Z<=x&&!(Z%16)&&Fa(G,Z);xe<Pe&&te&ze&&(Me=$n(we,te,Z))}t(de.h==Q(de))}Fa(G,Z>x?x:Z);break t}!be||de.h&&xe<ke?(be=0,G.a=de.h?5:3):G.$=xe,x=be}else x=Ua(G,G.V,G.Ba,G.c,G.i,x,Ec);if(!x){R=0;break e}}E+R>=W&&(m.Cc=1),R=1}if(!R)return null;if(m.Cc&&((R=m.ga)!=null&&(R.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+E*q}function yr(m,x,E,R,q,W){for(;0<q--;){var G,Y=m,Z=x+(E?1:0),te=m,de=x+(E?0:3);for(G=0;G<R;++G){var we=te[de+4*G];we!=255&&(we*=32897,Y[Z+4*G+0]=Y[Z+4*G+0]*we>>23,Y[Z+4*G+1]=Y[Z+4*G+1]*we>>23,Y[Z+4*G+2]=Y[Z+4*G+2]*we>>23)}x+=W}}function gn(m,x,E,R,q){for(;0<R--;){var W;for(W=0;W<E;++W){var G=m[x+2*W+0],Y=15&(te=m[x+2*W+1]),Z=4369*Y,te=(240&te|te>>4)*Z>>16;m[x+2*W+0]=(240&G|G>>4)*Z>>16&240|(15&G|G<<4)*Z>>16>>4&15,m[x+2*W+1]=240&te|Y}x+=q}}function ln(m,x,E,R,q,W,G,Y){var Z,te,de=255;for(te=0;te<q;++te){for(Z=0;Z<R;++Z){var we=m[x+Z];W[G+4*Z]=we,de&=we}x+=E,G+=Y}return de!=255}function Mn(m,x,E,R,q){var W;for(W=0;W<q;++W)E[R+W]=m[x+W]>>8}function ha(){_h=yr,UA=gn,zA=ln,qA=Mn}function bi(m,x,E){I[m]=function(R,q,W,G,Y,Z,te,de,we,re,he,be,Ae,xe,ke,Pe,ze){var Me,ft=ze-1>>1,nt=Y[Z+0]|te[de+0]<<16,Dt=we[re+0]|he[be+0]<<16;t(R!=null);var ot=3*nt+Dt+131074>>2;for(x(R[q+0],255&ot,ot>>16,Ae,xe),W!=null&&(ot=3*Dt+nt+131074>>2,x(W[G+0],255&ot,ot>>16,ke,Pe)),Me=1;Me<=ft;++Me){var Ht=Y[Z+Me]|te[de+Me]<<16,vn=we[re+Me]|he[be+Me]<<16,Bt=nt+Ht+Dt+vn+524296,lt=Bt+2*(Ht+Dt)>>3;ot=lt+nt>>1,nt=(Bt=Bt+2*(nt+vn)>>3)+Ht>>1,x(R[q+2*Me-1],255&ot,ot>>16,Ae,xe+(2*Me-1)*E),x(R[q+2*Me-0],255&nt,nt>>16,Ae,xe+(2*Me-0)*E),W!=null&&(ot=Bt+Dt>>1,nt=lt+vn>>1,x(W[G+2*Me-1],255&ot,ot>>16,ke,Pe+(2*Me-1)*E),x(W[G+2*Me+0],255&nt,nt>>16,ke,Pe+(2*Me+0)*E)),nt=Ht,Dt=vn}1&ze||(ot=3*nt+Dt+131074>>2,x(R[q+ze-1],255&ot,ot>>16,Ae,xe+(ze-1)*E),W!=null&&(ot=3*Dt+nt+131074>>2,x(W[G+ze-1],255&ot,ot>>16,ke,Pe+(ze-1)*E)))}}function xg(){ya[Ag]=QD,ya[Ng]=eN,ya[YA]=e9,ya[kg]=tN,ya[Eg]=rN,ya[Ib]=nN,ya[XA]=t9,ya[Rb]=eN,ya[$b]=tN,ya[Og]=rN,ya[Mb]=nN}function $c(m){return m&-16384?0>m?0:255:m>>r9}function hu(m,x){return $c((19077*m>>8)+(26149*x>>8)-14234)}function Vo(m,x,E){return $c((19077*m>>8)-(6419*x>>8)-(13320*E>>8)+8708)}function pu(m,x){return $c((19077*m>>8)+(33050*x>>8)-17685)}function mu(m,x,E,R,q){R[q+0]=hu(m,E),R[q+1]=Vo(m,x,E),R[q+2]=pu(m,x)}function gu(m,x,E,R,q){R[q+0]=pu(m,x),R[q+1]=Vo(m,x,E),R[q+2]=hu(m,E)}function Gn(m,x,E,R,q){var W=Vo(m,x,E);x=W<<3&224|pu(m,x)>>3,R[q+0]=248&hu(m,E)|W>>5,R[q+1]=x}function yu(m,x,E,R,q){var W=240&pu(m,x)|15;R[q+0]=240&hu(m,E)|Vo(m,x,E)>>4,R[q+1]=W}function vu(m,x,E,R,q){R[q+0]=255,mu(m,x,E,R,q+1)}function fh(m,x,E,R,q){gu(m,x,E,R,q),R[q+3]=255}function hh(m,x,E,R,q){mu(m,x,E,R,q),R[q+3]=255}function qr(m,x){return 0>m?0:m>x?x:m}function eo(m,x,E){I[m]=function(R,q,W,G,Y,Z,te,de,we){for(var re=de+(-2&we)*E;de!=re;)x(R[q+0],W[G+0],Y[Z+0],te,de),x(R[q+1],W[G+0],Y[Z+0],te,de+E),q+=2,++G,++Z,de+=2*E;1&we&&x(R[q+0],W[G+0],Y[Z+0],te,de)}}function Mc(m,x,E){return E==0?m==0?x==0?6:5:x==0?4:0:E}function wg(m,x,E,R,q){switch(m>>>30){case 3:_u(x,E,R,q,0);break;case 2:ma(x,E,R,q);break;case 1:ar(x,E,R,q)}}function pa(m,x){var E,R,q=x.M,W=x.Nb,G=m.oc,Y=m.pc+40,Z=m.oc,te=m.pc+584,de=m.oc,we=m.pc+600;for(E=0;16>E;++E)G[Y+32*E-1]=129;for(E=0;8>E;++E)Z[te+32*E-1]=129,de[we+32*E-1]=129;for(0<q?G[Y-1-32]=Z[te-1-32]=de[we-1-32]=129:(i(G,Y-32-1,127,21),i(Z,te-32-1,127,9),i(de,we-32-1,127,9)),R=0;R<m.za;++R){var re=x.ya[x.aa+R];if(0<R){for(E=-1;16>E;++E)n(G,Y+32*E-4,G,Y+32*E+12,4);for(E=-1;8>E;++E)n(Z,te+32*E-4,Z,te+32*E+4,4),n(de,we+32*E-4,de,we+32*E+4,4)}var he=m.Gd,be=m.Hd+R,Ae=re.ad,xe=re.Hc;if(0<q&&(n(G,Y-32,he[be].y,0,16),n(Z,te-32,he[be].f,0,8),n(de,we-32,he[be].ea,0,8)),re.Za){var ke=G,Pe=Y-32+16;for(0<q&&(R>=m.za-1?i(ke,Pe,he[be].y[15],4):n(ke,Pe,he[be+1].y,0,4)),E=0;4>E;E++)ke[Pe+128+E]=ke[Pe+256+E]=ke[Pe+384+E]=ke[Pe+0+E];for(E=0;16>E;++E,xe<<=2)ke=G,Pe=Y+aN[E],qa[re.Ob[E]](ke,Pe),wg(xe,Ae,16*+E,ke,Pe)}else if(ke=Mc(R,q,re.Ob[0]),el[ke](G,Y),xe!=0)for(E=0;16>E;++E,xe<<=2)wg(xe,Ae,16*+E,G,Y+aN[E]);for(E=re.Gc,ke=Mc(R,q,re.Dd),no[ke](Z,te),no[ke](de,we),xe=Ae,ke=Z,Pe=te,255&(re=0|E)&&(170&re?ws(xe,256,ke,Pe):hr(xe,256,ke,Pe)),re=de,xe=we,255&(E>>=8)&&(170&E?ws(Ae,320,re,xe):hr(Ae,320,re,xe)),q<m.Ub-1&&(n(he[be].y,0,G,Y+480,16),n(he[be].f,0,Z,te+224,8),n(he[be].ea,0,de,we+224,8)),E=8*W*m.B,he=m.sa,be=m.ta+16*R+16*W*m.R,Ae=m.qa,re=m.ra+8*R+E,xe=m.Ha,ke=m.Ia+8*R+E,E=0;16>E;++E)n(he,be+E*m.R,G,Y+32*E,16);for(E=0;8>E;++E)n(Ae,re+E*m.B,Z,te+32*E,8),n(xe,ke+E*m.B,de,we+32*E,8)}}function bu(m,x,E,R,q,W,G,Y,Z){var te=[0],de=[0],we=0,re=Z!=null?Z.kd:0,he=Z??new Ee;if(m==null||12>E)return 7;he.data=m,he.w=x,he.ha=E,x=[x],E=[E],he.gb=[he.gb];e:{var be=x,Ae=E,xe=he.gb;if(t(m!=null),t(Ae!=null),t(xe!=null),xe[0]=0,12<=Ae[0]&&!r(m,be[0],"RIFF")){if(r(m,be[0]+8,"WEBP")){xe=3;break e}var ke=ye(m,be[0]+4);if(12>ke||4294967286<ke){xe=3;break e}if(re&&ke>Ae[0]-8){xe=7;break e}xe[0]=ke,be[0]+=12,Ae[0]-=12}xe=0}if(xe!=0)return xe;for(ke=0<he.gb[0],E=E[0];;){e:{var Pe=m;Ae=x,xe=E;var ze=te,Me=de,ft=be=[0];if((ot=we=[we])[0]=0,8>xe[0])xe=7;else{if(!r(Pe,Ae[0],"VP8X")){if(ye(Pe,Ae[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var nt=ye(Pe,Ae[0]+8),Dt=1+Fe(Pe,Ae[0]+12);if(2147483648<=Dt*(Pe=1+Fe(Pe,Ae[0]+15))){xe=3;break e}ft!=null&&(ft[0]=nt),ze!=null&&(ze[0]=Dt),Me!=null&&(Me[0]=Pe),Ae[0]+=18,xe[0]-=18,ot[0]=1}xe=0}}if(we=we[0],be=be[0],xe!=0)return xe;if(Ae=!!(2&be),!ke&&we)return 3;if(W!=null&&(W[0]=!!(16&be)),G!=null&&(G[0]=Ae),Y!=null&&(Y[0]=0),G=te[0],be=de[0],we&&Ae&&Z==null){xe=0;break}if(4>E){xe=7;break}if(ke&&we||!ke&&!we&&!r(m,x[0],"ALPH")){E=[E],he.na=[he.na],he.P=[he.P],he.Sa=[he.Sa];e:{nt=m,xe=x,ke=E;var ot=he.gb;ze=he.na,Me=he.P,ft=he.Sa,Dt=22,t(nt!=null),t(ke!=null),Pe=xe[0];var Ht=ke[0];for(t(ze!=null),t(ft!=null),ze[0]=null,Me[0]=null,ft[0]=0;;){if(xe[0]=Pe,ke[0]=Ht,8>Ht){xe=7;break e}var vn=ye(nt,Pe+4);if(4294967286<vn){xe=3;break e}var Bt=8+vn+1&-2;if(Dt+=Bt,0<ot&&Dt>ot){xe=3;break e}if(!r(nt,Pe,"VP8 ")||!r(nt,Pe,"VP8L")){xe=0;break e}if(Ht[0]<Bt){xe=7;break e}r(nt,Pe,"ALPH")||(ze[0]=nt,Me[0]=Pe+8,ft[0]=vn),Pe+=Bt,Ht-=Bt}}if(E=E[0],he.na=he.na[0],he.P=he.P[0],he.Sa=he.Sa[0],xe!=0)break}E=[E],he.Ja=[he.Ja],he.xa=[he.xa];e:if(ot=m,xe=x,ke=E,ze=he.gb[0],Me=he.Ja,ft=he.xa,nt=xe[0],Pe=!r(ot,nt,"VP8 "),Dt=!r(ot,nt,"VP8L"),t(ot!=null),t(ke!=null),t(Me!=null),t(ft!=null),8>ke[0])xe=7;else{if(Pe||Dt){if(ot=ye(ot,nt+4),12<=ze&&ot>ze-12){xe=3;break e}if(re&&ot>ke[0]-8){xe=7;break e}Me[0]=ot,xe[0]+=8,ke[0]-=8,ft[0]=Dt}else ft[0]=5<=ke[0]&&ot[nt+0]==47&&!(ot[nt+4]>>5),Me[0]=ke[0];xe=0}if(E=E[0],he.Ja=he.Ja[0],he.xa=he.xa[0],x=x[0],xe!=0)break;if(4294967286<he.Ja)return 3;if(Y==null||Ae||(Y[0]=he.xa?2:1),G=[G],be=[be],he.xa){if(5>E){xe=7;break}Y=G,re=be,Ae=W,m==null||5>E?m=0:5<=E&&m[x+0]==47&&!(m[x+4]>>5)?(ke=[0],ot=[0],ze=[0],J(Me=new C,m,x,E),Ks(Me,ke,ot,ze)?(Y!=null&&(Y[0]=ke[0]),re!=null&&(re[0]=ot[0]),Ae!=null&&(Ae[0]=ze[0]),m=1):m=0):m=0}else{if(10>E){xe=7;break}Y=be,m==null||10>E||!dg(m,x+3,E-3)?m=0:(re=m[x+0]|m[x+1]<<8|m[x+2]<<16,Ae=16383&(m[x+7]<<8|m[x+6]),m=16383&(m[x+9]<<8|m[x+8]),1&re||3<(re>>1&7)||!(re>>4&1)||re>>5>=he.Ja||!Ae||!m?m=0:(G&&(G[0]=Ae),Y&&(Y[0]=m),m=1))}if(!m||(G=G[0],be=be[0],we&&(te[0]!=G||de[0]!=be)))return 3;Z!=null&&(Z[0]=he,Z.offset=x-Z.w,t(4294967286>x-Z.w),t(Z.offset==Z.ha-E));break}return xe==0||xe==7&&we&&Z==null?(W!=null&&(W[0]|=he.na!=null&&0<he.na.length),R!=null&&(R[0]=G),q!=null&&(q[0]=be),0):xe}function ph(m,x,E){var R=x.width,q=x.height,W=0,G=0,Y=R,Z=q;if(x.Da=m!=null&&0<m.Da,x.Da&&(Y=m.cd,Z=m.bd,W=m.v,G=m.j,11>E||(W&=-2,G&=-2),0>W||0>G||0>=Y||0>=Z||W+Y>R||G+Z>q))return 0;if(x.v=W,x.j=G,x.va=W+Y,x.o=G+Z,x.U=Y,x.T=Z,x.da=m!=null&&0<m.da,x.da){if(!Xe(Y,Z,E=[m.ib],W=[m.hb]))return 0;x.ib=E[0],x.hb=W[0]}return x.ob=m!=null&&m.ob,x.Kb=m==null||!m.Sd,x.da&&(x.ob=x.ib<3*R/4&&x.hb<3*q/4,x.Kb=0),1}function mh(m){if(m==null)return 2;if(11>m.S){var x=m.f.RGBA;x.fb+=(m.height-1)*x.A,x.A=-x.A}else x=m.f.kb,m=m.height,x.O+=(m-1)*x.fa,x.fa=-x.fa,x.N+=(m-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(m-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(m-1)*x.lb,x.lb=-x.lb);return 0}function Go(m,x,E,R){if(R==null||0>=m||0>=x)return 2;if(E!=null){if(E.Da){var q=E.cd,W=E.bd,G=-2&E.v,Y=-2&E.j;if(0>G||0>Y||0>=q||0>=W||G+q>m||Y+W>x)return 2;m=q,x=W}if(E.da){if(!Xe(m,x,q=[E.ib],W=[E.hb]))return 2;m=q[0],x=W[0]}}R.width=m,R.height=x;e:{var Z=R.width,te=R.height;if(m=R.S,0>=Z||0>=te||!(m>=Ag&&13>m))m=2;else{if(0>=R.Rd&&R.sd==null){G=W=q=x=0;var de=(Y=Z*sN[m])*te;if(11>m||(W=(te+1)/2*(x=(Z+1)/2),m==12&&(G=(q=Z)*te)),(te=a(de+2*W+G))==null){m=1;break e}R.sd=te,11>m?((Z=R.f.RGBA).eb=te,Z.fb=0,Z.A=Y,Z.size=de):((Z=R.f.kb).y=te,Z.O=0,Z.fa=Y,Z.Fd=de,Z.f=te,Z.N=0+de,Z.Ab=x,Z.Cd=W,Z.ea=te,Z.W=0+de+W,Z.Db=x,Z.Ed=W,m==12&&(Z.F=te,Z.J=0+de+2*W),Z.Tc=G,Z.lb=q)}if(x=1,q=R.S,W=R.width,G=R.height,q>=Ag&&13>q)if(11>q)m=R.f.RGBA,x&=(Y=Math.abs(m.A))*(G-1)+W<=m.size,x&=Y>=W*sN[q],x&=m.eb!=null;else{m=R.f.kb,Y=(W+1)/2,de=(G+1)/2,Z=Math.abs(m.fa),te=Math.abs(m.Ab);var we=Math.abs(m.Db),re=Math.abs(m.lb),he=re*(G-1)+W;x&=Z*(G-1)+W<=m.Fd,x&=te*(de-1)+Y<=m.Cd,x=(x&=we*(de-1)+Y<=m.Ed)&Z>=W&te>=Y&we>=Y,x&=m.y!=null,x&=m.f!=null,x&=m.ea!=null,q==12&&(x&=re>=W,x&=he<=m.Tc,x&=m.F!=null)}else x=0;m=x?0:2}}return m!=0||E!=null&&E.fd&&(m=mh(R)),m}var xu=64,Ri=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$i=24,Ko=32,to=8,Yo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(m){return m},I.Predictor2=function(m,x,E){return x[E+0]},I.Predictor3=function(m,x,E){return x[E+1]},I.Predictor4=function(m,x,E){return x[E-1]},I.Predictor5=function(m,x,E){return Ce(Ce(m,x[E+1]),x[E+0])},I.Predictor6=function(m,x,E){return Ce(m,x[E-1])},I.Predictor7=function(m,x,E){return Ce(m,x[E+0])},I.Predictor8=function(m,x,E){return Ce(x[E-1],x[E+0])},I.Predictor9=function(m,x,E){return Ce(x[E+0],x[E+1])},I.Predictor10=function(m,x,E){return Ce(Ce(m,x[E-1]),Ce(x[E+0],x[E+1]))},I.Predictor11=function(m,x,E){var R=x[E+0];return 0>=ce(R>>24&255,m>>24&255,(x=x[E-1])>>24&255)+ce(R>>16&255,m>>16&255,x>>16&255)+ce(R>>8&255,m>>8&255,x>>8&255)+ce(255&R,255&m,255&x)?R:m},I.Predictor12=function(m,x,E){var R=x[E+0];return(Re((m>>24&255)+(R>>24&255)-((x=x[E-1])>>24&255))<<24|Re((m>>16&255)+(R>>16&255)-(x>>16&255))<<16|Re((m>>8&255)+(R>>8&255)-(x>>8&255))<<8|Re((255&m)+(255&R)-(255&x)))>>>0},I.Predictor13=function(m,x,E){var R=x[E-1];return(Be((m=Ce(m,x[E+0]))>>24&255,R>>24&255)<<24|Be(m>>16&255,R>>16&255)<<16|Be(m>>8&255,R>>8&255)<<8|Be(255&m,255&R))>>>0};var gh=I.PredictorAdd0;I.PredictorAdd1=je,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var Dc=I.PredictorAdd2;qe("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),qe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Xr,_g=I.ColorIndexInverseTransform,bs=I.MapARGB,xs=I.VP8LColorIndexInverseTransformAlpha,yh=I.MapAlpha,vh=I.VP8LPredictorsAdd=[];vh.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var bh,xh,Xo,Jo,Zo,wu,Qo,_u,ma,ws,ar,hr,Jr,yn,ro,wh,Bc,Sg,RA,$A,MA,DA,BA,FA,_h,UA,zA,qA,WA=a(511),HA=a(2041),VA=a(225),GA=a(767),KA=0,Lb=HA,jg=VA,Mi=GA,ga=WA,Ag=0,Ng=1,YA=2,kg=3,Eg=4,Ib=5,XA=6,Rb=7,$b=8,Og=9,Mb=10,BD=[2,3,7],FD=[3,3,11],JA=[280,256,256,256,40],UD=[0,1,1,1,0],zD=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qD=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],WD=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],HD=8,Db=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Bb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Sh=null,VD=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],GD=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ZA=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],KD=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],YD=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],XD=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],JD=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],el=[],qa=[],no=[],ZD=1,QA=2,tl=[],ya=[];bi("UpsampleRgbLinePair",mu,3),bi("UpsampleBgrLinePair",gu,3),bi("UpsampleRgbaLinePair",hh,4),bi("UpsampleBgraLinePair",fh,4),bi("UpsampleArgbLinePair",vu,4),bi("UpsampleRgba4444LinePair",yu,2),bi("UpsampleRgb565LinePair",Gn,2);var QD=I.UpsampleRgbLinePair,e9=I.UpsampleBgrLinePair,eN=I.UpsampleRgbaLinePair,tN=I.UpsampleBgraLinePair,rN=I.UpsampleArgbLinePair,nN=I.UpsampleRgba4444LinePair,t9=I.UpsampleRgb565LinePair,Pg=16,Cg=1<<Pg-1,jh=-227,Fb=482,r9=6,iN=0,n9=a(256),i9=a(256),a9=a(256),s9=a(256),o9=a(Fb-jh),l9=a(Fb-jh);eo("YuvToRgbRow",mu,3),eo("YuvToBgrRow",gu,3),eo("YuvToRgbaRow",hh,4),eo("YuvToBgraRow",fh,4),eo("YuvToArgbRow",vu,4),eo("YuvToRgba4444Row",yu,2),eo("YuvToRgb565Row",Gn,2);var aN=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Tg=[0,2,8],u9=[8,7,6,4,4,2,2,2,1,1,1,1],c9=1;this.WebPDecodeRGBA=function(m,x,E,R,q){var W=Ng,G=new ve,Y=new Xt;G.ba=Y,Y.S=W,Y.width=[Y.width],Y.height=[Y.height];var Z=Y.width,te=Y.height,de=new jt;if(de==null||m==null)var we=2;else t(de!=null),we=bu(m,x,E,de.width,de.height,de.Pd,de.Qd,de.format,null);if(we!=0?Z=0:(Z!=null&&(Z[0]=de.width[0]),te!=null&&(te[0]=de.height[0]),Z=1),Z){Y.width=Y.width[0],Y.height=Y.height[0],R!=null&&(R[0]=Y.width),q!=null&&(q[0]=Y.height);e:{if(R=new Cc,(q=new Ee).data=m,q.w=x,q.ha=E,q.kd=1,x=[0],t(q!=null),((m=bu(q.data,q.w,q.ha,null,null,null,x,null,q))==0||m==7)&&x[0]&&(m=4),(x=m)==0){if(t(G!=null),R.data=q.data,R.w=q.w+q.offset,R.ha=q.ha-q.offset,R.put=wt,R.ac=ms,R.bc=Gs,R.ma=G,q.xa){if((m=ru())==null){G=1;break e}if(function(re,he){var be=[0],Ae=[0],xe=[0];t:for(;;){if(re==null)return 0;if(he==null)return re.a=2,0;if(re.l=he,re.a=0,J(re.m,he.data,he.w,he.ha),!Ks(re.m,be,Ae,xe)){re.a=3;break t}if(re.xb=QA,he.width=be[0],he.height=Ae[0],!ys(be[0],Ae[0],1,re,null))break t;return 1}return t(re.a!=0),0}(m,R)){if(R=(x=Go(R.width,R.height,G.Oa,G.ba))==0){t:{R=m;r:for(;;){if(R==null){R=0;break t}if(t(R.s.yc!=null),t(R.s.Ya!=null),t(0<R.s.Wb),t((E=R.l)!=null),t((q=E.ma)!=null),R.xb!=0){if(R.ca=q.ba,R.tb=q.tb,t(R.ca!=null),!ph(q.Oa,E,kg)){R.a=2;break r}if(!nu(R,E.width)||E.da)break r;if((E.da||Ct(R.ca.S))&&ha(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&ha()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!ee(R.s.vb,R.s.Wa.Xa)){R.a=1;break r}R.xb=0}if(!Ua(R,R.V,R.Ba,R.c,R.i,E.o,qo))break r;q.Dc=R.Ma,R=1;break t}t(R.a!=0),R=0}R=!R}R&&(x=m.a)}else x=m.a}else{if((m=new vb)==null){G=1;break e}if(m.Fa=q.na,m.P=q.P,m.qc=q.Sa,fg(m,R)){if((x=Go(R.width,R.height,G.Oa,G.ba))==0){if(m.Aa=0,E=G.Oa,t((q=m)!=null),E!=null){if(0<(Z=0>(Z=E.Md)?0:100<Z?255:255*Z/100)){for(te=de=0;4>te;++te)12>(we=q.pb[te]).lc&&(we.ia=Z*u9[0>we.lc?0:we.lc]>>3),de|=we.ia;de&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=E.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}(function(re,he){if(re==null)return 0;if(he==null)return sn(re,2,"NULL VP8Io parameter in VP8Decode().");if(!re.cb&&!fg(re,he))return 0;if(t(re.cb),he.ac==null||he.ac(he)){he.ob&&(re.L=0);var be=Tg[re.L];if(re.L==2?(re.yb=0,re.zb=0):(re.yb=he.v-be>>4,re.zb=he.j-be>>4,0>re.yb&&(re.yb=0),0>re.zb&&(re.zb=0)),re.Va=he.o+15+be>>4,re.Hb=he.va+15+be>>4,re.Hb>re.za&&(re.Hb=re.za),re.Va>re.Ub&&(re.Va=re.Ub),0<re.L){var Ae=re.ed;for(be=0;4>be;++be){var xe;if(re.Qa.Cb){var ke=re.Qa.Lb[be];re.Qa.Fb||(ke+=Ae.Tb)}else ke=Ae.Tb;for(xe=0;1>=xe;++xe){var Pe=re.gd[be][xe],ze=ke;if(Ae.Pc&&(ze+=Ae.vd[0],xe&&(ze+=Ae.od[0])),0<(ze=0>ze?0:63<ze?63:ze)){var Me=ze;0<Ae.wb&&(Me=4<Ae.wb?Me>>2:Me>>1)>9-Ae.wb&&(Me=9-Ae.wb),1>Me&&(Me=1),Pe.dd=Me,Pe.tc=2*ze+Me,Pe.ld=40<=ze?2:15<=ze?1:0}else Pe.tc=0;Pe.La=xe}}}be=0}else sn(re,6,"Frame setup failed"),be=re.a;if(be=be==0){if(be){re.$c=0,0<re.Aa||(re.Ic=c9);t:{be=re.Ic,Ae=4*(Me=re.za);var ft=32*Me,nt=Me+1,Dt=0<re.L?Me*(0<re.Aa?2:1):0,ot=(re.Aa==2?2:1)*Me;if((Pe=Ae+832+(xe=3*(16*be+Tg[re.L])/2*ft)+(ke=re.Fa!=null&&0<re.Fa.length?re.Kc.c*re.Kc.i:0))!=Pe)be=0;else{if(Pe>re.Vb){if(re.Vb=0,re.Ec=a(Pe),re.Fc=0,re.Ec==null){be=sn(re,1,"no memory during frame initialization.");break t}re.Vb=Pe}Pe=re.Ec,ze=re.Fc,re.Ac=Pe,re.Bc=ze,ze+=Ae,re.Gd=s(ft,ug),re.Hd=0,re.rb=s(nt+1,th),re.sb=1,re.wa=Dt?s(Dt,fa):null,re.Y=0,re.D.Nb=0,re.D.wa=re.wa,re.D.Y=re.Y,0<re.Aa&&(re.D.Y+=Me),t(!0),re.oc=Pe,re.pc=ze,ze+=832,re.ya=s(ot,rh),re.aa=0,re.D.ya=re.ya,re.D.aa=re.aa,re.Aa==2&&(re.D.aa+=Me),re.R=16*Me,re.B=8*Me,Me=(ft=Tg[re.L])*re.R,ft=ft/2*re.B,re.sa=Pe,re.ta=ze+Me,re.qa=re.sa,re.ra=re.ta+16*be*re.R+ft,re.Ha=re.qa,re.Ia=re.ra+8*be*re.B+ft,re.$c=0,ze+=xe,re.mb=ke?Pe:null,re.nb=ke?ze:null,t(ze+ke<=re.Fc+re.Vb),iu(re),i(re.Ac,re.Bc,0,Ae),be=1}}if(be){if(he.ka=0,he.y=re.sa,he.O=re.ta,he.f=re.qa,he.N=re.ra,he.ea=re.Ha,he.Vd=re.Ia,he.fa=re.R,he.Rc=re.B,he.F=null,he.J=0,!KA){for(be=-255;255>=be;++be)WA[255+be]=0>be?-be:be;for(be=-1020;1020>=be;++be)HA[1020+be]=-128>be?-128:127<be?127:be;for(be=-112;112>=be;++be)VA[112+be]=-16>be?-16:15<be?15:be;for(be=-255;510>=be;++be)GA[255+be]=0>be?0:255<be?255:be;KA=1}Qo=pg,_u=xb,ws=wb,ar=vs,hr=hg,ma=bb,Jr=yg,yn=vg,ro=N,wh=z,Bc=fu,Sg=bg,RA=ne,$A=le,MA=dh,DA=du,BA=mg,FA=gg,qa[0]=Eb,qa[1]=ih,qa[2]=Nb,qa[3]=kb,qa[4]=Ob,qa[5]=Js,qa[6]=Xs,qa[7]=Pb,qa[8]=Tc,qa[9]=Cb,el[0]=Ho,el[1]=Sb,el[2]=jb,el[3]=ah,el[4]=Ab,el[5]=ou,el[6]=sh,no[0]=Ic,no[1]=_b,no[2]=oh,no[3]=lu,no[4]=lh,no[5]=Tb,no[6]=uh,be=1}else be=0}be&&(be=function(Ht,vn){for(Ht.M=0;Ht.M<Ht.Va;++Ht.M){var Bt,lt=Ht.Jc[Ht.M&Ht.Xb],Ke=Ht.m,Zr=Ht;for(Bt=0;Bt<Zr.za;++Bt){var Mt=Ke,Gt=Zr,Nr=Gt.Ac,Dn=Gt.Bc+4*Bt,oi=Gt.zc,Wr=Gt.ya[Gt.aa+Bt];if(Gt.Qa.Bb?Wr.$b=ge(Mt,Gt.Pa.jb[0])?2+ge(Mt,Gt.Pa.jb[2]):ge(Mt,Gt.Pa.jb[1]):Wr.$b=0,Gt.kc&&(Wr.Ad=ge(Mt,Gt.Bd)),Wr.Za=!ge(Mt,145)+0,Wr.Za){var Kn=Wr.Ob,li=0;for(Gt=0;4>Gt;++Gt){var bn,Kt=oi[0+Gt];for(bn=0;4>bn;++bn){Kt=YD[Nr[Dn+bn]][Kt];for(var or=ZA[ge(Mt,Kt[0])];0<or;)or=ZA[2*or+ge(Mt,Kt[or])];Kt=-or,Nr[Dn+bn]=Kt}n(Kn,li,Nr,Dn,4),li+=4,oi[0+Gt]=Kt}}else Kt=ge(Mt,156)?ge(Mt,128)?1:3:ge(Mt,163)?2:0,Wr.Ob[0]=Kt,i(Nr,Dn,Kt,4),i(oi,0,Kt,4);Wr.Dd=ge(Mt,142)?ge(Mt,114)?ge(Mt,183)?1:3:2:0}if(Zr.m.Ka)return sn(Ht,7,"Premature end-of-partition0 encountered.");for(;Ht.ja<Ht.za;++Ht.ja){if(Zr=lt,Mt=(Ke=Ht).rb[Ke.sb-1],Nr=Ke.rb[Ke.sb+Ke.ja],Bt=Ke.ya[Ke.aa+Ke.ja],Dn=Ke.kc?Bt.Ad:0)Mt.la=Nr.la=0,Bt.Za||(Mt.Na=Nr.Na=0),Bt.Hc=0,Bt.Gc=0,Bt.ia=0;else{var Hr,lr;if(Mt=Nr,Nr=Zr,Dn=Ke.Pa.Xc,oi=Ke.ya[Ke.aa+Ke.ja],Wr=Ke.pb[oi.$b],Gt=oi.ad,Kn=0,li=Ke.rb[Ke.sb-1],Kt=bn=0,i(Gt,Kn,0,384),oi.Za)var Bn=0,Wa=Dn[3];else{or=a(16);var Qr=Mt.Na+li.Na;if(Qr=Sh(Nr,Dn[1],Qr,Wr.Eb,0,or,0),Mt.Na=li.Na=(0<Qr)+0,1<Qr)Qo(or,0,Gt,Kn);else{var xi=or[0]+3>>3;for(or=0;256>or;or+=16)Gt[Kn+or]=xi}Bn=1,Wa=Dn[0]}var pr=15&Mt.la,xn=15&li.la;for(or=0;4>or;++or){var Di=1&xn;for(xi=lr=0;4>xi;++xi)pr=pr>>1|(Di=(Qr=Sh(Nr,Wa,Qr=Di+(1&pr),Wr.Sc,Bn,Gt,Kn))>Bn)<<7,lr=lr<<2|(3<Qr?3:1<Qr?2:Gt[Kn+0]!=0),Kn+=16;pr>>=4,xn=xn>>1|Di<<7,bn=(bn<<8|lr)>>>0}for(Wa=pr,Bn=xn>>4,Hr=0;4>Hr;Hr+=2){for(lr=0,pr=Mt.la>>4+Hr,xn=li.la>>4+Hr,or=0;2>or;++or){for(Di=1&xn,xi=0;2>xi;++xi)Qr=Di+(1&pr),pr=pr>>1|(Di=0<(Qr=Sh(Nr,Dn[2],Qr,Wr.Qc,0,Gt,Kn)))<<3,lr=lr<<2|(3<Qr?3:1<Qr?2:Gt[Kn+0]!=0),Kn+=16;pr>>=2,xn=xn>>1|Di<<5}Kt|=lr<<4*Hr,Wa|=pr<<4<<Hr,Bn|=(240&xn)<<Hr}Mt.la=Wa,li.la=Bn,oi.Hc=bn,oi.Gc=Kt,oi.ia=43690&Kt?0:Wr.ia,Dn=!(bn|Kt)}if(0<Ke.L&&(Ke.wa[Ke.Y+Ke.ja]=Ke.gd[Bt.$b][Bt.Za],Ke.wa[Ke.Y+Ke.ja].La|=!Dn),Zr.Ka)return sn(Ht,7,"Premature end-of-file encountered.")}if(iu(Ht),Ke=vn,Zr=1,Bt=(lt=Ht).D,Mt=0<lt.L&&lt.M>=lt.zb&&lt.M<=lt.Va,lt.Aa==0)t:{if(Bt.M=lt.M,Bt.uc=Mt,pa(lt,Bt),Zr=1,Bt=(lr=lt.D).Nb,Mt=(Kt=Tg[lt.L])*lt.R,Nr=Kt/2*lt.B,or=16*Bt*lt.R,xi=8*Bt*lt.B,Dn=lt.sa,oi=lt.ta-Mt+or,Wr=lt.qa,Gt=lt.ra-Nr+xi,Kn=lt.Ha,li=lt.Ia-Nr+xi,xn=(pr=lr.M)==0,bn=pr>=lt.Va-1,lt.Aa==2&&pa(lt,lr),lr.uc)for(Di=(Qr=lt).D.M,t(Qr.D.uc),lr=Qr.yb;lr<Qr.Hb;++lr){Bn=lr,Wa=Di;var ui=(Bi=(Fn=Qr).D).Nb;Hr=Fn.R;var Bi=Bi.wa[Bi.Y+Bn],Fi=Fn.sa,wi=Fn.ta+16*ui*Hr+16*Bn,Ui=Bi.dd,vr=Bi.tc;if(vr!=0)if(t(3<=vr),Fn.L==1)0<Bn&&DA(Fi,wi,Hr,vr+4),Bi.La&&FA(Fi,wi,Hr,vr),0<Wa&&MA(Fi,wi,Hr,vr+4),Bi.La&&BA(Fi,wi,Hr,vr);else{var zi=Fn.B,Ha=Fn.qa,Su=Fn.ra+8*ui*zi+8*Bn,io=Fn.Ha,Fn=Fn.Ia+8*ui*zi+8*Bn;ui=Bi.ld,0<Bn&&(yn(Fi,wi,Hr,vr+4,Ui,ui),wh(Ha,Su,io,Fn,zi,vr+4,Ui,ui)),Bi.La&&(Sg(Fi,wi,Hr,vr,Ui,ui),$A(Ha,Su,io,Fn,zi,vr,Ui,ui)),0<Wa&&(Jr(Fi,wi,Hr,vr+4,Ui,ui),ro(Ha,Su,io,Fn,zi,vr+4,Ui,ui)),Bi.La&&(Bc(Fi,wi,Hr,vr,Ui,ui),RA(Ha,Su,io,Fn,zi,vr,Ui,ui))}}if(lt.ia&&alert("todo:DitherRow"),Ke.put!=null){if(lr=16*pr,pr=16*(pr+1),xn?(Ke.y=lt.sa,Ke.O=lt.ta+or,Ke.f=lt.qa,Ke.N=lt.ra+xi,Ke.ea=lt.Ha,Ke.W=lt.Ia+xi):(lr-=Kt,Ke.y=Dn,Ke.O=oi,Ke.f=Wr,Ke.N=Gt,Ke.ea=Kn,Ke.W=li),bn||(pr-=Kt),pr>Ke.o&&(pr=Ke.o),Ke.F=null,Ke.J=null,lt.Fa!=null&&0<lt.Fa.length&&lr<pr&&(Ke.J=on(lt,Ke,lr,pr-lr),Ke.F=lt.mb,Ke.F==null&&Ke.F.length==0)){Zr=sn(lt,3,"Could not decode alpha data.");break t}lr<Ke.j&&(Kt=Ke.j-lr,lr=Ke.j,t(!(1&Kt)),Ke.O+=lt.R*Kt,Ke.N+=lt.B*(Kt>>1),Ke.W+=lt.B*(Kt>>1),Ke.F!=null&&(Ke.J+=Ke.width*Kt)),lr<pr&&(Ke.O+=Ke.v,Ke.N+=Ke.v>>1,Ke.W+=Ke.v>>1,Ke.F!=null&&(Ke.J+=Ke.v),Ke.ka=lr-Ke.j,Ke.U=Ke.va-Ke.v,Ke.T=pr-lr,Zr=Ke.put(Ke))}Bt+1!=lt.Ic||bn||(n(lt.sa,lt.ta-Mt,Dn,oi+16*lt.R,Mt),n(lt.qa,lt.ra-Nr,Wr,Gt+8*lt.B,Nr),n(lt.Ha,lt.Ia-Nr,Kn,li+8*lt.B,Nr))}if(!Zr)return sn(Ht,6,"Output aborted.")}return 1}(re,he)),he.bc!=null&&he.bc(he),be&=1}return be?(re.cb=0,be):0})(m,R)||(x=m.a)}}else x=m.a}x==0&&G.Oa!=null&&G.Oa.fd&&(x=mh(G.ba))}G=x}W=G!=0?null:11>W?Y.f.RGBA.eb:Y.f.kb.y}else W=null;return W};var sN=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(I,F){for(var k="",P=0;P<4;P++)k+=String.fromCharCode(I[F++]);return k}function c(I,F){return I[F+0]|I[F+1]<<8}function f(I,F){return(I[F+0]|I[F+1]<<8|I[F+2]<<16)>>>0}function p(I,F){return(I[F+0]|I[F+1]<<8|I[F+2]<<16|I[F+3]<<24)>>>0}new l;var h=[0],y=[0],g=[],b=new l,v=e,w=function(I,F){var k={},P=0,M=!1,D=0,U=0;if(k.frames=[],!function(T,C){for(var K=0;K<4;K++)if(T[C+K]!="RIFF".charCodeAt(K))return!0;return!1}(I,F)){for(p(I,F+=4),F+=8;F<I.length;){var H=u(I,F),V=p(I,F+=4);F+=4;var B=V+(1&V);switch(H){case"VP8 ":case"VP8L":k.frames[P]===void 0&&(k.frames[P]={}),(ae=k.frames[P]).src_off=M?U:F-8,ae.src_size=D+V+8,P++,M&&(M=!1,D=0,U=0);break;case"VP8X":(ae=k.header={}).feature_flags=I[F];var J=F+4;ae.canvas_width=1+f(I,J),J+=3,ae.canvas_height=1+f(I,J),J+=3;break;case"ALPH":M=!0,D=B+8,U=F-8;break;case"ANIM":(ae=k.header).bgcolor=p(I,F),J=F+4,ae.loop_count=c(I,J),J+=2;break;case"ANMF":var $,ae;(ae=k.frames[P]={}).offset_x=2*f(I,F),F+=3,ae.offset_y=2*f(I,F),F+=3,ae.width=1+f(I,F),F+=3,ae.height=1+f(I,F),F+=3,ae.duration=f(I,F),F+=3,$=I[F++],ae.dispose=1&$,ae.blend=$>>1&1}H!="ANMF"&&(F+=B)}return k}}(v,0);w.response=v,w.rgbaoutput=!0,w.dataurl=!1;var _=w.header?w.header:null,A=w.frames?w.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],y=[_.canvas_width];for(var S=0;S<A.length&&A[S].blend!=0;S++);}var j=A[0],O=b.WebPDecodeRGBA(v,j.src_off,j.src_size,y,h);j.rgba=O,j.imgwidth=y[0],j.imgheight=h[0];for(var L=0;L<y[0]*h[0]*4;L++)g[L]=O[L];return this.width=y,this.height=h,this.data=g,this}(function(e){var t,r,n,i,a,s,o,l,u,c=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new l,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new s,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new s,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var f=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var C=T;Object.defineProperty(this,"pdf",{get:function(){return C}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(ye){K=!!ye}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(ye){Q=!!ye}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(ye){isNaN(ye)||(ie=ye)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(ye){isNaN(ye)||(ue=ye)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ye){var ee;typeof ye=="number"?ee=[ye,ye,ye,ye]:((ee=new Array(4))[0]=ye[0],ee[1]=ye.length>=2?ye[1]:ee[0],ee[2]=ye.length>=3?ye[2]:ee[0],ee[3]=ye.length>=4?ye[3]:ee[1]),u.margin=ee}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(ye){me=ye}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(ye){se=ye}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(ye){ge=ye}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ye){ye instanceof c&&(u=ye)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ye){u.path=ye}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(ye){Se=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var ee;ee=p(ye),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var ee=p(ye);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var pe=null,Fe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Fe},set:function(ye){pe=null,Fe=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var ee;if(this.ctx.font=ye,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var Ze=ee[1];ee[2];var Qe=ee[3],Xe=ee[4];ee[5];var fe=ee[6],Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Xe)[2];Xe=Math.floor(Ue==="px"?parseFloat(Xe)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(Xe)*this.pdf.getFontSize():parseFloat(Xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Xe);var Le=function($e){var qe,mt,vt=[],Je=$e.trim();if(Je==="")return M2;if(Je in xC)return[xC[Je]];for(;Je!=="";){switch(mt=null,qe=(Je=_C(Je)).charAt(0)){case'"':case"'":mt=ESe(Je.substring(1),qe);break;default:mt=OSe(Je)}if(mt===null||(vt.push(mt[0]),(Je=_C(mt[1]))!==""&&Je.charAt(0)!==","))return M2;Je=Je.replace(/^,/,"")}return vt}(fe);if(this.fontFaces){var _e=function($e,qe){if(pe===null){var mt=function(vt){var Je=[];return Object.keys(vt).forEach(function(yt){vt[yt].forEach(function(gt){var et=null;switch(gt){case"bold":et={family:yt,weight:"bold"};break;case"italic":et={family:yt,style:"italic"};break;case"bolditalic":et={family:yt,weight:"bold",style:"italic"};break;case"":case"normal":et={family:yt}}et!==null&&(et.ref={name:yt,style:gt},Je.push(et))})}),Je}($e.getFontList());pe=function(vt){for(var Je={},yt=0;yt<vt.length;++yt){var gt=$2(vt[yt]),et=gt.family,bt=gt.stretch,Ct=gt.style,Rr=gt.weight;Je[et]=Je[et]||{},Je[et][bt]=Je[et][bt]||{},Je[et][bt][Ct]=Je[et][bt][Ct]||{},Je[et][bt][Ct][Rr]=gt}return Je}(mt.concat(qe))}return pe}(this.pdf,this.fontFaces),Ce=Le.map(function($e){return{family:$e,stretch:"normal",weight:Qe,style:Ze}}),Re=function($e,qe,mt){for(var vt=(mt=mt||{}).defaultFontFamily||"times",Je=Object.assign({},kSe,mt.genericFontFamilies||{}),yt=null,gt=null,et=0;et<qe.length;++et)if(Je[(yt=$2(qe[et])).family]&&(yt.family=Je[yt.family]),$e.hasOwnProperty(yt.family)){gt=$e[yt.family];break}if(!(gt=gt||$e[vt]))throw new Error("Could not find a font-family for the rule '"+wC(yt)+"' and default family '"+vt+"'.");if(gt=function(bt,Ct){if(Ct[bt])return Ct[bt];var Rr=Y_[bt],$r=Rr<=Y_.normal?-1:1,Xt=bC(Ct,TD,Rr,$r);if(!Xt)throw new Error("Could not find a matching font-stretch value for "+bt);return Xt}(yt.stretch,gt),gt=function(bt,Ct){if(Ct[bt])return Ct[bt];for(var Rr=CD[bt],$r=0;$r<Rr.length;++$r)if(Ct[Rr[$r]])return Ct[Rr[$r]];throw new Error("Could not find a matching font-style for "+bt)}(yt.style,gt),!(gt=function(bt,Ct){if(Ct[bt])return Ct[bt];if(bt===400&&Ct[500])return Ct[500];if(bt===500&&Ct[400])return Ct[400];var Rr=NSe[bt],$r=bC(Ct,LD,Rr,bt<400?-1:1);if(!$r)throw new Error("Could not find a matching font-weight for value "+bt);return $r}(yt.weight,gt)))throw new Error("Failed to resolve a font for the rule '"+wC(yt)+"'.");return gt}(_e,Ce);this.pdf.setFont(Re.ref.name,Re.ref.style)}else{var Be="";(Qe==="bold"||parseInt(Qe,10)>=700||Ze==="bold")&&(Be="bold"),Ze==="italic"&&(Be+="italic"),Be.length===0&&(Be="normal");for(var ce="",je={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Te=0;Te<Le.length;Te++){if(this.pdf.internal.getFont(Le[Te],Be,{noFallback:!0,disableWarning:!0})!==void 0){ce=Le[Te];break}if(Be==="bolditalic"&&this.pdf.internal.getFont(Le[Te],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ce=Le[Te],Be="bold";else if(this.pdf.internal.getFont(Le[Te],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ce=Le[Te],Be="normal";break}}if(ce===""){for(var Oe=0;Oe<Le.length;Oe++)if(je[Le[Oe]]){ce=je[Le[Oe]];break}}ce=ce===""?"Times":ce,this.pdf.setFont(ce,Be)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};f.prototype.setLineDash=function(T){this.lineDash=T},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){A.call(this,"fill",!1)},f.prototype.stroke=function(){A.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(T,C){if(isNaN(T)||isNaN(C))throw mr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new s(T,C));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new s(T,C)},f.prototype.closePath=function(){var T=new s(0,0),C=0;for(C=this.path.length-1;C!==-1;C--)if(this.path[C].type==="begin"&&ur(this.path[C+1])==="object"&&typeof this.path[C+1].x=="number"){T=new s(this.path[C+1].x,this.path[C+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(T.x,T.y)},f.prototype.lineTo=function(T,C){if(isNaN(T)||isNaN(C))throw mr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new s(T,C));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new s(K.x,K.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},f.prototype.quadraticCurveTo=function(T,C,K,Q){if(isNaN(K)||isNaN(Q)||isNaN(T)||isNaN(C))throw mr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new s(K,Q)),ue=this.ctx.transform.applyToPoint(new s(T,C));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new s(ie.x,ie.y)},f.prototype.bezierCurveTo=function(T,C,K,Q,ie,ue){if(isNaN(ie)||isNaN(ue)||isNaN(T)||isNaN(C)||isNaN(K)||isNaN(Q))throw mr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new s(ie,ue)),se=this.ctx.transform.applyToPoint(new s(T,C)),ge=this.ctx.transform.applyToPoint(new s(K,Q));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:ge.x,y2:ge.y,x:me.x,y:me.y}),this.ctx.lastPoint=new s(me.x,me.y)},f.prototype.arc=function(T,C,K,Q,ie,ue){if(isNaN(T)||isNaN(C)||isNaN(K)||isNaN(Q)||isNaN(ie))throw mr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new s(T,C));T=me.x,C=me.y;var se=this.ctx.transform.applyToPoint(new s(0,K)),ge=this.ctx.transform.applyToPoint(new s(0,0));K=Math.sqrt(Math.pow(se.x-ge.x,2)+Math.pow(se.y-ge.y,2))}Math.abs(ie-Q)>=2*Math.PI&&(Q=0,ie=2*Math.PI),this.path.push({type:"arc",x:T,y:C,radius:K,startAngle:Q,endAngle:ie,counterclockwise:ue})},f.prototype.arcTo=function(T,C,K,Q,ie){throw new Error("arcTo not implemented.")},f.prototype.rect=function(T,C,K,Q){if(isNaN(T)||isNaN(C)||isNaN(K)||isNaN(Q))throw mr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,C),this.lineTo(T+K,C),this.lineTo(T+K,C+Q),this.lineTo(T,C+Q),this.lineTo(T,C),this.lineTo(T+K,C),this.lineTo(T,C)},f.prototype.fillRect=function(T,C,K,Q){if(isNaN(T)||isNaN(C)||isNaN(K)||isNaN(Q))throw mr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,C,K,Q),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},f.prototype.strokeRect=function(T,C,K,Q){if(isNaN(T)||isNaN(C)||isNaN(K)||isNaN(Q))throw mr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(T,C,K,Q),this.stroke())},f.prototype.clearRect=function(T,C,K,Q){if(isNaN(T)||isNaN(C)||isNaN(K)||isNaN(Q))throw mr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,C,K,Q))},f.prototype.save=function(T){T=typeof T!="boolean"||T;for(var C=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(C),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},f.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var C=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(C),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(T){var C,K,Q,ie;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))C=0,K=0,Q=0,ie=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(ue!==null)C=parseInt(ue[1]),K=parseInt(ue[2]),Q=parseInt(ue[3]),ie=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)C=parseInt(ue[1]),K=parseInt(ue[2]),Q=parseInt(ue[3]),ie=parseFloat(ue[4]);else{if(ie=1,typeof T=="string"&&T.charAt(0)!=="#"){var me=new jD(T);T=me.ok?me.toHex():"#000000"}T.length===4?(C=T.substring(1,2),C+=C,K=T.substring(2,3),K+=K,Q=T.substring(3,4),Q+=Q):(C=T.substring(1,3),K=T.substring(3,5),Q=T.substring(5,7)),C=parseInt(C,16),K=parseInt(K,16),Q=parseInt(Q,16)}}return{r:C,g:K,b:Q,a:ie,style:T}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(T,C,K,Q){if(isNaN(C)||isNaN(K)||typeof T!="string")throw mr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!h.call(this)){var ie=B(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;P.call(this,{text:T,x:C,y:K,scale:ue,angle:ie,align:this.textAlign,maxWidth:Q})}},f.prototype.strokeText=function(T,C,K,Q){if(isNaN(C)||isNaN(K)||typeof T!="string")throw mr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){Q=isNaN(Q)?void 0:Q;var ie=B(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;P.call(this,{text:T,x:C,y:K,scale:ue,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:Q})}},f.prototype.measureText=function(T){if(typeof T!="string")throw mr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var C=this.pdf,K=this.pdf.internal.scaleFactor,Q=C.internal.getFontSize(),ie=C.getStringUnitWidth(T)*Q/C.internal.scaleFactor;return new function(ue){var me=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this}({width:ie*=Math.round(96*K/72*1e4)/1e4})},f.prototype.scale=function(T,C){if(isNaN(T)||isNaN(C))throw mr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new l(T,0,0,C,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.rotate=function(T){if(isNaN(T))throw mr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var C=new l(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(C)},f.prototype.translate=function(T,C){if(isNaN(T)||isNaN(C))throw mr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new l(1,0,0,1,T,C);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.transform=function(T,C,K,Q,ie,ue){if(isNaN(T)||isNaN(C)||isNaN(K)||isNaN(Q)||isNaN(ie)||isNaN(ue))throw mr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new l(T,C,K,Q,ie,ue);this.ctx.transform=this.ctx.transform.multiply(me)},f.prototype.setTransform=function(T,C,K,Q,ie,ue){T=isNaN(T)?1:T,C=isNaN(C)?0:C,K=isNaN(K)?0:K,Q=isNaN(Q)?1:Q,ie=isNaN(ie)?0:ie,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(T,C,K,Q,ie,ue)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(T,C,K,Q,ie,ue,me,se,ge){var Se=this.pdf.getImageProperties(T),pe=1,Fe=1,ye=1,ee=1;Q!==void 0&&se!==void 0&&(ye=se/Q,ee=ge/ie,pe=Se.width/Q*se/Q,Fe=Se.height/ie*ge/ie),ue===void 0&&(ue=C,me=K,C=0,K=0),Q!==void 0&&se===void 0&&(se=Q,ge=ie),Q===void 0&&se===void 0&&(se=Se.width,ge=Se.height);for(var Ze,Qe=this.ctx.transform.decompose(),Xe=B(Qe.rotate.shx),fe=new l,Ue=(fe=(fe=(fe=fe.multiply(Qe.translate)).multiply(Qe.skew)).multiply(Qe.scale)).applyToRectangle(new o(ue-C*ye,me-K*ee,Q*pe,ie*Fe)),Le=b.call(this,Ue),_e=[],Ce=0;Ce<Le.length;Ce+=1)_e.indexOf(Le[Ce])===-1&&_e.push(Le[Ce]);if(_(_e),this.autoPaging)for(var Re=_e[0],Be=_e[_e.length-1],ce=Re;ce<Be+1;ce++){this.pdf.setPage(ce);var je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Te=ce===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$e=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=ce===1?0:Oe+(ce-2)*$e;if(this.ctx.clip_path.length!==0){var mt=this.path;Ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ze,this.posX+this.margin[3],-qe+Te+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=mt}var vt=JSON.parse(JSON.stringify(Ue));vt=w([vt],this.posX+this.margin[3],-qe+Te+this.ctx.prevPageLastElemOffset)[0];var Je=(ce>Re||ce<Be)&&g.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],je,$e,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,Xe),Je&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",Ue.x,Ue.y,Ue.w,Ue.h,null,null,Xe)};var b=function(T,C,K){var Q=[];C=C||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":Q.push(Math.floor((T.y+ie)/K)+1);break;case"arc":Q.push(Math.floor((T.y+ie-T.radius)/K)+1),Q.push(Math.floor((T.y+ie+T.radius)/K)+1);break;case"qct":var ue=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);Q.push(Math.floor((ue.y+ie)/K)+1),Q.push(Math.floor((ue.y+ue.h+ie)/K)+1);break;case"bct":var me=$(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);Q.push(Math.floor((me.y+ie)/K)+1),Q.push(Math.floor((me.y+me.h+ie)/K)+1);break;case"rect":Q.push(Math.floor((T.y+ie)/K)+1),Q.push(Math.floor((T.y+T.h+ie)/K)+1)}for(var se=0;se<Q.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<Q[se];)v.call(this);return Q},v=function(){var T=this.fillStyle,C=this.strokeStyle,K=this.font,Q=this.lineCap,ie=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=C,this.font=K,this.lineCap=Q,this.lineWidth=ie,this.lineJoin=ue},w=function(T,C,K){for(var Q=0;Q<T.length;Q++)switch(T[Q].type){case"bct":T[Q].x2+=C,T[Q].y2+=K;case"qct":T[Q].x1+=C,T[Q].y1+=K;default:T[Q].x+=C,T[Q].y+=K}return T},_=function(T){return T.sort(function(C,K){return C-K})},A=function(T,C){for(var K,Q,ie=this.fillStyle,ue=this.strokeStyle,me=this.lineCap,se=this.lineWidth,ge=Math.abs(se*this.ctx.transform.scaleX),Se=this.lineJoin,pe=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),ye=[],ee=0;ee<Fe.length;ee++)if(Fe[ee].x!==void 0)for(var Ze=b.call(this,Fe[ee]),Qe=0;Qe<Ze.length;Qe+=1)ye.indexOf(Ze[Qe])===-1&&ye.push(Ze[Qe]);for(var Xe=0;Xe<ye.length;Xe++)for(;this.pdf.internal.getNumberOfPages()<ye[Xe];)v.call(this);if(_(ye),this.autoPaging)for(var fe=ye[0],Ue=ye[ye.length-1],Le=fe;Le<Ue+1;Le++){this.pdf.setPage(Le),this.fillStyle=ie,this.strokeStyle=ue,this.lineCap=me,this.lineWidth=ge,this.lineJoin=Se;var _e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ce=Le===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ce=Le===1?0:Re+(Le-2)*Be;if(this.ctx.clip_path.length!==0){var je=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(K,this.posX+this.margin[3],-ce+Ce+this.ctx.prevPageLastElemOffset),S.call(this,T,!0),this.path=je}if(Q=JSON.parse(JSON.stringify(pe)),this.path=w(Q,this.posX+this.margin[3],-ce+Ce+this.ctx.prevPageLastElemOffset),C===!1||Le===0){var Te=(Le>fe||Le<Ue)&&g.call(this);Te&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,Be,null).clip().discardPath()),S.call(this,T,C),Te&&this.pdf.restoreGraphicsState()}this.lineWidth=se}else this.lineWidth=ge,S.call(this,T,C),this.lineWidth=se;this.path=pe},S=function(T,C){if((T!=="stroke"||C||!y.call(this))&&(T==="stroke"||C||!h.call(this))){for(var K,Q,ie=[],ue=this.path,me=0;me<ue.length;me++){var se=ue[me];switch(se.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:se,deltas:[],abs:[]});break;case"lt":var ge=ie.length;if(ue[me-1]&&!isNaN(ue[me-1].x)&&(K=[se.x-ue[me-1].x,se.y-ue[me-1].y],ge>0)){for(;ge>=0;ge--)if(ie[ge-1].close!==!0&&ie[ge-1].begin!==!0){ie[ge-1].deltas.push(K),ie[ge-1].abs.push(se);break}}break;case"bct":K=[se.x1-ue[me-1].x,se.y1-ue[me-1].y,se.x2-ue[me-1].x,se.y2-ue[me-1].y,se.x-ue[me-1].x,se.y-ue[me-1].y],ie[ie.length-1].deltas.push(K);break;case"qct":var Se=ue[me-1].x+2/3*(se.x1-ue[me-1].x),pe=ue[me-1].y+2/3*(se.y1-ue[me-1].y),Fe=se.x+2/3*(se.x1-se.x),ye=se.y+2/3*(se.y1-se.y),ee=se.x,Ze=se.y;K=[Se-ue[me-1].x,pe-ue[me-1].y,Fe-ue[me-1].x,ye-ue[me-1].y,ee-ue[me-1].x,Ze-ue[me-1].y],ie[ie.length-1].deltas.push(K);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(se)}}Q=C?null:T==="stroke"?"stroke":"fill";for(var Qe=!1,Xe=0;Xe<ie.length;Xe++)if(ie[Xe].arc)for(var fe=ie[Xe].abs,Ue=0;Ue<fe.length;Ue++){var Le=fe[Ue];Le.type==="arc"?L.call(this,Le.x,Le.y,Le.radius,Le.startAngle,Le.endAngle,Le.counterclockwise,void 0,C,!Qe):M.call(this,Le.x,Le.y),Qe=!0}else if(ie[Xe].close===!0)this.pdf.internal.out("h"),Qe=!1;else if(ie[Xe].begin!==!0){var _e=ie[Xe].start.x,Ce=ie[Xe].start.y;D.call(this,ie[Xe].deltas,_e,Ce),Qe=!0}Q&&I.call(this,Q),C&&F.call(this)}},j=function(T){var C=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=C*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-K;case"top":return T+C-K;case"hanging":return T+C-2*K;case"middle":return T+C/2-K;default:return T}},O=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(C,K){this.colorStops.push([C,K])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(T,C,K,Q,ie,ue,me,se,ge){for(var Se=H.call(this,K,Q,ie,ue),pe=0;pe<Se.length;pe++){var Fe=Se[pe];pe===0&&(ge?k.call(this,Fe.x1+T,Fe.y1+C):M.call(this,Fe.x1+T,Fe.y1+C)),U.call(this,T,C,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}se?F.call(this):I.call(this,me)},I=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(T,C){this.pdf.internal.out(r(T)+" "+n(C)+" m")},P=function(T){var C;switch(T.align){case"right":case"end":C="right";break;case"center":C="center";break;default:C="left"}var K=this.pdf.getTextDimensions(T.text),Q=j.call(this,T.y),ie=O.call(this,Q)-K.h,ue=this.ctx.transform.applyToPoint(new s(T.x,Q)),me=this.ctx.transform.decompose(),se=new l;se=(se=(se=se.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var ge,Se,pe,Fe=this.ctx.transform.applyToRectangle(new o(T.x,Q,K.w,K.h)),ye=se.applyToRectangle(new o(T.x,ie,K.w,K.h)),ee=b.call(this,ye),Ze=[],Qe=0;Qe<ee.length;Qe+=1)Ze.indexOf(ee[Qe])===-1&&Ze.push(ee[Qe]);if(_(Ze),this.autoPaging)for(var Xe=Ze[0],fe=Ze[Ze.length-1],Ue=Xe;Ue<fe+1;Ue++){this.pdf.setPage(Ue);var Le=Ue===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[2],Re=Ce-this.margin[0],Be=this.pdf.internal.pageSize.width-this.margin[1],ce=Be-this.margin[3],je=Ue===1?0:_e+(Ue-2)*Re;if(this.ctx.clip_path.length!==0){var Te=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ge,this.posX+this.margin[3],-1*je+Le),S.call(this,"fill",!0),this.path=Te}var Oe=w([JSON.parse(JSON.stringify(ye))],this.posX+this.margin[3],-je+Le+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*T.scale),pe=this.lineWidth,this.lineWidth=pe*T.scale);var $e=this.autoPaging!=="text";if($e||Oe.y+Oe.h<=Ce){if($e||Oe.y>=Le&&Oe.x<=Be){var qe=$e?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||Be-Oe.x)[0],mt=w([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-je+Le+this.ctx.prevPageLastElemOffset)[0],vt=$e&&(Ue>Xe||Ue<fe)&&g.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ce,Re,null).clip().discardPath()),this.pdf.text(qe,mt.x,mt.y,{angle:T.angle,align:C,renderingMode:T.renderingMode}),vt&&this.pdf.restoreGraphicsState()}}else Oe.y<Ce&&(this.ctx.prevPageLastElemOffset+=Ce-Oe.y);T.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=pe)}else T.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*T.scale),pe=this.lineWidth,this.lineWidth=pe*T.scale),this.pdf.text(T.text,ue.x+this.posX,ue.y+this.posY,{angle:T.angle,align:C,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=pe)},M=function(T,C,K,Q){K=K||0,Q=Q||0,this.pdf.internal.out(r(T+K)+" "+n(C+Q)+" l")},D=function(T,C,K){return this.pdf.lines(T,C,K,null,null)},U=function(T,C,K,Q,ie,ue,me,se){this.pdf.internal.out([t(i(K+T)),t(a(Q+C)),t(i(ie+T)),t(a(ue+C)),t(i(me+T)),t(a(se+C)),"c"].join(" "))},H=function(T,C,K,Q){for(var ie=2*Math.PI,ue=Math.PI/2;C>K;)C-=ie;var me=Math.abs(K-C);me<ie&&Q&&(me=ie-me);for(var se=[],ge=Q?-1:1,Se=C;me>1e-5;){var pe=Se+ge*Math.min(me,ue);se.push(V.call(this,T,Se,pe)),me-=Math.abs(pe-Se),Se=pe}return se},V=function(T,C,K){var Q=(K-C)/2,ie=T*Math.cos(Q),ue=T*Math.sin(Q),me=ie,se=-ue,ge=me*me+se*se,Se=ge+me*ie+se*ue,pe=4/3*(Math.sqrt(2*ge*Se)-Se)/(me*ue-se*ie),Fe=me-pe*se,ye=se+pe*me,ee=Fe,Ze=-ye,Qe=Q+C,Xe=Math.cos(Qe),fe=Math.sin(Qe);return{x1:T*Math.cos(C),y1:T*Math.sin(C),x2:Fe*Xe-ye*fe,y2:Fe*fe+ye*Xe,x3:ee*Xe-Ze*fe,y3:ee*fe+Ze*Xe,x4:T*Math.cos(K),y4:T*Math.sin(K)}},B=function(T){return 180*T/Math.PI},J=function(T,C,K,Q,ie,ue){var me=T+.5*(K-T),se=C+.5*(Q-C),ge=ie+.5*(K-ie),Se=ue+.5*(Q-ue),pe=Math.min(T,ie,me,ge),Fe=Math.max(T,ie,me,ge),ye=Math.min(C,ue,se,Se),ee=Math.max(C,ue,se,Se);return new o(pe,ye,Fe-pe,ee-ye)},$=function(T,C,K,Q,ie,ue,me,se){var ge,Se,pe,Fe,ye,ee,Ze,Qe,Xe,fe,Ue,Le,_e,Ce,Re=K-T,Be=Q-C,ce=ie-K,je=ue-Q,Te=me-ie,Oe=se-ue;for(Se=0;Se<41;Se++)Xe=(Ze=(pe=T+(ge=Se/40)*Re)+ge*((ye=K+ge*ce)-pe))+ge*(ye+ge*(ie+ge*Te-ye)-Ze),fe=(Qe=(Fe=C+ge*Be)+ge*((ee=Q+ge*je)-Fe))+ge*(ee+ge*(ue+ge*Oe-ee)-Qe),Se==0?(Ue=Xe,Le=fe,_e=Xe,Ce=fe):(Ue=Math.min(Ue,Xe),Le=Math.min(Le,fe),_e=Math.max(_e,Xe),Ce=Math.max(Ce,fe));return new o(Math.round(Ue),Math.round(Le),Math.round(_e-Ue),Math.round(Ce-Le))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,C,K=(T=this.ctx.lineDash,C=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:C}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(ht.API),function(e){var t=function(s){var o,l,u,c,f,p,h,y,g,b;for(l=[],u=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>u;u+=4)(f=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(p=(f=((f=((f=((f=(f-(b=f%85))/85)-(g=f%85))/85)-(y=f%85))/85)-(h=f%85))/85)%85,l.push(p+33,h+33,y+33,g+33,b+33)):l.push(122);return function(v,w){for(var _=w;_>0;_--)v.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,u,c,f,p=String,h="length",y=255,g="charCodeAt",b="slice",v="replace";for(s[b](-2),s=s[b](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),u=[],c=0,f=(s+=o="uuuuu"[b](s[h]%5||5))[h];f>c;c+=5)l=52200625*(s[g](c)-33)+614125*(s[g](c+1)-33)+7225*(s[g](c+2)-33)+85*(s[g](c+3)-33)+(s[g](c+4)-33),u.push(y&l>>24,y&l>>16,y&l>>8,y&l);return function(w,_){for(var A=_;A>0;A--)w.pop()}(u,o[h]),p.fromCharCode.apply(p,u)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=z_(o)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};e.processDataByFilters=function(s,o){var l=0,u=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(ht.API),function(e){e.loadFile=function(t,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,u,c){var f=new XMLHttpRequest,p=0,h=function(y){var g=y.length,b=[],v=String.fromCharCode;for(p=0;p<g;p+=1)b.push(v(255&y.charCodeAt(p)));return b.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?c(h(this.responseText)):c(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(i,a,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(ht.API),function(e){function t(){return(At.html2canvas?Promise.resolve(At.html2canvas):v2(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(At.DOMPurify?Promise.resolve(At.DOMPurify):v2(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=ur(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},a=function o(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||c.appendChild(o(f,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},s=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),u);return(c=c.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var y=c[h],g=y.src.find(function(b){return b.format==="truetype"});g&&u.addFont(g.url,y.ref.name,y.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(o=o||ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,u,c){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,u,c){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(c,f){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,c),p}).then(c,f).then(function(p){return u.updateProgress(1),p})})},s.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var c=this;o&&(o=o.bind(c)),l&&(l=l.bind(c));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:s.convert(Object.assign({},c),Promise.prototype),p=u.call(f,o,l);return s.convert(p,c.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ht.getPageSize=function(o,l,u){if(ur(o)==="object"){var c=o;o=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var y,g=0,b=0;if(h.hasOwnProperty(p))g=h[p][1]/f,b=h[p][0]/f;else try{g=u[1],b=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",b>g&&(y=b,b=g,g=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>b&&(y=b,b=g,g=y)}return{width:b,height:g,unit:l,k:f,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map($2):null;var u=new s(l);return l.worker?u:u.from(o).doCallback()}}(ht.API),ht.API.addJS=function(e){return jC=e,this.internal.events.subscribe("postPutResources",function(){$0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),SC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+jC+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){$0!==void 0&&SC!==void 0&&this.internal.out("/Names <</JavaScript "+$0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(a=0;a<u;a++){var f=r.internal.newObject();c.push(f);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<c.length;a++)r.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(ht.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,s,o){var l,u=this.decode.DCT_DECODE,c=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,g={width:0,height:0,numcomponents:1},b=4;b<y;b+=2){if(b+=h,t.indexOf(f.charCodeAt(b+1))!==-1){p=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),g={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:p,numcomponents:f.charCodeAt(b+9)};break}h=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return c}}(ht.API),ht.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=fSe(e,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,u=a.palette,c=a.depth;i=u&&l===1?function(L){for(var I=L.width,F=L.height,k=L.data,P=L.palette,M=L.depth,D=!1,U=[],H=[],V=void 0,B=!1,J=0,$=0;$<P.length;$++){var ae=E6(P[$],4),T=ae[0],C=ae[1],K=ae[2],Q=ae[3];U.push(T,C,K),Q!=null&&(Q===0?(J++,H.length<1&&H.push($)):Q<255&&(B=!0))}if(B||J>1){D=!0,H=void 0;var ie=I*F;V=new Uint8Array(ie);for(var ue=new DataView(k.buffer),me=0;me<ie;me++){var se=D2(ue,me,M),ge=E6(P[se],4)[3];V[me]=ge}}else J===0&&(H=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:D?8:void 0,colorBytes:k,alphaBytes:V,needSMask:D,palette:U,mask:H}}(a):l===2||l===4?function(L){for(var I=L.data,F=L.width,k=L.height,P=L.channels,M=L.depth,D=P===2?"DeviceGray":"DeviceRGB",U=P-1,H=F*k,V=U,B=H*V,J=1*H,$=Math.ceil(B*M/8),ae=Math.ceil(J*M/8),T=new Uint8Array($),C=new Uint8Array(ae),K=new DataView(I.buffer),Q=new DataView(T.buffer),ie=new DataView(C.buffer),ue=!1,me=0;me<H;me++){for(var se=me*P,ge=0;ge<V;ge++)LC(Q,D2(K,se+ge,M),me*V+ge,M);var Se=D2(K,se+V,M);Se<(1<<M)-1&&(ue=!0),LC(ie,Se,1*me,M)}return{colorSpace:D,colorsPerPixel:U,sMaskBitsPerComponent:ue?M:void 0,colorBytes:T,alphaBytes:C,needSMask:ue}}(a):function(L){var I=L.data,F=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?function(k){for(var P=k.length,M=new Uint8Array(2*P),D=new DataView(M.buffer,M.byteOffset,M.byteLength),U=0;U<P;U++)D.setUint16(2*U,k[U],!1);return M}(I):I,needSMask:!1}}(a);var f,p,h,y=i,g=y.colorSpace,b=y.colorsPerPixel,v=y.sMaskBitsPerComponent,w=y.colorBytes,_=y.alphaBytes,A=y.needSMask,S=y.palette,j=y.mask,O=null;return n!==ht.API.image_compression.NONE&&typeof z_=="function"?(O=function(L){var I;switch(L){case ht.API.image_compression.FAST:I=11;break;case ht.API.image_compression.MEDIUM:I=13;break;case ht.API.image_compression.SLOW:I=14;break;default:I=12}return I}(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(O," /Colors ").concat(b," /BitsPerComponent ").concat(c," /Columns ").concat(s),e=EC(w,Math.ceil(s*b*c/8),b,c,n),A&&(h=EC(_,Math.ceil(s*v/8),1,v,n))):(f=void 0,p=void 0,e=w,A&&(h=_)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:f,decodeParameters:p,transparency:j,palette:S,sMask:h,predictor:O,width:s,height:o,bitsPerComponent:c,sMaskBitsPerComponent:v,colorSpace:g}}},function(e){e.processGIF89A=function(t,r,n,i){var a=new LSe(t),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:o},c=new B2(100).encode(u,100);return e.processJPEG.call(this,c,r,n,i)},e.processGIF87A=e.processGIF89A}(ht.API),Ya.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ya.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){mr.log("bit decode error:"+r)}},Ya.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Ya.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Ya.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Ya.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,u=a>>15?255:0,c=n*this.width*4+4*i;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=s,this.data[c+3]=u}this.pos+=e}},Ya.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,u=(s>>11)/t*255|0,c=i*this.width*4+4*a;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=255}this.pos+=e}},Ya.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Ya.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},Ya.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new Ya(t,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new B2(100).encode(l,100);return e.processJPEG.call(this,u,r,n,i)}}(ht.API),RC.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new RC(t),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new B2(100).encode(l,100);return e.processJPEG.call(this,u,r,n,i)}}(ht.API),ht.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var c=n[u],f=n[u+1],p=n[u+2],h=n[u+3];a[o++]=c,a[o++]=f,a[o++]=p,s[l++]=h}var y=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ht.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ed=ht.API,M0=ed.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=t.doKerning!==!1,p=0,h=e.length,y=0,g=o[0]||l,b=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(p=f&&ur(u[n])==="object"&&!isNaN(parseInt(u[n][y],10))?u[n][y]/c:0,b.push((o[n]||g)/l+p)),y=n;return b},AC=ed.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return ed.processArabic&&(e=ed.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:M0.apply(this,arguments).reduce(function(a,s){return a+s},0)},NC=function(e,t,r,n){for(var i=[],a=0,s=e.length,o=0;a!==s&&o+t[a]<r;)o+=t[a],a++;i.push(e.slice(0,a));var l=a;for(o=0;a!==s;)o+t[a]>n&&(i.push(e.slice(l,a)),o=0,l=a),o+=t[a],a++;return l!==a&&i.push(e.slice(l,a)),i},kC=function(e,t,r){r||(r={});var n,i,a,s,o,l,u,c=[],f=[c],p=r.textIndent||0,h=0,y=0,g=e.split(" "),b=M0.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var v=Array(l).join(" "),w=[];g.map(function(A){(A=A.split(/\s*\n/)).length>1?w=w.concat(A.map(function(S,j){return(j&&S.length?`
`:"")+S})):w.push(A[0])}),g=w,l=AC.apply(this,[v,r])}for(a=0,s=g.length;a<s;a++){var _=0;if(n=g[a],l&&n[0]==`
`&&(n=n.substr(1),_=1),p+h+(y=(i=M0.apply(this,[n,r])).reduce(function(A,S){return A+S},0))>t||_){if(y>t){for(o=NC.apply(this,[n,i,t-(p+h),t]),c.push(o.shift()),c=[o.pop()];o.length;)f.push([o.shift()]);y=i.slice(n.length-(c[0]?c[0].length:0)).reduce(function(A,S){return A+S},0)}else c=[n];f.push(c),p=y+l,h=b}else c.push(n),p+=h+y,h=b}return u=l?function(A,S){return(S?v:"")+A.join(" ")}:function(A){return A.join(" ")},f.map(u)},ed.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var f=this.internal.getFont(c.fontName,c.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(kC.apply(this,[n[o],s,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=t[a],i[t[a]]=r[a];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var h,y,g,b,v=["{"];for(var w in p){if(h=p[w],isNaN(parseInt(w,10))?y="'"+w+"'":(w=parseInt(w,10),y=(y=s(w).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof h=="number")h<0?(g=s(h).slice(3),b="-"):(g=s(h).slice(2),b=""),g=b+g.slice(0,-1)+i[g.slice(-1)];else{if(ur(h)!=="object")throw new Error("Don't know what to do with value type "+ur(h)+".");g=o(h)}v.push(y+g)}return v.push("}"),v.join("")},l=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,y,g,b,v={},w=1,_=v,A=[],S="",j="",O=p.length-1,L=1;L<O;L+=1)(b=p[L])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(b):b=="{"?(A.push([_,g]),_={},g=void 0):b=="}"?((y=A.pop())[0][y[1]]=_,g=void 0,_=y[0]):b=="-"?w=-1:g===void 0?n.hasOwnProperty(b)?(S+=n[b],g=parseInt(S,16)*w,w=1,S=""):S+=b:n.hasOwnProperty(b)?(j+=n[b],_[g]=parseInt(j,16)*w,w=1,g=void 0,j=""):j+=b;return v},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var h=p.font,y=f.Unicode[h.postScriptName];y&&(h.metadata.Unicode={},h.metadata.Unicode.widths=y.widths,h.metadata.Unicode.kerning=y.kerning);var g=c.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(ht.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(ey(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(ht),ht.API.addSvgAsImage=function(e,t,r,n,i,a,s,o){if(isNaN(t)||isNaN(r))throw mr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw mr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(At.canvg?Promise.resolve(At.canvg):v2(()=>import("./index.es-Ctk_4Wdt.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,e,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(c)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),t,r,n,i,s,o)})},ht.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},ht.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],u=0,c=0,f=0;function p(y,g){var b,v=!1;for(b=0;b<y.length;b+=1)y[b]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=o.length;for(f=0;f<h;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(ur(e)==="object"){for(i in e)if(a=e[i],p(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&p(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(c=0;c<a[u].length;c+=1)typeof a[u][c]!="number"&&(n=!1);n===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,g=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?g.push("/"+y+" /"+r[y].value):g.push("/"+y+" "+r[y].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(ht.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],f=0,p=a.length;f<p;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(u[4-o.length],o)}return c.join("")},n=function(a){var s,o,l,u,c,f,p;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(a).sort(function(h,y){return h-y})).length;f<p;f++)s=o[f],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(u=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,c=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",y=0;y<p.length;y++)h+=String.fromCharCode(p[y]);var g=u();c({data:h,addLength1:!0,objectId:g}),l("endobj");var b=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var v=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ad(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+ad(o.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+ad(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,c=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var y=u();c({data:p,addLength1:!0,objectId:y}),l("endobj");var g=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var b=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+ad(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+ad(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,u=a.y,c=a.options||{},f=a.mutex||{},p=f.pdfEscape,h=f.activeFontKey,y=f.fonts,g=h,b="",v=0,w="",_=y[g].encoding;if(y[g].encoding!=="Identity-H")return{text:o,x:l,y:u,options:c,mutex:f};for(w=o,g=h,Array.isArray(o)&&(w=o[0]),v=0;v<w.length;v+=1)y[g].metadata.hasOwnProperty("cmap")&&(s=y[g].metadata.cmap.unicode.codeMap[w[v].charCodeAt(0)]),s||w[v].charCodeAt(0)<256&&y[g].metadata.hasOwnProperty("Unicode")?b+=w[v]:b+="";var A="";return parseInt(g.slice(1))<14||_==="WinAnsiEncoding"?A=p(b,g).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(A=r(b,y[g])),f.isHex=!0,{text:A,x:l,y:u,options:c,mutex:f}};t.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([i(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(i(Object.assign({},l,{text:s[u]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(ht),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ht.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,s,o,l,u,c,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,_=0;this.__bidiEngine__={};var A=function(k){var P=k.charCodeAt(),M=P>>8,D=g[M];return D!==void 0?f[256*D+(255&P)]:M===252||M===253?"AL":v.test(M)?"L":M===8?"R":"N"},S=function(k){for(var P,M=0;M<k.length;M++){if((P=A(k.charAt(M)))==="L")return!1;if(P==="R")return!0}return!1},j=function(k,P,M,D){var U,H,V,B,J=P[D];switch(J){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(J="AN");break;case"AL":w=!0,J="R";break;case"WS":case"BN":J="N";break;case"CS":D<1||D+1>=P.length||(U=M[D-1])!=="EN"&&U!=="AN"||(H=P[D+1])!=="EN"&&H!=="AN"?J="N":w&&(H="AN"),J=H===U?H:"N";break;case"ES":J=(U=D>0?M[D-1]:"B")==="EN"&&D+1<P.length&&P[D+1]==="EN"?"EN":"N";break;case"ET":if(D>0&&M[D-1]==="EN"){J="EN";break}if(w){J="N";break}for(V=D+1,B=P.length;V<B&&P[V]==="ET";)V++;J=V<B&&P[V]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(B=P.length,V=D+1;V<B&&P[V]==="NSM";)V++;if(V<B){var $=k[D],ae=$>=1425&&$<=2303||$===64286;if(U=P[V],ae&&(U==="R"||U==="AL")){J="R";break}}}J=D<1||(U=P[D-1])==="B"?"N":M[D-1];break;case"B":w=!1,i=!0,J=_;break;case"S":a=!0,J="N"}return J},O=function(k,P,M){var D=k.split("");return M&&L(D,M,{hiLevel:_}),D.reverse(),P&&P.reverse(),D.join("")},L=function(k,P,M){var D,U,H,V,B,J=-1,$=k.length,ae=0,T=[],C=_?h:p,K=[];for(w=!1,i=!1,a=!1,U=0;U<$;U++)K[U]=A(k[U]);for(H=0;H<$;H++){if(B=ae,T[H]=j(k,K,T,H),D=240&(ae=C[B][y[T[H]]]),ae&=15,P[H]=V=C[ae][5],D>0)if(D===16){for(U=J;U<H;U++)P[U]=1;J=-1}else J=-1;if(C[ae][6])J===-1&&(J=H);else if(J>-1){for(U=J;U<H;U++)P[U]=V;J=-1}K[H]==="B"&&(P[H]=0),M.hiLevel|=V}a&&function(Q,ie,ue){for(var me=0;me<ue;me++)if(Q[me]==="S"){ie[me]=_;for(var se=me-1;se>=0&&Q[se]==="WS";se--)ie[se]=_}}(K,P,$)},I=function(k,P,M,D,U){if(!(U.hiLevel<k)){if(k===1&&_===1&&!i)return P.reverse(),void(M&&M.reverse());for(var H,V,B,J,$=P.length,ae=0;ae<$;){if(D[ae]>=k){for(B=ae+1;B<$&&D[B]>=k;)B++;for(J=ae,V=B-1;J<V;J++,V--)H=P[J],P[J]=P[V],P[V]=H,M&&(H=M[J],M[J]=M[V],M[V]=H);ae=B}ae++}}},F=function(k,P,M){var D=k.split(""),U={hiLevel:_};return M||(M=[]),L(D,M,U),function(H,V,B){if(B.hiLevel!==0&&c)for(var J,$=0;$<H.length;$++)V[$]===1&&(J=b.indexOf(H[$]))>=0&&(H[$]=b[J+1])}(D,M,U),I(2,D,P,M,U),I(1,D,P,M,U),D.join("")};return this.__bidiEngine__.doBidiReorder=function(k,P,M){if(function(U,H){if(H)for(var V=0;V<U.length;V++)H[V]=V;o===void 0&&(o=S(U)),u===void 0&&(u=S(U))}(k,P),s||!l||u)if(s&&l&&o^u)_=o?1:0,k=O(k,P,M);else if(!s&&l&&u)_=o?1:0,k=F(k,P,M),k=O(k,P);else if(!s||o||l||u){if(s&&!l&&o^u)k=O(k,P),o?(_=0,k=F(k,P,M)):(_=1,k=F(k,P,M),k=O(k,P));else if(s&&o&&!l&&u)_=1,k=F(k,P,M),k=O(k,P);else if(!s&&!l&&o^u){var D=c;o?(_=1,k=F(k,P,M),_=0,c=!1,k=F(k,P,M),c=D):(_=0,k=F(k,P,M),k=O(k,P),_=1,c=!1,k=F(k,P,M),c=D,k=O(k,P))}}else _=0,k=F(k,P,M);else _=o?1:0,k=F(k,P,M);return k},this.__bidiEngine__.setOptions=function(k){k&&(s=k.isInputVisual,l=k.isOutputVisual,o=k.isInputRtl,u=k.isOutputRtl,c=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(ht),ht.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Ul(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new KSe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new ISe(this.contents),this.head=new $Se(this),this.name=new USe(this),this.cmap=new RD(this),this.toUnicode={},this.hhea=new MSe(this),this.maxp=new zSe(this),this.hmtx=new qSe(this),this.post=new BSe(this),this.os2=new DSe(this),this.loca=new GSe(this),this.glyf=new WSe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,u;for(u=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,s,o;for(s=0,a=0,o=(t=""+t).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ps,Ul=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),ISe=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,s,o,l,u,c,f,p,h,y,g;for(g in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),c=16*h-f,(i=new Ul).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(s),i.writeShort(c),a=16*h,u=i.pos+a,o=null,y=[],r)for(p=r[g],i.writeString(g),i.writeInt(e(p)),i.writeInt(u),i.writeInt(p.length),y=y.concat(p),g==="head"&&(o=u),u+=p.length;u%4;)y.push(0),u++;return i.write(y),n=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,s;for(r=$D.call(r);r.length%4;)r.push(0);for(a=new Ul(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),RSe={}.hasOwnProperty,Hs=function(e,t){for(var r in t)RSe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ps=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var $Se=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,ps),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Ul).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),$C=function(){function e(t,r){var n,i,a,s,o,l,u,c,f,p,h,y,g,b,v,w,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(h=t.readUInt16(),p=h/2,t.pos+=6,a=function(){var A,S;for(S=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)S.push(t.readUInt16());return S}(),t.pos+=2,g=function(){var A,S;for(S=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)S.push(t.readUInt16());return S}(),u=function(){var A,S;for(S=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)S.push(t.readUInt16());return S}(),c=function(){var A,S;for(S=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)S.push(t.readUInt16());return S}(),i=(this.length-t.pos+this.offset)/2,o=function(){var A,S;for(S=[],l=A=0;0<=i?A<i:A>i;l=0<=i?++A:--A)S.push(t.readUInt16());return S}(),l=v=0,_=a.length;v<_;l=++v)for(b=a[l],n=w=y=g[l];y<=b?w<=b:w>=b;n=y<=b?++w:--w)c[l]===0?s=n+u[l]:(s=o[c[l]/2+(n-y)-(p-l)]||0)!==0&&(s+=u[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,i,a,s,o,l,u,c,f,p,h,y,g,b,v,w,_,A,S,j,O,L,I,F,k,P,M,D,U,H,V,B,J,$,ae,T,C,K,Q,ie,ue,me,se,ge,Se,pe;switch(D=new Ul,s=Object.keys(t).sort(function(Fe,ye){return Fe-ye}),r){case"macroman":for(g=0,b=function(){var Fe=[];for(y=0;y<256;++y)Fe.push(0);return Fe}(),w={0:0},a={},U=0,J=s.length;U<J;U++)w[se=t[i=s[U]]]==null&&(w[se]=++g),a[i]={old:t[i],new:w[t[i]]},b[i]=w[t[i]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(b),{charMap:a,subtable:D.data,maxGlyphID:g+1};case"unicode":for(P=[],f=[],_=0,w={},n={},v=u=null,H=0,$=s.length;H<$;H++)w[S=t[i=s[H]]]==null&&(w[S]=++_),n[i]={old:S,new:w[S]},o=w[S]-i,v!=null&&o===u||(v&&f.push(v),P.push(i),u=o),v=i;for(v&&f.push(v),f.push(65535),P.push(65535),F=2*(I=P.length),L=2*Math.pow(Math.log(I)/Math.LN2,2),p=Math.log(L/2)/Math.LN2,O=2*I-L,l=[],j=[],h=[],y=V=0,ae=P.length;V<ae;y=++V){if(k=P[y],c=f[y],k===65535){l.push(0),j.push(0);break}if(k-(M=n[k].new)>=32768)for(l.push(0),j.push(2*(h.length+I-y)),i=B=k;k<=c?B<=c:B>=c;i=k<=c?++B:--B)h.push(n[i].new);else l.push(M-k),j.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*I+2*h.length),D.writeUInt16(0),D.writeUInt16(F),D.writeUInt16(L),D.writeUInt16(p),D.writeUInt16(O),ue=0,T=f.length;ue<T;ue++)i=f[ue],D.writeUInt16(i);for(D.writeUInt16(0),me=0,C=P.length;me<C;me++)i=P[me],D.writeUInt16(i);for(ge=0,K=l.length;ge<K;ge++)o=l[ge],D.writeUInt16(o);for(Se=0,Q=j.length;Se<Q;Se++)A=j[Se],D.writeUInt16(A);for(pe=0,ie=h.length;pe<ie;pe++)g=h[pe],D.writeUInt16(g);return{charMap:n,subtable:D.data,maxGlyphID:_+1}}},e}(),RD=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,ps),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new $C(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=$C.encode(t,r),(i=new Ul).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),MSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,ps),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),DSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,ps),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),BSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,ps),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(t.readUInt32());return l}).call(this)}},e}(),FSe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},USe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,ps),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,a,s,o,l,u,c,f,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(l={},a=c=0,f=n.length;c<f;a=++c)i=n[a],t.pos=i.offset,u=t.readString(i.length),s=new FSe(u,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),zSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,ps),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),qSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,ps),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,a,s,o,l;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)c.push(t.readInt16());return c}(),this.widths=(function(){var u,c,f,p;for(p=[],u=0,c=(f=this.metrics).length;u<c;u++)a=f[u],p.push(a.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)l.push(this.widths.push(n));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),$D=[].slice,WSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,ps),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,a,s,o,l,u,c,f;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,s=(o=new Ul(r.read(i))).readShort(),u=o.readShort(),f=o.readShort(),l=o.readShort(),c=o.readShort(),this.cache[t]=s===-1?new VSe(o,u,f,l,c):new HSe(o,s,u,f,l,c),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,a,s,o,l;for(s=[],a=[],o=0,l=r.length;o<l;o++)i=t[r[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},e}(),HSe=function(){function e(t,r,n,i,a,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),VSe=function(){function e(t,r,n,i,a){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Ul($D.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),GSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hs(e,ps),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var u=new Array(4*n.length),c=0;c<n.length;++c)u[4*c+3]=255&n[c],u[4*c+2]=(65280&n[c])>>8,u[4*c+1]=(16711680&n[c])>>16,u[4*c]=(4278190080&n[c])>>24;return u},e}(),KSe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,s,o,l;for(i={},s=0,o=t.length;s<o;s++)i[a=t[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,s,o,l,u,c,f,p,h,y,g,b,v;for(i in n=RD.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),h={0:0},v=n.charMap)h[(l=v[i]).old]=l.new;for(y in p=n.maxGlyphID,s)y in h||(h[y]=p++);return c=function(w){var _,A;for(_ in A={},w)A[w[_]]=_;return A}(h),f=Object.keys(c).sort(function(w,_){return w-_}),g=function(){var w,_,A;for(A=[],w=0,_=f.length;w<_;w++)o=f[w],A.push(c[o]);return A}(),a=this.font.glyf.encode(s,g,h),u=this.font.loca.encode(a.offsets,g),b={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e}();ht.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+r},t}();function YSe(e){const t=new ht;let r=20;const n=t.internal.pageSize.getWidth(),i=20,a=n-2*i,s=(l,u,c=!1,f="#000000")=>{t.setFontSize(u),t.setTextColor(f),c?t.setFont("helvetica","bold"):t.setFont("helvetica","normal"),t.splitTextToSize(l,a).forEach(h=>{r>t.internal.pageSize.getHeight()-30&&(t.addPage(),r=20),t.text(h,i,r),r+=u*.5}),r+=5};s("Simulation Debrief Report",18,!0),r+=5,s(`Case: ${e.caseTitle}`,12,!0),s(`Patient: ${e.patientName}`,10),r+=5,s("Performance Summary",14,!0,"#3b82f6"),r+=3,s(`Overall Score: ${e.score.overall}%`,12,!0),s(`Diagnosis Accuracy: ${e.score.accuracy}%`,10),s(`MCQ Score: ${e.score.mcqScore}%`,10),s(`Time Taken: ${e.timeTaken} minutes`,10),s(`Current Streak: ${e.currentStreak} days`,10),r+=5,e.score.sloResults&&e.score.sloResults.length>0&&(s("Learning Outcomes",14,!0,"#3b82f6"),r+=3,e.score.sloResults.forEach(l=>{const u=l.status==="Achieved"?"":"";s(`${u} ${l.sloId}: ${l.percent}%`,10),l.sloText&&s(`   ${l.sloText}`,9)}),r+=5),s("Diagnosis Review",14,!0,"#3b82f6"),r+=3,s(`Your Diagnosis: ${e.diagnosis.student}`,10),s(`Correct Diagnosis: ${e.diagnosis.correct}`,10,!0),e.diagnosis.potential&&e.diagnosis.potential.length>0&&(s("Other Potential Diagnoses:",10,!0),e.diagnosis.potential.forEach(l=>{s(`   ${l.dx}`,9)})),r+=5,e.stepwiseReasoning&&(s("Stepwise Reasoning",14,!0,"#3b82f6"),r+=3,s(e.stepwiseReasoning,9),r+=5),e.mcqResults&&e.mcqResults.length>0&&(s("MCQ Results",14,!0,"#3b82f6"),r+=3,e.mcqResults.forEach((l,u)=>{s(`${u+1}. ${l.question}`,10,!0),l.options.forEach((c,f)=>{let p="  ";f===l.correctIndex&&(p=" "),f===l.selectedIndex&&!l.correct&&(p=" "),s(`${p}${c}`,9)}),l.explanation&&s(`Explanation: ${l.explanation}`,9),r+=3}),r+=5),e.rubricResults&&e.rubricResults.length>0&&(s("Rubric Assessment",14,!0,"#3b82f6"),r+=3,e.rubricResults.forEach((l,u)=>{s(`${u+1}. ${l.criterion}`,10,!0),s(`   Points: ${l.pointsEarned} / ${l.maxPoints}`,9),l.percentage!==void 0&&s(`   Score: ${l.percentage}%`,9),l.feedback&&s(`   Feedback: ${l.feedback}`,9),r+=3}),r+=5),e.learningPearls&&e.learningPearls.length>0&&(s("Learning Pearls",14,!0,"#3b82f6"),r+=3,e.learningPearls.forEach(l=>{s(` ${l}`,9)}),r+=5),e.furtherReading&&e.furtherReading.length>0&&(s("Further Reading",14,!0,"#3b82f6"),r+=3,e.furtherReading.forEach(l=>{s(` ${l.title}`,9),l.url&&s(`  ${l.url}`,8)}));const o=t.getNumberOfPages();for(let l=1;l<=o;l++)t.setPage(l),t.setFontSize(8),t.setTextColor("#666666"),t.text(`Page ${l} of ${o} | Generated on ${new Date().toLocaleDateString()}`,i,t.internal.pageSize.getHeight()-10);return t}function XSe({user:e}){var Se,pe,Fe,ye,ee,Ze,Qe,Xe;const{runId:t}=f1(),r=ds(),n=Do(),[i,a]=X.useState(null),[s,o]=X.useState(!0),[l,u]=X.useState(null),[c,f]=X.useState("feedback"),[p,h]=X.useState(0),[y,g]=X.useState({}),[b,v]=X.useState(!1),[w,_]=X.useState([]),[A,S]=X.useState(new Map);X.useEffect(()=>{t&&(L(),O(),j())},[t]);const j=async()=>{try{const{data:fe}=await Ie.from("competencies").select("*");fe&&_(fe);const{data:Ue}=await Ie.from("slo").select("*").not("competency_id","is",null);if(Ue){const Le=new Map;Ue.forEach(_e=>{Le.set(_e.id,_e)}),S(Le)}}catch(fe){console.error("Error loading competency data:",fe)}};X.useEffect(()=>{if(i&&i.transcript){const Ue=i.transcript.postCaseMCQAnswers||{};g(Ue),v(Object.keys(Ue).length>0)}},[i]);const O=async()=>{try{const{data:fe}=await Ie.from("simulation_runs").select("submitted_at, created_at").eq("student_id",e.id).not("submitted_at","is",null).order("submitted_at",{ascending:!1});if(!fe||fe.length===0){h(0);return}let Ue=0;const Le=new Date;Le.setHours(0,0,0,0);let _e=new Date(Le);for(const Ce of fe){const Re=new Date(Ce.submitted_at||Ce.created_at);if(Re.setHours(0,0,0,0),Re.getTime()===_e.getTime())Ue++,_e.setDate(_e.getDate()-1);else if(Re.getTime()<_e.getTime())break}h(Ue)}catch(fe){console.error("Error calculating streak:",fe),h(0)}},L=async()=>{try{const{data:fe,error:Ue}=await Ie.from("simulation_runs").select("*").eq("id",t).single();if(Ue)throw Ue;if(a(fe),fe){const Le=fe.transcript,_e=(Le==null?void 0:Le.postCaseMCQAnswers)||{};g(_e),v(Object.keys(_e).length>0)}if(fe.assignment_id){const{data:Le}=await Ie.from("assignments").select("snapshot_id").eq("id",fe.assignment_id).single();if(Le){const{data:_e}=await Ie.from("case_snapshots").select("*").eq("id",Le.snapshot_id).single();u(_e)}}}catch(fe){console.error("Error loading debrief:",fe)}finally{o(!1)}};if(s)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});if(!i||!i.score)return d.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:d.jsx("p",{children:"Debrief data not available yet."})});const I=i.score,F=I.overall||0,k=I.sloResults||[],P=I.rubricResults||[],M=i.transcript,U=(((Se=l==null?void 0:l.clinical_case)==null?void 0:Se.mcqs)||[]).slice(-3).slice(0,3),H=(M==null?void 0:M.postCaseMCQAnswers)||{},V=U.length>0&&U.some(fe=>H[`post-case-${fe.id}`]!==void 0),B=I.postCaseMCQs||[],J=I.correctDiagnosis||((ye=(Fe=(pe=l==null?void 0:l.clinical_case)==null?void 0:pe.potentialDiagnoses)==null?void 0:Fe[0])==null?void 0:ye.dx)||"",$=I.studentDiagnosis||(M==null?void 0:M.diagnosis)||"",ae=I.diagnosisCorrect||!1,T=I.diagnosisScore||0,K=(()=>{if(!i.started_at||!i.submitted_at)return"N/A";const fe=new Date(i.started_at),Ue=new Date(i.submitted_at),Le=Math.floor((Ue.getTime()-fe.getTime())/6e4),_e=Math.floor((Ue.getTime()-fe.getTime())%6e4/1e3);return`${Le}m ${_e}s`})(),Q=I.stepwiseReasoning||I.aiComments||"Stepwise reasoning not available.",ie=((ee=l==null?void 0:l.clinical_case)==null?void 0:ee.learningPearls)||[],ue=((Ze=l==null?void 0:l.clinical_case)==null?void 0:Ze.furtherReading)||[],me=fe=>fe>=80?"text-green-600":fe>=60?"text-yellow-600":"text-red-600",se=fe=>fe>=80?"bg-green-100 text-green-800 border-green-200":fe>=60?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200",ge=()=>{var Be,ce,je,Te,Oe;if(!i||!l)return;const fe=((Be=l.clinical_case)==null?void 0:Be.title)||"Untitled Case",Ue=((je=(ce=l.clinical_case)==null?void 0:ce.patientProfile)==null?void 0:je.name)||"Patient";let Le=0;if(i.started_at&&i.submitted_at){const $e=new Date(i.started_at),qe=new Date(i.submitted_at);Le=Math.floor((qe.getTime()-$e.getTime())/6e4)}const _e=(B||[]).map(($e,qe)=>{const mt=U.find(yt=>yt.question===$e.question),vt=(mt==null?void 0:mt.answerIndex)??-1,Je=y[`post-case-${mt==null?void 0:mt.id}`]??-1;return{question:$e.question||`Question ${qe+1}`,options:$e.options||(mt==null?void 0:mt.options)||[],selectedIndex:Je,correctIndex:vt,correct:Je===vt,explanation:$e.explanation}}),Ce={caseTitle:fe,patientName:Ue,score:{overall:F,accuracy:T,mcqScore:_e.length>0?Math.round(_e.filter($e=>$e.correct).length/_e.length*100):0,sloResults:k.map($e=>({sloId:$e.sloId||"Unknown",sloText:$e.sloText,status:$e.status||"Not Achieved",percent:$e.percent||0}))},timeTaken:Le,currentStreak:p,stepwiseReasoning:Q,diagnosis:{student:$,correct:J,potential:((Te=l.clinical_case)==null?void 0:Te.potentialDiagnoses)||[]},mcqResults:_e,rubricResults:((Oe=i.score)==null?void 0:Oe.rubricResults)||[],learningPearls:ie,furtherReading:ue};YSe(Ce).save(`debrief-${fe.replace(/[^a-z0-9]/gi,"-").toLowerCase()}-${new Date().toISOString().split("T")[0]}.pdf`)};return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Simulation Debrief"}),((Qe=l==null?void 0:l.clinical_case)==null?void 0:Qe.title)&&d.jsx("p",{className:"text-gray-600",children:l.clinical_case.title})]}),d.jsxs("button",{onClick:()=>r("/results"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900",children:[d.jsx(Xp,{className:"w-4 h-4"}),"Back to Results"]})]}),d.jsx("div",{className:`mb-6 p-4 rounded-lg border-2 ${ae?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[ae?d.jsx(Na,{className:"w-6 h-6 text-green-600"}):d.jsx(go,{className:"w-6 h-6 text-red-600"}),d.jsxs("div",{children:[d.jsxs("div",{className:`font-semibold ${ae?"text-green-800":"text-red-800"}`,children:["Diagnosis ",ae?"Correct":"Incorrect"]}),!ae&&d.jsxs("div",{className:"text-sm text-red-700 mt-1",children:["The correct diagnosis was: ",J]})]})]})}),d.jsx(e5e,{accuracy:T,timeTaken:K,currentStreak:p}),d.jsx(Qwe,{activeTab:c,onTabChange:f}),d.jsxs("div",{className:"mt-6",children:[c==="feedback"&&d.jsxs("div",{children:[d.jsx(t5e,{reasoning:Q}),d.jsx(n5e,{pearls:ie}),d.jsx(i5e,{references:ue}),I.aiComments&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(os,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"AI-Generated Feedback"})]}),d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsx("div",{className:"text-gray-700",children:d.jsx(Aa,{content:I.aiComments})})})]}),F<80&&d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(m1,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Areas for Improvement"}),d.jsxs("ul",{className:"list-disc list-inside text-yellow-800 space-y-1",children:[k.filter(fe=>fe.status!=="Achieved").slice(0,3).map((fe,Ue)=>d.jsxs("li",{children:["Focus on improving ",fe.sloId||`SLO ${Ue+1}`," (currently"," ",fe.percent.toFixed(0),"%)"]},Ue)),d.jsx("li",{children:"Review the case materials and practice similar scenarios"}),d.jsx("li",{children:"Consider retaking this simulation to improve your score"})]})]})]})})]}),c==="review"&&d.jsxs("div",{children:[d.jsxs("div",{className:`bg-white rounded-lg shadow p-6 mb-6 border-2 ${se(F)}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Overall Performance"}),d.jsx(Rf,{className:`w-6 h-6 ${me(F)}`})]}),d.jsx("div",{className:"flex items-center justify-center mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:`text-6xl font-bold ${me(F)}`,children:[F.toFixed(0),"%"]}),d.jsx("div",{className:"text-gray-600 mt-2",children:"Overall Score"})]})}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:k.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"SLOs Assessed"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:k.filter(fe=>fe.status==="Achieved").length}),d.jsx("div",{className:"text-sm text-gray-600",children:"SLOs Achieved"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:K}),d.jsx("div",{className:"text-sm text-gray-600",children:"Time Taken"})]})]})]}),((Xe=l==null?void 0:l.clinical_case)==null?void 0:Xe.potentialDiagnoses)&&d.jsx(r5e,{potentialDiagnoses:l.clinical_case.potentialDiagnoses,studentDiagnosis:$,correctDiagnosis:J}),k.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ca,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"SLO (Specific Learning Outcomes) Breakdown"})]}),d.jsx("div",{className:"space-y-4",children:k.map((fe,Ue)=>d.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"font-medium text-gray-900",children:fe.sloId||`SLO ${Ue+1}`}),fe.sloText&&d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:fe.sloText})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[fe.status==="Achieved"?d.jsx(Na,{className:"w-5 h-5 text-green-600"}):d.jsx(go,{className:"w-5 h-5 text-red-600"}),d.jsxs("span",{className:`font-semibold ${me(fe.percent)}`,children:[fe.percent.toFixed(0),"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:`h-3 rounded-full transition-all ${fe.percent>=70?"bg-green-600":fe.percent>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(fe.percent,100)}%`}})}),fe.feedback&&d.jsxs("p",{className:"text-sm text-gray-600 mt-2 italic",children:['"',fe.feedback,'"']})]},Ue))})]}),P.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(sa,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Rubric Assessment"})]}),d.jsx("div",{className:"space-y-3",children:P.map((fe,Ue)=>d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"font-medium text-gray-900",children:fe.criterion}),d.jsxs("span",{className:"text-sm text-gray-600",children:[fe.pointsEarned," / ",fe.maxPoints," points"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${fe.pointsEarned/fe.maxPoints*100}%`}})}),fe.feedback&&d.jsx("p",{className:"text-sm text-gray-600 mt-2",children:fe.feedback})]},Ue))})]}),k.length>0&&w.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ca,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"CBDC Assessment"})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Your performance across CBDC competencies and their associated learning outcomes."}),(()=>{const fe=new Map;k.forEach(_e=>{const Ce=A.get(_e.sloId);if(Ce&&Ce.competency_id){const Re=w.find(Be=>Be.id===Ce.competency_id);Re&&(fe.has(Re.id)||fe.set(Re.id,{competency:Re,slos:[],averageScore:0}),fe.get(Re.id).slos.push({..._e,sloText:Ce.text,millerLevel:Ce.miller_level,bloomDomain:Ce.bloom_domain}))}}),fe.forEach(_e=>{if(_e.slos.length>0){const Ce=_e.slos.reduce((Re,Be)=>Re+Be.percent,0);_e.averageScore=Math.round(Ce/_e.slos.length)}});const Ue=Array.from(fe.values()).sort((_e,Ce)=>Ce.averageScore-_e.averageScore),Le=k.filter(_e=>{const Ce=A.get(_e.sloId);return!Ce||!Ce.competency_id});return d.jsxs("div",{className:"space-y-6",children:[Ue.map((_e,Ce)=>d.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:_e.competency.description}),d.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[d.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:_e.competency.domain}),_e.competency.level&&d.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded",children:_e.competency.level}),d.jsxs("span",{className:"text-xs text-gray-600",children:[_e.slos.length," SLO",_e.slos.length!==1?"s":""]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:`text-2xl font-bold ${me(_e.averageScore)}`,children:[_e.averageScore,"%"]}),d.jsx("div",{className:"text-xs text-gray-600",children:"Average"})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:d.jsx("div",{className:`h-3 rounded-full transition-all ${_e.averageScore>=70?"bg-green-600":_e.averageScore>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(_e.averageScore,100)}%`}})}),d.jsx("div",{className:"space-y-3 mt-4",children:_e.slos.map((Re,Be)=>d.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"font-medium text-gray-900 text-sm",children:Re.sloText||Re.sloId}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[Re.millerLevel&&d.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-100 text-green-800 rounded",children:Re.millerLevel}),Re.bloomDomain&&d.jsx("span",{className:"text-xs px-2 py-0.5 bg-orange-100 text-orange-800 rounded",children:Re.bloomDomain})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[Re.status==="Achieved"?d.jsx(Na,{className:"w-4 h-4 text-green-600"}):d.jsx(go,{className:"w-4 h-4 text-red-600"}),d.jsxs("span",{className:`text-sm font-semibold ${me(Re.percent)}`,children:[Re.percent,"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${Re.percent>=70?"bg-green-600":Re.percent>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(Re.percent,100)}%`}})}),Re.feedback&&d.jsxs("p",{className:"text-xs text-gray-600 mt-2 italic",children:['"',Re.feedback,'"']})]},Be))})]},Ce)),Le.length>0&&d.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[d.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Unassigned Learning Outcomes"}),d.jsx("div",{className:"space-y-3",children:Le.map((_e,Ce)=>d.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"font-medium text-gray-900 text-sm",children:_e.sloId}),d.jsxs("div",{className:"flex items-center gap-2",children:[_e.status==="Achieved"?d.jsx(Na,{className:"w-4 h-4 text-green-600"}):d.jsx(go,{className:"w-4 h-4 text-red-600"}),d.jsxs("span",{className:`text-sm font-semibold ${me(_e.percent)}`,children:[_e.percent,"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${_e.percent>=70?"bg-green-600":_e.percent>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(_e.percent,100)}%`}})})]},Ce))})]})]})})()]})]}),c==="questions"&&d.jsx("div",{children:U.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(sa,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"POST-CASE QUESTIONS"})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:b?"Review your answers and results below.":"Answer these questions based on the case you just completed."}),d.jsx("div",{className:"space-y-4",children:U.map((fe,Ue)=>{var je;const Le=`post-case-${fe.id}`,_e=y[Le],Ce=fe.answerIndex,Re=fe.options[Ce],Be=b||V,ce=B.find(Te=>Te.question===fe.question);return d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsx("div",{className:"flex items-start justify-between mb-3",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("p",{className:"font-medium text-gray-900 mb-2",children:[Ue+1,". ",fe.question]}),d.jsx("div",{className:"space-y-2 mt-3",children:(je=fe.options)==null?void 0:je.map((Te,Oe)=>{const $e=_e===Oe,qe=Oe===Ce;return d.jsx("button",{onClick:()=>{Be||g({...y,[Le]:Oe})},disabled:Be,className:`w-full text-left p-3 rounded-lg border-2 transition-all ${Be?qe?"bg-green-50 border-green-200":$e&&!qe?"bg-red-50 border-red-200":"bg-white border-gray-200":$e?"bg-primary-50 border-primary-300":"bg-white border-gray-200 hover:border-primary-300 hover:bg-gray-50"} ${Be?"cursor-default":"cursor-pointer"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:Te}),Be&&qe&&d.jsx(Na,{className:"w-5 h-5 text-green-600"}),Be&&$e&&!qe&&d.jsx(go,{className:"w-5 h-5 text-red-600"}),!Be&&$e&&d.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-primary-600 bg-primary-100"})]})},Oe)})})]})}),Be&&((ce==null?void 0:ce.explanation)||fe.explanation)&&d.jsxs("div",{className:"mt-3 pt-3 border-t",children:[d.jsx("div",{className:"font-medium text-gray-700 mb-1",children:"EXPLANATION"}),d.jsx("p",{className:"text-sm text-gray-600",children:(ce==null?void 0:ce.explanation)||`The correct answer is ${Re}. ${fe.explanation||""}`})]})]},Ue)})}),!b&&!V&&d.jsx("div",{className:"mt-6 pt-4 border-t",children:d.jsx("button",{onClick:async()=>{if(!U.every(Ue=>y[`post-case-${Ue.id}`]!==void 0)){n.warning("Please answer all questions before submitting.");return}if(t){const Ue={...M,postCaseMCQAnswers:y},{error:Le}=await Ie.from("simulation_runs").update({transcript:Ue}).eq("id",t);if(Le){n.error("Error saving answers: "+Le.message);return}try{const{error:_e}=await Ie.functions.invoke("score_simulation",{body:{runId:t}});_e?console.error("Error re-scoring:",_e):(await L(),v(!0))}catch(_e){console.error("Error calling score function:",_e)}}},disabled:U.some(fe=>y[`post-case-${fe.id}`]===void 0),className:"w-full px-4 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-all",children:"Submit Answers"})}),(b||V)&&d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-gray-600",children:["Score: ",U.filter(fe=>y[`post-case-${fe.id}`]===fe.answerIndex).length," / ",U.length]}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[U.length>0?(U.filter(fe=>y[`post-case-${fe.id}`]===fe.answerIndex).length/U.length*100).toFixed(0):0,"%"]})]})})]})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-6",children:[d.jsxs("button",{onClick:()=>r("/results"),className:"flex items-center justify-center gap-2 px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[d.jsx(Xp,{className:"w-4 h-4"}),"Back to Results"]}),d.jsxs("button",{onClick:ge,className:"flex items-center justify-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(Cd,{className:"w-4 h-4"}),"Download PDF Report"]})]})]}),d.jsx(Wn,{role:"student"}),d.jsx(Dl,{toasts:n.toasts,onClose:n.removeToast})]})}function JSe({user:e}){const t=ds(),[r,n]=X.useState([]),[i,a]=X.useState(!0);X.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:u,error:c}=await Ie.from("simulation_runs").select("*").eq("student_id",e.id).not("submitted_at","is",null).order("submitted_at",{ascending:!1});if(c)throw c;const f=await Promise.all((u||[]).map(async p=>{const{data:h}=await Ie.from("assignments").select("*").eq("id",p.assignment_id).single();let y=null;if(h){const{data:g}=await Ie.from("case_snapshots").select("*").eq("id",h.snapshot_id).single();y=g}return{...p,assignment:h,snapshot:y}}));n(f)}catch(u){console.error("Error loading results:",u)}finally{a(!1)}},o=u=>u>=80?"bg-green-100 text-green-800":u>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",l=(u,c)=>{const f=new Date(u),p=new Date(c);return`${Math.floor((p.getTime()-f.getTime())/6e4)} minutes`};return i?d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Results & History"}),d.jsx("p",{className:"text-gray-600",children:"View your past simulation attempts and performance"})]}),r.length>0&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Attempts"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.length>0?Math.round(r.reduce((u,c)=>{var p;const f=((p=c.score)==null?void 0:p.overall)||0;return u+f},0)/r.length):0,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:[r.length>0?Math.max(...r.map(u=>{var f;return((f=u.score)==null?void 0:f.overall)||0})):0,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]})]}),r.length===0?d.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[d.jsx(Rf,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 text-lg",children:"No completed simulations yet"}),d.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Complete a simulation to see your results here"})]}):d.jsx("div",{className:"space-y-4",children:r.map(u=>{var y,g,b,v,w,_,A;const c=((y=u.score)==null?void 0:y.overall)||0,f=((g=u.score)==null?void 0:g.sloResults)||[],p=((v=(b=u.snapshot)==null?void 0:b.clinical_case)==null?void 0:v.title)||"Untitled Station",h=((A=(_=(w=u.snapshot)==null?void 0:w.clinical_case)==null?void 0:_.patientProfile)==null?void 0:A.name)||"Patient";return d.jsx("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p}),d.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Patient: ",h]})]}),d.jsxs("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${o(c)}`,children:[c.toFixed(0),"%"]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm text-gray-600",children:[u.started_at&&u.submitted_at&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(vc,{className:"w-4 h-4"}),d.jsx("span",{children:l(u.started_at,u.submitted_at)})]}),u.submitted_at&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx($f,{className:"w-4 h-4"}),d.jsx("span",{children:new Date(u.submitted_at).toLocaleDateString()})]}),f.length>0&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(os,{className:"w-4 h-4"}),d.jsxs("span",{children:[f.filter(S=>S.status==="Achieved").length," /"," ",f.length," SLOs Achieved"]})]})]}),f.length>0&&d.jsxs("div",{className:"mt-4 space-y-2",children:[f.slice(0,3).map((S,j)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${S.percent>=70?"bg-green-600":"bg-yellow-600"}`,style:{width:`${S.percent}%`}})}),d.jsxs("span",{className:"text-xs text-gray-600 w-12 text-right",children:[S.percent,"%"]})]},j)),f.length>3&&d.jsxs("p",{className:"text-xs text-gray-500",children:["+",f.length-3," more SLOs"]})]})]}),d.jsx("div",{className:"flex gap-2",children:d.jsxs("button",{onClick:()=>t(`/debrief/${u.id}`),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:[d.jsx(v1,{className:"w-4 h-4"}),"View Details"]})})]})},u.id)})})]}),d.jsx(Wn,{role:"student"})]})}function ZSe({user:e}){const t=Do(),[r,n]=X.useState({totalAttempts:0,averageScore:0,bestScore:0,completedAssignments:0}),[i,a]=X.useState([]),[s,o]=X.useState([]),[l,u]=X.useState(!0),[c,f]=X.useState(!1),[p,h]=X.useState(!1),[y,g]=X.useState({totalTimeSpent:0,averageTimePerAttempt:0,improvementRate:0,slosAchieved:0,totalSlos:0,streak:0,lastActivity:null});X.useEffect(()=>{b(),v()},[]);const b=async()=>{try{const{data:S}=await Ie.from("simulation_runs").select("score, submitted_at, started_at, created_at").eq("student_id",e.id).not("submitted_at","is",null),j=S||[],O=j.map(ie=>{var ue;return((ue=ie.score)==null?void 0:ue.overall)||0}).filter(ie=>ie>0),L=j.length,I=O.length>0?O.reduce((ie,ue)=>ie+ue,0)/O.length:0,F=O.length>0?Math.max(...O):0,{data:k}=await Ie.from("cohort_members").select("cohort_id").eq("student_id",e.id);let P=0;if(k&&k.length>0){const ie=k.map(me=>me.cohort_id),{data:ue}=await Ie.from("assignments").select("id").in("cohort_id",ie);if(ue){const me=ue.map(ge=>ge.id),{data:se}=await Ie.from("simulation_runs").select("assignment_id").eq("student_id",e.id).not("submitted_at","is",null).in("assignment_id",me);P=new Set(se==null?void 0:se.map(ge=>ge.assignment_id)).size}}const{data:M}=await Ie.from("simulation_runs").select("started_at, submitted_at, score, created_at").eq("student_id",e.id).not("submitted_at","is",null),D=(M||[]).reduce((ie,ue)=>{if(ue.started_at&&ue.submitted_at){const me=new Date(ue.started_at),se=new Date(ue.submitted_at);return ie+Math.floor((se.getTime()-me.getTime())/6e4)}return ie},0),U=j.length>0?Math.round(D/j.length):0;let H=0,V=0;j.forEach(ie=>{var me;(((me=ie.score)==null?void 0:me.sloResults)||[]).forEach(se=>{V++,se.status==="Achieved"&&H++})});const B=O.slice(0,5),J=O.slice(5,10),$=B.length>0?B.reduce((ie,ue)=>ie+ue,0)/B.length:0,ae=J.length>0?J.reduce((ie,ue)=>ie+ue,0)/J.length:0,T=ae>0?($-ae)/ae*100:0,C=j[0],K=(C==null?void 0:C.submitted_at)||null;let Q=0;if(j.length>0){const ie=new Date;ie.setHours(0,0,0,0);let ue=new Date(ie);for(let me=0;me<j.length;me++){const se=j[me],ge=new Date(se.submitted_at||se.created_at||se.started_at);if(ge.setHours(0,0,0,0),ge.getTime()===ue.getTime())Q++,ue.setDate(ue.getDate()-1);else if(ge.getTime()<ue.getTime())break}}n({totalAttempts:L,averageScore:Math.round(I),bestScore:Math.round(F),completedAssignments:P}),g({totalTimeSpent:D,averageTimePerAttempt:U,improvementRate:Math.round(T*10)/10,slosAchieved:H,totalSlos:V,streak:Q,lastActivity:K})}catch(S){console.error("Error loading stats:",S)}finally{u(!1)}},v=async()=>{try{const{data:S}=await Ie.from("cohort_members").select("cohort_id, cohorts(id, name, description)").eq("student_id",e.id),j=(S||[]).map(F=>F.cohort_id),O=(S||[]).map(F=>F.cohorts).filter(Boolean);a(O);const{data:L}=await Ie.from("cohorts").select("id, name, description").order("name"),I=(L||[]).filter(F=>!j.includes(F.id));o(I)}catch(S){console.error("Error loading cohorts:",S)}},w=async S=>{f(!0);try{const{error:j}=await Ie.from("cohort_members").insert({cohort_id:S,student_id:e.id});if(j)throw j;await v()}catch(j){t.error("Error joining cohort: "+j.message)}finally{f(!1)}},_=async S=>{if(confirm("Are you sure you want to leave this cohort? You will lose access to its assignments.")){f(!0);try{const{error:j}=await Ie.from("cohort_members").delete().eq("cohort_id",S).eq("student_id",e.id);if(j)throw j;await v()}catch(j){t.error("Error leaving cohort: "+j.message)}finally{f(!1)}}},A=async()=>{await nj()};return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Profile"}),d.jsx("p",{className:"text-gray-600",children:"View your account information and performance statistics"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center",children:d.jsx(Is,{className:"w-10 h-10 text-primary-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.name}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(g8,{className:"w-4 h-4"}),d.jsx("span",{children:e.email})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx($f,{className:"w-4 h-4"}),d.jsxs("span",{children:["Member since ",new Date(e.created_at).toLocaleDateString()]})]})]})]}),d.jsx("div",{className:"border-t pt-4",children:d.jsx("div",{className:"flex items-center gap-2 text-sm",children:d.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full font-medium",children:"Student"})})})]}),!l&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(g1,{className:"w-5 h-5 text-primary-600"}),d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.totalAttempts})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Attempts"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(os,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.averageScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Rf,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[r.bestScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(mp,{className:"w-5 h-5 text-primary-600"}),d.jsx("div",{className:"text-2xl font-bold text-primary-600",children:r.completedAssignments})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(Ca,{className:"w-5 h-5 text-primary-600"}),"Performance Metrics"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Time Spent"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[y.totalTimeSpent," min"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Avg Time per Attempt"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[y.averageTimePerAttempt," min"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Improvement Rate"}),d.jsxs("span",{className:`font-semibold ${y.improvementRate>0?"text-green-600":y.improvementRate<0?"text-red-600":"text-gray-900"}`,children:[y.improvementRate>0?"+":"",y.improvementRate,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Current Streak"}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[y.streak," days"]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(mp,{className:"w-5 h-5 text-primary-600"}),"Learning Outcomes"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"SLOs Achieved"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[y.slosAchieved," / ",y.totalSlos]})]}),y.totalSlos>0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-primary-600 h-3 rounded-full transition-all",style:{width:`${y.slosAchieved/y.totalSlos*100}%`}})}),d.jsxs("div",{className:"text-sm text-gray-500",children:[(y.slosAchieved/y.totalSlos*100).toFixed(1),"% achievement rate"]})]}),y.lastActivity&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mt-4 pt-4 border-t",children:[d.jsx(vc,{className:"w-4 h-4"}),d.jsxs("span",{children:["Last activity: ",new Date(y.lastActivity).toLocaleDateString()]})]})]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(jo,{className:"w-5 h-5 text-primary-600"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Cohorts"})]}),d.jsxs("button",{onClick:()=>h(!p),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:[d.jsx(y8,{className:"w-4 h-4"}),"Manage"]})]}),i.length===0?d.jsx("p",{className:"text-gray-500 text-sm",children:"You are not in any cohorts yet."}):d.jsx("div",{className:"space-y-2",children:i.map(S=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:S.name}),S.description&&d.jsx("div",{className:"text-sm text-gray-500",children:S.description})]}),p&&d.jsx("button",{onClick:()=>_(S.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Leave cohort",children:d.jsx(Mf,{className:"w-4 h-4"})})]},S.id))}),p&&s.length>0&&d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Cohorts"}),d.jsx("div",{className:"space-y-2",children:s.map(S=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-md",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:S.name}),S.description&&d.jsx("div",{className:"text-sm text-gray-500",children:S.description})]}),d.jsxs("button",{onClick:()=>w(S.id),disabled:c,className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 transition-colors",children:[d.jsx(qm,{className:"w-4 h-4"}),"Join"]})]},S.id))})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Actions"}),d.jsx("div",{className:"space-y-2",children:d.jsxs("button",{onClick:A,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors font-medium",children:[d.jsx(m8,{className:"w-5 h-5"}),"Sign Out"]})})]})]}),d.jsx(Wn,{role:"student"})]})}function QSe({data:e}){return d.jsx(Ym,{width:"100%",height:300,children:d.jsxs(OA,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(ng,{strokeDasharray:"3 3"}),d.jsx(Zl,{dataKey:"date"}),d.jsx(Ql,{domain:[0,100]}),d.jsx(Si,{}),d.jsx($s,{}),d.jsx(Fl,{type:"monotone",dataKey:"score",stroke:"#3b82f6",strokeWidth:2,name:"Score (%)",dot:{fill:"#3b82f6",r:4}})]})})}function eje({user:e}){const[t,r]=X.useState(null),[n,i]=X.useState(!0),[a,s]=X.useState([]);X.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:u}=await Ie.from("cohort_members").select("cohort_id").eq("student_id",e.id),c=(u==null?void 0:u.map(T=>T.cohort_id))||[];let f=[];if(c.length>0){const{data:T}=await Ie.from("assignments").select("*").in("cohort_id",c);f=T||[]}const{data:p}=await Ie.from("simulation_runs").select("*, assignments!inner(snapshot_id, case_snapshots!inner(clinical_case))").eq("student_id",e.id).order("submitted_at",{ascending:!1}),h=(p||[]).filter(T=>T.submitted_at),y=(p||[]).filter(T=>!T.submitted_at),g=h.map(T=>{var C;return((C=T.score)==null?void 0:C.overall)||0}).filter(T=>T>0),b=g.length>0?g.reduce((T,C)=>T+C,0)/g.length:0,v=g.length>0?Math.max(...g):0,w=g.slice(0,3),_=g.slice(3,6),A=w.length>0?w.reduce((T,C)=>T+C,0)/w.length:0,S=_.length>0?_.reduce((T,C)=>T+C,0)/_.length:0,j=S>0?(A-S)/S*100:0,O=h.slice(0,10).map(T=>{var Q;const C=((Q=T.score)==null?void 0:Q.overall)||0,K=T.submitted_at||T.created_at;return{date:new Date(K).toLocaleDateString("en-US",{month:"short",day:"numeric"}),score:Math.round(C)}}).reverse();s(O);const L=new Map;h.forEach(T=>{var K;(((K=T.score)==null?void 0:K.sloResults)||[]).forEach(Q=>{const ie=Q.sloId||"unknown";L.has(ie)||L.set(ie,{achieved:0,total:0,text:Q.sloText});const ue=L.get(ie);ue.total++,Q.status==="Achieved"&&ue.achieved++})});const I=Array.from(L.entries()).map(([T,C])=>({sloId:T,sloText:C.text,achieved:C.achieved,total:C.total,percentage:C.total>0?C.achieved/C.total*100:0})).sort((T,C)=>C.percentage-T.percentage),F=h.reduce((T,C)=>{if(C.started_at&&C.submitted_at){const K=new Date(C.started_at),Q=new Date(C.submitted_at);return T+Math.floor((Q.getTime()-K.getTime())/6e4)}return T},0),k=h.slice(0,5).map(T=>{var C;return{date:T.submitted_at||T.created_at,action:"Completed simulation",score:((C=T.score)==null?void 0:C.overall)||0}}),P=new Set(h.map(T=>T.assignment_id)),M=new Set(y.map(T=>T.assignment_id)),D=f.filter(T=>P.has(T.id)).length,U=f.filter(T=>M.has(T.id)&&!P.has(T.id)).length,H=f.length-D-U,{data:V}=await Ie.from("competencies").select("id, domain, level, description"),{data:B}=await Ie.from("slo").select("id, competency_id, text"),J=new Map;B==null||B.forEach(T=>{T.competency_id&&J.set(T.id,T.competency_id)});const $=new Map;V==null||V.forEach(T=>{$.set(T.id,{competency:T.id,domain:T.domain,level:T.level||null,description:T.description,totalAttempts:0,achievedAttempts:0,assignments:[]})}),h.forEach(T=>{var ge,Se;if(!f.find(pe=>pe.id===T.assignment_id))return;const K=(ge=T.assignments)==null?void 0:ge.case_snapshots;if(!(K!=null&&K.clinical_case))return;const Q=K.clinical_case,ie=Q.sloMappings||[],ue=Q.title||"Untitled Assignment",me=((Se=T.score)==null?void 0:Se.sloResults)||[],se=new Set(me.filter(pe=>pe.status==="Achieved").map(pe=>pe.sloId));ie.forEach(pe=>{const Fe=J.get(pe);if(!Fe)return;const ye=$.get(Fe);ye&&(ye.totalAttempts++,se.has(pe)&&ye.achievedAttempts++,ye.assignments.includes(ue)||ye.assignments.push(ue))})});const ae=Array.from($.values()).filter(T=>T.totalAttempts>0).map(T=>({competency:T.competency,domain:T.domain,level:T.level,description:T.description,progress:T.totalAttempts>0?Math.round(T.achievedAttempts/T.totalAttempts*100):0,totalAttempts:T.totalAttempts,achievedAttempts:T.achievedAttempts,assignments:T.assignments})).sort((T,C)=>C.progress-T.progress);r({totalAssignments:f.length,completedAssignments:D,pendingAssignments:H,inProgressAssignments:U,totalAttempts:(p==null?void 0:p.length)||0,averageScore:Math.round(b),bestScore:Math.round(v),improvementTrend:Math.round(j*10)/10,sloProgress:I,recentActivity:k,timeSpent:F,competencyProgress:ae})}catch(u){console.error("Error loading analytics:",u)}finally{i(!1)}};if(n)return d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});if(!t)return d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 p-4",children:d.jsx("p",{children:"Unable to load analytics data."})});const l=t.totalAssignments>0?t.completedAssignments/t.totalAssignments*100:0;return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Analytics"}),d.jsx("p",{className:"text-gray-600",children:"Track your progress and performance"})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(mp,{className:"w-5 h-5 text-primary-600"}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[l.toFixed(0),"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Completion Rate"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(os,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[t.averageScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Rf,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[t.bestScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(vc,{className:"w-5 h-5 text-blue-600"}),d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.timeSpent})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Minutes Practiced"})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ca,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Progress Overview"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Completed"}),d.jsxs("span",{className:"text-sm font-semibold",children:[t.completedAssignments,"/",t.totalAssignments]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-green-600 h-3 rounded-full transition-all",style:{width:`${l}%`}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"In Progress"}),d.jsx("span",{className:"text-sm font-semibold",children:t.inProgressAssignments})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-yellow-600 h-3 rounded-full transition-all",style:{width:`${t.totalAssignments>0?t.inProgressAssignments/t.totalAssignments*100:0}%`}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Pending"}),d.jsx("span",{className:"text-sm font-semibold",children:t.pendingAssignments})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-gray-400 h-3 rounded-full transition-all",style:{width:`${t.totalAssignments>0?t.pendingAssignments/t.totalAssignments*100:0}%`}})})]})]})]}),a.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(os,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Score Trend (Last 10 Attempts)"})]}),d.jsx(QSe,{data:a})]}),t.improvementTrend!==0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(os,{className:`w-5 h-5 ${t.improvementTrend>0?"text-green-600":"text-red-600"}`}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Performance Trend"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:`text-3xl font-bold ${t.improvementTrend>0?"text-green-600":"text-red-600"}`,children:[t.improvementTrend>0?"+":"",t.improvementTrend.toFixed(1),"%"]}),d.jsxs("div",{className:"text-gray-600",children:[t.improvementTrend>0?"Improving":"Declining"," compared to previous attempts"]})]})]}),t.sloProgress.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(mp,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"SLO Achievement"})]}),d.jsx("div",{className:"space-y-4",children:t.sloProgress.slice(0,5).map((u,c)=>d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:u.sloId}),u.sloText&&d.jsx("div",{className:"text-sm text-gray-600",children:u.sloText})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[u.percentage>=70?d.jsx(Na,{className:"w-5 h-5 text-green-600"}):d.jsx(go,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("span",{className:"font-semibold",children:[u.percentage.toFixed(0),"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${u.percentage>=70?"bg-green-600":"bg-yellow-600"}`,style:{width:`${u.percentage}%`}})}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Achieved ",u.achieved," out of ",u.total," attempts"]})]},c))})]}),t.recentActivity.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(AW,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"})]}),d.jsx("div",{className:"space-y-3",children:t.recentActivity.map((u,c)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx($f,{className:"w-4 h-4 text-gray-400"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:u.action}),d.jsx("div",{className:"text-sm text-gray-500",children:new Date(u.date).toLocaleDateString()})]})]}),u.score!==void 0&&d.jsxs("div",{className:"font-semibold text-primary-600",children:[u.score.toFixed(0),"%"]})]},c))})]}),t.competencyProgress.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(mp,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Competency Progress"})]}),d.jsx("div",{className:"space-y-4",children:t.competencyProgress.slice(0,8).map((u,c)=>d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:u.competency}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:u.description}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:u.domain}),u.level&&d.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded",children:u.level})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[u.progress>=70?d.jsx(Na,{className:"w-5 h-5 text-green-600"}):u.progress>=50?d.jsx(go,{className:"w-5 h-5 text-yellow-600"}):d.jsx(go,{className:"w-5 h-5 text-red-600"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[u.progress,"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${u.progress>=70?"bg-green-600":u.progress>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${u.progress}%`}})}),d.jsxs("div",{className:"text-xs text-gray-500",children:["Achieved ",u.achievedAttempts," out of ",u.totalAttempts," attempts",u.assignments.length>0&&d.jsxs("span",{className:"ml-2",children:[" ",u.assignments.length," assignment",u.assignments.length!==1?"s":""]})]})]},c))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Assignment Status"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Assignments"}),d.jsx("span",{className:"font-semibold",children:t.totalAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Completed"}),d.jsx("span",{className:"font-semibold text-green-600",children:t.completedAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"In Progress"}),d.jsx("span",{className:"font-semibold text-yellow-600",children:t.inProgressAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Pending"}),d.jsx("span",{className:"font-semibold text-gray-600",children:t.pendingAssignments})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Stats"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Attempts"}),d.jsx("span",{className:"font-semibold",children:t.totalAttempts})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Average Score"}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[t.averageScore,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Best Score"}),d.jsxs("span",{className:"font-semibold text-yellow-600",children:[t.bestScore,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Time Practiced"}),d.jsxs("span",{className:"font-semibold text-blue-600",children:[t.timeSpent," min"]})]})]})]})]})]}),d.jsx(Wn,{role:"student"})]})}function MD({data:e}){return!e||e.length===0?d.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:d.jsx("p",{children:"No performance data available"})}):d.jsx(Ym,{width:"100%",height:300,children:d.jsxs(OA,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(ng,{strokeDasharray:"3 3"}),d.jsx(Zl,{dataKey:"date",angle:-45,textAnchor:"end",height:80}),d.jsx(Ql,{domain:[0,100]}),d.jsx(Si,{formatter:t=>[`${t.toFixed(1)}%`,"Average Score"],labelFormatter:t=>`Date: ${t}`}),d.jsx($s,{}),d.jsx(Fl,{type:"monotone",dataKey:"averageScore",stroke:"#3b82f6",strokeWidth:2,name:"Average Score",dot:{fill:"#3b82f6",r:4},activeDot:{r:6}})]})})}function DD({entries:e,maxDisplay:t=20}){if(!e||e.length===0)return d.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:d.jsx("p",{children:"No student performance data available"})});const r=e.slice(0,t),n=a=>a===1?d.jsx(FW,{className:"w-6 h-6 text-yellow-500"}):a===2?d.jsx(TW,{className:"w-6 h-6 text-gray-400"}):a===3?d.jsx(Rf,{className:"w-6 h-6 text-amber-600"}):d.jsx("div",{className:"w-6 h-6 flex items-center justify-center text-gray-500 font-bold",children:a}),i=a=>a===1?"bg-yellow-50 border-yellow-200":a===2?"bg-gray-50 border-gray-200":a===3?"bg-amber-50 border-amber-200":"bg-white border-gray-200";return d.jsxs("div",{className:"space-y-2",children:[r.map((a,s)=>{const o=s+1;return d.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border-2 ${i(o)} transition-all hover:shadow-md`,children:[d.jsx("div",{className:"flex-shrink-0",children:n(o)}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold text-gray-900 truncate",children:a.name}),d.jsx("div",{className:"text-sm text-gray-600 truncate",children:a.email})]}),d.jsxs("div",{className:"flex items-center gap-6 flex-shrink-0",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-gray-500",children:"Avg Score"}),d.jsxs("div",{className:"text-lg font-bold text-primary-600",children:[a.averageScore.toFixed(1),"%"]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-gray-500",children:"Attempts"}),d.jsx("div",{className:"text-lg font-semibold text-gray-700",children:a.totalAttempts})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-gray-500",children:"Best"}),d.jsxs("div",{className:"text-lg font-semibold text-green-600",children:[a.bestScore.toFixed(1),"%"]})]})]})]},a.id)}),e.length>t&&d.jsxs("div",{className:"text-center text-sm text-gray-500 pt-2",children:["Showing top ",t," of ",e.length," students"]})]})}function tje({user:e}){const t=Do(),[r,n]=X.useState({totalFaculty:0,totalStudents:0,activeStations:0,coverage:0}),[i,a]=X.useState(!0),[s,o]=X.useState([]),[l,u]=X.useState([]),[c,f]=X.useState(!0);X.useEffect(()=>{h(),y()},[]);const p=async()=>{try{const{data:g}=await Ie.from("users").select("id, name, email, role, created_at"),{data:b}=await Ie.from("stations").select("id, title, created_at"),{data:v}=await Ie.from("case_snapshots").select("id, approved_at"),{data:w}=await Ie.from("assignments").select("id, created_at"),{data:_}=await Ie.from("simulation_runs").select("id, score, submitted_at").not("submitted_at","is",null),{data:A}=await Ie.from("competencies").select("id, domain, level"),S=(g==null?void 0:g.filter(D=>D.role==="faculty").length)||0,j=(g==null?void 0:g.filter(D=>D.role==="student").length)||0,O=(_==null?void 0:_.filter(D=>D.submitted_at))||[],L=O.map(D=>{var U;return((U=D.score)==null?void 0:U.overall)||0}).filter(D=>D>0),I=L.length>0?L.reduce((D,U)=>D+U,0)/L.length:0,F={generatedAt:new Date().toISOString(),summary:{totalUsers:(g==null?void 0:g.length)||0,totalFaculty:S,totalStudents:j,totalStations:(b==null?void 0:b.length)||0,totalSnapshots:(v==null?void 0:v.length)||0,totalAssignments:(w==null?void 0:w.length)||0,totalCompletions:O.length,averageScore:Math.round(I),totalCompetencies:(A==null?void 0:A.length)||0},userBreakdown:{faculty:g==null?void 0:g.filter(D=>D.role==="faculty").map(D=>({name:D.name,email:D.email,joined:D.created_at})),students:g==null?void 0:g.filter(D=>D.role==="student").map(D=>({name:D.name,email:D.email,joined:D.created_at}))},performance:{totalAttempts:O.length,averageScore:Math.round(I),completionRate:w&&w.length>0?Math.round(O.length/w.length*100):0}},k=new Blob([JSON.stringify(F,null,2)],{type:"application/json"}),P=URL.createObjectURL(k),M=document.createElement("a");M.href=P,M.download=`system-report-${new Date().toISOString().split("T")[0]}.json`,M.click(),t.success("Report exported successfully!")}catch(g){t.error("Error exporting report: "+(g.message||"Unknown error")),console.error("Error exporting report:",g)}},h=async()=>{try{const{data:g}=await Ie.from("users").select("role"),b=(g==null?void 0:g.filter(k=>k.role==="faculty").length)||0,v=(g==null?void 0:g.filter(k=>k.role==="student").length)||0,{data:w}=await Ie.from("stations").select("id"),{data:_}=await Ie.from("competencies").select("id"),{data:A}=await Ie.from("slo").select("id, competency_id"),S=new Map;A==null||A.forEach(k=>{k.competency_id&&S.set(k.id,k.competency_id)});const{data:j}=await Ie.from("case_snapshots").select("clinical_case"),O=new Set;j==null||j.forEach(k=>{var M;(((M=k.clinical_case)==null?void 0:M.sloMappings)||[]).forEach(D=>{const U=S.get(D);U&&O.add(U)})});const L=(_==null?void 0:_.length)||0,I=O.size,F=L>0?Math.round(I/L*100):0;n({totalFaculty:b,totalStudents:v,activeStations:(w==null?void 0:w.length)||0,coverage:F})}catch(g){console.error("Error loading stats:",g)}finally{a(!1)}},y=async()=>{try{f(!0);const{data:g,error:b}=await Ie.from("simulation_runs").select("id, score, submitted_at, student_id").not("submitted_at","is",null).order("submitted_at",{ascending:!1}).limit(1e3);if(b)throw b;const v=new Map;g==null||g.forEach(j=>{var F,k;const O=(F=j.submitted_at)==null?void 0:F.split("T")[0];if(!O)return;const L=(k=j.score)==null?void 0:k.overall;if(!L||L<=0)return;v.has(O)||v.set(O,{scores:[],students:new Set});const I=v.get(O);I.scores.push(L),I.students.add(j.student_id)});const w=Array.from(v.entries()).map(([j,O])=>({dateKey:j,date:new Date(j).toLocaleDateString("en-US",{month:"short",day:"numeric"}),averageScore:O.scores.reduce((L,I)=>L+I,0)/O.scores.length,totalStudents:O.students.size})).sort((j,O)=>j.dateKey.localeCompare(O.dateKey)).slice(-30).map(({dateKey:j,...O})=>O);o(w);const _=new Map;g==null||g.forEach(j=>{var L;const O=(L=j.score)==null?void 0:L.overall;!O||O<=0||(_.has(j.student_id)||_.set(j.student_id,{scores:[],name:"",email:""}),_.get(j.student_id).scores.push(O))});const A=Array.from(_.keys());if(A.length>0){const{data:j}=await Ie.from("users").select("id, name, email").eq("role","student").in("id",A);j==null||j.forEach(O=>{const L=_.get(O.id);L&&(L.name=O.name,L.email=O.email)})}const S=Array.from(_.entries()).map(([j,O])=>{const L=O.scores.reduce((F,k)=>F+k,0)/O.scores.length,I=Math.max(...O.scores);return{id:j,name:O.name||"Unknown",email:O.email||"",averageScore:L,totalAttempts:O.scores.length,bestScore:I}}).filter(j=>j.name!=="Unknown").sort((j,O)=>O.averageScore!==j.averageScore?O.averageScore-j.averageScore:O.totalAttempts-j.totalAttempts).slice(0,50);u(S)}catch(g){console.error("Error loading performance data:",g)}finally{f(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Pi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Admin Dashboard"}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Faculty"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.totalFaculty})]}),d.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:d.jsx(jo,{className:"w-6 h-6 text-blue-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.totalStudents})]}),d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(jo,{className:"w-6 h-6 text-green-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.activeStations})]}),d.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:d.jsx(sa,{className:"w-6 h-6 text-purple-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"CBDC Coverage"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[r.coverage,"%"]})]}),d.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:d.jsx(Ca,{className:"w-6 h-6 text-orange-600"})})]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8 border border-gray-100",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Student Performance Trend"}),c?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):s.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[d.jsx(Ca,{className:"w-12 h-12 mb-3 text-gray-400"}),d.jsx("p",{className:"text-sm",children:"No performance data available yet"})]}):d.jsx(MD,{data:s})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8 border border-gray-100",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Student Leaderboard"}),c?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):l.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[d.jsx(jo,{className:"w-12 h-12 mb-3 text-gray-400"}),d.jsx("p",{className:"text-sm",children:"No leaderboard data available yet"})]}):d.jsx(DD,{entries:l,maxDisplay:20})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-100",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),d.jsx("div",{className:"flex gap-4",children:d.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors font-medium shadow-sm hover:shadow-md",children:[d.jsx(Cd,{className:"w-4 h-4"}),"Export System Report"]})})]})]})]})})]})}function rje({isOpen:e,onClose:t,onSave:r}){const[n,i]=X.useState({id:"",domain:"",level:"",description:""}),[a,s]=X.useState(!1),[o,l]=X.useState(null);if(!e)return null;const u=async c=>{if(c.preventDefault(),l(null),!n.id.trim()||!n.domain.trim()||!n.description.trim()){l("ID, Domain, and Description are required");return}s(!0);try{await r({id:n.id.trim(),domain:n.domain.trim(),level:n.level.trim()||null,description:n.description.trim()}),i({id:"",domain:"",level:"",description:""}),t()}catch(f){l(f.message||"Failed to save competency")}finally{s(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Competency"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(Mf,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[o&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:o}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ID ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:n.id,onChange:c=>i({...n,id:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Domain ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:n.domain,onChange:c=>i({...n,domain:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),d.jsx("input",{type:"text",value:n.level,onChange:c=>i({...n,level:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Optional"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{value:n.description,onChange:c=>i({...n,description:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,required:!0})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Saving...":"Save"})]})]})]})})}function nje({isOpen:e,onClose:t,competency:r,onSave:n}){const[i,a]=X.useState({id:"",domain:"",level:"",description:""}),[s,o]=X.useState(!1),[l,u]=X.useState(null);if(X.useEffect(()=>{r&&a({id:r.id,domain:r.domain,level:r.level||"",description:r.description})},[r]),!e||!r)return null;const c=async f=>{if(f.preventDefault(),u(null),!i.domain.trim()||!i.description.trim()){u("Domain and Description are required");return}o(!0);try{await n({id:i.id,domain:i.domain.trim(),level:i.level.trim()||null,description:i.description.trim()}),t()}catch(p){u(p.message||"Failed to update competency")}finally{o(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Competency"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(Mf,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[l&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),d.jsx("input",{type:"text",value:i.id,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ID cannot be changed"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Domain ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i.domain,onChange:f=>a({...i,domain:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),d.jsx("input",{type:"text",value:i.level,onChange:f=>a({...i,level:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Optional"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{value:i.description,onChange:f=>a({...i,description:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,required:!0})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Saving...":"Update"})]})]})]})})}function ije({user:e}){const t=Do(),[r,n]=X.useState([]),[i,a]=X.useState(!0),[s,o]=X.useState(!1),[l,u]=X.useState(null);X.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:g,error:b}=await Ie.from("competencies").select("*").order("id");if(b)throw b;n(g||[])}catch(g){console.error("Error loading competencies:",g)}finally{a(!1)}},f=()=>{const g=[["ID","Domain","Level","Description"],...r.map(_=>[_.id,_.domain,_.level||"",_.description])].map(_=>_.map(A=>`"${A}"`).join(",")).join(`
`),b=new Blob([g],{type:"text/csv"}),v=URL.createObjectURL(b),w=document.createElement("a");w.href=v,w.download="cbdc-competencies.csv",w.click()},p=async g=>{const{error:b}=await Ie.from("competencies").insert([g]);if(b)throw b;await c()},h=async g=>{const{error:b}=await Ie.from("competencies").update({domain:g.domain,level:g.level,description:g.description}).eq("id",g.id);if(b)throw b;await c()},y=async g=>{if(!confirm(`Are you sure you want to delete competency "${g}"? This action cannot be undone.`))return;const{error:b}=await Ie.from("competencies").delete().eq("id",g);if(b){t.error("Error deleting competency: "+b.message);return}await c()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Pi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"CBDC Manager"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[d.jsx(Cd,{className:"w-4 h-4"}),"Export CSV"]}),d.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(qm,{className:"w-4 h-4"}),"Add Competency"]})]})]}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Domain"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(g=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.id}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.domain}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.level||"-"}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:g.description}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[d.jsx("button",{onClick:()=>u(g),className:"text-primary-600 hover:text-primary-900 mr-4",title:"Edit competency",children:d.jsx(ij,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>y(g.id),className:"text-red-600 hover:text-red-900",title:"Delete competency",children:d.jsx(BW,{className:"w-4 h-4"})})]})]},g.id))})]})})]})}),d.jsx(rje,{isOpen:s,onClose:()=>o(!1),onSave:p}),d.jsx(nje,{isOpen:l!==null,onClose:()=>u(null),competency:l,onSave:h})]})}function aje({isOpen:e,onClose:t,user:r,onSave:n}){const[i,a]=X.useState({name:"",email:"",role:"student"}),[s,o]=X.useState(!1),[l,u]=X.useState(null);if(X.useEffect(()=>{r&&a({name:r.name,email:r.email,role:r.role})},[r]),!e||!r)return null;const c=async f=>{if(f.preventDefault(),u(null),!i.name.trim()||!i.email.trim()){u("Name and Email are required");return}o(!0);try{await n({id:r.id,name:i.name.trim(),email:i.email.trim(),role:i.role}),t()}catch(p){u(p.message||"Failed to update user")}finally{o(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit User"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(Mf,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[l&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i.name,onChange:f=>a({...i,name:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"email",value:i.email,onChange:f=>a({...i,email:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{value:i.role,onChange:f=>a({...i,role:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Saving...":"Update"})]})]})]})})}function sje({user:e}){const[t,r]=X.useState([]),[n,i]=X.useState(!0),[a,s]=X.useState(""),[o,l]=X.useState(null);X.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:h,error:y}=await Ie.from("users").select("*").order("created_at",{ascending:!1});if(y)throw y;r(h||[])}catch(h){console.error("Error loading users:",h)}finally{i(!1)}},c=t.filter(h=>h.name.toLowerCase().includes(a.toLowerCase())||h.email.toLowerCase().includes(a.toLowerCase())),f=h=>{switch(h){case"admin":return"bg-red-100 text-red-800";case"faculty":return"bg-blue-100 text-blue-800";case"student":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},p=async h=>{const{error:y}=await Ie.from("users").update({name:h.name,email:h.email,role:h.role}).eq("id",h.id);if(y)throw y;await u()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Pi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"User Management"}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(aj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:h=>s(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),n?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(h=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Is,{className:"w-5 h-5 text-gray-400 mr-2"}),d.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.email}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${f(h.role)}`,children:h.role})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(h.created_at).toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>l(h),className:"text-primary-600 hover:text-primary-900",title:"Edit user",children:d.jsx(ij,{className:"w-4 h-4"})})})]},h.id))})]})})]})}),d.jsx(aje,{isOpen:o!==null,onClose:()=>l(null),user:o,onSave:p})]})}function oje({user:e}){const t=Do(),[r,n]=X.useState([]),[i,a]=X.useState(null),[s,o]=X.useState([]),[l,u]=X.useState([]),[c,f]=X.useState(!0);X.useEffect(()=>{p(),g()},[]);const p=async()=>{try{const{data:b,error:v}=await Ie.from("reports").select("*").order("created_at",{ascending:!1}).limit(10);if(v)throw v;n(b||[])}catch(b){console.error("Error loading reports:",b)}},h=async b=>{a(b);try{const v=new Date;let w,_=new Date(v);if(b==="quarterly"){const T=Math.floor(v.getMonth()/3);w=new Date(v.getFullYear(),T*3,1)}else w=new Date(v.getFullYear(),0,1);const{data:A}=await Ie.from("competencies").select("*"),{data:S}=await Ie.from("stations").select("id, title, blueprint"),{data:j}=await Ie.from("case_snapshots").select("id, clinical_case, approved_at").gte("approved_at",w.toISOString()).lte("approved_at",_.toISOString()),{data:O}=await Ie.from("assignments").select("id, snapshot_id, created_at").gte("created_at",w.toISOString()).lte("created_at",_.toISOString()),L=(O==null?void 0:O.map(T=>T.id))||[],{data:I}=await Ie.from("simulation_runs").select("id, score, submitted_at").in("assignment_id",L).not("submitted_at","is",null),F=new Set;j==null||j.forEach(T=>{var K;(((K=T.clinical_case)==null?void 0:K.sloMappings)||[]).forEach(Q=>{F.add(Q)})});const k=(A==null?void 0:A.length)||0,P=F.size,M=k>0?Math.round(P/k*100):0,D=(I==null?void 0:I.filter(T=>T.submitted_at))||[],U=D.map(T=>{var C;return((C=T.score)==null?void 0:C.overall)||0}).filter(T=>T>0),H=U.length>0?U.reduce((T,C)=>T+C,0)/U.length:0,V={summary:{period:b==="quarterly"?"Quarterly":"Annual",periodStart:w.toISOString().split("T")[0],periodEnd:_.toISOString().split("T")[0],generatedAt:new Date().toISOString()},metrics:{totalCompetencies:k,coveredCompetencies:P,coverage:M,totalStations:(S==null?void 0:S.length)||0,totalSnapshots:(j==null?void 0:j.length)||0,totalAssignments:(O==null?void 0:O.length)||0,totalCompletions:D.length,averageScore:Math.round(H)},stationDistribution:{total:(S==null?void 0:S.length)||0,bySubject:{}},studentPerformance:{totalAttempts:D.length,averageScore:Math.round(H),completionRate:O&&O.length>0?Math.round(D.length/O.length*100):0},sloAchievement:{total:0,achieved:0,percentage:0}},{error:B}=await Ie.from("reports").insert([{type:b,period_start:w.toISOString().split("T")[0],period_end:_.toISOString().split("T")[0],report_data:V,generated_by:e.id}]);if(B)throw B;const J=new Blob([JSON.stringify(V,null,2)],{type:"application/json"}),$=URL.createObjectURL(J),ae=document.createElement("a");ae.href=$,ae.download=`${b}-report-${w.toISOString().split("T")[0]}.json`,ae.click(),await p(),t.success("Report generated successfully!")}catch(v){t.error("Error generating report: "+(v.message||"Unknown error")),console.error("Error generating report:",v)}finally{a(null)}},y=b=>{try{const v=b.report_data;let w=`Compliance Report
`;w+=`Type,${b.type}
`,w+=`Period,${b.period_start} to ${b.period_end}
`,w+=`Generated,${new Date(b.created_at).toLocaleString()}

`,w+=`Metrics
`,w+=`Metric,Value
`,v.metrics&&(w+=`CBDC Coverage,${v.metrics.coverage}%
`,w+=`Total Stations,${v.metrics.totalStations}
`,w+=`Total Snapshots,${v.metrics.totalSnapshots}
`,w+=`Total Assignments,${v.metrics.totalAssignments}
`,w+=`Total Completions,${v.metrics.totalCompletions}
`,w+=`Average Score,${v.metrics.averageScore}%
`),w+=`
Student Performance
`,w+=`Metric,Value
`,v.studentPerformance&&(w+=`Total Attempts,${v.studentPerformance.totalAttempts}
`,w+=`Average Score,${v.studentPerformance.averageScore}%
`,w+=`Completion Rate,${v.studentPerformance.completionRate}%
`);const _=new Blob([w],{type:"text/csv;charset=utf-8;"}),A=URL.createObjectURL(_),S=document.createElement("a");S.href=A,S.download=`${b.type}-report-${b.period_start}.csv`,S.click(),URL.revokeObjectURL(A),t.success("CSV exported successfully!")}catch(v){t.error("Error exporting CSV: "+(v.message||"Unknown error"))}},g=async()=>{try{f(!0);const{data:b,error:v}=await Ie.from("simulation_runs").select("id, score, submitted_at, student_id").not("submitted_at","is",null).order("submitted_at",{ascending:!1}).limit(1e3);if(v)throw v;const w=new Map;b==null||b.forEach(O=>{var k,P;const L=(k=O.submitted_at)==null?void 0:k.split("T")[0];if(!L)return;const I=(P=O.score)==null?void 0:P.overall;if(!I||I<=0)return;w.has(L)||w.set(L,{scores:[],students:new Set});const F=w.get(L);F.scores.push(I),F.students.add(O.student_id)});const _=Array.from(w.entries()).map(([O,L])=>({dateKey:O,date:new Date(O).toLocaleDateString("en-US",{month:"short",day:"numeric"}),averageScore:L.scores.reduce((I,F)=>I+F,0)/L.scores.length,totalStudents:L.students.size})).sort((O,L)=>O.dateKey.localeCompare(L.dateKey)).slice(-30).map(({dateKey:O,...L})=>L);o(_);const A=new Map;b==null||b.forEach(O=>{var I;const L=(I=O.score)==null?void 0:I.overall;!L||L<=0||(A.has(O.student_id)||A.set(O.student_id,{scores:[],name:"",email:""}),A.get(O.student_id).scores.push(L))});const S=Array.from(A.keys());if(S.length>0){const{data:O}=await Ie.from("users").select("id, name, email").eq("role","student").in("id",S);O==null||O.forEach(L=>{const I=A.get(L.id);I&&(I.name=L.name,I.email=L.email)})}const j=Array.from(A.entries()).map(([O,L])=>{const I=L.scores.reduce((k,P)=>k+P,0)/L.scores.length,F=Math.max(...L.scores);return{id:O,name:L.name||"Unknown",email:L.email||"",averageScore:I,totalAttempts:L.scores.length,bestScore:F}}).filter(O=>O.name!=="Unknown").sort((O,L)=>L.averageScore!==O.averageScore?L.averageScore-O.averageScore:L.totalAttempts-O.totalAttempts).slice(0,50);u(j)}catch(b){console.error("Error loading performance data:",b)}finally{f(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(Pi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Compliance Reports"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Student Performance Trend"}),c?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx(MD,{data:s})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Student Leaderboard"}),c?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx(DD,{entries:l,maxDisplay:20})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Quarterly Report"}),d.jsx(sa,{className:"w-8 h-8 text-blue-600"})]}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Generate a comprehensive quarterly compliance report covering all competencies and stations."}),d.jsx("button",{onClick:()=>h("quarterly"),disabled:i!==null,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i==="quarterly"?d.jsxs(d.Fragment,{children:[d.jsx(Yd,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Cd,{className:"w-4 h-4"}),"Generate Quarterly Report"]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Annual Report"}),d.jsx(os,{className:"w-8 h-8 text-green-600"})]}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Generate an annual compliance report with year-over-year trends and analytics."}),d.jsx("button",{onClick:()=>h("annual"),disabled:i!==null,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i==="annual"?d.jsxs(d.Fragment,{children:[d.jsx(Yd,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Cd,{className:"w-4 h-4"}),"Generate Annual Report"]})})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Report History"}),r.length===0?d.jsx("p",{className:"text-gray-600",children:"No reports generated yet."}):d.jsx("div",{className:"space-y-3",children:r.map(b=>{var v;return d.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded ${b.type==="quarterly"?"bg-blue-100":"bg-green-100"}`,children:b.type==="quarterly"?d.jsx(sa,{className:"w-5 h-5 text-blue-600"}):d.jsx(os,{className:"w-5 h-5 text-green-600"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium text-gray-900 capitalize",children:[b.type," Report"]}),d.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2 mt-1",children:[d.jsx($f,{className:"w-4 h-4"}),new Date(b.period_start).toLocaleDateString()," - ",new Date(b.period_end).toLocaleDateString()]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"text-sm text-gray-500",children:new Date(b.created_at).toLocaleDateString()}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>{const w=new Blob([JSON.stringify(b.report_data,null,2)],{type:"application/json"}),_=URL.createObjectURL(w),A=document.createElement("a");A.href=_,A.download=`${b.type}-report-${b.period_start}.json`,A.click()},className:"p-2 text-primary-600 hover:bg-primary-50 rounded transition-colors",title:"Download JSON",children:d.jsx(Cd,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>y(b),className:"p-2 text-green-600 hover:bg-green-50 rounded transition-colors",title:"Export to CSV",children:d.jsx(kW,{className:"w-4 h-4"})})]})]})]}),((v=b.report_data)==null?void 0:v.metrics)&&d.jsxs("div",{className:"mt-3 pt-3 border-t grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Coverage"}),d.jsxs("div",{className:"font-semibold text-gray-900",children:[b.report_data.metrics.coverage,"%"]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Stations"}),d.jsx("div",{className:"font-semibold text-gray-900",children:b.report_data.metrics.totalStations})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Completions"}),d.jsx("div",{className:"font-semibold text-gray-900",children:b.report_data.metrics.totalCompletions})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Avg Score"}),d.jsxs("div",{className:"font-semibold text-gray-900",children:[b.report_data.metrics.averageScore,"%"]})]})]})]},b.id)})})]})]})}),d.jsx(Dl,{toasts:t.toasts,onClose:t.removeToast})]})}function lje(){return d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})})}class uje extends X.Component{constructor(){super(...arguments);tr(this,"state",{hasError:!1,error:null});tr(this,"handleReset",()=>{this.setState({hasError:!1,error:null}),window.location.href="/"})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n)}render(){var r;return this.state.hasError?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[d.jsx(m1,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),d.jsx("p",{className:"text-gray-600 mb-4",children:((r=this.state.error)==null?void 0:r.message)||"An unexpected error occurred"}),d.jsxs("button",{onClick:this.handleReset,className:"flex items-center justify-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors mx-auto",children:[d.jsx(IW,{className:"w-4 h-4"}),"Return to Home"]})]})}):this.props.children}}function cje({authUserId:e,authUserEmail:t,authUserName:r,onComplete:n}){const[i,a]=X.useState(r||""),[s,o]=X.useState("student"),[l,u]=X.useState([]),[c,f]=X.useState([]),[p,h]=X.useState(!1),[y,g]=X.useState(!1),[b,v]=X.useState(null);X.useEffect(()=>{s==="student"&&w()},[s]);const w=async()=>{h(!0);try{const{data:A,error:S}=await Ie.from("cohorts").select("id, name, description").order("name");if(S)throw S;f(A||[])}catch(A){console.error("Error loading cohorts:",A)}finally{h(!1)}},_=async A=>{A.preventDefault(),g(!0),v(null);try{const{error:S}=await Ie.from("users").insert({id:e,name:i.trim()||(t==null?void 0:t.split("@")[0])||"User",email:t||"",role:s}).select().single();if(S)throw S;if(s==="student"&&l.length>0){const j=l.map(L=>({cohort_id:L,student_id:e})),{error:O}=await Ie.from("cohort_members").insert(j);O&&console.error("Error adding student to cohorts:",O)}n()}catch(S){v(S.message||"An error occurred while completing your profile"),g(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-primary-50 to-gray-100 px-4 py-8",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 md:p-10 w-full max-w-md border-2 border-gray-200",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-16 md:h-20 w-auto object-contain"})}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Complete Your Profile"}),d.jsx("p",{className:"text-gray-600 mt-2 text-sm md:text-base",children:"Please provide the following information to complete your account setup"})]}),d.jsxs("form",{onSubmit:_,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i,onChange:A=>a(A.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400",placeholder:"Enter your full name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",value:t||"",disabled:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email is set from your OAuth account"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{value:s,onChange:A=>{o(A.target.value),u([])},required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 bg-white",children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),s==="student"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Cohorts (Optional)"}),p?d.jsx("div",{className:"text-sm text-gray-500",children:"Loading cohorts..."}):c.length===0?d.jsx("div",{className:"text-sm text-gray-500 p-3 bg-gray-50 rounded-md",children:"No cohorts available. You can join cohorts later from your profile settings."}):d.jsx("div",{className:"border border-gray-300 rounded-md max-h-40 overflow-y-auto p-2",children:c.map(A=>d.jsxs("label",{className:"flex items-start gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:l.includes(A.id),onChange:S=>{S.target.checked?u([...l,A.id]):u(l.filter(j=>j!==A.id))},className:"mt-1"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),A.description&&d.jsx("div",{className:"text-xs text-gray-500",children:A.description})]})]},A.id))}),l.length>0&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length," cohort",l.length!==1?"s":""," selected"]})]}),b&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:b}),d.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white py-3 px-6 rounded-xl hover:from-primary-700 hover:to-primary-800 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 font-bold text-base md:text-lg shadow-lg transition-all transform hover:scale-[1.02]",children:y?"Completing Profile...":"Complete Profile"})]})]})})}const MC={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpdmN1c2ZzcHBqeWFsYmdxdHh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NjI2NjYsImV4cCI6MjA3ODQzODY2Nn0.DMugE2X3gBvcRBXt-NqWceWQB2Vmi9kbavEE6MEjAmI",VITE_SUPABASE_URL:"https://kivcusfsppjyalbgqtxy.supabase.co"};function dje(){const[e,t]=X.useState(null),[r,n]=X.useState(!0),[i,a]=X.useState(!1),[s,o]=X.useState(null);X.useEffect(()=>{Ie.auth.getSession().then(({data:{session:h}})=>{h?l():n(!1)});const{data:{subscription:p}}=Ie.auth.onAuthStateChange((h,y)=>{y?l():(t(null),n(!1))});return()=>p.unsubscribe()},[]);const l=async()=>{var p,h,y,g,b,v;try{const{data:{user:w}}=await Ie.auth.getUser();if(!w){n(!1);return}const{data:_,error:A}=await Ie.from("users").select("*").eq("id",w.id).single();if(A&&A.code==="PGRST116")if(((p=w.identities)==null?void 0:p.some(j=>j.provider!=="email"))||!1){o({id:w.id,email:w.email,name:((h=w.user_metadata)==null?void 0:h.name)||((y=w.user_metadata)==null?void 0:y.full_name)}),a(!0),n(!1);return}else{const{data:j}=await Ie.from("users").insert({id:w.id,name:((g=w.user_metadata)==null?void 0:g.name)||((b=w.email)==null?void 0:b.split("@")[0])||"User",email:w.email,role:((v=w.user_metadata)==null?void 0:v.role)||"student"}).select().single();j&&t(j)}else _&&(t(_),a(!1))}catch(w){console.error("Error loading user:",w)}finally{n(!1)}},u=()=>{a(!1),o(null),l()};if(r)return d.jsx(lje,{});if(i&&s)return d.jsx(cje,{authUserId:s.id,authUserEmail:s.email,authUserName:s.name,onComplete:u});if(!e)return d.jsx(_W,{onAuthSuccess:l});const f=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY"].filter(p=>!MC[p]||MC[p].trim()==="");return f.length>0?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Configuration Error"}),d.jsx("p",{className:"text-gray-700 mb-4",children:"The following required environment variables are missing:"}),d.jsx("ul",{className:"list-disc list-inside text-gray-600 mb-4 space-y-1",children:f.map(p=>d.jsx("li",{children:p},p))}),d.jsx("p",{className:"text-sm text-gray-500",children:"Please set these variables in your .env file and restart the application."})]})}):d.jsx(uje,{children:d.jsxs(XU,{children:[d.jsxs(qU,{children:[e.role==="faculty"&&d.jsxs(d.Fragment,{children:[d.jsx(un,{path:"/dashboard",element:d.jsx(UW,{user:e})}),d.jsx(un,{path:"/create",element:d.jsx(qW,{user:e})}),d.jsx(un,{path:"/review/:stationId",element:d.jsx(iX,{user:e})}),d.jsx(un,{path:"/assign/:snapshotId",element:d.jsx(aX,{user:e})}),d.jsx(un,{path:"/library",element:d.jsx(sX,{user:e})}),d.jsx(un,{path:"/analytics",element:d.jsx(qwe,{user:e})}),d.jsx(un,{path:"/profile",element:d.jsx(Wwe,{user:e})})]}),e.role==="student"&&d.jsxs(d.Fragment,{children:[d.jsx(un,{path:"/home",element:d.jsx(x6,{user:e})}),d.jsx(un,{path:"/assigned",element:d.jsx(x6,{user:e})}),d.jsx(un,{path:"/analytics",element:d.jsx(eje,{user:e})}),d.jsx(un,{path:"/simulation/:assignmentId",element:d.jsx(Zwe,{user:e})}),d.jsx(un,{path:"/debrief/:runId",element:d.jsx(XSe,{user:e})}),d.jsx(un,{path:"/results",element:d.jsx(JSe,{user:e})}),d.jsx(un,{path:"/profile",element:d.jsx(ZSe,{user:e})})]}),e.role==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx(un,{path:"/admin/dashboard",element:d.jsx(tje,{user:e})}),d.jsx(un,{path:"/admin/reports",element:d.jsx(oje,{user:e})}),d.jsx(un,{path:"/admin/cbdc",element:d.jsx(ije,{user:e})}),d.jsx(un,{path:"/admin/users",element:d.jsx(sje,{user:e})})]}),d.jsx(un,{path:"/",element:d.jsx(UU,{to:e.role==="faculty"?"/dashboard":e.role==="admin"?"/admin/dashboard":"/home",replace:!0})})]}),e&&d.jsx(Wn,{role:e.role})]})})}F2.createRoot(document.getElementById("root")).render(d.jsx(oe.StrictMode,{children:d.jsx(dje,{})}));export{ur as _,bl as c,nr as g};
