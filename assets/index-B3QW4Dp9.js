var _$=Object.defineProperty;var S$=(t,e,n)=>e in t?_$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Xt=(t,e,n)=>S$(t,typeof e!="symbol"?e+"":e,n);function bI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var ig=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function A$(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var wI={exports:{}},s0={},_I={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=Symbol.for("react.element"),E$=Symbol.for("react.portal"),N$=Symbol.for("react.fragment"),T$=Symbol.for("react.strict_mode"),P$=Symbol.for("react.profiler"),C$=Symbol.for("react.provider"),k$=Symbol.for("react.context"),I$=Symbol.for("react.forward_ref"),O$=Symbol.for("react.suspense"),j$=Symbol.for("react.memo"),R$=Symbol.for("react.lazy"),VA=Symbol.iterator;function L$(t){return t===null||typeof t!="object"?null:(t=VA&&t[VA]||t["@@iterator"],typeof t=="function"?t:null)}var SI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AI=Object.assign,EI={};function ef(t,e,n){this.props=t,this.context=e,this.refs=EI,this.updater=n||SI}ef.prototype.isReactComponent={};ef.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ef.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NI(){}NI.prototype=ef.prototype;function M_(t,e,n){this.props=t,this.context=e,this.refs=EI,this.updater=n||SI}var D_=M_.prototype=new NI;D_.constructor=M_;AI(D_,ef.prototype);D_.isPureReactComponent=!0;var zA=Array.isArray,TI=Object.prototype.hasOwnProperty,$_={current:null},PI={key:!0,ref:!0,__self:!0,__source:!0};function CI(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)TI.call(e,r)&&!PI.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:rm,type:t,key:a,ref:o,props:i,_owner:$_.current}}function M$(t,e){return{$$typeof:rm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function F_(t){return typeof t=="object"&&t!==null&&t.$$typeof===rm}function D$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var HA=/\/+/g;function rx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?D$(""+t.key):e.toString(36)}function ey(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rm:case E$:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+rx(o,0):r,zA(i)?(n="",t!=null&&(n=t.replace(HA,"$&/")+"/"),ey(i,e,n,"",function(u){return u})):i!=null&&(F_(i)&&(i=M$(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(HA,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",zA(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+rx(a,s);o+=ey(a,e,n,l,i)}else if(l=L$(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+rx(a,s++),o+=ey(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ag(t,e,n){if(t==null)return t;var r=[],i=0;return ey(t,r,"","",function(a){return e.call(n,a,i++)}),r}function $$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ui={current:null},ty={transition:null},F$={ReactCurrentDispatcher:ui,ReactCurrentBatchConfig:ty,ReactCurrentOwner:$_};function kI(){throw Error("act(...) is not supported in production builds of React.")}Dt.Children={map:ag,forEach:function(t,e,n){ag(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ag(t,function(){e++}),e},toArray:function(t){return ag(t,function(e){return e})||[]},only:function(t){if(!F_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Dt.Component=ef;Dt.Fragment=N$;Dt.Profiler=P$;Dt.PureComponent=M_;Dt.StrictMode=T$;Dt.Suspense=O$;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F$;Dt.act=kI;Dt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=AI({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=$_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)TI.call(e,l)&&!PI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:rm,type:t.type,key:i,ref:a,props:r,_owner:o}};Dt.createContext=function(t){return t={$$typeof:k$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:C$,_context:t},t.Consumer=t};Dt.createElement=CI;Dt.createFactory=function(t){var e=CI.bind(null,t);return e.type=t,e};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(t){return{$$typeof:I$,render:t}};Dt.isValidElement=F_;Dt.lazy=function(t){return{$$typeof:R$,_payload:{_status:-1,_result:t},_init:$$}};Dt.memo=function(t,e){return{$$typeof:j$,type:t,compare:e===void 0?null:e}};Dt.startTransition=function(t){var e=ty.transition;ty.transition={};try{t()}finally{ty.transition=e}};Dt.unstable_act=kI;Dt.useCallback=function(t,e){return ui.current.useCallback(t,e)};Dt.useContext=function(t){return ui.current.useContext(t)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(t){return ui.current.useDeferredValue(t)};Dt.useEffect=function(t,e){return ui.current.useEffect(t,e)};Dt.useId=function(){return ui.current.useId()};Dt.useImperativeHandle=function(t,e,n){return ui.current.useImperativeHandle(t,e,n)};Dt.useInsertionEffect=function(t,e){return ui.current.useInsertionEffect(t,e)};Dt.useLayoutEffect=function(t,e){return ui.current.useLayoutEffect(t,e)};Dt.useMemo=function(t,e){return ui.current.useMemo(t,e)};Dt.useReducer=function(t,e,n){return ui.current.useReducer(t,e,n)};Dt.useRef=function(t){return ui.current.useRef(t)};Dt.useState=function(t){return ui.current.useState(t)};Dt.useSyncExternalStore=function(t,e,n){return ui.current.useSyncExternalStore(t,e,n)};Dt.useTransition=function(){return ui.current.useTransition()};Dt.version="18.3.1";_I.exports=Dt;var K=_I.exports;const le=sn(K),U$=bI({__proto__:null,default:le},[K]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B$=K,q$=Symbol.for("react.element"),V$=Symbol.for("react.fragment"),z$=Object.prototype.hasOwnProperty,H$=B$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G$={key:!0,ref:!0,__self:!0,__source:!0};function II(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)z$.call(e,r)&&!G$.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:q$,type:t,key:a,ref:o,props:i,_owner:H$.current}}s0.Fragment=V$;s0.jsx=II;s0.jsxs=II;wI.exports=s0;var d=wI.exports,Db={},OI={exports:{}},Ki={},jI={exports:{}},RI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,X){var oe=M.length;M.push(X);e:for(;0<oe;){var ie=oe-1>>>1,k=M[ie];if(0<i(k,X))M[ie]=X,M[oe]=k,oe=ie;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var X=M[0],oe=M.pop();if(oe!==X){M[0]=oe;e:for(var ie=0,k=M.length,q=k>>>1;ie<q;){var G=2*(ie+1)-1,te=M[G],re=G+1,ce=M[re];if(0>i(te,oe))re<k&&0>i(ce,te)?(M[ie]=ce,M[re]=oe,ie=re):(M[ie]=te,M[G]=oe,ie=G);else if(re<k&&0>i(ce,oe))M[ie]=ce,M[re]=oe,ie=re;else break e}}return X}function i(M,X){var oe=M.sortIndex-X.sortIndex;return oe!==0?oe:M.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,p=3,h=!1,y=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(M){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=M)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(u)}}function A(M){if(g=!1,_(M),!y)if(n(l)!==null)y=!0,J(S);else{var X=n(u);X!==null&&H(A,X.startTime-M)}}function S(M,X){y=!1,g&&(g=!1,v(I),I=-1),h=!0;var oe=p;try{for(_(X),f=n(l);f!==null&&(!(f.expirationTime>X)||M&&!P());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,p=f.priorityLevel;var k=ie(f.expirationTime<=X);X=t.unstable_now(),typeof k=="function"?f.callback=k:f===n(l)&&r(l),_(X)}else r(l);f=n(l)}if(f!==null)var q=!0;else{var G=n(u);G!==null&&H(A,G.startTime-X),q=!1}return q}finally{f=null,p=oe,h=!1}}var N=!1,C=null,I=-1,R=5,U=-1;function P(){return!(t.unstable_now()-U<R)}function O(){if(C!==null){var M=t.unstable_now();U=M;var X=!0;try{X=C(!0,M)}finally{X?D():(N=!1,C=null)}}else N=!1}var D;if(typeof w=="function")D=function(){w(O)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,B=L.port2;L.port1.onmessage=O,D=function(){B.postMessage(null)}}else D=function(){x(O,0)};function J(M){C=M,N||(N=!0,D())}function H(M,X){I=x(function(){M(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,J(S))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var oe=p;p=X;try{return M()}finally{p=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,X){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var oe=p;p=M;try{return X()}finally{p=oe}},t.unstable_scheduleCallback=function(M,X,oe){var ie=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ie+oe:ie):oe=ie,M){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=oe+k,M={id:c++,callback:X,priorityLevel:M,startTime:oe,expirationTime:k,sortIndex:-1},oe>ie?(M.sortIndex=oe,e(u,M),n(l)===null&&M===n(u)&&(g?(v(I),I=-1):g=!0,H(A,oe-ie))):(M.sortIndex=k,e(l,M),y||h||(y=!0,J(S))),M},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(M){var X=p;return function(){var oe=p;p=X;try{return M.apply(this,arguments)}finally{p=oe}}}})(RI);jI.exports=RI;var W$=jI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K$=K,Gi=W$;function Me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LI=new Set,Jh={};function Wu(t,e){md(t,e),md(t+"Capture",e)}function md(t,e){for(Jh[t]=e,t=0;t<e.length;t++)LI.add(e[t])}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$b=Object.prototype.hasOwnProperty,J$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GA={},WA={};function Y$(t){return $b.call(WA,t)?!0:$b.call(GA,t)?!1:J$.test(t)?WA[t]=!0:(GA[t]=!0,!1)}function X$(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Z$(t,e,n,r){if(e===null||typeof e>"u"||X$(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ci(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Fr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fr[t]=new ci(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fr[e]=new ci(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fr[t]=new ci(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fr[t]=new ci(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fr[t]=new ci(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fr[t]=new ci(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fr[t]=new ci(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fr[t]=new ci(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fr[t]=new ci(t,5,!1,t.toLowerCase(),null,!1,!1)});var U_=/[\-:]([a-z])/g;function B_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(U_,B_);Fr[e]=new ci(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(U_,B_);Fr[e]=new ci(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(U_,B_);Fr[e]=new ci(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fr[t]=new ci(t,1,!1,t.toLowerCase(),null,!1,!1)});Fr.xlinkHref=new ci("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fr[t]=new ci(t,1,!1,t.toLowerCase(),null,!0,!0)});function q_(t,e,n,r){var i=Fr.hasOwnProperty(e)?Fr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Z$(e,n,i,r)&&(n=null),r||i===null?Y$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gs=K$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,og=Symbol.for("react.element"),Mc=Symbol.for("react.portal"),Dc=Symbol.for("react.fragment"),V_=Symbol.for("react.strict_mode"),Fb=Symbol.for("react.profiler"),MI=Symbol.for("react.provider"),DI=Symbol.for("react.context"),z_=Symbol.for("react.forward_ref"),Ub=Symbol.for("react.suspense"),Bb=Symbol.for("react.suspense_list"),H_=Symbol.for("react.memo"),Hs=Symbol.for("react.lazy"),$I=Symbol.for("react.offscreen"),KA=Symbol.iterator;function eh(t){return t===null||typeof t!="object"?null:(t=KA&&t[KA]||t["@@iterator"],typeof t=="function"?t:null)}var Mn=Object.assign,ix;function wh(t){if(ix===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ix=e&&e[1]||""}return`
`+ix+t}var ax=!1;function ox(t,e){if(!t||ax)return"";ax=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{ax=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wh(t):""}function Q$(t){switch(t.tag){case 5:return wh(t.type);case 16:return wh("Lazy");case 13:return wh("Suspense");case 19:return wh("SuspenseList");case 0:case 2:case 15:return t=ox(t.type,!1),t;case 11:return t=ox(t.type.render,!1),t;case 1:return t=ox(t.type,!0),t;default:return""}}function qb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Dc:return"Fragment";case Mc:return"Portal";case Fb:return"Profiler";case V_:return"StrictMode";case Ub:return"Suspense";case Bb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case DI:return(t.displayName||"Context")+".Consumer";case MI:return(t._context.displayName||"Context")+".Provider";case z_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H_:return e=t.displayName||null,e!==null?e:qb(t.type)||"Memo";case Hs:e=t._payload,t=t._init;try{return qb(t(e))}catch{}}return null}function e7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qb(e);case 8:return e===V_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ml(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function t7(t){var e=FI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sg(t){t._valueTracker||(t._valueTracker=t7(t))}function UI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xy(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vb(t,e){var n=e.checked;return Mn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function JA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ml(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BI(t,e){e=e.checked,e!=null&&q_(t,"checked",e,!1)}function zb(t,e){BI(t,e);var n=ml(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hb(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hb(t,e.type,ml(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function YA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hb(t,e,n){(e!=="number"||xy(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _h=Array.isArray;function ed(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ml(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Gb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return Mn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function XA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Me(92));if(_h(n)){if(1<n.length)throw Error(Me(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ml(n)}}function qI(t,e){var n=ml(e.value),r=ml(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ZA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lg,zI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lg=lg||document.createElement("div"),lg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ph={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n7=["Webkit","ms","Moz","O"];Object.keys(Ph).forEach(function(t){n7.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ph[e]=Ph[t]})});function HI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ph.hasOwnProperty(t)&&Ph[t]?(""+e).trim():e+"px"}function GI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=HI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var r7=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kb(t,e){if(e){if(r7[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function Jb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yb=null;function G_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xb=null,td=null,nd=null;function QA(t){if(t=om(t)){if(typeof Xb!="function")throw Error(Me(280));var e=t.stateNode;e&&(e=f0(e),Xb(t.stateNode,t.type,e))}}function WI(t){td?nd?nd.push(t):nd=[t]:td=t}function KI(){if(td){var t=td,e=nd;if(nd=td=null,QA(t),e)for(t=0;t<e.length;t++)QA(e[t])}}function JI(t,e){return t(e)}function YI(){}var sx=!1;function XI(t,e,n){if(sx)return t(e,n);sx=!0;try{return JI(t,e,n)}finally{sx=!1,(td!==null||nd!==null)&&(YI(),KI())}}function Xh(t,e){var n=t.stateNode;if(n===null)return null;var r=f0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Me(231,e,typeof n));return n}var Zb=!1;if(ls)try{var th={};Object.defineProperty(th,"passive",{get:function(){Zb=!0}}),window.addEventListener("test",th,th),window.removeEventListener("test",th,th)}catch{Zb=!1}function i7(t,e,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ch=!1,by=null,wy=!1,Qb=null,a7={onError:function(t){Ch=!0,by=t}};function o7(t,e,n,r,i,a,o,s,l){Ch=!1,by=null,i7.apply(a7,arguments)}function s7(t,e,n,r,i,a,o,s,l){if(o7.apply(this,arguments),Ch){if(Ch){var u=by;Ch=!1,by=null}else throw Error(Me(198));wy||(wy=!0,Qb=u)}}function Ku(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ZI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eE(t){if(Ku(t)!==t)throw Error(Me(188))}function l7(t){var e=t.alternate;if(!e){if(e=Ku(t),e===null)throw Error(Me(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return eE(i),t;if(a===r)return eE(i),e;a=a.sibling}throw Error(Me(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(Me(189))}}if(n.alternate!==r)throw Error(Me(190))}if(n.tag!==3)throw Error(Me(188));return n.stateNode.current===n?t:e}function QI(t){return t=l7(t),t!==null?eO(t):null}function eO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eO(t);if(e!==null)return e;t=t.sibling}return null}var tO=Gi.unstable_scheduleCallback,tE=Gi.unstable_cancelCallback,u7=Gi.unstable_shouldYield,c7=Gi.unstable_requestPaint,Jn=Gi.unstable_now,d7=Gi.unstable_getCurrentPriorityLevel,W_=Gi.unstable_ImmediatePriority,nO=Gi.unstable_UserBlockingPriority,_y=Gi.unstable_NormalPriority,f7=Gi.unstable_LowPriority,rO=Gi.unstable_IdlePriority,l0=null,mo=null;function h7(t){if(mo&&typeof mo.onCommitFiberRoot=="function")try{mo.onCommitFiberRoot(l0,t,void 0,(t.current.flags&128)===128)}catch{}}var za=Math.clz32?Math.clz32:g7,p7=Math.log,m7=Math.LN2;function g7(t){return t>>>=0,t===0?32:31-(p7(t)/m7|0)|0}var ug=64,cg=4194304;function Sh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Sh(s):(a&=o,a!==0&&(r=Sh(a)))}else o=n&~i,o!==0?r=Sh(o):a!==0&&(r=Sh(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-za(e),i=1<<n,r|=t[n],e&=~i;return r}function y7(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v7(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-za(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=y7(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function ew(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iO(){var t=ug;return ug<<=1,!(ug&4194240)&&(ug=64),t}function lx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function im(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-za(e),t[e]=n}function x7(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-za(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function K_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-za(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var on=0;function aO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oO,J_,sO,lO,uO,tw=!1,dg=[],il=null,al=null,ol=null,Zh=new Map,Qh=new Map,Js=[],b7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nE(t,e){switch(t){case"focusin":case"focusout":il=null;break;case"dragenter":case"dragleave":al=null;break;case"mouseover":case"mouseout":ol=null;break;case"pointerover":case"pointerout":Zh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qh.delete(e.pointerId)}}function nh(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=om(e),e!==null&&J_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function w7(t,e,n,r,i){switch(e){case"focusin":return il=nh(il,t,e,n,r,i),!0;case"dragenter":return al=nh(al,t,e,n,r,i),!0;case"mouseover":return ol=nh(ol,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Zh.set(a,nh(Zh.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Qh.set(a,nh(Qh.get(a)||null,t,e,n,r,i)),!0}return!1}function cO(t){var e=xu(t.target);if(e!==null){var n=Ku(e);if(n!==null){if(e=n.tag,e===13){if(e=ZI(n),e!==null){t.blockedOn=e,uO(t.priority,function(){sO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ny(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yb=r,n.target.dispatchEvent(r),Yb=null}else return e=om(n),e!==null&&J_(e),t.blockedOn=n,!1;e.shift()}return!0}function rE(t,e,n){ny(t)&&n.delete(e)}function _7(){tw=!1,il!==null&&ny(il)&&(il=null),al!==null&&ny(al)&&(al=null),ol!==null&&ny(ol)&&(ol=null),Zh.forEach(rE),Qh.forEach(rE)}function rh(t,e){t.blockedOn===e&&(t.blockedOn=null,tw||(tw=!0,Gi.unstable_scheduleCallback(Gi.unstable_NormalPriority,_7)))}function ep(t){function e(i){return rh(i,t)}if(0<dg.length){rh(dg[0],t);for(var n=1;n<dg.length;n++){var r=dg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(il!==null&&rh(il,t),al!==null&&rh(al,t),ol!==null&&rh(ol,t),Zh.forEach(e),Qh.forEach(e),n=0;n<Js.length;n++)r=Js[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Js.length&&(n=Js[0],n.blockedOn===null);)cO(n),n.blockedOn===null&&Js.shift()}var rd=gs.ReactCurrentBatchConfig,Ay=!0;function S7(t,e,n,r){var i=on,a=rd.transition;rd.transition=null;try{on=1,Y_(t,e,n,r)}finally{on=i,rd.transition=a}}function A7(t,e,n,r){var i=on,a=rd.transition;rd.transition=null;try{on=4,Y_(t,e,n,r)}finally{on=i,rd.transition=a}}function Y_(t,e,n,r){if(Ay){var i=nw(t,e,n,r);if(i===null)vx(t,e,r,Ey,n),nE(t,r);else if(w7(i,t,e,n,r))r.stopPropagation();else if(nE(t,r),e&4&&-1<b7.indexOf(t)){for(;i!==null;){var a=om(i);if(a!==null&&oO(a),a=nw(t,e,n,r),a===null&&vx(t,e,r,Ey,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else vx(t,e,r,null,n)}}var Ey=null;function nw(t,e,n,r){if(Ey=null,t=G_(r),t=xu(t),t!==null)if(e=Ku(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ZI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ey=t,null}function dO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d7()){case W_:return 1;case nO:return 4;case _y:case f7:return 16;case rO:return 536870912;default:return 16}default:return 16}}var Qs=null,X_=null,ry=null;function fO(){if(ry)return ry;var t,e=X_,n=e.length,r,i="value"in Qs?Qs.value:Qs.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return ry=i.slice(t,1<r?1-r:void 0)}function iy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fg(){return!0}function iE(){return!1}function Ji(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?fg:iE,this.isPropagationStopped=iE,this}return Mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fg)},persist:function(){},isPersistent:fg}),e}var tf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Z_=Ji(tf),am=Mn({},tf,{view:0,detail:0}),E7=Ji(am),ux,cx,ih,u0=Mn({},am,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Q_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ih&&(ih&&t.type==="mousemove"?(ux=t.screenX-ih.screenX,cx=t.screenY-ih.screenY):cx=ux=0,ih=t),ux)},movementY:function(t){return"movementY"in t?t.movementY:cx}}),aE=Ji(u0),N7=Mn({},u0,{dataTransfer:0}),T7=Ji(N7),P7=Mn({},am,{relatedTarget:0}),dx=Ji(P7),C7=Mn({},tf,{animationName:0,elapsedTime:0,pseudoElement:0}),k7=Ji(C7),I7=Mn({},tf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),O7=Ji(I7),j7=Mn({},tf,{data:0}),oE=Ji(j7),R7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D7(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=M7[t])?!!e[t]:!1}function Q_(){return D7}var $7=Mn({},am,{key:function(t){if(t.key){var e=R7[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=iy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?L7[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Q_,charCode:function(t){return t.type==="keypress"?iy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?iy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),F7=Ji($7),U7=Mn({},u0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sE=Ji(U7),B7=Mn({},am,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Q_}),q7=Ji(B7),V7=Mn({},tf,{propertyName:0,elapsedTime:0,pseudoElement:0}),z7=Ji(V7),H7=Mn({},u0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G7=Ji(H7),W7=[9,13,27,32],e5=ls&&"CompositionEvent"in window,kh=null;ls&&"documentMode"in document&&(kh=document.documentMode);var K7=ls&&"TextEvent"in window&&!kh,hO=ls&&(!e5||kh&&8<kh&&11>=kh),lE=" ",uE=!1;function pO(t,e){switch(t){case"keyup":return W7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $c=!1;function J7(t,e){switch(t){case"compositionend":return mO(e);case"keypress":return e.which!==32?null:(uE=!0,lE);case"textInput":return t=e.data,t===lE&&uE?null:t;default:return null}}function Y7(t,e){if($c)return t==="compositionend"||!e5&&pO(t,e)?(t=fO(),ry=X_=Qs=null,$c=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hO&&e.locale!=="ko"?null:e.data;default:return null}}var X7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!X7[t.type]:e==="textarea"}function gO(t,e,n,r){WI(r),e=Ny(e,"onChange"),0<e.length&&(n=new Z_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ih=null,tp=null;function Z7(t){TO(t,0)}function c0(t){var e=Bc(t);if(UI(e))return t}function Q7(t,e){if(t==="change")return e}var yO=!1;if(ls){var fx;if(ls){var hx="oninput"in document;if(!hx){var dE=document.createElement("div");dE.setAttribute("oninput","return;"),hx=typeof dE.oninput=="function"}fx=hx}else fx=!1;yO=fx&&(!document.documentMode||9<document.documentMode)}function fE(){Ih&&(Ih.detachEvent("onpropertychange",vO),tp=Ih=null)}function vO(t){if(t.propertyName==="value"&&c0(tp)){var e=[];gO(e,tp,t,G_(t)),XI(Z7,e)}}function eF(t,e,n){t==="focusin"?(fE(),Ih=e,tp=n,Ih.attachEvent("onpropertychange",vO)):t==="focusout"&&fE()}function tF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return c0(tp)}function nF(t,e){if(t==="click")return c0(e)}function rF(t,e){if(t==="input"||t==="change")return c0(e)}function iF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ka=typeof Object.is=="function"?Object.is:iF;function np(t,e){if(Ka(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$b.call(e,i)||!Ka(t[i],e[i]))return!1}return!0}function hE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pE(t,e){var n=hE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hE(n)}}function xO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bO(){for(var t=window,e=xy();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xy(t.document)}return e}function t5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aF(t){var e=bO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xO(n.ownerDocument.documentElement,n)){if(r!==null&&t5(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=pE(n,a);var o=pE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oF=ls&&"documentMode"in document&&11>=document.documentMode,Fc=null,rw=null,Oh=null,iw=!1;function mE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;iw||Fc==null||Fc!==xy(r)||(r=Fc,"selectionStart"in r&&t5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oh&&np(Oh,r)||(Oh=r,r=Ny(rw,"onSelect"),0<r.length&&(e=new Z_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fc)))}function hg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Uc={animationend:hg("Animation","AnimationEnd"),animationiteration:hg("Animation","AnimationIteration"),animationstart:hg("Animation","AnimationStart"),transitionend:hg("Transition","TransitionEnd")},px={},wO={};ls&&(wO=document.createElement("div").style,"AnimationEvent"in window||(delete Uc.animationend.animation,delete Uc.animationiteration.animation,delete Uc.animationstart.animation),"TransitionEvent"in window||delete Uc.transitionend.transition);function d0(t){if(px[t])return px[t];if(!Uc[t])return t;var e=Uc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wO)return px[t]=e[n];return t}var _O=d0("animationend"),SO=d0("animationiteration"),AO=d0("animationstart"),EO=d0("transitionend"),NO=new Map,gE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _l(t,e){NO.set(t,e),Wu(e,[t])}for(var mx=0;mx<gE.length;mx++){var gx=gE[mx],sF=gx.toLowerCase(),lF=gx[0].toUpperCase()+gx.slice(1);_l(sF,"on"+lF)}_l(_O,"onAnimationEnd");_l(SO,"onAnimationIteration");_l(AO,"onAnimationStart");_l("dblclick","onDoubleClick");_l("focusin","onFocus");_l("focusout","onBlur");_l(EO,"onTransitionEnd");md("onMouseEnter",["mouseout","mouseover"]);md("onMouseLeave",["mouseout","mouseover"]);md("onPointerEnter",["pointerout","pointerover"]);md("onPointerLeave",["pointerout","pointerover"]);Wu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ah="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ah));function yE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,s7(r,e,void 0,t),t.currentTarget=null}function TO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;yE(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;yE(i,s,u),a=l}}}if(wy)throw t=Qb,wy=!1,Qb=null,t}function Sn(t,e){var n=e[uw];n===void 0&&(n=e[uw]=new Set);var r=t+"__bubble";n.has(r)||(PO(e,t,2,!1),n.add(r))}function yx(t,e,n){var r=0;e&&(r|=4),PO(n,t,r,e)}var pg="_reactListening"+Math.random().toString(36).slice(2);function rp(t){if(!t[pg]){t[pg]=!0,LI.forEach(function(n){n!=="selectionchange"&&(uF.has(n)||yx(n,!1,t),yx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pg]||(e[pg]=!0,yx("selectionchange",!1,e))}}function PO(t,e,n,r){switch(dO(e)){case 1:var i=S7;break;case 4:i=A7;break;default:i=Y_}n=i.bind(null,e,n,t),i=void 0,!Zb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vx(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=xu(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}XI(function(){var u=a,c=G_(n),f=[];e:{var p=NO.get(t);if(p!==void 0){var h=Z_,y=t;switch(t){case"keypress":if(iy(n)===0)break e;case"keydown":case"keyup":h=F7;break;case"focusin":y="focus",h=dx;break;case"focusout":y="blur",h=dx;break;case"beforeblur":case"afterblur":h=dx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=aE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=T7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=q7;break;case _O:case SO:case AO:h=k7;break;case EO:h=z7;break;case"scroll":h=E7;break;case"wheel":h=G7;break;case"copy":case"cut":case"paste":h=O7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=sE}var g=(e&4)!==0,x=!g&&t==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var w=u,_;w!==null;){_=w;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,v!==null&&(A=Xh(w,v),A!=null&&g.push(ip(w,A,_)))),x)break;w=w.return}0<g.length&&(p=new h(p,y,null,n,c),f.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",p&&n!==Yb&&(y=n.relatedTarget||n.fromElement)&&(xu(y)||y[us]))break e;if((h||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,h?(y=n.relatedTarget||n.toElement,h=u,y=y?xu(y):null,y!==null&&(x=Ku(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=u),h!==y)){if(g=aE,A="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=sE,A="onPointerLeave",v="onPointerEnter",w="pointer"),x=h==null?p:Bc(h),_=y==null?p:Bc(y),p=new g(A,w+"leave",h,n,c),p.target=x,p.relatedTarget=_,A=null,xu(c)===u&&(g=new g(v,w+"enter",y,n,c),g.target=_,g.relatedTarget=x,A=g),x=A,h&&y)t:{for(g=h,v=y,w=0,_=g;_;_=vc(_))w++;for(_=0,A=v;A;A=vc(A))_++;for(;0<w-_;)g=vc(g),w--;for(;0<_-w;)v=vc(v),_--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=vc(g),v=vc(v)}g=null}else g=null;h!==null&&vE(f,p,h,g,!1),y!==null&&x!==null&&vE(f,x,y,g,!0)}}e:{if(p=u?Bc(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var S=Q7;else if(cE(p))if(yO)S=rF;else{S=tF;var N=eF}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=nF);if(S&&(S=S(t,u))){gO(f,S,n,c);break e}N&&N(t,p,u),t==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&Hb(p,"number",p.value)}switch(N=u?Bc(u):window,t){case"focusin":(cE(N)||N.contentEditable==="true")&&(Fc=N,rw=u,Oh=null);break;case"focusout":Oh=rw=Fc=null;break;case"mousedown":iw=!0;break;case"contextmenu":case"mouseup":case"dragend":iw=!1,mE(f,n,c);break;case"selectionchange":if(oF)break;case"keydown":case"keyup":mE(f,n,c)}var C;if(e5)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else $c?pO(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(hO&&n.locale!=="ko"&&($c||I!=="onCompositionStart"?I==="onCompositionEnd"&&$c&&(C=fO()):(Qs=c,X_="value"in Qs?Qs.value:Qs.textContent,$c=!0)),N=Ny(u,I),0<N.length&&(I=new oE(I,t,null,n,c),f.push({event:I,listeners:N}),C?I.data=C:(C=mO(n),C!==null&&(I.data=C)))),(C=K7?J7(t,n):Y7(t,n))&&(u=Ny(u,"onBeforeInput"),0<u.length&&(c=new oE("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=C))}TO(f,e)})}function ip(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ny(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Xh(t,n),a!=null&&r.unshift(ip(t,a,i)),a=Xh(t,e),a!=null&&r.push(ip(t,a,i))),t=t.return}return r}function vc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vE(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Xh(n,a),l!=null&&o.unshift(ip(n,l,s))):i||(l=Xh(n,a),l!=null&&o.push(ip(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cF=/\r\n?/g,dF=/\u0000|\uFFFD/g;function xE(t){return(typeof t=="string"?t:""+t).replace(cF,`
`).replace(dF,"")}function mg(t,e,n){if(e=xE(e),xE(t)!==e&&n)throw Error(Me(425))}function Ty(){}var aw=null,ow=null;function sw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lw=typeof setTimeout=="function"?setTimeout:void 0,fF=typeof clearTimeout=="function"?clearTimeout:void 0,bE=typeof Promise=="function"?Promise:void 0,hF=typeof queueMicrotask=="function"?queueMicrotask:typeof bE<"u"?function(t){return bE.resolve(null).then(t).catch(pF)}:lw;function pF(t){setTimeout(function(){throw t})}function xx(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ep(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ep(e)}function sl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var nf=Math.random().toString(36).slice(2),fo="__reactFiber$"+nf,ap="__reactProps$"+nf,us="__reactContainer$"+nf,uw="__reactEvents$"+nf,mF="__reactListeners$"+nf,gF="__reactHandles$"+nf;function xu(t){var e=t[fo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[us]||n[fo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wE(t);t!==null;){if(n=t[fo])return n;t=wE(t)}return e}t=n,n=t.parentNode}return null}function om(t){return t=t[fo]||t[us],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Me(33))}function f0(t){return t[ap]||null}var cw=[],qc=-1;function Sl(t){return{current:t}}function Tn(t){0>qc||(t.current=cw[qc],cw[qc]=null,qc--)}function bn(t,e){qc++,cw[qc]=t.current,t.current=e}var gl={},Zr=Sl(gl),vi=Sl(!1),ju=gl;function gd(t,e){var n=t.type.contextTypes;if(!n)return gl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xi(t){return t=t.childContextTypes,t!=null}function Py(){Tn(vi),Tn(Zr)}function _E(t,e,n){if(Zr.current!==gl)throw Error(Me(168));bn(Zr,e),bn(vi,n)}function CO(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Me(108,e7(t)||"Unknown",i));return Mn({},n,r)}function Cy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gl,ju=Zr.current,bn(Zr,t),bn(vi,vi.current),!0}function SE(t,e,n){var r=t.stateNode;if(!r)throw Error(Me(169));n?(t=CO(t,e,ju),r.__reactInternalMemoizedMergedChildContext=t,Tn(vi),Tn(Zr),bn(Zr,t)):Tn(vi),bn(vi,n)}var Yo=null,h0=!1,bx=!1;function kO(t){Yo===null?Yo=[t]:Yo.push(t)}function yF(t){h0=!0,kO(t)}function Al(){if(!bx&&Yo!==null){bx=!0;var t=0,e=on;try{var n=Yo;for(on=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yo=null,h0=!1}catch(i){throw Yo!==null&&(Yo=Yo.slice(t+1)),tO(W_,Al),i}finally{on=e,bx=!1}}return null}var Vc=[],zc=0,ky=null,Iy=0,fa=[],ha=0,Ru=null,Zo=1,Qo="";function su(t,e){Vc[zc++]=Iy,Vc[zc++]=ky,ky=t,Iy=e}function IO(t,e,n){fa[ha++]=Zo,fa[ha++]=Qo,fa[ha++]=Ru,Ru=t;var r=Zo;t=Qo;var i=32-za(r)-1;r&=~(1<<i),n+=1;var a=32-za(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zo=1<<32-za(e)+i|n<<i|r,Qo=a+t}else Zo=1<<a|n<<i|r,Qo=t}function n5(t){t.return!==null&&(su(t,1),IO(t,1,0))}function r5(t){for(;t===ky;)ky=Vc[--zc],Vc[zc]=null,Iy=Vc[--zc],Vc[zc]=null;for(;t===Ru;)Ru=fa[--ha],fa[ha]=null,Qo=fa[--ha],fa[ha]=null,Zo=fa[--ha],fa[ha]=null}var Vi=null,Bi=null,Cn=!1,qa=null;function OO(t,e){var n=ma(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function AE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vi=t,Bi=sl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vi=t,Bi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ru!==null?{id:Zo,overflow:Qo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ma(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vi=t,Bi=null,!0):!1;default:return!1}}function dw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fw(t){if(Cn){var e=Bi;if(e){var n=e;if(!AE(t,e)){if(dw(t))throw Error(Me(418));e=sl(n.nextSibling);var r=Vi;e&&AE(t,e)?OO(r,n):(t.flags=t.flags&-4097|2,Cn=!1,Vi=t)}}else{if(dw(t))throw Error(Me(418));t.flags=t.flags&-4097|2,Cn=!1,Vi=t}}}function EE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vi=t}function gg(t){if(t!==Vi)return!1;if(!Cn)return EE(t),Cn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sw(t.type,t.memoizedProps)),e&&(e=Bi)){if(dw(t))throw jO(),Error(Me(418));for(;e;)OO(t,e),e=sl(e.nextSibling)}if(EE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bi=sl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bi=null}}else Bi=Vi?sl(t.stateNode.nextSibling):null;return!0}function jO(){for(var t=Bi;t;)t=sl(t.nextSibling)}function yd(){Bi=Vi=null,Cn=!1}function i5(t){qa===null?qa=[t]:qa.push(t)}var vF=gs.ReactCurrentBatchConfig;function ah(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Me(309));var r=n.stateNode}if(!r)throw Error(Me(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Me(284));if(!n._owner)throw Error(Me(290,t))}return t}function yg(t,e){throw t=Object.prototype.toString.call(e),Error(Me(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function NE(t){var e=t._init;return e(t._payload)}function RO(t){function e(v,w){if(t){var _=v.deletions;_===null?(v.deletions=[w],v.flags|=16):_.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=dl(v,w),v.index=0,v.sibling=null,v}function a(v,w,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<w?(v.flags|=2,w):_):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,w,_,A){return w===null||w.tag!==6?(w=Tx(_,v.mode,A),w.return=v,w):(w=i(w,_),w.return=v,w)}function l(v,w,_,A){var S=_.type;return S===Dc?c(v,w,_.props.children,A,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Hs&&NE(S)===w.type)?(A=i(w,_.props),A.ref=ah(v,w,_),A.return=v,A):(A=dy(_.type,_.key,_.props,null,v.mode,A),A.ref=ah(v,w,_),A.return=v,A)}function u(v,w,_,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Px(_,v.mode,A),w.return=v,w):(w=i(w,_.children||[]),w.return=v,w)}function c(v,w,_,A,S){return w===null||w.tag!==7?(w=Pu(_,v.mode,A,S),w.return=v,w):(w=i(w,_),w.return=v,w)}function f(v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Tx(""+w,v.mode,_),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case og:return _=dy(w.type,w.key,w.props,null,v.mode,_),_.ref=ah(v,null,w),_.return=v,_;case Mc:return w=Px(w,v.mode,_),w.return=v,w;case Hs:var A=w._init;return f(v,A(w._payload),_)}if(_h(w)||eh(w))return w=Pu(w,v.mode,_,null),w.return=v,w;yg(v,w)}return null}function p(v,w,_,A){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(v,w,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case og:return _.key===S?l(v,w,_,A):null;case Mc:return _.key===S?u(v,w,_,A):null;case Hs:return S=_._init,p(v,w,S(_._payload),A)}if(_h(_)||eh(_))return S!==null?null:c(v,w,_,A,null);yg(v,_)}return null}function h(v,w,_,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(_)||null,s(w,v,""+A,S);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case og:return v=v.get(A.key===null?_:A.key)||null,l(w,v,A,S);case Mc:return v=v.get(A.key===null?_:A.key)||null,u(w,v,A,S);case Hs:var N=A._init;return h(v,w,_,N(A._payload),S)}if(_h(A)||eh(A))return v=v.get(_)||null,c(w,v,A,S,null);yg(w,A)}return null}function y(v,w,_,A){for(var S=null,N=null,C=w,I=w=0,R=null;C!==null&&I<_.length;I++){C.index>I?(R=C,C=null):R=C.sibling;var U=p(v,C,_[I],A);if(U===null){C===null&&(C=R);break}t&&C&&U.alternate===null&&e(v,C),w=a(U,w,I),N===null?S=U:N.sibling=U,N=U,C=R}if(I===_.length)return n(v,C),Cn&&su(v,I),S;if(C===null){for(;I<_.length;I++)C=f(v,_[I],A),C!==null&&(w=a(C,w,I),N===null?S=C:N.sibling=C,N=C);return Cn&&su(v,I),S}for(C=r(v,C);I<_.length;I++)R=h(C,v,I,_[I],A),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?I:R.key),w=a(R,w,I),N===null?S=R:N.sibling=R,N=R);return t&&C.forEach(function(P){return e(v,P)}),Cn&&su(v,I),S}function g(v,w,_,A){var S=eh(_);if(typeof S!="function")throw Error(Me(150));if(_=S.call(_),_==null)throw Error(Me(151));for(var N=S=null,C=w,I=w=0,R=null,U=_.next();C!==null&&!U.done;I++,U=_.next()){C.index>I?(R=C,C=null):R=C.sibling;var P=p(v,C,U.value,A);if(P===null){C===null&&(C=R);break}t&&C&&P.alternate===null&&e(v,C),w=a(P,w,I),N===null?S=P:N.sibling=P,N=P,C=R}if(U.done)return n(v,C),Cn&&su(v,I),S;if(C===null){for(;!U.done;I++,U=_.next())U=f(v,U.value,A),U!==null&&(w=a(U,w,I),N===null?S=U:N.sibling=U,N=U);return Cn&&su(v,I),S}for(C=r(v,C);!U.done;I++,U=_.next())U=h(C,v,I,U.value,A),U!==null&&(t&&U.alternate!==null&&C.delete(U.key===null?I:U.key),w=a(U,w,I),N===null?S=U:N.sibling=U,N=U);return t&&C.forEach(function(O){return e(v,O)}),Cn&&su(v,I),S}function x(v,w,_,A){if(typeof _=="object"&&_!==null&&_.type===Dc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case og:e:{for(var S=_.key,N=w;N!==null;){if(N.key===S){if(S=_.type,S===Dc){if(N.tag===7){n(v,N.sibling),w=i(N,_.props.children),w.return=v,v=w;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Hs&&NE(S)===N.type){n(v,N.sibling),w=i(N,_.props),w.ref=ah(v,N,_),w.return=v,v=w;break e}n(v,N);break}else e(v,N);N=N.sibling}_.type===Dc?(w=Pu(_.props.children,v.mode,A,_.key),w.return=v,v=w):(A=dy(_.type,_.key,_.props,null,v.mode,A),A.ref=ah(v,w,_),A.return=v,v=A)}return o(v);case Mc:e:{for(N=_.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(v,w.sibling),w=i(w,_.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=Px(_,v.mode,A),w.return=v,v=w}return o(v);case Hs:return N=_._init,x(v,w,N(_._payload),A)}if(_h(_))return y(v,w,_,A);if(eh(_))return g(v,w,_,A);yg(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,_),w.return=v,v=w):(n(v,w),w=Tx(_,v.mode,A),w.return=v,v=w),o(v)):n(v,w)}return x}var vd=RO(!0),LO=RO(!1),Oy=Sl(null),jy=null,Hc=null,a5=null;function o5(){a5=Hc=jy=null}function s5(t){var e=Oy.current;Tn(Oy),t._currentValue=e}function hw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function id(t,e){jy=t,a5=Hc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gi=!0),t.firstContext=null)}function va(t){var e=t._currentValue;if(a5!==t)if(t={context:t,memoizedValue:e,next:null},Hc===null){if(jy===null)throw Error(Me(308));Hc=t,jy.dependencies={lanes:0,firstContext:t}}else Hc=Hc.next=t;return e}var bu=null;function l5(t){bu===null?bu=[t]:bu.push(t)}function MO(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,l5(e)):(n.next=i.next,i.next=n),e.interleaved=n,cs(t,r)}function cs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gs=!1;function u5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function is(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ll(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ht&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,cs(t,n)}return i=r.interleaved,i===null?(e.next=e,l5(r)):(e.next=i.next,i.next=e),r.interleaved=e,cs(t,n)}function ay(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,K_(t,n)}}function TE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ry(t,e,n,r){var i=t.updateQueue;Gs=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var p=s.lane,h=s.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,g=s;switch(p=e,h=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(h,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(h,f,p):y,p==null)break e;f=Mn({},f,p);break e;case 2:Gs=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else h={eventTime:h,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Mu|=o,t.lanes=o,t.memoizedState=f}}function PE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Me(191,i));i.call(r)}}}var sm={},go=Sl(sm),op=Sl(sm),sp=Sl(sm);function wu(t){if(t===sm)throw Error(Me(174));return t}function c5(t,e){switch(bn(sp,e),bn(op,t),bn(go,sm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wb(e,t)}Tn(go),bn(go,e)}function xd(){Tn(go),Tn(op),Tn(sp)}function $O(t){wu(sp.current);var e=wu(go.current),n=Wb(e,t.type);e!==n&&(bn(op,t),bn(go,n))}function d5(t){op.current===t&&(Tn(go),Tn(op))}var Rn=Sl(0);function Ly(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wx=[];function f5(){for(var t=0;t<wx.length;t++)wx[t]._workInProgressVersionPrimary=null;wx.length=0}var oy=gs.ReactCurrentDispatcher,_x=gs.ReactCurrentBatchConfig,Lu=0,Ln=null,yr=null,Er=null,My=!1,jh=!1,lp=0,xF=0;function qr(){throw Error(Me(321))}function h5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ka(t[n],e[n]))return!1;return!0}function p5(t,e,n,r,i,a){if(Lu=a,Ln=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oy.current=t===null||t.memoizedState===null?SF:AF,t=n(r,i),jh){a=0;do{if(jh=!1,lp=0,25<=a)throw Error(Me(301));a+=1,Er=yr=null,e.updateQueue=null,oy.current=EF,t=n(r,i)}while(jh)}if(oy.current=Dy,e=yr!==null&&yr.next!==null,Lu=0,Er=yr=Ln=null,My=!1,e)throw Error(Me(300));return t}function m5(){var t=lp!==0;return lp=0,t}function co(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?Ln.memoizedState=Er=t:Er=Er.next=t,Er}function xa(){if(yr===null){var t=Ln.alternate;t=t!==null?t.memoizedState:null}else t=yr.next;var e=Er===null?Ln.memoizedState:Er.next;if(e!==null)Er=e,yr=t;else{if(t===null)throw Error(Me(310));yr=t,t={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},Er===null?Ln.memoizedState=Er=t:Er=Er.next=t}return Er}function up(t,e){return typeof e=="function"?e(t):e}function Sx(t){var e=xa(),n=e.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=t;var r=yr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((Lu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,Ln.lanes|=c,Mu|=c}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,Ka(r,e.memoizedState)||(gi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Ln.lanes|=a,Mu|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ax(t){var e=xa(),n=e.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Ka(a,e.memoizedState)||(gi=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function FO(){}function UO(t,e){var n=Ln,r=xa(),i=e(),a=!Ka(r.memoizedState,i);if(a&&(r.memoizedState=i,gi=!0),r=r.queue,g5(VO.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Er!==null&&Er.memoizedState.tag&1){if(n.flags|=2048,cp(9,qO.bind(null,n,r,i,e),void 0,null),Pr===null)throw Error(Me(349));Lu&30||BO(n,e,i)}return i}function BO(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ln.updateQueue,e===null?(e={lastEffect:null,stores:null},Ln.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qO(t,e,n,r){e.value=n,e.getSnapshot=r,zO(e)&&HO(t)}function VO(t,e,n){return n(function(){zO(e)&&HO(t)})}function zO(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ka(t,n)}catch{return!0}}function HO(t){var e=cs(t,1);e!==null&&Ha(e,t,1,-1)}function CE(t){var e=co();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:t},e.queue=t,t=t.dispatch=_F.bind(null,Ln,t),[e.memoizedState,t]}function cp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ln.updateQueue,e===null?(e={lastEffect:null,stores:null},Ln.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function GO(){return xa().memoizedState}function sy(t,e,n,r){var i=co();Ln.flags|=t,i.memoizedState=cp(1|e,n,void 0,r===void 0?null:r)}function p0(t,e,n,r){var i=xa();r=r===void 0?null:r;var a=void 0;if(yr!==null){var o=yr.memoizedState;if(a=o.destroy,r!==null&&h5(r,o.deps)){i.memoizedState=cp(e,n,a,r);return}}Ln.flags|=t,i.memoizedState=cp(1|e,n,a,r)}function kE(t,e){return sy(8390656,8,t,e)}function g5(t,e){return p0(2048,8,t,e)}function WO(t,e){return p0(4,2,t,e)}function KO(t,e){return p0(4,4,t,e)}function JO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YO(t,e,n){return n=n!=null?n.concat([t]):null,p0(4,4,JO.bind(null,e,t),n)}function y5(){}function XO(t,e){var n=xa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&h5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ZO(t,e){var n=xa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&h5(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QO(t,e,n){return Lu&21?(Ka(n,e)||(n=iO(),Ln.lanes|=n,Mu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gi=!0),t.memoizedState=n)}function bF(t,e){var n=on;on=n!==0&&4>n?n:4,t(!0);var r=_x.transition;_x.transition={};try{t(!1),e()}finally{on=n,_x.transition=r}}function e6(){return xa().memoizedState}function wF(t,e,n){var r=cl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},t6(t))n6(e,n);else if(n=MO(t,e,n,r),n!==null){var i=si();Ha(n,t,r,i),r6(n,e,r)}}function _F(t,e,n){var r=cl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(t6(t))n6(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Ka(s,o)){var l=e.interleaved;l===null?(i.next=i,l5(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=MO(t,e,i,r),n!==null&&(i=si(),Ha(n,t,r,i),r6(n,e,r))}}function t6(t){var e=t.alternate;return t===Ln||e!==null&&e===Ln}function n6(t,e){jh=My=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function r6(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,K_(t,n)}}var Dy={readContext:va,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useInsertionEffect:qr,useLayoutEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useMutableSource:qr,useSyncExternalStore:qr,useId:qr,unstable_isNewReconciler:!1},SF={readContext:va,useCallback:function(t,e){return co().memoizedState=[t,e===void 0?null:e],t},useContext:va,useEffect:kE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sy(4194308,4,JO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sy(4194308,4,t,e)},useInsertionEffect:function(t,e){return sy(4,2,t,e)},useMemo:function(t,e){var n=co();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=co();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wF.bind(null,Ln,t),[r.memoizedState,t]},useRef:function(t){var e=co();return t={current:t},e.memoizedState=t},useState:CE,useDebugValue:y5,useDeferredValue:function(t){return co().memoizedState=t},useTransition:function(){var t=CE(!1),e=t[0];return t=bF.bind(null,t[1]),co().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ln,i=co();if(Cn){if(n===void 0)throw Error(Me(407));n=n()}else{if(n=e(),Pr===null)throw Error(Me(349));Lu&30||BO(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,kE(VO.bind(null,r,a,t),[t]),r.flags|=2048,cp(9,qO.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=co(),e=Pr.identifierPrefix;if(Cn){var n=Qo,r=Zo;n=(r&~(1<<32-za(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AF={readContext:va,useCallback:XO,useContext:va,useEffect:g5,useImperativeHandle:YO,useInsertionEffect:WO,useLayoutEffect:KO,useMemo:ZO,useReducer:Sx,useRef:GO,useState:function(){return Sx(up)},useDebugValue:y5,useDeferredValue:function(t){var e=xa();return QO(e,yr.memoizedState,t)},useTransition:function(){var t=Sx(up)[0],e=xa().memoizedState;return[t,e]},useMutableSource:FO,useSyncExternalStore:UO,useId:e6,unstable_isNewReconciler:!1},EF={readContext:va,useCallback:XO,useContext:va,useEffect:g5,useImperativeHandle:YO,useInsertionEffect:WO,useLayoutEffect:KO,useMemo:ZO,useReducer:Ax,useRef:GO,useState:function(){return Ax(up)},useDebugValue:y5,useDeferredValue:function(t){var e=xa();return yr===null?e.memoizedState=t:QO(e,yr.memoizedState,t)},useTransition:function(){var t=Ax(up)[0],e=xa().memoizedState;return[t,e]},useMutableSource:FO,useSyncExternalStore:UO,useId:e6,unstable_isNewReconciler:!1};function Da(t,e){if(t&&t.defaultProps){e=Mn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function pw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Mn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var m0={isMounted:function(t){return(t=t._reactInternals)?Ku(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=si(),i=cl(t),a=is(r,i);a.payload=e,n!=null&&(a.callback=n),e=ll(t,a,i),e!==null&&(Ha(e,t,i,r),ay(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=si(),i=cl(t),a=is(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=ll(t,a,i),e!==null&&(Ha(e,t,i,r),ay(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=si(),r=cl(t),i=is(n,r);i.tag=2,e!=null&&(i.callback=e),e=ll(t,i,r),e!==null&&(Ha(e,t,r,n),ay(e,t,r))}};function IE(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!np(n,r)||!np(i,a):!0}function i6(t,e,n){var r=!1,i=gl,a=e.contextType;return typeof a=="object"&&a!==null?a=va(a):(i=xi(e)?ju:Zr.current,r=e.contextTypes,a=(r=r!=null)?gd(t,i):gl),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=m0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function OE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&m0.enqueueReplaceState(e,e.state,null)}function mw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},u5(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=va(a):(a=xi(e)?ju:Zr.current,i.context=gd(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(pw(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&m0.enqueueReplaceState(i,i.state,null),Ry(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function bd(t,e){try{var n="",r=e;do n+=Q$(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Ex(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var NF=typeof WeakMap=="function"?WeakMap:Map;function a6(t,e,n){n=is(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fy||(Fy=!0,Nw=r),gw(t,e)},n}function o6(t,e,n){n=is(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){gw(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){gw(t,e),typeof r!="function"&&(ul===null?ul=new Set([this]):ul.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function jE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new NF;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=UF.bind(null,t,e,n),e.then(t,t))}function RE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function LE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=is(-1,1),e.tag=2,ll(n,e,1))),n.lanes|=1),t)}var TF=gs.ReactCurrentOwner,gi=!1;function ni(t,e,n,r){e.child=t===null?LO(e,null,n,r):vd(e,t.child,n,r)}function ME(t,e,n,r,i){n=n.render;var a=e.ref;return id(e,i),r=p5(t,e,n,r,a,i),n=m5(),t!==null&&!gi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ds(t,e,i)):(Cn&&n&&n5(e),e.flags|=1,ni(t,e,r,i),e.child)}function DE(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!E5(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,s6(t,e,a,r,i)):(t=dy(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:np,n(o,r)&&t.ref===e.ref)return ds(t,e,i)}return e.flags|=1,t=dl(a,r),t.ref=e.ref,t.return=e,e.child=t}function s6(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(np(a,r)&&t.ref===e.ref)if(gi=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(gi=!0);else return e.lanes=t.lanes,ds(t,e,i)}return yw(t,e,n,r,i)}function l6(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},bn(Wc,Li),Li|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,bn(Wc,Li),Li|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,bn(Wc,Li),Li|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,bn(Wc,Li),Li|=r;return ni(t,e,i,n),e.child}function u6(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function yw(t,e,n,r,i){var a=xi(n)?ju:Zr.current;return a=gd(e,a),id(e,i),n=p5(t,e,n,r,a,i),r=m5(),t!==null&&!gi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ds(t,e,i)):(Cn&&r&&n5(e),e.flags|=1,ni(t,e,n,i),e.child)}function $E(t,e,n,r,i){if(xi(n)){var a=!0;Cy(e)}else a=!1;if(id(e,i),e.stateNode===null)ly(t,e),i6(e,n,r),mw(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=va(u):(u=xi(n)?ju:Zr.current,u=gd(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&OE(e,o,r,u),Gs=!1;var p=e.memoizedState;o.state=p,Ry(e,r,o,i),l=e.memoizedState,s!==r||p!==l||vi.current||Gs?(typeof c=="function"&&(pw(e,n,c,r),l=e.memoizedState),(s=Gs||IE(e,n,s,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,DO(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Da(e.type,s),o.props=u,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=va(l):(l=xi(n)?ju:Zr.current,l=gd(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||p!==l)&&OE(e,o,r,l),Gs=!1,p=e.memoizedState,o.state=p,Ry(e,r,o,i);var y=e.memoizedState;s!==f||p!==y||vi.current||Gs?(typeof h=="function"&&(pw(e,n,h,r),y=e.memoizedState),(u=Gs||IE(e,n,u,r,p,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return vw(t,e,n,r,a,i)}function vw(t,e,n,r,i,a){u6(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&SE(e,n,!1),ds(t,e,a);r=e.stateNode,TF.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=vd(e,t.child,null,a),e.child=vd(e,null,s,a)):ni(t,e,s,a),e.memoizedState=r.state,i&&SE(e,n,!0),e.child}function c6(t){var e=t.stateNode;e.pendingContext?_E(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_E(t,e.context,!1),c5(t,e.containerInfo)}function FE(t,e,n,r,i){return yd(),i5(i),e.flags|=256,ni(t,e,n,r),e.child}var xw={dehydrated:null,treeContext:null,retryLane:0};function bw(t){return{baseLanes:t,cachePool:null,transitions:null}}function d6(t,e,n){var r=e.pendingProps,i=Rn.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),bn(Rn,i&1),t===null)return fw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=v0(o,r,0,null),t=Pu(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=bw(n),e.memoizedState=xw,t):v5(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return PF(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=dl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=dl(s,a):(a=Pu(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?bw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=xw,r}return a=t.child,t=a.sibling,r=dl(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function v5(t,e){return e=v0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vg(t,e,n,r){return r!==null&&i5(r),vd(e,t.child,null,n),t=v5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function PF(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=Ex(Error(Me(422))),vg(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=v0({mode:"visible",children:r.children},i,0,null),a=Pu(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&vd(e,t.child,null,o),e.child.memoizedState=bw(o),e.memoizedState=xw,a);if(!(e.mode&1))return vg(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(Me(419)),r=Ex(a,r,void 0),vg(t,e,o,r)}if(s=(o&t.childLanes)!==0,gi||s){if(r=Pr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,cs(t,i),Ha(r,t,i,-1))}return A5(),r=Ex(Error(Me(421))),vg(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=BF.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Bi=sl(i.nextSibling),Vi=e,Cn=!0,qa=null,t!==null&&(fa[ha++]=Zo,fa[ha++]=Qo,fa[ha++]=Ru,Zo=t.id,Qo=t.overflow,Ru=e),e=v5(e,r.children),e.flags|=4096,e)}function UE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hw(t.return,e,n)}function Nx(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function f6(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(ni(t,e,r.children,n),r=Rn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&UE(t,n,e);else if(t.tag===19)UE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(bn(Rn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ly(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Nx(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ly(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Nx(e,!0,n,null,a);break;case"together":Nx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ly(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ds(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Me(153));if(e.child!==null){for(t=e.child,n=dl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=dl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function CF(t,e,n){switch(e.tag){case 3:c6(e),yd();break;case 5:$O(e);break;case 1:xi(e.type)&&Cy(e);break;case 4:c5(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;bn(Oy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(bn(Rn,Rn.current&1),e.flags|=128,null):n&e.child.childLanes?d6(t,e,n):(bn(Rn,Rn.current&1),t=ds(t,e,n),t!==null?t.sibling:null);bn(Rn,Rn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return f6(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bn(Rn,Rn.current),r)break;return null;case 22:case 23:return e.lanes=0,l6(t,e,n)}return ds(t,e,n)}var h6,ww,p6,m6;h6=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ww=function(){};p6=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,wu(go.current);var a=null;switch(n){case"input":i=Vb(t,i),r=Vb(t,r),a=[];break;case"select":i=Mn({},i,{value:void 0}),r=Mn({},r,{value:void 0}),a=[];break;case"textarea":i=Gb(t,i),r=Gb(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ty)}Kb(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jh.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Sn("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};m6=function(t,e,n,r){n!==r&&(e.flags|=4)};function oh(t,e){if(!Cn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kF(t,e,n){var r=e.pendingProps;switch(r5(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(e),null;case 1:return xi(e.type)&&Py(),Vr(e),null;case 3:return r=e.stateNode,xd(),Tn(vi),Tn(Zr),f5(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qa!==null&&(Cw(qa),qa=null))),ww(t,e),Vr(e),null;case 5:d5(e);var i=wu(sp.current);if(n=e.type,t!==null&&e.stateNode!=null)p6(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Me(166));return Vr(e),null}if(t=wu(go.current),gg(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[fo]=e,r[ap]=a,t=(e.mode&1)!==0,n){case"dialog":Sn("cancel",r),Sn("close",r);break;case"iframe":case"object":case"embed":Sn("load",r);break;case"video":case"audio":for(i=0;i<Ah.length;i++)Sn(Ah[i],r);break;case"source":Sn("error",r);break;case"img":case"image":case"link":Sn("error",r),Sn("load",r);break;case"details":Sn("toggle",r);break;case"input":JA(r,a),Sn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Sn("invalid",r);break;case"textarea":XA(r,a),Sn("invalid",r)}Kb(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&mg(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&mg(r.textContent,s,t),i=["children",""+s]):Jh.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Sn("scroll",r)}switch(n){case"input":sg(r),YA(r,a,!0);break;case"textarea":sg(r),ZA(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Ty)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fo]=e,t[ap]=r,h6(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jb(n,r),n){case"dialog":Sn("cancel",t),Sn("close",t),i=r;break;case"iframe":case"object":case"embed":Sn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ah.length;i++)Sn(Ah[i],t);i=r;break;case"source":Sn("error",t),i=r;break;case"img":case"image":case"link":Sn("error",t),Sn("load",t),i=r;break;case"details":Sn("toggle",t),i=r;break;case"input":JA(t,r),i=Vb(t,r),Sn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Mn({},r,{value:void 0}),Sn("invalid",t);break;case"textarea":XA(t,r),i=Gb(t,r),Sn("invalid",t);break;default:i=r}Kb(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?GI(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zI(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yh(t,l):typeof l=="number"&&Yh(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Jh.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Sn("scroll",t):l!=null&&q_(t,a,l,o))}switch(n){case"input":sg(t),YA(t,r,!1);break;case"textarea":sg(t),ZA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ml(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?ed(t,!!r.multiple,a,!1):r.defaultValue!=null&&ed(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ty)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vr(e),null;case 6:if(t&&e.stateNode!=null)m6(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Me(166));if(n=wu(sp.current),wu(go.current),gg(e)){if(r=e.stateNode,n=e.memoizedProps,r[fo]=e,(a=r.nodeValue!==n)&&(t=Vi,t!==null))switch(t.tag){case 3:mg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mg(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fo]=e,e.stateNode=r}return Vr(e),null;case 13:if(Tn(Rn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Cn&&Bi!==null&&e.mode&1&&!(e.flags&128))jO(),yd(),e.flags|=98560,a=!1;else if(a=gg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Me(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Me(317));a[fo]=e}else yd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vr(e),a=!1}else qa!==null&&(Cw(qa),qa=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Rn.current&1?xr===0&&(xr=3):A5())),e.updateQueue!==null&&(e.flags|=4),Vr(e),null);case 4:return xd(),ww(t,e),t===null&&rp(e.stateNode.containerInfo),Vr(e),null;case 10:return s5(e.type._context),Vr(e),null;case 17:return xi(e.type)&&Py(),Vr(e),null;case 19:if(Tn(Rn),a=e.memoizedState,a===null)return Vr(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)oh(a,!1);else{if(xr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ly(t),o!==null){for(e.flags|=128,oh(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return bn(Rn,Rn.current&1|2),e.child}t=t.sibling}a.tail!==null&&Jn()>wd&&(e.flags|=128,r=!0,oh(a,!1),e.lanes=4194304)}else{if(!r)if(t=Ly(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),oh(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Cn)return Vr(e),null}else 2*Jn()-a.renderingStartTime>wd&&n!==1073741824&&(e.flags|=128,r=!0,oh(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Jn(),e.sibling=null,n=Rn.current,bn(Rn,r?n&1|2:n&1),e):(Vr(e),null);case 22:case 23:return S5(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Li&1073741824&&(Vr(e),e.subtreeFlags&6&&(e.flags|=8192)):Vr(e),null;case 24:return null;case 25:return null}throw Error(Me(156,e.tag))}function IF(t,e){switch(r5(e),e.tag){case 1:return xi(e.type)&&Py(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xd(),Tn(vi),Tn(Zr),f5(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return d5(e),null;case 13:if(Tn(Rn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Me(340));yd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tn(Rn),null;case 4:return xd(),null;case 10:return s5(e.type._context),null;case 22:case 23:return S5(),null;case 24:return null;default:return null}}var xg=!1,Yr=!1,OF=typeof WeakSet=="function"?WeakSet:Set,We=null;function Gc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qn(t,e,r)}else n.current=null}function _w(t,e,n){try{n()}catch(r){qn(t,e,r)}}var BE=!1;function jF(t,e){if(aw=Ay,t=bO(),t5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,p=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===t)break t;if(p===n&&++u===i&&(s=o),p===a&&++c===r&&(l=o),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ow={focusedElem:t,selectionRange:n},Ay=!1,We=e;We!==null;)if(e=We,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,We=t;else for(;We!==null;){e=We;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,x=y.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Da(e.type,g),x);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(A){qn(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,We=t;break}We=e.return}return y=BE,BE=!1,y}function Rh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&_w(e,n,a)}i=i.next}while(i!==r)}}function g0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function g6(t){var e=t.alternate;e!==null&&(t.alternate=null,g6(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fo],delete e[ap],delete e[uw],delete e[mF],delete e[gF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function y6(t){return t.tag===5||t.tag===3||t.tag===4}function qE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y6(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Aw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ty));else if(r!==4&&(t=t.child,t!==null))for(Aw(t,e,n),t=t.sibling;t!==null;)Aw(t,e,n),t=t.sibling}function Ew(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ew(t,e,n),t=t.sibling;t!==null;)Ew(t,e,n),t=t.sibling}var Mr=null,Fa=!1;function Us(t,e,n){for(n=n.child;n!==null;)v6(t,e,n),n=n.sibling}function v6(t,e,n){if(mo&&typeof mo.onCommitFiberUnmount=="function")try{mo.onCommitFiberUnmount(l0,n)}catch{}switch(n.tag){case 5:Yr||Gc(n,e);case 6:var r=Mr,i=Fa;Mr=null,Us(t,e,n),Mr=r,Fa=i,Mr!==null&&(Fa?(t=Mr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mr.removeChild(n.stateNode));break;case 18:Mr!==null&&(Fa?(t=Mr,n=n.stateNode,t.nodeType===8?xx(t.parentNode,n):t.nodeType===1&&xx(t,n),ep(t)):xx(Mr,n.stateNode));break;case 4:r=Mr,i=Fa,Mr=n.stateNode.containerInfo,Fa=!0,Us(t,e,n),Mr=r,Fa=i;break;case 0:case 11:case 14:case 15:if(!Yr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&_w(n,e,o),i=i.next}while(i!==r)}Us(t,e,n);break;case 1:if(!Yr&&(Gc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){qn(n,e,s)}Us(t,e,n);break;case 21:Us(t,e,n);break;case 22:n.mode&1?(Yr=(r=Yr)||n.memoizedState!==null,Us(t,e,n),Yr=r):Us(t,e,n);break;default:Us(t,e,n)}}function VE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new OF),e.forEach(function(r){var i=qF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Oa(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Mr=s.stateNode,Fa=!1;break e;case 3:Mr=s.stateNode.containerInfo,Fa=!0;break e;case 4:Mr=s.stateNode.containerInfo,Fa=!0;break e}s=s.return}if(Mr===null)throw Error(Me(160));v6(a,o,i),Mr=null,Fa=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){qn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)x6(e,t),e=e.sibling}function x6(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Oa(e,t),oo(t),r&4){try{Rh(3,t,t.return),g0(3,t)}catch(g){qn(t,t.return,g)}try{Rh(5,t,t.return)}catch(g){qn(t,t.return,g)}}break;case 1:Oa(e,t),oo(t),r&512&&n!==null&&Gc(n,n.return);break;case 5:if(Oa(e,t),oo(t),r&512&&n!==null&&Gc(n,n.return),t.flags&32){var i=t.stateNode;try{Yh(i,"")}catch(g){qn(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&BI(i,a),Jb(s,o);var u=Jb(s,a);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?GI(i,f):c==="dangerouslySetInnerHTML"?zI(i,f):c==="children"?Yh(i,f):q_(i,c,f,u)}switch(s){case"input":zb(i,a);break;case"textarea":qI(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?ed(i,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?ed(i,!!a.multiple,a.defaultValue,!0):ed(i,!!a.multiple,a.multiple?[]:"",!1))}i[ap]=a}catch(g){qn(t,t.return,g)}}break;case 6:if(Oa(e,t),oo(t),r&4){if(t.stateNode===null)throw Error(Me(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){qn(t,t.return,g)}}break;case 3:if(Oa(e,t),oo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ep(e.containerInfo)}catch(g){qn(t,t.return,g)}break;case 4:Oa(e,t),oo(t);break;case 13:Oa(e,t),oo(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(w5=Jn())),r&4&&VE(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Yr=(u=Yr)||c,Oa(e,t),Yr=u):Oa(e,t),oo(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(We=t,c=t.child;c!==null;){for(f=We=c;We!==null;){switch(p=We,h=p.child,p.tag){case 0:case 11:case 14:case 15:Rh(4,p,p.return);break;case 1:Gc(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){qn(r,n,g)}}break;case 5:Gc(p,p.return);break;case 22:if(p.memoizedState!==null){HE(f);continue}}h!==null?(h.return=p,We=h):HE(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=HI("display",o))}catch(g){qn(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){qn(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Oa(e,t),oo(t),r&4&&VE(t);break;case 21:break;default:Oa(e,t),oo(t)}}function oo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(y6(n)){var r=n;break e}n=n.return}throw Error(Me(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yh(i,""),r.flags&=-33);var a=qE(t);Ew(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=qE(t);Aw(t,s,o);break;default:throw Error(Me(161))}}catch(l){qn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RF(t,e,n){We=t,b6(t)}function b6(t,e,n){for(var r=(t.mode&1)!==0;We!==null;){var i=We,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||xg;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Yr;s=xg;var u=Yr;if(xg=o,(Yr=l)&&!u)for(We=i;We!==null;)o=We,l=o.child,o.tag===22&&o.memoizedState!==null?GE(i):l!==null?(l.return=o,We=l):GE(i);for(;a!==null;)We=a,b6(a),a=a.sibling;We=i,xg=s,Yr=u}zE(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,We=a):zE(t)}}function zE(t){for(;We!==null;){var e=We;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yr||g0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Da(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&PE(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}PE(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ep(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}Yr||e.flags&512&&Sw(e)}catch(p){qn(e,e.return,p)}}if(e===t){We=null;break}if(n=e.sibling,n!==null){n.return=e.return,We=n;break}We=e.return}}function HE(t){for(;We!==null;){var e=We;if(e===t){We=null;break}var n=e.sibling;if(n!==null){n.return=e.return,We=n;break}We=e.return}}function GE(t){for(;We!==null;){var e=We;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{g0(4,e)}catch(l){qn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){qn(e,i,l)}}var a=e.return;try{Sw(e)}catch(l){qn(e,a,l)}break;case 5:var o=e.return;try{Sw(e)}catch(l){qn(e,o,l)}}}catch(l){qn(e,e.return,l)}if(e===t){We=null;break}var s=e.sibling;if(s!==null){s.return=e.return,We=s;break}We=e.return}}var LF=Math.ceil,$y=gs.ReactCurrentDispatcher,x5=gs.ReactCurrentOwner,ya=gs.ReactCurrentBatchConfig,Ht=0,Pr=null,sr=null,Dr=0,Li=0,Wc=Sl(0),xr=0,dp=null,Mu=0,y0=0,b5=0,Lh=null,mi=null,w5=0,wd=1/0,Wo=null,Fy=!1,Nw=null,ul=null,bg=!1,el=null,Uy=0,Mh=0,Tw=null,uy=-1,cy=0;function si(){return Ht&6?Jn():uy!==-1?uy:uy=Jn()}function cl(t){return t.mode&1?Ht&2&&Dr!==0?Dr&-Dr:vF.transition!==null?(cy===0&&(cy=iO()),cy):(t=on,t!==0||(t=window.event,t=t===void 0?16:dO(t.type)),t):1}function Ha(t,e,n,r){if(50<Mh)throw Mh=0,Tw=null,Error(Me(185));im(t,n,r),(!(Ht&2)||t!==Pr)&&(t===Pr&&(!(Ht&2)&&(y0|=n),xr===4&&Ys(t,Dr)),bi(t,r),n===1&&Ht===0&&!(e.mode&1)&&(wd=Jn()+500,h0&&Al()))}function bi(t,e){var n=t.callbackNode;v7(t,e);var r=Sy(t,t===Pr?Dr:0);if(r===0)n!==null&&tE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tE(n),e===1)t.tag===0?yF(WE.bind(null,t)):kO(WE.bind(null,t)),hF(function(){!(Ht&6)&&Al()}),n=null;else{switch(aO(r)){case 1:n=W_;break;case 4:n=nO;break;case 16:n=_y;break;case 536870912:n=rO;break;default:n=_y}n=P6(n,w6.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function w6(t,e){if(uy=-1,cy=0,Ht&6)throw Error(Me(327));var n=t.callbackNode;if(ad()&&t.callbackNode!==n)return null;var r=Sy(t,t===Pr?Dr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=By(t,r);else{e=r;var i=Ht;Ht|=2;var a=S6();(Pr!==t||Dr!==e)&&(Wo=null,wd=Jn()+500,Tu(t,e));do try{$F();break}catch(s){_6(t,s)}while(!0);o5(),$y.current=a,Ht=i,sr!==null?e=0:(Pr=null,Dr=0,e=xr)}if(e!==0){if(e===2&&(i=ew(t),i!==0&&(r=i,e=Pw(t,i))),e===1)throw n=dp,Tu(t,0),Ys(t,r),bi(t,Jn()),n;if(e===6)Ys(t,r);else{if(i=t.current.alternate,!(r&30)&&!MF(i)&&(e=By(t,r),e===2&&(a=ew(t),a!==0&&(r=a,e=Pw(t,a))),e===1))throw n=dp,Tu(t,0),Ys(t,r),bi(t,Jn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Me(345));case 2:lu(t,mi,Wo);break;case 3:if(Ys(t,r),(r&130023424)===r&&(e=w5+500-Jn(),10<e)){if(Sy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){si(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=lw(lu.bind(null,t,mi,Wo),e);break}lu(t,mi,Wo);break;case 4:if(Ys(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-za(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=Jn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LF(r/1960))-r,10<r){t.timeoutHandle=lw(lu.bind(null,t,mi,Wo),r);break}lu(t,mi,Wo);break;case 5:lu(t,mi,Wo);break;default:throw Error(Me(329))}}}return bi(t,Jn()),t.callbackNode===n?w6.bind(null,t):null}function Pw(t,e){var n=Lh;return t.current.memoizedState.isDehydrated&&(Tu(t,e).flags|=256),t=By(t,e),t!==2&&(e=mi,mi=n,e!==null&&Cw(e)),t}function Cw(t){mi===null?mi=t:mi.push.apply(mi,t)}function MF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Ka(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ys(t,e){for(e&=~b5,e&=~y0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-za(e),r=1<<n;t[n]=-1,e&=~r}}function WE(t){if(Ht&6)throw Error(Me(327));ad();var e=Sy(t,0);if(!(e&1))return bi(t,Jn()),null;var n=By(t,e);if(t.tag!==0&&n===2){var r=ew(t);r!==0&&(e=r,n=Pw(t,r))}if(n===1)throw n=dp,Tu(t,0),Ys(t,e),bi(t,Jn()),n;if(n===6)throw Error(Me(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,lu(t,mi,Wo),bi(t,Jn()),null}function _5(t,e){var n=Ht;Ht|=1;try{return t(e)}finally{Ht=n,Ht===0&&(wd=Jn()+500,h0&&Al())}}function Du(t){el!==null&&el.tag===0&&!(Ht&6)&&ad();var e=Ht;Ht|=1;var n=ya.transition,r=on;try{if(ya.transition=null,on=1,t)return t()}finally{on=r,ya.transition=n,Ht=e,!(Ht&6)&&Al()}}function S5(){Li=Wc.current,Tn(Wc)}function Tu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fF(n)),sr!==null)for(n=sr.return;n!==null;){var r=n;switch(r5(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Py();break;case 3:xd(),Tn(vi),Tn(Zr),f5();break;case 5:d5(r);break;case 4:xd();break;case 13:Tn(Rn);break;case 19:Tn(Rn);break;case 10:s5(r.type._context);break;case 22:case 23:S5()}n=n.return}if(Pr=t,sr=t=dl(t.current,null),Dr=Li=e,xr=0,dp=null,b5=y0=Mu=0,mi=Lh=null,bu!==null){for(e=0;e<bu.length;e++)if(n=bu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}bu=null}return t}function _6(t,e){do{var n=sr;try{if(o5(),oy.current=Dy,My){for(var r=Ln.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}My=!1}if(Lu=0,Er=yr=Ln=null,jh=!1,lp=0,x5.current=null,n===null||n.return===null){xr=1,dp=e,sr=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=Dr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=RE(o);if(h!==null){h.flags&=-257,LE(h,o,s,a,e),h.mode&1&&jE(a,u,e),e=h,l=u;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){jE(a,u,e),A5();break e}l=Error(Me(426))}}else if(Cn&&s.mode&1){var x=RE(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),LE(x,o,s,a,e),i5(bd(l,s));break e}}a=l=bd(l,s),xr!==4&&(xr=2),Lh===null?Lh=[a]:Lh.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=a6(a,l,e);TE(a,v);break e;case 1:s=l;var w=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ul===null||!ul.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var A=o6(a,s,e);TE(a,A);break e}}a=a.return}while(a!==null)}E6(n)}catch(S){e=S,sr===n&&n!==null&&(sr=n=n.return);continue}break}while(!0)}function S6(){var t=$y.current;return $y.current=Dy,t===null?Dy:t}function A5(){(xr===0||xr===3||xr===2)&&(xr=4),Pr===null||!(Mu&268435455)&&!(y0&268435455)||Ys(Pr,Dr)}function By(t,e){var n=Ht;Ht|=2;var r=S6();(Pr!==t||Dr!==e)&&(Wo=null,Tu(t,e));do try{DF();break}catch(i){_6(t,i)}while(!0);if(o5(),Ht=n,$y.current=r,sr!==null)throw Error(Me(261));return Pr=null,Dr=0,xr}function DF(){for(;sr!==null;)A6(sr)}function $F(){for(;sr!==null&&!u7();)A6(sr)}function A6(t){var e=T6(t.alternate,t,Li);t.memoizedProps=t.pendingProps,e===null?E6(t):sr=e,x5.current=null}function E6(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IF(n,e),n!==null){n.flags&=32767,sr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xr=6,sr=null;return}}else if(n=kF(n,e,Li),n!==null){sr=n;return}if(e=e.sibling,e!==null){sr=e;return}sr=e=t}while(e!==null);xr===0&&(xr=5)}function lu(t,e,n){var r=on,i=ya.transition;try{ya.transition=null,on=1,FF(t,e,n,r)}finally{ya.transition=i,on=r}return null}function FF(t,e,n,r){do ad();while(el!==null);if(Ht&6)throw Error(Me(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Me(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(x7(t,a),t===Pr&&(sr=Pr=null,Dr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bg||(bg=!0,P6(_y,function(){return ad(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ya.transition,ya.transition=null;var o=on;on=1;var s=Ht;Ht|=4,x5.current=null,jF(t,n),x6(n,t),aF(ow),Ay=!!aw,ow=aw=null,t.current=n,RF(n),c7(),Ht=s,on=o,ya.transition=a}else t.current=n;if(bg&&(bg=!1,el=t,Uy=i),a=t.pendingLanes,a===0&&(ul=null),h7(n.stateNode),bi(t,Jn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fy)throw Fy=!1,t=Nw,Nw=null,t;return Uy&1&&t.tag!==0&&ad(),a=t.pendingLanes,a&1?t===Tw?Mh++:(Mh=0,Tw=t):Mh=0,Al(),null}function ad(){if(el!==null){var t=aO(Uy),e=ya.transition,n=on;try{if(ya.transition=null,on=16>t?16:t,el===null)var r=!1;else{if(t=el,el=null,Uy=0,Ht&6)throw Error(Me(331));var i=Ht;for(Ht|=4,We=t.current;We!==null;){var a=We,o=a.child;if(We.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(We=u;We!==null;){var c=We;switch(c.tag){case 0:case 11:case 15:Rh(8,c,a)}var f=c.child;if(f!==null)f.return=c,We=f;else for(;We!==null;){c=We;var p=c.sibling,h=c.return;if(g6(c),c===u){We=null;break}if(p!==null){p.return=h,We=p;break}We=h}}}var y=a.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}We=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,We=o;else e:for(;We!==null;){if(a=We,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Rh(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,We=v;break e}We=a.return}}var w=t.current;for(We=w;We!==null;){o=We;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,We=_;else e:for(o=w;We!==null;){if(s=We,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:g0(9,s)}}catch(S){qn(s,s.return,S)}if(s===o){We=null;break e}var A=s.sibling;if(A!==null){A.return=s.return,We=A;break e}We=s.return}}if(Ht=i,Al(),mo&&typeof mo.onPostCommitFiberRoot=="function")try{mo.onPostCommitFiberRoot(l0,t)}catch{}r=!0}return r}finally{on=n,ya.transition=e}}return!1}function KE(t,e,n){e=bd(n,e),e=a6(t,e,1),t=ll(t,e,1),e=si(),t!==null&&(im(t,1,e),bi(t,e))}function qn(t,e,n){if(t.tag===3)KE(t,t,n);else for(;e!==null;){if(e.tag===3){KE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ul===null||!ul.has(r))){t=bd(n,t),t=o6(e,t,1),e=ll(e,t,1),t=si(),e!==null&&(im(e,1,t),bi(e,t));break}}e=e.return}}function UF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=si(),t.pingedLanes|=t.suspendedLanes&n,Pr===t&&(Dr&n)===n&&(xr===4||xr===3&&(Dr&130023424)===Dr&&500>Jn()-w5?Tu(t,0):b5|=n),bi(t,e)}function N6(t,e){e===0&&(t.mode&1?(e=cg,cg<<=1,!(cg&130023424)&&(cg=4194304)):e=1);var n=si();t=cs(t,e),t!==null&&(im(t,e,n),bi(t,n))}function BF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),N6(t,n)}function qF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Me(314))}r!==null&&r.delete(e),N6(t,n)}var T6;T6=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vi.current)gi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gi=!1,CF(t,e,n);gi=!!(t.flags&131072)}else gi=!1,Cn&&e.flags&1048576&&IO(e,Iy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ly(t,e),t=e.pendingProps;var i=gd(e,Zr.current);id(e,n),i=p5(null,e,r,t,i,n);var a=m5();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xi(r)?(a=!0,Cy(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,u5(e),i.updater=m0,e.stateNode=i,i._reactInternals=e,mw(e,r,t,n),e=vw(null,e,r,!0,a,n)):(e.tag=0,Cn&&a&&n5(e),ni(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ly(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zF(r),t=Da(r,t),i){case 0:e=yw(null,e,r,t,n);break e;case 1:e=$E(null,e,r,t,n);break e;case 11:e=ME(null,e,r,t,n);break e;case 14:e=DE(null,e,r,Da(r.type,t),n);break e}throw Error(Me(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Da(r,i),yw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Da(r,i),$E(t,e,r,i,n);case 3:e:{if(c6(e),t===null)throw Error(Me(387));r=e.pendingProps,a=e.memoizedState,i=a.element,DO(t,e),Ry(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=bd(Error(Me(423)),e),e=FE(t,e,r,n,i);break e}else if(r!==i){i=bd(Error(Me(424)),e),e=FE(t,e,r,n,i);break e}else for(Bi=sl(e.stateNode.containerInfo.firstChild),Vi=e,Cn=!0,qa=null,n=LO(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yd(),r===i){e=ds(t,e,n);break e}ni(t,e,r,n)}e=e.child}return e;case 5:return $O(e),t===null&&fw(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,sw(r,i)?o=null:a!==null&&sw(r,a)&&(e.flags|=32),u6(t,e),ni(t,e,o,n),e.child;case 6:return t===null&&fw(e),null;case 13:return d6(t,e,n);case 4:return c5(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=vd(e,null,r,n):ni(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Da(r,i),ME(t,e,r,i,n);case 7:return ni(t,e,e.pendingProps,n),e.child;case 8:return ni(t,e,e.pendingProps.children,n),e.child;case 12:return ni(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,bn(Oy,r._currentValue),r._currentValue=o,a!==null)if(Ka(a.value,o)){if(a.children===i.children&&!vi.current){e=ds(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=is(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),hw(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Me(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),hw(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ni(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,id(e,n),i=va(i),r=r(i),e.flags|=1,ni(t,e,r,n),e.child;case 14:return r=e.type,i=Da(r,e.pendingProps),i=Da(r.type,i),DE(t,e,r,i,n);case 15:return s6(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Da(r,i),ly(t,e),e.tag=1,xi(r)?(t=!0,Cy(e)):t=!1,id(e,n),i6(e,r,i),mw(e,r,i,n),vw(null,e,r,!0,t,n);case 19:return f6(t,e,n);case 22:return l6(t,e,n)}throw Error(Me(156,e.tag))};function P6(t,e){return tO(t,e)}function VF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ma(t,e,n,r){return new VF(t,e,n,r)}function E5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zF(t){if(typeof t=="function")return E5(t)?1:0;if(t!=null){if(t=t.$$typeof,t===z_)return 11;if(t===H_)return 14}return 2}function dl(t,e){var n=t.alternate;return n===null?(n=ma(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function dy(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")E5(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Dc:return Pu(n.children,i,a,e);case V_:o=8,i|=8;break;case Fb:return t=ma(12,n,e,i|2),t.elementType=Fb,t.lanes=a,t;case Ub:return t=ma(13,n,e,i),t.elementType=Ub,t.lanes=a,t;case Bb:return t=ma(19,n,e,i),t.elementType=Bb,t.lanes=a,t;case $I:return v0(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MI:o=10;break e;case DI:o=9;break e;case z_:o=11;break e;case H_:o=14;break e;case Hs:o=16,r=null;break e}throw Error(Me(130,t==null?t:typeof t,""))}return e=ma(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Pu(t,e,n,r){return t=ma(7,t,r,e),t.lanes=n,t}function v0(t,e,n,r){return t=ma(22,t,r,e),t.elementType=$I,t.lanes=n,t.stateNode={isHidden:!1},t}function Tx(t,e,n){return t=ma(6,t,null,e),t.lanes=n,t}function Px(t,e,n){return e=ma(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lx(0),this.expirationTimes=lx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function N5(t,e,n,r,i,a,o,s,l){return t=new HF(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ma(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},u5(a),t}function GF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function C6(t){if(!t)return gl;t=t._reactInternals;e:{if(Ku(t)!==t||t.tag!==1)throw Error(Me(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Me(171))}if(t.tag===1){var n=t.type;if(xi(n))return CO(t,n,e)}return e}function k6(t,e,n,r,i,a,o,s,l){return t=N5(n,r,!0,t,i,a,o,s,l),t.context=C6(null),n=t.current,r=si(),i=cl(n),a=is(r,i),a.callback=e??null,ll(n,a,i),t.current.lanes=i,im(t,i,r),bi(t,r),t}function x0(t,e,n,r){var i=e.current,a=si(),o=cl(i);return n=C6(n),e.context===null?e.context=n:e.pendingContext=n,e=is(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ll(i,e,o),t!==null&&(Ha(t,i,o,a),ay(t,i,o)),o}function qy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function JE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function T5(t,e){JE(t,e),(t=t.alternate)&&JE(t,e)}function WF(){return null}var I6=typeof reportError=="function"?reportError:function(t){console.error(t)};function P5(t){this._internalRoot=t}b0.prototype.render=P5.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Me(409));x0(t,e,null,null)};b0.prototype.unmount=P5.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Du(function(){x0(null,t,null,null)}),e[us]=null}};function b0(t){this._internalRoot=t}b0.prototype.unstable_scheduleHydration=function(t){if(t){var e=lO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Js.length&&e!==0&&e<Js[n].priority;n++);Js.splice(n,0,t),n===0&&cO(t)}};function C5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function w0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function YE(){}function KF(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=qy(o);a.call(u)}}var o=k6(e,r,t,0,null,!1,!1,"",YE);return t._reactRootContainer=o,t[us]=o.current,rp(t.nodeType===8?t.parentNode:t),Du(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=qy(l);s.call(u)}}var l=N5(t,0,!1,null,null,!1,!1,"",YE);return t._reactRootContainer=l,t[us]=l.current,rp(t.nodeType===8?t.parentNode:t),Du(function(){x0(e,l,n,r)}),l}function _0(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=qy(o);s.call(l)}}x0(e,o,t,i)}else o=KF(n,e,t,i,r);return qy(o)}oO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sh(e.pendingLanes);n!==0&&(K_(e,n|1),bi(e,Jn()),!(Ht&6)&&(wd=Jn()+500,Al()))}break;case 13:Du(function(){var r=cs(t,1);if(r!==null){var i=si();Ha(r,t,1,i)}}),T5(t,1)}};J_=function(t){if(t.tag===13){var e=cs(t,134217728);if(e!==null){var n=si();Ha(e,t,134217728,n)}T5(t,134217728)}};sO=function(t){if(t.tag===13){var e=cl(t),n=cs(t,e);if(n!==null){var r=si();Ha(n,t,e,r)}T5(t,e)}};lO=function(){return on};uO=function(t,e){var n=on;try{return on=t,e()}finally{on=n}};Xb=function(t,e,n){switch(e){case"input":if(zb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=f0(r);if(!i)throw Error(Me(90));UI(r),zb(r,i)}}}break;case"textarea":qI(t,n);break;case"select":e=n.value,e!=null&&ed(t,!!n.multiple,e,!1)}};JI=_5;YI=Du;var JF={usingClientEntryPoint:!1,Events:[om,Bc,f0,WI,KI,_5]},sh={findFiberByHostInstance:xu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YF={bundleType:sh.bundleType,version:sh.version,rendererPackageName:sh.rendererPackageName,rendererConfig:sh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=QI(t),t===null?null:t.stateNode},findFiberByHostInstance:sh.findFiberByHostInstance||WF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wg.isDisabled&&wg.supportsFiber)try{l0=wg.inject(YF),mo=wg}catch{}}Ki.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JF;Ki.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C5(e))throw Error(Me(200));return GF(t,e,null,n)};Ki.createRoot=function(t,e){if(!C5(t))throw Error(Me(299));var n=!1,r="",i=I6;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=N5(t,1,!1,null,null,n,!1,r,i),t[us]=e.current,rp(t.nodeType===8?t.parentNode:t),new P5(e)};Ki.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Me(188)):(t=Object.keys(t).join(","),Error(Me(268,t)));return t=QI(e),t=t===null?null:t.stateNode,t};Ki.flushSync=function(t){return Du(t)};Ki.hydrate=function(t,e,n){if(!w0(e))throw Error(Me(200));return _0(null,t,e,!0,n)};Ki.hydrateRoot=function(t,e,n){if(!C5(t))throw Error(Me(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=I6;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=k6(e,null,t,1,n??null,i,!1,a,o),t[us]=e.current,rp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new b0(e)};Ki.render=function(t,e,n){if(!w0(e))throw Error(Me(200));return _0(null,t,e,!1,n)};Ki.unmountComponentAtNode=function(t){if(!w0(t))throw Error(Me(40));return t._reactRootContainer?(Du(function(){_0(null,null,t,!1,function(){t._reactRootContainer=null,t[us]=null})}),!0):!1};Ki.unstable_batchedUpdates=_5;Ki.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!w0(n))throw Error(Me(200));if(t==null||t._reactInternals===void 0)throw Error(Me(38));return _0(t,e,n,!1,r)};Ki.version="18.3.1-next-f1338f8080-20240426";function O6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O6)}catch(t){console.error(t)}}O6(),OI.exports=Ki;var XF=OI.exports,XE=XF;Db.createRoot=XE.createRoot,Db.hydrateRoot=XE.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fp.apply(this,arguments)}var tl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tl||(tl={}));const ZE="popstate";function ZF(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return kw("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Vy(i)}return eU(e,n,null,t)}function Qn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function j6(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QF(){return Math.random().toString(36).substr(2,8)}function QE(t,e){return{usr:t.state,key:t.key,idx:e}}function kw(t,e,n,r){return n===void 0&&(n=null),fp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rf(e):e,{state:n,key:e&&e.key||r||QF()})}function Vy(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function rf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eU(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=tl.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(fp({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){s=tl.Pop;let x=c(),v=x==null?null:x-u;u=x,l&&l({action:s,location:g.location,delta:v})}function p(x,v){s=tl.Push;let w=kw(g.location,x,v);u=c()+1;let _=QE(w,u),A=g.createHref(w);try{o.pushState(_,"",A)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(A)}a&&l&&l({action:s,location:g.location,delta:1})}function h(x,v){s=tl.Replace;let w=kw(g.location,x,v);u=c();let _=QE(w,u),A=g.createHref(w);o.replaceState(_,"",A),a&&l&&l({action:s,location:g.location,delta:0})}function y(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:Vy(x);return w=w.replace(/ $/,"%20"),Qn(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let g={get action(){return s},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ZE,f),l=x,()=>{i.removeEventListener(ZE,f),l=null}},createHref(x){return e(i,x)},createURL:y,encodeLocation(x){let v=y(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:h,go(x){return o.go(x)}};return g}var eN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eN||(eN={}));function tU(t,e,n){return n===void 0&&(n="/"),nU(t,e,n)}function nU(t,e,n,r){let i=typeof e=="string"?rf(e):e,a=k5(i.pathname||"/",n);if(a==null)return null;let o=R6(t);rU(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=mU(a);s=fU(o[l],u)}return s}function R6(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Qn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=fl([r,l.relativePath]),c=n.concat(l);a.children&&a.children.length>0&&(Qn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),R6(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:cU(u,a.index),routesMeta:c})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of L6(a.path))i(a,o,l)}),e}function L6(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=L6(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function rU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iU=/^:[\w-]+$/,aU=3,oU=2,sU=1,lU=10,uU=-2,tN=t=>t==="*";function cU(t,e){let n=t.split("/"),r=n.length;return n.some(tN)&&(r+=uU),e&&(r+=oU),n.filter(i=>!tN(i)).reduce((i,a)=>i+(iU.test(a)?aU:a===""?sU:lU),r)}function dU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fU(t,e,n){let{routesMeta:r}=t,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=a==="/"?e:e.slice(a.length)||"/",f=hU({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:fl([a,f.pathname]),pathnameBase:xU(fl([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=fl([a,f.pathnameBase]))}return o}function hU(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:p,isOptional:h}=c;if(p==="*"){let g=s[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const y=s[f];return h&&!y?u[p]=void 0:u[p]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function pU(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),j6(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return j6(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function k5(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gU(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?rf(t):t;return{pathname:n?n.startsWith("/")?n:yU(n,e):e,search:bU(r),hash:wU(i)}}function yU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cx(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function I5(t,e){let n=vU(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function O5(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=rf(t):(i=fp({},t),Qn(!i.pathname||!i.pathname.includes("?"),Cx("?","pathname","search",i)),Qn(!i.pathname||!i.pathname.includes("#"),Cx("#","pathname","hash",i)),Qn(!i.search||!i.search.includes("#"),Cx("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}s=f>=0?e[f]:"/"}let l=gU(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const fl=t=>t.join("/").replace(/\/\/+/g,"/"),xU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _U(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const M6=["post","put","patch","delete"];new Set(M6);const SU=["get",...M6];new Set(SU);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hp.apply(this,arguments)}const j5=K.createContext(null),AU=K.createContext(null),El=K.createContext(null),S0=K.createContext(null),ys=K.createContext({outlet:null,matches:[],isDataRoute:!1}),D6=K.createContext(null);function EU(t,e){let{relative:n}=e===void 0?{}:e;af()||Qn(!1);let{basename:r,navigator:i}=K.useContext(El),{hash:a,pathname:o,search:s}=F6(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:fl([r,o])),i.createHref({pathname:l,search:s,hash:a})}function af(){return K.useContext(S0)!=null}function Ju(){return af()||Qn(!1),K.useContext(S0).location}function $6(t){K.useContext(El).static||K.useLayoutEffect(t)}function Ya(){let{isDataRoute:t}=K.useContext(ys);return t?$U():NU()}function NU(){af()||Qn(!1);let t=K.useContext(j5),{basename:e,future:n,navigator:r}=K.useContext(El),{matches:i}=K.useContext(ys),{pathname:a}=Ju(),o=JSON.stringify(I5(i,n.v7_relativeSplatPath)),s=K.useRef(!1);return $6(()=>{s.current=!0}),K.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=O5(u,JSON.parse(o),a,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:fl([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,o,a,t])}function A0(){let{matches:t}=K.useContext(ys),e=t[t.length-1];return e?e.params:{}}function F6(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=K.useContext(El),{matches:i}=K.useContext(ys),{pathname:a}=Ju(),o=JSON.stringify(I5(i,r.v7_relativeSplatPath));return K.useMemo(()=>O5(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function TU(t,e){return PU(t,e)}function PU(t,e,n,r){af()||Qn(!1);let{navigator:i}=K.useContext(El),{matches:a}=K.useContext(ys),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ju(),c;if(e){var f;let x=typeof e=="string"?rf(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||Qn(!1),c=x}else c=u;let p=c.pathname||"/",h=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=tU(t,{pathname:h}),g=jU(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},s,x.params),pathname:fl([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:fl([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,r);return e&&g?K.createElement(S0.Provider,{value:{location:hp({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:tl.Pop}},g):g}function CU(){let t=DU(),e=_U(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:i},n):null,null)}const kU=K.createElement(CU,null);class IU extends K.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?K.createElement(ys.Provider,{value:this.props.routeContext},K.createElement(D6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OU(t){let{routeContext:e,match:n,children:r}=t,i=K.useContext(j5);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),K.createElement(ys.Provider,{value:e},r)}function jU(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||Qn(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:p,errors:h}=n,y=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,p)=>{let h,y=!1,g=null,x=null;n&&(h=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||kU,l&&(u<0&&p===0?(FU("route-fallback"),y=!0,x=null):u===p&&(y=!0,x=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,p+1)),w=()=>{let _;return h?_=g:y?_=x:f.route.Component?_=K.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=c,K.createElement(OU,{match:f,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?K.createElement(IU,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var U6=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(U6||{}),B6=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(B6||{});function RU(t){let e=K.useContext(j5);return e||Qn(!1),e}function LU(t){let e=K.useContext(AU);return e||Qn(!1),e}function MU(t){let e=K.useContext(ys);return e||Qn(!1),e}function q6(t){let e=MU(),n=e.matches[e.matches.length-1];return n.route.id||Qn(!1),n.route.id}function DU(){var t;let e=K.useContext(D6),n=LU(),r=q6();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $U(){let{router:t}=RU(U6.UseNavigateStable),e=q6(B6.UseNavigateStable),n=K.useRef(!1);return $6(()=>{n.current=!0}),K.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hp({fromRouteId:e},a)))},[t,e])}const nN={};function FU(t,e,n){nN[t]||(nN[t]=!0)}function UU(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function BU(t){let{to:e,replace:n,state:r,relative:i}=t;af()||Qn(!1);let{future:a,static:o}=K.useContext(El),{matches:s}=K.useContext(ys),{pathname:l}=Ju(),u=Ya(),c=O5(e,I5(s,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return K.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function rr(t){Qn(!1)}function qU(t){let{basename:e="/",children:n=null,location:r,navigationType:i=tl.Pop,navigator:a,static:o=!1,future:s}=t;af()&&Qn(!1);let l=e.replace(/^\/*/,"/"),u=K.useMemo(()=>({basename:l,navigator:a,static:o,future:hp({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=rf(r));let{pathname:c="/",search:f="",hash:p="",state:h=null,key:y="default"}=r,g=K.useMemo(()=>{let x=k5(c,l);return x==null?null:{location:{pathname:x,search:f,hash:p,state:h,key:y},navigationType:i}},[l,c,f,p,h,y,i]);return g==null?null:K.createElement(El.Provider,{value:u},K.createElement(S0.Provider,{children:n,value:g}))}function VU(t){let{children:e,location:n}=t;return TU(Iw(e),n)}new Promise(()=>{});function Iw(t,e){e===void 0&&(e=[]);let n=[];return K.Children.forEach(t,(r,i)=>{if(!K.isValidElement(r))return;let a=[...e,i];if(r.type===K.Fragment){n.push.apply(n,Iw(r.props.children,a));return}r.type!==rr&&Qn(!1),!r.props.index||!r.props.children||Qn(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Iw(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ow(){return Ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ow.apply(this,arguments)}function zU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function HU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GU(t,e){return t.button===0&&(!e||e==="_self")&&!HU(t)}const WU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KU="6";try{window.__reactRouterVersion=KU}catch{}const JU="startTransition",rN=U$[JU];function YU(t){let{basename:e,children:n,future:r,window:i}=t,a=K.useRef();a.current==null&&(a.current=ZF({window:i,v5Compat:!0}));let o=a.current,[s,l]=K.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=K.useCallback(f=>{u&&rN?rN(()=>l(f)):l(f)},[l,u]);return K.useLayoutEffect(()=>o.listen(c),[o,c]),K.useEffect(()=>UU(r),[r]),K.createElement(qU,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}const XU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V6=K.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,p=zU(e,WU),{basename:h}=K.useContext(El),y,g=!1;if(typeof u=="string"&&ZU.test(u)&&(y=u,XU))try{let _=new URL(window.location.href),A=u.startsWith("//")?new URL(_.protocol+u):new URL(u),S=k5(A.pathname,h);A.origin===_.origin&&S!=null?u=S+A.search+A.hash:g=!0}catch{}let x=EU(u,{relative:i}),v=QU(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f});function w(_){r&&r(_),_.defaultPrevented||v(_)}return K.createElement("a",Ow({},p,{href:y||x,onClick:g||a?r:w,ref:n,target:l}))});var iN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iN||(iN={}));var aN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(aN||(aN={}));function QU(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:s}=e===void 0?{}:e,l=Ya(),u=Ju(),c=F6(t,{relative:o});return K.useCallback(f=>{if(GU(f,n)){f.preventDefault();let p=r!==void 0?r:Vy(u)===Vy(c);l(t,{replace:p,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,l,c,r,i,n,t,a,o,s])}var jw=function(t,e){return jw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},jw(t,e)};function z6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");jw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var zy=function(){return zy=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zy.apply(this,arguments)};function of(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function H6(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function G6(t,e){return function(n,r){e(n,r,t)}}function W6(t,e,n,r,i,a){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var s=r.kind,l=s==="getter"?"get":s==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),f,p=!1,h=n.length-1;h>=0;h--){var y={};for(var g in r)y[g]=g==="access"?{}:r[g];for(var g in r.access)y.access[g]=r.access[g];y.addInitializer=function(v){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(v||null))};var x=(0,n[h])(s==="accessor"?{get:c.get,set:c.set}:c[l],y);if(s==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(f=o(x.get))&&(c.get=f),(f=o(x.set))&&(c.set=f),(f=o(x.init))&&i.unshift(f)}else(f=o(x))&&(s==="field"?i.unshift(f):c[l]=f)}u&&Object.defineProperty(u,r.name,c),p=!0}function K6(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function J6(t){return typeof t=="symbol"?t:"".concat(t)}function Y6(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function X6(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ot(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}function Z6(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var E0=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function Q6(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&E0(e,t,n)}function Hy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function R5(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function ej(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(R5(arguments[e]));return t}function tj(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function nj(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function _d(t){return this instanceof _d?(this.v=t,this):new _d(t)}function rj(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(y){return Promise.resolve(y).then(h,f)}}function s(h,y){r[h]&&(i[h]=function(g){return new Promise(function(x,v){a.push([h,g,x,v])>1||l(h,g)})},y&&(i[h]=y(i[h])))}function l(h,y){try{u(r[h](y))}catch(g){p(a[0][3],g)}}function u(h){h.value instanceof _d?Promise.resolve(h.value.v).then(c,f):p(a[0][2],h)}function c(h){l("next",h)}function f(h){l("throw",h)}function p(h,y){h(y),a.shift(),a.length&&l(a[0][0],a[0][1])}}function ij(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,a){e[i]=t[i]?function(o){return(n=!n)?{value:_d(t[i](o)),done:!1}:a?a(o):o}:a}}function aj(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Hy=="function"?Hy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(s,l){o=t[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}function oj(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var eB=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Rw=function(t){return Rw=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Rw(t)};function sj(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Rw(t),r=0;r<n.length;r++)n[r]!=="default"&&E0(e,t,n[r]);return eB(e,t),e}function lj(t){return t&&t.__esModule?t:{default:t}}function uj(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function cj(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function dj(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function fj(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var tB=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function hj(t){function e(a){t.error=t.hasError?new tB(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return e(o),i()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function pj(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?e?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):t}const nB={__extends:z6,__assign:zy,__rest:of,__decorate:H6,__param:G6,__esDecorate:W6,__runInitializers:K6,__propKey:J6,__setFunctionName:Y6,__metadata:X6,__awaiter:ot,__generator:Z6,__createBinding:E0,__exportStar:Q6,__values:Hy,__read:R5,__spread:ej,__spreadArrays:tj,__spreadArray:nj,__await:_d,__asyncGenerator:rj,__asyncDelegator:ij,__asyncValues:aj,__makeTemplateObject:oj,__importStar:sj,__importDefault:lj,__classPrivateFieldGet:uj,__classPrivateFieldSet:cj,__classPrivateFieldIn:dj,__addDisposableResource:fj,__disposeResources:hj,__rewriteRelativeImportExtension:pj},rB=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:fj,get __assign(){return zy},__asyncDelegator:ij,__asyncGenerator:rj,__asyncValues:aj,__await:_d,__awaiter:ot,__classPrivateFieldGet:uj,__classPrivateFieldIn:dj,__classPrivateFieldSet:cj,__createBinding:E0,__decorate:H6,__disposeResources:hj,__esDecorate:W6,__exportStar:Q6,__extends:z6,__generator:Z6,__importDefault:lj,__importStar:sj,__makeTemplateObject:oj,__metadata:X6,__param:G6,__propKey:J6,__read:R5,__rest:of,__rewriteRelativeImportExtension:pj,__runInitializers:K6,__setFunctionName:Y6,__spread:ej,__spreadArray:nj,__spreadArrays:tj,__values:Hy,default:nB},Symbol.toStringTag,{value:"Module"})),iB=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class L5 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class aB extends L5{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class oN extends L5{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class sN extends L5{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Lw;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Lw||(Lw={}));class oB{constructor(e,{headers:n={},customFetch:r,region:i=Lw.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=iB(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ot(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:s,method:l,body:u,signal:c,timeout:f}=r;let p={},{region:h}=r;h||(h=this.region);const y=new URL(`${this.url}/${n}`);h&&h!=="any"&&(p["x-region"]=h,y.searchParams.set("forceFunctionRegion",h));let g;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(p["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(p["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let x=c;f&&(o=new AbortController,a=setTimeout(()=>o.abort(),f),c?(x=o.signal,c.addEventListener("abort",()=>o.abort())):x=o.signal);const v=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),s),body:g,signal:x}).catch(S=>{throw new aB(S)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new oN(v);if(!v.ok)throw new sN(v);let _=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),A;return _==="application/json"?A=yield v.json():_==="application/octet-stream"||_==="application/pdf"?A=yield v.blob():_==="text/event-stream"?A=v:_==="multipart/form-data"?A=yield v.formData():A=yield v.text(),{data:A,error:null,response:v}}catch(s){return{data:null,error:s,response:s instanceof sN||s instanceof oN?s.context:void 0}}finally{a&&clearTimeout(a)}})}}var ri={};const sf=A$(rB);var _g={},Sg={},Ag={},Eg={},Ng={},Tg={},lN;function mj(){if(lN)return Tg;lN=1,Object.defineProperty(Tg,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Tg.default=t,Tg}var uN;function gj(){if(uN)return Ng;uN=1,Object.defineProperty(Ng,"__esModule",{value:!0});const e=sf.__importDefault(mj());class n{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,f,p;let h=null,y=null,g=null,x=l.status,v=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=S:y=JSON.parse(S))}const _=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),A=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&A&&A.length>1&&(g=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(h={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,g=null,x=406,v="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await l.text();try{h=JSON.parse(_),Array.isArray(h)&&l.status===404&&(y=[],h=null,x=200,v="OK")}catch{l.status===404&&_===""?(x=204,v="No Content"):h={message:_}}if(h&&this.isMaybeSingle&&(!((p=h==null?void 0:h.details)===null||p===void 0)&&p.includes("0 rows"))&&(h=null,x=200,v="OK"),h&&this.shouldThrowOnError)throw new e.default(h)}return{error:h,data:y,count:g,status:x,statusText:v}});return this.shouldThrowOnError||(s=s.catch(l=>{var u,c,f;return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(c=l==null?void 0:l.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(f=l==null?void 0:l.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),s.then(i,a)}returns(){return this}overrideTypes(){return this}}return Ng.default=n,Ng}var cN;function yj(){if(cN)return Eg;cN=1,Object.defineProperty(Eg,"__esModule",{value:!0});const e=sf.__importDefault(gj());class n extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:u="text"}={}){var c;const f=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Eg.default=n,Eg}var dN;function M5(){if(dN)return Ag;dN=1,Object.defineProperty(Ag,"__esModule",{value:!0});const e=sf.__importDefault(yj()),n=new RegExp("[,()]");class r extends e.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const s=Array.from(new Set(o)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:s,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${u}fts${c}.${o}`),this}match(a){return Object.entries(a).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(a,o,s){return this.url.searchParams.append(a,`not.${o}.${s}`),this}or(a,{foreignTable:o,referencedTable:s=o}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,o,s){return this.url.searchParams.append(a,`${o}.${s}`),this}}return Ag.default=r,Ag}var fN;function vj(){if(fN)return Sg;fN=1,Object.defineProperty(Sg,"__esModule",{value:!0});const e=sf.__importDefault(M5());class n{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,a){const{head:o=!1,count:s}=a??{},l=o?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",c),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Sg.default=n,Sg}var hN;function sB(){if(hN)return _g;hN=1,Object.defineProperty(_g,"__esModule",{value:!0});const t=sf,e=t.__importDefault(vj()),n=t.__importDefault(M5());class r{constructor(a,{headers:o={},schema:s,fetch:l}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=l}from(a){const o=new URL(`${this.url}/${a}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:l=!1,count:u}={}){var c;let f;const p=new URL(`${this.url}/rpc/${a}`);let h;s||l?(f=s?"HEAD":"GET",Object.entries(o).filter(([g,x])=>x!==void 0).map(([g,x])=>[g,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([g,x])=>{p.searchParams.append(g,x)})):(f="POST",h=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new n.default({method:f,url:p,headers:y,schema:this.schemaName,body:h,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return _g.default=r,_g}Object.defineProperty(ri,"__esModule",{value:!0});var xj=ri.PostgrestError=Cj=ri.PostgrestBuilder=Tj=ri.PostgrestTransformBuilder=Ej=ri.PostgrestFilterBuilder=Sj=ri.PostgrestQueryBuilder=wj=ri.PostgrestClient=void 0;const lf=sf,bj=lf.__importDefault(sB());var wj=ri.PostgrestClient=bj.default;const _j=lf.__importDefault(vj());var Sj=ri.PostgrestQueryBuilder=_j.default;const Aj=lf.__importDefault(M5());var Ej=ri.PostgrestFilterBuilder=Aj.default;const Nj=lf.__importDefault(yj());var Tj=ri.PostgrestTransformBuilder=Nj.default;const Pj=lf.__importDefault(gj());var Cj=ri.PostgrestBuilder=Pj.default;const kj=lf.__importDefault(mj());xj=ri.PostgrestError=kj.default;var Ij=ri.default={PostgrestClient:bj.default,PostgrestQueryBuilder:_j.default,PostgrestFilterBuilder:Aj.default,PostgrestTransformBuilder:Nj.default,PostgrestBuilder:Pj.default,PostgrestError:kj.default};const lB=bI({__proto__:null,get PostgrestBuilder(){return Cj},get PostgrestClient(){return wj},get PostgrestError(){return xj},get PostgrestFilterBuilder(){return Ej},get PostgrestQueryBuilder(){return Sj},get PostgrestTransformBuilder(){return Tj},default:Ij},[ri]),{PostgrestClient:uB,PostgrestQueryBuilder:kxe,PostgrestFilterBuilder:Ixe,PostgrestTransformBuilder:Oxe,PostgrestBuilder:jxe,PostgrestError:Rxe}=Ij||lB;class cB{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const dB="2.81.0",fB=`realtime-js/${dB}`,Oj="1.0.0",hB="2.0.0",pN=Oj,Mw=1e4,pB=1e3,mB=100;var pu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(pu||(pu={}));var gr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(gr||(gr={}));var da;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(da||(da={}));var Dw;(function(t){t.websocket="websocket"})(Dw||(Dw={}));var mu;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(mu||(mu={}));class gB{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodePush(e){const{join_ref:n,ref:r,event:i,topic:a,payload:o}=e,s=this.META_LENGTH+n.length+r.length+a.length+i.length,l=new ArrayBuffer(this.HEADER_LENGTH+s);let u=new DataView(l),c=0;u.setUint8(c++,this.KINDS.push),u.setUint8(c++,n.length),u.setUint8(c++,r.length),u.setUint8(c++,a.length),u.setUint8(c++,i.length),Array.from(n,p=>u.setUint8(c++,p.charCodeAt(0))),Array.from(r,p=>u.setUint8(c++,p.charCodeAt(0))),Array.from(a,p=>u.setUint8(c++,p.charCodeAt(0))),Array.from(i,p=>u.setUint8(c++,p.charCodeAt(0)));var f=new Uint8Array(l.byteLength+o.byteLength);return f.set(new Uint8Array(l),0),f.set(new Uint8Array(o),l.byteLength),f.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const{join_ref:i,ref:a,topic:o}=e,s=e.payload.event,l=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+o.length+s.length,c=new ArrayBuffer(this.HEADER_LENGTH+u);let f=new DataView(c),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,i.length),f.setUint8(p++,a.length),f.setUint8(p++,o.length),f.setUint8(p++,s.length),f.setUint8(p++,this.BINARY_ENCODING),Array.from(i,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(a,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(o,y=>f.setUint8(p++,y.charCodeAt(0))),Array.from(s,y=>f.setUint8(p++,y.charCodeAt(0)));var h=new Uint8Array(c.byteLength+l.byteLength);return h.set(new Uint8Array(c),0),h.set(new Uint8Array(l),c.byteLength),h.buffer}_encodeJsonUserBroadcastPush(e){var n,r;const{join_ref:i,ref:a,topic:o}=e,s=e.payload.event,l=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},c=new TextEncoder().encode(JSON.stringify(l)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+o.length+s.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let h=new DataView(p),y=0;h.setUint8(y++,this.KINDS.userBroadcastPush),h.setUint8(y++,i.length),h.setUint8(y++,a.length),h.setUint8(y++,o.length),h.setUint8(y++,s.length),h.setUint8(y++,this.JSON_ENCODING),Array.from(i,x=>h.setUint8(y++,x.charCodeAt(0))),Array.from(a,x=>h.setUint8(y++,x.charCodeAt(0))),Array.from(o,x=>h.setUint8(y++,x.charCodeAt(0))),Array.from(s,x=>h.setUint8(y++,x.charCodeAt(0)));var g=new Uint8Array(p.byteLength+c.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(c),p.byteLength),g.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,a,o,s,l]=r;return n({join_ref:i,ref:a,topic:o,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,n,i);case this.KINDS.reply:return this._decodeReply(e,n,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodePush(e,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3);let s=this.HEADER_LENGTH+this.META_LENGTH-1;const l=r.decode(e.slice(s,s+i));s=s+i;const u=r.decode(e.slice(s,s+a));s=s+a;const c=r.decode(e.slice(s,s+o));s=s+o;const f=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{join_ref:l,ref:null,topic:u,event:c,payload:f}}_decodeReply(e,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+a));l=l+a;const f=r.decode(e.slice(l,l+o));l=l+o;const p=r.decode(e.slice(l,l+s));l=l+s;const h=JSON.parse(r.decode(e.slice(l,e.byteLength))),y={status:p,response:h};return{join_ref:u,ref:c,topic:f,event:da.reply,payload:y}}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const s=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{join_ref:null,ref:null,topic:s,event:l,payload:u}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+a));l=l+a;const f=r.decode(e.slice(l,l+o));l=l+o;const p=e.slice(l,e.byteLength),h=s===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,y={type:this.BROADCAST,event:c,payload:h};return o>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class jj{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var yn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(yn||(yn={}));const mN=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,o)=>(a[o]=yB(o,t,e,i),a),{}):{}},yB=(t,e,n,r)=>{const i=e.find(s=>s.name===t),a=i==null?void 0:i.type,o=n[t];return a&&!r.includes(a)?Rj(a,o):$w(o)},Rj=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return wB(e,n)}switch(t){case yn.bool:return vB(e);case yn.float4:case yn.float8:case yn.int2:case yn.int4:case yn.int8:case yn.numeric:case yn.oid:return xB(e);case yn.json:case yn.jsonb:return bB(e);case yn.timestamp:return _B(e);case yn.abstime:case yn.date:case yn.daterange:case yn.int4range:case yn.int8range:case yn.money:case yn.reltime:case yn.text:case yn.time:case yn.timestamptz:case yn.timetz:case yn.tsrange:case yn.tstzrange:return $w(e);default:return $w(e)}},$w=t=>t,vB=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},xB=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},bB=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},wB=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>Rj(e,s))}return t},_B=t=>typeof t=="string"?t.replace(" ","T"):t,Lj=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class kx{constructor(e,n,r={},i=Mw){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var gN;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(gN||(gN={}));class Dh{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dh.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=Dh.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Dh.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),o=this.transformState(n),s={},l={};return this.map(a,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=a[u];if(f){const p=c.map(x=>x.presence_ref),h=f.map(x=>x.presence_ref),y=c.filter(x=>h.indexOf(x.presence_ref)<0),g=f.filter(x=>p.indexOf(x.presence_ref)<0);y.length>0&&(s[u]=y),g.length>0&&(l[u]=g)}else s[u]=c}),this.syncDiff(a,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const f=e[s].map(h=>h.presence_ref),p=c.filter(h=>f.indexOf(h.presence_ref)<0);e[s].unshift(...p)}r(s,c,l)}),this.map(o,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yN;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(yN||(yN={}));var $h;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})($h||($h={}));var Ko;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ko||(Ko={}));class D5{constructor(e,n={config:{}},r){var i,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=gr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new kx(this,da.join,this.params,this.timeout),this.rejoinTimer=new jj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(da.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new Dh(this),this.broadcastEndpointURL=Lj(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==gr.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[$h.PRESENCE]&&this.bindings[$h.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},p={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(Ko.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Ko.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var y;if(this.socket.setAuth(),h===void 0){e==null||e(Ko.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(y=g==null?void 0:g.length)!==null&&y!==void 0?y:0,v=[];for(let w=0;w<x;w++){const _=g[w],{filter:{event:A,schema:S,table:N,filter:C}}=_,I=h&&h[w];if(I&&I.event===A&&I.schema===S&&I.table===N&&I.filter===C)v.push(Object.assign(Object.assign({},_),{id:I.id}));else{this.unsubscribe(),this.state=gr.errored,e==null||e(Ko.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Ko.SUBSCRIBED);return}}).receive("error",h=>{this.state=gr.errored,e==null||e(Ko.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ko.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===gr.joined&&e===$h.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(da.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new kx(this,da.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gr.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new kx(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>mB){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=da;if(r&&[s,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var y,g,x;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(g=h.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(h=>h.callback(p,r)):(a=this.bindings[o])===null||a===void 0||a.filter(h=>{var y,g,x,v,w,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const A=h.id,S=(y=h.filter)===null||y===void 0?void 0:y.event;return A&&((g=n.ids)===null||g===void 0?void 0:g.includes(A))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const A=(w=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return A==="*"||A===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:g,table:x,commit_timestamp:v,type:w,errors:_}=y;p=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:v,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(y))}h.callback(p,r)})}_isClosed(){return this.state===gr.closed}_isJoined(){return this.state===gr.joined}_isJoining(){return this.state===gr.joining}_isLeaving(){return this.state===gr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&D5.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(da.close,{},e)}_onError(e){this._on(da.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=mN(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=mN(e.columns,e.old_record)),n}}const Ix=()=>{},Pg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},SB=[1e3,2e3,5e3,1e4],AB=1e4,EB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class NB{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mw,this.transport=null,this.heartbeatIntervalMs=Pg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ix,this.ref=0,this.reconnectTimer=null,this.vsn=pN,this.logger=Ix,this.conn=null,this.sendBuffer=[],this.serializer=new gB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Dw.websocket}`,this.httpEndpoint=Lj(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cB.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case pu.connecting:return mu.Connecting;case pu.open:return mu.Open;case pu.closing:return mu.Closing;default:return mu.Closed}}isConnected(){return this.connectionState()===mu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new D5(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(pB,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Pg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===pu.open||this.conn.readyState===pu.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(da.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([EB],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:fB};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(da.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new jj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,o,s,l,u,c,f,p,h;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Mw,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Pg.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:Ix,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:pN,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:y=>SB[y-1]||AB,this.vsn){case Oj:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(y,g)=>g(JSON.stringify(y)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(y,g)=>g(JSON.parse(y));break;case hB:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class $5 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function jn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class TB extends $5{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fw extends $5{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const F5=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),PB=()=>Response,Uw=t=>{if(Array.isArray(t))return t.map(n=>Uw(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Uw(r)}),e},CB=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ox=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},kB=(t,e,n)=>ot(void 0,void 0,void 0,function*(){const r=yield PB();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new TB(Ox(i),a,o))}).catch(i=>{e(new Fw(Ox(i),i))}):e(new Fw(Ox(t),t))}),IB=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(CB(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function lm(t,e,n,r,i,a){return ot(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(n,IB(e,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>kB(l,s,r))})})}function pp(t,e,n,r){return ot(this,void 0,void 0,function*(){return lm(t,"GET",e,n,r)})}function $a(t,e,n,r,i){return ot(this,void 0,void 0,function*(){return lm(t,"POST",e,r,i,n)})}function Bw(t,e,n,r,i){return ot(this,void 0,void 0,function*(){return lm(t,"PUT",e,r,i,n)})}function OB(t,e,n,r){return ot(this,void 0,void 0,function*(){return lm(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function U5(t,e,n,r,i){return ot(this,void 0,void 0,function*(){return lm(t,"DELETE",e,r,i,n)})}class jB{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return ot(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(jn(e))return{data:null,error:e};throw e}})}}var Mj;class RB{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Mj]="BlobDownloadBuilder",this.promise=null}asStream(){return new jB(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ot(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(jn(e))return{data:null,error:e};throw e}})}}Mj=Symbol.toStringTag;const LB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class MB{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=F5(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return ot(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},vN),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield(e=="PUT"?Bw:$a)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jn(a))return{data:null,error:a};throw a}})}upload(e,n,r){return ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return ot(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:vN.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield Bw(this.fetch,s.toString(),l,{headers:c});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(jn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return ot(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield $a(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new $5("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}})}update(e,n,r){return ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ot(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return ot(this,void 0,void 0,function*(){try{return{data:{path:(yield $a(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return ot(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield $a(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return ot(this,void 0,void 0,function*(){try{const i=yield $a(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(e),l=()=>pp(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new RB(l,this.shouldThrowOnError)}info(e){return ot(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield pp(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Uw(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}})}exists(e){return ot(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield OB(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r)&&r instanceof Fw){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}remove(e){return ot(this,void 0,void 0,function*(){try{return{data:yield U5(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}list(e,n,r){return ot(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},LB),n),{prefix:e||""});return{data:yield $a(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}listV2(e,n){return ot(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield $a(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Dj="2.81.0",$j={"X-Client-Info":`storage-js/${Dj}`};class DB{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$j),n),this.fetch=F5(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ot(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield pp(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}getBucket(e){return ot(this,void 0,void 0,function*(){try{return{data:yield pp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}createBucket(e){return ot(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield $a(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return ot(this,void 0,void 0,function*(){try{return{data:yield Bw(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ot(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ot(this,void 0,void 0,function*(){try{return{data:yield U5(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class $B{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$j),n),this.fetch=F5(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ot(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}listBuckets(e){return ot(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield pp(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ot(this,void 0,void 0,function*(){try{return{data:yield U5(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}}const B5={"X-Client-Info":`storage-js/${Dj}`,"Content-Type":"application/json"};class Fj extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function $i(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class jx extends Fj{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class FB extends Fj{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var xN;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(xN||(xN={}));const q5=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),UB=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},bN=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),BB=(t,e,n)=>ot(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new jx(bN(o),i,s))}).catch(()=>{const o=i+"",s=a.statusText||`HTTP ${i} error`;e(new jx(s,i,o))});else{const o=i+"",s=a.statusText||`HTTP ${i} error`;e(new jx(s,i,o))}}else e(new FB(bN(t),t))}),qB=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(UB(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function VB(t,e,n,r,i,a){return ot(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(n,qB(e,r,i,a)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>BB(l,s,r))})})}function Fi(t,e,n,r,i){return ot(this,void 0,void 0,function*(){return VB(t,"POST",e,r,i,n)})}class zB{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B5),n),this.fetch=q5(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ot(this,void 0,void 0,function*(){try{return{data:(yield Fi(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($i(n))return{data:null,error:n};throw n}})}getIndex(e,n){return ot(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($i(r))return{data:null,error:r};throw r}})}listIndexes(e){return ot(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($i(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return ot(this,void 0,void 0,function*(){try{return{data:(yield Fi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($i(r))return{data:null,error:r};throw r}})}}class HB{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B5),n),this.fetch=q5(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ot(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Fi(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($i(n))return{data:null,error:n};throw n}})}getVectors(e){return ot(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($i(n))return{data:null,error:n};throw n}})}listVectors(e){return ot(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Fi(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($i(n))return{data:null,error:n};throw n}})}queryVectors(e){return ot(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($i(n))return{data:null,error:n};throw n}})}deleteVectors(e){return ot(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Fi(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($i(n))return{data:null,error:n};throw n}})}}class GB{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B5),n),this.fetch=q5(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ot(this,void 0,void 0,function*(){try{return{data:(yield Fi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($i(n))return{data:null,error:n};throw n}})}getBucket(e){return ot(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($i(n))return{data:null,error:n};throw n}})}listBuckets(){return ot(this,arguments,void 0,function*(e={}){try{return{data:yield Fi(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($i(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ot(this,void 0,void 0,function*(){try{return{data:(yield Fi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($i(n))return{data:null,error:n};throw n}})}}class WB extends GB{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new KB(this.url,this.headers,e,this.fetch)}}class KB extends zB{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ot(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ot(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ot(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ot(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new JB(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class JB extends HB{constructor(e,n,r,i,a){super(e,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ot(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ot(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ot(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ot(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ot(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class YB extends DB{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new MB(this.url,this.headers,e,this.fetch)}get vectors(){return new WB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $B(this.url+"/iceberg",this.headers,this.fetch)}}const XB="2.81.0";let Eh="";typeof Deno<"u"?Eh="deno":typeof document<"u"?Eh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Eh="react-native":Eh="node";const ZB={"X-Client-Info":`supabase-js-${Eh}/${XB}`},QB={headers:ZB},e9={schema:"public"},t9={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n9={},r9=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),i9=()=>Headers,a9=(t,e,n)=>{const r=r9(n),i=i9();return async(a,o)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},o),{headers:u}))}};function o9(t){return t.endsWith("/")?t:t+"/"}function s9(t,e){var n,r;const{db:i,auth:a,realtime:o,global:s}=t,{db:l,auth:u,realtime:c,global:f}=e,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function l9(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(o9(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Uj="2.81.0",Ic=30*1e3,qw=3,Rx=qw*Ic,u9="http://localhost:9999",c9="supabase.auth.token",d9={"X-Client-Info":`gotrue-js/${Uj}`},Vw="X-Supabase-Api-Version",Bj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},f9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,h9=10*60*1e3;class mp extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function dt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class p9 extends mp{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function m9(t){return dt(t)&&t.name==="AuthApiError"}class gu extends mp{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Nl extends mp{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class La extends Nl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function g9(t){return dt(t)&&t.name==="AuthSessionMissingError"}class xc extends Nl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cg extends Nl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class kg extends Nl{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function y9(t){return dt(t)&&t.name==="AuthImplicitGrantRedirectError"}class wN extends Nl{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zw extends Nl{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Lx(t){return dt(t)&&t.name==="AuthRetryableFetchError"}class _N extends Nl{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Hw extends Nl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),SN=` 	
\r=`.split(""),v9=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<SN.length;e+=1)t[SN[e].charCodeAt(0)]=-2;for(let e=0;e<Gy.length;e+=1)t[Gy[e].charCodeAt(0)]=e;return t})();function AN(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Gy[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Gy[r]),e.queuedBits-=6}}function qj(t,e,n){const r=v9[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function EN(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{w9(o,r,n)};for(let o=0;o<t.length;o+=1)qj(t.charCodeAt(o),i,a);return e.join("")}function x9(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function b9(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}x9(r,e)}}function w9(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function od(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)qj(t.charCodeAt(i),n,r);return new Uint8Array(e)}function _9(t){const e=[];return b9(t,n=>e.push(n)),new Uint8Array(e)}function _u(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>AN(i,n,r)),AN(null,n,r),e.join("")}function S9(t){return Math.round(Date.now()/1e3)+t}function A9(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Kr=()=>typeof window<"u"&&typeof document<"u",nu={tested:!1,writable:!1},Vj=()=>{if(!Kr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nu.tested)return nu.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),nu.tested=!0,nu.writable=!0}catch{nu.tested=!0,nu.writable=!1}return nu.writable};function E9(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const zj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),N9=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Oc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ru=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Bs=async(t,e)=>{await t.removeItem(e)};class N0{constructor(){this.promise=new N0.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}N0.promiseConstructor=Promise;function Mx(t){const e=t.split(".");if(e.length!==3)throw new Hw("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!f9.test(e[r]))throw new Hw("JWT not in base64url format");return{header:JSON.parse(EN(e[0])),payload:JSON.parse(EN(e[1])),signature:od(e[2]),raw:{header:e[0],payload:e[1]}}}async function T9(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function P9(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function C9(t){return("0"+t.toString(16)).substr(-2)}function k9(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,C9).join("")}async function I9(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function O9(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await I9(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bc(t,e,n=!1){const r=k9();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Oc(t,`${e}-code-verifier`,i);const a=await O9(r);return[a,r===a?"plain":"s256"]}const j9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function R9(t){const e=t.headers.get(Vw);if(!e||!e.match(j9))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function L9(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function M9(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const D9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wc(t){if(!D9.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dx(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $9(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function NN(t){return JSON.parse(JSON.stringify(t))}const uu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),F9=[502,503,504];async function TN(t){var e;if(!N9(t))throw new zw(uu(t),0);if(F9.includes(t.status))throw new zw(uu(t),t.status);let n;try{n=await t.json()}catch(a){throw new gu(uu(a),a)}let r;const i=R9(t);if(i&&i.getTime()>=Bj["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _N(uu(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new La}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new _N(uu(n),t.status,n.weak_password.reasons);throw new p9(uu(n),t.status||500,r)}const U9=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function bt(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Vw]||(a[Vw]=Bj["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await B9(t,e,n+s,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function B9(t,e,n,r,i,a){const o=U9(e,r,i,a);let s;try{s=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new zw(uu(l),0)}if(s.ok||await TN(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await TN(l)}}function Ma(t){var e;let n=null;z9(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=S9(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function PN(t){const e=Ma(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Xs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function q9(t){return{data:t,error:null}}function V9(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,o=of(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function CN(t){return t}function z9(t){return t.access_token&&t.refresh_token&&t.expires_in}const $x=["global","local","others"];class H9{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=zj(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=$x[0]){if($x.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$x.join(", ")}`);try{return await bt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xs})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=of(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:V9,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(dt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await bt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xs})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:CN});if(c.error)throw c.error;const f=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(dt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){wc(e);try{return await bt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xs})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){wc(e);try{return await bt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Xs})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){wc(e);try{return await bt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xs})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){wc(e.userId);try{const{data:n,error:r}=await bt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){wc(e.userId),wc(e.id);try{return{data:await bt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:CN});if(c.error)throw c.error;const f=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(dt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await bt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await bt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}}function kN(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const _c={debug:!!(globalThis&&Vj()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hj extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class G9 extends Hj{}async function W9(t,e,n){_c.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),_c.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){_c.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{_c.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw _c.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new G9(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(_c.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function K9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Gj(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function J9(t){return parseInt(t,16)}function Y9(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function X9(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:u,scheme:c,uri:f,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=Gj(t.address),y=c?`${c}://${r}`:r,g=t.statement?`${t.statement}
`:"",x=`${y} wants you to sign in with your Ethereum account:
${h}

${g}`;let v=`URI: ${f}
Version: ${p}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let w=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}v+=w}return`${x}
${v}`}class ar extends Error{constructor({message:e,code:n,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Wy extends ar{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Z9({error:t,options:e}){var n,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ar({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ar({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ar({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ar({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ar({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ar({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new ar({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ar({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Wj(o)){if(a.rp.id!==o)return new ar({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ar({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ar({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Q9({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ar({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ar({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Wj(r)){if(n.rpId!==r)return new ar({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ar({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class eq{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const tq=new eq;function nq(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=of(t,["challenge","user","excludeCredentials"]),a=od(e).buffer,o=Object.assign(Object.assign({},n),{id:od(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:od(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function rq(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=of(t,["challenge","allowCredentials"]),i=od(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const s=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:od(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function iq(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:_u(new Uint8Array(t.response.attestationObject)),clientDataJSON:_u(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function aq(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:_u(new Uint8Array(i.authenticatorData)),clientDataJSON:_u(new Uint8Array(i.clientDataJSON)),signature:_u(new Uint8Array(i.signature)),userHandle:i.userHandle?_u(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Wj(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function IN(){var t,e;return!!(Kr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function oq(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wy("Browser returned unexpected credential type",e)}:{data:null,error:new Wy("Empty credential response",e)}}catch(e){return{data:null,error:Z9({error:e,options:t})}}}async function sq(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wy("Browser returned unexpected credential type",e)}:{data:null,error:new Wy("Empty credential response",e)}}catch(e){return{data:null,error:Q9({error:e,options:t})}}}const lq={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},uq={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ky(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(e(o)){const s=r[a];e(s)?r[a]=Ky(s,o):r[a]=Ky(o)}else r[a]=o}return r}function cq(t,e){return Ky(lq,t,e||{})}function dq(t,e){return Ky(uq,t,e||{})}class fq{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:s};const l=i??tq.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=cq(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:c,error:f}=await oq({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}case"request":{const u=dq(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:c,error:f}=await sq(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}}}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new gu("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new mp("rpId is required for WebAuthn authentication")};try{if(!IN())return{data:null,error:new gu("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new gu("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new mp("rpId is required for WebAuthn registration")};try{if(!IN())return{data:null,error:new gu("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var f;return(f=c.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new gu("Unexpected error in register",o)}}}}K9();const hq={url:u9,storageKey:c9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:d9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ON(t,e,n){return await n()}const Sc={};class gp{get jwks(){var e,n;return(n=(e=Sc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Sc[this.storageKey]=Object.assign(Object.assign({},Sc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Sc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Sc[this.storageKey]=Object.assign(Object.assign({},Sc[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},hq),e);if(this.storageKey=a.storageKey,this.instanceID=(n=gp.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,gp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Kr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new H9({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=zj(a.fetch),this.lock=a.lock||ON,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Kr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=W9:this.lock=ON,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fq(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Vj()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kN(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=kN(this.memoryStorage)),Kr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Uj}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Kr()&&(n=E9(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Kr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),y9(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return dt(n)?this._returnResult({error:n}):this._returnResult({error:new gu("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ma}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(dt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:c,password:f,options:p}=e;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await bc(this.storage,this.storageKey)),a=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:y},xform:Ma})}else if("phone"in e){const{phone:c,password:f,options:p}=e;a=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ma})}else throw new Cg("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(dt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:s}=e;n=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:PN})}else if("phone"in e){const{phone:a,password:o,options:s}=e;n=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:PN})}else throw new Cg("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new xc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(dt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,o,s,l,u,c,f,p;let h,y;if("message"in e)h=e.message,y=e.signature;else{const{chain:g,wallet:x,statement:v,options:w}=e;let _;if(Kr())if(typeof x=="object")_=x;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")_=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const A=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=Gj(S[0]);let C=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const R=await _.request({method:"eth_chainId"});C=J9(R)}const I={domain:A.host,address:N,statement:v,uri:A.href,version:"1",chainId:C,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.resources};h=X9(I),y=await _.request({method:"personal_sign",params:[Y9(h),N]})}try{const{data:g,error:x}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:y},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ma});if(x)throw x;if(!g||!g.session||!g.user){const v=new xc;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:x})}catch(g){if(dt(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var n,r,i,a,o,s,l,u,c,f,p,h;let y,g;if("message"in e)y=e.message,g=e.signature;else{const{chain:x,wallet:v,statement:w,options:_}=e;let A;if(Kr())if(typeof v=="object")A=v;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))A=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=v}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const N=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let C;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")C=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)C=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)y=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const N=await A.signMessage(new TextEncoder().encode(y),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:x,error:v}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:_u(g)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ma});if(v)throw v;if(!x||!x.session||!x.user){const w=new xc;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:v})}catch(x){if(dt(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const n=await ru(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ma});if(await Bs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new xc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(dt(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=e,s=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ma}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new xc;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(dt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,a,o;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await bc(this.storage,this.storageKey));const{error:f}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Cg("You must provide either an email or phone number.")}catch(s){if(dt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ma});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(dt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,o=null;this.flowType==="pkce"&&([a,o]=await bc(this.storage,this.storageKey));const s=await bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:q9});return this._returnResult(s)}catch(a){if(dt(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new La;const{error:i}=await bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(dt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await bt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:s}=await bt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s})}throw new Cg("You must provide either an email or phone number and a type")}catch(n){if(dt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ru(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Rx:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await ru(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Dx()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=$9(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xs}):await this._useSession(async n=>{var r,i,a;const{data:o,error:s}=n;if(s)throw s;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new La}:await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Xs})})}catch(n){if(dt(n))return g9(n)&&(await this._removeSession(),await Bs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new La;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await bc(this.storage,this.storageKey));const{data:u,error:c}=await bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Xs});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(dt(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new La;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=Mx(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(dt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:s}=n;if(s)throw s;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new La;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(dt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Kr())throw new kg("No browser detected.");if(e.error||e.error_description||e.error_code)throw new kg(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new wN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new wN("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=e;if(!a||!s||!o||!u)throw new kg("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(s);let p=c+f;l&&(p=parseInt(l));const h=p-c;h*1e3<=Ic&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const y=p-f;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,c);const{data:g,error:x}=await this._getUser(a);if(x)throw x;const v={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:p,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(r){if(dt(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ru(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(m9(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await Bs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=A9(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await bc(this.storage,this.storageKey,!0));try{return await bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(dt(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,s,l,u,c;const{data:f,error:p}=a;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await bt(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Kr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(dt(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:s,token:l,access_token:u,nonce:c}=e,f=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ma}),{data:p,error:h}=f;return h?this._returnResult({data:{user:null,session:null},error:h}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new xc}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:h}))}catch(i){if(dt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await bt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await P9(async i=>(i>0&&await T9(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ma})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Lx(a)&&Date.now()+o-r<Ic})}catch(r){if(this._debug(n,"error",r),dt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Kr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ru(this.storage,this.storageKey);if(i&&this.userStorage){let o=await ru(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Oc(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Dx()}else if(i&&!i.user&&!i.user){const o=await ru(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Bs(this.storage,this.storageKey+"-user"),await Oc(this.storage,this.storageKey,i)):i.user=Dx()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Rx;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Rx}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Lx(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new La;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new N0;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new La;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),dt(a)){const o={data:null,error:a};return Lx(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Oc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=NN(i);await Oc(this.storage,this.storageKey,a)}else{const i=NN(n);await Oc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Bs(this.storage,this.storageKey),await Bs(this.storage,this.storageKey+"-code-verifier"),await Bs(this.storage,this.storageKey+"-user"),this.userStorage&&await Bs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Kr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ic);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Ic);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ic}ms, refresh threshold is ${qw} ticks`),i<=qw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Hj)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await bc(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await bt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await bt(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?iq(e.webauthn.credential_response):aq(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await bt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await bt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:nq(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:rq(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Mx(r.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await bt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new La})})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new La});const o=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Kr()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new La});const o=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Kr()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+h9>i)return r;const{data:a,error:o}=await bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:h,error:y}=await this.getSession();if(y||!h.session)return this._returnResult({data:null,error:y});r=h.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=Mx(r);n!=null&&n.allowExpired||L9(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:a,header:i,signature:o},error:null}}const c=M9(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,_9(`${s}.${l}`)))throw new Hw("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}}}gp.nextInstanceID={};const pq=gp;class mq extends pq{constructor(e){super(e)}}class gq{constructor(e,n,r){var i,a,o;this.supabaseUrl=e,this.supabaseKey=n;const s=l9(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:e9,realtime:n9,auth:Object.assign(Object.assign({},t9),{storageKey:l}),global:QB},c=s9(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=a9(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new uB(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new YB(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new oB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:u,throwOnError:c},f,p){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mq({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),f),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:s,lock:l,debug:u,throwOnError:c,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new NB(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yq=(t,e,n)=>new gq(t,e,n);function vq(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}vq()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xq="https://kivcusfsppjyalbgqtxy.supabase.co",bq="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpdmN1c2ZzcHBqeWFsYmdxdHh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NjI2NjYsImV4cCI6MjA3ODQzODY2Nn0.DMugE2X3gBvcRBXt-NqWceWQB2Vmi9kbavEE6MEjAmI",Pe=yq(xq,bq);async function V5(){try{const{error:t}=await Pe.auth.signOut();t&&console.error("Sign out error:",t)}catch(t){console.error("Sign out exception:",t)}window.location.href="/"}async function wq(){const{data:t,error:e}=await Pe.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(e)throw e;return t}function _q({onAuthSuccess:t}){const[e,n]=K.useState(!1),[r,i]=K.useState(""),[a,o]=K.useState(""),[s,l]=K.useState(""),[u,c]=K.useState("student"),[f,p]=K.useState([]),[h,y]=K.useState([]),[g,x]=K.useState(!1),[v,w]=K.useState(!1),[_,A]=K.useState(!1),[S,N]=K.useState(null),[C,I]=K.useState(null);K.useEffect(()=>{e&&u==="student"&&R()},[e,u]);const R=async()=>{x(!0);try{const{data:O,error:D}=await Pe.from("cohorts").select("id, name, description").order("name");if(D)throw D;y(O||[])}catch(O){console.error("Error loading cohorts:",O)}finally{x(!1)}},U=async()=>{A(!0),N(null),I(null);try{await wq()}catch(O){N(O.message||"Failed to sign in with Google. Please try again."),A(!1)}},P=async O=>{O.preventDefault(),w(!0),N(null),I(null);try{if(e){const{data:D,error:L}=await Pe.auth.signUp({email:r,password:a,options:{data:{name:s,role:u},emailRedirectTo:window.location.origin}});if(L)throw L;if(D.user&&!D.session){const B=u==="student"&&f.length>0?" After confirming your email, please join your selected cohorts from your profile page.":"";I(`Confirmation email sent to ${r}! Please check your inbox and click the confirmation link to activate your account.${B}`),w(!1),i(""),o(""),l(""),c("student"),p([]);return}if(D.user){let B=!1,J=0;const H=5;for(;!B&&J<H;){await new Promise(oe=>setTimeout(oe,500));const{data:M,error:X}=await Pe.from("users").select("id").eq("id",D.user.id).single();if(M&&!X)B=!0;else if(X&&X.code==="PGRST116"){const{error:oe}=await Pe.from("users").insert({id:D.user.id,name:s,email:r,role:u});oe||(B=!0)}J++}B||console.error("User record was not created after signup")}if(D.session&&D.user){if(u==="student"&&f.length>0){await new Promise(J=>setTimeout(J,1e3));const{error:B}=await Pe.from("users").select("id").eq("id",D.user.id).single();if(B)console.error("Cannot add cohorts: User record not found",B),N("Account created but failed to join cohorts. Please join them from your profile.");else{const J=f.map(X=>({cohort_id:X,student_id:D.user.id})),{data:H,error:M}=await Pe.from("cohort_members").insert(J).select();M?(console.error("Error adding student to cohorts:",M),N(`Account created but failed to join some cohorts: ${M.message}. Please join them from your profile.`)):H&&console.log("Successfully added student to cohorts:",H)}}t()}}else{const{error:D}=await Pe.auth.signInWithPassword({email:r,password:a});if(D)throw D;t()}}catch(D){N(D.message||"An error occurred"),w(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-primary-50 to-gray-100 px-4 py-8",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 md:p-10 w-full max-w-md border-2 border-gray-200",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-16 md:h-20 w-auto object-contain"})}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Kaya CBDC V-OSCE"}),d.jsx("p",{className:"text-gray-600 mt-2 text-sm md:text-base",children:"Yashwant Ayurvedic College"})]}),d.jsx("button",{type:"button",onClick:U,disabled:_||v,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-300 text-gray-700 py-3 px-6 rounded-xl hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:opacity-50 font-medium text-base md:text-lg shadow-md transition-all transform hover:scale-[1.02] mb-4",children:_?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("span",{children:"Connecting..."})]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),d.jsx("span",{children:"Sign in with Google"})]})}),d.jsxs("div",{className:"relative my-6",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-300"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),d.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),d.jsx("input",{type:"text",value:s,onChange:O=>l(O.target.value),required:e,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),d.jsxs("select",{value:u,onChange:O=>{c(O.target.value),p([])},required:e,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 bg-white",children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),u==="student"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Cohorts (Optional)"}),g?d.jsx("div",{className:"text-sm text-gray-500",children:"Loading cohorts..."}):h.length===0?d.jsx("div",{className:"text-sm text-gray-500 p-3 bg-gray-50 rounded-md",children:"No cohorts available. You can join cohorts later from your profile settings."}):d.jsx("div",{className:"border border-gray-300 rounded-md max-h-40 overflow-y-auto p-2",children:h.map(O=>d.jsxs("label",{className:"flex items-start gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:f.includes(O.id),onChange:D=>{D.target.checked?p([...f,O.id]):p(f.filter(L=>L!==O.id))},className:"mt-1"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.name}),O.description&&d.jsx("div",{className:"text-xs text-gray-500",children:O.description})]})]},O.id))}),f.length>0&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[f.length," cohort",f.length!==1?"s":""," selected"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",value:r,onChange:O=>i(O.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsx("input",{type:"password",value:a,onChange:O=>o(O.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),S&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:S}),C&&d.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Email Sent!"}),d.jsx("p",{className:"text-sm mt-1",children:C})]})]})}),d.jsx("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white py-3 px-6 rounded-xl hover:from-primary-700 hover:to-primary-800 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 font-bold text-base md:text-lg shadow-lg transition-all transform hover:scale-[1.02]",children:v?"Loading...":e?"Sign Up":"Sign In"})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("button",{onClick:()=>{n(!e),N(null),I(null)},className:"text-primary-600 hover:text-primary-700 text-sm",children:e?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),St=(t,e)=>{const n=K.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,...u},c)=>K.createElement("svg",{ref:c,...Sq,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Aq(t)}`,s].join(" "),...u},[...e.map(([f,p])=>K.createElement(f,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=St("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=St("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=St("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=St("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=St("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=St("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=St("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=St("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=St("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=St("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=St("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=St("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=St("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=St("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=St("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=St("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=St("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=St("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=St("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=St("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=St("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=St("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=St("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=St("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=St("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=St("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=St("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=St("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=St("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=St("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=St("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=St("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=St("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=St("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=St("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=St("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=St("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=St("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=St("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=St("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=St("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=St("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=St("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=St("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=St("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=St("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=St("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function wi({role:t}){const e=Ju(),n=async()=>{await V5()},a=t==="faculty"?[{path:"/dashboard",icon:Jy,label:"Dashboard"},{path:"/create",icon:um,label:"Create Station"},{path:"/library",icon:Jj,label:"Library"},{path:"/analytics",icon:yo,label:"Analytics"}]:[{path:"/admin/dashboard",icon:Jy,label:"Dashboard"},{path:"/admin/cbdc",icon:Wi,label:"CBDC Manager"},{path:"/admin/reports",icon:yo,label:"Reports"},{path:"/admin/users",icon:yl,label:"Users"}];return d.jsx("div",{className:"hidden md:flex md:flex-col md:w-64 md:fixed md:inset-y-0 bg-white border-r border-gray-200",children:d.jsxs("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center flex-shrink-0 px-4 mb-8 gap-3",children:[d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-10 w-auto object-contain"}),d.jsx("h1",{className:"text-xl font-bold text-primary-900",children:"Kaya V-OSCE"})]}),d.jsx("nav",{className:"flex-1 px-2 space-y-1",children:a.map(o=>{const s=o.icon,l=e.pathname===o.path||e.pathname.startsWith(o.path+"/");return d.jsxs(V6,{to:o.path,className:`flex items-center px-4 py-2 text-sm font-medium rounded-md ${l?"bg-primary-100 text-primary-900":"text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(s,{className:"mr-3 h-5 w-5"}),o.label]},o.path)})}),d.jsx("div",{className:"px-4 pb-4",children:d.jsxs("button",{onClick:n,className:"flex items-center w-full px-4 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-50",children:[d.jsx(Qj,{className:"mr-3 h-5 w-5"}),"Sign Out"]})})]})})}function $r({role:t}){const e=Ju(),a=t==="admin"?[{path:"/admin/dashboard",icon:Jy,label:"Dashboard"},{path:"/admin/cbdc",icon:Wi,label:"CBDC"},{path:"/admin/reports",icon:yo,label:"Reports"},{path:"/admin/users",icon:yl,label:"Users"}]:t==="faculty"?[{path:"/dashboard",icon:Jy,label:"Dashboard"},{path:"/create",icon:um,label:"Create"},{path:"/library",icon:Jj,label:"Library"},{path:"/analytics",icon:yo,label:"Analytics"},{path:"/profile",icon:xo,label:"Profile"}]:[{path:"/home",icon:kq,label:"Home"},{path:"/assigned",icon:P0,label:"Assignments"},{path:"/analytics",icon:yo,label:"Analytics"},{path:"/profile",icon:xo,label:"Profile"}];return d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-300 shadow-lg z-50 md:hidden safe-area-bottom",children:d.jsx("div",{className:"flex justify-around items-center h-16 px-2",children:a.map(o=>{const s=o.icon,l=e.pathname===o.path||o.path!=="/dashboard"&&o.path!=="/admin/dashboard"&&e.pathname.startsWith(o.path);return d.jsxs(V6,{to:o.path,className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${l?"text-primary-600 bg-primary-50 rounded-t-lg":"text-gray-600 hover:text-primary-500"}`,children:[d.jsx(s,{className:`w-5 h-5 ${l?"scale-110":""} transition-transform`}),d.jsx("span",{className:`text-xs mt-0.5 font-medium ${l?"text-primary-700":"text-gray-600"}`,children:o.label})]},o.path)})})})}function Bq({user:t}){const e=Ya(),[n,r]=K.useState({approved:0,pending:0,total:0}),[i,a]=K.useState(!0);K.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:s,error:l}=await Pe.from("stations").select("id").eq("created_by",t.id);if(l)throw l;const u=(s==null?void 0:s.map(p=>p.id))||[],{data:c,error:f}=await Pe.from("case_snapshots").select("id",{count:"exact"}).in("station_id",u);if(f)throw f;r({approved:(c==null?void 0:c.length)||0,pending:u.length-((c==null?void 0:c.length)||0),total:u.length})}catch(s){console.error("Error loading stats:",s)}finally{a(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Faculty Dashboard"}),d.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome back, ",t.name]})]}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Approved Cases"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:n.approved})]}),d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(Wi,{className:"w-6 h-6 text-green-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Pending Review"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:n.pending})]}),d.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:d.jsx(Yu,{className:"w-6 h-6 text-yellow-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:n.total})]}),d.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:d.jsx(yl,{className:"w-6 h-6 text-blue-600"})})]})})]}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("button",{onClick:()=>e("/create"),className:"w-full md:w-auto flex items-center justify-center gap-2 bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors",children:[d.jsx(um,{className:"w-5 h-5"}),"Create New Station"]})})]})]})}),d.jsx($r,{role:"faculty"})]})}function qq({toast:t,onClose:e}){K.useEffect(()=>{if(t.duration!==0){const o=setTimeout(()=>{e(t.id)},t.duration||5e3);return()=>clearTimeout(o)}},[t.id,t.duration,e]);const n={success:vo,error:T0,warning:Nq,info:Iq},r={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"},i={success:"text-green-600",error:"text-red-600",warning:"text-yellow-600",info:"text-blue-600"},a=n[t.type];return d.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-lg border-2 shadow-lg min-w-[300px] max-w-md ${r[t.type]} animate-in slide-in-from-top-5 fade-in`,children:[d.jsx(a,{className:`w-5 h-5 flex-shrink-0 mt-0.5 ${i[t.type]}`}),d.jsx("div",{className:"flex-1 text-sm font-medium",children:t.message}),d.jsx("button",{onClick:()=>e(t.id),className:`flex-shrink-0 ${i[t.type]} hover:opacity-70 transition-opacity`,"aria-label":"Close",children:d.jsx(df,{className:"w-4 h-4"})})]})}function vl({toasts:t,onClose:e}){return t.length===0?null:d.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:t.map(n=>d.jsx("div",{className:"pointer-events-auto",children:d.jsx(qq,{toast:n,onClose:e})},n.id))})}function vs(){const[t,e]=K.useState([]),n=(l,u="info",c)=>{const f=Math.random().toString(36).substring(2,9),p={id:f,message:l,type:u,duration:c};return e(h=>[...h,p]),f};return{toasts:t,showToast:n,removeToast:l=>{e(u=>u.filter(c=>c.id!==l))},success:(l,u)=>n(l,"success",u),error:(l,u)=>n(l,"error",u),warning:(l,u)=>n(l,"warning",u),info:(l,u)=>n(l,"info",u)}}const lh="AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",LN="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";function Vq({user:t}){var S,N,C,I,R,U;const e=Ya(),n=vs(),[r,i]=K.useState(1),[a,o]=K.useState(!1),[s,l]=K.useState(!1),[u,c]=K.useState([]),[f,p]=K.useState([]),[h,y]=K.useState({subject:"",competencyId:"",slo:"",millerLevel:"ShowsHow",bloomDomain:"Cognitive",duration:15,difficulty:"Intermediate",prakriti:"Sama",doshaSliders:{vata:33,pitta:33,kapha:34},includeAshtasthana:!1});K.useEffect(()=>{g(),x()},[]);const g=async()=>{const{data:P}=await Pe.from("subjects").select("*");P&&c(P)},x=async()=>{const{data:P}=await Pe.from("competencies").select("*");P&&p(P)},v=P=>{var O,D,L,B,J,H;return`You are an expert Ayurvedic physician creating a virtual OSCE (Objective Structured Clinical Examination) case for medical students.

Generate a complete clinical case in JSON format matching this specification:

Subject: ${P.subject}
Miller's Level: ${P.millerLevel||"ShowsHow"}
Bloom's Domain: ${P.bloomDomain||"Cognitive"}
Difficulty: ${P.difficulty}
Duration: ${P.duration} minutes
Prakriti: ${P.prakriti||"Sama"}
Dosha Distribution: Vata ${((O=P.doshaSliders)==null?void 0:O.vata)||33}%, Pitta ${((D=P.doshaSliders)==null?void 0:D.pitta)||33}%, Kapha ${((L=P.doshaSliders)==null?void 0:L.kapha)||34}%
${P.includeAshtasthana?"Include Ashtasthana Pariksha findings":""}
${P.slo?`SLO: ${P.slo}`:""}

Return a JSON object with this exact structure:
{
  "id": "generate-uuid-here",
  "title": "Case title",
  "subject": "${P.subject}",
  "durationMinutes": ${P.duration},
  "difficulty": "${P.difficulty}",
  "patientProfile": {
    "name": "Patient name",
    "age": 35,
    "gender": "male",
    "prakriti": "${P.prakriti||"Sama"}",
    "occupation": "Relevant occupation"
  },
  "chiefComplaint": "Primary complaint in patient's own words (e.g., 'Fever and cough for 3 days')",
  "historyOfPresentIllness": "Detailed HPI in Ayurvedic context",
  ${P.includeAshtasthana?`"ashtasthanaPariksha": {
    "Nadi": "Pulse findings",
    "Mala": "Stool findings",
    "Mutra": "Urine findings",
    "Jihva": "Tongue findings",
    "Shabda": "Voice findings",
    "Sparsha": "Touch findings",
    "Druk": "Eye findings",
    "Akriti": "General appearance"
  },`:""}
  "doshaAnalysis": {
    "vata": ${((B=P.doshaSliders)==null?void 0:B.vata)||33},
    "pitta": ${((J=P.doshaSliders)==null?void 0:J.pitta)||33},
    "kapha": ${((H=P.doshaSliders)==null?void 0:H.kapha)||34}
  },
  "potentialDiagnoses": [
    {"dx": "Primary diagnosis", "confidence": 0.9},
    {"dx": "Differential diagnosis", "confidence": 0.6}
  ],
  "suggestedChikitsa": "Detailed treatment plan",
  "mcqs": [
    {
      "id": "mcq-1",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${P.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    },
    {
      "id": "mcq-2",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${P.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    },
    {
      "id": "mcq-3",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${P.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    }
  ],
  "rubrics": [
    {
      "id": "rubric-1",
      "description": "Rubric description",
      "maxPoints": 10,
      "sloId": "${P.slo||"default-slo"}"
    }
  ],
  "finalExplanation": "Comprehensive explanation",
  "sloMappings": ["${P.slo||"default-slo"}"],
  "physicalExam": {
    "vitals": {
      "bp": "Actual blood pressure relevant to the case (e.g., '90/60 mmHg' for hypotension, '150/95 mmHg' for hypertension)",
      "hr": "Actual heart rate relevant to the case (e.g., '110 bpm' for tachycardia, '55 bpm' for bradycardia)",
      "rr": "Actual respiratory rate relevant to the case (e.g., '28 breaths/min' for tachypnea, '12 breaths/min' for normal)",
      "temp": "Actual temperature relevant to the case (e.g., '102.8F (oral)' for fever, '98.6F (oral)' for normal)",
      "spo2": "Actual oxygen saturation relevant to the case (e.g., '88% on room air' for hypoxemia, '98% on room air' for normal)"
    },
    "generalExam": "Detailed general examination findings that are consistent with the diagnosis and clinical presentation. Include appearance, consciousness level, pallor, icterus, edema, etc.",
    "systemicExam": "Detailed systemic examination findings organized by system (CNS, CVS, RS, GIT, etc.) that are consistent with the diagnosis. Be specific and realistic."
  },
  "availableLabTests": [
    {"category": "BEDSIDE TESTS", "tests": ["ECG", "Blood Glucose", "Urine Dipstick"]},
    {"category": "BASIC LABS", "tests": ["CBC", "CMP", "ESR", "CRP", "TSH", "Lipid Profile", "LFT", "RFT", "ABG"]},
    {"category": "ADVANCED LABS", "tests": ["Troponin", "BNP", "D-dimer", "Coagulation Profile", "Blood Culture", "HbA1c"]},
    {"category": "IMAGING", "tests": ["Chest X-Ray", "CT Head", "CT Chest", "CT Abdomen", "Abdominal Ultrasound", "Echocardiogram"]}
  ],
  "labResults": {
    "CBC": "Complete blood count results relevant to the case (e.g., 'WBC: 15,000/L (elevated), Hb: 12 g/dL, Platelets: 250,000/L' for infection)",
    "CMP": "Comprehensive metabolic panel results relevant to the case (e.g., 'Na: 138 mEq/L, K: 4.2 mEq/L, Creatinine: 1.2 mg/dL, BUN: 45 mg/dL (elevated)' for renal issues)",
    "Chest X-Ray": "Chest X-ray findings relevant to the case (e.g., 'Consolidation in right lower lobe, consistent with pneumonia' or 'Normal chest X-ray')",
    "ECG": "ECG findings relevant to the case (e.g., 'Normal sinus rhythm' or 'ST elevation in leads II, III, aVF')",
    "CRP": "C-reactive protein result relevant to the case (e.g., '150 mg/L (markedly elevated)' for inflammation)",
    "Urine Dipstick": "Urine dipstick results relevant to the case (e.g., 'Negative for nitrites, leukocyte esterase, protein, blood' or 'Positive for protein and blood')"
  },
  "learningPearls": [
    "Key learning point 1 relevant to this case",
    "Key learning point 2 relevant to this case",
    "Key learning point 3 relevant to this case"
  ],
  "furtherReading": [
    {
      "title": "Relevant Textbook Chapter",
      "reference": "Textbook Name, Edition. Chapter X: Topic"
    },
    {
      "title": "Clinical Guidelines",
      "reference": "Guideline Name and Year"
    }
  ]
}

CRITICAL REQUIREMENTS - YOU MUST FOLLOW THESE:

1. MCQs (REQUIRED - MUST GENERATE AT LEAST 3):
   - Generate at least 3 multiple-choice questions related to the case
   - Each MCQ must have 4 options (A, B, C, D)
   - Include an explanation for each correct answer
   - The last 3 MCQs will be used as post-case questions (shown after submission)
   - Additional MCQs (if any) can be used as pre-case questions

2. Physical Exam (REQUIRED - MUST BE GENERATED):
   - Vitals: Generate ALL 5 vital signs (BP, HR, RR, Temp, SpO2) with realistic values that match the diagnosis
   - General Exam: Write 2-3 sentences describing patient appearance, consciousness, pallor, icterus, edema, etc. relevant to the condition
   - Systemic Exam: Write detailed findings by system (CNS, CVS, RS, GIT, etc.) - at least 4-5 sentences with specific findings
   - Example for pneumonia: BP 90/60 (hypotension), HR 110 (tachycardia), RR 28 (tachypnea), Temp 102.8F (fever), SpO2 88% (hypoxemia)
   - Example for hypertension: BP 150/95 (elevated), HR 85, RR 16, Temp 98.6F, SpO2 98%

2. Lab Results (REQUIRED - MUST BE GENERATED):
   - Generate results for at least 4-6 common tests (CBC, CMP, Chest X-Ray, ECG, CRP, etc.)
   - Results MUST support the diagnosis and be realistic
   - Include abnormal values with explanations (e.g., "WBC: 15,000/L (elevated)")

3. Learning Pearls (REQUIRED - MUST BE 3-5 ITEMS):
   - Each pearl should be a complete sentence
   - Focus on key teaching points specific to this case
   - Be actionable and educational

4. Further Reading (REQUIRED - MUST BE 2-3 ITEMS):
   - Include specific textbook names, editions, and chapter numbers
   - Include relevant clinical guidelines with years
   - Make them specific to the diagnosis

5. Data Consistency:
   - If patient has fever  Temp must be elevated (e.g., 102F+)
   - If patient has respiratory distress  RR elevated, SpO2 decreased
   - If patient has infection  WBC elevated, CRP elevated
   - All findings must support the primary diagnosis

Return ONLY valid JSON, no markdown formatting, no code blocks. The JSON must be parseable directly.`},w=(P,O)=>{let D=P.match(/```json\s*([\s\S]*?)\s*```/);if(D||(D=P.match(/```\s*([\s\S]*?)\s*```/)),D||(D=P.match(/\{[\s\S]*\}/)),!D)throw new Error("No JSON found in Gemini response. The AI may not have returned valid JSON.");try{const L=D[1]||D[0],B=JSON.parse(L);return B.id=crypto.randomUUID(),B.subject=O.subject,B.durationMinutes=O.duration,B.difficulty=O.difficulty,B.patientProfile||(B.patientProfile={name:"Patient",age:35,gender:"male",prakriti:O.prakriti||"Sama",occupation:"Not specified"}),B.mcqs||(B.mcqs=[]),B.rubrics||(B.rubrics=[]),B.potentialDiagnoses||(B.potentialDiagnoses=[]),B.sloMappings||(B.sloMappings=[]),B.physicalExam||(B.physicalExam={vitals:{},generalExam:"",systemicExam:""}),B.physicalExam.vitals||(B.physicalExam.vitals={}),(!B.availableLabTests||B.availableLabTests.length===0)&&(B.availableLabTests=[]),B}catch(L){throw new Error(`Failed to parse JSON from Gemini response: ${L.message}`)}},_=async()=>{var P,O,D,L,B;if(!h.subject||!h.competencyId){n.warning("Please select a subject and competency first");return}if(lh.trim()===""){n.error("Gemini API key is not configured. Please set VITE_GEMINI_API_KEY in your environment variables.");return}l(!0);try{const J=f.find(q=>q.id===h.competencyId),H=J?`${J.id}: ${J.description}`:h.competencyId,M=`You are an expert in medical education creating Specific Learning Outcomes (SLOs) for Ayurvedic medicine.

Subject: ${h.subject}
CBDC Competency: ${H}
Miller's Level: ${h.millerLevel}
Bloom's Domain: ${h.bloomDomain}

Generate a specific, measurable, and actionable learning outcome statement that:
1. Is aligned with the subject and competency
2. Matches the Miller's Level (${h.millerLevel})
3. Matches the Bloom's Domain (${h.bloomDomain})
4. Is specific to Ayurvedic medicine context
5. Is clear and concise (one sentence, max 20 words)

Return ONLY the SLO statement text, nothing else. No explanations, no quotes, just the statement.`,X=await fetch(LN,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":lh},body:JSON.stringify({contents:[{parts:[{text:M}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:100}})});if(!X.ok){const q=await X.text();let G=`Gemini API error (${X.status})`;try{const te=JSON.parse(q);(P=te.error)!=null&&P.message?G+=": "+te.error.message:G+=": "+q}catch{G+=": "+q}throw new Error(G)}const oe=await X.json();if(!oe.candidates||oe.candidates.length===0)throw new Error("No response from Gemini API. Please check your API key and try again.");const ie=((B=(L=(D=(O=oe.candidates[0])==null?void 0:O.content)==null?void 0:D.parts[0])==null?void 0:L.text)==null?void 0:B.trim())||"";if(!ie)throw new Error("Empty response from Gemini API");const k=ie.replace(/^["']|["']$/g,"").replace(/^```[\w]*\n?|\n?```$/g,"").trim();y({...h,slo:k}),n.success("SLO suggested successfully!")}catch(J){n.error("Error suggesting SLO: "+J.message)}finally{l(!1)}},A=async()=>{var P,O,D,L,B,J;o(!0);try{if(!h.subject)throw new Error("Please select a subject");if(!h.competencyId)throw new Error("Please select a CBDC competency");if(!lh||lh.trim()==="")throw new Error("Gemini API key is not configured. Please set VITE_GEMINI_API_KEY in your environment variables.");const H=v(h),M=await fetch(LN,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":lh},body:JSON.stringify({contents:[{parts:[{text:H}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:8192}})});if(!M.ok){const te=await M.text();let re=`Gemini API error (${M.status})`;try{const ce=JSON.parse(te);(P=ce.error)!=null&&P.message?re+=": "+ce.error.message:re+=": "+te}catch{re+=": "+te}throw new Error(re)}const X=await M.json();if(!X.candidates||X.candidates.length===0)throw new Error("No response from Gemini API. Please check your API key and try again.");const oe=((L=(D=(O=X.candidates[0])==null?void 0:O.content)==null?void 0:D.parts[0])==null?void 0:L.text)||"";if(!oe)throw new Error("Empty response from Gemini API");const ie=w(oe,h),k=[];if(!ie.physicalExam||!ie.physicalExam.vitals)k.push("Physical examination vitals are missing");else{const te=ie.physicalExam.vitals;(!te.bp||!te.hr||!te.rr||!te.temp||!te.spo2)&&k.push("Some vital signs are missing (BP, HR, RR, Temp, SpO2)")}if((!((B=ie.physicalExam)!=null&&B.generalExam)||ie.physicalExam.generalExam.trim()==="")&&k.push("General examination findings are missing"),(!((J=ie.physicalExam)!=null&&J.systemicExam)||ie.physicalExam.systemicExam.trim()==="")&&k.push("Systemic examination findings are missing"),(!ie.labResults||Object.keys(ie.labResults).length<4)&&k.push("Lab results are missing or insufficient (need at least 4 test results)"),!ie.learningPearls||ie.learningPearls.length<3?k.push("Learning pearls are missing or insufficient (need at least 3)"):ie.learningPearls.some(re=>re.toLowerCase().includes("key learning point")||re.toLowerCase().includes("relevant to this case")||re.trim().length<20)&&k.push("Learning pearls contain generic placeholder text"),!ie.furtherReading||ie.furtherReading.length<2?k.push("Further reading references are missing or insufficient (need at least 2)"):ie.furtherReading.some(re=>re.title.toLowerCase().includes("relevant textbook")||re.title.toLowerCase().includes("textbook name")||re.reference.toLowerCase().includes("chapter x")||re.reference.toLowerCase().includes("textbook name"))&&k.push("Further reading contains generic placeholder text"),k.length>0)throw new Error(`AI generation incomplete:
${k.join(`
`)}

Please regenerate the case.`);const{data:q,error:G}=await Pe.from("stations").insert({title:ie.title||"New Station",blueprint:{...h,generatedCase:ie},created_by:t.id}).select().single();if(G)throw G;e(`/review/${q.id}`),n.success("Case generated successfully!")}catch(H){n.error("Error generating case: "+H.message)}finally{o(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(yp,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Create New Station"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[r>=1&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 1: Subject & Competency"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),d.jsxs("select",{value:h.subject,onChange:P=>y({...h,subject:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Select Subject"}),u.map(P=>d.jsx("option",{value:P.name,children:P.name},P.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CBDC Competency"}),d.jsxs("select",{value:h.competencyId||"",onChange:P=>y({...h,competencyId:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Select Competency"}),f.map(P=>d.jsxs("option",{value:P.id,children:[P.id,": ",P.description]},P.id))]})]})]}),r>=2&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 2: Learning Outcomes"}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"SLO (Specific Learning Outcome)"}),d.jsx("button",{type:"button",onClick:_,disabled:s||!h.subject||!h.competencyId,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-primary-600 bg-primary-50 border border-primary-200 rounded-md hover:bg-primary-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?d.jsxs(d.Fragment,{children:[d.jsx(Sd,{className:"w-3 h-3 animate-spin"}),"Suggesting..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Mq,{className:"w-3 h-3"}),"AI Suggest"]})})]}),d.jsx("textarea",{value:h.slo||"",onChange:P=>y({...h,slo:P.target.value}),placeholder:"e.g., Demonstrate interpretation of Nadi in Pitta Jwara",className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Miller's Level"}),d.jsxs("select",{value:h.millerLevel,onChange:P=>y({...h,millerLevel:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Knows",children:"Knows"}),d.jsx("option",{value:"KnowsHow",children:"Knows How"}),d.jsx("option",{value:"ShowsHow",children:"Shows How"}),d.jsx("option",{value:"Does",children:"Does"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bloom's Domain"}),d.jsxs("select",{value:h.bloomDomain,onChange:P=>y({...h,bloomDomain:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Cognitive",children:"Cognitive"}),d.jsx("option",{value:"Psychomotor",children:"Psychomotor"}),d.jsx("option",{value:"Affective",children:"Affective"})]})]})]})]}),r>=3&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 3: Case Parameters"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),d.jsx("input",{type:"number",min:"5",max:"60",value:h.duration,onChange:P=>y({...h,duration:parseInt(P.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),d.jsxs("select",{value:h.difficulty,onChange:P=>y({...h,difficulty:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Beginner",children:"Beginner"}),d.jsx("option",{value:"Intermediate",children:"Intermediate"}),d.jsx("option",{value:"Advanced",children:"Advanced"})]})]})]})]}),r>=4&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 4: Ayurvedic Parameters"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prakriti"}),d.jsxs("select",{value:h.prakriti,onChange:P=>y({...h,prakriti:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Vata",children:"Vata"}),d.jsx("option",{value:"Pitta",children:"Pitta"}),d.jsx("option",{value:"Kapha",children:"Kapha"}),d.jsx("option",{value:"Sama",children:"Sama"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dosha Distribution (must sum to 100)"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Vata: ",(S=h.doshaSliders)==null?void 0:S.vata,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((N=h.doshaSliders)==null?void 0:N.vata)||0,onChange:P=>{var J;const O=parseInt(P.target.value),D=100-O,L=Math.min(D,((J=h.doshaSliders)==null?void 0:J.pitta)||0),B=100-O-L;y({...h,doshaSliders:{vata:O,pitta:L,kapha:B}})},className:"w-full"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Pitta: ",(C=h.doshaSliders)==null?void 0:C.pitta,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((I=h.doshaSliders)==null?void 0:I.pitta)||0,onChange:P=>{var J;const O=parseInt(P.target.value),D=100-O,L=Math.min(D,((J=h.doshaSliders)==null?void 0:J.vata)||0),B=100-L-O;y({...h,doshaSliders:{vata:L,pitta:O,kapha:B}})},className:"w-full"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Kapha: ",(R=h.doshaSliders)==null?void 0:R.kapha,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((U=h.doshaSliders)==null?void 0:U.kapha)||0,onChange:P=>{var J;const O=parseInt(P.target.value),D=100-O,L=Math.min(D,((J=h.doshaSliders)==null?void 0:J.vata)||0),B=100-L-O;y({...h,doshaSliders:{vata:L,pitta:B,kapha:O}})},className:"w-full"})]})]})]}),d.jsx("div",{children:d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:h.includeAshtasthana||!1,onChange:P=>y({...h,includeAshtasthana:P.target.checked})}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Include Ashtasthana Pariksha"})]})})]}),d.jsxs("div",{className:"flex justify-between pt-6 border-t",children:[d.jsx("button",{onClick:()=>i(Math.max(1,r-1)),disabled:r===1,className:"px-4 py-2 border border-gray-300 rounded-md disabled:opacity-50",children:"Previous"}),r<4?d.jsx("button",{onClick:()=>i(r+1),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Next"}):d.jsxs("button",{onClick:A,disabled:a||!h.subject,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 flex items-center gap-2",children:[a&&d.jsx(Sd,{className:"w-4 h-4 animate-spin"}),"Generate Case"]})]})]})]})}),d.jsx($r,{role:"faculty"}),d.jsx(vl,{toasts:n.toasts,onClose:n.removeToast})]})}var Gt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(s=>typeof i[i[s]]!="number"),o={};for(const s of a)o[s]=i[s];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Gt||(Gt={}));var MN;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(MN||(MN={}));const Xe=Gt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ws=t=>{switch(typeof t){case"undefined":return Xe.undefined;case"string":return Xe.string;case"number":return Number.isNaN(t)?Xe.nan:Xe.number;case"boolean":return Xe.boolean;case"function":return Xe.function;case"bigint":return Xe.bigint;case"symbol":return Xe.symbol;case"object":return Array.isArray(t)?Xe.array:t===null?Xe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Xe.promise:typeof Map<"u"&&t instanceof Map?Xe.map:typeof Set<"u"&&t instanceof Set?Xe.set:typeof Date<"u"&&t instanceof Date?Xe.date:Xe.object;default:return Xe.unknown}},$e=Gt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class fs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let s=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(s[u]=s[u]||{_errors:[]},s[u]._errors.push(n(o))):s[u]=s[u]||{_errors:[]},s=s[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof fs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Gt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}fs.create=t=>new fs(t);const Gw=(t,e)=>{let n;switch(t.code){case $e.invalid_type:t.received===Xe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case $e.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Gt.jsonStringifyReplacer)}`;break;case $e.unrecognized_keys:n=`Unrecognized key(s) in object: ${Gt.joinValues(t.keys,", ")}`;break;case $e.invalid_union:n="Invalid input";break;case $e.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Gt.joinValues(t.options)}`;break;case $e.invalid_enum_value:n=`Invalid enum value. Expected ${Gt.joinValues(t.options)}, received '${t.received}'`;break;case $e.invalid_arguments:n="Invalid function arguments";break;case $e.invalid_return_type:n="Invalid function return type";break;case $e.invalid_date:n="Invalid date";break;case $e.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Gt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case $e.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case $e.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case $e.custom:n="Invalid input";break;case $e.invalid_intersection_types:n="Intersection results could not be merged";break;case $e.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case $e.not_finite:n="Number must be finite";break;default:n=e.defaultError,Gt.assertNever(t)}return{message:n}};let zq=Gw;function Hq(){return zq}const Gq=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let s="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)s=u(o,{data:e,defaultError:s}).message;return{...i,path:a,message:s}};function He(t,e){const n=Hq(),r=Gq({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Gw?void 0:Gw].filter(i=>!!i)});t.common.issues.push(r)}class li{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Pt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return li.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Pt;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const Pt=Object.freeze({status:"aborted"}),Nh=t=>({status:"dirty",value:t}),_a=t=>({status:"valid",value:t}),DN=t=>t.status==="aborted",$N=t=>t.status==="dirty",Ad=t=>t.status==="valid",Yy=t=>typeof Promise<"u"&&t instanceof Promise;var at;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(at||(at={}));class Ao{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const FN=(t,e)=>{if(Ad(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new fs(t.common.issues);return this._error=n,this._error}}};function Mt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,s)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??s.defaultError}:typeof s.data>"u"?{message:l??r??s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:l??n??s.defaultError}},description:i}}class Ut{get description(){return this._def.description}_getType(e){return Ws(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ws(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new li,ctx:{common:e.parent.common,data:e.data,parsedType:Ws(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Yy(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ws(e)},i=this._parseSync({data:e,path:r.path,parent:r});return FN(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ws(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return Ad(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>Ad(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ws(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(Yy(i)?i:Promise.resolve(i));return FN(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=e(i),s=()=>a.addIssue({code:$e.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(s(),!1)):o?!0:(s(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Td({schema:this,typeName:Et.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return hl.create(this,this._def)}nullable(){return Pd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bo.create(this)}promise(){return tv.create(this,this._def)}or(e){return Zy.create([this,e],this._def)}and(e){return Qy.create(this,e,this._def)}transform(e){return new Td({...Mt(this._def),schema:this,typeName:Et.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Kw({...Mt(this._def),innerType:this,defaultValue:n,typeName:Et.ZodDefault})}brand(){return new mV({typeName:Et.ZodBranded,type:this,...Mt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Jw({...Mt(this._def),innerType:this,catchValue:n,typeName:Et.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return G5.create(this,e)}readonly(){return Yw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Wq=/^c[^\s-]{8,}$/i,Kq=/^[0-9a-z]+$/,Jq=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Yq=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Xq=/^[a-z0-9_-]{21}$/i,Zq=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Qq=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,eV=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,tV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Fx;const nV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,iV=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,aV=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oV=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sV=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,eR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",lV=new RegExp(`^${eR}$`);function tR(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function uV(t){return new RegExp(`^${tR(t)}$`)}function cV(t){let e=`${eR}T${tR(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function dV(t,e){return!!((e==="v4"||!e)&&nV.test(t)||(e==="v6"||!e)&&iV.test(t))}function fV(t,e){if(!Zq.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function hV(t,e){return!!((e==="v4"||!e)&&rV.test(t)||(e==="v6"||!e)&&aV.test(t))}class es extends Ut{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Xe.string){const a=this._getOrReturnCtx(e);return He(a,{code:$e.invalid_type,expected:Xe.string,received:a.parsedType}),Pt}const r=new li;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),He(i,{code:$e.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),He(i,{code:$e.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,s=e.data.length<a.value;(o||s)&&(i=this._getOrReturnCtx(e,i),o?He(i,{code:$e.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):s&&He(i,{code:$e.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")eV.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"email",code:$e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Fx||(Fx=new RegExp(tV,"u")),Fx.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"emoji",code:$e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Yq.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"uuid",code:$e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")Xq.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"nanoid",code:$e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")Wq.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"cuid",code:$e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Kq.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"cuid2",code:$e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Jq.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"ulid",code:$e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),He(i,{validation:"url",code:$e.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"regex",code:$e.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),He(i,{code:$e.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),He(i,{code:$e.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),He(i,{code:$e.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?cV(a).test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{code:$e.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?lV.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{code:$e.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?uV(a).test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{code:$e.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?Qq.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"duration",code:$e.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?dV(e.data,a.version)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"ip",code:$e.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?fV(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"jwt",code:$e.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?hV(e.data,a.version)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"cidr",code:$e.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?oV.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"base64",code:$e.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?sV.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"base64url",code:$e.invalid_string,message:a.message}),r.dirty()):Gt.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:$e.invalid_string,...at.errToObj(r)})}_addCheck(e){return new es({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...at.errToObj(e)})}url(e){return this._addCheck({kind:"url",...at.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...at.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...at.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...at.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...at.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...at.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...at.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...at.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...at.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...at.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...at.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...at.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...at.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...at.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...at.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...at.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...at.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...at.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...at.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...at.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...at.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...at.errToObj(n)})}nonempty(e){return this.min(1,at.errToObj(e))}trim(){return new es({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new es({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new es({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}es.create=t=>new es({checks:[],typeName:Et.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Mt(t)});function pV(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class Ed extends Ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Xe.number){const a=this._getOrReturnCtx(e);return He(a,{code:$e.invalid_type,expected:Xe.number,received:a.parsedType}),Pt}let r;const i=new li;for(const a of this._def.checks)a.kind==="int"?Gt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),He(r,{code:$e.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),He(r,{code:$e.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),He(r,{code:$e.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?pV(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),He(r,{code:$e.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),He(r,{code:$e.not_finite,message:a.message}),i.dirty()):Gt.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,at.toString(n))}gt(e,n){return this.setLimit("min",e,!1,at.toString(n))}lte(e,n){return this.setLimit("max",e,!0,at.toString(n))}lt(e,n){return this.setLimit("max",e,!1,at.toString(n))}setLimit(e,n,r,i){return new Ed({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:at.toString(i)}]})}_addCheck(e){return new Ed({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:at.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:at.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:at.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:at.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:at.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:at.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:at.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:at.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:at.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Gt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ed.create=t=>new Ed({checks:[],typeName:Et.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Mt(t)});class vp extends Ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Xe.bigint)return this._getInvalidInput(e);let r;const i=new li;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),He(r,{code:$e.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),He(r,{code:$e.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),He(r,{code:$e.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Gt.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return He(n,{code:$e.invalid_type,expected:Xe.bigint,received:n.parsedType}),Pt}gte(e,n){return this.setLimit("min",e,!0,at.toString(n))}gt(e,n){return this.setLimit("min",e,!1,at.toString(n))}lte(e,n){return this.setLimit("max",e,!0,at.toString(n))}lt(e,n){return this.setLimit("max",e,!1,at.toString(n))}setLimit(e,n,r,i){return new vp({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:at.toString(i)}]})}_addCheck(e){return new vp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:at.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:at.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:at.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:at.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:at.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}vp.create=t=>new vp({checks:[],typeName:Et.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Mt(t)});class UN extends Ut{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Xe.boolean){const r=this._getOrReturnCtx(e);return He(r,{code:$e.invalid_type,expected:Xe.boolean,received:r.parsedType}),Pt}return _a(e.data)}}UN.create=t=>new UN({typeName:Et.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Mt(t)});class Xy extends Ut{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Xe.date){const a=this._getOrReturnCtx(e);return He(a,{code:$e.invalid_type,expected:Xe.date,received:a.parsedType}),Pt}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return He(a,{code:$e.invalid_date}),Pt}const r=new li;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),He(i,{code:$e.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),He(i,{code:$e.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Gt.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Xy({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:at.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:at.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Xy.create=t=>new Xy({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Et.ZodDate,...Mt(t)});class BN extends Ut{_parse(e){if(this._getType(e)!==Xe.symbol){const r=this._getOrReturnCtx(e);return He(r,{code:$e.invalid_type,expected:Xe.symbol,received:r.parsedType}),Pt}return _a(e.data)}}BN.create=t=>new BN({typeName:Et.ZodSymbol,...Mt(t)});class qN extends Ut{_parse(e){if(this._getType(e)!==Xe.undefined){const r=this._getOrReturnCtx(e);return He(r,{code:$e.invalid_type,expected:Xe.undefined,received:r.parsedType}),Pt}return _a(e.data)}}qN.create=t=>new qN({typeName:Et.ZodUndefined,...Mt(t)});class VN extends Ut{_parse(e){if(this._getType(e)!==Xe.null){const r=this._getOrReturnCtx(e);return He(r,{code:$e.invalid_type,expected:Xe.null,received:r.parsedType}),Pt}return _a(e.data)}}VN.create=t=>new VN({typeName:Et.ZodNull,...Mt(t)});class zN extends Ut{constructor(){super(...arguments),this._any=!0}_parse(e){return _a(e.data)}}zN.create=t=>new zN({typeName:Et.ZodAny,...Mt(t)});class HN extends Ut{constructor(){super(...arguments),this._unknown=!0}_parse(e){return _a(e.data)}}HN.create=t=>new HN({typeName:Et.ZodUnknown,...Mt(t)});class xl extends Ut{_parse(e){const n=this._getOrReturnCtx(e);return He(n,{code:$e.invalid_type,expected:Xe.never,received:n.parsedType}),Pt}}xl.create=t=>new xl({typeName:Et.ZodNever,...Mt(t)});class GN extends Ut{_parse(e){if(this._getType(e)!==Xe.undefined){const r=this._getOrReturnCtx(e);return He(r,{code:$e.invalid_type,expected:Xe.void,received:r.parsedType}),Pt}return _a(e.data)}}GN.create=t=>new GN({typeName:Et.ZodVoid,...Mt(t)});class bo extends Ut{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Xe.array)return He(n,{code:$e.invalid_type,expected:Xe.array,received:n.parsedType}),Pt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,s=n.data.length<i.exactLength.value;(o||s)&&(He(n,{code:o?$e.too_big:$e.too_small,minimum:s?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(He(n,{code:$e.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(He(n,{code:$e.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,s)=>i.type._parseAsync(new Ao(n,o,n.path,s)))).then(o=>li.mergeArray(r,o));const a=[...n.data].map((o,s)=>i.type._parseSync(new Ao(n,o,n.path,s)));return li.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new bo({...this._def,minLength:{value:e,message:at.toString(n)}})}max(e,n){return new bo({...this._def,maxLength:{value:e,message:at.toString(n)}})}length(e,n){return new bo({...this._def,exactLength:{value:e,message:at.toString(n)}})}nonempty(e){return this.min(1,e)}}bo.create=(t,e)=>new bo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Et.ZodArray,...Mt(e)});function jc(t){if(t instanceof or){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=hl.create(jc(r))}return new or({...t._def,shape:()=>e})}else return t instanceof bo?new bo({...t._def,type:jc(t.element)}):t instanceof hl?hl.create(jc(t.unwrap())):t instanceof Pd?Pd.create(jc(t.unwrap())):t instanceof $u?$u.create(t.items.map(e=>jc(e))):t}class or extends Ut{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Gt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Xe.object){const u=this._getOrReturnCtx(e);return He(u,{code:$e.invalid_type,expected:Xe.object,received:u.parsedType}),Pt}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof xl&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||s.push(u);const l=[];for(const u of o){const c=a[u],f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Ao(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof xl){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of s)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")s.length>0&&(He(i,{code:$e.unrecognized_keys,keys:s}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of s){const f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Ao(i,f,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const f=await c.key,p=await c.value;u.push({key:f,value:p,alwaysSet:c.alwaysSet})}return u}).then(u=>li.mergeObjectSync(r,u)):li.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return at.errToObj,new or({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:at.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new or({...this._def,unknownKeys:"strip"})}passthrough(){return new or({...this._def,unknownKeys:"passthrough"})}extend(e){return new or({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new or({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Et.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new or({...this._def,catchall:e})}pick(e){const n={};for(const r of Gt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new or({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Gt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new or({...this._def,shape:()=>n})}deepPartial(){return jc(this)}partial(e){const n={};for(const r of Gt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new or({...this._def,shape:()=>n})}required(e){const n={};for(const r of Gt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof hl;)a=a._def.innerType;n[r]=a}return new or({...this._def,shape:()=>n})}keyof(){return nR(Gt.objectKeys(this.shape))}}or.create=(t,e)=>new or({shape:()=>t,unknownKeys:"strip",catchall:xl.create(),typeName:Et.ZodObject,...Mt(e)});or.strictCreate=(t,e)=>new or({shape:()=>t,unknownKeys:"strict",catchall:xl.create(),typeName:Et.ZodObject,...Mt(e)});or.lazycreate=(t,e)=>new or({shape:t,unknownKeys:"strip",catchall:xl.create(),typeName:Et.ZodObject,...Mt(e)});class Zy extends Ut{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const s of a)if(s.result.status==="valid")return s.result;for(const s of a)if(s.result.status==="dirty")return n.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(s=>new fs(s.ctx.common.issues));return He(n,{code:$e.invalid_union,unionErrors:o}),Pt}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!a&&(a={result:c,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(l=>new fs(l));return He(n,{code:$e.invalid_union,unionErrors:s}),Pt}}get options(){return this._def.options}}Zy.create=(t,e)=>new Zy({options:t,typeName:Et.ZodUnion,...Mt(e)});function Ww(t,e){const n=Ws(t),r=Ws(e);if(t===e)return{valid:!0,data:t};if(n===Xe.object&&r===Xe.object){const i=Gt.objectKeys(e),a=Gt.objectKeys(t).filter(s=>i.indexOf(s)!==-1),o={...t,...e};for(const s of a){const l=Ww(t[s],e[s]);if(!l.valid)return{valid:!1};o[s]=l.data}return{valid:!0,data:o}}else if(n===Xe.array&&r===Xe.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],s=e[a],l=Ww(o,s);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===Xe.date&&r===Xe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Qy extends Ut{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,o)=>{if(DN(a)||DN(o))return Pt;const s=Ww(a.value,o.value);return s.valid?(($N(a)||$N(o))&&n.dirty(),{status:n.value,value:s.data}):(He(r,{code:$e.invalid_intersection_types}),Pt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Qy.create=(t,e,n)=>new Qy({left:t,right:e,typeName:Et.ZodIntersection,...Mt(n)});class $u extends Ut{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Xe.array)return He(r,{code:$e.invalid_type,expected:Xe.array,received:r.parsedType}),Pt;if(r.data.length<this._def.items.length)return He(r,{code:$e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pt;!this._def.rest&&r.data.length>this._def.items.length&&(He(r,{code:$e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,s)=>{const l=this._def.items[s]||this._def.rest;return l?l._parse(new Ao(r,o,r.path,s)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>li.mergeArray(n,o)):li.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new $u({...this._def,rest:e})}}$u.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $u({items:t,typeName:Et.ZodTuple,rest:null,...Mt(e)})};class ev extends Ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Xe.object)return He(r,{code:$e.invalid_type,expected:Xe.object,received:r.parsedType}),Pt;const i=[],a=this._def.keyType,o=this._def.valueType;for(const s in r.data)i.push({key:a._parse(new Ao(r,s,r.path,s)),value:o._parse(new Ao(r,r.data[s],r.path,s)),alwaysSet:s in r.data});return r.common.async?li.mergeObjectAsync(n,i):li.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ut?new ev({keyType:e,valueType:n,typeName:Et.ZodRecord,...Mt(r)}):new ev({keyType:es.create(),valueType:e,typeName:Et.ZodRecord,...Mt(n)})}}class WN extends Ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Xe.map)return He(r,{code:$e.invalid_type,expected:Xe.map,received:r.parsedType}),Pt;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([s,l],u)=>({key:i._parse(new Ao(r,s,r.path,[u,"key"])),value:a._parse(new Ao(r,l,r.path,[u,"value"]))}));if(r.common.async){const s=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return Pt;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),s.set(u.value,c.value)}return{status:n.value,value:s}})}else{const s=new Map;for(const l of o){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return Pt;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),s.set(u.value,c.value)}return{status:n.value,value:s}}}}WN.create=(t,e,n)=>new WN({valueType:e,keyType:t,typeName:Et.ZodMap,...Mt(n)});class xp extends Ut{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Xe.set)return He(r,{code:$e.invalid_type,expected:Xe.set,received:r.parsedType}),Pt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(He(r,{code:$e.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(He(r,{code:$e.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(l){const u=new Set;for(const c of l){if(c.status==="aborted")return Pt;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const s=[...r.data.values()].map((l,u)=>a._parse(new Ao(r,l,r.path,u)));return r.common.async?Promise.all(s).then(l=>o(l)):o(s)}min(e,n){return new xp({...this._def,minSize:{value:e,message:at.toString(n)}})}max(e,n){return new xp({...this._def,maxSize:{value:e,message:at.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}xp.create=(t,e)=>new xp({valueType:t,minSize:null,maxSize:null,typeName:Et.ZodSet,...Mt(e)});class KN extends Ut{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}KN.create=(t,e)=>new KN({getter:t,typeName:Et.ZodLazy,...Mt(e)});class JN extends Ut{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return He(n,{received:n.data,code:$e.invalid_literal,expected:this._def.value}),Pt}return{status:"valid",value:e.data}}get value(){return this._def.value}}JN.create=(t,e)=>new JN({value:t,typeName:Et.ZodLiteral,...Mt(e)});function nR(t,e){return new Nd({values:t,typeName:Et.ZodEnum,...Mt(e)})}class Nd extends Ut{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return He(n,{expected:Gt.joinValues(r),received:n.parsedType,code:$e.invalid_type}),Pt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return He(n,{received:n.data,code:$e.invalid_enum_value,options:r}),Pt}return _a(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Nd.create(e,{...this._def,...n})}exclude(e,n=this._def){return Nd.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Nd.create=nR;class YN extends Ut{_parse(e){const n=Gt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Xe.string&&r.parsedType!==Xe.number){const i=Gt.objectValues(n);return He(r,{expected:Gt.joinValues(i),received:r.parsedType,code:$e.invalid_type}),Pt}if(this._cache||(this._cache=new Set(Gt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Gt.objectValues(n);return He(r,{received:r.data,code:$e.invalid_enum_value,options:i}),Pt}return _a(e.data)}get enum(){return this._def.values}}YN.create=(t,e)=>new YN({values:t,typeName:Et.ZodNativeEnum,...Mt(e)});class tv extends Ut{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Xe.promise&&n.common.async===!1)return He(n,{code:$e.invalid_type,expected:Xe.promise,received:n.parsedType}),Pt;const r=n.parsedType===Xe.promise?n.data:Promise.resolve(n.data);return _a(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}tv.create=(t,e)=>new tv({type:t,typeName:Et.ZodPromise,...Mt(e)});class Td extends Ut{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Et.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{He(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async s=>{if(n.value==="aborted")return Pt;const l=await this._def.schema._parseAsync({data:s,path:r.path,parent:r});return l.status==="aborted"?Pt:l.status==="dirty"||n.value==="dirty"?Nh(l.value):l});{if(n.value==="aborted")return Pt;const s=this._def.schema._parseSync({data:o,path:r.path,parent:r});return s.status==="aborted"?Pt:s.status==="dirty"||n.value==="dirty"?Nh(s.value):s}}if(i.type==="refinement"){const o=s=>{const l=i.refinement(s,a);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Pt:(s.status==="dirty"&&n.dirty(),o(s.value),{status:n.value,value:s.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>s.status==="aborted"?Pt:(s.status==="dirty"&&n.dirty(),o(s.value).then(()=>({status:n.value,value:s.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ad(o))return Pt;const s=i.transform(o.value,a);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:s}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Ad(o)?Promise.resolve(i.transform(o.value,a)).then(s=>({status:n.value,value:s})):Pt);Gt.assertNever(i)}}Td.create=(t,e,n)=>new Td({schema:t,typeName:Et.ZodEffects,effect:e,...Mt(n)});Td.createWithPreprocess=(t,e,n)=>new Td({schema:e,effect:{type:"preprocess",transform:t},typeName:Et.ZodEffects,...Mt(n)});class hl extends Ut{_parse(e){return this._getType(e)===Xe.undefined?_a(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}hl.create=(t,e)=>new hl({innerType:t,typeName:Et.ZodOptional,...Mt(e)});class Pd extends Ut{_parse(e){return this._getType(e)===Xe.null?_a(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pd.create=(t,e)=>new Pd({innerType:t,typeName:Et.ZodNullable,...Mt(e)});class Kw extends Ut{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Xe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Kw.create=(t,e)=>new Kw({innerType:t,typeName:Et.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Mt(e)});class Jw extends Ut{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Yy(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new fs(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new fs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Jw.create=(t,e)=>new Jw({innerType:t,typeName:Et.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Mt(e)});class XN extends Ut{_parse(e){if(this._getType(e)!==Xe.nan){const r=this._getOrReturnCtx(e);return He(r,{code:$e.invalid_type,expected:Xe.nan,received:r.parsedType}),Pt}return{status:"valid",value:e.data}}}XN.create=t=>new XN({typeName:Et.ZodNaN,...Mt(t)});class mV extends Ut{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class G5 extends Ut{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Pt:a.status==="dirty"?(n.dirty(),Nh(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Pt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new G5({in:e,out:n,typeName:Et.ZodPipeline})}}class Yw extends Ut{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Ad(i)&&(i.value=Object.freeze(i.value)),i);return Yy(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Yw.create=(t,e)=>new Yw({innerType:t,typeName:Et.ZodReadonly,...Mt(e)});var Et;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Et||(Et={}));const zt=es.create,qs=Ed.create;xl.create;const Vo=bo.create,so=or.create;Zy.create;Qy.create;$u.create;const ZN=ev.create,Ux=Nd.create;tv.create;hl.create;Pd.create;const gV=so({id:zt().uuid(),title:zt(),subject:zt(),durationMinutes:qs().min(5).max(60),difficulty:Ux(["Beginner","Intermediate","Advanced"]),patientProfile:so({name:zt(),age:qs(),gender:Ux(["male","female","other"]),prakriti:Ux(["Vata","Pitta","Kapha","Sama"]),vikriti:zt().optional(),occupation:zt().optional()}),chiefComplaint:zt().optional(),historyOfPresentIllness:zt(),ashtasthanaPariksha:ZN(zt()).optional(),doshaAnalysis:so({vata:qs().min(0).max(100),pitta:qs().min(0).max(100),kapha:qs().min(0).max(100)}),potentialDiagnoses:Vo(so({dx:zt(),confidence:qs().min(0).max(1)})),suggestedChikitsa:zt(),mcqs:Vo(so({id:zt(),question:zt(),options:Vo(zt()),answerIndex:qs(),sloId:zt()})),rubrics:Vo(so({id:zt(),description:zt(),maxPoints:qs(),sloId:zt()})),finalExplanation:zt(),sloMappings:Vo(zt()),physicalExam:so({vitals:so({bp:zt().optional(),hr:zt().optional(),rr:zt().optional(),temp:zt().optional(),spo2:zt().optional()}).optional(),generalExam:zt().optional(),systemicExam:zt().optional()}).optional(),availableLabTests:Vo(so({category:zt(),tests:Vo(zt())})).optional(),labResults:ZN(zt()).optional(),learningPearls:Vo(zt()).optional(),furtherReading:Vo(so({title:zt(),reference:zt()})).optional()});function yV({user:t}){const{stationId:e}=A0(),n=Ya(),r=vs(),[i,a]=K.useState(null),[o,s]=K.useState(null),[l,u]=K.useState(!0),[c,f]=K.useState(!1);K.useEffect(()=>{e&&p()},[e]);const p=async()=>{var y;try{const{data:g,error:x}=await Pe.from("stations").select("*").eq("id",e).single();if(x)throw x;a(g),(y=g.blueprint)!=null&&y.generatedCase&&s(g.blueprint.generatedCase)}catch(g){console.error("Error loading station:",g)}finally{u(!1)}},h=async()=>{var y,g;if(!(!i||!o)){f(!0);try{const x=[];if(!o.physicalExam||!o.physicalExam.vitals)x.push("Physical examination vitals are missing");else{const A=o.physicalExam.vitals;(!A.bp||!A.hr||!A.rr||!A.temp||!A.spo2)&&x.push("Some vital signs are missing")}if((!((y=o.physicalExam)!=null&&y.generalExam)||o.physicalExam.generalExam.trim()==="")&&x.push("General examination findings are missing"),(!((g=o.physicalExam)!=null&&g.systemicExam)||o.physicalExam.systemicExam.trim()==="")&&x.push("Systemic examination findings are missing"),(!o.labResults||Object.keys(o.labResults).length<4)&&x.push("Lab results are missing or insufficient"),(!o.learningPearls||o.learningPearls.length<3)&&x.push("Learning pearls are missing or insufficient"),(!o.furtherReading||o.furtherReading.length<2)&&x.push("Further reading references are missing or insufficient"),x.length>0)throw new Error(`Cannot approve case with missing data:
${x.join(`
`)}

Please regenerate the case.`);const v=gV.parse(o),{data:w,error:_}=await Pe.from("case_snapshots").insert({station_id:i.id,clinical_case:v,approved_by:t.id}).select().single();if(_)throw _;n(`/assign/${w.id}`),r.success("Case approved successfully!")}catch(x){r.error("Error approving case: "+x.message)}finally{f(!1)}}};return l?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 flex items-center justify-center pb-20 md:pb-0",children:d.jsx(Sd,{className:"w-8 h-8 animate-spin text-primary-600"})}),d.jsx($r,{role:"faculty"}),d.jsx(vl,{toasts:r.toasts,onClose:r.removeToast})]}):!i||!o?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 p-6 pb-20 md:pb-6",children:d.jsx("p",{children:"Station not found or case not generated yet."})}),d.jsx($r,{role:"faculty"}),d.jsx(vl,{toasts:r.toasts,onClose:r.removeToast})]}):d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(yp,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Review Generated Case"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Overview"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),d.jsx("p",{className:"text-lg",children:o.title})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"History of Present Illness"}),d.jsx("p",{className:"text-gray-900",children:o.historyOfPresentIllness})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Patient Profile"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Name:"})," ",o.patientProfile.name]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Age:"})," ",o.patientProfile.age]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Gender:"})," ",o.patientProfile.gender]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Prakriti:"})," ",o.patientProfile.prakriti]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Suggested Chikitsa"}),d.jsx("p",{className:"text-gray-900",children:o.suggestedChikitsa})]})]})]}),o.physicalExam&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Physical Examination"}),d.jsxs("div",{className:"space-y-4",children:[o.physicalExam.vitals&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vitals"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"BP:"})," ",o.physicalExam.vitals.bp||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"HR:"})," ",o.physicalExam.vitals.hr||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"RR:"})," ",o.physicalExam.vitals.rr||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Temp:"})," ",o.physicalExam.vitals.temp||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"SpO2:"})," ",o.physicalExam.vitals.spo2||"Not recorded"]})]})]}),o.physicalExam.generalExam&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"General Examination"}),d.jsx("p",{className:"text-gray-900 mt-2",children:o.physicalExam.generalExam})]}),o.physicalExam.systemicExam&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Systemic Examination"}),d.jsx("p",{className:"text-gray-900 mt-2 whitespace-pre-wrap",children:o.physicalExam.systemicExam})]})]})]}),o.labResults&&Object.keys(o.labResults).length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Lab Results (Available)"}),d.jsxs("div",{className:"space-y-2",children:[Object.entries(o.labResults).slice(0,5).map(([y,g])=>d.jsxs("div",{className:"border rounded p-3",children:[d.jsxs("strong",{children:[y,":"]})," ",g]},y)),Object.keys(o.labResults).length>5&&d.jsxs("p",{className:"text-sm text-gray-500",children:["... and ",Object.keys(o.labResults).length-5," more tests"]})]})]}),o.learningPearls&&o.learningPearls.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Learning Pearls"}),d.jsx("ul",{className:"list-disc list-inside space-y-2",children:o.learningPearls.map((y,g)=>d.jsx("li",{className:"text-gray-900",children:y},g))})]}),o.furtherReading&&o.furtherReading.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Further Reading"}),d.jsx("div",{className:"space-y-2",children:o.furtherReading.map((y,g)=>d.jsxs("div",{className:"border rounded p-3",children:[d.jsxs("strong",{children:[y.title,":"]})," ",y.reference]},g))})]}),o.mcqs&&o.mcqs.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Multiple Choice Questions"}),d.jsx("div",{className:"space-y-4",children:o.mcqs.map((y,g)=>d.jsxs("div",{className:"border rounded p-4",children:[d.jsx("p",{className:"font-medium mb-2",children:y.question}),d.jsx("ul",{className:"list-disc list-inside space-y-1",children:y.options.map((x,v)=>d.jsx("li",{className:v===y.answerIndex?"text-green-600 font-medium":"",children:x},v))})]},g))})]}),d.jsxs("div",{className:"flex gap-4 pt-6 border-t",children:[d.jsxs("button",{onClick:h,disabled:c,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:[c?d.jsx(Sd,{className:"w-4 h-4 animate-spin"}):d.jsx(Kj,{className:"w-4 h-4"}),"Approve Case"]}),d.jsxs("button",{onClick:()=>n("/create"),className:"flex items-center gap-2 px-6 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:[d.jsx(df,{className:"w-4 h-4"}),"Regenerate"]})]})]})]})}),d.jsx($r,{role:"faculty"})]})}function vV({user:t}){var L;const{snapshotId:e}=A0(),n=Ya(),r=vs(),[i,a]=K.useState(null),[o,s]=K.useState([]),[l,u]=K.useState([]),[c,f]=K.useState([]),[p,h]=K.useState([]),[y,g]=K.useState("cohort"),[x,v]=K.useState(""),[w,_]=K.useState(""),[A,S]=K.useState(1),[N,C]=K.useState(!0),[I,R]=K.useState(!1);K.useEffect(()=>{e&&U()},[e]);const U=async()=>{try{const{data:B,error:J}=await Pe.from("case_snapshots").select("*").eq("id",e).single();if(J)throw J;a(B);const{data:H,error:M}=await Pe.from("cohorts").select("*").order("name");if(M)throw M;const X=await Promise.all((H||[]).map(async k=>{const{data:q}=await Pe.from("cohort_members").select("student_id").eq("cohort_id",k.id),G=(q||[]).map(re=>re.student_id);let te=[];if(G.length>0){const{data:re}=await Pe.from("users").select("id, name, email").in("id",G);te=(re||[]).map(ce=>({id:ce.id,name:ce.name,email:ce.email}))}return{...k,students:te}}));s(X);const{data:oe,error:ie}=await Pe.from("users").select("id, name, email").eq("role","student").order("name");if(ie)throw ie;u(oe||[])}catch(B){console.error("Error loading data:",B)}finally{C(!1)}},P=async()=>{if(e){if(y==="cohort"&&c.length===0){r.warning("Please select at least one cohort");return}if(y==="student"&&p.length===0){r.warning("Please select at least one student");return}if(y==="both"&&c.length===0&&p.length===0){r.warning("Please select at least one cohort or student");return}R(!0);try{const B=[];for(const J of c)B.push({snapshot_id:e,cohort_id:J,start_at:x||null,due_at:w||null,max_attempts:A});for(const J of p){const H=l.find(M=>M.id===J);if(H){let M=null;const{data:X}=await Pe.from("cohorts").select("id").eq("name",`Personal: ${H.name}`).single();if(X)M=X.id;else{const{data:oe,error:ie}=await Pe.from("cohorts").insert({name:`Personal: ${H.name}`,description:`Personal assignment cohort for ${H.name}`}).select().single();if(ie)throw ie;M=oe.id,await Pe.from("cohort_members").insert({cohort_id:M,student_id:J})}M&&B.push({snapshot_id:e,cohort_id:M,start_at:x||null,due_at:w||null,max_attempts:A})}}if(B.length>0){const{error:J}=await Pe.from("assignments").insert(B);if(J)throw J}r.success(`Successfully created ${B.length} assignment(s)!`),n("/dashboard")}catch(B){r.error("Error creating assignment: "+B.message)}finally{R(!1)}}},O=B=>{f(J=>J.includes(B)?J.filter(H=>H!==B):[...J,B])},D=B=>{h(J=>J.includes(B)?J.filter(H=>H!==B):[...J,B])};return N?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 flex items-center justify-center pb-20 md:pb-0",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),d.jsx($r,{role:"faculty"}),d.jsx(vl,{toasts:r.toasts,onClose:r.removeToast})]}):d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-2xl mx-auto",children:[d.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(yp,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Assign Case"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Case Title"}),d.jsx("p",{className:"text-lg font-semibold",children:((L=i==null?void 0:i.clinical_case)==null?void 0:L.title)||"Untitled Case"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Assignment Mode"}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{type:"button",onClick:()=>{g("cohort"),h([])},className:`px-4 py-2 rounded-md ${y==="cohort"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[d.jsx(yl,{className:"w-4 h-4 inline mr-2"}),"Cohorts"]}),d.jsxs("button",{type:"button",onClick:()=>{g("student"),f([])},className:`px-4 py-2 rounded-md ${y==="student"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[d.jsx(xo,{className:"w-4 h-4 inline mr-2"}),"Individual Students"]}),d.jsx("button",{type:"button",onClick:()=>g("both"),className:`px-4 py-2 rounded-md ${y==="both"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Both"})]})]}),(y==="cohort"||y==="both")&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Cohorts ",y==="cohort"&&"*"]}),d.jsx("div",{className:"border border-gray-300 rounded-md max-h-60 overflow-y-auto",children:o.length===0?d.jsx("p",{className:"p-4 text-gray-500 text-sm",children:"No cohorts available. Create cohorts first."}):o.map(B=>d.jsxs("div",{className:`p-3 border-b border-gray-200 last:border-b-0 cursor-pointer hover:bg-gray-50 ${c.includes(B.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>O(B.id),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:B.name}),B.description&&d.jsx("div",{className:"text-sm text-gray-500",children:B.description}),d.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[B.students.length," student",B.students.length!==1?"s":""]})]}),d.jsx("input",{type:"checkbox",checked:c.includes(B.id),onChange:()=>O(B.id),className:"ml-4 w-5 h-5 text-primary-600"})]}),c.includes(B.id)&&B.students.length>0&&d.jsxs("div",{className:"mt-2 ml-4 text-xs text-gray-600",children:["Students: ",B.students.map(J=>J.name).join(", ")]})]},B.id))}),c.length>0&&d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[c.length," cohort",c.length!==1?"s":""," selected"]})]}),(y==="student"||y==="both")&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Individual Students ",y==="student"&&"*"]}),d.jsx("div",{className:"border border-gray-300 rounded-md max-h-60 overflow-y-auto",children:l.length===0?d.jsx("p",{className:"p-4 text-gray-500 text-sm",children:"No students available."}):l.map(B=>d.jsx("div",{className:`p-3 border-b border-gray-200 last:border-b-0 cursor-pointer hover:bg-gray-50 ${p.includes(B.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>D(B.id),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:B.name}),d.jsx("div",{className:"text-sm text-gray-500",children:B.email})]}),d.jsx("input",{type:"checkbox",checked:p.includes(B.id),onChange:()=>D(B.id),className:"ml-4 w-5 h-5 text-primary-600"})]})},B.id))}),p.length>0&&d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[p.length," student",p.length!==1?"s":""," selected"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),d.jsx("input",{type:"datetime-local",value:x,onChange:B=>v(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),d.jsx("input",{type:"datetime-local",value:w,onChange:B=>_(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Attempts"}),d.jsx("input",{type:"number",min:"1",max:"10",value:A,onChange:B=>S(parseInt(B.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("button",{onClick:P,disabled:I||y==="cohort"&&c.length===0||y==="student"&&p.length===0||y==="both"&&c.length===0&&p.length===0,className:"w-full flex items-center justify-center gap-2 bg-primary-600 text-white px-6 py-3 rounded-md hover:bg-primary-700 disabled:opacity-50",children:[d.jsx(Kj,{className:"w-5 h-5"}),I?"Assigning...":`Assign to ${c.length+p.length} ${c.length+p.length===1?"Recipient":"Recipients"}`]})]})]})}),d.jsx($r,{role:"faculty"}),d.jsx(vl,{toasts:r.toasts,onClose:r.removeToast})]})}function xV({user:t}){const e=Ya(),[n,r]=K.useState([]),[i,a]=K.useState(!0),[o,s]=K.useState("");K.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:c,error:f}=await Pe.from("stations").select("*").eq("created_by",t.id).order("created_at",{ascending:!1});if(f)throw f;const p=await Promise.all((c||[]).map(async h=>{const{data:y}=await Pe.from("case_snapshots").select("*").eq("station_id",h.id).order("approved_at",{ascending:!1}).limit(1).single();return{...h,snapshot:y}}));r(p)}catch(c){console.error("Error loading stations:",c)}finally{a(!1)}},u=n.filter(c=>{var f,p,h,y;return((f=c.title)==null?void 0:f.toLowerCase().includes(o.toLowerCase()))||((y=(h=(p=c.snapshot)==null?void 0:p.clinical_case)==null?void 0:h.title)==null?void 0:y.toLowerCase().includes(o.toLowerCase()))});return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Station Library"}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(H5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Search stations...",value:o,onChange:c=>s(c.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):u.length===0?d.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:d.jsx("p",{className:"text-gray-600",children:"No stations found"})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(c=>{var f,p,h,y;return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:((p=(f=c.snapshot)==null?void 0:f.clinical_case)==null?void 0:p.title)||c.title||"Untitled Station"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:((y=(h=c.snapshot)==null?void 0:h.clinical_case)==null?void 0:y.subject)||"No subject"}),d.jsx("div",{className:"flex items-center gap-2 mb-4",children:c.snapshot?d.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:"Approved"}):d.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:"Pending"})}),d.jsxs("div",{className:"flex gap-2",children:[c.snapshot&&d.jsxs("button",{onClick:()=>e(`/review/${c.id}`),className:"flex items-center gap-1 px-3 py-1 text-sm bg-primary-100 text-primary-700 rounded hover:bg-primary-200",children:[d.jsx(k0,{className:"w-4 h-4"}),"View"]}),d.jsxs("button",{onClick:()=>e(`/create?edit=${c.id}`),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:[d.jsx(z5,{className:"w-4 h-4"}),"Edit"]})]})]},c.id)})})]})}),d.jsx($r,{role:"faculty"})]})}function rR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=rR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Lt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=rR(t))&&(r&&(r+=" "),r+=e);return r}var bV=Array.isArray,_i=bV,wV=typeof ig=="object"&&ig&&ig.Object===Object&&ig,iR=wV,_V=iR,SV=typeof self=="object"&&self&&self.Object===Object&&self,AV=_V||SV||Function("return this")(),To=AV,EV=To,NV=EV.Symbol,cm=NV,QN=cm,aR=Object.prototype,TV=aR.hasOwnProperty,PV=aR.toString,uh=QN?QN.toStringTag:void 0;function CV(t){var e=TV.call(t,uh),n=t[uh];try{t[uh]=void 0;var r=!0}catch{}var i=PV.call(t);return r&&(e?t[uh]=n:delete t[uh]),i}var kV=CV,IV=Object.prototype,OV=IV.toString;function jV(t){return OV.call(t)}var RV=jV,eT=cm,LV=kV,MV=RV,DV="[object Null]",$V="[object Undefined]",tT=eT?eT.toStringTag:void 0;function FV(t){return t==null?t===void 0?$V:DV:tT&&tT in Object(t)?LV(t):MV(t)}var xs=FV;function UV(t){return t!=null&&typeof t=="object"}var bs=UV,BV=xs,qV=bs,VV="[object Symbol]";function zV(t){return typeof t=="symbol"||qV(t)&&BV(t)==VV}var ff=zV,HV=_i,GV=ff,WV=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,KV=/^\w*$/;function JV(t,e){if(HV(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||GV(t)?!0:KV.test(t)||!WV.test(t)||e!=null&&t in Object(e)}var W5=JV;function YV(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Tl=YV;const hf=sn(Tl);var XV=xs,ZV=Tl,QV="[object AsyncFunction]",ez="[object Function]",tz="[object GeneratorFunction]",nz="[object Proxy]";function rz(t){if(!ZV(t))return!1;var e=XV(t);return e==ez||e==tz||e==QV||e==nz}var K5=rz;const _t=sn(K5);var iz=To,az=iz["__core-js_shared__"],oz=az,Bx=oz,nT=function(){var t=/[^.]+$/.exec(Bx&&Bx.keys&&Bx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function sz(t){return!!nT&&nT in t}var lz=sz,uz=Function.prototype,cz=uz.toString;function dz(t){if(t!=null){try{return cz.call(t)}catch{}try{return t+""}catch{}}return""}var oR=dz,fz=K5,hz=lz,pz=Tl,mz=oR,gz=/[\\^$.*+?()[\]{}|]/g,yz=/^\[object .+?Constructor\]$/,vz=Function.prototype,xz=Object.prototype,bz=vz.toString,wz=xz.hasOwnProperty,_z=RegExp("^"+bz.call(wz).replace(gz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sz(t){if(!pz(t)||hz(t))return!1;var e=fz(t)?_z:yz;return e.test(mz(t))}var Az=Sz;function Ez(t,e){return t==null?void 0:t[e]}var Nz=Ez,Tz=Az,Pz=Nz;function Cz(t,e){var n=Pz(t,e);return Tz(n)?n:void 0}var Xu=Cz,kz=Xu,Iz=kz(Object,"create"),I0=Iz,rT=I0;function Oz(){this.__data__=rT?rT(null):{},this.size=0}var jz=Oz;function Rz(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Lz=Rz,Mz=I0,Dz="__lodash_hash_undefined__",$z=Object.prototype,Fz=$z.hasOwnProperty;function Uz(t){var e=this.__data__;if(Mz){var n=e[t];return n===Dz?void 0:n}return Fz.call(e,t)?e[t]:void 0}var Bz=Uz,qz=I0,Vz=Object.prototype,zz=Vz.hasOwnProperty;function Hz(t){var e=this.__data__;return qz?e[t]!==void 0:zz.call(e,t)}var Gz=Hz,Wz=I0,Kz="__lodash_hash_undefined__";function Jz(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Wz&&e===void 0?Kz:e,this}var Yz=Jz,Xz=jz,Zz=Lz,Qz=Bz,eH=Gz,tH=Yz;function pf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pf.prototype.clear=Xz;pf.prototype.delete=Zz;pf.prototype.get=Qz;pf.prototype.has=eH;pf.prototype.set=tH;var nH=pf;function rH(){this.__data__=[],this.size=0}var iH=rH;function aH(t,e){return t===e||t!==t&&e!==e}var J5=aH,oH=J5;function sH(t,e){for(var n=t.length;n--;)if(oH(t[n][0],e))return n;return-1}var O0=sH,lH=O0,uH=Array.prototype,cH=uH.splice;function dH(t){var e=this.__data__,n=lH(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():cH.call(e,n,1),--this.size,!0}var fH=dH,hH=O0;function pH(t){var e=this.__data__,n=hH(e,t);return n<0?void 0:e[n][1]}var mH=pH,gH=O0;function yH(t){return gH(this.__data__,t)>-1}var vH=yH,xH=O0;function bH(t,e){var n=this.__data__,r=xH(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var wH=bH,_H=iH,SH=fH,AH=mH,EH=vH,NH=wH;function mf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mf.prototype.clear=_H;mf.prototype.delete=SH;mf.prototype.get=AH;mf.prototype.has=EH;mf.prototype.set=NH;var j0=mf,TH=Xu,PH=To,CH=TH(PH,"Map"),Y5=CH,iT=nH,kH=j0,IH=Y5;function OH(){this.size=0,this.__data__={hash:new iT,map:new(IH||kH),string:new iT}}var jH=OH;function RH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var LH=RH,MH=LH;function DH(t,e){var n=t.__data__;return MH(e)?n[typeof e=="string"?"string":"hash"]:n.map}var R0=DH,$H=R0;function FH(t){var e=$H(this,t).delete(t);return this.size-=e?1:0,e}var UH=FH,BH=R0;function qH(t){return BH(this,t).get(t)}var VH=qH,zH=R0;function HH(t){return zH(this,t).has(t)}var GH=HH,WH=R0;function KH(t,e){var n=WH(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var JH=KH,YH=jH,XH=UH,ZH=VH,QH=GH,eG=JH;function gf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gf.prototype.clear=YH;gf.prototype.delete=XH;gf.prototype.get=ZH;gf.prototype.has=QH;gf.prototype.set=eG;var X5=gf,sR=X5,tG="Expected a function";function Z5(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(tG);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Z5.Cache||sR),n}Z5.Cache=sR;var lR=Z5;const nG=sn(lR);var rG=lR,iG=500;function aG(t){var e=rG(t,function(r){return n.size===iG&&n.clear(),r}),n=e.cache;return e}var oG=aG,sG=oG,lG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uG=/\\(\\)?/g,cG=sG(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(lG,function(n,r,i,a){e.push(i?a.replace(uG,"$1"):r||n)}),e}),dG=cG;function fG(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Q5=fG,aT=cm,hG=Q5,pG=_i,mG=ff,oT=aT?aT.prototype:void 0,sT=oT?oT.toString:void 0;function uR(t){if(typeof t=="string")return t;if(pG(t))return hG(t,uR)+"";if(mG(t))return sT?sT.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var gG=uR,yG=gG;function vG(t){return t==null?"":yG(t)}var cR=vG,xG=_i,bG=W5,wG=dG,_G=cR;function SG(t,e){return xG(t)?t:bG(t,e)?[t]:wG(_G(t))}var dR=SG,AG=ff;function EG(t){if(typeof t=="string"||AG(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var L0=EG,NG=dR,TG=L0;function PG(t,e){e=NG(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[TG(e[n++])];return n&&n==r?t:void 0}var eS=PG,CG=eS;function kG(t,e,n){var r=t==null?void 0:CG(t,e);return r===void 0?n:r}var fR=kG;const zi=sn(fR);function IG(t){return t==null}var OG=IG;const It=sn(OG);var jG=xs,RG=_i,LG=bs,MG="[object String]";function DG(t){return typeof t=="string"||!RG(t)&&LG(t)&&jG(t)==MG}var $G=DG;const Fu=sn($G);var hR={exports:{}},ln={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS=Symbol.for("react.element"),nS=Symbol.for("react.portal"),M0=Symbol.for("react.fragment"),D0=Symbol.for("react.strict_mode"),$0=Symbol.for("react.profiler"),F0=Symbol.for("react.provider"),U0=Symbol.for("react.context"),FG=Symbol.for("react.server_context"),B0=Symbol.for("react.forward_ref"),q0=Symbol.for("react.suspense"),V0=Symbol.for("react.suspense_list"),z0=Symbol.for("react.memo"),H0=Symbol.for("react.lazy"),UG=Symbol.for("react.offscreen"),pR;pR=Symbol.for("react.module.reference");function Sa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case tS:switch(t=t.type,t){case M0:case $0:case D0:case q0:case V0:return t;default:switch(t=t&&t.$$typeof,t){case FG:case U0:case B0:case H0:case z0:case F0:return t;default:return e}}case nS:return e}}}ln.ContextConsumer=U0;ln.ContextProvider=F0;ln.Element=tS;ln.ForwardRef=B0;ln.Fragment=M0;ln.Lazy=H0;ln.Memo=z0;ln.Portal=nS;ln.Profiler=$0;ln.StrictMode=D0;ln.Suspense=q0;ln.SuspenseList=V0;ln.isAsyncMode=function(){return!1};ln.isConcurrentMode=function(){return!1};ln.isContextConsumer=function(t){return Sa(t)===U0};ln.isContextProvider=function(t){return Sa(t)===F0};ln.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===tS};ln.isForwardRef=function(t){return Sa(t)===B0};ln.isFragment=function(t){return Sa(t)===M0};ln.isLazy=function(t){return Sa(t)===H0};ln.isMemo=function(t){return Sa(t)===z0};ln.isPortal=function(t){return Sa(t)===nS};ln.isProfiler=function(t){return Sa(t)===$0};ln.isStrictMode=function(t){return Sa(t)===D0};ln.isSuspense=function(t){return Sa(t)===q0};ln.isSuspenseList=function(t){return Sa(t)===V0};ln.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===M0||t===$0||t===D0||t===q0||t===V0||t===UG||typeof t=="object"&&t!==null&&(t.$$typeof===H0||t.$$typeof===z0||t.$$typeof===F0||t.$$typeof===U0||t.$$typeof===B0||t.$$typeof===pR||t.getModuleId!==void 0)};ln.typeOf=Sa;hR.exports=ln;var BG=hR.exports,qG=xs,VG=bs,zG="[object Number]";function HG(t){return typeof t=="number"||VG(t)&&qG(t)==zG}var mR=HG;const GG=sn(mR);var WG=mR;function KG(t){return WG(t)&&t!=+t}var JG=KG;const dm=sn(JG);var ii=function(e){return e===0?0:e>0?1:-1},Su=function(e){return Fu(e)&&e.indexOf("%")===e.length-1},Fe=function(e){return GG(e)&&!dm(e)},YG=function(e){return It(e)},br=function(e){return Fe(e)||Fu(e)},XG=0,yf=function(e){var n=++XG;return"".concat(e||"").concat(n)},ai=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Fe(e)&&!Fu(e))return r;var a;if(Su(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return dm(a)&&(a=r),i&&a>n&&(a=n),a},Zs=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},ZG=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Di=function(e,n){return Fe(e)&&Fe(n)?function(r){return e+r*(n-e)}:function(){return n}};function nv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):zi(r,e))===n})}var QG=function(e,n){return Fe(e)&&Fe(n)?e-n:Fu(e)&&Fu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ld(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Xw(t){"@babel/helpers - typeof";return Xw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xw(t)}var eW=["viewBox","children"],tW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lT=["points","pathLength"],qx={svg:eW,polygon:lT,polyline:lT},rS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(K.isValidElement(e)&&(r=e.props),!hf(r))return null;var i={};return Object.keys(r).forEach(function(a){rS.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},nW=function(e,n,r){return function(i){return e(n,r,i),null}},Uu=function(e,n,r){if(!hf(e)||Xw(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];rS.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=nW(o,n,r))}),i},rW=["children"],iW=["children"];function uT(t,e){if(t==null)return{};var n=aW(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zw(t){"@babel/helpers - typeof";return Zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zw(t)}var cT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},as=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},dT=null,Vx=null,iS=function t(e){if(e===dT&&Array.isArray(Vx))return Vx;var n=[];return K.Children.forEach(e,function(r){It(r)||(BG.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Vx=n,dT=e,n};function Hi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return as(i)}):r=[as(e)],iS(t).forEach(function(i){var a=zi(i,"type.displayName")||zi(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Mi(t,e){var n=Hi(t,e);return n&&n[0]}var fT=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Fe(r)||r<=0||!Fe(i)||i<=0)},oW=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],sW=function(e){return e&&e.type&&Fu(e.type)&&oW.indexOf(e.type)>=0},lW=function(e){return e&&Zw(e)==="object"&&"clipDot"in e},uW=function(e,n,r,i){var a,o=(a=qx==null?void 0:qx[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!_t(e)&&(i&&o.includes(n)||tW.includes(n))||r&&rS.includes(n)},pt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(K.isValidElement(e)&&(i=e.props),!hf(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;uW((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},Qw=function t(e,n){if(e===n)return!0;var r=K.Children.count(e);if(r!==K.Children.count(n))return!1;if(r===0)return!0;if(r===1)return hT(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!hT(a,o))return!1}return!0},hT=function(e,n){if(It(e)&&It(n))return!0;if(!It(e)&&!It(n)){var r=e.props||{},i=r.children,a=uT(r,rW),o=n.props||{},s=o.children,l=uT(o,iW);return i&&s?ld(a,l)&&Qw(i,s):!i&&!s?ld(a,l):!1}return!1},pT=function(e,n){var r=[],i={};return iS(e).forEach(function(a,o){if(sW(a))r.push(a);else if(a){var s=as(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},cW=function(e){var n=e&&e.type;return n&&cT[n]?cT[n]:null},dW=function(e,n){return iS(n).indexOf(e)},fW=["children","width","height","viewBox","className","style","title","desc"];function e2(){return e2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e2.apply(this,arguments)}function hW(t,e){if(t==null)return{};var n=pW(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function t2(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=hW(t,fW),c=i||{width:n,height:r,x:0,y:0},f=Lt("recharts-surface",a);return le.createElement("svg",e2({},pt(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),le.createElement("title",null,s),le.createElement("desc",null,l),e)}var mW=["children","className"];function n2(){return n2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n2.apply(this,arguments)}function gW(t,e){if(t==null)return{};var n=yW(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Wt=le.forwardRef(function(t,e){var n=t.children,r=t.className,i=gW(t,mW),a=Lt("recharts-layer",r);return le.createElement("g",n2({className:a},pt(i,!0),{ref:e}),n)}),Wa=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function vW(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var xW=vW,bW=xW;function wW(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:bW(t,e,n)}var _W=wW,SW="\\ud800-\\udfff",AW="\\u0300-\\u036f",EW="\\ufe20-\\ufe2f",NW="\\u20d0-\\u20ff",TW=AW+EW+NW,PW="\\ufe0e\\ufe0f",CW="\\u200d",kW=RegExp("["+CW+SW+TW+PW+"]");function IW(t){return kW.test(t)}var gR=IW;function OW(t){return t.split("")}var jW=OW,yR="\\ud800-\\udfff",RW="\\u0300-\\u036f",LW="\\ufe20-\\ufe2f",MW="\\u20d0-\\u20ff",DW=RW+LW+MW,$W="\\ufe0e\\ufe0f",FW="["+yR+"]",r2="["+DW+"]",i2="\\ud83c[\\udffb-\\udfff]",UW="(?:"+r2+"|"+i2+")",vR="[^"+yR+"]",xR="(?:\\ud83c[\\udde6-\\uddff]){2}",bR="[\\ud800-\\udbff][\\udc00-\\udfff]",BW="\\u200d",wR=UW+"?",_R="["+$W+"]?",qW="(?:"+BW+"(?:"+[vR,xR,bR].join("|")+")"+_R+wR+")*",VW=_R+wR+qW,zW="(?:"+[vR+r2+"?",r2,xR,bR,FW].join("|")+")",HW=RegExp(i2+"(?="+i2+")|"+zW+VW,"g");function GW(t){return t.match(HW)||[]}var WW=GW,KW=jW,JW=gR,YW=WW;function XW(t){return JW(t)?YW(t):KW(t)}var ZW=XW,QW=_W,eK=gR,tK=ZW,nK=cR;function rK(t){return function(e){e=nK(e);var n=eK(e)?tK(e):void 0,r=n?n[0]:e.charAt(0),i=n?QW(n,1).join(""):e.slice(1);return r[t]()+i}}var iK=rK,aK=iK,oK=aK("toUpperCase"),sK=oK;const G0=sn(sK);function xn(t){return function(){return t}}const SR=Math.cos,iv=Math.sin,Xa=Math.sqrt,av=Math.PI,W0=2*av,a2=Math.PI,o2=2*a2,cu=1e-6,lK=o2-cu;function AR(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function uK(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return AR;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class cK{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?AR:uK(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,f=s-n,p=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>cu)if(!(Math.abs(f*l-u*c)>cu)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-o,y=i-s,g=l*l+u*u,x=h*h+y*y,v=Math.sqrt(g),w=Math.sqrt(p),_=a*Math.tan((a2-Math.acos((g+p-x)/(2*v*w)))/2),A=_/w,S=_/v;Math.abs(A-1)>cu&&this._append`L${e+A*c},${n+A*f}`,this._append`A${a},${a},0,0,${+(f*h>c*y)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>cu||Math.abs(this._y1-c)>cu)&&this._append`L${u},${c}`,r&&(p<0&&(p=p%o2+o2),p>lK?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:p>cu&&this._append`A${r},${r},0,${+(p>=a2)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function aS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new cK(e)}function oS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ER(t){this._context=t}ER.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function K0(t){return new ER(t)}function NR(t){return t[0]}function TR(t){return t[1]}function PR(t,e){var n=xn(!0),r=null,i=K0,a=null,o=aS(s);t=typeof t=="function"?t:t===void 0?NR:xn(t),e=typeof e=="function"?e:e===void 0?TR:xn(e);function s(l){var u,c=(l=oS(l)).length,f,p=!1,h;for(r==null&&(a=i(h=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(f,u,l),+e(f,u,l));if(h)return a=null,h+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:xn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:xn(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:xn(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Ig(t,e,n){var r=null,i=xn(!0),a=null,o=K0,s=null,l=aS(u);t=typeof t=="function"?t:t===void 0?NR:xn(+t),e=typeof e=="function"?e:xn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?TR:xn(+n);function u(f){var p,h,y,g=(f=oS(f)).length,x,v=!1,w,_=new Array(g),A=new Array(g);for(a==null&&(s=o(w=l())),p=0;p<=g;++p){if(!(p<g&&i(x=f[p],p,f))===v)if(v=!v)h=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=p-1;y>=h;--y)s.point(_[y],A[y]);s.lineEnd(),s.areaEnd()}v&&(_[p]=+t(x,p,f),A[p]=+e(x,p,f),s.point(r?+r(x,p,f):_[p],n?+n(x,p,f):A[p]))}if(w)return s=null,w+""||null}function c(){return PR().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:xn(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:xn(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:xn(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:xn(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:xn(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:xn(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:xn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class CR{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function dK(t){return new CR(t,!0)}function fK(t){return new CR(t,!1)}const sS={draw(t,e){const n=Xa(e/av);t.moveTo(n,0),t.arc(0,0,n,0,W0)}},hK={draw(t,e){const n=Xa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},kR=Xa(1/3),pK=kR*2,mK={draw(t,e){const n=Xa(e/pK),r=n*kR;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},gK={draw(t,e){const n=Xa(e),r=-n/2;t.rect(r,r,n,n)}},yK=.8908130915292852,IR=iv(av/10)/iv(7*av/10),vK=iv(W0/10)*IR,xK=-SR(W0/10)*IR,bK={draw(t,e){const n=Xa(e*yK),r=vK*n,i=xK*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=W0*a/5,s=SR(o),l=iv(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},zx=Xa(3),wK={draw(t,e){const n=-Xa(e/(zx*3));t.moveTo(0,n*2),t.lineTo(-zx*n,-n),t.lineTo(zx*n,-n),t.closePath()}},la=-.5,ua=Xa(3)/2,s2=1/Xa(12),_K=(s2/2+1)*3,SK={draw(t,e){const n=Xa(e/_K),r=n/2,i=n*s2,a=r,o=n*s2+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(la*r-ua*i,ua*r+la*i),t.lineTo(la*a-ua*o,ua*a+la*o),t.lineTo(la*s-ua*l,ua*s+la*l),t.lineTo(la*r+ua*i,la*i-ua*r),t.lineTo(la*a+ua*o,la*o-ua*a),t.lineTo(la*s+ua*l,la*l-ua*s),t.closePath()}};function AK(t,e){let n=null,r=aS(i);t=typeof t=="function"?t:xn(t||sS),e=typeof e=="function"?e:xn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:xn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:xn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function ov(){}function sv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function OR(t){this._context=t}OR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function EK(t){return new OR(t)}function jR(t){this._context=t}jR.prototype={areaStart:ov,areaEnd:ov,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:sv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function NK(t){return new jR(t)}function RR(t){this._context=t}RR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:sv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TK(t){return new RR(t)}function LR(t){this._context=t}LR.prototype={areaStart:ov,areaEnd:ov,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function PK(t){return new LR(t)}function mT(t){return t<0?-1:1}function gT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(mT(a)+mT(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function yT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Hx(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function lv(t){this._context=t}lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hx(this,this._t0,yT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Hx(this,yT(this,n=gT(this,t,e)),n);break;default:Hx(this,this._t0,n=gT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function MR(t){this._context=new DR(t)}(MR.prototype=Object.create(lv.prototype)).point=function(t,e){lv.prototype.point.call(this,e,t)};function DR(t){this._context=t}DR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function CK(t){return new lv(t)}function kK(t){return new MR(t)}function $R(t){this._context=t}$R.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=vT(t),i=vT(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function vT(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function IK(t){return new $R(t)}function J0(t,e){this._context=t,this._t=e}J0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function OK(t){return new J0(t,.5)}function jK(t){return new J0(t,0)}function RK(t){return new J0(t,1)}function Cd(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function l2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function LK(t,e){return t[e]}function MK(t){const e=[];return e.key=t,e}function DK(){var t=xn([]),e=l2,n=Cd,r=LK;function i(a){var o=Array.from(t.apply(this,arguments),MK),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,c=oS(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:xn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:xn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?l2:typeof a=="function"?a:xn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Cd,i):n},i}function $K(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Cd(t,e)}}function FK(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Cd(t,e)}}function UK(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[r][1]||0,p=c[r-1][1]||0,h=(f-p)/2,y=0;y<s;++y){var g=t[e[y]],x=g[r][1]||0,v=g[r-1][1]||0;h+=x-v}l+=f,u+=h*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Cd(t,e)}}function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}var BK=["type","size","sizeType"];function u2(){return u2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u2.apply(this,arguments)}function xT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xT(Object(n),!0).forEach(function(r){qK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qK(t,e,n){return e=VK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VK(t){var e=zK(t,"string");return bp(e)=="symbol"?e:e+""}function zK(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HK(t,e){if(t==null)return{};var n=GK(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var FR={symbolCircle:sS,symbolCross:hK,symbolDiamond:mK,symbolSquare:gK,symbolStar:bK,symbolTriangle:wK,symbolWye:SK},WK=Math.PI/180,KK=function(e){var n="symbol".concat(G0(e));return FR[n]||sS},JK=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*WK;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},YK=function(e,n){FR["symbol".concat(G0(e))]=n},lS=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=HK(e,BK),u=bT(bT({},l),{},{type:r,size:a,sizeType:s}),c=function(){var x=KK(r),v=AK().type(x).size(JK(a,s,r));return v()},f=u.className,p=u.cx,h=u.cy,y=pt(u,!0);return p===+p&&h===+h&&a===+a?le.createElement("path",u2({},y,{className:Lt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:c()})):null};lS.registerSymbol=YK;function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function c2(){return c2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c2.apply(this,arguments)}function wT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wT(Object(n),!0).forEach(function(r){wp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BR(r.key),r)}}function eJ(t,e,n){return e&&QK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tJ(t,e,n){return e=uv(e),nJ(t,UR()?Reflect.construct(e,n||[],uv(t).constructor):e.apply(t,n))}function nJ(t,e){if(e&&(kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rJ(t)}function rJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UR=function(){return!!t})()}function uv(t){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uv(t)}function iJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d2(t,e)}function d2(t,e){return d2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d2(t,e)}function wp(t,e,n){return e=BR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BR(t){var e=aJ(t,"string");return kd(e)=="symbol"?e:e+""}function aJ(t,e){if(kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ca=32,uS=function(t){function e(){return ZK(this,e),tJ(this,e,arguments)}return iJ(e,t),eJ(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=ca/2,o=ca/6,s=ca/3,l=r.inactive?i:r.color;if(r.type==="plainline")return le.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:ca,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return le.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(ca,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return le.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ca/8,"h").concat(ca,"v").concat(ca*3/4,"h").concat(-ca,"z"),className:"recharts-legend-icon"});if(le.isValidElement(r.legendIcon)){var u=XK({},r);return delete u.legendIcon,le.cloneElement(r.legendIcon,u)}return le.createElement(lS,{fill:l,cx:a,cy:a,size:ca,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:ca,height:ca},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,y){var g=h.formatter||l,x=Lt(wp(wp({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",h.inactive));if(h.type==="none")return null;var v=_t(h.value)?null:h.value;Wa(!_t(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=h.inactive?u:h.color;return le.createElement("li",c2({className:x,style:f,key:"legend-item-".concat(y)},Uu(r.props,h,y)),le.createElement(t2,{width:o,height:o,viewBox:c,style:p},r.renderIcon(h)),le.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(v,h,y):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return le.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(K.PureComponent);wp(uS,"displayName","Legend");wp(uS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var oJ=j0;function sJ(){this.__data__=new oJ,this.size=0}var lJ=sJ;function uJ(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var cJ=uJ;function dJ(t){return this.__data__.get(t)}var fJ=dJ;function hJ(t){return this.__data__.has(t)}var pJ=hJ,mJ=j0,gJ=Y5,yJ=X5,vJ=200;function xJ(t,e){var n=this.__data__;if(n instanceof mJ){var r=n.__data__;if(!gJ||r.length<vJ-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new yJ(r)}return n.set(t,e),this.size=n.size,this}var bJ=xJ,wJ=j0,_J=lJ,SJ=cJ,AJ=fJ,EJ=pJ,NJ=bJ;function vf(t){var e=this.__data__=new wJ(t);this.size=e.size}vf.prototype.clear=_J;vf.prototype.delete=SJ;vf.prototype.get=AJ;vf.prototype.has=EJ;vf.prototype.set=NJ;var qR=vf,TJ="__lodash_hash_undefined__";function PJ(t){return this.__data__.set(t,TJ),this}var CJ=PJ;function kJ(t){return this.__data__.has(t)}var IJ=kJ,OJ=X5,jJ=CJ,RJ=IJ;function cv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new OJ;++e<n;)this.add(t[e])}cv.prototype.add=cv.prototype.push=jJ;cv.prototype.has=RJ;var VR=cv;function LJ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var zR=LJ;function MJ(t,e){return t.has(e)}var HR=MJ,DJ=VR,$J=zR,FJ=HR,UJ=1,BJ=2;function qJ(t,e,n,r,i,a){var o=n&UJ,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,p=!0,h=n&BJ?new DJ:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var y=t[f],g=e[f];if(r)var x=o?r(g,y,f,e,t,a):r(y,g,f,t,e,a);if(x!==void 0){if(x)continue;p=!1;break}if(h){if(!$J(e,function(v,w){if(!FJ(h,w)&&(y===v||i(y,v,n,r,a)))return h.push(w)})){p=!1;break}}else if(!(y===g||i(y,g,n,r,a))){p=!1;break}}return a.delete(t),a.delete(e),p}var GR=qJ,VJ=To,zJ=VJ.Uint8Array,HJ=zJ;function GJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var WJ=GJ;function KJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var cS=KJ,_T=cm,ST=HJ,JJ=J5,YJ=GR,XJ=WJ,ZJ=cS,QJ=1,eY=2,tY="[object Boolean]",nY="[object Date]",rY="[object Error]",iY="[object Map]",aY="[object Number]",oY="[object RegExp]",sY="[object Set]",lY="[object String]",uY="[object Symbol]",cY="[object ArrayBuffer]",dY="[object DataView]",AT=_T?_T.prototype:void 0,Gx=AT?AT.valueOf:void 0;function fY(t,e,n,r,i,a,o){switch(n){case dY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case cY:return!(t.byteLength!=e.byteLength||!a(new ST(t),new ST(e)));case tY:case nY:case aY:return JJ(+t,+e);case rY:return t.name==e.name&&t.message==e.message;case oY:case lY:return t==e+"";case iY:var s=XJ;case sY:var l=r&QJ;if(s||(s=ZJ),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=eY,o.set(t,e);var c=YJ(s(t),s(e),r,i,a,o);return o.delete(t),c;case uY:if(Gx)return Gx.call(t)==Gx.call(e)}return!1}var hY=fY;function pY(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var WR=pY,mY=WR,gY=_i;function yY(t,e,n){var r=e(t);return gY(t)?r:mY(r,n(t))}var vY=yY;function xY(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var bY=xY;function wY(){return[]}var _Y=wY,SY=bY,AY=_Y,EY=Object.prototype,NY=EY.propertyIsEnumerable,ET=Object.getOwnPropertySymbols,TY=ET?function(t){return t==null?[]:(t=Object(t),SY(ET(t),function(e){return NY.call(t,e)}))}:AY,PY=TY;function CY(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var kY=CY,IY=xs,OY=bs,jY="[object Arguments]";function RY(t){return OY(t)&&IY(t)==jY}var LY=RY,NT=LY,MY=bs,KR=Object.prototype,DY=KR.hasOwnProperty,$Y=KR.propertyIsEnumerable,FY=NT(function(){return arguments}())?NT:function(t){return MY(t)&&DY.call(t,"callee")&&!$Y.call(t,"callee")},dS=FY,dv={exports:{}};function UY(){return!1}var BY=UY;dv.exports;(function(t,e){var n=To,r=BY,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(dv,dv.exports);var JR=dv.exports,qY=9007199254740991,VY=/^(?:0|[1-9]\d*)$/;function zY(t,e){var n=typeof t;return e=e??qY,!!e&&(n=="number"||n!="symbol"&&VY.test(t))&&t>-1&&t%1==0&&t<e}var fS=zY,HY=9007199254740991;function GY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=HY}var hS=GY,WY=xs,KY=hS,JY=bs,YY="[object Arguments]",XY="[object Array]",ZY="[object Boolean]",QY="[object Date]",eX="[object Error]",tX="[object Function]",nX="[object Map]",rX="[object Number]",iX="[object Object]",aX="[object RegExp]",oX="[object Set]",sX="[object String]",lX="[object WeakMap]",uX="[object ArrayBuffer]",cX="[object DataView]",dX="[object Float32Array]",fX="[object Float64Array]",hX="[object Int8Array]",pX="[object Int16Array]",mX="[object Int32Array]",gX="[object Uint8Array]",yX="[object Uint8ClampedArray]",vX="[object Uint16Array]",xX="[object Uint32Array]",An={};An[dX]=An[fX]=An[hX]=An[pX]=An[mX]=An[gX]=An[yX]=An[vX]=An[xX]=!0;An[YY]=An[XY]=An[uX]=An[ZY]=An[cX]=An[QY]=An[eX]=An[tX]=An[nX]=An[rX]=An[iX]=An[aX]=An[oX]=An[sX]=An[lX]=!1;function bX(t){return JY(t)&&KY(t.length)&&!!An[WY(t)]}var wX=bX;function _X(t){return function(e){return t(e)}}var YR=_X,fv={exports:{}};fv.exports;(function(t,e){var n=iR,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(fv,fv.exports);var SX=fv.exports,AX=wX,EX=YR,TT=SX,PT=TT&&TT.isTypedArray,NX=PT?EX(PT):AX,XR=NX,TX=kY,PX=dS,CX=_i,kX=JR,IX=fS,OX=XR,jX=Object.prototype,RX=jX.hasOwnProperty;function LX(t,e){var n=CX(t),r=!n&&PX(t),i=!n&&!r&&kX(t),a=!n&&!r&&!i&&OX(t),o=n||r||i||a,s=o?TX(t.length,String):[],l=s.length;for(var u in t)(e||RX.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||IX(u,l)))&&s.push(u);return s}var MX=LX,DX=Object.prototype;function $X(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||DX;return t===n}var FX=$X;function UX(t,e){return function(n){return t(e(n))}}var ZR=UX,BX=ZR,qX=BX(Object.keys,Object),VX=qX,zX=FX,HX=VX,GX=Object.prototype,WX=GX.hasOwnProperty;function KX(t){if(!zX(t))return HX(t);var e=[];for(var n in Object(t))WX.call(t,n)&&n!="constructor"&&e.push(n);return e}var JX=KX,YX=K5,XX=hS;function ZX(t){return t!=null&&XX(t.length)&&!YX(t)}var fm=ZX,QX=MX,eZ=JX,tZ=fm;function nZ(t){return tZ(t)?QX(t):eZ(t)}var Y0=nZ,rZ=vY,iZ=PY,aZ=Y0;function oZ(t){return rZ(t,aZ,iZ)}var sZ=oZ,CT=sZ,lZ=1,uZ=Object.prototype,cZ=uZ.hasOwnProperty;function dZ(t,e,n,r,i,a){var o=n&lZ,s=CT(t),l=s.length,u=CT(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var p=s[f];if(!(o?p in e:cZ.call(e,p)))return!1}var h=a.get(t),y=a.get(e);if(h&&y)return h==e&&y==t;var g=!0;a.set(t,e),a.set(e,t);for(var x=o;++f<l;){p=s[f];var v=t[p],w=e[p];if(r)var _=o?r(w,v,p,e,t,a):r(v,w,p,t,e,a);if(!(_===void 0?v===w||i(v,w,n,r,a):_)){g=!1;break}x||(x=p=="constructor")}if(g&&!x){var A=t.constructor,S=e.constructor;A!=S&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof S=="function"&&S instanceof S)&&(g=!1)}return a.delete(t),a.delete(e),g}var fZ=dZ,hZ=Xu,pZ=To,mZ=hZ(pZ,"DataView"),gZ=mZ,yZ=Xu,vZ=To,xZ=yZ(vZ,"Promise"),bZ=xZ,wZ=Xu,_Z=To,SZ=wZ(_Z,"Set"),QR=SZ,AZ=Xu,EZ=To,NZ=AZ(EZ,"WeakMap"),TZ=NZ,f2=gZ,h2=Y5,p2=bZ,m2=QR,g2=TZ,eL=xs,xf=oR,kT="[object Map]",PZ="[object Object]",IT="[object Promise]",OT="[object Set]",jT="[object WeakMap]",RT="[object DataView]",CZ=xf(f2),kZ=xf(h2),IZ=xf(p2),OZ=xf(m2),jZ=xf(g2),du=eL;(f2&&du(new f2(new ArrayBuffer(1)))!=RT||h2&&du(new h2)!=kT||p2&&du(p2.resolve())!=IT||m2&&du(new m2)!=OT||g2&&du(new g2)!=jT)&&(du=function(t){var e=eL(t),n=e==PZ?t.constructor:void 0,r=n?xf(n):"";if(r)switch(r){case CZ:return RT;case kZ:return kT;case IZ:return IT;case OZ:return OT;case jZ:return jT}return e});var RZ=du,Wx=qR,LZ=GR,MZ=hY,DZ=fZ,LT=RZ,MT=_i,DT=JR,$Z=XR,FZ=1,$T="[object Arguments]",FT="[object Array]",Og="[object Object]",UZ=Object.prototype,UT=UZ.hasOwnProperty;function BZ(t,e,n,r,i,a){var o=MT(t),s=MT(e),l=o?FT:LT(t),u=s?FT:LT(e);l=l==$T?Og:l,u=u==$T?Og:u;var c=l==Og,f=u==Og,p=l==u;if(p&&DT(t)){if(!DT(e))return!1;o=!0,c=!1}if(p&&!c)return a||(a=new Wx),o||$Z(t)?LZ(t,e,n,r,i,a):MZ(t,e,l,n,r,i,a);if(!(n&FZ)){var h=c&&UT.call(t,"__wrapped__"),y=f&&UT.call(e,"__wrapped__");if(h||y){var g=h?t.value():t,x=y?e.value():e;return a||(a=new Wx),i(g,x,n,r,a)}}return p?(a||(a=new Wx),DZ(t,e,n,r,i,a)):!1}var qZ=BZ,VZ=qZ,BT=bs;function tL(t,e,n,r,i){return t===e?!0:t==null||e==null||!BT(t)&&!BT(e)?t!==t&&e!==e:VZ(t,e,n,r,tL,i)}var pS=tL,zZ=qR,HZ=pS,GZ=1,WZ=2;function KZ(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new zZ;if(r)var p=r(u,c,l,t,e,f);if(!(p===void 0?HZ(c,u,GZ|WZ,r,f):p))return!1}}return!0}var JZ=KZ,YZ=Tl;function XZ(t){return t===t&&!YZ(t)}var nL=XZ,ZZ=nL,QZ=Y0;function eQ(t){for(var e=QZ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ZZ(i)]}return e}var tQ=eQ;function nQ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var rL=nQ,rQ=JZ,iQ=tQ,aQ=rL;function oQ(t){var e=iQ(t);return e.length==1&&e[0][2]?aQ(e[0][0],e[0][1]):function(n){return n===t||rQ(n,t,e)}}var sQ=oQ;function lQ(t,e){return t!=null&&e in Object(t)}var uQ=lQ,cQ=dR,dQ=dS,fQ=_i,hQ=fS,pQ=hS,mQ=L0;function gQ(t,e,n){e=cQ(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=mQ(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&pQ(i)&&hQ(o,i)&&(fQ(t)||dQ(t)))}var yQ=gQ,vQ=uQ,xQ=yQ;function bQ(t,e){return t!=null&&xQ(t,e,vQ)}var wQ=bQ,_Q=pS,SQ=fR,AQ=wQ,EQ=W5,NQ=nL,TQ=rL,PQ=L0,CQ=1,kQ=2;function IQ(t,e){return EQ(t)&&NQ(e)?TQ(PQ(t),e):function(n){var r=SQ(n,t);return r===void 0&&r===e?AQ(n,t):_Q(e,r,CQ|kQ)}}var OQ=IQ;function jQ(t){return t}var bf=jQ;function RQ(t){return function(e){return e==null?void 0:e[t]}}var LQ=RQ,MQ=eS;function DQ(t){return function(e){return MQ(e,t)}}var $Q=DQ,FQ=LQ,UQ=$Q,BQ=W5,qQ=L0;function VQ(t){return BQ(t)?FQ(qQ(t)):UQ(t)}var zQ=VQ,HQ=sQ,GQ=OQ,WQ=bf,KQ=_i,JQ=zQ;function YQ(t){return typeof t=="function"?t:t==null?WQ:typeof t=="object"?KQ(t)?GQ(t[0],t[1]):HQ(t):JQ(t)}var Po=YQ;function XQ(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var iL=XQ;function ZQ(t){return t!==t}var QQ=ZQ;function eee(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var tee=eee,nee=iL,ree=QQ,iee=tee;function aee(t,e,n){return e===e?iee(t,e,n):nee(t,ree,n)}var oee=aee,see=oee;function lee(t,e){var n=t==null?0:t.length;return!!n&&see(t,e,0)>-1}var uee=lee;function cee(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var dee=cee;function fee(){}var hee=fee,Kx=QR,pee=hee,mee=cS,gee=1/0,yee=Kx&&1/mee(new Kx([,-0]))[1]==gee?function(t){return new Kx(t)}:pee,vee=yee,xee=VR,bee=uee,wee=dee,_ee=HR,See=vee,Aee=cS,Eee=200;function Nee(t,e,n){var r=-1,i=bee,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=wee;else if(a>=Eee){var u=e?null:See(t);if(u)return Aee(u);o=!1,i=_ee,l=new xee}else l=e?[]:s;e:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var Tee=Nee,Pee=Po,Cee=Tee;function kee(t,e){return t&&t.length?Cee(t,Pee(e)):[]}var Iee=kee;const qT=sn(Iee);function aL(t,e,n){return e===!0?qT(t,n):_t(e)?qT(t,e):t}function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}var Oee=["ref"];function VT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(n),!0).forEach(function(r){X0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sL(r.key),r)}}function Ree(t,e,n){return e&&zT(t.prototype,e),n&&zT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lee(t,e,n){return e=hv(e),Mee(t,oL()?Reflect.construct(e,n||[],hv(t).constructor):e.apply(t,n))}function Mee(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dee(t)}function Dee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oL=function(){return!!t})()}function hv(t){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hv(t)}function $ee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y2(t,e)}function y2(t,e){return y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y2(t,e)}function X0(t,e,n){return e=sL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sL(t){var e=Fee(t,"string");return Id(e)=="symbol"?e:e+""}function Fee(t,e){if(Id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Uee(t,e){if(t==null)return{};var n=Bee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qee(t){return t.value}function Vee(t,e){if(le.isValidElement(t))return le.cloneElement(t,e);if(typeof t=="function")return le.createElement(t,e);e.ref;var n=Uee(e,Oee);return le.createElement(uS,n)}var HT=1,wo=function(t){function e(){var n;jee(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Lee(this,e,[].concat(i)),X0(n,"lastBoundingBox",{width:-1,height:-1}),n}return $ee(e,t),Ree(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>HT||Math.abs(i.height-this.lastBoundingBox.height)>HT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?zo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();p={top:((c||0)-y.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return zo(zo({},f),p)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=zo(zo({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return le.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){r.wrapperNode=h}},Vee(a,zo(zo({},this.props),{},{payload:aL(c,u,qee)})))}}],[{key:"getWithHeight",value:function(r,i){var a=zo(zo({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Fe(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(K.PureComponent);X0(wo,"displayName","Legend");X0(wo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var GT=cm,zee=dS,Hee=_i,WT=GT?GT.isConcatSpreadable:void 0;function Gee(t){return Hee(t)||zee(t)||!!(WT&&t&&t[WT])}var Wee=Gee,Kee=WR,Jee=Wee;function lL(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=Jee),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?lL(s,e-1,n,r,i):Kee(i,s):r||(i[i.length]=s)}return i}var uL=lL;function Yee(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var Xee=Yee,Zee=Xee,Qee=Zee(),ete=Qee,tte=ete,nte=Y0;function rte(t,e){return t&&tte(t,e,nte)}var cL=rte,ite=fm;function ate(t,e){return function(n,r){if(n==null)return n;if(!ite(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var ote=ate,ste=cL,lte=ote,ute=lte(ste),mS=ute,cte=mS,dte=fm;function fte(t,e){var n=-1,r=dte(t)?Array(t.length):[];return cte(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var dL=fte;function hte(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var pte=hte,KT=ff;function mte(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=KT(t),o=e!==void 0,s=e===null,l=e===e,u=KT(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var gte=mte,yte=gte;function vte(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=yte(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var xte=vte,Jx=Q5,bte=eS,wte=Po,_te=dL,Ste=pte,Ate=YR,Ete=xte,Nte=bf,Tte=_i;function Pte(t,e,n){e.length?e=Jx(e,function(a){return Tte(a)?function(o){return bte(o,a.length===1?a[0]:a)}:a}):e=[Nte];var r=-1;e=Jx(e,Ate(wte));var i=_te(t,function(a,o,s){var l=Jx(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return Ste(i,function(a,o){return Ete(a,o,n)})}var Cte=Pte;function kte(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Ite=kte,Ote=Ite,JT=Math.max;function jte(t,e,n){return e=JT(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=JT(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Ote(t,this,s)}}var Rte=jte;function Lte(t){return function(){return t}}var Mte=Lte,Dte=Xu,$te=function(){try{var t=Dte(Object,"defineProperty");return t({},"",{}),t}catch{}}(),fL=$te,Fte=Mte,YT=fL,Ute=bf,Bte=YT?function(t,e){return YT(t,"toString",{configurable:!0,enumerable:!1,value:Fte(e),writable:!0})}:Ute,qte=Bte,Vte=800,zte=16,Hte=Date.now;function Gte(t){var e=0,n=0;return function(){var r=Hte(),i=zte-(r-n);if(n=r,i>0){if(++e>=Vte)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Wte=Gte,Kte=qte,Jte=Wte,Yte=Jte(Kte),Xte=Yte,Zte=bf,Qte=Rte,ene=Xte;function tne(t,e){return ene(Qte(t,e,Zte),t+"")}var nne=tne,rne=J5,ine=fm,ane=fS,one=Tl;function sne(t,e,n){if(!one(n))return!1;var r=typeof e;return(r=="number"?ine(n)&&ane(e,n.length):r=="string"&&e in n)?rne(n[e],t):!1}var Z0=sne,lne=uL,une=Cte,cne=nne,XT=Z0,dne=cne(function(t,e){if(t==null)return[];var n=e.length;return n>1&&XT(t,e[0],e[1])?e=[]:n>2&&XT(e[0],e[1],e[2])&&(e=[e[0]]),une(t,lne(e,1),[])}),fne=dne;const gS=sn(fne);function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function v2(){return v2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v2.apply(this,arguments)}function hne(t,e){return yne(t)||gne(t,e)||mne(t,e)||pne()}function pne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mne(t,e){if(t){if(typeof t=="string")return ZT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZT(t,e)}}function ZT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function yne(t){if(Array.isArray(t))return t}function QT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QT(Object(n),!0).forEach(function(r){vne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vne(t,e,n){return e=xne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xne(t){var e=bne(t,"string");return _p(e)=="symbol"?e:e+""}function bne(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wne(t){return Array.isArray(t)&&br(t[0])&&br(t[1])?t.join(" ~ "):t}var _ne=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,p=e.itemSorter,h=e.wrapperClassName,y=e.labelClassName,g=e.label,x=e.labelFormatter,v=e.accessibilityLayer,w=v===void 0?!1:v,_=function(){if(c&&c.length){var O={padding:0,margin:0},D=(p?gS(c,p):c).map(function(L,B){if(L.type==="none")return null;var J=Yx({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},s),H=L.formatter||f||wne,M=L.value,X=L.name,oe=M,ie=X;if(H&&oe!=null&&ie!=null){var k=H(M,X,L,B,c);if(Array.isArray(k)){var q=hne(k,2);oe=q[0],ie=q[1]}else oe=k}return le.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:J},br(ie)?le.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,br(ie)?le.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,le.createElement("span",{className:"recharts-tooltip-item-value"},oe),le.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return le.createElement("ul",{className:"recharts-tooltip-item-list",style:O},D)}return null},A=Yx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=Yx({margin:0},u),N=!It(g),C=N?g:"",I=Lt("recharts-default-tooltip",h),R=Lt("recharts-tooltip-label",y);N&&x&&c!==void 0&&c!==null&&(C=x(g,c));var U=w?{role:"status","aria-live":"assertive"}:{};return le.createElement("div",v2({className:I,style:A},U),le.createElement("p",{className:R,style:S},le.isValidElement(C)?C:"".concat(C)),_())};function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function jg(t,e,n){return e=Sne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sne(t){var e=Ane(t,"string");return Sp(e)=="symbol"?e:e+""}function Ane(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ch="recharts-tooltip-wrapper",Ene={visibility:"hidden"};function Nne(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Lt(ch,jg(jg(jg(jg({},"".concat(ch,"-right"),Fe(n)&&e&&Fe(e.x)&&n>=e.x),"".concat(ch,"-left"),Fe(n)&&e&&Fe(e.x)&&n<e.x),"".concat(ch,"-bottom"),Fe(r)&&e&&Fe(e.y)&&r>=e.y),"".concat(ch,"-top"),Fe(r)&&e&&Fe(e.y)&&r<e.y))}function eP(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Fe(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?c:f;if(o[r]){var p=c,h=l[r];return p<h?Math.max(f,l[r]):Math.max(c,l[r])}var y=f+s,g=l[r]+u;return y>g?Math.max(c,l[r]):Math.max(f,l[r])}function Tne(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Pne(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&n?(c=eP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=eP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Tne({translateX:c,translateY:f,useTranslate3d:s})):u=Ene,{cssProperties:u,cssClasses:Nne({translateX:c,translateY:f,coordinate:n})}}function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){b2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pL(r.key),r)}}function Ine(t,e,n){return e&&kne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function One(t,e,n){return e=pv(e),jne(t,hL()?Reflect.construct(e,n||[],pv(t).constructor):e.apply(t,n))}function jne(t,e){if(e&&(Od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rne(t)}function Rne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hL=function(){return!!t})()}function pv(t){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pv(t)}function Lne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x2(t,e)}function x2(t,e){return x2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x2(t,e)}function b2(t,e,n){return e=pL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pL(t){var e=Mne(t,"string");return Od(e)=="symbol"?e:e+""}function Mne(t,e){if(Od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rP=1,Dne=function(t){function e(){var n;Cne(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=One(this,e,[].concat(i)),b2(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),b2(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Lne(e,t),Ine(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>rP||Math.abs(r.height-this.state.lastBoundingBox.height)>rP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,h=i.offset,y=i.position,g=i.reverseDirection,x=i.useTranslate3d,v=i.viewBox,w=i.wrapperStyle,_=Pne({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:h,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:v}),A=_.cssClasses,S=_.cssProperties,N=nP(nP({transition:p&&a?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return le.createElement("div",{tabIndex:-1,className:A,style:N,ref:function(I){r.wrapperNode=I}},u)}}])}(K.PureComponent),$ne=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Zu={isSsr:$ne()};function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function iP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(n),!0).forEach(function(r){yS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Une(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gL(r.key),r)}}function Bne(t,e,n){return e&&Une(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qne(t,e,n){return e=mv(e),Vne(t,mL()?Reflect.construct(e,n||[],mv(t).constructor):e.apply(t,n))}function Vne(t,e){if(e&&(jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zne(t)}function zne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mL=function(){return!!t})()}function mv(t){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mv(t)}function Hne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w2(t,e)}function w2(t,e){return w2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},w2(t,e)}function yS(t,e,n){return e=gL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gL(t){var e=Gne(t,"string");return jd(e)=="symbol"?e:e+""}function Gne(t,e){if(jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Wne(t){return t.dataKey}function Kne(t,e){return le.isValidElement(t)?le.cloneElement(t,e):typeof t=="function"?le.createElement(t,e):le.createElement(_ne,e)}var pi=function(t){function e(){return Fne(this,e),qne(this,e,arguments)}return Hne(e,t),Bne(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,p=i.isAnimationActive,h=i.offset,y=i.payload,g=i.payloadUniqBy,x=i.position,v=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,A=i.wrapperStyle,S=y??[];f&&S.length&&(S=aL(y.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),g,Wne));var N=S.length>0;return le.createElement(Dne,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:p,active:a,coordinate:c,hasPayload:N,offset:h,position:x,reverseDirection:v,useTranslate3d:w,viewBox:_,wrapperStyle:A},Kne(u,aP(aP({},this.props),{},{payload:S})))}}])}(K.PureComponent);yS(pi,"displayName","Tooltip");yS(pi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Zu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Jne=To,Yne=function(){return Jne.Date.now()},Xne=Yne,Zne=/\s/;function Qne(t){for(var e=t.length;e--&&Zne.test(t.charAt(e)););return e}var ere=Qne,tre=ere,nre=/^\s+/;function rre(t){return t&&t.slice(0,tre(t)+1).replace(nre,"")}var ire=rre,are=ire,oP=Tl,ore=ff,sP=NaN,sre=/^[-+]0x[0-9a-f]+$/i,lre=/^0b[01]+$/i,ure=/^0o[0-7]+$/i,cre=parseInt;function dre(t){if(typeof t=="number")return t;if(ore(t))return sP;if(oP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=oP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=are(t);var n=lre.test(t);return n||ure.test(t)?cre(t.slice(2),n?2:8):sre.test(t)?sP:+t}var yL=dre,fre=Tl,Xx=Xne,lP=yL,hre="Expected a function",pre=Math.max,mre=Math.min;function gre(t,e,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(hre);e=lP(e)||0,fre(n)&&(c=!!n.leading,f="maxWait"in n,a=f?pre(lP(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p);function h(N){var C=r,I=i;return r=i=void 0,u=N,o=t.apply(I,C),o}function y(N){return u=N,s=setTimeout(v,e),c?h(N):o}function g(N){var C=N-l,I=N-u,R=e-C;return f?mre(R,a-I):R}function x(N){var C=N-l,I=N-u;return l===void 0||C>=e||C<0||f&&I>=a}function v(){var N=Xx();if(x(N))return w(N);s=setTimeout(v,g(N))}function w(N){return s=void 0,p&&r?h(N):(r=i=void 0,o)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function A(){return s===void 0?o:w(Xx())}function S(){var N=Xx(),C=x(N);if(r=arguments,i=this,l=N,C){if(s===void 0)return y(l);if(f)return clearTimeout(s),s=setTimeout(v,e),h(l)}return s===void 0&&(s=setTimeout(v,e)),o}return S.cancel=_,S.flush=A,S}var yre=gre,vre=yre,xre=Tl,bre="Expected a function";function wre(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(bre);return xre(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),vre(t,e,{leading:r,maxWait:e,trailing:i})}var _re=wre;const vL=sn(_re);function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function uP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(n),!0).forEach(function(r){Sre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sre(t,e,n){return e=Are(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Are(t){var e=Ere(t,"string");return Ap(e)=="symbol"?e:e+""}function Ere(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nre(t,e){return kre(t)||Cre(t,e)||Pre(t,e)||Tre()}function Tre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pre(t,e){if(t){if(typeof t=="string")return cP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cP(t,e)}}function cP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function kre(t){if(Array.isArray(t))return t}var hm=K.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,p=t.maxHeight,h=t.children,y=t.debounce,g=y===void 0?0:y,x=t.id,v=t.className,w=t.onResize,_=t.style,A=_===void 0?{}:_,S=K.useRef(null),N=K.useRef();N.current=w,K.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var C=K.useState({containerWidth:i.width,containerHeight:i.height}),I=Nre(C,2),R=I[0],U=I[1],P=K.useCallback(function(D,L){U(function(B){var J=Math.round(D),H=Math.round(L);return B.containerWidth===J&&B.containerHeight===H?B:{containerWidth:J,containerHeight:H}})},[]);K.useEffect(function(){var D=function(X){var oe,ie=X[0].contentRect,k=ie.width,q=ie.height;P(k,q),(oe=N.current)===null||oe===void 0||oe.call(N,k,q)};g>0&&(D=vL(D,g,{trailing:!0,leading:!1}));var L=new ResizeObserver(D),B=S.current.getBoundingClientRect(),J=B.width,H=B.height;return P(J,H),L.observe(S.current),function(){L.disconnect()}},[P,g]);var O=K.useMemo(function(){var D=R.containerWidth,L=R.containerHeight;if(D<0||L<0)return null;Wa(Su(o)||Su(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Wa(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=Su(o)?D:o,J=Su(l)?L:l;n&&n>0&&(B?J=B/n:J&&(B=J*n),p&&J>p&&(J=p)),Wa(B>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,J,o,l,c,f,n);var H=!Array.isArray(h)&&as(h.type).endsWith("Chart");return le.Children.map(h,function(M){return le.isValidElement(M)?K.cloneElement(M,Rg({width:B,height:J},H?{style:Rg({height:"100%",width:"100%",maxHeight:J,maxWidth:B},M.props.style)}:{})):M})},[n,h,l,p,f,c,R,o]);return le.createElement("div",{id:x?"".concat(x):void 0,className:Lt("recharts-responsive-container",v),style:Rg(Rg({},A),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:p}),ref:S},O)}),pm=function(e){return null};pm.displayName="Cell";function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function dP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(n),!0).forEach(function(r){Ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ire(t,e,n){return e=Ore(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ore(t){var e=jre(t,"string");return Ep(e)=="symbol"?e:e+""}function jre(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ac={widthCache:{},cacheCount:0},Rre=2e3,Lre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fP="recharts_measurement_span";function Mre(t){var e=_2({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Uh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Zu.isSsr)return{width:0,height:0};var r=Mre(n),i=JSON.stringify({text:e,copyStyle:r});if(Ac.widthCache[i])return Ac.widthCache[i];try{var a=document.getElementById(fP);a||(a=document.createElement("span"),a.setAttribute("id",fP),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=_2(_2({},Lre),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Ac.widthCache[i]=l,++Ac.cacheCount>Rre&&(Ac.cacheCount=0,Ac.widthCache={}),l}catch{return{width:0,height:0}}},Dre=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function gv(t,e){return Bre(t)||Ure(t,e)||Fre(t,e)||$re()}function $re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fre(t,e){if(t){if(typeof t=="string")return hP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hP(t,e)}}function hP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ure(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Bre(t){if(Array.isArray(t))return t}function qre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zre(r.key),r)}}function Vre(t,e,n){return e&&pP(t.prototype,e),n&&pP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zre(t){var e=Hre(t,"string");return Np(e)=="symbol"?e:e+""}function Hre(t,e){if(Np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Gre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Wre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kre=Object.keys(xL),Kc="NaN";function Jre(t,e){return t*xL[e]}var Lg=function(){function t(e,n){qre(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Gre.test(n)&&(this.num=NaN,this.unit=""),Kre.includes(n)&&(this.num=Jre(e,n),this.unit="px")}return Vre(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Wre.exec(n))!==null&&r!==void 0?r:[],a=gv(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function bL(t){if(t.includes(Kc))return Kc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=mP.exec(e))!==null&&n!==void 0?n:[],i=gv(r,4),a=i[1],o=i[2],s=i[3],l=Lg.parse(a??""),u=Lg.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Kc;e=e.replace(mP,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=gP.exec(e))!==null&&f!==void 0?f:[],h=gv(p,4),y=h[1],g=h[2],x=h[3],v=Lg.parse(y??""),w=Lg.parse(x??""),_=g==="+"?v.add(w):v.subtract(w);if(_.isNaN())return Kc;e=e.replace(gP,_.toString())}return e}var yP=/\(([^()]*)\)/;function Yre(t){for(var e=t;e.includes("(");){var n=yP.exec(e),r=gv(n,2),i=r[1];e=e.replace(yP,bL(i))}return e}function Xre(t){var e=t.replace(/\s+/g,"");return e=Yre(e),e=bL(e),e}function Zre(t){try{return Xre(t)}catch{return Kc}}function Zx(t){var e=Zre(t.slice(5,-1));return e===Kc?"":e}var Qre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],eie=["dx","dy","angle","className","breakAll"];function S2(){return S2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S2.apply(this,arguments)}function vP(t,e){if(t==null)return{};var n=tie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xP(t,e){return aie(t)||iie(t,e)||rie(t,e)||nie()}function nie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rie(t,e){if(t){if(typeof t=="string")return bP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bP(t,e)}}function bP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function aie(t){if(Array.isArray(t))return t}var wL=/[ \f\n\r\t\v\u2028\u2029]+/,_L=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];It(n)||(r?a=n.toString().split(""):a=n.toString().split(wL));var o=a.map(function(l){return{word:l,width:Uh(l,i).width}}),s=r?0:Uh("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},oie=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Fe(o),f=s,p=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(J,H){var M=H.word,X=H.width,oe=J[J.length-1];if(oe&&(i==null||a||oe.width+X+r<Number(i)))oe.words.push(M),oe.width+=X+r;else{var ie={words:[M],width:X};J.push(ie)}return J},[])},h=p(n),y=function(B){return B.reduce(function(J,H){return J.width>H.width?J:H})};if(!c)return h;for(var g="",x=function(B){var J=f.slice(0,B),H=_L({breakAll:u,style:l,children:J+g}).wordsWithComputedWidth,M=p(H),X=M.length>o||y(M).width>Number(i);return[X,M]},v=0,w=f.length-1,_=0,A;v<=w&&_<=f.length-1;){var S=Math.floor((v+w)/2),N=S-1,C=x(N),I=xP(C,2),R=I[0],U=I[1],P=x(S),O=xP(P,1),D=O[0];if(!R&&!D&&(v=S+1),R&&D&&(w=S-1),!R&&D){A=U;break}_++}return A||h},wP=function(e){var n=It(e)?[]:e.toString().split(wL);return[{words:n}]},sie=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Zu.isSsr){var l,u,c=_L({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,p=c.spaceWidth;l=f,u=p}else return wP(i);return oie({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return wP(i)},_P="#808080",Bu=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,p=e.textAnchor,h=p===void 0?"start":p,y=e.verticalAnchor,g=y===void 0?"end":y,x=e.fill,v=x===void 0?_P:x,w=vP(e,Qre),_=K.useMemo(function(){return sie({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),A=w.dx,S=w.dy,N=w.angle,C=w.className,I=w.breakAll,R=vP(w,eie);if(!br(r)||!br(a))return null;var U=r+(Fe(A)?A:0),P=a+(Fe(S)?S:0),O;switch(g){case"start":O=Zx("calc(".concat(u,")"));break;case"middle":O=Zx("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:O=Zx("calc(".concat(_.length-1," * -").concat(s,")"));break}var D=[];if(f){var L=_[0].width,B=w.width;D.push("scale(".concat((Fe(B)?B/L:1)/L,")"))}return N&&D.push("rotate(".concat(N,", ").concat(U,", ").concat(P,")")),D.length&&(R.transform=D.join(" ")),le.createElement("text",S2({},pt(R,!0),{x:U,y:P,className:Lt("recharts-text",C),textAnchor:h,fill:v.includes("url")?_P:v}),_.map(function(J,H){var M=J.words.join(I?"":" ");return le.createElement("tspan",{x:U,dy:H===0?O:s,key:"".concat(M,"-").concat(H)},M)}))};function pl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lie(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vS(t){let e,n,r;t.length!==2?(e=pl,n=(s,l)=>pl(t(s),l),r=(s,l)=>t(s)-l):(e=t===pl||t===lie?t:uie,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function uie(){return 0}function SL(t){return t===null?NaN:+t}function*cie(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const die=vS(pl),mm=die.right;vS(SL).center;class SP extends Map{constructor(e,n=pie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(AP(this,e))}has(e){return super.has(AP(this,e))}set(e,n){return super.set(fie(this,e),n)}delete(e){return super.delete(hie(this,e))}}function AP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function fie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function hie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function pie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function mie(t=pl){if(t===pl)return AL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function AL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const gie=Math.sqrt(50),yie=Math.sqrt(10),vie=Math.sqrt(2);function yv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=gie?10:a>=yie?5:a>=vie?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?yv(t,e,n*2):[s,l,u]}function A2(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?yv(e,t,n):yv(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function E2(t,e,n){return e=+e,t=+t,n=+n,yv(t,e,n)[2]}function N2(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?E2(e,t,n):E2(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function EP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function NP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function EL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?AL:mie(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(e-u*f/l+p)),y=Math.min(r,Math.floor(e+(l-u)*f/l+p));EL(t,e,h,y,i)}const a=t[e];let o=n,s=r;for(dh(t,n,e),i(t[r],a)>0&&dh(t,n,r);o<s;){for(dh(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?dh(t,n,s):(++s,dh(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function dh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function xie(t,e,n){if(t=Float64Array.from(cie(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return NP(t);if(e>=1)return EP(t);var r,i=(r-1)*e,a=Math.floor(i),o=EP(EL(t,a).subarray(0,a+1)),s=NP(t.subarray(a+1));return o+(s-o)*(i-a)}}function bie(t,e,n=SL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function wie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Aa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ws(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const T2=Symbol("implicit");function xS(){var t=new SP,e=[],n=[],r=T2;function i(a){let o=t.get(a);if(o===void 0){if(r!==T2)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new SP;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return xS(e,n).unknown(r)},Aa.apply(i,arguments),i}function Tp(){var t=xS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var p=e().length,h=i<r,y=h?i:r,g=h?r:i;a=(g-y)/Math.max(1,p-l+u*2),s&&(a=Math.floor(a)),y+=(g-y-a*(p-l))*c,o=a*(1-l),s&&(y=Math.round(y),o=Math.round(o));var x=wie(p).map(function(v){return y+a*v});return n(h?x.reverse():x)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(p){return arguments.length?(s=!!p,f()):s},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},t.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),f()):c},t.copy=function(){return Tp(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Aa.apply(f(),arguments)}function NL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return NL(e())},t}function Bh(){return NL(Tp.apply(null,arguments).paddingInner(1))}function bS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function TL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function gm(){}var Pp=.7,vv=1/Pp,ud="\\s*([+-]?\\d+)\\s*",Cp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_ie=/^#([0-9a-f]{3,8})$/,Sie=new RegExp(`^rgb\\(${ud},${ud},${ud}\\)$`),Aie=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),Eie=new RegExp(`^rgba\\(${ud},${ud},${ud},${Cp}\\)$`),Nie=new RegExp(`^rgba\\(${_o},${_o},${_o},${Cp}\\)$`),Tie=new RegExp(`^hsl\\(${Cp},${_o},${_o}\\)$`),Pie=new RegExp(`^hsla\\(${Cp},${_o},${_o},${Cp}\\)$`),TP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bS(gm,kp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:PP,formatHex:PP,formatHex8:Cie,formatHsl:kie,formatRgb:CP,toString:CP});function PP(){return this.rgb().formatHex()}function Cie(){return this.rgb().formatHex8()}function kie(){return PL(this).formatHsl()}function CP(){return this.rgb().formatRgb()}function kp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=_ie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?kP(e):n===3?new yi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Mg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Mg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Sie.exec(t))?new yi(e[1],e[2],e[3],1):(e=Aie.exec(t))?new yi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Eie.exec(t))?Mg(e[1],e[2],e[3],e[4]):(e=Nie.exec(t))?Mg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Tie.exec(t))?jP(e[1],e[2]/100,e[3]/100,1):(e=Pie.exec(t))?jP(e[1],e[2]/100,e[3]/100,e[4]):TP.hasOwnProperty(t)?kP(TP[t]):t==="transparent"?new yi(NaN,NaN,NaN,0):null}function kP(t){return new yi(t>>16&255,t>>8&255,t&255,1)}function Mg(t,e,n,r){return r<=0&&(t=e=n=NaN),new yi(t,e,n,r)}function Iie(t){return t instanceof gm||(t=kp(t)),t?(t=t.rgb(),new yi(t.r,t.g,t.b,t.opacity)):new yi}function P2(t,e,n,r){return arguments.length===1?Iie(t):new yi(t,e,n,r??1)}function yi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}bS(yi,P2,TL(gm,{brighter(t){return t=t==null?vv:Math.pow(vv,t),new yi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Pp:Math.pow(Pp,t),new yi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yi(ku(this.r),ku(this.g),ku(this.b),xv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:IP,formatHex:IP,formatHex8:Oie,formatRgb:OP,toString:OP}));function IP(){return`#${Au(this.r)}${Au(this.g)}${Au(this.b)}`}function Oie(){return`#${Au(this.r)}${Au(this.g)}${Au(this.b)}${Au((isNaN(this.opacity)?1:this.opacity)*255)}`}function OP(){const t=xv(this.opacity);return`${t===1?"rgb(":"rgba("}${ku(this.r)}, ${ku(this.g)}, ${ku(this.b)}${t===1?")":`, ${t})`}`}function xv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ku(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Au(t){return t=ku(t),(t<16?"0":"")+t.toString(16)}function jP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Va(t,e,n,r)}function PL(t){if(t instanceof Va)return new Va(t.h,t.s,t.l,t.opacity);if(t instanceof gm||(t=kp(t)),!t)return new Va;if(t instanceof Va)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Va(o,s,l,t.opacity)}function jie(t,e,n,r){return arguments.length===1?PL(t):new Va(t,e,n,r??1)}function Va(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}bS(Va,jie,TL(gm,{brighter(t){return t=t==null?vv:Math.pow(vv,t),new Va(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Pp:Math.pow(Pp,t),new Va(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new yi(Qx(t>=240?t-240:t+120,i,r),Qx(t,i,r),Qx(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Va(RP(this.h),Dg(this.s),Dg(this.l),xv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xv(this.opacity);return`${t===1?"hsl(":"hsla("}${RP(this.h)}, ${Dg(this.s)*100}%, ${Dg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function RP(t){return t=(t||0)%360,t<0?t+360:t}function Dg(t){return Math.max(0,Math.min(1,t||0))}function Qx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const wS=t=>()=>t;function Rie(t,e){return function(n){return t+n*e}}function Lie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Mie(t){return(t=+t)==1?CL:function(e,n){return n-e?Lie(e,n,t):wS(isNaN(e)?n:e)}}function CL(t,e){var n=e-t;return n?Rie(t,n):wS(isNaN(t)?e:t)}const LP=function t(e){var n=Mie(e);function r(i,a){var o=n((i=P2(i)).r,(a=P2(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=CL(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Die(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function $ie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Fie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=wf(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Uie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function bv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Bie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=wf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var C2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eb=new RegExp(C2.source,"g");function qie(t){return function(){return t}}function Vie(t){return function(e){return t(e)+""}}function zie(t,e){var n=C2.lastIndex=eb.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=C2.exec(t))&&(i=eb.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:bv(r,i)})),n=eb.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Vie(l[0].x):qie(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function wf(t,e){var n=typeof e,r;return e==null||n==="boolean"?wS(e):(n==="number"?bv:n==="string"?(r=kp(e))?(e=r,LP):zie:e instanceof kp?LP:e instanceof Date?Uie:$ie(e)?Die:Array.isArray(e)?Fie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Bie:bv)(t,e)}function _S(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Hie(t,e){e===void 0&&(e=t,t=wf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Gie(t){return function(){return t}}function wv(t){return+t}var MP=[0,1];function oi(t){return t}function k2(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Gie(isNaN(e)?NaN:.5)}function Wie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Kie(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=k2(i,r),a=n(o,a)):(r=k2(r,i),a=n(a,o)),function(s){return a(r(s))}}function Jie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=k2(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=mm(t,s,1,r)-1;return a[l](i[l](s))}}function ym(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Q0(){var t=MP,e=MP,n=wf,r,i,a,o=oi,s,l,u;function c(){var p=Math.min(t.length,e.length);return o!==oi&&(o=Wie(t[0],t[p-1])),s=p>2?Jie:Kie,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=s(t.map(r),e,n)))(r(o(p)))}return f.invert=function(p){return o(i((u||(u=s(e,t.map(r),bv)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,wv),c()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),c()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),n=_S,c()},f.clamp=function(p){return arguments.length?(o=p?!0:oi,c()):o!==oi},f.interpolate=function(p){return arguments.length?(n=p,c()):n},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,h){return r=p,i=h,c()}}function SS(){return Q0()(oi,oi)}function Yie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function _v(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Rd(t){return t=_v(Math.abs(t)),t?t[1]:NaN}function Xie(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Zie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Qie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ip(t){if(!(e=Qie.exec(t)))throw new Error("invalid format: "+t);var e;return new AS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ip.prototype=AS.prototype;function AS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}AS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eae(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var kL;function tae(t,e){var n=_v(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(kL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+_v(t,Math.max(0,e+a-1))[0]}function DP(t,e){var n=_v(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const $P={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Yie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>DP(t*100,e),r:DP,s:tae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function FP(t){return t}var UP=Array.prototype.map,BP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nae(t){var e=t.grouping===void 0||t.thousands===void 0?FP:Xie(UP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?FP:Zie(UP.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Ip(f);var p=f.fill,h=f.align,y=f.sign,g=f.symbol,x=f.zero,v=f.width,w=f.comma,_=f.precision,A=f.trim,S=f.type;S==="n"?(w=!0,S="g"):$P[S]||(_===void 0&&(_=12),A=!0,S="g"),(x||p==="0"&&h==="=")&&(x=!0,p="0",h="=");var N=g==="$"?n:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",C=g==="$"?r:/[%p]/.test(S)?o:"",I=$P[S],R=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function U(P){var O=N,D=C,L,B,J;if(S==="c")D=I(P)+D,P="";else{P=+P;var H=P<0||1/P<0;if(P=isNaN(P)?l:I(Math.abs(P),_),A&&(P=eae(P)),H&&+P==0&&y!=="+"&&(H=!1),O=(H?y==="("?y:s:y==="-"||y==="("?"":y)+O,D=(S==="s"?BP[8+kL/3]:"")+D+(H&&y==="("?")":""),R){for(L=-1,B=P.length;++L<B;)if(J=P.charCodeAt(L),48>J||J>57){D=(J===46?i+P.slice(L+1):P.slice(L))+D,P=P.slice(0,L);break}}}w&&!x&&(P=e(P,1/0));var M=O.length+P.length+D.length,X=M<v?new Array(v-M+1).join(p):"";switch(w&&x&&(P=e(X+P,X.length?v-D.length:1/0),X=""),h){case"<":P=O+P+D+X;break;case"=":P=O+X+P+D;break;case"^":P=X.slice(0,M=X.length>>1)+O+P+D+X.slice(M);break;default:P=X+O+P+D;break}return a(P)}return U.toString=function(){return f+""},U}function c(f,p){var h=u((f=Ip(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Rd(p)/3)))*3,g=Math.pow(10,-y),x=BP[8+y/3];return function(v){return h(g*v)+x}}return{format:u,formatPrefix:c}}var $g,ES,IL;rae({thousands:",",grouping:[3],currency:["$",""]});function rae(t){return $g=nae(t),ES=$g.format,IL=$g.formatPrefix,$g}function iae(t){return Math.max(0,-Rd(Math.abs(t)))}function aae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rd(e)/3)))*3-Rd(Math.abs(t)))}function oae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rd(e)-Rd(t))+1}function OL(t,e,n,r){var i=N2(t,e,n),a;switch(r=Ip(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=aae(i,o))&&(r.precision=a),IL(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=oae(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=iae(i))&&(r.precision=a-(r.type==="%")*2);break}}return ES(r)}function Pl(t){var e=t.domain;return t.ticks=function(n){var r=e();return A2(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return OL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=E2(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Sv(){var t=SS();return t.copy=function(){return ym(t,Sv())},Aa.apply(t,arguments),Pl(t)}function jL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,wv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return jL(t).unknown(e)},t=arguments.length?Array.from(t,wv):[0,1],Pl(n)}function RL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function qP(t){return Math.log(t)}function VP(t){return Math.exp(t)}function sae(t){return-Math.log(-t)}function lae(t){return-Math.exp(-t)}function uae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function cae(t){return t===10?uae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function dae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function zP(t){return(e,n)=>-t(-e,n)}function NS(t){const e=t(qP,VP),n=e.domain;let r=10,i,a;function o(){return i=dae(r),a=cae(r),n()[0]<0?(i=zP(i),a=zP(a),t(sae,lae)):t(qP,VP),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let p=i(u),h=i(c),y,g;const x=s==null?10:+s;let v=[];if(!(r%1)&&h-p<x){if(p=Math.floor(p),h=Math.ceil(h),u>0){for(;p<=h;++p)for(y=1;y<r;++y)if(g=p<0?y/a(-p):y*a(p),!(g<u)){if(g>c)break;v.push(g)}}else for(;p<=h;++p)for(y=r-1;y>=1;--y)if(g=p>0?y/a(-p):y*a(p),!(g<u)){if(g>c)break;v.push(g)}v.length*2<x&&(v=A2(u,c,x))}else v=A2(p,h,Math.min(h-p,x)).map(a);return f?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ip(l)).precision==null&&(l.trim=!0),l=ES(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(RL(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function LL(){const t=NS(Q0()).domain([1,10]);return t.copy=()=>ym(t,LL()).base(t.base()),Aa.apply(t,arguments),t}function HP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function GP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function TS(t){var e=1,n=t(HP(e),GP(e));return n.constant=function(r){return arguments.length?t(HP(e=+r),GP(e)):e},Pl(n)}function ML(){var t=TS(Q0());return t.copy=function(){return ym(t,ML()).constant(t.constant())},Aa.apply(t,arguments)}function WP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function fae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hae(t){return t<0?-t*t:t*t}function PS(t){var e=t(oi,oi),n=1;function r(){return n===1?t(oi,oi):n===.5?t(fae,hae):t(WP(n),WP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Pl(e)}function CS(){var t=PS(Q0());return t.copy=function(){return ym(t,CS()).exponent(t.exponent())},Aa.apply(t,arguments),t}function pae(){return CS.apply(null,arguments).exponent(.5)}function KP(t){return Math.sign(t)*t*t}function mae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function DL(){var t=SS(),e=[0,1],n=!1,r;function i(a){var o=mae(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(KP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,wv)).map(KP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return DL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Aa.apply(i,arguments),Pl(i)}function $L(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=bie(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[mm(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(pl),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return $L().domain(t).range(e).unknown(r)},Aa.apply(a,arguments)}function FL(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[mm(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return FL().domain([t,e]).range(i).unknown(a)},Aa.apply(Pl(o),arguments)}function UL(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[mm(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return UL().domain(t).range(e).unknown(n)},Aa.apply(i,arguments)}const tb=new Date,nb=new Date;function wr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>wr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(tb.setTime(+a),nb.setTime(+o),t(tb),t(nb),Math.floor(n(tb,nb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Av=wr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Av.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?wr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Av);Av.range;const ts=1e3,ga=ts*60,ns=ga*60,hs=ns*24,kS=hs*7,JP=hs*30,rb=hs*365,Eu=wr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ts)},(t,e)=>(e-t)/ts,t=>t.getUTCSeconds());Eu.range;const IS=wr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ts)},(t,e)=>{t.setTime(+t+e*ga)},(t,e)=>(e-t)/ga,t=>t.getMinutes());IS.range;const OS=wr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ga)},(t,e)=>(e-t)/ga,t=>t.getUTCMinutes());OS.range;const jS=wr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ts-t.getMinutes()*ga)},(t,e)=>{t.setTime(+t+e*ns)},(t,e)=>(e-t)/ns,t=>t.getHours());jS.range;const RS=wr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ns)},(t,e)=>(e-t)/ns,t=>t.getUTCHours());RS.range;const vm=wr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ga)/hs,t=>t.getDate()-1);vm.range;const e1=wr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/hs,t=>t.getUTCDate()-1);e1.range;const BL=wr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/hs,t=>Math.floor(t/hs));BL.range;function Qu(t){return wr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ga)/kS)}const t1=Qu(0),Ev=Qu(1),gae=Qu(2),yae=Qu(3),Ld=Qu(4),vae=Qu(5),xae=Qu(6);t1.range;Ev.range;gae.range;yae.range;Ld.range;vae.range;xae.range;function ec(t){return wr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/kS)}const n1=ec(0),Nv=ec(1),bae=ec(2),wae=ec(3),Md=ec(4),_ae=ec(5),Sae=ec(6);n1.range;Nv.range;bae.range;wae.range;Md.range;_ae.range;Sae.range;const LS=wr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());LS.range;const MS=wr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());MS.range;const ps=wr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ps.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ps.range;const ms=wr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ms.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ms.range;function qL(t,e,n,r,i,a){const o=[[Eu,1,ts],[Eu,5,5*ts],[Eu,15,15*ts],[Eu,30,30*ts],[a,1,ga],[a,5,5*ga],[a,15,15*ga],[a,30,30*ga],[i,1,ns],[i,3,3*ns],[i,6,6*ns],[i,12,12*ns],[r,1,hs],[r,2,2*hs],[n,1,kS],[e,1,JP],[e,3,3*JP],[t,1,rb]];function s(u,c,f){const p=c<u;p&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),y=h?h.range(u,+c+1):[];return p?y.reverse():y}function l(u,c,f){const p=Math.abs(c-u)/f,h=vS(([,,x])=>x).right(o,p);if(h===o.length)return t.every(N2(u/rb,c/rb,f));if(h===0)return Av.every(Math.max(N2(u,c,f),1));const[y,g]=o[p/o[h-1][2]<o[h][2]/p?h-1:h];return y.every(g)}return[s,l]}const[Aae,Eae]=qL(ms,MS,n1,BL,RS,OS),[Nae,Tae]=qL(ps,LS,t1,vm,jS,IS);function ib(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ab(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function fh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Pae(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=hh(i),c=ph(i),f=hh(a),p=ph(a),h=hh(o),y=ph(o),g=hh(s),x=ph(s),v=hh(l),w=ph(l),_={a:H,A:M,b:X,B:oe,c:null,d:tC,e:tC,f:Xae,g:soe,G:uoe,H:Kae,I:Jae,j:Yae,L:VL,m:Zae,M:Qae,p:ie,q:k,Q:iC,s:aC,S:eoe,u:toe,U:noe,V:roe,w:ioe,W:aoe,x:null,X:null,y:ooe,Y:loe,Z:coe,"%":rC},A={a:q,A:G,b:te,B:re,c:null,d:nC,e:nC,f:poe,g:Aoe,G:Noe,H:doe,I:foe,j:hoe,L:HL,m:moe,M:goe,p:ce,q:ye,Q:iC,s:aC,S:yoe,u:voe,U:xoe,V:boe,w:woe,W:_oe,x:null,X:null,y:Soe,Y:Eoe,Z:Toe,"%":rC},S={a:U,A:P,b:O,B:D,c:L,d:QP,e:QP,f:zae,g:ZP,G:XP,H:eC,I:eC,j:Uae,L:Vae,m:Fae,M:Bae,p:R,q:$ae,Q:Gae,s:Wae,S:qae,u:jae,U:Rae,V:Lae,w:Oae,W:Mae,x:B,X:J,y:ZP,Y:XP,Z:Dae,"%":Hae};_.x=N(n,_),_.X=N(r,_),_.c=N(e,_),A.x=N(n,A),A.X=N(r,A),A.c=N(e,A);function N(se,me){return function(we){var he=[],Ie=-1,ae=0,Z=se.length,Be,Ue,Ve;for(we instanceof Date||(we=new Date(+we));++Ie<Z;)se.charCodeAt(Ie)===37&&(he.push(se.slice(ae,Ie)),(Ue=YP[Be=se.charAt(++Ie)])!=null?Be=se.charAt(++Ie):Ue=Be==="e"?" ":"0",(Ve=me[Be])&&(Be=Ve(we,Ue)),he.push(Be),ae=Ie+1);return he.push(se.slice(ae,Ie)),he.join("")}}function C(se,me){return function(we){var he=fh(1900,void 0,1),Ie=I(he,se,we+="",0),ae,Z;if(Ie!=we.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(me&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(ae=ab(fh(he.y,0,1)),Z=ae.getUTCDay(),ae=Z>4||Z===0?Nv.ceil(ae):Nv(ae),ae=e1.offset(ae,(he.V-1)*7),he.y=ae.getUTCFullYear(),he.m=ae.getUTCMonth(),he.d=ae.getUTCDate()+(he.w+6)%7):(ae=ib(fh(he.y,0,1)),Z=ae.getDay(),ae=Z>4||Z===0?Ev.ceil(ae):Ev(ae),ae=vm.offset(ae,(he.V-1)*7),he.y=ae.getFullYear(),he.m=ae.getMonth(),he.d=ae.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Z="Z"in he?ab(fh(he.y,0,1)).getUTCDay():ib(fh(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Z+5)%7:he.w+he.U*7-(Z+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,ab(he)):ib(he)}}function I(se,me,we,he){for(var Ie=0,ae=me.length,Z=we.length,Be,Ue;Ie<ae;){if(he>=Z)return-1;if(Be=me.charCodeAt(Ie++),Be===37){if(Be=me.charAt(Ie++),Ue=S[Be in YP?me.charAt(Ie++):Be],!Ue||(he=Ue(se,we,he))<0)return-1}else if(Be!=we.charCodeAt(he++))return-1}return he}function R(se,me,we){var he=u.exec(me.slice(we));return he?(se.p=c.get(he[0].toLowerCase()),we+he[0].length):-1}function U(se,me,we){var he=h.exec(me.slice(we));return he?(se.w=y.get(he[0].toLowerCase()),we+he[0].length):-1}function P(se,me,we){var he=f.exec(me.slice(we));return he?(se.w=p.get(he[0].toLowerCase()),we+he[0].length):-1}function O(se,me,we){var he=v.exec(me.slice(we));return he?(se.m=w.get(he[0].toLowerCase()),we+he[0].length):-1}function D(se,me,we){var he=g.exec(me.slice(we));return he?(se.m=x.get(he[0].toLowerCase()),we+he[0].length):-1}function L(se,me,we){return I(se,e,me,we)}function B(se,me,we){return I(se,n,me,we)}function J(se,me,we){return I(se,r,me,we)}function H(se){return o[se.getDay()]}function M(se){return a[se.getDay()]}function X(se){return l[se.getMonth()]}function oe(se){return s[se.getMonth()]}function ie(se){return i[+(se.getHours()>=12)]}function k(se){return 1+~~(se.getMonth()/3)}function q(se){return o[se.getUTCDay()]}function G(se){return a[se.getUTCDay()]}function te(se){return l[se.getUTCMonth()]}function re(se){return s[se.getUTCMonth()]}function ce(se){return i[+(se.getUTCHours()>=12)]}function ye(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var me=N(se+="",_);return me.toString=function(){return se},me},parse:function(se){var me=C(se+="",!1);return me.toString=function(){return se},me},utcFormat:function(se){var me=N(se+="",A);return me.toString=function(){return se},me},utcParse:function(se){var me=C(se+="",!0);return me.toString=function(){return se},me}}}var YP={"-":"",_:" ",0:"0"},Cr=/^\s*\d+/,Cae=/^%/,kae=/[\\^$*+?|[\]().{}]/g;function Kt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Iae(t){return t.replace(kae,"\\$&")}function hh(t){return new RegExp("^(?:"+t.map(Iae).join("|")+")","i")}function ph(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Oae(t,e,n){var r=Cr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function jae(t,e,n){var r=Cr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Rae(t,e,n){var r=Cr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Lae(t,e,n){var r=Cr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Mae(t,e,n){var r=Cr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function XP(t,e,n){var r=Cr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ZP(t,e,n){var r=Cr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Dae(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function $ae(t,e,n){var r=Cr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Fae(t,e,n){var r=Cr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function QP(t,e,n){var r=Cr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Uae(t,e,n){var r=Cr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function eC(t,e,n){var r=Cr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Bae(t,e,n){var r=Cr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function qae(t,e,n){var r=Cr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Vae(t,e,n){var r=Cr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function zae(t,e,n){var r=Cr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Hae(t,e,n){var r=Cae.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Gae(t,e,n){var r=Cr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Wae(t,e,n){var r=Cr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function tC(t,e){return Kt(t.getDate(),e,2)}function Kae(t,e){return Kt(t.getHours(),e,2)}function Jae(t,e){return Kt(t.getHours()%12||12,e,2)}function Yae(t,e){return Kt(1+vm.count(ps(t),t),e,3)}function VL(t,e){return Kt(t.getMilliseconds(),e,3)}function Xae(t,e){return VL(t,e)+"000"}function Zae(t,e){return Kt(t.getMonth()+1,e,2)}function Qae(t,e){return Kt(t.getMinutes(),e,2)}function eoe(t,e){return Kt(t.getSeconds(),e,2)}function toe(t){var e=t.getDay();return e===0?7:e}function noe(t,e){return Kt(t1.count(ps(t)-1,t),e,2)}function zL(t){var e=t.getDay();return e>=4||e===0?Ld(t):Ld.ceil(t)}function roe(t,e){return t=zL(t),Kt(Ld.count(ps(t),t)+(ps(t).getDay()===4),e,2)}function ioe(t){return t.getDay()}function aoe(t,e){return Kt(Ev.count(ps(t)-1,t),e,2)}function ooe(t,e){return Kt(t.getFullYear()%100,e,2)}function soe(t,e){return t=zL(t),Kt(t.getFullYear()%100,e,2)}function loe(t,e){return Kt(t.getFullYear()%1e4,e,4)}function uoe(t,e){var n=t.getDay();return t=n>=4||n===0?Ld(t):Ld.ceil(t),Kt(t.getFullYear()%1e4,e,4)}function coe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Kt(e/60|0,"0",2)+Kt(e%60,"0",2)}function nC(t,e){return Kt(t.getUTCDate(),e,2)}function doe(t,e){return Kt(t.getUTCHours(),e,2)}function foe(t,e){return Kt(t.getUTCHours()%12||12,e,2)}function hoe(t,e){return Kt(1+e1.count(ms(t),t),e,3)}function HL(t,e){return Kt(t.getUTCMilliseconds(),e,3)}function poe(t,e){return HL(t,e)+"000"}function moe(t,e){return Kt(t.getUTCMonth()+1,e,2)}function goe(t,e){return Kt(t.getUTCMinutes(),e,2)}function yoe(t,e){return Kt(t.getUTCSeconds(),e,2)}function voe(t){var e=t.getUTCDay();return e===0?7:e}function xoe(t,e){return Kt(n1.count(ms(t)-1,t),e,2)}function GL(t){var e=t.getUTCDay();return e>=4||e===0?Md(t):Md.ceil(t)}function boe(t,e){return t=GL(t),Kt(Md.count(ms(t),t)+(ms(t).getUTCDay()===4),e,2)}function woe(t){return t.getUTCDay()}function _oe(t,e){return Kt(Nv.count(ms(t)-1,t),e,2)}function Soe(t,e){return Kt(t.getUTCFullYear()%100,e,2)}function Aoe(t,e){return t=GL(t),Kt(t.getUTCFullYear()%100,e,2)}function Eoe(t,e){return Kt(t.getUTCFullYear()%1e4,e,4)}function Noe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Md(t):Md.ceil(t),Kt(t.getUTCFullYear()%1e4,e,4)}function Toe(){return"+0000"}function rC(){return"%"}function iC(t){return+t}function aC(t){return Math.floor(+t/1e3)}var Ec,WL,KL;Poe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Poe(t){return Ec=Pae(t),WL=Ec.format,Ec.parse,KL=Ec.utcFormat,Ec.utcParse,Ec}function Coe(t){return new Date(t)}function koe(t){return t instanceof Date?+t:+new Date(+t)}function DS(t,e,n,r,i,a,o,s,l,u){var c=SS(),f=c.invert,p=c.domain,h=u(".%L"),y=u(":%S"),g=u("%I:%M"),x=u("%I %p"),v=u("%a %d"),w=u("%b %d"),_=u("%B"),A=u("%Y");function S(N){return(l(N)<N?h:s(N)<N?y:o(N)<N?g:a(N)<N?x:r(N)<N?i(N)<N?v:w:n(N)<N?_:A)(N)}return c.invert=function(N){return new Date(f(N))},c.domain=function(N){return arguments.length?p(Array.from(N,koe)):p().map(Coe)},c.ticks=function(N){var C=p();return t(C[0],C[C.length-1],N??10)},c.tickFormat=function(N,C){return C==null?S:u(C)},c.nice=function(N){var C=p();return(!N||typeof N.range!="function")&&(N=e(C[0],C[C.length-1],N??10)),N?p(RL(C,N)):c},c.copy=function(){return ym(c,DS(t,e,n,r,i,a,o,s,l,u))},c}function Ioe(){return Aa.apply(DS(Nae,Tae,ps,LS,t1,vm,jS,IS,Eu,WL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ooe(){return Aa.apply(DS(Aae,Eae,ms,MS,n1,e1,RS,OS,Eu,KL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function r1(){var t=0,e=1,n,r,i,a,o=oi,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(p){var h,y;return arguments.length?([h,y]=p,o=f(h,y),u):[o(0),o(1)]}}return u.range=c(wf),u.rangeRound=c(_S),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Cl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function JL(){var t=Pl(r1()(oi));return t.copy=function(){return Cl(t,JL())},ws.apply(t,arguments)}function YL(){var t=NS(r1()).domain([1,10]);return t.copy=function(){return Cl(t,YL()).base(t.base())},ws.apply(t,arguments)}function XL(){var t=TS(r1());return t.copy=function(){return Cl(t,XL()).constant(t.constant())},ws.apply(t,arguments)}function $S(){var t=PS(r1());return t.copy=function(){return Cl(t,$S()).exponent(t.exponent())},ws.apply(t,arguments)}function joe(){return $S.apply(null,arguments).exponent(.5)}function ZL(){var t=[],e=oi;function n(r){if(r!=null&&!isNaN(r=+r))return e((mm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(pl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>xie(t,a/r))},n.copy=function(){return ZL(e).domain(t)},ws.apply(n,arguments)}function i1(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=oi,c,f=!1,p;function h(g){return isNaN(g=+g)?p:(g=.5+((g=+c(g))-a)*(r*g<r*a?s:l),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,h):[t,e,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function y(g){return function(x){var v,w,_;return arguments.length?([v,w,_]=x,u=Hie(g,[v,w,_]),h):[u(0),u(.5),u(1)]}}return h.range=y(wf),h.rangeRound=y(_S),h.unknown=function(g){return arguments.length?(p=g,h):p},function(g){return c=g,i=g(t),a=g(e),o=g(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,h}}function QL(){var t=Pl(i1()(oi));return t.copy=function(){return Cl(t,QL())},ws.apply(t,arguments)}function eM(){var t=NS(i1()).domain([.1,1,10]);return t.copy=function(){return Cl(t,eM()).base(t.base())},ws.apply(t,arguments)}function tM(){var t=TS(i1());return t.copy=function(){return Cl(t,tM()).constant(t.constant())},ws.apply(t,arguments)}function FS(){var t=PS(i1());return t.copy=function(){return Cl(t,FS()).exponent(t.exponent())},ws.apply(t,arguments)}function Roe(){return FS.apply(null,arguments).exponent(.5)}const oC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tp,scaleDiverging:QL,scaleDivergingLog:eM,scaleDivergingPow:FS,scaleDivergingSqrt:Roe,scaleDivergingSymlog:tM,scaleIdentity:jL,scaleImplicit:T2,scaleLinear:Sv,scaleLog:LL,scaleOrdinal:xS,scalePoint:Bh,scalePow:CS,scaleQuantile:$L,scaleQuantize:FL,scaleRadial:DL,scaleSequential:JL,scaleSequentialLog:YL,scaleSequentialPow:$S,scaleSequentialQuantile:ZL,scaleSequentialSqrt:joe,scaleSequentialSymlog:XL,scaleSqrt:pae,scaleSymlog:ML,scaleThreshold:UL,scaleTime:Ioe,scaleUtc:Ooe,tickFormat:OL},Symbol.toStringTag,{value:"Module"}));var Loe=ff;function Moe(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!Loe(o):n(o,s)))var s=o,l=a}return l}var a1=Moe;function Doe(t,e){return t>e}var nM=Doe,$oe=a1,Foe=nM,Uoe=bf;function Boe(t){return t&&t.length?$oe(t,Uoe,Foe):void 0}var qoe=Boe;const o1=sn(qoe);function Voe(t,e){return t<e}var rM=Voe,zoe=a1,Hoe=rM,Goe=bf;function Woe(t){return t&&t.length?zoe(t,Goe,Hoe):void 0}var Koe=Woe;const s1=sn(Koe);var Joe=Q5,Yoe=Po,Xoe=dL,Zoe=_i;function Qoe(t,e){var n=Zoe(t)?Joe:Xoe;return n(t,Yoe(e))}var ese=Qoe,tse=uL,nse=ese;function rse(t,e){return tse(nse(t,e),1)}var ise=rse;const ase=sn(ise);var ose=pS;function sse(t,e){return ose(t,e)}var lse=sse;const xm=sn(lse);var _f=1e9,use={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},BS,kn=!0,ba="[DecimalError] ",Iu=ba+"Invalid argument: ",US=ba+"Exponent out of range: ",Sf=Math.floor,fu=Math.pow,cse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ui,Ar=1e7,En=7,iM=9007199254740991,Tv=Sf(iM/En),Ke={};Ke.absoluteValue=Ke.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ke.comparedTo=Ke.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ke.decimalPlaces=Ke.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*En;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ke.dividedBy=Ke.div=function(t){return os(this,new this.constructor(t))};Ke.dividedToIntegerBy=Ke.idiv=function(t){var e=this,n=e.constructor;return hn(os(e,new n(t),0,1),n.precision)};Ke.equals=Ke.eq=function(t){return!this.cmp(t)};Ke.exponent=function(){return lr(this)};Ke.greaterThan=Ke.gt=function(t){return this.cmp(t)>0};Ke.greaterThanOrEqualTo=Ke.gte=function(t){return this.cmp(t)>=0};Ke.isInteger=Ke.isint=function(){return this.e>this.d.length-2};Ke.isNegative=Ke.isneg=function(){return this.s<0};Ke.isPositive=Ke.ispos=function(){return this.s>0};Ke.isZero=function(){return this.s===0};Ke.lessThan=Ke.lt=function(t){return this.cmp(t)<0};Ke.lessThanOrEqualTo=Ke.lte=function(t){return this.cmp(t)<1};Ke.logarithm=Ke.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ui))throw Error(ba+"NaN");if(n.s<1)throw Error(ba+(n.s?"NaN":"-Infinity"));return n.eq(Ui)?new r(0):(kn=!1,e=os(Op(n,a),Op(t,a),a),kn=!0,hn(e,i))};Ke.minus=Ke.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sM(e,t):aM(e,(t.s=-t.s,t))};Ke.modulo=Ke.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ba+"NaN");return n.s?(kn=!1,e=os(n,t,0,1).times(t),kn=!0,n.minus(e)):hn(new r(n),i)};Ke.naturalExponential=Ke.exp=function(){return oM(this)};Ke.naturalLogarithm=Ke.ln=function(){return Op(this)};Ke.negated=Ke.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ke.plus=Ke.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?aM(e,t):sM(e,(t.s=-t.s,t))};Ke.precision=Ke.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Iu+t);if(e=lr(i)+1,r=i.d.length-1,n=r*En+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ke.squareRoot=Ke.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ba+"NaN")}for(t=lr(s),kn=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=ho(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Sf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(os(s,a,o+2)).times(.5),ho(a.d).slice(0,o)===(e=ho(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(hn(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return kn=!0,hn(r,n)};Ke.times=Ke.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,f=c.constructor,p=c.d,h=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=p.length,u=h.length,l<u&&(a=p,p=h,h=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+h[r]*p[i-r-1]+e,a[i--]=s%Ar|0,e=s/Ar|0;a[i]=(a[i]+e)%Ar|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,kn?hn(t,f.precision):t};Ke.toDecimalPlaces=Ke.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Eo(t,0,_f),e===void 0?e=r.rounding:Eo(e,0,8),hn(n,t+lr(n)+1,e))};Ke.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=qu(r,!0):(Eo(t,0,_f),e===void 0?e=i.rounding:Eo(e,0,8),r=hn(new i(r),t+1,e),n=qu(r,!0,t+1)),n};Ke.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?qu(i):(Eo(t,0,_f),e===void 0?e=a.rounding:Eo(e,0,8),r=hn(new a(i),t+lr(i)+1,e),n=qu(r.abs(),!1,t+lr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ke.toInteger=Ke.toint=function(){var t=this,e=t.constructor;return hn(new e(t),lr(t)+1,e.rounding)};Ke.toNumber=function(){return+this};Ke.toPower=Ke.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Ui);if(s=new l(s),!s.s){if(t.s<1)throw Error(ba+"Infinity");return s}if(s.eq(Ui))return s;if(r=l.precision,t.eq(Ui))return hn(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=iM){for(i=new l(Ui),e=Math.ceil(r/En+4),kn=!1;n%2&&(i=i.times(s),lC(i.d,e)),n=Sf(n/2),n!==0;)s=s.times(s),lC(s.d,e);return kn=!0,t.s<0?new l(Ui).div(i):hn(i,r)}}else if(a<0)throw Error(ba+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,kn=!1,i=t.times(Op(s,r+u)),kn=!0,i=oM(i),i.s=a,i};Ke.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=lr(i),r=qu(i,n<=a.toExpNeg||n>=a.toExpPos)):(Eo(t,1,_f),e===void 0?e=a.rounding:Eo(e,0,8),i=hn(new a(i),t,e),n=lr(i),r=qu(i,t<=n||n<=a.toExpNeg,t)),r};Ke.toSignificantDigits=Ke.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Eo(t,1,_f),e===void 0?e=r.rounding:Eo(e,0,8)),hn(new r(n),t,e)};Ke.toString=Ke.valueOf=Ke.val=Ke.toJSON=Ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=lr(t),n=t.constructor;return qu(t,e<=n.toExpNeg||e>=n.toExpPos)};function aM(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),kn?hn(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(f/En),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/Ar|0,l[a]%=Ar;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,kn?hn(e,f):e}function Eo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Iu+t)}function ho(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=En-r.length,n&&(a+=Ks(n)),a+=r;o=t[e],r=o+"",n=En-r.length,n&&(a+=Ks(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var os=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Ar|0,o=a/Ar|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Ar+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,f,p,h,y,g,x,v,w,_,A,S,N,C,I,R=r.constructor,U=r.s==i.s?1:-1,P=r.d,O=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(ba+"Division by zero");for(l=r.e-i.e,C=O.length,S=P.length,h=new R(U),y=h.d=[],u=0;O[u]==(P[u]||0);)++u;if(O[u]>(P[u]||0)&&--l,a==null?w=a=R.precision:o?w=a+(lr(r)-lr(i))+1:w=a,w<0)return new R(0);if(w=w/En+2|0,u=0,C==1)for(c=0,O=O[0],w++;(u<S||c)&&w--;u++)_=c*Ar+(P[u]||0),y[u]=_/O|0,c=_%O|0;else{for(c=Ar/(O[0]+1)|0,c>1&&(O=t(O,c),P=t(P,c),C=O.length,S=P.length),A=C,g=P.slice(0,C),x=g.length;x<C;)g[x++]=0;I=O.slice(),I.unshift(0),N=O[0],O[1]>=Ar/2&&++N;do c=0,s=e(O,g,C,x),s<0?(v=g[0],C!=x&&(v=v*Ar+(g[1]||0)),c=v/N|0,c>1?(c>=Ar&&(c=Ar-1),f=t(O,c),p=f.length,x=g.length,s=e(f,g,p,x),s==1&&(c--,n(f,C<p?I:O,p))):(c==0&&(s=c=1),f=O.slice()),p=f.length,p<x&&f.unshift(0),n(g,f,x),s==-1&&(x=g.length,s=e(O,g,C,x),s<1&&(c++,n(g,C<x?I:O,x))),x=g.length):s===0&&(c++,g=[0]),y[u++]=c,s&&g[0]?g[x++]=P[A]||0:(g=[P[A]],x=1);while((A++<S||g[0]!==void 0)&&w--)}return y[0]||y.shift(),h.e=l,hn(h,o?a+lr(h)+1:a)}}();function oM(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if(lr(t)>16)throw Error(US+lr(t));if(!t.s)return new c(Ui);for(kn=!1,s=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(fu(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(Ui),c.precision=s;;){if(i=hn(i.times(t),s),n=n.times(++l),o=a.plus(os(i,n,s)),ho(o.d).slice(0,s)===ho(a.d).slice(0,s)){for(;u--;)a=hn(a.times(a),s);return c.precision=f,e==null?(kn=!0,hn(a,f)):a}a=o}}function lr(t){for(var e=t.e*En,n=t.d[0];n>=10;n/=10)e++;return e}function ob(t,e,n){if(e>t.LN10.sd())throw kn=!0,n&&(t.precision=n),Error(ba+"LN10 precision limit exceeded");return hn(new t(t.LN10),e)}function Ks(t){for(var e="";t--;)e+="0";return e}function Op(t,e){var n,r,i,a,o,s,l,u,c,f=1,p=10,h=t,y=h.d,g=h.constructor,x=g.precision;if(h.s<1)throw Error(ba+(h.s?"NaN":"-Infinity"));if(h.eq(Ui))return new g(0);if(e==null?(kn=!1,u=x):u=e,h.eq(10))return e==null&&(kn=!0),ob(g,u);if(u+=p,g.precision=u,n=ho(y),r=n.charAt(0),a=lr(h),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=ho(h.d),r=n.charAt(0),f++;a=lr(h),r>1?(h=new g("0."+n),a++):h=new g(r+"."+n.slice(1))}else return l=ob(g,u+2,x).times(a+""),h=Op(new g(r+"."+n.slice(1)),u-p).plus(l),g.precision=x,e==null?(kn=!0,hn(h,x)):h;for(s=o=h=os(h.minus(Ui),h.plus(Ui),u),c=hn(h.times(h),u),i=3;;){if(o=hn(o.times(c),u),l=s.plus(os(o,new g(i),u)),ho(l.d).slice(0,u)===ho(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(ob(g,u+2,x).times(a+""))),s=os(s,new g(f),u),g.precision=x,e==null?(kn=!0,hn(s,x)):s;s=l,i+=2}}function sC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Sf(n/En),t.d=[],r=(n+1)%En,n<0&&(r+=En),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=En;r<i;)t.d.push(+e.slice(r,r+=En));e=e.slice(r),r=En-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),kn&&(t.e>Tv||t.e<-Tv))throw Error(US+n)}else t.s=0,t.e=0,t.d=[0];return t}function hn(t,e,n){var r,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=En,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/En),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;r%=En,i=r-En+o}if(n!==void 0&&(a=fu(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/fu(10,o-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=lr(t),f.length=1,e=e-a-1,f[0]=fu(10,(En-e%En)%En),t.e=Sf(-e/En)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=fu(10,En-r),f[c]=i>0?(u/fu(10,o-i)%fu(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==Ar&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=Ar)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(kn&&(t.e>Tv||t.e<-Tv))throw Error(US+lr(t));return t}function sM(t,e){var n,r,i,a,o,s,l,u,c,f,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),kn?hn(e,h):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(h/En),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Ar-1;--l[a],l[i]+=Ar}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,kn?hn(e,h):e):new p(0)}function qu(t,e,n){var r,i=lr(t),a=ho(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ks(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ks(-i-1)+a,n&&(r=n-o)>0&&(a+=Ks(r))):i>=o?(a+=Ks(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ks(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ks(r))),t.s<0?"-"+a:a}function lC(t,e){if(t.length>e)return t.length=e,!0}function lM(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Iu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return sC(o,a.toString())}else if(typeof a!="string")throw Error(Iu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,cse.test(a))sC(o,a);else throw Error(Iu+a)}if(i.prototype=Ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lM,i.config=i.set=dse,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function dse(t){if(!t||typeof t!="object")throw Error(ba+"Object expected");var e,n,r,i=["precision",1,_f,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Sf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Iu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Iu+n+": "+r);return this}var BS=lM(use);Ui=new BS(1);const un=BS;function fse(t){return gse(t)||mse(t)||pse(t)||hse()}function hse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pse(t,e){if(t){if(typeof t=="string")return I2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I2(t,e)}}function mse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function gse(t){if(Array.isArray(t))return I2(t)}function I2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yse=function(e){return e},uM={},cM=function(e){return e===uM},uC=function(e){return function n(){return arguments.length===0||arguments.length===1&&cM(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},vse=function t(e,n){return e===1?n:uC(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==uM}).length;return o>=e?n.apply(void 0,i):t(e-o,uC(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return cM(f)?l.shift():f});return n.apply(void 0,fse(c).concat(l))}))})},l1=function(e){return vse(e.length,e)},O2=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},xse=l1(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),bse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return yse;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},j2=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},dM=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function wse(t){var e;return t===0?e=1:e=Math.floor(new un(t).abs().log(10).toNumber())+1,e}function _se(t,e,n){for(var r=new un(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Sse=l1(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Ase=l1(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Ese=l1(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const u1={rangeStep:_se,getDigitCount:wse,interpolateNumber:Sse,uninterpolateNumber:Ase,uninterpolateTruncation:Ese};function R2(t){return Pse(t)||Tse(t)||fM(t)||Nse()}function Nse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Pse(t){if(Array.isArray(t))return L2(t)}function jp(t,e){return Ise(t)||kse(t,e)||fM(t,e)||Cse()}function Cse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fM(t,e){if(t){if(typeof t=="string")return L2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L2(t,e)}}function L2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kse(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Ise(t){if(Array.isArray(t))return t}function hM(t){var e=jp(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function pM(t,e,n){if(t.lte(0))return new un(0);var r=u1.getDigitCount(t.toNumber()),i=new un(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new un(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new un(Math.ceil(l))}function Ose(t,e,n){var r=1,i=new un(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new un(10).pow(u1.getDigitCount(t)-1),i=new un(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new un(Math.floor(t)))}else t===0?i=new un(Math.floor((e-1)/2)):n||(i=new un(Math.floor(t)));var o=Math.floor((e-1)/2),s=bse(xse(function(l){return i.add(new un(l-o).mul(r)).toNumber()}),O2);return s(0,e)}function mM(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new un(0),tickMin:new un(0),tickMax:new un(0)};var a=pM(new un(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new un(0):(o=new un(t).add(e).div(2),o=o.sub(new un(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new un(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?mM(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new un(s).mul(a)),tickMax:o.add(new un(l).mul(a))})}function jse(t){var e=jp(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=hM([n,r]),l=jp(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(R2(O2(0,i-1).map(function(){return 1/0}))):[].concat(R2(O2(0,i-1).map(function(){return-1/0})),[c]);return n>r?j2(f):f}if(u===c)return Ose(u,i,a);var p=mM(u,c,o,a),h=p.step,y=p.tickMin,g=p.tickMax,x=u1.rangeStep(y,g.add(new un(.1).mul(h)),h);return n>r?j2(x):x}function Rse(t,e){var n=jp(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=hM([r,i]),s=jp(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=pM(new un(u).sub(l).div(c-1),a,0),p=[].concat(R2(u1.rangeStep(new un(l),new un(u).sub(new un(.99).mul(f)),f)),[u]);return r>i?j2(p):p}var Lse=dM(jse),Mse=dM(Rse),Dse="Invariant failed";function Vu(t,e){throw new Error(Dse)}var $se=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(this,arguments)}function Fse(t,e){return Vse(t)||qse(t,e)||Bse(t,e)||Use()}function Use(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bse(t,e){if(t){if(typeof t=="string")return cC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cC(t,e)}}function cC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Vse(t){if(Array.isArray(t))return t}function zse(t,e){if(t==null)return{};var n=Hse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vM(r.key),r)}}function Kse(t,e,n){return e&&Wse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jse(t,e,n){return e=Cv(e),Yse(t,gM()?Reflect.construct(e,n||[],Cv(t).constructor):e.apply(t,n))}function Yse(t,e){if(e&&(Dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xse(t)}function Xse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gM=function(){return!!t})()}function Cv(t){return Cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cv(t)}function Zse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M2(t,e)}function M2(t,e){return M2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M2(t,e)}function yM(t,e,n){return e=vM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vM(t){var e=Qse(t,"string");return Dd(e)=="symbol"?e:e+""}function Qse(t,e){if(Dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bm=function(t){function e(){return Gse(this,e),Jse(this,e,arguments)}return Zse(e,t),Kse(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,p=zse(r,$se),h=pt(p,!1);this.props.direction==="x"&&c.type!=="number"&&Vu();var y=l.map(function(g){var x=u(g,s),v=x.x,w=x.y,_=x.value,A=x.errorVal;if(!A)return null;var S=[],N,C;if(Array.isArray(A)){var I=Fse(A,2);N=I[0],C=I[1]}else N=C=A;if(a==="vertical"){var R=c.scale,U=w+i,P=U+o,O=U-o,D=R(_-N),L=R(_+C);S.push({x1:L,y1:P,x2:L,y2:O}),S.push({x1:D,y1:U,x2:L,y2:U}),S.push({x1:D,y1:P,x2:D,y2:O})}else if(a==="horizontal"){var B=f.scale,J=v+i,H=J-o,M=J+o,X=B(_-N),oe=B(_+C);S.push({x1:H,y1:oe,x2:M,y2:oe}),S.push({x1:J,y1:X,x2:J,y2:oe}),S.push({x1:H,y1:X,x2:M,y2:X})}return le.createElement(Wt,Pv({className:"recharts-errorBar",key:"bar-".concat(S.map(function(ie){return"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))},h),S.map(function(ie){return le.createElement("line",Pv({},ie,{key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))}))});return le.createElement(Wt,{className:"recharts-errorBars"},y)}}])}(le.Component);yM(bm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});yM(bm,"displayName","ErrorBar");function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}function dC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(n),!0).forEach(function(r){ele(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ele(t,e,n){return e=tle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tle(t){var e=nle(t,"string");return Rp(e)=="symbol"?e:e+""}function nle(t,e){if(Rp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xM=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Mi(n,wo);if(!o)return null;var s=wo.defaultProps,l=s!==void 0?iu(iu({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,f){var p=f.item,h=f.props,y=h.sectors||h.data||[];return c.concat(y.map(function(g){return{type:o.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(c){var f=c.item,p=f.type.defaultProps,h=p!==void 0?iu(iu({},p),f.props):{},y=h.dataKey,g=h.name,x=h.legendType,v=h.hide;return{inactive:v,dataKey:y,type:l.iconType||x||"square",color:qS(f),value:g||y,payload:h}}),iu(iu(iu({},l),wo.getWithHeight(o,i)),{},{payload:u,item:o})};function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function fC(t){return ole(t)||ale(t)||ile(t)||rle()}function rle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ile(t,e){if(t){if(typeof t=="string")return D2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D2(t,e)}}function ale(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ole(t){if(Array.isArray(t))return D2(t)}function D2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(n),!0).forEach(function(r){cd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cd(t,e,n){return e=sle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sle(t){var e=lle(t,"string");return Lp(e)=="symbol"?e:e+""}function lle(t,e){if(Lp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vr(t,e,n){return It(t)||It(e)?n:br(e)?zi(t,e,n):_t(e)?e(t):n}function qh(t,e,n,r){var i=ase(t,function(s){return vr(s,e)});if(n==="number"){var a=i.filter(function(s){return Fe(s)||parseFloat(s)});return a.length?[s1(a),o1(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!It(s)}):i;return o.map(function(s){return br(s)||s instanceof Date?s:""})}var ule=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,p=u>=s-1?i[0].coordinate:i[u+1].coordinate,h=void 0;if(ii(f-c)!==ii(p-f)){var y=[];if(ii(p-f)===ii(l[1]-l[0])){h=p;var g=f+l[1]-l[0];y[0]=Math.min(g,(g+c)/2),y[1]=Math.max(g,(g+c)/2)}else{h=c;var x=p+l[1]-l[0];y[0]=Math.min(f,(x+f)/2),y[1]=Math.max(f,(x+f)/2)}var v=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>v[0]&&e<=v[1]||e>=y[0]&&e<=y[1]){o=i[u].index;break}}else{var w=Math.min(c,p),_=Math.max(c,p);if(e>(w+f)/2&&e<=(_+f)/2){o=i[u].index;break}}}else for(var A=0;A<s;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<s-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===s-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){o=r[A].index;break}return o},qS=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Vn(Vn({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},cle=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),p=0,h=f.length;p<h;p++){var y=c[f[p]],g=y.items,x=y.cateAxisId,v=g.filter(function(C){return as(C.type).indexOf("Bar")>=0});if(v&&v.length){var w=v[0].type.defaultProps,_=w!==void 0?Vn(Vn({},w),v[0].props):v[0].props,A=_.barSize,S=_[x];o[S]||(o[S]=[]);var N=It(A)?n:A;o[S].push({item:v[0],stackList:v.slice(1),barSize:It(N)?void 0:ai(N,r,0)})}}return o},dle=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=ai(n,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,h=i/l,y=o.reduce(function(A,S){return A+S.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&h>0&&(p=!0,h*=.9,y=l*h);var g=(i-y)/2>>0,x={offset:g-u,size:0};c=o.reduce(function(A,S){var N={item:S.item,position:{offset:x.offset+x.size+u,size:p?h:S.barSize}},C=[].concat(fC(A),[N]);return x=C[C.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(I){C.push({item:I,position:x})}),C},f)}else{var v=ai(r,i,0,!0);i-2*v-(l-1)*u<=0&&(u=0);var w=(i-2*v-(l-1)*u)/l;w>1&&(w>>=0);var _=s===+s?Math.min(w,s):w;c=o.reduce(function(A,S,N){var C=[].concat(fC(A),[{item:S.item,position:{offset:v+(w+u)*N+(w-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(I){C.push({item:I,position:C[C.length-1].position})}),C},f)}return c},fle=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=xM({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,p=c.height,h=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&h!=="center"&&Fe(e[h]))return Vn(Vn({},e),{},cd({},h,e[h]+(f||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&y!=="middle"&&Fe(e[y]))return Vn(Vn({},e),{},cd({},y,e[y]+(p||0)))}return e},hle=function(e,n,r){return It(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},bM=function(e,n,r,i,a){var o=n.props.children,s=Hi(o,bm).filter(function(u){return hle(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=vr(c,r);if(It(f))return u;var p=Array.isArray(f)?[s1(f),o1(f)]:[f,f],h=l.reduce(function(y,g){var x=vr(c,g,0),v=p[0]-Math.abs(Array.isArray(x)?x[0]:x),w=p[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(v,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},ple=function(e,n,r,i,a){var o=n.map(function(s){return bM(e,s,r,a,i)}).filter(function(s){return!It(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},wM=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&bM(e,l,u,i)||qh(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},_M=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},SM=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},rs=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ii(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var p=a?a.indexOf(f):f;return{coordinate:i(p)+u,value:f,offset:u}});return c.filter(function(f){return!dm(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:i(f)+u,value:f,index:p,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,p){return{coordinate:i(f)+u,value:a?a[f]:f,index:p,offset:u}})},sb=new WeakMap,Fg=function(e,n){if(typeof n!="function")return e;sb.has(e)||sb.set(e,new WeakMap);var r=sb.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},AM=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Tp(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Sv(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Bh(),realScaleType:"point"}:a==="category"?{scale:Tp(),realScaleType:"band"}:{scale:Sv(),realScaleType:"linear"};if(Fu(i)){var l="scale".concat(G0(i));return{scale:(oC[l]||Bh)(),realScaleType:oC[l]?l:"point"}}return _t(i)?{scale:i}:{scale:Bh(),realScaleType:"point"}},pC=1e-4,EM=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-pC,o=Math.max(i[0],i[1])+pC,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},mle=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},gle=function(e,n){if(!n||n.length!==2||!Fe(n[0])||!Fe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Fe(e[0])||e[0]<r)&&(a[0]=r),(!Fe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},yle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=dm(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},vle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=dm(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},xle={sign:yle,expand:$K,none:Cd,silhouette:FK,wiggle:UK,positive:vle},ble=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=xle[r],o=DK().keys(i).value(function(s,l){return+vr(s,l,0)}).order(l2).offset(a);return o(e)},wle=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,p){var h,y=(h=p.type)!==null&&h!==void 0&&h.defaultProps?Vn(Vn({},p.type.defaultProps),p.props):p.props,g=y.stackId,x=y.hide;if(x)return f;var v=y[r],w=f[v]||{hasStack:!1,stackGroups:{}};if(br(g)){var _=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(p),w.hasStack=!0,w.stackGroups[g]=_}else w.stackGroups[yf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return Vn(Vn({},f),{},cd({},v,w))},l),c={};return Object.keys(u).reduce(function(f,p){var h=u[p];if(h.hasStack){var y={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,x){var v=h.stackGroups[x];return Vn(Vn({},g),{},cd({},x,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:ble(e,v.items,a)}))},y)}return Vn(Vn({},f),{},cd({},p,h))},c)},NM=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Lse(u,a,s);return e.domain([s1(c),o1(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),p=Mse(f,a,s);return{niceTicks:p}}return null};function mC(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!It(i[e.dataKey])){var s=nv(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=vr(i,It(o)?e.dataKey:o);return It(l)?null:e.scale(l)}var gC=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=vr(o,n.dataKey,n.domain[s]);return It(l)?null:n.scale(l)-a/2+i},_le=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Sle=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Vn(Vn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(br(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},Ale=function(e){return e.reduce(function(n,r){return[s1(r.concat([n[0]]).filter(Fe)),o1(r.concat([n[1]]).filter(Fe))]},[1/0,-1/0])},TM=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=Ale(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},yC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$2=function(e,n,r){if(_t(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Fe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(yC.test(e[0])){var a=+yC.exec(e[0])[1];i[0]=n[0]-a}else _t(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Fe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(vC.test(e[1])){var o=+vC.exec(e[1])[1];i[1]=n[1]+o}else _t(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},kv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=gS(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},xC=function(e,n,r){return!e||!e.length||xm(e,zi(r,"type.defaultProps.domain"))?n:e},PM=function(e,n){var r=e.type.defaultProps?Vn(Vn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Vn(Vn({},pt(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:qS(e),value:vr(n,i),type:l,payload:n,chartType:u,hide:c})};function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}function bC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(n),!0).forEach(function(r){CM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CM(t,e,n){return e=Ele(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ele(t){var e=Nle(t,"string");return Mp(e)=="symbol"?e:e+""}function Nle(t,e){if(Mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tle(t,e){return Ile(t)||kle(t,e)||Cle(t,e)||Ple()}function Ple(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cle(t,e){if(t){if(typeof t=="string")return wC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wC(t,e)}}function wC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Ile(t){if(Array.isArray(t))return t}var Iv=Math.PI/180,Ole=function(e){return e*180/Math.PI},wn=function(e,n,r,i){return{x:e+Math.cos(-Iv*i)*r,y:n+Math.sin(-Iv*i)*r}},kM=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},jle=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=ai(e.cx,o,o/2),f=ai(e.cy,s,s/2),p=kM(o,s,r),h=ai(e.innerRadius,p,0),y=ai(e.outerRadius,p,p*.8),g=Object.keys(n);return g.reduce(function(x,v){var w=n[v],_=w.domain,A=w.reversed,S;if(It(w.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[h,y]),A&&(S=[S[1],S[0]]);else{S=w.range;var N=S,C=Tle(N,2);l=C[0],u=C[1]}var I=AM(w,a),R=I.realScaleType,U=I.scale;U.domain(_).range(S),EM(U);var P=NM(U,Jo(Jo({},w),{},{realScaleType:R})),O=Jo(Jo(Jo({},w),P),{},{range:S,radius:y,realScaleType:R,scale:U,cx:c,cy:f,innerRadius:h,outerRadius:y,startAngle:l,endAngle:u});return Jo(Jo({},x),{},CM({},v,O))},{})},Rle=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Lle=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=Rle({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Ole(u),angleInRadian:u}},Mle=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},Dle=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},_C=function(e,n){var r=e.x,i=e.y,a=Lle({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=Mle(n),f=c.startAngle,p=c.endAngle,h=s,y;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;y=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;y=h>=p&&h<=f}return y?Jo(Jo({},n),{},{radius:o,angle:Dle(h,n)}):null},IM=function(e){return!K.isValidElement(e)&&!_t(e)&&typeof e!="boolean"?e.className:""};function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}var $le=["offset"];function Fle(t){return Vle(t)||qle(t)||Ble(t)||Ule()}function Ule(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ble(t,e){if(t){if(typeof t=="string")return F2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F2(t,e)}}function qle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vle(t){if(Array.isArray(t))return F2(t)}function F2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zle(t,e){if(t==null)return{};var n=Hle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function SC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SC(Object(n),!0).forEach(function(r){Gle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gle(t,e,n){return e=Wle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wle(t){var e=Kle(t,"string");return Dp(e)=="symbol"?e:e+""}function Kle(t,e){if(Dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$p.apply(this,arguments)}var Jle=function(e){var n=e.value,r=e.formatter,i=It(e.children)?n:e.children;return _t(r)?r(i):i},Yle=function(e,n){var r=ii(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Xle=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,p=l.outerRadius,h=l.startAngle,y=l.endAngle,g=l.clockWise,x=(f+p)/2,v=Yle(h,y),w=v>=0?1:-1,_,A;i==="insideStart"?(_=h+w*o,A=g):i==="insideEnd"?(_=y-w*o,A=!g):i==="end"&&(_=y+w*o,A=g),A=v<=0?A:!A;var S=wn(u,c,x,_),N=wn(u,c,x,_+(A?1:-1)*359),C="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(A?0:1,`,
    `).concat(N.x,",").concat(N.y),I=It(e.id)?yf("recharts-radial-line-"):e.id;return le.createElement("text",$p({},r,{dominantBaseline:"central",className:Lt("recharts-radial-bar-label",s)}),le.createElement("defs",null,le.createElement("path",{id:I,d:C})),le.createElement("textPath",{xlinkHref:"#".concat(I)},n))},Zle=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,p=(c+f)/2;if(i==="outside"){var h=wn(o,s,u+r,p),y=h.x,g=h.y;return{x:y,y:g,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,v=wn(o,s,x,p),w=v.x,_=v.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Qle=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,p=f*i,h=f>0?"end":"start",y=f>0?"start":"end",g=u>=0?1:-1,x=g*i,v=g>0?"end":"start",w=g>0?"start":"end";if(a==="top"){var _={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return mr(mr({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var A={x:s+u/2,y:l+c+p,textAnchor:"middle",verticalAnchor:y};return mr(mr({},A),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var S={x:s-x,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return mr(mr({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(a==="right"){var N={x:s+u+x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return mr(mr({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:c}:{})}var C=r?{width:u,height:c}:{};return a==="insideLeft"?mr({x:s+x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},C):a==="insideRight"?mr({x:s+u-x,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},C):a==="insideTop"?mr({x:s+u/2,y:l+p,textAnchor:"middle",verticalAnchor:y},C):a==="insideBottom"?mr({x:s+u/2,y:l+c-p,textAnchor:"middle",verticalAnchor:h},C):a==="insideTopLeft"?mr({x:s+x,y:l+p,textAnchor:w,verticalAnchor:y},C):a==="insideTopRight"?mr({x:s+u-x,y:l+p,textAnchor:v,verticalAnchor:y},C):a==="insideBottomLeft"?mr({x:s+x,y:l+c-p,textAnchor:w,verticalAnchor:h},C):a==="insideBottomRight"?mr({x:s+u-x,y:l+c-p,textAnchor:v,verticalAnchor:h},C):hf(a)&&(Fe(a.x)||Su(a.x))&&(Fe(a.y)||Su(a.y))?mr({x:s+ai(a.x,u),y:l+ai(a.y,c),textAnchor:"end",verticalAnchor:"end"},C):mr({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},C)},eue=function(e){return"cx"in e&&Fe(e.cx)};function Tr(t){var e=t.offset,n=e===void 0?5:e,r=zle(t,$le),i=mr({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,p=i.textBreakAll;if(!a||It(s)&&It(l)&&!K.isValidElement(u)&&!_t(u))return null;if(K.isValidElement(u))return K.cloneElement(u,i);var h;if(_t(u)){if(h=K.createElement(u,i),K.isValidElement(h))return h}else h=Jle(i);var y=eue(a),g=pt(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Xle(i,h,g);var x=y?Zle(i):Qle(i);return le.createElement(Bu,$p({className:Lt("recharts-label",f)},g,x,{breakAll:p}),h)}Tr.displayName="Label";var OM=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,p=e.y,h=e.top,y=e.left,g=e.width,x=e.height,v=e.clockWise,w=e.labelViewBox;if(w)return w;if(Fe(g)&&Fe(x)){if(Fe(f)&&Fe(p))return{x:f,y:p,width:g,height:x};if(Fe(h)&&Fe(y))return{x:h,y,width:g,height:x}}return Fe(f)&&Fe(p)?{x:f,y:p,width:0,height:0}:Fe(n)&&Fe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},tue=function(e,n){return e?e===!0?le.createElement(Tr,{key:"label-implicit",viewBox:n}):br(e)?le.createElement(Tr,{key:"label-implicit",viewBox:n,value:e}):K.isValidElement(e)?e.type===Tr?K.cloneElement(e,{key:"label-implicit",viewBox:n}):le.createElement(Tr,{key:"label-implicit",content:e,viewBox:n}):_t(e)?le.createElement(Tr,{key:"label-implicit",content:e,viewBox:n}):hf(e)?le.createElement(Tr,$p({viewBox:n},e,{key:"label-implicit"})):null:null},nue=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=OM(e),o=Hi(i,Tr).map(function(l,u){return K.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=tue(e.label,n||a);return[s].concat(Fle(o))};Tr.parseViewBox=OM;Tr.renderCallByParent=nue;function rue(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var iue=rue;const aue=sn(iue);function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}var oue=["valueAccessor"],sue=["data","dataKey","clockWise","id","textBreakAll"];function lue(t){return fue(t)||due(t)||cue(t)||uue()}function uue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cue(t,e){if(t){if(typeof t=="string")return U2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U2(t,e)}}function due(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fue(t){if(Array.isArray(t))return U2(t)}function U2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ov.apply(this,arguments)}function AC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AC(Object(n),!0).forEach(function(r){hue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hue(t,e,n){return e=pue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pue(t){var e=mue(t,"string");return Fp(e)=="symbol"?e:e+""}function mue(t,e){if(Fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NC(t,e){if(t==null)return{};var n=gue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yue=function(e){return Array.isArray(e.value)?aue(e.value):e.value};function ss(t){var e=t.valueAccessor,n=e===void 0?yue:e,r=NC(t,oue),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=NC(r,sue);return!i||!i.length?null:le.createElement(Wt,{className:"recharts-label-list"},i.map(function(c,f){var p=It(a)?n(c,f):vr(c&&c.payload,a),h=It(s)?{}:{id:"".concat(s,"-").concat(f)};return le.createElement(Tr,Ov({},pt(c,!0),u,h,{parentViewBox:c.parentViewBox,value:p,textBreakAll:l,viewBox:Tr.parseViewBox(It(o)?c:EC(EC({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ss.displayName="LabelList";function vue(t,e){return t?t===!0?le.createElement(ss,{key:"labelList-implicit",data:e}):le.isValidElement(t)||_t(t)?le.createElement(ss,{key:"labelList-implicit",data:e,content:t}):hf(t)?le.createElement(ss,Ov({data:e},t,{key:"labelList-implicit"})):null:null}function xue(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Hi(r,ss).map(function(o,s){return K.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=vue(t.label,e);return[a].concat(lue(i))}ss.renderCallByParent=xue;function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function B2(){return B2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B2.apply(this,arguments)}function TC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TC(Object(n),!0).forEach(function(r){bue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bue(t,e,n){return e=wue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wue(t){var e=_ue(t,"string");return Up(e)=="symbol"?e:e+""}function _ue(t,e){if(Up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sue=function(e,n){var r=ii(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Ug=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/Iv,p=u?a:a+o*f,h=wn(n,r,c,p),y=wn(n,r,i,p),g=u?a-o*f:a,x=wn(n,r,c*Math.cos(f*Iv),g);return{center:h,circleTangency:y,lineTangency:x,theta:f}},jM=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Sue(o,s),u=o+l,c=wn(n,r,a,o),f=wn(n,r,a,u),p="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=wn(n,r,i,o),y=wn(n,r,i,u);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},Aue=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=ii(c-u),p=Ug({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),h=p.circleTangency,y=p.lineTangency,g=p.theta,x=Ug({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),v=x.circleTangency,w=x.lineTangency,_=x.theta,A=l?Math.abs(u-c):Math.abs(u-c)-g-_;if(A<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):jM({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var N=Ug({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),C=N.circleTangency,I=N.lineTangency,R=N.theta,U=Ug({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=U.circleTangency,O=U.lineTangency,D=U.theta,L=l?Math.abs(u-c):Math.abs(u-c)-R-D;if(L<0&&o===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},Eue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RM=function(e){var n=PC(PC({},Eue),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,p=n.className;if(o<a||c===f)return null;var h=Lt("recharts-sector",p),y=o-a,g=ai(s,y,0,!0),x;return g>0&&Math.abs(c-f)<360?x=Aue({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):x=jM({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),le.createElement("path",B2({},pt(n,!0),{className:h,d:x,role:"img"}))};function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function q2(){return q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q2.apply(this,arguments)}function CC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CC(Object(n),!0).forEach(function(r){Nue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nue(t,e,n){return e=Tue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tue(t){var e=Pue(t,"string");return Bp(e)=="symbol"?e:e+""}function Pue(t,e){if(Bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IC={curveBasisClosed:NK,curveBasisOpen:TK,curveBasis:EK,curveBumpX:dK,curveBumpY:fK,curveLinearClosed:PK,curveLinear:K0,curveMonotoneX:CK,curveMonotoneY:kK,curveNatural:IK,curveStep:OK,curveStepAfter:RK,curveStepBefore:jK},Bg=function(e){return e.x===+e.x&&e.y===+e.y},mh=function(e){return e.x},gh=function(e){return e.y},Cue=function(e,n){if(_t(e))return e;var r="curve".concat(G0(e));return(r==="curveMonotone"||r==="curveBump")&&n?IC["".concat(r).concat(n==="vertical"?"Y":"X")]:IC[r]||K0},kue=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Cue(r,s),f=u?a.filter(function(g){return Bg(g)}):a,p;if(Array.isArray(o)){var h=u?o.filter(function(g){return Bg(g)}):o,y=f.map(function(g,x){return kC(kC({},g),{},{base:h[x]})});return s==="vertical"?p=Ig().y(gh).x1(mh).x0(function(g){return g.base.x}):p=Ig().x(mh).y1(gh).y0(function(g){return g.base.y}),p.defined(Bg).curve(c),p(y)}return s==="vertical"&&Fe(o)?p=Ig().y(gh).x1(mh).x0(o):Fe(o)?p=Ig().x(mh).y1(gh).y0(o):p=PR().x(mh).y(gh),p.defined(Bg).curve(c),p(f)},jv=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?kue(e):i;return K.createElement("path",q2({},pt(e,!1),rv(e),{className:Lt("recharts-curve",n),d:o,ref:a}))},LM={exports:{}},Iue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Oue=Iue,jue=Oue;function MM(){}function DM(){}DM.resetWarningCache=MM;var Rue=function(){function t(r,i,a,o,s,l){if(l!==jue){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:DM,resetWarningCache:MM};return n.PropTypes=n,n};LM.exports=Rue();var Lue=LM.exports;const Qt=sn(Lue);var Mue=Object.getOwnPropertyNames,Due=Object.getOwnPropertySymbols,$ue=Object.prototype.hasOwnProperty;function OC(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function qg(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function Fue(t){return t!=null?t[Symbol.toStringTag]:void 0}function jC(t){return Mue(t).concat(Due(t))}var Uue=Object.hasOwn||function(t,e){return $ue.call(t,e)};function tc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Bue="__v",que="__o",Vue="_owner",RC=Object.getOwnPropertyDescriptor,LC=Object.keys;function zue(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Hue(t,e){return tc(t.getTime(),e.getTime())}function Gue(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Wue(t,e){return t===e}function MC(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var p=o.value,h=s.value;if(n.equals(p[0],h[0],l,f,t,e,n)&&n.equals(p[1],h[1],p[0],h[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var Kue=tc;function Jue(t,e,n){var r=LC(t),i=r.length;if(LC(e).length!==i)return!1;for(;i-- >0;)if(!$M(t,e,n,r[i]))return!1;return!0}function yh(t,e,n){var r=jC(t),i=r.length;if(jC(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!$M(t,e,n,a)||(o=RC(t,a),s=RC(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Yue(t,e){return tc(t.valueOf(),e.valueOf())}function Xue(t,e){return t.source===e.source&&t.flags===e.flags}function DC(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Zue(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Que(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function $M(t,e,n,r){return(r===Vue||r===que||r===Bue)&&(t.$$typeof||e.$$typeof)?!0:Uue(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var ece="[object Arguments]",tce="[object Boolean]",nce="[object Date]",rce="[object Error]",ice="[object Map]",ace="[object Number]",oce="[object Object]",sce="[object RegExp]",lce="[object Set]",uce="[object String]",cce="[object URL]",dce=Array.isArray,$C=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,FC=Object.assign,fce=Object.prototype.toString.call.bind(Object.prototype.toString);function hce(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,p=t.areUrlsEqual,h=t.unknownTagComparators;return function(g,x,v){if(g===x)return!0;if(g==null||x==null)return!1;var w=typeof g;if(w!==typeof x)return!1;if(w!=="object")return w==="number"?o(g,x,v):w==="function"?i(g,x,v):!1;var _=g.constructor;if(_!==x.constructor)return!1;if(_===Object)return s(g,x,v);if(dce(g))return e(g,x,v);if($C!=null&&$C(g))return f(g,x,v);if(_===Date)return n(g,x,v);if(_===RegExp)return u(g,x,v);if(_===Map)return a(g,x,v);if(_===Set)return c(g,x,v);var A=fce(g);if(A===nce)return n(g,x,v);if(A===sce)return u(g,x,v);if(A===ice)return a(g,x,v);if(A===lce)return c(g,x,v);if(A===oce)return typeof g.then!="function"&&typeof x.then!="function"&&s(g,x,v);if(A===cce)return p(g,x,v);if(A===rce)return r(g,x,v);if(A===ece)return s(g,x,v);if(A===tce||A===ace||A===uce)return l(g,x,v);if(h){var S=h[A];if(!S){var N=Fue(g);N&&(S=h[N])}if(S)return S(g,x,v)}return!1}}function pce(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?yh:zue,areDatesEqual:Hue,areErrorsEqual:Gue,areFunctionsEqual:Wue,areMapsEqual:r?OC(MC,yh):MC,areNumbersEqual:Kue,areObjectsEqual:r?yh:Jue,arePrimitiveWrappersEqual:Yue,areRegExpsEqual:Xue,areSetsEqual:r?OC(DC,yh):DC,areTypedArraysEqual:r?yh:Zue,areUrlsEqual:Que,unknownTagComparators:void 0};if(n&&(i=FC({},i,n(i))),e){var a=qg(i.areArraysEqual),o=qg(i.areMapsEqual),s=qg(i.areObjectsEqual),l=qg(i.areSetsEqual);i=FC({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function mce(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function gce(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,p=f===void 0?e?new WeakMap:void 0:f,h=c.meta;return n(l,u,{cache:p,equals:i,meta:h,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var yce=kl();kl({strict:!0});kl({circular:!0});kl({circular:!0,strict:!0});kl({createInternalComparator:function(){return tc}});kl({strict:!0,createInternalComparator:function(){return tc}});kl({circular:!0,createInternalComparator:function(){return tc}});kl({circular:!0,createInternalComparator:function(){return tc},strict:!0});function kl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=pce(t),l=hce(s),u=r?r(l):mce(l);return gce({circular:n,comparator:l,createState:i,equals:u,strict:o})}function vce(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function UC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):vce(i)};requestAnimationFrame(r)}function V2(t){"@babel/helpers - typeof";return V2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V2(t)}function xce(t){return Sce(t)||_ce(t)||wce(t)||bce()}function bce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wce(t,e){if(t){if(typeof t=="string")return BC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BC(t,e)}}function BC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sce(t){if(Array.isArray(t))return t}function Ace(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=xce(o),l=s[0],u=s.slice(1);if(typeof l=="number"){UC(i.bind(null,u),l);return}i(l),UC(i.bind(null,u));return}V2(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(n),!0).forEach(function(r){FM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FM(t,e,n){return e=Ece(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ece(t){var e=Nce(t,"string");return qp(e)==="symbol"?e:String(e)}function Nce(t,e){if(qp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tce=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Pce=function(e){return e},Cce=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Vh=function(e,n){return Object.keys(n).reduce(function(r,i){return VC(VC({},r),{},FM({},i,e(i,n[i])))},{})},zC=function(e,n,r){return e.map(function(i){return"".concat(Cce(i)," ").concat(n,"ms ").concat(r)}).join(",")};function kce(t,e){return jce(t)||Oce(t,e)||UM(t,e)||Ice()}function Ice(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function jce(t){if(Array.isArray(t))return t}function Rce(t){return Dce(t)||Mce(t)||UM(t)||Lce()}function Lce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UM(t,e){if(t){if(typeof t=="string")return z2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z2(t,e)}}function Mce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dce(t){if(Array.isArray(t))return z2(t)}function z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Rv=1e-4,BM=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},qM=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},HC=function(e,n){return function(r){var i=BM(e,n);return qM(i,r)}},$ce=function(e,n){return function(r){var i=BM(e,n),a=[].concat(Rce(i.map(function(o,s){return o*s}).slice(1)),[0]);return qM(a,r)}},GC=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=kce(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=HC(i,o),p=HC(a,s),h=$ce(i,o),y=function(v){return v>1?1:v<0?0:v},g=function(v){for(var w=v>1?1:v,_=w,A=0;A<8;++A){var S=f(_)-w,N=h(_);if(Math.abs(S-w)<Rv||N<Rv)return p(_);_=y(_-S/N)}return p(_)};return g.isStepper=!1,g},Fce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,p){var h=-(c-f)*r,y=p*a,g=p+(h-y)*s/1e3,x=p*s/1e3+c;return Math.abs(x-f)<Rv&&Math.abs(g)<Rv?[f,0]:[x,g]};return l.isStepper=!0,l.dt=s,l},Uce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return GC(i);case"spring":return Fce();default:if(i.split("(")[0]==="cubic-bezier")return GC(i)}return typeof i=="function"?i:null};function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function WC(t){return Vce(t)||qce(t)||VM(t)||Bce()}function Bce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vce(t){if(Array.isArray(t))return G2(t)}function KC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(n),!0).forEach(function(r){H2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H2(t,e,n){return e=zce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zce(t){var e=Hce(t,"string");return Vp(e)==="symbol"?e:String(e)}function Hce(t,e){if(Vp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gce(t,e){return Jce(t)||Kce(t,e)||VM(t,e)||Wce()}function Wce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VM(t,e){if(t){if(typeof t=="string")return G2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G2(t,e)}}function G2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Jce(t){if(Array.isArray(t))return t}var Lv=function(e,n,r){return e+(n-e)*r},W2=function(e){var n=e.from,r=e.to;return n!==r},Yce=function t(e,n,r){var i=Vh(function(a,o){if(W2(o)){var s=e(o.from,o.to,o.velocity),l=Gce(s,2),u=l[0],c=l[1];return Lr(Lr({},o),{},{from:u,velocity:c})}return o},n);return r<1?Vh(function(a,o){return W2(o)?Lr(Lr({},o),{},{velocity:Lv(o.velocity,i[a].velocity,r),from:Lv(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const Xce=function(t,e,n,r,i){var a=Tce(t,e),o=a.reduce(function(x,v){return Lr(Lr({},x),{},H2({},v,[t[v],e[v]]))},{}),s=a.reduce(function(x,v){return Lr(Lr({},x),{},H2({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,u,c,f=function(){return null},p=function(){return Vh(function(v,w){return w.from},s)},h=function(){return!Object.values(s).filter(W2).length},y=function(v){u||(u=v);var w=v-u,_=w/n.dt;s=Yce(n,s,_),i(Lr(Lr(Lr({},t),e),p())),u=v,h()||(l=requestAnimationFrame(f))},g=function(v){c||(c=v);var w=(v-c)/r,_=Vh(function(S,N){return Lv.apply(void 0,WC(N).concat([n(w)]))},o);if(i(Lr(Lr(Lr({},t),e),_)),w<1)l=requestAnimationFrame(f);else{var A=Vh(function(S,N){return Lv.apply(void 0,WC(N).concat([n(1)]))},o);i(Lr(Lr(Lr({},t),e),A))}};return f=n.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}var Zce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Qce(t,e){if(t==null)return{};var n=ede(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ede(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lb(t){return ide(t)||rde(t)||nde(t)||tde()}function tde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nde(t,e){if(t){if(typeof t=="string")return K2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K2(t,e)}}function rde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ide(t){if(Array.isArray(t))return K2(t)}function K2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(n),!0).forEach(function(r){Th(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Th(t,e,n){return e=zM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ade(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ode(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zM(r.key),r)}}function sde(t,e,n){return e&&ode(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zM(t){var e=lde(t,"string");return $d(e)==="symbol"?e:String(e)}function lde(t,e){if($d(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($d(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ude(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J2(t,e)}function J2(t,e){return J2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J2(t,e)}function cde(t){var e=dde();return function(){var r=Mv(t),i;if(e){var a=Mv(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Y2(this,i)}}function Y2(t,e){if(e&&($d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X2(t)}function X2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dde(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mv(t){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mv(t)}var No=function(t){ude(n,t);var e=cde(n);function n(r,i){var a;ade(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,p=o.children,h=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(X2(a)),a.changeStyle=a.changeStyle.bind(X2(a)),!s||h<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:c}),Y2(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof p=="function")return a.state={style:u},Y2(a);a.state={style:l?Th({},l,u):u}}else a.state={style:{}};return a}return sde(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,p=this.state.style;if(s){if(!o){var h={style:l?Th({},l,c):c};this.state&&p&&(l&&p[l]!==c||!l&&p!==c)&&this.setState(h);return}if(!(yce(i.to,c)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?f:i.to;if(this.state&&p){var x={style:l?Th({},l,g):g};(l&&p[l]!==g||!l&&p!==g)&&this.setState(x)}this.runAnimation(ja(ja({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,h=Xce(o,s,Uce(u),l,this.changeStyle),y=function(){a.stopJSAnimation=h()};this.manager.start([p,c,y,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,p=f===void 0?0:f,h=function(g,x,v){if(v===0)return g;var w=x.duration,_=x.easing,A=_===void 0?"ease":_,S=x.style,N=x.properties,C=x.onAnimationEnd,I=v>0?o[v-1]:x,R=N||Object.keys(S);if(typeof A=="function"||A==="spring")return[].concat(lb(g),[a.runJSAnimation.bind(a,{from:I.style,to:S,duration:w,easing:A}),w]);var U=zC(R,w,A),P=ja(ja(ja({},I.style),S),{},{transition:U});return[].concat(lb(g),[P,w,C]).filter(Pce)};return this.manager.start([l].concat(lb(o.reduce(h,[c,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Ace());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,h=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var g=s?Th({},s,l):l,x=zC(Object.keys(g),o,u);y.start([c,a,ja(ja({},g),{},{transition:x}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Qce(i,Zce),u=K.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(h){var y=h.props,g=y.style,x=g===void 0?{}:g,v=y.className,w=K.cloneElement(h,ja(ja({},l),{},{style:ja(ja({},x),c),className:v}));return w};return u===1?f(K.Children.only(a)):le.createElement("div",null,K.Children.map(a,function(p){return f(p)}))}}]),n}(K.PureComponent);No.displayName="Animate";No.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};No.propTypes={from:Qt.oneOfType([Qt.object,Qt.string]),to:Qt.oneOfType([Qt.object,Qt.string]),attributeName:Qt.string,duration:Qt.number,begin:Qt.number,easing:Qt.oneOfType([Qt.string,Qt.func]),steps:Qt.arrayOf(Qt.shape({duration:Qt.number.isRequired,style:Qt.object.isRequired,easing:Qt.oneOfType([Qt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Qt.func]),properties:Qt.arrayOf("string"),onAnimationEnd:Qt.func})),children:Qt.oneOfType([Qt.node,Qt.func]),isActive:Qt.bool,canBegin:Qt.bool,onAnimationEnd:Qt.func,shouldReAnimate:Qt.bool,onAnimationStart:Qt.func,onAnimationReStart:Qt.func};function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dv.apply(this,arguments)}function fde(t,e){return gde(t)||mde(t,e)||pde(t,e)||hde()}function hde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pde(t,e){if(t){if(typeof t=="string")return YC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YC(t,e)}}function YC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function gde(t){if(Array.isArray(t))return t}function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach(function(r){yde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yde(t,e,n){return e=vde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vde(t){var e=xde(t,"string");return zp(e)=="symbol"?e:e+""}function xde(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QC=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=a[p]>o?o:a[p];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);c="M ".concat(e,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*y,`
            L `).concat(e+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*y," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},bde=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),p=Math.max(o,o+l);return r>=u&&r<=c&&i>=f&&i<=p}return!1},wde={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VS=function(e){var n=ZC(ZC({},wde),e),r=K.useRef(),i=K.useState(-1),a=fde(i,2),o=a[0],s=a[1];K.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&s(A)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,p=n.radius,h=n.className,y=n.animationEasing,g=n.animationDuration,x=n.animationBegin,v=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var _=Lt("recharts-rectangle",h);return w?le.createElement(No,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:g,animationEasing:y,isActive:w},function(A){var S=A.width,N=A.height,C=A.x,I=A.y;return le.createElement(No,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:v,easing:y},le.createElement("path",Dv({},pt(n,!0),{className:_,d:QC(C,I,S,N,p),ref:r})))}):le.createElement("path",Dv({},pt(n,!0),{className:_,d:QC(l,u,c,f,p)}))},_de=["points","className","baseLinePoints","connectNulls"];function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jc.apply(this,arguments)}function Sde(t,e){if(t==null)return{};var n=Ade(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ade(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ek(t){return Pde(t)||Tde(t)||Nde(t)||Ede()}function Ede(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nde(t,e){if(t){if(typeof t=="string")return Z2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z2(t,e)}}function Tde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pde(t){if(Array.isArray(t))return Z2(t)}function Z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tk=function(e){return e&&e.x===+e.x&&e.y===+e.y},Cde=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){tk(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),tk(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},zh=function(e,n){var r=Cde(e);n&&(r=[r.reduce(function(a,o){return[].concat(ek(a),ek(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},kde=function(e,n,r){var i=zh(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(zh(n.reverse(),r).slice(1))},Ide=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=Sde(e,_de);if(!n||!n.length)return null;var s=Lt("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=kde(n,i,a);return le.createElement("g",{className:s},le.createElement("path",Jc({},pt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?le.createElement("path",Jc({},pt(o,!0),{fill:"none",d:zh(n,a)})):null,l?le.createElement("path",Jc({},pt(o,!0),{fill:"none",d:zh(i,a)})):null)}var c=zh(n,a);return le.createElement("path",Jc({},pt(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",className:s,d:c}))};function Q2(){return Q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q2.apply(this,arguments)}var c1=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Lt("recharts-dot",a);return n===+n&&r===+r&&i===+i?K.createElement("circle",Q2({},pt(e,!1),rv(e),{className:o,cx:n,cy:r,r:i})):null};function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}var Ode=["x","y","top","left","width","height","className"];function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e_.apply(this,arguments)}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){Rde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rde(t,e,n){return e=Lde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lde(t){var e=Mde(t,"string");return Hp(e)=="symbol"?e:e+""}function Mde(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dde(t,e){if(t==null)return{};var n=$de(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $de(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Fde=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Ude=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,p=e.height,h=p===void 0?0:p,y=e.className,g=Dde(e,Ode),x=jde({x:r,y:a,top:s,left:u,width:f,height:h},g);return!Fe(r)||!Fe(a)||!Fe(f)||!Fe(h)||!Fe(s)||!Fe(u)?null:le.createElement("path",e_({},pt(x,!0),{className:Lt("recharts-cross",y),d:Fde(r,a,f,h,s,u)}))},Bde=a1,qde=nM,Vde=Po;function zde(t,e){return t&&t.length?Bde(t,Vde(e),qde):void 0}var Hde=zde;const Gde=sn(Hde);var Wde=a1,Kde=Po,Jde=rM;function Yde(t,e){return t&&t.length?Wde(t,Kde(e),Jde):void 0}var Xde=Yde;const Zde=sn(Xde);var Qde=["cx","cy","angle","ticks","axisLine"],efe=["ticks","tick","angle","tickFormatter","stroke"];function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function Hh(){return Hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hh.apply(this,arguments)}function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function au(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){d1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ik(t,e){if(t==null)return{};var n=tfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ak(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GM(r.key),r)}}function rfe(t,e,n){return e&&ak(t.prototype,e),n&&ak(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ife(t,e,n){return e=$v(e),afe(t,HM()?Reflect.construct(e,n||[],$v(t).constructor):e.apply(t,n))}function afe(t,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ofe(t)}function ofe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HM=function(){return!!t})()}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$v(t)}function sfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t_(t,e)}function t_(t,e){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t_(t,e)}function d1(t,e,n){return e=GM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GM(t){var e=lfe(t,"string");return Fd(e)=="symbol"?e:e+""}function lfe(t,e){if(Fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var f1=function(t){function e(){return nfe(this,e),ife(this,e,arguments)}return sfe(e,t),rfe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return wn(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=Gde(s,function(c){return c.coordinate||0}),u=Zde(s,function(c){return c.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,u=ik(r,Qde),c=s.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),f=wn(i,a,c[0],o),p=wn(i,a,c[1],o),h=au(au(au({},pt(u,!1)),{},{fill:"none"},pt(l,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return le.createElement("line",Hh({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=ik(i,efe),f=this.getTickTextAnchor(),p=pt(c,!1),h=pt(o,!1),y=a.map(function(g,x){var v=r.getTickValueCoord(g),w=au(au(au(au({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(v.x,", ").concat(v.y,")")},p),{},{stroke:"none",fill:u},h),{},{index:x},v),{},{payload:g});return le.createElement(Wt,Hh({className:Lt("recharts-polar-radius-axis-tick",IM(o)),key:"tick-".concat(g.coordinate)},Uu(r.props,g,x)),e.renderTickItem(o,w,l?l(g.value,x):g.value))});return le.createElement(Wt,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:le.createElement(Wt,{className:Lt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Tr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return le.isValidElement(r)?o=le.cloneElement(r,i):_t(r)?o=r(i):o=le.createElement(Bu,Hh({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(K.PureComponent);d1(f1,"displayName","PolarRadiusAxis");d1(f1,"axisType","radiusAxis");d1(f1,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function yu(){return yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yu.apply(this,arguments)}function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ou(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){h1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ufe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KM(r.key),r)}}function cfe(t,e,n){return e&&sk(t.prototype,e),n&&sk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dfe(t,e,n){return e=Fv(e),ffe(t,WM()?Reflect.construct(e,n||[],Fv(t).constructor):e.apply(t,n))}function ffe(t,e){if(e&&(Ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hfe(t)}function hfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WM=function(){return!!t})()}function Fv(t){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fv(t)}function pfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n_(t,e)}function n_(t,e){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n_(t,e)}function h1(t,e,n){return e=KM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KM(t){var e=mfe(t,"string");return Ud(e)=="symbol"?e:e+""}function mfe(t,e){if(Ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gfe=Math.PI/180,lk=1e-5,p1=function(t){function e(){return ufe(this,e),dfe(this,e,arguments)}return pfe(e,t),cfe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=wn(a,o,s,r.coordinate),p=wn(a,o,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*gfe),o;return a>lk?o=i==="outer"?"start":"end":a<-lk?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,u=ou(ou({},pt(this.props,!1)),{},{fill:"none"},pt(s,!1));if(l==="circle")return le.createElement(c1,yu({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var c=this.props.ticks,f=c.map(function(p){return wn(i,a,o,p.coordinate)});return le.createElement(Ide,yu({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=pt(this.props,!1),f=pt(o,!1),p=ou(ou({},c),{},{fill:"none"},pt(s,!1)),h=a.map(function(y,g){var x=r.getTickLineCoord(y),v=r.getTickTextAnchor(y),w=ou(ou(ou({textAnchor:v},c),{},{stroke:"none",fill:u},f),{},{index:g,payload:y,x:x.x2,y:x.y2});return le.createElement(Wt,yu({className:Lt("recharts-polar-angle-axis-tick",IM(o)),key:"tick-".concat(y.coordinate)},Uu(r.props,y,g)),s&&le.createElement("line",yu({className:"recharts-polar-angle-axis-tick-line"},p,x)),o&&e.renderTickItem(o,w,l?l(y.value,g):y.value))});return le.createElement(Wt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:le.createElement(Wt,{className:Lt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return le.isValidElement(r)?o=le.cloneElement(r,i):_t(r)?o=r(i):o=le.createElement(Bu,yu({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(K.PureComponent);h1(p1,"displayName","PolarAngleAxis");h1(p1,"axisType","angleAxis");h1(p1,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var yfe=ZR,vfe=yfe(Object.getPrototypeOf,Object),xfe=vfe,bfe=xs,wfe=xfe,_fe=bs,Sfe="[object Object]",Afe=Function.prototype,Efe=Object.prototype,JM=Afe.toString,Nfe=Efe.hasOwnProperty,Tfe=JM.call(Object);function Pfe(t){if(!_fe(t)||bfe(t)!=Sfe)return!1;var e=wfe(t);if(e===null)return!0;var n=Nfe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&JM.call(n)==Tfe}var Cfe=Pfe;const kfe=sn(Cfe);var Ife=xs,Ofe=bs,jfe="[object Boolean]";function Rfe(t){return t===!0||t===!1||Ofe(t)&&Ife(t)==jfe}var Lfe=Rfe;const Mfe=sn(Lfe);function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uv.apply(this,arguments)}function Dfe(t,e){return Bfe(t)||Ufe(t,e)||Ffe(t,e)||$fe()}function $fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ffe(t,e){if(t){if(typeof t=="string")return uk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uk(t,e)}}function uk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ufe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Bfe(t){if(Array.isArray(t))return t}function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){qfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qfe(t,e,n){return e=Vfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vfe(t){var e=zfe(t,"string");return Gp(e)=="symbol"?e:e+""}function zfe(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fk=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},Hfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gfe=function(e){var n=dk(dk({},Hfe),e),r=K.useRef(),i=K.useState(-1),a=Dfe(i,2),o=a[0],s=a[1];K.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,p=n.height,h=n.className,y=n.animationEasing,g=n.animationDuration,x=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||p!==+p||c===0&&f===0||p===0)return null;var w=Lt("recharts-trapezoid",h);return v?le.createElement(No,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:p,x:l,y:u},duration:g,animationEasing:y,isActive:v},function(_){var A=_.upperWidth,S=_.lowerWidth,N=_.height,C=_.x,I=_.y;return le.createElement(No,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:y},le.createElement("path",Uv({},pt(n,!0),{className:w,d:fk(C,I,A,S,N),ref:r})))}):le.createElement("g",null,le.createElement("path",Uv({},pt(n,!0),{className:w,d:fk(l,u,c,f,p)})))},Wfe=["option","shapeType","propTransformer","activeClassName","isActive"];function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function Kfe(t,e){if(t==null)return{};var n=Jfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(n),!0).forEach(function(r){Yfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yfe(t,e,n){return e=Xfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xfe(t){var e=Zfe(t,"string");return Wp(e)=="symbol"?e:e+""}function Zfe(t,e){if(Wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qfe(t,e){return Bv(Bv({},e),t)}function ehe(t,e){return t==="symbols"}function pk(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return le.createElement(VS,n);case"trapezoid":return le.createElement(Gfe,n);case"sector":return le.createElement(RM,n);case"symbols":if(ehe(e))return le.createElement(lS,n);break;default:return null}}function the(t){return K.isValidElement(t)?t.props:t}function YM(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Qfe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=Kfe(t,Wfe),u;if(K.isValidElement(e))u=K.cloneElement(e,Bv(Bv({},l),the(e)));else if(_t(e))u=e(l);else if(kfe(e)&&!Mfe(e)){var c=i(e,l);u=le.createElement(pk,{shapeType:n,elementProps:c})}else{var f=l;u=le.createElement(pk,{shapeType:n,elementProps:f})}return s?le.createElement(Wt,{className:o},u):u}function m1(t,e){return e!=null&&"trapezoids"in t.props}function g1(t,e){return e!=null&&"sectors"in t.props}function Kp(t,e){return e!=null&&"points"in t.props}function nhe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function rhe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function ihe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function ahe(t,e){var n;return m1(t,e)?n=nhe:g1(t,e)?n=rhe:Kp(t,e)&&(n=ihe),n}function ohe(t,e){var n;return m1(t,e)?n="trapezoids":g1(t,e)?n="sectors":Kp(t,e)&&(n="points"),n}function she(t,e){if(m1(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(g1(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Kp(t,e)?e.payload:{}}function lhe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=ohe(n,e),a=she(n,e),o=r.filter(function(l,u){var c=xm(a,l),f=n.props[i].filter(function(y){var g=ahe(n,e);return g(y,e)}),p=n.props[i].indexOf(f[f.length-1]),h=u===p;return c&&h}),s=r.indexOf(o[o.length-1]);return s}var fy;function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){pa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZM(r.key),r)}}function che(t,e,n){return e&&gk(t.prototype,e),n&&gk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dhe(t,e,n){return e=qv(e),fhe(t,XM()?Reflect.construct(e,n||[],qv(t).constructor):e.apply(t,n))}function fhe(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hhe(t)}function hhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XM=function(){return!!t})()}function qv(t){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(t)}function phe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r_(t,e)}function r_(t,e){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r_(t,e)}function pa(t,e,n){return e=ZM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZM(t){var e=mhe(t,"string");return Bd(e)=="symbol"?e:e+""}function mhe(t,e){if(Bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _s=function(t){function e(n){var r;return uhe(this,e),r=dhe(this,e,[n]),pa(r,"pieRef",null),pa(r,"sectorRefs",[]),pa(r,"id",yf("recharts-pie-")),pa(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),_t(i)&&i()}),pa(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),_t(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return phe(e,t),che(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,c=pt(this.props,!1),f=pt(o,!1),p=pt(s,!1),h=o&&o.offsetRadius||20,y=r.map(function(g,x){var v=(g.startAngle+g.endAngle)/2,w=wn(g.cx,g.cy,g.outerRadius+h,v),_=vn(vn(vn(vn({},c),g),{},{stroke:"none"},f),{},{index:x,textAnchor:e.getTextAnchor(w.x,g.cx)},w),A=vn(vn(vn(vn({},c),g),{},{fill:"none",stroke:g.fill},p),{},{index:x,points:[wn(g.cx,g.cy,g.outerRadius,v),w]}),S=l;return It(l)&&It(u)?S="value":It(l)&&(S=u),le.createElement(Wt,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},s&&e.renderLabelLineItem(s,A,"line"),e.renderLabelItem(o,_,vr(g,S)))});return le.createElement(Wt,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),p=l&&i.hasActiveIndex()?l:null,h=f?o:p,y=vn(vn({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return le.createElement(Wt,Yc({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Uu(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),le.createElement(YM,Yc({option:h,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return le.createElement(No,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,x=[],v=a&&a[0],w=v.startAngle;return a.forEach(function(_,A){var S=p&&p[A],N=A>0?zi(_,"paddingAngle",0):0;if(S){var C=Di(S.endAngle-S.startAngle,_.endAngle-_.startAngle),I=vn(vn({},_),{},{startAngle:w+N,endAngle:w+C(g)+N});x.push(I),w=I.endAngle}else{var R=_.endAngle,U=_.startAngle,P=Di(0,R-U),O=P(g),D=vn(vn({},_),{},{startAngle:w+N,endAngle:w+O+N});x.push(D),w=D.endAngle}}),le.createElement(Wt,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!xm(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,p=i.outerRadius,h=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!o||!o.length||!Fe(u)||!Fe(c)||!Fe(f)||!Fe(p))return null;var g=Lt("recharts-pie",s);return le.createElement(Wt,{tabIndex:this.props.rootTabIndex,className:g,ref:function(v){r.pieRef=v}},this.renderSectors(),l&&this.renderLabels(o),Tr.renderCallByParent(this.props,null,!1),(!h||y)&&ss.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(le.isValidElement(r))return le.cloneElement(r,i);if(_t(r))return r(i);var o=Lt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return le.createElement(jv,Yc({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(le.isValidElement(r))return le.cloneElement(r,i);var o=a;if(_t(r)&&(o=r(i),le.isValidElement(o)))return o;var s=Lt("recharts-pie-label-text",typeof r!="boolean"&&!_t(r)?r.className:"");return le.createElement(Bu,Yc({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(K.PureComponent);fy=_s;pa(_s,"displayName","Pie");pa(_s,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Zu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});pa(_s,"parseDeltaAngle",function(t,e){var n=ii(e-t),r=Math.min(Math.abs(e-t),360);return n*r});pa(_s,"getRealPieData",function(t){var e=t.data,n=t.children,r=pt(t,!1),i=Hi(n,pm);return e&&e.length?e.map(function(a,o){return vn(vn(vn({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return vn(vn({},r),a.props)}):[]});pa(_s,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=kM(i,a),s=r+ai(t.cx,i,i/2),l=n+ai(t.cy,a,a/2),u=ai(t.innerRadius,o,0),c=ai(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});pa(_s,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?vn(vn({},e.type.defaultProps),e.props):e.props,i=fy.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,p=r.tooltipType,h=Math.abs(r.minAngle),y=fy.parseCoordinateOfPie(r,n),g=fy.parseDeltaAngle(o,s),x=Math.abs(g),v=u;It(u)&&It(f)?(Wa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):It(u)&&(Wa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var w=i.filter(function(I){return vr(I,v,0)!==0}).length,_=(x>=360?w:w-1)*l,A=x-w*h-_,S=i.reduce(function(I,R){var U=vr(R,v,0);return I+(Fe(U)?U:0)},0),N;if(S>0){var C;N=i.map(function(I,R){var U=vr(I,v,0),P=vr(I,c,R),O=(Fe(U)?U:0)/S,D;R?D=C.endAngle+ii(g)*l*(U!==0?1:0):D=o;var L=D+ii(g)*((U!==0?h:0)+O*A),B=(D+L)/2,J=(y.innerRadius+y.outerRadius)/2,H=[{name:P,value:U,payload:I,dataKey:v,type:p}],M=wn(y.cx,y.cy,J,B);return C=vn(vn(vn({percent:O,cornerRadius:a,name:P,tooltipPayload:H,midAngle:B,middleRadius:J,tooltipPosition:M},I),y),{},{value:vr(I,v),startAngle:D,endAngle:L,payload:I,paddingAngle:ii(g)*l}),C})}return vn(vn({},y),{},{sectors:N,data:i})});var ghe=Math.ceil,yhe=Math.max;function vhe(t,e,n,r){for(var i=-1,a=yhe(ghe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var xhe=vhe,bhe=yL,yk=1/0,whe=17976931348623157e292;function _he(t){if(!t)return t===0?t:0;if(t=bhe(t),t===yk||t===-yk){var e=t<0?-1:1;return e*whe}return t===t?t:0}var QM=_he,She=xhe,Ahe=Z0,ub=QM;function Ehe(t){return function(e,n,r){return r&&typeof r!="number"&&Ahe(e,n,r)&&(n=r=void 0),e=ub(e),n===void 0?(n=e,e=0):n=ub(n),r=r===void 0?e<n?1:-1:ub(r),She(e,n,r,t)}}var Nhe=Ehe,The=Nhe,Phe=The(),Che=Phe;const Vv=sn(Che);function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){eD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eD(t,e,n){return e=khe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function khe(t){var e=Ihe(t,"string");return Jp(e)=="symbol"?e:e+""}function Ihe(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ohe=["Webkit","Moz","O","ms"],jhe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Ohe.reduce(function(a,o){return xk(xk({},a),{},eD({},o+r,n))},{});return i[e]=n,i};function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zv.apply(this,arguments)}function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(r){Ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nD(r.key),r)}}function Lhe(t,e,n){return e&&wk(t.prototype,e),n&&wk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mhe(t,e,n){return e=Hv(e),Dhe(t,tD()?Reflect.construct(e,n||[],Hv(t).constructor):e.apply(t,n))}function Dhe(t,e){if(e&&(qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $he(t)}function $he(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tD=function(){return!!t})()}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hv(t)}function Fhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i_(t,e)}function i_(t,e){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i_(t,e)}function Ri(t,e,n){return e=nD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nD(t){var e=Uhe(t,"string");return qd(e)=="symbol"?e:e+""}function Uhe(t,e){if(qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bhe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Bh().domain(Vv(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},_k=function(e){return e.changedTouches&&!!e.changedTouches.length},Vd=function(t){function e(n){var r;return Rhe(this,e),r=Mhe(this,e,[n]),Ri(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ri(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ri(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Ri(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ri(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ri(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ri(r,"handleSlideDragStart",function(i){var a=_k(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Fhe(e,t),Lhe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),p=Math.max(i,a),h=e.getIndexInRange(o,f),y=e.getIndexInRange(o,p);return{startIndex:h-h%l,endIndex:y===c?c:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=vr(a[r],s,r);return _t(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,p=l.startIndex,h=l.endIndex,y=l.onChange,g=r.pageX-a;g>0?g=Math.min(g,u+c-f-s,u+c-f-o):g<0&&(g=Math.max(g,u-o,u-s));var x=this.getIndex({startX:o+g,endX:s+g});(x.startIndex!==p||x.endIndex!==h)&&y&&y(x),this.setState({startX:o+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=_k(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,p=c.width,h=c.travellerWidth,y=c.onChange,g=c.gap,x=c.data,v={startX:this.state.startX,endX:this.state.endX},w=r.pageX-a;w>0?w=Math.min(w,f+p-h-u):w<0&&(w=Math.max(w,f-u)),v[o]=u+w;var _=this.getIndex(v),A=_.startIndex,S=_.endIndex,N=function(){var I=x.length-1;return o==="startX"&&(s>l?A%g===0:S%g===0)||s<l&&S===I||o==="endX"&&(s>l?S%g===0:A%g===0)||s>l&&S===I};this.setState(Ri(Ri({},o,u+w),"brushMoveStartX",r.pageX),function(){y&&N()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var p=f+r;if(!(p===-1||p>=s.length)){var h=s[p];i==="startX"&&h>=u||i==="endX"&&h<=l||this.setState(Ri({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return le.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=K.Children.only(u);return f?le.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,p=l.traveller,h=l.ariaLabel,y=l.data,g=l.startIndex,x=l.endIndex,v=Math.max(r,this.props.x),w=cb(cb({},pt(this.props,!1)),{},{x:v,y:u,width:c,height:f}),_=h||"Min value: ".concat((a=y[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[x])===null||o===void 0?void 0:o.name);return le.createElement(Wt,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,w))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return le.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,p=c.endX,h=5,y={pointerEvents:"none",fill:u};return le.createElement(Wt,{className:"recharts-brush-texts"},le.createElement(Bu,zv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:o+s/2},y),this.getTextOfTick(i)),le.createElement(Bu,zv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+h,y:o+s/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,p=this.state,h=p.startX,y=p.endX,g=p.isTextActive,x=p.isSlideMoving,v=p.isTravellerMoving,w=p.isTravellerFocused;if(!i||!i.length||!Fe(s)||!Fe(l)||!Fe(u)||!Fe(c)||u<=0||c<=0)return null;var _=Lt("recharts-brush",a),A=le.Children.count(o)===1,S=jhe("userSelect","none");return le.createElement(Wt,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(h,y),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(y,"endX"),(g||x||v||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return le.createElement(le.Fragment,null,le.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),le.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),le.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return le.isValidElement(r)?a=le.cloneElement(r,i):_t(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return cb({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Bhe({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var p=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(K.PureComponent);Ri(Vd,"displayName","Brush");Ri(Vd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var qhe=mS;function Vhe(t,e){var n;return qhe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var zhe=Vhe,Hhe=zR,Ghe=Po,Whe=zhe,Khe=_i,Jhe=Z0;function Yhe(t,e,n){var r=Khe(t)?Hhe:Whe;return n&&Jhe(t,e,n)&&(e=void 0),r(t,Ghe(e))}var Xhe=Yhe;const Zhe=sn(Xhe);var So=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},Sk=fL;function Qhe(t,e,n){e=="__proto__"&&Sk?Sk(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var epe=Qhe,tpe=epe,npe=cL,rpe=Po;function ipe(t,e){var n={};return e=rpe(e),npe(t,function(r,i,a){tpe(n,i,e(r,i,a))}),n}var ape=ipe;const ope=sn(ape);function spe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var lpe=spe,upe=mS;function cpe(t,e){var n=!0;return upe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var dpe=cpe,fpe=lpe,hpe=dpe,ppe=Po,mpe=_i,gpe=Z0;function ype(t,e,n){var r=mpe(t)?fpe:hpe;return n&&gpe(t,e,n)&&(e=void 0),r(t,ppe(e))}var vpe=ype;const rD=sn(vpe);var xpe=["x","y"];function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function a_(){return a_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a_.apply(this,arguments)}function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){bpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bpe(t,e,n){return e=wpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wpe(t){var e=_pe(t,"string");return Yp(e)=="symbol"?e:e+""}function _pe(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Spe(t,e){if(t==null)return{};var n=Ape(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ape(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Epe(t,e){var n=t.x,r=t.y,i=Spe(t,xpe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),p=parseInt(f,10);return vh(vh(vh(vh(vh({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:p,name:e.name,radius:e.radius})}function Ek(t){return le.createElement(YM,a_({shapeType:"rectangle",propTransformer:Epe,activeClassName:"recharts-active-bar"},t))}var Npe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=Fe(r)||YG(r);return a?e(r,i):(a||Vu(),n)}},Tpe=["value","background"],iD;function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function Ppe(t,e){if(t==null)return{};var n=Cpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gv.apply(this,arguments)}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){nl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oD(r.key),r)}}function Ipe(t,e,n){return e&&Tk(t.prototype,e),n&&Tk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ope(t,e,n){return e=Wv(e),jpe(t,aD()?Reflect.construct(e,n||[],Wv(t).constructor):e.apply(t,n))}function jpe(t,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rpe(t)}function Rpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aD=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(t)}function Lpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o_(t,e)}function o_(t,e){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},o_(t,e)}function nl(t,e,n){return e=oD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oD(t){var e=Mpe(t,"string");return zd(e)=="symbol"?e:e+""}function Mpe(t,e){if(zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nc=function(t){function e(){var n;kpe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ope(this,e,[].concat(i)),nl(n,"state",{isAnimationFinished:!1}),nl(n,"id",yf("recharts-bar-")),nl(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),nl(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Lpe(e,t),Ipe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=pt(this.props,!1);return r&&r.map(function(f,p){var h=p===l,y=h?u:o,g=ir(ir(ir({},c),f),{},{isActive:h,option:y,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return le.createElement(Wt,Gv({className:"recharts-bar-rectangle"},Uu(i.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),le.createElement(Ek,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,p=this.state.prevData;return le.createElement(No,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var y=h.t,g=a.map(function(x,v){var w=p&&p[v];if(w){var _=Di(w.x,x.x),A=Di(w.y,x.y),S=Di(w.width,x.width),N=Di(w.height,x.height);return ir(ir({},x),{},{x:_(y),y:A(y),width:S(y),height:N(y)})}if(o==="horizontal"){var C=Di(0,x.height),I=C(y);return ir(ir({},x),{},{y:x.y+x.height-I,height:I})}var R=Di(0,x.width),U=R(y);return ir(ir({},x),{},{width:U})});return le.createElement(Wt,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!xm(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=pt(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,p=Ppe(u,Tpe);if(!f)return null;var h=ir(ir(ir(ir(ir({},p),{},{fill:"#eee"},f),l),Uu(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return le.createElement(Ek,Gv({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},h))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=Hi(c,bm);if(!f)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,h=function(x,v){var w=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:w,errorVal:vr(x,v)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return le.createElement(Wt,y,f.map(function(g){return le.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,p=r.height,h=r.isAnimationActive,y=r.background,g=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,v=Lt("recharts-bar",o),w=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,A=w||_,S=It(g)?this.id:g;return le.createElement(Wt,{className:v},w||_?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(S)},le.createElement("rect",{x:w?u:u-f/2,y:_?c:c-p/2,width:w?f:f*2,height:_?p:p*2}))):null,le.createElement(Wt,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,S),(!h||x)&&ss.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(K.PureComponent);iD=nc;nl(nc,"displayName","Bar");nl(nc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Zu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});nl(nc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,p=t.offset,h=mle(r,n);if(!h)return null;var y=e.layout,g=n.type.defaultProps,x=g!==void 0?ir(ir({},g),n.props):n.props,v=x.dataKey,w=x.children,_=x.minPointSize,A=y==="horizontal"?o:a,S=u?A.scale.domain():null,N=_le({numericAxis:A}),C=Hi(w,pm),I=f.map(function(R,U){var P,O,D,L,B,J;u?P=gle(u[c+U],S):(P=vr(R,v),Array.isArray(P)||(P=[N,P]));var H=Npe(_,iD.defaultProps.minPointSize)(P[1],U);if(y==="horizontal"){var M,X=[o.scale(P[0]),o.scale(P[1])],oe=X[0],ie=X[1];O=gC({axis:a,ticks:s,bandSize:i,offset:h.offset,entry:R,index:U}),D=(M=ie??oe)!==null&&M!==void 0?M:void 0,L=h.size;var k=oe-ie;if(B=Number.isNaN(k)?0:k,J={x:O,y:o.y,width:L,height:o.height},Math.abs(H)>0&&Math.abs(B)<Math.abs(H)){var q=ii(B||H)*(Math.abs(H)-Math.abs(B));D-=q,B+=q}}else{var G=[a.scale(P[0]),a.scale(P[1])],te=G[0],re=G[1];if(O=te,D=gC({axis:o,ticks:l,bandSize:i,offset:h.offset,entry:R,index:U}),L=re-te,B=h.size,J={x:a.x,y:D,width:a.width,height:B},Math.abs(H)>0&&Math.abs(L)<Math.abs(H)){var ce=ii(L||H)*(Math.abs(H)-Math.abs(L));L+=ce}}return ir(ir(ir({},R),{},{x:O,y:D,width:L,height:B,value:u?P:P[1],payload:R,background:J},C&&C[U]&&C[U].props),{},{tooltipPayload:[PM(n,R)],tooltipPosition:{x:O+L/2,y:D+B/2}})});return ir({data:I,layout:y},p)});function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function Dpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sD(r.key),r)}}function $pe(t,e,n){return e&&Pk(t.prototype,e),n&&Pk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(n),!0).forEach(function(r){y1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y1(t,e,n){return e=sD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sD(t){var e=Fpe(t,"string");return Xp(e)=="symbol"?e:e+""}function Fpe(t,e){if(Xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lD=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!Mi(u,nc);return c.reduce(function(h,y){var g=n[y],x=g.orientation,v=g.domain,w=g.padding,_=w===void 0?{}:w,A=g.mirror,S=g.reversed,N="".concat(x).concat(A?"Mirror":""),C,I,R,U,P;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=v[1]-v[0],D=1/0,L=g.categoricalDomain.sort(QG);if(L.forEach(function(G,te){te>0&&(D=Math.min((G||0)-(L[te-1]||0),D))}),Number.isFinite(D)){var B=D/O,J=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(C=B*J/2),g.padding==="no-gap"){var H=ai(e.barCategoryGap,B*J),M=B*J/2;C=M-H-(M-H)/J*H}}}i==="xAxis"?I=[r.left+(_.left||0)+(C||0),r.left+r.width-(_.right||0)-(C||0)]:i==="yAxis"?I=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(C||0),r.top+r.height-(_.bottom||0)-(C||0)]:I=g.range,S&&(I=[I[1],I[0]]);var X=AM(g,a,p),oe=X.scale,ie=X.realScaleType;oe.domain(v).range(I),EM(oe);var k=NM(oe,Ua(Ua({},g),{},{realScaleType:ie}));i==="xAxis"?(P=x==="top"&&!A||x==="bottom"&&A,R=r.left,U=f[N]-P*g.height):i==="yAxis"&&(P=x==="left"&&!A||x==="right"&&A,R=f[N]-P*g.width,U=r.top);var q=Ua(Ua(Ua({},g),k),{},{realScaleType:ie,x:R,y:U,scale:oe,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return q.bandSize=kv(q,k),!g.hide&&i==="xAxis"?f[N]+=(P?-1:1)*q.height:g.hide||(f[N]+=(P?-1:1)*q.width),Ua(Ua({},h),{},y1({},y,q))},{})},uD=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Upe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return uD({x:n,y:r},{x:i,y:a})},cD=function(){function t(e){Dpe(this,t),this.scale=e}return $pe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();y1(cD,"EPS",1e-4);var zS=function(e){var n=Object.keys(e).reduce(function(r,i){return Ua(Ua({},r),{},y1({},i,cD.create(e[i])))},{});return Ua(Ua({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return ope(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return rD(i,function(a,o){return n[o].isInRange(a)})}})};function Bpe(t){return(t%180+180)%180}var qpe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Bpe(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Vpe=Po,zpe=fm,Hpe=Y0;function Gpe(t){return function(e,n,r){var i=Object(e);if(!zpe(e)){var a=Vpe(n);e=Hpe(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var Wpe=Gpe,Kpe=QM;function Jpe(t){var e=Kpe(t),n=e%1;return e===e?n?e-n:e:0}var Ype=Jpe,Xpe=iL,Zpe=Po,Qpe=Ype,eme=Math.max;function tme(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Qpe(n);return i<0&&(i=eme(r+i,0)),Xpe(t,Zpe(e),i)}var nme=tme,rme=Wpe,ime=nme,ame=rme(ime),ome=ame;const sme=sn(ome);var lme=nG(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),HS=K.createContext(void 0),GS=K.createContext(void 0),dD=K.createContext(void 0),fD=K.createContext({}),hD=K.createContext(void 0),pD=K.createContext(0),mD=K.createContext(0),kk=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=lme(a);return le.createElement(HS.Provider,{value:r},le.createElement(GS.Provider,{value:i},le.createElement(fD.Provider,{value:a},le.createElement(dD.Provider,{value:c},le.createElement(hD.Provider,{value:o},le.createElement(pD.Provider,{value:u},le.createElement(mD.Provider,{value:l},s)))))))},ume=function(){return K.useContext(hD)},gD=function(e){var n=K.useContext(HS);n==null&&Vu();var r=n[e];return r==null&&Vu(),r},cme=function(){var e=K.useContext(HS);return Zs(e)},dme=function(){var e=K.useContext(GS),n=sme(e,function(r){return rD(r.domain,Number.isFinite)});return n||Zs(e)},yD=function(e){var n=K.useContext(GS);n==null&&Vu();var r=n[e];return r==null&&Vu(),r},fme=function(){var e=K.useContext(dD);return e},hme=function(){return K.useContext(fD)},WS=function(){return K.useContext(mD)},KS=function(){return K.useContext(pD)};function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function pme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xD(r.key),r)}}function gme(t,e,n){return e&&mme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yme(t,e,n){return e=Kv(e),vme(t,vD()?Reflect.construct(e,n||[],Kv(t).constructor):e.apply(t,n))}function vme(t,e){if(e&&(Hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xme(t)}function xme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vD=function(){return!!t})()}function Kv(t){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kv(t)}function bme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s_(t,e)}function s_(t,e){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s_(t,e)}function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ok(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){JS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JS(t,e,n){return e=xD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xD(t){var e=wme(t,"string");return Hd(e)=="symbol"?e:e+""}function wme(t,e){if(Hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _me(t,e){return Nme(t)||Eme(t,e)||Ame(t,e)||Sme()}function Sme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ame(t,e){if(t){if(typeof t=="string")return jk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jk(t,e)}}function jk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Nme(t){if(Array.isArray(t))return t}function l_(){return l_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l_.apply(this,arguments)}var Tme=function(e,n){var r;return le.isValidElement(e)?r=le.cloneElement(e,n):_t(e)?r=e(n):r=le.createElement("line",l_({},n,{className:"recharts-reference-line-line"})),r},Pme=function(e,n,r,i,a,o,s,l,u){var c=a.x,f=a.y,p=a.width,h=a.height;if(r){var y=u.y,g=e.y.apply(y,{position:o});if(So(u,"discard")&&!e.y.isInRange(g))return null;var x=[{x:c+p,y:g},{x:c,y:g}];return l==="left"?x.reverse():x}if(n){var v=u.x,w=e.x.apply(v,{position:o});if(So(u,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+h},{x:w,y:f}];return s==="top"?_.reverse():_}if(i){var A=u.segment,S=A.map(function(N){return e.apply(N,{position:o})});return So(u,"discard")&&Zhe(S,function(N){return!e.isInRange(N)})?null:S}return null};function Cme(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=ume(),c=gD(i),f=yD(a),p=fme();if(!u||!p)return null;Wa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=zS({x:c.scale,y:f.scale}),y=br(e),g=br(n),x=r&&r.length===2,v=Pme(h,y,g,x,p,t.position,c.orientation,f.orientation,t);if(!v)return null;var w=_me(v,2),_=w[0],A=_.x,S=_.y,N=w[1],C=N.x,I=N.y,R=So(t,"hidden")?"url(#".concat(u,")"):void 0,U=Ok(Ok({clipPath:R},pt(t,!0)),{},{x1:A,y1:S,x2:C,y2:I});return le.createElement(Wt,{className:Lt("recharts-reference-line",s)},Tme(o,U),Tr.renderCallByParent(t,Upe({x1:A,y1:S,x2:C,y2:I})))}var YS=function(t){function e(){return pme(this,e),yme(this,e,arguments)}return bme(e,t),gme(e,[{key:"render",value:function(){return le.createElement(Cme,this.props)}}])}(le.Component);JS(YS,"displayName","ReferenceLine");JS(YS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(this,arguments)}function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){v1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ime(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wD(r.key),r)}}function Ome(t,e,n){return e&&Ime(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jme(t,e,n){return e=Jv(e),Rme(t,bD()?Reflect.construct(e,n||[],Jv(t).constructor):e.apply(t,n))}function Rme(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lme(t)}function Lme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bD=function(){return!!t})()}function Jv(t){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jv(t)}function Mme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c_(t,e)}function c_(t,e){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},c_(t,e)}function v1(t,e,n){return e=wD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wD(t){var e=Dme(t,"string");return Gd(e)=="symbol"?e:e+""}function Dme(t,e){if(Gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $me=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=zS({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return So(e,"discard")&&!o.isInRange(s)?null:s},x1=function(t){function e(){return kme(this,e),jme(this,e,arguments)}return Mme(e,t),Ome(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=br(i),c=br(a);if(Wa(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=$me(this.props);if(!f)return null;var p=f.x,h=f.y,y=this.props,g=y.shape,x=y.className,v=So(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=Lk(Lk({clipPath:v},pt(this.props,!0)),{},{cx:p,cy:h});return le.createElement(Wt,{className:Lt("recharts-reference-dot",x)},e.renderDot(g,w),Tr.renderCallByParent(this.props,{x:p-o,y:h-o,width:2*o,height:2*o}))}}])}(le.Component);v1(x1,"displayName","ReferenceDot");v1(x1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});v1(x1,"renderDot",function(t,e){var n;return le.isValidElement(t)?n=le.cloneElement(t,e):_t(t)?n=t(e):n=le.createElement(c1,u_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d_.apply(this,arguments)}function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){b1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ume(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SD(r.key),r)}}function Bme(t,e,n){return e&&Ume(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qme(t,e,n){return e=Yv(e),Vme(t,_D()?Reflect.construct(e,n||[],Yv(t).constructor):e.apply(t,n))}function Vme(t,e){if(e&&(Wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zme(t)}function zme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _D(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_D=function(){return!!t})()}function Yv(t){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yv(t)}function Hme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f_(t,e)}function f_(t,e){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},f_(t,e)}function b1(t,e,n){return e=SD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SD(t){var e=Gme(t,"string");return Wd(e)=="symbol"?e:e+""}function Gme(t,e){if(Wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wme=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var p=zS({x:c.scale,y:f.scale}),h={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},y={x:n?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return So(a,"discard")&&(!p.isInRange(h)||!p.isInRange(y))?null:uD(h,y)},w1=function(t){function e(){return Fme(this,e),qme(this,e,arguments)}return Hme(e,t),Bme(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Wa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=br(i),p=br(a),h=br(o),y=br(s),g=this.props.shape;if(!f&&!p&&!h&&!y&&!g)return null;var x=Wme(f,p,h,y,this.props);if(!x&&!g)return null;var v=So(this.props,"hidden")?"url(#".concat(c,")"):void 0;return le.createElement(Wt,{className:Lt("recharts-reference-area",l)},e.renderRect(g,Dk(Dk({clipPath:v},pt(this.props,!0)),x)),Tr.renderCallByParent(this.props,x))}}])}(le.Component);b1(w1,"displayName","ReferenceArea");b1(w1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});b1(w1,"renderRect",function(t,e){var n;return le.isValidElement(t)?n=le.cloneElement(t,e):_t(t)?n=t(e):n=le.createElement(VS,d_({},e,{className:"recharts-reference-area-rect"})),n});function AD(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Kme(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return qpe(r,n)}function Jme(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Xv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Yme(t,e){return AD(t,e+1)}function Xme(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:AD(r,u)};var g=l,x,v=function(){return x===void 0&&(x=n(y,g)),x},w=y.coordinate,_=l===0||Xv(t,w,v,c,s);_||(l=0,c=o,u+=1),_&&(c=w+t*(v()/2+i),l+=u)},p;u<=a.length;)if(p=f(),p)return p.v;return[]}function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){Zme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zme(t,e,n){return e=Qme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qme(t){var e=ege(t,"string");return Zp(e)=="symbol"?e:e+""}function ege(t,e){if(Zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tge(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(p){var h=a[p],y,g=function(){return y===void 0&&(y=n(h,p)),y};if(p===o-1){var x=t*(h.coordinate+t*g()/2-l);a[p]=h=Jr(Jr({},h),{},{tickCoord:x>0?h.coordinate-x*t:h.coordinate})}else a[p]=h=Jr(Jr({},h),{},{tickCoord:h.coordinate});var v=Xv(t,h.tickCoord,g,s,l);v&&(l=h.tickCoord-t*(g()/2+i),a[p]=Jr(Jr({},h),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function nge(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],f=n(c,s-1),p=t*(c.coordinate+t*f/2-u);o[s-1]=c=Jr(Jr({},c),{},{tickCoord:p>0?c.coordinate-p*t:c.coordinate});var h=Xv(t,c.tickCoord,function(){return f},l,u);h&&(u=c.tickCoord-t*(f/2+i),o[s-1]=Jr(Jr({},c),{},{isShow:!0}))}for(var y=a?s-1:s,g=function(w){var _=o[w],A,S=function(){return A===void 0&&(A=n(_,w)),A};if(w===0){var N=t*(_.coordinate-t*S()/2-l);o[w]=_=Jr(Jr({},_),{},{tickCoord:N<0?_.coordinate-N*t:_.coordinate})}else o[w]=_=Jr(Jr({},_),{},{tickCoord:_.coordinate});var C=Xv(t,_.tickCoord,S,l,u);C&&(l=_.tickCoord+t*(S()/2+i),o[w]=Jr(Jr({},_),{},{isShow:!0}))},x=0;x<y;x++)g(x);return o}function XS(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Fe(l)||Zu.isSsr)return Yme(i,typeof l=="number"&&Fe(l)?l:0);var p=[],h=s==="top"||s==="bottom"?"width":"height",y=c&&h==="width"?Uh(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(_,A){var S=_t(u)?u(_.value,A):_.value;return h==="width"?Kme(Uh(S,{fontSize:e,letterSpacing:n}),y,f):Uh(S,{fontSize:e,letterSpacing:n})[h]},x=i.length>=2?ii(i[1].coordinate-i[0].coordinate):1,v=Jme(a,x,h);return l==="equidistantPreserveStart"?Xme(x,v,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=nge(x,v,g,i,o,l==="preserveStartEnd"):p=tge(x,v,g,i,o),p.filter(function(w){return w.isShow}))}var rge=["viewBox"],ige=["viewBox"],age=["ticks"];function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xc.apply(this,arguments)}function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){ZS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function db(t,e){if(t==null)return{};var n=oge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ND(r.key),r)}}function lge(t,e,n){return e&&Uk(t.prototype,e),n&&Uk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uge(t,e,n){return e=Zv(e),cge(t,ED()?Reflect.construct(e,n||[],Zv(t).constructor):e.apply(t,n))}function cge(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dge(t)}function dge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ED(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ED=function(){return!!t})()}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zv(t)}function fge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h_(t,e)}function h_(t,e){return h_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},h_(t,e)}function ZS(t,e,n){return e=ND(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ND(t){var e=hge(t,"string");return Kd(e)=="symbol"?e:e+""}function hge(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Af=function(t){function e(n){var r;return sge(this,e),r=uge(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return fge(e,t),lge(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=db(r,rge),s=this.props,l=s.viewBox,u=db(s,ige);return!ld(a,l)||!ld(o,u)||!ld(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,p=i.tickMargin,h,y,g,x,v,w,_=f?-1:1,A=r.tickSize||c,S=Fe(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":h=y=r.coordinate,x=o+ +!f*l,g=x-_*A,w=g-_*p,v=S;break;case"left":g=x=r.coordinate,y=a+ +!f*s,h=y-_*A,v=h-_*p,w=S;break;case"right":g=x=r.coordinate,y=a+ +f*s,h=y+_*A,v=h+_*p,w=S;break;default:h=y=r.coordinate,x=o+ +f*l,g=x+_*A,w=g+_*p,v=S;break}return{line:{x1:h,y1:g,x2:y,y2:x},tick:{x:v,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=pr(pr(pr({},pt(this.props,!1)),pt(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);f=pr(pr({},f),{},{x1:i,y1:a+p*s,x2:i+o,y2:a+p*s})}else{var h=+(l==="left"&&!u||l==="right"&&u);f=pr(pr({},f),{},{x1:i+h*o,y1:a,x2:i+h*o,y2:a+s})}return le.createElement("line",Xc({},f,{className:Lt("recharts-cartesian-axis-line",zi(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,p=s.unit,h=XS(pr(pr({},this.props),{},{ticks:r}),i,a),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=pt(this.props,!1),v=pt(c,!1),w=pr(pr({},x),{},{fill:"none"},pt(l,!1)),_=h.map(function(A,S){var N=o.getTickLineCoord(A),C=N.line,I=N.tick,R=pr(pr(pr(pr({textAnchor:y,verticalAnchor:g},x),{},{stroke:"none",fill:u},v),I),{},{index:S,payload:A,visibleTicksCount:h.length,tickFormatter:f});return le.createElement(Wt,Xc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Uu(o.props,A,S)),l&&le.createElement("line",Xc({},w,C,{className:Lt("recharts-cartesian-axis-tick-line",zi(l,"className"))})),c&&e.renderTickItem(c,R,"".concat(_t(f)?f(A.value,S):A.value).concat(p||"")))});return le.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,p=f.ticks,h=db(f,age),y=p;return _t(l)&&(y=p&&p.length>0?l(this.props):l(h)),o<=0||s<=0||!y||!y.length?null:le.createElement(Wt,{className:Lt("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Tr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=Lt(i.className,"recharts-cartesian-axis-tick-value");return le.isValidElement(r)?o=le.cloneElement(r,pr(pr({},i),{},{className:s})):_t(r)?o=r(pr(pr({},i),{},{className:s})):o=le.createElement(Bu,Xc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(K.Component);ZS(Af,"displayName","CartesianAxis");ZS(Af,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var pge=["x1","y1","x2","y2","key"],mge=["offset"];function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function Bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(n),!0).forEach(function(r){gge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gge(t,e,n){return e=yge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yge(t){var e=vge(t,"string");return zu(e)=="symbol"?e:e+""}function vge(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nu(){return Nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nu.apply(this,arguments)}function qk(t,e){if(t==null)return{};var n=xge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var bge=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return le.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function TD(t,e){var n;if(le.isValidElement(t))n=le.cloneElement(t,e);else if(_t(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=qk(e,pge),u=pt(l,!1);u.offset;var c=qk(u,mge);n=le.createElement("line",Nu({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function wge(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Xr(Xr({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return TD(i,u)});return le.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function _ge(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Xr(Xr({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return TD(i,u)});return le.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Sge(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==c[0]&&c.unshift(0);var f=c.map(function(p,h){var y=!c[h+1],g=y?i+o-p:c[h+1]-p;if(g<=0)return null;var x=h%e.length;return le.createElement("rect",{key:"react-".concat(h),y:p,x:r,height:g,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Age(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==c[0]&&c.unshift(0);var f=c.map(function(p,h){var y=!c[h+1],g=y?a+s-p:c[h+1]-p;if(g<=0)return null;var x=h%r.length;return le.createElement("rect",{key:"react-".concat(h),x:p,y:o,width:g,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Ege=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return SM(XS(Xr(Xr(Xr({},Af.defaultProps),r),{},{ticks:rs(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},Nge=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return SM(XS(Xr(Xr(Xr({},Af.defaultProps),r),{},{ticks:rs(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Nc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function wm(t){var e,n,r,i,a,o,s=WS(),l=KS(),u=hme(),c=Xr(Xr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Nc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Nc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Nc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Nc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Nc.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Nc.verticalFill,x:Fe(t.x)?t.x:u.left,y:Fe(t.y)?t.y:u.top,width:Fe(t.width)?t.width:u.width,height:Fe(t.height)?t.height:u.height}),f=c.x,p=c.y,h=c.width,y=c.height,g=c.syncWithTicks,x=c.horizontalValues,v=c.verticalValues,w=cme(),_=dme();if(!Fe(h)||h<=0||!Fe(y)||y<=0||!Fe(f)||f!==+f||!Fe(p)||p!==+p)return null;var A=c.verticalCoordinatesGenerator||Ege,S=c.horizontalCoordinatesGenerator||Nge,N=c.horizontalPoints,C=c.verticalPoints;if((!N||!N.length)&&_t(S)){var I=x&&x.length,R=S({yAxis:_?Xr(Xr({},_),{},{ticks:I?x:_.ticks}):void 0,width:s,height:l,offset:u},I?!0:g);Wa(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(zu(R),"]")),Array.isArray(R)&&(N=R)}if((!C||!C.length)&&_t(A)){var U=v&&v.length,P=A({xAxis:w?Xr(Xr({},w),{},{ticks:U?v:w.ticks}):void 0,width:s,height:l,offset:u},U?!0:g);Wa(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(zu(P),"]")),Array.isArray(P)&&(C=P)}return le.createElement("g",{className:"recharts-cartesian-grid"},le.createElement(bge,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),le.createElement(wge,Nu({},c,{offset:u,horizontalPoints:N,xAxis:w,yAxis:_})),le.createElement(_ge,Nu({},c,{offset:u,verticalPoints:C,xAxis:w,yAxis:_})),le.createElement(Sge,Nu({},c,{horizontalPoints:N})),le.createElement(Age,Nu({},c,{verticalPoints:C})))}wm.displayName="CartesianGrid";var Tge=["type","layout","connectNulls","ref"],Pge=["key"];function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function Vk(t,e){if(t==null)return{};var n=Cge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gh.apply(this,arguments)}function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){Ba(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tc(t){return jge(t)||Oge(t)||Ige(t)||kge()}function kge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ige(t,e){if(t){if(typeof t=="string")return p_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(t,e)}}function Oge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jge(t){if(Array.isArray(t))return p_(t)}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CD(r.key),r)}}function Lge(t,e,n){return e&&Hk(t.prototype,e),n&&Hk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mge(t,e,n){return e=Qv(e),Dge(t,PD()?Reflect.construct(e,n||[],Qv(t).constructor):e.apply(t,n))}function Dge(t,e){if(e&&(Jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ge(t)}function $ge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PD=function(){return!!t})()}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qv(t)}function Fge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m_(t,e)}function m_(t,e){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},m_(t,e)}function Ba(t,e,n){return e=CD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CD(t){var e=Uge(t,"string");return Jd(e)=="symbol"?e:e+""}function Uge(t,e){if(Jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bl=function(t){function e(){var n;Rge(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Mge(this,e,[].concat(i)),Ba(n,"state",{isAnimationFinished:!0,totalLength:0}),Ba(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),Ba(n,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(v,w){return v+w});if(!u)return n.generateSimpleStrokeDasharray(s,o);for(var c=Math.floor(o/u),f=o%u,p=s-o,h=[],y=0,g=0;y<l.length;g+=l[y],++y)if(g+l[y]>f){h=[].concat(Tc(l.slice(0,y)),[f-g]);break}var x=h.length%2===0?[0,p]:[p];return[].concat(Tc(e.repeat(l,c)),Tc(h),x).map(function(v){return"".concat(v,"px")}).join(", ")}),Ba(n,"id",yf("recharts-line-")),Ba(n,"pathRef",function(o){n.mainCurve=o}),Ba(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ba(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Fge(e,t),Lge(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=Hi(c,bm);if(!f)return null;var p=function(g,x){return{x:g.x,y:g.y,value:g.value,errorVal:vr(g.payload,x)}},h={clipPath:r?"url(#clipPath-".concat(i,")"):null};return le.createElement(Wt,h,f.map(function(y){return le.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=pt(this.props,!1),p=pt(l,!0),h=u.map(function(g,x){var v=ji(ji(ji({key:"dot-".concat(x),r:3},f),p),{},{index:x,cx:g.x,cy:g.y,value:g.value,dataKey:c,payload:g.payload,points:u});return e.renderDotItem(l,v)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return le.createElement(Wt,Gh({className:"recharts-line-dots",key:"dots"},y),h)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=Vk(s,Tge),p=ji(ji(ji({},pt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:u,connectNulls:c});return le.createElement(jv,Gh({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,c=o.animationBegin,f=o.animationDuration,p=o.animationEasing,h=o.animationId,y=o.animateNewValues,g=o.width,x=o.height,v=this.state,w=v.prevPoints,_=v.totalLength;return le.createElement(No,{begin:c,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var S=A.t;if(w){var N=w.length/s.length,C=s.map(function(O,D){var L=Math.floor(D*N);if(w[L]){var B=w[L],J=Di(B.x,O.x),H=Di(B.y,O.y);return ji(ji({},O),{},{x:J(S),y:H(S)})}if(y){var M=Di(g*2,O.x),X=Di(x/2,O.y);return ji(ji({},O),{},{x:M(S),y:X(S)})}return ji(ji({},O),{},{x:O.x,y:O.y})});return a.renderCurveStatically(C,r,i)}var I=Di(0,_),R=I(S),U;if(l){var P="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});U=a.getStrokeDasharray(R,_,P)}else U=a.generateSimpleStrokeDasharray(_,R);return a.renderCurveStatically(s,r,i,{strokeDasharray:U})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&o&&o.length&&(!u&&c>0||!xm(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,p=i.left,h=i.width,y=i.height,g=i.isAnimationActive,x=i.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,w=s.length===1,_=Lt("recharts-line",l),A=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,N=A||S,C=It(x)?this.id:x,I=(r=pt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},R=I.r,U=R===void 0?3:R,P=I.strokeWidth,O=P===void 0?2:P,D=lW(o)?o:{},L=D.clipDot,B=L===void 0?!0:L,J=U*2+O;return le.createElement(Wt,{className:_},A||S?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(C)},le.createElement("rect",{x:A?p:p-h/2,y:S?f:f-y/2,width:A?h:h*2,height:S?y:y*2})),!B&&le.createElement("clipPath",{id:"clipPath-dots-".concat(C)},le.createElement("rect",{x:p-J/2,y:f-J/2,width:h+J,height:y+J}))):null,!w&&this.renderCurve(N,C),this.renderErrorBar(N,C),(w||o)&&this.renderDots(N,B,C),(!g||v)&&ss.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Tc(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(Tc(o),Tc(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(le.isValidElement(r))a=le.cloneElement(r,i);else if(_t(r))a=r(i);else{var o=i.key,s=Vk(i,Pge),l=Lt("recharts-line-dot",typeof r!="boolean"?r.className:"");a=le.createElement(c1,Gh({key:o},s,{className:l}))}return a}}])}(K.PureComponent);Ba(bl,"displayName","Line");Ba(bl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Zu.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ba(bl,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(p,h){var y=vr(p,o);return c==="horizontal"?{x:mC({axis:n,ticks:i,bandSize:s,entry:p,index:h}),y:It(y)?null:r.scale(y),value:y,payload:p}:{x:It(y)?null:n.scale(y),y:mC({axis:r,ticks:a,bandSize:s,entry:p,index:h}),value:y,payload:p}});return ji({points:f,layout:c},u)});function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function Bge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OD(r.key),r)}}function Vge(t,e,n){return e&&qge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zge(t,e,n){return e=e0(e),Hge(t,kD()?Reflect.construct(e,n||[],e0(t).constructor):e.apply(t,n))}function Hge(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gge(t)}function Gge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kD=function(){return!!t})()}function e0(t){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e0(t)}function Wge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g_(t,e)}function g_(t,e){return g_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},g_(t,e)}function ID(t,e,n){return e=OD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OD(t){var e=Kge(t,"string");return Yd(e)=="symbol"?e:e+""}function Kge(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function y_(){return y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y_.apply(this,arguments)}function Jge(t){var e=t.xAxisId,n=WS(),r=KS(),i=gD(e);return i==null?null:K.createElement(Af,y_({},i,{className:Lt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return rs(o,!0)}}))}var Il=function(t){function e(){return Bge(this,e),zge(this,e,arguments)}return Wge(e,t),Vge(e,[{key:"render",value:function(){return K.createElement(Jge,this.props)}}])}(K.Component);ID(Il,"displayName","XAxis");ID(Il,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function Yge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LD(r.key),r)}}function Zge(t,e,n){return e&&Xge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qge(t,e,n){return e=t0(e),eye(t,jD()?Reflect.construct(e,n||[],t0(t).constructor):e.apply(t,n))}function eye(t,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tye(t)}function tye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jD=function(){return!!t})()}function t0(t){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t0(t)}function nye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v_(t,e)}function v_(t,e){return v_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},v_(t,e)}function RD(t,e,n){return e=LD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LD(t){var e=rye(t,"string");return Xd(e)=="symbol"?e:e+""}function rye(t,e){if(Xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function x_(){return x_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x_.apply(this,arguments)}var iye=function(e){var n=e.yAxisId,r=WS(),i=KS(),a=yD(n);return a==null?null:K.createElement(Af,x_({},a,{className:Lt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return rs(s,!0)}}))},Ol=function(t){function e(){return Yge(this,e),Qge(this,e,arguments)}return nye(e,t),Zge(e,[{key:"render",value:function(){return K.createElement(iye,this.props)}}])}(K.Component);RD(Ol,"displayName","YAxis");RD(Ol,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Gk(t){return lye(t)||sye(t)||oye(t)||aye()}function aye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oye(t,e){if(t){if(typeof t=="string")return b_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b_(t,e)}}function sye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lye(t){if(Array.isArray(t))return b_(t)}function b_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var w_=function(e,n,r,i,a){var o=Hi(e,YS),s=Hi(e,x1),l=[].concat(Gk(o),Gk(s)),u=Hi(e,w1),c="".concat(i,"Id"),f=i[0],p=n;if(l.length&&(p=l.reduce(function(g,x){if(x.props[c]===r&&So(x.props,"extendDomain")&&Fe(x.props[f])){var v=x.props[f];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},p)),u.length){var h="".concat(f,"1"),y="".concat(f,"2");p=u.reduce(function(g,x){if(x.props[c]===r&&So(x.props,"extendDomain")&&Fe(x.props[h])&&Fe(x.props[y])){var v=x.props[h],w=x.props[y];return[Math.min(g[0],v,w),Math.max(g[1],v,w)]}return g},p)}return a&&a.length&&(p=a.reduce(function(g,x){return Fe(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},p)),p},MD={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,f||l,p),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],h]:l._events[y].push(h):(l._events[y]=h,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,y=new Array(h);p<h;p++)y[p]=f[p].fn;return y},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,p,h,y){var g=n?n+u:u;if(!this._events[g])return!1;var x=this._events[g],v=arguments.length,w,_;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,f),!0;case 4:return x.fn.call(x.context,c,f,p),!0;case 5:return x.fn.call(x.context,c,f,p,h),!0;case 6:return x.fn.call(x.context,c,f,p,h,y),!0}for(_=1,w=new Array(v-1);_<v;_++)w[_-1]=arguments[_];x.fn.apply(x.context,w)}else{var A=x.length,S;for(_=0;_<A;_++)switch(x[_].once&&this.removeListener(u,x[_].fn,void 0,!0),v){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,c);break;case 3:x[_].fn.call(x[_].context,c,f);break;case 4:x[_].fn.call(x[_].context,c,f,p);break;default:if(!w)for(S=1,w=new Array(v-1);S<v;S++)w[S-1]=arguments[S];x[_].fn.apply(x[_].context,w)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,p){var h=n?n+u:u;if(!this._events[h])return this;if(!c)return o(this,h),this;var y=this._events[h];if(y.fn)y.fn===c&&(!p||y.once)&&(!f||y.context===f)&&o(this,h);else{for(var g=0,x=[],v=y.length;g<v;g++)(y[g].fn!==c||p&&!y[g].once||f&&y[g].context!==f)&&x.push(y[g]);x.length?this._events[h]=x.length===1?x[0]:x:o(this,h)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(MD);var uye=MD.exports;const cye=sn(uye);var fb=new cye,hb="recharts.syncMouseEvents";function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function dye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DD(r.key),r)}}function hye(t,e,n){return e&&fye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pb(t,e,n){return e=DD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DD(t){var e=pye(t,"string");return Qp(e)=="symbol"?e:e+""}function pye(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mye=function(){function t(){dye(this,t),pb(this,"activeIndex",0),pb(this,"coordinateList",[]),pb(this,"layout","horizontal")}return hye(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,p=n.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,p=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function gye(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Fe(r)&&Fe(i))return!0}return!1}function yye(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function $D(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=wn(e,n,r,i),s=wn(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function vye(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,p=wn(s,l,u,f),h=wn(s,l,c,f);r=p.x,i=p.y,a=h.x,o=h.y}else return $D(e);return[{x:r,y:i},{x:a,y:o}]}function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(r){xye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xye(t,e,n){return e=bye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bye(t){var e=wye(t,"string");return em(e)=="symbol"?e:e+""}function wye(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ye(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,h=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!a||!o||p!=="ScatterChart"&&i!=="axis")return null;var y,g=jv;if(p==="ScatterChart")y=o,g=Ude;else if(p==="BarChart")y=yye(f,o,l,c),g=VS;else if(f==="radial"){var x=$D(o),v=x.cx,w=x.cy,_=x.radius,A=x.startAngle,S=x.endAngle;y={cx:v,cy:w,startAngle:A,endAngle:S,innerRadius:_,outerRadius:_},g=RM}else y={points:vye(f,o,l)},g=jv;var N=Vg(Vg(Vg(Vg({stroke:"#ccc",pointerEvents:"none"},l),y),pt(h,!1)),{},{payload:s,payloadIndex:u,className:Lt("recharts-tooltip-cursor",h.className)});return K.isValidElement(h)?K.cloneElement(h,N):K.createElement(g,N)}var Sye=["item"],Aye=["children","className","width","height","style","compact","title","desc"];function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function Zc(){return Zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zc.apply(this,arguments)}function Kk(t,e){return Tye(t)||Nye(t,e)||UD(t,e)||Eye()}function Eye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Tye(t){if(Array.isArray(t))return t}function Jk(t,e){if(t==null)return{};var n=Pye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BD(r.key),r)}}function Iye(t,e,n){return e&&kye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oye(t,e,n){return e=n0(e),jye(t,FD()?Reflect.construct(e,n||[],n0(t).constructor):e.apply(t,n))}function jye(t,e){if(e&&(Zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rye(t)}function Rye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FD=function(){return!!t})()}function n0(t){return n0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n0(t)}function Lye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&__(t,e)}function __(t,e){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},__(t,e)}function Qd(t){return $ye(t)||Dye(t)||UD(t)||Mye()}function Mye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UD(t,e){if(t){if(typeof t=="string")return S_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S_(t,e)}}function Dye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ye(t){if(Array.isArray(t))return S_(t)}function S_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){vt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vt(t,e,n){return e=BD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BD(t){var e=Fye(t,"string");return Zd(e)=="symbol"?e:e+""}function Fye(t,e){if(Zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uye={xAxis:["bottom","top"],yAxis:["left","right"]},Bye={width:"100%",height:"100%"},qD={x:0,y:0};function zg(t){return t}var qye=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Vye=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Ae(Ae(Ae({},i),wn(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return Ae(Ae(Ae({},i),wn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return qD},_1=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Qd(s),Qd(u)):s},[]);return o.length>0?o:e&&e.length&&Fe(i)&&Fe(a)?e.slice(i,a+1):[]};function VD(t){return t==="number"?[0,"auto"]:void 0}var A_=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=_1(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?s:f;p=nv(h,o.dataKey,i)}else p=f&&f[r]||s[r];return p?[].concat(Qd(l),[PM(u,p)]):l},[])},Xk=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=qye(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=ule(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,p=A_(e,n,c,f),h=Vye(r,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},zye=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,p=e.stackOffset,h=_M(c,a);return r.reduce(function(y,g){var x,v=g.type.defaultProps!==void 0?Ae(Ae({},g.type.defaultProps),g.props):g.props,w=v.type,_=v.dataKey,A=v.allowDataOverflow,S=v.allowDuplicatedCategory,N=v.scale,C=v.ticks,I=v.includeHidden,R=v[o];if(y[R])return y;var U=_1(e.data,{graphicalItems:i.filter(function(k){var q,G=o in k.props?k.props[o]:(q=k.type.defaultProps)===null||q===void 0?void 0:q[o];return G===R}),dataStartIndex:l,dataEndIndex:u}),P=U.length,O,D,L;gye(v.domain,A,w)&&(O=$2(v.domain,null,A),h&&(w==="number"||N!=="auto")&&(L=qh(U,_,"category")));var B=VD(w);if(!O||O.length===0){var J,H=(J=v.domain)!==null&&J!==void 0?J:B;if(_){if(O=qh(U,_,w),w==="category"&&h){var M=ZG(O);S&&M?(D=O,O=Vv(0,P)):S||(O=xC(H,O,g).reduce(function(k,q){return k.indexOf(q)>=0?k:[].concat(Qd(k),[q])},[]))}else if(w==="category")S?O=O.filter(function(k){return k!==""&&!It(k)}):O=xC(H,O,g).reduce(function(k,q){return k.indexOf(q)>=0||q===""||It(q)?k:[].concat(Qd(k),[q])},[]);else if(w==="number"){var X=ple(U,i.filter(function(k){var q,G,te=o in k.props?k.props[o]:(q=k.type.defaultProps)===null||q===void 0?void 0:q[o],re="hide"in k.props?k.props.hide:(G=k.type.defaultProps)===null||G===void 0?void 0:G.hide;return te===R&&(I||!re)}),_,a,c);X&&(O=X)}h&&(w==="number"||N!=="auto")&&(L=qh(U,_,"category"))}else h?O=Vv(0,P):s&&s[R]&&s[R].hasStack&&w==="number"?O=p==="expand"?[0,1]:TM(s[R].stackGroups,l,u):O=wM(U,i.filter(function(k){var q=o in k.props?k.props[o]:k.type.defaultProps[o],G="hide"in k.props?k.props.hide:k.type.defaultProps.hide;return q===R&&(I||!G)}),w,c,!0);if(w==="number")O=w_(f,O,R,a,C),H&&(O=$2(H,O,A));else if(w==="category"&&H){var oe=H,ie=O.every(function(k){return oe.indexOf(k)>=0});ie&&(O=oe)}}return Ae(Ae({},y),{},vt({},R,Ae(Ae({},v),{},{axisType:a,domain:O,categoricalDomain:L,duplicateDomain:D,originalDomain:(x=v.domain)!==null&&x!==void 0?x:B,isCategorical:h,layout:c})))},{})},Hye=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,p=_1(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),h=p.length,y=_M(c,a),g=-1;return r.reduce(function(x,v){var w=v.type.defaultProps!==void 0?Ae(Ae({},v.type.defaultProps),v.props):v.props,_=w[o],A=VD("number");if(!x[_]){g++;var S;return y?S=Vv(0,h):s&&s[_]&&s[_].hasStack?(S=TM(s[_].stackGroups,l,u),S=w_(f,S,_,a)):(S=$2(A,wM(p,r.filter(function(N){var C,I,R=o in N.props?N.props[o]:(C=N.type.defaultProps)===null||C===void 0?void 0:C[o],U="hide"in N.props?N.props.hide:(I=N.type.defaultProps)===null||I===void 0?void 0:I.hide;return R===_&&!U}),"number",c),i.defaultProps.allowDataOverflow),S=w_(f,S,_,a)),Ae(Ae({},x),{},vt({},_,Ae(Ae({axisType:a},i.defaultProps),{},{hide:!0,orientation:zi(Uye,"".concat(a,".").concat(g%2),null),domain:S,originalDomain:A,isCategorical:y,layout:c})))}return x},{})},Gye=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),p=Hi(c,a),h={};return p&&p.length?h=zye(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(h=Hye(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),h},Wye=function(e){var n=Zs(e),r=rs(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:gS(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:kv(n,r)}},Zk=function(e){var n=e.children,r=e.defaultShowTooltip,i=Mi(n,Vd),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Kye=function(e){return!e||!e.length?!1:e.some(function(n){var r=as(n&&n.type);return r&&r.indexOf("Bar")>=0})},Qk=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Jye=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,p=r.margin||{},h=Mi(f,Vd),y=Mi(f,wo),g=Object.keys(l).reduce(function(S,N){var C=l[N],I=C.orientation;return!C.mirror&&!C.hide?Ae(Ae({},S),{},vt({},I,S[I]+C.width)):S},{left:p.left||0,right:p.right||0}),x=Object.keys(o).reduce(function(S,N){var C=o[N],I=C.orientation;return!C.mirror&&!C.hide?Ae(Ae({},S),{},vt({},I,zi(S,"".concat(I))+C.height)):S},{top:p.top||0,bottom:p.bottom||0}),v=Ae(Ae({},x),g),w=v.bottom;h&&(v.bottom+=h.props.height||Vd.defaultProps.height),y&&n&&(v=fle(v,i,r,n));var _=u-v.left-v.right,A=c-v.top-v.bottom;return Ae(Ae({brushBottom:w},v),{},{width:Math.max(_,0),height:Math.max(A,0)})},Yye=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},QS=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,p=function(v,w){var _=w.graphicalItems,A=w.stackGroups,S=w.offset,N=w.updateId,C=w.dataStartIndex,I=w.dataEndIndex,R=v.barSize,U=v.layout,P=v.barGap,O=v.barCategoryGap,D=v.maxBarSize,L=Qk(U),B=L.numericAxisName,J=L.cateAxisName,H=Kye(_),M=[];return _.forEach(function(X,oe){var ie=_1(v.data,{graphicalItems:[X],dataStartIndex:C,dataEndIndex:I}),k=X.type.defaultProps!==void 0?Ae(Ae({},X.type.defaultProps),X.props):X.props,q=k.dataKey,G=k.maxBarSize,te=k["".concat(B,"Id")],re=k["".concat(J,"Id")],ce={},ye=l.reduce(function(_e,Le){var Re=w["".concat(Le.axisType,"Map")],it=k["".concat(Le.axisType,"Id")];Re&&Re[it]||Le.axisType==="zAxis"||Vu();var De=Re[it];return Ae(Ae({},_e),{},vt(vt({},Le.axisType,De),"".concat(Le.axisType,"Ticks"),rs(De)))},ce),se=ye[J],me=ye["".concat(J,"Ticks")],we=A&&A[te]&&A[te].hasStack&&Sle(X,A[te].stackGroups),he=as(X.type).indexOf("Bar")>=0,Ie=kv(se,me),ae=[],Z=H&&cle({barSize:R,stackGroups:A,totalSize:Yye(ye,J)});if(he){var Be,Ue,Ve=It(G)?D:G,be=(Be=(Ue=kv(se,me,!0))!==null&&Ue!==void 0?Ue:Ve)!==null&&Be!==void 0?Be:0;ae=dle({barGap:P,barCategoryGap:O,bandSize:be!==Ie?be:Ie,sizeList:Z[re],maxBarSize:Ve}),be!==Ie&&(ae=ae.map(function(_e){return Ae(Ae({},_e),{},{position:Ae(Ae({},_e.position),{},{offset:_e.position.offset-be/2})})}))}var Oe=X&&X.type&&X.type.getComposedData;Oe&&M.push({props:Ae(Ae({},Oe(Ae(Ae({},ye),{},{displayedData:ie,props:v,dataKey:q,item:X,bandSize:Ie,barPosition:ae,offset:S,stackedData:we,layout:U,dataStartIndex:C,dataEndIndex:I}))),{},vt(vt(vt({key:X.key||"item-".concat(oe)},B,ye[B]),J,ye[J]),"animationId",N)),childIndex:dW(X,v.children),item:X})}),M},h=function(v,w){var _=v.props,A=v.dataStartIndex,S=v.dataEndIndex,N=v.updateId;if(!fT({props:_}))return null;var C=_.children,I=_.layout,R=_.stackOffset,U=_.data,P=_.reverseStackOrder,O=Qk(I),D=O.numericAxisName,L=O.cateAxisName,B=Hi(C,r),J=wle(U,B,"".concat(D,"Id"),"".concat(L,"Id"),R,P),H=l.reduce(function(k,q){var G="".concat(q.axisType,"Map");return Ae(Ae({},k),{},vt({},G,Gye(_,Ae(Ae({},q),{},{graphicalItems:B,stackGroups:q.axisType===D&&J,dataStartIndex:A,dataEndIndex:S}))))},{}),M=Jye(Ae(Ae({},H),{},{props:_,graphicalItems:B}),w==null?void 0:w.legendBBox);Object.keys(H).forEach(function(k){H[k]=c(_,H[k],M,k.replace("Map",""),n)});var X=H["".concat(L,"Map")],oe=Wye(X),ie=p(_,Ae(Ae({},H),{},{dataStartIndex:A,dataEndIndex:S,updateId:N,graphicalItems:B,stackGroups:J,offset:M}));return Ae(Ae({formattedGraphicalItems:ie,graphicalItems:B,offset:M,stackGroups:J},oe),H)},y=function(x){function v(w){var _,A,S;return Cye(this,v),S=Oye(this,v,[w]),vt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),vt(S,"accessibilityManager",new mye),vt(S,"handleLegendBBoxUpdate",function(N){if(N){var C=S.state,I=C.dataStartIndex,R=C.dataEndIndex,U=C.updateId;S.setState(Ae({legendBBox:N},h({props:S.props,dataStartIndex:I,dataEndIndex:R,updateId:U},Ae(Ae({},S.state),{},{legendBBox:N}))))}}),vt(S,"handleReceiveSyncEvent",function(N,C,I){if(S.props.syncId===N){if(I===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(C)}}),vt(S,"handleBrushChange",function(N){var C=N.startIndex,I=N.endIndex;if(C!==S.state.dataStartIndex||I!==S.state.dataEndIndex){var R=S.state.updateId;S.setState(function(){return Ae({dataStartIndex:C,dataEndIndex:I},h({props:S.props,dataStartIndex:C,dataEndIndex:I,updateId:R},S.state))}),S.triggerSyncEvent({dataStartIndex:C,dataEndIndex:I})}}),vt(S,"handleMouseEnter",function(N){var C=S.getMouseInfo(N);if(C){var I=Ae(Ae({},C),{},{isTooltipActive:!0});S.setState(I),S.triggerSyncEvent(I);var R=S.props.onMouseEnter;_t(R)&&R(I,N)}}),vt(S,"triggeredAfterMouseMove",function(N){var C=S.getMouseInfo(N),I=C?Ae(Ae({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(I),S.triggerSyncEvent(I);var R=S.props.onMouseMove;_t(R)&&R(I,N)}),vt(S,"handleItemMouseEnter",function(N){S.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),vt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),vt(S,"handleMouseMove",function(N){N.persist(),S.throttleTriggeredAfterMouseMove(N)}),vt(S,"handleMouseLeave",function(N){S.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var I=S.props.onMouseLeave;_t(I)&&I(C,N)}),vt(S,"handleOuterEvent",function(N){var C=cW(N),I=zi(S.props,"".concat(C));if(C&&_t(I)){var R,U;/.*touch.*/i.test(C)?U=S.getMouseInfo(N.changedTouches[0]):U=S.getMouseInfo(N),I((R=U)!==null&&R!==void 0?R:{},N)}}),vt(S,"handleClick",function(N){var C=S.getMouseInfo(N);if(C){var I=Ae(Ae({},C),{},{isTooltipActive:!0});S.setState(I),S.triggerSyncEvent(I);var R=S.props.onClick;_t(R)&&R(I,N)}}),vt(S,"handleMouseDown",function(N){var C=S.props.onMouseDown;if(_t(C)){var I=S.getMouseInfo(N);C(I,N)}}),vt(S,"handleMouseUp",function(N){var C=S.props.onMouseUp;if(_t(C)){var I=S.getMouseInfo(N);C(I,N)}}),vt(S,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),vt(S,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseDown(N.changedTouches[0])}),vt(S,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseUp(N.changedTouches[0])}),vt(S,"handleDoubleClick",function(N){var C=S.props.onDoubleClick;if(_t(C)){var I=S.getMouseInfo(N);C(I,N)}}),vt(S,"handleContextMenu",function(N){var C=S.props.onContextMenu;if(_t(C)){var I=S.getMouseInfo(N);C(I,N)}}),vt(S,"triggerSyncEvent",function(N){S.props.syncId!==void 0&&fb.emit(hb,S.props.syncId,N,S.eventEmitterSymbol)}),vt(S,"applySyncEvent",function(N){var C=S.props,I=C.layout,R=C.syncMethod,U=S.state.updateId,P=N.dataStartIndex,O=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)S.setState(Ae({dataStartIndex:P,dataEndIndex:O},h({props:S.props,dataStartIndex:P,dataEndIndex:O,updateId:U},S.state)));else if(N.activeTooltipIndex!==void 0){var D=N.chartX,L=N.chartY,B=N.activeTooltipIndex,J=S.state,H=J.offset,M=J.tooltipTicks;if(!H)return;if(typeof R=="function")B=R(M,N);else if(R==="value"){B=-1;for(var X=0;X<M.length;X++)if(M[X].value===N.activeLabel){B=X;break}}var oe=Ae(Ae({},H),{},{x:H.left,y:H.top}),ie=Math.min(D,oe.x+oe.width),k=Math.min(L,oe.y+oe.height),q=M[B]&&M[B].value,G=A_(S.state,S.props.data,B),te=M[B]?{x:I==="horizontal"?M[B].coordinate:ie,y:I==="horizontal"?k:M[B].coordinate}:qD;S.setState(Ae(Ae({},N),{},{activeLabel:q,activeCoordinate:te,activePayload:G,activeTooltipIndex:B}))}else S.setState(N)}),vt(S,"renderCursor",function(N){var C,I=S.state,R=I.isTooltipActive,U=I.activeCoordinate,P=I.activePayload,O=I.offset,D=I.activeTooltipIndex,L=I.tooltipAxisBandSize,B=S.getTooltipEventType(),J=(C=N.props.active)!==null&&C!==void 0?C:R,H=S.props.layout,M=N.key||"_recharts-cursor";return le.createElement(_ye,{key:M,activeCoordinate:U,activePayload:P,activeTooltipIndex:D,chartName:n,element:N,isActive:J,layout:H,offset:O,tooltipAxisBandSize:L,tooltipEventType:B})}),vt(S,"renderPolarAxis",function(N,C,I){var R=zi(N,"type.axisType"),U=zi(S.state,"".concat(R,"Map")),P=N.type.defaultProps,O=P!==void 0?Ae(Ae({},P),N.props):N.props,D=U&&U[O["".concat(R,"Id")]];return K.cloneElement(N,Ae(Ae({},D),{},{className:Lt(R,D.className),key:N.key||"".concat(C,"-").concat(I),ticks:rs(D,!0)}))}),vt(S,"renderPolarGrid",function(N){var C=N.props,I=C.radialLines,R=C.polarAngles,U=C.polarRadius,P=S.state,O=P.radiusAxisMap,D=P.angleAxisMap,L=Zs(O),B=Zs(D),J=B.cx,H=B.cy,M=B.innerRadius,X=B.outerRadius;return K.cloneElement(N,{polarAngles:Array.isArray(R)?R:rs(B,!0).map(function(oe){return oe.coordinate}),polarRadius:Array.isArray(U)?U:rs(L,!0).map(function(oe){return oe.coordinate}),cx:J,cy:H,innerRadius:M,outerRadius:X,key:N.key||"polar-grid",radialLines:I})}),vt(S,"renderLegend",function(){var N=S.state.formattedGraphicalItems,C=S.props,I=C.children,R=C.width,U=C.height,P=S.props.margin||{},O=R-(P.left||0)-(P.right||0),D=xM({children:I,formattedGraphicalItems:N,legendWidth:O,legendContent:u});if(!D)return null;var L=D.item,B=Jk(D,Sye);return K.cloneElement(L,Ae(Ae({},B),{},{chartWidth:R,chartHeight:U,margin:P,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),vt(S,"renderTooltip",function(){var N,C=S.props,I=C.children,R=C.accessibilityLayer,U=Mi(I,pi);if(!U)return null;var P=S.state,O=P.isTooltipActive,D=P.activeCoordinate,L=P.activePayload,B=P.activeLabel,J=P.offset,H=(N=U.props.active)!==null&&N!==void 0?N:O;return K.cloneElement(U,{viewBox:Ae(Ae({},J),{},{x:J.left,y:J.top}),active:H,label:B,payload:H?L:[],coordinate:D,accessibilityLayer:R})}),vt(S,"renderBrush",function(N){var C=S.props,I=C.margin,R=C.data,U=S.state,P=U.offset,O=U.dataStartIndex,D=U.dataEndIndex,L=U.updateId;return K.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Fg(S.handleBrushChange,N.props.onChange),data:R,x:Fe(N.props.x)?N.props.x:P.left,y:Fe(N.props.y)?N.props.y:P.top+P.height+P.brushBottom-(I.bottom||0),width:Fe(N.props.width)?N.props.width:P.width,startIndex:O,endIndex:D,updateId:"brush-".concat(L)})}),vt(S,"renderReferenceElement",function(N,C,I){if(!N)return null;var R=S,U=R.clipPathId,P=S.state,O=P.xAxisMap,D=P.yAxisMap,L=P.offset,B=N.type.defaultProps||{},J=N.props,H=J.xAxisId,M=H===void 0?B.xAxisId:H,X=J.yAxisId,oe=X===void 0?B.yAxisId:X;return K.cloneElement(N,{key:N.key||"".concat(C,"-").concat(I),xAxis:O[M],yAxis:D[oe],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:U})}),vt(S,"renderActivePoints",function(N){var C=N.item,I=N.activePoint,R=N.basePoint,U=N.childIndex,P=N.isRange,O=[],D=C.props.key,L=C.item.type.defaultProps!==void 0?Ae(Ae({},C.item.type.defaultProps),C.item.props):C.item.props,B=L.activeDot,J=L.dataKey,H=Ae(Ae({index:U,dataKey:J,cx:I.x,cy:I.y,r:4,fill:qS(C.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},pt(B,!1)),rv(B));return O.push(v.renderActiveDot(B,H,"".concat(D,"-activePoint-").concat(U))),R?O.push(v.renderActiveDot(B,Ae(Ae({},H),{},{cx:R.x,cy:R.y}),"".concat(D,"-basePoint-").concat(U))):P&&O.push(null),O}),vt(S,"renderGraphicChild",function(N,C,I){var R=S.filterFormatItem(N,C,I);if(!R)return null;var U=S.getTooltipEventType(),P=S.state,O=P.isTooltipActive,D=P.tooltipAxis,L=P.activeTooltipIndex,B=P.activeLabel,J=S.props.children,H=Mi(J,pi),M=R.props,X=M.points,oe=M.isRange,ie=M.baseLine,k=R.item.type.defaultProps!==void 0?Ae(Ae({},R.item.type.defaultProps),R.item.props):R.item.props,q=k.activeDot,G=k.hide,te=k.activeBar,re=k.activeShape,ce=!!(!G&&O&&H&&(q||te||re)),ye={};U!=="axis"&&H&&H.props.trigger==="click"?ye={onClick:Fg(S.handleItemMouseEnter,N.props.onClick)}:U!=="axis"&&(ye={onMouseLeave:Fg(S.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Fg(S.handleItemMouseEnter,N.props.onMouseEnter)});var se=K.cloneElement(N,Ae(Ae({},R.props),ye));function me(Le){return typeof D.dataKey=="function"?D.dataKey(Le.payload):null}if(ce)if(L>=0){var we,he;if(D.dataKey&&!D.allowDuplicatedCategory){var Ie=typeof D.dataKey=="function"?me:"payload.".concat(D.dataKey.toString());we=nv(X,Ie,B),he=oe&&ie&&nv(ie,Ie,B)}else we=X==null?void 0:X[L],he=oe&&ie&&ie[L];if(re||te){var ae=N.props.activeIndex!==void 0?N.props.activeIndex:L;return[K.cloneElement(N,Ae(Ae(Ae({},R.props),ye),{},{activeIndex:ae})),null,null]}if(!It(we))return[se].concat(Qd(S.renderActivePoints({item:R,activePoint:we,basePoint:he,childIndex:L,isRange:oe})))}else{var Z,Be=(Z=S.getItemByXY(S.state.activeCoordinate))!==null&&Z!==void 0?Z:{graphicalItem:se},Ue=Be.graphicalItem,Ve=Ue.item,be=Ve===void 0?N:Ve,Oe=Ue.childIndex,_e=Ae(Ae(Ae({},R.props),ye),{},{activeIndex:Oe});return[K.cloneElement(be,_e),null,null]}return oe?[se,null,null]:[se,null]}),vt(S,"renderCustomized",function(N,C,I){return K.cloneElement(N,Ae(Ae({key:"recharts-customized-".concat(I)},S.props),S.state))}),vt(S,"renderMap",{CartesianGrid:{handler:zg,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:zg},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:zg},YAxis:{handler:zg},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:yf("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=vL(S.triggeredAfterMouseMove,(A=w.throttleDelay)!==null&&A!==void 0?A:1e3/60),S.state={},S}return Lye(v,x),Iye(v,[{key:"componentDidMount",value:function(){var _,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,A=_.children,S=_.data,N=_.height,C=_.layout,I=Mi(A,pi);if(I){var R=I.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,P=A_(this.state,S,R,U),O=this.state.tooltipTicks[R].coordinate,D=(this.state.offset.top+N)/2,L=C==="horizontal",B=L?{x:O,y:D}:{y:O,x:D},J=this.state.formattedGraphicalItems.find(function(M){var X=M.item;return X.type.name==="Scatter"});J&&(B=Ae(Ae({},B),J.props.points[R].tooltipPosition),P=J.props.points[R].tooltipPayload);var H={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:U,activePayload:P,activeCoordinate:B};this.setState(H),this.renderCursor(I),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,N;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(_){Qw([Mi(_.children,pi)],[Mi(this.props.children,pi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Mi(this.props.children,pi);if(_&&typeof _.props.shared=="boolean"){var A=_.props.shared?"axis":"item";return s.indexOf(A)>=0?A:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var A=this.container,S=A.getBoundingClientRect(),N=Dre(S),C={chartX:Math.round(_.pageX-N.left),chartY:Math.round(_.pageY-N.top)},I=S.width/A.offsetWidth||1,R=this.inRange(C.chartX,C.chartY,I);if(!R)return null;var U=this.state,P=U.xAxisMap,O=U.yAxisMap,D=this.getTooltipEventType(),L=Xk(this.state,this.props.data,this.props.layout,R);if(D!=="axis"&&P&&O){var B=Zs(P).scale,J=Zs(O).scale,H=B&&B.invert?B.invert(C.chartX):null,M=J&&J.invert?J.invert(C.chartY):null;return Ae(Ae({},C),{},{xValue:H,yValue:M},L)}return L?Ae(Ae({},C),L):null}},{key:"inRange",value:function(_,A){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,C=_/S,I=A/S;if(N==="horizontal"||N==="vertical"){var R=this.state.offset,U=C>=R.left&&C<=R.left+R.width&&I>=R.top&&I<=R.top+R.height;return U?{x:C,y:I}:null}var P=this.state,O=P.angleAxisMap,D=P.radiusAxisMap;if(O&&D){var L=Zs(O);return _C({x:C,y:I},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,A=this.getTooltipEventType(),S=Mi(_,pi),N={};S&&A==="axis"&&(S.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=rv(this.props,this.handleOuterEvent);return Ae(Ae({},C),N)}},{key:"addListener",value:function(){fb.on(hb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){fb.removeListener(hb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,A,S){for(var N=this.state.formattedGraphicalItems,C=0,I=N.length;C<I;C++){var R=N[C];if(R.item===_||R.props.key===_.key||A===as(R.item.type)&&S===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,A=this.state.offset,S=A.left,N=A.top,C=A.height,I=A.width;return le.createElement("defs",null,le.createElement("clipPath",{id:_},le.createElement("rect",{x:S,y:N,height:C,width:I})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(A,S){var N=Kk(S,2),C=N[0],I=N[1];return Ae(Ae({},A),{},vt({},C,I.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(A,S){var N=Kk(S,2),C=N[0],I=N[1];return Ae(Ae({},A),{},vt({},C,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[_])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(_){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[_])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(_){var A=this.state,S=A.formattedGraphicalItems,N=A.activeItem;if(S&&S.length)for(var C=0,I=S.length;C<I;C++){var R=S[C],U=R.props,P=R.item,O=P.type.defaultProps!==void 0?Ae(Ae({},P.type.defaultProps),P.props):P.props,D=as(P.type);if(D==="Bar"){var L=(U.data||[]).find(function(M){return bde(_,M)});if(L)return{graphicalItem:R,payload:L}}else if(D==="RadialBar"){var B=(U.data||[]).find(function(M){return _C(_,M)});if(B)return{graphicalItem:R,payload:B}}else if(m1(R,N)||g1(R,N)||Kp(R,N)){var J=lhe({graphicalItem:R,activeTooltipItem:N,itemData:O.data}),H=O.activeIndex===void 0?J:O.activeIndex;return{graphicalItem:Ae(Ae({},R),{},{childIndex:H}),payload:Kp(R,N)?O.data[J]:R.props.data[J]}}}return null}},{key:"render",value:function(){var _=this;if(!fT(this))return null;var A=this.props,S=A.children,N=A.className,C=A.width,I=A.height,R=A.style,U=A.compact,P=A.title,O=A.desc,D=Jk(A,Aye),L=pt(D,!1);if(U)return le.createElement(kk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement(t2,Zc({},L,{width:C,height:I,title:P,desc:O}),this.renderClipPath(),pT(S,this.renderMap)));if(this.props.accessibilityLayer){var B,J;L.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,L.role=(J=this.props.role)!==null&&J!==void 0?J:"application",L.onKeyDown=function(M){_.accessibilityManager.keyboardEvent(M)},L.onFocus=function(){_.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return le.createElement(kk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement("div",Zc({className:Lt("recharts-wrapper",N),style:Ae({position:"relative",cursor:"default",width:C,height:I},R)},H,{ref:function(X){_.container=X}}),le.createElement(t2,Zc({},L,{width:C,height:I,title:P,desc:O,style:Bye}),this.renderClipPath(),pT(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(K.Component);vt(y,"displayName",n),vt(y,"defaultProps",Ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),vt(y,"getDerivedStateFromProps",function(x,v){var w=x.dataKey,_=x.data,A=x.children,S=x.width,N=x.height,C=x.layout,I=x.stackOffset,R=x.margin,U=v.dataStartIndex,P=v.dataEndIndex;if(v.updateId===void 0){var O=Zk(x);return Ae(Ae(Ae({},O),{},{updateId:0},h(Ae(Ae({props:x},O),{},{updateId:0}),v)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:N,prevLayout:C,prevStackOffset:I,prevMargin:R,prevChildren:A})}if(w!==v.prevDataKey||_!==v.prevData||S!==v.prevWidth||N!==v.prevHeight||C!==v.prevLayout||I!==v.prevStackOffset||!ld(R,v.prevMargin)){var D=Zk(x),L={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},B=Ae(Ae({},Xk(v,_,C)),{},{updateId:v.updateId+1}),J=Ae(Ae(Ae({},D),L),B);return Ae(Ae(Ae({},J),h(Ae({props:x},J),v)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:N,prevLayout:C,prevStackOffset:I,prevMargin:R,prevChildren:A})}if(!Qw(A,v.prevChildren)){var H,M,X,oe,ie=Mi(A,Vd),k=ie&&(H=(M=ie.props)===null||M===void 0?void 0:M.startIndex)!==null&&H!==void 0?H:U,q=ie&&(X=(oe=ie.props)===null||oe===void 0?void 0:oe.endIndex)!==null&&X!==void 0?X:P,G=k!==U||q!==P,te=!It(_),re=te&&!G?v.updateId:v.updateId+1;return Ae(Ae({updateId:re},h(Ae(Ae({props:x},v),{},{updateId:re,dataStartIndex:k,dataEndIndex:q}),v)),{},{prevChildren:A,dataStartIndex:k,dataEndIndex:q})}return null}),vt(y,"renderActiveDot",function(x,v,w){var _;return K.isValidElement(x)?_=K.cloneElement(x,v):_t(x)?_=x(v):_=le.createElement(c1,v),le.createElement(Wt,{className:"recharts-active-dot",key:w},_)});var g=K.forwardRef(function(v,w){return le.createElement(y,Zc({},v,{ref:w}))});return g.displayName=y.displayName,g},eA=QS({chartName:"LineChart",GraphicalChild:bl,axisComponents:[{axisType:"xAxis",AxisComp:Il},{axisType:"yAxis",AxisComp:Ol}],formatAxisMap:lD}),Xye=QS({chartName:"BarChart",GraphicalChild:nc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Il},{axisType:"yAxis",AxisComp:Ol}],formatAxisMap:lD}),Zye=QS({chartName:"PieChart",GraphicalChild:_s,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:p1},{axisType:"radiusAxis",AxisComp:f1}],formatAxisMap:jle,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Qye({data:t}){const e=["#3b82f6","#60a5fa","#93c5fd","#cbd5e1","#ef4444"];return d.jsx(hm,{width:"100%",height:300,children:d.jsxs(Xye,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(wm,{strokeDasharray:"3 3"}),d.jsx(Il,{dataKey:"range"}),d.jsx(Ol,{}),d.jsx(pi,{}),d.jsx(nc,{dataKey:"count",fill:"#3b82f6",radius:[8,8,0,0],children:t.map((n,r)=>d.jsx(pm,{fill:e[r%e.length]},`cell-${r}`))})]})})}function eve({data:t}){return d.jsx(hm,{width:"100%",height:300,children:d.jsxs(eA,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(wm,{strokeDasharray:"3 3"}),d.jsx(Il,{dataKey:"date"}),d.jsx(Ol,{}),d.jsx(pi,{}),d.jsx(wo,{}),d.jsx(bl,{type:"monotone",dataKey:"completions",stroke:"#10b981",strokeWidth:2,name:"Completions"}),d.jsx(bl,{type:"monotone",dataKey:"assignments",stroke:"#3b82f6",strokeWidth:2,name:"Assignments"})]})})}const e3=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function tve({data:t}){return d.jsx(hm,{width:"100%",height:300,children:d.jsxs(Zye,{children:[d.jsx(_s,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:n})=>`${e}: ${(n*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((e,n)=>d.jsx(pm,{fill:e3[n%e3.length]},`cell-${n}`))}),d.jsx(pi,{}),d.jsx(wo,{})]})})}function nve({user:t}){const[e,n]=K.useState({totalAssignments:0,totalCompletions:0,averageScore:0,completionRate:0}),[r,i]=K.useState({scoreDistribution:[],completionTrend:[],stationPerformance:[],studentPerformance:[],hintUsage:[],diagnosisAccuracy:[],timeToCompletion:[],sloTrends:[]}),[a,o]=K.useState(!0);K.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:l}=await Pe.from("stations").select("id, title").eq("created_by",t.id);if(!l)return;const u=l.map(H=>H.id),{data:c}=await Pe.from("case_snapshots").select("id, station_id, clinical_case").in("station_id",u);if(!c)return;const f=c.map(H=>H.id),{data:p}=await Pe.from("assignments").select("id, snapshot_id, created_at, due_at").in("snapshot_id",f),{data:h}=await Pe.from("simulation_runs").select("score, submitted_at, assignment_id, started_at, student_id, transcript").in("assignment_id",(p==null?void 0:p.map(H=>H.id))||[]),y=(h==null?void 0:h.filter(H=>H.submitted_at))||[],g=y.map(H=>{var M;return((M=H.score)==null?void 0:M.overall)||0}).filter(H=>H>0),x=g.length>0?g.reduce((H,M)=>H+M,0)/g.length:0;n({totalAssignments:(p==null?void 0:p.length)||0,totalCompletions:y.length,averageScore:Math.round(x),completionRate:p&&p.length>0?Math.round(y.length/p.length*100):0});const w=[{range:"0-20",min:0,max:20},{range:"21-40",min:21,max:40},{range:"41-60",min:41,max:60},{range:"61-80",min:61,max:80},{range:"81-100",min:81,max:100}].map(H=>({range:H.range,count:g.filter(M=>M>=H.min&&M<=H.max).length})),_=new Date,A=[];for(let H=6;H>=0;H--){const M=new Date(_);M.setDate(M.getDate()-H);const X=M.toISOString().split("T")[0],oe=y.filter(k=>{var G;return((G=k.submitted_at)==null?void 0:G.split("T")[0])===X}).length,ie=(p==null?void 0:p.filter(k=>{var G;return((G=k.created_at)==null?void 0:G.split("T")[0])===X}).length)||0;A.push({date:M.toLocaleDateString("en-US",{month:"short",day:"numeric"}),completions:oe,assignments:ie})}const S=new Map;y.forEach(H=>{const M=p==null?void 0:p.find(X=>X.id===H.assignment_id);if(M){const X=c.find(oe=>oe.id===M.snapshot_id);if(X){const oe=l.find(ie=>ie.id===X.station_id);if(oe){const ie=S.get(oe.title||"Untitled")||0;S.set(oe.title||"Untitled",ie+1)}}}});const N=Array.from(S.entries()).map(([H,M])=>({name:H,value:M})).slice(0,6),C=new Map;p==null||p.forEach(H=>{var q;const M=y.filter(G=>G.assignment_id===H.id),X=M.map(G=>{var te;return((te=G.score)==null?void 0:te.overall)||0}).filter(G=>G>0),oe=c.find(G=>G.id===H.snapshot_id),ie=((q=oe==null?void 0:oe.clinical_case)==null?void 0:q.title)||"Untitled Assignment",k=new Set(M.map(G=>G.student_id));C.set(ie,{scores:X,completions:M.length,totalStudents:k.size})});const I=Array.from(C.entries()).map(([H,M])=>({assignmentTitle:H,averageScore:M.scores.length>0?Math.round(M.scores.reduce((X,oe)=>X+oe,0)/M.scores.length):0,completions:M.completions,totalStudents:M.totalStudents})).sort((H,M)=>M.averageScore-H.averageScore).slice(0,10),R=new Map;y.forEach(H=>{var X,oe;const M=p==null?void 0:p.find(ie=>ie.id===H.assignment_id);if(M){const ie=c.find(te=>te.id===M.snapshot_id),k=((X=ie==null?void 0:ie.clinical_case)==null?void 0:X.title)||"Untitled Assignment",q=((oe=H.transcript)==null?void 0:oe.hintsUsed)||0,G=R.get(k)||{hints:[],total:0};G.hints.push(q),G.total+=q,R.set(k,G)}});const U=Array.from(R.entries()).map(([H,M])=>({assignmentTitle:H,averageHints:M.hints.length>0?Math.round(M.total/M.hints.length*10)/10:0,totalHints:M.total})).sort((H,M)=>M.averageHints-H.averageHints).slice(0,10),P=[];for(let H=6;H>=0;H--){const M=new Date(_);M.setDate(M.getDate()-H);const X=M.toISOString().split("T")[0],oe=y.filter(q=>{var te;return((te=q.submitted_at)==null?void 0:te.split("T")[0])===X});let ie=0,k=0;oe.forEach(q=>{const G=q.score;(G==null?void 0:G.diagnosisCorrect)!==void 0&&(k++,G.diagnosisCorrect&&ie++)}),P.push({date:M.toLocaleDateString("en-US",{month:"short",day:"numeric"}),accuracy:k>0?Math.round(ie/k*100):0,total:k})}const O=new Map;y.forEach(H=>{var X;const M=p==null?void 0:p.find(oe=>oe.id===H.assignment_id);if(M&&H.started_at&&H.submitted_at){const oe=c.find(re=>re.id===M.snapshot_id),ie=((X=oe==null?void 0:oe.clinical_case)==null?void 0:X.title)||"Untitled Assignment",k=new Date(H.started_at).getTime(),G=(new Date(H.submitted_at).getTime()-k)/(1e3*60),te=O.get(ie)||[];te.push(G),O.set(ie,te)}});const D=Array.from(O.entries()).map(([H,M])=>{const X=[...M].sort((ie,k)=>ie-k),oe=X.length>0?X[Math.floor(X.length/2)]:0;return{assignmentTitle:H,averageTime:M.length>0?Math.round(M.reduce((ie,k)=>ie+k,0)/M.length*10)/10:0,medianTime:Math.round(oe*10)/10}}).slice(0,10),L=new Map;y.forEach(H=>{const M=H.score;((M==null?void 0:M.sloResults)||[]).forEach(oe=>{const ie=L.get(oe.sloId)||{text:"",correct:0,total:0};ie.total++,oe.status==="Achieved"&&ie.correct++,L.set(oe.sloId,ie)})});const{data:B}=await Pe.from("slo").select("id, text");B==null||B.forEach(H=>{const M=L.get(H.id);M&&(M.text=H.text)});const J=Array.from(L.entries()).map(([H,M])=>({sloId:H,sloText:M.text||"Unknown SLO",achievementRate:M.total>0?Math.round(M.correct/M.total*100):0,attempts:M.total})).sort((H,M)=>M.attempts-H.attempts).slice(0,10);i({scoreDistribution:w,completionTrend:A,stationPerformance:N,studentPerformance:I,hintUsage:U,diagnosisAccuracy:P,timeToCompletion:D,sloTrends:J})}catch(l){console.error("Error loading analytics:",l)}finally{o(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Analytics Dashboard"}),a?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Assignments"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.totalAssignments})]}),d.jsx(yo,{className:"w-8 h-8 text-blue-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Completions"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.totalCompletions})]}),d.jsx(yl,{className:"w-8 h-8 text-green-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[e.averageScore,"%"]})]}),d.jsx(uf,{className:"w-8 h-8 text-purple-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Completion Rate"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[e.completionRate,"%"]})]}),d.jsx(Ga,{className:"w-8 h-8 text-orange-600"})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Score Distribution"}),r.scoreDistribution.length>0?d.jsx(Qye,{data:r.scoreDistribution}):d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No score data available"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Completion Trend (Last 7 Days)"}),r.completionTrend.length>0?d.jsx(eve,{data:r.completionTrend}):d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No trend data available"})]})]}),r.stationPerformance.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Station Performance"}),d.jsx(tve,{data:r.stationPerformance})]}),r.studentPerformance.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Top Assignments Performance"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Average Score"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completions"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Students"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.studentPerformance.map((l,u)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.jsxs("span",{className:`font-semibold ${l.averageScore>=80?"text-green-600":l.averageScore>=60?"text-yellow-600":"text-red-600"}`,children:[l.averageScore,"%"]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.completions}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.totalStudents})]},u))})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.diagnosisAccuracy.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Diagnosis Accuracy Trend (Last 7 Days)"}),d.jsx("div",{className:"space-y-3",children:r.diagnosisAccuracy.map((l,u)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:l.date}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${l.accuracy>=80?"bg-green-500":l.accuracy>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${l.accuracy}%`}})}),d.jsxs("span",{className:"text-sm font-semibold text-gray-900 w-12 text-right",children:[l.accuracy,"%"]}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",l.total,")"]})]})]},u))})]}),r.hintUsage.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Hint Usage by Assignment"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Hints"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.hintUsage.map((l,u)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:l.averageHints}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:l.totalHints})]},u))})]})})]})]}),r.timeToCompletion.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Time to Completion"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Time (min)"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Median Time (min)"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.timeToCompletion.map((l,u)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:l.averageTime}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:l.medianTime})]},u))})]})})]}),r.sloTrends.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"SLO Achievement Trends"}),d.jsx("div",{className:"space-y-4",children:r.sloTrends.map((l,u)=>d.jsxs("div",{className:"border-l-4 border-primary-500 pl-4 py-2",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:l.sloText}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${l.achievementRate>=70?"bg-green-500":l.achievementRate>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${l.achievementRate}%`}})}),d.jsxs("span",{className:"text-sm font-semibold text-gray-900 w-16 text-right",children:[l.achievementRate,"%"]}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",l.attempts," attempts)"]})]})]},u))})]})]})]})}),d.jsx($r,{role:"faculty"})]})}function rve({user:t}){const[e,n]=K.useState({totalStations:0,approvedCases:0,pendingReview:0,totalAssignments:0}),[r,i]=K.useState(!0);K.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:s}=await Pe.from("stations").select("id").eq("created_by",t.id),{data:l}=await Pe.from("case_snapshots").select("id, station_id").eq("approved_by",t.id),u=(s==null?void 0:s.map(g=>g.id))||[],{data:c}=await Pe.from("case_snapshots").select("station_id").in("station_id",u),f=new Set((c==null?void 0:c.map(g=>g.station_id))||[]),p=u.filter(g=>!f.has(g)),h=(l==null?void 0:l.map(g=>g.id))||[],{data:y}=await Pe.from("assignments").select("id").in("snapshot_id",h);n({totalStations:(s==null?void 0:s.length)||0,approvedCases:(l==null?void 0:l.length)||0,pendingReview:p.length,totalAssignments:(y==null?void 0:y.length)||0})}catch(s){console.error("Error loading stats:",s)}finally{i(!1)}},o=async()=>{await V5()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Profile"}),d.jsx("p",{className:"text-gray-600",children:"View your account information and statistics"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center",children:d.jsx(xo,{className:"w-10 h-10 text-primary-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(Zj,{className:"w-4 h-4"}),d.jsx("span",{children:t.email})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(cf,{className:"w-4 h-4"}),d.jsxs("span",{children:["Member since ",new Date(t.created_at).toLocaleDateString()]})]})]})]}),d.jsx("div",{className:"border-t pt-4",children:d.jsx("div",{className:"flex items-center gap-2 text-sm",children:d.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full font-medium",children:"Faculty"})})})]}),!r&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.totalStations})]}),d.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:d.jsx(Wi,{className:"w-6 h-6 text-blue-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Approved Cases"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.approvedCases})]}),d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(Ga,{className:"w-6 h-6 text-green-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Pending Review"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.pendingReview})]}),d.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:d.jsx(Yu,{className:"w-6 h-6 text-yellow-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Assignments"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.totalAssignments})]}),d.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:d.jsx(Wi,{className:"w-6 h-6 text-purple-600"})})]})})]}),r&&d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[d.jsx(Xj,{className:"w-5 h-5"}),d.jsx("span",{children:"Sign Out"})]})})]})}),d.jsx($r,{role:"faculty"})]})}function t3({user:t}){const e=Ya(),[n,r]=K.useState([]),[i,a]=K.useState([]),[o,s]=K.useState(!0),[l,u]=K.useState("all"),[c,f]=K.useState(""),[p,h]=K.useState("all");K.useEffect(()=>{y()},[]),K.useEffect(()=>{g()},[n,l,c,p]);const y=async()=>{try{const{data:S}=await Pe.from("cohort_members").select("cohort_id").eq("student_id",t.id);if(!S||S.length===0){s(!1);return}const N=S.map(U=>U.cohort_id),{data:C,error:I}=await Pe.from("assignments").select("*").in("cohort_id",N).order("created_at",{ascending:!1});if(I)throw I;const R=await Promise.all((C||[]).map(async U=>{var H;const{data:P}=await Pe.from("case_snapshots").select("*").eq("id",U.snapshot_id).single(),{data:O}=await Pe.from("simulation_runs").select("id, score, submitted_at").eq("assignment_id",U.id).eq("student_id",t.id).order("submitted_at",{ascending:!1}),D=(O==null?void 0:O.length)||0,L=(O==null?void 0:O.reduce((M,X)=>{const oe=X.score;return Math.max(M,(oe==null?void 0:oe.overall)||0)},0))||0,B=(H=O==null?void 0:O[0])==null?void 0:H.submitted_at;let J="not_started";return D>0&&(J=(O==null?void 0:O.some(X=>X.submitted_at))?"completed":"in_progress"),{...U,snapshot:P,attemptsCount:D,bestScore:L,lastAttempt:B,status:J}}));r(R)}catch(S){console.error("Error loading assignments:",S)}finally{s(!1)}},g=()=>{let S=[...n];if(p==="pending"?S=S.filter(N=>N.status==="not_started"&&(!N.due_at||new Date(N.due_at)>new Date)):p==="in_progress"?S=S.filter(N=>N.status==="in_progress"):p==="completed"&&(S=S.filter(N=>N.status==="completed")),l!=="all"&&(S=S.filter(N=>N.status===l)),c){const N=c.toLowerCase();S=S.filter(C=>{var I,R,U,P,O,D,L;return((U=(R=(I=C.snapshot)==null?void 0:I.clinical_case)==null?void 0:R.title)==null?void 0:U.toLowerCase().includes(N))||((L=(D=(O=(P=C.snapshot)==null?void 0:P.clinical_case)==null?void 0:O.patientProfile)==null?void 0:D.name)==null?void 0:L.toLowerCase().includes(N))})}a(S)},x=S=>Math.max(0,S.max_attempts-(S.attemptsCount||0)),v=S=>S.due_at?new Date(S.due_at)<new Date&&S.status!=="completed":!1,w=({dueDate:S})=>{const[N,C]=K.useState("");return K.useEffect(()=>{const I=()=>{const U=new Date,O=new Date(S).getTime()-U.getTime();if(O<=0){C("Overdue");return}const D=Math.floor(O/(1e3*60*60*24)),L=Math.floor(O%(1e3*60*60*24)/(1e3*60*60)),B=Math.floor(O%(1e3*60*60)/(1e3*60));D>0?C(`${D}d ${L}h left`):L>0?C(`${L}h ${B}m left`):C(`${B}m left`)};I();const R=setInterval(I,6e4);return()=>clearInterval(R)},[S]),d.jsxs("span",{className:"text-xs text-primary-600 font-medium ml-2",children:["(",N,")"]})},_=S=>v(S)?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:"Overdue"}):S.status==="completed"?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Completed"}):S.status==="in_progress"?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full",children:"In Progress"}):d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:"Not Started"}),A={total:n.length,completed:n.filter(S=>S.status==="completed").length,inProgress:n.filter(S=>S.status==="in_progress").length,notStarted:n.filter(S=>S.status==="not_started").length};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 pb-20 md:pb-6",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"My Assignments"}),d.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"View and manage your OSCE simulations"})]}),!o&&d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:A.total}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Total"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-green-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-green-700",children:A.completed}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Completed"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-yellow-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-yellow-700",children:A.inProgress}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"In Progress"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-700",children:A.notStarted}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Not Started"})]})]}),!o&&d.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[d.jsx("div",{className:"border-b border-gray-200",children:d.jsx("div",{className:"flex overflow-x-auto",children:[{key:"all",label:"All",count:n.length},{key:"pending",label:"Pending",count:n.filter(S=>S.status==="not_started"&&(!S.due_at||new Date(S.due_at)>new Date)).length},{key:"in_progress",label:"In Progress",count:n.filter(S=>S.status==="in_progress").length},{key:"completed",label:"Completed",count:n.filter(S=>S.status==="completed").length}].map(S=>d.jsxs("button",{onClick:()=>h(S.key),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${p===S.key?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[S.label,S.count>0&&d.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${p===S.key?"bg-primary-100 text-primary-800":"bg-gray-100 text-gray-600"}`,children:S.count})]},S.key))})}),d.jsx("div",{className:"p-4 border-b border-gray-200",children:d.jsxs("div",{className:"relative",children:[d.jsx(H5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search assignments...",value:c,onChange:S=>f(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})})]}),o?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):i.length===0?d.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[d.jsx(P0,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:n.length===0?"No Assignments Available":"No Assignments Match Your Filters"}),d.jsx("p",{className:"text-gray-600 text-sm mb-4",children:n.length===0?"You don't have any assignments yet. Check back later or contact your faculty if you expect to see assignments here.":"Try adjusting your search or filter criteria to find what you're looking for."}),n.length>0&&d.jsx("button",{onClick:()=>{h("all"),u("all"),f("")},className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Clear Filters"}),n.length===0&&d.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsx("strong",{children:"Tip:"})," Make sure you're enrolled in cohorts to receive assignments. You can manage your cohorts in your Profile settings."]})})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(S=>{var N,C,I,R,U,P;return d.jsxs("div",{className:`bg-white rounded-xl shadow-md p-5 md:p-6 hover:shadow-xl transition-all border-2 ${v(S)?"border-l-4 border-red-500 border-r-2 border-t-2 border-b-2":"border-gray-200"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 flex-1",children:((C=(N=S.snapshot)==null?void 0:N.clinical_case)==null?void 0:C.title)||"Untitled Station"}),_(S)]}),((R=(I=S.snapshot)==null?void 0:I.clinical_case)==null?void 0:R.patientProfile)&&d.jsxs("div",{className:"mb-3 text-sm text-gray-600",children:[d.jsx("span",{className:"font-medium",children:"Patient:"})," ",S.snapshot.clinical_case.patientProfile.name]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(Yu,{className:"w-4 h-4"}),d.jsxs("span",{children:[((P=(U=S.snapshot)==null?void 0:U.clinical_case)==null?void 0:P.durationMinutes)||15," minutes"]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(RN,{className:"w-4 h-4"}),d.jsxs("span",{children:[x(S)," of ",S.max_attempts," attempts left"]})]}),S.bestScore!==void 0&&S.bestScore>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[d.jsx(Ga,{className:"w-4 h-4"}),d.jsxs("span",{children:["Best Score: ",S.bestScore.toFixed(0),"%"]})]}),S.due_at&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(cf,{className:"w-4 h-4"}),d.jsxs("span",{className:v(S)?"text-red-600 font-medium":"",children:["Due: ",new Date(S.due_at).toLocaleDateString()]}),!v(S)&&new Date(S.due_at)>new Date&&d.jsx(w,{dueDate:S.due_at})]})]}),d.jsx("div",{className:"flex gap-2",children:S.status==="completed"?d.jsxs("button",{onClick:()=>{e("/results")},className:"flex-1 flex items-center justify-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:[d.jsx(vo,{className:"w-4 h-4"}),"View Results"]}):d.jsxs("button",{onClick:()=>e(`/simulation/${S.id}`),disabled:x(S)===0,className:"flex-1 flex items-center justify-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[d.jsx(RN,{className:"w-4 h-4"}),S.status==="in_progress"?"Continue":"Start Simulation"]})})]},S.id)})})]}),d.jsx($r,{role:"student"})]})}function ive({activeTab:t,onTabChange:e}){const n=[{id:"chat",label:"Chat",icon:jq},{id:"exam",label:"Exam",icon:Dq},{id:"labs",label:"Labs",icon:$q},{id:"diagnosis",label:"Diagnosis",icon:Wi}];return d.jsx("div",{className:"bg-white border-b-2 border-gray-300 shadow-sm",children:d.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:n.map(r=>{const i=r.icon,a=t===r.id;return d.jsxs("button",{onClick:()=>e(r.id),className:`flex items-center gap-2 px-4 md:px-6 py-3 md:py-4 text-sm md:text-base font-semibold border-b-3 transition-all whitespace-nowrap ${a?"border-primary-600 text-primary-700 bg-primary-50":"border-transparent text-gray-600 hover:text-primary-600 hover:bg-gray-50 hover:border-gray-300"}`,children:[d.jsx(i,{className:`w-4 h-4 md:w-5 md:h-5 ${a?"text-primary-600":""}`}),d.jsx("span",{children:r.label})]},r.id)})})})}function ave({messages:t,input:e,setInput:n,sending:r,onSendMessage:i,onRequestHint:a,hintsRemaining:o}){const s=K.useRef(null);return K.useEffect(()=>{var l;(l=s.current)==null||l.scrollIntoView({behavior:"smooth"})},[t]),d.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[d.jsxs("div",{className:"bg-white border-b-2 border-gray-300 p-4 flex items-center justify-between shadow-sm",children:[d.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Chat with Patient"}),d.jsxs("button",{onClick:a,disabled:o<=0,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-900 rounded-lg hover:from-yellow-500 hover:to-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md font-semibold text-sm",children:[d.jsx(Yj,{className:"w-4 h-4"}),"Hint (",o,")"]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[t.map((l,u)=>d.jsxs("div",{className:`flex ${l.role==="user"?"justify-end":"justify-start"} items-start gap-2`,children:[l.role==="assistant"&&d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(xo,{className:"w-4 h-4 text-primary-600"})}),d.jsxs("div",{className:`max-w-[85%] md:max-w-[75%] rounded-xl p-3 md:p-4 shadow-md ${l.role==="user"?"bg-gradient-to-br from-primary-600 to-primary-700 text-white":"bg-white border-2 border-gray-200 text-gray-900"}`,children:[d.jsx("p",{className:`whitespace-pre-wrap ${l.role==="user"?"text-white":"text-gray-800"}`,children:l.content}),d.jsx("span",{className:`text-xs mt-2 block ${l.role==="user"?"text-primary-100":"text-gray-500"}`,children:l.timestamp instanceof Date?l.timestamp.toLocaleTimeString():new Date(l.timestamp).toLocaleTimeString()})]}),l.role==="user"&&d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(xo,{className:"w-4 h-4 text-gray-600"})})]},u)),r&&d.jsxs("div",{className:"flex justify-start items-start gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(xo,{className:"w-4 h-4 text-primary-600"})}),d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),d.jsx("div",{ref:s})]}),d.jsx("div",{className:"bg-white border-t-2 border-gray-300 p-4 shadow-lg",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:e,onChange:l=>n(l.target.value),onKeyPress:l=>l.key==="Enter"&&!r&&i(),placeholder:"Ask a question...",className:"flex-1 px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400",disabled:r}),d.jsx("button",{onClick:i,disabled:r||!e.trim(),className:"px-5 py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-lg hover:from-primary-700 hover:to-primary-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md font-semibold",children:d.jsx(Lq,{className:"w-5 h-5"})})]})})]})}function ove({caseData:t,vitalsEnabled:e=!1,onToggleVitals:n}){const r=(t==null?void 0:t.physicalExam)||{},i=r.vitals||{},a=r.generalExam||"",o=r.systemicExam||"";return d.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-4 md:p-6 space-y-4 md:space-y-6 bg-gray-50",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Physical Examination"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI-generated examination findings"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-primary-100 p-2 rounded-lg",children:d.jsx(Pq,{className:"w-5 h-5 text-primary-700"})}),d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Vital Signs"})]}),n&&d.jsx("button",{onClick:n,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${e?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e?d.jsxs(d.Fragment,{children:[d.jsx(k0,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"Enabled"})]}):d.jsxs(d.Fragment,{children:[d.jsx(jN,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"Enable Vitals"})]})})]}),e?d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 md:gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Blood Pressure"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 rounded-lg text-gray-900 font-medium",children:i.bp||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Heart Rate"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-red-50 to-red-100 border-2 border-red-200 rounded-lg text-gray-900 font-medium",children:i.hr||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Respiratory Rate"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-200 rounded-lg text-gray-900 font-medium",children:i.rr||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Temperature"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-orange-50 to-orange-100 border-2 border-orange-200 rounded-lg text-gray-900 font-medium",children:i.temp||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"SpO2"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-200 rounded-lg text-gray-900 font-medium",children:i.spo2||"Not recorded"})]})]}):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(jN,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),d.jsx("p",{className:"text-sm md:text-base",children:"Vital signs are hidden"}),d.jsx("p",{className:"text-xs md:text-sm mt-1",children:'Click "Enable Vitals" to view vital signs'})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4",children:"General Examination"}),d.jsx("div",{className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-lg min-h-[120px] text-gray-900 whitespace-pre-wrap leading-relaxed",children:a||"General examination findings not available."})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("div",{className:"flex items-center gap-2 mb-4",children:d.jsx("span",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Systemic Examination"})}),d.jsx("div",{className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-lg min-h-[200px] text-gray-900 whitespace-pre-wrap leading-relaxed",children:o||"Systemic examination findings not available."})]})]})}const zD=[{name:"BEDSIDE TESTS",tests:["ECG","Blood Glucose","Urine Dipstick"]},{name:"BASIC LABS",tests:["CBC","CMP","ESR","CRP","TSH","Lipid Profile","LFT","RFT","ABG"]},{name:"ADVANCED LABS",tests:["Troponin","BNP","D-dimer","Coagulation Profile","Blood Culture","HbA1c"]},{name:"IMAGING",tests:["Chest X-Ray","CT Head","CT Chest","CT Abdomen","Abdominal Ultrasound","Echocardiogram"]}];zD.flatMap(t=>t.tests.map(e=>({test:e,category:t.name})));function HD(t,e,n){if(n&&n[t])return n[t];const r=t.toLowerCase();return r.includes("ecg")?"Normal sinus rhythm, no acute changes":r.includes("glucose")?"Random blood glucose: 180 mg/dL (elevated)":r.includes("urine")?"Negative for nitrites, leukocyte esterase, protein, blood":r.includes("cbc")?"WBC: 15,000/L (elevated), Hb: 12 g/dL, Platelets: 250,000/L":r.includes("cmp")?"Na: 138 mEq/L, K: 4.2 mEq/L, Creatinine: 1.2 mg/dL, BUN: 45 mg/dL (elevated)":r.includes("crp")?"150 mg/L (markedly elevated)":r.includes("chest x-ray")||r.includes("chest xray")?"Consolidation in right lower lobe, consistent with pneumonia":r.includes("ct head")?"No acute intracranial pathology, age-appropriate atrophy":r.includes("ct chest")?"Right lower lobe consolidation with air bronchograms, consistent with pneumonia":r.includes("blood culture")?"Pending (results typically available in 48-72 hours)":r.includes("troponin")?"0.02 ng/mL (normal)":r.includes("bnp")?"200 pg/mL (mildly elevated)":r.includes("d-dimer")?"0.8 mg/L (elevated)":r.includes("abg")?"pH: 7.35, pCO2: 42 mmHg, pO2: 65 mmHg, HCO3: 22 mEq/L (respiratory acidosis with hypoxemia)":`Result for ${t}: See detailed report`}function n3(t,e){return e.some(n=>n.testName===t)}function sve({labOrders:t,labResults:e,onOrderTest:n,caseData:r}){const[i,a]=K.useState("order"),o=(l,u)=>{n3(l,t)||n(l,u)},s=l=>{const u=e.find(c=>c.testName===l);return u?u.result:HD(l,r,r==null?void 0:r.labResults)};return d.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[d.jsx("div",{className:"bg-white border-b-2 border-gray-300 p-4 shadow-sm",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>a("order"),className:`px-6 py-2.5 rounded-lg font-semibold transition-all shadow-md ${i==="order"?"bg-gradient-to-r from-primary-600 to-primary-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Order Tests"}),d.jsx("button",{onClick:()=>a("view"),className:`px-6 py-2.5 rounded-lg font-semibold transition-all shadow-md ${i==="view"?"bg-gradient-to-r from-primary-600 to-primary-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"View Results"})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:i==="order"?d.jsx("div",{className:"space-y-4 md:space-y-6",children:zD.map(l=>d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 md:p-6 border border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4 pb-2 border-b-2 border-gray-200",children:l.name}),d.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3",children:l.tests.map(u=>{const c=n3(u,t);return d.jsxs("button",{onClick:()=>o(u,l.name),disabled:c,className:`px-4 py-2 rounded-lg text-sm md:text-base font-semibold transition-all shadow-sm ${c?"bg-gradient-to-r from-green-500 to-green-600 text-white cursor-not-allowed shadow-md":"bg-gray-100 text-gray-800 hover:bg-primary-100 hover:text-primary-700 hover:shadow-md border-2 border-gray-200"}`,children:[u,c&&" "]},u)})})]},l.name))}):d.jsx("div",{className:"space-y-4",children:t.length===0?d.jsx("div",{className:"bg-white rounded-xl shadow-md p-8 md:p-12 text-center border border-gray-200",children:d.jsx("p",{className:"text-gray-600 font-medium",children:'No tests ordered yet. Switch to "Order Tests" to order lab tests.'})}):t.map(l=>{const u=s(l.testName);return d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 md:p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b-2 border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:l.testName}),d.jsx("span",{className:"text-xs md:text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full font-medium",children:l.category})]}),d.jsx("p",{className:"text-gray-800 font-medium leading-relaxed",children:u})]},l.testName)})})})]})}function lve({diagnosis:t,onUpdate:e}){const[n,r]=K.useState(t);return K.useEffect(()=>{e(n)},[n,e]),d.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-4 md:p-6 bg-gray-50",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"bg-primary-100 p-2 rounded-lg",children:d.jsx(Wi,{className:"w-5 h-5 md:w-6 md:h-6 text-primary-700"})}),d.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Enter Diagnosis"})]}),d.jsx("p",{className:"text-sm md:text-base text-gray-600 ml-12",children:"Enter your diagnosis based on the patient's history, physical examination findings, and laboratory results."})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm md:text-base font-semibold text-gray-700 mb-3",children:"Your Diagnosis"}),d.jsx("textarea",{value:n,onChange:i=>r(i.target.value),placeholder:"Enter your diagnosis here (e.g., Pitta Jwara, Vata-Pitta imbalance, etc.)...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 min-h-[200px] md:min-h-[250px] text-gray-900 placeholder-gray-400 text-base leading-relaxed shadow-sm"})]}),n&&d.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl p-4 md:p-5 shadow-md",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-green-500 p-1.5 rounded-full",children:d.jsx(vo,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold text-green-900 block",children:"Diagnosis Entered"}),d.jsx("span",{className:"text-sm text-green-800 mt-1 block",children:n})]})]})})]})}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var r3;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(r3||(r3={}));var i3;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(i3||(i3={}));var a3;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(a3||(a3={}));var o3;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(o3||(o3={}));var s3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(s3||(s3={}));var l3;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(l3||(l3={}));var u3;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(u3||(u3={}));var c3;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(c3||(c3={}));var d3;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(d3||(d3={}));var f3;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(f3||(f3={}));var h3;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(h3||(h3={}));var p3;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(p3||(p3={}));var m3;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(m3||(m3={}));var g3;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(g3||(g3={}));var y3;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(y3||(y3={}));var v3;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(v3||(v3={}));var x3;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(x3||(x3={}));var b3;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(b3||(b3={}));var w3;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(w3||(w3={}));var _3;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_3||(_3={}));var S3;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(S3||(S3={}));var A3;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(A3||(A3={}));var E3;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(E3||(E3={}));var N3;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(N3||(N3={}));var T3;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(T3||(T3={}));var P3;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(P3||(P3={}));var C3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(C3||(C3={}));var k3;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(k3||(k3={}));var I3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(I3||(I3={}));var O3;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(O3||(O3={}));var j3;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(j3||(j3={}));var R3;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(R3||(R3={}));var L3;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(L3||(L3={}));var M3;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(M3||(M3={}));var D3;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(D3||(D3={}));var $3;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})($3||($3={}));var F3;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(F3||(F3={}));var U3;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(U3||(U3={}));var B3;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(B3||(B3={}));var q3;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(q3||(q3={}));var V3;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(V3||(V3={}));var z3;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(z3||(z3={}));var H3;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(H3||(H3={}));var G3;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(G3||(G3={}));var W3;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(W3||(W3={}));var K3;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(K3||(K3={}));var J3;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(J3||(J3={}));var Y3;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Y3||(Y3={}));var X3;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(X3||(X3={}));var Z3;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Z3||(Z3={}));var Q3;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Q3||(Q3={}));var e4;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(e4||(e4={}));var t4;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(t4||(t4={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var n4;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(n4||(n4={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uve="1.29.1",Lxe=`google-genai-sdk/${uve}`;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mxe=1024*1024*8;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cve="AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",dve=!1;let fve=!1;async function r4(t,e="other",n="en-US"){try{if("speechSynthesis"in window){const i=await new Promise(s=>{const l=speechSynthesis.getVoices();l.length>0?s(l):(speechSynthesis.onvoiceschanged=()=>{s(speechSynthesis.getVoices())},setTimeout(()=>s(speechSynthesis.getVoices()),1e3))}),a=new SpeechSynthesisUtterance(t),o=i.find(s=>{const l=s.name.toLowerCase();return e==="male"&&(l.includes("male")||l.includes("david")||l.includes("daniel")||l.includes("thomas")||l.includes("alex"))||e==="female"&&(l.includes("female")||l.includes("samantha")||l.includes("karen")||l.includes("zira")||l.includes("susan")||l.includes("victoria"))});o&&(a.voice=o),a.lang=n,a.rate=.9,a.pitch=e==="male"?.9:e==="female"?1.1:1,a.volume=1,speechSynthesis.speak(a)}}catch(r){console.debug("TTS: Error speaking text (non-critical):",r)}}const hve="AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",pve="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";function mve({user:t}){var Z,Be,Ue,Ve;const{assignmentId:e}=A0(),n=Ya(),r=vs(),[i,a]=K.useState(null),[o,s]=K.useState(null),[l,u]=K.useState([]),[c,f]=K.useState(""),[p,h]=K.useState(!0),[y,g]=K.useState(!1),[x,v]=K.useState(0),[w,_]=K.useState(null),[A,S]=K.useState(!1),[N,C]=K.useState("chat"),[I,R]=K.useState(0),[U,P]=K.useState([]),[O,D]=K.useState([]),[L,B]=K.useState(""),[J,H]=K.useState(!1),M=10;K.useEffect(()=>{e&&(X(),oe())},[e]);const X=async()=>{try{const{data:be,error:Oe}=await Pe.from("assignments").select("*").eq("id",e).single();if(Oe)throw Oe;a(be);const{data:_e,error:Le}=await Pe.from("case_snapshots").select("*").eq("id",be.snapshot_id).single();if(Le)throw Le;s(_e);const{data:Re}=await Pe.from("simulation_runs").select("*").eq("assignment_id",e).eq("student_id",t.id).is("submitted_at",null).order("created_at",{ascending:!1}).limit(1);let it;if(Re&&Re.length>0){if(it=Re[0],_(it.id),it.transcript){const De=it.transcript;De.messages&&u(De.messages.map(ze=>({...ze,timestamp:typeof ze.timestamp=="string"?new Date(ze.timestamp):ze.timestamp}))),R(De.hintsUsed||0),P(De.labOrders||[]),D(De.labResults||[]),B(De.diagnosis||""),H(De.vitalsEnabled||!1)}}else{const{data:De,error:ze}=await Pe.from("simulation_runs").insert({assignment_id:e,student_id:t.id,started_at:new Date().toISOString(),transcript:{messages:[],hintsUsed:0,labOrders:[],labResults:[],diagnosis:"",vitalsEnabled:!1}}).select().single();if(ze)throw ze;it=De,_(De.id)}}catch(be){console.error("Error loading assignment:",be),r.error("Failed to load assignment")}finally{h(!1)}},oe=()=>{const be=setInterval(()=>{v(Oe=>{var Le;const _e=Oe+1;if((Le=o==null?void 0:o.clinical_case)!=null&&Le.durationMinutes){const Re=o.clinical_case.durationMinutes*60;_e>=Re*.8&&!A&&S(!0)}return _e})},1e3);return()=>clearInterval(be)},ie=be=>{const Oe=Math.floor(be/60),_e=be%60;return`${Oe}:${_e.toString().padStart(2,"0")}`},k=async()=>{if(!w)return;const be={messages:l.map(Oe=>({...Oe,timestamp:Oe.timestamp instanceof Date?Oe.timestamp.toISOString():Oe.timestamp})),hintsUsed:I,labOrders:U,labResults:O,diagnosis:L,vitalsEnabled:J};await Pe.from("simulation_runs").update({transcript:be}).eq("id",w)},q=(be,Oe)=>{var mt,Qe;if(!(o!=null&&o.clinical_case))return"";const _e=o.clinical_case,Le=((mt=_e.patientProfile)==null?void 0:mt.name)||"Patient",Re=_e.historyOfPresentIllness||"",it=((Qe=_e.patientProfile)==null?void 0:Qe.prakriti)||"Sama",De=_e.doshaAnalysis||{},ze=Oe.slice(-5).map(Ge=>`${Ge.role==="user"?"Clinician":"Patient"}: ${Ge.content}`).join(`
`);return`You are ${Le}, a virtual patient in an Ayurvedic medical simulation. You are speaking with a clinician who is examining you.

IMPORTANT: You are the PATIENT. The user asking questions is the CLINICIAN/DOCTOR. Do not switch roles.

Patient Context:
- History of Present Illness: ${Re}
- Prakriti: ${it}
- Dosha Analysis: Vata ${De.vata||33}%, Pitta ${De.pitta||33}%, Kapha ${De.kapha||34}%

Recent Conversation:
${ze}

Clinician: ${be}

Respond as the patient would, staying in character. Be natural, concise (1-2 sentences), and consistent with the case. Do not reveal diagnosis or treatment unless asked directly about symptoms. Keep responses under 100 words.`},G=be=>{if(!(o!=null&&o.clinical_case))return null;const Oe=o.clinical_case,_e=be.toLowerCase();if(_e.includes("physical exam")||_e.includes("vitals")||_e.includes("examination")){const Le=Oe.physicalExam;if(!Le)return"Physical examination information is not available. Please perform the examination yourself.";let Re=`Based on the physical examination:
`;return Le.vitals&&(Re+="Vitals: ",Le.vitals.bp&&(Re+=`BP ${Le.vitals.bp}, `),Le.vitals.hr&&(Re+=`HR ${Le.vitals.hr}, `),Le.vitals.rr&&(Re+=`RR ${Le.vitals.rr}, `),Le.vitals.temp&&(Re+=`Temp ${Le.vitals.temp}, `),Le.vitals.spo2&&(Re+=`SpO2 ${Le.vitals.spo2}. `),Re+=`
`),Le.generalExam&&(Re+=`General Examination: ${Le.generalExam}
`),Le.systemicExam&&(Re+=`Systemic Examination: ${Le.systemicExam}
`),Re.trim()||"Physical examination findings are being documented."}if(_e.includes("lab")||_e.includes("test result")||_e.includes("investigation")){const Le=Oe.labResults||{};for(const[Re,it]of Object.entries(Le))if(_e.includes(Re.toLowerCase())||Re.toLowerCase().includes(_e))return`${Re}: ${it}`;return Object.keys(Le).length>0?`Lab results are available. Please check the Labs tab to view specific test results. Available tests: ${Object.keys(Le).join(", ")}`:"No lab results are available yet. Please order tests from the Labs tab."}return null},te=async()=>{var Le,Re,it,De,ze,mt,Qe,Ge;if(!c.trim()||!w||!o)return;const be={role:"user",content:c,timestamp:new Date},Oe=[...l,be];u(Oe);const _e=c;f(""),g(!0);try{const et=G(_e);if(et){const gt={role:"assistant",content:et,timestamp:new Date},ft=[...Oe,gt];u(ft),await k(),g(!1);return}if(o!=null&&o.id)try{const{data:gt,error:ft}=await Pe.from("faq_cache").select("faq_data").eq("snapshot_id",o.id).maybeSingle();if(ft&&ft.code!=="PGRST116"&&console.debug("FAQ cache error:",ft),gt!=null&&gt.faq_data){const pn=gt.faq_data,In=_e.toLowerCase().trim();for(const[tn,xt]of Object.entries(pn)){const Bt=tn.toLowerCase();if(In.includes(Bt)||Bt.includes(In)||In.split(/\s+/).filter(Yi=>Yi.length>3&&Bt.includes(Yi)).length>=2){const Yi={role:"assistant",content:xt,timestamp:new Date},_r=[...Oe,Yi];u(_r),await k();const Xi=((Re=(Le=o==null?void 0:o.clinical_case)==null?void 0:Le.patientProfile)==null?void 0:Re.gender)||"other";r4(xt,Xi==="male"?"male":Xi==="female"?"female":"other").catch(Zi=>{console.debug("TTS error (non-critical):",Zi)}),g(!1);return}}}}catch(gt){console.debug("FAQ cache check failed, using Gemini API:",gt)}const lt=q(_e,l);if(!lt)throw new Error("Unable to build patient context. Please refresh the page.");const Jt=await fetch(pve,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":hve},body:JSON.stringify({contents:[{parts:[{text:lt}]}],generationConfig:{temperature:.8,topK:40,topP:.95,maxOutputTokens:1024}})});if(!Jt.ok){const gt=await Jt.text();let ft=`Gemini API error (${Jt.status})`;try{const pn=JSON.parse(gt);(it=pn.error)!=null&&it.message?ft+=": "+pn.error.message:ft+=": "+gt}catch{ft+=": "+gt}throw new Error(ft)}const $t=await Jt.json();if(!$t.candidates||$t.candidates.length===0)throw new Error("No response from Gemini API. Please check your API key and try again.");const tt=((mt=(ze=(De=$t.candidates[0])==null?void 0:De.content)==null?void 0:ze.parts[0])==null?void 0:mt.text)||"I'm sorry, I didn't understand that.",Nt={role:"assistant",content:tt,timestamp:new Date},en=[...Oe,Nt];u(en),await k();const ht=((Ge=(Qe=o==null?void 0:o.clinical_case)==null?void 0:Qe.patientProfile)==null?void 0:Ge.gender)||"other";r4(tt,ht==="male"?"male":ht==="female"?"female":"other").catch(gt=>{console.debug("TTS error (non-critical):",gt)})}catch(et){console.error("Error sending message:",et),r.error("Failed to send message: "+et.message)}finally{g(!1)}},re=async()=>{if(!(I>=M||!w||!o)){g(!0);try{const be=["Consider asking about the onset and progression of symptoms.","Think about the patient's dosha imbalance - what symptoms suggest this?","Review the physical examination findings carefully.","Consider what laboratory tests would be most helpful for this presentation.","Think about the differential diagnoses based on the chief complaint.","Consider the patient's age, gender, and prakriti in your assessment.","Review the history of present illness for key diagnostic clues.","Consider what additional history might be relevant.","Think about the most likely diagnosis given the symptoms.","Consider what treatment approach would be appropriate."],_e={role:"assistant",content:be[Math.floor(Math.random()*be.length)],timestamp:new Date};u([...l,_e]),R(I+1),await k()}catch(be){console.error("Error requesting hint:",be),r.error("Failed to get hint: "+be.message)}finally{g(!1)}}},ce=(be,Oe)=>{var De;const _e={testName:be,category:Oe,orderedAt:new Date().toISOString()},Le=[...U,_e];P(Le);const Re={testName:be,result:HD(be,o==null?void 0:o.clinical_case,(De=o==null?void 0:o.clinical_case)==null?void 0:De.labResults),category:Oe},it=[...O,Re];D(it),k()},ye=be=>{B(be),k()},se=async()=>{var be,Oe,_e,Le,Re,it,De;if(w)try{await k();let ze;try{ze=await Pe.functions.invoke("score_simulation",{body:{runId:w}})}catch(et){throw console.error("Function invoke error (catch block):",et),(be=et.message)!=null&&be.includes("Failed to fetch")||(Oe=et.message)!=null&&Oe.includes("NetworkError")||(_e=et.message)!=null&&_e.includes("Failed to send")||!et.message?new Error("Edge Function not available. Please ensure the score_simulation function is deployed in Supabase. Check the Supabase Dashboard  Edge Functions."):new Error(`Failed to call Edge Function: ${et.message||"Unknown error"}`)}const{data:mt,error:Qe}=ze||{};if(Qe)throw console.error("Scoring function error details:",{error:Qe,message:Qe.message,context:Qe.context,status:Qe.status}),(Le=Qe.message)!=null&&Le.includes("Failed to send")||(Re=Qe.message)!=null&&Re.includes("fetch")||(it=Qe.message)!=null&&it.includes("NetworkError")||(De=Qe.message)!=null&&De.includes("Failed to fetch")?new Error("Edge Function not available. Please ensure the score_simulation function is deployed in Supabase. Check the Supabase Dashboard  Edge Functions."):new Error(Qe.message||"Failed to score simulation");if(!mt||!mt.score)throw console.error("Invalid response from scoring function:",mt),new Error("Invalid response from scoring function");const{error:Ge}=await Pe.from("simulation_runs").update({submitted_at:new Date().toISOString(),score:mt.score}).eq("id",w);if(Ge)throw console.error("Update error:",Ge),new Error("Failed to update simulation run");n(`/debrief/${w}`)}catch(ze){console.error("Error submitting:",ze);const mt=ze.message||"Please try again.";r.error(`Error submitting simulation: ${mt}. If this persists, the Edge Function may not be deployed. Please check Supabase Dashboard  Edge Functions.`)}};if(p)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});const me=((Be=(Z=o==null?void 0:o.clinical_case)==null?void 0:Z.patientProfile)==null?void 0:Be.name)||"Patient",he=(((Ue=o==null?void 0:o.clinical_case)==null?void 0:Ue.durationMinutes)||15)*60,Ie=x/he*100,ae=x>=he;return d.jsxs("div",{className:"flex flex-col h-screen bg-gradient-to-br from-gray-50 to-gray-100 pb-20 md:pb-4",children:[d.jsxs("div",{className:"bg-white border-b-2 border-gray-300 shadow-sm p-4 md:p-6",children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-8 w-auto object-contain hidden md:block"}),d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center shadow-md",children:d.jsx(xo,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:me}),d.jsx("p",{className:"text-sm md:text-base text-gray-600",children:((Ve=o==null?void 0:o.clinical_case)==null?void 0:Ve.title)||"Clinical Case"})]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mt-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Yu,{className:`w-5 h-5 ${A?"text-red-600":"text-gray-700"}`}),d.jsxs("span",{className:`font-mono text-base md:text-lg font-semibold ${A?"text-red-600":"text-gray-900"}`,children:[ie(x)," / ",ie(he)]}),A&&!ae&&d.jsx("span",{className:"text-xs md:text-sm text-red-600 font-medium bg-red-50 px-2 py-1 rounded",children:"Time running out!"})]}),ae&&d.jsxs("span",{className:"text-sm text-red-700 font-semibold flex items-center gap-2 bg-red-50 px-3 py-1.5 rounded-lg",children:[d.jsx(T0,{className:"w-5 h-5"}),"Time's up!"]})]}),d.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-3 shadow-inner",children:d.jsx("div",{className:`h-3 rounded-full transition-all shadow-sm ${Ie>=100?"bg-red-600":Ie>=80?"bg-yellow-500":"bg-primary-600"}`,style:{width:`${Math.min(Ie,100)}%`}})})]}),d.jsx(ive,{activeTab:N,onTabChange:C}),d.jsxs("div",{className:"flex-1 overflow-hidden",children:[N==="chat"&&d.jsx(ave,{messages:l,input:c,setInput:f,sending:y,onSendMessage:te,onRequestHint:re,hintsRemaining:M-I}),N==="exam"&&d.jsx(ove,{caseData:o==null?void 0:o.clinical_case,vitalsEnabled:J,onToggleVitals:async()=>{const be=!J;if(H(be),w){const Oe={messages:l.map(_e=>({..._e,timestamp:_e.timestamp instanceof Date?_e.timestamp.toISOString():_e.timestamp})),hintsUsed:I,labOrders:U,labResults:O,diagnosis:L,vitalsEnabled:be};await Pe.from("simulation_runs").update({transcript:Oe}).eq("id",w)}}}),N==="labs"&&d.jsx(sve,{labOrders:U,labResults:O,onOrderTest:ce,caseData:o==null?void 0:o.clinical_case}),N==="diagnosis"&&d.jsx(lve,{diagnosis:L,onUpdate:ye})]}),d.jsxs("div",{className:"bg-white border-t border-gray-200 p-4",children:[d.jsxs("button",{onClick:se,disabled:!w,className:"w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(vo,{className:"w-4 h-4"}),"Submit for Scoring"]}),ae&&d.jsx("p",{className:"text-xs text-red-600 mt-2 text-center",children:"Your time is up. You can still submit your responses."})]}),d.jsx($r,{role:"student"}),d.jsx(vl,{toasts:r.toasts,onClose:r.removeToast})]})}function gve({activeTab:t,onTabChange:e}){const n=[{id:"feedback",label:"Feedback",icon:Wi},{id:"review",label:"Review",icon:k0},{id:"questions",label:"Questions",icon:Cq}];return d.jsx("div",{className:"bg-white border-b border-gray-200",children:d.jsx("div",{className:"flex overflow-x-auto",children:n.map(r=>{const i=r.icon,a=t===r.id;return d.jsxs("button",{onClick:()=>e(r.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${a?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[d.jsx(i,{className:"w-4 h-4"}),r.label]},r.id)})})})}function yve({accuracy:t,timeTaken:e,currentStreak:n}){return d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Accuracy"}),d.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[t,"%"]})]}),d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Time Taken"}),d.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e})]}),d.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Current Streak"}),d.jsxs("div",{className:"text-3xl font-bold text-yellow-600 flex items-center gap-1",children:[n,d.jsx("span",{className:"text-2xl",children:""})]})]})]})}function vve({reasoning:t}){const[e,n]=K.useState(!0);return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>n(!e),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"STEPWISE REASONING"}),d.jsx(C0,{className:`w-5 h-5 text-gray-500 transition-transform ${e?"":"rotate-180"}`})]}),e&&d.jsx("div",{className:"prose max-w-none",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:t})})]})}function xve({potentialDiagnoses:t,studentDiagnosis:e,correctDiagnosis:n}){const[r,i]=K.useState(!0);return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>i(!r),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"DIFFERENTIALS REVIEW"}),d.jsx(C0,{className:`w-5 h-5 text-gray-500 transition-transform ${r?"":"rotate-180"}`})]}),r&&d.jsx("div",{className:"space-y-3",children:t.map((a,o)=>{const s=a.dx===n,l=a.dx===e;return d.jsx("div",{className:`p-4 rounded-lg border-2 ${s?"bg-green-50 border-green-200":l?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[s?d.jsx(vo,{className:"w-5 h-5 text-green-600"}):l?d.jsx(Cu,{className:"w-5 h-5 text-red-600"}):null,d.jsx("span",{className:"font-medium text-gray-900",children:a.dx})]}),l&&!s&&d.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Your Pick"})]})},o)})})]})}function bve({pearls:t}){const[e,n]=K.useState(!0);return!t||t.length===0?null:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>n(!e),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"LEARNING PEARLS"}),d.jsx(C0,{className:`w-5 h-5 text-gray-500 transition-transform ${e?"":"rotate-180"}`})]}),e&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((r,i)=>d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Yj,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),d.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:r})]})},i))})]})}function wve({references:t}){const[e,n]=K.useState(!0);return!t||t.length===0?null:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>n(!e),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"FURTHER READING"}),d.jsx(C0,{className:`w-5 h-5 text-gray-500 transition-transform ${e?"":"rotate-180"}`})]}),e&&d.jsx("div",{className:"space-y-3",children:t.map((r,i)=>d.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(P0,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:r.title}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:r.reference})]})]})},i))})]})}const _ve="modulepreload",Sve=function(t){return"/"+t},i4={},mb=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Sve(l),l in i4)return;i4[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":_ve,u||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})};function an(t){"@babel/helpers - typeof";return an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(t)}var Ja=Uint8Array,qi=Uint16Array,tA=Int32Array,nA=new Ja([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rA=new Ja([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a4=new Ja([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),GD=function(t,e){for(var n=new qi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new tA(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},WD=GD(nA,2),Ave=WD.b,E_=WD.r;Ave[28]=258,E_[258]=28;var Eve=GD(rA,0),o4=Eve.r,N_=new qi(32768);for(var Nn=0;Nn<32768;++Nn){var Vs=(Nn&43690)>>1|(Nn&21845)<<1;Vs=(Vs&52428)>>2|(Vs&13107)<<2,Vs=(Vs&61680)>>4|(Vs&3855)<<4,N_[Nn]=((Vs&65280)>>8|(Vs&255)<<8)>>1}var Wh=function(t,e,n){for(var r=t.length,i=0,a=new qi(e);i<r;++i)t[i]&&++a[t[i]-1];var o=new qi(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(n){s=new qi(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=o[t[i]-1]++<<c,p=f|(1<<c)-1;f<=p;++f)s[N_[f]>>l]=u}else for(s=new qi(r),i=0;i<r;++i)t[i]&&(s[i]=N_[o[t[i]-1]++]>>15-t[i]);return s},Hu=new Ja(288);for(var Nn=0;Nn<144;++Nn)Hu[Nn]=8;for(var Nn=144;Nn<256;++Nn)Hu[Nn]=9;for(var Nn=256;Nn<280;++Nn)Hu[Nn]=7;for(var Nn=280;Nn<288;++Nn)Hu[Nn]=8;var r0=new Ja(32);for(var Nn=0;Nn<32;++Nn)r0[Nn]=5;var Nve=Wh(Hu,9,0),Tve=Wh(r0,5,0),KD=function(t){return(t+7)/8|0},Pve=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Ja(t.subarray(e,n))},Ho=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},xh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},gb=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:YD,l:0};if(i==1){var o=new Ja(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(S,N){return S.f-N.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],u=0,c=1,f=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};c!=i-1;)s=n[n[u].f<n[f].f?u++:f++],l=n[u!=c&&n[u].f<n[f].f?u++:f++],n[c++]={s:-1,f:s.f+l.f,l:s,r:l};for(var p=a[0].s,r=1;r<i;++r)a[r].s>p&&(p=a[r].s);var h=new qi(p+1),y=T_(n[c-1],h,0);if(y>e){var r=0,g=0,x=y-e,v=1<<x;for(a.sort(function(N,C){return h[C.s]-h[N.s]||N.f-C.f});r<i;++r){var w=a[r].s;if(h[w]>e)g+=v-(1<<y-h[w]),h[w]=e;else break}for(g>>=x;g>0;){var _=a[r].s;h[_]<e?g-=1<<e-h[_]++-1:++r}for(;r>=0&&g;--r){var A=a[r].s;h[A]==e&&(--h[A],++g)}y=e}return{t:new Ja(h),l:y}},T_=function(t,e,n){return t.s==-1?Math.max(T_(t.l,e,n+1),T_(t.r,e,n+1)):e[t.s]=n},s4=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new qi(++e),r=0,i=t[0],a=1,o=function(l){n[r++]=l},s=1;s<=e;++s)if(t[s]==i&&s!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[s]}return{c:n.subarray(0,r),n:e}},bh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},JD=function(t,e,n){var r=n.length,i=KD(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},l4=function(t,e,n,r,i,a,o,s,l,u,c){Ho(e,c++,n),++i[256];for(var f=gb(i,15),p=f.t,h=f.l,y=gb(a,15),g=y.t,x=y.l,v=s4(p),w=v.c,_=v.n,A=s4(g),S=A.c,N=A.n,C=new qi(19),I=0;I<w.length;++I)++C[w[I]&31];for(var I=0;I<S.length;++I)++C[S[I]&31];for(var R=gb(C,7),U=R.t,P=R.l,O=19;O>4&&!U[a4[O-1]];--O);var D=u+5<<3,L=bh(i,Hu)+bh(a,r0)+o,B=bh(i,p)+bh(a,g)+o+14+3*O+bh(C,U)+2*C[16]+3*C[17]+7*C[18];if(l>=0&&D<=L&&D<=B)return JD(e,c,t.subarray(l,l+u));var J,H,M,X;if(Ho(e,c,1+(B<L)),c+=2,B<L){J=Wh(p,h,0),H=p,M=Wh(g,x,0),X=g;var oe=Wh(U,P,0);Ho(e,c,_-257),Ho(e,c+5,N-1),Ho(e,c+10,O-4),c+=14;for(var I=0;I<O;++I)Ho(e,c+3*I,U[a4[I]]);c+=3*O;for(var ie=[w,S],k=0;k<2;++k)for(var q=ie[k],I=0;I<q.length;++I){var G=q[I]&31;Ho(e,c,oe[G]),c+=U[G],G>15&&(Ho(e,c,q[I]>>5&127),c+=q[I]>>12)}}else J=Nve,H=Hu,M=Tve,X=r0;for(var I=0;I<s;++I){var te=r[I];if(te>255){var G=te>>18&31;xh(e,c,J[G+257]),c+=H[G+257],G>7&&(Ho(e,c,te>>23&31),c+=nA[G]);var re=te&31;xh(e,c,M[re]),c+=X[re],re>3&&(xh(e,c,te>>5&8191),c+=rA[re])}else xh(e,c,J[te]),c+=H[te]}return xh(e,c,J[256]),c+H[256]},Cve=new tA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),YD=new Ja(0),kve=function(t,e,n,r,i,a){var o=a.z||t.length,s=new Ja(r+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(r,s.length-i),u=a.l,c=(a.r||0)&7;if(e){c&&(l[0]=a.r>>3);for(var f=Cve[e-1],p=f>>13,h=f&8191,y=(1<<n)-1,g=a.p||new qi(32768),x=a.h||new qi(y+1),v=Math.ceil(n/3),w=2*v,_=function(ae){return(t[ae]^t[ae+1]<<v^t[ae+2]<<w)&y},A=new tA(25e3),S=new qi(288),N=new qi(32),C=0,I=0,R=a.i||0,U=0,P=a.w||0,O=0;R+2<o;++R){var D=_(R),L=R&32767,B=x[D];if(g[L]=B,x[D]=L,P<=R){var J=o-R;if((C>7e3||U>24576)&&(J>423||!u)){c=l4(t,l,0,A,S,N,I,U,O,R-O,c),U=C=I=0,O=R;for(var H=0;H<286;++H)S[H]=0;for(var H=0;H<30;++H)N[H]=0}var M=2,X=0,oe=h,ie=L-B&32767;if(J>2&&D==_(R-ie))for(var k=Math.min(p,J)-1,q=Math.min(32767,R),G=Math.min(258,J);ie<=q&&--oe&&L!=B;){if(t[R+M]==t[R+M-ie]){for(var te=0;te<G&&t[R+te]==t[R+te-ie];++te);if(te>M){if(M=te,X=ie,te>k)break;for(var re=Math.min(ie,te-2),ce=0,H=0;H<re;++H){var ye=R-ie+H&32767,se=g[ye],me=ye-se&32767;me>ce&&(ce=me,B=ye)}}}L=B,B=g[L],ie+=L-B&32767}if(X){A[U++]=268435456|E_[M]<<18|o4[X];var we=E_[M]&31,he=o4[X]&31;I+=nA[we]+rA[he],++S[257+we],++N[he],P=R+M,++C}else A[U++]=t[R],++S[t[R]]}}for(R=Math.max(R,P);R<o;++R)A[U++]=t[R],++S[t[R]];c=l4(t,l,u,A,S,N,I,U,O,R-O,c),u||(a.r=c&7|l[c/8|0]<<3,c-=7,a.h=x,a.p=g,a.i=R,a.w=P)}else{for(var R=a.w||0;R<o+u;R+=65535){var Ie=R+65535;Ie>=o&&(l[c/8|0]=u,Ie=o),c=JD(l,c+1,t.subarray(R,Ie))}a.i=o}return Pve(s,0,r+KD(c)+i)},XD=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Ive=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new Ja(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return kve(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},ZD=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Ove=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=XD();i.p(e.dictionary),ZD(t,2,i.d())}};function P_(t,e){e||(e={});var n=XD();n.p(t);var r=Ive(t,e,e.dictionary?6:2,4);return Ove(r,e),ZD(r,r.length-4,n.d()),r}var jve=typeof TextDecoder<"u"&&new TextDecoder,Rve=0;try{jve.decode(YD,{stream:!0}),Rve=1}catch{}function Lve(t){if(Array.isArray(t))return t}function Mve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function u4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Dve(t,e){if(t){if(typeof t=="string")return u4(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u4(t,e):void 0}}function $ve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c4(t,e){return Lve(t)||Mve(t,e)||Dve(t,e)||$ve()}function d4(t,e="utf8"){return new TextDecoder(e).decode(t)}const Fve=new TextEncoder;function Uve(t){return Fve.encode(t)}const Bve=1024*8,qve=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),yb={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class iA{constructor(e=Bve,n={}){Xt(this,"buffer");Xt(this,"byteLength");Xt(this,"byteOffset");Xt(this,"length");Xt(this,"offset");Xt(this,"lastWrittenByte");Xt(this,"littleEndian");Xt(this,"_data");Xt(this,"_mark");Xt(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,a=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof iA)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=yb[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===qve&&n!=="uint8"&&n!=="int8"){const s=new Uint8Array(this.buffer.slice(i,i+r));s.reverse();const l=new yb[n](s.buffer);return this.offset+=r,l.reverse(),l}const o=new yb[n](a);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return d4(this.readBytes(e))}decodeText(e=1,n="utf8"){return d4(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(Uve(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ef(t){let e=t.length;for(;--e>=0;)t[e]=0}const Vve=3,zve=258,QD=29,Hve=256,Gve=Hve+1+QD,e8=30,Wve=512,Kve=new Array((Gve+2)*2);Ef(Kve);const Jve=new Array(e8*2);Ef(Jve);const Yve=new Array(Wve);Ef(Yve);const Xve=new Array(zve-Vve+1);Ef(Xve);const Zve=new Array(QD);Ef(Zve);const Qve=new Array(e8);Ef(Qve);const e0e=(t,e,n,r)=>{let i=t&65535|0,a=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var C_=e0e;const t0e=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},n0e=new Uint32Array(t0e()),r0e=(t,e,n,r)=>{const i=n0e,a=r+n;t^=-1;for(let o=r;o<a;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var lo=r0e,k_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},t8={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const i0e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var a0e=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)i0e(n,r)&&(t[r]=n[r])}}return t},o0e=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,a=t.length;r<a;r++){let o=t[r];n.set(o,i),i+=o.length}return n},n8={assign:a0e,flattenChunks:o0e};let r8=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r8=!1}const tm=new Uint8Array(256);for(let t=0;t<256;t++)tm[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;tm[254]=tm[254]=1;var s0e=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,a,o=t.length,s=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(s),a=0,i=0;a<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|n&63):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|n&63):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|n&63);return e};const l0e=(t,e)=>{if(e<65534&&t.subarray&&r8)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var u0e=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){a[i++]=o;continue}let s=tm[o];if(s>4){a[i++]=65533,r+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&r<n;)o=o<<6|t[r++]&63,s--;if(s>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return l0e(a,i)},c0e=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+tm[t[n]]>e?n:e},I_={string2buf:s0e,buf2string:u0e,utf8border:c0e};function d0e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var f0e=d0e;const Hg=16209,h0e=16191;var p0e=function(e,n){let r,i,a,o,s,l,u,c,f,p,h,y,g,x,v,w,_,A,S,N,C,I,R,U;const P=e.state;r=e.next_in,R=e.input,i=r+(e.avail_in-5),a=e.next_out,U=e.output,o=a-(n-e.avail_out),s=a+(e.avail_out-257),l=P.dmax,u=P.wsize,c=P.whave,f=P.wnext,p=P.window,h=P.hold,y=P.bits,g=P.lencode,x=P.distcode,v=(1<<P.lenbits)-1,w=(1<<P.distbits)-1;e:do{y<15&&(h+=R[r++]<<y,y+=8,h+=R[r++]<<y,y+=8),_=g[h&v];t:for(;;){if(A=_>>>24,h>>>=A,y-=A,A=_>>>16&255,A===0)U[a++]=_&65535;else if(A&16){S=_&65535,A&=15,A&&(y<A&&(h+=R[r++]<<y,y+=8),S+=h&(1<<A)-1,h>>>=A,y-=A),y<15&&(h+=R[r++]<<y,y+=8,h+=R[r++]<<y,y+=8),_=x[h&w];n:for(;;){if(A=_>>>24,h>>>=A,y-=A,A=_>>>16&255,A&16){if(N=_&65535,A&=15,y<A&&(h+=R[r++]<<y,y+=8,y<A&&(h+=R[r++]<<y,y+=8)),N+=h&(1<<A)-1,N>l){e.msg="invalid distance too far back",P.mode=Hg;break e}if(h>>>=A,y-=A,A=a-o,N>A){if(A=N-A,A>c&&P.sane){e.msg="invalid distance too far back",P.mode=Hg;break e}if(C=0,I=p,f===0){if(C+=u-A,A<S){S-=A;do U[a++]=p[C++];while(--A);C=a-N,I=U}}else if(f<A){if(C+=u+f-A,A-=f,A<S){S-=A;do U[a++]=p[C++];while(--A);if(C=0,f<S){A=f,S-=A;do U[a++]=p[C++];while(--A);C=a-N,I=U}}}else if(C+=f-A,A<S){S-=A;do U[a++]=p[C++];while(--A);C=a-N,I=U}for(;S>2;)U[a++]=I[C++],U[a++]=I[C++],U[a++]=I[C++],S-=3;S&&(U[a++]=I[C++],S>1&&(U[a++]=I[C++]))}else{C=a-N;do U[a++]=U[C++],U[a++]=U[C++],U[a++]=U[C++],S-=3;while(S>2);S&&(U[a++]=U[C++],S>1&&(U[a++]=U[C++]))}}else if(A&64){e.msg="invalid distance code",P.mode=Hg;break e}else{_=x[(_&65535)+(h&(1<<A)-1)];continue n}break}}else if(A&64)if(A&32){P.mode=h0e;break e}else{e.msg="invalid literal/length code",P.mode=Hg;break e}else{_=g[(_&65535)+(h&(1<<A)-1)];continue t}break}}while(r<i&&a<s);S=y>>3,r-=S,y-=S<<3,h&=(1<<y)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<s?257+(s-a):257-(a-s),P.hold=h,P.bits=y};const Pc=15,f4=852,h4=592,p4=0,vb=1,m4=2,m0e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),g0e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),y0e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),v0e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),x0e=(t,e,n,r,i,a,o,s)=>{const l=s.bits;let u=0,c=0,f=0,p=0,h=0,y=0,g=0,x=0,v=0,w=0,_,A,S,N,C,I=null,R;const U=new Uint16Array(Pc+1),P=new Uint16Array(Pc+1);let O=null,D,L,B;for(u=0;u<=Pc;u++)U[u]=0;for(c=0;c<r;c++)U[e[n+c]]++;for(h=l,p=Pc;p>=1&&U[p]===0;p--);if(h>p&&(h=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,s.bits=1,0;for(f=1;f<p&&U[f]===0;f++);for(h<f&&(h=f),x=1,u=1;u<=Pc;u++)if(x<<=1,x-=U[u],x<0)return-1;if(x>0&&(t===p4||p!==1))return-1;for(P[1]=0,u=1;u<Pc;u++)P[u+1]=P[u]+U[u];for(c=0;c<r;c++)e[n+c]!==0&&(o[P[e[n+c]]++]=c);if(t===p4?(I=O=o,R=20):t===vb?(I=m0e,O=g0e,R=257):(I=y0e,O=v0e,R=0),w=0,c=0,u=f,C=a,y=h,g=0,S=-1,v=1<<h,N=v-1,t===vb&&v>f4||t===m4&&v>h4)return 1;for(;;){D=u-g,o[c]+1<R?(L=0,B=o[c]):o[c]>=R?(L=O[o[c]-R],B=I[o[c]-R]):(L=96,B=0),_=1<<u-g,A=1<<y,f=A;do A-=_,i[C+(w>>g)+A]=D<<24|L<<16|B|0;while(A!==0);for(_=1<<u-1;w&_;)_>>=1;if(_!==0?(w&=_-1,w+=_):w=0,c++,--U[u]===0){if(u===p)break;u=e[n+o[c]]}if(u>h&&(w&N)!==S){for(g===0&&(g=h),C+=f,y=u-g,x=1<<y;y+g<p&&(x-=U[y+g],!(x<=0));)y++,x<<=1;if(v+=1<<y,t===vb&&v>f4||t===m4&&v>h4)return 1;S=w&N,i[S]=h<<24|y<<16|C-a|0}}return w!==0&&(i[C+w]=u-g<<24|64<<16|0),s.bits=h,0};var Kh=x0e;const b0e=0,i8=1,a8=2,{Z_FINISH:g4,Z_BLOCK:w0e,Z_TREES:Gg,Z_OK:Gu,Z_STREAM_END:_0e,Z_NEED_DICT:S0e,Z_STREAM_ERROR:wa,Z_DATA_ERROR:o8,Z_MEM_ERROR:s8,Z_BUF_ERROR:A0e,Z_DEFLATED:y4}=t8,S1=16180,v4=16181,x4=16182,b4=16183,w4=16184,_4=16185,S4=16186,A4=16187,E4=16188,N4=16189,i0=16190,Go=16191,xb=16192,T4=16193,bb=16194,P4=16195,C4=16196,k4=16197,I4=16198,Wg=16199,Kg=16200,O4=16201,j4=16202,R4=16203,L4=16204,M4=16205,wb=16206,D4=16207,$4=16208,Pn=16209,l8=16210,u8=16211,E0e=852,N0e=592,T0e=15,P0e=T0e,F4=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function C0e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const rc=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<S1||e.mode>u8?1:0},c8=t=>{if(rc(t))return wa;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=S1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(E0e),e.distcode=e.distdyn=new Int32Array(N0e),e.sane=1,e.back=-1,Gu},d8=t=>{if(rc(t))return wa;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,c8(t)},f8=(t,e)=>{let n;if(rc(t))return wa;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?wa:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,d8(t))},h8=(t,e)=>{if(!t)return wa;const n=new C0e;t.state=n,n.strm=t,n.window=null,n.mode=S1;const r=f8(t,e);return r!==Gu&&(t.state=null),r},k0e=t=>h8(t,P0e);let U4=!0,_b,Sb;const I0e=t=>{if(U4){_b=new Int32Array(512),Sb=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Kh(i8,t.lens,0,288,_b,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Kh(a8,t.lens,0,32,Sb,0,t.work,{bits:5}),U4=!1}t.lencode=_b,t.lenbits=9,t.distcode=Sb,t.distbits=5},p8=(t,e,n,r)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(e.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(e.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},O0e=(t,e)=>{let n,r,i,a,o,s,l,u,c,f,p,h,y,g,x=0,v,w,_,A,S,N,C,I;const R=new Uint8Array(4);let U,P;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(rc(t)||!t.output||!t.input&&t.avail_in!==0)return wa;n=t.state,n.mode===Go&&(n.mode=xb),o=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,s=t.avail_in,u=n.hold,c=n.bits,f=s,p=l,I=Gu;e:for(;;)switch(n.mode){case S1:if(n.wrap===0){n.mode=xb;break}for(;c<16;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,R[0]=u&255,R[1]=u>>>8&255,n.check=lo(n.check,R,2,0),u=0,c=0,n.mode=v4;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Pn;break}if((u&15)!==y4){t.msg="unknown compression method",n.mode=Pn;break}if(u>>>=4,c-=4,C=(u&15)+8,n.wbits===0&&(n.wbits=C),C>15||C>n.wbits){t.msg="invalid window size",n.mode=Pn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?N4:Go,u=0,c=0;break;case v4:for(;c<16;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if(n.flags=u,(n.flags&255)!==y4){t.msg="unknown compression method",n.mode=Pn;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Pn;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,n.check=lo(n.check,R,2,0)),u=0,c=0,n.mode=x4;case x4:for(;c<32;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,R[2]=u>>>16&255,R[3]=u>>>24&255,n.check=lo(n.check,R,4,0)),u=0,c=0,n.mode=b4;case b4:for(;c<16;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,n.check=lo(n.check,R,2,0)),u=0,c=0,n.mode=w4;case w4:if(n.flags&1024){for(;c<16;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,n.check=lo(n.check,R,2,0)),u=0,c=0}else n.head&&(n.head.extra=null);n.mode=_4;case _4:if(n.flags&1024&&(h=n.length,h>s&&(h=s),h&&(n.head&&(C=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+h),C)),n.flags&512&&n.wrap&4&&(n.check=lo(n.check,r,h,a)),s-=h,a+=h,n.length-=h),n.length))break e;n.length=0,n.mode=S4;case S4:if(n.flags&2048){if(s===0)break e;h=0;do C=r[a+h++],n.head&&C&&n.length<65536&&(n.head.name+=String.fromCharCode(C));while(C&&h<s);if(n.flags&512&&n.wrap&4&&(n.check=lo(n.check,r,h,a)),s-=h,a+=h,C)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=A4;case A4:if(n.flags&4096){if(s===0)break e;h=0;do C=r[a+h++],n.head&&C&&n.length<65536&&(n.head.comment+=String.fromCharCode(C));while(C&&h<s);if(n.flags&512&&n.wrap&4&&(n.check=lo(n.check,r,h,a)),s-=h,a+=h,C)break e}else n.head&&(n.head.comment=null);n.mode=E4;case E4:if(n.flags&512){for(;c<16;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Pn;break}u=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Go;break;case N4:for(;c<32;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}t.adler=n.check=F4(u),u=0,c=0,n.mode=i0;case i0:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,n.hold=u,n.bits=c,S0e;t.adler=n.check=1,n.mode=Go;case Go:if(e===w0e||e===Gg)break e;case xb:if(n.last){u>>>=c&7,c-=c&7,n.mode=wb;break}for(;c<3;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}switch(n.last=u&1,u>>>=1,c-=1,u&3){case 0:n.mode=T4;break;case 1:if(I0e(n),n.mode=Wg,e===Gg){u>>>=2,c-=2;break e}break;case 2:n.mode=C4;break;case 3:t.msg="invalid block type",n.mode=Pn}u>>>=2,c-=2;break;case T4:for(u>>>=c&7,c-=c&7;c<32;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Pn;break}if(n.length=u&65535,u=0,c=0,n.mode=bb,e===Gg)break e;case bb:n.mode=P4;case P4:if(h=n.length,h){if(h>s&&(h=s),h>l&&(h=l),h===0)break e;i.set(r.subarray(a,a+h),o),s-=h,a+=h,l-=h,o+=h,n.length-=h;break}n.mode=Go;break;case C4:for(;c<14;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if(n.nlen=(u&31)+257,u>>>=5,c-=5,n.ndist=(u&31)+1,u>>>=5,c-=5,n.ncode=(u&15)+4,u>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Pn;break}n.have=0,n.mode=k4;case k4:for(;n.have<n.ncode;){for(;c<3;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}n.lens[O[n.have++]]=u&7,u>>>=3,c-=3}for(;n.have<19;)n.lens[O[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,U={bits:n.lenbits},I=Kh(b0e,n.lens,0,19,n.lencode,0,n.work,U),n.lenbits=U.bits,I){t.msg="invalid code lengths set",n.mode=Pn;break}n.have=0,n.mode=I4;case I4:for(;n.have<n.nlen+n.ndist;){for(;x=n.lencode[u&(1<<n.lenbits)-1],v=x>>>24,w=x>>>16&255,_=x&65535,!(v<=c);){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if(_<16)u>>>=v,c-=v,n.lens[n.have++]=_;else{if(_===16){for(P=v+2;c<P;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if(u>>>=v,c-=v,n.have===0){t.msg="invalid bit length repeat",n.mode=Pn;break}C=n.lens[n.have-1],h=3+(u&3),u>>>=2,c-=2}else if(_===17){for(P=v+3;c<P;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}u>>>=v,c-=v,C=0,h=3+(u&7),u>>>=3,c-=3}else{for(P=v+7;c<P;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}u>>>=v,c-=v,C=0,h=11+(u&127),u>>>=7,c-=7}if(n.have+h>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Pn;break}for(;h--;)n.lens[n.have++]=C}}if(n.mode===Pn)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Pn;break}if(n.lenbits=9,U={bits:n.lenbits},I=Kh(i8,n.lens,0,n.nlen,n.lencode,0,n.work,U),n.lenbits=U.bits,I){t.msg="invalid literal/lengths set",n.mode=Pn;break}if(n.distbits=6,n.distcode=n.distdyn,U={bits:n.distbits},I=Kh(a8,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,U),n.distbits=U.bits,I){t.msg="invalid distances set",n.mode=Pn;break}if(n.mode=Wg,e===Gg)break e;case Wg:n.mode=Kg;case Kg:if(s>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,n.hold=u,n.bits=c,p0e(t,p),o=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,s=t.avail_in,u=n.hold,c=n.bits,n.mode===Go&&(n.back=-1);break}for(n.back=0;x=n.lencode[u&(1<<n.lenbits)-1],v=x>>>24,w=x>>>16&255,_=x&65535,!(v<=c);){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if(w&&!(w&240)){for(A=v,S=w,N=_;x=n.lencode[N+((u&(1<<A+S)-1)>>A)],v=x>>>24,w=x>>>16&255,_=x&65535,!(A+v<=c);){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}u>>>=A,c-=A,n.back+=A}if(u>>>=v,c-=v,n.back+=v,n.length=_,w===0){n.mode=M4;break}if(w&32){n.back=-1,n.mode=Go;break}if(w&64){t.msg="invalid literal/length code",n.mode=Pn;break}n.extra=w&15,n.mode=O4;case O4:if(n.extra){for(P=n.extra;c<P;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=j4;case j4:for(;x=n.distcode[u&(1<<n.distbits)-1],v=x>>>24,w=x>>>16&255,_=x&65535,!(v<=c);){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if(!(w&240)){for(A=v,S=w,N=_;x=n.distcode[N+((u&(1<<A+S)-1)>>A)],v=x>>>24,w=x>>>16&255,_=x&65535,!(A+v<=c);){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}u>>>=A,c-=A,n.back+=A}if(u>>>=v,c-=v,n.back+=v,w&64){t.msg="invalid distance code",n.mode=Pn;break}n.offset=_,n.extra=w&15,n.mode=R4;case R4:if(n.extra){for(P=n.extra;c<P;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Pn;break}n.mode=L4;case L4:if(l===0)break e;if(h=p-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Pn;break}h>n.wnext?(h-=n.wnext,y=n.wsize-h):y=n.wnext-h,h>n.length&&(h=n.length),g=n.window}else g=i,y=o-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do i[o++]=g[y++];while(--h);n.length===0&&(n.mode=Kg);break;case M4:if(l===0)break e;i[o++]=n.length,l--,n.mode=Kg;break;case wb:if(n.wrap){for(;c<32;){if(s===0)break e;s--,u|=r[a++]<<c,c+=8}if(p-=l,t.total_out+=p,n.total+=p,n.wrap&4&&p&&(t.adler=n.check=n.flags?lo(n.check,i,p,o-p):C_(n.check,i,p,o-p)),p=l,n.wrap&4&&(n.flags?u:F4(u))!==n.check){t.msg="incorrect data check",n.mode=Pn;break}u=0,c=0}n.mode=D4;case D4:if(n.wrap&&n.flags){for(;c<32;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Pn;break}u=0,c=0}n.mode=$4;case $4:I=_0e;break e;case Pn:I=o8;break e;case l8:return s8;case u8:default:return wa}return t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,n.hold=u,n.bits=c,(n.wsize||p!==t.avail_out&&n.mode<Pn&&(n.mode<wb||e!==g4))&&p8(t,t.output,t.next_out,p-t.avail_out),f-=t.avail_in,p-=t.avail_out,t.total_in+=f,t.total_out+=p,n.total+=p,n.wrap&4&&p&&(t.adler=n.check=n.flags?lo(n.check,i,p,t.next_out-p):C_(n.check,i,p,t.next_out-p)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Go?128:0)+(n.mode===Wg||n.mode===bb?256:0),(f===0&&p===0||e===g4)&&I===Gu&&(I=A0e),I},j0e=t=>{if(rc(t))return wa;let e=t.state;return e.window&&(e.window=null),t.state=null,Gu},R0e=(t,e)=>{if(rc(t))return wa;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,Gu):wa},L0e=(t,e)=>{const n=e.length;let r,i,a;return rc(t)||(r=t.state,r.wrap!==0&&r.mode!==i0)?wa:r.mode===i0&&(i=1,i=C_(i,e,n,0),i!==r.check)?o8:(a=p8(t,e,n,n),a?(r.mode=l8,s8):(r.havedict=1,Gu))};var M0e=d8,D0e=f8,$0e=c8,F0e=k0e,U0e=h8,B0e=O0e,q0e=j0e,V0e=R0e,z0e=L0e,H0e="pako inflate (from Nodeca project)",Xo={inflateReset:M0e,inflateReset2:D0e,inflateResetKeep:$0e,inflateInit:F0e,inflateInit2:U0e,inflate:B0e,inflateEnd:q0e,inflateGetHeader:V0e,inflateSetDictionary:z0e,inflateInfo:H0e};function G0e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var W0e=G0e;const m8=Object.prototype.toString,{Z_NO_FLUSH:K0e,Z_FINISH:J0e,Z_OK:nm,Z_STREAM_END:Ab,Z_NEED_DICT:Eb,Z_STREAM_ERROR:Y0e,Z_DATA_ERROR:B4,Z_MEM_ERROR:X0e}=t8;function _m(t){this.options=n8.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f0e,this.strm.avail_out=0;let n=Xo.inflateInit2(this.strm,e.windowBits);if(n!==nm)throw new Error(k_[n]);if(this.header=new W0e,Xo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=I_.string2buf(e.dictionary):m8.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Xo.inflateSetDictionary(this.strm,e.dictionary),n!==nm)))throw new Error(k_[n])}_m.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?J0e:K0e,m8.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=Xo.inflate(n,o),a===Eb&&i&&(a=Xo.inflateSetDictionary(n,i),a===nm?a=Xo.inflate(n,o):a===B4&&(a=Eb));n.avail_in>0&&a===Ab&&n.state.wrap>0&&t[n.next_in]!==0;)Xo.inflateReset(n),a=Xo.inflate(n,o);switch(a){case Y0e:case B4:case Eb:case X0e:return this.onEnd(a),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(n.avail_out===0||a===Ab))if(this.options.to==="string"){let l=I_.utf8border(n.output,n.next_out),u=n.next_out-l,c=I_.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===nm&&s===0)){if(a===Ab)return a=Xo.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};_m.prototype.onData=function(t){this.chunks.push(t)};_m.prototype.onEnd=function(t){t===nm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n8.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Z0e(t,e){const n=new _m(e);if(n.push(t),n.err)throw n.msg||k_[n.err];return n.result}var Q0e=_m,e1e=Z0e,t1e={Inflate:Q0e,inflate:e1e};const{Inflate:n1e,inflate:r1e}=t1e;var q4=n1e,i1e=r1e;const g8=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;g8[t]=e}const V4=4294967295;function a1e(t,e,n){let r=t;for(let i=0;i<n;i++)r=g8[(r^e[i])&255]^r>>>8;return r}function o1e(t,e){return(a1e(V4,t,e)^V4)>>>0}function z4(t,e,n){const r=t.readUint32(),i=o1e(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function y8(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function v8(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function x8(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function b8(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(n[a]>>1)&255;for(;a<r;a++)e[a]=t[a]+(e[a-i]+n[a]>>1)&255}}function w8(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+n[a]&255;for(;a<r;a++)e[a]=t[a]+s1e(e[a-i],n[a],n[a-i])&255}}function s1e(t,e,n){const r=t+e-n,i=Math.abs(r-t),a=Math.abs(r-e),o=Math.abs(r-n);return i<=a&&i<=o?t:a<=o?e:n}function l1e(t,e,n,r,i,a){switch(t){case 0:y8(e,n,i);break;case 1:v8(e,n,i,a);break;case 2:x8(e,n,r,i);break;case 3:b8(e,n,r,i,a);break;case 4:w8(e,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const u1e=new Uint16Array([255]),c1e=new Uint8Array(u1e.buffer),d1e=c1e[0]===255;function f1e(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(a/8)*i,l=new Uint8Array(r*n*s);let u=0;for(let c=0;c<7;c++){const f=o[c],p=Math.ceil((n-f.x)/f.xStep),h=Math.ceil((r-f.y)/f.yStep);if(p<=0||h<=0)continue;const y=p*s,g=new Uint8Array(y);for(let x=0;x<h;x++){const v=e[u++],w=e.subarray(u,u+y);u+=y;const _=new Uint8Array(y);l1e(v,w,_,g,y,s),g.set(_);for(let A=0;A<p;A++){const S=f.x+A*f.xStep,N=f.y+x*f.yStep;if(!(S>=n||N>=r))for(let C=0;C<s;C++)l[(N*n+S)*s+C]=_[A*s+C]}}}if(a===16){const c=new Uint16Array(l.buffer);if(d1e)for(let f=0;f<c.length;f++)c[f]=h1e(c[f]);return c}else return l}function h1e(t){return(t&255)<<8|t>>8&255}const p1e=new Uint16Array([255]),m1e=new Uint8Array(p1e.buffer),g1e=m1e[0]===255,y1e=new Uint8Array(0);function H4(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,o=Math.ceil(a/8)*i,s=Math.ceil(a/8*i*n),l=new Uint8Array(r*s);let u=y1e,c=0,f,p;for(let h=0;h<r;h++){switch(f=e.subarray(c+1,c+1+s),p=l.subarray(h*s,(h+1)*s),e[c]){case 0:y8(f,p,s);break;case 1:v8(f,p,s,o);break;case 2:x8(f,p,u,s);break;case 3:b8(f,p,u,s,o);break;case 4:w8(f,p,u,s,o);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}u=p,c+=s+1}if(a===16){const h=new Uint16Array(l.buffer);if(g1e)for(let y=0;y<h.length;y++)h[y]=v1e(h[y]);return h}else return l}function v1e(t){return(t&255)<<8|t>>8&255}const hy=Uint8Array.of(137,80,78,71,13,10,26,10);function G4(t){if(!x1e(t.readBytes(hy.length)))throw new Error("wrong PNG signature")}function x1e(t){if(t.length<hy.length)return!1;for(let e=0;e<hy.length;e++)if(t[e]!==hy[e])return!1;return!0}const b1e="tEXt",w1e=0,_8=new TextDecoder("latin1");function _1e(t){if(A1e(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const S1e=/^[\u0000-\u00FF]*$/;function A1e(t){if(!S1e.test(t))throw new Error("invalid latin1 text")}function E1e(t,e,n){const r=S8(e);t[r]=N1e(e,n-r.length-1)}function S8(t){for(t.mark();t.readByte()!==w1e;);const e=t.offset;t.reset();const n=_8.decode(t.readBytes(e-t.offset-1));return t.skip(1),_1e(n),n}function N1e(t,e){return _8.decode(t.readBytes(e))}const Oi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Nb={UNKNOWN:-1,DEFLATE:0},W4={UNKNOWN:-1,ADAPTIVE:0},Tb={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Jg={NONE:0,BACKGROUND:1,PREVIOUS:2},Pb={SOURCE:0,OVER:1};class T1e extends iA{constructor(n,r={}){super(n);Xt(this,"_checkCrc");Xt(this,"_inflator");Xt(this,"_png");Xt(this,"_apng");Xt(this,"_end");Xt(this,"_hasPalette");Xt(this,"_palette");Xt(this,"_hasTransparency");Xt(this,"_transparency");Xt(this,"_compressionMethod");Xt(this,"_filterMethod");Xt(this,"_interlaceMethod");Xt(this,"_colorType");Xt(this,"_isAnimated");Xt(this,"_numberOfFrames");Xt(this,"_numberOfPlays");Xt(this,"_frames");Xt(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new q4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Nb.UNKNOWN,this._filterMethod=W4.UNKNOWN,this._interlaceMethod=Tb.UNKNOWN,this._colorType=Oi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(G4(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(G4(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case b1e:E1e(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?z4(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?z4(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=P1e(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Oi.GREYSCALE:i=1;break;case Oi.TRUECOLOUR:i=3;break;case Oi.INDEXED_COLOUR:i=1;break;case Oi.GREYSCALE_ALPHA:i=2;break;case Oi.TRUECOLOUR_ALPHA:i=4;break;case Oi.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Nb.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Oi.GREYSCALE:case Oi.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Oi.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Oi.UNKNOWN:case Oi.GREYSCALE_ALPHA:case Oi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=S8(this),i=this.readUint8();if(i!==Nb.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:i1e(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=H4({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Jg.NONE:break;case Jg.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const s=(a*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[s+l]=0}break;case Jg.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(o,s)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+s)*this._png.channels,u=(o*r.width+s)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case Pb.SOURCE:for(let o=0;o<r.height;o++)for(let s=0;s<r.width;s++){const{index:l,frameIndex:u}=a(o,s);for(let c=0;c<this._png.channels;c++)n.data[l+c]=r.data[u+c]}break;case Pb.OVER:for(let o=0;o<r.height;o++)for(let s=0;s<r.width;s++){const{index:l,frameIndex:u}=a(o,s);for(let c=0;c<this._png.channels;c++){const f=r.data[u+this._png.channels-1]/i,p=c%(this._png.channels-1)===0?1:r.data[u+c],h=Math.floor(f*p+(1-f)*n.data[l+c]);n.data[l+c]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==W4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Tb.NO_INTERLACE)this._png.data=H4({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Tb.ADAM7)this._png.data=f1e({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Jg.NONE,blendOp:Pb.SOURCE,data:n}),this._inflator=new q4,this._writingDataChunks=!1}}function P1e(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var K4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(K4||(K4={}));function C1e(t,e){return new T1e(t,e).decode()}var wt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Cb(){wt.console&&typeof wt.console.log=="function"&&wt.console.log.apply(wt.console,arguments)}var fn={log:Cb,warn:function(t){wt.console&&(typeof wt.console.warn=="function"?wt.console.warn.apply(wt.console,arguments):Cb.call(null,arguments))},error:function(t){wt.console&&(typeof wt.console.error=="function"?wt.console.error.apply(wt.console,arguments):Cb(t))}};function kb(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){hu(r.response,e,n)},r.onerror=function(){fn.error("could not download file")},r.send()}function J4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Yg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var hu=wt.saveAs||((typeof window>"u"?"undefined":an(window))!=="object"||window!==wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=wt.URL||wt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?J4(i.href)?kb(t,e,n):Yg(i,i.target="_blank"):Yg(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Yg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(J4(t))kb(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Yg(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:an(a)!=="object"&&(fn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return kb(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(wt.HTMLElement)||wt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":an(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var c=s.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},s.readAsDataURL(t)}else{var l=wt.URL||wt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function A8(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+s+l+u}}var py=wt.atob.bind(wt),Y4=wt.btoa.bind(wt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ib(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=zr(n,r,i,a,e[0],7,-680876936),a=zr(a,n,r,i,e[1],12,-389564586),i=zr(i,a,n,r,e[2],17,606105819),r=zr(r,i,a,n,e[3],22,-1044525330),n=zr(n,r,i,a,e[4],7,-176418897),a=zr(a,n,r,i,e[5],12,1200080426),i=zr(i,a,n,r,e[6],17,-1473231341),r=zr(r,i,a,n,e[7],22,-45705983),n=zr(n,r,i,a,e[8],7,1770035416),a=zr(a,n,r,i,e[9],12,-1958414417),i=zr(i,a,n,r,e[10],17,-42063),r=zr(r,i,a,n,e[11],22,-1990404162),n=zr(n,r,i,a,e[12],7,1804603682),a=zr(a,n,r,i,e[13],12,-40341101),i=zr(i,a,n,r,e[14],17,-1502002290),n=Hr(n,r=zr(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Hr(a,n,r,i,e[6],9,-1069501632),i=Hr(i,a,n,r,e[11],14,643717713),r=Hr(r,i,a,n,e[0],20,-373897302),n=Hr(n,r,i,a,e[5],5,-701558691),a=Hr(a,n,r,i,e[10],9,38016083),i=Hr(i,a,n,r,e[15],14,-660478335),r=Hr(r,i,a,n,e[4],20,-405537848),n=Hr(n,r,i,a,e[9],5,568446438),a=Hr(a,n,r,i,e[14],9,-1019803690),i=Hr(i,a,n,r,e[3],14,-187363961),r=Hr(r,i,a,n,e[8],20,1163531501),n=Hr(n,r,i,a,e[13],5,-1444681467),a=Hr(a,n,r,i,e[2],9,-51403784),i=Hr(i,a,n,r,e[7],14,1735328473),n=Gr(n,r=Hr(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Gr(a,n,r,i,e[8],11,-2022574463),i=Gr(i,a,n,r,e[11],16,1839030562),r=Gr(r,i,a,n,e[14],23,-35309556),n=Gr(n,r,i,a,e[1],4,-1530992060),a=Gr(a,n,r,i,e[4],11,1272893353),i=Gr(i,a,n,r,e[7],16,-155497632),r=Gr(r,i,a,n,e[10],23,-1094730640),n=Gr(n,r,i,a,e[13],4,681279174),a=Gr(a,n,r,i,e[0],11,-358537222),i=Gr(i,a,n,r,e[3],16,-722521979),r=Gr(r,i,a,n,e[6],23,76029189),n=Gr(n,r,i,a,e[9],4,-640364487),a=Gr(a,n,r,i,e[12],11,-421815835),i=Gr(i,a,n,r,e[15],16,530742520),n=Wr(n,r=Gr(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Wr(a,n,r,i,e[7],10,1126891415),i=Wr(i,a,n,r,e[14],15,-1416354905),r=Wr(r,i,a,n,e[5],21,-57434055),n=Wr(n,r,i,a,e[12],6,1700485571),a=Wr(a,n,r,i,e[3],10,-1894986606),i=Wr(i,a,n,r,e[10],15,-1051523),r=Wr(r,i,a,n,e[1],21,-2054922799),n=Wr(n,r,i,a,e[8],6,1873313359),a=Wr(a,n,r,i,e[15],10,-30611744),i=Wr(i,a,n,r,e[6],15,-1560198380),r=Wr(r,i,a,n,e[13],21,1309151649),n=Wr(n,r,i,a,e[4],6,-145523070),a=Wr(a,n,r,i,e[11],10,-1120210379),i=Wr(i,a,n,r,e[2],15,718787259),r=Wr(r,i,a,n,e[9],21,-343485551),t[0]=rl(n,t[0]),t[1]=rl(r,t[1]),t[2]=rl(i,t[2]),t[3]=rl(a,t[3])}function A1(t,e,n,r,i,a){return e=rl(rl(e,t),rl(r,a)),rl(e<<i|e>>>32-i,n)}function zr(t,e,n,r,i,a,o){return A1(e&n|~e&r,t,e,i,a,o)}function Hr(t,e,n,r,i,a,o){return A1(e&r|n&~r,t,e,i,a,o)}function Gr(t,e,n,r,i,a,o){return A1(e^n^r,t,e,i,a,o)}function Wr(t,e,n,r,i,a,o){return A1(n^(e|~r),t,e,i,a,o)}function E8(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Ib(r,k1e(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Ib(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Ib(r,i),r}function k1e(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var X4="0123456789abcdef".split("");function I1e(t){for(var e="",n=0;n<4;n++)e+=X4[t>>8*n+4&15]+X4[t>>8*n&15];return e}function O1e(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function O_(t){return E8(t).map(O1e).join("")}var j1e=function(t){for(var e=0;e<t.length;e++)t[e]=I1e(t[e]);return t.join("")}(E8("hello"))!="5d41402abc4b2a76b9719d911017c592";function rl(t,e){if(j1e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function j_(t,e){var n,r,i,a;if(t!==n){for(var o=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var c=s[l];u=(u+c+o.charCodeAt(l))%256,s[l]=s[u],s[u]=c}n=t,r=s}else s=r;var f=e.length,p=0,h=0,y="";for(l=0;l<f;l++)h=(h+(c=s[p=(p+1)%256]))%256,s[p]=s[h],s[h]=c,o=s[(s[p]+s[h])%256],y+=String.fromCharCode(e.charCodeAt(l)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Z4={print:4,modify:8,copy:16,"annot-forms":32};function Rc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(s){if(Z4.perm!==void 0)throw new Error("Invalid permission: "+s);i+=Z4[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=O_(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=j_(this.encryptionKey,this.padding)}function Lc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function Q4(t){if(an(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var o=e[n][a];try{o[0].apply(t,r)}catch(s){wt.console&&fn.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function a0(t){if(!(this instanceof a0))return new a0(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function N8(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function vu(t,e,n,r,i){if(!(this instanceof vu))return new vu(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,N8.call(this,r,i)}function Qc(t,e,n,r,i){if(!(this instanceof Qc))return new Qc(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,N8.call(this,r,i)}function ct(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,l=16,u="S",c=null;an(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),s=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=Q4;var y="1.3",g=h.__private__.getPdfVersion=function(){return y};h.__private__.setPdfVersion=function(E){y=E};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return x};var v=h.__private__.getPageFormat=function(E){return x[E]};i=i||"a4";var w="compat",_="advanced",A=w;function S(){this.saveGraphicsState(),Z(new yt(et,0,0,-et,0,zl()*et).toString()+" cm"),this.setFontSize(this.getFontSize()/et),u="n",A=_}function N(){this.restoreGraphicsState(),u="S",A=w}var C=h.__private__.combineFontStyleAndFontWeight=function(E,$){if(E=="bold"&&$=="normal"||E=="bold"&&$==400||E=="normal"&&$=="italic"||E=="bold"&&$=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return $&&(E=$==400||$==="normal"?E==="italic"?"italic":"normal":$!=700&&$!=="bold"||E!=="normal"?($==700?"bold":$)+""+E:"bold"),E};h.advancedAPI=function(E){var $=A===w;return $&&S.call(this),typeof E!="function"||(E(this),$&&N.call(this)),this},h.compatAPI=function(E){var $=A===_;return $&&N.call(this),typeof E!="function"||(E(this),$&&S.call(this)),this},h.isAdvancedAPI=function(){return A===_};var I,R=function(E){if(A!==_)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=h.roundToPrecision=h.__private__.roundToPrecision=function(E,$){var ne=e||$;if(isNaN(E)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(ne).replace(/0+$/,"")};I=h.hpf=h.__private__.hpf=typeof l=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return U(E,l)}:l==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return U(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return U(E,16)};var P=h.f2=h.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return U(E,2)},O=h.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return U(E,3)},D=h.scale=h.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return A===w?E*et:A===_?E:void 0},L=function(E){return D(function($){return A===w?zl()-$:A===_?$:void 0}(E))};h.__private__.setPrecision=h.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(e=parseInt(E,10))};var B,J="00000000000000000000000000000000",H=h.__private__.getFileId=function(){return J},M=h.__private__.setFileId=function(E){return J=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(zn=new Rc(c.userPermissions,c.userPassword,c.ownerPassword,J)),J};h.setFileId=function(E){return M(E),this},h.getFileId=function(){return H()};var X=h.__private__.convertDateToPDFDate=function(E){var $=E.getTimezoneOffset(),ne=$<0?"+":"-",ue=Math.floor(Math.abs($/60)),pe=Math.abs($%60),Ne=[ne,G(ue),"'",G(pe),"'"].join("");return["D:",E.getFullYear(),G(E.getMonth()+1),G(E.getDate()),G(E.getHours()),G(E.getMinutes()),G(E.getSeconds()),Ne].join("")},oe=h.__private__.convertPDFDateToDate=function(E){var $=parseInt(E.substr(2,4),10),ne=parseInt(E.substr(6,2),10)-1,ue=parseInt(E.substr(8,2),10),pe=parseInt(E.substr(10,2),10),Ne=parseInt(E.substr(12,2),10),ke=parseInt(E.substr(14,2),10);return new Date($,ne,ue,pe,Ne,ke,0)},ie=h.__private__.setCreationDate=function(E){var $;if(E===void 0&&(E=new Date),E instanceof Date)$=X(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");$=E}return B=$},k=h.__private__.getCreationDate=function(E){var $=B;return E==="jsDate"&&($=oe(B)),$};h.setCreationDate=function(E){return ie(E),this},h.getCreationDate=function(E){return k(E)};var q,G=h.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},te=h.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},re=0,ce=[],ye=[],se=0,me=[],we=[],he=!1,Ie=ye;h.__private__.setCustomOutputDestination=function(E){he=!0,Ie=E};var ae=function(E){he||(Ie=E)};h.__private__.resetCustomOutputDestination=function(){he=!1,Ie=ye};var Z=h.__private__.out=function(E){return E=E.toString(),se+=E.length+1,Ie.push(E),Ie},Be=h.__private__.write=function(E){return Z(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},Ue=h.__private__.getArrayBuffer=function(E){for(var $=E.length,ne=new ArrayBuffer($),ue=new Uint8Array(ne);$--;)ue[$]=E.charCodeAt($);return ne},Ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Ve};var be=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(E){return be=A===_?E/et:E,this};var Oe,_e=h.__private__.getFontSize=h.getFontSize=function(){return A===w?be:be*et},Le=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(E){return Le=E,this},h.__private__.getR2L=h.getR2L=function(){return Le};var Re,it=h.__private__.setZoomMode=function(E){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))Oe=E;else if(isNaN(E)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');Oe=E}else Oe=parseInt(E,10)};h.__private__.getZoomMode=function(){return Oe};var De,ze=h.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');Re=E};h.__private__.getPageMode=function(){return Re};var mt=h.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');De=E};h.__private__.getLayoutMode=function(){return De},h.__private__.setDisplayMode=h.setDisplayMode=function(E,$,ne){return it(E),mt($),ze(ne),this};var Qe={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(E){if(Object.keys(Qe).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Qe[E]},h.__private__.getDocumentProperties=function(){return Qe},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(E){for(var $ in Qe)Qe.hasOwnProperty($)&&E[$]&&(Qe[$]=E[$]);return this},h.__private__.setDocumentProperty=function(E,$){if(Object.keys(Qe).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Qe[E]=$};var Ge,et,lt,Jt,$t,tt={},Nt={},en=[],ht={},gt={},ft={},pn={},In=null,tn=0,xt=[],Bt=new Q4(h),Yi=t.hotfixes||[],_r={},Xi={},Zi=[],yt=function E($,ne,ue,pe,Ne,ke){if(!(this instanceof E))return new E($,ne,ue,pe,Ne,ke);isNaN($)&&($=1),isNaN(ne)&&(ne=0),isNaN(ue)&&(ue=0),isNaN(pe)&&(pe=1),isNaN(Ne)&&(Ne=0),isNaN(ke)&&(ke=0),this._matrix=[$,ne,ue,pe,Ne,ke]};Object.defineProperty(yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yt.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(E)},yt.prototype.multiply=function(E){var $=E.sx*this.sx+E.shy*this.shx,ne=E.sx*this.shy+E.shy*this.sy,ue=E.shx*this.sx+E.sy*this.shx,pe=E.shx*this.shy+E.sy*this.sy,Ne=E.tx*this.sx+E.ty*this.shx+this.tx,ke=E.tx*this.shy+E.ty*this.sy+this.ty;return new yt($,ne,ue,pe,Ne,ke)},yt.prototype.decompose=function(){var E=this.sx,$=this.shy,ne=this.shx,ue=this.sy,pe=this.tx,Ne=this.ty,ke=Math.sqrt(E*E+$*$),Ze=(E/=ke)*ne+($/=ke)*ue;ne-=E*Ze,ue-=$*Ze;var st=Math.sqrt(ne*ne+ue*ue);return Ze/=st,E*(ue/=st)<$*(ne/=st)&&(E=-E,$=-$,Ze=-Ze,ke=-ke),{scale:new yt(ke,0,0,st,0,0),translate:new yt(1,0,0,1,pe,Ne),rotate:new yt(E,$,-$,E,0,0),skew:new yt(1,0,Ze,1,0,0)}},yt.prototype.toString=function(E){return this.join(" ")},yt.prototype.inversed=function(){var E=this.sx,$=this.shy,ne=this.shx,ue=this.sy,pe=this.tx,Ne=this.ty,ke=1/(E*ue-$*ne),Ze=ue*ke,st=-$*ke,At=-ne*ke,Ct=E*ke;return new yt(Ze,st,At,Ct,-Ze*pe-At*Ne,-st*pe-Ct*Ne)},yt.prototype.applyToPoint=function(E){var $=E.x*this.sx+E.y*this.shx+this.tx,ne=E.x*this.shy+E.y*this.sy+this.ty;return new ql($,ne)},yt.prototype.applyToRectangle=function(E){var $=this.applyToPoint(E),ne=this.applyToPoint(new ql(E.x+E.w,E.y+E.h));return new Mf($.x,$.y,ne.x-$.x,ne.y-$.y)},yt.prototype.clone=function(){var E=this.sx,$=this.shy,ne=this.shx,ue=this.sy,pe=this.tx,Ne=this.ty;return new yt(E,$,ne,ue,pe,Ne)},h.Matrix=yt;var ko=h.matrixMult=function(E,$){return $.multiply(E)},Io=new yt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Io;var Qi=function(E,$){if(!gt[E]){var ne=($ instanceof vu?"Sh":"P")+(Object.keys(ht).length+1).toString(10);$.id=ne,gt[E]=ne,ht[ne]=$,Bt.publish("addPattern",$)}};h.ShadingPattern=vu,h.TilingPattern=Qc,h.addShadingPattern=function(E,$){return R("addShadingPattern()"),Qi(E,$),this},h.beginTilingPattern=function(E){R("beginTilingPattern()"),Df(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},h.endTilingPattern=function(E,$){R("endTilingPattern()"),$.stream=we[q].join(`
`),Qi(E,$),Bt.publish("endTilingPattern",$),Zi.pop().restore()};var ea,Dn=h.__private__.newObject=function(){var E=Sr();return kr(E,!0),E},Sr=h.__private__.newObjectDeferred=function(){return re++,ce[re]=function(){return se},re},kr=function(E,$){return $=typeof $=="boolean"&&$,ce[E]=se,$&&Z(E+" 0 obj"),E},jl=h.__private__.newAdditionalObject=function(){var E={objId:Sr(),content:""};return me.push(E),E},Ss=Sr(),Ea=Sr(),eo=h.__private__.decodeColorString=function(E){var $=E.split(" ");if($.length!==2||$[1]!=="g"&&$[1]!=="G")$.length!==5||$[4]!=="k"&&$[4]!=="K"||($=[(1-$[0])*(1-$[3]),(1-$[1])*(1-$[3]),(1-$[2])*(1-$[3]),"r"]);else{var ne=parseFloat($[0]);$=[ne,ne,ne,"r"]}for(var ue="#",pe=0;pe<3;pe++)ue+=("0"+Math.floor(255*parseFloat($[pe])).toString(16)).slice(-2);return ue},Na=h.__private__.encodeColorString=function(E){var $;typeof E=="string"&&(E={ch1:E});var ne=E.ch1,ue=E.ch2,pe=E.ch3,Ne=E.ch4,ke=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var Ze=new A8(ne);if(Ze.ok)ne=Ze.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var st=parseInt(ne.substr(1),16);ne=st>>16&255,ue=st>>8&255,pe=255&st}if(ue===void 0||Ne===void 0&&ne===ue&&ue===pe)$=typeof ne=="string"?ne+" "+ke[0]:E.precision===2?P(ne/255)+" "+ke[0]:O(ne/255)+" "+ke[0];else if(Ne===void 0||an(Ne)==="object"){if(Ne&&!isNaN(Ne.a)&&Ne.a===0)return["1.","1.","1.",ke[1]].join(" ");$=typeof ne=="string"?[ne,ue,pe,ke[1]].join(" "):E.precision===2?[P(ne/255),P(ue/255),P(pe/255),ke[1]].join(" "):[O(ne/255),O(ue/255),O(pe/255),ke[1]].join(" ")}else $=typeof ne=="string"?[ne,ue,pe,Ne,ke[2]].join(" "):E.precision===2?[P(ne),P(ue),P(pe),P(Ne),ke[2]].join(" "):[O(ne),O(ue),O(pe),O(Ne),ke[2]].join(" ");return $},Ta=h.__private__.getFilters=function(){return o},ta=h.__private__.putStream=function(E){var $=(E=E||{}).data||"",ne=E.filters||Ta(),ue=E.alreadyAppliedFilters||[],pe=E.addLength1||!1,Ne=$.length,ke=E.objectId,Ze=function(ur){return ur};if(c!==null&&ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Ze=zn.encryptor(ke,0));var st={};ne===!0&&(ne=["FlateEncode"]);var At=E.additionalKeyValues||[],Ct=(st=ct.API.processDataByFilters!==void 0?ct.API.processDataByFilters($,ne):{data:$,reverseChain:[]}).reverseChain+(Array.isArray(ue)?ue.join(" "):ue.toString());if(st.data.length!==0&&(At.push({key:"Length",value:st.data.length}),pe===!0&&At.push({key:"Length1",value:Ne})),Ct.length!=0)if(Ct.split("/").length-1==1)At.push({key:"Filter",value:Ct});else{At.push({key:"Filter",value:"["+Ct+"]"});for(var Yt=0;Yt<At.length;Yt+=1)if(At[Yt].key==="DecodeParms"){for(var On=[],tr=0;tr<st.reverseChain.split("/").length-1;tr+=1)On.push("null");On.push(At[Yt].value),At[Yt].value="["+On.join(" ")+"]"}}Z("<<");for(var mn=0;mn<At.length;mn++)Z("/"+At[mn].key+" "+At[mn].value);Z(">>"),st.data.length!==0&&(Z("stream"),Z(Ze(st.data)),Z("endstream"))},Rl=h.__private__.putPage=function(E){var $=E.number,ne=E.data,ue=E.objId,pe=E.contentsObjId;kr(ue,!0),Z("<</Type /Page"),Z("/Parent "+E.rootDictionaryObjId+" 0 R"),Z("/Resources "+E.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(I(E.mediaBox.bottomLeftX))+" "+parseFloat(I(E.mediaBox.bottomLeftY))+" "+I(E.mediaBox.topRightX)+" "+I(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&Z("/CropBox ["+I(E.cropBox.bottomLeftX)+" "+I(E.cropBox.bottomLeftY)+" "+I(E.cropBox.topRightX)+" "+I(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&Z("/BleedBox ["+I(E.bleedBox.bottomLeftX)+" "+I(E.bleedBox.bottomLeftY)+" "+I(E.bleedBox.topRightX)+" "+I(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&Z("/TrimBox ["+I(E.trimBox.bottomLeftX)+" "+I(E.trimBox.bottomLeftY)+" "+I(E.trimBox.topRightX)+" "+I(E.trimBox.topRightY)+"]"),E.artBox!==null&&Z("/ArtBox ["+I(E.artBox.bottomLeftX)+" "+I(E.artBox.bottomLeftY)+" "+I(E.artBox.topRightX)+" "+I(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&Z("/UserUnit "+E.userUnit),Bt.publish("putPage",{objId:ue,pageContext:xt[$],pageNumber:$,page:ne}),Z("/Contents "+pe+" 0 R"),Z(">>"),Z("endobj");var Ne=ne.join(`
`);return A===_&&(Ne+=`
Q`),kr(pe,!0),ta({data:Ne,filters:Ta(),objectId:pe}),Z("endobj"),ue},to=h.__private__.putPages=function(){var E,$,ne=[];for(E=1;E<=tn;E++)xt[E].objId=Sr(),xt[E].contentsObjId=Sr();for(E=1;E<=tn;E++)ne.push(Rl({number:E,data:we[E],objId:xt[E].objId,contentsObjId:xt[E].contentsObjId,mediaBox:xt[E].mediaBox,cropBox:xt[E].cropBox,bleedBox:xt[E].bleedBox,trimBox:xt[E].trimBox,artBox:xt[E].artBox,userUnit:xt[E].userUnit,rootDictionaryObjId:Ss,resourceDictionaryObjId:Ea}));kr(Ss,!0),Z("<</Type /Pages");var ue="/Kids [";for($=0;$<tn;$++)ue+=ne[$]+" 0 R ";Z(ue+"]"),Z("/Count "+tn),Z(">>"),Z("endobj"),Bt.publish("postPutPages")},Ll=function(E){Bt.publish("putFont",{font:E,out:Z,newObject:Dn,putStream:ta}),E.isAlreadyPutted!==!0&&(E.objectNumber=Dn(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+Lc(E.postScriptName)),Z("/Subtype /Type1"),typeof E.encoding=="string"&&Z("/Encoding /"+E.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},ac=function(E){E.objectNumber=Dn();var $=[];$.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Form"}),$.push({key:"BBox",value:"["+[I(E.x),I(E.y),I(E.x+E.width),I(E.y+E.height)].join(" ")+"]"}),$.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var ne=E.pages[1].join(`
`);ta({data:ne,additionalKeyValues:$,objectId:E.objectNumber}),Z("endobj")},oc=function(E,$){$||($=21);var ne=Dn(),ue=function(ke,Ze){var st,At=[],Ct=1/(Ze-1);for(st=0;st<1;st+=Ct)At.push(st);if(At.push(1),ke[0].offset!=0){var Yt={offset:0,color:ke[0].color};ke.unshift(Yt)}if(ke[ke.length-1].offset!=1){var On={offset:1,color:ke[ke.length-1].color};ke.push(On)}for(var tr="",mn=0,ur=0;ur<At.length;ur++){for(st=At[ur];st>ke[mn+1].offset;)mn++;var nr=ke[mn].offset,Ir=(st-nr)/(ke[mn+1].offset-nr),ra=ke[mn].color,di=ke[mn+1].color;tr+=te(Math.round((1-Ir)*ra[0]+Ir*di[0]).toString(16))+te(Math.round((1-Ir)*ra[1]+Ir*di[1]).toString(16))+te(Math.round((1-Ir)*ra[2]+Ir*di[2]).toString(16))}return tr.trim()}(E.colors,$),pe=[];pe.push({key:"FunctionType",value:"0"}),pe.push({key:"Domain",value:"[0.0 1.0]"}),pe.push({key:"Size",value:"["+$+"]"}),pe.push({key:"BitsPerSample",value:"8"}),pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ta({data:ue,additionalKeyValues:pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),Z("endobj"),E.objectNumber=Dn(),Z("<< /ShadingType "+E.type),Z("/ColorSpace /DeviceRGB");var Ne="/Coords ["+I(parseFloat(E.coords[0]))+" "+I(parseFloat(E.coords[1]))+" ";E.type===2?Ne+=I(parseFloat(E.coords[2]))+" "+I(parseFloat(E.coords[3])):Ne+=I(parseFloat(E.coords[2]))+" "+I(parseFloat(E.coords[3]))+" "+I(parseFloat(E.coords[4]))+" "+I(parseFloat(E.coords[5])),Z(Ne+="]"),E.matrix&&Z("/Matrix ["+E.matrix.toString()+"]"),Z("/Function "+ne+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},sc=function(E,$){var ne=Sr(),ue=Dn();$.push({resourcesOid:ne,objectOid:ue}),E.objectNumber=ue;var pe=[];pe.push({key:"Type",value:"/Pattern"}),pe.push({key:"PatternType",value:"1"}),pe.push({key:"PaintType",value:"1"}),pe.push({key:"TilingType",value:"1"}),pe.push({key:"BBox",value:"["+E.boundingBox.map(I).join(" ")+"]"}),pe.push({key:"XStep",value:I(E.xStep)}),pe.push({key:"YStep",value:I(E.yStep)}),pe.push({key:"Resources",value:ne+" 0 R"}),E.matrix&&pe.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),ta({data:E.stream,additionalKeyValues:pe,objectId:E.objectNumber}),Z("endobj")},E1=function(E){for(var $ in E.objectNumber=Dn(),Z("<<"),E)switch($){case"opacity":Z("/ca "+P(E[$]));break;case"stroke-opacity":Z("/CA "+P(E[$]))}Z(">>"),Z("endobj")},Nf=function(E){kr(E.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var $ in Z("/Font <<"),tt)tt.hasOwnProperty($)&&(f===!1||f===!0&&p.hasOwnProperty($))&&Z("/"+$+" "+tt[$].objectNumber+" 0 R");Z(">>")}(),function(){if(Object.keys(ht).length>0){for(var $ in Z("/Shading <<"),ht)ht.hasOwnProperty($)&&ht[$]instanceof vu&&ht[$].objectNumber>=0&&Z("/"+$+" "+ht[$].objectNumber+" 0 R");Bt.publish("putShadingPatternDict"),Z(">>")}}(),function($){if(Object.keys(ht).length>0){for(var ne in Z("/Pattern <<"),ht)ht.hasOwnProperty(ne)&&ht[ne]instanceof h.TilingPattern&&ht[ne].objectNumber>=0&&ht[ne].objectNumber<$&&Z("/"+ne+" "+ht[ne].objectNumber+" 0 R");Bt.publish("putTilingPatternDict"),Z(">>")}}(E.objectOid),function(){if(Object.keys(ft).length>0){var $;for($ in Z("/ExtGState <<"),ft)ft.hasOwnProperty($)&&ft[$].objectNumber>=0&&Z("/"+$+" "+ft[$].objectNumber+" 0 R");Bt.publish("putGStateDict"),Z(">>")}}(),function(){for(var $ in Z("/XObject <<"),_r)_r.hasOwnProperty($)&&_r[$].objectNumber>=0&&Z("/"+$+" "+_r[$].objectNumber+" 0 R");Bt.publish("putXobjectDict"),Z(">>")}(),Z(">>"),Z("endobj")},Sm=function(E){Nt[E.fontName]=Nt[E.fontName]||{},Nt[E.fontName][E.fontStyle]=E.id},Am=function(E,$,ne,ue,pe){var Ne={id:"F"+(Object.keys(tt).length+1).toString(10),postScriptName:E,fontName:$,fontStyle:ne,encoding:ue,isStandardFont:pe||!1,metadata:{}};return Bt.publish("addFont",{font:Ne,instance:this}),tt[Ne.id]=Ne,Sm(Ne),Ne.id},na=h.__private__.pdfEscape=h.pdfEscape=function(E,$){return function(ne,ue){var pe,Ne,ke,Ze,st,At,Ct,Yt,On;if(ke=(ue=ue||{}).sourceEncoding||"Unicode",st=ue.outputEncoding,(ue.autoencode||st)&&tt[Ge].metadata&&tt[Ge].metadata[ke]&&tt[Ge].metadata[ke].encoding&&(Ze=tt[Ge].metadata[ke].encoding,!st&&tt[Ge].encoding&&(st=tt[Ge].encoding),!st&&Ze.codePages&&(st=Ze.codePages[0]),typeof st=="string"&&(st=Ze[st]),st)){for(Ct=!1,At=[],pe=0,Ne=ne.length;pe<Ne;pe++)(Yt=st[ne.charCodeAt(pe)])?At.push(String.fromCharCode(Yt)):At.push(ne[pe]),At[pe].charCodeAt(0)>>8&&(Ct=!0);ne=At.join("")}for(pe=ne.length;Ct===void 0&&pe!==0;)ne.charCodeAt(pe-1)>>8&&(Ct=!0),pe--;if(!Ct)return ne;for(At=ue.noBOM?[]:[254,255],pe=0,Ne=ne.length;pe<Ne;pe++){if((On=(Yt=ne.charCodeAt(pe))>>8)>>8)throw new Error("Character at position "+pe+" of string '"+ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");At.push(On),At.push(Yt-(On<<8))}return String.fromCharCode.apply(void 0,At)}(E,$).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tf=h.__private__.beginPage=function(E){we[++tn]=[],xt[tn]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},Nm(tn),ae(we[q])},Em=function(E,$){var ne,ue,pe;switch(n=$||n,typeof E=="string"&&(ne=v(E.toLowerCase()),Array.isArray(ne)&&(ue=ne[0],pe=ne[1])),Array.isArray(E)&&(ue=E[0]*et,pe=E[1]*et),isNaN(ue)&&(ue=i[0],pe=i[1]),(ue>14400||pe>14400)&&(fn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ue=Math.min(14400,ue),pe=Math.min(14400,pe)),i=[ue,pe],n.substr(0,1)){case"l":pe>ue&&(i=[pe,ue]);break;case"p":ue>pe&&(i=[pe,ue])}Tf(i),R1(Of),Z(uc),Rf!==0&&Z(Rf+" J"),Lf!==0&&Z(Lf+" j"),Bt.publish("addPage",{pageNumber:tn})},Pf=function(E){E>0&&E<=tn&&(we.splice(E,1),xt.splice(E,1),tn--,q>tn&&(q=tn),this.setPage(q))},Nm=function(E){E>0&&E<=tn&&(q=E)},Tm=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return we.length-1},Pm=function(E,$,ne){var ue,pe=void 0;return ne=ne||{},E=E!==void 0?E:tt[Ge].fontName,$=$!==void 0?$:tt[Ge].fontStyle,ue=E.toLowerCase(),Nt[ue]!==void 0&&Nt[ue][$]!==void 0?pe=Nt[ue][$]:Nt[E]!==void 0&&Nt[E][$]!==void 0?pe=Nt[E][$]:ne.disableWarning===!1&&fn.warn("Unable to look up font label for font '"+E+"', '"+$+"'. Refer to getFontList() for available fonts."),pe||ne.noFallback||(pe=Nt.times[$])==null&&(pe=Nt.times.normal),pe},lc=h.__private__.putInfo=function(){var E=Dn(),$=function(ue){return ue};for(var ne in c!==null&&($=zn.encryptor(E,0)),Z("<<"),Z("/Producer ("+na($("jsPDF "+ct.version))+")"),Qe)Qe.hasOwnProperty(ne)&&Qe[ne]&&Z("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+na($(Qe[ne]))+")");Z("/CreationDate ("+na($(B))+")"),Z(">>"),Z("endobj")},N1=h.__private__.putCatalog=function(E){var $=(E=E||{}).rootDictionaryObjId||Ss;switch(Dn(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+$+" 0 R"),Oe||(Oe="fullwidth"),Oe){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+Oe;ne.substr(ne.length-1)==="%"&&(Oe=parseInt(Oe)/100),typeof Oe=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+P(Oe)+"]")}switch(De||(De="continuous"),De){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}Re&&Z("/PageMode /"+Re),Bt.publish("putCatalog"),Z(">>"),Z("endobj")},er=h.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(re+1)),Z("/Root "+re+" 0 R"),Z("/Info "+(re-1)+" 0 R"),c!==null&&Z("/Encrypt "+zn.oid+" 0 R"),Z("/ID [ <"+J+"> <"+J+"> ]"),Z(">>")},Cm=h.__private__.putHeader=function(){Z("%PDF-"+y),Z("%")},km=h.__private__.putXRef=function(){var E="0000000000";Z("xref"),Z("0 "+(re+1)),Z("0000000000 65535 f ");for(var $=1;$<=re;$++)typeof ce[$]=="function"?Z((E+ce[$]()).slice(-10)+" 00000 n "):ce[$]!==void 0?Z((E+ce[$]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},Oo=h.__private__.buildDocument=function(){var E;re=0,se=0,ye=[],ce=[],me=[],Ss=Sr(),Ea=Sr(),ae(ye),Bt.publish("buildDocument"),Cm(),to(),function(){Bt.publish("putAdditionalObjects");for(var ne=0;ne<me.length;ne++){var ue=me[ne];kr(ue.objId,!0),Z(ue.content),Z("endobj")}Bt.publish("postPutAdditionalObjects")}(),E=[],function(){for(var ne in tt)tt.hasOwnProperty(ne)&&(f===!1||f===!0&&p.hasOwnProperty(ne))&&Ll(tt[ne])}(),function(){var ne;for(ne in ft)ft.hasOwnProperty(ne)&&E1(ft[ne])}(),function(){for(var ne in _r)_r.hasOwnProperty(ne)&&ac(_r[ne])}(),function(ne){var ue;for(ue in ht)ht.hasOwnProperty(ue)&&(ht[ue]instanceof vu?oc(ht[ue]):ht[ue]instanceof Qc&&sc(ht[ue],ne))}(E),Bt.publish("putResources"),E.forEach(Nf),Nf({resourcesOid:Ea,objectOid:Number.MAX_SAFE_INTEGER}),Bt.publish("postPutResources"),c!==null&&(zn.oid=Dn(),Z("<<"),Z("/Filter /Standard"),Z("/V "+zn.v),Z("/R "+zn.r),Z("/U <"+zn.toHexString(zn.U)+">"),Z("/O <"+zn.toHexString(zn.O)+">"),Z("/P "+zn.P),Z(">>"),Z("endobj")),lc(),N1();var $=se;return km(),er(),Z("startxref"),Z(""+$),Z("%%EOF"),ae(we[q]),ye.join(`
`)},Ml=h.__private__.getBlob=function(E){return new Blob([Ue(E)],{type:"application/pdf"})},Pa=h.output=h.__private__.output=(ea=function(E,$){switch(typeof($=$||{})=="string"?$={filename:$}:$.filename=$.filename||"generated.pdf",E){case void 0:return Oo();case"save":h.save($.filename);break;case"arraybuffer":return Ue(Oo());case"blob":return Ml(Oo());case"bloburi":case"bloburl":if(wt.URL!==void 0&&typeof wt.URL.createObjectURL=="function")return wt.URL&&wt.URL.createObjectURL(Ml(Oo()))||void 0;fn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",ue=Oo();try{ne=Y4(ue)}catch{ne=Y4(unescape(encodeURIComponent(ue)))}return"data:application/pdf;filename="+$.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';$.pdfObjectUrl&&(pe=$.pdfObjectUrl,Ne="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pe+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify($)+");<\/script></body></html>",Ze=wt.open();return Ze!==null&&Ze.document.write(ke),Ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+($.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+$.filename+'" width="500px" height="400px" /></body></html>',At=wt.open();if(At!==null){At.document.write(st);var Ct=this;At.document.documentElement.querySelector("#pdfViewer").onload=function(){At.document.title=$.filename,At.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ct.output("bloburl"))}}return At}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",$)+'"></iframe></body></html>',On=wt.open();if(On!==null&&(On.document.write(Yt),On.document.title=$.filename),On||typeof safari>"u")return On;break;case"datauri":case"dataurl":return wt.document.location.href=this.output("datauristring",$);default:return null}},ea.foo=function(){try{return ea.apply(this,arguments)}catch(ne){var E=ne.stack||"";~E.indexOf(" at ")&&(E=E.split(" at ")[1]);var $="Error in function "+E.split(`
`)[0].split("<")[0]+": "+ne.message;if(!wt.console)throw new Error($);wt.console.error($,ne),wt.alert&&alert($)}},ea.foo.bar=ea,ea.foo),Dl=function(E){return Array.isArray(Yi)===!0&&Yi.indexOf(E)>-1};switch(r){case"pt":et=1;break;case"mm":et=72/25.4;break;case"cm":et=72/2.54;break;case"in":et=72;break;case"px":et=Dl("px_scaling")==1?.75:96/72;break;case"pc":case"em":et=12;break;case"ex":et=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);et=r}var zn=null;ie(),M();var Cf=h.__private__.getPageInfo=h.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xt[E].objId,pageNumber:E,pageContext:xt[E]}},T1=h.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var $ in xt)if(xt[$].objId===E)break;return Cf($)},P1=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:xt[q].objId,pageNumber:q,pageContext:xt[q]}};h.addPage=function(){return Em.apply(this,arguments),this},h.setPage=function(){return Nm.apply(this,arguments),ae.call(this,we[q]),this},h.insertPage=function(E){return this.addPage(),this.movePage(q,E),this},h.movePage=function(E,$){var ne,ue;if(E>$){ne=we[E],ue=xt[E];for(var pe=E;pe>$;pe--)we[pe]=we[pe-1],xt[pe]=xt[pe-1];we[$]=ne,xt[$]=ue,this.setPage($)}else if(E<$){ne=we[E],ue=xt[E];for(var Ne=E;Ne<$;Ne++)we[Ne]=we[Ne+1],xt[Ne]=xt[Ne+1];we[$]=ne,xt[$]=ue,this.setPage($)}return this},h.deletePage=function(){return Pf.apply(this,arguments),this},h.__private__.text=h.text=function(E,$,ne,ue,pe){var Ne,ke,Ze,st,At,Ct,Yt,On,tr,mn=(ue=ue||{}).scope||this;if(typeof E=="number"&&typeof $=="number"&&(typeof ne=="string"||Array.isArray(ne))){var ur=ne;ne=$,$=E,E=ur}if(arguments[3]instanceof yt==0?(Ze=arguments[4],st=arguments[5],an(Yt=arguments[3])==="object"&&Yt!==null||(typeof Ze=="string"&&(st=Ze,Ze=null),typeof Yt=="string"&&(st=Yt,Yt=null),typeof Yt=="number"&&(Ze=Yt,Yt=null),ue={flags:Yt,angle:Ze,align:st})):(R("The transform parameter of text() with a Matrix value"),tr=pe),isNaN($)||isNaN(ne)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return mn;var nr,Ir="",ra=typeof ue.lineHeightFactor=="number"?ue.lineHeightFactor:Fl,di=mn.internal.scaleFactor;function $m(Zt){return Zt=Zt.split("	").join(Array(ue.TabLen||9).join(" ")),na(Zt,Yt)}function hc(Zt){for(var cn,Gn=Zt.concat(),cr=[],Fo=Gn.length;Fo--;)typeof(cn=Gn.shift())=="string"?cr.push(cn):Array.isArray(Zt)&&(cn.length===1||cn[1]===void 0&&cn[2]===void 0)?cr.push(cn[0]):cr.push([cn[0],cn[1],cn[2]]);return cr}function Hl(Zt,cn){var Gn;if(typeof Zt=="string")Gn=cn(Zt)[0];else if(Array.isArray(Zt)){for(var cr,Fo,Wf=Zt.concat(),gc=[],Bm=Wf.length;Bm--;)typeof(cr=Wf.shift())=="string"?gc.push(cn(cr)[0]):Array.isArray(cr)&&typeof cr[0]=="string"&&(Fo=cn(cr[0],cr[1],cr[2]),gc.push([Fo[0],Fo[1],Fo[2]]));Gn=gc}return Gn}var Ns=!1,Gl=!0;if(typeof E=="string")Ns=!0;else if(Array.isArray(E)){var Wl=E.concat();ke=[];for(var Kl,Ur=Wl.length;Ur--;)(typeof(Kl=Wl.shift())!="string"||Array.isArray(Kl)&&typeof Kl[0]!="string")&&(Gl=!1);Ns=Gl}if(Ns===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var Jl=be/mn.internal.scaleFactor,Yl=Jl*(ra-1);switch(ue.baseline){case"bottom":ne-=Yl;break;case"top":ne+=Jl-Yl;break;case"hanging":ne+=Jl-2*Yl;break;case"middle":ne+=Jl/2-Yl}if((Ct=ue.maxWidth||0)>0&&(typeof E=="string"?E=mn.splitTextToSize(E,Ct):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(Zt,cn){return Zt.concat(mn.splitTextToSize(cn,Ct))},[]))),Ne={text:E,x:$,y:ne,options:ue,mutex:{pdfEscape:na,activeFontKey:Ge,fonts:tt,activeFontSize:be}},Bt.publish("preProcessText",Ne),E=Ne.text,Ze=(ue=Ne.options).angle,tr instanceof yt==0&&Ze&&typeof Ze=="number"){Ze*=Math.PI/180,ue.rotationDirection===0&&(Ze=-Ze),A===_&&(Ze=-Ze);var $f=Math.cos(Ze),Ff=Math.sin(Ze);tr=new yt($f,Ff,-Ff,$f,0,0)}else Ze&&Ze instanceof yt&&(tr=Ze);A!==_||tr||(tr=Io),(At=ue.charSpace||dc)!==void 0&&(Ir+=I(D(At))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(On=ue.horizontalScale)!==void 0&&(Ir+=I(100*On)+` Tz
`),ue.lang;var $n=-1,Do=ue.renderingMode!==void 0?ue.renderingMode:ue.stroke,pc=mn.internal.getCurrentPageInfo().pageContext;switch(Do){case 0:case!1:case"fill":$n=0;break;case 1:case!0:case"stroke":$n=1;break;case 2:case"fillThenStroke":$n=2;break;case 3:case"invisible":$n=3;break;case 4:case"fillAndAddForClipping":$n=4;break;case 5:case"strokeAndAddPathForClipping":$n=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$n=6;break;case 7:case"addToPathForClipping":$n=7}var Fm=pc.usedRenderingMode!==void 0?pc.usedRenderingMode:-1;$n!==-1?Ir+=$n+` Tr
`:Fm!==-1&&(Ir+=`0 Tr
`),$n!==-1&&(pc.usedRenderingMode=$n),st=ue.align||"left";var ia,Xl=be*ra,Uf=mn.internal.pageSize.getWidth(),Bf=tt[Ge];At=ue.charSpace||dc,Ct=ue.maxWidth||0,Yt=Object.assign({autoencode:!0,noBOM:!0},ue.flags);var Ts=[],Zl=function(Zt){return mn.getStringUnitWidth(Zt,{font:Bf,charSpace:At,fontSize:be,doKerning:!1})*be/di};if(Object.prototype.toString.call(E)==="[object Array]"){var Ai;ke=hc(E),st!=="left"&&(ia=ke.map(Zl));var Ei,Ps=0;if(st==="right"){$-=ia[0],E=[],Ur=ke.length;for(var $o=0;$o<Ur;$o++)$o===0?(Ei=jo($),Ai=Ro(ne)):(Ei=D(Ps-ia[$o]),Ai=-Xl),E.push([ke[$o],Ei,Ai]),Ps=ia[$o]}else if(st==="center"){$-=ia[0]/2,E=[],Ur=ke.length;for(var Cs=0;Cs<Ur;Cs++)Cs===0?(Ei=jo($),Ai=Ro(ne)):(Ei=D((Ps-ia[Cs])/2),Ai=-Xl),E.push([ke[Cs],Ei,Ai]),Ps=ia[Cs]}else if(st==="left"){E=[],Ur=ke.length;for(var qf=0;qf<Ur;qf++)E.push(ke[qf])}else if(st==="justify"&&Bf.encoding==="Identity-H"){E=[],Ur=ke.length,Ct=Ct!==0?Ct:Uf;for(var mc=0,Hn=0;Hn<Ur;Hn++)if(Ai=Hn===0?Ro(ne):-Xl,Ei=Hn===0?jo($):mc,Hn<Ur-1){var Um=D((Ct-ia[Hn])/(ke[Hn].split(" ").length-1)),ro=ke[Hn].split(" ");E.push([ro[0]+" ",Ei,Ai]),mc=0;for(var io=1;io<ro.length;io++){var Vf=(Zl(ro[io-1]+" "+ro[io])-Zl(ro[io]))*di+Um;io==ro.length-1?E.push([ro[io],Vf,0]):E.push([ro[io]+" ",Vf,0]),mc-=Vf}}else E.push([ke[Hn],Ei,Ai]);E.push(["",mc,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],Ur=ke.length,Ct=Ct!==0?Ct:Uf,Hn=0;Hn<Ur;Hn++){Ai=Hn===0?Ro(ne):-Xl,Ei=Hn===0?jo($):0;var zf=ke[Hn].split(" ").length-1,Hf=zf>0?(Ct-ia[Hn])/zf:0;Hn<Ur-1?Ts.push(I(D(Hf))):Ts.push(0),E.push([ke[Hn],Ei,Ai])}}}(typeof ue.R2L=="boolean"?ue.R2L:Le)===!0&&(E=Hl(E,function(Zt,cn,Gn){return[Zt.split("").reverse().join(""),cn,Gn]})),Ne={text:E,x:$,y:ne,options:ue,mutex:{pdfEscape:na,activeFontKey:Ge,fonts:tt,activeFontSize:be}},Bt.publish("postProcessText",Ne),E=Ne.text,nr=Ne.mutex.isHex||!1;var Gf=tt[Ge].encoding;Gf!=="WinAnsiEncoding"&&Gf!=="StandardEncoding"||(E=Hl(E,function(Zt,cn,Gn){return[$m(Zt),cn,Gn]})),ke=hc(E),E=[];for(var ks,Is,Os,Ql=Array.isArray(ke[0])?1:0,js="",eu=function(Zt,cn,Gn){var cr="";return Gn instanceof yt?(Gn=typeof ue.angle=="number"?ko(Gn,new yt(1,0,0,1,Zt,cn)):ko(new yt(1,0,0,1,Zt,cn),Gn),A===_&&(Gn=ko(new yt(1,0,0,-1,0,0),Gn)),cr=Gn.join(" ")+` Tm
`):cr=I(Zt)+" "+I(cn)+` Td
`,cr},aa=0;aa<ke.length;aa++){switch(js="",Ql){case 1:Os=(nr?"<":"(")+ke[aa][0]+(nr?">":")"),ks=parseFloat(ke[aa][1]),Is=parseFloat(ke[aa][2]);break;case 0:Os=(nr?"<":"(")+ke[aa]+(nr?">":")"),ks=jo($),Is=Ro(ne)}Ts!==void 0&&Ts[aa]!==void 0&&(js=Ts[aa]+` Tw
`),aa===0?E.push(js+eu(ks,Is,tr)+Os):Ql===0?E.push(js+Os):Ql===1&&E.push(js+eu(ks,Is,tr)+Os)}E=Ql===0?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var ao=`BT
/`;return ao+=Ge+" "+be+` Tf
`,ao+=I(be*ra)+` TL
`,ao+=Ul+`
`,ao+=Ir,ao+=E,Z(ao+="ET"),p[Ge]=!0,mn};var C1=h.__private__.clip=h.clip=function(E){return Z(E==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return C1("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Z("n"),this};var no=h.__private__.isValidStyle=function(E){var $=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&($=!0),$};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(E){return no(E)&&(u=E),this};var Im=h.__private__.getStyle=h.getStyle=function(E){var $=u;switch(E){case"D":case"S":$="S";break;case"F":$="f";break;case"FD":case"DF":$="B";break;case"f":case"f*":case"B":case"B*":$=E}return $},Om=h.close=function(){return Z("h"),this};h.stroke=function(){return Z("S"),this},h.fill=function(E){return As("f",E),this},h.fillEvenOdd=function(E){return As("f*",E),this},h.fillStroke=function(E){return As("B",E),this},h.fillStrokeEvenOdd=function(E){return As("B*",E),this};var As=function(E,$){an($)==="object"?I1($,E):Z(E)},kf=function(E){E===null||A===_&&E===void 0||(E=Im(E),Z(E))};function k1(E,$,ne,ue,pe){var Ne=new Qc($||this.boundingBox,ne||this.xStep,ue||this.yStep,this.gState,pe||this.matrix);Ne.stream=this.stream;var ke=E+"$$"+this.cloneIndex+++"$$";return Qi(ke,Ne),Ne}var I1=function(E,$){var ne=gt[E.key],ue=ht[ne];if(ue instanceof vu)Z("q"),Z(O1($)),ue.gState&&h.setGState(ue.gState),Z(E.matrix.toString()+" cm"),Z("/"+ne+" sh"),Z("Q");else if(ue instanceof Qc){var pe=new yt(1,0,0,-1,0,zl());E.matrix&&(pe=pe.multiply(E.matrix||Io),ne=k1.call(ue,E.key,E.boundingBox,E.xStep,E.yStep,pe).id),Z("q"),Z("/Pattern cs"),Z("/"+ne+" scn"),ue.gState&&h.setGState(ue.gState),Z($),Z("Q")}},O1=function(E){switch(E){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},If=h.moveTo=function(E,$){return Z(I(D(E))+" "+I(L($))+" m"),this},$l=h.lineTo=function(E,$){return Z(I(D(E))+" "+I(L($))+" l"),this},Es=h.curveTo=function(E,$,ne,ue,pe,Ne){return Z([I(D(E)),I(L($)),I(D(ne)),I(L(ue)),I(D(pe)),I(L(Ne)),"c"].join(" ")),this};h.__private__.line=h.line=function(E,$,ne,ue,pe){if(isNaN(E)||isNaN($)||isNaN(ne)||isNaN(ue)||!no(pe))throw new Error("Invalid arguments passed to jsPDF.line");return A===w?this.lines([[ne-E,ue-$]],E,$,[1,1],pe||"S"):this.lines([[ne-E,ue-$]],E,$,[1,1]).stroke()},h.__private__.lines=h.lines=function(E,$,ne,ue,pe,Ne){var ke,Ze,st,At,Ct,Yt,On,tr,mn,ur,nr,Ir;if(typeof E=="number"&&(Ir=ne,ne=$,$=E,E=Ir),ue=ue||[1,1],Ne=Ne||!1,isNaN($)||isNaN(ne)||!Array.isArray(E)||!Array.isArray(ue)||!no(pe)||typeof Ne!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(If($,ne),ke=ue[0],Ze=ue[1],At=E.length,ur=$,nr=ne,st=0;st<At;st++)(Ct=E[st]).length===2?(ur=Ct[0]*ke+ur,nr=Ct[1]*Ze+nr,$l(ur,nr)):(Yt=Ct[0]*ke+ur,On=Ct[1]*Ze+nr,tr=Ct[2]*ke+ur,mn=Ct[3]*Ze+nr,ur=Ct[4]*ke+ur,nr=Ct[5]*Ze+nr,Es(Yt,On,tr,mn,ur,nr));return Ne&&Om(),kf(pe),this},h.path=function(E){for(var $=0;$<E.length;$++){var ne=E[$],ue=ne.c;switch(ne.op){case"m":If(ue[0],ue[1]);break;case"l":$l(ue[0],ue[1]);break;case"c":Es.apply(this,ue);break;case"h":Om()}}return this},h.__private__.rect=h.rect=function(E,$,ne,ue,pe){if(isNaN(E)||isNaN($)||isNaN(ne)||isNaN(ue)||!no(pe))throw new Error("Invalid arguments passed to jsPDF.rect");return A===w&&(ue=-ue),Z([I(D(E)),I(L($)),I(D(ne)),I(D(ue)),"re"].join(" ")),kf(pe),this},h.__private__.triangle=h.triangle=function(E,$,ne,ue,pe,Ne,ke){if(isNaN(E)||isNaN($)||isNaN(ne)||isNaN(ue)||isNaN(pe)||isNaN(Ne)||!no(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-E,ue-$],[pe-ne,Ne-ue],[E-pe,$-Ne]],E,$,[1,1],ke,!0),this},h.__private__.roundedRect=h.roundedRect=function(E,$,ne,ue,pe,Ne,ke){if(isNaN(E)||isNaN($)||isNaN(ne)||isNaN(ue)||isNaN(pe)||isNaN(Ne)||!no(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ze=4/3*(Math.SQRT2-1);return pe=Math.min(pe,.5*ne),Ne=Math.min(Ne,.5*ue),this.lines([[ne-2*pe,0],[pe*Ze,0,pe,Ne-Ne*Ze,pe,Ne],[0,ue-2*Ne],[0,Ne*Ze,-pe*Ze,Ne,-pe,Ne],[2*pe-ne,0],[-pe*Ze,0,-pe,-Ne*Ze,-pe,-Ne],[0,2*Ne-ue],[0,-Ne*Ze,pe*Ze,-Ne,pe,-Ne]],E+pe,$,[1,1],ke,!0),this},h.__private__.ellipse=h.ellipse=function(E,$,ne,ue,pe){if(isNaN(E)||isNaN($)||isNaN(ne)||isNaN(ue)||!no(pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*ne,ke=4/3*(Math.SQRT2-1)*ue;return If(E+ne,$),Es(E+ne,$-ke,E+Ne,$-ue,E,$-ue),Es(E-Ne,$-ue,E-ne,$-ke,E-ne,$),Es(E-ne,$+ke,E-Ne,$+ue,E,$+ue),Es(E+Ne,$+ue,E+ne,$+ke,E+ne,$),kf(pe),this},h.__private__.circle=h.circle=function(E,$,ne,ue){if(isNaN(E)||isNaN($)||isNaN(ne)||!no(ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,$,ne,ne,ue)},h.setFont=function(E,$,ne){return ne&&($=C($,ne)),Ge=Pm(E,$,{disableWarning:!1}),this};var j1=h.__private__.getFont=h.getFont=function(){return tt[Pm.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var E,$,ne={};for(E in Nt)if(Nt.hasOwnProperty(E))for($ in ne[E]=[],Nt[E])Nt[E].hasOwnProperty($)&&ne[E].push($);return ne},h.addFont=function(E,$,ne,ue,pe){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ne.indexOf(arguments[3])!==-1?pe=arguments[3]:arguments[3]&&Ne.indexOf(arguments[3])==-1&&(ne=C(ne,ue)),Am.call(this,E,$,ne,pe=pe||"Identity-H")};var Fl,Of=t.lineWidth||.200025,Tt=h.__private__.getLineWidth=h.getLineWidth=function(){return Of},R1=h.__private__.setLineWidth=h.setLineWidth=function(E){return Of=E,Z(I(D(E))+" w"),this};h.__private__.setLineDash=ct.API.setLineDash=ct.API.setLineDashPattern=function(E,$){if(E=E||[],$=$||0,isNaN($)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(ne){return I(D(ne))}).join(" "),$=I(D($)),Z("["+E+"] "+$+" d"),this};var L1=h.__private__.getLineHeight=h.getLineHeight=function(){return be*Fl};h.__private__.getLineHeight=h.getLineHeight=function(){return be*Fl};var M1=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(Fl=E),this},D1=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Fl};M1(t.lineHeight);var jo=h.__private__.getHorizontalCoordinate=function(E){return D(E)},Ro=h.__private__.getVerticalCoordinate=function(E){return A===_?E:xt[q].mediaBox.topRightY-xt[q].mediaBox.bottomLeftY-D(E)},$1=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(E){return I(jo(E))},F1=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(E){return I(Ro(E))},uc=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return eo(uc)},h.__private__.setStrokeColor=h.setDrawColor=function(E,$,ne,ue){return uc=Na({ch1:E,ch2:$,ch3:ne,ch4:ue,pdfColorType:"draw",precision:2}),Z(uc),this};var jf=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return eo(jf)},h.__private__.setFillColor=h.setFillColor=function(E,$,ne,ue){return jf=Na({ch1:E,ch2:$,ch3:ne,ch4:ue,pdfColorType:"fill",precision:2}),Z(jf),this};var Ul=t.textColor||"0 g",cc=h.__private__.getTextColor=h.getTextColor=function(){return eo(Ul)};h.__private__.setTextColor=h.setTextColor=function(E,$,ne,ue){return Ul=Na({ch1:E,ch2:$,ch3:ne,ch4:ue,pdfColorType:"text",precision:3}),this};var dc=t.charSpace,U1=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(dc||0)};h.__private__.setCharSpace=h.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return dc=E,this};var Rf=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(E){var $=h.CapJoinStyles[E];if($===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rf=$,Z($+" J"),this};var Lf=0;h.__private__.setLineJoin=h.setLineJoin=function(E){var $=h.CapJoinStyles[E];if($===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Lf=$,Z($+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(I(D(E))+" M"),this},h.GState=a0,h.setGState=function(E){(E=typeof E=="string"?ft[pn[E]]:Bl(null,E)).equals(In)||(Z("/"+E.id+" gs"),In=E)};var Bl=function(E,$){if(!E||!pn[E]){var ne=!1;for(var ue in ft)if(ft.hasOwnProperty(ue)&&ft[ue].equals($)){ne=!0;break}if(ne)$=ft[ue];else{var pe="GS"+(Object.keys(ft).length+1).toString(10);ft[pe]=$,$.id=pe}return E&&(pn[E]=$.id),Bt.publish("addGState",$),$}};h.addGState=function(E,$){return Bl(E,$),this},h.saveGraphicsState=function(){return Z("q"),en.push({key:Ge,size:be,color:Ul}),this},h.restoreGraphicsState=function(){Z("Q");var E=en.pop();return Ge=E.key,be=E.size,Ul=E.color,In=null,this},h.setCurrentTransformationMatrix=function(E){return Z(E.toString()+" cm"),this},h.comment=function(E){return Z("#"+E),this};var ql=function(E,$){var ne=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(Ne){isNaN(Ne)||(ne=parseFloat(Ne))}});var ue=$||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ue},set:function(Ne){isNaN(Ne)||(ue=parseFloat(Ne))}});var pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pe},set:function(Ne){pe=Ne.toString()}}),this},Mf=function(E,$,ne,ue){ql.call(this,E,$),this.type="rect";var pe=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pe},set:function(ke){isNaN(ke)||(pe=parseFloat(ke))}});var Ne=ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne},set:function(ke){isNaN(ke)||(Ne=parseFloat(ke))}}),this},fc=function(){this.page=tn,this.currentPage=q,this.pages=we.slice(0),this.pagesContext=xt.slice(0),this.x=lt,this.y=Jt,this.matrix=$t,this.width=jm(q),this.height=Lo(q),this.outputDestination=Ie,this.id="",this.objectNumber=-1};fc.prototype.restore=function(){tn=this.page,q=this.currentPage,xt=this.pagesContext,we=this.pages,lt=this.x,Jt=this.y,$t=this.matrix,Rm(q,this.width),Mo(q,this.height),Ie=this.outputDestination};var Df=function(E,$,ne,ue,pe){Zi.push(new fc),tn=q=0,we=[],lt=E,Jt=$,$t=pe,Tf([ne,ue])};for(var Vl in h.beginFormObject=function(E,$,ne,ue,pe){return Df(E,$,ne,ue,pe),this},h.endFormObject=function(E){return function($){if(Xi[$])Zi.pop().restore();else{var ne=new fc,ue="Xo"+(Object.keys(_r).length+1).toString(10);ne.id=ue,Xi[$]=ue,_r[ue]=ne,Bt.publish("addFormObject",ne),Zi.pop().restore()}}(E),this},h.doFormObject=function(E,$){var ne=_r[Xi[E]];return Z("q"),Z($.toString()+" cm"),Z("/"+ne.id+" Do"),Z("Q"),this},h.getFormObject=function(E){var $=_r[Xi[E]];return{x:$.x,y:$.y,width:$.width,height:$.height,matrix:$.matrix}},h.save=function(E,$){return E=E||"generated.pdf",($=$||{}).returnPromise=$.returnPromise||!1,$.returnPromise===!1?(hu(Ml(Oo()),E),typeof hu.unload=="function"&&wt.setTimeout&&setTimeout(hu.unload,911),this):new Promise(function(ne,ue){try{var pe=hu(Ml(Oo()),E);typeof hu.unload=="function"&&wt.setTimeout&&setTimeout(hu.unload,911),ne(pe)}catch(Ne){ue(Ne.message)}})},ct.API)ct.API.hasOwnProperty(Vl)&&(Vl==="events"&&ct.API.events.length?function(E,$){var ne,ue,pe;for(pe=$.length-1;pe!==-1;pe--)ne=$[pe][0],ue=$[pe][1],E.subscribe.apply(E,[ne].concat(typeof ue=="function"?[ue]:ue))}(Bt,ct.API.events):h[Vl]=ct.API[Vl]);function jm(E){return xt[E].mediaBox.topRightX-xt[E].mediaBox.bottomLeftX}function Rm(E,$){xt[E].mediaBox.topRightX=$+xt[E].mediaBox.bottomLeftX}function Lo(E){return xt[E].mediaBox.topRightY-xt[E].mediaBox.bottomLeftY}function Mo(E,$){xt[E].mediaBox.topRightY=$+xt[E].mediaBox.bottomLeftY}var Lm=h.getPageWidth=function(E){return jm(E=E||q)/et},Mm=h.setPageWidth=function(E,$){Rm(E,$*et)},zl=h.getPageHeight=function(E){return Lo(E=E||q)/et},Dm=h.setPageHeight=function(E,$){Mo(E,$*et)};return h.internal={pdfEscape:na,getStyle:Im,getFont:j1,getFontSize:_e,getCharSpace:U1,getTextColor:cc,getLineHeight:L1,getLineHeightFactor:D1,getLineWidth:Tt,write:Be,getHorizontalCoordinate:jo,getVerticalCoordinate:Ro,getCoordinateString:$1,getVerticalCoordinateString:F1,collections:{},newObject:Dn,newAdditionalObject:jl,newObjectDeferred:Sr,newObjectDeferredBegin:kr,getFilters:Ta,putStream:ta,events:Bt,scaleFactor:et,pageSize:{getWidth:function(){return Lm(q)},setWidth:function(E){Mm(q,E)},getHeight:function(){return zl(q)},setHeight:function(E){Dm(q,E)}},encryptionOptions:c,encryption:zn,getEncryptor:function(E){return c!==null?zn.encryptor(E,0):function($){return $}},output:Pa,getNumberOfPages:Tm,pages:we,out:Z,f2:P,f3:O,getPageInfo:Cf,getPageInfoByObjId:T1,getCurrentPageInfo:P1,getPDFVersion:g,Point:ql,Rectangle:Mf,Matrix:yt,hasHotfix:Dl},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Lm(q)},set:function(E){Mm(q,E)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return zl(q)},set:function(E){Dm(q,E)},enumerable:!0,configurable:!0}),(function(E){for(var $=0,ne=Ve.length;$<ne;$++){var ue=Am.call(this,E[$][0],E[$][1],E[$][2],Ve[$][3],!0);f===!1&&(p[ue]=!0);var pe=E[$][0].split("-");Sm({id:ue,fontName:pe[0],fontStyle:pe[1]||""})}Bt.publish("addFonts",{fonts:tt,dictionary:Nt})}).call(h,Ve),Ge="F1",Em(i,n),Bt.publish("initialized"),h}Rc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Rc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Rc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Rc.prototype.processOwnerPassword=function(t,e){return j_(O_(e).substr(0,5),t)},Rc.prototype.encryptor=function(t,e){var n=O_(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return j_(n,r)}},a0.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||an(t)!==an(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ct.API={events:[]},ct.version="3.0.3";var Bn=ct.API,aA=1,ic=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kt=function(t){return t.toFixed(2)},zs=function(t){return t.toFixed(5)};Bn.__acroform__={};var Si=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},eI=function(t){return t*aA},uo=function(t){var e=new P8,n=Ye.internal.getHeight(t)||0,r=Ye.internal.getWidth(t)||0;return e.BBox=[0,0,Number(kt(r)),Number(kt(n))],e},R1e=Bn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},L1e=Bn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},M1e=Bn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Yn=Bn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return M1e(t,e-1)},Xn=Bn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return R1e(t,e-1)},Zn=Bn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return L1e(t,e-1)},D1e=Bn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],s=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+s)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(a)||0,[Number(kt(l.lowerLeft_X)),Number(kt(l.lowerLeft_Y)),Number(kt(l.upperRight_X)),Number(kt(l.upperRight_Y))]},$1e=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=R_(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+kt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=uo(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},R_=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var a=n,o=Ye.internal.getHeight(t)||0;o=o<0?-o:o;var s=Ye.internal.getWidth(t)||0;s=s<0?-s:s;var l=function(P,O,D){if(P+1<i.length){var L=O+" "+i[P+1][0];return Xg(L,t,D).width<=s-4}return!1};a++;e:for(;a>0;){e="",a--;var u,c,f=Xg("3",t,a).height,p=t.multiline?o-a:(o-f)/2,h=p+=2,y=0,g=0,x=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Xg(e,t,a=12).width+", FieldWidth:"+s+`
`;break}for(var v="",w=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var A=!1;if(i[_].length!==1&&x!==i[_].length-1){if((f+2)*(w+2)+2>o)continue e;v+=i[_][x],A=!0,g=_,_--}else{v=(v+=i[_][x]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var S=parseInt(_),N=l(S,v,a),C=_>=i.length-1;if(N&&!C){v+=" ",x=0;continue}if(N||C){if(C)g=S;else if(t.multiline&&(f+2)*(w+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(w+2)+2>o)continue e;g=S}}for(var I="",R=y;R<=g;R++){var U=i[R];if(t.multiline){if(R===g){I+=U[x]+" ",x=(x+1)%U.length;continue}if(R===y){I+=U[U.length-1]+" ";continue}}I+=U[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,c=Xg(I,t,a).width,t.textAlign){case"right":u=s-c-2;break;case"center":u=(s-c)/2;break;default:u=2}e+=kt(u)+" "+kt(h)+` Td
`,e+="("+ic(I)+`) Tj
`,e+=-kt(u)+` 0 Td
`,h=-(a+2),c=0,y=A?g:g+1,w++,v=""}break}return r.text=e,r.fontSize=a,r},Xg=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},F1e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},U1e=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},B1e=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Za.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(F1e)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");aA=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new C8,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&U1e(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var s=r[o],l=[],u=s.Rect;if(s.Rect&&(s.Rect=D1e(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Ye.createDefaultAppearanceStream(s),an(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var c=$1e(s);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(s.appearanceStreamContent){var f="";for(var p in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(p)){var h=s.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var y=h[o];typeof y=="function"&&(y=y.call(i,s)),f+="/"+o+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=h)=="function"&&(y=y.call(i,s)),f+="/"+o+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}a&&function(g,x){for(var v in g)if(g.hasOwnProperty(v)){var w=v,_=g[v];x.internal.newObjectDeferredBegin(_.objId,!0),an(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete g[w]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},T8=Bn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),an(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+ic(r(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ob=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+ic(r(t))+")"},po=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};po.prototype.toString=function(){return this.objId+" 0 R"},po.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},po.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:T8(i,this.objId,this.scope)}):i instanceof po?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var P8=function(){po.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Si(P8,po);var C8=function(){po.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+ic(n(t))+")"}},set:function(n){t=n}})};Si(C8,po);var Za=function t(){po.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yn(e,3)},set:function(v){v?this.F=Xn(e,3):this.F=Zn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof o0)return;a="FieldObject"+t.FieldNum++}var v=function(w){return w};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+ic(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/aA:u},set:function(v){u=v}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof o0||this instanceof Ou))return Ob(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Nr==0?Ob(p,this.objId,this.scope):p},set:function(v){v=v.toString(),p=this instanceof Nr==0?v.substr(0,1)==="("?Cc(v.substr(1,v.length-2)):Cc(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Nr==1?Cc(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof Nr==1?"/"+v:v}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Nr==0?Ob(h,this.objId,this.scope):h},set:function(v){v=v.toString(),h=this instanceof Nr==0?v.substr(0,1)==="("?Cc(v.substr(1,v.length-2)):Cc(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Nr==1?Cc(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof Nr==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(v){y=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,1)},set:function(v){v?this.Ff=Xn(this.Ff,1):this.Ff=Zn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,2)},set:function(v){v?this.Ff=Xn(this.Ff,2):this.Ff=Zn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,3)},set:function(v){v?this.Ff=Xn(this.Ff,3):this.Ff=Zn(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');x=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(x){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};Si(Za,po);var dd=function(){Za.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return T8(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,o,s){s||(s=1);for(var l,u=[];l=o.exec(a);)u.push(l[s]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,18)},set:function(n){n?this.Ff=Xn(this.Ff,18):this.Ff=Zn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Xn(this.Ff,19):this.Ff=Zn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,20)},set:function(n){n?(this.Ff=Xn(this.Ff,20),e.sort()):this.Ff=Zn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,22)},set:function(n){n?this.Ff=Xn(this.Ff,22):this.Ff=Zn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(n){n?this.Ff=Xn(this.Ff,23):this.Ff=Zn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,27)},set:function(n){n?this.Ff=Xn(this.Ff,27):this.Ff=Zn(this.Ff,27)}}),this.hasAppearanceStream=!1};Si(dd,Za);var fd=function(){dd.call(this),this.fontName="helvetica",this.combo=!1};Si(fd,dd);var hd=function(){fd.call(this),this.combo=!0};Si(hd,fd);var my=function(){hd.call(this),this.edit=!0};Si(my,hd);var Nr=function(){Za.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,15)},set:function(n){n?this.Ff=Xn(this.Ff,15):this.Ff=Zn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,16)},set:function(n){n?this.Ff=Xn(this.Ff,16):this.Ff=Zn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,17)},set:function(n){n?this.Ff=Xn(this.Ff,17):this.Ff=Zn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(n){n?this.Ff=Xn(this.Ff,26):this.Ff=Zn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+ic(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){an(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Si(Nr,Za);var gy=function(){Nr.call(this),this.pushButton=!0};Si(gy,Nr);var pd=function(){Nr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Si(pd,Nr);var o0=function(){var t,e;Za.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+ic(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){an(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ye.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Si(o0,Za),pd.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},pd.prototype.createOption=function(t){var e=new o0;return e.Parent=this,e.optionName=t,this.Kids.push(e),q1e.call(this.scope,e),e};var yy=function(){Nr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ye.CheckBox.createAppearanceStream()};Si(yy,Nr);var Ou=function(){Za.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,13)},set:function(e){e?this.Ff=Xn(this.Ff,13):this.Ff=Zn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,21)},set:function(e){e?this.Ff=Xn(this.Ff,21):this.Ff=Zn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(e){e?this.Ff=Xn(this.Ff,23):this.Ff=Zn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,24)},set:function(e){e?this.Ff=Xn(this.Ff,24):this.Ff=Zn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,25)},set:function(e){e?this.Ff=Xn(this.Ff,25):this.Ff=Zn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(e){e?this.Ff=Xn(this.Ff,26):this.Ff=Zn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Si(Ou,Za);var vy=function(){Ou.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,14)},set:function(t){t?this.Ff=Xn(this.Ff,14):this.Ff=Zn(this.Ff,14)}}),this.password=!0};Si(vy,Ou);var Ye={CheckBox:{createAppearanceStream:function(){return{N:{On:Ye.CheckBox.YesNormal},D:{On:Ye.CheckBox.YesPushDown,Off:Ye.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=uo(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=R_(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+kt(Ye.internal.getWidth(t))+" "+kt(Ye.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+kt(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=uo(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=Ye.internal.getHeight(t),o=Ye.internal.getWidth(t),s=R_(t,t.caption);return i.push("1 g"),i.push("0 0 "+kt(o)+" "+kt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+kt(o-1)+" "+kt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+kt(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=uo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kt(Ye.internal.getWidth(t))+" "+kt(Ye.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ye.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ye.RadioButton.Circle.YesNormal,e.D[t]=Ye.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=uo(t);e.scope=t.scope;var n=[],r=Ye.internal.getWidth(t)<=Ye.internal.getHeight(t)?Ye.internal.getWidth(t)/4:Ye.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ye.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+zs(Ye.internal.getWidth(t)/2)+" "+zs(Ye.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=uo(t);e.scope=t.scope;var n=[],r=Ye.internal.getWidth(t)<=Ye.internal.getHeight(t)?Ye.internal.getWidth(t)/4:Ye.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ye.internal.Bezier_C).toFixed(5)),o=Number((r*Ye.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+zs(Ye.internal.getWidth(t)/2)+" "+zs(Ye.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+zs(Ye.internal.getWidth(t)/2)+" "+zs(Ye.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=uo(t);e.scope=t.scope;var n=[],r=Ye.internal.getWidth(t)<=Ye.internal.getHeight(t)?Ye.internal.getWidth(t)/4:Ye.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ye.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+zs(Ye.internal.getWidth(t)/2)+" "+zs(Ye.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ye.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ye.RadioButton.Cross.YesNormal,e.D[t]=Ye.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=uo(t);e.scope=t.scope;var n=[],r=Ye.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+kt(Ye.internal.getWidth(t)-2)+" "+kt(Ye.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(kt(r.x1.x)+" "+kt(r.x1.y)+" m"),n.push(kt(r.x2.x)+" "+kt(r.x2.y)+" l"),n.push(kt(r.x4.x)+" "+kt(r.x4.y)+" m"),n.push(kt(r.x3.x)+" "+kt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=uo(t);e.scope=t.scope;var n=Ye.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+kt(Ye.internal.getWidth(t))+" "+kt(Ye.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+kt(Ye.internal.getWidth(t)-2)+" "+kt(Ye.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(kt(n.x1.x)+" "+kt(n.x1.y)+" m"),r.push(kt(n.x2.x)+" "+kt(n.x2.y)+" l"),r.push(kt(n.x4.x)+" "+kt(n.x4.y)+" m"),r.push(kt(n.x3.x)+" "+kt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=uo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kt(Ye.internal.getWidth(t))+" "+kt(Ye.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ye.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ye.internal.getWidth(t),n=Ye.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ye.internal.getWidth=function(t){var e=0;return an(t)==="object"&&(e=eI(t.Rect[2])),e},Ye.internal.getHeight=function(t){var e=0;return an(t)==="object"&&(e=eI(t.Rect[3])),e};var q1e=Bn.addField=function(t){if(B1e(this,t),!(t instanceof Za))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Bn.AcroFormChoiceField=dd,Bn.AcroFormListBox=fd,Bn.AcroFormComboBox=hd,Bn.AcroFormEditBox=my,Bn.AcroFormButton=Nr,Bn.AcroFormPushButton=gy,Bn.AcroFormRadioButton=pd,Bn.AcroFormCheckBox=yy,Bn.AcroFormTextField=Ou,Bn.AcroFormPasswordField=vy,Bn.AcroFormAppearance=Ye,Bn.AcroForm={ChoiceField:dd,ListBox:fd,ComboBox:hd,EditBox:my,Button:Nr,PushButton:gy,RadioButton:pd,CheckBox:yy,TextField:Ou,PasswordField:vy,Appearance:Ye},ct.AcroForm={ChoiceField:dd,ListBox:fd,ComboBox:hd,EditBox:my,Button:Nr,PushButton:gy,RadioButton:pd,CheckBox:yy,TextField:Ou,PasswordField:vy,Appearance:Ye};ct.AcroForm;function k8(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(P,O){var D,L,B,J,H,M=n;if((O=O||n)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(N(P))for(H in r)for(B=r[H],D=0;D<B.length;D+=1){for(J=!0,L=0;L<B[D].length;L+=1)if(B[D][L]!==void 0&&B[D][L]!==P[L]){J=!1;break}if(J===!0){M=H;break}}else for(H in r)for(B=r[H],D=0;D<B.length;D+=1){for(J=!0,L=0;L<B[D].length;L+=1)if(B[D][L]!==void 0&&B[D][L]!==P.charCodeAt(L)){J=!1;break}if(J===!0){M=H;break}}return M===n&&O!==n&&(M=O),M},a=function P(O){for(var D=this.internal.write,L=this.internal.putStream,B=(0,this.internal.getFilters)();B.indexOf("FlateEncode")!==-1;)B.splice(B.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:O.width}),J.push({key:"Height",value:O.height}),O.colorSpace===v.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===v.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var H="",M=0,X=O.transparency.length;M<X;M++)H+=O.transparency[M]+" "+O.transparency[M]+" ";J.push({key:"Mask",value:"["+H+"]"})}O.sMask!==void 0&&J.push({key:"SMask",value:O.objectId+1+" 0 R"});var oe=O.filter!==void 0?["/"+O.filter]:void 0;if(L({data:O.data,additionalKeyValues:J,alreadyAppliedFilters:oe,objectId:O.objectId}),D("endobj"),"sMask"in O&&O.sMask!==void 0){var ie,k=(ie=O.sMaskBitsPerComponent)!==null&&ie!==void 0?ie:O.bitsPerComponent,q={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:O.sMask};"filter"in O&&(q.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(O.width),q.filter=O.filter),P.call(this,q)}if(O.colorSpace===v.INDEXED){var G=this.internal.newObject();L({data:I(new Uint8Array(O.palette)),objectId:G}),D("endobj")}},o=function(){var P=this.internal.collections[e+"images"];for(var O in P)a.call(this,P[O])},s=function(){var P,O=this.internal.collections[e+"images"],D=this.internal.write;for(var L in O)D("/I"+(P=O[L]).index,P.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},u=function(){var P=this.internal.collections[e+"images"];return l.call(this),P},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(P){return typeof t["process"+P.toUpperCase()]=="function"},p=function(P){return an(P)==="object"&&P.nodeType===1},h=function(P,O){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var D=""+P.getAttribute("src");if(D.indexOf("data:image/")===0)return py(unescape(D).split("base64,").pop());var L=t.loadFile(D,!0);if(L!==void 0)return L}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var B;switch(O){case"PNG":B="image/png";break;case"WEBP":B="image/webp";break;default:B="image/jpeg"}return py(P.toDataURL(B,1).split("base64,").pop())}},y=function(P){var O=this.internal.collections[e+"images"];if(O){for(var D in O)if(P===O[D].alias)return O[D]}},g=function(P,O,D){return P||O||(P=-96,O=-96),P<0&&(P=-1*D.width*72/P/this.internal.scaleFactor),O<0&&(O=-1*D.height*72/O/this.internal.scaleFactor),P===0&&(P=O*D.width/D.height),O===0&&(O=P*D.height/D.width),[P,O]},x=function(P,O,D,L,B,J){var H=g.call(this,D,L,B),M=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,oe=u.call(this);if(D=H[0],L=H[1],oe[B.index]=B,J){J*=Math.PI/180;var ie=Math.cos(J),k=Math.sin(J),q=function(te){return te.toFixed(4)},G=[q(ie),q(k),q(-1*k),q(ie),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,M(P),X(O+L),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([M(D),"0","0",M(L),"0","0","cm"].join(" "))):this.internal.write([M(D),"0","0",M(L),M(P),X(O+L),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+B.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(P){var O,D,L=0;if(typeof P=="string")for(D=P.length,O=0;O<D;O++)L=(L<<5)-L+P.charCodeAt(O),L|=0;else if(N(P))for(D=P.byteLength/2,O=0;O<D;O++)L=(L<<5)-L+P[O],L|=0;return L},A=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var O=!0;return P.length===0&&(O=!1),P.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(O=!1),O},S=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var O=P.indexOf(",");return O<0?null:P.substring(0,O).trim().endsWith("base64")?P.substring(O+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var N=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},C=t.__addimage__.binaryStringToUint8Array=function(P){for(var O=P.length,D=new Uint8Array(O),L=0;L<O;L++)D[L]=P.charCodeAt(L);return D},I=t.__addimage__.arrayBufferToBinaryString=function(P){for(var O="",D=N(P)?P:new Uint8Array(P),L=0;L<D.length;L+=8192)O+=String.fromCharCode.apply(null,D.subarray(L,L+8192));return O};t.addImage=function(){var P,O,D,L,B,J,H,M,X;if(typeof arguments[1]=="number"?(O=n,D=arguments[1],L=arguments[2],B=arguments[3],J=arguments[4],H=arguments[5],M=arguments[6],X=arguments[7]):(O=arguments[1],D=arguments[2],L=arguments[3],B=arguments[4],J=arguments[5],H=arguments[6],M=arguments[7],X=arguments[8]),an(P=arguments[0])==="object"&&!p(P)&&"imageData"in P){var oe=P;P=oe.imageData,O=oe.format||O||n,D=oe.x||D||0,L=oe.y||L||0,B=oe.w||oe.width||B,J=oe.h||oe.height||J,H=oe.alias||H,M=oe.compression||M,X=oe.rotation||oe.angle||X}var ie=this.internal.getFilters();if(M===void 0&&ie.indexOf("FlateEncode")!==-1&&(M="SLOW"),isNaN(D)||isNaN(L))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var k=R.call(this,P,O,H,M);return x.call(this,D,L,B,J,k,X),this};var R=function(P,O,D,L){var B,J,H;if(typeof P=="string"&&i(P)===n){P=unescape(P);var M=U(P,!1);(M!==""||(M=t.loadFile(P,!0))!==void 0)&&(P=M)}if(p(P)&&(P=h(P,O)),O=i(P,O),!f(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((H=D)==null||H.length===0)&&(D=function(X){return typeof X=="string"||N(X)?_(X):N(X.data)?_(X.data):null}(P)),(B=y.call(this,D))||(P instanceof Uint8Array||O==="RGBA"||(J=P,P=C(P)),B=this["process"+O.toUpperCase()](P,c.call(this),D,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in t.image_compression?X:w.NONE}(L),J)),!B)throw new Error("An unknown error occurred whilst processing the image.");return B},U=t.__addimage__.convertBase64ToBinaryString=function(P,O){O=typeof O!="boolean"||O;var D,L="";if(typeof P=="string"){var B;D=(B=S(P))!==null&&B!==void 0?B:P;try{L=py(D)}catch(J){if(O)throw A(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return L};t.getImageProperties=function(P){var O,D,L="";if(p(P)&&(P=h(P)),typeof P=="string"&&i(P)===n&&((L=U(P,!1))===""&&(L=t.loadFile(P)||""),P=L),D=i(P),!f(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(P instanceof Uint8Array||(P=C(P)),!(O=this["process"+D.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=D,O}})(ct.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ct.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,f=0;f<u.length&&!c;f++)switch((r=u[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){r=u[p];var h=this.internal.pdfEscape,y=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),w=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+h(v(r.contents))+")",a+=" /Popup "+x.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(v(w))+") >>",g.content=a;var _=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(a+=" /Open true"),a+=" >>",x.content=a,this.internal.write(g.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var A=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(y(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var S=this.annotations._nameMap[r.options.name];r.options.pageNumber=S.page,r.options.top=S.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var N=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+N+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+a)},options:o,type:"link"})},t.textWithLink=function(n,r,i,a){var o,s,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var c=this.splitTextToSize(n,s).length;o=Math.ceil(u*c)}else s=l,o=u;return this.text(n,r,i,a),i+=.2*u,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-u,s,o,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ct.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},s=t.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&a(g)&&e[g.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&i.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&a(g)&&e[g.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&a(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&a(g)&&e[g.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&a(g)&&e[g.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(g){var x=0,v=n,w="",_=0;for(x=0;x<g.length;x+=1)v[g.charCodeAt(x)]!==void 0?(_++,typeof(v=v[g.charCodeAt(x)])=="number"&&(w+=String.fromCharCode(v),v=n,_=0),x===g.length-1&&(v=n,w+=g.charAt(x-(_-1)),x-=_-1,_=0)):(v=n,w+=g.charAt(x-_),x-=_,_=0);return w};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(g,x,v){return o(g)?a(g)===!1?-1:!u(g)||!o(x)&&!o(v)||!o(v)&&s(x)||s(g)&&!o(x)||s(g)&&l(x)||s(g)&&s(x)?0:c(g)&&o(x)&&!s(x)&&o(v)&&u(v)?3:s(g)||!o(v)?1:2:-1},h=function(g){var x=0,v=0,w=0,_="",A="",S="",N=(g=g||"").split("\\s+"),C=[];for(x=0;x<N.length;x+=1){for(C.push(""),v=0;v<N[x].length;v+=1)_=N[x][v],A=N[x][v-1],S=N[x][v+1],o(_)?(w=p(_,A,S),C[x]+=w!==-1?String.fromCharCode(e[_.charCodeAt(0)][w]):_):C[x]+=_;C[x]=f(C[x])}return C.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var g,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(x)){var w=0;for(v=[],w=0;w<x.length;w+=1)Array.isArray(x[w])?v.push([h(x[w][0]),x[w][1],x[w][2]]):v.push([h(x[w])]);g=v}else g=h(x);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",y])}(ct.API),ct.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(s){n=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ct.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(g){y=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,h=0,y=0,g=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=u.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,A){return _.concat(x.splitTextToSize(A,v))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)h<(g=this.getStringUnitWidth(l[w],{font:f})*c)&&(h=g);return h!==0&&(y=l.length),{w:h/=p,h:Math.max((y*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,f,p){if(r.call(this),!c)throw new Error("No data for PDF table.");var h,y,g,x,v=[],w=[],_=[],A={},S={},N=[],C=[],I=(p=p||{}).autoSize||!1,R=p.printHeaders!==!1,U=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,P=p.margins||Object.assign({width:this.getPageWidth()},e),O=typeof p.padding=="number"?p.padding:3,D=p.headerBackgroundColor||"#c8c8c8",L=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=L,this.setFontSize(U),f==null)w=v=Object.keys(c[0]),_=v.map(function(){return"left"});else if(Array.isArray(f)&&an(f[0])==="object")for(v=f.map(function(oe){return oe.name}),w=f.map(function(oe){return oe.prompt||oe.name||""}),_=f.map(function(oe){return oe.align||"left"}),h=0;h<f.length;h+=1)S[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=v=f,_=v.map(function(){return"left"}));if(I||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<v.length;h+=1){for(A[x=v[h]]=c.map(function(oe){return oe[x]}),this.setFont(void 0,"bold"),N.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=A[x],this.setFont(void 0,"normal"),g=0;g<y.length;g+=1)N.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[x]=Math.max.apply(null,N)+O+O,N=[]}if(R){var B={};for(h=0;h<v.length;h+=1)B[v[h]]={},B[v[h]].text=w[h],B[v[h]].align=_[h];var J=s.call(this,B,S);C=v.map(function(oe){return new a(l,u,S[oe],J,B[oe].text,void 0,B[oe].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var H=f.reduce(function(oe,ie){return oe[ie.name]=ie.align,oe},{});for(h=0;h<c.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:c[h]},this);var M=s.call(this,c[h],S);for(g=0;g<v.length;g+=1){var X=c[h][v[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:g,data:X},this),o.call(this,new a(l,u,S[v[g]],M,X,h+2,H[v[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var s=function(l,u){var c=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var y=l[h];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[h]-c-c)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+c+c},this).reduce(function(h,y){return Math.max(h,y)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){c=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,p.push(c)),c.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(ct.API);var I8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},O8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],L_=k8(O8),j8=[100,200,300,400,500,600,700,800,900],V1e=k8(j8);function jb(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return I8[a=a||"normal"]?a:"normal"}(t.style),r=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof L_[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function tI(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var z1e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},nI={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function rI(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function iI(t){return t.trimLeft()}function H1e(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function G1e(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Zg,aI,oI,kc,Qg,sI,lI,uI,Rb=["times"];function cI(t,e,n,r,i){var a=4,o=fI;switch(i){case ct.API.image_compression.FAST:a=1,o=dI;break;case ct.API.image_compression.MEDIUM:a=6,o=hI;break;case ct.API.image_compression.SLOW:a=9,o=pI}t=function(l,u,c,f){for(var p,h=l.length/u,y=new Uint8Array(l.length+h),g=[W1e,dI,fI,hI,pI],x=0;x<h;x+=1){var v=x*u,w=l.subarray(v,v+u);if(f)y.set(f(w,c,p),v+x);else{for(var _=g.length,A=[],S=0;S<_;S+=1)A[S]=g[S](w,c,p);var N=J1e(A.concat());y.set(A[N],v+x)}p=w}return y}(t,e,Math.ceil(n*r/8),o);var s=P_(t,{level:a});return ct.API.__addimage__.arrayBufferToBinaryString(s)}function W1e(t){var e=Array.apply([],t);return e.unshift(0),e}function dI(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=t[i-e]||0;r[i+1]=t[i]-a+256&255}return r}function fI(t,e,n){var r=t.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var o=n&&n[a]||0;i[a+1]=t[a]-o+256&255}return i}function hI(t,e,n){var r=t.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var o=t[a-e]||0,s=n&&n[a]||0;i[a+1]=t[a]+256-(o+s>>>1)&255}return i}function pI(t,e,n){var r=t.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var o=K1e(t[a-e]||0,n&&n[a]||0,n&&n[a-e]||0);i[a+1]=t[a]-o+256&255}return i}function K1e(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),a=Math.abs(t+e-n-n);return r<=i&&r<=a?t:i<=a?e:n}function J1e(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Lb(t,e,n){var r=e*n,i=Math.floor(r/8),a=16-(r-8*i+n),o=(1<<n)-1;return R8(t,i)>>a&o}function mI(t,e,n,r){var i=n*r,a=Math.floor(i/8),o=16-(i-8*a+r),s=(1<<r)-1,l=(e&s)<<o;(function(u,c,f){if(c+1<u.byteLength)u.setUint16(c,f,!1);else{var p=f>>8&255;u.setUint8(c,p)}})(t,a,R8(t,a)&~(s<<o)&65535|l)}function R8(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Y1e(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<1+(7&i);t[e++],t[e++];var s=null,l=null;a&&(s=e,l=o,e+=3*o);var u=!0,c=[],f=0,p=null,h=0,y=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],1&g||(p=null),h=g>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,A=t[e++],S=A>>6&1,N=1<<1+(7&A),C=s,I=l,R=!1;A>>7&&(R=!0,C=e,I=N,e+=3*N);var U=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}c.push({x,y:v,width:w,height:_,has_local_palette:R,palette_offset:C,palette_size:I,data_offset:U,data_length:e-U,transparent_index:p,interlaced:!!S,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return y},this.frameInfo=function(O){if(O<0||O>=c.length)throw new Error("Frame index out of range.");return c[O]},this.decodeAndBlitFrameBGRA=function(O,D){var L=this.frameInfo(O),B=L.width*L.height,J=new Uint8Array(B);gI(t,L.data_offset,J,B);var H=L.palette_offset,M=L.transparent_index;M===null&&(M=256);var X=L.width,oe=n-X,ie=X,k=4*(L.y*n+L.x),q=4*((L.y+L.height)*n+L.x),G=k,te=4*oe;L.interlaced===!0&&(te+=4*n*7);for(var re=8,ce=0,ye=J.length;ce<ye;++ce){var se=J[ce];if(ie===0&&(ie=X,(G+=te)>=q&&(te=4*oe+4*n*(re-1),G=k+(X+oe)*(re<<1),re>>=1)),se===M)G+=4;else{var me=t[H+3*se],we=t[H+3*se+1],he=t[H+3*se+2];D[G++]=he,D[G++]=we,D[G++]=me,D[G++]=255}--ie}},this.decodeAndBlitFrameRGBA=function(O,D){var L=this.frameInfo(O),B=L.width*L.height,J=new Uint8Array(B);gI(t,L.data_offset,J,B);var H=L.palette_offset,M=L.transparent_index;M===null&&(M=256);var X=L.width,oe=n-X,ie=X,k=4*(L.y*n+L.x),q=4*((L.y+L.height)*n+L.x),G=k,te=4*oe;L.interlaced===!0&&(te+=4*n*7);for(var re=8,ce=0,ye=J.length;ce<ye;++ce){var se=J[ce];if(ie===0&&(ie=X,(G+=te)>=q&&(te=4*oe+4*n*(re-1),G=k+(X+oe)*(re<<1),re>>=1)),se===M)G+=4;else{var me=t[H+3*se],we=t[H+3*se+1],he=t[H+3*se+2];D[G++]=me,D[G++]=we,D[G++]=he,D[G++]=255}--ie}}}function gI(t,e,n,r){for(var i=t[e++],a=1<<i,o=a+1,s=o+1,l=i+1,u=(1<<l)-1,c=0,f=0,p=0,h=t[e++],y=new Int32Array(4096),g=null;;){for(;c<16&&h!==0;)f|=t[e++]<<c,c+=8,h===1?h=t[e++]:--h;if(c<l)break;var x=f&u;if(f>>=l,c-=l,x!==a){if(x===o)break;for(var v=x<s?x:g,w=0,_=v;_>a;)_=y[_]>>8,++w;var A=_;if(p+w+(v!==x?1:0)>r)return void fn.log("Warning, gif stream longer than expected.");n[p++]=A;var S=p+=w;for(v!==x&&(n[p++]=A),_=v;w--;)_=y[_],n[--S]=255&_,_>>=8;g!==null&&s<4096&&(y[s++]=g<<8|A,s>=u+1&&l<12&&(++l,u=u<<1|1)),g=x}else s=o+1,u=(1<<(l=i+1))-1,g=null}return p!==r&&fn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Mb(t){var e,n,r,i,a,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),y=new Array(64),g=[],x=0,v=7,w=new Array(64),_=new Array(64),A=new Array(64),S=new Array(256),N=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],B=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(k,q){for(var G=0,te=0,re=new Array,ce=1;ce<=16;ce++){for(var ye=1;ye<=k[ce];ye++)re[q[te]]=[],re[q[te]][0]=G,re[q[te]][1]=ce,te++,G++;G*=2}return re}function H(k){for(var q=k[0],G=k[1]-1;G>=0;)q&1<<G&&(x|=1<<v),G--,--v<0&&(x==255?(M(255),M(0)):M(x),v=7,x=0)}function M(k){g.push(k)}function X(k){M(k>>8&255),M(255&k)}function oe(k,q,G,te,re){for(var ce,ye=re[0],se=re[240],me=function(be,Oe){var _e,Le,Re,it,De,ze,mt,Qe,Ge,et,lt=0;for(Ge=0;Ge<8;++Ge){_e=be[lt],Le=be[lt+1],Re=be[lt+2],it=be[lt+3],De=be[lt+4],ze=be[lt+5],mt=be[lt+6];var Jt=_e+(Qe=be[lt+7]),$t=_e-Qe,tt=Le+mt,Nt=Le-mt,en=Re+ze,ht=Re-ze,gt=it+De,ft=it-De,pn=Jt+gt,In=Jt-gt,tn=tt+en,xt=tt-en;be[lt]=pn+tn,be[lt+4]=pn-tn;var Bt=.707106781*(xt+In);be[lt+2]=In+Bt,be[lt+6]=In-Bt;var Yi=.382683433*((pn=ft+ht)-(xt=Nt+$t)),_r=.5411961*pn+Yi,Xi=1.306562965*xt+Yi,Zi=.707106781*(tn=ht+Nt),yt=$t+Zi,ko=$t-Zi;be[lt+5]=ko+_r,be[lt+3]=ko-_r,be[lt+1]=yt+Xi,be[lt+7]=yt-Xi,lt+=8}for(lt=0,Ge=0;Ge<8;++Ge){_e=be[lt],Le=be[lt+8],Re=be[lt+16],it=be[lt+24],De=be[lt+32],ze=be[lt+40],mt=be[lt+48];var Io=_e+(Qe=be[lt+56]),Qi=_e-Qe,ea=Le+mt,Dn=Le-mt,Sr=Re+ze,kr=Re-ze,jl=it+De,Ss=it-De,Ea=Io+jl,eo=Io-jl,Na=ea+Sr,Ta=ea-Sr;be[lt]=Ea+Na,be[lt+32]=Ea-Na;var ta=.707106781*(Ta+eo);be[lt+16]=eo+ta,be[lt+48]=eo-ta;var Rl=.382683433*((Ea=Ss+kr)-(Ta=Dn+Qi)),to=.5411961*Ea+Rl,Ll=1.306562965*Ta+Rl,ac=.707106781*(Na=kr+Dn),oc=Qi+ac,sc=Qi-ac;be[lt+40]=sc+to,be[lt+24]=sc-to,be[lt+8]=oc+Ll,be[lt+56]=oc-Ll,lt++}for(Ge=0;Ge<64;++Ge)et=be[Ge]*Oe[Ge],h[Ge]=et>0?et+.5|0:et-.5|0;return h}(k,q),we=0;we<64;++we)y[C[we]]=me[we];var he=y[0]-G;G=y[0],he==0?H(te[0]):(H(te[p[ce=32767+he]]),H(f[ce]));for(var Ie=63;Ie>0&&y[Ie]==0;)Ie--;if(Ie==0)return H(ye),G;for(var ae,Z=1;Z<=Ie;){for(var Be=Z;y[Z]==0&&Z<=Ie;)++Z;var Ue=Z-Be;if(Ue>=16){ae=Ue>>4;for(var Ve=1;Ve<=ae;++Ve)H(se);Ue&=15}ce=32767+y[Z],H(re[(Ue<<4)+p[ce]]),H(f[ce]),Z++}return Ie!=63&&H(ye),G}function ie(k){k=Math.min(Math.max(k,1),100),a!=k&&(function(q){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var re=o((G[te]*q+50)/100);re=Math.min(Math.max(re,1),255),s[C[te]]=re}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var se=o((ce[ye]*q+50)/100);se=Math.min(Math.max(se,1),255),l[C[ye]]=se}for(var me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],we=0,he=0;he<8;he++)for(var Ie=0;Ie<8;Ie++)u[we]=1/(s[C[we]]*me[he]*me[Ie]*8),c[we]=1/(l[C[we]]*me[he]*me[Ie]*8),we++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),a=k)}this.encode=function(k,q){q&&ie(q),g=new Array,x=0,v=7,X(65496),X(65504),X(16),M(74),M(70),M(73),M(70),M(0),M(1),M(1),M(0),X(1),X(1),M(0),M(0),function(){X(65499),X(132),M(0);for(var Le=0;Le<64;Le++)M(s[Le]);M(1);for(var Re=0;Re<64;Re++)M(l[Re])}(),function(Le,Re){X(65472),X(17),M(8),X(Re),X(Le),M(3),M(1),M(17),M(0),M(2),M(17),M(1),M(3),M(17),M(1)}(k.width,k.height),function(){X(65476),X(418),M(0);for(var Le=0;Le<16;Le++)M(I[Le+1]);for(var Re=0;Re<=11;Re++)M(R[Re]);M(16);for(var it=0;it<16;it++)M(U[it+1]);for(var De=0;De<=161;De++)M(P[De]);M(1);for(var ze=0;ze<16;ze++)M(O[ze+1]);for(var mt=0;mt<=11;mt++)M(D[mt]);M(17);for(var Qe=0;Qe<16;Qe++)M(L[Qe+1]);for(var Ge=0;Ge<=161;Ge++)M(B[Ge])}(),X(65498),X(12),M(3),M(1),M(0),M(2),M(17),M(3),M(17),M(0),M(63),M(0);var G=0,te=0,re=0;x=0,v=7,this.encode.displayName="_encode_";for(var ce,ye,se,me,we,he,Ie,ae,Z,Be=k.data,Ue=k.width,Ve=k.height,be=4*Ue,Oe=0;Oe<Ve;){for(ce=0;ce<be;){for(we=be*Oe+ce,Ie=-1,ae=0,Z=0;Z<64;Z++)he=we+(ae=Z>>3)*be+(Ie=4*(7&Z)),Oe+ae>=Ve&&(he-=be*(Oe+1+ae-Ve)),ce+Ie>=be&&(he-=ce+Ie-be+4),ye=Be[he++],se=Be[he++],me=Be[he++],w[Z]=(N[ye]+N[se+256|0]+N[me+512|0]>>16)-128,_[Z]=(N[ye+768|0]+N[se+1024|0]+N[me+1280|0]>>16)-128,A[Z]=(N[ye+1280|0]+N[se+1536|0]+N[me+1792|0]>>16)-128;G=oe(w,u,G,e,r),te=oe(_,c,te,n,i),re=oe(A,c,re,n,i),ce+=32}Oe+=8}if(v>=0){var _e=[];_e[1]=v+1,_e[0]=(1<<v+1)-1,H(_e)}return X(65497),new Uint8Array(g)},t=t||50,function(){for(var k=String.fromCharCode,q=0;q<256;q++)S[q]=k(q)}(),e=J(I,R),n=J(O,D),r=J(U,P),i=J(L,B),function(){for(var k=1,q=2,G=1;G<=15;G++){for(var te=k;te<q;te++)p[32767+te]=G,f[32767+te]=[],f[32767+te][1]=G,f[32767+te][0]=te;for(var re=-(q-1);re<=-k;re++)p[32767+re]=G,f[32767+re]=[],f[32767+re][1]=G,f[32767+re][0]=q-1+re;k<<=1,q<<=1}}(),function(){for(var k=0;k<256;k++)N[k]=19595*k,N[k+256|0]=38470*k,N[k+512|0]=7471*k+32768,N[k+768|0]=-11059*k,N[k+1024|0]=-21709*k,N[k+1280|0]=32768*k+8421375,N[k+1536|0]=-27439*k,N[k+1792|0]=-5329*k}(),ie(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ra(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function yI(t){function e(R){if(!R)throw Error("assert :P")}function n(R,U,P){for(var O=0;4>O;O++)if(R[U+O]!=P.charCodeAt(O))return!0;return!1}function r(R,U,P,O,D){for(var L=0;L<D;L++)R[U+L]=P[O+L]}function i(R,U,P,O){for(var D=0;D<O;D++)R[U+D]=P}function a(R){return new Int32Array(R)}function o(R,U){for(var P=[],O=0;O<R;O++)P.push(new U);return P}function s(R,U){var P=[];return function O(D,L,B){for(var J=B[L],H=0;H<J&&(D.push(B.length>L+1?[]:new U),!(B.length<L+1));H++)O(D[H],L+1,B)}(P,0,R),P}var l=function(){var R=this;function U(m,b){for(var T=1<<b-1>>>0;m&T;)T>>>=1;return T?(m&T-1)+T:m}function P(m,b,T,j,F){e(!(j%T));do m[b+(j-=T)]=F;while(0<j)}function O(m,b,T,j,F){if(e(2328>=F),512>=F)var V=a(512);else if((V=a(F))==null)return 0;return function(z,W,Y,Q,de,xe){var ee,fe,ge=W,Se=1<<Y,ve=a(16),Ee=a(16);for(e(de!=0),e(Q!=null),e(z!=null),e(0<Y),fe=0;fe<de;++fe){if(15<Q[fe])return 0;++ve[Q[fe]]}if(ve[0]==de)return 0;for(Ee[1]=0,ee=1;15>ee;++ee){if(ve[ee]>1<<ee)return 0;Ee[ee+1]=Ee[ee]+ve[ee]}for(fe=0;fe<de;++fe)ee=Q[fe],0<Q[fe]&&(xe[Ee[ee]++]=fe);if(Ee[15]==1)return(Q=new D).g=0,Q.value=xe[0],P(z,ge,1,Se,Q),Se;var Te,je=-1,Ce=Se-1,ut=0,Je=1,jt=1,nt=1<<Y;for(fe=0,ee=1,de=2;ee<=Y;++ee,de<<=1){if(Je+=jt<<=1,0>(jt-=ve[ee]))return 0;for(;0<ve[ee];--ve[ee])(Q=new D).g=ee,Q.value=xe[fe++],P(z,ge+ut,de,nt,Q),ut=U(ut,ee)}for(ee=Y+1,de=2;15>=ee;++ee,de<<=1){if(Je+=jt<<=1,0>(jt-=ve[ee]))return 0;for(;0<ve[ee];--ve[ee]){if(Q=new D,(ut&Ce)!=je){for(ge+=nt,Te=1<<(je=ee)-Y;15>je&&!(0>=(Te-=ve[je]));)++je,Te<<=1;Se+=nt=1<<(Te=je-Y),z[W+(je=ut&Ce)].g=Te+Y,z[W+je].value=ge-W-je}Q.g=ee-Y,Q.value=xe[fe++],P(z,ge+(ut>>Y),de,nt,Q),ut=U(ut,ee)}}return Je!=2*Ee[15]-1?0:Se}(m,b,T,j,F,V)}function D(){this.value=this.g=0}function L(){this.value=this.g=0}function B(){this.G=o(5,D),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Zl,L)}function J(m,b,T,j){e(m!=null),e(b!=null),e(2147483648>j),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=b,m.pa=T,m.Jd=b,m.Yc=T+j,m.Zc=4<=j?T+j-4+1:T,ye(m)}function H(m,b){for(var T=0;0<b--;)T|=me(m,128)<<b;return T}function M(m,b){var T=H(m,b);return se(m)?-T:T}function X(m,b,T,j){var F,V=0;for(e(m!=null),e(b!=null),e(4294967288>j),m.Sb=j,m.Ra=0,m.u=0,m.h=0,4<j&&(j=4),F=0;F<j;++F)V+=b[T+F]<<8*F;m.Ra=V,m.bb=j,m.oa=b,m.pa=T}function oe(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Ps-8>>>0,++m.bb,m.u-=8;te(m)&&(m.h=1,m.u=0)}function ie(m,b){if(e(0<=b),!m.h&&b<=Ei){var T=G(m)&Ai[b];return m.u+=b,oe(m),T}return m.h=1,m.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(m){return m.Ra>>>(m.u&Ps-1)>>>0}function te(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Ps}function re(m,b){m.u=b,m.h=te(m)}function ce(m){m.u>=$o&&(e(m.u>=$o),oe(m))}function ye(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function se(m){return H(m,1)}function me(m,b){var T=m.Ca;0>m.b&&ye(m);var j=m.b,F=T*b>>>8,V=(m.I>>>j>F)+0;for(V?(T-=F,m.I-=F+1<<j>>>0):T=F+1,j=T,F=0;256<=j;)F+=8,j>>=8;return j=7^F+Cs[j],m.b-=j,m.Ca=(T<<j)-1,V}function we(m,b,T){m[b+0]=T>>24&255,m[b+1]=T>>16&255,m[b+2]=T>>8&255,m[b+3]=255&T}function he(m,b){return m[b+0]|m[b+1]<<8}function Ie(m,b){return he(m,b)|m[b+2]<<16}function ae(m,b){return he(m,b)|he(m,b+2)<<16}function Z(m,b){var T=1<<b;return e(m!=null),e(0<b),m.X=a(T),m.X==null?0:(m.Mb=32-b,m.Xa=b,1)}function Be(m,b){e(m!=null),e(b!=null),e(m.Xa==b.Xa),r(b.X,0,m.X,0,1<<b.Xa)}function Ue(){this.X=[],this.Xa=this.Mb=0}function Ve(m,b,T,j){e(T!=null),e(j!=null);var F=T[0],V=j[0];return F==0&&(F=(m*V+b/2)/b),V==0&&(V=(b*F+m/2)/m),0>=F||0>=V?0:(T[0]=F,j[0]=V,1)}function be(m,b){return m+(1<<b)-1>>>b}function Oe(m,b){return((4278255360&m)+(4278255360&b)>>>0&4278255360)+((16711935&m)+(16711935&b)>>>0&16711935)>>>0}function _e(m,b){R[b]=function(T,j,F,V,z,W,Y){var Q;for(Q=0;Q<z;++Q){var de=R[m](W[Y+Q-1],F,V+Q);W[Y+Q]=Oe(T[j+Q],de)}}}function Le(){this.ud=this.hd=this.jd=0}function Re(m,b){return((4278124286&(m^b))>>>1)+(m&b)>>>0}function it(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function De(m,b){return it(m+(m-b+.5>>1))}function ze(m,b,T){return Math.abs(b-T)-Math.abs(m-T)}function mt(m,b,T,j,F,V,z){for(j=V[z-1],T=0;T<F;++T)V[z+T]=j=Oe(m[b+T],j)}function Qe(m,b,T,j,F){var V;for(V=0;V<T;++V){var z=m[b+V],W=z>>8&255,Y=16711935&(Y=(Y=16711935&z)+((W<<16)+W));j[F+V]=(4278255360&z)+Y>>>0}}function Ge(m,b){b.jd=255&m,b.hd=m>>8&255,b.ud=m>>16&255}function et(m,b,T,j,F,V){var z;for(z=0;z<j;++z){var W=b[T+z],Y=W>>>8,Q=W,de=255&(de=(de=W>>>16)+((m.jd<<24>>24)*(Y<<24>>24)>>>5));Q=255&(Q=(Q+=(m.hd<<24>>24)*(Y<<24>>24)>>>5)+((m.ud<<24>>24)*(de<<24>>24)>>>5)),F[V+z]=(4278255360&W)+(de<<16)+Q}}function lt(m,b,T,j,F){R[b]=function(V,z,W,Y,Q,de,xe,ee,fe){for(Y=xe;Y<ee;++Y)for(xe=0;xe<fe;++xe)Q[de++]=F(W[j(V[z++])])},R[m]=function(V,z,W,Y,Q,de,xe){var ee=8>>V.b,fe=V.Ea,ge=V.K[0],Se=V.w;if(8>ee)for(V=(1<<V.b)-1,Se=(1<<ee)-1;z<W;++z){var ve,Ee=0;for(ve=0;ve<fe;++ve)ve&V||(Ee=j(Y[Q++])),de[xe++]=F(ge[Ee&Se]),Ee>>=ee}else R["VP8LMapColor"+T](Y,Q,ge,Se,de,xe,z,W,fe)}}function Jt(m,b,T,j,F){for(T=b+T;b<T;){var V=m[b++];j[F++]=V>>16&255,j[F++]=V>>8&255,j[F++]=255&V}}function $t(m,b,T,j,F){for(T=b+T;b<T;){var V=m[b++];j[F++]=V>>16&255,j[F++]=V>>8&255,j[F++]=255&V,j[F++]=V>>24&255}}function tt(m,b,T,j,F){for(T=b+T;b<T;){var V=(z=m[b++])>>16&240|z>>12&15,z=240&z|z>>28&15;j[F++]=V,j[F++]=z}}function Nt(m,b,T,j,F){for(T=b+T;b<T;){var V=(z=m[b++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;j[F++]=V,j[F++]=z}}function en(m,b,T,j,F){for(T=b+T;b<T;){var V=m[b++];j[F++]=255&V,j[F++]=V>>8&255,j[F++]=V>>16&255}}function ht(m,b,T,j,F,V){if(V==0)for(T=b+T;b<T;)we(j,((V=m[b++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),F+=32;else r(j,F,m,b,T)}function gt(m,b){R[b][0]=R[m+"0"],R[b][1]=R[m+"1"],R[b][2]=R[m+"2"],R[b][3]=R[m+"3"],R[b][4]=R[m+"4"],R[b][5]=R[m+"5"],R[b][6]=R[m+"6"],R[b][7]=R[m+"7"],R[b][8]=R[m+"8"],R[b][9]=R[m+"9"],R[b][10]=R[m+"10"],R[b][11]=R[m+"11"],R[b][12]=R[m+"12"],R[b][13]=R[m+"13"],R[b][14]=R[m+"0"],R[b][15]=R[m+"0"]}function ft(m){return m==V1||m==z1||m==Wm||m==H1}function pn(){this.eb=[],this.size=this.A=this.fb=0}function In(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function tn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new pn,this.f.kb=new In,this.sd=null}function xt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Bt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Yi(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function _r(m,b){var T=m.T,j=b.ba.f.RGBA,F=j.eb,V=j.fb+m.ka*j.A,z=sa[b.ba.S],W=m.y,Y=m.O,Q=m.f,de=m.N,xe=m.ea,ee=m.W,fe=b.cc,ge=b.dc,Se=b.Mc,ve=b.Nc,Ee=m.ka,Te=m.ka+m.T,je=m.U,Ce=je+1>>1;for(Ee==0?z(W,Y,null,null,Q,de,xe,ee,Q,de,xe,ee,F,V,null,null,je):(z(b.ec,b.fc,W,Y,fe,ge,Se,ve,Q,de,xe,ee,F,V-j.A,F,V,je),++T);Ee+2<Te;Ee+=2)fe=Q,ge=de,Se=xe,ve=ee,de+=m.Rc,ee+=m.Rc,V+=2*j.A,z(W,(Y+=2*m.fa)-m.fa,W,Y,fe,ge,Se,ve,Q,de,xe,ee,F,V-j.A,F,V,je);return Y+=m.fa,m.j+Te<m.o?(r(b.ec,b.fc,W,Y,je),r(b.cc,b.dc,Q,de,Ce),r(b.Mc,b.Nc,xe,ee,Ce),T--):1&Te||z(W,Y,null,null,Q,de,xe,ee,Q,de,xe,ee,F,V+j.A,null,null,je),T}function Xi(m,b,T){var j=m.F,F=[m.J];if(j!=null){var V=m.U,z=b.ba.S,W=z==Gm||z==Wm;b=b.ba.f.RGBA;var Y=[0],Q=m.ka;Y[0]=m.T,m.Kb&&(Q==0?--Y[0]:(--Q,F[0]-=m.width),m.j+m.ka+m.T==m.o&&(Y[0]=m.o-m.j-Q));var de=b.eb;Q=b.fb+Q*b.A,m=hA(j,F[0],m.width,V,Y,de,Q+(W?0:3),b.A),e(T==Y),m&&ft(z)&&Kf(de,Q,W,V,Y,b.A)}return 0}function Zi(m){var b=m.ma,T=b.ba.S,j=11>T,F=T==zm||T==Hm||T==Gm||T==q1||T==12||ft(T);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Uf(b.Oa,m,F?11:12))return 0;if(F&&ft(T)&&$m(),m.da)alert("todo:use_scaling");else{if(j){if(b.Ib=Yi,m.Kb){if(T=m.U+1>>1,b.memory=a(m.U+2*T),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+m.U,b.Mc=b.cc,b.Nc=b.dc+T,b.Ib=_r,$m()}}else alert("todo:EmitYUV");F&&(b.Jb=Xi,j&&ra())}if(j&&!CA){for(m=0;256>m;++m)r$[m]=89858*(m-128)+Jm>>Km,o$[m]=-22014*(m-128)+Jm,a$[m]=-45773*(m-128),i$[m]=113618*(m-128)+Jm>>Km;for(m=Yf;m<K1;++m)b=76283*(m-16)+Jm>>Km,s$[m-Yf]=$n(b,255),l$[m-Yf]=$n(b+8>>4,15);CA=1}return 1}function yt(m){var b=m.ma,T=m.U,j=m.T;return e(!(1&m.ka)),0>=T||0>=j?0:(T=b.Ib(m,b),b.Jb!=null&&b.Jb(m,b,T),b.Dc+=T,1)}function ko(m){m.ma.memory=null}function Io(m,b,T,j){return ie(m,8)!=47?0:(b[0]=ie(m,14)+1,T[0]=ie(m,14)+1,j[0]=ie(m,1),ie(m,3)!=0?0:!m.h)}function Qi(m,b){if(4>m)return m+1;var T=m-2>>1;return(2+(1&m)<<T)+ie(b,T)+1}function ea(m,b){return 120<b?b-120:1<=(T=((T=V8[b-1])>>4)*m+(8-(15&T)))?T:1;var T}function Dn(m,b,T){var j=G(T),F=m[b+=255&j].g-8;return 0<F&&(re(T,T.u+8),j=G(T),b+=m[b].value,b+=j&(1<<F)-1),re(T,T.u+m[b].g),m[b].value}function Sr(m,b,T){return T.g+=m.g,T.value+=m.value<<b>>>0,e(8>=T.g),m.g}function kr(m,b,T){var j=m.xc;return e((b=j==0?0:m.vc[m.md*(T>>j)+(b>>j)])<m.Wb),m.Ya[b]}function jl(m,b,T,j){var F=m.ab,V=m.c*b,z=m.C;b=z+b;var W=T,Y=j;for(j=m.Ta,T=m.Ua;0<F--;){var Q=m.gc[F],de=z,xe=b,ee=W,fe=Y,ge=(Y=j,W=T,Q.Ea);switch(e(de<xe),e(xe<=Q.nc),Q.hc){case 2:Hn(ee,fe,(xe-de)*ge,Y,W);break;case 0:var Se=de,ve=xe,Ee=Y,Te=W,je=(nt=Q).Ea;Se==0&&(qf(ee,fe,null,null,1,Ee,Te),mt(ee,fe+1,0,0,je-1,Ee,Te+1),fe+=je,Te+=je,++Se);for(var Ce=1<<nt.b,ut=Ce-1,Je=be(je,nt.b),jt=nt.K,nt=nt.w+(Se>>nt.b)*Je;Se<ve;){var Ft=jt,dr=nt,Rt=1;for(mc(ee,fe,Ee,Te-je,1,Ee,Te);Rt<je;){var rt=(Rt&~ut)+Ce;rt>je&&(rt=je),(0,zf[Ft[dr++]>>8&15])(ee,fe+ +Rt,Ee,Te+Rt-je,rt-Rt,Ee,Te+Rt),Rt=rt}fe+=je,Te+=je,++Se&ut||(nt+=Je)}xe!=Q.nc&&r(Y,W-ge,Y,W+(xe-de-1)*ge,ge);break;case 1:for(ge=ee,ve=fe,je=(ee=Q.Ea)-(Te=ee&~(Ee=(fe=1<<Q.b)-1)),Se=be(ee,Q.b),Ce=Q.K,Q=Q.w+(de>>Q.b)*Se;de<xe;){for(ut=Ce,Je=Q,jt=new Le,nt=ve+Te,Ft=ve+ee;ve<nt;)Ge(ut[Je++],jt),Hf(jt,ge,ve,fe,Y,W),ve+=fe,W+=fe;ve<Ft&&(Ge(ut[Je++],jt),Hf(jt,ge,ve,je,Y,W),ve+=je,W+=je),++de&Ee||(Q+=Se)}break;case 3:if(ee==Y&&fe==W&&0<Q.b){for(ve=Y,ee=ge=W+(xe-de)*ge-(Te=(xe-de)*be(Q.Ea,Q.b)),fe=Y,Ee=W,Se=[],Te=(je=Te)-1;0<=Te;--Te)Se[Te]=fe[Ee+Te];for(Te=je-1;0<=Te;--Te)ve[ee+Te]=Se[Te];Um(Q,de,xe,Y,ge,Y,W)}else Um(Q,de,xe,ee,fe,Y,W)}W=j,Y=T}Y!=T&&r(j,T,W,Y,V)}function Ss(m,b){var T=m.V,j=m.Ba+m.c*m.C,F=b-m.C;if(e(b<=m.l.o),e(16>=F),0<F){var V=m.l,z=m.Ta,W=m.Ua,Y=V.width;if(jl(m,F,T,j),F=W=[W],e((T=m.C)<(j=b)),e(V.v<V.va),j>V.o&&(j=V.o),T<V.j){var Q=V.j-T;T=V.j,F[0]+=Q*Y}if(T>=j?T=0:(F[0]+=4*V.v,V.ka=T-V.j,V.U=V.va-V.v,V.T=j-T,T=1),T){if(W=W[0],11>(T=m.ca).S){var de=T.f.RGBA,xe=(j=T.S,F=V.U,V=V.T,Q=de.eb,de.A),ee=V;for(de=de.fb+m.Ma*de.A;0<ee--;){var fe=z,ge=W,Se=F,ve=Q,Ee=de;switch(j){case Vm:Gf(fe,ge,Se,ve,Ee);break;case zm:ks(fe,ge,Se,ve,Ee);break;case V1:ks(fe,ge,Se,ve,Ee),Kf(ve,Ee,0,Se,1,0);break;case bA:Ql(fe,ge,Se,ve,Ee);break;case Hm:ht(fe,ge,Se,ve,Ee,1);break;case z1:ht(fe,ge,Se,ve,Ee,1),Kf(ve,Ee,0,Se,1,0);break;case Gm:ht(fe,ge,Se,ve,Ee,0);break;case Wm:ht(fe,ge,Se,ve,Ee,0),Kf(ve,Ee,1,Se,1,0);break;case q1:Is(fe,ge,Se,ve,Ee);break;case H1:Is(fe,ge,Se,ve,Ee),fA(ve,Ee,Se,1,0);break;case wA:Os(fe,ge,Se,ve,Ee);break;default:e(0)}W+=Y,de+=xe}m.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=T.height)}}m.C=b,e(m.C<=m.i)}function Ea(m){var b;if(0<m.ua)return 0;for(b=0;b<m.Wb;++b){var T=m.Ya[b].G,j=m.Ya[b].H;if(0<T[1][j[1]+0].g||0<T[2][j[2]+0].g||0<T[3][j[3]+0].g)return 0}return 1}function eo(m,b,T,j,F,V){if(m.Z!=0){var z=m.qd,W=m.rd;for(e(Ls[m.Z]!=null);b<T;++b)Ls[m.Z](z,W,j,F,j,F,V),z=j,W=F,F+=V;m.qd=z,m.rd=W}}function Na(m,b){var T=m.l.ma,j=T.Z==0||T.Z==1?m.l.j:m.C;if(j=m.C<j?j:m.C,e(b<=m.l.o),b>j){var F=m.l.width,V=T.ca,z=T.tb+F*j,W=m.V,Y=m.Ba+m.c*j,Q=m.gc;e(m.ab==1),e(Q[0].hc==3),io(Q[0],j,b,W,Y,V,z),eo(T,j,b,V,z,F)}m.C=m.Ma=b}function Ta(m,b,T,j,F,V,z){var W=m.$/j,Y=m.$%j,Q=m.m,de=m.s,xe=T+m.$,ee=xe;F=T+j*F;var fe=T+j*V,ge=280+de.ua,Se=m.Pb?W:16777216,ve=0<de.ua?de.Wa:null,Ee=de.wc,Te=xe<fe?kr(de,Y,W):null;e(m.C<V),e(fe<=F);var je=!1;e:for(;;){for(;je||xe<fe;){var Ce=0;if(W>=Se){var ut=xe-T;e((Se=m).Pb),Se.wd=Se.m,Se.xd=ut,0<Se.s.ua&&Be(Se.s.Wa,Se.s.vb),Se=W+H8}if(Y&Ee||(Te=kr(de,Y,W)),e(Te!=null),Te.Qb&&(b[xe]=Te.qb,je=!0),!je)if(ce(Q),Te.jc){Ce=Q,ut=b;var Je=xe,jt=Te.pd[G(Ce)&Zl-1];e(Te.jc),256>jt.g?(re(Ce,Ce.u+jt.g),ut[Je]=jt.value,Ce=0):(re(Ce,Ce.u+jt.g-256),e(256<=jt.value),Ce=jt.value),Ce==0&&(je=!0)}else Ce=Dn(Te.G[0],Te.H[0],Q);if(Q.h)break;if(je||256>Ce){if(!je)if(Te.nd)b[xe]=(Te.qb|Ce<<8)>>>0;else{if(ce(Q),je=Dn(Te.G[1],Te.H[1],Q),ce(Q),ut=Dn(Te.G[2],Te.H[2],Q),Je=Dn(Te.G[3],Te.H[3],Q),Q.h)break;b[xe]=(Je<<24|je<<16|Ce<<8|ut)>>>0}if(je=!1,++xe,++Y>=j&&(Y=0,++W,z!=null&&W<=V&&!(W%16)&&z(m,W),ve!=null))for(;ee<xe;)Ce=b[ee++],ve.X[(506832829*Ce&4294967295)>>>ve.Mb]=Ce}else if(280>Ce){if(Ce=Qi(Ce-256,Q),ut=Dn(Te.G[4],Te.H[4],Q),ce(Q),ut=ea(j,ut=Qi(ut,Q)),Q.h)break;if(xe-T<ut||F-xe<Ce)break e;for(Je=0;Je<Ce;++Je)b[xe+Je]=b[xe+Je-ut];for(xe+=Ce,Y+=Ce;Y>=j;)Y-=j,++W,z!=null&&W<=V&&!(W%16)&&z(m,W);if(e(xe<=F),Y&Ee&&(Te=kr(de,Y,W)),ve!=null)for(;ee<xe;)Ce=b[ee++],ve.X[(506832829*Ce&4294967295)>>>ve.Mb]=Ce}else{if(!(Ce<ge))break e;for(je=Ce-280,e(ve!=null);ee<xe;)Ce=b[ee++],ve.X[(506832829*Ce&4294967295)>>>ve.Mb]=Ce;Ce=xe,e(!(je>>>(ut=ve).Xa)),b[Ce]=ut.X[je],je=!0}je||e(Q.h==te(Q))}if(m.Pb&&Q.h&&xe<F)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Be(m.s.vb,m.s.Wa);else{if(Q.h)break e;z!=null&&z(m,W>V?V:W),m.a=0,m.$=xe-T}return 1}return m.a=3,0}function ta(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var b=m.Wa;b!=null&&(b.X=null),m.vb=null,e(m!=null)}function Rl(){var m=new st;return m==null?null:(m.a=0,m.xb=AA,gt("Predictor","VP8LPredictors"),gt("Predictor","VP8LPredictors_C"),gt("PredictorAdd","VP8LPredictorsAdd"),gt("PredictorAdd","VP8LPredictorsAdd_C"),Hn=Qe,Hf=et,Gf=Jt,ks=$t,Is=tt,Os=Nt,Ql=en,R.VP8LMapColor32b=ro,R.VP8LMapColor8b=Vf,m)}function to(m,b,T,j,F){var V=1,z=[m],W=[b],Y=j.m,Q=j.s,de=null,xe=0;e:for(;;){if(T)for(;V&&ie(Y,1);){var ee=z,fe=W,ge=j,Se=1,ve=ge.m,Ee=ge.gc[ge.ab],Te=ie(ve,2);if(ge.Oc&1<<Te)V=0;else{switch(ge.Oc|=1<<Te,Ee.hc=Te,Ee.Ea=ee[0],Ee.nc=fe[0],Ee.K=[null],++ge.ab,e(4>=ge.ab),Te){case 0:case 1:Ee.b=ie(ve,3)+2,Se=to(be(Ee.Ea,Ee.b),be(Ee.nc,Ee.b),0,ge,Ee.K),Ee.K=Ee.K[0];break;case 3:var je,Ce=ie(ve,8)+1,ut=16<Ce?0:4<Ce?1:2<Ce?2:3;if(ee[0]=be(Ee.Ea,ut),Ee.b=ut,je=Se=to(Ce,1,0,ge,Ee.K)){var Je,jt=Ce,nt=Ee,Ft=1<<(8>>nt.b),dr=a(Ft);if(dr==null)je=0;else{var Rt=nt.K[0],rt=nt.w;for(dr[0]=nt.K[0][0],Je=1;Je<1*jt;++Je)dr[Je]=Oe(Rt[rt+Je],dr[Je-1]);for(;Je<4*Ft;++Je)dr[Je]=0;nt.K[0]=null,nt.K[0]=dr,je=1}}Se=je;break;case 2:break;default:e(0)}V=Se}}if(z=z[0],W=W[0],V&&ie(Y,1)&&!(V=1<=(xe=ie(Y,4))&&11>=xe)){j.a=3;break e}var qe;if(qe=V)t:{var Wn,Ot,qt,_n=j,Or=z,Qr=W,Fn=xe,Br=T,ei=_n.m,fr=_n.s,Vt=[null],nn=1,Un=0,rn=z8[Fn];n:for(;;){if(Br&&ie(ei,1)){var jr=ie(ei,3)+2,ka=be(Or,jr),Kn=be(Qr,jr),fi=ka*Kn;if(!to(ka,Kn,0,_n,Vt))break n;for(Vt=Vt[0],fr.xc=jr,Wn=0;Wn<fi;++Wn){var dn=Vt[Wn]>>8&65535;Vt[Wn]=dn,dn>=nn&&(nn=dn+1)}}if(ei.h)break n;for(Ot=0;5>Ot;++Ot){var hr=_A[Ot];!Ot&&0<Fn&&(hr+=1<<Fn),Un<hr&&(Un=hr)}var Ti=o(nn*rn,D),ti=nn,Pi=o(ti,B);if(Pi==null)var Ci=null;else e(65536>=ti),Ci=Pi;var hi=a(Un);if(Ci==null||hi==null||Ti==null){_n.a=1;break n}var ki=Ti;for(Wn=qt=0;Wn<nn;++Wn){var gn=Ci[Wn],Ii=gn.G,Ia=gn.H,tu=0,Bo=1,Rr=0;for(Ot=0;5>Ot;++Ot){hr=_A[Ot],Ii[Ot]=ki,Ia[Ot]=qt,!Ot&&0<Fn&&(hr+=1<<Fn);i:{var Xm,J1=hr,Zm=_n,Xf=hi,d$=ki,f$=qt,Y1=0,Ms=Zm.m,h$=ie(Ms,1);if(i(Xf,0,0,J1),h$){var p$=ie(Ms,1)+1,m$=ie(Ms,1),OA=ie(Ms,m$==0?1:8);Xf[OA]=1,p$==2&&(Xf[OA=ie(Ms,8)]=1);var Qm=1}else{var jA=a(19),RA=ie(Ms,4)+4;if(19<RA){Zm.a=3;var eg=0;break i}for(Xm=0;Xm<RA;++Xm)jA[q8[Xm]]=ie(Ms,3);var X1=void 0,Zf=void 0,LA=Zm,g$=jA,tg=J1,MA=Xf,Z1=0,Ds=LA.m,DA=8,$A=o(128,D);r:for(;O($A,0,7,g$,19);){if(ie(Ds,1)){var y$=2+2*ie(Ds,3);if((X1=2+ie(Ds,y$))>tg)break r}else X1=tg;for(Zf=0;Zf<tg&&X1--;){ce(Ds);var FA=$A[0+(127&G(Ds))];re(Ds,Ds.u+FA.g);var yc=FA.value;if(16>yc)MA[Zf++]=yc,yc!=0&&(DA=yc);else{var v$=yc==16,UA=yc-16,x$=U8[UA],BA=ie(Ds,F8[UA])+x$;if(Zf+BA>tg)break r;for(var b$=v$?DA:0;0<BA--;)MA[Zf++]=b$}}Z1=1;break r}Z1||(LA.a=3),Qm=Z1}(Qm=Qm&&!Ms.h)&&(Y1=O(d$,f$,8,Xf,J1)),Qm&&Y1!=0?eg=Y1:(Zm.a=3,eg=0)}if(eg==0)break n;if(Bo&&B8[Ot]==1&&(Bo=ki[qt].g==0),tu+=ki[qt].g,qt+=eg,3>=Ot){var Qf,Q1=hi[0];for(Qf=1;Qf<hr;++Qf)hi[Qf]>Q1&&(Q1=hi[Qf]);Rr+=Q1}}if(gn.nd=Bo,gn.Qb=0,Bo&&(gn.qb=(Ii[3][Ia[3]+0].value<<24|Ii[1][Ia[1]+0].value<<16|Ii[2][Ia[2]+0].value)>>>0,tu==0&&256>Ii[0][Ia[0]+0].value&&(gn.Qb=1,gn.qb+=Ii[0][Ia[0]+0].value<<8)),gn.jc=!gn.Qb&&6>Rr,gn.jc){var ng,qo=gn;for(ng=0;ng<Zl;++ng){var $s=ng,Fs=qo.pd[$s],rg=qo.G[0][qo.H[0]+$s];256<=rg.value?(Fs.g=rg.g+256,Fs.value=rg.value):(Fs.g=0,Fs.value=0,$s>>=Sr(rg,8,Fs),$s>>=Sr(qo.G[1][qo.H[1]+$s],16,Fs),$s>>=Sr(qo.G[2][qo.H[2]+$s],0,Fs),Sr(qo.G[3][qo.H[3]+$s],24,Fs))}}}fr.vc=Vt,fr.Wb=nn,fr.Ya=Ci,fr.yc=Ti,qe=1;break t}qe=0}if(!(V=qe)){j.a=3;break e}if(0<xe){if(Q.ua=1<<xe,!Z(Q.Wa,xe)){j.a=1,V=0;break e}}else Q.ua=0;var ex=j,qA=z,w$=W,tx=ex.s,nx=tx.xc;if(ex.c=qA,ex.i=w$,tx.md=be(qA,nx),tx.wc=nx==0?-1:(1<<nx)-1,T){j.xb=Z8;break e}if((de=a(z*W))==null){j.a=1,V=0;break e}V=(V=Ta(j,de,0,z,W,W,null))&&!Y.h;break e}return V?(F!=null?F[0]=de:(e(de==null),e(T)),j.$=0,T||ta(Q)):ta(Q),V}function Ll(m,b){var T=m.c*m.i,j=T+b+16*b;return e(m.c<=b),m.V=a(j),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+T+b,1)}function ac(m,b){var T=m.C,j=b-T,F=m.V,V=m.Ba+m.c*T;for(e(b<=m.l.o);0<j;){var z=16<j?16:j,W=m.l.ma,Y=m.l.width,Q=Y*z,de=W.ca,xe=W.tb+Y*T,ee=m.Ta,fe=m.Ua;jl(m,z,F,V),pA(ee,fe,de,xe,Q),eo(W,T,T+z,de,xe,Y),j-=z,F+=z*m.c,T+=z}e(T==b),m.C=m.Ma=b}function oc(){this.ub=this.yd=this.td=this.Rb=0}function sc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function E1(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Nf(){this.Yb=function(){var m=[];return function b(T,j,F){for(var V=F[j],z=0;z<V&&(T.push(F.length>j+1?[]:0),!(F.length<j+1));z++)b(T[z],j+1,F)}(m,0,[3,11]),m}()}function Sm(){this.jb=a(3),this.Wc=s([4,8],Nf),this.Xc=s([4,17],Nf)}function Am(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function na(){this.ld=this.La=this.dd=this.tc=0}function Tf(){this.Na=this.la=0}function Em(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pf(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Nm(){this.uc=this.M=this.Nb=0,this.wa=Array(new na),this.Y=0,this.ya=Array(new Pf),this.aa=0,this.l=new lc}function Tm(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Pm(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new oc,this.Kc=new sc,this.ed=new Am,this.Qa=new E1,this.Ic=this.$c=this.Aa=0,this.D=new Nm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,k),this.ia=0,this.pb=o(4,Em),this.Pa=new Sm,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Tm),this.Hd=0,this.rb=Array(new Tf),this.sb=0,this.wa=Array(new na),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pf),this.L=this.aa=0,this.gd=s([4,2],na),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function lc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function N1(){var m=new Pm;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Jf||(Jf=Oo)),m}function er(m,b,T){return m.a==0&&(m.a=b,m.sc=T,m.cb=0),0}function Cm(m,b,T){return 3<=T&&m[b+0]==157&&m[b+1]==1&&m[b+2]==42}function km(m,b){if(m==null)return 0;if(m.a=0,m.sc="OK",b==null)return er(m,2,"null VP8Io passed to VP8GetHeaders()");var T=b.data,j=b.w,F=b.ha;if(4>F)return er(m,7,"Truncated header.");var V=T[j+0]|T[j+1]<<8|T[j+2]<<16,z=m.Od;if(z.Rb=!(1&V),z.td=V>>1&7,z.yd=V>>4&1,z.ub=V>>5,3<z.td)return er(m,3,"Incorrect keyframe parameters.");if(!z.yd)return er(m,4,"Frame not displayable.");j+=3,F-=3;var W=m.Kc;if(z.Rb){if(7>F)return er(m,7,"cannot parse picture header");if(!Cm(T,j,F))return er(m,3,"Bad code word");W.c=16383&(T[j+4]<<8|T[j+3]),W.Td=T[j+4]>>6,W.i=16383&(T[j+6]<<8|T[j+5]),W.Ud=T[j+6]>>6,j+=7,F-=7,m.za=W.c+15>>4,m.Ub=W.i+15>>4,b.width=W.c,b.height=W.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,i((V=m.Pa).jb,0,255,V.jb.length),e((V=m.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,i(V.Zb,0,0,V.Zb.length),i(V.Lb,0,0,V.Lb)}if(z.ub>F)return er(m,7,"bad partition length");J(V=m.m,T,j,z.ub),j+=z.ub,F-=z.ub,z.Rb&&(W.Ld=se(V),W.Kd=se(V)),W=m.Qa;var Y,Q=m.Pa;if(e(V!=null),e(W!=null),W.Cb=se(V),W.Cb){if(W.Bb=se(V),se(V)){for(W.Fb=se(V),Y=0;4>Y;++Y)W.Zb[Y]=se(V)?M(V,7):0;for(Y=0;4>Y;++Y)W.Lb[Y]=se(V)?M(V,6):0}if(W.Bb)for(Y=0;3>Y;++Y)Q.jb[Y]=se(V)?H(V,8):255}else W.Bb=0;if(V.Ka)return er(m,3,"cannot parse segment header");if((W=m.ed).zd=se(V),W.Tb=H(V,6),W.wb=H(V,3),W.Pc=se(V),W.Pc&&se(V)){for(Q=0;4>Q;++Q)se(V)&&(W.vd[Q]=M(V,6));for(Q=0;4>Q;++Q)se(V)&&(W.od[Q]=M(V,6))}if(m.L=W.Tb==0?0:W.zd?1:2,V.Ka)return er(m,3,"cannot parse filter header");var de=F;if(F=Y=j,j=Y+de,W=de,m.Xb=(1<<H(m.m,2))-1,de<3*(Q=m.Xb))T=7;else{for(Y+=3*Q,W-=3*Q,de=0;de<Q;++de){var xe=T[F+0]|T[F+1]<<8|T[F+2]<<16;xe>W&&(xe=W),J(m.Jc[+de],T,Y,xe),Y+=xe,W-=xe,F+=3}J(m.Jc[+Q],T,Y,W),T=Y<j?0:5}if(T!=0)return er(m,T,"cannot parse partitions");for(T=H(Y=m.m,7),F=se(Y)?M(Y,4):0,j=se(Y)?M(Y,4):0,W=se(Y)?M(Y,4):0,Q=se(Y)?M(Y,4):0,Y=se(Y)?M(Y,4):0,de=m.Qa,xe=0;4>xe;++xe){if(de.Cb){var ee=de.Zb[xe];de.Fb||(ee+=T)}else{if(0<xe){m.pb[xe]=m.pb[0];continue}ee=T}var fe=m.pb[xe];fe.Sc[0]=G1[$n(ee+F,127)],fe.Sc[1]=W1[$n(ee+0,127)],fe.Eb[0]=2*G1[$n(ee+j,127)],fe.Eb[1]=101581*W1[$n(ee+W,127)]>>16,8>fe.Eb[1]&&(fe.Eb[1]=8),fe.Qc[0]=G1[$n(ee+Q,117)],fe.Qc[1]=W1[$n(ee+Y,127)],fe.lc=ee+Y}if(!z.Rb)return er(m,4,"Not a key frame.");for(se(V),z=m.Pa,T=0;4>T;++T){for(F=0;8>F;++F)for(j=0;3>j;++j)for(W=0;11>W;++W)Q=me(V,Y8[T][F][j][W])?H(V,8):K8[T][F][j][W],z.Wc[T][F].Yb[j][W]=Q;for(F=0;17>F;++F)z.Xc[T][F]=z.Wc[T][X8[F]]}return m.kc=se(V),m.kc&&(m.Bd=H(V,8)),m.cb=1}function Oo(m,b,T,j,F,V,z){var W=b[F].Yb[T];for(T=0;16>F;++F){if(!me(m,W[T+0]))return F;for(;!me(m,W[T+1]);)if(W=b[++F].Yb[0],T=0,F==16)return 16;var Y=b[F+1].Yb;if(me(m,W[T+2])){var Q=m,de=0;if(me(Q,(ee=W)[(xe=T)+3]))if(me(Q,ee[xe+6])){for(W=0,xe=2*(de=me(Q,ee[xe+8]))+(ee=me(Q,ee[xe+9+de])),de=0,ee=G8[xe];ee[W];++W)de+=de+me(Q,ee[W]);de+=3+(8<<xe)}else me(Q,ee[xe+7])?(de=7+2*me(Q,165),de+=me(Q,145)):de=5+me(Q,159);else de=me(Q,ee[xe+4])?3+me(Q,ee[xe+5]):2;W=Y[2]}else de=1,W=Y[1];Y=z+W8[F],0>(Q=m).b&&ye(Q);var xe,ee=Q.b,fe=(xe=Q.Ca>>1)-(Q.I>>ee)>>31;--Q.b,Q.Ca+=fe,Q.Ca|=1,Q.I-=(xe+1&fe)<<ee,V[Y]=((de^fe)-fe)*j[(0<F)+0]}return 16}function Ml(m){var b=m.rb[m.sb-1];b.la=0,b.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function Pa(m,b,T,j,F){F=m[b+T+32*j]+(F>>3),m[b+T+32*j]=-256&F?0>F?0:255:F}function Dl(m,b,T,j,F,V){Pa(m,b,0,T,j+F),Pa(m,b,1,T,j+V),Pa(m,b,2,T,j-V),Pa(m,b,3,T,j-F)}function zn(m){return(20091*m>>16)+m}function Cf(m,b,T,j){var F,V=0,z=a(16);for(F=0;4>F;++F){var W=m[b+0]+m[b+8],Y=m[b+0]-m[b+8],Q=(35468*m[b+4]>>16)-zn(m[b+12]),de=zn(m[b+4])+(35468*m[b+12]>>16);z[V+0]=W+de,z[V+1]=Y+Q,z[V+2]=Y-Q,z[V+3]=W-de,V+=4,b++}for(F=V=0;4>F;++F)W=(m=z[V+0]+4)+z[V+8],Y=m-z[V+8],Q=(35468*z[V+4]>>16)-zn(z[V+12]),Pa(T,j,0,0,W+(de=zn(z[V+4])+(35468*z[V+12]>>16))),Pa(T,j,1,0,Y+Q),Pa(T,j,2,0,Y-Q),Pa(T,j,3,0,W-de),V++,j+=32}function T1(m,b,T,j){var F=m[b+0]+4,V=35468*m[b+4]>>16,z=zn(m[b+4]),W=35468*m[b+1]>>16;Dl(T,j,0,F+z,m=zn(m[b+1]),W),Dl(T,j,1,F+V,m,W),Dl(T,j,2,F-V,m,W),Dl(T,j,3,F-z,m,W)}function P1(m,b,T,j,F){Cf(m,b,T,j),F&&Cf(m,b+16,T,j+4)}function C1(m,b,T,j){eu(m,b+0,T,j,1),eu(m,b+32,T,j+128,1)}function no(m,b,T,j){var F;for(m=m[b+0]+4,F=0;4>F;++F)for(b=0;4>b;++b)Pa(T,j,b,F,m)}function Im(m,b,T,j){m[b+0]&&Zt(m,b+0,T,j),m[b+16]&&Zt(m,b+16,T,j+4),m[b+32]&&Zt(m,b+32,T,j+128),m[b+48]&&Zt(m,b+48,T,j+128+4)}function Om(m,b,T,j){var F,V=a(16);for(F=0;4>F;++F){var z=m[b+0+F]+m[b+12+F],W=m[b+4+F]+m[b+8+F],Y=m[b+4+F]-m[b+8+F],Q=m[b+0+F]-m[b+12+F];V[0+F]=z+W,V[8+F]=z-W,V[4+F]=Q+Y,V[12+F]=Q-Y}for(F=0;4>F;++F)z=(m=V[0+4*F]+3)+V[3+4*F],W=V[1+4*F]+V[2+4*F],Y=V[1+4*F]-V[2+4*F],Q=m-V[3+4*F],T[j+0]=z+W>>3,T[j+16]=Q+Y>>3,T[j+32]=z-W>>3,T[j+48]=Q-Y>>3,j+=64}function As(m,b,T){var j,F=b-32,V=Ni,z=255-m[F-1];for(j=0;j<T;++j){var W,Y=V,Q=z+m[b-1];for(W=0;W<T;++W)m[b+W]=Y[Q+m[F+W]];b+=32}}function kf(m,b){As(m,b,4)}function k1(m,b){As(m,b,8)}function I1(m,b){As(m,b,16)}function O1(m,b){var T;for(T=0;16>T;++T)r(m,b+32*T,m,b-32,16)}function If(m,b){var T;for(T=16;0<T;--T)i(m,b,m[b-1],16),b+=32}function $l(m,b,T){var j;for(j=0;16>j;++j)i(b,T+32*j,m,16)}function Es(m,b){var T,j=16;for(T=0;16>T;++T)j+=m[b-1+32*T]+m[b+T-32];$l(j>>5,m,b)}function j1(m,b){var T,j=8;for(T=0;16>T;++T)j+=m[b-1+32*T];$l(j>>4,m,b)}function Fl(m,b){var T,j=8;for(T=0;16>T;++T)j+=m[b+T-32];$l(j>>4,m,b)}function Of(m,b){$l(128,m,b)}function Tt(m,b,T){return m+2*b+T+2>>2}function R1(m,b){var T,j=b-32;for(j=new Uint8Array([Tt(m[j-1],m[j+0],m[j+1]),Tt(m[j+0],m[j+1],m[j+2]),Tt(m[j+1],m[j+2],m[j+3]),Tt(m[j+2],m[j+3],m[j+4])]),T=0;4>T;++T)r(m,b+32*T,j,0,j.length)}function L1(m,b){var T=m[b-1],j=m[b-1+32],F=m[b-1+64],V=m[b-1+96];we(m,b+0,16843009*Tt(m[b-1-32],T,j)),we(m,b+32,16843009*Tt(T,j,F)),we(m,b+64,16843009*Tt(j,F,V)),we(m,b+96,16843009*Tt(F,V,V))}function M1(m,b){var T,j=4;for(T=0;4>T;++T)j+=m[b+T-32]+m[b-1+32*T];for(j>>=3,T=0;4>T;++T)i(m,b+32*T,j,4)}function D1(m,b){var T=m[b-1+0],j=m[b-1+32],F=m[b-1+64],V=m[b-1-32],z=m[b+0-32],W=m[b+1-32],Y=m[b+2-32],Q=m[b+3-32];m[b+0+96]=Tt(j,F,m[b-1+96]),m[b+1+96]=m[b+0+64]=Tt(T,j,F),m[b+2+96]=m[b+1+64]=m[b+0+32]=Tt(V,T,j),m[b+3+96]=m[b+2+64]=m[b+1+32]=m[b+0+0]=Tt(z,V,T),m[b+3+64]=m[b+2+32]=m[b+1+0]=Tt(W,z,V),m[b+3+32]=m[b+2+0]=Tt(Y,W,z),m[b+3+0]=Tt(Q,Y,W)}function jo(m,b){var T=m[b+1-32],j=m[b+2-32],F=m[b+3-32],V=m[b+4-32],z=m[b+5-32],W=m[b+6-32],Y=m[b+7-32];m[b+0+0]=Tt(m[b+0-32],T,j),m[b+1+0]=m[b+0+32]=Tt(T,j,F),m[b+2+0]=m[b+1+32]=m[b+0+64]=Tt(j,F,V),m[b+3+0]=m[b+2+32]=m[b+1+64]=m[b+0+96]=Tt(F,V,z),m[b+3+32]=m[b+2+64]=m[b+1+96]=Tt(V,z,W),m[b+3+64]=m[b+2+96]=Tt(z,W,Y),m[b+3+96]=Tt(W,Y,Y)}function Ro(m,b){var T=m[b-1+0],j=m[b-1+32],F=m[b-1+64],V=m[b-1-32],z=m[b+0-32],W=m[b+1-32],Y=m[b+2-32],Q=m[b+3-32];m[b+0+0]=m[b+1+64]=V+z+1>>1,m[b+1+0]=m[b+2+64]=z+W+1>>1,m[b+2+0]=m[b+3+64]=W+Y+1>>1,m[b+3+0]=Y+Q+1>>1,m[b+0+96]=Tt(F,j,T),m[b+0+64]=Tt(j,T,V),m[b+0+32]=m[b+1+96]=Tt(T,V,z),m[b+1+32]=m[b+2+96]=Tt(V,z,W),m[b+2+32]=m[b+3+96]=Tt(z,W,Y),m[b+3+32]=Tt(W,Y,Q)}function $1(m,b){var T=m[b+0-32],j=m[b+1-32],F=m[b+2-32],V=m[b+3-32],z=m[b+4-32],W=m[b+5-32],Y=m[b+6-32],Q=m[b+7-32];m[b+0+0]=T+j+1>>1,m[b+1+0]=m[b+0+64]=j+F+1>>1,m[b+2+0]=m[b+1+64]=F+V+1>>1,m[b+3+0]=m[b+2+64]=V+z+1>>1,m[b+0+32]=Tt(T,j,F),m[b+1+32]=m[b+0+96]=Tt(j,F,V),m[b+2+32]=m[b+1+96]=Tt(F,V,z),m[b+3+32]=m[b+2+96]=Tt(V,z,W),m[b+3+64]=Tt(z,W,Y),m[b+3+96]=Tt(W,Y,Q)}function F1(m,b){var T=m[b-1+0],j=m[b-1+32],F=m[b-1+64],V=m[b-1+96];m[b+0+0]=T+j+1>>1,m[b+2+0]=m[b+0+32]=j+F+1>>1,m[b+2+32]=m[b+0+64]=F+V+1>>1,m[b+1+0]=Tt(T,j,F),m[b+3+0]=m[b+1+32]=Tt(j,F,V),m[b+3+32]=m[b+1+64]=Tt(F,V,V),m[b+3+64]=m[b+2+64]=m[b+0+96]=m[b+1+96]=m[b+2+96]=m[b+3+96]=V}function uc(m,b){var T=m[b-1+0],j=m[b-1+32],F=m[b-1+64],V=m[b-1+96],z=m[b-1-32],W=m[b+0-32],Y=m[b+1-32],Q=m[b+2-32];m[b+0+0]=m[b+2+32]=T+z+1>>1,m[b+0+32]=m[b+2+64]=j+T+1>>1,m[b+0+64]=m[b+2+96]=F+j+1>>1,m[b+0+96]=V+F+1>>1,m[b+3+0]=Tt(W,Y,Q),m[b+2+0]=Tt(z,W,Y),m[b+1+0]=m[b+3+32]=Tt(T,z,W),m[b+1+32]=m[b+3+64]=Tt(j,T,z),m[b+1+64]=m[b+3+96]=Tt(F,j,T),m[b+1+96]=Tt(V,F,j)}function jf(m,b){var T;for(T=0;8>T;++T)r(m,b+32*T,m,b-32,8)}function Ul(m,b){var T;for(T=0;8>T;++T)i(m,b,m[b-1],8),b+=32}function cc(m,b,T){var j;for(j=0;8>j;++j)i(b,T+32*j,m,8)}function dc(m,b){var T,j=8;for(T=0;8>T;++T)j+=m[b+T-32]+m[b-1+32*T];cc(j>>4,m,b)}function U1(m,b){var T,j=4;for(T=0;8>T;++T)j+=m[b+T-32];cc(j>>3,m,b)}function Rf(m,b){var T,j=4;for(T=0;8>T;++T)j+=m[b-1+32*T];cc(j>>3,m,b)}function Lf(m,b){cc(128,m,b)}function Bl(m,b,T){var j=m[b-T],F=m[b+0],V=3*(F-j)+B1[1020+m[b-2*T]-m[b+T]],z=qm[112+(V+4>>3)];m[b-T]=Ni[255+j+qm[112+(V+3>>3)]],m[b+0]=Ni[255+F-z]}function ql(m,b,T,j){var F=m[b+0],V=m[b+T];return oa[255+m[b-2*T]-m[b-T]]>j||oa[255+V-F]>j}function Mf(m,b,T,j){return 4*oa[255+m[b-T]-m[b+0]]+oa[255+m[b-2*T]-m[b+T]]<=j}function fc(m,b,T,j,F){var V=m[b-3*T],z=m[b-2*T],W=m[b-T],Y=m[b+0],Q=m[b+T],de=m[b+2*T],xe=m[b+3*T];return 4*oa[255+W-Y]+oa[255+z-Q]>j?0:oa[255+m[b-4*T]-V]<=F&&oa[255+V-z]<=F&&oa[255+z-W]<=F&&oa[255+xe-de]<=F&&oa[255+de-Q]<=F&&oa[255+Q-Y]<=F}function Df(m,b,T,j){var F=2*j+1;for(j=0;16>j;++j)Mf(m,b+j,T,F)&&Bl(m,b+j,T)}function Vl(m,b,T,j){var F=2*j+1;for(j=0;16>j;++j)Mf(m,b+j*T,1,F)&&Bl(m,b+j*T,1)}function jm(m,b,T,j){var F;for(F=3;0<F;--F)Df(m,b+=4*T,T,j)}function Rm(m,b,T,j){var F;for(F=3;0<F;--F)Vl(m,b+=4,T,j)}function Lo(m,b,T,j,F,V,z,W){for(V=2*V+1;0<F--;){if(fc(m,b,T,V,z))if(ql(m,b,T,W))Bl(m,b,T);else{var Y=m,Q=b,de=T,xe=Y[Q-2*de],ee=Y[Q-de],fe=Y[Q+0],ge=Y[Q+de],Se=Y[Q+2*de],ve=27*(Te=B1[1020+3*(fe-ee)+B1[1020+xe-ge]])+63>>7,Ee=18*Te+63>>7,Te=9*Te+63>>7;Y[Q-3*de]=Ni[255+Y[Q-3*de]+Te],Y[Q-2*de]=Ni[255+xe+Ee],Y[Q-de]=Ni[255+ee+ve],Y[Q+0]=Ni[255+fe-ve],Y[Q+de]=Ni[255+ge-Ee],Y[Q+2*de]=Ni[255+Se-Te]}b+=j}}function Mo(m,b,T,j,F,V,z,W){for(V=2*V+1;0<F--;){if(fc(m,b,T,V,z))if(ql(m,b,T,W))Bl(m,b,T);else{var Y=m,Q=b,de=T,xe=Y[Q-de],ee=Y[Q+0],fe=Y[Q+de],ge=qm[112+(4+(Se=3*(ee-xe))>>3)],Se=qm[112+(Se+3>>3)],ve=ge+1>>1;Y[Q-2*de]=Ni[255+Y[Q-2*de]+ve],Y[Q-de]=Ni[255+xe+Se],Y[Q+0]=Ni[255+ee-ge],Y[Q+de]=Ni[255+fe-ve]}b+=j}}function Lm(m,b,T,j,F,V){Lo(m,b,T,1,16,j,F,V)}function Mm(m,b,T,j,F,V){Lo(m,b,1,T,16,j,F,V)}function zl(m,b,T,j,F,V){var z;for(z=3;0<z;--z)Mo(m,b+=4*T,T,1,16,j,F,V)}function Dm(m,b,T,j,F,V){var z;for(z=3;0<z;--z)Mo(m,b+=4,1,T,16,j,F,V)}function E(m,b,T,j,F,V,z,W){Lo(m,b,F,1,8,V,z,W),Lo(T,j,F,1,8,V,z,W)}function $(m,b,T,j,F,V,z,W){Lo(m,b,1,F,8,V,z,W),Lo(T,j,1,F,8,V,z,W)}function ne(m,b,T,j,F,V,z,W){Mo(m,b+4*F,F,1,8,V,z,W),Mo(T,j+4*F,F,1,8,V,z,W)}function ue(m,b,T,j,F,V,z,W){Mo(m,b+4,1,F,8,V,z,W),Mo(T,j+4,1,F,8,V,z,W)}function pe(){this.ba=new tn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Bt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ne(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ke(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ze(){this.ua=0,this.Wa=new Ue,this.vb=new Ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new B,this.yc=new D}function st(){this.xb=this.a=0,this.l=new lc,this.ca=new tn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ze,this.ab=0,this.gc=o(4,ke),this.Oc=0}function At(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new lc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ct(m,b,T,j,F,V,z){for(m=m==null?0:m[b+0],b=0;b<z;++b)F[V+b]=m+T[j+b]&255,m=F[V+b]}function Yt(m,b,T,j,F,V,z){var W;if(m==null)Ct(null,null,T,j,F,V,z);else for(W=0;W<z;++W)F[V+W]=m[b+W]+T[j+W]&255}function On(m,b,T,j,F,V,z){if(m==null)Ct(null,null,T,j,F,V,z);else{var W,Y=m[b+0],Q=Y,de=Y;for(W=0;W<z;++W)Q=de+(Y=m[b+W])-Q,de=T[j+W]+(-256&Q?0>Q?0:255:Q)&255,Q=Y,F[V+W]=de}}function tr(m,b,T,j){var F=b.width,V=b.o;if(e(m!=null&&b!=null),0>T||0>=j||T+j>V)return null;if(!m.Cc){if(m.ga==null){var z;if(m.ga=new At,(z=m.ga==null)||(z=b.width*b.o,e(m.Gb.length==0),m.Gb=a(z),m.Uc=0,m.Gb==null?z=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,z=1),z=!z),!z){z=m.ga;var W=m.Fa,Y=m.P,Q=m.qc,de=m.mb,xe=m.nb,ee=Y+1,fe=Q-1,ge=z.l;if(e(W!=null&&de!=null&&b!=null),Ls[0]=null,Ls[1]=Ct,Ls[2]=Yt,Ls[3]=On,z.ca=de,z.tb=xe,z.c=b.width,z.i=b.height,e(0<z.c&&0<z.i),1>=Q)b=0;else if(z.$a=3&W[Y+0],z.Z=W[Y+0]>>2&3,z.Lc=W[Y+0]>>4&3,Y=W[Y+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||Y)b=0;else if(ge.put=yt,ge.ac=Zi,ge.bc=ko,ge.ma=z,ge.width=b.width,ge.height=b.height,ge.Da=b.Da,ge.v=b.v,ge.va=b.va,ge.j=b.j,ge.o=b.o,z.$a)e:{e(z.$a==1),b=Rl();t:for(;;){if(b==null){b=0;break e}if(e(z!=null),z.mc=b,b.c=z.c,b.i=z.i,b.l=z.l,b.l.ma=z,b.l.width=z.c,b.l.height=z.i,b.a=0,X(b.m,W,ee,fe),!to(z.c,z.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Ea(b.s)?(z.ic=1,W=b.c*b.i,b.Ta=null,b.Ua=0,b.V=a(W),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(z.ic=0,b=Ll(b,z.c)),!b))break t;b=1;break e}z.mc=null,b=0}else b=fe>=z.c*z.i;z=!b}if(z)return null;m.ga.Lc!=1?m.Ga=0:j=V-T}e(m.ga!=null),e(T+j<=V);e:{if(b=(W=m.ga).c,V=W.l.o,W.$a==0){if(ee=m.rc,fe=m.Vc,ge=m.Fa,Y=m.P+1+T*b,Q=m.mb,de=m.nb+T*b,e(Y<=m.P+m.qc),W.Z!=0)for(e(Ls[W.Z]!=null),z=0;z<j;++z)Ls[W.Z](ee,fe,ge,Y,Q,de,b),ee=Q,fe=de,de+=b,Y+=b;else for(z=0;z<j;++z)r(Q,de,ge,Y,b),ee=Q,fe=de,de+=b,Y+=b;m.rc=ee,m.Vc=fe}else{if(e(W.mc!=null),b=T+j,e((z=W.mc)!=null),e(b<=z.i),z.C>=b)b=1;else if(W.ic||ra(),W.ic){W=z.V,ee=z.Ba,fe=z.c;var Se=z.i,ve=(ge=1,Y=z.$/fe,Q=z.$%fe,de=z.m,xe=z.s,z.$),Ee=fe*Se,Te=fe*b,je=xe.wc,Ce=ve<Te?kr(xe,Q,Y):null;e(ve<=Ee),e(b<=Se),e(Ea(xe));t:for(;;){for(;!de.h&&ve<Te;){if(Q&je||(Ce=kr(xe,Q,Y)),e(Ce!=null),ce(de),256>(Se=Dn(Ce.G[0],Ce.H[0],de)))W[ee+ve]=Se,++ve,++Q>=fe&&(Q=0,++Y<=b&&!(Y%16)&&Na(z,Y));else{if(!(280>Se)){ge=0;break t}Se=Qi(Se-256,de);var ut,Je=Dn(Ce.G[4],Ce.H[4],de);if(ce(de),!(ve>=(Je=ea(fe,Je=Qi(Je,de)))&&Ee-ve>=Se)){ge=0;break t}for(ut=0;ut<Se;++ut)W[ee+ve+ut]=W[ee+ve+ut-Je];for(ve+=Se,Q+=Se;Q>=fe;)Q-=fe,++Y<=b&&!(Y%16)&&Na(z,Y);ve<Te&&Q&je&&(Ce=kr(xe,Q,Y))}e(de.h==te(de))}Na(z,Y>b?b:Y);break t}!ge||de.h&&ve<Ee?(ge=0,z.a=de.h?5:3):z.$=ve,b=ge}else b=Ta(z,z.V,z.Ba,z.c,z.i,b,ac);if(!b){j=0;break e}}T+j>=V&&(m.Cc=1),j=1}if(!j)return null;if(m.Cc&&((j=m.ga)!=null&&(j.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+T*F}function mn(m,b,T,j,F,V){for(;0<F--;){var z,W=m,Y=b+(T?1:0),Q=m,de=b+(T?0:3);for(z=0;z<j;++z){var xe=Q[de+4*z];xe!=255&&(xe*=32897,W[Y+4*z+0]=W[Y+4*z+0]*xe>>23,W[Y+4*z+1]=W[Y+4*z+1]*xe>>23,W[Y+4*z+2]=W[Y+4*z+2]*xe>>23)}b+=V}}function ur(m,b,T,j,F){for(;0<j--;){var V;for(V=0;V<T;++V){var z=m[b+2*V+0],W=15&(Q=m[b+2*V+1]),Y=4369*W,Q=(240&Q|Q>>4)*Y>>16;m[b+2*V+0]=(240&z|z>>4)*Y>>16&240|(15&z|z<<4)*Y>>16>>4&15,m[b+2*V+1]=240&Q|W}b+=F}}function nr(m,b,T,j,F,V,z,W){var Y,Q,de=255;for(Q=0;Q<F;++Q){for(Y=0;Y<j;++Y){var xe=m[b+Y];V[z+4*Y]=xe,de&=xe}b+=T,z+=W}return de!=255}function Ir(m,b,T,j,F){var V;for(V=0;V<F;++V)T[j+V]=m[b+V]>>8}function ra(){Kf=mn,fA=ur,hA=nr,pA=Ir}function di(m,b,T){R[m]=function(j,F,V,z,W,Y,Q,de,xe,ee,fe,ge,Se,ve,Ee,Te,je){var Ce,ut=je-1>>1,Je=W[Y+0]|Q[de+0]<<16,jt=xe[ee+0]|fe[ge+0]<<16;e(j!=null);var nt=3*Je+jt+131074>>2;for(b(j[F+0],255&nt,nt>>16,Se,ve),V!=null&&(nt=3*jt+Je+131074>>2,b(V[z+0],255&nt,nt>>16,Ee,Te)),Ce=1;Ce<=ut;++Ce){var Ft=W[Y+Ce]|Q[de+Ce]<<16,dr=xe[ee+Ce]|fe[ge+Ce]<<16,Rt=Je+Ft+jt+dr+524296,rt=Rt+2*(Ft+jt)>>3;nt=rt+Je>>1,Je=(Rt=Rt+2*(Je+dr)>>3)+Ft>>1,b(j[F+2*Ce-1],255&nt,nt>>16,Se,ve+(2*Ce-1)*T),b(j[F+2*Ce-0],255&Je,Je>>16,Se,ve+(2*Ce-0)*T),V!=null&&(nt=Rt+jt>>1,Je=rt+dr>>1,b(V[z+2*Ce-1],255&nt,nt>>16,Ee,Te+(2*Ce-1)*T),b(V[z+2*Ce+0],255&Je,Je>>16,Ee,Te+(2*Ce+0)*T)),Je=Ft,jt=dr}1&je||(nt=3*Je+jt+131074>>2,b(j[F+je-1],255&nt,nt>>16,Se,ve+(je-1)*T),V!=null&&(nt=3*jt+Je+131074>>2,b(V[z+je-1],255&nt,nt>>16,Ee,Te+(je-1)*T)))}}function $m(){sa[Vm]=Q8,sa[zm]=EA,sa[bA]=e$,sa[Hm]=NA,sa[Gm]=TA,sa[q1]=PA,sa[wA]=t$,sa[V1]=EA,sa[z1]=NA,sa[Wm]=TA,sa[H1]=PA}function hc(m){return m&-16384?0>m?0:255:m>>n$}function Hl(m,b){return hc((19077*m>>8)+(26149*b>>8)-14234)}function Ns(m,b,T){return hc((19077*m>>8)-(6419*b>>8)-(13320*T>>8)+8708)}function Gl(m,b){return hc((19077*m>>8)+(33050*b>>8)-17685)}function Wl(m,b,T,j,F){j[F+0]=Hl(m,T),j[F+1]=Ns(m,b,T),j[F+2]=Gl(m,b)}function Kl(m,b,T,j,F){j[F+0]=Gl(m,b),j[F+1]=Ns(m,b,T),j[F+2]=Hl(m,T)}function Ur(m,b,T,j,F){var V=Ns(m,b,T);b=V<<3&224|Gl(m,b)>>3,j[F+0]=248&Hl(m,T)|V>>5,j[F+1]=b}function Jl(m,b,T,j,F){var V=240&Gl(m,b)|15;j[F+0]=240&Hl(m,T)|Ns(m,b,T)>>4,j[F+1]=V}function Yl(m,b,T,j,F){j[F+0]=255,Wl(m,b,T,j,F+1)}function $f(m,b,T,j,F){Kl(m,b,T,j,F),j[F+3]=255}function Ff(m,b,T,j,F){Wl(m,b,T,j,F),j[F+3]=255}function $n(m,b){return 0>m?0:m>b?b:m}function Do(m,b,T){R[m]=function(j,F,V,z,W,Y,Q,de,xe){for(var ee=de+(-2&xe)*T;de!=ee;)b(j[F+0],V[z+0],W[Y+0],Q,de),b(j[F+1],V[z+0],W[Y+0],Q,de+T),F+=2,++z,++Y,de+=2*T;1&xe&&b(j[F+0],V[z+0],W[Y+0],Q,de)}}function pc(m,b,T){return T==0?m==0?b==0?6:5:b==0?4:0:T}function Fm(m,b,T,j,F){switch(m>>>30){case 3:eu(b,T,j,F,0);break;case 2:aa(b,T,j,F);break;case 1:Zt(b,T,j,F)}}function ia(m,b){var T,j,F=b.M,V=b.Nb,z=m.oc,W=m.pc+40,Y=m.oc,Q=m.pc+584,de=m.oc,xe=m.pc+600;for(T=0;16>T;++T)z[W+32*T-1]=129;for(T=0;8>T;++T)Y[Q+32*T-1]=129,de[xe+32*T-1]=129;for(0<F?z[W-1-32]=Y[Q-1-32]=de[xe-1-32]=129:(i(z,W-32-1,127,21),i(Y,Q-32-1,127,9),i(de,xe-32-1,127,9)),j=0;j<m.za;++j){var ee=b.ya[b.aa+j];if(0<j){for(T=-1;16>T;++T)r(z,W+32*T-4,z,W+32*T+12,4);for(T=-1;8>T;++T)r(Y,Q+32*T-4,Y,Q+32*T+4,4),r(de,xe+32*T-4,de,xe+32*T+4,4)}var fe=m.Gd,ge=m.Hd+j,Se=ee.ad,ve=ee.Hc;if(0<F&&(r(z,W-32,fe[ge].y,0,16),r(Y,Q-32,fe[ge].f,0,8),r(de,xe-32,fe[ge].ea,0,8)),ee.Za){var Ee=z,Te=W-32+16;for(0<F&&(j>=m.za-1?i(Ee,Te,fe[ge].y[15],4):r(Ee,Te,fe[ge+1].y,0,4)),T=0;4>T;T++)Ee[Te+128+T]=Ee[Te+256+T]=Ee[Te+384+T]=Ee[Te+0+T];for(T=0;16>T;++T,ve<<=2)Ee=z,Te=W+kA[T],Ca[ee.Ob[T]](Ee,Te),Fm(ve,Se,16*+T,Ee,Te)}else if(Ee=pc(j,F,ee.Ob[0]),Rs[Ee](z,W),ve!=0)for(T=0;16>T;++T,ve<<=2)Fm(ve,Se,16*+T,z,W+kA[T]);for(T=ee.Gc,Ee=pc(j,F,ee.Dd),Uo[Ee](Y,Q),Uo[Ee](de,xe),ve=Se,Ee=Y,Te=Q,255&(ee=0|T)&&(170&ee?ao(ve,256,Ee,Te):cn(ve,256,Ee,Te)),ee=de,ve=xe,255&(T>>=8)&&(170&T?ao(Se,320,ee,ve):cn(Se,320,ee,ve)),F<m.Ub-1&&(r(fe[ge].y,0,z,W+480,16),r(fe[ge].f,0,Y,Q+224,8),r(fe[ge].ea,0,de,xe+224,8)),T=8*V*m.B,fe=m.sa,ge=m.ta+16*j+16*V*m.R,Se=m.qa,ee=m.ra+8*j+T,ve=m.Ha,Ee=m.Ia+8*j+T,T=0;16>T;++T)r(fe,ge+T*m.R,z,W+32*T,16);for(T=0;8>T;++T)r(Se,ee+T*m.B,Y,Q+32*T,8),r(ve,Ee+T*m.B,de,xe+32*T,8)}}function Xl(m,b,T,j,F,V,z,W,Y){var Q=[0],de=[0],xe=0,ee=Y!=null?Y.kd:0,fe=Y??new Ne;if(m==null||12>T)return 7;fe.data=m,fe.w=b,fe.ha=T,b=[b],T=[T],fe.gb=[fe.gb];e:{var ge=b,Se=T,ve=fe.gb;if(e(m!=null),e(Se!=null),e(ve!=null),ve[0]=0,12<=Se[0]&&!n(m,ge[0],"RIFF")){if(n(m,ge[0]+8,"WEBP")){ve=3;break e}var Ee=ae(m,ge[0]+4);if(12>Ee||4294967286<Ee){ve=3;break e}if(ee&&Ee>Se[0]-8){ve=7;break e}ve[0]=Ee,ge[0]+=12,Se[0]-=12}ve=0}if(ve!=0)return ve;for(Ee=0<fe.gb[0],T=T[0];;){e:{var Te=m;Se=b,ve=T;var je=Q,Ce=de,ut=ge=[0];if((nt=xe=[xe])[0]=0,8>ve[0])ve=7;else{if(!n(Te,Se[0],"VP8X")){if(ae(Te,Se[0]+4)!=10){ve=3;break e}if(18>ve[0]){ve=7;break e}var Je=ae(Te,Se[0]+8),jt=1+Ie(Te,Se[0]+12);if(2147483648<=jt*(Te=1+Ie(Te,Se[0]+15))){ve=3;break e}ut!=null&&(ut[0]=Je),je!=null&&(je[0]=jt),Ce!=null&&(Ce[0]=Te),Se[0]+=18,ve[0]-=18,nt[0]=1}ve=0}}if(xe=xe[0],ge=ge[0],ve!=0)return ve;if(Se=!!(2&ge),!Ee&&xe)return 3;if(V!=null&&(V[0]=!!(16&ge)),z!=null&&(z[0]=Se),W!=null&&(W[0]=0),z=Q[0],ge=de[0],xe&&Se&&Y==null){ve=0;break}if(4>T){ve=7;break}if(Ee&&xe||!Ee&&!xe&&!n(m,b[0],"ALPH")){T=[T],fe.na=[fe.na],fe.P=[fe.P],fe.Sa=[fe.Sa];e:{Je=m,ve=b,Ee=T;var nt=fe.gb;je=fe.na,Ce=fe.P,ut=fe.Sa,jt=22,e(Je!=null),e(Ee!=null),Te=ve[0];var Ft=Ee[0];for(e(je!=null),e(ut!=null),je[0]=null,Ce[0]=null,ut[0]=0;;){if(ve[0]=Te,Ee[0]=Ft,8>Ft){ve=7;break e}var dr=ae(Je,Te+4);if(4294967286<dr){ve=3;break e}var Rt=8+dr+1&-2;if(jt+=Rt,0<nt&&jt>nt){ve=3;break e}if(!n(Je,Te,"VP8 ")||!n(Je,Te,"VP8L")){ve=0;break e}if(Ft[0]<Rt){ve=7;break e}n(Je,Te,"ALPH")||(je[0]=Je,Ce[0]=Te+8,ut[0]=dr),Te+=Rt,Ft-=Rt}}if(T=T[0],fe.na=fe.na[0],fe.P=fe.P[0],fe.Sa=fe.Sa[0],ve!=0)break}T=[T],fe.Ja=[fe.Ja],fe.xa=[fe.xa];e:if(nt=m,ve=b,Ee=T,je=fe.gb[0],Ce=fe.Ja,ut=fe.xa,Je=ve[0],Te=!n(nt,Je,"VP8 "),jt=!n(nt,Je,"VP8L"),e(nt!=null),e(Ee!=null),e(Ce!=null),e(ut!=null),8>Ee[0])ve=7;else{if(Te||jt){if(nt=ae(nt,Je+4),12<=je&&nt>je-12){ve=3;break e}if(ee&&nt>Ee[0]-8){ve=7;break e}Ce[0]=nt,ve[0]+=8,Ee[0]-=8,ut[0]=jt}else ut[0]=5<=Ee[0]&&nt[Je+0]==47&&!(nt[Je+4]>>5),Ce[0]=Ee[0];ve=0}if(T=T[0],fe.Ja=fe.Ja[0],fe.xa=fe.xa[0],b=b[0],ve!=0)break;if(4294967286<fe.Ja)return 3;if(W==null||Se||(W[0]=fe.xa?2:1),z=[z],ge=[ge],fe.xa){if(5>T){ve=7;break}W=z,ee=ge,Se=V,m==null||5>T?m=0:5<=T&&m[b+0]==47&&!(m[b+4]>>5)?(Ee=[0],nt=[0],je=[0],X(Ce=new q,m,b,T),Io(Ce,Ee,nt,je)?(W!=null&&(W[0]=Ee[0]),ee!=null&&(ee[0]=nt[0]),Se!=null&&(Se[0]=je[0]),m=1):m=0):m=0}else{if(10>T){ve=7;break}W=ge,m==null||10>T||!Cm(m,b+3,T-3)?m=0:(ee=m[b+0]|m[b+1]<<8|m[b+2]<<16,Se=16383&(m[b+7]<<8|m[b+6]),m=16383&(m[b+9]<<8|m[b+8]),1&ee||3<(ee>>1&7)||!(ee>>4&1)||ee>>5>=fe.Ja||!Se||!m?m=0:(z&&(z[0]=Se),W&&(W[0]=m),m=1))}if(!m||(z=z[0],ge=ge[0],xe&&(Q[0]!=z||de[0]!=ge)))return 3;Y!=null&&(Y[0]=fe,Y.offset=b-Y.w,e(4294967286>b-Y.w),e(Y.offset==Y.ha-T));break}return ve==0||ve==7&&xe&&Y==null?(V!=null&&(V[0]|=fe.na!=null&&0<fe.na.length),j!=null&&(j[0]=z),F!=null&&(F[0]=ge),0):ve}function Uf(m,b,T){var j=b.width,F=b.height,V=0,z=0,W=j,Y=F;if(b.Da=m!=null&&0<m.Da,b.Da&&(W=m.cd,Y=m.bd,V=m.v,z=m.j,11>T||(V&=-2,z&=-2),0>V||0>z||0>=W||0>=Y||V+W>j||z+Y>F))return 0;if(b.v=V,b.j=z,b.va=V+W,b.o=z+Y,b.U=W,b.T=Y,b.da=m!=null&&0<m.da,b.da){if(!Ve(W,Y,T=[m.ib],V=[m.hb]))return 0;b.ib=T[0],b.hb=V[0]}return b.ob=m!=null&&m.ob,b.Kb=m==null||!m.Sd,b.da&&(b.ob=b.ib<3*j/4&&b.hb<3*F/4,b.Kb=0),1}function Bf(m){if(m==null)return 2;if(11>m.S){var b=m.f.RGBA;b.fb+=(m.height-1)*b.A,b.A=-b.A}else b=m.f.kb,m=m.height,b.O+=(m-1)*b.fa,b.fa=-b.fa,b.N+=(m-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(m-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(m-1)*b.lb,b.lb=-b.lb);return 0}function Ts(m,b,T,j){if(j==null||0>=m||0>=b)return 2;if(T!=null){if(T.Da){var F=T.cd,V=T.bd,z=-2&T.v,W=-2&T.j;if(0>z||0>W||0>=F||0>=V||z+F>m||W+V>b)return 2;m=F,b=V}if(T.da){if(!Ve(m,b,F=[T.ib],V=[T.hb]))return 2;m=F[0],b=V[0]}}j.width=m,j.height=b;e:{var Y=j.width,Q=j.height;if(m=j.S,0>=Y||0>=Q||!(m>=Vm&&13>m))m=2;else{if(0>=j.Rd&&j.sd==null){z=V=F=b=0;var de=(W=Y*IA[m])*Q;if(11>m||(V=(Q+1)/2*(b=(Y+1)/2),m==12&&(z=(F=Y)*Q)),(Q=a(de+2*V+z))==null){m=1;break e}j.sd=Q,11>m?((Y=j.f.RGBA).eb=Q,Y.fb=0,Y.A=W,Y.size=de):((Y=j.f.kb).y=Q,Y.O=0,Y.fa=W,Y.Fd=de,Y.f=Q,Y.N=0+de,Y.Ab=b,Y.Cd=V,Y.ea=Q,Y.W=0+de+V,Y.Db=b,Y.Ed=V,m==12&&(Y.F=Q,Y.J=0+de+2*V),Y.Tc=z,Y.lb=F)}if(b=1,F=j.S,V=j.width,z=j.height,F>=Vm&&13>F)if(11>F)m=j.f.RGBA,b&=(W=Math.abs(m.A))*(z-1)+V<=m.size,b&=W>=V*IA[F],b&=m.eb!=null;else{m=j.f.kb,W=(V+1)/2,de=(z+1)/2,Y=Math.abs(m.fa),Q=Math.abs(m.Ab);var xe=Math.abs(m.Db),ee=Math.abs(m.lb),fe=ee*(z-1)+V;b&=Y*(z-1)+V<=m.Fd,b&=Q*(de-1)+W<=m.Cd,b=(b&=xe*(de-1)+W<=m.Ed)&Y>=V&Q>=W&xe>=W,b&=m.y!=null,b&=m.f!=null,b&=m.ea!=null,F==12&&(b&=ee>=V,b&=fe<=m.Tc,b&=m.F!=null)}else b=0;m=b?0:2}}return m!=0||T!=null&&T.fd&&(m=Bf(j)),m}var Zl=64,Ai=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ei=24,Ps=32,$o=8,Cs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];_e("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(m){return m},R.Predictor2=function(m,b,T){return b[T+0]},R.Predictor3=function(m,b,T){return b[T+1]},R.Predictor4=function(m,b,T){return b[T-1]},R.Predictor5=function(m,b,T){return Re(Re(m,b[T+1]),b[T+0])},R.Predictor6=function(m,b,T){return Re(m,b[T-1])},R.Predictor7=function(m,b,T){return Re(m,b[T+0])},R.Predictor8=function(m,b,T){return Re(b[T-1],b[T+0])},R.Predictor9=function(m,b,T){return Re(b[T+0],b[T+1])},R.Predictor10=function(m,b,T){return Re(Re(m,b[T-1]),Re(b[T+0],b[T+1]))},R.Predictor11=function(m,b,T){var j=b[T+0];return 0>=ze(j>>24&255,m>>24&255,(b=b[T-1])>>24&255)+ze(j>>16&255,m>>16&255,b>>16&255)+ze(j>>8&255,m>>8&255,b>>8&255)+ze(255&j,255&m,255&b)?j:m},R.Predictor12=function(m,b,T){var j=b[T+0];return(it((m>>24&255)+(j>>24&255)-((b=b[T-1])>>24&255))<<24|it((m>>16&255)+(j>>16&255)-(b>>16&255))<<16|it((m>>8&255)+(j>>8&255)-(b>>8&255))<<8|it((255&m)+(255&j)-(255&b)))>>>0},R.Predictor13=function(m,b,T){var j=b[T-1];return(De((m=Re(m,b[T+0]))>>24&255,j>>24&255)<<24|De(m>>16&255,j>>16&255)<<16|De(m>>8&255,j>>8&255)<<8|De(255&m,255&j))>>>0};var qf=R.PredictorAdd0;R.PredictorAdd1=mt,_e("Predictor2","PredictorAdd2"),_e("Predictor3","PredictorAdd3"),_e("Predictor4","PredictorAdd4"),_e("Predictor5","PredictorAdd5"),_e("Predictor6","PredictorAdd6"),_e("Predictor7","PredictorAdd7"),_e("Predictor8","PredictorAdd8"),_e("Predictor9","PredictorAdd9"),_e("Predictor10","PredictorAdd10"),_e("Predictor11","PredictorAdd11"),_e("Predictor12","PredictorAdd12"),_e("Predictor13","PredictorAdd13");var mc=R.PredictorAdd2;lt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Hn,Um=R.ColorIndexInverseTransform,ro=R.MapARGB,io=R.VP8LColorIndexInverseTransformAlpha,Vf=R.MapAlpha,zf=R.VP8LPredictorsAdd=[];zf.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var Hf,Gf,ks,Is,Os,Ql,js,eu,aa,ao,Zt,cn,Gn,cr,Fo,Wf,gc,Bm,oA,sA,lA,uA,cA,dA,Kf,fA,hA,pA,mA=a(511),gA=a(2041),yA=a(225),vA=a(767),xA=0,B1=gA,qm=yA,Ni=vA,oa=mA,Vm=0,zm=1,bA=2,Hm=3,Gm=4,q1=5,wA=6,V1=7,z1=8,Wm=9,H1=10,F8=[2,3,7],U8=[3,3,11],_A=[280,256,256,256,40],B8=[0,1,1,1,0],q8=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],V8=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],z8=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],H8=8,G1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],W1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Jf=null,G8=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],W8=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],SA=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],K8=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],J8=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Y8=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],X8=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Rs=[],Ca=[],Uo=[],Z8=1,AA=2,Ls=[],sa=[];di("UpsampleRgbLinePair",Wl,3),di("UpsampleBgrLinePair",Kl,3),di("UpsampleRgbaLinePair",Ff,4),di("UpsampleBgraLinePair",$f,4),di("UpsampleArgbLinePair",Yl,4),di("UpsampleRgba4444LinePair",Jl,2),di("UpsampleRgb565LinePair",Ur,2);var Q8=R.UpsampleRgbLinePair,e$=R.UpsampleBgrLinePair,EA=R.UpsampleRgbaLinePair,NA=R.UpsampleBgraLinePair,TA=R.UpsampleArgbLinePair,PA=R.UpsampleRgba4444LinePair,t$=R.UpsampleRgb565LinePair,Km=16,Jm=1<<Km-1,Yf=-227,K1=482,n$=6,CA=0,r$=a(256),i$=a(256),a$=a(256),o$=a(256),s$=a(K1-Yf),l$=a(K1-Yf);Do("YuvToRgbRow",Wl,3),Do("YuvToBgrRow",Kl,3),Do("YuvToRgbaRow",Ff,4),Do("YuvToBgraRow",$f,4),Do("YuvToArgbRow",Yl,4),Do("YuvToRgba4444Row",Jl,2),Do("YuvToRgb565Row",Ur,2);var kA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ym=[0,2,8],u$=[8,7,6,4,4,2,2,2,1,1,1,1],c$=1;this.WebPDecodeRGBA=function(m,b,T,j,F){var V=zm,z=new pe,W=new tn;z.ba=W,W.S=V,W.width=[W.width],W.height=[W.height];var Y=W.width,Q=W.height,de=new xt;if(de==null||m==null)var xe=2;else e(de!=null),xe=Xl(m,b,T,de.width,de.height,de.Pd,de.Qd,de.format,null);if(xe!=0?Y=0:(Y!=null&&(Y[0]=de.width[0]),Q!=null&&(Q[0]=de.height[0]),Y=1),Y){W.width=W.width[0],W.height=W.height[0],j!=null&&(j[0]=W.width),F!=null&&(F[0]=W.height);e:{if(j=new lc,(F=new Ne).data=m,F.w=b,F.ha=T,F.kd=1,b=[0],e(F!=null),((m=Xl(F.data,F.w,F.ha,null,null,null,b,null,F))==0||m==7)&&b[0]&&(m=4),(b=m)==0){if(e(z!=null),j.data=F.data,j.w=F.w+F.offset,j.ha=F.ha-F.offset,j.put=yt,j.ac=Zi,j.bc=ko,j.ma=z,F.xa){if((m=Rl())==null){z=1;break e}if(function(ee,fe){var ge=[0],Se=[0],ve=[0];t:for(;;){if(ee==null)return 0;if(fe==null)return ee.a=2,0;if(ee.l=fe,ee.a=0,X(ee.m,fe.data,fe.w,fe.ha),!Io(ee.m,ge,Se,ve)){ee.a=3;break t}if(ee.xb=AA,fe.width=ge[0],fe.height=Se[0],!to(ge[0],Se[0],1,ee,null))break t;return 1}return e(ee.a!=0),0}(m,j)){if(j=(b=Ts(j.width,j.height,z.Oa,z.ba))==0){t:{j=m;n:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((T=j.l)!=null),e((F=T.ma)!=null),j.xb!=0){if(j.ca=F.ba,j.tb=F.tb,e(j.ca!=null),!Uf(F.Oa,T,Hm)){j.a=2;break n}if(!Ll(j,T.width)||T.da)break n;if((T.da||ft(j.ca.S))&&ra(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&ra()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!Z(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!Ta(j,j.V,j.Ba,j.c,j.i,T.o,Ss))break n;F.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(b=m.a)}else b=m.a}else{if((m=new N1)==null){z=1;break e}if(m.Fa=F.na,m.P=F.P,m.qc=F.Sa,km(m,j)){if((b=Ts(j.width,j.height,z.Oa,z.ba))==0){if(m.Aa=0,T=z.Oa,e((F=m)!=null),T!=null){if(0<(Y=0>(Y=T.Md)?0:100<Y?255:255*Y/100)){for(Q=de=0;4>Q;++Q)12>(xe=F.pb[Q]).lc&&(xe.ia=Y*u$[0>xe.lc?0:xe.lc]>>3),de|=xe.ia;de&&(alert("todo:VP8InitRandom"),F.ia=1)}F.Ga=T.Id,100<F.Ga?F.Ga=100:0>F.Ga&&(F.Ga=0)}(function(ee,fe){if(ee==null)return 0;if(fe==null)return er(ee,2,"NULL VP8Io parameter in VP8Decode().");if(!ee.cb&&!km(ee,fe))return 0;if(e(ee.cb),fe.ac==null||fe.ac(fe)){fe.ob&&(ee.L=0);var ge=Ym[ee.L];if(ee.L==2?(ee.yb=0,ee.zb=0):(ee.yb=fe.v-ge>>4,ee.zb=fe.j-ge>>4,0>ee.yb&&(ee.yb=0),0>ee.zb&&(ee.zb=0)),ee.Va=fe.o+15+ge>>4,ee.Hb=fe.va+15+ge>>4,ee.Hb>ee.za&&(ee.Hb=ee.za),ee.Va>ee.Ub&&(ee.Va=ee.Ub),0<ee.L){var Se=ee.ed;for(ge=0;4>ge;++ge){var ve;if(ee.Qa.Cb){var Ee=ee.Qa.Lb[ge];ee.Qa.Fb||(Ee+=Se.Tb)}else Ee=Se.Tb;for(ve=0;1>=ve;++ve){var Te=ee.gd[ge][ve],je=Ee;if(Se.Pc&&(je+=Se.vd[0],ve&&(je+=Se.od[0])),0<(je=0>je?0:63<je?63:je)){var Ce=je;0<Se.wb&&(Ce=4<Se.wb?Ce>>2:Ce>>1)>9-Se.wb&&(Ce=9-Se.wb),1>Ce&&(Ce=1),Te.dd=Ce,Te.tc=2*je+Ce,Te.ld=40<=je?2:15<=je?1:0}else Te.tc=0;Te.La=ve}}}ge=0}else er(ee,6,"Frame setup failed"),ge=ee.a;if(ge=ge==0){if(ge){ee.$c=0,0<ee.Aa||(ee.Ic=c$);t:{ge=ee.Ic,Se=4*(Ce=ee.za);var ut=32*Ce,Je=Ce+1,jt=0<ee.L?Ce*(0<ee.Aa?2:1):0,nt=(ee.Aa==2?2:1)*Ce;if((Te=Se+832+(ve=3*(16*ge+Ym[ee.L])/2*ut)+(Ee=ee.Fa!=null&&0<ee.Fa.length?ee.Kc.c*ee.Kc.i:0))!=Te)ge=0;else{if(Te>ee.Vb){if(ee.Vb=0,ee.Ec=a(Te),ee.Fc=0,ee.Ec==null){ge=er(ee,1,"no memory during frame initialization.");break t}ee.Vb=Te}Te=ee.Ec,je=ee.Fc,ee.Ac=Te,ee.Bc=je,je+=Se,ee.Gd=o(ut,Tm),ee.Hd=0,ee.rb=o(Je+1,Tf),ee.sb=1,ee.wa=jt?o(jt,na):null,ee.Y=0,ee.D.Nb=0,ee.D.wa=ee.wa,ee.D.Y=ee.Y,0<ee.Aa&&(ee.D.Y+=Ce),e(!0),ee.oc=Te,ee.pc=je,je+=832,ee.ya=o(nt,Pf),ee.aa=0,ee.D.ya=ee.ya,ee.D.aa=ee.aa,ee.Aa==2&&(ee.D.aa+=Ce),ee.R=16*Ce,ee.B=8*Ce,Ce=(ut=Ym[ee.L])*ee.R,ut=ut/2*ee.B,ee.sa=Te,ee.ta=je+Ce,ee.qa=ee.sa,ee.ra=ee.ta+16*ge*ee.R+ut,ee.Ha=ee.qa,ee.Ia=ee.ra+8*ge*ee.B+ut,ee.$c=0,je+=ve,ee.mb=Ee?Te:null,ee.nb=Ee?je:null,e(je+Ee<=ee.Fc+ee.Vb),Ml(ee),i(ee.Ac,ee.Bc,0,Se),ge=1}}if(ge){if(fe.ka=0,fe.y=ee.sa,fe.O=ee.ta,fe.f=ee.qa,fe.N=ee.ra,fe.ea=ee.Ha,fe.Vd=ee.Ia,fe.fa=ee.R,fe.Rc=ee.B,fe.F=null,fe.J=0,!xA){for(ge=-255;255>=ge;++ge)mA[255+ge]=0>ge?-ge:ge;for(ge=-1020;1020>=ge;++ge)gA[1020+ge]=-128>ge?-128:127<ge?127:ge;for(ge=-112;112>=ge;++ge)yA[112+ge]=-16>ge?-16:15<ge?15:ge;for(ge=-255;510>=ge;++ge)vA[255+ge]=0>ge?0:255<ge?255:ge;xA=1}js=Om,eu=P1,ao=C1,Zt=no,cn=Im,aa=T1,Gn=Lm,cr=Mm,Fo=E,Wf=$,gc=zl,Bm=Dm,oA=ne,sA=ue,lA=Df,uA=Vl,cA=jm,dA=Rm,Ca[0]=M1,Ca[1]=kf,Ca[2]=R1,Ca[3]=L1,Ca[4]=D1,Ca[5]=Ro,Ca[6]=jo,Ca[7]=$1,Ca[8]=uc,Ca[9]=F1,Rs[0]=Es,Rs[1]=I1,Rs[2]=O1,Rs[3]=If,Rs[4]=j1,Rs[5]=Fl,Rs[6]=Of,Uo[0]=dc,Uo[1]=k1,Uo[2]=jf,Uo[3]=Ul,Uo[4]=Rf,Uo[5]=U1,Uo[6]=Lf,ge=1}else ge=0}ge&&(ge=function(Ft,dr){for(Ft.M=0;Ft.M<Ft.Va;++Ft.M){var Rt,rt=Ft.Jc[Ft.M&Ft.Xb],qe=Ft.m,Wn=Ft;for(Rt=0;Rt<Wn.za;++Rt){var Ot=qe,qt=Wn,_n=qt.Ac,Or=qt.Bc+4*Rt,Qr=qt.zc,Fn=qt.ya[qt.aa+Rt];if(qt.Qa.Bb?Fn.$b=me(Ot,qt.Pa.jb[0])?2+me(Ot,qt.Pa.jb[2]):me(Ot,qt.Pa.jb[1]):Fn.$b=0,qt.kc&&(Fn.Ad=me(Ot,qt.Bd)),Fn.Za=!me(Ot,145)+0,Fn.Za){var Br=Fn.Ob,ei=0;for(qt=0;4>qt;++qt){var fr,Vt=Qr[0+qt];for(fr=0;4>fr;++fr){Vt=J8[_n[Or+fr]][Vt];for(var nn=SA[me(Ot,Vt[0])];0<nn;)nn=SA[2*nn+me(Ot,Vt[nn])];Vt=-nn,_n[Or+fr]=Vt}r(Br,ei,_n,Or,4),ei+=4,Qr[0+qt]=Vt}}else Vt=me(Ot,156)?me(Ot,128)?1:3:me(Ot,163)?2:0,Fn.Ob[0]=Vt,i(_n,Or,Vt,4),i(Qr,0,Vt,4);Fn.Dd=me(Ot,142)?me(Ot,114)?me(Ot,183)?1:3:2:0}if(Wn.m.Ka)return er(Ft,7,"Premature end-of-partition0 encountered.");for(;Ft.ja<Ft.za;++Ft.ja){if(Wn=rt,Ot=(qe=Ft).rb[qe.sb-1],_n=qe.rb[qe.sb+qe.ja],Rt=qe.ya[qe.aa+qe.ja],Or=qe.kc?Rt.Ad:0)Ot.la=_n.la=0,Rt.Za||(Ot.Na=_n.Na=0),Rt.Hc=0,Rt.Gc=0,Rt.ia=0;else{var Un,rn;if(Ot=_n,_n=Wn,Or=qe.Pa.Xc,Qr=qe.ya[qe.aa+qe.ja],Fn=qe.pb[Qr.$b],qt=Qr.ad,Br=0,ei=qe.rb[qe.sb-1],Vt=fr=0,i(qt,Br,0,384),Qr.Za)var jr=0,ka=Or[3];else{nn=a(16);var Kn=Ot.Na+ei.Na;if(Kn=Jf(_n,Or[1],Kn,Fn.Eb,0,nn,0),Ot.Na=ei.Na=(0<Kn)+0,1<Kn)js(nn,0,qt,Br);else{var fi=nn[0]+3>>3;for(nn=0;256>nn;nn+=16)qt[Br+nn]=fi}jr=1,ka=Or[0]}var dn=15&Ot.la,hr=15&ei.la;for(nn=0;4>nn;++nn){var Ti=1&hr;for(fi=rn=0;4>fi;++fi)dn=dn>>1|(Ti=(Kn=Jf(_n,ka,Kn=Ti+(1&dn),Fn.Sc,jr,qt,Br))>jr)<<7,rn=rn<<2|(3<Kn?3:1<Kn?2:qt[Br+0]!=0),Br+=16;dn>>=4,hr=hr>>1|Ti<<7,fr=(fr<<8|rn)>>>0}for(ka=dn,jr=hr>>4,Un=0;4>Un;Un+=2){for(rn=0,dn=Ot.la>>4+Un,hr=ei.la>>4+Un,nn=0;2>nn;++nn){for(Ti=1&hr,fi=0;2>fi;++fi)Kn=Ti+(1&dn),dn=dn>>1|(Ti=0<(Kn=Jf(_n,Or[2],Kn,Fn.Qc,0,qt,Br)))<<3,rn=rn<<2|(3<Kn?3:1<Kn?2:qt[Br+0]!=0),Br+=16;dn>>=2,hr=hr>>1|Ti<<5}Vt|=rn<<4*Un,ka|=dn<<4<<Un,jr|=(240&hr)<<Un}Ot.la=ka,ei.la=jr,Qr.Hc=fr,Qr.Gc=Vt,Qr.ia=43690&Vt?0:Fn.ia,Or=!(fr|Vt)}if(0<qe.L&&(qe.wa[qe.Y+qe.ja]=qe.gd[Rt.$b][Rt.Za],qe.wa[qe.Y+qe.ja].La|=!Or),Wn.Ka)return er(Ft,7,"Premature end-of-file encountered.")}if(Ml(Ft),qe=dr,Wn=1,Rt=(rt=Ft).D,Ot=0<rt.L&&rt.M>=rt.zb&&rt.M<=rt.Va,rt.Aa==0)t:{if(Rt.M=rt.M,Rt.uc=Ot,ia(rt,Rt),Wn=1,Rt=(rn=rt.D).Nb,Ot=(Vt=Ym[rt.L])*rt.R,_n=Vt/2*rt.B,nn=16*Rt*rt.R,fi=8*Rt*rt.B,Or=rt.sa,Qr=rt.ta-Ot+nn,Fn=rt.qa,qt=rt.ra-_n+fi,Br=rt.Ha,ei=rt.Ia-_n+fi,hr=(dn=rn.M)==0,fr=dn>=rt.Va-1,rt.Aa==2&&ia(rt,rn),rn.uc)for(Ti=(Kn=rt).D.M,e(Kn.D.uc),rn=Kn.yb;rn<Kn.Hb;++rn){jr=rn,ka=Ti;var ti=(Pi=(Rr=Kn).D).Nb;Un=Rr.R;var Pi=Pi.wa[Pi.Y+jr],Ci=Rr.sa,hi=Rr.ta+16*ti*Un+16*jr,ki=Pi.dd,gn=Pi.tc;if(gn!=0)if(e(3<=gn),Rr.L==1)0<jr&&uA(Ci,hi,Un,gn+4),Pi.La&&dA(Ci,hi,Un,gn),0<ka&&lA(Ci,hi,Un,gn+4),Pi.La&&cA(Ci,hi,Un,gn);else{var Ii=Rr.B,Ia=Rr.qa,tu=Rr.ra+8*ti*Ii+8*jr,Bo=Rr.Ha,Rr=Rr.Ia+8*ti*Ii+8*jr;ti=Pi.ld,0<jr&&(cr(Ci,hi,Un,gn+4,ki,ti),Wf(Ia,tu,Bo,Rr,Ii,gn+4,ki,ti)),Pi.La&&(Bm(Ci,hi,Un,gn,ki,ti),sA(Ia,tu,Bo,Rr,Ii,gn,ki,ti)),0<ka&&(Gn(Ci,hi,Un,gn+4,ki,ti),Fo(Ia,tu,Bo,Rr,Ii,gn+4,ki,ti)),Pi.La&&(gc(Ci,hi,Un,gn,ki,ti),oA(Ia,tu,Bo,Rr,Ii,gn,ki,ti))}}if(rt.ia&&alert("todo:DitherRow"),qe.put!=null){if(rn=16*dn,dn=16*(dn+1),hr?(qe.y=rt.sa,qe.O=rt.ta+nn,qe.f=rt.qa,qe.N=rt.ra+fi,qe.ea=rt.Ha,qe.W=rt.Ia+fi):(rn-=Vt,qe.y=Or,qe.O=Qr,qe.f=Fn,qe.N=qt,qe.ea=Br,qe.W=ei),fr||(dn-=Vt),dn>qe.o&&(dn=qe.o),qe.F=null,qe.J=null,rt.Fa!=null&&0<rt.Fa.length&&rn<dn&&(qe.J=tr(rt,qe,rn,dn-rn),qe.F=rt.mb,qe.F==null&&qe.F.length==0)){Wn=er(rt,3,"Could not decode alpha data.");break t}rn<qe.j&&(Vt=qe.j-rn,rn=qe.j,e(!(1&Vt)),qe.O+=rt.R*Vt,qe.N+=rt.B*(Vt>>1),qe.W+=rt.B*(Vt>>1),qe.F!=null&&(qe.J+=qe.width*Vt)),rn<dn&&(qe.O+=qe.v,qe.N+=qe.v>>1,qe.W+=qe.v>>1,qe.F!=null&&(qe.J+=qe.v),qe.ka=rn-qe.j,qe.U=qe.va-qe.v,qe.T=dn-rn,Wn=qe.put(qe))}Rt+1!=rt.Ic||fr||(r(rt.sa,rt.ta-Ot,Or,Qr+16*rt.R,Ot),r(rt.qa,rt.ra-_n,Fn,qt+8*rt.B,_n),r(rt.Ha,rt.Ia-_n,Br,ei+8*rt.B,_n))}if(!Wn)return er(Ft,6,"Output aborted.")}return 1}(ee,fe)),fe.bc!=null&&fe.bc(fe),ge&=1}return ge?(ee.cb=0,ge):0})(m,j)||(b=m.a)}}else b=m.a}b==0&&z.Oa!=null&&z.Oa.fd&&(b=Bf(z.ba))}z=b}V=z!=0?null:11>V?W.f.RGBA.eb:W.f.kb.y}else V=null;return V};var IA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(R,U){for(var P="",O=0;O<4;O++)P+=String.fromCharCode(R[U++]);return P}function c(R,U){return R[U+0]|R[U+1]<<8}function f(R,U){return(R[U+0]|R[U+1]<<8|R[U+2]<<16)>>>0}function p(R,U){return(R[U+0]|R[U+1]<<8|R[U+2]<<16|R[U+3]<<24)>>>0}new l;var h=[0],y=[0],g=[],x=new l,v=t,w=function(R,U){var P={},O=0,D=!1,L=0,B=0;if(P.frames=[],!function(k,q){for(var G=0;G<4;G++)if(k[q+G]!="RIFF".charCodeAt(G))return!0;return!1}(R,U)){for(p(R,U+=4),U+=8;U<R.length;){var J=u(R,U),H=p(R,U+=4);U+=4;var M=H+(1&H);switch(J){case"VP8 ":case"VP8L":P.frames[O]===void 0&&(P.frames[O]={}),(ie=P.frames[O]).src_off=D?B:U-8,ie.src_size=L+H+8,O++,D&&(D=!1,L=0,B=0);break;case"VP8X":(ie=P.header={}).feature_flags=R[U];var X=U+4;ie.canvas_width=1+f(R,X),X+=3,ie.canvas_height=1+f(R,X),X+=3;break;case"ALPH":D=!0,L=M+8,B=U-8;break;case"ANIM":(ie=P.header).bgcolor=p(R,U),X=U+4,ie.loop_count=c(R,X),X+=2;break;case"ANMF":var oe,ie;(ie=P.frames[O]={}).offset_x=2*f(R,U),U+=3,ie.offset_y=2*f(R,U),U+=3,ie.width=1+f(R,U),U+=3,ie.height=1+f(R,U),U+=3,ie.duration=f(R,U),U+=3,oe=R[U++],ie.dispose=1&oe,ie.blend=oe>>1&1}J!="ANMF"&&(U+=M)}return P}}(v,0);w.response=v,w.rgbaoutput=!0,w.dataurl=!1;var _=w.header?w.header:null,A=w.frames?w.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],y=[_.canvas_width];for(var S=0;S<A.length&&A[S].blend!=0;S++);}var N=A[0],C=x.WebPDecodeRGBA(v,N.src_off,N.src_size,y,h);N.rgba=C,N.imgwidth=y[0],N.imgheight=h[0];for(var I=0;I<y[0]*h[0]*4;I++)g[I]=C[I];return this.width=y,this.height=h,this.data=g,this}(function(t){var e,n,r,i,a,o,s,l,u,c=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new l,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new o,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new o,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var f=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=k;Object.defineProperty(this,"pdf",{get:function(){return q}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(ae){G=!!ae}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(ae){te=!!ae}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(ae){isNaN(ae)||(re=ae)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(ae){isNaN(ae)||(ce=ae)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ae){var Z;typeof ae=="number"?Z=[ae,ae,ae,ae]:((Z=new Array(4))[0]=ae[0],Z[1]=ae.length>=2?ae[1]:Z[0],Z[2]=ae.length>=3?ae[2]:Z[0],Z[3]=ae.length>=4?ae[3]:Z[1]),u.margin=Z}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(ae){ye=ae}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(ae){se=ae}});var me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return me},set:function(ae){me=ae}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ae){ae instanceof c&&(u=ae)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ae){u.path=ae}});var we=[];Object.defineProperty(this,"ctxStack",{get:function(){return we},set:function(ae){we=ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ae){var Z;Z=p(ae),this.ctx.fillStyle=Z.style,this.ctx.isFillTransparent=Z.a===0,this.ctx.fillOpacity=Z.a,this.pdf.setFillColor(Z.r,Z.g,Z.b,{a:Z.a}),this.pdf.setTextColor(Z.r,Z.g,Z.b,{a:Z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ae){var Z=p(ae);this.ctx.strokeStyle=Z.style,this.ctx.isStrokeTransparent=Z.a===0,this.ctx.strokeOpacity=Z.a,Z.a===0?this.pdf.setDrawColor(255,255,255):(Z.a,this.pdf.setDrawColor(Z.r,Z.g,Z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ae){["butt","round","square"].indexOf(ae)!==-1&&(this.ctx.lineCap=ae,this.pdf.setLineCap(ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ae){isNaN(ae)||(this.ctx.lineWidth=ae,this.pdf.setLineWidth(ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ae){["bevel","round","miter"].indexOf(ae)!==-1&&(this.ctx.lineJoin=ae,this.pdf.setLineJoin(ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ae){isNaN(ae)||(this.ctx.miterLimit=ae,this.pdf.setMiterLimit(ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ae){this.ctx.textBaseline=ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ae){["right","end","center","left","start"].indexOf(ae)!==-1&&(this.ctx.textAlign=ae)}});var he=null,Ie=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ie},set:function(ae){he=null,Ie=ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ae){var Z;if(this.ctx.font=ae,(Z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ae))!==null){var Be=Z[1];Z[2];var Ue=Z[3],Ve=Z[4];Z[5];var be=Z[6],Oe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ve)[2];Ve=Math.floor(Oe==="px"?parseFloat(Ve)*this.pdf.internal.scaleFactor:Oe==="em"?parseFloat(Ve)*this.pdf.getFontSize():parseFloat(Ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ve);var _e=function(et){var lt,Jt,$t=[],tt=et.trim();if(tt==="")return Rb;if(tt in nI)return[nI[tt]];for(;tt!=="";){switch(Jt=null,lt=(tt=iI(tt)).charAt(0)){case'"':case"'":Jt=H1e(tt.substring(1),lt);break;default:Jt=G1e(tt)}if(Jt===null||($t.push(Jt[0]),(tt=iI(Jt[1]))!==""&&tt.charAt(0)!==","))return Rb;tt=tt.replace(/^,/,"")}return $t}(be);if(this.fontFaces){var Le=function(et,lt){if(he===null){var Jt=function($t){var tt=[];return Object.keys($t).forEach(function(Nt){$t[Nt].forEach(function(en){var ht=null;switch(en){case"bold":ht={family:Nt,weight:"bold"};break;case"italic":ht={family:Nt,style:"italic"};break;case"bolditalic":ht={family:Nt,weight:"bold",style:"italic"};break;case"":case"normal":ht={family:Nt}}ht!==null&&(ht.ref={name:Nt,style:en},tt.push(ht))})}),tt}(et.getFontList());he=function($t){for(var tt={},Nt=0;Nt<$t.length;++Nt){var en=jb($t[Nt]),ht=en.family,gt=en.stretch,ft=en.style,pn=en.weight;tt[ht]=tt[ht]||{},tt[ht][gt]=tt[ht][gt]||{},tt[ht][gt][ft]=tt[ht][gt][ft]||{},tt[ht][gt][ft][pn]=en}return tt}(Jt.concat(lt))}return he}(this.pdf,this.fontFaces),Re=_e.map(function(et){return{family:et,stretch:"normal",weight:Ue,style:Be}}),it=function(et,lt,Jt){for(var $t=(Jt=Jt||{}).defaultFontFamily||"times",tt=Object.assign({},z1e,Jt.genericFontFamilies||{}),Nt=null,en=null,ht=0;ht<lt.length;++ht)if(tt[(Nt=jb(lt[ht])).family]&&(Nt.family=tt[Nt.family]),et.hasOwnProperty(Nt.family)){en=et[Nt.family];break}if(!(en=en||et[$t]))throw new Error("Could not find a font-family for the rule '"+rI(Nt)+"' and default family '"+$t+"'.");if(en=function(gt,ft){if(ft[gt])return ft[gt];var pn=L_[gt],In=pn<=L_.normal?-1:1,tn=tI(ft,O8,pn,In);if(!tn)throw new Error("Could not find a matching font-stretch value for "+gt);return tn}(Nt.stretch,en),en=function(gt,ft){if(ft[gt])return ft[gt];for(var pn=I8[gt],In=0;In<pn.length;++In)if(ft[pn[In]])return ft[pn[In]];throw new Error("Could not find a matching font-style for "+gt)}(Nt.style,en),!(en=function(gt,ft){if(ft[gt])return ft[gt];if(gt===400&&ft[500])return ft[500];if(gt===500&&ft[400])return ft[400];var pn=V1e[gt],In=tI(ft,j8,pn,gt<400?-1:1);if(!In)throw new Error("Could not find a matching font-weight for value "+gt);return In}(Nt.weight,en)))throw new Error("Failed to resolve a font for the rule '"+rI(Nt)+"'.");return en}(Le,Re);this.pdf.setFont(it.ref.name,it.ref.style)}else{var De="";(Ue==="bold"||parseInt(Ue,10)>=700||Be==="bold")&&(De="bold"),Be==="italic"&&(De+="italic"),De.length===0&&(De="normal");for(var ze="",mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qe=0;Qe<_e.length;Qe++){if(this.pdf.internal.getFont(_e[Qe],De,{noFallback:!0,disableWarning:!0})!==void 0){ze=_e[Qe];break}if(De==="bolditalic"&&this.pdf.internal.getFont(_e[Qe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ze=_e[Qe],De="bold";else if(this.pdf.internal.getFont(_e[Qe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ze=_e[Qe],De="normal";break}}if(ze===""){for(var Ge=0;Ge<_e.length;Ge++)if(mt[_e[Ge]]){ze=mt[_e[Ge]];break}}ze=ze===""?"Times":ze,this.pdf.setFont(ze,De)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ae){this.ctx.globalCompositeOperation=ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ae){this.ctx.globalAlpha=ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ae){this.ctx.lineDashOffset=ae,ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ae){this.ctx.lineDash=ae,ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ae){this.ctx.ignoreClearRect=!!ae}})};f.prototype.setLineDash=function(k){this.lineDash=k},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){A.call(this,"fill",!1)},f.prototype.stroke=function(){A.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(k,q){if(isNaN(k)||isNaN(q))throw fn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(k,q));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(k,q)},f.prototype.closePath=function(){var k=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&an(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){k=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(k.x,k.y)},f.prototype.lineTo=function(k,q){if(isNaN(k)||isNaN(q))throw fn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(k,q));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},f.prototype.quadraticCurveTo=function(k,q,G,te){if(isNaN(G)||isNaN(te)||isNaN(k)||isNaN(q))throw fn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new o(G,te)),ce=this.ctx.transform.applyToPoint(new o(k,q));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},f.prototype.bezierCurveTo=function(k,q,G,te,re,ce){if(isNaN(re)||isNaN(ce)||isNaN(k)||isNaN(q)||isNaN(G)||isNaN(te))throw fn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new o(re,ce)),se=this.ctx.transform.applyToPoint(new o(k,q)),me=this.ctx.transform.applyToPoint(new o(G,te));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:me.x,y2:me.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new o(ye.x,ye.y)},f.prototype.arc=function(k,q,G,te,re,ce){if(isNaN(k)||isNaN(q)||isNaN(G)||isNaN(te)||isNaN(re))throw fn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new o(k,q));k=ye.x,q=ye.y;var se=this.ctx.transform.applyToPoint(new o(0,G)),me=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(se.x-me.x,2)+Math.pow(se.y-me.y,2))}Math.abs(re-te)>=2*Math.PI&&(te=0,re=2*Math.PI),this.path.push({type:"arc",x:k,y:q,radius:G,startAngle:te,endAngle:re,counterclockwise:ce})},f.prototype.arcTo=function(k,q,G,te,re){throw new Error("arcTo not implemented.")},f.prototype.rect=function(k,q,G,te){if(isNaN(k)||isNaN(q)||isNaN(G)||isNaN(te))throw fn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,q),this.lineTo(k+G,q),this.lineTo(k+G,q+te),this.lineTo(k,q+te),this.lineTo(k,q),this.lineTo(k+G,q),this.lineTo(k,q)},f.prototype.fillRect=function(k,q,G,te){if(isNaN(k)||isNaN(q)||isNaN(G)||isNaN(te))throw fn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,q,G,te),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},f.prototype.strokeRect=function(k,q,G,te){if(isNaN(k)||isNaN(q)||isNaN(G)||isNaN(te))throw fn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(k,q,G,te),this.stroke())},f.prototype.clearRect=function(k,q,G,te){if(isNaN(k)||isNaN(q)||isNaN(G)||isNaN(te))throw fn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,q,G,te))},f.prototype.save=function(k){k=typeof k!="boolean"||k;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},f.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(q),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(k){var q,G,te,re;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))q=0,G=0,te=0,re=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(ce!==null)q=parseInt(ce[1]),G=parseInt(ce[2]),te=parseInt(ce[3]),re=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)q=parseInt(ce[1]),G=parseInt(ce[2]),te=parseInt(ce[3]),re=parseFloat(ce[4]);else{if(re=1,typeof k=="string"&&k.charAt(0)!=="#"){var ye=new A8(k);k=ye.ok?ye.toHex():"#000000"}k.length===4?(q=k.substring(1,2),q+=q,G=k.substring(2,3),G+=G,te=k.substring(3,4),te+=te):(q=k.substring(1,3),G=k.substring(3,5),te=k.substring(5,7)),q=parseInt(q,16),G=parseInt(G,16),te=parseInt(te,16)}}return{r:q,g:G,b:te,a:re,style:k}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(k,q,G,te){if(isNaN(q)||isNaN(G)||typeof k!="string")throw fn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!h.call(this)){var re=M(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;O.call(this,{text:k,x:q,y:G,scale:ce,angle:re,align:this.textAlign,maxWidth:te})}},f.prototype.strokeText=function(k,q,G,te){if(isNaN(q)||isNaN(G)||typeof k!="string")throw fn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){te=isNaN(te)?void 0:te;var re=M(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;O.call(this,{text:k,x:q,y:G,scale:ce,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:te})}},f.prototype.measureText=function(k){if(typeof k!="string")throw fn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,G=this.pdf.internal.scaleFactor,te=q.internal.getFontSize(),re=q.getStringUnitWidth(k)*te/q.internal.scaleFactor;return new function(ce){var ye=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this}({width:re*=Math.round(96*G/72*1e4)/1e4})},f.prototype.scale=function(k,q){if(isNaN(k)||isNaN(q))throw fn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new l(k,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},f.prototype.rotate=function(k){if(isNaN(k))throw fn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.translate=function(k,q){if(isNaN(k)||isNaN(q))throw fn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new l(1,0,0,1,k,q);this.ctx.transform=this.ctx.transform.multiply(G)},f.prototype.transform=function(k,q,G,te,re,ce){if(isNaN(k)||isNaN(q)||isNaN(G)||isNaN(te)||isNaN(re)||isNaN(ce))throw fn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new l(k,q,G,te,re,ce);this.ctx.transform=this.ctx.transform.multiply(ye)},f.prototype.setTransform=function(k,q,G,te,re,ce){k=isNaN(k)?1:k,q=isNaN(q)?0:q,G=isNaN(G)?0:G,te=isNaN(te)?1:te,re=isNaN(re)?0:re,ce=isNaN(ce)?0:ce,this.ctx.transform=new l(k,q,G,te,re,ce)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(k,q,G,te,re,ce,ye,se,me){var we=this.pdf.getImageProperties(k),he=1,Ie=1,ae=1,Z=1;te!==void 0&&se!==void 0&&(ae=se/te,Z=me/re,he=we.width/te*se/te,Ie=we.height/re*me/re),ce===void 0&&(ce=q,ye=G,q=0,G=0),te!==void 0&&se===void 0&&(se=te,me=re),te===void 0&&se===void 0&&(se=we.width,me=we.height);for(var Be,Ue=this.ctx.transform.decompose(),Ve=M(Ue.rotate.shx),be=new l,Oe=(be=(be=(be=be.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale)).applyToRectangle(new s(ce-q*ae,ye-G*Z,te*he,re*Ie)),_e=x.call(this,Oe),Le=[],Re=0;Re<_e.length;Re+=1)Le.indexOf(_e[Re])===-1&&Le.push(_e[Re]);if(_(Le),this.autoPaging)for(var it=Le[0],De=Le[Le.length-1],ze=it;ze<De+1;ze++){this.pdf.setPage(ze);var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qe=ze===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=ze===1?0:Ge+(ze-2)*et;if(this.ctx.clip_path.length!==0){var Jt=this.path;Be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Be,this.posX+this.margin[3],-lt+Qe+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=Jt}var $t=JSON.parse(JSON.stringify(Oe));$t=w([$t],this.posX+this.margin[3],-lt+Qe+this.ctx.prevPageLastElemOffset)[0];var tt=(ze>it||ze<De)&&g.call(this);tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,et,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",$t.x,$t.y,$t.w,$t.h,null,null,Ve),tt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,Ve)};var x=function(k,q,G){var te=[];q=q||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":te.push(Math.floor((k.y+re)/G)+1);break;case"arc":te.push(Math.floor((k.y+re-k.radius)/G)+1),te.push(Math.floor((k.y+re+k.radius)/G)+1);break;case"qct":var ce=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);te.push(Math.floor((ce.y+re)/G)+1),te.push(Math.floor((ce.y+ce.h+re)/G)+1);break;case"bct":var ye=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);te.push(Math.floor((ye.y+re)/G)+1),te.push(Math.floor((ye.y+ye.h+re)/G)+1);break;case"rect":te.push(Math.floor((k.y+re)/G)+1),te.push(Math.floor((k.y+k.h+re)/G)+1)}for(var se=0;se<te.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<te[se];)v.call(this);return te},v=function(){var k=this.fillStyle,q=this.strokeStyle,G=this.font,te=this.lineCap,re=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=q,this.font=G,this.lineCap=te,this.lineWidth=re,this.lineJoin=ce},w=function(k,q,G){for(var te=0;te<k.length;te++)switch(k[te].type){case"bct":k[te].x2+=q,k[te].y2+=G;case"qct":k[te].x1+=q,k[te].y1+=G;default:k[te].x+=q,k[te].y+=G}return k},_=function(k){return k.sort(function(q,G){return q-G})},A=function(k,q){for(var G,te,re=this.fillStyle,ce=this.strokeStyle,ye=this.lineCap,se=this.lineWidth,me=Math.abs(se*this.ctx.transform.scaleX),we=this.lineJoin,he=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),ae=[],Z=0;Z<Ie.length;Z++)if(Ie[Z].x!==void 0)for(var Be=x.call(this,Ie[Z]),Ue=0;Ue<Be.length;Ue+=1)ae.indexOf(Be[Ue])===-1&&ae.push(Be[Ue]);for(var Ve=0;Ve<ae.length;Ve++)for(;this.pdf.internal.getNumberOfPages()<ae[Ve];)v.call(this);if(_(ae),this.autoPaging)for(var be=ae[0],Oe=ae[ae.length-1],_e=be;_e<Oe+1;_e++){this.pdf.setPage(_e),this.fillStyle=re,this.strokeStyle=ce,this.lineCap=ye,this.lineWidth=me,this.lineJoin=we;var Le=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Re=_e===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=_e===1?0:it+(_e-2)*De;if(this.ctx.clip_path.length!==0){var mt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(G,this.posX+this.margin[3],-ze+Re+this.ctx.prevPageLastElemOffset),S.call(this,k,!0),this.path=mt}if(te=JSON.parse(JSON.stringify(he)),this.path=w(te,this.posX+this.margin[3],-ze+Re+this.ctx.prevPageLastElemOffset),q===!1||_e===0){var Qe=(_e>be||_e<Oe)&&g.call(this);Qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Le,De,null).clip().discardPath()),S.call(this,k,q),Qe&&this.pdf.restoreGraphicsState()}this.lineWidth=se}else this.lineWidth=me,S.call(this,k,q),this.lineWidth=se;this.path=he},S=function(k,q){if((k!=="stroke"||q||!y.call(this))&&(k==="stroke"||q||!h.call(this))){for(var G,te,re=[],ce=this.path,ye=0;ye<ce.length;ye++){var se=ce[ye];switch(se.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:se,deltas:[],abs:[]});break;case"lt":var me=re.length;if(ce[ye-1]&&!isNaN(ce[ye-1].x)&&(G=[se.x-ce[ye-1].x,se.y-ce[ye-1].y],me>0)){for(;me>=0;me--)if(re[me-1].close!==!0&&re[me-1].begin!==!0){re[me-1].deltas.push(G),re[me-1].abs.push(se);break}}break;case"bct":G=[se.x1-ce[ye-1].x,se.y1-ce[ye-1].y,se.x2-ce[ye-1].x,se.y2-ce[ye-1].y,se.x-ce[ye-1].x,se.y-ce[ye-1].y],re[re.length-1].deltas.push(G);break;case"qct":var we=ce[ye-1].x+2/3*(se.x1-ce[ye-1].x),he=ce[ye-1].y+2/3*(se.y1-ce[ye-1].y),Ie=se.x+2/3*(se.x1-se.x),ae=se.y+2/3*(se.y1-se.y),Z=se.x,Be=se.y;G=[we-ce[ye-1].x,he-ce[ye-1].y,Ie-ce[ye-1].x,ae-ce[ye-1].y,Z-ce[ye-1].x,Be-ce[ye-1].y],re[re.length-1].deltas.push(G);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(se)}}te=q?null:k==="stroke"?"stroke":"fill";for(var Ue=!1,Ve=0;Ve<re.length;Ve++)if(re[Ve].arc)for(var be=re[Ve].abs,Oe=0;Oe<be.length;Oe++){var _e=be[Oe];_e.type==="arc"?I.call(this,_e.x,_e.y,_e.radius,_e.startAngle,_e.endAngle,_e.counterclockwise,void 0,q,!Ue):D.call(this,_e.x,_e.y),Ue=!0}else if(re[Ve].close===!0)this.pdf.internal.out("h"),Ue=!1;else if(re[Ve].begin!==!0){var Le=re[Ve].start.x,Re=re[Ve].start.y;L.call(this,re[Ve].deltas,Le,Re),Ue=!0}te&&R.call(this,te),q&&U.call(this)}},N=function(k){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-G;case"top":return k+q-G;case"hanging":return k+q-2*G;case"middle":return k+q/2-G;default:return k}},C=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(q,G){this.colorStops.push([q,G])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(k,q,G,te,re,ce,ye,se,me){for(var we=J.call(this,G,te,re,ce),he=0;he<we.length;he++){var Ie=we[he];he===0&&(me?P.call(this,Ie.x1+k,Ie.y1+q):D.call(this,Ie.x1+k,Ie.y1+q)),B.call(this,k,q,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}se?U.call(this):R.call(this,ye)},R=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(k,q){this.pdf.internal.out(n(k)+" "+r(q)+" m")},O=function(k){var q;switch(k.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var G=this.pdf.getTextDimensions(k.text),te=N.call(this,k.y),re=C.call(this,te)-G.h,ce=this.ctx.transform.applyToPoint(new o(k.x,te)),ye=this.ctx.transform.decompose(),se=new l;se=(se=(se=se.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale);for(var me,we,he,Ie=this.ctx.transform.applyToRectangle(new s(k.x,te,G.w,G.h)),ae=se.applyToRectangle(new s(k.x,re,G.w,G.h)),Z=x.call(this,ae),Be=[],Ue=0;Ue<Z.length;Ue+=1)Be.indexOf(Z[Ue])===-1&&Be.push(Z[Ue]);if(_(Be),this.autoPaging)for(var Ve=Be[0],be=Be[Be.length-1],Oe=Ve;Oe<be+1;Oe++){this.pdf.setPage(Oe);var _e=Oe===1?this.posY+this.margin[0]:this.margin[0],Le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[2],it=Re-this.margin[0],De=this.pdf.internal.pageSize.width-this.margin[1],ze=De-this.margin[3],mt=Oe===1?0:Le+(Oe-2)*it;if(this.ctx.clip_path.length!==0){var Qe=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(me,this.posX+this.margin[3],-1*mt+_e),S.call(this,"fill",!0),this.path=Qe}var Ge=w([JSON.parse(JSON.stringify(ae))],this.posX+this.margin[3],-mt+_e+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*k.scale),he=this.lineWidth,this.lineWidth=he*k.scale);var et=this.autoPaging!=="text";if(et||Ge.y+Ge.h<=Re){if(et||Ge.y>=_e&&Ge.x<=De){var lt=et?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||De-Ge.x)[0],Jt=w([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-mt+_e+this.ctx.prevPageLastElemOffset)[0],$t=et&&(Oe>Ve||Oe<be)&&g.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,it,null).clip().discardPath()),this.pdf.text(lt,Jt.x,Jt.y,{angle:k.angle,align:q,renderingMode:k.renderingMode}),$t&&this.pdf.restoreGraphicsState()}}else Ge.y<Re&&(this.ctx.prevPageLastElemOffset+=Re-Ge.y);k.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=he)}else k.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*k.scale),he=this.lineWidth,this.lineWidth=he*k.scale),this.pdf.text(k.text,ce.x+this.posX,ce.y+this.posY,{angle:k.angle,align:q,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=he)},D=function(k,q,G,te){G=G||0,te=te||0,this.pdf.internal.out(n(k+G)+" "+r(q+te)+" l")},L=function(k,q,G){return this.pdf.lines(k,q,G,null,null)},B=function(k,q,G,te,re,ce,ye,se){this.pdf.internal.out([e(i(G+k)),e(a(te+q)),e(i(re+k)),e(a(ce+q)),e(i(ye+k)),e(a(se+q)),"c"].join(" "))},J=function(k,q,G,te){for(var re=2*Math.PI,ce=Math.PI/2;q>G;)q-=re;var ye=Math.abs(G-q);ye<re&&te&&(ye=re-ye);for(var se=[],me=te?-1:1,we=q;ye>1e-5;){var he=we+me*Math.min(ye,ce);se.push(H.call(this,k,we,he)),ye-=Math.abs(he-we),we=he}return se},H=function(k,q,G){var te=(G-q)/2,re=k*Math.cos(te),ce=k*Math.sin(te),ye=re,se=-ce,me=ye*ye+se*se,we=me+ye*re+se*ce,he=4/3*(Math.sqrt(2*me*we)-we)/(ye*ce-se*re),Ie=ye-he*se,ae=se+he*ye,Z=Ie,Be=-ae,Ue=te+q,Ve=Math.cos(Ue),be=Math.sin(Ue);return{x1:k*Math.cos(q),y1:k*Math.sin(q),x2:Ie*Ve-ae*be,y2:Ie*be+ae*Ve,x3:Z*Ve-Be*be,y3:Z*be+Be*Ve,x4:k*Math.cos(G),y4:k*Math.sin(G)}},M=function(k){return 180*k/Math.PI},X=function(k,q,G,te,re,ce){var ye=k+.5*(G-k),se=q+.5*(te-q),me=re+.5*(G-re),we=ce+.5*(te-ce),he=Math.min(k,re,ye,me),Ie=Math.max(k,re,ye,me),ae=Math.min(q,ce,se,we),Z=Math.max(q,ce,se,we);return new s(he,ae,Ie-he,Z-ae)},oe=function(k,q,G,te,re,ce,ye,se){var me,we,he,Ie,ae,Z,Be,Ue,Ve,be,Oe,_e,Le,Re,it=G-k,De=te-q,ze=re-G,mt=ce-te,Qe=ye-re,Ge=se-ce;for(we=0;we<41;we++)Ve=(Be=(he=k+(me=we/40)*it)+me*((ae=G+me*ze)-he))+me*(ae+me*(re+me*Qe-ae)-Be),be=(Ue=(Ie=q+me*De)+me*((Z=te+me*mt)-Ie))+me*(Z+me*(ce+me*Ge-Z)-Ue),we==0?(Oe=Ve,_e=be,Le=Ve,Re=be):(Oe=Math.min(Oe,Ve),_e=Math.min(_e,be),Le=Math.max(Le,Ve),Re=Math.max(Re,be));return new s(Math.round(Oe),Math.round(_e),Math.round(Le-Oe),Math.round(Re-_e))},ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,q,G=(k=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:q}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(ct.API),function(t){var e=function(o){var s,l,u,c,f,p,h,y,g,x;for(l=[],u=0,c=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;c>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(p=(f=((f=((f=((f=(f-(x=f%85))/85)-(g=f%85))/85)-(y=f%85))/85)-(h=f%85))/85)%85,l.push(p+33,h+33,y+33,g+33,x+33)):l.push(122);return function(v,w){for(var _=w;_>0;_--)v.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var s,l,u,c,f,p=String,h="length",y=255,g="charCodeAt",x="slice",v="replace";for(o[x](-2),o=o[x](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),u=[],c=0,f=(o+=s="uuuuu"[x](o[h]%5||5))[h];f>c;c+=5)l=52200625*(o[g](c)-33)+614125*(o[g](c+1)-33)+7225*(o[g](c+2)-33)+85*(o[g](c+3)-33)+(o[g](c+4)-33),u.push(y&l>>24,y&l>>16,y&l>>8,y&l);return function(w,_){for(var A=_;A>0;A--)w.pop()}(u,s[h]),p.fromCharCode.apply(p,u)},r=function(o){return o.split("").map(function(s){return("0"+s.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},a=function(o){for(var s=new Uint8Array(o.length),l=o.length;l--;)s[l]=o.charCodeAt(l);return(s=P_(s)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};t.processDataByFilters=function(o,s){var l=0,u=o||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(ct.API),function(t){t.loadFile=function(e,n,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,u,c){var f=new XMLHttpRequest,p=0,h=function(y){var g=y.length,x=[],v=String.fromCharCode;for(p=0;p<g;p+=1)x.push(v(255&y.charCodeAt(p)));return x.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?c(h(this.responseText)):c(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(i,a,o)}catch{}return s}(e,n,r)},t.loadImageFile=t.loadFile}(ct.API),function(t){function e(){return(wt.html2canvas?Promise.resolve(wt.html2canvas):mb(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function n(){return(wt.DOMPurify?Promise.resolve(wt.DOMPurify):mb(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var l=an(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var u=document.createElement(s);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},a=function s(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||c.appendChild(s(f,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},o=function s(l){var u=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),u);return(c=c.setProgress(1,s,1,[s])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,l){return s.__proto__=l||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:s,dompurify:u})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var y=c[h],g=y.src.find(function(x){return x.format==="truetype"});g&&u.addFont(g.url,y.ref.name,y.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},o.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(r(s)!=="object")return this;var l=Object.keys(s||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=s[u]};switch(u){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[u]=s[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(s,l){return this.then(function(){var u=s in o.template.prop?this.prop[s]:this.opt[s];return l?l(u):u})},o.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(s=s||ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,l,u,c){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,l,u,c){return this.setProgress(s?this.progress.val+s:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(s,l){var u=this;return this.thenCore(s,l,function(c,f){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,c),p}).then(c,f).then(function(p){return u.updateProgress(1),p})})},o.prototype.thenCore=function(s,l,u){u=u||Promise.prototype.then;var c=this;s&&(s=s.bind(c)),l&&(l=l.bind(c));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:o.convert(Object.assign({},c),Promise.prototype),p=u.call(f,s,l);return o.convert(p,c.__proto__)},o.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},o.prototype.thenList=function(s){var l=this;return s.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return o.convert(l,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ct.getPageSize=function(s,l,u){if(an(s)==="object"){var c=s;s=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",s=(""+(s||"P")).toLowerCase();var f,p=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var y,g=0,x=0;if(h.hasOwnProperty(p))g=h[p][1]/f,x=h[p][0]/f;else try{g=u[1],x=u[0]}catch{throw new Error("Invalid format: "+u)}if(s==="p"||s==="portrait")s="p",x>g&&(y=x,x=g,g=y);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>x&&(y=x,x=g,g=y)}return{width:x,height:g,unit:l,k:f,orientation:s}},t.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(jb):null;var u=new o(l);return l.worker?u:u.from(s).doCallback()}}(ct.API),ct.API.addJS=function(t){return oI=t,this.internal.events.subscribe("postPutResources",function(){Zg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Zg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),aI=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+oI+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Zg!==void 0&&aI!==void 0&&this.internal.out("/Names <</JavaScript "+Zg+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=r.exec(o);if(s!=null){var l=s[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(a=0;a<u;a++){var f=n.internal.newObject();c.push(f);var p=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<c.length;a++)n.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(ct.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,o,s){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,g={width:0,height:0,numcomponents:1},x=4;x<y;x+=2){if(x+=h,e.indexOf(f.charCodeAt(x+1))!==-1){p=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),g={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:p,numcomponents:f.charCodeAt(x+9)};break}h=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(ct.API),ct.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=C1e(t,{checkCrc:!0}),o=a.width,s=a.height,l=a.channels,u=a.palette,c=a.depth;i=u&&l===1?function(I){for(var R=I.width,U=I.height,P=I.data,O=I.palette,D=I.depth,L=!1,B=[],J=[],H=void 0,M=!1,X=0,oe=0;oe<O.length;oe++){var ie=c4(O[oe],4),k=ie[0],q=ie[1],G=ie[2],te=ie[3];B.push(k,q,G),te!=null&&(te===0?(X++,J.length<1&&J.push(oe)):te<255&&(M=!0))}if(M||X>1){L=!0,J=void 0;var re=R*U;H=new Uint8Array(re);for(var ce=new DataView(P.buffer),ye=0;ye<re;ye++){var se=Lb(ce,ye,D),me=c4(O[se],4)[3];H[ye]=me}}else X===0&&(J=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:L?8:void 0,colorBytes:P,alphaBytes:H,needSMask:L,palette:B,mask:J}}(a):l===2||l===4?function(I){for(var R=I.data,U=I.width,P=I.height,O=I.channels,D=I.depth,L=O===2?"DeviceGray":"DeviceRGB",B=O-1,J=U*P,H=B,M=J*H,X=1*J,oe=Math.ceil(M*D/8),ie=Math.ceil(X*D/8),k=new Uint8Array(oe),q=new Uint8Array(ie),G=new DataView(R.buffer),te=new DataView(k.buffer),re=new DataView(q.buffer),ce=!1,ye=0;ye<J;ye++){for(var se=ye*O,me=0;me<H;me++)mI(te,Lb(G,se+me,D),ye*H+me,D);var we=Lb(G,se+H,D);we<(1<<D)-1&&(ce=!0),mI(re,we,1*ye,D)}return{colorSpace:L,colorsPerPixel:B,sMaskBitsPerComponent:ce?D:void 0,colorBytes:k,alphaBytes:q,needSMask:ce}}(a):function(I){var R=I.data,U=I.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:U,colorsPerPixel:U==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?function(P){for(var O=P.length,D=new Uint8Array(2*O),L=new DataView(D.buffer,D.byteOffset,D.byteLength),B=0;B<O;B++)L.setUint16(2*B,P[B],!1);return D}(R):R,needSMask:!1}}(a);var f,p,h,y=i,g=y.colorSpace,x=y.colorsPerPixel,v=y.sMaskBitsPerComponent,w=y.colorBytes,_=y.alphaBytes,A=y.needSMask,S=y.palette,N=y.mask,C=null;return r!==ct.API.image_compression.NONE&&typeof P_=="function"?(C=function(I){var R;switch(I){case ct.API.image_compression.FAST:R=11;break;case ct.API.image_compression.MEDIUM:R=13;break;case ct.API.image_compression.SLOW:R=14;break;default:R=12}return R}(r),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(C," /Colors ").concat(x," /BitsPerComponent ").concat(c," /Columns ").concat(o),t=cI(w,Math.ceil(o*x*c/8),x,c,r),A&&(h=cI(_,Math.ceil(o*v/8),1,v,r))):(f=void 0,p=void 0,t=w,A&&(h=_)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:t,index:e,filter:f,decodeParameters:p,transparency:N,palette:S,sMask:h,predictor:C,width:o,height:s,bitsPerComponent:c,sMaskBitsPerComponent:v,colorSpace:g}}},function(t){t.processGIF89A=function(e,n,r,i){var a=new Y1e(e),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},c=new Mb(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(ct.API),Ra.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ra.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){fn.log("bit decode error:"+n)}},Ra.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}n!==0&&(this.pos+=4-n)}},Ra.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,s=a>>4,l=15&a,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ra.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Ra.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,u=a>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=s,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},Ra.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*a;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=s,this.data[c+3]=255}this.pos+=t}},Ra.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Ra.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=o}},Ra.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var a=new Ra(e,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new Mb(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ct.API),yI.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var a=new yI(e),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new Mb(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ct.API),ct.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,l=0,u=0;u<i;u+=4){var c=r[u],f=r[u+1],p=r[u+2],h=r[u+3];a[s++]=c,a[s++]=f,a[s++]=p,o[l++]=h}var y=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ct.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},kc=ct.API,Qg=kc.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=e.doKerning!==!1,p=0,h=t.length,y=0,g=s[0]||l,x=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(p=f&&an(u[r])==="object"&&!isNaN(parseInt(u[r][y],10))?u[r][y]/c:0,x.push((s[r]||g)/l+p)),y=r;return x},sI=kc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return kc.processArabic&&(t=kc.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Qg.apply(this,arguments).reduce(function(a,o){return a+o},0)},lI=function(t,e,n,r){for(var i=[],a=0,o=t.length,s=0;a!==o&&s+e[a]<n;)s+=e[a],a++;i.push(t.slice(0,a));var l=a;for(s=0;a!==o;)s+e[a]>r&&(i.push(t.slice(l,a)),s=0,l=a),s+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},uI=function(t,e,n){n||(n={});var r,i,a,o,s,l,u,c=[],f=[c],p=n.textIndent||0,h=0,y=0,g=t.split(" "),x=Qg.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),w=[];g.map(function(A){(A=A.split(/\s*\n/)).length>1?w=w.concat(A.map(function(S,N){return(N&&S.length?`
`:"")+S})):w.push(A[0])}),g=w,l=sI.apply(this,[v,n])}for(a=0,o=g.length;a<o;a++){var _=0;if(r=g[a],l&&r[0]==`
`&&(r=r.substr(1),_=1),p+h+(y=(i=Qg.apply(this,[r,n])).reduce(function(A,S){return A+S},0))>e||_){if(y>e){for(s=lI.apply(this,[r,i,e-(p+h),e]),c.push(s.shift()),c=[s.pop()];s.length;)f.push([s.shift()]);y=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(A,S){return A+S},0)}else c=[r];f.push(c),p=y+l,h=x}else c.push(r),p+=h+y,h=x}return u=l?function(A,S){return(S?v:"")+A.join(" ")}:function(A){return A.join(" ")},f.map(u)},kc.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var f=this.internal.getFont(c.fontName,c.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var s,l,u=[];for(s=0,l=r.length;s<l;s++)u=u.concat(uI.apply(this,[r[s],o,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=e[a],i[e[a]]=n[a];var o=function(p){return"0x"+parseInt(p,10).toString(16)},s=t.__fontmetrics__.compress=function(p){var h,y,g,x,v=["{"];for(var w in p){if(h=p[w],isNaN(parseInt(w,10))?y="'"+w+"'":(w=parseInt(w,10),y=(y=o(w).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof h=="number")h<0?(g=o(h).slice(3),x="-"):(g=o(h).slice(2),x=""),g=x+g.slice(0,-1)+i[g.slice(-1)];else{if(an(h)!=="object")throw new Error("Don't know what to do with value type "+an(h)+".");g=s(h)}v.push(y+g)}return v.push("}"),v.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,y,g,x,v={},w=1,_=v,A=[],S="",N="",C=p.length-1,I=1;I<C;I+=1)(x=p[I])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(A.push([_,g]),_={},g=void 0):x=="}"?((y=A.pop())[0][y[1]]=_,g=void 0,_=y[0]):x=="-"?w=-1:g===void 0?r.hasOwnProperty(x)?(S+=r[x],g=parseInt(S,16)*w,w=1,S=""):S+=x:r.hasOwnProperty(x)?(N+=r[x],_[g]=parseInt(N,16)*w,w=1,g=void 0,N=""):N+=x;return v},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var h=p.font,y=f.Unicode[h.postScriptName];y&&(h.metadata.Unicode={},h.metadata.Unicode.widths=y.widths,h.metadata.Unicode.kerning=y.kerning);var g=c.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(ct.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(py(s)),o.metadata=t.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ct),ct.API.addSvgAsImage=function(t,e,n,r,i,a,o,s){if(isNaN(e)||isNaN(n))throw fn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw fn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(wt.canvg?Promise.resolve(wt.canvg):mb(()=>import("./index.es-DmAifnL7.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(c)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,o,s)})},ct.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ct.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],u=0,c=0,f=0;function p(y,g){var x,v=!1;for(x=0;x<y.length;x+=1)y[x]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=s.length;for(f=0;f<h;f+=1)n[s[f]].value=n[s[f]].defaultValue,n[s[f]].explicitSet=!1}if(an(t)==="object"){for(i in t)if(a=t[i],p(s,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&p(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(c=0;c<a[u].length;c+=1)typeof a[u][c]!="number"&&(r=!1);r===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,g=[];for(y in n)n[y].explicitSet===!0&&(n[y].type==="name"?g.push("/"+y+" /"+n[y].value):g.push("/"+y+" "+n[y].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ct.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,o){for(var s,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],f=0,p=a.length;f<p;++f){if(s=o.metadata.characterToGlyph(a.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(f),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return c.join("");s=s.toString(16),c.push(u[4-s.length],s)}return c.join("")},r=function(a){var o,s,l,u,c,f,p;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(s=Object.keys(a).sort(function(h,y){return h-y})).length;f<p;f++)o=s[f],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,p=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),h="",y=0;y<p.length;y++)h+=String.fromCharCode(p[y]);var g=u();c({data:h,addLength1:!0,objectId:g}),l("endobj");var x=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var v=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Lc(s.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var w=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Lc(s.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+Lc(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var y=u();c({data:p,addLength1:!0,objectId:y}),l("endobj");var g=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var x=u();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+Lc(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=u();for(var v=0;v<s.metadata.hmtx.widths.length;v++)s.metadata.hmtx.widths[v]=parseInt(s.metadata.hmtx.widths[v]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Lc(s.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",l=a.x,u=a.y,c=a.options||{},f=a.mutex||{},p=f.pdfEscape,h=f.activeFontKey,y=f.fonts,g=h,x="",v=0,w="",_=y[g].encoding;if(y[g].encoding!=="Identity-H")return{text:s,x:l,y:u,options:c,mutex:f};for(w=s,g=h,Array.isArray(s)&&(w=s[0]),v=0;v<w.length;v+=1)y[g].metadata.hasOwnProperty("cmap")&&(o=y[g].metadata.cmap.unicode.codeMap[w[v].charCodeAt(0)]),o||w[v].charCodeAt(0)<256&&y[g].metadata.hasOwnProperty("Unicode")?x+=w[v]:x+="";var A="";return parseInt(g.slice(1))<14||_==="WinAnsiEncoding"?A=p(x,g).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(A=n(x,y[g])),f.isHex=!0,{text:A,x:l,y:u,options:c,mutex:f}};e.events.push(["postProcessText",function(a){var o=a.text||"",s=[],l={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(i(Object.assign({},l,{text:o[u]})).text);a.text=s}else a.text=i(Object.assign({},l,{text:o})).text}])}(ct),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ct.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,o,s,l,u,c,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,_=0;this.__bidiEngine__={};var A=function(P){var O=P.charCodeAt(),D=O>>8,L=g[D];return L!==void 0?f[256*L+(255&O)]:D===252||D===253?"AL":v.test(D)?"L":D===8?"R":"N"},S=function(P){for(var O,D=0;D<P.length;D++){if((O=A(P.charAt(D)))==="L")return!1;if(O==="R")return!0}return!1},N=function(P,O,D,L){var B,J,H,M,X=O[L];switch(X){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(X="AN");break;case"AL":w=!0,X="R";break;case"WS":case"BN":X="N";break;case"CS":L<1||L+1>=O.length||(B=D[L-1])!=="EN"&&B!=="AN"||(J=O[L+1])!=="EN"&&J!=="AN"?X="N":w&&(J="AN"),X=J===B?J:"N";break;case"ES":X=(B=L>0?D[L-1]:"B")==="EN"&&L+1<O.length&&O[L+1]==="EN"?"EN":"N";break;case"ET":if(L>0&&D[L-1]==="EN"){X="EN";break}if(w){X="N";break}for(H=L+1,M=O.length;H<M&&O[H]==="ET";)H++;X=H<M&&O[H]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(M=O.length,H=L+1;H<M&&O[H]==="NSM";)H++;if(H<M){var oe=P[L],ie=oe>=1425&&oe<=2303||oe===64286;if(B=O[H],ie&&(B==="R"||B==="AL")){X="R";break}}}X=L<1||(B=O[L-1])==="B"?"N":D[L-1];break;case"B":w=!1,i=!0,X=_;break;case"S":a=!0,X="N"}return X},C=function(P,O,D){var L=P.split("");return D&&I(L,D,{hiLevel:_}),L.reverse(),O&&O.reverse(),L.join("")},I=function(P,O,D){var L,B,J,H,M,X=-1,oe=P.length,ie=0,k=[],q=_?h:p,G=[];for(w=!1,i=!1,a=!1,B=0;B<oe;B++)G[B]=A(P[B]);for(J=0;J<oe;J++){if(M=ie,k[J]=N(P,G,k,J),L=240&(ie=q[M][y[k[J]]]),ie&=15,O[J]=H=q[ie][5],L>0)if(L===16){for(B=X;B<J;B++)O[B]=1;X=-1}else X=-1;if(q[ie][6])X===-1&&(X=J);else if(X>-1){for(B=X;B<J;B++)O[B]=H;X=-1}G[J]==="B"&&(O[J]=0),D.hiLevel|=H}a&&function(te,re,ce){for(var ye=0;ye<ce;ye++)if(te[ye]==="S"){re[ye]=_;for(var se=ye-1;se>=0&&te[se]==="WS";se--)re[se]=_}}(G,O,oe)},R=function(P,O,D,L,B){if(!(B.hiLevel<P)){if(P===1&&_===1&&!i)return O.reverse(),void(D&&D.reverse());for(var J,H,M,X,oe=O.length,ie=0;ie<oe;){if(L[ie]>=P){for(M=ie+1;M<oe&&L[M]>=P;)M++;for(X=ie,H=M-1;X<H;X++,H--)J=O[X],O[X]=O[H],O[H]=J,D&&(J=D[X],D[X]=D[H],D[H]=J);ie=M}ie++}}},U=function(P,O,D){var L=P.split(""),B={hiLevel:_};return D||(D=[]),I(L,D,B),function(J,H,M){if(M.hiLevel!==0&&c)for(var X,oe=0;oe<J.length;oe++)H[oe]===1&&(X=x.indexOf(J[oe]))>=0&&(J[oe]=x[X+1])}(L,D,B),R(2,L,O,D,B),R(1,L,O,D,B),L.join("")};return this.__bidiEngine__.doBidiReorder=function(P,O,D){if(function(B,J){if(J)for(var H=0;H<B.length;H++)J[H]=H;s===void 0&&(s=S(B)),u===void 0&&(u=S(B))}(P,O),o||!l||u)if(o&&l&&s^u)_=s?1:0,P=C(P,O,D);else if(!o&&l&&u)_=s?1:0,P=U(P,O,D),P=C(P,O);else if(!o||s||l||u){if(o&&!l&&s^u)P=C(P,O),s?(_=0,P=U(P,O,D)):(_=1,P=U(P,O,D),P=C(P,O));else if(o&&s&&!l&&u)_=1,P=U(P,O,D),P=C(P,O);else if(!o&&!l&&s^u){var L=c;s?(_=1,P=U(P,O,D),_=0,c=!1,P=U(P,O,D),c=L):(_=0,P=U(P,O,D),P=C(P,O),_=1,c=!1,P=U(P,O,D),c=L,P=C(P,O))}}else _=0,P=U(P,O,D);else _=s?1:0,P=U(P,O,D);return P},this.__bidiEngine__.setOptions=function(P){P&&(o=P.isInputVisual,l=P.isOutputVisual,s=P.isInputRtl,u=P.isOutputRtl,c=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([n.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([n.doBidiReorder(i[s])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ct),ct.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new wl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new dxe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new X1e(this.contents),this.head=new Q1e(this),this.name=new ixe(this),this.cmap=new L8(this),this.toUnicode={},this.hhea=new exe(this),this.maxp=new axe(this),this.hmtx=new oxe(this),this.post=new nxe(this),this.os2=new txe(this),this.loca=new cxe(this),this.glyf=new sxe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,u;for(u=[],o=0,s=(l=this.bbox).length;o<s;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,o,s;for(o=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Qa,wl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,o,s,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*s+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),X1e=function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,o,s,l,u,c,f,p,h,y,g;for(g in h=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),o=Math.floor(f/l),c=16*h-f,(i=new wl).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(o),i.writeShort(c),a=16*h,u=i.pos+a,s=null,y=[],n)for(p=n[g],i.writeString(g),i.writeInt(t(p)),i.writeInt(u),i.writeInt(p.length),y=y.concat(p),g==="head"&&(s=u),u+=p.length;u%4;)y.push(0),u++;return i.write(y),r=2981146554-t(i.data),i.pos=s+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,o;for(n=M8.call(n);n.length%4;)n.push(0);for(a=new wl(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),Z1e={}.hasOwnProperty,Co=function(t,e){for(var n in e)Z1e.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Qa=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Q1e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Qa),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new wl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),vI=function(){function t(e,n){var r,i,a,o,s,l,u,c,f,p,h,y,g,x,v,w,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),p=h/2,e.pos+=6,a=function(){var A,S;for(S=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)S.push(e.readUInt16());return S}(),e.pos+=2,g=function(){var A,S;for(S=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)S.push(e.readUInt16());return S}(),u=function(){var A,S;for(S=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)S.push(e.readUInt16());return S}(),c=function(){var A,S;for(S=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)S.push(e.readUInt16());return S}(),i=(this.length-e.pos+this.offset)/2,s=function(){var A,S;for(S=[],l=A=0;0<=i?A<i:A>i;l=0<=i?++A:--A)S.push(e.readUInt16());return S}(),l=v=0,_=a.length;v<_;l=++v)for(x=a[l],r=w=y=g[l];y<=x?w<=x:w>=x;r=y<=x?++w:--w)c[l]===0?o=r+u[l]:(o=s[c[l]/2+(r-y)-(p-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=f}return t.encode=function(e,n){var r,i,a,o,s,l,u,c,f,p,h,y,g,x,v,w,_,A,S,N,C,I,R,U,P,O,D,L,B,J,H,M,X,oe,ie,k,q,G,te,re,ce,ye,se,me,we,he;switch(L=new wl,o=Object.keys(e).sort(function(Ie,ae){return Ie-ae}),n){case"macroman":for(g=0,x=function(){var Ie=[];for(y=0;y<256;++y)Ie.push(0);return Ie}(),w={0:0},a={},B=0,X=o.length;B<X;B++)w[se=e[i=o[B]]]==null&&(w[se]=++g),a[i]={old:e[i],new:w[e[i]]},x[i]=w[e[i]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(x),{charMap:a,subtable:L.data,maxGlyphID:g+1};case"unicode":for(O=[],f=[],_=0,w={},r={},v=u=null,J=0,oe=o.length;J<oe;J++)w[S=e[i=o[J]]]==null&&(w[S]=++_),r[i]={old:S,new:w[S]},s=w[S]-i,v!=null&&s===u||(v&&f.push(v),O.push(i),u=s),v=i;for(v&&f.push(v),f.push(65535),O.push(65535),U=2*(R=O.length),I=2*Math.pow(Math.log(R)/Math.LN2,2),p=Math.log(I/2)/Math.LN2,C=2*R-I,l=[],N=[],h=[],y=H=0,ie=O.length;H<ie;y=++H){if(P=O[y],c=f[y],P===65535){l.push(0),N.push(0);break}if(P-(D=r[P].new)>=32768)for(l.push(0),N.push(2*(h.length+R-y)),i=M=P;P<=c?M<=c:M>=c;i=P<=c?++M:--M)h.push(r[i].new);else l.push(D-P),N.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*R+2*h.length),L.writeUInt16(0),L.writeUInt16(U),L.writeUInt16(I),L.writeUInt16(p),L.writeUInt16(C),ce=0,k=f.length;ce<k;ce++)i=f[ce],L.writeUInt16(i);for(L.writeUInt16(0),ye=0,q=O.length;ye<q;ye++)i=O[ye],L.writeUInt16(i);for(me=0,G=l.length;me<G;me++)s=l[me],L.writeUInt16(s);for(we=0,te=N.length;we<te;we++)A=N[we],L.writeUInt16(A);for(he=0,re=h.length;he<re;he++)g=h[he],L.writeUInt16(g);return{charMap:r,subtable:L.data,maxGlyphID:_+1}}},t}(),L8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Qa),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new vI(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=vI.encode(e,n),(i=new wl).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),exe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Qa),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),txe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Qa),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),nxe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Qa),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,s,l;for(l=[],a=o=0,s=this.file.maxp.numGlyphs;0<=s?o<s:o>s;a=0<=s?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),rxe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},ixe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Qa),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,a,o,s,l,u,c,f,p;for(e.pos=this.offset,e.readShort(),n=e.readShort(),s=e.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(l={},a=c=0,f=r.length;c<f;a=++c)i=r[a],e.pos=i.offset,u=e.readString(i.length),o=new rxe(u,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),axe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Qa),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),oxe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Qa),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,a,o,s,l;for(e.pos=this.offset,this.metrics=[],n=0,s=this.file.hhea.numberOfMetrics;0<=s?n<s:n>s;n=0<=s?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)c.push(e.readInt16());return c}(),this.widths=(function(){var u,c,f,p;for(p=[],u=0,c=(f=this.metrics).length;u<c;u++)a=f[u],p.push(a.advance);return p}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),M8=[].slice,sxe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Qa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,a,o,s,l,u,c,f;return e in this.cache?this.cache[e]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(s=new wl(n.read(i))).readShort(),u=s.readShort(),f=s.readShort(),l=s.readShort(),c=s.readShort(),this.cache[e]=o===-1?new uxe(s,u,f,l,c):new lxe(s,o,u,f,l,c),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,a,o,s,l;for(o=[],a=[],s=0,l=n.length;s<l;s++)i=e[n[s]],a.push(o.length),i&&(o=o.concat(i.encode(r)));return a.push(o.length),{table:o,offsets:a}},t}(),lxe=function(){function t(e,n,r,i,a,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),uxe=function(){function t(e,n,r,i,a){var o,s;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new wl(M8.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),cxe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,Qa),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<r.length;++o)if(r[o]=i,a<n.length&&n[a]==o){++a,r[o]=i;var s=this.offsets[o],l=this.offsets[o+1]-s;l>0&&(i+=l)}for(var u=new Array(4*r.length),c=0;c<r.length;++c)u[4*c+3]=255&r[c],u[4*c+2]=(65280&r[c])>>8,u[4*c+1]=(16711680&r[c])>>16,u[4*c]=(4278190080&r[c])>>24;return u},t}(),dxe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,o,s,l;for(i={},o=0,s=e.length;o<s;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,o,s,l,u,c,f,p,h,y,g,x,v;for(i in r=L8.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},v=r.charMap)h[(l=v[i]).old]=l.new;for(y in p=r.maxGlyphID,o)y in h||(h[y]=p++);return c=function(w){var _,A;for(_ in A={},w)A[w[_]]=_;return A}(h),f=Object.keys(c).sort(function(w,_){return w-_}),g=function(){var w,_,A;for(A=[],w=0,_=f.length;w<_;w++)s=f[w],A.push(c[s]);return A}(),a=this.font.glyf.encode(o,g,h),u=this.font.loca.encode(a.offsets,g),x={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t}();ct.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var s,l,u;for(u=[],s=0,l=n.length;s<l;s++)r=n[s],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+n},e}();function fxe(t){const e=new ct;let n=20;const r=e.internal.pageSize.getWidth(),i=20,a=r-2*i,o=(l,u,c=!1,f="#000000")=>{e.setFontSize(u),e.setTextColor(f),c?e.setFont("helvetica","bold"):e.setFont("helvetica","normal"),e.splitTextToSize(l,a).forEach(h=>{n>e.internal.pageSize.getHeight()-30&&(e.addPage(),n=20),e.text(h,i,n),n+=u*.5}),n+=5};o("Simulation Debrief Report",18,!0),n+=5,o(`Case: ${t.caseTitle}`,12,!0),o(`Patient: ${t.patientName}`,10),n+=5,o("Performance Summary",14,!0,"#3b82f6"),n+=3,o(`Overall Score: ${t.score.overall}%`,12,!0),o(`Diagnosis Accuracy: ${t.score.accuracy}%`,10),o(`MCQ Score: ${t.score.mcqScore}%`,10),o(`Time Taken: ${t.timeTaken} minutes`,10),o(`Current Streak: ${t.currentStreak} days`,10),n+=5,t.score.sloResults&&t.score.sloResults.length>0&&(o("Learning Outcomes",14,!0,"#3b82f6"),n+=3,t.score.sloResults.forEach(l=>{const u=l.status==="Achieved"?"":"";o(`${u} ${l.sloId}: ${l.percent}%`,10),l.sloText&&o(`   ${l.sloText}`,9)}),n+=5),o("Diagnosis Review",14,!0,"#3b82f6"),n+=3,o(`Your Diagnosis: ${t.diagnosis.student}`,10),o(`Correct Diagnosis: ${t.diagnosis.correct}`,10,!0),t.diagnosis.potential&&t.diagnosis.potential.length>0&&(o("Other Potential Diagnoses:",10,!0),t.diagnosis.potential.forEach(l=>{o(`   ${l.dx}`,9)})),n+=5,t.stepwiseReasoning&&(o("Stepwise Reasoning",14,!0,"#3b82f6"),n+=3,o(t.stepwiseReasoning,9),n+=5),t.mcqResults&&t.mcqResults.length>0&&(o("MCQ Results",14,!0,"#3b82f6"),n+=3,t.mcqResults.forEach((l,u)=>{o(`${u+1}. ${l.question}`,10,!0),l.options.forEach((c,f)=>{let p="  ";f===l.correctIndex&&(p=" "),f===l.selectedIndex&&!l.correct&&(p=" "),o(`${p}${c}`,9)}),l.explanation&&o(`Explanation: ${l.explanation}`,9),n+=3}),n+=5),t.rubricResults&&t.rubricResults.length>0&&(o("Rubric Assessment",14,!0,"#3b82f6"),n+=3,t.rubricResults.forEach((l,u)=>{o(`${u+1}. ${l.criterion}`,10,!0),o(`   Points: ${l.pointsEarned} / ${l.maxPoints}`,9),l.percentage!==void 0&&o(`   Score: ${l.percentage}%`,9),l.feedback&&o(`   Feedback: ${l.feedback}`,9),n+=3}),n+=5),t.learningPearls&&t.learningPearls.length>0&&(o("Learning Pearls",14,!0,"#3b82f6"),n+=3,t.learningPearls.forEach(l=>{o(` ${l}`,9)}),n+=5),t.furtherReading&&t.furtherReading.length>0&&(o("Further Reading",14,!0,"#3b82f6"),n+=3,t.furtherReading.forEach(l=>{o(` ${l.title}`,9),l.url&&o(`  ${l.url}`,8)}));const s=e.getNumberOfPages();for(let l=1;l<=s;l++)e.setPage(l),e.setFontSize(8),e.setTextColor("#666666"),e.text(`Page ${l} of ${s} | Generated on ${new Date().toLocaleDateString()}`,i,e.internal.pageSize.getHeight()-10);return e}function hxe({user:t}){var re,ce,ye,se,me,we,he,Ie;const{runId:e}=A0(),n=Ya(),r=vs(),[i,a]=K.useState(null),[o,s]=K.useState(!0),[l,u]=K.useState(null),[c,f]=K.useState("feedback"),[p,h]=K.useState(0),[y,g]=K.useState({}),[x,v]=K.useState(!1);K.useEffect(()=>{e&&(_(),w())},[e]),K.useEffect(()=>{if(i&&i.transcript){const Z=i.transcript.postCaseMCQAnswers||{};g(Z),v(Object.keys(Z).length>0)}},[i]);const w=async()=>{try{const{data:ae}=await Pe.from("simulation_runs").select("submitted_at, created_at").eq("student_id",t.id).not("submitted_at","is",null).order("submitted_at",{ascending:!1});if(!ae||ae.length===0){h(0);return}let Z=0;const Be=new Date;Be.setHours(0,0,0,0);let Ue=new Date(Be);for(const Ve of ae){const be=new Date(Ve.submitted_at||Ve.created_at);if(be.setHours(0,0,0,0),be.getTime()===Ue.getTime())Z++,Ue.setDate(Ue.getDate()-1);else if(be.getTime()<Ue.getTime())break}h(Z)}catch(ae){console.error("Error calculating streak:",ae),h(0)}},_=async()=>{try{const{data:ae,error:Z}=await Pe.from("simulation_runs").select("*").eq("id",e).single();if(Z)throw Z;if(a(ae),ae){const Be=ae.transcript,Ue=(Be==null?void 0:Be.postCaseMCQAnswers)||{};g(Ue),v(Object.keys(Ue).length>0)}if(ae.assignment_id){const{data:Be}=await Pe.from("assignments").select("snapshot_id").eq("id",ae.assignment_id).single();if(Be){const{data:Ue}=await Pe.from("case_snapshots").select("*").eq("id",Be.snapshot_id).single();u(Ue)}}}catch(ae){console.error("Error loading debrief:",ae)}finally{s(!1)}};if(o)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});if(!i||!i.score)return d.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:d.jsx("p",{children:"Debrief data not available yet."})});const A=i.score,S=A.overall||0,N=A.sloResults||[],C=A.rubricResults||[],I=i.transcript,U=(((re=l==null?void 0:l.clinical_case)==null?void 0:re.mcqs)||[]).slice(-3).slice(0,3),P=(I==null?void 0:I.postCaseMCQAnswers)||{},O=U.length>0&&U.some(ae=>P[`post-case-${ae.id}`]!==void 0),D=A.postCaseMCQs||[],L=A.correctDiagnosis||((se=(ye=(ce=l==null?void 0:l.clinical_case)==null?void 0:ce.potentialDiagnoses)==null?void 0:ye[0])==null?void 0:se.dx)||"",B=A.studentDiagnosis||(I==null?void 0:I.diagnosis)||"",J=A.diagnosisCorrect||!1,H=A.diagnosisScore||0,X=(()=>{if(!i.started_at||!i.submitted_at)return"N/A";const ae=new Date(i.started_at),Z=new Date(i.submitted_at),Be=Math.floor((Z.getTime()-ae.getTime())/6e4),Ue=Math.floor((Z.getTime()-ae.getTime())%6e4/1e3);return`${Be}m ${Ue}s`})(),oe=A.stepwiseReasoning||A.aiComments||"Stepwise reasoning not available.",ie=((me=l==null?void 0:l.clinical_case)==null?void 0:me.learningPearls)||[],k=((we=l==null?void 0:l.clinical_case)==null?void 0:we.furtherReading)||[],q=ae=>ae>=80?"text-green-600":ae>=60?"text-yellow-600":"text-red-600",G=ae=>ae>=80?"bg-green-100 text-green-800 border-green-200":ae>=60?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200",te=()=>{var Oe,_e,Le,Re,it;if(!i||!l)return;const ae=((Oe=l.clinical_case)==null?void 0:Oe.title)||"Untitled Case",Z=((Le=(_e=l.clinical_case)==null?void 0:_e.patientProfile)==null?void 0:Le.name)||"Patient";let Be=0;if(i.started_at&&i.submitted_at){const De=new Date(i.started_at),ze=new Date(i.submitted_at);Be=Math.floor((ze.getTime()-De.getTime())/6e4)}const Ue=(D||[]).map((De,ze)=>{const mt=U.find(et=>et.question===De.question),Qe=(mt==null?void 0:mt.answerIndex)??-1,Ge=y[`post-case-${mt==null?void 0:mt.id}`]??-1;return{question:De.question||`Question ${ze+1}`,options:De.options||(mt==null?void 0:mt.options)||[],selectedIndex:Ge,correctIndex:Qe,correct:Ge===Qe,explanation:De.explanation}}),Ve={caseTitle:ae,patientName:Z,score:{overall:S,accuracy:H,mcqScore:Ue.length>0?Math.round(Ue.filter(De=>De.correct).length/Ue.length*100):0,sloResults:N.map(De=>({sloId:De.sloId||"Unknown",sloText:De.sloText,status:De.status||"Not Achieved",percent:De.percent||0}))},timeTaken:Be,currentStreak:p,stepwiseReasoning:oe,diagnosis:{student:B,correct:L,potential:((Re=l.clinical_case)==null?void 0:Re.potentialDiagnoses)||[]},mcqResults:Ue,rubricResults:((it=i.score)==null?void 0:it.rubricResults)||[],learningPearls:ie,furtherReading:k};fxe(Ve).save(`debrief-${ae.replace(/[^a-z0-9]/gi,"-").toLowerCase()}-${new Date().toISOString().split("T")[0]}.pdf`)};return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Simulation Debrief"}),((he=l==null?void 0:l.clinical_case)==null?void 0:he.title)&&d.jsx("p",{className:"text-gray-600",children:l.clinical_case.title})]}),d.jsxs("button",{onClick:()=>n("/results"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900",children:[d.jsx(yp,{className:"w-4 h-4"}),"Back to Results"]})]}),d.jsx("div",{className:`mb-6 p-4 rounded-lg border-2 ${J?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[J?d.jsx(vo,{className:"w-6 h-6 text-green-600"}):d.jsx(Cu,{className:"w-6 h-6 text-red-600"}),d.jsxs("div",{children:[d.jsxs("div",{className:`font-semibold ${J?"text-green-800":"text-red-800"}`,children:["Diagnosis ",J?"Correct":"Incorrect"]}),!J&&d.jsxs("div",{className:"text-sm text-red-700 mt-1",children:["The correct diagnosis was: ",L]})]})]})}),d.jsx(yve,{accuracy:H,timeTaken:X,currentStreak:p}),d.jsx(gve,{activeTab:c,onTabChange:f}),d.jsxs("div",{className:"mt-6",children:[c==="feedback"&&d.jsxs("div",{children:[d.jsx(vve,{reasoning:oe}),d.jsx(bve,{pearls:ie}),d.jsx(wve,{references:k}),A.aiComments&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ga,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"AI-Generated Feedback"})]}),d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:A.aiComments})})]}),S<80&&d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(T0,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Areas for Improvement"}),d.jsxs("ul",{className:"list-disc list-inside text-yellow-800 space-y-1",children:[N.filter(ae=>ae.status!=="Achieved").slice(0,3).map((ae,Z)=>d.jsxs("li",{children:["Focus on improving ",ae.sloId||`SLO ${Z+1}`," (currently"," ",ae.percent.toFixed(0),"%)"]},Z)),d.jsx("li",{children:"Review the case materials and practice similar scenarios"}),d.jsx("li",{children:"Consider retaking this simulation to improve your score"})]})]})]})})]}),c==="review"&&d.jsxs("div",{children:[d.jsxs("div",{className:`bg-white rounded-lg shadow p-6 mb-6 border-2 ${G(S)}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Overall Performance"}),d.jsx(uf,{className:`w-6 h-6 ${q(S)}`})]}),d.jsx("div",{className:"flex items-center justify-center mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:`text-6xl font-bold ${q(S)}`,children:[S.toFixed(0),"%"]}),d.jsx("div",{className:"text-gray-600 mt-2",children:"Overall Score"})]})}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:N.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"SLOs Assessed"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:N.filter(ae=>ae.status==="Achieved").length}),d.jsx("div",{className:"text-sm text-gray-600",children:"SLOs Achieved"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:X}),d.jsx("div",{className:"text-sm text-gray-600",children:"Time Taken"})]})]})]}),((Ie=l==null?void 0:l.clinical_case)==null?void 0:Ie.potentialDiagnoses)&&d.jsx(xve,{potentialDiagnoses:l.clinical_case.potentialDiagnoses,studentDiagnosis:B,correctDiagnosis:L}),N.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(yo,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"SLO (Specific Learning Outcomes) Breakdown"})]}),d.jsx("div",{className:"space-y-4",children:N.map((ae,Z)=>d.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"font-medium text-gray-900",children:ae.sloId||`SLO ${Z+1}`}),ae.sloText&&d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ae.sloText})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[ae.status==="Achieved"?d.jsx(vo,{className:"w-5 h-5 text-green-600"}):d.jsx(Cu,{className:"w-5 h-5 text-red-600"}),d.jsxs("span",{className:`font-semibold ${q(ae.percent)}`,children:[ae.percent.toFixed(0),"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:`h-3 rounded-full transition-all ${ae.percent>=70?"bg-green-600":ae.percent>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(ae.percent,100)}%`}})}),ae.feedback&&d.jsxs("p",{className:"text-sm text-gray-600 mt-2 italic",children:['"',ae.feedback,'"']})]},Z))})]}),C.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Wi,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Rubric Assessment"})]}),d.jsx("div",{className:"space-y-3",children:C.map((ae,Z)=>d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"font-medium text-gray-900",children:ae.criterion}),d.jsxs("span",{className:"text-sm text-gray-600",children:[ae.pointsEarned," / ",ae.maxPoints," points"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${ae.pointsEarned/ae.maxPoints*100}%`}})}),ae.feedback&&d.jsx("p",{className:"text-sm text-gray-600 mt-2",children:ae.feedback})]},Z))})]})]}),c==="questions"&&d.jsx("div",{children:U.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Wi,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"POST-CASE QUESTIONS"})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:x?"Review your answers and results below.":"Answer these questions based on the case you just completed."}),d.jsx("div",{className:"space-y-4",children:U.map((ae,Z)=>{var Le;const Be=`post-case-${ae.id}`,Ue=y[Be],Ve=ae.answerIndex,be=ae.options[Ve],Oe=x||O,_e=D.find(Re=>Re.question===ae.question);return d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsx("div",{className:"flex items-start justify-between mb-3",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("p",{className:"font-medium text-gray-900 mb-2",children:[Z+1,". ",ae.question]}),d.jsx("div",{className:"space-y-2 mt-3",children:(Le=ae.options)==null?void 0:Le.map((Re,it)=>{const De=Ue===it,ze=it===Ve;return d.jsx("button",{onClick:()=>{Oe||g({...y,[Be]:it})},disabled:Oe,className:`w-full text-left p-3 rounded-lg border-2 transition-all ${Oe?ze?"bg-green-50 border-green-200":De&&!ze?"bg-red-50 border-red-200":"bg-white border-gray-200":De?"bg-primary-50 border-primary-300":"bg-white border-gray-200 hover:border-primary-300 hover:bg-gray-50"} ${Oe?"cursor-default":"cursor-pointer"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:Re}),Oe&&ze&&d.jsx(vo,{className:"w-5 h-5 text-green-600"}),Oe&&De&&!ze&&d.jsx(Cu,{className:"w-5 h-5 text-red-600"}),!Oe&&De&&d.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-primary-600 bg-primary-100"})]})},it)})})]})}),Oe&&((_e==null?void 0:_e.explanation)||ae.explanation)&&d.jsxs("div",{className:"mt-3 pt-3 border-t",children:[d.jsx("div",{className:"font-medium text-gray-700 mb-1",children:"EXPLANATION"}),d.jsx("p",{className:"text-sm text-gray-600",children:(_e==null?void 0:_e.explanation)||`The correct answer is ${be}. ${ae.explanation||""}`})]})]},Z)})}),!x&&!O&&d.jsx("div",{className:"mt-6 pt-4 border-t",children:d.jsx("button",{onClick:async()=>{if(!U.every(Z=>y[`post-case-${Z.id}`]!==void 0)){r.warning("Please answer all questions before submitting.");return}if(e){const Z={...I,postCaseMCQAnswers:y},{error:Be}=await Pe.from("simulation_runs").update({transcript:Z}).eq("id",e);if(Be){r.error("Error saving answers: "+Be.message);return}try{const{error:Ue}=await Pe.functions.invoke("score_simulation",{body:{runId:e}});Ue?console.error("Error re-scoring:",Ue):(await _(),v(!0))}catch(Ue){console.error("Error calling score function:",Ue)}}},disabled:U.some(ae=>y[`post-case-${ae.id}`]===void 0),className:"w-full px-4 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-all",children:"Submit Answers"})}),(x||O)&&d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-gray-600",children:["Score: ",U.filter(ae=>y[`post-case-${ae.id}`]===ae.answerIndex).length," / ",U.length]}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[U.length>0?(U.filter(ae=>y[`post-case-${ae.id}`]===ae.answerIndex).length/U.length*100).toFixed(0):0,"%"]})]})})]})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-6",children:[d.jsxs("button",{onClick:()=>n("/results"),className:"flex items-center justify-center gap-2 px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[d.jsx(yp,{className:"w-4 h-4"}),"Back to Results"]}),d.jsxs("button",{onClick:te,className:"flex items-center justify-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(sd,{className:"w-4 h-4"}),"Download PDF Report"]})]})]}),d.jsx($r,{role:"student"}),d.jsx(vl,{toasts:r.toasts,onClose:r.removeToast})]})}function pxe({user:t}){const e=Ya(),[n,r]=K.useState([]),[i,a]=K.useState(!0);K.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:u,error:c}=await Pe.from("simulation_runs").select("*").eq("student_id",t.id).not("submitted_at","is",null).order("submitted_at",{ascending:!1});if(c)throw c;const f=await Promise.all((u||[]).map(async p=>{const{data:h}=await Pe.from("assignments").select("*").eq("id",p.assignment_id).single();let y=null;if(h){const{data:g}=await Pe.from("case_snapshots").select("*").eq("id",h.snapshot_id).single();y=g}return{...p,assignment:h,snapshot:y}}));r(f)}catch(u){console.error("Error loading results:",u)}finally{a(!1)}},s=u=>u>=80?"bg-green-100 text-green-800":u>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",l=(u,c)=>{const f=new Date(u),p=new Date(c);return`${Math.floor((p.getTime()-f.getTime())/6e4)} minutes`};return i?d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Results & History"}),d.jsx("p",{className:"text-gray-600",children:"View your past simulation attempts and performance"})]}),n.length>0&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Attempts"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[n.length>0?Math.round(n.reduce((u,c)=>{var p;const f=((p=c.score)==null?void 0:p.overall)||0;return u+f},0)/n.length):0,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:[n.length>0?Math.max(...n.map(u=>{var f;return((f=u.score)==null?void 0:f.overall)||0})):0,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]})]}),n.length===0?d.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[d.jsx(uf,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 text-lg",children:"No completed simulations yet"}),d.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Complete a simulation to see your results here"})]}):d.jsx("div",{className:"space-y-4",children:n.map(u=>{var y,g,x,v,w,_,A;const c=((y=u.score)==null?void 0:y.overall)||0,f=((g=u.score)==null?void 0:g.sloResults)||[],p=((v=(x=u.snapshot)==null?void 0:x.clinical_case)==null?void 0:v.title)||"Untitled Station",h=((A=(_=(w=u.snapshot)==null?void 0:w.clinical_case)==null?void 0:_.patientProfile)==null?void 0:A.name)||"Patient";return d.jsx("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p}),d.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Patient: ",h]})]}),d.jsxs("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${s(c)}`,children:[c.toFixed(0),"%"]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm text-gray-600",children:[u.started_at&&u.submitted_at&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Yu,{className:"w-4 h-4"}),d.jsx("span",{children:l(u.started_at,u.submitted_at)})]}),u.submitted_at&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(cf,{className:"w-4 h-4"}),d.jsx("span",{children:new Date(u.submitted_at).toLocaleDateString()})]}),f.length>0&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Ga,{className:"w-4 h-4"}),d.jsxs("span",{children:[f.filter(S=>S.status==="Achieved").length," /"," ",f.length," SLOs Achieved"]})]})]}),f.length>0&&d.jsxs("div",{className:"mt-4 space-y-2",children:[f.slice(0,3).map((S,N)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${S.percent>=70?"bg-green-600":"bg-yellow-600"}`,style:{width:`${S.percent}%`}})}),d.jsxs("span",{className:"text-xs text-gray-600 w-12 text-right",children:[S.percent,"%"]})]},N)),f.length>3&&d.jsxs("p",{className:"text-xs text-gray-500",children:["+",f.length-3," more SLOs"]})]})]}),d.jsx("div",{className:"flex gap-2",children:d.jsxs("button",{onClick:()=>e(`/debrief/${u.id}`),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:[d.jsx(k0,{className:"w-4 h-4"}),"View Details"]})})]})},u.id)})})]}),d.jsx($r,{role:"student"})]})}function mxe({user:t}){const e=vs(),[n,r]=K.useState({totalAttempts:0,averageScore:0,bestScore:0,completedAssignments:0}),[i,a]=K.useState([]),[o,s]=K.useState([]),[l,u]=K.useState(!0),[c,f]=K.useState(!1),[p,h]=K.useState(!1),[y,g]=K.useState({totalTimeSpent:0,averageTimePerAttempt:0,improvementRate:0,slosAchieved:0,totalSlos:0,streak:0,lastActivity:null});K.useEffect(()=>{x(),v()},[]);const x=async()=>{try{const{data:S}=await Pe.from("simulation_runs").select("score, submitted_at, started_at, created_at").eq("student_id",t.id).not("submitted_at","is",null),N=S||[],C=N.map(re=>{var ce;return((ce=re.score)==null?void 0:ce.overall)||0}).filter(re=>re>0),I=N.length,R=C.length>0?C.reduce((re,ce)=>re+ce,0)/C.length:0,U=C.length>0?Math.max(...C):0,{data:P}=await Pe.from("cohort_members").select("cohort_id").eq("student_id",t.id);let O=0;if(P&&P.length>0){const re=P.map(ye=>ye.cohort_id),{data:ce}=await Pe.from("assignments").select("id").in("cohort_id",re);if(ce){const ye=ce.map(me=>me.id),{data:se}=await Pe.from("simulation_runs").select("assignment_id").eq("student_id",t.id).not("submitted_at","is",null).in("assignment_id",ye);O=new Set(se==null?void 0:se.map(me=>me.assignment_id)).size}}const{data:D}=await Pe.from("simulation_runs").select("started_at, submitted_at, score, created_at").eq("student_id",t.id).not("submitted_at","is",null),L=(D||[]).reduce((re,ce)=>{if(ce.started_at&&ce.submitted_at){const ye=new Date(ce.started_at),se=new Date(ce.submitted_at);return re+Math.floor((se.getTime()-ye.getTime())/6e4)}return re},0),B=N.length>0?Math.round(L/N.length):0;let J=0,H=0;N.forEach(re=>{var ye;(((ye=re.score)==null?void 0:ye.sloResults)||[]).forEach(se=>{H++,se.status==="Achieved"&&J++})});const M=C.slice(0,5),X=C.slice(5,10),oe=M.length>0?M.reduce((re,ce)=>re+ce,0)/M.length:0,ie=X.length>0?X.reduce((re,ce)=>re+ce,0)/X.length:0,k=ie>0?(oe-ie)/ie*100:0,q=N[0],G=(q==null?void 0:q.submitted_at)||null;let te=0;if(N.length>0){const re=new Date;re.setHours(0,0,0,0);let ce=new Date(re);for(let ye=0;ye<N.length;ye++){const se=N[ye],me=new Date(se.submitted_at||se.created_at||se.started_at);if(me.setHours(0,0,0,0),me.getTime()===ce.getTime())te++,ce.setDate(ce.getDate()-1);else if(me.getTime()<ce.getTime())break}}r({totalAttempts:I,averageScore:Math.round(R),bestScore:Math.round(U),completedAssignments:O}),g({totalTimeSpent:L,averageTimePerAttempt:B,improvementRate:Math.round(k*10)/10,slosAchieved:J,totalSlos:H,streak:te,lastActivity:G})}catch(S){console.error("Error loading stats:",S)}finally{u(!1)}},v=async()=>{try{const{data:S}=await Pe.from("cohort_members").select("cohort_id, cohorts(id, name, description)").eq("student_id",t.id),N=(S||[]).map(U=>U.cohort_id),C=(S||[]).map(U=>U.cohorts).filter(Boolean);a(C);const{data:I}=await Pe.from("cohorts").select("id, name, description").order("name"),R=(I||[]).filter(U=>!N.includes(U.id));s(R)}catch(S){console.error("Error loading cohorts:",S)}},w=async S=>{f(!0);try{const{error:N}=await Pe.from("cohort_members").insert({cohort_id:S,student_id:t.id});if(N)throw N;await v()}catch(N){e.error("Error joining cohort: "+N.message)}finally{f(!1)}},_=async S=>{if(confirm("Are you sure you want to leave this cohort? You will lose access to its assignments.")){f(!0);try{const{error:N}=await Pe.from("cohort_members").delete().eq("cohort_id",S).eq("student_id",t.id);if(N)throw N;await v()}catch(N){e.error("Error leaving cohort: "+N.message)}finally{f(!1)}}},A=async()=>{await V5()};return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Profile"}),d.jsx("p",{className:"text-gray-600",children:"View your account information and performance statistics"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center",children:d.jsx(xo,{className:"w-10 h-10 text-primary-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(Zj,{className:"w-4 h-4"}),d.jsx("span",{children:t.email})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(cf,{className:"w-4 h-4"}),d.jsxs("span",{children:["Member since ",new Date(t.created_at).toLocaleDateString()]})]})]})]}),d.jsx("div",{className:"border-t pt-4",children:d.jsx("div",{className:"flex items-center gap-2 text-sm",children:d.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full font-medium",children:"Student"})})})]}),!l&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(P0,{className:"w-5 h-5 text-primary-600"}),d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.totalAttempts})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Attempts"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Ga,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[n.averageScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(uf,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[n.bestScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Fh,{className:"w-5 h-5 text-primary-600"}),d.jsx("div",{className:"text-2xl font-bold text-primary-600",children:n.completedAssignments})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(yo,{className:"w-5 h-5 text-primary-600"}),"Performance Metrics"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Time Spent"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[y.totalTimeSpent," min"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Avg Time per Attempt"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[y.averageTimePerAttempt," min"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Improvement Rate"}),d.jsxs("span",{className:`font-semibold ${y.improvementRate>0?"text-green-600":y.improvementRate<0?"text-red-600":"text-gray-900"}`,children:[y.improvementRate>0?"+":"",y.improvementRate,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Current Streak"}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[y.streak," days"]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(Fh,{className:"w-5 h-5 text-primary-600"}),"Learning Outcomes"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"SLOs Achieved"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[y.slosAchieved," / ",y.totalSlos]})]}),y.totalSlos>0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-primary-600 h-3 rounded-full transition-all",style:{width:`${y.slosAchieved/y.totalSlos*100}%`}})}),d.jsxs("div",{className:"text-sm text-gray-500",children:[(y.slosAchieved/y.totalSlos*100).toFixed(1),"% achievement rate"]})]}),y.lastActivity&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mt-4 pt-4 border-t",children:[d.jsx(Yu,{className:"w-4 h-4"}),d.jsxs("span",{children:["Last activity: ",new Date(y.lastActivity).toLocaleDateString()]})]})]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(yl,{className:"w-5 h-5 text-primary-600"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Cohorts"})]}),d.jsxs("button",{onClick:()=>h(!p),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:[d.jsx(Qj,{className:"w-4 h-4"}),"Manage"]})]}),i.length===0?d.jsx("p",{className:"text-gray-500 text-sm",children:"You are not in any cohorts yet."}):d.jsx("div",{className:"space-y-2",children:i.map(S=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:S.name}),S.description&&d.jsx("div",{className:"text-sm text-gray-500",children:S.description})]}),p&&d.jsx("button",{onClick:()=>_(S.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Leave cohort",children:d.jsx(df,{className:"w-4 h-4"})})]},S.id))}),p&&o.length>0&&d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Cohorts"}),d.jsx("div",{className:"space-y-2",children:o.map(S=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-md",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:S.name}),S.description&&d.jsx("div",{className:"text-sm text-gray-500",children:S.description})]}),d.jsxs("button",{onClick:()=>w(S.id),disabled:c,className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 transition-colors",children:[d.jsx(um,{className:"w-4 h-4"}),"Join"]})]},S.id))})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Actions"}),d.jsx("div",{className:"space-y-2",children:d.jsxs("button",{onClick:A,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors font-medium",children:[d.jsx(Xj,{className:"w-5 h-5"}),"Sign Out"]})})]})]}),d.jsx($r,{role:"student"})]})}function gxe({data:t}){return d.jsx(hm,{width:"100%",height:300,children:d.jsxs(eA,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(wm,{strokeDasharray:"3 3"}),d.jsx(Il,{dataKey:"date"}),d.jsx(Ol,{domain:[0,100]}),d.jsx(pi,{}),d.jsx(wo,{}),d.jsx(bl,{type:"monotone",dataKey:"score",stroke:"#3b82f6",strokeWidth:2,name:"Score (%)",dot:{fill:"#3b82f6",r:4}})]})})}function yxe({user:t}){const[e,n]=K.useState(null),[r,i]=K.useState(!0),[a,o]=K.useState([]);K.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:u}=await Pe.from("cohort_members").select("cohort_id").eq("student_id",t.id),c=(u==null?void 0:u.map(k=>k.cohort_id))||[];let f=[];if(c.length>0){const{data:k}=await Pe.from("assignments").select("*").in("cohort_id",c);f=k||[]}const{data:p}=await Pe.from("simulation_runs").select("*, assignments!inner(snapshot_id, case_snapshots!inner(clinical_case))").eq("student_id",t.id).order("submitted_at",{ascending:!1}),h=(p||[]).filter(k=>k.submitted_at),y=(p||[]).filter(k=>!k.submitted_at),g=h.map(k=>{var q;return((q=k.score)==null?void 0:q.overall)||0}).filter(k=>k>0),x=g.length>0?g.reduce((k,q)=>k+q,0)/g.length:0,v=g.length>0?Math.max(...g):0,w=g.slice(0,3),_=g.slice(3,6),A=w.length>0?w.reduce((k,q)=>k+q,0)/w.length:0,S=_.length>0?_.reduce((k,q)=>k+q,0)/_.length:0,N=S>0?(A-S)/S*100:0,C=h.slice(0,10).map(k=>{var te;const q=((te=k.score)==null?void 0:te.overall)||0,G=k.submitted_at||k.created_at;return{date:new Date(G).toLocaleDateString("en-US",{month:"short",day:"numeric"}),score:Math.round(q)}}).reverse();o(C);const I=new Map;h.forEach(k=>{var G;(((G=k.score)==null?void 0:G.sloResults)||[]).forEach(te=>{const re=te.sloId||"unknown";I.has(re)||I.set(re,{achieved:0,total:0,text:te.sloText});const ce=I.get(re);ce.total++,te.status==="Achieved"&&ce.achieved++})});const R=Array.from(I.entries()).map(([k,q])=>({sloId:k,sloText:q.text,achieved:q.achieved,total:q.total,percentage:q.total>0?q.achieved/q.total*100:0})).sort((k,q)=>q.percentage-k.percentage),U=h.reduce((k,q)=>{if(q.started_at&&q.submitted_at){const G=new Date(q.started_at),te=new Date(q.submitted_at);return k+Math.floor((te.getTime()-G.getTime())/6e4)}return k},0),P=h.slice(0,5).map(k=>{var q;return{date:k.submitted_at||k.created_at,action:"Completed simulation",score:((q=k.score)==null?void 0:q.overall)||0}}),O=new Set(h.map(k=>k.assignment_id)),D=new Set(y.map(k=>k.assignment_id)),L=f.filter(k=>O.has(k.id)).length,B=f.filter(k=>D.has(k.id)&&!O.has(k.id)).length,J=f.length-L-B,{data:H}=await Pe.from("competencies").select("id, domain, level, description"),{data:M}=await Pe.from("slo").select("id, competency_id, text"),X=new Map;M==null||M.forEach(k=>{k.competency_id&&X.set(k.id,k.competency_id)});const oe=new Map;H==null||H.forEach(k=>{oe.set(k.id,{competency:k.id,domain:k.domain,level:k.level||null,description:k.description,totalAttempts:0,achievedAttempts:0,assignments:[]})}),h.forEach(k=>{var me,we;if(!f.find(he=>he.id===k.assignment_id))return;const G=(me=k.assignments)==null?void 0:me.case_snapshots;if(!(G!=null&&G.clinical_case))return;const te=G.clinical_case,re=te.sloMappings||[],ce=te.title||"Untitled Assignment",ye=((we=k.score)==null?void 0:we.sloResults)||[],se=new Set(ye.filter(he=>he.status==="Achieved").map(he=>he.sloId));re.forEach(he=>{const Ie=X.get(he);if(!Ie)return;const ae=oe.get(Ie);ae&&(ae.totalAttempts++,se.has(he)&&ae.achievedAttempts++,ae.assignments.includes(ce)||ae.assignments.push(ce))})});const ie=Array.from(oe.values()).filter(k=>k.totalAttempts>0).map(k=>({competency:k.competency,domain:k.domain,level:k.level,description:k.description,progress:k.totalAttempts>0?Math.round(k.achievedAttempts/k.totalAttempts*100):0,totalAttempts:k.totalAttempts,achievedAttempts:k.achievedAttempts,assignments:k.assignments})).sort((k,q)=>q.progress-k.progress);n({totalAssignments:f.length,completedAssignments:L,pendingAssignments:J,inProgressAssignments:B,totalAttempts:(p==null?void 0:p.length)||0,averageScore:Math.round(x),bestScore:Math.round(v),improvementTrend:Math.round(N*10)/10,sloProgress:R,recentActivity:P,timeSpent:U,competencyProgress:ie})}catch(u){console.error("Error loading analytics:",u)}finally{i(!1)}};if(r)return d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});if(!e)return d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 p-4",children:d.jsx("p",{children:"Unable to load analytics data."})});const l=e.totalAssignments>0?e.completedAssignments/e.totalAssignments*100:0;return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Analytics"}),d.jsx("p",{className:"text-gray-600",children:"Track your progress and performance"})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Fh,{className:"w-5 h-5 text-primary-600"}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[l.toFixed(0),"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Completion Rate"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Ga,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[e.averageScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(uf,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[e.bestScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Yu,{className:"w-5 h-5 text-blue-600"}),d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.timeSpent})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Minutes Practiced"})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(yo,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Progress Overview"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Completed"}),d.jsxs("span",{className:"text-sm font-semibold",children:[e.completedAssignments,"/",e.totalAssignments]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-green-600 h-3 rounded-full transition-all",style:{width:`${l}%`}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"In Progress"}),d.jsx("span",{className:"text-sm font-semibold",children:e.inProgressAssignments})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-yellow-600 h-3 rounded-full transition-all",style:{width:`${e.totalAssignments>0?e.inProgressAssignments/e.totalAssignments*100:0}%`}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Pending"}),d.jsx("span",{className:"text-sm font-semibold",children:e.pendingAssignments})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-gray-400 h-3 rounded-full transition-all",style:{width:`${e.totalAssignments>0?e.pendingAssignments/e.totalAssignments*100:0}%`}})})]})]})]}),a.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ga,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Score Trend (Last 10 Attempts)"})]}),d.jsx(gxe,{data:a})]}),e.improvementTrend!==0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ga,{className:`w-5 h-5 ${e.improvementTrend>0?"text-green-600":"text-red-600"}`}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Performance Trend"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:`text-3xl font-bold ${e.improvementTrend>0?"text-green-600":"text-red-600"}`,children:[e.improvementTrend>0?"+":"",e.improvementTrend.toFixed(1),"%"]}),d.jsxs("div",{className:"text-gray-600",children:[e.improvementTrend>0?"Improving":"Declining"," compared to previous attempts"]})]})]}),e.sloProgress.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Fh,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"SLO Achievement"})]}),d.jsx("div",{className:"space-y-4",children:e.sloProgress.slice(0,5).map((u,c)=>d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:u.sloId}),u.sloText&&d.jsx("div",{className:"text-sm text-gray-600",children:u.sloText})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[u.percentage>=70?d.jsx(vo,{className:"w-5 h-5 text-green-600"}):d.jsx(Cu,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("span",{className:"font-semibold",children:[u.percentage.toFixed(0),"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${u.percentage>=70?"bg-green-600":"bg-yellow-600"}`,style:{width:`${u.percentage}%`}})}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Achieved ",u.achieved," out of ",u.total," attempts"]})]},c))})]}),e.recentActivity.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Eq,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"})]}),d.jsx("div",{className:"space-y-3",children:e.recentActivity.map((u,c)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(cf,{className:"w-4 h-4 text-gray-400"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:u.action}),d.jsx("div",{className:"text-sm text-gray-500",children:new Date(u.date).toLocaleDateString()})]})]}),u.score!==void 0&&d.jsxs("div",{className:"font-semibold text-primary-600",children:[u.score.toFixed(0),"%"]})]},c))})]}),e.competencyProgress.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Fh,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Competency Progress"})]}),d.jsx("div",{className:"space-y-4",children:e.competencyProgress.slice(0,8).map((u,c)=>d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:u.competency}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:u.description}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:u.domain}),u.level&&d.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded",children:u.level})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[u.progress>=70?d.jsx(vo,{className:"w-5 h-5 text-green-600"}):u.progress>=50?d.jsx(Cu,{className:"w-5 h-5 text-yellow-600"}):d.jsx(Cu,{className:"w-5 h-5 text-red-600"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[u.progress,"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${u.progress>=70?"bg-green-600":u.progress>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${u.progress}%`}})}),d.jsxs("div",{className:"text-xs text-gray-500",children:["Achieved ",u.achievedAttempts," out of ",u.totalAttempts," attempts",u.assignments.length>0&&d.jsxs("span",{className:"ml-2",children:[" ",u.assignments.length," assignment",u.assignments.length!==1?"s":""]})]})]},c))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Assignment Status"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Assignments"}),d.jsx("span",{className:"font-semibold",children:e.totalAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Completed"}),d.jsx("span",{className:"font-semibold text-green-600",children:e.completedAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"In Progress"}),d.jsx("span",{className:"font-semibold text-yellow-600",children:e.inProgressAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Pending"}),d.jsx("span",{className:"font-semibold text-gray-600",children:e.pendingAssignments})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Stats"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Attempts"}),d.jsx("span",{className:"font-semibold",children:e.totalAttempts})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Average Score"}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[e.averageScore,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Best Score"}),d.jsxs("span",{className:"font-semibold text-yellow-600",children:[e.bestScore,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Time Practiced"}),d.jsxs("span",{className:"font-semibold text-blue-600",children:[e.timeSpent," min"]})]})]})]})]})]}),d.jsx($r,{role:"student"})]})}function D8({data:t}){return!t||t.length===0?d.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:d.jsx("p",{children:"No performance data available"})}):d.jsx(hm,{width:"100%",height:300,children:d.jsxs(eA,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(wm,{strokeDasharray:"3 3"}),d.jsx(Il,{dataKey:"date",angle:-45,textAnchor:"end",height:80}),d.jsx(Ol,{domain:[0,100]}),d.jsx(pi,{formatter:e=>[`${e.toFixed(1)}%`,"Average Score"],labelFormatter:e=>`Date: ${e}`}),d.jsx(wo,{}),d.jsx(bl,{type:"monotone",dataKey:"averageScore",stroke:"#3b82f6",strokeWidth:2,name:"Average Score",dot:{fill:"#3b82f6",r:4},activeDot:{r:6}})]})})}function $8({entries:t,maxDisplay:e=20}){if(!t||t.length===0)return d.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:d.jsx("p",{children:"No student performance data available"})});const n=t.slice(0,e),r=a=>a===1?d.jsx(Uq,{className:"w-6 h-6 text-yellow-500"}):a===2?d.jsx(Oq,{className:"w-6 h-6 text-gray-400"}):a===3?d.jsx(uf,{className:"w-6 h-6 text-amber-600"}):d.jsx("div",{className:"w-6 h-6 flex items-center justify-center text-gray-500 font-bold",children:a}),i=a=>a===1?"bg-yellow-50 border-yellow-200":a===2?"bg-gray-50 border-gray-200":a===3?"bg-amber-50 border-amber-200":"bg-white border-gray-200";return d.jsxs("div",{className:"space-y-2",children:[n.map((a,o)=>{const s=o+1;return d.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border-2 ${i(s)} transition-all hover:shadow-md`,children:[d.jsx("div",{className:"flex-shrink-0",children:r(s)}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold text-gray-900 truncate",children:a.name}),d.jsx("div",{className:"text-sm text-gray-600 truncate",children:a.email})]}),d.jsxs("div",{className:"flex items-center gap-6 flex-shrink-0",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-gray-500",children:"Avg Score"}),d.jsxs("div",{className:"text-lg font-bold text-primary-600",children:[a.averageScore.toFixed(1),"%"]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-gray-500",children:"Attempts"}),d.jsx("div",{className:"text-lg font-semibold text-gray-700",children:a.totalAttempts})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-gray-500",children:"Best"}),d.jsxs("div",{className:"text-lg font-semibold text-green-600",children:[a.bestScore.toFixed(1),"%"]})]})]})]},a.id)}),t.length>e&&d.jsxs("div",{className:"text-center text-sm text-gray-500 pt-2",children:["Showing top ",e," of ",t.length," students"]})]})}function vxe({user:t}){const e=vs(),[n,r]=K.useState({totalFaculty:0,totalStudents:0,activeStations:0,coverage:0}),[i,a]=K.useState(!0),[o,s]=K.useState([]),[l,u]=K.useState([]),[c,f]=K.useState(!0);K.useEffect(()=>{h(),y()},[]);const p=async()=>{try{const{data:g}=await Pe.from("users").select("id, name, email, role, created_at"),{data:x}=await Pe.from("stations").select("id, title, created_at"),{data:v}=await Pe.from("case_snapshots").select("id, approved_at"),{data:w}=await Pe.from("assignments").select("id, created_at"),{data:_}=await Pe.from("simulation_runs").select("id, score, submitted_at").not("submitted_at","is",null),{data:A}=await Pe.from("competencies").select("id, domain, level"),S=(g==null?void 0:g.filter(L=>L.role==="faculty").length)||0,N=(g==null?void 0:g.filter(L=>L.role==="student").length)||0,C=(_==null?void 0:_.filter(L=>L.submitted_at))||[],I=C.map(L=>{var B;return((B=L.score)==null?void 0:B.overall)||0}).filter(L=>L>0),R=I.length>0?I.reduce((L,B)=>L+B,0)/I.length:0,U={generatedAt:new Date().toISOString(),summary:{totalUsers:(g==null?void 0:g.length)||0,totalFaculty:S,totalStudents:N,totalStations:(x==null?void 0:x.length)||0,totalSnapshots:(v==null?void 0:v.length)||0,totalAssignments:(w==null?void 0:w.length)||0,totalCompletions:C.length,averageScore:Math.round(R),totalCompetencies:(A==null?void 0:A.length)||0},userBreakdown:{faculty:g==null?void 0:g.filter(L=>L.role==="faculty").map(L=>({name:L.name,email:L.email,joined:L.created_at})),students:g==null?void 0:g.filter(L=>L.role==="student").map(L=>({name:L.name,email:L.email,joined:L.created_at}))},performance:{totalAttempts:C.length,averageScore:Math.round(R),completionRate:w&&w.length>0?Math.round(C.length/w.length*100):0}},P=new Blob([JSON.stringify(U,null,2)],{type:"application/json"}),O=URL.createObjectURL(P),D=document.createElement("a");D.href=O,D.download=`system-report-${new Date().toISOString().split("T")[0]}.json`,D.click(),e.success("Report exported successfully!")}catch(g){e.error("Error exporting report: "+(g.message||"Unknown error")),console.error("Error exporting report:",g)}},h=async()=>{try{const{data:g}=await Pe.from("users").select("role"),x=(g==null?void 0:g.filter(P=>P.role==="faculty").length)||0,v=(g==null?void 0:g.filter(P=>P.role==="student").length)||0,{data:w}=await Pe.from("stations").select("id"),{data:_}=await Pe.from("competencies").select("id"),{data:A}=await Pe.from("slo").select("id, competency_id"),S=new Map;A==null||A.forEach(P=>{P.competency_id&&S.set(P.id,P.competency_id)});const{data:N}=await Pe.from("case_snapshots").select("clinical_case"),C=new Set;N==null||N.forEach(P=>{var D;(((D=P.clinical_case)==null?void 0:D.sloMappings)||[]).forEach(L=>{const B=S.get(L);B&&C.add(B)})});const I=(_==null?void 0:_.length)||0,R=C.size,U=I>0?Math.round(R/I*100):0;r({totalFaculty:x,totalStudents:v,activeStations:(w==null?void 0:w.length)||0,coverage:U})}catch(g){console.error("Error loading stats:",g)}finally{a(!1)}},y=async()=>{try{f(!0);const{data:g,error:x}=await Pe.from("simulation_runs").select("id, score, submitted_at, student_id").not("submitted_at","is",null).order("submitted_at",{ascending:!1}).limit(1e3);if(x)throw x;const v=new Map;g==null||g.forEach(N=>{var U,P;const C=(U=N.submitted_at)==null?void 0:U.split("T")[0];if(!C)return;const I=(P=N.score)==null?void 0:P.overall;if(!I||I<=0)return;v.has(C)||v.set(C,{scores:[],students:new Set});const R=v.get(C);R.scores.push(I),R.students.add(N.student_id)});const w=Array.from(v.entries()).map(([N,C])=>({dateKey:N,date:new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric"}),averageScore:C.scores.reduce((I,R)=>I+R,0)/C.scores.length,totalStudents:C.students.size})).sort((N,C)=>N.dateKey.localeCompare(C.dateKey)).slice(-30).map(({dateKey:N,...C})=>C);s(w);const _=new Map;g==null||g.forEach(N=>{var I;const C=(I=N.score)==null?void 0:I.overall;!C||C<=0||(_.has(N.student_id)||_.set(N.student_id,{scores:[],name:"",email:""}),_.get(N.student_id).scores.push(C))});const A=Array.from(_.keys());if(A.length>0){const{data:N}=await Pe.from("users").select("id, name, email").eq("role","student").in("id",A);N==null||N.forEach(C=>{const I=_.get(C.id);I&&(I.name=C.name,I.email=C.email)})}const S=Array.from(_.entries()).map(([N,C])=>{const I=C.scores.reduce((U,P)=>U+P,0)/C.scores.length,R=Math.max(...C.scores);return{id:N,name:C.name||"Unknown",email:C.email||"",averageScore:I,totalAttempts:C.scores.length,bestScore:R}}).filter(N=>N.name!=="Unknown").sort((N,C)=>C.averageScore!==N.averageScore?C.averageScore-N.averageScore:C.totalAttempts-N.totalAttempts).slice(0,50);u(S)}catch(g){console.error("Error loading performance data:",g)}finally{f(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Admin Dashboard"}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Faculty"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:n.totalFaculty})]}),d.jsx(yl,{className:"w-8 h-8 text-blue-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Students"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:n.totalStudents})]}),d.jsx(yl,{className:"w-8 h-8 text-green-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Active Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:n.activeStations})]}),d.jsx(Wi,{className:"w-8 h-8 text-purple-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"CBDC Coverage"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[n.coverage,"%"]})]}),d.jsx(yo,{className:"w-8 h-8 text-orange-600"})]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Student Performance Trend"}),c?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx(D8,{data:o})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Student Leaderboard"}),c?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx($8,{entries:l,maxDisplay:20})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),d.jsx("div",{className:"flex gap-4",children:d.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(sd,{className:"w-4 h-4"}),"Export System Report"]})})]})]})]})})]})}function xxe({isOpen:t,onClose:e,onSave:n}){const[r,i]=K.useState({id:"",domain:"",level:"",description:""}),[a,o]=K.useState(!1),[s,l]=K.useState(null);if(!t)return null;const u=async c=>{if(c.preventDefault(),l(null),!r.id.trim()||!r.domain.trim()||!r.description.trim()){l("ID, Domain, and Description are required");return}o(!0);try{await n({id:r.id.trim(),domain:r.domain.trim(),level:r.level.trim()||null,description:r.description.trim()}),i({id:"",domain:"",level:"",description:""}),e()}catch(f){l(f.message||"Failed to save competency")}finally{o(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Competency"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(df,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[s&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:s}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ID ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:r.id,onChange:c=>i({...r,id:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Domain ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:r.domain,onChange:c=>i({...r,domain:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),d.jsx("input",{type:"text",value:r.level,onChange:c=>i({...r,level:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Optional"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{value:r.description,onChange:c=>i({...r,description:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,required:!0})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Saving...":"Save"})]})]})]})})}function bxe({isOpen:t,onClose:e,competency:n,onSave:r}){const[i,a]=K.useState({id:"",domain:"",level:"",description:""}),[o,s]=K.useState(!1),[l,u]=K.useState(null);if(K.useEffect(()=>{n&&a({id:n.id,domain:n.domain,level:n.level||"",description:n.description})},[n]),!t||!n)return null;const c=async f=>{if(f.preventDefault(),u(null),!i.domain.trim()||!i.description.trim()){u("Domain and Description are required");return}s(!0);try{await r({id:i.id,domain:i.domain.trim(),level:i.level.trim()||null,description:i.description.trim()}),e()}catch(p){u(p.message||"Failed to update competency")}finally{s(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Competency"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(df,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[l&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),d.jsx("input",{type:"text",value:i.id,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ID cannot be changed"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Domain ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i.domain,onChange:f=>a({...i,domain:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),d.jsx("input",{type:"text",value:i.level,onChange:f=>a({...i,level:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Optional"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{value:i.description,onChange:f=>a({...i,description:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,required:!0})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Saving...":"Update"})]})]})]})})}function wxe({user:t}){const e=vs(),[n,r]=K.useState([]),[i,a]=K.useState(!0),[o,s]=K.useState(!1),[l,u]=K.useState(null);K.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:g,error:x}=await Pe.from("competencies").select("*").order("id");if(x)throw x;r(g||[])}catch(g){console.error("Error loading competencies:",g)}finally{a(!1)}},f=()=>{const g=[["ID","Domain","Level","Description"],...n.map(_=>[_.id,_.domain,_.level||"",_.description])].map(_=>_.map(A=>`"${A}"`).join(",")).join(`
`),x=new Blob([g],{type:"text/csv"}),v=URL.createObjectURL(x),w=document.createElement("a");w.href=v,w.download="cbdc-competencies.csv",w.click()},p=async g=>{const{error:x}=await Pe.from("competencies").insert([g]);if(x)throw x;await c()},h=async g=>{const{error:x}=await Pe.from("competencies").update({domain:g.domain,level:g.level,description:g.description}).eq("id",g.id);if(x)throw x;await c()},y=async g=>{if(!confirm(`Are you sure you want to delete competency "${g}"? This action cannot be undone.`))return;const{error:x}=await Pe.from("competencies").delete().eq("id",g);if(x){e.error("Error deleting competency: "+x.message);return}await c()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"CBDC Manager"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[d.jsx(sd,{className:"w-4 h-4"}),"Export CSV"]}),d.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(um,{className:"w-4 h-4"}),"Add Competency"]})]})]}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Domain"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(g=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.id}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.domain}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.level||"-"}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:g.description}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[d.jsx("button",{onClick:()=>u(g),className:"text-primary-600 hover:text-primary-900 mr-4",title:"Edit competency",children:d.jsx(z5,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>y(g.id),className:"text-red-600 hover:text-red-900",title:"Delete competency",children:d.jsx(Fq,{className:"w-4 h-4"})})]})]},g.id))})]})})]})}),d.jsx(xxe,{isOpen:o,onClose:()=>s(!1),onSave:p}),d.jsx(bxe,{isOpen:l!==null,onClose:()=>u(null),competency:l,onSave:h})]})}function _xe({isOpen:t,onClose:e,user:n,onSave:r}){const[i,a]=K.useState({name:"",email:"",role:"student"}),[o,s]=K.useState(!1),[l,u]=K.useState(null);if(K.useEffect(()=>{n&&a({name:n.name,email:n.email,role:n.role})},[n]),!t||!n)return null;const c=async f=>{if(f.preventDefault(),u(null),!i.name.trim()||!i.email.trim()){u("Name and Email are required");return}s(!0);try{await r({id:n.id,name:i.name.trim(),email:i.email.trim(),role:i.role}),e()}catch(p){u(p.message||"Failed to update user")}finally{s(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit User"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(df,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[l&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i.name,onChange:f=>a({...i,name:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"email",value:i.email,onChange:f=>a({...i,email:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{value:i.role,onChange:f=>a({...i,role:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Saving...":"Update"})]})]})]})})}function Sxe({user:t}){const[e,n]=K.useState([]),[r,i]=K.useState(!0),[a,o]=K.useState(""),[s,l]=K.useState(null);K.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:h,error:y}=await Pe.from("users").select("*").order("created_at",{ascending:!1});if(y)throw y;n(h||[])}catch(h){console.error("Error loading users:",h)}finally{i(!1)}},c=e.filter(h=>h.name.toLowerCase().includes(a.toLowerCase())||h.email.toLowerCase().includes(a.toLowerCase())),f=h=>{switch(h){case"admin":return"bg-red-100 text-red-800";case"faculty":return"bg-blue-100 text-blue-800";case"student":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},p=async h=>{const{error:y}=await Pe.from("users").update({name:h.name,email:h.email,role:h.role}).eq("id",h.id);if(y)throw y;await u()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"User Management"}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(H5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:h=>o(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),r?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(h=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(xo,{className:"w-5 h-5 text-gray-400 mr-2"}),d.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.email}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${f(h.role)}`,children:h.role})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(h.created_at).toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>l(h),className:"text-primary-600 hover:text-primary-900",title:"Edit user",children:d.jsx(z5,{className:"w-4 h-4"})})})]},h.id))})]})})]})}),d.jsx(_xe,{isOpen:s!==null,onClose:()=>l(null),user:s,onSave:p})]})}function Axe({user:t}){const e=vs(),[n,r]=K.useState([]),[i,a]=K.useState(null),[o,s]=K.useState([]),[l,u]=K.useState([]),[c,f]=K.useState(!0);K.useEffect(()=>{p(),g()},[]);const p=async()=>{try{const{data:x,error:v}=await Pe.from("reports").select("*").order("created_at",{ascending:!1}).limit(10);if(v)throw v;r(x||[])}catch(x){console.error("Error loading reports:",x)}},h=async x=>{a(x);try{const v=new Date;let w,_=new Date(v);if(x==="quarterly"){const k=Math.floor(v.getMonth()/3);w=new Date(v.getFullYear(),k*3,1)}else w=new Date(v.getFullYear(),0,1);const{data:A}=await Pe.from("competencies").select("*"),{data:S}=await Pe.from("stations").select("id, title, blueprint"),{data:N}=await Pe.from("case_snapshots").select("id, clinical_case, approved_at").gte("approved_at",w.toISOString()).lte("approved_at",_.toISOString()),{data:C}=await Pe.from("assignments").select("id, snapshot_id, created_at").gte("created_at",w.toISOString()).lte("created_at",_.toISOString()),I=(C==null?void 0:C.map(k=>k.id))||[],{data:R}=await Pe.from("simulation_runs").select("id, score, submitted_at").in("assignment_id",I).not("submitted_at","is",null),U=new Set;N==null||N.forEach(k=>{var G;(((G=k.clinical_case)==null?void 0:G.sloMappings)||[]).forEach(te=>{U.add(te)})});const P=(A==null?void 0:A.length)||0,O=U.size,D=P>0?Math.round(O/P*100):0,L=(R==null?void 0:R.filter(k=>k.submitted_at))||[],B=L.map(k=>{var q;return((q=k.score)==null?void 0:q.overall)||0}).filter(k=>k>0),J=B.length>0?B.reduce((k,q)=>k+q,0)/B.length:0,H={summary:{period:x==="quarterly"?"Quarterly":"Annual",periodStart:w.toISOString().split("T")[0],periodEnd:_.toISOString().split("T")[0],generatedAt:new Date().toISOString()},metrics:{totalCompetencies:P,coveredCompetencies:O,coverage:D,totalStations:(S==null?void 0:S.length)||0,totalSnapshots:(N==null?void 0:N.length)||0,totalAssignments:(C==null?void 0:C.length)||0,totalCompletions:L.length,averageScore:Math.round(J)},stationDistribution:{total:(S==null?void 0:S.length)||0,bySubject:{}},studentPerformance:{totalAttempts:L.length,averageScore:Math.round(J),completionRate:C&&C.length>0?Math.round(L.length/C.length*100):0},sloAchievement:{total:0,achieved:0,percentage:0}},{error:M}=await Pe.from("reports").insert([{type:x,period_start:w.toISOString().split("T")[0],period_end:_.toISOString().split("T")[0],report_data:H,generated_by:t.id}]);if(M)throw M;const X=new Blob([JSON.stringify(H,null,2)],{type:"application/json"}),oe=URL.createObjectURL(X),ie=document.createElement("a");ie.href=oe,ie.download=`${x}-report-${w.toISOString().split("T")[0]}.json`,ie.click(),await p(),e.success("Report generated successfully!")}catch(v){e.error("Error generating report: "+(v.message||"Unknown error")),console.error("Error generating report:",v)}finally{a(null)}},y=x=>{try{const v=x.report_data;let w=`Compliance Report
`;w+=`Type,${x.type}
`,w+=`Period,${x.period_start} to ${x.period_end}
`,w+=`Generated,${new Date(x.created_at).toLocaleString()}

`,w+=`Metrics
`,w+=`Metric,Value
`,v.metrics&&(w+=`CBDC Coverage,${v.metrics.coverage}%
`,w+=`Total Stations,${v.metrics.totalStations}
`,w+=`Total Snapshots,${v.metrics.totalSnapshots}
`,w+=`Total Assignments,${v.metrics.totalAssignments}
`,w+=`Total Completions,${v.metrics.totalCompletions}
`,w+=`Average Score,${v.metrics.averageScore}%
`),w+=`
Student Performance
`,w+=`Metric,Value
`,v.studentPerformance&&(w+=`Total Attempts,${v.studentPerformance.totalAttempts}
`,w+=`Average Score,${v.studentPerformance.averageScore}%
`,w+=`Completion Rate,${v.studentPerformance.completionRate}%
`);const _=new Blob([w],{type:"text/csv;charset=utf-8;"}),A=URL.createObjectURL(_),S=document.createElement("a");S.href=A,S.download=`${x.type}-report-${x.period_start}.csv`,S.click(),URL.revokeObjectURL(A),e.success("CSV exported successfully!")}catch(v){e.error("Error exporting CSV: "+(v.message||"Unknown error"))}},g=async()=>{try{f(!0);const{data:x,error:v}=await Pe.from("simulation_runs").select("id, score, submitted_at, student_id").not("submitted_at","is",null).order("submitted_at",{ascending:!1}).limit(1e3);if(v)throw v;const w=new Map;x==null||x.forEach(C=>{var P,O;const I=(P=C.submitted_at)==null?void 0:P.split("T")[0];if(!I)return;const R=(O=C.score)==null?void 0:O.overall;if(!R||R<=0)return;w.has(I)||w.set(I,{scores:[],students:new Set});const U=w.get(I);U.scores.push(R),U.students.add(C.student_id)});const _=Array.from(w.entries()).map(([C,I])=>({dateKey:C,date:new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric"}),averageScore:I.scores.reduce((R,U)=>R+U,0)/I.scores.length,totalStudents:I.students.size})).sort((C,I)=>C.dateKey.localeCompare(I.dateKey)).slice(-30).map(({dateKey:C,...I})=>I);s(_);const A=new Map;x==null||x.forEach(C=>{var R;const I=(R=C.score)==null?void 0:R.overall;!I||I<=0||(A.has(C.student_id)||A.set(C.student_id,{scores:[],name:"",email:""}),A.get(C.student_id).scores.push(I))});const S=Array.from(A.keys());if(S.length>0){const{data:C}=await Pe.from("users").select("id, name, email").eq("role","student").in("id",S);C==null||C.forEach(I=>{const R=A.get(I.id);R&&(R.name=I.name,R.email=I.email)})}const N=Array.from(A.entries()).map(([C,I])=>{const R=I.scores.reduce((P,O)=>P+O,0)/I.scores.length,U=Math.max(...I.scores);return{id:C,name:I.name||"Unknown",email:I.email||"",averageScore:R,totalAttempts:I.scores.length,bestScore:U}}).filter(C=>C.name!=="Unknown").sort((C,I)=>I.averageScore!==C.averageScore?I.averageScore-C.averageScore:I.totalAttempts-C.totalAttempts).slice(0,50);u(N)}catch(x){console.error("Error loading performance data:",x)}finally{f(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Compliance Reports"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Student Performance Trend"}),c?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx(D8,{data:o})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Student Leaderboard"}),c?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx($8,{entries:l,maxDisplay:20})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Quarterly Report"}),d.jsx(Wi,{className:"w-8 h-8 text-blue-600"})]}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Generate a comprehensive quarterly compliance report covering all competencies and stations."}),d.jsx("button",{onClick:()=>h("quarterly"),disabled:i!==null,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i==="quarterly"?d.jsxs(d.Fragment,{children:[d.jsx(Sd,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(sd,{className:"w-4 h-4"}),"Generate Quarterly Report"]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Annual Report"}),d.jsx(Ga,{className:"w-8 h-8 text-green-600"})]}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Generate an annual compliance report with year-over-year trends and analytics."}),d.jsx("button",{onClick:()=>h("annual"),disabled:i!==null,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i==="annual"?d.jsxs(d.Fragment,{children:[d.jsx(Sd,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(sd,{className:"w-4 h-4"}),"Generate Annual Report"]})})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Report History"}),n.length===0?d.jsx("p",{className:"text-gray-600",children:"No reports generated yet."}):d.jsx("div",{className:"space-y-3",children:n.map(x=>{var v;return d.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded ${x.type==="quarterly"?"bg-blue-100":"bg-green-100"}`,children:x.type==="quarterly"?d.jsx(Wi,{className:"w-5 h-5 text-blue-600"}):d.jsx(Ga,{className:"w-5 h-5 text-green-600"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium text-gray-900 capitalize",children:[x.type," Report"]}),d.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2 mt-1",children:[d.jsx(cf,{className:"w-4 h-4"}),new Date(x.period_start).toLocaleDateString()," - ",new Date(x.period_end).toLocaleDateString()]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"text-sm text-gray-500",children:new Date(x.created_at).toLocaleDateString()}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>{const w=new Blob([JSON.stringify(x.report_data,null,2)],{type:"application/json"}),_=URL.createObjectURL(w),A=document.createElement("a");A.href=_,A.download=`${x.type}-report-${x.period_start}.json`,A.click()},className:"p-2 text-primary-600 hover:bg-primary-50 rounded transition-colors",title:"Download JSON",children:d.jsx(sd,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>y(x),className:"p-2 text-green-600 hover:bg-green-50 rounded transition-colors",title:"Export to CSV",children:d.jsx(Tq,{className:"w-4 h-4"})})]})]})]}),((v=x.report_data)==null?void 0:v.metrics)&&d.jsxs("div",{className:"mt-3 pt-3 border-t grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Coverage"}),d.jsxs("div",{className:"font-semibold text-gray-900",children:[x.report_data.metrics.coverage,"%"]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Stations"}),d.jsx("div",{className:"font-semibold text-gray-900",children:x.report_data.metrics.totalStations})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Completions"}),d.jsx("div",{className:"font-semibold text-gray-900",children:x.report_data.metrics.totalCompletions})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Avg Score"}),d.jsxs("div",{className:"font-semibold text-gray-900",children:[x.report_data.metrics.averageScore,"%"]})]})]})]},x.id)})})]})]})}),d.jsx(vl,{toasts:e.toasts,onClose:e.removeToast})]})}function Exe(){return d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})})}class Nxe extends K.Component{constructor(){super(...arguments);Xt(this,"state",{hasError:!1,error:null});Xt(this,"handleReset",()=>{this.setState({hasError:!1,error:null}),window.location.href="/"})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r)}render(){var n;return this.state.hasError?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[d.jsx(T0,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),d.jsx("p",{className:"text-gray-600 mb-4",children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred"}),d.jsxs("button",{onClick:this.handleReset,className:"flex items-center justify-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors mx-auto",children:[d.jsx(Rq,{className:"w-4 h-4"}),"Return to Home"]})]})}):this.props.children}}function Txe({authUserId:t,authUserEmail:e,authUserName:n,onComplete:r}){const[i,a]=K.useState(n||""),[o,s]=K.useState("student"),[l,u]=K.useState([]),[c,f]=K.useState([]),[p,h]=K.useState(!1),[y,g]=K.useState(!1),[x,v]=K.useState(null);K.useEffect(()=>{o==="student"&&w()},[o]);const w=async()=>{h(!0);try{const{data:A,error:S}=await Pe.from("cohorts").select("id, name, description").order("name");if(S)throw S;f(A||[])}catch(A){console.error("Error loading cohorts:",A)}finally{h(!1)}},_=async A=>{A.preventDefault(),g(!0),v(null);try{const{error:S}=await Pe.from("users").insert({id:t,name:i.trim()||(e==null?void 0:e.split("@")[0])||"User",email:e||"",role:o}).select().single();if(S)throw S;if(o==="student"&&l.length>0){const N=l.map(I=>({cohort_id:I,student_id:t})),{error:C}=await Pe.from("cohort_members").insert(N);C&&console.error("Error adding student to cohorts:",C)}r()}catch(S){v(S.message||"An error occurred while completing your profile"),g(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-primary-50 to-gray-100 px-4 py-8",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 md:p-10 w-full max-w-md border-2 border-gray-200",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-16 md:h-20 w-auto object-contain"})}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Complete Your Profile"}),d.jsx("p",{className:"text-gray-600 mt-2 text-sm md:text-base",children:"Please provide the following information to complete your account setup"})]}),d.jsxs("form",{onSubmit:_,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i,onChange:A=>a(A.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400",placeholder:"Enter your full name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",value:e||"",disabled:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email is set from your OAuth account"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{value:o,onChange:A=>{s(A.target.value),u([])},required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 bg-white",children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),o==="student"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Cohorts (Optional)"}),p?d.jsx("div",{className:"text-sm text-gray-500",children:"Loading cohorts..."}):c.length===0?d.jsx("div",{className:"text-sm text-gray-500 p-3 bg-gray-50 rounded-md",children:"No cohorts available. You can join cohorts later from your profile settings."}):d.jsx("div",{className:"border border-gray-300 rounded-md max-h-40 overflow-y-auto p-2",children:c.map(A=>d.jsxs("label",{className:"flex items-start gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:l.includes(A.id),onChange:S=>{S.target.checked?u([...l,A.id]):u(l.filter(N=>N!==A.id))},className:"mt-1"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),A.description&&d.jsx("div",{className:"text-xs text-gray-500",children:A.description})]})]},A.id))}),l.length>0&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length," cohort",l.length!==1?"s":""," selected"]})]}),x&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:x}),d.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white py-3 px-6 rounded-xl hover:from-primary-700 hover:to-primary-800 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 font-bold text-base md:text-lg shadow-lg transition-all transform hover:scale-[1.02]",children:y?"Completing Profile...":"Complete Profile"})]})]})})}const xI={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpdmN1c2ZzcHBqeWFsYmdxdHh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NjI2NjYsImV4cCI6MjA3ODQzODY2Nn0.DMugE2X3gBvcRBXt-NqWceWQB2Vmi9kbavEE6MEjAmI",VITE_SUPABASE_URL:"https://kivcusfsppjyalbgqtxy.supabase.co"};function Pxe(){const[t,e]=K.useState(null),[n,r]=K.useState(!0),[i,a]=K.useState(!1),[o,s]=K.useState(null);K.useEffect(()=>{Pe.auth.getSession().then(({data:{session:h}})=>{h?l():r(!1)});const{data:{subscription:p}}=Pe.auth.onAuthStateChange((h,y)=>{y?l():(e(null),r(!1))});return()=>p.unsubscribe()},[]);const l=async()=>{var p,h,y,g,x,v;try{const{data:{user:w}}=await Pe.auth.getUser();if(!w){r(!1);return}const{data:_,error:A}=await Pe.from("users").select("*").eq("id",w.id).single();if(A&&A.code==="PGRST116")if(((p=w.identities)==null?void 0:p.some(N=>N.provider!=="email"))||!1){s({id:w.id,email:w.email,name:((h=w.user_metadata)==null?void 0:h.name)||((y=w.user_metadata)==null?void 0:y.full_name)}),a(!0),r(!1);return}else{const{data:N}=await Pe.from("users").insert({id:w.id,name:((g=w.user_metadata)==null?void 0:g.name)||((x=w.email)==null?void 0:x.split("@")[0])||"User",email:w.email,role:((v=w.user_metadata)==null?void 0:v.role)||"student"}).select().single();N&&e(N)}else _&&(e(_),a(!1))}catch(w){console.error("Error loading user:",w)}finally{r(!1)}},u=()=>{a(!1),s(null),l()};if(n)return d.jsx(Exe,{});if(i&&o)return d.jsx(Txe,{authUserId:o.id,authUserEmail:o.email,authUserName:o.name,onComplete:u});if(!t)return d.jsx(_q,{onAuthSuccess:l});const f=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY"].filter(p=>!xI[p]||xI[p].trim()==="");return f.length>0?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Configuration Error"}),d.jsx("p",{className:"text-gray-700 mb-4",children:"The following required environment variables are missing:"}),d.jsx("ul",{className:"list-disc list-inside text-gray-600 mb-4 space-y-1",children:f.map(p=>d.jsx("li",{children:p},p))}),d.jsx("p",{className:"text-sm text-gray-500",children:"Please set these variables in your .env file and restart the application."})]})}):d.jsx(Nxe,{children:d.jsxs(YU,{children:[d.jsxs(VU,{children:[t.role==="faculty"&&d.jsxs(d.Fragment,{children:[d.jsx(rr,{path:"/dashboard",element:d.jsx(Bq,{user:t})}),d.jsx(rr,{path:"/create",element:d.jsx(Vq,{user:t})}),d.jsx(rr,{path:"/review/:stationId",element:d.jsx(yV,{user:t})}),d.jsx(rr,{path:"/assign/:snapshotId",element:d.jsx(vV,{user:t})}),d.jsx(rr,{path:"/library",element:d.jsx(xV,{user:t})}),d.jsx(rr,{path:"/analytics",element:d.jsx(nve,{user:t})}),d.jsx(rr,{path:"/profile",element:d.jsx(rve,{user:t})})]}),t.role==="student"&&d.jsxs(d.Fragment,{children:[d.jsx(rr,{path:"/home",element:d.jsx(t3,{user:t})}),d.jsx(rr,{path:"/assigned",element:d.jsx(t3,{user:t})}),d.jsx(rr,{path:"/analytics",element:d.jsx(yxe,{user:t})}),d.jsx(rr,{path:"/simulation/:assignmentId",element:d.jsx(mve,{user:t})}),d.jsx(rr,{path:"/debrief/:runId",element:d.jsx(hxe,{user:t})}),d.jsx(rr,{path:"/results",element:d.jsx(pxe,{user:t})}),d.jsx(rr,{path:"/profile",element:d.jsx(mxe,{user:t})})]}),t.role==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx(rr,{path:"/admin/dashboard",element:d.jsx(vxe,{user:t})}),d.jsx(rr,{path:"/admin/reports",element:d.jsx(Axe,{user:t})}),d.jsx(rr,{path:"/admin/cbdc",element:d.jsx(wxe,{user:t})}),d.jsx(rr,{path:"/admin/users",element:d.jsx(Sxe,{user:t})})]}),d.jsx(rr,{path:"/",element:d.jsx(BU,{to:t.role==="faculty"?"/dashboard":t.role==="admin"?"/admin/dashboard":"/home",replace:!0})})]}),t&&d.jsx($r,{role:t.role})]})})}Db.createRoot(document.getElementById("root")).render(d.jsx(le.StrictMode,{children:d.jsx(Pxe,{})}));export{an as _,ig as c,sn as g};
