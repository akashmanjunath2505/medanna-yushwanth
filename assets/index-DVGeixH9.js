var w7=Object.defineProperty;var _7=(t,e,r)=>e in t?w7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Zt=(t,e,r)=>_7(t,typeof e!="symbol"?e+"":e,r);function bE(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ig=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function S7(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var xE={exports:{}},oy={},wE={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm=Symbol.for("react.element"),j7=Symbol.for("react.portal"),A7=Symbol.for("react.fragment"),N7=Symbol.for("react.strict_mode"),k7=Symbol.for("react.profiler"),O7=Symbol.for("react.provider"),P7=Symbol.for("react.context"),E7=Symbol.for("react.forward_ref"),C7=Symbol.for("react.suspense"),T7=Symbol.for("react.memo"),L7=Symbol.for("react.lazy"),qj=Symbol.iterator;function I7(t){return t===null||typeof t!="object"?null:(t=qj&&t[qj]||t["@@iterator"],typeof t=="function"?t:null)}var _E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SE=Object.assign,jE={};function ef(t,e,r){this.props=t,this.context=e,this.refs=jE,this.updater=r||_E}ef.prototype.isReactComponent={};ef.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ef.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function AE(){}AE.prototype=ef.prototype;function R5(t,e,r){this.props=t,this.context=e,this.refs=jE,this.updater=r||_E}var M5=R5.prototype=new AE;M5.constructor=R5;SE(M5,ef.prototype);M5.isPureReactComponent=!0;var Wj=Array.isArray,NE=Object.prototype.hasOwnProperty,D5={current:null},kE={key:!0,ref:!0,__self:!0,__source:!0};function OE(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)NE.call(e,n)&&!kE.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:nm,type:t,key:a,ref:s,props:i,_owner:D5.current}}function $7(t,e){return{$$typeof:nm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function B5(t){return typeof t=="object"&&t!==null&&t.$$typeof===nm}function R7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Hj=/\/+/g;function nb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?R7(""+t.key):e.toString(36)}function e0(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case nm:case j7:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+nb(s,0):n,Wj(i)?(r="",t!=null&&(r=t.replace(Hj,"$&/")+"/"),e0(i,e,r,"",function(c){return c})):i!=null&&(B5(i)&&(i=$7(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Hj,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",Wj(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+nb(a,o);s+=e0(a,e,r,l,i)}else if(l=I7(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+nb(a,o++),s+=e0(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ag(t,e,r){if(t==null)return t;var n=[],i=0;return e0(t,n,"","",function(a){return e.call(r,a,i++)}),n}function M7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ci={current:null},t0={transition:null},D7={ReactCurrentDispatcher:ci,ReactCurrentBatchConfig:t0,ReactCurrentOwner:D5};function PE(){throw Error("act(...) is not supported in production builds of React.")}Ft.Children={map:ag,forEach:function(t,e,r){ag(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ag(t,function(){e++}),e},toArray:function(t){return ag(t,function(e){return e})||[]},only:function(t){if(!B5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ft.Component=ef;Ft.Fragment=A7;Ft.Profiler=k7;Ft.PureComponent=R5;Ft.StrictMode=N7;Ft.Suspense=C7;Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D7;Ft.act=PE;Ft.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=SE({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=D5.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)NE.call(e,l)&&!kE.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:nm,type:t.type,key:i,ref:a,props:n,_owner:s}};Ft.createContext=function(t){return t={$$typeof:P7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:O7,_context:t},t.Consumer=t};Ft.createElement=OE;Ft.createFactory=function(t){var e=OE.bind(null,t);return e.type=t,e};Ft.createRef=function(){return{current:null}};Ft.forwardRef=function(t){return{$$typeof:E7,render:t}};Ft.isValidElement=B5;Ft.lazy=function(t){return{$$typeof:L7,_payload:{_status:-1,_result:t},_init:M7}};Ft.memo=function(t,e){return{$$typeof:T7,type:t,compare:e===void 0?null:e}};Ft.startTransition=function(t){var e=t0.transition;t0.transition={};try{t()}finally{t0.transition=e}};Ft.unstable_act=PE;Ft.useCallback=function(t,e){return ci.current.useCallback(t,e)};Ft.useContext=function(t){return ci.current.useContext(t)};Ft.useDebugValue=function(){};Ft.useDeferredValue=function(t){return ci.current.useDeferredValue(t)};Ft.useEffect=function(t,e){return ci.current.useEffect(t,e)};Ft.useId=function(){return ci.current.useId()};Ft.useImperativeHandle=function(t,e,r){return ci.current.useImperativeHandle(t,e,r)};Ft.useInsertionEffect=function(t,e){return ci.current.useInsertionEffect(t,e)};Ft.useLayoutEffect=function(t,e){return ci.current.useLayoutEffect(t,e)};Ft.useMemo=function(t,e){return ci.current.useMemo(t,e)};Ft.useReducer=function(t,e,r){return ci.current.useReducer(t,e,r)};Ft.useRef=function(t){return ci.current.useRef(t)};Ft.useState=function(t){return ci.current.useState(t)};Ft.useSyncExternalStore=function(t,e,r){return ci.current.useSyncExternalStore(t,e,r)};Ft.useTransition=function(){return ci.current.useTransition()};Ft.version="18.3.1";wE.exports=Ft;var Y=wE.exports;const oe=sr(Y),B7=bE({__proto__:null,default:oe},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F7=Y,U7=Symbol.for("react.element"),z7=Symbol.for("react.fragment"),q7=Object.prototype.hasOwnProperty,W7=F7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H7={key:!0,ref:!0,__self:!0,__source:!0};function EE(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)q7.call(e,n)&&!H7.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:U7,type:t,key:a,ref:s,props:i,_owner:W7.current}}oy.Fragment=z7;oy.jsx=EE;oy.jsxs=EE;xE.exports=oy;var d=xE.exports,Mx={},CE={exports:{}},Ki={},TE={exports:{}},LE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,X){var ae=$.length;$.push(X);e:for(;0<ae;){var ie=ae-1>>>1,E=$[ie];if(0<i(E,X))$[ie]=X,$[ae]=E,ae=ie;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var X=$[0],ae=$.pop();if(ae!==X){$[0]=ae;e:for(var ie=0,E=$.length,z=E>>>1;ie<z;){var V=2*(ie+1)-1,Z=$[V],ne=V+1,ce=$[ne];if(0>i(Z,ae))ne<E&&0>i(ce,Z)?($[ie]=ce,$[ne]=ae,ie=ne):($[ie]=Z,$[V]=ae,ie=V);else if(ne<E&&0>i(ce,ae))$[ie]=ce,$[ne]=ae,ie=ne;else break e}}return X}function i($,X){var ae=$.sortIndex-X.sortIndex;return ae!==0?ae:$.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,p=3,h=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var X=r(c);X!==null;){if(X.callback===null)n(c);else if(X.startTime<=$)n(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=r(c)}}function j($){if(g=!1,_($),!v)if(r(l)!==null)v=!0,H(S);else{var X=r(c);X!==null&&G(j,X.startTime-$)}}function S($,X){v=!1,g&&(g=!1,y(C),C=-1),h=!0;var ae=p;try{for(_(X),f=r(l);f!==null&&(!(f.expirationTime>X)||$&&!O());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,p=f.priorityLevel;var E=ie(f.expirationTime<=X);X=t.unstable_now(),typeof E=="function"?f.callback=E:f===r(l)&&n(l),_(X)}else n(l);f=r(l)}if(f!==null)var z=!0;else{var V=r(c);V!==null&&G(j,V.startTime-X),z=!1}return z}finally{f=null,p=ae,h=!1}}var N=!1,P=null,C=-1,I=5,F=-1;function O(){return!(t.unstable_now()-F<I)}function T(){if(P!==null){var $=t.unstable_now();F=$;var X=!0;try{X=P(!0,$)}finally{X?M():(N=!1,P=null)}}else N=!1}var M;if(typeof w=="function")M=function(){w(T)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,U=R.port2;R.port1.onmessage=T,M=function(){U.postMessage(null)}}else M=function(){b(T,0)};function H($){P=$,N||(N=!0,M())}function G($,X){C=b(function(){$(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,H(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var ae=p;p=X;try{return $()}finally{p=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,X){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ae=p;p=$;try{return X()}finally{p=ae}},t.unstable_scheduleCallback=function($,X,ae){var ie=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ie+ae:ie):ae=ie,$){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=ae+E,$={id:u++,callback:X,priorityLevel:$,startTime:ae,expirationTime:E,sortIndex:-1},ae>ie?($.sortIndex=ae,e(c,$),r(l)===null&&$===r(c)&&(g?(y(C),C=-1):g=!0,G(j,ae-ie))):($.sortIndex=E,e(l,$),v||h||(v=!0,H(S))),$},t.unstable_shouldYield=O,t.unstable_wrapCallback=function($){var X=p;return function(){var ae=p;p=X;try{return $.apply(this,arguments)}finally{p=ae}}}})(LE);TE.exports=LE;var V7=TE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G7=Y,Vi=V7;function De(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var IE=new Set,Yh={};function Gc(t,e){md(t,e),md(t+"Capture",e)}function md(t,e){for(Yh[t]=e,t=0;t<e.length;t++)IE.add(e[t])}var lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dx=Object.prototype.hasOwnProperty,K7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vj={},Gj={};function Y7(t){return Dx.call(Gj,t)?!0:Dx.call(Vj,t)?!1:K7.test(t)?Gj[t]=!0:(Vj[t]=!0,!1)}function X7(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function J7(t,e,r,n){if(e===null||typeof e>"u"||X7(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ui(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dn[t]=new ui(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dn[e]=new ui(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dn[t]=new ui(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dn[t]=new ui(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dn[t]=new ui(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dn[t]=new ui(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dn[t]=new ui(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dn[t]=new ui(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dn[t]=new ui(t,5,!1,t.toLowerCase(),null,!1,!1)});var F5=/[\-:]([a-z])/g;function U5(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(F5,U5);Dn[e]=new ui(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(F5,U5);Dn[e]=new ui(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(F5,U5);Dn[e]=new ui(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dn[t]=new ui(t,1,!1,t.toLowerCase(),null,!1,!1)});Dn.xlinkHref=new ui("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dn[t]=new ui(t,1,!1,t.toLowerCase(),null,!0,!0)});function z5(t,e,r,n){var i=Dn.hasOwnProperty(e)?Dn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(J7(e,r,i,n)&&(r=null),n||i===null?Y7(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var vo=G7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sg=Symbol.for("react.element"),Ru=Symbol.for("react.portal"),Mu=Symbol.for("react.fragment"),q5=Symbol.for("react.strict_mode"),Bx=Symbol.for("react.profiler"),$E=Symbol.for("react.provider"),RE=Symbol.for("react.context"),W5=Symbol.for("react.forward_ref"),Fx=Symbol.for("react.suspense"),Ux=Symbol.for("react.suspense_list"),H5=Symbol.for("react.memo"),Ho=Symbol.for("react.lazy"),ME=Symbol.for("react.offscreen"),Kj=Symbol.iterator;function eh(t){return t===null||typeof t!="object"?null:(t=Kj&&t[Kj]||t["@@iterator"],typeof t=="function"?t:null)}var $r=Object.assign,ib;function wh(t){if(ib===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ib=e&&e[1]||""}return`
`+ib+t}var ab=!1;function sb(t,e){if(!t||ab)return"";ab=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{ab=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?wh(t):""}function Z7(t){switch(t.tag){case 5:return wh(t.type);case 16:return wh("Lazy");case 13:return wh("Suspense");case 19:return wh("SuspenseList");case 0:case 2:case 15:return t=sb(t.type,!1),t;case 11:return t=sb(t.type.render,!1),t;case 1:return t=sb(t.type,!0),t;default:return""}}function zx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mu:return"Fragment";case Ru:return"Portal";case Bx:return"Profiler";case q5:return"StrictMode";case Fx:return"Suspense";case Ux:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case RE:return(t.displayName||"Context")+".Consumer";case $E:return(t._context.displayName||"Context")+".Provider";case W5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H5:return e=t.displayName||null,e!==null?e:zx(t.type)||"Memo";case Ho:e=t._payload,t=t._init;try{return zx(t(e))}catch{}}return null}function Q7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zx(e);case 8:return e===q5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ml(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function DE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eM(t){var e=DE(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function og(t){t._valueTracker||(t._valueTracker=eM(t))}function BE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=DE(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function b0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qx(t,e){var r=e.checked;return $r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Yj(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ml(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FE(t,e){e=e.checked,e!=null&&z5(t,"checked",e,!1)}function Wx(t,e){FE(t,e);var r=ml(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hx(t,e.type,r):e.hasOwnProperty("defaultValue")&&Hx(t,e.type,ml(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xj(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Hx(t,e,r){(e!=="number"||b0(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var _h=Array.isArray;function ed(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ml(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(De(91));return $r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jj(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(De(92));if(_h(r)){if(1<r.length)throw Error(De(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ml(r)}}function UE(t,e){var r=ml(e.value),n=ml(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Zj(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lg,qE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lg=lg||document.createElement("div"),lg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Oh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tM=["Webkit","ms","Moz","O"];Object.keys(Oh).forEach(function(t){tM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Oh[e]=Oh[t]})});function WE(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Oh.hasOwnProperty(t)&&Oh[t]?(""+e).trim():e+"px"}function HE(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=WE(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var rM=$r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kx(t,e){if(e){if(rM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(De(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(De(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(De(61))}if(e.style!=null&&typeof e.style!="object")throw Error(De(62))}}function Yx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xx=null;function V5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jx=null,td=null,rd=null;function Qj(t){if(t=sm(t)){if(typeof Jx!="function")throw Error(De(280));var e=t.stateNode;e&&(e=fy(e),Jx(t.stateNode,t.type,e))}}function VE(t){td?rd?rd.push(t):rd=[t]:td=t}function GE(){if(td){var t=td,e=rd;if(rd=td=null,Qj(t),e)for(t=0;t<e.length;t++)Qj(e[t])}}function KE(t,e){return t(e)}function YE(){}var ob=!1;function XE(t,e,r){if(ob)return t(e,r);ob=!0;try{return KE(t,e,r)}finally{ob=!1,(td!==null||rd!==null)&&(YE(),GE())}}function Jh(t,e){var r=t.stateNode;if(r===null)return null;var n=fy(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(De(231,e,typeof r));return r}var Zx=!1;if(lo)try{var th={};Object.defineProperty(th,"passive",{get:function(){Zx=!0}}),window.addEventListener("test",th,th),window.removeEventListener("test",th,th)}catch{Zx=!1}function nM(t,e,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Ph=!1,x0=null,w0=!1,Qx=null,iM={onError:function(t){Ph=!0,x0=t}};function aM(t,e,r,n,i,a,s,o,l){Ph=!1,x0=null,nM.apply(iM,arguments)}function sM(t,e,r,n,i,a,s,o,l){if(aM.apply(this,arguments),Ph){if(Ph){var c=x0;Ph=!1,x0=null}else throw Error(De(198));w0||(w0=!0,Qx=c)}}function Kc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function JE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eA(t){if(Kc(t)!==t)throw Error(De(188))}function oM(t){var e=t.alternate;if(!e){if(e=Kc(t),e===null)throw Error(De(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return eA(i),t;if(a===n)return eA(i),e;a=a.sibling}throw Error(De(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(De(189))}}if(r.alternate!==n)throw Error(De(190))}if(r.tag!==3)throw Error(De(188));return r.stateNode.current===r?t:e}function ZE(t){return t=oM(t),t!==null?QE(t):null}function QE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QE(t);if(e!==null)return e;t=t.sibling}return null}var e6=Vi.unstable_scheduleCallback,tA=Vi.unstable_cancelCallback,lM=Vi.unstable_shouldYield,cM=Vi.unstable_requestPaint,Kr=Vi.unstable_now,uM=Vi.unstable_getCurrentPriorityLevel,G5=Vi.unstable_ImmediatePriority,t6=Vi.unstable_UserBlockingPriority,_0=Vi.unstable_NormalPriority,dM=Vi.unstable_LowPriority,r6=Vi.unstable_IdlePriority,ly=null,ms=null;function fM(t){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(ly,t,void 0,(t.current.flags&128)===128)}catch{}}var qa=Math.clz32?Math.clz32:mM,hM=Math.log,pM=Math.LN2;function mM(t){return t>>>=0,t===0?32:31-(hM(t)/pM|0)|0}var cg=64,ug=4194304;function Sh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function S0(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Sh(o):(a&=s,a!==0&&(n=Sh(a)))}else s=r&~i,s!==0?n=Sh(s):a!==0&&(n=Sh(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-qa(e),i=1<<r,n|=t[r],e&=~i;return n}function gM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vM(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-qa(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=gM(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function e2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function n6(){var t=cg;return cg<<=1,!(cg&4194240)&&(cg=64),t}function lb(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function im(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qa(e),t[e]=r}function yM(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-qa(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function K5(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-qa(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ar=0;function i6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var a6,Y5,s6,o6,l6,t2=!1,dg=[],il=null,al=null,sl=null,Zh=new Map,Qh=new Map,Yo=[],bM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rA(t,e){switch(t){case"focusin":case"focusout":il=null;break;case"dragenter":case"dragleave":al=null;break;case"mouseover":case"mouseout":sl=null;break;case"pointerover":case"pointerout":Zh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qh.delete(e.pointerId)}}function rh(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=sm(e),e!==null&&Y5(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xM(t,e,r,n,i){switch(e){case"focusin":return il=rh(il,t,e,r,n,i),!0;case"dragenter":return al=rh(al,t,e,r,n,i),!0;case"mouseover":return sl=rh(sl,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Zh.set(a,rh(Zh.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Qh.set(a,rh(Qh.get(a)||null,t,e,r,n,i)),!0}return!1}function c6(t){var e=xc(t.target);if(e!==null){var r=Kc(e);if(r!==null){if(e=r.tag,e===13){if(e=JE(r),e!==null){t.blockedOn=e,l6(t.priority,function(){s6(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function r0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=r2(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Xx=n,r.target.dispatchEvent(n),Xx=null}else return e=sm(r),e!==null&&Y5(e),t.blockedOn=r,!1;e.shift()}return!0}function nA(t,e,r){r0(t)&&r.delete(e)}function wM(){t2=!1,il!==null&&r0(il)&&(il=null),al!==null&&r0(al)&&(al=null),sl!==null&&r0(sl)&&(sl=null),Zh.forEach(nA),Qh.forEach(nA)}function nh(t,e){t.blockedOn===e&&(t.blockedOn=null,t2||(t2=!0,Vi.unstable_scheduleCallback(Vi.unstable_NormalPriority,wM)))}function ep(t){function e(i){return nh(i,t)}if(0<dg.length){nh(dg[0],t);for(var r=1;r<dg.length;r++){var n=dg[r];n.blockedOn===t&&(n.blockedOn=null)}}for(il!==null&&nh(il,t),al!==null&&nh(al,t),sl!==null&&nh(sl,t),Zh.forEach(e),Qh.forEach(e),r=0;r<Yo.length;r++)n=Yo[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Yo.length&&(r=Yo[0],r.blockedOn===null);)c6(r),r.blockedOn===null&&Yo.shift()}var nd=vo.ReactCurrentBatchConfig,j0=!0;function _M(t,e,r,n){var i=ar,a=nd.transition;nd.transition=null;try{ar=1,X5(t,e,r,n)}finally{ar=i,nd.transition=a}}function SM(t,e,r,n){var i=ar,a=nd.transition;nd.transition=null;try{ar=4,X5(t,e,r,n)}finally{ar=i,nd.transition=a}}function X5(t,e,r,n){if(j0){var i=r2(t,e,r,n);if(i===null)yb(t,e,n,A0,r),rA(t,n);else if(xM(i,t,e,r,n))n.stopPropagation();else if(rA(t,n),e&4&&-1<bM.indexOf(t)){for(;i!==null;){var a=sm(i);if(a!==null&&a6(a),a=r2(t,e,r,n),a===null&&yb(t,e,n,A0,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else yb(t,e,n,null,r)}}var A0=null;function r2(t,e,r,n){if(A0=null,t=V5(n),t=xc(t),t!==null)if(e=Kc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=JE(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return A0=t,null}function u6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uM()){case G5:return 1;case t6:return 4;case _0:case dM:return 16;case r6:return 536870912;default:return 16}default:return 16}}var Qo=null,J5=null,n0=null;function d6(){if(n0)return n0;var t,e=J5,r=e.length,n,i="value"in Qo?Qo.value:Qo.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return n0=i.slice(t,1<n?1-n:void 0)}function i0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fg(){return!0}function iA(){return!1}function Yi(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?fg:iA,this.isPropagationStopped=iA,this}return $r(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fg)},persist:function(){},isPersistent:fg}),e}var tf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Z5=Yi(tf),am=$r({},tf,{view:0,detail:0}),jM=Yi(am),cb,ub,ih,cy=$r({},am,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Q5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ih&&(ih&&t.type==="mousemove"?(cb=t.screenX-ih.screenX,ub=t.screenY-ih.screenY):ub=cb=0,ih=t),cb)},movementY:function(t){return"movementY"in t?t.movementY:ub}}),aA=Yi(cy),AM=$r({},cy,{dataTransfer:0}),NM=Yi(AM),kM=$r({},am,{relatedTarget:0}),db=Yi(kM),OM=$r({},tf,{animationName:0,elapsedTime:0,pseudoElement:0}),PM=Yi(OM),EM=$r({},tf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CM=Yi(EM),TM=$r({},tf,{data:0}),sA=Yi(TM),LM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$M={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$M[t])?!!e[t]:!1}function Q5(){return RM}var MM=$r({},am,{key:function(t){if(t.key){var e=LM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=i0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?IM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Q5,charCode:function(t){return t.type==="keypress"?i0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?i0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DM=Yi(MM),BM=$r({},cy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oA=Yi(BM),FM=$r({},am,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Q5}),UM=Yi(FM),zM=$r({},tf,{propertyName:0,elapsedTime:0,pseudoElement:0}),qM=Yi(zM),WM=$r({},cy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),HM=Yi(WM),VM=[9,13,27,32],e_=lo&&"CompositionEvent"in window,Eh=null;lo&&"documentMode"in document&&(Eh=document.documentMode);var GM=lo&&"TextEvent"in window&&!Eh,f6=lo&&(!e_||Eh&&8<Eh&&11>=Eh),lA=" ",cA=!1;function h6(t,e){switch(t){case"keyup":return VM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Du=!1;function KM(t,e){switch(t){case"compositionend":return p6(e);case"keypress":return e.which!==32?null:(cA=!0,lA);case"textInput":return t=e.data,t===lA&&cA?null:t;default:return null}}function YM(t,e){if(Du)return t==="compositionend"||!e_&&h6(t,e)?(t=d6(),n0=J5=Qo=null,Du=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return f6&&e.locale!=="ko"?null:e.data;default:return null}}var XM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XM[t.type]:e==="textarea"}function m6(t,e,r,n){VE(n),e=N0(e,"onChange"),0<e.length&&(r=new Z5("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ch=null,tp=null;function JM(t){N6(t,0)}function uy(t){var e=Uu(t);if(BE(e))return t}function ZM(t,e){if(t==="change")return e}var g6=!1;if(lo){var fb;if(lo){var hb="oninput"in document;if(!hb){var dA=document.createElement("div");dA.setAttribute("oninput","return;"),hb=typeof dA.oninput=="function"}fb=hb}else fb=!1;g6=fb&&(!document.documentMode||9<document.documentMode)}function fA(){Ch&&(Ch.detachEvent("onpropertychange",v6),tp=Ch=null)}function v6(t){if(t.propertyName==="value"&&uy(tp)){var e=[];m6(e,tp,t,V5(t)),XE(JM,e)}}function QM(t,e,r){t==="focusin"?(fA(),Ch=e,tp=r,Ch.attachEvent("onpropertychange",v6)):t==="focusout"&&fA()}function eD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uy(tp)}function tD(t,e){if(t==="click")return uy(e)}function rD(t,e){if(t==="input"||t==="change")return uy(e)}function nD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ka=typeof Object.is=="function"?Object.is:nD;function rp(t,e){if(Ka(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Dx.call(e,i)||!Ka(t[i],e[i]))return!1}return!0}function hA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pA(t,e){var r=hA(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hA(r)}}function y6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?y6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function b6(){for(var t=window,e=b0();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=b0(t.document)}return e}function t_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iD(t){var e=b6(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&y6(r.ownerDocument.documentElement,r)){if(n!==null&&t_(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=pA(r,a);var s=pA(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aD=lo&&"documentMode"in document&&11>=document.documentMode,Bu=null,n2=null,Th=null,i2=!1;function mA(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;i2||Bu==null||Bu!==b0(n)||(n=Bu,"selectionStart"in n&&t_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Th&&rp(Th,n)||(Th=n,n=N0(n2,"onSelect"),0<n.length&&(e=new Z5("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Bu)))}function hg(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Fu={animationend:hg("Animation","AnimationEnd"),animationiteration:hg("Animation","AnimationIteration"),animationstart:hg("Animation","AnimationStart"),transitionend:hg("Transition","TransitionEnd")},pb={},x6={};lo&&(x6=document.createElement("div").style,"AnimationEvent"in window||(delete Fu.animationend.animation,delete Fu.animationiteration.animation,delete Fu.animationstart.animation),"TransitionEvent"in window||delete Fu.transitionend.transition);function dy(t){if(pb[t])return pb[t];if(!Fu[t])return t;var e=Fu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in x6)return pb[t]=e[r];return t}var w6=dy("animationend"),_6=dy("animationiteration"),S6=dy("animationstart"),j6=dy("transitionend"),A6=new Map,gA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _l(t,e){A6.set(t,e),Gc(e,[t])}for(var mb=0;mb<gA.length;mb++){var gb=gA[mb],sD=gb.toLowerCase(),oD=gb[0].toUpperCase()+gb.slice(1);_l(sD,"on"+oD)}_l(w6,"onAnimationEnd");_l(_6,"onAnimationIteration");_l(S6,"onAnimationStart");_l("dblclick","onDoubleClick");_l("focusin","onFocus");_l("focusout","onBlur");_l(j6,"onTransitionEnd");md("onMouseEnter",["mouseout","mouseover"]);md("onMouseLeave",["mouseout","mouseover"]);md("onPointerEnter",["pointerout","pointerover"]);md("onPointerLeave",["pointerout","pointerover"]);Gc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lD=new Set("cancel close invalid load scroll toggle".split(" ").concat(jh));function vA(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,sM(n,e,void 0,t),t.currentTarget=null}function N6(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;vA(i,o,c),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;vA(i,o,c),a=l}}}if(w0)throw t=Qx,w0=!1,Qx=null,t}function wr(t,e){var r=e[c2];r===void 0&&(r=e[c2]=new Set);var n=t+"__bubble";r.has(n)||(k6(e,t,2,!1),r.add(n))}function vb(t,e,r){var n=0;e&&(n|=4),k6(r,t,n,e)}var pg="_reactListening"+Math.random().toString(36).slice(2);function np(t){if(!t[pg]){t[pg]=!0,IE.forEach(function(r){r!=="selectionchange"&&(lD.has(r)||vb(r,!1,t),vb(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pg]||(e[pg]=!0,vb("selectionchange",!1,e))}}function k6(t,e,r,n){switch(u6(e)){case 1:var i=_M;break;case 4:i=SM;break;default:i=X5}r=i.bind(null,e,r,t),i=void 0,!Zx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function yb(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=xc(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}XE(function(){var c=a,u=V5(r),f=[];e:{var p=A6.get(t);if(p!==void 0){var h=Z5,v=t;switch(t){case"keypress":if(i0(r)===0)break e;case"keydown":case"keyup":h=DM;break;case"focusin":v="focus",h=db;break;case"focusout":v="blur",h=db;break;case"beforeblur":case"afterblur":h=db;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=aA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=NM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=UM;break;case w6:case _6:case S6:h=PM;break;case j6:h=qM;break;case"scroll":h=jM;break;case"wheel":h=HM;break;case"copy":case"cut":case"paste":h=CM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=oA}var g=(e&4)!==0,b=!g&&t==="scroll",y=g?p!==null?p+"Capture":null:p;g=[];for(var w=c,_;w!==null;){_=w;var j=_.stateNode;if(_.tag===5&&j!==null&&(_=j,y!==null&&(j=Jh(w,y),j!=null&&g.push(ip(w,j,_)))),b)break;w=w.return}0<g.length&&(p=new h(p,v,null,r,u),f.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",p&&r!==Xx&&(v=r.relatedTarget||r.fromElement)&&(xc(v)||v[co]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(v=r.relatedTarget||r.toElement,h=c,v=v?xc(v):null,v!==null&&(b=Kc(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=c),h!==v)){if(g=aA,j="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=oA,j="onPointerLeave",y="onPointerEnter",w="pointer"),b=h==null?p:Uu(h),_=v==null?p:Uu(v),p=new g(j,w+"leave",h,r,u),p.target=b,p.relatedTarget=_,j=null,xc(u)===c&&(g=new g(y,w+"enter",v,r,u),g.target=_,g.relatedTarget=b,j=g),b=j,h&&v)t:{for(g=h,y=v,w=0,_=g;_;_=yu(_))w++;for(_=0,j=y;j;j=yu(j))_++;for(;0<w-_;)g=yu(g),w--;for(;0<_-w;)y=yu(y),_--;for(;w--;){if(g===y||y!==null&&g===y.alternate)break t;g=yu(g),y=yu(y)}g=null}else g=null;h!==null&&yA(f,p,h,g,!1),v!==null&&b!==null&&yA(f,b,v,g,!0)}}e:{if(p=c?Uu(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var S=ZM;else if(uA(p))if(g6)S=rD;else{S=eD;var N=QM}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=tD);if(S&&(S=S(t,c))){m6(f,S,r,u);break e}N&&N(t,p,c),t==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&Hx(p,"number",p.value)}switch(N=c?Uu(c):window,t){case"focusin":(uA(N)||N.contentEditable==="true")&&(Bu=N,n2=c,Th=null);break;case"focusout":Th=n2=Bu=null;break;case"mousedown":i2=!0;break;case"contextmenu":case"mouseup":case"dragend":i2=!1,mA(f,r,u);break;case"selectionchange":if(aD)break;case"keydown":case"keyup":mA(f,r,u)}var P;if(e_)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Du?h6(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(f6&&r.locale!=="ko"&&(Du||C!=="onCompositionStart"?C==="onCompositionEnd"&&Du&&(P=d6()):(Qo=u,J5="value"in Qo?Qo.value:Qo.textContent,Du=!0)),N=N0(c,C),0<N.length&&(C=new sA(C,t,null,r,u),f.push({event:C,listeners:N}),P?C.data=P:(P=p6(r),P!==null&&(C.data=P)))),(P=GM?KM(t,r):YM(t,r))&&(c=N0(c,"onBeforeInput"),0<c.length&&(u=new sA("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=P))}N6(f,e)})}function ip(t,e,r){return{instance:t,listener:e,currentTarget:r}}function N0(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Jh(t,r),a!=null&&n.unshift(ip(t,a,i)),a=Jh(t,e),a!=null&&n.push(ip(t,a,i))),t=t.return}return n}function yu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yA(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=Jh(r,a),l!=null&&s.unshift(ip(r,l,o))):i||(l=Jh(r,a),l!=null&&s.push(ip(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var cD=/\r\n?/g,uD=/\u0000|\uFFFD/g;function bA(t){return(typeof t=="string"?t:""+t).replace(cD,`
`).replace(uD,"")}function mg(t,e,r){if(e=bA(e),bA(t)!==e&&r)throw Error(De(425))}function k0(){}var a2=null,s2=null;function o2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var l2=typeof setTimeout=="function"?setTimeout:void 0,dD=typeof clearTimeout=="function"?clearTimeout:void 0,xA=typeof Promise=="function"?Promise:void 0,fD=typeof queueMicrotask=="function"?queueMicrotask:typeof xA<"u"?function(t){return xA.resolve(null).then(t).catch(hD)}:l2;function hD(t){setTimeout(function(){throw t})}function bb(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ep(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ep(e)}function ol(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var rf=Math.random().toString(36).slice(2),fs="__reactFiber$"+rf,ap="__reactProps$"+rf,co="__reactContainer$"+rf,c2="__reactEvents$"+rf,pD="__reactListeners$"+rf,mD="__reactHandles$"+rf;function xc(t){var e=t[fs];if(e)return e;for(var r=t.parentNode;r;){if(e=r[co]||r[fs]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=wA(t);t!==null;){if(r=t[fs])return r;t=wA(t)}return e}t=r,r=t.parentNode}return null}function sm(t){return t=t[fs]||t[co],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Uu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(De(33))}function fy(t){return t[ap]||null}var u2=[],zu=-1;function Sl(t){return{current:t}}function Ar(t){0>zu||(t.current=u2[zu],u2[zu]=null,zu--)}function yr(t,e){zu++,u2[zu]=t.current,t.current=e}var gl={},Zn=Sl(gl),yi=Sl(!1),Lc=gl;function gd(t,e){var r=t.type.contextTypes;if(!r)return gl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bi(t){return t=t.childContextTypes,t!=null}function O0(){Ar(yi),Ar(Zn)}function _A(t,e,r){if(Zn.current!==gl)throw Error(De(168));yr(Zn,e),yr(yi,r)}function O6(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(De(108,Q7(t)||"Unknown",i));return $r({},r,n)}function P0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gl,Lc=Zn.current,yr(Zn,t),yr(yi,yi.current),!0}function SA(t,e,r){var n=t.stateNode;if(!n)throw Error(De(169));r?(t=O6(t,e,Lc),n.__reactInternalMemoizedMergedChildContext=t,Ar(yi),Ar(Zn),yr(Zn,t)):Ar(yi),yr(yi,r)}var Ys=null,hy=!1,xb=!1;function P6(t){Ys===null?Ys=[t]:Ys.push(t)}function gD(t){hy=!0,P6(t)}function jl(){if(!xb&&Ys!==null){xb=!0;var t=0,e=ar;try{var r=Ys;for(ar=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ys=null,hy=!1}catch(i){throw Ys!==null&&(Ys=Ys.slice(t+1)),e6(G5,jl),i}finally{ar=e,xb=!1}}return null}var qu=[],Wu=0,E0=null,C0=0,ca=[],ua=0,Ic=null,Zs=1,Qs="";function lc(t,e){qu[Wu++]=C0,qu[Wu++]=E0,E0=t,C0=e}function E6(t,e,r){ca[ua++]=Zs,ca[ua++]=Qs,ca[ua++]=Ic,Ic=t;var n=Zs;t=Qs;var i=32-qa(n)-1;n&=~(1<<i),r+=1;var a=32-qa(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Zs=1<<32-qa(e)+i|r<<i|n,Qs=a+t}else Zs=1<<a|r<<i|n,Qs=t}function r_(t){t.return!==null&&(lc(t,1),E6(t,1,0))}function n_(t){for(;t===E0;)E0=qu[--Wu],qu[Wu]=null,C0=qu[--Wu],qu[Wu]=null;for(;t===Ic;)Ic=ca[--ua],ca[ua]=null,Qs=ca[--ua],ca[ua]=null,Zs=ca[--ua],ca[ua]=null}var qi=null,Ui=null,kr=!1,Ua=null;function C6(t,e){var r=ha(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function jA(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qi=t,Ui=ol(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qi=t,Ui=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ic!==null?{id:Zs,overflow:Qs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ha(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,qi=t,Ui=null,!0):!1;default:return!1}}function d2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function f2(t){if(kr){var e=Ui;if(e){var r=e;if(!jA(t,e)){if(d2(t))throw Error(De(418));e=ol(r.nextSibling);var n=qi;e&&jA(t,e)?C6(n,r):(t.flags=t.flags&-4097|2,kr=!1,qi=t)}}else{if(d2(t))throw Error(De(418));t.flags=t.flags&-4097|2,kr=!1,qi=t}}}function AA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qi=t}function gg(t){if(t!==qi)return!1;if(!kr)return AA(t),kr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!o2(t.type,t.memoizedProps)),e&&(e=Ui)){if(d2(t))throw T6(),Error(De(418));for(;e;)C6(t,e),e=ol(e.nextSibling)}if(AA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(De(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ui=ol(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ui=null}}else Ui=qi?ol(t.stateNode.nextSibling):null;return!0}function T6(){for(var t=Ui;t;)t=ol(t.nextSibling)}function vd(){Ui=qi=null,kr=!1}function i_(t){Ua===null?Ua=[t]:Ua.push(t)}var vD=vo.ReactCurrentBatchConfig;function ah(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(De(309));var n=r.stateNode}if(!n)throw Error(De(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(De(284));if(!r._owner)throw Error(De(290,t))}return t}function vg(t,e){throw t=Object.prototype.toString.call(e),Error(De(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function NA(t){var e=t._init;return e(t._payload)}function L6(t){function e(y,w){if(t){var _=y.deletions;_===null?(y.deletions=[w],y.flags|=16):_.push(w)}}function r(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=dl(y,w),y.index=0,y.sibling=null,y}function a(y,w,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<w?(y.flags|=2,w):_):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,w,_,j){return w===null||w.tag!==6?(w=kb(_,y.mode,j),w.return=y,w):(w=i(w,_),w.return=y,w)}function l(y,w,_,j){var S=_.type;return S===Mu?u(y,w,_.props.children,j,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ho&&NA(S)===w.type)?(j=i(w,_.props),j.ref=ah(y,w,_),j.return=y,j):(j=d0(_.type,_.key,_.props,null,y.mode,j),j.ref=ah(y,w,_),j.return=y,j)}function c(y,w,_,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Ob(_,y.mode,j),w.return=y,w):(w=i(w,_.children||[]),w.return=y,w)}function u(y,w,_,j,S){return w===null||w.tag!==7?(w=Pc(_,y.mode,j,S),w.return=y,w):(w=i(w,_),w.return=y,w)}function f(y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=kb(""+w,y.mode,_),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sg:return _=d0(w.type,w.key,w.props,null,y.mode,_),_.ref=ah(y,null,w),_.return=y,_;case Ru:return w=Ob(w,y.mode,_),w.return=y,w;case Ho:var j=w._init;return f(y,j(w._payload),_)}if(_h(w)||eh(w))return w=Pc(w,y.mode,_,null),w.return=y,w;vg(y,w)}return null}function p(y,w,_,j){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:o(y,w,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case sg:return _.key===S?l(y,w,_,j):null;case Ru:return _.key===S?c(y,w,_,j):null;case Ho:return S=_._init,p(y,w,S(_._payload),j)}if(_h(_)||eh(_))return S!==null?null:u(y,w,_,j,null);vg(y,_)}return null}function h(y,w,_,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(_)||null,o(w,y,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case sg:return y=y.get(j.key===null?_:j.key)||null,l(w,y,j,S);case Ru:return y=y.get(j.key===null?_:j.key)||null,c(w,y,j,S);case Ho:var N=j._init;return h(y,w,_,N(j._payload),S)}if(_h(j)||eh(j))return y=y.get(_)||null,u(w,y,j,S,null);vg(w,j)}return null}function v(y,w,_,j){for(var S=null,N=null,P=w,C=w=0,I=null;P!==null&&C<_.length;C++){P.index>C?(I=P,P=null):I=P.sibling;var F=p(y,P,_[C],j);if(F===null){P===null&&(P=I);break}t&&P&&F.alternate===null&&e(y,P),w=a(F,w,C),N===null?S=F:N.sibling=F,N=F,P=I}if(C===_.length)return r(y,P),kr&&lc(y,C),S;if(P===null){for(;C<_.length;C++)P=f(y,_[C],j),P!==null&&(w=a(P,w,C),N===null?S=P:N.sibling=P,N=P);return kr&&lc(y,C),S}for(P=n(y,P);C<_.length;C++)I=h(P,y,C,_[C],j),I!==null&&(t&&I.alternate!==null&&P.delete(I.key===null?C:I.key),w=a(I,w,C),N===null?S=I:N.sibling=I,N=I);return t&&P.forEach(function(O){return e(y,O)}),kr&&lc(y,C),S}function g(y,w,_,j){var S=eh(_);if(typeof S!="function")throw Error(De(150));if(_=S.call(_),_==null)throw Error(De(151));for(var N=S=null,P=w,C=w=0,I=null,F=_.next();P!==null&&!F.done;C++,F=_.next()){P.index>C?(I=P,P=null):I=P.sibling;var O=p(y,P,F.value,j);if(O===null){P===null&&(P=I);break}t&&P&&O.alternate===null&&e(y,P),w=a(O,w,C),N===null?S=O:N.sibling=O,N=O,P=I}if(F.done)return r(y,P),kr&&lc(y,C),S;if(P===null){for(;!F.done;C++,F=_.next())F=f(y,F.value,j),F!==null&&(w=a(F,w,C),N===null?S=F:N.sibling=F,N=F);return kr&&lc(y,C),S}for(P=n(y,P);!F.done;C++,F=_.next())F=h(P,y,C,F.value,j),F!==null&&(t&&F.alternate!==null&&P.delete(F.key===null?C:F.key),w=a(F,w,C),N===null?S=F:N.sibling=F,N=F);return t&&P.forEach(function(T){return e(y,T)}),kr&&lc(y,C),S}function b(y,w,_,j){if(typeof _=="object"&&_!==null&&_.type===Mu&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case sg:e:{for(var S=_.key,N=w;N!==null;){if(N.key===S){if(S=_.type,S===Mu){if(N.tag===7){r(y,N.sibling),w=i(N,_.props.children),w.return=y,y=w;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ho&&NA(S)===N.type){r(y,N.sibling),w=i(N,_.props),w.ref=ah(y,N,_),w.return=y,y=w;break e}r(y,N);break}else e(y,N);N=N.sibling}_.type===Mu?(w=Pc(_.props.children,y.mode,j,_.key),w.return=y,y=w):(j=d0(_.type,_.key,_.props,null,y.mode,j),j.ref=ah(y,w,_),j.return=y,y=j)}return s(y);case Ru:e:{for(N=_.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(y,w.sibling),w=i(w,_.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else e(y,w);w=w.sibling}w=Ob(_,y.mode,j),w.return=y,y=w}return s(y);case Ho:return N=_._init,b(y,w,N(_._payload),j)}if(_h(_))return v(y,w,_,j);if(eh(_))return g(y,w,_,j);vg(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(y,w.sibling),w=i(w,_),w.return=y,y=w):(r(y,w),w=kb(_,y.mode,j),w.return=y,y=w),s(y)):r(y,w)}return b}var yd=L6(!0),I6=L6(!1),T0=Sl(null),L0=null,Hu=null,a_=null;function s_(){a_=Hu=L0=null}function o_(t){var e=T0.current;Ar(T0),t._currentValue=e}function h2(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function id(t,e){L0=t,a_=Hu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gi=!0),t.firstContext=null)}function ga(t){var e=t._currentValue;if(a_!==t)if(t={context:t,memoizedValue:e,next:null},Hu===null){if(L0===null)throw Error(De(308));Hu=t,L0.dependencies={lanes:0,firstContext:t}}else Hu=Hu.next=t;return e}var wc=null;function l_(t){wc===null?wc=[t]:wc.push(t)}function $6(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,l_(e)):(r.next=i.next,i.next=r),e.interleaved=r,uo(t,n)}function uo(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Vo=!1;function c_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function io(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ll(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Vt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,uo(t,r)}return i=n.interleaved,i===null?(e.next=e,l_(n)):(e.next=i.next,i.next=e),n.interleaved=e,uo(t,r)}function a0(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,K5(t,r)}}function kA(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function I0(t,e,r,n){var i=t.updateQueue;Vo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var p=o.lane,h=o.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,g=o;switch(p=e,h=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(h,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(h,f,p):v,p==null)break e;f=$r({},f,p);break e;case 2:Vo=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Rc|=s,t.lanes=s,t.memoizedState=f}}function OA(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(De(191,i));i.call(n)}}}var om={},gs=Sl(om),sp=Sl(om),op=Sl(om);function _c(t){if(t===om)throw Error(De(174));return t}function u_(t,e){switch(yr(op,e),yr(sp,t),yr(gs,om),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gx(e,t)}Ar(gs),yr(gs,e)}function bd(){Ar(gs),Ar(sp),Ar(op)}function M6(t){_c(op.current);var e=_c(gs.current),r=Gx(e,t.type);e!==r&&(yr(sp,t),yr(gs,r))}function d_(t){sp.current===t&&(Ar(gs),Ar(sp))}var Lr=Sl(0);function $0(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wb=[];function f_(){for(var t=0;t<wb.length;t++)wb[t]._workInProgressVersionPrimary=null;wb.length=0}var s0=vo.ReactCurrentDispatcher,_b=vo.ReactCurrentBatchConfig,$c=0,Ir=null,vn=null,jn=null,R0=!1,Lh=!1,lp=0,yD=0;function zn(){throw Error(De(321))}function h_(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ka(t[r],e[r]))return!1;return!0}function p_(t,e,r,n,i,a){if($c=a,Ir=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,s0.current=t===null||t.memoizedState===null?_D:SD,t=r(n,i),Lh){a=0;do{if(Lh=!1,lp=0,25<=a)throw Error(De(301));a+=1,jn=vn=null,e.updateQueue=null,s0.current=jD,t=r(n,i)}while(Lh)}if(s0.current=M0,e=vn!==null&&vn.next!==null,$c=0,jn=vn=Ir=null,R0=!1,e)throw Error(De(300));return t}function m_(){var t=lp!==0;return lp=0,t}function ds(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Ir.memoizedState=jn=t:jn=jn.next=t,jn}function va(){if(vn===null){var t=Ir.alternate;t=t!==null?t.memoizedState:null}else t=vn.next;var e=jn===null?Ir.memoizedState:jn.next;if(e!==null)jn=e,vn=t;else{if(t===null)throw Error(De(310));vn=t,t={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},jn===null?Ir.memoizedState=jn=t:jn=jn.next=t}return jn}function cp(t,e){return typeof e=="function"?e(t):e}function Sb(t){var e=va(),r=e.queue;if(r===null)throw Error(De(311));r.lastRenderedReducer=t;var n=vn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if(($c&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Ir.lanes|=u,Rc|=u}c=c.next}while(c!==null&&c!==a);l===null?s=n:l.next=o,Ka(n,e.memoizedState)||(gi=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Ir.lanes|=a,Rc|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function jb(t){var e=va(),r=e.queue;if(r===null)throw Error(De(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Ka(a,e.memoizedState)||(gi=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function D6(){}function B6(t,e){var r=Ir,n=va(),i=e(),a=!Ka(n.memoizedState,i);if(a&&(n.memoizedState=i,gi=!0),n=n.queue,g_(z6.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||jn!==null&&jn.memoizedState.tag&1){if(r.flags|=2048,up(9,U6.bind(null,r,n,i,e),void 0,null),kn===null)throw Error(De(349));$c&30||F6(r,e,i)}return i}function F6(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ir.updateQueue,e===null?(e={lastEffect:null,stores:null},Ir.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function U6(t,e,r,n){e.value=r,e.getSnapshot=n,q6(e)&&W6(t)}function z6(t,e,r){return r(function(){q6(e)&&W6(t)})}function q6(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ka(t,r)}catch{return!0}}function W6(t){var e=uo(t,1);e!==null&&Wa(e,t,1,-1)}function PA(t){var e=ds();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cp,lastRenderedState:t},e.queue=t,t=t.dispatch=wD.bind(null,Ir,t),[e.memoizedState,t]}function up(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ir.updateQueue,e===null?(e={lastEffect:null,stores:null},Ir.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function H6(){return va().memoizedState}function o0(t,e,r,n){var i=ds();Ir.flags|=t,i.memoizedState=up(1|e,r,void 0,n===void 0?null:n)}function py(t,e,r,n){var i=va();n=n===void 0?null:n;var a=void 0;if(vn!==null){var s=vn.memoizedState;if(a=s.destroy,n!==null&&h_(n,s.deps)){i.memoizedState=up(e,r,a,n);return}}Ir.flags|=t,i.memoizedState=up(1|e,r,a,n)}function EA(t,e){return o0(8390656,8,t,e)}function g_(t,e){return py(2048,8,t,e)}function V6(t,e){return py(4,2,t,e)}function G6(t,e){return py(4,4,t,e)}function K6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Y6(t,e,r){return r=r!=null?r.concat([t]):null,py(4,4,K6.bind(null,e,t),r)}function v_(){}function X6(t,e){var r=va();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&h_(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function J6(t,e){var r=va();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&h_(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Z6(t,e,r){return $c&21?(Ka(r,e)||(r=n6(),Ir.lanes|=r,Rc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gi=!0),t.memoizedState=r)}function bD(t,e){var r=ar;ar=r!==0&&4>r?r:4,t(!0);var n=_b.transition;_b.transition={};try{t(!1),e()}finally{ar=r,_b.transition=n}}function Q6(){return va().memoizedState}function xD(t,e,r){var n=ul(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},eC(t))tC(e,r);else if(r=$6(t,e,r,n),r!==null){var i=oi();Wa(r,t,n,i),rC(r,e,n)}}function wD(t,e,r){var n=ul(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(eC(t))tC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Ka(o,s)){var l=e.interleaved;l===null?(i.next=i,l_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=$6(t,e,i,n),r!==null&&(i=oi(),Wa(r,t,n,i),rC(r,e,n))}}function eC(t){var e=t.alternate;return t===Ir||e!==null&&e===Ir}function tC(t,e){Lh=R0=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function rC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,K5(t,r)}}var M0={readContext:ga,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useInsertionEffect:zn,useLayoutEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useMutableSource:zn,useSyncExternalStore:zn,useId:zn,unstable_isNewReconciler:!1},_D={readContext:ga,useCallback:function(t,e){return ds().memoizedState=[t,e===void 0?null:e],t},useContext:ga,useEffect:EA,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,o0(4194308,4,K6.bind(null,e,t),r)},useLayoutEffect:function(t,e){return o0(4194308,4,t,e)},useInsertionEffect:function(t,e){return o0(4,2,t,e)},useMemo:function(t,e){var r=ds();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ds();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=xD.bind(null,Ir,t),[n.memoizedState,t]},useRef:function(t){var e=ds();return t={current:t},e.memoizedState=t},useState:PA,useDebugValue:v_,useDeferredValue:function(t){return ds().memoizedState=t},useTransition:function(){var t=PA(!1),e=t[0];return t=bD.bind(null,t[1]),ds().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ir,i=ds();if(kr){if(r===void 0)throw Error(De(407));r=r()}else{if(r=e(),kn===null)throw Error(De(349));$c&30||F6(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,EA(z6.bind(null,n,a,t),[t]),n.flags|=2048,up(9,U6.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=ds(),e=kn.identifierPrefix;if(kr){var r=Qs,n=Zs;r=(n&~(1<<32-qa(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=lp++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=yD++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SD={readContext:ga,useCallback:X6,useContext:ga,useEffect:g_,useImperativeHandle:Y6,useInsertionEffect:V6,useLayoutEffect:G6,useMemo:J6,useReducer:Sb,useRef:H6,useState:function(){return Sb(cp)},useDebugValue:v_,useDeferredValue:function(t){var e=va();return Z6(e,vn.memoizedState,t)},useTransition:function(){var t=Sb(cp)[0],e=va().memoizedState;return[t,e]},useMutableSource:D6,useSyncExternalStore:B6,useId:Q6,unstable_isNewReconciler:!1},jD={readContext:ga,useCallback:X6,useContext:ga,useEffect:g_,useImperativeHandle:Y6,useInsertionEffect:V6,useLayoutEffect:G6,useMemo:J6,useReducer:jb,useRef:H6,useState:function(){return jb(cp)},useDebugValue:v_,useDeferredValue:function(t){var e=va();return vn===null?e.memoizedState=t:Z6(e,vn.memoizedState,t)},useTransition:function(){var t=jb(cp)[0],e=va().memoizedState;return[t,e]},useMutableSource:D6,useSyncExternalStore:B6,useId:Q6,unstable_isNewReconciler:!1};function Ra(t,e){if(t&&t.defaultProps){e=$r({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function p2(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:$r({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var my={isMounted:function(t){return(t=t._reactInternals)?Kc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=oi(),i=ul(t),a=io(n,i);a.payload=e,r!=null&&(a.callback=r),e=ll(t,a,i),e!==null&&(Wa(e,t,i,n),a0(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=oi(),i=ul(t),a=io(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=ll(t,a,i),e!==null&&(Wa(e,t,i,n),a0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=oi(),n=ul(t),i=io(r,n);i.tag=2,e!=null&&(i.callback=e),e=ll(t,i,n),e!==null&&(Wa(e,t,n,r),a0(e,t,n))}};function CA(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!rp(r,n)||!rp(i,a):!0}function nC(t,e,r){var n=!1,i=gl,a=e.contextType;return typeof a=="object"&&a!==null?a=ga(a):(i=bi(e)?Lc:Zn.current,n=e.contextTypes,a=(n=n!=null)?gd(t,i):gl),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=my,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function TA(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&my.enqueueReplaceState(e,e.state,null)}function m2(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},c_(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=ga(a):(a=bi(e)?Lc:Zn.current,i.context=gd(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(p2(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&my.enqueueReplaceState(i,i.state,null),I0(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xd(t,e){try{var r="",n=e;do r+=Z7(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Ab(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function g2(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var AD=typeof WeakMap=="function"?WeakMap:Map;function iC(t,e,r){r=io(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){B0||(B0=!0,N2=n),g2(t,e)},r}function aC(t,e,r){r=io(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){g2(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){g2(t,e),typeof n!="function"&&(cl===null?cl=new Set([this]):cl.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function LA(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new AD;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=BD.bind(null,t,e,r),e.then(t,t))}function IA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $A(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=io(-1,1),e.tag=2,ll(r,e,1))),r.lanes|=1),t)}var ND=vo.ReactCurrentOwner,gi=!1;function ri(t,e,r,n){e.child=t===null?I6(e,null,r,n):yd(e,t.child,r,n)}function RA(t,e,r,n,i){r=r.render;var a=e.ref;return id(e,i),n=p_(t,e,r,n,a,i),r=m_(),t!==null&&!gi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fo(t,e,i)):(kr&&r&&r_(e),e.flags|=1,ri(t,e,n,i),e.child)}function MA(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!A_(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,sC(t,e,a,n,i)):(t=d0(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:rp,r(s,n)&&t.ref===e.ref)return fo(t,e,i)}return e.flags|=1,t=dl(a,n),t.ref=e.ref,t.return=e,e.child=t}function sC(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(rp(a,n)&&t.ref===e.ref)if(gi=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(gi=!0);else return e.lanes=t.lanes,fo(t,e,i)}return v2(t,e,r,n,i)}function oC(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yr(Gu,$i),$i|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yr(Gu,$i),$i|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,yr(Gu,$i),$i|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,yr(Gu,$i),$i|=n;return ri(t,e,i,r),e.child}function lC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function v2(t,e,r,n,i){var a=bi(r)?Lc:Zn.current;return a=gd(e,a),id(e,i),r=p_(t,e,r,n,a,i),n=m_(),t!==null&&!gi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fo(t,e,i)):(kr&&n&&r_(e),e.flags|=1,ri(t,e,r,i),e.child)}function DA(t,e,r,n,i){if(bi(r)){var a=!0;P0(e)}else a=!1;if(id(e,i),e.stateNode===null)l0(t,e),nC(e,r,n),m2(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=ga(c):(c=bi(r)?Lc:Zn.current,c=gd(e,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&TA(e,s,n,c),Vo=!1;var p=e.memoizedState;s.state=p,I0(e,n,s,i),l=e.memoizedState,o!==n||p!==l||yi.current||Vo?(typeof u=="function"&&(p2(e,r,u,n),l=e.memoizedState),(o=Vo||CA(e,r,o,n,p,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,R6(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Ra(e.type,o),s.props=c,f=e.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=ga(l):(l=bi(r)?Lc:Zn.current,l=gd(e,l));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||p!==l)&&TA(e,s,n,l),Vo=!1,p=e.memoizedState,s.state=p,I0(e,n,s,i);var v=e.memoizedState;o!==f||p!==v||yi.current||Vo?(typeof h=="function"&&(p2(e,r,h,n),v=e.memoizedState),(c=Vo||CA(e,r,c,n,p,v,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),s.props=n,s.state=v,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return y2(t,e,r,n,a,i)}function y2(t,e,r,n,i,a){lC(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&SA(e,r,!1),fo(t,e,a);n=e.stateNode,ND.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=yd(e,t.child,null,a),e.child=yd(e,null,o,a)):ri(t,e,o,a),e.memoizedState=n.state,i&&SA(e,r,!0),e.child}function cC(t){var e=t.stateNode;e.pendingContext?_A(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_A(t,e.context,!1),u_(t,e.containerInfo)}function BA(t,e,r,n,i){return vd(),i_(i),e.flags|=256,ri(t,e,r,n),e.child}var b2={dehydrated:null,treeContext:null,retryLane:0};function x2(t){return{baseLanes:t,cachePool:null,transitions:null}}function uC(t,e,r){var n=e.pendingProps,i=Lr.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),yr(Lr,i&1),t===null)return f2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=yy(s,n,0,null),t=Pc(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=x2(r),e.memoizedState=b2,t):y_(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return kD(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=dl(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=dl(o,a):(a=Pc(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?x2(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=b2,n}return a=t.child,t=a.sibling,n=dl(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function y_(t,e){return e=yy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yg(t,e,r,n){return n!==null&&i_(n),yd(e,t.child,null,r),t=y_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kD(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=Ab(Error(De(422))),yg(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=yy({mode:"visible",children:n.children},i,0,null),a=Pc(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&yd(e,t.child,null,s),e.child.memoizedState=x2(s),e.memoizedState=b2,a);if(!(e.mode&1))return yg(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(De(419)),n=Ab(a,n,void 0),yg(t,e,s,n)}if(o=(s&t.childLanes)!==0,gi||o){if(n=kn,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,uo(t,i),Wa(n,t,i,-1))}return j_(),n=Ab(Error(De(421))),yg(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=FD.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ui=ol(i.nextSibling),qi=e,kr=!0,Ua=null,t!==null&&(ca[ua++]=Zs,ca[ua++]=Qs,ca[ua++]=Ic,Zs=t.id,Qs=t.overflow,Ic=e),e=y_(e,n.children),e.flags|=4096,e)}function FA(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),h2(t.return,e,r)}function Nb(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function dC(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(ri(t,e,n.children,r),n=Lr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&FA(t,r,e);else if(t.tag===19)FA(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(yr(Lr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&$0(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Nb(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$0(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Nb(e,!0,r,null,a);break;case"together":Nb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function l0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Rc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(De(153));if(e.child!==null){for(t=e.child,r=dl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=dl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function OD(t,e,r){switch(e.tag){case 3:cC(e),vd();break;case 5:M6(e);break;case 1:bi(e.type)&&P0(e);break;case 4:u_(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;yr(T0,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(yr(Lr,Lr.current&1),e.flags|=128,null):r&e.child.childLanes?uC(t,e,r):(yr(Lr,Lr.current&1),t=fo(t,e,r),t!==null?t.sibling:null);yr(Lr,Lr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return dC(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yr(Lr,Lr.current),n)break;return null;case 22:case 23:return e.lanes=0,oC(t,e,r)}return fo(t,e,r)}var fC,w2,hC,pC;fC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};w2=function(){};hC=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,_c(gs.current);var a=null;switch(r){case"input":i=qx(t,i),n=qx(t,n),a=[];break;case"select":i=$r({},i,{value:void 0}),n=$r({},n,{value:void 0}),a=[];break;case"textarea":i=Vx(t,i),n=Vx(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=k0)}Kx(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Yh.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Yh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&wr("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};pC=function(t,e,r,n){r!==n&&(e.flags|=4)};function sh(t,e){if(!kr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function qn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function PD(t,e,r){var n=e.pendingProps;switch(n_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(e),null;case 1:return bi(e.type)&&O0(),qn(e),null;case 3:return n=e.stateNode,bd(),Ar(yi),Ar(Zn),f_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(gg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ua!==null&&(P2(Ua),Ua=null))),w2(t,e),qn(e),null;case 5:d_(e);var i=_c(op.current);if(r=e.type,t!==null&&e.stateNode!=null)hC(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(De(166));return qn(e),null}if(t=_c(gs.current),gg(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[fs]=e,n[ap]=a,t=(e.mode&1)!==0,r){case"dialog":wr("cancel",n),wr("close",n);break;case"iframe":case"object":case"embed":wr("load",n);break;case"video":case"audio":for(i=0;i<jh.length;i++)wr(jh[i],n);break;case"source":wr("error",n);break;case"img":case"image":case"link":wr("error",n),wr("load",n);break;case"details":wr("toggle",n);break;case"input":Yj(n,a),wr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},wr("invalid",n);break;case"textarea":Jj(n,a),wr("invalid",n)}Kx(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&mg(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&mg(n.textContent,o,t),i=["children",""+o]):Yh.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&wr("scroll",n)}switch(r){case"input":og(n),Xj(n,a,!0);break;case"textarea":og(n),Zj(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=k0)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zE(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[fs]=e,t[ap]=n,fC(t,e,!1,!1),e.stateNode=t;e:{switch(s=Yx(r,n),r){case"dialog":wr("cancel",t),wr("close",t),i=n;break;case"iframe":case"object":case"embed":wr("load",t),i=n;break;case"video":case"audio":for(i=0;i<jh.length;i++)wr(jh[i],t);i=n;break;case"source":wr("error",t),i=n;break;case"img":case"image":case"link":wr("error",t),wr("load",t),i=n;break;case"details":wr("toggle",t),i=n;break;case"input":Yj(t,n),i=qx(t,n),wr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=$r({},n,{value:void 0}),wr("invalid",t);break;case"textarea":Jj(t,n),i=Vx(t,n),wr("invalid",t);break;default:i=n}Kx(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?HE(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qE(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Xh(t,l):typeof l=="number"&&Xh(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Yh.hasOwnProperty(a)?l!=null&&a==="onScroll"&&wr("scroll",t):l!=null&&z5(t,a,l,s))}switch(r){case"input":og(t),Xj(t,n,!1);break;case"textarea":og(t),Zj(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ml(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?ed(t,!!n.multiple,a,!1):n.defaultValue!=null&&ed(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=k0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qn(e),null;case 6:if(t&&e.stateNode!=null)pC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(De(166));if(r=_c(op.current),_c(gs.current),gg(e)){if(n=e.stateNode,r=e.memoizedProps,n[fs]=e,(a=n.nodeValue!==r)&&(t=qi,t!==null))switch(t.tag){case 3:mg(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mg(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fs]=e,e.stateNode=n}return qn(e),null;case 13:if(Ar(Lr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kr&&Ui!==null&&e.mode&1&&!(e.flags&128))T6(),vd(),e.flags|=98560,a=!1;else if(a=gg(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(De(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(De(317));a[fs]=e}else vd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qn(e),a=!1}else Ua!==null&&(P2(Ua),Ua=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Lr.current&1?bn===0&&(bn=3):j_())),e.updateQueue!==null&&(e.flags|=4),qn(e),null);case 4:return bd(),w2(t,e),t===null&&np(e.stateNode.containerInfo),qn(e),null;case 10:return o_(e.type._context),qn(e),null;case 17:return bi(e.type)&&O0(),qn(e),null;case 19:if(Ar(Lr),a=e.memoizedState,a===null)return qn(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)sh(a,!1);else{if(bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=$0(t),s!==null){for(e.flags|=128,sh(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return yr(Lr,Lr.current&1|2),e.child}t=t.sibling}a.tail!==null&&Kr()>wd&&(e.flags|=128,n=!0,sh(a,!1),e.lanes=4194304)}else{if(!n)if(t=$0(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),sh(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!kr)return qn(e),null}else 2*Kr()-a.renderingStartTime>wd&&r!==1073741824&&(e.flags|=128,n=!0,sh(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Kr(),e.sibling=null,r=Lr.current,yr(Lr,n?r&1|2:r&1),e):(qn(e),null);case 22:case 23:return S_(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?$i&1073741824&&(qn(e),e.subtreeFlags&6&&(e.flags|=8192)):qn(e),null;case 24:return null;case 25:return null}throw Error(De(156,e.tag))}function ED(t,e){switch(n_(e),e.tag){case 1:return bi(e.type)&&O0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bd(),Ar(yi),Ar(Zn),f_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return d_(e),null;case 13:if(Ar(Lr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(De(340));vd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ar(Lr),null;case 4:return bd(),null;case 10:return o_(e.type._context),null;case 22:case 23:return S_(),null;case 24:return null;default:return null}}var bg=!1,Xn=!1,CD=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Vu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ur(t,e,n)}else r.current=null}function _2(t,e,r){try{r()}catch(n){Ur(t,e,n)}}var UA=!1;function TD(t,e){if(a2=j0,t=b6(),t_(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=t,p=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===t)break t;if(p===r&&++c===i&&(o=s),p===a&&++u===n&&(l=s),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(s2={focusedElem:t,selectionRange:r},j0=!1,Ye=e;Ye!==null;)if(e=Ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ye=t;else for(;Ye!==null;){e=Ye;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ra(e.type,g),b);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(j){Ur(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,Ye=t;break}Ye=e.return}return v=UA,UA=!1,v}function Ih(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&_2(e,r,a)}i=i.next}while(i!==n)}}function gy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function S2(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function mC(t){var e=t.alternate;e!==null&&(t.alternate=null,mC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fs],delete e[ap],delete e[c2],delete e[pD],delete e[mD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gC(t){return t.tag===5||t.tag===3||t.tag===4}function zA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function j2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=k0));else if(n!==4&&(t=t.child,t!==null))for(j2(t,e,r),t=t.sibling;t!==null;)j2(t,e,r),t=t.sibling}function A2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(A2(t,e,r),t=t.sibling;t!==null;)A2(t,e,r),t=t.sibling}var $n=null,Da=!1;function Uo(t,e,r){for(r=r.child;r!==null;)vC(t,e,r),r=r.sibling}function vC(t,e,r){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(ly,r)}catch{}switch(r.tag){case 5:Xn||Vu(r,e);case 6:var n=$n,i=Da;$n=null,Uo(t,e,r),$n=n,Da=i,$n!==null&&(Da?(t=$n,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):$n.removeChild(r.stateNode));break;case 18:$n!==null&&(Da?(t=$n,r=r.stateNode,t.nodeType===8?bb(t.parentNode,r):t.nodeType===1&&bb(t,r),ep(t)):bb($n,r.stateNode));break;case 4:n=$n,i=Da,$n=r.stateNode.containerInfo,Da=!0,Uo(t,e,r),$n=n,Da=i;break;case 0:case 11:case 14:case 15:if(!Xn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&_2(r,e,s),i=i.next}while(i!==n)}Uo(t,e,r);break;case 1:if(!Xn&&(Vu(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ur(r,e,o)}Uo(t,e,r);break;case 21:Uo(t,e,r);break;case 22:r.mode&1?(Xn=(n=Xn)||r.memoizedState!==null,Uo(t,e,r),Xn=n):Uo(t,e,r);break;default:Uo(t,e,r)}}function qA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new CD),e.forEach(function(n){var i=UD.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ea(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:$n=o.stateNode,Da=!1;break e;case 3:$n=o.stateNode.containerInfo,Da=!0;break e;case 4:$n=o.stateNode.containerInfo,Da=!0;break e}o=o.return}if($n===null)throw Error(De(160));vC(a,s,i),$n=null,Da=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ur(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yC(e,t),e=e.sibling}function yC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ea(e,t),os(t),n&4){try{Ih(3,t,t.return),gy(3,t)}catch(g){Ur(t,t.return,g)}try{Ih(5,t,t.return)}catch(g){Ur(t,t.return,g)}}break;case 1:Ea(e,t),os(t),n&512&&r!==null&&Vu(r,r.return);break;case 5:if(Ea(e,t),os(t),n&512&&r!==null&&Vu(r,r.return),t.flags&32){var i=t.stateNode;try{Xh(i,"")}catch(g){Ur(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&FE(i,a),Yx(o,s);var c=Yx(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?HE(i,f):u==="dangerouslySetInnerHTML"?qE(i,f):u==="children"?Xh(i,f):z5(i,u,f,c)}switch(o){case"input":Wx(i,a);break;case"textarea":UE(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?ed(i,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?ed(i,!!a.multiple,a.defaultValue,!0):ed(i,!!a.multiple,a.multiple?[]:"",!1))}i[ap]=a}catch(g){Ur(t,t.return,g)}}break;case 6:if(Ea(e,t),os(t),n&4){if(t.stateNode===null)throw Error(De(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){Ur(t,t.return,g)}}break;case 3:if(Ea(e,t),os(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ep(e.containerInfo)}catch(g){Ur(t,t.return,g)}break;case 4:Ea(e,t),os(t);break;case 13:Ea(e,t),os(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(w_=Kr())),n&4&&qA(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Xn=(c=Xn)||u,Ea(e,t),Xn=c):Ea(e,t),os(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ye=t,u=t.child;u!==null;){for(f=Ye=u;Ye!==null;){switch(p=Ye,h=p.child,p.tag){case 0:case 11:case 14:case 15:Ih(4,p,p.return);break;case 1:Vu(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){Ur(n,r,g)}}break;case 5:Vu(p,p.return);break;case 22:if(p.memoizedState!==null){HA(f);continue}}h!==null?(h.return=p,Ye=h):HA(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=WE("display",s))}catch(g){Ur(t,t.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Ur(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ea(e,t),os(t),n&4&&qA(t);break;case 21:break;default:Ea(e,t),os(t)}}function os(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(gC(r)){var n=r;break e}r=r.return}throw Error(De(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Xh(i,""),n.flags&=-33);var a=zA(t);A2(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=zA(t);j2(t,o,s);break;default:throw Error(De(161))}}catch(l){Ur(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LD(t,e,r){Ye=t,bC(t)}function bC(t,e,r){for(var n=(t.mode&1)!==0;Ye!==null;){var i=Ye,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||bg;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Xn;o=bg;var c=Xn;if(bg=s,(Xn=l)&&!c)for(Ye=i;Ye!==null;)s=Ye,l=s.child,s.tag===22&&s.memoizedState!==null?VA(i):l!==null?(l.return=s,Ye=l):VA(i);for(;a!==null;)Ye=a,bC(a),a=a.sibling;Ye=i,bg=o,Xn=c}WA(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ye=a):WA(t)}}function WA(t){for(;Ye!==null;){var e=Ye;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xn||gy(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Xn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ra(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&OA(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}OA(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&ep(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}Xn||e.flags&512&&S2(e)}catch(p){Ur(e,e.return,p)}}if(e===t){Ye=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ye=r;break}Ye=e.return}}function HA(t){for(;Ye!==null;){var e=Ye;if(e===t){Ye=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ye=r;break}Ye=e.return}}function VA(t){for(;Ye!==null;){var e=Ye;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{gy(4,e)}catch(l){Ur(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Ur(e,i,l)}}var a=e.return;try{S2(e)}catch(l){Ur(e,a,l)}break;case 5:var s=e.return;try{S2(e)}catch(l){Ur(e,s,l)}}}catch(l){Ur(e,e.return,l)}if(e===t){Ye=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ye=o;break}Ye=e.return}}var ID=Math.ceil,D0=vo.ReactCurrentDispatcher,b_=vo.ReactCurrentOwner,ma=vo.ReactCurrentBatchConfig,Vt=0,kn=null,on=null,Rn=0,$i=0,Gu=Sl(0),bn=0,dp=null,Rc=0,vy=0,x_=0,$h=null,mi=null,w_=0,wd=1/0,Vs=null,B0=!1,N2=null,cl=null,xg=!1,el=null,F0=0,Rh=0,k2=null,c0=-1,u0=0;function oi(){return Vt&6?Kr():c0!==-1?c0:c0=Kr()}function ul(t){return t.mode&1?Vt&2&&Rn!==0?Rn&-Rn:vD.transition!==null?(u0===0&&(u0=n6()),u0):(t=ar,t!==0||(t=window.event,t=t===void 0?16:u6(t.type)),t):1}function Wa(t,e,r,n){if(50<Rh)throw Rh=0,k2=null,Error(De(185));im(t,r,n),(!(Vt&2)||t!==kn)&&(t===kn&&(!(Vt&2)&&(vy|=r),bn===4&&Xo(t,Rn)),xi(t,n),r===1&&Vt===0&&!(e.mode&1)&&(wd=Kr()+500,hy&&jl()))}function xi(t,e){var r=t.callbackNode;vM(t,e);var n=S0(t,t===kn?Rn:0);if(n===0)r!==null&&tA(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&tA(r),e===1)t.tag===0?gD(GA.bind(null,t)):P6(GA.bind(null,t)),fD(function(){!(Vt&6)&&jl()}),r=null;else{switch(i6(n)){case 1:r=G5;break;case 4:r=t6;break;case 16:r=_0;break;case 536870912:r=r6;break;default:r=_0}r=kC(r,xC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function xC(t,e){if(c0=-1,u0=0,Vt&6)throw Error(De(327));var r=t.callbackNode;if(ad()&&t.callbackNode!==r)return null;var n=S0(t,t===kn?Rn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=U0(t,n);else{e=n;var i=Vt;Vt|=2;var a=_C();(kn!==t||Rn!==e)&&(Vs=null,wd=Kr()+500,Oc(t,e));do try{MD();break}catch(o){wC(t,o)}while(!0);s_(),D0.current=a,Vt=i,on!==null?e=0:(kn=null,Rn=0,e=bn)}if(e!==0){if(e===2&&(i=e2(t),i!==0&&(n=i,e=O2(t,i))),e===1)throw r=dp,Oc(t,0),Xo(t,n),xi(t,Kr()),r;if(e===6)Xo(t,n);else{if(i=t.current.alternate,!(n&30)&&!$D(i)&&(e=U0(t,n),e===2&&(a=e2(t),a!==0&&(n=a,e=O2(t,a))),e===1))throw r=dp,Oc(t,0),Xo(t,n),xi(t,Kr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(De(345));case 2:cc(t,mi,Vs);break;case 3:if(Xo(t,n),(n&130023424)===n&&(e=w_+500-Kr(),10<e)){if(S0(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){oi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=l2(cc.bind(null,t,mi,Vs),e);break}cc(t,mi,Vs);break;case 4:if(Xo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-qa(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=Kr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ID(n/1960))-n,10<n){t.timeoutHandle=l2(cc.bind(null,t,mi,Vs),n);break}cc(t,mi,Vs);break;case 5:cc(t,mi,Vs);break;default:throw Error(De(329))}}}return xi(t,Kr()),t.callbackNode===r?xC.bind(null,t):null}function O2(t,e){var r=$h;return t.current.memoizedState.isDehydrated&&(Oc(t,e).flags|=256),t=U0(t,e),t!==2&&(e=mi,mi=r,e!==null&&P2(e)),t}function P2(t){mi===null?mi=t:mi.push.apply(mi,t)}function $D(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Ka(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xo(t,e){for(e&=~x_,e&=~vy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-qa(e),n=1<<r;t[r]=-1,e&=~n}}function GA(t){if(Vt&6)throw Error(De(327));ad();var e=S0(t,0);if(!(e&1))return xi(t,Kr()),null;var r=U0(t,e);if(t.tag!==0&&r===2){var n=e2(t);n!==0&&(e=n,r=O2(t,n))}if(r===1)throw r=dp,Oc(t,0),Xo(t,e),xi(t,Kr()),r;if(r===6)throw Error(De(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cc(t,mi,Vs),xi(t,Kr()),null}function __(t,e){var r=Vt;Vt|=1;try{return t(e)}finally{Vt=r,Vt===0&&(wd=Kr()+500,hy&&jl())}}function Mc(t){el!==null&&el.tag===0&&!(Vt&6)&&ad();var e=Vt;Vt|=1;var r=ma.transition,n=ar;try{if(ma.transition=null,ar=1,t)return t()}finally{ar=n,ma.transition=r,Vt=e,!(Vt&6)&&jl()}}function S_(){$i=Gu.current,Ar(Gu)}function Oc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,dD(r)),on!==null)for(r=on.return;r!==null;){var n=r;switch(n_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&O0();break;case 3:bd(),Ar(yi),Ar(Zn),f_();break;case 5:d_(n);break;case 4:bd();break;case 13:Ar(Lr);break;case 19:Ar(Lr);break;case 10:o_(n.type._context);break;case 22:case 23:S_()}r=r.return}if(kn=t,on=t=dl(t.current,null),Rn=$i=e,bn=0,dp=null,x_=vy=Rc=0,mi=$h=null,wc!==null){for(e=0;e<wc.length;e++)if(r=wc[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}wc=null}return t}function wC(t,e){do{var r=on;try{if(s_(),s0.current=M0,R0){for(var n=Ir.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}R0=!1}if($c=0,jn=vn=Ir=null,Lh=!1,lp=0,b_.current=null,r===null||r.return===null){bn=1,dp=e,on=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=Rn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=IA(s);if(h!==null){h.flags&=-257,$A(h,s,o,a,e),h.mode&1&&LA(a,c,e),e=h,l=c;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){LA(a,c,e),j_();break e}l=Error(De(426))}}else if(kr&&o.mode&1){var b=IA(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),$A(b,s,o,a,e),i_(xd(l,o));break e}}a=l=xd(l,o),bn!==4&&(bn=2),$h===null?$h=[a]:$h.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=iC(a,l,e);kA(a,y);break e;case 1:o=l;var w=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(cl===null||!cl.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var j=aC(a,o,e);kA(a,j);break e}}a=a.return}while(a!==null)}jC(r)}catch(S){e=S,on===r&&r!==null&&(on=r=r.return);continue}break}while(!0)}function _C(){var t=D0.current;return D0.current=M0,t===null?M0:t}function j_(){(bn===0||bn===3||bn===2)&&(bn=4),kn===null||!(Rc&268435455)&&!(vy&268435455)||Xo(kn,Rn)}function U0(t,e){var r=Vt;Vt|=2;var n=_C();(kn!==t||Rn!==e)&&(Vs=null,Oc(t,e));do try{RD();break}catch(i){wC(t,i)}while(!0);if(s_(),Vt=r,D0.current=n,on!==null)throw Error(De(261));return kn=null,Rn=0,bn}function RD(){for(;on!==null;)SC(on)}function MD(){for(;on!==null&&!lM();)SC(on)}function SC(t){var e=NC(t.alternate,t,$i);t.memoizedProps=t.pendingProps,e===null?jC(t):on=e,b_.current=null}function jC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=ED(r,e),r!==null){r.flags&=32767,on=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bn=6,on=null;return}}else if(r=PD(r,e,$i),r!==null){on=r;return}if(e=e.sibling,e!==null){on=e;return}on=e=t}while(e!==null);bn===0&&(bn=5)}function cc(t,e,r){var n=ar,i=ma.transition;try{ma.transition=null,ar=1,DD(t,e,r,n)}finally{ma.transition=i,ar=n}return null}function DD(t,e,r,n){do ad();while(el!==null);if(Vt&6)throw Error(De(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(De(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(yM(t,a),t===kn&&(on=kn=null,Rn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xg||(xg=!0,kC(_0,function(){return ad(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ma.transition,ma.transition=null;var s=ar;ar=1;var o=Vt;Vt|=4,b_.current=null,TD(t,r),yC(r,t),iD(s2),j0=!!a2,s2=a2=null,t.current=r,LD(r),cM(),Vt=o,ar=s,ma.transition=a}else t.current=r;if(xg&&(xg=!1,el=t,F0=i),a=t.pendingLanes,a===0&&(cl=null),fM(r.stateNode),xi(t,Kr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(B0)throw B0=!1,t=N2,N2=null,t;return F0&1&&t.tag!==0&&ad(),a=t.pendingLanes,a&1?t===k2?Rh++:(Rh=0,k2=t):Rh=0,jl(),null}function ad(){if(el!==null){var t=i6(F0),e=ma.transition,r=ar;try{if(ma.transition=null,ar=16>t?16:t,el===null)var n=!1;else{if(t=el,el=null,F0=0,Vt&6)throw Error(De(331));var i=Vt;for(Vt|=4,Ye=t.current;Ye!==null;){var a=Ye,s=a.child;if(Ye.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ye=c;Ye!==null;){var u=Ye;switch(u.tag){case 0:case 11:case 15:Ih(8,u,a)}var f=u.child;if(f!==null)f.return=u,Ye=f;else for(;Ye!==null;){u=Ye;var p=u.sibling,h=u.return;if(mC(u),u===c){Ye=null;break}if(p!==null){p.return=h,Ye=p;break}Ye=h}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}Ye=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ye=s;else e:for(;Ye!==null;){if(a=Ye,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ih(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Ye=y;break e}Ye=a.return}}var w=t.current;for(Ye=w;Ye!==null;){s=Ye;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Ye=_;else e:for(s=w;Ye!==null;){if(o=Ye,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:gy(9,o)}}catch(S){Ur(o,o.return,S)}if(o===s){Ye=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,Ye=j;break e}Ye=o.return}}if(Vt=i,jl(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(ly,t)}catch{}n=!0}return n}finally{ar=r,ma.transition=e}}return!1}function KA(t,e,r){e=xd(r,e),e=iC(t,e,1),t=ll(t,e,1),e=oi(),t!==null&&(im(t,1,e),xi(t,e))}function Ur(t,e,r){if(t.tag===3)KA(t,t,r);else for(;e!==null;){if(e.tag===3){KA(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(cl===null||!cl.has(n))){t=xd(r,t),t=aC(e,t,1),e=ll(e,t,1),t=oi(),e!==null&&(im(e,1,t),xi(e,t));break}}e=e.return}}function BD(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=oi(),t.pingedLanes|=t.suspendedLanes&r,kn===t&&(Rn&r)===r&&(bn===4||bn===3&&(Rn&130023424)===Rn&&500>Kr()-w_?Oc(t,0):x_|=r),xi(t,e)}function AC(t,e){e===0&&(t.mode&1?(e=ug,ug<<=1,!(ug&130023424)&&(ug=4194304)):e=1);var r=oi();t=uo(t,e),t!==null&&(im(t,e,r),xi(t,r))}function FD(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),AC(t,r)}function UD(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(De(314))}n!==null&&n.delete(e),AC(t,r)}var NC;NC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||yi.current)gi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return gi=!1,OD(t,e,r);gi=!!(t.flags&131072)}else gi=!1,kr&&e.flags&1048576&&E6(e,C0,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;l0(t,e),t=e.pendingProps;var i=gd(e,Zn.current);id(e,r),i=p_(null,e,n,t,i,r);var a=m_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bi(n)?(a=!0,P0(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,c_(e),i.updater=my,e.stateNode=i,i._reactInternals=e,m2(e,n,t,r),e=y2(null,e,n,!0,a,r)):(e.tag=0,kr&&a&&r_(e),ri(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(l0(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=qD(n),t=Ra(n,t),i){case 0:e=v2(null,e,n,t,r);break e;case 1:e=DA(null,e,n,t,r);break e;case 11:e=RA(null,e,n,t,r);break e;case 14:e=MA(null,e,n,Ra(n.type,t),r);break e}throw Error(De(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ra(n,i),v2(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ra(n,i),DA(t,e,n,i,r);case 3:e:{if(cC(e),t===null)throw Error(De(387));n=e.pendingProps,a=e.memoizedState,i=a.element,R6(t,e),I0(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=xd(Error(De(423)),e),e=BA(t,e,n,r,i);break e}else if(n!==i){i=xd(Error(De(424)),e),e=BA(t,e,n,r,i);break e}else for(Ui=ol(e.stateNode.containerInfo.firstChild),qi=e,kr=!0,Ua=null,r=I6(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vd(),n===i){e=fo(t,e,r);break e}ri(t,e,n,r)}e=e.child}return e;case 5:return M6(e),t===null&&f2(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,o2(n,i)?s=null:a!==null&&o2(n,a)&&(e.flags|=32),lC(t,e),ri(t,e,s,r),e.child;case 6:return t===null&&f2(e),null;case 13:return uC(t,e,r);case 4:return u_(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=yd(e,null,n,r):ri(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ra(n,i),RA(t,e,n,i,r);case 7:return ri(t,e,e.pendingProps,r),e.child;case 8:return ri(t,e,e.pendingProps.children,r),e.child;case 12:return ri(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,yr(T0,n._currentValue),n._currentValue=s,a!==null)if(Ka(a.value,s)){if(a.children===i.children&&!yi.current){e=fo(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=io(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),h2(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(De(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),h2(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}ri(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,id(e,r),i=ga(i),n=n(i),e.flags|=1,ri(t,e,n,r),e.child;case 14:return n=e.type,i=Ra(n,e.pendingProps),i=Ra(n.type,i),MA(t,e,n,i,r);case 15:return sC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ra(n,i),l0(t,e),e.tag=1,bi(n)?(t=!0,P0(e)):t=!1,id(e,r),nC(e,n,i),m2(e,n,i,r),y2(null,e,n,!0,t,r);case 19:return dC(t,e,r);case 22:return oC(t,e,r)}throw Error(De(156,e.tag))};function kC(t,e){return e6(t,e)}function zD(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ha(t,e,r,n){return new zD(t,e,r,n)}function A_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qD(t){if(typeof t=="function")return A_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===W5)return 11;if(t===H5)return 14}return 2}function dl(t,e){var r=t.alternate;return r===null?(r=ha(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function d0(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")A_(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Mu:return Pc(r.children,i,a,e);case q5:s=8,i|=8;break;case Bx:return t=ha(12,r,e,i|2),t.elementType=Bx,t.lanes=a,t;case Fx:return t=ha(13,r,e,i),t.elementType=Fx,t.lanes=a,t;case Ux:return t=ha(19,r,e,i),t.elementType=Ux,t.lanes=a,t;case ME:return yy(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $E:s=10;break e;case RE:s=9;break e;case W5:s=11;break e;case H5:s=14;break e;case Ho:s=16,n=null;break e}throw Error(De(130,t==null?t:typeof t,""))}return e=ha(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Pc(t,e,r,n){return t=ha(7,t,n,e),t.lanes=r,t}function yy(t,e,r,n){return t=ha(22,t,n,e),t.elementType=ME,t.lanes=r,t.stateNode={isHidden:!1},t}function kb(t,e,r){return t=ha(6,t,null,e),t.lanes=r,t}function Ob(t,e,r){return e=ha(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WD(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lb(0),this.expirationTimes=lb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lb(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function N_(t,e,r,n,i,a,s,o,l){return t=new WD(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ha(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},c_(a),t}function HD(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ru,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function OC(t){if(!t)return gl;t=t._reactInternals;e:{if(Kc(t)!==t||t.tag!==1)throw Error(De(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(De(171))}if(t.tag===1){var r=t.type;if(bi(r))return O6(t,r,e)}return e}function PC(t,e,r,n,i,a,s,o,l){return t=N_(r,n,!0,t,i,a,s,o,l),t.context=OC(null),r=t.current,n=oi(),i=ul(r),a=io(n,i),a.callback=e??null,ll(r,a,i),t.current.lanes=i,im(t,i,n),xi(t,n),t}function by(t,e,r,n){var i=e.current,a=oi(),s=ul(i);return r=OC(r),e.context===null?e.context=r:e.pendingContext=r,e=io(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ll(i,e,s),t!==null&&(Wa(t,i,s,a),a0(t,i,s)),s}function z0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function YA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function k_(t,e){YA(t,e),(t=t.alternate)&&YA(t,e)}function VD(){return null}var EC=typeof reportError=="function"?reportError:function(t){console.error(t)};function O_(t){this._internalRoot=t}xy.prototype.render=O_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(De(409));by(t,e,null,null)};xy.prototype.unmount=O_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mc(function(){by(null,t,null,null)}),e[co]=null}};function xy(t){this._internalRoot=t}xy.prototype.unstable_scheduleHydration=function(t){if(t){var e=o6();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Yo.length&&e!==0&&e<Yo[r].priority;r++);Yo.splice(r,0,t),r===0&&c6(t)}};function P_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function XA(){}function GD(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=z0(s);a.call(c)}}var s=PC(e,n,t,0,null,!1,!1,"",XA);return t._reactRootContainer=s,t[co]=s.current,np(t.nodeType===8?t.parentNode:t),Mc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=z0(l);o.call(c)}}var l=N_(t,0,!1,null,null,!1,!1,"",XA);return t._reactRootContainer=l,t[co]=l.current,np(t.nodeType===8?t.parentNode:t),Mc(function(){by(e,l,r,n)}),l}function _y(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=z0(s);o.call(l)}}by(e,s,t,i)}else s=GD(r,e,t,i,n);return z0(s)}a6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Sh(e.pendingLanes);r!==0&&(K5(e,r|1),xi(e,Kr()),!(Vt&6)&&(wd=Kr()+500,jl()))}break;case 13:Mc(function(){var n=uo(t,1);if(n!==null){var i=oi();Wa(n,t,1,i)}}),k_(t,1)}};Y5=function(t){if(t.tag===13){var e=uo(t,134217728);if(e!==null){var r=oi();Wa(e,t,134217728,r)}k_(t,134217728)}};s6=function(t){if(t.tag===13){var e=ul(t),r=uo(t,e);if(r!==null){var n=oi();Wa(r,t,e,n)}k_(t,e)}};o6=function(){return ar};l6=function(t,e){var r=ar;try{return ar=t,e()}finally{ar=r}};Jx=function(t,e,r){switch(e){case"input":if(Wx(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=fy(n);if(!i)throw Error(De(90));BE(n),Wx(n,i)}}}break;case"textarea":UE(t,r);break;case"select":e=r.value,e!=null&&ed(t,!!r.multiple,e,!1)}};KE=__;YE=Mc;var KD={usingClientEntryPoint:!1,Events:[sm,Uu,fy,VE,GE,__]},oh={findFiberByHostInstance:xc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YD={bundleType:oh.bundleType,version:oh.version,rendererPackageName:oh.rendererPackageName,rendererConfig:oh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ZE(t),t===null?null:t.stateNode},findFiberByHostInstance:oh.findFiberByHostInstance||VD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wg.isDisabled&&wg.supportsFiber)try{ly=wg.inject(YD),ms=wg}catch{}}Ki.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KD;Ki.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P_(e))throw Error(De(200));return HD(t,e,null,r)};Ki.createRoot=function(t,e){if(!P_(t))throw Error(De(299));var r=!1,n="",i=EC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=N_(t,1,!1,null,null,r,!1,n,i),t[co]=e.current,np(t.nodeType===8?t.parentNode:t),new O_(e)};Ki.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(De(188)):(t=Object.keys(t).join(","),Error(De(268,t)));return t=ZE(e),t=t===null?null:t.stateNode,t};Ki.flushSync=function(t){return Mc(t)};Ki.hydrate=function(t,e,r){if(!wy(e))throw Error(De(200));return _y(null,t,e,!0,r)};Ki.hydrateRoot=function(t,e,r){if(!P_(t))throw Error(De(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=EC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=PC(e,null,t,1,r??null,i,!1,a,s),t[co]=e.current,np(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new xy(e)};Ki.render=function(t,e,r){if(!wy(e))throw Error(De(200));return _y(null,t,e,!1,r)};Ki.unmountComponentAtNode=function(t){if(!wy(t))throw Error(De(40));return t._reactRootContainer?(Mc(function(){_y(null,null,t,!1,function(){t._reactRootContainer=null,t[co]=null})}),!0):!1};Ki.unstable_batchedUpdates=__;Ki.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!wy(r))throw Error(De(200));if(t==null||t._reactInternals===void 0)throw Error(De(38));return _y(t,e,r,!1,n)};Ki.version="18.3.1-next-f1338f8080-20240426";function CC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CC)}catch(t){console.error(t)}}CC(),CE.exports=Ki;var XD=CE.exports,JA=XD;Mx.createRoot=JA.createRoot,Mx.hydrateRoot=JA.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fp.apply(this,arguments)}var tl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tl||(tl={}));const ZA="popstate";function JD(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return E2("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:q0(i)}return QD(e,r,null,t)}function Zr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function TC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZD(){return Math.random().toString(36).substr(2,8)}function QA(t,e){return{usr:t.state,key:t.key,idx:e}}function E2(t,e,r,n){return r===void 0&&(r=null),fp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?nf(e):e,{state:r,key:e&&e.key||n||ZD()})}function q0(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function nf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function QD(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=tl.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(fp({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=tl.Pop;let b=u(),y=b==null?null:b-c;c=b,l&&l({action:o,location:g.location,delta:y})}function p(b,y){o=tl.Push;let w=E2(g.location,b,y);c=u()+1;let _=QA(w,c),j=g.createHref(w);try{s.pushState(_,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(j)}a&&l&&l({action:o,location:g.location,delta:1})}function h(b,y){o=tl.Replace;let w=E2(g.location,b,y);c=u();let _=QA(w,c),j=g.createHref(w);s.replaceState(_,"",j),a&&l&&l({action:o,location:g.location,delta:0})}function v(b){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:q0(b);return w=w.replace(/ $/,"%20"),Zr(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let g={get action(){return o},get location(){return t(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ZA,f),l=b,()=>{i.removeEventListener(ZA,f),l=null}},createHref(b){return e(i,b)},createURL:v,encodeLocation(b){let y=v(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:h,go(b){return s.go(b)}};return g}var eN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eN||(eN={}));function e9(t,e,r){return r===void 0&&(r="/"),t9(t,e,r)}function t9(t,e,r,n){let i=typeof e=="string"?nf(e):e,a=E_(i.pathname||"/",r);if(a==null)return null;let s=LC(t);r9(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=p9(a);o=d9(s[l],c)}return o}function LC(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Zr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=fl([n,l.relativePath]),u=r.concat(l);a.children&&a.children.length>0&&(Zr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),LC(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:c9(c,a.index),routesMeta:u})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of IC(a.path))i(a,s,l)}),e}function IC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=IC(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function r9(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:u9(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const n9=/^:[\w-]+$/,i9=3,a9=2,s9=1,o9=10,l9=-2,tN=t=>t==="*";function c9(t,e){let r=t.split("/"),n=r.length;return r.some(tN)&&(n+=l9),e&&(n+=a9),r.filter(i=>!tN(i)).reduce((i,a)=>i+(n9.test(a)?i9:a===""?s9:o9),n)}function u9(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function d9(t,e,r){let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=a==="/"?e:e.slice(a.length)||"/",f=f9({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:fl([a,f.pathname]),pathnameBase:y9(fl([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=fl([a,f.pathnameBase]))}return s}function f9(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=h9(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:p,isOptional:h}=u;if(p==="*"){let g=o[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const v=o[f];return h&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function h9(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),TC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function p9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return TC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function E_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function m9(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?nf(t):t;return{pathname:r?r.startsWith("/")?r:g9(r,e):e,search:b9(n),hash:x9(i)}}function g9(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Pb(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function v9(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function C_(t,e){let r=v9(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function T_(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=nf(t):(i=fp({},t),Zr(!i.pathname||!i.pathname.includes("?"),Pb("?","pathname","search",i)),Zr(!i.pathname||!i.pathname.includes("#"),Pb("#","pathname","hash",i)),Zr(!i.search||!i.search.includes("#"),Pb("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}o=f>=0?e[f]:"/"}let l=m9(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const fl=t=>t.join("/").replace(/\/\/+/g,"/"),y9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),b9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,x9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function w9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $C=["post","put","patch","delete"];new Set($C);const _9=["get",...$C];new Set(_9);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hp.apply(this,arguments)}const L_=Y.createContext(null),S9=Y.createContext(null),Al=Y.createContext(null),Sy=Y.createContext(null),yo=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),RC=Y.createContext(null);function j9(t,e){let{relative:r}=e===void 0?{}:e;af()||Zr(!1);let{basename:n,navigator:i}=Y.useContext(Al),{hash:a,pathname:s,search:o}=DC(t,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:fl([n,s])),i.createHref({pathname:l,search:o,hash:a})}function af(){return Y.useContext(Sy)!=null}function Yc(){return af()||Zr(!1),Y.useContext(Sy).location}function MC(t){Y.useContext(Al).static||Y.useLayoutEffect(t)}function Xa(){let{isDataRoute:t}=Y.useContext(yo);return t?M9():A9()}function A9(){af()||Zr(!1);let t=Y.useContext(L_),{basename:e,future:r,navigator:n}=Y.useContext(Al),{matches:i}=Y.useContext(yo),{pathname:a}=Yc(),s=JSON.stringify(C_(i,r.v7_relativeSplatPath)),o=Y.useRef(!1);return MC(()=>{o.current=!0}),Y.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=T_(c,JSON.parse(s),a,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:fl([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,s,a,t])}function jy(){let{matches:t}=Y.useContext(yo),e=t[t.length-1];return e?e.params:{}}function DC(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=Y.useContext(Al),{matches:i}=Y.useContext(yo),{pathname:a}=Yc(),s=JSON.stringify(C_(i,n.v7_relativeSplatPath));return Y.useMemo(()=>T_(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function N9(t,e){return k9(t,e)}function k9(t,e,r,n){af()||Zr(!1);let{navigator:i}=Y.useContext(Al),{matches:a}=Y.useContext(yo),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Yc(),u;if(e){var f;let b=typeof e=="string"?nf(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||Zr(!1),u=b}else u=c;let p=u.pathname||"/",h=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=e9(t,{pathname:h}),g=T9(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:fl([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:fl([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return e&&g?Y.createElement(Sy.Provider,{value:{location:hp({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:tl.Pop}},g):g}function O9(){let t=R9(),e=w9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),r?Y.createElement("pre",{style:i},r):null,null)}const P9=Y.createElement(O9,null);class E9 extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?Y.createElement(yo.Provider,{value:this.props.routeContext},Y.createElement(RC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C9(t){let{routeContext:e,match:r,children:n}=t,i=Y.useContext(L_);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),Y.createElement(yo.Provider,{value:e},n)}function T9(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||Zr(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:p,errors:h}=r,v=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,p)=>{let h,v=!1,g=null,b=null;r&&(h=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||P9,l&&(c<0&&p===0?(D9("route-fallback"),v=!0,b=null):c===p&&(v=!0,b=f.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,p+1)),w=()=>{let _;return h?_=g:v?_=b:f.route.Component?_=Y.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=u,Y.createElement(C9,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?Y.createElement(E9,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var BC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(BC||{}),FC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(FC||{});function L9(t){let e=Y.useContext(L_);return e||Zr(!1),e}function I9(t){let e=Y.useContext(S9);return e||Zr(!1),e}function $9(t){let e=Y.useContext(yo);return e||Zr(!1),e}function UC(t){let e=$9(),r=e.matches[e.matches.length-1];return r.route.id||Zr(!1),r.route.id}function R9(){var t;let e=Y.useContext(RC),r=I9(),n=UC();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function M9(){let{router:t}=L9(BC.UseNavigateStable),e=UC(FC.UseNavigateStable),r=Y.useRef(!1);return MC(()=>{r.current=!0}),Y.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hp({fromRouteId:e},a)))},[t,e])}const rN={};function D9(t,e,r){rN[t]||(rN[t]=!0)}function B9(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function F9(t){let{to:e,replace:r,state:n,relative:i}=t;af()||Zr(!1);let{future:a,static:s}=Y.useContext(Al),{matches:o}=Y.useContext(yo),{pathname:l}=Yc(),c=Xa(),u=T_(e,C_(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return Y.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:i}),[c,f,i,r,n]),null}function rn(t){Zr(!1)}function U9(t){let{basename:e="/",children:r=null,location:n,navigationType:i=tl.Pop,navigator:a,static:s=!1,future:o}=t;af()&&Zr(!1);let l=e.replace(/^\/*/,"/"),c=Y.useMemo(()=>({basename:l,navigator:a,static:s,future:hp({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=nf(n));let{pathname:u="/",search:f="",hash:p="",state:h=null,key:v="default"}=n,g=Y.useMemo(()=>{let b=E_(u,l);return b==null?null:{location:{pathname:b,search:f,hash:p,state:h,key:v},navigationType:i}},[l,u,f,p,h,v,i]);return g==null?null:Y.createElement(Al.Provider,{value:c},Y.createElement(Sy.Provider,{children:r,value:g}))}function z9(t){let{children:e,location:r}=t;return N9(C2(e),r)}new Promise(()=>{});function C2(t,e){e===void 0&&(e=[]);let r=[];return Y.Children.forEach(t,(n,i)=>{if(!Y.isValidElement(n))return;let a=[...e,i];if(n.type===Y.Fragment){r.push.apply(r,C2(n.props.children,a));return}n.type!==rn&&Zr(!1),!n.props.index||!n.props.children||Zr(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=C2(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T2(){return T2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T2.apply(this,arguments)}function q9(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function W9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function H9(t,e){return t.button===0&&(!e||e==="_self")&&!W9(t)}const V9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],G9="6";try{window.__reactRouterVersion=G9}catch{}const K9="startTransition",nN=B7[K9];function Y9(t){let{basename:e,children:r,future:n,window:i}=t,a=Y.useRef();a.current==null&&(a.current=JD({window:i,v5Compat:!0}));let s=a.current,[o,l]=Y.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=Y.useCallback(f=>{c&&nN?nN(()=>l(f)):l(f)},[l,c]);return Y.useLayoutEffect(()=>s.listen(u),[s,u]),Y.useEffect(()=>B9(n),[n]),Y.createElement(U9,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const X9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zC=Y.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,p=q9(e,V9),{basename:h}=Y.useContext(Al),v,g=!1;if(typeof c=="string"&&J9.test(c)&&(v=c,X9))try{let _=new URL(window.location.href),j=c.startsWith("//")?new URL(_.protocol+c):new URL(c),S=E_(j.pathname,h);j.origin===_.origin&&S!=null?c=S+j.search+j.hash:g=!0}catch{}let b=j9(c,{relative:i}),y=Z9(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function w(_){n&&n(_),_.defaultPrevented||y(_)}return Y.createElement("a",T2({},p,{href:v||b,onClick:g||a?n:w,ref:r,target:l}))});var iN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iN||(iN={}));var aN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(aN||(aN={}));function Z9(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Xa(),c=Yc(),u=DC(t,{relative:s});return Y.useCallback(f=>{if(H9(f,r)){f.preventDefault();let p=n!==void 0?n:q0(c)===q0(u);l(t,{replace:p,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,n,i,r,t,a,s,o])}var L2=function(t,e){return L2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},L2(t,e)};function qC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");L2(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var W0=function(){return W0=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},W0.apply(this,arguments)};function sf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function WC(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,r,a):s(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function HC(t,e){return function(r,n){e(r,n,t)}}function VC(t,e,r,n,i,a){function s(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,p=!1,h=r.length-1;h>=0;h--){var v={};for(var g in n)v[g]=g==="access"?{}:n[g];for(var g in n.access)v.access[g]=n.access[g];v.addInitializer=function(y){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(y||null))};var b=(0,r[h])(o==="accessor"?{get:u.get,set:u.set}:u[l],v);if(o==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(f=s(b.get))&&(u.get=f),(f=s(b.set))&&(u.set=f),(f=s(b.init))&&i.unshift(f)}else(f=s(b))&&(o==="field"?i.unshift(f):u[l]=f)}c&&Object.defineProperty(c,n.name,u),p=!0}function GC(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function KC(t){return typeof t=="symbol"?t:"".concat(t)}function YC(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function XC(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ot(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})}function JC(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Ay=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function ZC(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ay(e,t,r)}function H0(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function I_(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function QC(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(I_(arguments[e]));return t}function eT(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}function tT(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function _d(t){return this instanceof _d?(this.v=t,this):new _d(t)}function rT(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(v){return Promise.resolve(v).then(h,f)}}function o(h,v){n[h]&&(i[h]=function(g){return new Promise(function(b,y){a.push([h,g,b,y])>1||l(h,g)})},v&&(i[h]=v(i[h])))}function l(h,v){try{c(n[h](v))}catch(g){p(a[0][3],g)}}function c(h){h.value instanceof _d?Promise.resolve(h.value.v).then(u,f):p(a[0][2],h)}function u(h){l("next",h)}function f(h){l("throw",h)}function p(h,v){h(v),a.shift(),a.length&&l(a[0][0],a[0][1])}}function nT(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=t[i]?function(s){return(r=!r)?{value:_d(t[i](s)),done:!1}:a?a(s):s}:a}}function iT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof H0=="function"?H0(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(s){return new Promise(function(o,l){s=t[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}}function aT(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Q9=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},I2=function(t){return I2=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},I2(t)};function sT(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=I2(t),n=0;n<r.length;n++)r[n]!=="default"&&Ay(e,t,r[n]);return Q9(e,t),e}function oT(t){return t&&t.__esModule?t:{default:t}}function lT(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function cT(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function uT(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function dT(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var eB=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function fT(t){function e(a){t.error=t.hasError?new eB(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(s){return e(s),i()})}else n|=1}catch(s){e(s)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function hT(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,s){return n?e?".jsx":".js":i&&(!a||!s)?r:i+a+"."+s.toLowerCase()+"js"}):t}const tB={__extends:qC,__assign:W0,__rest:sf,__decorate:WC,__param:HC,__esDecorate:VC,__runInitializers:GC,__propKey:KC,__setFunctionName:YC,__metadata:XC,__awaiter:ot,__generator:JC,__createBinding:Ay,__exportStar:ZC,__values:H0,__read:I_,__spread:QC,__spreadArrays:eT,__spreadArray:tT,__await:_d,__asyncGenerator:rT,__asyncDelegator:nT,__asyncValues:iT,__makeTemplateObject:aT,__importStar:sT,__importDefault:oT,__classPrivateFieldGet:lT,__classPrivateFieldSet:cT,__classPrivateFieldIn:uT,__addDisposableResource:dT,__disposeResources:fT,__rewriteRelativeImportExtension:hT},rB=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:dT,get __assign(){return W0},__asyncDelegator:nT,__asyncGenerator:rT,__asyncValues:iT,__await:_d,__awaiter:ot,__classPrivateFieldGet:lT,__classPrivateFieldIn:uT,__classPrivateFieldSet:cT,__createBinding:Ay,__decorate:WC,__disposeResources:fT,__esDecorate:VC,__exportStar:ZC,__extends:qC,__generator:JC,__importDefault:oT,__importStar:sT,__makeTemplateObject:aT,__metadata:XC,__param:HC,__propKey:KC,__read:I_,__rest:sf,__rewriteRelativeImportExtension:hT,__runInitializers:GC,__setFunctionName:YC,__spread:QC,__spreadArray:tT,__spreadArrays:eT,__values:H0,default:tB},Symbol.toStringTag,{value:"Module"})),nB=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class $_ extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class iB extends $_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class sN extends $_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class oN extends $_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($2||($2={}));class aB{constructor(e,{headers:r={},customFetch:n,region:i=$2.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=nB(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ot(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:o,method:l,body:c,signal:u,timeout:f}=n;let p={},{region:h}=n;h||(h=this.region);const v=new URL(`${this.url}/${r}`);h&&h!=="any"&&(p["x-region"]=h,v.searchParams.set("forceFunctionRegion",h));let g;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=c):typeof c=="string"?(p["Content-Type"]="text/plain",g=c):typeof FormData<"u"&&c instanceof FormData?g=c:(p["Content-Type"]="application/json",g=JSON.stringify(c)):g=c;let b=u;f&&(s=new AbortController,a=setTimeout(()=>s.abort(),f),u?(b=s.signal,u.addEventListener("abort",()=>s.abort())):b=s.signal);const y=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:g,signal:b}).catch(S=>{throw new iB(S)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new sN(y);if(!y.ok)throw new oN(y);let _=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return _==="application/json"?j=yield y.json():_==="application/octet-stream"||_==="application/pdf"?j=yield y.blob():_==="text/event-stream"?j=y:_==="multipart/form-data"?j=yield y.formData():j=yield y.text(),{data:j,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof oN||o instanceof sN?o.context:void 0}}finally{a&&clearTimeout(a)}})}}var ni={};const of=S7(rB);var _g={},Sg={},jg={},Ag={},Ng={},kg={},lN;function pT(){if(lN)return kg;lN=1,Object.defineProperty(kg,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return kg.default=t,kg}var cN;function mT(){if(cN)return Ng;cN=1,Object.defineProperty(Ng,"__esModule",{value:!0});const e=of.__importDefault(pT());class r{constructor(i){var a,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,f,p;let h=null,v=null,g=null,b=l.status,y=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?v=S:v=JSON.parse(S))}const _=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),j=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&j&&j.length>1&&(g=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(h={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,g=null,b=406,y="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const _=await l.text();try{h=JSON.parse(_),Array.isArray(h)&&l.status===404&&(v=[],h=null,b=200,y="OK")}catch{l.status===404&&_===""?(b=204,y="No Content"):h={message:_}}if(h&&this.isMaybeSingle&&(!((p=h==null?void 0:h.details)===null||p===void 0)&&p.includes("0 rows"))&&(h=null,b=200,y="OK"),h&&this.shouldThrowOnError)throw new e.default(h)}return{error:h,data:v,count:g,status:b,statusText:y}});return this.shouldThrowOnError||(o=o.catch(l=>{var c,u,f;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(u=l==null?void 0:l.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(f=l==null?void 0:l.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),o.then(i,a)}returns(){return this}overrideTypes(){return this}}return Ng.default=r,Ng}var uN;function gT(){if(uN)return Ag;uN=1,Object.defineProperty(Ag,"__esModule",{value:!0});const e=of.__importDefault(mT());class r extends e.default{select(i){let a=!1;const s=(i??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var u;const f=[i?"analyze":null,a?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Ag.default=r,Ag}var dN;function R_(){if(dN)return jg;dN=1,Object.defineProperty(jg,"__esModule",{value:!0});const e=of.__importDefault(gT()),r=new RegExp("[,()]");class n extends e.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${u}.${s}`),this}match(a){return Object.entries(a).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(a,s,o){return this.url.searchParams.append(a,`not.${s}.${o}`),this}or(a,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,s,o){return this.url.searchParams.append(a,`${s}.${o}`),this}}return jg.default=n,jg}var fN;function vT(){if(fN)return Sg;fN=1,Object.defineProperty(Sg,"__esModule",{value:!0});const e=of.__importDefault(R_());class r{constructor(i,{headers:a={},schema:s,fetch:o}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=o}select(i,a){const{head:s=!1,count:o}=a??{},l=s?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",u),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var o;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:a}={}){var s;const o="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Sg.default=r,Sg}var hN;function sB(){if(hN)return _g;hN=1,Object.defineProperty(_g,"__esModule",{value:!0});const t=of,e=t.__importDefault(vT()),r=t.__importDefault(R_());class n{constructor(a,{headers:s={},schema:o,fetch:l}={}){this.url=a,this.headers=new Headers(s),this.schemaName=o,this.fetch=l}from(a){const s=new URL(`${this.url}/${a}`);return new e.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:o=!1,get:l=!1,count:c}={}){var u;let f;const p=new URL(`${this.url}/rpc/${a}`);let h;o||l?(f=o?"HEAD":"GET",Object.entries(s).filter(([g,b])=>b!==void 0).map(([g,b])=>[g,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([g,b])=>{p.searchParams.append(g,b)})):(f="POST",h=s);const v=new Headers(this.headers);return c&&v.set("Prefer",`count=${c}`),new r.default({method:f,url:p,headers:v,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return _g.default=n,_g}Object.defineProperty(ni,"__esModule",{value:!0});var yT=ni.PostgrestError=OT=ni.PostgrestBuilder=NT=ni.PostgrestTransformBuilder=jT=ni.PostgrestFilterBuilder=_T=ni.PostgrestQueryBuilder=xT=ni.PostgrestClient=void 0;const lf=of,bT=lf.__importDefault(sB());var xT=ni.PostgrestClient=bT.default;const wT=lf.__importDefault(vT());var _T=ni.PostgrestQueryBuilder=wT.default;const ST=lf.__importDefault(R_());var jT=ni.PostgrestFilterBuilder=ST.default;const AT=lf.__importDefault(gT());var NT=ni.PostgrestTransformBuilder=AT.default;const kT=lf.__importDefault(mT());var OT=ni.PostgrestBuilder=kT.default;const PT=lf.__importDefault(pT());yT=ni.PostgrestError=PT.default;var ET=ni.default={PostgrestClient:bT.default,PostgrestQueryBuilder:wT.default,PostgrestFilterBuilder:ST.default,PostgrestTransformBuilder:AT.default,PostgrestBuilder:kT.default,PostgrestError:PT.default};const oB=bE({__proto__:null,get PostgrestBuilder(){return OT},get PostgrestClient(){return xT},get PostgrestError(){return yT},get PostgrestFilterBuilder(){return jT},get PostgrestQueryBuilder(){return _T},get PostgrestTransformBuilder(){return NT},default:ET},[ni]),{PostgrestClient:lB,PostgrestQueryBuilder:A1e,PostgrestFilterBuilder:N1e,PostgrestTransformBuilder:k1e,PostgrestBuilder:O1e,PostgrestError:P1e}=ET||oB;class cB{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const uB="2.81.0",dB=`realtime-js/${uB}`,CT="1.0.0",fB="2.0.0",pN=CT,R2=1e4,hB=1e3,pB=100;var mc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(mc||(mc={}));var gn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(gn||(gn={}));var la;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(la||(la={}));var M2;(function(t){t.websocket="websocket"})(M2||(M2={}));var gc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(gc||(gc={}));class mB{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){const{join_ref:r,ref:n,event:i,topic:a,payload:s}=e,o=this.META_LENGTH+r.length+n.length+a.length+i.length,l=new ArrayBuffer(this.HEADER_LENGTH+o);let c=new DataView(l),u=0;c.setUint8(u++,this.KINDS.push),c.setUint8(u++,r.length),c.setUint8(u++,n.length),c.setUint8(u++,a.length),c.setUint8(u++,i.length),Array.from(r,p=>c.setUint8(u++,p.charCodeAt(0))),Array.from(n,p=>c.setUint8(u++,p.charCodeAt(0))),Array.from(a,p=>c.setUint8(u++,p.charCodeAt(0))),Array.from(i,p=>c.setUint8(u++,p.charCodeAt(0)));var f=new Uint8Array(l.byteLength+s.byteLength);return f.set(new Uint8Array(l),0),f.set(new Uint8Array(s),l.byteLength),f.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const{join_ref:i,ref:a,topic:s}=e,o=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),c=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+s.length+o.length,u=new ArrayBuffer(this.HEADER_LENGTH+c);let f=new DataView(u),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,i.length),f.setUint8(p++,a.length),f.setUint8(p++,s.length),f.setUint8(p++,o.length),f.setUint8(p++,this.BINARY_ENCODING),Array.from(i,v=>f.setUint8(p++,v.charCodeAt(0))),Array.from(a,v=>f.setUint8(p++,v.charCodeAt(0))),Array.from(s,v=>f.setUint8(p++,v.charCodeAt(0))),Array.from(o,v=>f.setUint8(p++,v.charCodeAt(0)));var h=new Uint8Array(u.byteLength+l.byteLength);return h.set(new Uint8Array(u),0),h.set(new Uint8Array(l),u.byteLength),h.buffer}_encodeJsonUserBroadcastPush(e){var r,n;const{join_ref:i,ref:a,topic:s}=e,o=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},u=new TextEncoder().encode(JSON.stringify(l)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+s.length+o.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let h=new DataView(p),v=0;h.setUint8(v++,this.KINDS.userBroadcastPush),h.setUint8(v++,i.length),h.setUint8(v++,a.length),h.setUint8(v++,s.length),h.setUint8(v++,o.length),h.setUint8(v++,this.JSON_ENCODING),Array.from(i,b=>h.setUint8(v++,b.charCodeAt(0))),Array.from(a,b=>h.setUint8(v++,b.charCodeAt(0))),Array.from(s,b=>h.setUint8(v++,b.charCodeAt(0))),Array.from(o,b=>h.setUint8(v++,b.charCodeAt(0)));var g=new Uint8Array(p.byteLength+u.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(u),p.byteLength),g.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,s,o,l]=n;return r({join_ref:i,ref:a,topic:s,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,i);case this.KINDS.reply:return this._decodeReply(e,r,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodePush(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3);let o=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(e.slice(o,o+i));o=o+i;const c=n.decode(e.slice(o,o+a));o=o+a;const u=n.decode(e.slice(o,o+s));o=o+s;const f=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{join_ref:l,ref:null,topic:c,event:u,payload:f}}_decodeReply(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const c=n.decode(e.slice(l,l+i));l=l+i;const u=n.decode(e.slice(l,l+a));l=l+a;const f=n.decode(e.slice(l,l+s));l=l+s;const p=n.decode(e.slice(l,l+o));l=l+o;const h=JSON.parse(n.decode(e.slice(l,e.byteLength))),v={status:p,response:h};return{join_ref:c,ref:u,topic:f,event:la.reply,payload:v}}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+i));s=s+i;const l=n.decode(e.slice(s,s+a));s=s+a;const c=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{join_ref:null,ref:null,topic:o,event:l,payload:c}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+i));l=l+i;const u=n.decode(e.slice(l,l+a));l=l+a;const f=n.decode(e.slice(l,l+s));l=l+s;const p=e.slice(l,e.byteLength),h=o===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,v={type:this.BROADCAST,event:u,payload:h};return s>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class TT{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(mr||(mr={}));const mN=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,s)=>(a[s]=gB(s,t,e,i),a),{}):{}},gB=(t,e,r,n)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=r[t];return a&&!n.includes(a)?LT(a,s):D2(s)},LT=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return xB(e,r)}switch(t){case mr.bool:return vB(e);case mr.float4:case mr.float8:case mr.int2:case mr.int4:case mr.int8:case mr.numeric:case mr.oid:return yB(e);case mr.json:case mr.jsonb:return bB(e);case mr.timestamp:return wB(e);case mr.abstime:case mr.date:case mr.daterange:case mr.int4range:case mr.int8range:case mr.money:case mr.reltime:case mr.text:case mr.time:case mr.timestamptz:case mr.timetz:case mr.tsrange:case mr.tstzrange:return D2(e);default:return D2(e)}},D2=t=>t,vB=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},yB=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},bB=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},xB=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const s=t.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>LT(e,o))}return t},wB=t=>typeof t=="string"?t.replace(" ","T"):t,IT=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Eb{constructor(e,r,n={},i=R2){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var gN;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(gN||(gN={}));class Mh{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mh.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=Mh.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Mh.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),s=this.transformState(r),o={},l={};return this.map(a,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const f=a[c];if(f){const p=u.map(b=>b.presence_ref),h=f.map(b=>b.presence_ref),v=u.filter(b=>h.indexOf(b.presence_ref)<0),g=f.filter(b=>p.indexOf(b.presence_ref)<0);v.length>0&&(o[c]=v),g.length>0&&(l[c]=g)}else o[c]=u}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const f=e[o].map(h=>h.presence_ref),p=u.filter(h=>f.indexOf(h.presence_ref)<0);e[o].unshift(...p)}n(o,u,l)}),this.map(s,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vN;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(vN||(vN={}));var Dh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Dh||(Dh={}));var Gs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Gs||(Gs={}));class M_{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=gn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Eb(this,la.join,this.params,this.timeout),this.rejoinTimer=new TT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(la.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Mh(this),this.broadcastEndpointURL=IT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==gn.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Dh.PRESENCE]&&this.bindings[Dh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},p={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(Gs.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Gs.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var v;if(this.socket.setAuth(),h===void 0){e==null||e(Gs.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,b=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,y=[];for(let w=0;w<b;w++){const _=g[w],{filter:{event:j,schema:S,table:N,filter:P}}=_,C=h&&h[w];if(C&&C.event===j&&C.schema===S&&C.table===N&&C.filter===P)y.push(Object.assign(Object.assign({},_),{id:C.id}));else{this.unsubscribe(),this.state=gn.errored,e==null||e(Gs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Gs.SUBSCRIBED);return}}).receive("error",h=>{this.state=gn.errored,e==null||e(Gs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Gs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===gn.joined&&e===Dh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(la.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Eb(this,la.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Eb(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>pB){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=la;if(n&&[o,l,c,u].indexOf(s)>=0&&n!==this._joinRef())return;let p=this._onMessage(s,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var v,g,b;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(g=h.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(h=>h.callback(p,n)):(a=this.bindings[s])===null||a===void 0||a.filter(h=>{var v,g,b,y,w,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const j=h.id,S=(v=h.filter)===null||v===void 0?void 0:v.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(w=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return j==="*"||j===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:g,table:b,commit_timestamp:y,type:w,errors:_}=v;p=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:y,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(v))}h.callback(p,n)})}_isClosed(){return this.state===gn.closed}_isJoined(){return this.state===gn.joined}_isJoining(){return this.state===gn.joining}_isLeaving(){return this.state===gn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&M_.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(la.close,{},e)}_onError(e){this._on(la.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=mN(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=mN(e.columns,e.old_record)),r}}const Cb=()=>{},Og={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_B=[1e3,2e3,5e3,1e4],SB=1e4,jB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class AB{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=R2,this.transport=null,this.heartbeatIntervalMs=Og.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cb,this.ref=0,this.reconnectTimer=null,this.vsn=pN,this.logger=Cb,this.conn=null,this.sendBuffer=[],this.serializer=new mB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${M2.websocket}`,this.httpEndpoint=IT(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cB.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case mc.connecting:return gc.Connecting;case mc.open:return gc.Open;case mc.closing:return gc.Closing;default:return gc.Closed}}isConnected(){return this.connectionState()===gc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new M_(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(hB,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Og.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===mc.open||this.conn.readyState===mc.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(la.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([jB],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:dB};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(la.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new TT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Og.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,s,o,l,c,u,f,p,h;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:R2,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Og.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Cb,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:pN,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:v=>_B[v-1]||SB,this.vsn){case CT:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(v,g)=>g(JSON.stringify(v)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(v,g)=>g(JSON.parse(v));break;case fB:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class D_ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Tr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class NB extends D_{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class B2 extends D_{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const B_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),kB=()=>Response,F2=t=>{if(Array.isArray(t))return t.map(r=>F2(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=F2(n)}),e},OB=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Tb=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},PB=(t,e,r)=>ot(void 0,void 0,void 0,function*(){const n=yield kB();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,s=(i==null?void 0:i.statusCode)||a+"";e(new NB(Tb(i),a,s))}).catch(i=>{e(new B2(Tb(i),i))}):e(new B2(Tb(t),t))}),EB=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(OB(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function lm(t,e,r,n,i,a){return ot(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,EB(e,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>PB(l,o,n))})})}function pp(t,e,r,n){return ot(this,void 0,void 0,function*(){return lm(t,"GET",e,r,n)})}function Ma(t,e,r,n,i){return ot(this,void 0,void 0,function*(){return lm(t,"POST",e,n,i,r)})}function U2(t,e,r,n,i){return ot(this,void 0,void 0,function*(){return lm(t,"PUT",e,n,i,r)})}function CB(t,e,r,n){return ot(this,void 0,void 0,function*(){return lm(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function F_(t,e,r,n,i){return ot(this,void 0,void 0,function*(){return lm(t,"DELETE",e,n,i,r)})}class TB{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return ot(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Tr(e))return{data:null,error:e};throw e}})}}var $T;class LB{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[$T]="BlobDownloadBuilder",this.promise=null}asStream(){return new TB(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ot(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Tr(e))return{data:null,error:e};throw e}})}}$T=Symbol.toStringTag;const IB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $B{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=B_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return ot(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},yN),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),f=yield(e=="PUT"?U2:Ma)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Tr(a))return{data:null,error:a};throw a}})}upload(e,r,n){return ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return ot(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:yN.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield U2(this.fetch,o.toString(),l,{headers:u});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Tr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return ot(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Ma(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new D_("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tr(n))return{data:null,error:n};throw n}})}update(e,r,n){return ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ot(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tr(i))return{data:null,error:i};throw i}})}copy(e,r,n){return ot(this,void 0,void 0,function*(){try{return{data:{path:(yield Ma(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return ot(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Ma(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return ot(this,void 0,void 0,function*(){try{const i=yield Ma(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tr(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"",o=this._getFinalPath(e),l=()=>pp(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new LB(l,this.shouldThrowOnError)}info(e){return ot(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield pp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:F2(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tr(n))return{data:null,error:n};throw n}})}exists(e){return ot(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield CB(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tr(n)&&n instanceof B2){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return ot(this,void 0,void 0,function*(){try{return{data:yield F_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}})}list(e,r,n){return ot(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},IB),r),{prefix:e||""});return{data:yield Ma(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tr(i))return{data:null,error:i};throw i}})}listV2(e,r){return ot(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ma(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tr(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const RT="2.81.0",MT={"X-Client-Info":`storage-js/${RT}`};class RB{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},MT),r),this.fetch=B_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ot(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield pp(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}})}getBucket(e){return ot(this,void 0,void 0,function*(){try{return{data:yield pp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}})}createBucket(e){return ot(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ma(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tr(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return ot(this,void 0,void 0,function*(){try{return{data:yield U2(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ot(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ot(this,void 0,void 0,function*(){try{return{data:yield F_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class MB{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},MT),r),this.fetch=B_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ot(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}})}listBuckets(e){return ot(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield pp(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ot(this,void 0,void 0,function*(){try{return{data:yield F_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}})}}const U_={"X-Client-Info":`storage-js/${RT}`,"Content-Type":"application/json"};class DT extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Di(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Lb extends DT{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class DB extends DT{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var bN;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(bN||(bN={}));const z_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),BB=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},xN=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),FB=(t,e,r)=>ot(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";e(new Lb(xN(s),i,o))}).catch(()=>{const s=i+"",o=a.statusText||`HTTP ${i} error`;e(new Lb(o,i,s))});else{const s=i+"",o=a.statusText||`HTTP ${i} error`;e(new Lb(o,i,s))}}else e(new DB(xN(t),t))}),UB=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(BB(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function zB(t,e,r,n,i,a){return ot(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,UB(e,n,i,a)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>FB(l,o,n))})})}function Bi(t,e,r,n,i){return ot(this,void 0,void 0,function*(){return zB(t,"POST",e,n,i,r)})}class qB{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},U_),r),this.fetch=z_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ot(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}getIndex(e,r){return ot(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Di(n))return{data:null,error:n};throw n}})}listIndexes(e){return ot(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return ot(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Di(n))return{data:null,error:n};throw n}})}}class WB{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},U_),r),this.fetch=z_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ot(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Bi(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}getVectors(e){return ot(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}listVectors(e){return ot(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Bi(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}queryVectors(e){return ot(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}deleteVectors(e){return ot(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Bi(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}}class HB{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},U_),r),this.fetch=z_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ot(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}getBucket(e){return ot(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}listBuckets(){return ot(this,arguments,void 0,function*(e={}){try{return{data:yield Bi(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ot(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}}class VB extends HB{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new GB(this.url,this.headers,e,this.fetch)}}class GB extends qB{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ot(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ot(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ot(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ot(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new KB(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class KB extends WB{constructor(e,r,n,i,a){super(e,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ot(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ot(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ot(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ot(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ot(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class YB extends RB{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new $B(this.url,this.headers,e,this.fetch)}get vectors(){return new VB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new MB(this.url+"/iceberg",this.headers,this.fetch)}}const XB="2.81.0";let Ah="";typeof Deno<"u"?Ah="deno":typeof document<"u"?Ah="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ah="react-native":Ah="node";const JB={"X-Client-Info":`supabase-js-${Ah}/${XB}`},ZB={headers:JB},QB={schema:"public"},eF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tF={},rF=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),nF=()=>Headers,iF=(t,e,r)=>{const n=rF(r),i=nF();return async(a,s)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:c}))}};function aF(t){return t.endsWith("/")?t:t+"/"}function sF(t,e){var r,n;const{db:i,auth:a,realtime:s,global:o}=t,{db:l,auth:c,realtime:u,global:f}=e,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function oF(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(aF(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const BT="2.81.0",Cu=30*1e3,z2=3,Ib=z2*Cu,lF="http://localhost:9999",cF="supabase.auth.token",uF={"X-Client-Info":`gotrue-js/${BT}`},q2="X-Supabase-Api-Version",FT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fF=10*60*1e3;class mp extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ft(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class hF extends mp{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function pF(t){return ft(t)&&t.name==="AuthApiError"}class vc extends mp{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Nl extends mp{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Ia extends Nl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mF(t){return ft(t)&&t.name==="AuthSessionMissingError"}class bu extends Nl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pg extends Nl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Eg extends Nl{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gF(t){return ft(t)&&t.name==="AuthImplicitGrantRedirectError"}class wN extends Nl{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class W2 extends Nl{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function $b(t){return ft(t)&&t.name==="AuthRetryableFetchError"}class _N extends Nl{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class H2 extends Nl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const V0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),SN=` 	
\r=`.split(""),vF=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<SN.length;e+=1)t[SN[e].charCodeAt(0)]=-2;for(let e=0;e<V0.length;e+=1)t[V0[e].charCodeAt(0)]=e;return t})();function jN(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(V0[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(V0[n]),e.queuedBits-=6}}function UT(t,e,r){const n=vF[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function AN(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{xF(s,n,r)};for(let s=0;s<t.length;s+=1)UT(t.charCodeAt(s),i,a);return e.join("")}function yF(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function bF(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}yF(n,e)}}function xF(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function sd(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)UT(t.charCodeAt(i),r,n);return new Uint8Array(e)}function wF(t){const e=[];return bF(t,r=>e.push(r)),new Uint8Array(e)}function Sc(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>jN(i,r,n)),jN(null,r,n),e.join("")}function _F(t){return Math.round(Date.now()/1e3)+t}function SF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Kn=()=>typeof window<"u"&&typeof document<"u",nc={tested:!1,writable:!1},zT=()=>{if(!Kn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nc.tested)return nc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),nc.tested=!0,nc.writable=!0}catch{nc.tested=!0,nc.writable=!1}return nc.writable};function jF(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const qT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),AF=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Tu=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ic=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},zo=async(t,e)=>{await t.removeItem(e)};class Ny{constructor(){this.promise=new Ny.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ny.promiseConstructor=Promise;function Rb(t){const e=t.split(".");if(e.length!==3)throw new H2("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!dF.test(e[n]))throw new H2("JWT not in base64url format");return{header:JSON.parse(AN(e[0])),payload:JSON.parse(AN(e[1])),signature:sd(e[2]),raw:{header:e[0],payload:e[1]}}}async function NF(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function kF(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){n(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function OF(t){return("0"+t.toString(16)).substr(-2)}function PF(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,OF).join("")}async function EF(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function CF(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await EF(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xu(t,e,r=!1){const n=PF();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Tu(t,`${e}-code-verifier`,i);const a=await CF(n);return[a,n===a?"plain":"s256"]}const TF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LF(t){const e=t.headers.get(q2);if(!e||!e.match(TF))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function IF(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function $F(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wu(t){if(!RF.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mb(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function MF(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function NN(t){return JSON.parse(JSON.stringify(t))}const uc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DF=[502,503,504];async function kN(t){var e;if(!AF(t))throw new W2(uc(t),0);if(DF.includes(t.status))throw new W2(uc(t),t.status);let r;try{r=await t.json()}catch(a){throw new vc(uc(a),a)}let n;const i=LF(t);if(i&&i.getTime()>=FT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new _N(uc(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ia}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new _N(uc(r),t.status,r.weak_password.reasons);throw new hF(uc(r),t.status||500,n)}const BF=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function vt(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[q2]||(a[q2]=FT["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await FF(t,e,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function FF(t,e,r,n,i,a){const s=BF(e,n,i,a);let o;try{o=await t(r,Object.assign({},s))}catch(l){throw console.error(l),new W2(uc(l),0)}if(o.ok||await kN(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await kN(l)}}function $a(t){var e;let r=null;qF(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=_F(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function ON(t){const e=$a(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Jo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function UF(t){return{data:t,error:null}}function zF(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,s=sf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function PN(t){return t}function qF(t){return t.access_token&&t.refresh_token&&t.expires_in}const Db=["global","local","others"];class WF{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=qT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Db[0]){if(Db.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Db.join(", ")}`);try{return await vt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Jo})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=sf(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:zF,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ft(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Jo})}catch(r){if(ft(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:PN});if(u.error)throw u.error;const f=await u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);c[`${b}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ft(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){wu(e);try{return await vt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Jo})}catch(r){if(ft(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){wu(e);try{return await vt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Jo})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){wu(e);try{return await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Jo})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){wu(e.userId);try{const{data:r,error:n}=await vt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ft(r))return{data:null,error:r};throw r}}async _deleteFactor(e){wu(e.userId),wu(e.id);try{return{data:await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await vt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:PN});if(u.error)throw u.error;const f=await u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);c[`${b}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ft(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ft(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await vt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ft(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await vt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await vt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ft(r))return{data:null,error:r};throw r}}}function EN(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const _u={debug:!!(globalThis&&zT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class WT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class HF extends WT{}async function VF(t,e,r){_u.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),_u.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){_u.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{_u.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw _u.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new HF(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(_u.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function GF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function HT(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function KF(t){return parseInt(t,16)}function YF(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function XF(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:l,resources:c,scheme:u,uri:f,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=HT(t.address),v=u?`${u}://${n}`:n,g=t.statement?`${t.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${h}

${g}`;let y=`URI: ${f}
Version: ${p}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const _ of c){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}y+=w}return`${b}
${y}`}class an extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class G0 extends an{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function JF({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new an({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new an({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new an({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new an({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new an({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new an({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new an({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new an({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(VT(s)){if(a.rp.id!==s)return new an({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new an({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new an({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new an({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new an({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ZF({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new an({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new an({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(VT(n)){if(r.rpId!==n)return new an({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new an({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new an({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new an({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class QF{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const eU=new QF;function tU(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=sf(t,["challenge","user","excludeCredentials"]),a=sd(e).buffer,s=Object.assign(Object.assign({},r),{id:sd(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:sd(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function rU(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=sf(t,["challenge","allowCredentials"]),i=sd(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:sd(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function nU(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Sc(new Uint8Array(t.response.attestationObject)),clientDataJSON:Sc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function iU(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Sc(new Uint8Array(i.authenticatorData)),clientDataJSON:Sc(new Uint8Array(i.clientDataJSON)),signature:Sc(new Uint8Array(i.signature)),userHandle:i.userHandle?Sc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function VT(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function CN(){var t,e;return!!(Kn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function aU(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new G0("Browser returned unexpected credential type",e)}:{data:null,error:new G0("Empty credential response",e)}}catch(e){return{data:null,error:JF({error:e,options:t})}}}async function sU(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new G0("Browser returned unexpected credential type",e)}:{data:null,error:new G0("Empty credential response",e)}}catch(e){return{data:null,error:ZF({error:e,options:t})}}}const oU={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lU={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function K0(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(e(s)){const o=n[a];e(o)?n[a]=K0(o,s):n[a]=K0(s)}else n[a]=s}return n}function cU(t,e){return K0(oU,t,e||{})}function uU(t,e){return K0(lU,t,e||{})}class dU{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!s)return{data:null,error:o};const l=i??eU.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=cU(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:u,error:f}=await aU({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}case"request":{const c=uU(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:u,error:f}=await sU(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}}}catch(s){return ft(s)?{data:null,error:s}:{data:null,error:new vc("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new mp("rpId is required for WebAuthn authentication")};try{if(!CN())return{data:null,error:new vc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return ft(s)?{data:null,error:s}:{data:null,error:new vc("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new mp("rpId is required for WebAuthn registration")};try{if(!CN())return{data:null,error:new vc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(u=>{var f;return(f=u.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(s){return ft(s)?{data:null,error:s}:{data:null,error:new vc("Unexpected error in register",s)}}}}GF();const fU={url:lF,storageKey:cF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function TN(t,e,r){return await r()}const Su={};class gp{get jwks(){var e,r;return(r=(e=Su[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Su[this.storageKey]=Object.assign(Object.assign({},Su[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Su[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Su[this.storageKey]=Object.assign(Object.assign({},Su[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},fU),e);if(this.storageKey=a.storageKey,this.instanceID=(r=gp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,gp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Kn()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new WF({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=qT(a.fetch),this.lock=a.lock||TN,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Kn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=VF:this.lock=TN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dU(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:zT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=EN(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=EN(this.memoryStorage)),Kn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${BT}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Kn()&&(r=jF(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Kn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),gF(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ft(r)?this._returnResult({error:r}):this._returnResult({error:new vc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:$a}),{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(ft(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:u,password:f,options:p}=e;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await xu(this.storage,this.storageKey)),a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:v},xform:$a})}else if("phone"in e){const{phone:u,password:f,options:p}=e;a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:$a})}else throw new Pg("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(ft(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:s,options:o}=e;r=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ON})}else if("phone"in e){const{phone:a,password:s,options:o}=e;r=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ON})}else throw new Pg("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new bu;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ft(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,s,o,l,c,u,f,p;let h,v;if("message"in e)h=e.message,v=e.signature;else{const{chain:g,wallet:b,statement:y,options:w}=e;let _;if(Kn())if(typeof b=="object")_=b;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")_=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=HT(S[0]);let P=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const I=await _.request({method:"eth_chainId"});P=KF(I)}const C={domain:j.host,address:N,statement:y,uri:j.href,version:"1",chainId:P,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.resources};h=XF(C),v=await _.request({method:"personal_sign",params:[YF(h),N]})}try{const{data:g,error:b}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:$a});if(b)throw b;if(!g||!g.session||!g.user){const y=new bu;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:b})}catch(g){if(ft(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var r,n,i,a,s,o,l,c,u,f,p,h;let v,g;if("message"in e)v=e.message,g=e.signature;else{const{chain:b,wallet:y,statement:w,options:_}=e;let j;if(Kn())if(typeof y=="object")j=y;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const S=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let P;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")P=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)P=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)v=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),g=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(u=_==null?void 0:_.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:b,error:y}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Sc(g)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:$a});if(y)throw y;if(!b||!b.session||!b.user){const w=new bu;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(ft(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await ic(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:$a});if(await zo(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const o=new bu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(ft(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=e,o=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$a}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new bu;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(ft(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await xu(this.storage,this.storageKey));const{error:f}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new Pg("You must provide either an email or phone number.")}catch(o){if(ft(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:$a});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(ft(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,s=null;this.flowType==="pkce"&&([a,s]=await xu(this.storage,this.storageKey));const o=await vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:UF});return this._returnResult(o)}catch(a){if(ft(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ia;const{error:i}=await vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ft(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:s}=await vt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:s,error:o}=await vt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new Pg("You must provide either an email or phone number and a type")}catch(r){if(ft(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ic(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ib:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await ic(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=Mb()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=MF(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Jo}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ia}:await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Jo})})}catch(r){if(ft(r))return mF(r)&&(await this._removeSession(),await zo(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ia;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await xu(this.storage,this.storageKey));const{data:c,error:u}=await vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Jo});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(ft(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ia;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Rb(e.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(ft(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:o}=r;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ia;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ft(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Kn())throw new Eg("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Eg(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new wN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Eg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new wN("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=e;if(!a||!o||!s||!c)throw new Eg("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let p=u+f;l&&(p=parseInt(l));const h=p-u;h*1e3<=Cu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const v=p-f;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,u);const{data:g,error:b}=await this._getUser(a);if(b)throw b;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:p,refresh_token:s,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(n){if(ft(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ic(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(pF(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await zo(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=SF(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await xu(this.storage,this.storageKey,!0));try{return await vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(ft(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ft(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,c,u;const{data:f,error:p}=a;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await vt(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Kn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ft(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:o,token:l,access_token:c,nonce:u}=e,f=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:$a}),{data:p,error:h}=f;return h?this._returnResult({data:{user:null,session:null},error:h}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new bu}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:h}))}catch(i){if(ft(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await vt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ft(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await kF(async i=>(i>0&&await NF(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$a})),(i,a)=>{const s=200*Math.pow(2,i);return a&&$b(a)&&Date.now()+s-n<Cu})}catch(n){if(this._debug(r,"error",n),ft(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Kn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ic(this.storage,this.storageKey);if(i&&this.userStorage){let s=await ic(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Tu(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:Mb()}else if(i&&!i.user&&!i.user){const s=await ic(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await zo(this.storage,this.storageKey+"-user"),await Tu(this.storage,this.storageKey,i)):i.user=Mb()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ib;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Ib}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),$b(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ia;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ny;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Ia;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),ft(a)){const s={data:null,error:a};return $b(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Tu(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=NN(i);await Tu(this.storage,this.storageKey,a)}else{const i=NN(r);await Tu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await zo(this.storage,this.storageKey),await zo(this.storage,this.storageKey+"-code-verifier"),await zo(this.storage,this.storageKey+"-user"),this.userStorage&&await zo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Kn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Cu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Cu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Cu}ms, refresh threshold is ${z2} ticks`),i<=z2&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof WT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await xu(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await vt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ft(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await vt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(ft(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?nU(e.webauthn.credential_response):iU(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(ft(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:tU(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:rU(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ft(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Rb(n.access_token);let s=null;a.aal&&(s=a.aal);let o=s;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const c=a.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await vt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ia})})}catch(r){if(ft(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ia});const s=await vt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Kn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ft(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ia});const s=await vt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Kn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ft(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+fF>i)return n;const{data:a,error:s}=await vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:v}=await this.getSession();if(v||!h.session)return this._returnResult({data:null,error:v});n=h.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=Rb(n);r!=null&&r.allowExpired||IF(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:s},error:null}}const u=$F(i.alg),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,wF(`${o}.${l}`)))throw new H2("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(ft(n))return this._returnResult({data:null,error:n});throw n}}}gp.nextInstanceID={};const hU=gp;class pU extends hU{constructor(e){super(e)}}class mU{constructor(e,r,n){var i,a,s;this.supabaseUrl=e,this.supabaseKey=r;const o=oF(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:QB,realtime:tF,auth:Object.assign(Object.assign({},eF),{storageKey:l}),global:ZB},u=sF(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=iF(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new lB(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new YB(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new aB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:l,debug:c,throwOnError:u},f,p){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pU({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),f),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new AB(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gU=(t,e,r)=>new mU(t,e,r);function vU(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}vU()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const yU="https://kivcusfsppjyalbgqtxy.supabase.co",bU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpdmN1c2ZzcHBqeWFsYmdxdHh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NjI2NjYsImV4cCI6MjA3ODQzODY2Nn0.DMugE2X3gBvcRBXt-NqWceWQB2Vmi9kbavEE6MEjAmI",Ee=gU(yU,bU);async function q_(){try{const{error:t}=await Ee.auth.signOut();t&&console.error("Sign out error:",t)}catch(t){console.error("Sign out exception:",t)}window.location.href="/"}async function xU(){const{data:t,error:e}=await Ee.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(e)throw e;return t}function wU({onAuthSuccess:t}){const[e,r]=Y.useState(!1),[n,i]=Y.useState(""),[a,s]=Y.useState(""),[o,l]=Y.useState(""),[c,u]=Y.useState("student"),[f,p]=Y.useState([]),[h,v]=Y.useState([]),[g,b]=Y.useState(!1),[y,w]=Y.useState(!1),[_,j]=Y.useState(!1),[S,N]=Y.useState(null),[P,C]=Y.useState(null);Y.useEffect(()=>{e&&c==="student"&&I()},[e,c]);const I=async()=>{b(!0);try{const{data:T,error:M}=await Ee.from("cohorts").select("id, name, description").order("name");if(M)throw M;v(T||[])}catch(T){console.error("Error loading cohorts:",T)}finally{b(!1)}},F=async()=>{j(!0),N(null),C(null);try{await xU()}catch(T){N(T.message||"Failed to sign in with Google. Please try again."),j(!1)}},O=async T=>{T.preventDefault(),w(!0),N(null),C(null);try{if(e){const{data:M,error:R}=await Ee.auth.signUp({email:n,password:a,options:{data:{name:o,role:c},emailRedirectTo:window.location.origin}});if(R)throw R;if(M.user&&!M.session){const U=c==="student"&&f.length>0?" After confirming your email, please join your selected cohorts from your profile page.":"";C(`Confirmation email sent to ${n}! Please check your inbox and click the confirmation link to activate your account.${U}`),w(!1),i(""),s(""),l(""),u("student"),p([]);return}if(M.user){let U=!1,H=0;const G=5;for(;!U&&H<G;){await new Promise(ae=>setTimeout(ae,500));const{data:$,error:X}=await Ee.from("users").select("id").eq("id",M.user.id).single();if($&&!X)U=!0;else if(X&&X.code==="PGRST116"){const{error:ae}=await Ee.from("users").insert({id:M.user.id,name:o,email:n,role:c});ae||(U=!0)}H++}U||console.error("User record was not created after signup")}if(M.session&&M.user){if(c==="student"&&f.length>0){await new Promise(H=>setTimeout(H,1e3));const{error:U}=await Ee.from("users").select("id").eq("id",M.user.id).single();if(U)console.error("Cannot add cohorts: User record not found",U),N("Account created but failed to join cohorts. Please join them from your profile.");else{const H=f.map(X=>({cohort_id:X,student_id:M.user.id})),{data:G,error:$}=await Ee.from("cohort_members").insert(H).select();$?(console.error("Error adding student to cohorts:",$),N(`Account created but failed to join some cohorts: ${$.message}. Please join them from your profile.`)):G&&console.log("Successfully added student to cohorts:",G)}}t()}}else{const{error:M}=await Ee.auth.signInWithPassword({email:n,password:a});if(M)throw M;t()}}catch(M){N(M.message||"An error occurred"),w(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-primary-50 to-gray-100 px-4 py-8",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 md:p-10 w-full max-w-md border-2 border-gray-200",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-16 md:h-20 w-auto object-contain"})}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Kaya CBDC V-OSCE"}),d.jsx("p",{className:"text-gray-600 mt-2 text-sm md:text-base",children:"Yashwant Ayurvedic College"})]}),d.jsx("button",{type:"button",onClick:F,disabled:_||y,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-300 text-gray-700 py-3 px-6 rounded-xl hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:opacity-50 font-medium text-base md:text-lg shadow-md transition-all transform hover:scale-[1.02] mb-4",children:_?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("span",{children:"Connecting..."})]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),d.jsx("span",{children:"Sign in with Google"})]})}),d.jsxs("div",{className:"relative my-6",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-300"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),d.jsxs("form",{onSubmit:O,className:"space-y-4",children:[e&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),d.jsx("input",{type:"text",value:o,onChange:T=>l(T.target.value),required:e,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),d.jsxs("select",{value:c,onChange:T=>{u(T.target.value),p([])},required:e,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 bg-white",children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),c==="student"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Cohorts (Optional)"}),g?d.jsx("div",{className:"text-sm text-gray-500",children:"Loading cohorts..."}):h.length===0?d.jsx("div",{className:"text-sm text-gray-500 p-3 bg-gray-50 rounded-md",children:"No cohorts available. You can join cohorts later from your profile settings."}):d.jsx("div",{className:"border border-gray-300 rounded-md max-h-40 overflow-y-auto p-2",children:h.map(T=>d.jsxs("label",{className:"flex items-start gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:f.includes(T.id),onChange:M=>{M.target.checked?p([...f,T.id]):p(f.filter(R=>R!==T.id))},className:"mt-1"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.name}),T.description&&d.jsx("div",{className:"text-xs text-gray-500",children:T.description})]})]},T.id))}),f.length>0&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[f.length," cohort",f.length!==1?"s":""," selected"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",value:n,onChange:T=>i(T.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsx("input",{type:"password",value:a,onChange:T=>s(T.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),S&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:S}),P&&d.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Email Sent!"}),d.jsx("p",{className:"text-sm mt-1",children:P})]})]})}),d.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white py-3 px-6 rounded-xl hover:from-primary-700 hover:to-primary-800 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 font-bold text-base md:text-lg shadow-lg transition-all transform hover:scale-[1.02]",children:y?"Loading...":e?"Sign Up":"Sign In"})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("button",{onClick:()=>{r(!e),N(null),C(null)},className:"text-primary-600 hover:text-primary-700 text-sm",children:e?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _U={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_t=(t,e)=>{const r=Y.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>Y.createElement("svg",{ref:u,..._U,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${SU(t)}`,o].join(" "),...c},[...e.map(([f,p])=>Y.createElement(f,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=_t("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=_t("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=_t("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=_t("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=_t("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=_t("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=_t("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=_t("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=_t("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=_t("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=_t("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=_t("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=_t("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=_t("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=_t("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=_t("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=_t("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=_t("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=_t("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=_t("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=_t("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=_t("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=_t("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=_t("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=_t("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=_t("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=_t("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=_t("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=_t("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=_t("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=_t("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=_t("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=_t("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=_t("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=_t("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=_t("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=_t("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=_t("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=_t("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=_t("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=_t("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=_t("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=_t("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=_t("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=_t("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=_t("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=_t("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function wi({role:t}){const e=Yc(),r=async()=>{await q_()},a=t==="faculty"?[{path:"/dashboard",icon:Y0,label:"Dashboard"},{path:"/create",icon:cm,label:"Create Station"},{path:"/library",icon:KT,label:"Library"},{path:"/analytics",icon:Ha,label:"Analytics"}]:[{path:"/admin/dashboard",icon:Y0,label:"Dashboard"},{path:"/admin/cbdc",icon:Gi,label:"CBDC Manager"},{path:"/admin/reports",icon:Ha,label:"Reports"},{path:"/admin/users",icon:vl,label:"Users"}];return d.jsx("div",{className:"hidden md:flex md:flex-col md:w-64 md:fixed md:inset-y-0 bg-white border-r border-gray-200",children:d.jsxs("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center flex-shrink-0 px-4 mb-8 gap-3",children:[d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-10 w-auto object-contain"}),d.jsx("h1",{className:"text-xl font-bold text-primary-900",children:"Kaya V-OSCE"})]}),d.jsx("nav",{className:"flex-1 px-2 space-y-1",children:a.map(s=>{const o=s.icon,l=e.pathname===s.path||e.pathname.startsWith(s.path+"/");return d.jsxs(zC,{to:s.path,className:`flex items-center px-4 py-2 text-sm font-medium rounded-md ${l?"bg-primary-100 text-primary-900":"text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(o,{className:"mr-3 h-5 w-5"}),s.label]},s.path)})}),d.jsx("div",{className:"px-4 pb-4",children:d.jsxs("button",{onClick:r,className:"flex items-center w-full px-4 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-50",children:[d.jsx(ZT,{className:"mr-3 h-5 w-5"}),"Sign Out"]})})]})})}function Mn({role:t}){const e=Yc(),a=t==="admin"?[{path:"/admin/dashboard",icon:Y0,label:"Dashboard"},{path:"/admin/cbdc",icon:Gi,label:"CBDC"},{path:"/admin/reports",icon:Ha,label:"Reports"},{path:"/admin/users",icon:vl,label:"Users"}]:t==="faculty"?[{path:"/dashboard",icon:Y0,label:"Dashboard"},{path:"/create",icon:cm,label:"Create"},{path:"/library",icon:KT,label:"Library"},{path:"/analytics",icon:Ha,label:"Analytics"},{path:"/profile",icon:vs,label:"Profile"}]:[{path:"/home",icon:PU,label:"Home"},{path:"/assigned",icon:Oy,label:"Assignments"},{path:"/analytics",icon:Ha,label:"Analytics"},{path:"/profile",icon:vs,label:"Profile"}];return d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-300 shadow-lg z-50 md:hidden safe-area-bottom",children:d.jsx("div",{className:"flex justify-around items-center h-16 px-2",children:a.map(s=>{const o=s.icon,l=e.pathname===s.path||s.path!=="/dashboard"&&s.path!=="/admin/dashboard"&&e.pathname.startsWith(s.path);return d.jsxs(zC,{to:s.path,className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${l?"text-primary-600 bg-primary-50 rounded-t-lg":"text-gray-600 hover:text-primary-500"}`,children:[d.jsx(o,{className:`w-5 h-5 ${l?"scale-110":""} transition-transform`}),d.jsx("span",{className:`text-xs mt-0.5 font-medium ${l?"text-primary-700":"text-gray-600"}`,children:s.label})]},s.path)})})})}function FU({user:t}){const e=Xa(),[r,n]=Y.useState({approved:0,pending:0,total:0}),[i,a]=Y.useState(!0);Y.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:o,error:l}=await Ee.from("stations").select("id").eq("created_by",t.id);if(l)throw l;const c=(o==null?void 0:o.map(p=>p.id))||[],{data:u,error:f}=await Ee.from("case_snapshots").select("id",{count:"exact"}).in("station_id",c);if(f)throw f;n({approved:(u==null?void 0:u.length)||0,pending:c.length-((u==null?void 0:u.length)||0),total:c.length})}catch(o){console.error("Error loading stats:",o)}finally{a(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Faculty Dashboard"}),d.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome back, ",t.name]})]}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Approved Cases"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.approved})]}),d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(Gi,{className:"w-6 h-6 text-green-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Pending Review"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.pending})]}),d.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:d.jsx(Xc,{className:"w-6 h-6 text-yellow-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.total})]}),d.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:d.jsx(vl,{className:"w-6 h-6 text-blue-600"})})]})})]}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("button",{onClick:()=>e("/create"),className:"w-full md:w-auto flex items-center justify-center gap-2 bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors",children:[d.jsx(cm,{className:"w-5 h-5"}),"Create New Station"]})})]})]})}),d.jsx(Mn,{role:"faculty"})]})}function UU({toast:t,onClose:e}){Y.useEffect(()=>{if(t.duration!==0){const s=setTimeout(()=>{e(t.id)},t.duration||5e3);return()=>clearTimeout(s)}},[t.id,t.duration,e]);const r={success:da,error:ky,warning:AU,info:EU},n={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"},i={success:"text-green-600",error:"text-red-600",warning:"text-yellow-600",info:"text-blue-600"},a=r[t.type];return d.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-lg border-2 shadow-lg min-w-[300px] max-w-md ${n[t.type]} animate-in slide-in-from-top-5 fade-in`,children:[d.jsx(a,{className:`w-5 h-5 flex-shrink-0 mt-0.5 ${i[t.type]}`}),d.jsx("div",{className:"flex-1 text-sm font-medium",children:t.message}),d.jsx("button",{onClick:()=>e(t.id),className:`flex-shrink-0 ${i[t.type]} hover:opacity-70 transition-opacity`,"aria-label":"Close",children:d.jsx(df,{className:"w-4 h-4"})})]})}function yl({toasts:t,onClose:e}){return t.length===0?null:d.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:t.map(r=>d.jsx("div",{className:"pointer-events-auto",children:d.jsx(UU,{toast:r,onClose:e})},r.id))})}function bo(){const[t,e]=Y.useState([]),r=(l,c="info",u)=>{const f=Math.random().toString(36).substring(2,9),p={id:f,message:l,type:c,duration:u};return e(h=>[...h,p]),f};return{toasts:t,showToast:r,removeToast:l=>{e(c=>c.filter(u=>u.id!==l))},success:(l,c)=>r(l,"success",c),error:(l,c)=>r(l,"error",c),warning:(l,c)=>r(l,"warning",c),info:(l,c)=>r(l,"info",c)}}const lh="AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",$N="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";function zU({user:t}){var S,N,P,C,I,F;const e=Xa(),r=bo(),[n,i]=Y.useState(1),[a,s]=Y.useState(!1),[o,l]=Y.useState(!1),[c,u]=Y.useState([]),[f,p]=Y.useState([]),[h,v]=Y.useState({subject:"",competencyId:"",slo:"",millerLevel:"ShowsHow",bloomDomain:"Cognitive",duration:15,difficulty:"Intermediate",prakriti:"Sama",doshaSliders:{vata:33,pitta:33,kapha:34},includeAshtasthana:!1});Y.useEffect(()=>{g(),b()},[]);const g=async()=>{const{data:O}=await Ee.from("subjects").select("*");O&&u(O)},b=async()=>{const{data:O}=await Ee.from("competencies").select("*");O&&p(O)},y=O=>{var T,M,R,U,H,G;return`You are an expert Ayurvedic physician creating a virtual OSCE (Objective Structured Clinical Examination) case for medical students.

Generate a complete clinical case in JSON format matching this specification:

Subject: ${O.subject}
Miller's Level: ${O.millerLevel||"ShowsHow"}
Bloom's Domain: ${O.bloomDomain||"Cognitive"}
Difficulty: ${O.difficulty}
Duration: ${O.duration} minutes
Prakriti: ${O.prakriti||"Sama"}
Dosha Distribution: Vata ${((T=O.doshaSliders)==null?void 0:T.vata)||33}%, Pitta ${((M=O.doshaSliders)==null?void 0:M.pitta)||33}%, Kapha ${((R=O.doshaSliders)==null?void 0:R.kapha)||34}%
${O.includeAshtasthana?"Include Ashtasthana Pariksha findings":""}
${O.slo?`SLO: ${O.slo}`:""}

Return a JSON object with this exact structure:
{
  "id": "generate-uuid-here",
  "title": "Case title",
  "subject": "${O.subject}",
  "durationMinutes": ${O.duration},
  "difficulty": "${O.difficulty}",
  "patientProfile": {
    "name": "Patient name",
    "age": 35,
    "gender": "male",
    "prakriti": "${O.prakriti||"Sama"}",
    "occupation": "Relevant occupation"
  },
  "chiefComplaint": "Primary complaint in patient's own words (e.g., 'Fever and cough for 3 days')",
  "historyOfPresentIllness": "Detailed HPI in Ayurvedic context",
  ${O.includeAshtasthana?`"ashtasthanaPariksha": {
    "Nadi": "Pulse findings",
    "Mala": "Stool findings",
    "Mutra": "Urine findings",
    "Jihva": "Tongue findings",
    "Shabda": "Voice findings",
    "Sparsha": "Touch findings",
    "Druk": "Eye findings",
    "Akriti": "General appearance"
  },`:""}
  "doshaAnalysis": {
    "vata": ${((U=O.doshaSliders)==null?void 0:U.vata)||33},
    "pitta": ${((H=O.doshaSliders)==null?void 0:H.pitta)||33},
    "kapha": ${((G=O.doshaSliders)==null?void 0:G.kapha)||34}
  },
  "potentialDiagnoses": [
    {"dx": "Primary diagnosis", "confidence": 0.9},
    {"dx": "Differential diagnosis", "confidence": 0.6}
  ],
  "diagnosisMCQ": {
    "question": "What is the most likely diagnosis for this patient?",
    "options": ["Primary diagnosis", "Differential diagnosis 1", "Differential diagnosis 2", "Differential diagnosis 3"],
    "answerIndex": 0,
    "explanation": "Brief explanation of why the correct diagnosis is the most appropriate based on the case findings"
  },
  "suggestedChikitsa": "Detailed treatment plan",
  "mcqs": [
    {
      "id": "mcq-1",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${O.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    },
    {
      "id": "mcq-2",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${O.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    },
    {
      "id": "mcq-3",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${O.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    }
  ],
  "rubrics": [
    {
      "id": "rubric-1",
      "description": "Rubric description",
      "maxPoints": 10,
      "sloId": "${O.slo||"default-slo"}"
    }
  ],
  "finalExplanation": "Comprehensive explanation",
  "sloMappings": ["${O.slo||"default-slo"}"],
  "physicalExam": {
    "vitals": {
      "bp": "Actual blood pressure relevant to the case (e.g., '90/60 mmHg' for hypotension, '150/95 mmHg' for hypertension)",
      "hr": "Actual heart rate relevant to the case (e.g., '110 bpm' for tachycardia, '55 bpm' for bradycardia)",
      "rr": "Actual respiratory rate relevant to the case (e.g., '28 breaths/min' for tachypnea, '12 breaths/min' for normal)",
      "temp": "Actual temperature relevant to the case (e.g., '102.8F (oral)' for fever, '98.6F (oral)' for normal)",
      "spo2": "Actual oxygen saturation relevant to the case (e.g., '88% on room air' for hypoxemia, '98% on room air' for normal)"
    },
    "generalExam": "Detailed general examination findings that are consistent with the diagnosis and clinical presentation. Include appearance, consciousness level, pallor, icterus, edema, etc.",
    "systemicExam": "Detailed systemic examination findings organized by system (CNS, CVS, RS, GIT, etc.) that are consistent with the diagnosis. Be specific and realistic."
  },
  "availableLabTests": [
    {"category": "BEDSIDE TESTS", "tests": ["ECG", "Blood Glucose", "Urine Dipstick"]},
    {"category": "BASIC LABS", "tests": ["CBC", "CMP", "ESR", "CRP", "TSH", "Lipid Profile", "LFT", "RFT", "ABG"]},
    {"category": "ADVANCED LABS", "tests": ["Troponin", "BNP", "D-dimer", "Coagulation Profile", "Blood Culture", "HbA1c"]},
    {"category": "IMAGING", "tests": ["Chest X-Ray", "CT Head", "CT Chest", "CT Abdomen", "Abdominal Ultrasound", "Echocardiogram"]}
  ],
  "labResults": {
    "CBC": "Complete blood count results relevant to the case (e.g., 'WBC: 15,000/L (elevated), Hb: 12 g/dL, Platelets: 250,000/L' for infection)",
    "CMP": "Comprehensive metabolic panel results relevant to the case (e.g., 'Na: 138 mEq/L, K: 4.2 mEq/L, Creatinine: 1.2 mg/dL, BUN: 45 mg/dL (elevated)' for renal issues)",
    "Chest X-Ray": "Chest X-ray findings relevant to the case (e.g., 'Consolidation in right lower lobe, consistent with pneumonia' or 'Normal chest X-ray')",
    "ECG": "ECG findings relevant to the case (e.g., 'Normal sinus rhythm' or 'ST elevation in leads II, III, aVF')",
    "CRP": "C-reactive protein result relevant to the case (e.g., '150 mg/L (markedly elevated)' for inflammation)",
    "Urine Dipstick": "Urine dipstick results relevant to the case (e.g., 'Negative for nitrites, leukocyte esterase, protein, blood' or 'Positive for protein and blood')"
  },
  "learningPearls": [
    "Key learning point 1 relevant to this case",
    "Key learning point 2 relevant to this case",
    "Key learning point 3 relevant to this case"
  ],
  "furtherReading": [
    {
      "title": "Relevant Textbook Chapter",
      "reference": "Textbook Name, Edition. Chapter X: Topic"
    },
    {
      "title": "Clinical Guidelines",
      "reference": "Guideline Name and Year"
    }
  ]
}

CRITICAL REQUIREMENTS - YOU MUST FOLLOW THESE:

1. MCQs (REQUIRED - MUST GENERATE AT LEAST 3):
   - Generate at least 3 multiple-choice questions related to the case
   - Each MCQ must have 4 options (A, B, C, D)
   - Include an explanation for each correct answer
   - The last 3 MCQs will be used as post-case questions (shown after submission)
   - Additional MCQs (if any) can be used as pre-case questions

2. Physical Exam (REQUIRED - MUST BE GENERATED):
   - Vitals: Generate ALL 5 vital signs (BP, HR, RR, Temp, SpO2) with realistic values that match the diagnosis
   - General Exam: Write 2-3 sentences describing patient appearance, consciousness, pallor, icterus, edema, etc. relevant to the condition
   - Systemic Exam: Write detailed findings by system (CNS, CVS, RS, GIT, etc.) - at least 4-5 sentences with specific findings
   - Example for pneumonia: BP 90/60 (hypotension), HR 110 (tachycardia), RR 28 (tachypnea), Temp 102.8F (fever), SpO2 88% (hypoxemia)
   - Example for hypertension: BP 150/95 (elevated), HR 85, RR 16, Temp 98.6F, SpO2 98%

2. Lab Results (REQUIRED - MUST BE GENERATED):
   - Generate results for at least 4-6 common tests (CBC, CMP, Chest X-Ray, ECG, CRP, etc.)
   - Results MUST support the diagnosis and be realistic
   - Include abnormal values with explanations (e.g., "WBC: 15,000/L (elevated)")

3. Learning Pearls (REQUIRED - MUST BE 3-5 ITEMS):
   - Each pearl should be a complete sentence
   - Focus on key teaching points specific to this case
   - Be actionable and educational

4. Further Reading (REQUIRED - MUST BE 2-3 ITEMS):
   - Include specific textbook names, editions, and chapter numbers
   - Include relevant clinical guidelines with years
   - Make them specific to the diagnosis

5. Data Consistency:
   - If patient has fever  Temp must be elevated (e.g., 102F+)
   - If patient has respiratory distress  RR elevated, SpO2 decreased
   - If patient has infection  WBC elevated, CRP elevated
   - All findings must support the primary diagnosis

Return ONLY valid JSON, no markdown formatting, no code blocks. The JSON must be parseable directly.`},w=(O,T)=>{var R;let M=O.match(/```json\s*([\s\S]*?)\s*```/);if(M||(M=O.match(/```\s*([\s\S]*?)\s*```/)),M||(M=O.match(/\{[\s\S]*\}/)),!M)throw new Error("No JSON found in Gemini response. The AI may not have returned valid JSON.");try{const U=M[1]||M[0],H=JSON.parse(U);if(H.id=crypto.randomUUID(),H.subject=T.subject,H.durationMinutes=T.duration,H.difficulty=T.difficulty,H.patientProfile||(H.patientProfile={name:"Patient",age:35,gender:"male",prakriti:T.prakriti||"Sama",occupation:"Not specified"}),H.mcqs||(H.mcqs=[]),H.rubrics||(H.rubrics=[]),H.potentialDiagnoses||(H.potentialDiagnoses=[]),H.sloMappings||(H.sloMappings=[]),!H.diagnosisMCQ&&H.potentialDiagnoses&&H.potentialDiagnoses.length>0){const G=((R=H.potentialDiagnoses[0])==null?void 0:R.dx)||"Primary diagnosis",$=H.potentialDiagnoses.slice(0,4).map(X=>X.dx);for(;$.length<4;)$.push(`Differential diagnosis ${$.length}`);H.diagnosisMCQ={question:"What is the most likely diagnosis for this patient?",options:$,answerIndex:0,explanation:`The correct diagnosis is ${G}, which is supported by the clinical findings, physical examination, and laboratory results presented in this case.`}}return H.physicalExam||(H.physicalExam={vitals:{},generalExam:"",systemicExam:""}),H.physicalExam.vitals||(H.physicalExam.vitals={}),(!H.availableLabTests||H.availableLabTests.length===0)&&(H.availableLabTests=[]),H}catch(U){throw new Error(`Failed to parse JSON from Gemini response: ${U.message}`)}},_=async()=>{var O,T,M,R,U;if(!h.subject||!h.competencyId){r.warning("Please select a subject and competency first");return}if(lh.trim()===""){r.error("Gemini API key is not configured. Please set VITE_GEMINI_API_KEY in your environment variables.");return}l(!0);try{const H=f.find(z=>z.id===h.competencyId),G=H?`${H.id}: ${H.description}`:h.competencyId,$=`You are an expert in medical education creating Specific Learning Outcomes (SLOs) for Ayurvedic medicine.

Subject: ${h.subject}
CBDC Competency: ${G}
Miller's Level: ${h.millerLevel}
Bloom's Domain: ${h.bloomDomain}

Generate a specific, measurable, and actionable learning outcome statement that:
1. Is aligned with the subject and competency
2. Matches the Miller's Level (${h.millerLevel})
3. Matches the Bloom's Domain (${h.bloomDomain})
4. Is specific to Ayurvedic medicine context
5. Is clear and concise (one sentence, max 20 words)

Return ONLY the SLO statement text, nothing else. No explanations, no quotes, just the statement.`,X=await fetch($N,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":lh},body:JSON.stringify({contents:[{parts:[{text:$}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:100}})});if(!X.ok){const z=await X.text();let V=`Gemini API error (${X.status})`;try{const Z=JSON.parse(z);(O=Z.error)!=null&&O.message?V+=": "+Z.error.message:V+=": "+z}catch{V+=": "+z}throw new Error(V)}const ae=await X.json();if(!ae.candidates||ae.candidates.length===0)throw new Error("No response from Gemini API. Please check your API key and try again.");const ie=((U=(R=(M=(T=ae.candidates[0])==null?void 0:T.content)==null?void 0:M.parts[0])==null?void 0:R.text)==null?void 0:U.trim())||"";if(!ie)throw new Error("Empty response from Gemini API");const E=ie.replace(/^["']|["']$/g,"").replace(/^```[\w]*\n?|\n?```$/g,"").trim();v({...h,slo:E}),r.success("SLO suggested successfully!")}catch(H){r.error("Error suggesting SLO: "+H.message)}finally{l(!1)}},j=async()=>{var O,T,M,R,U,H;s(!0);try{if(!h.subject)throw new Error("Please select a subject");if(!h.competencyId)throw new Error("Please select a CBDC competency");if(!lh||lh.trim()==="")throw new Error("Gemini API key is not configured. Please set VITE_GEMINI_API_KEY in your environment variables.");const G=y(h),$=await fetch($N,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":lh},body:JSON.stringify({contents:[{parts:[{text:G}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:8192}})});if(!$.ok){const Z=await $.text();let ne=`Gemini API error (${$.status})`;try{const ce=JSON.parse(Z);(O=ce.error)!=null&&O.message?ne+=": "+ce.error.message:ne+=": "+Z}catch{ne+=": "+Z}throw new Error(ne)}const X=await $.json();if(!X.candidates||X.candidates.length===0)throw new Error("No response from Gemini API. Please check your API key and try again.");const ae=((R=(M=(T=X.candidates[0])==null?void 0:T.content)==null?void 0:M.parts[0])==null?void 0:R.text)||"";if(!ae)throw new Error("Empty response from Gemini API");const ie=w(ae,h),E=[];if(!ie.physicalExam||!ie.physicalExam.vitals)E.push("Physical examination vitals are missing");else{const Z=ie.physicalExam.vitals;(!Z.bp||!Z.hr||!Z.rr||!Z.temp||!Z.spo2)&&E.push("Some vital signs are missing (BP, HR, RR, Temp, SpO2)")}if((!((U=ie.physicalExam)!=null&&U.generalExam)||ie.physicalExam.generalExam.trim()==="")&&E.push("General examination findings are missing"),(!((H=ie.physicalExam)!=null&&H.systemicExam)||ie.physicalExam.systemicExam.trim()==="")&&E.push("Systemic examination findings are missing"),(!ie.labResults||Object.keys(ie.labResults).length<4)&&E.push("Lab results are missing or insufficient (need at least 4 test results)"),!ie.learningPearls||ie.learningPearls.length<3?E.push("Learning pearls are missing or insufficient (need at least 3)"):ie.learningPearls.some(ne=>ne.toLowerCase().includes("key learning point")||ne.toLowerCase().includes("relevant to this case")||ne.trim().length<20)&&E.push("Learning pearls contain generic placeholder text"),!ie.furtherReading||ie.furtherReading.length<2?E.push("Further reading references are missing or insufficient (need at least 2)"):ie.furtherReading.some(ne=>ne.title.toLowerCase().includes("relevant textbook")||ne.title.toLowerCase().includes("textbook name")||ne.reference.toLowerCase().includes("chapter x")||ne.reference.toLowerCase().includes("textbook name"))&&E.push("Further reading contains generic placeholder text"),E.length>0)throw new Error(`AI generation incomplete:
${E.join(`
`)}

Please regenerate the case.`);const{data:z,error:V}=await Ee.from("stations").insert({title:ie.title||"New Station",blueprint:{...h,generatedCase:ie},created_by:t.id}).select().single();if(V)throw V;e(`/review/${z.id}`),r.success("Case generated successfully!")}catch(G){r.error("Error generating case: "+G.message)}finally{s(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(vp,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Create New Station"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[n>=1&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 1: Subject & Competency"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),d.jsxs("select",{value:h.subject,onChange:O=>v({...h,subject:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Select Subject"}),c.map(O=>d.jsx("option",{value:O.name,children:O.name},O.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CBDC Competency"}),d.jsxs("select",{value:h.competencyId||"",onChange:O=>v({...h,competencyId:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Select Competency"}),f.map(O=>d.jsxs("option",{value:O.id,children:[O.id,": ",O.description]},O.id))]})]})]}),n>=2&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 2: Learning Outcomes"}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"SLO (Specific Learning Outcome)"}),d.jsx("button",{type:"button",onClick:_,disabled:o||!h.subject||!h.competencyId,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-primary-600 bg-primary-50 border border-primary-200 rounded-md hover:bg-primary-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?d.jsxs(d.Fragment,{children:[d.jsx(Sd,{className:"w-3 h-3 animate-spin"}),"Suggesting..."]}):d.jsxs(d.Fragment,{children:[d.jsx($U,{className:"w-3 h-3"}),"AI Suggest"]})})]}),d.jsx("textarea",{value:h.slo||"",onChange:O=>v({...h,slo:O.target.value}),placeholder:"e.g., Demonstrate interpretation of Nadi in Pitta Jwara",className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Miller's Level"}),d.jsxs("select",{value:h.millerLevel,onChange:O=>v({...h,millerLevel:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Knows",children:"Knows"}),d.jsx("option",{value:"KnowsHow",children:"Knows How"}),d.jsx("option",{value:"ShowsHow",children:"Shows How"}),d.jsx("option",{value:"Does",children:"Does"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bloom's Domain"}),d.jsxs("select",{value:h.bloomDomain,onChange:O=>v({...h,bloomDomain:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Cognitive",children:"Cognitive"}),d.jsx("option",{value:"Psychomotor",children:"Psychomotor"}),d.jsx("option",{value:"Affective",children:"Affective"})]})]})]})]}),n>=3&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 3: Case Parameters"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),d.jsx("input",{type:"number",min:"5",max:"60",value:h.duration,onChange:O=>v({...h,duration:parseInt(O.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),d.jsxs("select",{value:h.difficulty,onChange:O=>v({...h,difficulty:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Beginner",children:"Beginner"}),d.jsx("option",{value:"Intermediate",children:"Intermediate"}),d.jsx("option",{value:"Advanced",children:"Advanced"})]})]})]})]}),n>=4&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 4: Ayurvedic Parameters"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prakriti"}),d.jsxs("select",{value:h.prakriti,onChange:O=>v({...h,prakriti:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Vata",children:"Vata"}),d.jsx("option",{value:"Pitta",children:"Pitta"}),d.jsx("option",{value:"Kapha",children:"Kapha"}),d.jsx("option",{value:"Sama",children:"Sama"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dosha Distribution (must sum to 100)"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Vata: ",(S=h.doshaSliders)==null?void 0:S.vata,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((N=h.doshaSliders)==null?void 0:N.vata)||0,onChange:O=>{var H;const T=parseInt(O.target.value),M=100-T,R=Math.min(M,((H=h.doshaSliders)==null?void 0:H.pitta)||0),U=100-T-R;v({...h,doshaSliders:{vata:T,pitta:R,kapha:U}})},className:"w-full"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Pitta: ",(P=h.doshaSliders)==null?void 0:P.pitta,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((C=h.doshaSliders)==null?void 0:C.pitta)||0,onChange:O=>{var H;const T=parseInt(O.target.value),M=100-T,R=Math.min(M,((H=h.doshaSliders)==null?void 0:H.vata)||0),U=100-R-T;v({...h,doshaSliders:{vata:R,pitta:T,kapha:U}})},className:"w-full"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Kapha: ",(I=h.doshaSliders)==null?void 0:I.kapha,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((F=h.doshaSliders)==null?void 0:F.kapha)||0,onChange:O=>{var H;const T=parseInt(O.target.value),M=100-T,R=Math.min(M,((H=h.doshaSliders)==null?void 0:H.vata)||0),U=100-R-T;v({...h,doshaSliders:{vata:R,pitta:U,kapha:T}})},className:"w-full"})]})]})]}),d.jsx("div",{children:d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:h.includeAshtasthana||!1,onChange:O=>v({...h,includeAshtasthana:O.target.checked})}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Include Ashtasthana Pariksha"})]})})]}),d.jsxs("div",{className:"flex justify-between pt-6 border-t",children:[d.jsx("button",{onClick:()=>i(Math.max(1,n-1)),disabled:n===1,className:"px-4 py-2 border border-gray-300 rounded-md disabled:opacity-50",children:"Previous"}),n<4?d.jsx("button",{onClick:()=>i(n+1),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Next"}):d.jsxs("button",{onClick:j,disabled:a||!h.subject,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 flex items-center gap-2",children:[a&&d.jsx(Sd,{className:"w-4 h-4 animate-spin"}),"Generate Case"]})]})]})]})}),d.jsx(Mn,{role:"faculty"}),d.jsx(yl,{toasts:r.toasts,onClose:r.removeToast})]})}var Kt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Kt||(Kt={}));var RN;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(RN||(RN={}));const Qe=Kt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Go=t=>{switch(typeof t){case"undefined":return Qe.undefined;case"string":return Qe.string;case"number":return Number.isNaN(t)?Qe.nan:Qe.number;case"boolean":return Qe.boolean;case"function":return Qe.function;case"bigint":return Qe.bigint;case"symbol":return Qe.symbol;case"object":return Array.isArray(t)?Qe.array:t===null?Qe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Qe.promise:typeof Map<"u"&&t instanceof Map?Qe.map:typeof Set<"u"&&t instanceof Set?Qe.set:typeof Date<"u"&&t instanceof Date?Qe.date:Qe.object;default:return Qe.unknown}},Be=Kt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ho extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(s))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),n}static assert(e){if(!(e instanceof ho))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Kt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ho.create=t=>new ho(t);const V2=(t,e)=>{let r;switch(t.code){case Be.invalid_type:t.received===Qe.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Be.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Kt.jsonStringifyReplacer)}`;break;case Be.unrecognized_keys:r=`Unrecognized key(s) in object: ${Kt.joinValues(t.keys,", ")}`;break;case Be.invalid_union:r="Invalid input";break;case Be.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Kt.joinValues(t.options)}`;break;case Be.invalid_enum_value:r=`Invalid enum value. Expected ${Kt.joinValues(t.options)}, received '${t.received}'`;break;case Be.invalid_arguments:r="Invalid function arguments";break;case Be.invalid_return_type:r="Invalid function return type";break;case Be.invalid_date:r="Invalid date";break;case Be.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Kt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Be.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Be.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Be.custom:r="Invalid input";break;case Be.invalid_intersection_types:r="Intersection results could not be merged";break;case Be.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Be.not_finite:r="Number must be finite";break;default:r=e.defaultError,Kt.assertNever(t)}return{message:r}};let qU=V2;function WU(){return qU}const HU=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)o=c(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}};function Ge(t,e){const r=WU(),n=HU({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===V2?void 0:V2].filter(i=>!!i)});t.common.issues.push(n)}class li{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Ot;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return li.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Ot;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}}const Ot=Object.freeze({status:"aborted"}),Nh=t=>({status:"dirty",value:t}),xa=t=>({status:"valid",value:t}),MN=t=>t.status==="aborted",DN=t=>t.status==="dirty",jd=t=>t.status==="valid",X0=t=>typeof Promise<"u"&&t instanceof Promise;var st;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(st||(st={}));class _s{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const BN=(t,e)=>{if(jd(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ho(t.common.issues);return this._error=r,this._error}}};function Bt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{const{message:l}=t;return s.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:i}}class qt{get description(){return this._def.description}_getType(e){return Go(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Go(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new li,ctx:{common:e.parent.common,data:e.data,parsedType:Go(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(X0(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Go(e)},i=this._parseSync({data:e,path:n.path,parent:n});return BN(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Go(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return jd(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>jd(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Go(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(X0(i)?i:Promise.resolve(i));return BN(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:Be.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new kd({schema:this,typeName:At.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return hl.create(this,this._def)}nullable(){return Od.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ys.create(this)}promise(){return tv.create(this,this._def)}or(e){return Z0.create([this,e],this._def)}and(e){return Q0.create(this,e,this._def)}transform(e){return new kd({...Bt(this._def),schema:this,typeName:At.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new K2({...Bt(this._def),innerType:this,defaultValue:r,typeName:At.ZodDefault})}brand(){return new pz({typeName:At.ZodBranded,type:this,...Bt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Y2({...Bt(this._def),innerType:this,catchValue:r,typeName:At.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return V_.create(this,e)}readonly(){return X2.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const VU=/^c[^\s-]{8,}$/i,GU=/^[0-9a-z]+$/,KU=/^[0-9A-HJKMNP-TV-Z]{26}$/i,YU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,XU=/^[a-z0-9_-]{21}$/i,JU=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ZU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,QU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ez="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Bb;const tz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,nz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,iz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,az=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sz=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,QT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",oz=new RegExp(`^${QT}$`);function e8(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function lz(t){return new RegExp(`^${e8(t)}$`)}function cz(t){let e=`${QT}T${e8(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function uz(t,e){return!!((e==="v4"||!e)&&tz.test(t)||(e==="v6"||!e)&&nz.test(t))}function dz(t,e){if(!JU.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function fz(t,e){return!!((e==="v4"||!e)&&rz.test(t)||(e==="v6"||!e)&&iz.test(t))}class eo extends qt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Qe.string){const a=this._getOrReturnCtx(e);return Ge(a,{code:Be.invalid_type,expected:Qe.string,received:a.parsedType}),Ot}const n=new li;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Ge(i,{code:Be.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Ge(i,{code:Be.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?Ge(i,{code:Be.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&Ge(i,{code:Be.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")QU.test(e.data)||(i=this._getOrReturnCtx(e,i),Ge(i,{validation:"email",code:Be.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Bb||(Bb=new RegExp(ez,"u")),Bb.test(e.data)||(i=this._getOrReturnCtx(e,i),Ge(i,{validation:"emoji",code:Be.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")YU.test(e.data)||(i=this._getOrReturnCtx(e,i),Ge(i,{validation:"uuid",code:Be.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")XU.test(e.data)||(i=this._getOrReturnCtx(e,i),Ge(i,{validation:"nanoid",code:Be.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")VU.test(e.data)||(i=this._getOrReturnCtx(e,i),Ge(i,{validation:"cuid",code:Be.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")GU.test(e.data)||(i=this._getOrReturnCtx(e,i),Ge(i,{validation:"cuid2",code:Be.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")KU.test(e.data)||(i=this._getOrReturnCtx(e,i),Ge(i,{validation:"ulid",code:Be.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ge(i,{validation:"url",code:Be.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ge(i,{validation:"regex",code:Be.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Ge(i,{code:Be.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Ge(i,{code:Be.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Ge(i,{code:Be.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?cz(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Ge(i,{code:Be.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?oz.test(e.data)||(i=this._getOrReturnCtx(e,i),Ge(i,{code:Be.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?lz(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Ge(i,{code:Be.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?ZU.test(e.data)||(i=this._getOrReturnCtx(e,i),Ge(i,{validation:"duration",code:Be.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?uz(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Ge(i,{validation:"ip",code:Be.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?dz(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Ge(i,{validation:"jwt",code:Be.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?fz(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Ge(i,{validation:"cidr",code:Be.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?az.test(e.data)||(i=this._getOrReturnCtx(e,i),Ge(i,{validation:"base64",code:Be.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?sz.test(e.data)||(i=this._getOrReturnCtx(e,i),Ge(i,{validation:"base64url",code:Be.invalid_string,message:a.message}),n.dirty()):Kt.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Be.invalid_string,...st.errToObj(n)})}_addCheck(e){return new eo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...st.errToObj(e)})}url(e){return this._addCheck({kind:"url",...st.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...st.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...st.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...st.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...st.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...st.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...st.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...st.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...st.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...st.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...st.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...st.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...st.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...st.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...st.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...st.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...st.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...st.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...st.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...st.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...st.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...st.errToObj(r)})}nonempty(e){return this.min(1,st.errToObj(e))}trim(){return new eo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new eo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new eo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}eo.create=t=>new eo({checks:[],typeName:At.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Bt(t)});function hz(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return a%s/10**i}class Ad extends qt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Qe.number){const a=this._getOrReturnCtx(e);return Ge(a,{code:Be.invalid_type,expected:Qe.number,received:a.parsedType}),Ot}let n;const i=new li;for(const a of this._def.checks)a.kind==="int"?Kt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{code:Be.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:Be.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:Be.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?hz(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:Be.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{code:Be.not_finite,message:a.message}),i.dirty()):Kt.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,st.toString(r))}gt(e,r){return this.setLimit("min",e,!1,st.toString(r))}lte(e,r){return this.setLimit("max",e,!0,st.toString(r))}lt(e,r){return this.setLimit("max",e,!1,st.toString(r))}setLimit(e,r,n,i){return new Ad({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:st.toString(i)}]})}_addCheck(e){return new Ad({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:st.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:st.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:st.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:st.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:st.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:st.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:st.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:st.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:st.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Kt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Ad.create=t=>new Ad({checks:[],typeName:At.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Bt(t)});class yp extends qt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Qe.bigint)return this._getInvalidInput(e);let n;const i=new li;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:Be.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:Be.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:Be.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Kt.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Ge(r,{code:Be.invalid_type,expected:Qe.bigint,received:r.parsedType}),Ot}gte(e,r){return this.setLimit("min",e,!0,st.toString(r))}gt(e,r){return this.setLimit("min",e,!1,st.toString(r))}lte(e,r){return this.setLimit("max",e,!0,st.toString(r))}lt(e,r){return this.setLimit("max",e,!1,st.toString(r))}setLimit(e,r,n,i){return new yp({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:st.toString(i)}]})}_addCheck(e){return new yp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:st.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:st.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:st.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:st.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:st.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}yp.create=t=>new yp({checks:[],typeName:At.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Bt(t)});class FN extends qt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Qe.boolean){const n=this._getOrReturnCtx(e);return Ge(n,{code:Be.invalid_type,expected:Qe.boolean,received:n.parsedType}),Ot}return xa(e.data)}}FN.create=t=>new FN({typeName:At.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Bt(t)});class J0 extends qt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Qe.date){const a=this._getOrReturnCtx(e);return Ge(a,{code:Be.invalid_type,expected:Qe.date,received:a.parsedType}),Ot}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Ge(a,{code:Be.invalid_date}),Ot}const n=new li;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Ge(i,{code:Be.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Ge(i,{code:Be.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Kt.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new J0({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:st.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:st.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}J0.create=t=>new J0({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:At.ZodDate,...Bt(t)});class UN extends qt{_parse(e){if(this._getType(e)!==Qe.symbol){const n=this._getOrReturnCtx(e);return Ge(n,{code:Be.invalid_type,expected:Qe.symbol,received:n.parsedType}),Ot}return xa(e.data)}}UN.create=t=>new UN({typeName:At.ZodSymbol,...Bt(t)});class zN extends qt{_parse(e){if(this._getType(e)!==Qe.undefined){const n=this._getOrReturnCtx(e);return Ge(n,{code:Be.invalid_type,expected:Qe.undefined,received:n.parsedType}),Ot}return xa(e.data)}}zN.create=t=>new zN({typeName:At.ZodUndefined,...Bt(t)});class qN extends qt{_parse(e){if(this._getType(e)!==Qe.null){const n=this._getOrReturnCtx(e);return Ge(n,{code:Be.invalid_type,expected:Qe.null,received:n.parsedType}),Ot}return xa(e.data)}}qN.create=t=>new qN({typeName:At.ZodNull,...Bt(t)});class WN extends qt{constructor(){super(...arguments),this._any=!0}_parse(e){return xa(e.data)}}WN.create=t=>new WN({typeName:At.ZodAny,...Bt(t)});class HN extends qt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return xa(e.data)}}HN.create=t=>new HN({typeName:At.ZodUnknown,...Bt(t)});class bl extends qt{_parse(e){const r=this._getOrReturnCtx(e);return Ge(r,{code:Be.invalid_type,expected:Qe.never,received:r.parsedType}),Ot}}bl.create=t=>new bl({typeName:At.ZodNever,...Bt(t)});class VN extends qt{_parse(e){if(this._getType(e)!==Qe.undefined){const n=this._getOrReturnCtx(e);return Ge(n,{code:Be.invalid_type,expected:Qe.void,received:n.parsedType}),Ot}return xa(e.data)}}VN.create=t=>new VN({typeName:At.ZodVoid,...Bt(t)});class ys extends qt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Qe.array)return Ge(r,{code:Be.invalid_type,expected:Qe.array,received:r.parsedType}),Ot;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(Ge(r,{code:s?Be.too_big:Be.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ge(r,{code:Be.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ge(r,{code:Be.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new _s(r,s,r.path,o)))).then(s=>li.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new _s(r,s,r.path,o)));return li.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new ys({...this._def,minLength:{value:e,message:st.toString(r)}})}max(e,r){return new ys({...this._def,maxLength:{value:e,message:st.toString(r)}})}length(e,r){return new ys({...this._def,exactLength:{value:e,message:st.toString(r)}})}nonempty(e){return this.min(1,e)}}ys.create=(t,e)=>new ys({type:t,minLength:null,maxLength:null,exactLength:null,typeName:At.ZodArray,...Bt(e)});function Lu(t){if(t instanceof sn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=hl.create(Lu(n))}return new sn({...t._def,shape:()=>e})}else return t instanceof ys?new ys({...t._def,type:Lu(t.element)}):t instanceof hl?hl.create(Lu(t.unwrap())):t instanceof Od?Od.create(Lu(t.unwrap())):t instanceof Dc?Dc.create(t.items.map(e=>Lu(e))):t}class sn extends qt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Kt.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Qe.object){const c=this._getOrReturnCtx(e);return Ge(c,{code:Be.invalid_type,expected:Qe.object,received:c.parsedType}),Ot}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof bl&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const l=[];for(const c of s){const u=a[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new _s(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof bl){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(Ge(i,{code:Be.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new _s(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key,p=await u.value;c.push({key:f,value:p,alwaysSet:u.alwaysSet})}return c}).then(c=>li.mergeObjectSync(n,c)):li.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return st.errToObj,new sn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:st.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new sn({...this._def,unknownKeys:"strip"})}passthrough(){return new sn({...this._def,unknownKeys:"passthrough"})}extend(e){return new sn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new sn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:At.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new sn({...this._def,catchall:e})}pick(e){const r={};for(const n of Kt.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new sn({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Kt.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new sn({...this._def,shape:()=>r})}deepPartial(){return Lu(this)}partial(e){const r={};for(const n of Kt.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new sn({...this._def,shape:()=>r})}required(e){const r={};for(const n of Kt.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof hl;)a=a._def.innerType;r[n]=a}return new sn({...this._def,shape:()=>r})}keyof(){return t8(Kt.objectKeys(this.shape))}}sn.create=(t,e)=>new sn({shape:()=>t,unknownKeys:"strip",catchall:bl.create(),typeName:At.ZodObject,...Bt(e)});sn.strictCreate=(t,e)=>new sn({shape:()=>t,unknownKeys:"strict",catchall:bl.create(),typeName:At.ZodObject,...Bt(e)});sn.lazycreate=(t,e)=>new sn({shape:t,unknownKeys:"strip",catchall:bl.create(),typeName:At.ZodObject,...Bt(e)});class Z0 extends qt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new ho(o.ctx.common.issues));return Ge(r,{code:Be.invalid_union,unionErrors:s}),Ot}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new ho(l));return Ge(r,{code:Be.invalid_union,unionErrors:o}),Ot}}get options(){return this._def.options}}Z0.create=(t,e)=>new Z0({options:t,typeName:At.ZodUnion,...Bt(e)});function G2(t,e){const r=Go(t),n=Go(e);if(t===e)return{valid:!0,data:t};if(r===Qe.object&&n===Qe.object){const i=Kt.objectKeys(e),a=Kt.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const l=G2(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(r===Qe.array&&n===Qe.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],l=G2(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===Qe.date&&n===Qe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Q0 extends qt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,s)=>{if(MN(a)||MN(s))return Ot;const o=G2(a.value,s.value);return o.valid?((DN(a)||DN(s))&&r.dirty(),{status:r.value,value:o.data}):(Ge(n,{code:Be.invalid_intersection_types}),Ot)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Q0.create=(t,e,r)=>new Q0({left:t,right:e,typeName:At.ZodIntersection,...Bt(r)});class Dc extends qt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Qe.array)return Ge(n,{code:Be.invalid_type,expected:Qe.array,received:n.parsedType}),Ot;if(n.data.length<this._def.items.length)return Ge(n,{code:Be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ot;!this._def.rest&&n.data.length>this._def.items.length&&(Ge(n,{code:Be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new _s(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>li.mergeArray(r,s)):li.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Dc({...this._def,rest:e})}}Dc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Dc({items:t,typeName:At.ZodTuple,rest:null,...Bt(e)})};class ev extends qt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Qe.object)return Ge(n,{code:Be.invalid_type,expected:Qe.object,received:n.parsedType}),Ot;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in n.data)i.push({key:a._parse(new _s(n,o,n.path,o)),value:s._parse(new _s(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?li.mergeObjectAsync(r,i):li.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof qt?new ev({keyType:e,valueType:r,typeName:At.ZodRecord,...Bt(n)}):new ev({keyType:eo.create(),valueType:e,typeName:At.ZodRecord,...Bt(r)})}}class GN extends qt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Qe.map)return Ge(n,{code:Be.invalid_type,expected:Qe.map,received:n.parsedType}),Ot;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,l],c)=>({key:i._parse(new _s(n,o,n.path,[c,"key"])),value:a._parse(new _s(n,l,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Ot;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Ot;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}}GN.create=(t,e,r)=>new GN({valueType:e,keyType:t,typeName:At.ZodMap,...Bt(r)});class bp extends qt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Qe.set)return Ge(n,{code:Be.invalid_type,expected:Qe.set,received:n.parsedType}),Ot;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ge(n,{code:Be.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ge(n,{code:Be.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Ot;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((l,c)=>a._parse(new _s(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,r){return new bp({...this._def,minSize:{value:e,message:st.toString(r)}})}max(e,r){return new bp({...this._def,maxSize:{value:e,message:st.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}bp.create=(t,e)=>new bp({valueType:t,minSize:null,maxSize:null,typeName:At.ZodSet,...Bt(e)});class KN extends qt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}KN.create=(t,e)=>new KN({getter:t,typeName:At.ZodLazy,...Bt(e)});class YN extends qt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Ge(r,{received:r.data,code:Be.invalid_literal,expected:this._def.value}),Ot}return{status:"valid",value:e.data}}get value(){return this._def.value}}YN.create=(t,e)=>new YN({value:t,typeName:At.ZodLiteral,...Bt(e)});function t8(t,e){return new Nd({values:t,typeName:At.ZodEnum,...Bt(e)})}class Nd extends qt{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Ge(r,{expected:Kt.joinValues(n),received:r.parsedType,code:Be.invalid_type}),Ot}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Ge(r,{received:r.data,code:Be.invalid_enum_value,options:n}),Ot}return xa(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Nd.create(e,{...this._def,...r})}exclude(e,r=this._def){return Nd.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Nd.create=t8;class XN extends qt{_parse(e){const r=Kt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Qe.string&&n.parsedType!==Qe.number){const i=Kt.objectValues(r);return Ge(n,{expected:Kt.joinValues(i),received:n.parsedType,code:Be.invalid_type}),Ot}if(this._cache||(this._cache=new Set(Kt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Kt.objectValues(r);return Ge(n,{received:n.data,code:Be.invalid_enum_value,options:i}),Ot}return xa(e.data)}get enum(){return this._def.values}}XN.create=(t,e)=>new XN({values:t,typeName:At.ZodNativeEnum,...Bt(e)});class tv extends qt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Qe.promise&&r.common.async===!1)return Ge(r,{code:Be.invalid_type,expected:Qe.promise,received:r.parsedType}),Ot;const n=r.parsedType===Qe.promise?r.data:Promise.resolve(r.data);return xa(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}tv.create=(t,e)=>new tv({type:t,typeName:At.ZodPromise,...Bt(e)});class kd extends qt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===At.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{Ge(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return Ot;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ot:l.status==="dirty"||r.value==="dirty"?Nh(l.value):l});{if(r.value==="aborted")return Ot;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?Ot:o.status==="dirty"||r.value==="dirty"?Nh(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Ot:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Ot:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!jd(s))return Ot;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>jd(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):Ot);Kt.assertNever(i)}}kd.create=(t,e,r)=>new kd({schema:t,typeName:At.ZodEffects,effect:e,...Bt(r)});kd.createWithPreprocess=(t,e,r)=>new kd({schema:e,effect:{type:"preprocess",transform:t},typeName:At.ZodEffects,...Bt(r)});class hl extends qt{_parse(e){return this._getType(e)===Qe.undefined?xa(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}hl.create=(t,e)=>new hl({innerType:t,typeName:At.ZodOptional,...Bt(e)});class Od extends qt{_parse(e){return this._getType(e)===Qe.null?xa(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Od.create=(t,e)=>new Od({innerType:t,typeName:At.ZodNullable,...Bt(e)});class K2 extends qt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Qe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}K2.create=(t,e)=>new K2({innerType:t,typeName:At.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Bt(e)});class Y2 extends qt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return X0(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ho(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ho(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Y2.create=(t,e)=>new Y2({innerType:t,typeName:At.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Bt(e)});class JN extends qt{_parse(e){if(this._getType(e)!==Qe.nan){const n=this._getOrReturnCtx(e);return Ge(n,{code:Be.invalid_type,expected:Qe.nan,received:n.parsedType}),Ot}return{status:"valid",value:e.data}}}JN.create=t=>new JN({typeName:At.ZodNaN,...Bt(t)});class pz extends qt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class V_ extends qt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ot:a.status==="dirty"?(r.dirty(),Nh(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ot:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new V_({in:e,out:r,typeName:At.ZodPipeline})}}class X2 extends qt{_parse(e){const r=this._def.innerType._parse(e),n=i=>(jd(i)&&(i.value=Object.freeze(i.value)),i);return X0(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}X2.create=(t,e)=>new X2({innerType:t,typeName:At.ZodReadonly,...Bt(e)});var At;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(At||(At={}));const Ut=eo.create,zs=Ad.create;bl.create;const ls=ys.create,Ca=sn.create;Z0.create;Q0.create;Dc.create;const ZN=ev.create,Fb=Nd.create;tv.create;hl.create;Od.create;const mz=Ca({id:Ut().uuid(),title:Ut(),subject:Ut(),durationMinutes:zs().min(5).max(60),difficulty:Fb(["Beginner","Intermediate","Advanced"]),patientProfile:Ca({name:Ut(),age:zs(),gender:Fb(["male","female","other"]),prakriti:Fb(["Vata","Pitta","Kapha","Sama"]),vikriti:Ut().optional(),occupation:Ut().optional()}),chiefComplaint:Ut().optional(),historyOfPresentIllness:Ut(),ashtasthanaPariksha:ZN(Ut()).optional(),doshaAnalysis:Ca({vata:zs().min(0).max(100),pitta:zs().min(0).max(100),kapha:zs().min(0).max(100)}),potentialDiagnoses:ls(Ca({dx:Ut(),confidence:zs().min(0).max(1)})),diagnosisMCQ:Ca({question:Ut(),options:ls(Ut()).length(4),answerIndex:zs().min(0).max(3),explanation:Ut().optional()}).optional(),suggestedChikitsa:Ut(),mcqs:ls(Ca({id:Ut(),question:Ut(),options:ls(Ut()),answerIndex:zs(),sloId:Ut()})),rubrics:ls(Ca({id:Ut(),description:Ut(),maxPoints:zs(),sloId:Ut()})),finalExplanation:Ut(),sloMappings:ls(Ut()),physicalExam:Ca({vitals:Ca({bp:Ut().optional(),hr:Ut().optional(),rr:Ut().optional(),temp:Ut().optional(),spo2:Ut().optional()}).optional(),generalExam:Ut().optional(),systemicExam:Ut().optional()}).optional(),availableLabTests:ls(Ca({category:Ut(),tests:ls(Ut())})).optional(),labResults:ZN(Ut()).optional(),learningPearls:ls(Ut()).optional(),furtherReading:ls(Ca({title:Ut(),reference:Ut()})).optional()});function gz({user:t}){const{stationId:e}=jy(),r=Xa(),n=bo(),[i,a]=Y.useState(null),[s,o]=Y.useState(null),[l,c]=Y.useState(!0),[u,f]=Y.useState(!1);Y.useEffect(()=>{e&&p()},[e]);const p=async()=>{var v;try{const{data:g,error:b}=await Ee.from("stations").select("*").eq("id",e).single();if(b)throw b;a(g),(v=g.blueprint)!=null&&v.generatedCase&&o(g.blueprint.generatedCase)}catch(g){console.error("Error loading station:",g)}finally{c(!1)}},h=async()=>{var v,g;if(!(!i||!s)){f(!0);try{const b=[];if(!s.physicalExam||!s.physicalExam.vitals)b.push("Physical examination vitals are missing");else{const j=s.physicalExam.vitals;(!j.bp||!j.hr||!j.rr||!j.temp||!j.spo2)&&b.push("Some vital signs are missing")}if((!((v=s.physicalExam)!=null&&v.generalExam)||s.physicalExam.generalExam.trim()==="")&&b.push("General examination findings are missing"),(!((g=s.physicalExam)!=null&&g.systemicExam)||s.physicalExam.systemicExam.trim()==="")&&b.push("Systemic examination findings are missing"),(!s.labResults||Object.keys(s.labResults).length<4)&&b.push("Lab results are missing or insufficient"),(!s.learningPearls||s.learningPearls.length<3)&&b.push("Learning pearls are missing or insufficient"),(!s.furtherReading||s.furtherReading.length<2)&&b.push("Further reading references are missing or insufficient"),b.length>0)throw new Error(`Cannot approve case with missing data:
${b.join(`
`)}

Please regenerate the case.`);const y=mz.parse(s),{data:w,error:_}=await Ee.from("case_snapshots").insert({station_id:i.id,clinical_case:y,approved_by:t.id}).select().single();if(_)throw _;r(`/assign/${w.id}`),n.success("Case approved successfully!")}catch(b){n.error("Error approving case: "+b.message)}finally{f(!1)}}};return l?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 flex items-center justify-center pb-20 md:pb-0",children:d.jsx(Sd,{className:"w-8 h-8 animate-spin text-primary-600"})}),d.jsx(Mn,{role:"faculty"}),d.jsx(yl,{toasts:n.toasts,onClose:n.removeToast})]}):!i||!s?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 p-6 pb-20 md:pb-6",children:d.jsx("p",{children:"Station not found or case not generated yet."})}),d.jsx(Mn,{role:"faculty"}),d.jsx(yl,{toasts:n.toasts,onClose:n.removeToast})]}):d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(vp,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Review Generated Case"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Overview"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),d.jsx("p",{className:"text-lg",children:s.title})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"History of Present Illness"}),d.jsx("p",{className:"text-gray-900",children:s.historyOfPresentIllness})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Patient Profile"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Name:"})," ",s.patientProfile.name]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Age:"})," ",s.patientProfile.age]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Gender:"})," ",s.patientProfile.gender]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Prakriti:"})," ",s.patientProfile.prakriti]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Suggested Chikitsa"}),d.jsx("p",{className:"text-gray-900",children:s.suggestedChikitsa})]})]})]}),s.physicalExam&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Physical Examination"}),d.jsxs("div",{className:"space-y-4",children:[s.physicalExam.vitals&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vitals"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"BP:"})," ",s.physicalExam.vitals.bp||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"HR:"})," ",s.physicalExam.vitals.hr||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"RR:"})," ",s.physicalExam.vitals.rr||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Temp:"})," ",s.physicalExam.vitals.temp||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"SpO2:"})," ",s.physicalExam.vitals.spo2||"Not recorded"]})]})]}),s.physicalExam.generalExam&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"General Examination"}),d.jsx("p",{className:"text-gray-900 mt-2",children:s.physicalExam.generalExam})]}),s.physicalExam.systemicExam&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Systemic Examination"}),d.jsx("p",{className:"text-gray-900 mt-2 whitespace-pre-wrap",children:s.physicalExam.systemicExam})]})]})]}),s.labResults&&Object.keys(s.labResults).length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Lab Results (Available)"}),d.jsxs("div",{className:"space-y-2",children:[Object.entries(s.labResults).slice(0,5).map(([v,g])=>d.jsxs("div",{className:"border rounded p-3",children:[d.jsxs("strong",{children:[v,":"]})," ",g]},v)),Object.keys(s.labResults).length>5&&d.jsxs("p",{className:"text-sm text-gray-500",children:["... and ",Object.keys(s.labResults).length-5," more tests"]})]})]}),s.learningPearls&&s.learningPearls.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Learning Pearls"}),d.jsx("ul",{className:"list-disc list-inside space-y-2",children:s.learningPearls.map((v,g)=>d.jsx("li",{className:"text-gray-900",children:v},g))})]}),s.furtherReading&&s.furtherReading.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Further Reading"}),d.jsx("div",{className:"space-y-2",children:s.furtherReading.map((v,g)=>d.jsxs("div",{className:"border rounded p-3",children:[d.jsxs("strong",{children:[v.title,":"]})," ",v.reference]},g))})]}),s.mcqs&&s.mcqs.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Multiple Choice Questions"}),d.jsx("div",{className:"space-y-4",children:s.mcqs.map((v,g)=>d.jsxs("div",{className:"border rounded p-4",children:[d.jsx("p",{className:"font-medium mb-2",children:v.question}),d.jsx("ul",{className:"list-disc list-inside space-y-1",children:v.options.map((b,y)=>d.jsx("li",{className:y===v.answerIndex?"text-green-600 font-medium":"",children:b},y))})]},g))})]}),d.jsxs("div",{className:"flex gap-4 pt-6 border-t",children:[d.jsxs("button",{onClick:h,disabled:u,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:[u?d.jsx(Sd,{className:"w-4 h-4 animate-spin"}):d.jsx(GT,{className:"w-4 h-4"}),"Approve Case"]}),d.jsxs("button",{onClick:()=>r("/create"),className:"flex items-center gap-2 px-6 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:[d.jsx(df,{className:"w-4 h-4"}),"Regenerate"]})]})]})]})}),d.jsx(Mn,{role:"faculty"})]})}function vz({user:t}){var R;const{snapshotId:e}=jy(),r=Xa(),n=bo(),[i,a]=Y.useState(null),[s,o]=Y.useState([]),[l,c]=Y.useState([]),[u,f]=Y.useState([]),[p,h]=Y.useState([]),[v,g]=Y.useState("cohort"),[b,y]=Y.useState(""),[w,_]=Y.useState(""),[j,S]=Y.useState(1),[N,P]=Y.useState(!0),[C,I]=Y.useState(!1);Y.useEffect(()=>{e&&F()},[e]);const F=async()=>{try{const{data:U,error:H}=await Ee.from("case_snapshots").select("*").eq("id",e).single();if(H)throw H;a(U);const{data:G,error:$}=await Ee.from("cohorts").select("*").order("name");if($)throw $;const X=await Promise.all((G||[]).map(async E=>{const{data:z}=await Ee.from("cohort_members").select("student_id").eq("cohort_id",E.id),V=(z||[]).map(ne=>ne.student_id);let Z=[];if(V.length>0){const{data:ne}=await Ee.from("users").select("id, name, email").in("id",V);Z=(ne||[]).map(ce=>({id:ce.id,name:ce.name,email:ce.email}))}return{...E,students:Z}}));o(X);const{data:ae,error:ie}=await Ee.from("users").select("id, name, email").eq("role","student").order("name");if(ie)throw ie;c(ae||[])}catch(U){console.error("Error loading data:",U)}finally{P(!1)}},O=async()=>{if(e){if(v==="cohort"&&u.length===0){n.warning("Please select at least one cohort");return}if(v==="student"&&p.length===0){n.warning("Please select at least one student");return}if(v==="both"&&u.length===0&&p.length===0){n.warning("Please select at least one cohort or student");return}I(!0);try{const U=[];for(const H of u)U.push({snapshot_id:e,cohort_id:H,start_at:b||null,due_at:w||null,max_attempts:j});for(const H of p){const G=l.find($=>$.id===H);if(G){let $=null;const{data:X}=await Ee.from("cohorts").select("id").eq("name",`Personal: ${G.name}`).single();if(X)$=X.id;else{const{data:ae,error:ie}=await Ee.from("cohorts").insert({name:`Personal: ${G.name}`,description:`Personal assignment cohort for ${G.name}`}).select().single();if(ie)throw ie;$=ae.id,await Ee.from("cohort_members").insert({cohort_id:$,student_id:H})}$&&U.push({snapshot_id:e,cohort_id:$,start_at:b||null,due_at:w||null,max_attempts:j})}}if(U.length>0){const{error:H}=await Ee.from("assignments").insert(U);if(H)throw H}n.success(`Successfully created ${U.length} assignment(s)!`),r("/dashboard")}catch(U){n.error("Error creating assignment: "+U.message)}finally{I(!1)}}},T=U=>{f(H=>H.includes(U)?H.filter(G=>G!==U):[...H,U])},M=U=>{h(H=>H.includes(U)?H.filter(G=>G!==U):[...H,U])};return N?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 flex items-center justify-center pb-20 md:pb-0",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),d.jsx(Mn,{role:"faculty"}),d.jsx(yl,{toasts:n.toasts,onClose:n.removeToast})]}):d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-2xl mx-auto",children:[d.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(vp,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Assign Case"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Case Title"}),d.jsx("p",{className:"text-lg font-semibold",children:((R=i==null?void 0:i.clinical_case)==null?void 0:R.title)||"Untitled Case"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Assignment Mode"}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{type:"button",onClick:()=>{g("cohort"),h([])},className:`px-4 py-2 rounded-md ${v==="cohort"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[d.jsx(vl,{className:"w-4 h-4 inline mr-2"}),"Cohorts"]}),d.jsxs("button",{type:"button",onClick:()=>{g("student"),f([])},className:`px-4 py-2 rounded-md ${v==="student"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[d.jsx(vs,{className:"w-4 h-4 inline mr-2"}),"Individual Students"]}),d.jsx("button",{type:"button",onClick:()=>g("both"),className:`px-4 py-2 rounded-md ${v==="both"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Both"})]})]}),(v==="cohort"||v==="both")&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Cohorts ",v==="cohort"&&"*"]}),d.jsx("div",{className:"border border-gray-300 rounded-md max-h-60 overflow-y-auto",children:s.length===0?d.jsx("p",{className:"p-4 text-gray-500 text-sm",children:"No cohorts available. Create cohorts first."}):s.map(U=>d.jsxs("div",{className:`p-3 border-b border-gray-200 last:border-b-0 cursor-pointer hover:bg-gray-50 ${u.includes(U.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>T(U.id),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:U.name}),U.description&&d.jsx("div",{className:"text-sm text-gray-500",children:U.description}),d.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[U.students.length," student",U.students.length!==1?"s":""]})]}),d.jsx("input",{type:"checkbox",checked:u.includes(U.id),onChange:()=>T(U.id),className:"ml-4 w-5 h-5 text-primary-600"})]}),u.includes(U.id)&&U.students.length>0&&d.jsxs("div",{className:"mt-2 ml-4 text-xs text-gray-600",children:["Students: ",U.students.map(H=>H.name).join(", ")]})]},U.id))}),u.length>0&&d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[u.length," cohort",u.length!==1?"s":""," selected"]})]}),(v==="student"||v==="both")&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Individual Students ",v==="student"&&"*"]}),d.jsx("div",{className:"border border-gray-300 rounded-md max-h-60 overflow-y-auto",children:l.length===0?d.jsx("p",{className:"p-4 text-gray-500 text-sm",children:"No students available."}):l.map(U=>d.jsx("div",{className:`p-3 border-b border-gray-200 last:border-b-0 cursor-pointer hover:bg-gray-50 ${p.includes(U.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>M(U.id),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:U.name}),d.jsx("div",{className:"text-sm text-gray-500",children:U.email})]}),d.jsx("input",{type:"checkbox",checked:p.includes(U.id),onChange:()=>M(U.id),className:"ml-4 w-5 h-5 text-primary-600"})]})},U.id))}),p.length>0&&d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[p.length," student",p.length!==1?"s":""," selected"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),d.jsx("input",{type:"datetime-local",value:b,onChange:U=>y(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),d.jsx("input",{type:"datetime-local",value:w,onChange:U=>_(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Attempts"}),d.jsx("input",{type:"number",min:"1",max:"10",value:j,onChange:U=>S(parseInt(U.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("button",{onClick:O,disabled:C||v==="cohort"&&u.length===0||v==="student"&&p.length===0||v==="both"&&u.length===0&&p.length===0,className:"w-full flex items-center justify-center gap-2 bg-primary-600 text-white px-6 py-3 rounded-md hover:bg-primary-700 disabled:opacity-50",children:[d.jsx(GT,{className:"w-5 h-5"}),C?"Assigning...":`Assign to ${u.length+p.length} ${u.length+p.length===1?"Recipient":"Recipients"}`]})]})]})}),d.jsx(Mn,{role:"faculty"}),d.jsx(yl,{toasts:n.toasts,onClose:n.removeToast})]})}function yz({user:t}){const e=Xa(),[r,n]=Y.useState([]),[i,a]=Y.useState(!0),[s,o]=Y.useState("");Y.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:u,error:f}=await Ee.from("stations").select("*").eq("created_by",t.id).order("created_at",{ascending:!1});if(f)throw f;const p=await Promise.all((u||[]).map(async h=>{const{data:v}=await Ee.from("case_snapshots").select("*").eq("station_id",h.id).order("approved_at",{ascending:!1}).limit(1).single();return{...h,snapshot:v}}));n(p)}catch(u){console.error("Error loading stations:",u)}finally{a(!1)}},c=r.filter(u=>{var f,p,h,v;return((f=u.title)==null?void 0:f.toLowerCase().includes(s.toLowerCase()))||((v=(h=(p=u.snapshot)==null?void 0:p.clinical_case)==null?void 0:h.title)==null?void 0:v.toLowerCase().includes(s.toLowerCase()))});return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Station Library"}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(H_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Search stations...",value:s,onChange:u=>o(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):c.length===0?d.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:d.jsx("p",{className:"text-gray-600",children:"No stations found"})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(u=>{var f,p,h,v;return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:((p=(f=u.snapshot)==null?void 0:f.clinical_case)==null?void 0:p.title)||u.title||"Untitled Station"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:((v=(h=u.snapshot)==null?void 0:h.clinical_case)==null?void 0:v.subject)||"No subject"}),d.jsx("div",{className:"flex items-center gap-2 mb-4",children:u.snapshot?d.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:"Approved"}):d.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:"Pending"})}),d.jsxs("div",{className:"flex gap-2",children:[u.snapshot&&d.jsxs("button",{onClick:()=>e(`/review/${u.id}`),className:"flex items-center gap-1 px-3 py-1 text-sm bg-primary-100 text-primary-700 rounded hover:bg-primary-200",children:[d.jsx(Ey,{className:"w-4 h-4"}),"View"]}),d.jsxs("button",{onClick:()=>e(`/create?edit=${u.id}`),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:[d.jsx(W_,{className:"w-4 h-4"}),"Edit"]})]})]},u.id)})})]})}),d.jsx(Mn,{role:"faculty"})]})}function r8(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=r8(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Mt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=r8(t))&&(n&&(n+=" "),n+=e);return n}var bz=Array.isArray,_i=bz,xz=typeof ig=="object"&&ig&&ig.Object===Object&&ig,n8=xz,wz=n8,_z=typeof self=="object"&&self&&self.Object===Object&&self,Sz=wz||_z||Function("return this")(),As=Sz,jz=As,Az=jz.Symbol,um=Az,QN=um,i8=Object.prototype,Nz=i8.hasOwnProperty,kz=i8.toString,ch=QN?QN.toStringTag:void 0;function Oz(t){var e=Nz.call(t,ch),r=t[ch];try{t[ch]=void 0;var n=!0}catch{}var i=kz.call(t);return n&&(e?t[ch]=r:delete t[ch]),i}var Pz=Oz,Ez=Object.prototype,Cz=Ez.toString;function Tz(t){return Cz.call(t)}var Lz=Tz,e3=um,Iz=Pz,$z=Lz,Rz="[object Null]",Mz="[object Undefined]",t3=e3?e3.toStringTag:void 0;function Dz(t){return t==null?t===void 0?Mz:Rz:t3&&t3 in Object(t)?Iz(t):$z(t)}var xo=Dz;function Bz(t){return t!=null&&typeof t=="object"}var wo=Bz,Fz=xo,Uz=wo,zz="[object Symbol]";function qz(t){return typeof t=="symbol"||Uz(t)&&Fz(t)==zz}var ff=qz,Wz=_i,Hz=ff,Vz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gz=/^\w*$/;function Kz(t,e){if(Wz(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Hz(t)?!0:Gz.test(t)||!Vz.test(t)||e!=null&&t in Object(e)}var G_=Kz;function Yz(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var kl=Yz;const hf=sr(kl);var Xz=xo,Jz=kl,Zz="[object AsyncFunction]",Qz="[object Function]",eq="[object GeneratorFunction]",tq="[object Proxy]";function rq(t){if(!Jz(t))return!1;var e=Xz(t);return e==Qz||e==eq||e==Zz||e==tq}var K_=rq;const wt=sr(K_);var nq=As,iq=nq["__core-js_shared__"],aq=iq,Ub=aq,r3=function(){var t=/[^.]+$/.exec(Ub&&Ub.keys&&Ub.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function sq(t){return!!r3&&r3 in t}var oq=sq,lq=Function.prototype,cq=lq.toString;function uq(t){if(t!=null){try{return cq.call(t)}catch{}try{return t+""}catch{}}return""}var a8=uq,dq=K_,fq=oq,hq=kl,pq=a8,mq=/[\\^$.*+?()[\]{}|]/g,gq=/^\[object .+?Constructor\]$/,vq=Function.prototype,yq=Object.prototype,bq=vq.toString,xq=yq.hasOwnProperty,wq=RegExp("^"+bq.call(xq).replace(mq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _q(t){if(!hq(t)||fq(t))return!1;var e=dq(t)?wq:gq;return e.test(pq(t))}var Sq=_q;function jq(t,e){return t==null?void 0:t[e]}var Aq=jq,Nq=Sq,kq=Aq;function Oq(t,e){var r=kq(t,e);return Nq(r)?r:void 0}var Jc=Oq,Pq=Jc,Eq=Pq(Object,"create"),Cy=Eq,n3=Cy;function Cq(){this.__data__=n3?n3(null):{},this.size=0}var Tq=Cq;function Lq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Iq=Lq,$q=Cy,Rq="__lodash_hash_undefined__",Mq=Object.prototype,Dq=Mq.hasOwnProperty;function Bq(t){var e=this.__data__;if($q){var r=e[t];return r===Rq?void 0:r}return Dq.call(e,t)?e[t]:void 0}var Fq=Bq,Uq=Cy,zq=Object.prototype,qq=zq.hasOwnProperty;function Wq(t){var e=this.__data__;return Uq?e[t]!==void 0:qq.call(e,t)}var Hq=Wq,Vq=Cy,Gq="__lodash_hash_undefined__";function Kq(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Vq&&e===void 0?Gq:e,this}var Yq=Kq,Xq=Tq,Jq=Iq,Zq=Fq,Qq=Hq,eW=Yq;function pf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pf.prototype.clear=Xq;pf.prototype.delete=Jq;pf.prototype.get=Zq;pf.prototype.has=Qq;pf.prototype.set=eW;var tW=pf;function rW(){this.__data__=[],this.size=0}var nW=rW;function iW(t,e){return t===e||t!==t&&e!==e}var Y_=iW,aW=Y_;function sW(t,e){for(var r=t.length;r--;)if(aW(t[r][0],e))return r;return-1}var Ty=sW,oW=Ty,lW=Array.prototype,cW=lW.splice;function uW(t){var e=this.__data__,r=oW(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():cW.call(e,r,1),--this.size,!0}var dW=uW,fW=Ty;function hW(t){var e=this.__data__,r=fW(e,t);return r<0?void 0:e[r][1]}var pW=hW,mW=Ty;function gW(t){return mW(this.__data__,t)>-1}var vW=gW,yW=Ty;function bW(t,e){var r=this.__data__,n=yW(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var xW=bW,wW=nW,_W=dW,SW=pW,jW=vW,AW=xW;function mf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}mf.prototype.clear=wW;mf.prototype.delete=_W;mf.prototype.get=SW;mf.prototype.has=jW;mf.prototype.set=AW;var Ly=mf,NW=Jc,kW=As,OW=NW(kW,"Map"),X_=OW,i3=tW,PW=Ly,EW=X_;function CW(){this.size=0,this.__data__={hash:new i3,map:new(EW||PW),string:new i3}}var TW=CW;function LW(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var IW=LW,$W=IW;function RW(t,e){var r=t.__data__;return $W(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Iy=RW,MW=Iy;function DW(t){var e=MW(this,t).delete(t);return this.size-=e?1:0,e}var BW=DW,FW=Iy;function UW(t){return FW(this,t).get(t)}var zW=UW,qW=Iy;function WW(t){return qW(this,t).has(t)}var HW=WW,VW=Iy;function GW(t,e){var r=VW(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var KW=GW,YW=TW,XW=BW,JW=zW,ZW=HW,QW=KW;function gf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}gf.prototype.clear=YW;gf.prototype.delete=XW;gf.prototype.get=JW;gf.prototype.has=ZW;gf.prototype.set=QW;var J_=gf,s8=J_,eH="Expected a function";function Z_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(eH);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(Z_.Cache||s8),r}Z_.Cache=s8;var o8=Z_;const tH=sr(o8);var rH=o8,nH=500;function iH(t){var e=rH(t,function(n){return r.size===nH&&r.clear(),n}),r=e.cache;return e}var aH=iH,sH=aH,oH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lH=/\\(\\)?/g,cH=sH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(oH,function(r,n,i,a){e.push(i?a.replace(lH,"$1"):n||r)}),e}),uH=cH;function dH(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Q_=dH,a3=um,fH=Q_,hH=_i,pH=ff,s3=a3?a3.prototype:void 0,o3=s3?s3.toString:void 0;function l8(t){if(typeof t=="string")return t;if(hH(t))return fH(t,l8)+"";if(pH(t))return o3?o3.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var mH=l8,gH=mH;function vH(t){return t==null?"":gH(t)}var c8=vH,yH=_i,bH=G_,xH=uH,wH=c8;function _H(t,e){return yH(t)?t:bH(t,e)?[t]:xH(wH(t))}var u8=_H,SH=ff;function jH(t){if(typeof t=="string"||SH(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var $y=jH,AH=u8,NH=$y;function kH(t,e){e=AH(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[NH(e[r++])];return r&&r==n?t:void 0}var eS=kH,OH=eS;function PH(t,e,r){var n=t==null?void 0:OH(t,e);return n===void 0?r:n}var d8=PH;const Wi=sr(d8);function EH(t){return t==null}var CH=EH;const Ct=sr(CH);var TH=xo,LH=_i,IH=wo,$H="[object String]";function RH(t){return typeof t=="string"||!LH(t)&&IH(t)&&TH(t)==$H}var MH=RH;const Bc=sr(MH);var f8={exports:{}},or={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS=Symbol.for("react.element"),rS=Symbol.for("react.portal"),Ry=Symbol.for("react.fragment"),My=Symbol.for("react.strict_mode"),Dy=Symbol.for("react.profiler"),By=Symbol.for("react.provider"),Fy=Symbol.for("react.context"),DH=Symbol.for("react.server_context"),Uy=Symbol.for("react.forward_ref"),zy=Symbol.for("react.suspense"),qy=Symbol.for("react.suspense_list"),Wy=Symbol.for("react.memo"),Hy=Symbol.for("react.lazy"),BH=Symbol.for("react.offscreen"),h8;h8=Symbol.for("react.module.reference");function wa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case tS:switch(t=t.type,t){case Ry:case Dy:case My:case zy:case qy:return t;default:switch(t=t&&t.$$typeof,t){case DH:case Fy:case Uy:case Hy:case Wy:case By:return t;default:return e}}case rS:return e}}}or.ContextConsumer=Fy;or.ContextProvider=By;or.Element=tS;or.ForwardRef=Uy;or.Fragment=Ry;or.Lazy=Hy;or.Memo=Wy;or.Portal=rS;or.Profiler=Dy;or.StrictMode=My;or.Suspense=zy;or.SuspenseList=qy;or.isAsyncMode=function(){return!1};or.isConcurrentMode=function(){return!1};or.isContextConsumer=function(t){return wa(t)===Fy};or.isContextProvider=function(t){return wa(t)===By};or.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===tS};or.isForwardRef=function(t){return wa(t)===Uy};or.isFragment=function(t){return wa(t)===Ry};or.isLazy=function(t){return wa(t)===Hy};or.isMemo=function(t){return wa(t)===Wy};or.isPortal=function(t){return wa(t)===rS};or.isProfiler=function(t){return wa(t)===Dy};or.isStrictMode=function(t){return wa(t)===My};or.isSuspense=function(t){return wa(t)===zy};or.isSuspenseList=function(t){return wa(t)===qy};or.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ry||t===Dy||t===My||t===zy||t===qy||t===BH||typeof t=="object"&&t!==null&&(t.$$typeof===Hy||t.$$typeof===Wy||t.$$typeof===By||t.$$typeof===Fy||t.$$typeof===Uy||t.$$typeof===h8||t.getModuleId!==void 0)};or.typeOf=wa;f8.exports=or;var FH=f8.exports,UH=xo,zH=wo,qH="[object Number]";function WH(t){return typeof t=="number"||zH(t)&&UH(t)==qH}var p8=WH;const HH=sr(p8);var VH=p8;function GH(t){return VH(t)&&t!=+t}var KH=GH;const dm=sr(KH);var ii=function(e){return e===0?0:e>0?1:-1},jc=function(e){return Bc(e)&&e.indexOf("%")===e.length-1},Fe=function(e){return HH(e)&&!dm(e)},YH=function(e){return Ct(e)},xn=function(e){return Fe(e)||Bc(e)},XH=0,vf=function(e){var r=++XH;return"".concat(e||"").concat(r)},ai=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Fe(e)&&!Bc(e))return n;var a;if(jc(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return dm(a)&&(a=n),i&&a>r&&(a=r),a},Zo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},JH=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Mi=function(e,r){return Fe(e)&&Fe(r)?function(n){return e+n*(r-e)}:function(){return r}};function rv(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Wi(n,e))===r})}var ZH=function(e,r){return Fe(e)&&Fe(r)?e-r:Bc(e)&&Bc(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ld(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function J2(t){"@babel/helpers - typeof";return J2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J2(t)}var QH=["viewBox","children"],eV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],l3=["points","pathLength"],zb={svg:QH,polygon:l3,polyline:l3},nS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],nv=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(Y.isValidElement(e)&&(n=e.props),!hf(n))return null;var i={};return Object.keys(n).forEach(function(a){nS.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},tV=function(e,r,n){return function(i){return e(r,n,i),null}},Fc=function(e,r,n){if(!hf(e)||J2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];nS.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=tV(s,r,n))}),i},rV=["children"],nV=["children"];function c3(t,e){if(t==null)return{};var r=iV(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Z2(t){"@babel/helpers - typeof";return Z2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z2(t)}var u3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ao=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},d3=null,qb=null,iS=function t(e){if(e===d3&&Array.isArray(qb))return qb;var r=[];return Y.Children.forEach(e,function(n){Ct(n)||(FH.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),qb=r,d3=e,r};function Hi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return ao(i)}):n=[ao(e)],iS(t).forEach(function(i){var a=Wi(i,"type.displayName")||Wi(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Ri(t,e){var r=Hi(t,e);return r&&r[0]}var f3=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Fe(n)||n<=0||!Fe(i)||i<=0)},aV=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],sV=function(e){return e&&e.type&&Bc(e.type)&&aV.indexOf(e.type)>=0},oV=function(e){return e&&Z2(e)==="object"&&"clipDot"in e},lV=function(e,r,n,i){var a,s=(a=zb==null?void 0:zb[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!wt(e)&&(i&&s.includes(r)||eV.includes(r))||n&&nS.includes(r)},pt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(Y.isValidElement(e)&&(i=e.props),!hf(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;lV((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},Q2=function t(e,r){if(e===r)return!0;var n=Y.Children.count(e);if(n!==Y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return h3(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!h3(a,s))return!1}return!0},h3=function(e,r){if(Ct(e)&&Ct(r))return!0;if(!Ct(e)&&!Ct(r)){var n=e.props||{},i=n.children,a=c3(n,rV),s=r.props||{},o=s.children,l=c3(s,nV);return i&&o?ld(a,l)&&Q2(i,o):!i&&!o?ld(a,l):!1}return!1},p3=function(e,r){var n=[],i={};return iS(e).forEach(function(a,s){if(sV(a))n.push(a);else if(a){var o=ao(a.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var f=c(a,o,s);n.push(f),i[o]=!0}}}),n},cV=function(e){var r=e&&e.type;return r&&u3[r]?u3[r]:null},uV=function(e,r){return iS(r).indexOf(e)},dV=["children","width","height","viewBox","className","style","title","desc"];function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ew.apply(this,arguments)}function fV(t,e){if(t==null)return{};var r=hV(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tw(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=fV(t,dV),u=i||{width:r,height:n,x:0,y:0},f=Mt("recharts-surface",a);return oe.createElement("svg",ew({},pt(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),oe.createElement("title",null,o),oe.createElement("desc",null,l),e)}var pV=["children","className"];function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rw.apply(this,arguments)}function mV(t,e){if(t==null)return{};var r=gV(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Yt=oe.forwardRef(function(t,e){var r=t.children,n=t.className,i=mV(t,pV),a=Mt("recharts-layer",n);return oe.createElement("g",rw({className:a},pt(i,!0),{ref:e}),r)}),Ga=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function vV(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var yV=vV,bV=yV;function xV(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:bV(t,e,r)}var wV=xV,_V="\\ud800-\\udfff",SV="\\u0300-\\u036f",jV="\\ufe20-\\ufe2f",AV="\\u20d0-\\u20ff",NV=SV+jV+AV,kV="\\ufe0e\\ufe0f",OV="\\u200d",PV=RegExp("["+OV+_V+NV+kV+"]");function EV(t){return PV.test(t)}var m8=EV;function CV(t){return t.split("")}var TV=CV,g8="\\ud800-\\udfff",LV="\\u0300-\\u036f",IV="\\ufe20-\\ufe2f",$V="\\u20d0-\\u20ff",RV=LV+IV+$V,MV="\\ufe0e\\ufe0f",DV="["+g8+"]",nw="["+RV+"]",iw="\\ud83c[\\udffb-\\udfff]",BV="(?:"+nw+"|"+iw+")",v8="[^"+g8+"]",y8="(?:\\ud83c[\\udde6-\\uddff]){2}",b8="[\\ud800-\\udbff][\\udc00-\\udfff]",FV="\\u200d",x8=BV+"?",w8="["+MV+"]?",UV="(?:"+FV+"(?:"+[v8,y8,b8].join("|")+")"+w8+x8+")*",zV=w8+x8+UV,qV="(?:"+[v8+nw+"?",nw,y8,b8,DV].join("|")+")",WV=RegExp(iw+"(?="+iw+")|"+qV+zV,"g");function HV(t){return t.match(WV)||[]}var VV=HV,GV=TV,KV=m8,YV=VV;function XV(t){return KV(t)?YV(t):GV(t)}var JV=XV,ZV=wV,QV=m8,eG=JV,tG=c8;function rG(t){return function(e){e=tG(e);var r=QV(e)?eG(e):void 0,n=r?r[0]:e.charAt(0),i=r?ZV(r,1).join(""):e.slice(1);return n[t]()+i}}var nG=rG,iG=nG,aG=iG("toUpperCase"),sG=aG;const Vy=sr(sG);function vr(t){return function(){return t}}const _8=Math.cos,iv=Math.sin,Ja=Math.sqrt,av=Math.PI,Gy=2*av,aw=Math.PI,sw=2*aw,dc=1e-6,oG=sw-dc;function S8(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function lG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return S8;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class cG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?S8:lG(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,c=i-r,u=s-e,f=o-r,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>dc)if(!(Math.abs(f*l-c*u)>dc)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-s,v=i-o,g=l*l+c*c,b=h*h+v*v,y=Math.sqrt(g),w=Math.sqrt(p),_=a*Math.tan((aw-Math.acos((g+p-b)/(2*y*w)))/2),j=_/w,S=_/y;Math.abs(j-1)>dc&&this._append`L${e+j*u},${r+j*f}`,this._append`A${a},${a},0,0,${+(f*h>u*v)},${this._x1=e+S*l},${this._y1=r+S*c}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=e+o,u=r+l,f=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>dc||Math.abs(this._y1-u)>dc)&&this._append`L${c},${u}`,n&&(p<0&&(p=p%sw+sw),p>oG?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:p>dc&&this._append`A${n},${n},0,${+(p>=aw)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function aS(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new cG(e)}function sS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function j8(t){this._context=t}j8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ky(t){return new j8(t)}function A8(t){return t[0]}function N8(t){return t[1]}function k8(t,e){var r=vr(!0),n=null,i=Ky,a=null,s=aS(o);t=typeof t=="function"?t:t===void 0?A8:vr(t),e=typeof e=="function"?e:e===void 0?N8:vr(e);function o(l){var c,u=(l=sS(l)).length,f,p=!1,h;for(n==null&&(a=i(h=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(f,c,l),+e(f,c,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:vr(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:vr(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:vr(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function Cg(t,e,r){var n=null,i=vr(!0),a=null,s=Ky,o=null,l=aS(c);t=typeof t=="function"?t:t===void 0?A8:vr(+t),e=typeof e=="function"?e:vr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?N8:vr(+r);function c(f){var p,h,v,g=(f=sS(f)).length,b,y=!1,w,_=new Array(g),j=new Array(g);for(a==null&&(o=s(w=l())),p=0;p<=g;++p){if(!(p<g&&i(b=f[p],p,f))===y)if(y=!y)h=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=p-1;v>=h;--v)o.point(_[v],j[v]);o.lineEnd(),o.areaEnd()}y&&(_[p]=+t(b,p,f),j[p]=+e(b,p,f),o.point(n?+n(b,p,f):_[p],r?+r(b,p,f):j[p]))}if(w)return o=null,w+""||null}function u(){return k8().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:vr(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:vr(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:vr(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:vr(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:vr(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:vr(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:vr(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class O8{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function uG(t){return new O8(t,!0)}function dG(t){return new O8(t,!1)}const oS={draw(t,e){const r=Ja(e/av);t.moveTo(r,0),t.arc(0,0,r,0,Gy)}},fG={draw(t,e){const r=Ja(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},P8=Ja(1/3),hG=P8*2,pG={draw(t,e){const r=Ja(e/hG),n=r*P8;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},mG={draw(t,e){const r=Ja(e),n=-r/2;t.rect(n,n,r,r)}},gG=.8908130915292852,E8=iv(av/10)/iv(7*av/10),vG=iv(Gy/10)*E8,yG=-_8(Gy/10)*E8,bG={draw(t,e){const r=Ja(e*gG),n=vG*r,i=yG*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=Gy*a/5,o=_8(s),l=iv(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},Wb=Ja(3),xG={draw(t,e){const r=-Ja(e/(Wb*3));t.moveTo(0,r*2),t.lineTo(-Wb*r,-r),t.lineTo(Wb*r,-r),t.closePath()}},aa=-.5,sa=Ja(3)/2,ow=1/Ja(12),wG=(ow/2+1)*3,_G={draw(t,e){const r=Ja(e/wG),n=r/2,i=r*ow,a=n,s=r*ow+r,o=-a,l=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(aa*n-sa*i,sa*n+aa*i),t.lineTo(aa*a-sa*s,sa*a+aa*s),t.lineTo(aa*o-sa*l,sa*o+aa*l),t.lineTo(aa*n+sa*i,aa*i-sa*n),t.lineTo(aa*a+sa*s,aa*s-sa*a),t.lineTo(aa*o+sa*l,aa*l-sa*o),t.closePath()}};function SG(t,e){let r=null,n=aS(i);t=typeof t=="function"?t:vr(t||oS),e=typeof e=="function"?e:vr(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:vr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:vr(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function sv(){}function ov(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function C8(t){this._context=t}C8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ov(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jG(t){return new C8(t)}function T8(t){this._context=t}T8.prototype={areaStart:sv,areaEnd:sv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function AG(t){return new T8(t)}function L8(t){this._context=t}L8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function NG(t){return new L8(t)}function I8(t){this._context=t}I8.prototype={areaStart:sv,areaEnd:sv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function kG(t){return new I8(t)}function m3(t){return t<0?-1:1}function g3(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(m3(a)+m3(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function v3(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Hb(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function lv(t){this._context=t}lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hb(this,this._t0,v3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Hb(this,v3(this,r=g3(this,t,e)),r);break;default:Hb(this,this._t0,r=g3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function $8(t){this._context=new R8(t)}($8.prototype=Object.create(lv.prototype)).point=function(t,e){lv.prototype.point.call(this,e,t)};function R8(t){this._context=t}R8.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function OG(t){return new lv(t)}function PG(t){return new $8(t)}function M8(t){this._context=t}M8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=y3(t),i=y3(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function y3(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function EG(t){return new M8(t)}function Yy(t,e){this._context=t,this._t=e}Yy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function CG(t){return new Yy(t,.5)}function TG(t){return new Yy(t,0)}function LG(t){return new Yy(t,1)}function Pd(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function lw(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function IG(t,e){return t[e]}function $G(t){const e=[];return e.key=t,e}function RG(){var t=vr([]),e=lw,r=Pd,n=IG;function i(a){var s=Array.from(t.apply(this,arguments),$G),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,a)]).data=f;for(o=0,u=sS(e(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:vr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:vr(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?lw:typeof a=="function"?a:vr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Pd,i):r},i}function MG(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Pd(t,e)}}function DG(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Pd(t,e)}}function BG(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],f=u[n][1]||0,p=u[n-1][1]||0,h=(f-p)/2,v=0;v<o;++v){var g=t[e[v]],b=g[n][1]||0,y=g[n-1][1]||0;h+=b-y}l+=f,c+=h*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Pd(t,e)}}function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}var FG=["type","size","sizeType"];function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cw.apply(this,arguments)}function b3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(r),!0).forEach(function(n){UG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UG(t,e,r){return e=zG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zG(t){var e=qG(t,"string");return xp(e)=="symbol"?e:e+""}function qG(t,e){if(xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WG(t,e){if(t==null)return{};var r=HG(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var D8={symbolCircle:oS,symbolCross:fG,symbolDiamond:pG,symbolSquare:mG,symbolStar:bG,symbolTriangle:xG,symbolWye:_G},VG=Math.PI/180,GG=function(e){var r="symbol".concat(Vy(e));return D8[r]||oS},KG=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*VG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},YG=function(e,r){D8["symbol".concat(Vy(e))]=r},lS=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=WG(e,FG),c=x3(x3({},l),{},{type:n,size:a,sizeType:o}),u=function(){var b=GG(n),y=SG().type(b).size(KG(a,o,n));return y()},f=c.className,p=c.cx,h=c.cy,v=pt(c,!0);return p===+p&&h===+h&&a===+a?oe.createElement("path",cw({},v,{className:Mt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:u()})):null};lS.registerSymbol=YG;function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uw.apply(this,arguments)}function w3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w3(Object(r),!0).forEach(function(n){wp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F8(n.key),n)}}function QG(t,e,r){return e&&ZG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eK(t,e,r){return e=cv(e),tK(t,B8()?Reflect.construct(e,r||[],cv(t).constructor):e.apply(t,r))}function tK(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rK(t)}function rK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B8=function(){return!!t})()}function cv(t){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cv(t)}function nK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dw(t,e)}function dw(t,e){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dw(t,e)}function wp(t,e,r){return e=F8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F8(t){var e=iK(t,"string");return Ed(e)=="symbol"?e:e+""}function iK(t,e){if(Ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oa=32,cS=function(t){function e(){return JG(this,e),eK(this,e,arguments)}return nK(e,t),QG(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=oa/2,s=oa/6,o=oa/3,l=n.inactive?i:n.color;if(n.type==="plainline")return oe.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:oa,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return oe.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(oa,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return oe.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(oa/8,"h").concat(oa,"v").concat(oa*3/4,"h").concat(-oa,"z"),className:"recharts-legend-icon"});if(oe.isValidElement(n.legendIcon)){var c=XG({},n);return delete c.legendIcon,oe.cloneElement(n.legendIcon,c)}return oe.createElement(lS,{fill:l,cx:a,cy:a,size:oa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:oa,height:oa},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,v){var g=h.formatter||l,b=Mt(wp(wp({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",h.inactive));if(h.type==="none")return null;var y=wt(h.value)?null:h.value;Ga(!wt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=h.inactive?c:h.color;return oe.createElement("li",uw({className:b,style:f,key:"legend-item-".concat(v)},Fc(n.props,h,v)),oe.createElement(tw,{width:s,height:s,viewBox:u,style:p},n.renderIcon(h)),oe.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(y,h,v):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return oe.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(Y.PureComponent);wp(cS,"displayName","Legend");wp(cS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var aK=Ly;function sK(){this.__data__=new aK,this.size=0}var oK=sK;function lK(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var cK=lK;function uK(t){return this.__data__.get(t)}var dK=uK;function fK(t){return this.__data__.has(t)}var hK=fK,pK=Ly,mK=X_,gK=J_,vK=200;function yK(t,e){var r=this.__data__;if(r instanceof pK){var n=r.__data__;if(!mK||n.length<vK-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new gK(n)}return r.set(t,e),this.size=r.size,this}var bK=yK,xK=Ly,wK=oK,_K=cK,SK=dK,jK=hK,AK=bK;function yf(t){var e=this.__data__=new xK(t);this.size=e.size}yf.prototype.clear=wK;yf.prototype.delete=_K;yf.prototype.get=SK;yf.prototype.has=jK;yf.prototype.set=AK;var U8=yf,NK="__lodash_hash_undefined__";function kK(t){return this.__data__.set(t,NK),this}var OK=kK;function PK(t){return this.__data__.has(t)}var EK=PK,CK=J_,TK=OK,LK=EK;function uv(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new CK;++e<r;)this.add(t[e])}uv.prototype.add=uv.prototype.push=TK;uv.prototype.has=LK;var z8=uv;function IK(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var q8=IK;function $K(t,e){return t.has(e)}var W8=$K,RK=z8,MK=q8,DK=W8,BK=1,FK=2;function UK(t,e,r,n,i,a){var s=r&BK,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,p=!0,h=r&FK?new RK:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var v=t[f],g=e[f];if(n)var b=s?n(g,v,f,e,t,a):n(v,g,f,t,e,a);if(b!==void 0){if(b)continue;p=!1;break}if(h){if(!MK(e,function(y,w){if(!DK(h,w)&&(v===y||i(v,y,r,n,a)))return h.push(w)})){p=!1;break}}else if(!(v===g||i(v,g,r,n,a))){p=!1;break}}return a.delete(t),a.delete(e),p}var H8=UK,zK=As,qK=zK.Uint8Array,WK=qK;function HK(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var VK=HK;function GK(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var uS=GK,_3=um,S3=WK,KK=Y_,YK=H8,XK=VK,JK=uS,ZK=1,QK=2,eY="[object Boolean]",tY="[object Date]",rY="[object Error]",nY="[object Map]",iY="[object Number]",aY="[object RegExp]",sY="[object Set]",oY="[object String]",lY="[object Symbol]",cY="[object ArrayBuffer]",uY="[object DataView]",j3=_3?_3.prototype:void 0,Vb=j3?j3.valueOf:void 0;function dY(t,e,r,n,i,a,s){switch(r){case uY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case cY:return!(t.byteLength!=e.byteLength||!a(new S3(t),new S3(e)));case eY:case tY:case iY:return KK(+t,+e);case rY:return t.name==e.name&&t.message==e.message;case aY:case oY:return t==e+"";case nY:var o=XK;case sY:var l=n&ZK;if(o||(o=JK),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;n|=QK,s.set(t,e);var u=YK(o(t),o(e),n,i,a,s);return s.delete(t),u;case lY:if(Vb)return Vb.call(t)==Vb.call(e)}return!1}var fY=dY;function hY(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var V8=hY,pY=V8,mY=_i;function gY(t,e,r){var n=e(t);return mY(t)?n:pY(n,r(t))}var vY=gY;function yY(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}var bY=yY;function xY(){return[]}var wY=xY,_Y=bY,SY=wY,jY=Object.prototype,AY=jY.propertyIsEnumerable,A3=Object.getOwnPropertySymbols,NY=A3?function(t){return t==null?[]:(t=Object(t),_Y(A3(t),function(e){return AY.call(t,e)}))}:SY,kY=NY;function OY(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var PY=OY,EY=xo,CY=wo,TY="[object Arguments]";function LY(t){return CY(t)&&EY(t)==TY}var IY=LY,N3=IY,$Y=wo,G8=Object.prototype,RY=G8.hasOwnProperty,MY=G8.propertyIsEnumerable,DY=N3(function(){return arguments}())?N3:function(t){return $Y(t)&&RY.call(t,"callee")&&!MY.call(t,"callee")},dS=DY,dv={exports:{}};function BY(){return!1}var FY=BY;dv.exports;(function(t,e){var r=As,n=FY,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;t.exports=c})(dv,dv.exports);var K8=dv.exports,UY=9007199254740991,zY=/^(?:0|[1-9]\d*)$/;function qY(t,e){var r=typeof t;return e=e??UY,!!e&&(r=="number"||r!="symbol"&&zY.test(t))&&t>-1&&t%1==0&&t<e}var fS=qY,WY=9007199254740991;function HY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=WY}var hS=HY,VY=xo,GY=hS,KY=wo,YY="[object Arguments]",XY="[object Array]",JY="[object Boolean]",ZY="[object Date]",QY="[object Error]",eX="[object Function]",tX="[object Map]",rX="[object Number]",nX="[object Object]",iX="[object RegExp]",aX="[object Set]",sX="[object String]",oX="[object WeakMap]",lX="[object ArrayBuffer]",cX="[object DataView]",uX="[object Float32Array]",dX="[object Float64Array]",fX="[object Int8Array]",hX="[object Int16Array]",pX="[object Int32Array]",mX="[object Uint8Array]",gX="[object Uint8ClampedArray]",vX="[object Uint16Array]",yX="[object Uint32Array]",_r={};_r[uX]=_r[dX]=_r[fX]=_r[hX]=_r[pX]=_r[mX]=_r[gX]=_r[vX]=_r[yX]=!0;_r[YY]=_r[XY]=_r[lX]=_r[JY]=_r[cX]=_r[ZY]=_r[QY]=_r[eX]=_r[tX]=_r[rX]=_r[nX]=_r[iX]=_r[aX]=_r[sX]=_r[oX]=!1;function bX(t){return KY(t)&&GY(t.length)&&!!_r[VY(t)]}var xX=bX;function wX(t){return function(e){return t(e)}}var Y8=wX,fv={exports:{}};fv.exports;(function(t,e){var r=n8,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(fv,fv.exports);var _X=fv.exports,SX=xX,jX=Y8,k3=_X,O3=k3&&k3.isTypedArray,AX=O3?jX(O3):SX,X8=AX,NX=PY,kX=dS,OX=_i,PX=K8,EX=fS,CX=X8,TX=Object.prototype,LX=TX.hasOwnProperty;function IX(t,e){var r=OX(t),n=!r&&kX(t),i=!r&&!n&&PX(t),a=!r&&!n&&!i&&CX(t),s=r||n||i||a,o=s?NX(t.length,String):[],l=o.length;for(var c in t)(e||LX.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||EX(c,l)))&&o.push(c);return o}var $X=IX,RX=Object.prototype;function MX(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||RX;return t===r}var DX=MX;function BX(t,e){return function(r){return t(e(r))}}var J8=BX,FX=J8,UX=FX(Object.keys,Object),zX=UX,qX=DX,WX=zX,HX=Object.prototype,VX=HX.hasOwnProperty;function GX(t){if(!qX(t))return WX(t);var e=[];for(var r in Object(t))VX.call(t,r)&&r!="constructor"&&e.push(r);return e}var KX=GX,YX=K_,XX=hS;function JX(t){return t!=null&&XX(t.length)&&!YX(t)}var fm=JX,ZX=$X,QX=KX,eJ=fm;function tJ(t){return eJ(t)?ZX(t):QX(t)}var Xy=tJ,rJ=vY,nJ=kY,iJ=Xy;function aJ(t){return rJ(t,iJ,nJ)}var sJ=aJ,P3=sJ,oJ=1,lJ=Object.prototype,cJ=lJ.hasOwnProperty;function uJ(t,e,r,n,i,a){var s=r&oJ,o=P3(t),l=o.length,c=P3(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var p=o[f];if(!(s?p in e:cJ.call(e,p)))return!1}var h=a.get(t),v=a.get(e);if(h&&v)return h==e&&v==t;var g=!0;a.set(t,e),a.set(e,t);for(var b=s;++f<l;){p=o[f];var y=t[p],w=e[p];if(n)var _=s?n(w,y,p,e,t,a):n(y,w,p,t,e,a);if(!(_===void 0?y===w||i(y,w,r,n,a):_)){g=!1;break}b||(b=p=="constructor")}if(g&&!b){var j=t.constructor,S=e.constructor;j!=S&&"constructor"in t&&"constructor"in e&&!(typeof j=="function"&&j instanceof j&&typeof S=="function"&&S instanceof S)&&(g=!1)}return a.delete(t),a.delete(e),g}var dJ=uJ,fJ=Jc,hJ=As,pJ=fJ(hJ,"DataView"),mJ=pJ,gJ=Jc,vJ=As,yJ=gJ(vJ,"Promise"),bJ=yJ,xJ=Jc,wJ=As,_J=xJ(wJ,"Set"),Z8=_J,SJ=Jc,jJ=As,AJ=SJ(jJ,"WeakMap"),NJ=AJ,fw=mJ,hw=X_,pw=bJ,mw=Z8,gw=NJ,Q8=xo,bf=a8,E3="[object Map]",kJ="[object Object]",C3="[object Promise]",T3="[object Set]",L3="[object WeakMap]",I3="[object DataView]",OJ=bf(fw),PJ=bf(hw),EJ=bf(pw),CJ=bf(mw),TJ=bf(gw),fc=Q8;(fw&&fc(new fw(new ArrayBuffer(1)))!=I3||hw&&fc(new hw)!=E3||pw&&fc(pw.resolve())!=C3||mw&&fc(new mw)!=T3||gw&&fc(new gw)!=L3)&&(fc=function(t){var e=Q8(t),r=e==kJ?t.constructor:void 0,n=r?bf(r):"";if(n)switch(n){case OJ:return I3;case PJ:return E3;case EJ:return C3;case CJ:return T3;case TJ:return L3}return e});var LJ=fc,Gb=U8,IJ=H8,$J=fY,RJ=dJ,$3=LJ,R3=_i,M3=K8,MJ=X8,DJ=1,D3="[object Arguments]",B3="[object Array]",Tg="[object Object]",BJ=Object.prototype,F3=BJ.hasOwnProperty;function FJ(t,e,r,n,i,a){var s=R3(t),o=R3(e),l=s?B3:$3(t),c=o?B3:$3(e);l=l==D3?Tg:l,c=c==D3?Tg:c;var u=l==Tg,f=c==Tg,p=l==c;if(p&&M3(t)){if(!M3(e))return!1;s=!0,u=!1}if(p&&!u)return a||(a=new Gb),s||MJ(t)?IJ(t,e,r,n,i,a):$J(t,e,l,r,n,i,a);if(!(r&DJ)){var h=u&&F3.call(t,"__wrapped__"),v=f&&F3.call(e,"__wrapped__");if(h||v){var g=h?t.value():t,b=v?e.value():e;return a||(a=new Gb),i(g,b,r,n,a)}}return p?(a||(a=new Gb),RJ(t,e,r,n,i,a)):!1}var UJ=FJ,zJ=UJ,U3=wo;function eL(t,e,r,n,i){return t===e?!0:t==null||e==null||!U3(t)&&!U3(e)?t!==t&&e!==e:zJ(t,e,r,n,eL,i)}var pS=eL,qJ=U8,WJ=pS,HJ=1,VJ=2;function GJ(t,e,r,n){var i=r.length,a=i,s=!n;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var l=o[0],c=t[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new qJ;if(n)var p=n(c,u,l,t,e,f);if(!(p===void 0?WJ(u,c,HJ|VJ,n,f):p))return!1}}return!0}var KJ=GJ,YJ=kl;function XJ(t){return t===t&&!YJ(t)}var tL=XJ,JJ=tL,ZJ=Xy;function QJ(t){for(var e=ZJ(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,JJ(i)]}return e}var eZ=QJ;function tZ(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var rL=tZ,rZ=KJ,nZ=eZ,iZ=rL;function aZ(t){var e=nZ(t);return e.length==1&&e[0][2]?iZ(e[0][0],e[0][1]):function(r){return r===t||rZ(r,t,e)}}var sZ=aZ;function oZ(t,e){return t!=null&&e in Object(t)}var lZ=oZ,cZ=u8,uZ=dS,dZ=_i,fZ=fS,hZ=hS,pZ=$y;function mZ(t,e,r){e=cZ(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=pZ(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&hZ(i)&&fZ(s,i)&&(dZ(t)||uZ(t)))}var gZ=mZ,vZ=lZ,yZ=gZ;function bZ(t,e){return t!=null&&yZ(t,e,vZ)}var xZ=bZ,wZ=pS,_Z=d8,SZ=xZ,jZ=G_,AZ=tL,NZ=rL,kZ=$y,OZ=1,PZ=2;function EZ(t,e){return jZ(t)&&AZ(e)?NZ(kZ(t),e):function(r){var n=_Z(r,t);return n===void 0&&n===e?SZ(r,t):wZ(e,n,OZ|PZ)}}var CZ=EZ;function TZ(t){return t}var xf=TZ;function LZ(t){return function(e){return e==null?void 0:e[t]}}var IZ=LZ,$Z=eS;function RZ(t){return function(e){return $Z(e,t)}}var MZ=RZ,DZ=IZ,BZ=MZ,FZ=G_,UZ=$y;function zZ(t){return FZ(t)?DZ(UZ(t)):BZ(t)}var qZ=zZ,WZ=sZ,HZ=CZ,VZ=xf,GZ=_i,KZ=qZ;function YZ(t){return typeof t=="function"?t:t==null?VZ:typeof t=="object"?GZ(t)?HZ(t[0],t[1]):WZ(t):KZ(t)}var Ns=YZ;function XZ(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var nL=XZ;function JZ(t){return t!==t}var ZZ=JZ;function QZ(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var eQ=QZ,tQ=nL,rQ=ZZ,nQ=eQ;function iQ(t,e,r){return e===e?nQ(t,e,r):tQ(t,rQ,r)}var aQ=iQ,sQ=aQ;function oQ(t,e){var r=t==null?0:t.length;return!!r&&sQ(t,e,0)>-1}var lQ=oQ;function cQ(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var uQ=cQ;function dQ(){}var fQ=dQ,Kb=Z8,hQ=fQ,pQ=uS,mQ=1/0,gQ=Kb&&1/pQ(new Kb([,-0]))[1]==mQ?function(t){return new Kb(t)}:hQ,vQ=gQ,yQ=z8,bQ=lQ,xQ=uQ,wQ=W8,_Q=vQ,SQ=uS,jQ=200;function AQ(t,e,r){var n=-1,i=bQ,a=t.length,s=!0,o=[],l=o;if(r)s=!1,i=xQ;else if(a>=jQ){var c=e?null:_Q(t);if(c)return SQ(c);s=!1,i=wQ,l=new yQ}else l=e?[]:o;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;e&&l.push(f),o.push(u)}else i(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var NQ=AQ,kQ=Ns,OQ=NQ;function PQ(t,e){return t&&t.length?OQ(t,kQ(e)):[]}var EQ=PQ;const z3=sr(EQ);function iL(t,e,r){return e===!0?z3(t,r):wt(e)?z3(t,e):t}function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}var CQ=["ref"];function q3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q3(Object(r),!0).forEach(function(n){Jy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sL(n.key),n)}}function LQ(t,e,r){return e&&W3(t.prototype,e),r&&W3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function IQ(t,e,r){return e=hv(e),$Q(t,aL()?Reflect.construct(e,r||[],hv(t).constructor):e.apply(t,r))}function $Q(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RQ(t)}function RQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aL=function(){return!!t})()}function hv(t){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hv(t)}function MQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vw(t,e)}function vw(t,e){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vw(t,e)}function Jy(t,e,r){return e=sL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sL(t){var e=DQ(t,"string");return Cd(e)=="symbol"?e:e+""}function DQ(t,e){if(Cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function BQ(t,e){if(t==null)return{};var r=FQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function UQ(t){return t.value}function zQ(t,e){if(oe.isValidElement(t))return oe.cloneElement(t,e);if(typeof t=="function")return oe.createElement(t,e);e.ref;var r=BQ(e,CQ);return oe.createElement(cS,r)}var H3=1,bs=function(t){function e(){var r;TQ(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=IQ(this,e,[].concat(i)),Jy(r,"lastBoundingBox",{width:-1,height:-1}),r}return MQ(e,t),LQ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>H3||Math.abs(i.height-this.lastBoundingBox.height)>H3)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?qs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((c||0)-h.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var v=this.getBBoxSnapshot();p={top:((u||0)-v.height)/2}}else p=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return qs(qs({},f),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=qs(qs({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return oe.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},zQ(a,qs(qs({},this.props),{},{payload:iL(u,c,UQ)})))}}],[{key:"getWithHeight",value:function(n,i){var a=qs(qs({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&Fe(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(Y.PureComponent);Jy(bs,"displayName","Legend");Jy(bs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var V3=um,qQ=dS,WQ=_i,G3=V3?V3.isConcatSpreadable:void 0;function HQ(t){return WQ(t)||qQ(t)||!!(G3&&t&&t[G3])}var VQ=HQ,GQ=V8,KQ=VQ;function oL(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=KQ),i||(i=[]);++a<s;){var o=t[a];e>0&&r(o)?e>1?oL(o,e-1,r,n,i):GQ(i,o):n||(i[i.length]=o)}return i}var lL=oL;function YQ(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++i];if(r(a[l],l,a)===!1)break}return e}}var XQ=YQ,JQ=XQ,ZQ=JQ(),QQ=ZQ,eee=QQ,tee=Xy;function ree(t,e){return t&&eee(t,e,tee)}var cL=ree,nee=fm;function iee(t,e){return function(r,n){if(r==null)return r;if(!nee(r))return t(r,n);for(var i=r.length,a=e?i:-1,s=Object(r);(e?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var aee=iee,see=cL,oee=aee,lee=oee(see),mS=lee,cee=mS,uee=fm;function dee(t,e){var r=-1,n=uee(t)?Array(t.length):[];return cee(t,function(i,a,s){n[++r]=e(i,a,s)}),n}var uL=dee;function fee(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var hee=fee,K3=ff;function pee(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=K3(t),s=e!==void 0,o=e===null,l=e===e,c=K3(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&t<e||c&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}var mee=pee,gee=mee;function vee(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var l=gee(i[n],a[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var yee=vee,Yb=Q_,bee=eS,xee=Ns,wee=uL,_ee=hee,See=Y8,jee=yee,Aee=xf,Nee=_i;function kee(t,e,r){e.length?e=Yb(e,function(a){return Nee(a)?function(s){return bee(s,a.length===1?a[0]:a)}:a}):e=[Aee];var n=-1;e=Yb(e,See(xee));var i=wee(t,function(a,s,o){var l=Yb(e,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return _ee(i,function(a,s){return jee(a,s,r)})}var Oee=kee;function Pee(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Eee=Pee,Cee=Eee,Y3=Math.max;function Tee(t,e,r){return e=Y3(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=Y3(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),Cee(t,this,o)}}var Lee=Tee;function Iee(t){return function(){return t}}var $ee=Iee,Ree=Jc,Mee=function(){try{var t=Ree(Object,"defineProperty");return t({},"",{}),t}catch{}}(),dL=Mee,Dee=$ee,X3=dL,Bee=xf,Fee=X3?function(t,e){return X3(t,"toString",{configurable:!0,enumerable:!1,value:Dee(e),writable:!0})}:Bee,Uee=Fee,zee=800,qee=16,Wee=Date.now;function Hee(t){var e=0,r=0;return function(){var n=Wee(),i=qee-(n-r);if(r=n,i>0){if(++e>=zee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Vee=Hee,Gee=Uee,Kee=Vee,Yee=Kee(Gee),Xee=Yee,Jee=xf,Zee=Lee,Qee=Xee;function ete(t,e){return Qee(Zee(t,e,Jee),t+"")}var tte=ete,rte=Y_,nte=fm,ite=fS,ate=kl;function ste(t,e,r){if(!ate(r))return!1;var n=typeof e;return(n=="number"?nte(r)&&ite(e,r.length):n=="string"&&e in r)?rte(r[e],t):!1}var Zy=ste,ote=lL,lte=Oee,cte=tte,J3=Zy,ute=cte(function(t,e){if(t==null)return[];var r=e.length;return r>1&&J3(t,e[0],e[1])?e=[]:r>2&&J3(e[0],e[1],e[2])&&(e=[e[0]]),lte(t,ote(e,1),[])}),dte=ute;const gS=sr(dte);function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yw.apply(this,arguments)}function fte(t,e){return gte(t)||mte(t,e)||pte(t,e)||hte()}function hte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pte(t,e){if(t){if(typeof t=="string")return Z3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z3(t,e)}}function Z3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function gte(t){if(Array.isArray(t))return t}function Q3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(r),!0).forEach(function(n){vte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vte(t,e,r){return e=yte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yte(t){var e=bte(t,"string");return _p(e)=="symbol"?e:e+""}function bte(t,e){if(_p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xte(t){return Array.isArray(t)&&xn(t[0])&&xn(t[1])?t.join(" ~ "):t}var wte=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,p=e.itemSorter,h=e.wrapperClassName,v=e.labelClassName,g=e.label,b=e.labelFormatter,y=e.accessibilityLayer,w=y===void 0?!1:y,_=function(){if(u&&u.length){var T={padding:0,margin:0},M=(p?gS(u,p):u).map(function(R,U){if(R.type==="none")return null;var H=Xb({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},o),G=R.formatter||f||xte,$=R.value,X=R.name,ae=$,ie=X;if(G&&ae!=null&&ie!=null){var E=G($,X,R,U,u);if(Array.isArray(E)){var z=fte(E,2);ae=z[0],ie=z[1]}else ae=E}return oe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:H},xn(ie)?oe.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,xn(ie)?oe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,oe.createElement("span",{className:"recharts-tooltip-item-value"},ae),oe.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return oe.createElement("ul",{className:"recharts-tooltip-item-list",style:T},M)}return null},j=Xb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=Xb({margin:0},c),N=!Ct(g),P=N?g:"",C=Mt("recharts-default-tooltip",h),I=Mt("recharts-tooltip-label",v);N&&b&&u!==void 0&&u!==null&&(P=b(g,u));var F=w?{role:"status","aria-live":"assertive"}:{};return oe.createElement("div",yw({className:C,style:j},F),oe.createElement("p",{className:I,style:S},oe.isValidElement(P)?P:"".concat(P)),_())};function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function Lg(t,e,r){return e=_te(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _te(t){var e=Ste(t,"string");return Sp(e)=="symbol"?e:e+""}function Ste(t,e){if(Sp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uh="recharts-tooltip-wrapper",jte={visibility:"hidden"};function Ate(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Mt(uh,Lg(Lg(Lg(Lg({},"".concat(uh,"-right"),Fe(r)&&e&&Fe(e.x)&&r>=e.x),"".concat(uh,"-left"),Fe(r)&&e&&Fe(e.x)&&r<e.x),"".concat(uh,"-bottom"),Fe(n)&&e&&Fe(e.y)&&n>=e.y),"".concat(uh,"-top"),Fe(n)&&e&&Fe(e.y)&&n<e.y))}function e4(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&Fe(a[n]))return a[n];var u=r[n]-o-i,f=r[n]+i;if(e[n])return s[n]?u:f;if(s[n]){var p=u,h=l[n];return p<h?Math.max(f,l[n]):Math.max(u,l[n])}var v=f+o,g=l[n]+c;return v>g?Math.max(u,l[n]):Math.max(f,l[n])}function Nte(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function kte(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=e4({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=e4({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=Nte({translateX:u,translateY:f,useTranslate3d:o})):c=jte,{cssProperties:c,cssClasses:Ate({translateX:u,translateY:f,coordinate:r})}}function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function t4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function r4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(r),!0).forEach(function(n){xw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ote(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hL(n.key),n)}}function Ete(t,e,r){return e&&Pte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cte(t,e,r){return e=pv(e),Tte(t,fL()?Reflect.construct(e,r||[],pv(t).constructor):e.apply(t,r))}function Tte(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lte(t)}function Lte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fL=function(){return!!t})()}function pv(t){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pv(t)}function Ite(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bw(t,e)}function bw(t,e){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bw(t,e)}function xw(t,e,r){return e=hL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hL(t){var e=$te(t,"string");return Td(e)=="symbol"?e:e+""}function $te(t,e){if(Td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var n4=1,Rte=function(t){function e(){var r;Ote(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Cte(this,e,[].concat(i)),xw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),xw(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return Ite(e,t),Ete(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>n4||Math.abs(n.height-this.state.lastBoundingBox.height)>n4)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,h=i.offset,v=i.position,g=i.reverseDirection,b=i.useTranslate3d,y=i.viewBox,w=i.wrapperStyle,_=kte({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:h,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:y}),j=_.cssClasses,S=_.cssProperties,N=r4(r4({transition:p&&a?"transform ".concat(o,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return oe.createElement("div",{tabIndex:-1,className:j,style:N,ref:function(C){n.wrapperNode=C}},c)}}])}(Y.PureComponent),Mte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Zc={isSsr:Mte()};function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function i4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function a4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i4(Object(r),!0).forEach(function(n){vS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mL(n.key),n)}}function Fte(t,e,r){return e&&Bte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ute(t,e,r){return e=mv(e),zte(t,pL()?Reflect.construct(e,r||[],mv(t).constructor):e.apply(t,r))}function zte(t,e){if(e&&(Ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qte(t)}function qte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pL=function(){return!!t})()}function mv(t){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mv(t)}function Wte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ww(t,e)}function ww(t,e){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ww(t,e)}function vS(t,e,r){return e=mL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mL(t){var e=Hte(t,"string");return Ld(e)=="symbol"?e:e+""}function Hte(t,e){if(Ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Vte(t){return t.dataKey}function Gte(t,e){return oe.isValidElement(t)?oe.cloneElement(t,e):typeof t=="function"?oe.createElement(t,e):oe.createElement(wte,e)}var pi=function(t){function e(){return Dte(this,e),Ute(this,e,arguments)}return Wte(e,t),Fte(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,p=i.isAnimationActive,h=i.offset,v=i.payload,g=i.payloadUniqBy,b=i.position,y=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,j=i.wrapperStyle,S=v??[];f&&S.length&&(S=iL(v.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),g,Vte));var N=S.length>0;return oe.createElement(Rte,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:p,active:a,coordinate:u,hasPayload:N,offset:h,position:b,reverseDirection:y,useTranslate3d:w,viewBox:_,wrapperStyle:j},Gte(c,a4(a4({},this.props),{},{payload:S})))}}])}(Y.PureComponent);vS(pi,"displayName","Tooltip");vS(pi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Zc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Kte=As,Yte=function(){return Kte.Date.now()},Xte=Yte,Jte=/\s/;function Zte(t){for(var e=t.length;e--&&Jte.test(t.charAt(e)););return e}var Qte=Zte,ere=Qte,tre=/^\s+/;function rre(t){return t&&t.slice(0,ere(t)+1).replace(tre,"")}var nre=rre,ire=nre,s4=kl,are=ff,o4=NaN,sre=/^[-+]0x[0-9a-f]+$/i,ore=/^0b[01]+$/i,lre=/^0o[0-7]+$/i,cre=parseInt;function ure(t){if(typeof t=="number")return t;if(are(t))return o4;if(s4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=s4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ire(t);var r=ore.test(t);return r||lre.test(t)?cre(t.slice(2),r?2:8):sre.test(t)?o4:+t}var gL=ure,dre=kl,Jb=Xte,l4=gL,fre="Expected a function",hre=Math.max,pre=Math.min;function mre(t,e,r){var n,i,a,s,o,l,c=0,u=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(fre);e=l4(e)||0,dre(r)&&(u=!!r.leading,f="maxWait"in r,a=f?hre(l4(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p);function h(N){var P=n,C=i;return n=i=void 0,c=N,s=t.apply(C,P),s}function v(N){return c=N,o=setTimeout(y,e),u?h(N):s}function g(N){var P=N-l,C=N-c,I=e-P;return f?pre(I,a-C):I}function b(N){var P=N-l,C=N-c;return l===void 0||P>=e||P<0||f&&C>=a}function y(){var N=Jb();if(b(N))return w(N);o=setTimeout(y,g(N))}function w(N){return o=void 0,p&&n?h(N):(n=i=void 0,s)}function _(){o!==void 0&&clearTimeout(o),c=0,n=l=i=o=void 0}function j(){return o===void 0?s:w(Jb())}function S(){var N=Jb(),P=b(N);if(n=arguments,i=this,l=N,P){if(o===void 0)return v(l);if(f)return clearTimeout(o),o=setTimeout(y,e),h(l)}return o===void 0&&(o=setTimeout(y,e)),s}return S.cancel=_,S.flush=j,S}var gre=mre,vre=gre,yre=kl,bre="Expected a function";function xre(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(bre);return yre(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),vre(t,e,{leading:n,maxWait:e,trailing:i})}var wre=xre;const vL=sr(wre);function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function c4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ig(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c4(Object(r),!0).forEach(function(n){_re(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _re(t,e,r){return e=Sre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sre(t){var e=jre(t,"string");return jp(e)=="symbol"?e:e+""}function jre(t,e){if(jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Are(t,e){return Pre(t)||Ore(t,e)||kre(t,e)||Nre()}function Nre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kre(t,e){if(t){if(typeof t=="string")return u4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u4(t,e)}}function u4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ore(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Pre(t){if(Array.isArray(t))return t}var hm=Y.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,p=t.maxHeight,h=t.children,v=t.debounce,g=v===void 0?0:v,b=t.id,y=t.className,w=t.onResize,_=t.style,j=_===void 0?{}:_,S=Y.useRef(null),N=Y.useRef();N.current=w,Y.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var P=Y.useState({containerWidth:i.width,containerHeight:i.height}),C=Are(P,2),I=C[0],F=C[1],O=Y.useCallback(function(M,R){F(function(U){var H=Math.round(M),G=Math.round(R);return U.containerWidth===H&&U.containerHeight===G?U:{containerWidth:H,containerHeight:G}})},[]);Y.useEffect(function(){var M=function(X){var ae,ie=X[0].contentRect,E=ie.width,z=ie.height;O(E,z),(ae=N.current)===null||ae===void 0||ae.call(N,E,z)};g>0&&(M=vL(M,g,{trailing:!0,leading:!1}));var R=new ResizeObserver(M),U=S.current.getBoundingClientRect(),H=U.width,G=U.height;return O(H,G),R.observe(S.current),function(){R.disconnect()}},[O,g]);var T=Y.useMemo(function(){var M=I.containerWidth,R=I.containerHeight;if(M<0||R<0)return null;Ga(jc(s)||jc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Ga(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=jc(s)?M:s,H=jc(l)?R:l;r&&r>0&&(U?H=U/r:H&&(U=H*r),p&&H>p&&(H=p)),Ga(U>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,H,s,l,u,f,r);var G=!Array.isArray(h)&&ao(h.type).endsWith("Chart");return oe.Children.map(h,function($){return oe.isValidElement($)?Y.cloneElement($,Ig({width:U,height:H},G?{style:Ig({height:"100%",width:"100%",maxHeight:H,maxWidth:U},$.props.style)}:{})):$})},[r,h,l,p,f,u,I,s]);return oe.createElement("div",{id:b?"".concat(b):void 0,className:Mt("recharts-responsive-container",y),style:Ig(Ig({},j),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:p}),ref:S},T)}),pm=function(e){return null};pm.displayName="Cell";function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function d4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _w(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d4(Object(r),!0).forEach(function(n){Ere(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ere(t,e,r){return e=Cre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cre(t){var e=Tre(t,"string");return Ap(e)=="symbol"?e:e+""}function Tre(t,e){if(Ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ju={widthCache:{},cacheCount:0},Lre=2e3,Ire={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},f4="recharts_measurement_span";function $re(t){var e=_w({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Fh=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Zc.isSsr)return{width:0,height:0};var n=$re(r),i=JSON.stringify({text:e,copyStyle:n});if(ju.widthCache[i])return ju.widthCache[i];try{var a=document.getElementById(f4);a||(a=document.createElement("span"),a.setAttribute("id",f4),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=_w(_w({},Ire),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return ju.widthCache[i]=l,++ju.cacheCount>Lre&&(ju.cacheCount=0,ju.widthCache={}),l}catch{return{width:0,height:0}}},Rre=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function gv(t,e){return Fre(t)||Bre(t,e)||Dre(t,e)||Mre()}function Mre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dre(t,e){if(t){if(typeof t=="string")return h4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h4(t,e)}}function h4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Fre(t){if(Array.isArray(t))return t}function Ure(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qre(n.key),n)}}function zre(t,e,r){return e&&p4(t.prototype,e),r&&p4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qre(t){var e=Wre(t,"string");return Np(e)=="symbol"?e:e+""}function Wre(t,e){if(Np(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var m4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,g4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Vre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Gre=Object.keys(yL),Ku="NaN";function Kre(t,e){return t*yL[e]}var $g=function(){function t(e,r){Ure(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Hre.test(r)&&(this.num=NaN,this.unit=""),Gre.includes(r)&&(this.num=Kre(e,r),this.unit="px")}return zre(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Vre.exec(r))!==null&&n!==void 0?n:[],a=gv(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function bL(t){if(t.includes(Ku))return Ku;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=m4.exec(e))!==null&&r!==void 0?r:[],i=gv(n,4),a=i[1],s=i[2],o=i[3],l=$g.parse(a??""),c=$g.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Ku;e=e.replace(m4,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=g4.exec(e))!==null&&f!==void 0?f:[],h=gv(p,4),v=h[1],g=h[2],b=h[3],y=$g.parse(v??""),w=$g.parse(b??""),_=g==="+"?y.add(w):y.subtract(w);if(_.isNaN())return Ku;e=e.replace(g4,_.toString())}return e}var v4=/\(([^()]*)\)/;function Yre(t){for(var e=t;e.includes("(");){var r=v4.exec(e),n=gv(r,2),i=n[1];e=e.replace(v4,bL(i))}return e}function Xre(t){var e=t.replace(/\s+/g,"");return e=Yre(e),e=bL(e),e}function Jre(t){try{return Xre(t)}catch{return Ku}}function Zb(t){var e=Jre(t.slice(5,-1));return e===Ku?"":e}var Zre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Qre=["dx","dy","angle","className","breakAll"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sw.apply(this,arguments)}function y4(t,e){if(t==null)return{};var r=ene(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ene(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function b4(t,e){return ine(t)||nne(t,e)||rne(t,e)||tne()}function tne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rne(t,e){if(t){if(typeof t=="string")return x4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x4(t,e)}}function x4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function ine(t){if(Array.isArray(t))return t}var xL=/[ \f\n\r\t\v\u2028\u2029]+/,wL=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Ct(r)||(n?a=r.toString().split(""):a=r.toString().split(xL));var s=a.map(function(l){return{word:l,width:Fh(l,i).width}}),o=n?0:Fh("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},ane=function(e,r,n,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=Fe(s),f=o,p=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(H,G){var $=G.word,X=G.width,ae=H[H.length-1];if(ae&&(i==null||a||ae.width+X+n<Number(i)))ae.words.push($),ae.width+=X+n;else{var ie={words:[$],width:X};H.push(ie)}return H},[])},h=p(r),v=function(U){return U.reduce(function(H,G){return H.width>G.width?H:G})};if(!u)return h;for(var g="",b=function(U){var H=f.slice(0,U),G=wL({breakAll:c,style:l,children:H+g}).wordsWithComputedWidth,$=p(G),X=$.length>s||v($).width>Number(i);return[X,$]},y=0,w=f.length-1,_=0,j;y<=w&&_<=f.length-1;){var S=Math.floor((y+w)/2),N=S-1,P=b(N),C=b4(P,2),I=C[0],F=C[1],O=b(S),T=b4(O,1),M=T[0];if(!I&&!M&&(y=S+1),I&&M&&(w=S-1),!I&&M){j=F;break}_++}return j||h},w4=function(e){var r=Ct(e)?[]:e.toString().split(xL);return[{words:r}]},sne=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!Zc.isSsr){var l,c,u=wL({breakAll:s,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,p=u.spaceWidth;l=f,c=p}else return w4(i);return ane({breakAll:s,children:i,maxLines:o,style:a},l,c,r,n)}return w4(i)},_4="#808080",Uc=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,p=e.textAnchor,h=p===void 0?"start":p,v=e.verticalAnchor,g=v===void 0?"end":v,b=e.fill,y=b===void 0?_4:b,w=y4(e,Zre),_=Y.useMemo(function(){return sne({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),j=w.dx,S=w.dy,N=w.angle,P=w.className,C=w.breakAll,I=y4(w,Qre);if(!xn(n)||!xn(a))return null;var F=n+(Fe(j)?j:0),O=a+(Fe(S)?S:0),T;switch(g){case"start":T=Zb("calc(".concat(c,")"));break;case"middle":T=Zb("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:T=Zb("calc(".concat(_.length-1," * -").concat(o,")"));break}var M=[];if(f){var R=_[0].width,U=w.width;M.push("scale(".concat((Fe(U)?U/R:1)/R,")"))}return N&&M.push("rotate(".concat(N,", ").concat(F,", ").concat(O,")")),M.length&&(I.transform=M.join(" ")),oe.createElement("text",Sw({},pt(I,!0),{x:F,y:O,className:Mt("recharts-text",P),textAnchor:h,fill:y.includes("url")?_4:y}),_.map(function(H,G){var $=H.words.join(C?"":" ");return oe.createElement("tspan",{x:F,dy:G===0?T:o,key:"".concat($,"-").concat(G)},$)}))};function pl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function one(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yS(t){let e,r,n;t.length!==2?(e=pl,r=(o,l)=>pl(t(o),l),n=(o,l)=>t(o)-l):(e=t===pl||t===one?t:lne,r=t,n=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function lne(){return 0}function _L(t){return t===null?NaN:+t}function*cne(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const une=yS(pl),mm=une.right;yS(_L).center;class S4 extends Map{constructor(e,r=hne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(j4(this,e))}has(e){return super.has(j4(this,e))}set(e,r){return super.set(dne(this,e),r)}delete(e){return super.delete(fne(this,e))}}function j4({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function dne({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function fne({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function hne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function pne(t=pl){if(t===pl)return SL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function SL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const mne=Math.sqrt(50),gne=Math.sqrt(10),vne=Math.sqrt(2);function vv(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=mne?10:a>=gne?5:a>=vne?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=r&&r<2?vv(t,e,r*2):[o,l,c]}function jw(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?vv(e,t,r):vv(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function Aw(t,e,r){return e=+e,t=+t,r=+r,vv(t,e,r)[2]}function Nw(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Aw(e,t,r):Aw(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function A4(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function N4(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function jL(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?SL:pne(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(e-c*f/l+p)),v=Math.min(n,Math.floor(e+(l-c)*f/l+p));jL(t,e,h,v,i)}const a=t[e];let s=r,o=n;for(dh(t,r,e),i(t[n],a)>0&&dh(t,r,n);s<o;){for(dh(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?dh(t,r,o):(++o,dh(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function dh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function yne(t,e,r){if(t=Float64Array.from(cne(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return N4(t);if(e>=1)return A4(t);var n,i=(n-1)*e,a=Math.floor(i),s=A4(jL(t,a).subarray(0,a+1)),o=N4(t.subarray(a+1));return s+(o-s)*(i-a)}}function bne(t,e,r=_L){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function xne(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function _a(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function _o(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const kw=Symbol("implicit");function bS(){var t=new S4,e=[],r=[],n=kw;function i(a){let s=t.get(a);if(s===void 0){if(n!==kw)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new S4;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return bS(e,r).unknown(n)},_a.apply(i,arguments),i}function kp(){var t=bS().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var p=e().length,h=i<n,v=h?i:n,g=h?n:i;a=(g-v)/Math.max(1,p-l+c*2),o&&(a=Math.floor(a)),v+=(g-v-a*(p-l))*u,s=a*(1-l),o&&(v=Math.round(v),s=Math.round(s));var b=xne(p).map(function(y){return v+a*y});return r(h?b.reverse():b)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(p){return arguments.length?(o=!!p,f()):o},t.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},t.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},t.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},t.copy=function(){return kp(e(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},_a.apply(f(),arguments)}function AL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return AL(e())},t}function Uh(){return AL(kp.apply(null,arguments).paddingInner(1))}function xS(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function NL(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function gm(){}var Op=.7,yv=1/Op,cd="\\s*([+-]?\\d+)\\s*",Pp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wne=/^#([0-9a-f]{3,8})$/,_ne=new RegExp(`^rgb\\(${cd},${cd},${cd}\\)$`),Sne=new RegExp(`^rgb\\(${xs},${xs},${xs}\\)$`),jne=new RegExp(`^rgba\\(${cd},${cd},${cd},${Pp}\\)$`),Ane=new RegExp(`^rgba\\(${xs},${xs},${xs},${Pp}\\)$`),Nne=new RegExp(`^hsl\\(${Pp},${xs},${xs}\\)$`),kne=new RegExp(`^hsla\\(${Pp},${xs},${xs},${Pp}\\)$`),k4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xS(gm,Ep,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:O4,formatHex:O4,formatHex8:One,formatHsl:Pne,formatRgb:P4,toString:P4});function O4(){return this.rgb().formatHex()}function One(){return this.rgb().formatHex8()}function Pne(){return kL(this).formatHsl()}function P4(){return this.rgb().formatRgb()}function Ep(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=wne.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?E4(e):r===3?new vi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Rg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Rg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_ne.exec(t))?new vi(e[1],e[2],e[3],1):(e=Sne.exec(t))?new vi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=jne.exec(t))?Rg(e[1],e[2],e[3],e[4]):(e=Ane.exec(t))?Rg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Nne.exec(t))?L4(e[1],e[2]/100,e[3]/100,1):(e=kne.exec(t))?L4(e[1],e[2]/100,e[3]/100,e[4]):k4.hasOwnProperty(t)?E4(k4[t]):t==="transparent"?new vi(NaN,NaN,NaN,0):null}function E4(t){return new vi(t>>16&255,t>>8&255,t&255,1)}function Rg(t,e,r,n){return n<=0&&(t=e=r=NaN),new vi(t,e,r,n)}function Ene(t){return t instanceof gm||(t=Ep(t)),t?(t=t.rgb(),new vi(t.r,t.g,t.b,t.opacity)):new vi}function Ow(t,e,r,n){return arguments.length===1?Ene(t):new vi(t,e,r,n??1)}function vi(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}xS(vi,Ow,NL(gm,{brighter(t){return t=t==null?yv:Math.pow(yv,t),new vi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Op:Math.pow(Op,t),new vi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vi(Ec(this.r),Ec(this.g),Ec(this.b),bv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C4,formatHex:C4,formatHex8:Cne,formatRgb:T4,toString:T4}));function C4(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}`}function Cne(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}${Ac((isNaN(this.opacity)?1:this.opacity)*255)}`}function T4(){const t=bv(this.opacity);return`${t===1?"rgb(":"rgba("}${Ec(this.r)}, ${Ec(this.g)}, ${Ec(this.b)}${t===1?")":`, ${t})`}`}function bv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ec(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ac(t){return t=Ec(t),(t<16?"0":"")+t.toString(16)}function L4(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new za(t,e,r,n)}function kL(t){if(t instanceof za)return new za(t.h,t.s,t.l,t.opacity);if(t instanceof gm||(t=Ep(t)),!t)return new za;if(t instanceof za)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new za(s,o,l,t.opacity)}function Tne(t,e,r,n){return arguments.length===1?kL(t):new za(t,e,r,n??1)}function za(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}xS(za,Tne,NL(gm,{brighter(t){return t=t==null?yv:Math.pow(yv,t),new za(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Op:Math.pow(Op,t),new za(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new vi(Qb(t>=240?t-240:t+120,i,n),Qb(t,i,n),Qb(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new za(I4(this.h),Mg(this.s),Mg(this.l),bv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=bv(this.opacity);return`${t===1?"hsl(":"hsla("}${I4(this.h)}, ${Mg(this.s)*100}%, ${Mg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function I4(t){return t=(t||0)%360,t<0?t+360:t}function Mg(t){return Math.max(0,Math.min(1,t||0))}function Qb(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const wS=t=>()=>t;function Lne(t,e){return function(r){return t+r*e}}function Ine(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function $ne(t){return(t=+t)==1?OL:function(e,r){return r-e?Ine(e,r,t):wS(isNaN(e)?r:e)}}function OL(t,e){var r=e-t;return r?Lne(t,r):wS(isNaN(t)?e:t)}const $4=function t(e){var r=$ne(e);function n(i,a){var s=r((i=Ow(i)).r,(a=Ow(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),c=OL(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function Rne(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Mne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Dne(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=wf(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function Bne(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function xv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Fne(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=wf(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Pw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ex=new RegExp(Pw.source,"g");function Une(t){return function(){return t}}function zne(t){return function(e){return t(e)+""}}function qne(t,e){var r=Pw.lastIndex=ex.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=Pw.exec(t))&&(i=ex.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:xv(n,i)})),r=ex.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?zne(l[0].x):Une(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function wf(t,e){var r=typeof e,n;return e==null||r==="boolean"?wS(e):(r==="number"?xv:r==="string"?(n=Ep(e))?(e=n,$4):qne:e instanceof Ep?$4:e instanceof Date?Bne:Mne(e)?Rne:Array.isArray(e)?Dne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Fne:xv)(t,e)}function _S(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Wne(t,e){e===void 0&&(e=t,t=wf);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function Hne(t){return function(){return t}}function wv(t){return+t}var R4=[0,1];function si(t){return t}function Ew(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Hne(isNaN(e)?NaN:.5)}function Vne(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Gne(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=Ew(i,n),a=r(s,a)):(n=Ew(n,i),a=r(a,s)),function(o){return a(n(o))}}function Kne(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=Ew(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=mm(t,o,1,n)-1;return a[l](i[l](o))}}function vm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Qy(){var t=R4,e=R4,r=wf,n,i,a,s=si,o,l,c;function u(){var p=Math.min(t.length,e.length);return s!==si&&(s=Vne(t[0],t[p-1])),o=p>2?Kne:Gne,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=o(t.map(n),e,r)))(n(s(p)))}return f.invert=function(p){return s(i((c||(c=o(e,t.map(n),xv)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,wv),u()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),u()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),r=_S,u()},f.clamp=function(p){return arguments.length?(s=p?!0:si,u()):s!==si},f.interpolate=function(p){return arguments.length?(r=p,u()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,h){return n=p,i=h,u()}}function SS(){return Qy()(si,si)}function Yne(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function _v(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Id(t){return t=_v(Math.abs(t)),t?t[1]:NaN}function Xne(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Jne(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Zne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cp(t){if(!(e=Zne.exec(t)))throw new Error("invalid format: "+t);var e;return new jS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Cp.prototype=jS.prototype;function jS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}jS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Qne(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var PL;function eie(t,e){var r=_v(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(PL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+_v(t,Math.max(0,e+a-1))[0]}function M4(t,e){var r=_v(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const D4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Yne,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>M4(t*100,e),r:M4,s:eie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function B4(t){return t}var F4=Array.prototype.map,U4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tie(t){var e=t.grouping===void 0||t.thousands===void 0?B4:Xne(F4.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?B4:Jne(F4.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Cp(f);var p=f.fill,h=f.align,v=f.sign,g=f.symbol,b=f.zero,y=f.width,w=f.comma,_=f.precision,j=f.trim,S=f.type;S==="n"?(w=!0,S="g"):D4[S]||(_===void 0&&(_=12),j=!0,S="g"),(b||p==="0"&&h==="=")&&(b=!0,p="0",h="=");var N=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",P=g==="$"?n:/[%p]/.test(S)?s:"",C=D4[S],I=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function F(O){var T=N,M=P,R,U,H;if(S==="c")M=C(O)+M,O="";else{O=+O;var G=O<0||1/O<0;if(O=isNaN(O)?l:C(Math.abs(O),_),j&&(O=Qne(O)),G&&+O==0&&v!=="+"&&(G=!1),T=(G?v==="("?v:o:v==="-"||v==="("?"":v)+T,M=(S==="s"?U4[8+PL/3]:"")+M+(G&&v==="("?")":""),I){for(R=-1,U=O.length;++R<U;)if(H=O.charCodeAt(R),48>H||H>57){M=(H===46?i+O.slice(R+1):O.slice(R))+M,O=O.slice(0,R);break}}}w&&!b&&(O=e(O,1/0));var $=T.length+O.length+M.length,X=$<y?new Array(y-$+1).join(p):"";switch(w&&b&&(O=e(X+O,X.length?y-M.length:1/0),X=""),h){case"<":O=T+O+M+X;break;case"=":O=T+X+O+M;break;case"^":O=X.slice(0,$=X.length>>1)+T+O+M+X.slice($);break;default:O=X+T+O+M;break}return a(O)}return F.toString=function(){return f+""},F}function u(f,p){var h=c((f=Cp(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Id(p)/3)))*3,g=Math.pow(10,-v),b=U4[8+v/3];return function(y){return h(g*y)+b}}return{format:c,formatPrefix:u}}var Dg,AS,EL;rie({thousands:",",grouping:[3],currency:["$",""]});function rie(t){return Dg=tie(t),AS=Dg.format,EL=Dg.formatPrefix,Dg}function nie(t){return Math.max(0,-Id(Math.abs(t)))}function iie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Id(e)/3)))*3-Id(Math.abs(t)))}function aie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Id(e)-Id(t))+1}function CL(t,e,r,n){var i=Nw(t,e,r),a;switch(n=Cp(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=iie(i,s))&&(n.precision=a),EL(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=aie(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=nie(i))&&(n.precision=a-(n.type==="%")*2);break}}return AS(n)}function Ol(t){var e=t.domain;return t.ticks=function(r){var n=e();return jw(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return CL(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=Aw(s,o,r),c===l)return n[i]=s,n[a]=o,e(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function Sv(){var t=SS();return t.copy=function(){return vm(t,Sv())},_a.apply(t,arguments),Ol(t)}function TL(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,wv),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return TL(t).unknown(e)},t=arguments.length?Array.from(t,wv):[0,1],Ol(r)}function LL(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function z4(t){return Math.log(t)}function q4(t){return Math.exp(t)}function sie(t){return-Math.log(-t)}function oie(t){return-Math.exp(-t)}function lie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function cie(t){return t===10?lie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function uie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function W4(t){return(e,r)=>-t(-e,r)}function NS(t){const e=t(z4,q4),r=e.domain;let n=10,i,a;function s(){return i=uie(n),a=cie(n),r()[0]<0?(i=W4(i),a=W4(a),t(sie,oie)):t(z4,q4),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let p=i(c),h=i(u),v,g;const b=o==null?10:+o;let y=[];if(!(n%1)&&h-p<b){if(p=Math.floor(p),h=Math.ceil(h),c>0){for(;p<=h;++p)for(v=1;v<n;++v)if(g=p<0?v/a(-p):v*a(p),!(g<c)){if(g>u)break;y.push(g)}}else for(;p<=h;++p)for(v=n-1;v>=1;--v)if(g=p>0?v/a(-p):v*a(p),!(g<c)){if(g>u)break;y.push(g)}y.length*2<b&&(y=jw(c,u,b))}else y=jw(p,h,Math.min(h-p,b)).map(a);return f?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Cp(l)).precision==null&&(l.trim=!0),l=AS(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},e.nice=()=>r(LL(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function IL(){const t=NS(Qy()).domain([1,10]);return t.copy=()=>vm(t,IL()).base(t.base()),_a.apply(t,arguments),t}function H4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function V4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function kS(t){var e=1,r=t(H4(e),V4(e));return r.constant=function(n){return arguments.length?t(H4(e=+n),V4(e)):e},Ol(r)}function $L(){var t=kS(Qy());return t.copy=function(){return vm(t,$L()).constant(t.constant())},_a.apply(t,arguments)}function G4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function die(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function fie(t){return t<0?-t*t:t*t}function OS(t){var e=t(si,si),r=1;function n(){return r===1?t(si,si):r===.5?t(die,fie):t(G4(r),G4(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ol(e)}function PS(){var t=OS(Qy());return t.copy=function(){return vm(t,PS()).exponent(t.exponent())},_a.apply(t,arguments),t}function hie(){return PS.apply(null,arguments).exponent(.5)}function K4(t){return Math.sign(t)*t*t}function pie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function RL(){var t=SS(),e=[0,1],r=!1,n;function i(a){var s=pie(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(K4(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,wv)).map(K4)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return RL(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},_a.apply(i,arguments),Ol(i)}function ML(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=bne(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[mm(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(pl),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return ML().domain(t).range(e).unknown(n)},_a.apply(a,arguments)}function DL(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[mm(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return DL().domain([t,e]).range(i).unknown(a)},_a.apply(Ol(s),arguments)}function BL(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[mm(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return BL().domain(t).range(e).unknown(r)},_a.apply(i,arguments)}const tx=new Date,rx=new Date;function wn(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>wn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(tx.setTime(+a),rx.setTime(+s),t(tx),t(rx),Math.floor(r(tx,rx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const jv=wn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);jv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?wn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):jv);jv.range;const to=1e3,pa=to*60,ro=pa*60,po=ro*24,ES=po*7,Y4=po*30,nx=po*365,Nc=wn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*to)},(t,e)=>(e-t)/to,t=>t.getUTCSeconds());Nc.range;const CS=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*to)},(t,e)=>{t.setTime(+t+e*pa)},(t,e)=>(e-t)/pa,t=>t.getMinutes());CS.range;const TS=wn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*pa)},(t,e)=>(e-t)/pa,t=>t.getUTCMinutes());TS.range;const LS=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*to-t.getMinutes()*pa)},(t,e)=>{t.setTime(+t+e*ro)},(t,e)=>(e-t)/ro,t=>t.getHours());LS.range;const IS=wn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ro)},(t,e)=>(e-t)/ro,t=>t.getUTCHours());IS.range;const ym=wn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*pa)/po,t=>t.getDate()-1);ym.range;const e1=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/po,t=>t.getUTCDate()-1);e1.range;const FL=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/po,t=>Math.floor(t/po));FL.range;function Qc(t){return wn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*pa)/ES)}const t1=Qc(0),Av=Qc(1),mie=Qc(2),gie=Qc(3),$d=Qc(4),vie=Qc(5),yie=Qc(6);t1.range;Av.range;mie.range;gie.range;$d.range;vie.range;yie.range;function eu(t){return wn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/ES)}const r1=eu(0),Nv=eu(1),bie=eu(2),xie=eu(3),Rd=eu(4),wie=eu(5),_ie=eu(6);r1.range;Nv.range;bie.range;xie.range;Rd.range;wie.range;_ie.range;const $S=wn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());$S.range;const RS=wn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());RS.range;const mo=wn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());mo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});mo.range;const go=wn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());go.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});go.range;function UL(t,e,r,n,i,a){const s=[[Nc,1,to],[Nc,5,5*to],[Nc,15,15*to],[Nc,30,30*to],[a,1,pa],[a,5,5*pa],[a,15,15*pa],[a,30,30*pa],[i,1,ro],[i,3,3*ro],[i,6,6*ro],[i,12,12*ro],[n,1,po],[n,2,2*po],[r,1,ES],[e,1,Y4],[e,3,3*Y4],[t,1,nx]];function o(c,u,f){const p=u<c;p&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),v=h?h.range(c,+u+1):[];return p?v.reverse():v}function l(c,u,f){const p=Math.abs(u-c)/f,h=yS(([,,b])=>b).right(s,p);if(h===s.length)return t.every(Nw(c/nx,u/nx,f));if(h===0)return jv.every(Math.max(Nw(c,u,f),1));const[v,g]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return v.every(g)}return[o,l]}const[Sie,jie]=UL(go,RS,r1,FL,IS,TS),[Aie,Nie]=UL(mo,$S,t1,ym,LS,CS);function ix(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ax(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function fh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function kie(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=hh(i),u=ph(i),f=hh(a),p=ph(a),h=hh(s),v=ph(s),g=hh(o),b=ph(o),y=hh(l),w=ph(l),_={a:G,A:$,b:X,B:ae,c:null,d:tk,e:tk,f:Xie,g:sae,G:lae,H:Gie,I:Kie,j:Yie,L:zL,m:Jie,M:Zie,p:ie,q:E,Q:ik,s:ak,S:Qie,u:eae,U:tae,V:rae,w:nae,W:iae,x:null,X:null,y:aae,Y:oae,Z:cae,"%":nk},j={a:z,A:V,b:Z,B:ne,c:null,d:rk,e:rk,f:hae,g:Sae,G:Aae,H:uae,I:dae,j:fae,L:WL,m:pae,M:mae,p:ce,q:ve,Q:ik,s:ak,S:gae,u:vae,U:yae,V:bae,w:xae,W:wae,x:null,X:null,y:_ae,Y:jae,Z:Nae,"%":nk},S={a:F,A:O,b:T,B:M,c:R,d:Q4,e:Q4,f:qie,g:Z4,G:J4,H:ek,I:ek,j:Bie,L:zie,m:Die,M:Fie,p:I,q:Mie,Q:Hie,s:Vie,S:Uie,u:Tie,U:Lie,V:Iie,w:Cie,W:$ie,x:U,X:H,y:Z4,Y:J4,Z:Rie,"%":Wie};_.x=N(r,_),_.X=N(n,_),_.c=N(e,_),j.x=N(r,j),j.X=N(n,j),j.c=N(e,j);function N(se,ge){return function(_e){var he=[],$e=-1,pe=0,Q=se.length,et,tt,Ke;for(_e instanceof Date||(_e=new Date(+_e));++$e<Q;)se.charCodeAt($e)===37&&(he.push(se.slice(pe,$e)),(tt=X4[et=se.charAt(++$e)])!=null?et=se.charAt(++$e):tt=et==="e"?" ":"0",(Ke=ge[et])&&(et=Ke(_e,tt)),he.push(et),pe=$e+1);return he.push(se.slice(pe,$e)),he.join("")}}function P(se,ge){return function(_e){var he=fh(1900,void 0,1),$e=C(he,se,_e+="",0),pe,Q;if($e!=_e.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(ge&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(pe=ax(fh(he.y,0,1)),Q=pe.getUTCDay(),pe=Q>4||Q===0?Nv.ceil(pe):Nv(pe),pe=e1.offset(pe,(he.V-1)*7),he.y=pe.getUTCFullYear(),he.m=pe.getUTCMonth(),he.d=pe.getUTCDate()+(he.w+6)%7):(pe=ix(fh(he.y,0,1)),Q=pe.getDay(),pe=Q>4||Q===0?Av.ceil(pe):Av(pe),pe=ym.offset(pe,(he.V-1)*7),he.y=pe.getFullYear(),he.m=pe.getMonth(),he.d=pe.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Q="Z"in he?ax(fh(he.y,0,1)).getUTCDay():ix(fh(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Q+5)%7:he.w+he.U*7-(Q+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,ax(he)):ix(he)}}function C(se,ge,_e,he){for(var $e=0,pe=ge.length,Q=_e.length,et,tt;$e<pe;){if(he>=Q)return-1;if(et=ge.charCodeAt($e++),et===37){if(et=ge.charAt($e++),tt=S[et in X4?ge.charAt($e++):et],!tt||(he=tt(se,_e,he))<0)return-1}else if(et!=_e.charCodeAt(he++))return-1}return he}function I(se,ge,_e){var he=c.exec(ge.slice(_e));return he?(se.p=u.get(he[0].toLowerCase()),_e+he[0].length):-1}function F(se,ge,_e){var he=h.exec(ge.slice(_e));return he?(se.w=v.get(he[0].toLowerCase()),_e+he[0].length):-1}function O(se,ge,_e){var he=f.exec(ge.slice(_e));return he?(se.w=p.get(he[0].toLowerCase()),_e+he[0].length):-1}function T(se,ge,_e){var he=y.exec(ge.slice(_e));return he?(se.m=w.get(he[0].toLowerCase()),_e+he[0].length):-1}function M(se,ge,_e){var he=g.exec(ge.slice(_e));return he?(se.m=b.get(he[0].toLowerCase()),_e+he[0].length):-1}function R(se,ge,_e){return C(se,e,ge,_e)}function U(se,ge,_e){return C(se,r,ge,_e)}function H(se,ge,_e){return C(se,n,ge,_e)}function G(se){return s[se.getDay()]}function $(se){return a[se.getDay()]}function X(se){return l[se.getMonth()]}function ae(se){return o[se.getMonth()]}function ie(se){return i[+(se.getHours()>=12)]}function E(se){return 1+~~(se.getMonth()/3)}function z(se){return s[se.getUTCDay()]}function V(se){return a[se.getUTCDay()]}function Z(se){return l[se.getUTCMonth()]}function ne(se){return o[se.getUTCMonth()]}function ce(se){return i[+(se.getUTCHours()>=12)]}function ve(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var ge=N(se+="",_);return ge.toString=function(){return se},ge},parse:function(se){var ge=P(se+="",!1);return ge.toString=function(){return se},ge},utcFormat:function(se){var ge=N(se+="",j);return ge.toString=function(){return se},ge},utcParse:function(se){var ge=P(se+="",!0);return ge.toString=function(){return se},ge}}}var X4={"-":"",_:" ",0:"0"},On=/^\s*\d+/,Oie=/^%/,Pie=/[\\^$*+?|[\]().{}]/g;function Xt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Eie(t){return t.replace(Pie,"\\$&")}function hh(t){return new RegExp("^(?:"+t.map(Eie).join("|")+")","i")}function ph(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Cie(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Tie(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Lie(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Iie(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function $ie(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function J4(t,e,r){var n=On.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Z4(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Rie(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Mie(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Die(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function Q4(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Bie(t,e,r){var n=On.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function ek(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Fie(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Uie(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function zie(t,e,r){var n=On.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function qie(t,e,r){var n=On.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Wie(t,e,r){var n=Oie.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Hie(t,e,r){var n=On.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Vie(t,e,r){var n=On.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function tk(t,e){return Xt(t.getDate(),e,2)}function Gie(t,e){return Xt(t.getHours(),e,2)}function Kie(t,e){return Xt(t.getHours()%12||12,e,2)}function Yie(t,e){return Xt(1+ym.count(mo(t),t),e,3)}function zL(t,e){return Xt(t.getMilliseconds(),e,3)}function Xie(t,e){return zL(t,e)+"000"}function Jie(t,e){return Xt(t.getMonth()+1,e,2)}function Zie(t,e){return Xt(t.getMinutes(),e,2)}function Qie(t,e){return Xt(t.getSeconds(),e,2)}function eae(t){var e=t.getDay();return e===0?7:e}function tae(t,e){return Xt(t1.count(mo(t)-1,t),e,2)}function qL(t){var e=t.getDay();return e>=4||e===0?$d(t):$d.ceil(t)}function rae(t,e){return t=qL(t),Xt($d.count(mo(t),t)+(mo(t).getDay()===4),e,2)}function nae(t){return t.getDay()}function iae(t,e){return Xt(Av.count(mo(t)-1,t),e,2)}function aae(t,e){return Xt(t.getFullYear()%100,e,2)}function sae(t,e){return t=qL(t),Xt(t.getFullYear()%100,e,2)}function oae(t,e){return Xt(t.getFullYear()%1e4,e,4)}function lae(t,e){var r=t.getDay();return t=r>=4||r===0?$d(t):$d.ceil(t),Xt(t.getFullYear()%1e4,e,4)}function cae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Xt(e/60|0,"0",2)+Xt(e%60,"0",2)}function rk(t,e){return Xt(t.getUTCDate(),e,2)}function uae(t,e){return Xt(t.getUTCHours(),e,2)}function dae(t,e){return Xt(t.getUTCHours()%12||12,e,2)}function fae(t,e){return Xt(1+e1.count(go(t),t),e,3)}function WL(t,e){return Xt(t.getUTCMilliseconds(),e,3)}function hae(t,e){return WL(t,e)+"000"}function pae(t,e){return Xt(t.getUTCMonth()+1,e,2)}function mae(t,e){return Xt(t.getUTCMinutes(),e,2)}function gae(t,e){return Xt(t.getUTCSeconds(),e,2)}function vae(t){var e=t.getUTCDay();return e===0?7:e}function yae(t,e){return Xt(r1.count(go(t)-1,t),e,2)}function HL(t){var e=t.getUTCDay();return e>=4||e===0?Rd(t):Rd.ceil(t)}function bae(t,e){return t=HL(t),Xt(Rd.count(go(t),t)+(go(t).getUTCDay()===4),e,2)}function xae(t){return t.getUTCDay()}function wae(t,e){return Xt(Nv.count(go(t)-1,t),e,2)}function _ae(t,e){return Xt(t.getUTCFullYear()%100,e,2)}function Sae(t,e){return t=HL(t),Xt(t.getUTCFullYear()%100,e,2)}function jae(t,e){return Xt(t.getUTCFullYear()%1e4,e,4)}function Aae(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Rd(t):Rd.ceil(t),Xt(t.getUTCFullYear()%1e4,e,4)}function Nae(){return"+0000"}function nk(){return"%"}function ik(t){return+t}function ak(t){return Math.floor(+t/1e3)}var Au,VL,GL;kae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kae(t){return Au=kie(t),VL=Au.format,Au.parse,GL=Au.utcFormat,Au.utcParse,Au}function Oae(t){return new Date(t)}function Pae(t){return t instanceof Date?+t:+new Date(+t)}function MS(t,e,r,n,i,a,s,o,l,c){var u=SS(),f=u.invert,p=u.domain,h=c(".%L"),v=c(":%S"),g=c("%I:%M"),b=c("%I %p"),y=c("%a %d"),w=c("%b %d"),_=c("%B"),j=c("%Y");function S(N){return(l(N)<N?h:o(N)<N?v:s(N)<N?g:a(N)<N?b:n(N)<N?i(N)<N?y:w:r(N)<N?_:j)(N)}return u.invert=function(N){return new Date(f(N))},u.domain=function(N){return arguments.length?p(Array.from(N,Pae)):p().map(Oae)},u.ticks=function(N){var P=p();return t(P[0],P[P.length-1],N??10)},u.tickFormat=function(N,P){return P==null?S:c(P)},u.nice=function(N){var P=p();return(!N||typeof N.range!="function")&&(N=e(P[0],P[P.length-1],N??10)),N?p(LL(P,N)):u},u.copy=function(){return vm(u,MS(t,e,r,n,i,a,s,o,l,c))},u}function Eae(){return _a.apply(MS(Aie,Nie,mo,$S,t1,ym,LS,CS,Nc,VL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Cae(){return _a.apply(MS(Sie,jie,go,RS,r1,e1,IS,TS,Nc,GL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function n1(){var t=0,e=1,r,n,i,a,s=si,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(p){var h,v;return arguments.length?([h,v]=p,s=f(h,v),c):[s(0),s(1)]}}return c.range=u(wf),c.rangeRound=u(_S),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function Pl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function KL(){var t=Ol(n1()(si));return t.copy=function(){return Pl(t,KL())},_o.apply(t,arguments)}function YL(){var t=NS(n1()).domain([1,10]);return t.copy=function(){return Pl(t,YL()).base(t.base())},_o.apply(t,arguments)}function XL(){var t=kS(n1());return t.copy=function(){return Pl(t,XL()).constant(t.constant())},_o.apply(t,arguments)}function DS(){var t=OS(n1());return t.copy=function(){return Pl(t,DS()).exponent(t.exponent())},_o.apply(t,arguments)}function Tae(){return DS.apply(null,arguments).exponent(.5)}function JL(){var t=[],e=si;function r(n){if(n!=null&&!isNaN(n=+n))return e((mm(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(pl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>yne(t,a/n))},r.copy=function(){return JL(e).domain(t)},_o.apply(r,arguments)}function i1(){var t=0,e=.5,r=1,n=1,i,a,s,o,l,c=si,u,f=!1,p;function h(g){return isNaN(g=+g)?p:(g=.5+((g=+u(g))-a)*(n*g<n*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e,r]=g,i=u(t=+t),a=u(e=+e),s=u(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h):[t,e,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(c=g,h):c};function v(g){return function(b){var y,w,_;return arguments.length?([y,w,_]=b,c=Wne(g,[y,w,_]),h):[c(0),c(.5),c(1)]}}return h.range=v(wf),h.rangeRound=v(_S),h.unknown=function(g){return arguments.length?(p=g,h):p},function(g){return u=g,i=g(t),a=g(e),s=g(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h}}function ZL(){var t=Ol(i1()(si));return t.copy=function(){return Pl(t,ZL())},_o.apply(t,arguments)}function QL(){var t=NS(i1()).domain([.1,1,10]);return t.copy=function(){return Pl(t,QL()).base(t.base())},_o.apply(t,arguments)}function eI(){var t=kS(i1());return t.copy=function(){return Pl(t,eI()).constant(t.constant())},_o.apply(t,arguments)}function BS(){var t=OS(i1());return t.copy=function(){return Pl(t,BS()).exponent(t.exponent())},_o.apply(t,arguments)}function Lae(){return BS.apply(null,arguments).exponent(.5)}const sk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kp,scaleDiverging:ZL,scaleDivergingLog:QL,scaleDivergingPow:BS,scaleDivergingSqrt:Lae,scaleDivergingSymlog:eI,scaleIdentity:TL,scaleImplicit:kw,scaleLinear:Sv,scaleLog:IL,scaleOrdinal:bS,scalePoint:Uh,scalePow:PS,scaleQuantile:ML,scaleQuantize:DL,scaleRadial:RL,scaleSequential:KL,scaleSequentialLog:YL,scaleSequentialPow:DS,scaleSequentialQuantile:JL,scaleSequentialSqrt:Tae,scaleSequentialSymlog:XL,scaleSqrt:hie,scaleSymlog:$L,scaleThreshold:BL,scaleTime:Eae,scaleUtc:Cae,tickFormat:CL},Symbol.toStringTag,{value:"Module"}));var Iae=ff;function $ae(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!Iae(s):r(s,o)))var o=s,l=a}return l}var a1=$ae;function Rae(t,e){return t>e}var tI=Rae,Mae=a1,Dae=tI,Bae=xf;function Fae(t){return t&&t.length?Mae(t,Bae,Dae):void 0}var Uae=Fae;const s1=sr(Uae);function zae(t,e){return t<e}var rI=zae,qae=a1,Wae=rI,Hae=xf;function Vae(t){return t&&t.length?qae(t,Hae,Wae):void 0}var Gae=Vae;const o1=sr(Gae);var Kae=Q_,Yae=Ns,Xae=uL,Jae=_i;function Zae(t,e){var r=Jae(t)?Kae:Xae;return r(t,Yae(e))}var Qae=Zae,ese=lL,tse=Qae;function rse(t,e){return ese(tse(t,e),1)}var nse=rse;const ise=sr(nse);var ase=pS;function sse(t,e){return ase(t,e)}var ose=sse;const bm=sr(ose);var _f=1e9,lse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},US,Or=!0,ya="[DecimalError] ",Cc=ya+"Invalid argument: ",FS=ya+"Exponent out of range: ",Sf=Math.floor,hc=Math.pow,cse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fi,Sn=1e7,Sr=7,nI=9007199254740991,kv=Sf(nI/Sr),Xe={};Xe.absoluteValue=Xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Xe.comparedTo=Xe.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Xe.decimalPlaces=Xe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Sr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Xe.dividedBy=Xe.div=function(t){return so(this,new this.constructor(t))};Xe.dividedToIntegerBy=Xe.idiv=function(t){var e=this,r=e.constructor;return fr(so(e,new r(t),0,1),r.precision)};Xe.equals=Xe.eq=function(t){return!this.cmp(t)};Xe.exponent=function(){return ln(this)};Xe.greaterThan=Xe.gt=function(t){return this.cmp(t)>0};Xe.greaterThanOrEqualTo=Xe.gte=function(t){return this.cmp(t)>=0};Xe.isInteger=Xe.isint=function(){return this.e>this.d.length-2};Xe.isNegative=Xe.isneg=function(){return this.s<0};Xe.isPositive=Xe.ispos=function(){return this.s>0};Xe.isZero=function(){return this.s===0};Xe.lessThan=Xe.lt=function(t){return this.cmp(t)<0};Xe.lessThanOrEqualTo=Xe.lte=function(t){return this.cmp(t)<1};Xe.logarithm=Xe.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Fi))throw Error(ya+"NaN");if(r.s<1)throw Error(ya+(r.s?"NaN":"-Infinity"));return r.eq(Fi)?new n(0):(Or=!1,e=so(Tp(r,a),Tp(t,a),a),Or=!0,fr(e,i))};Xe.minus=Xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sI(e,t):iI(e,(t.s=-t.s,t))};Xe.modulo=Xe.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ya+"NaN");return r.s?(Or=!1,e=so(r,t,0,1).times(t),Or=!0,r.minus(e)):fr(new n(r),i)};Xe.naturalExponential=Xe.exp=function(){return aI(this)};Xe.naturalLogarithm=Xe.ln=function(){return Tp(this)};Xe.negated=Xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Xe.plus=Xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iI(e,t):sI(e,(t.s=-t.s,t))};Xe.precision=Xe.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Cc+t);if(e=ln(i)+1,n=i.d.length-1,r=n*Sr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Xe.squareRoot=Xe.sqrt=function(){var t,e,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ya+"NaN")}for(t=ln(o),Or=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=hs(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Sf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(so(o,a,s+2)).times(.5),hs(a.d).slice(0,s)===(e=hs(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(fr(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return Or=!0,fr(n,r)};Xe.times=Xe.mul=function(t){var e,r,n,i,a,s,o,l,c,u=this,f=u.constructor,p=u.d,h=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,r=u.e+t.e,l=p.length,c=h.length,l<c&&(a=p,p=h,h=a,s=l,l=c,c=s),a=[],s=l+c,n=s;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+h[n]*p[i-n-1]+e,a[i--]=o%Sn|0,e=o/Sn|0;a[i]=(a[i]+e)%Sn|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Or?fr(t,f.precision):t};Xe.toDecimalPlaces=Xe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ss(t,0,_f),e===void 0?e=n.rounding:Ss(e,0,8),fr(r,t+ln(r)+1,e))};Xe.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=zc(n,!0):(Ss(t,0,_f),e===void 0?e=i.rounding:Ss(e,0,8),n=fr(new i(n),t+1,e),r=zc(n,!0,t+1)),r};Xe.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?zc(i):(Ss(t,0,_f),e===void 0?e=a.rounding:Ss(e,0,8),n=fr(new a(i),t+ln(i)+1,e),r=zc(n.abs(),!1,t+ln(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Xe.toInteger=Xe.toint=function(){var t=this,e=t.constructor;return fr(new e(t),ln(t)+1,e.rounding)};Xe.toNumber=function(){return+this};Xe.toPower=Xe.pow=function(t){var e,r,n,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Fi);if(o=new l(o),!o.s){if(t.s<1)throw Error(ya+"Infinity");return o}if(o.eq(Fi))return o;if(n=l.precision,t.eq(Fi))return fr(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=u<0?-u:u)<=nI){for(i=new l(Fi),e=Math.ceil(n/Sr+4),Or=!1;r%2&&(i=i.times(o),lk(i.d,e)),r=Sf(r/2),r!==0;)o=o.times(o),lk(o.d,e);return Or=!0,t.s<0?new l(Fi).div(i):fr(i,n)}}else if(a<0)throw Error(ya+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Or=!1,i=t.times(Tp(o,n+c)),Or=!0,i=aI(i),i.s=a,i};Xe.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=ln(i),n=zc(i,r<=a.toExpNeg||r>=a.toExpPos)):(Ss(t,1,_f),e===void 0?e=a.rounding:Ss(e,0,8),i=fr(new a(i),t,e),r=ln(i),n=zc(i,t<=r||r<=a.toExpNeg,t)),n};Xe.toSignificantDigits=Xe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ss(t,1,_f),e===void 0?e=n.rounding:Ss(e,0,8)),fr(new n(r),t,e)};Xe.toString=Xe.valueOf=Xe.val=Xe.toJSON=Xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ln(t),r=t.constructor;return zc(t,e<=r.toExpNeg||e>=r.toExpPos)};function iI(t,e){var r,n,i,a,s,o,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Or?fr(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=c.length):(n=c,i=s,o=l.length),s=Math.ceil(f/Sr),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/Sn|0,l[a]%=Sn;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Or?fr(e,f):e}function Ss(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Cc+t)}function hs(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Sr-n.length,r&&(a+=Ko(r)),a+=n;s=t[e],n=s+"",r=Sr-n.length,r&&(a+=Ko(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var so=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Sn|0,s=a/Sn|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Sn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,c,u,f,p,h,v,g,b,y,w,_,j,S,N,P,C,I=n.constructor,F=n.s==i.s?1:-1,O=n.d,T=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(ya+"Division by zero");for(l=n.e-i.e,P=T.length,S=O.length,h=new I(F),v=h.d=[],c=0;T[c]==(O[c]||0);)++c;if(T[c]>(O[c]||0)&&--l,a==null?w=a=I.precision:s?w=a+(ln(n)-ln(i))+1:w=a,w<0)return new I(0);if(w=w/Sr+2|0,c=0,P==1)for(u=0,T=T[0],w++;(c<S||u)&&w--;c++)_=u*Sn+(O[c]||0),v[c]=_/T|0,u=_%T|0;else{for(u=Sn/(T[0]+1)|0,u>1&&(T=t(T,u),O=t(O,u),P=T.length,S=O.length),j=P,g=O.slice(0,P),b=g.length;b<P;)g[b++]=0;C=T.slice(),C.unshift(0),N=T[0],T[1]>=Sn/2&&++N;do u=0,o=e(T,g,P,b),o<0?(y=g[0],P!=b&&(y=y*Sn+(g[1]||0)),u=y/N|0,u>1?(u>=Sn&&(u=Sn-1),f=t(T,u),p=f.length,b=g.length,o=e(f,g,p,b),o==1&&(u--,r(f,P<p?C:T,p))):(u==0&&(o=u=1),f=T.slice()),p=f.length,p<b&&f.unshift(0),r(g,f,b),o==-1&&(b=g.length,o=e(T,g,P,b),o<1&&(u++,r(g,P<b?C:T,b))),b=g.length):o===0&&(u++,g=[0]),v[c++]=u,o&&g[0]?g[b++]=O[j]||0:(g=[O[j]],b=1);while((j++<S||g[0]!==void 0)&&w--)}return v[0]||v.shift(),h.e=l,fr(h,s?a+ln(h)+1:a)}}();function aI(t,e){var r,n,i,a,s,o,l=0,c=0,u=t.constructor,f=u.precision;if(ln(t)>16)throw Error(FS+ln(t));if(!t.s)return new u(Fi);for(Or=!1,o=f,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(n=Math.log(hc(2,c))/Math.LN10*2+5|0,o+=n,r=i=a=new u(Fi),u.precision=o;;){if(i=fr(i.times(t),o),r=r.times(++l),s=a.plus(so(i,r,o)),hs(s.d).slice(0,o)===hs(a.d).slice(0,o)){for(;c--;)a=fr(a.times(a),o);return u.precision=f,e==null?(Or=!0,fr(a,f)):a}a=s}}function ln(t){for(var e=t.e*Sr,r=t.d[0];r>=10;r/=10)e++;return e}function sx(t,e,r){if(e>t.LN10.sd())throw Or=!0,r&&(t.precision=r),Error(ya+"LN10 precision limit exceeded");return fr(new t(t.LN10),e)}function Ko(t){for(var e="";t--;)e+="0";return e}function Tp(t,e){var r,n,i,a,s,o,l,c,u,f=1,p=10,h=t,v=h.d,g=h.constructor,b=g.precision;if(h.s<1)throw Error(ya+(h.s?"NaN":"-Infinity"));if(h.eq(Fi))return new g(0);if(e==null?(Or=!1,c=b):c=e,h.eq(10))return e==null&&(Or=!0),sx(g,c);if(c+=p,g.precision=c,r=hs(v),n=r.charAt(0),a=ln(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=hs(h.d),n=r.charAt(0),f++;a=ln(h),n>1?(h=new g("0."+r),a++):h=new g(n+"."+r.slice(1))}else return l=sx(g,c+2,b).times(a+""),h=Tp(new g(n+"."+r.slice(1)),c-p).plus(l),g.precision=b,e==null?(Or=!0,fr(h,b)):h;for(o=s=h=so(h.minus(Fi),h.plus(Fi),c),u=fr(h.times(h),c),i=3;;){if(s=fr(s.times(u),c),l=o.plus(so(s,new g(i),c)),hs(l.d).slice(0,c)===hs(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(sx(g,c+2,b).times(a+""))),o=so(o,new g(f),c),g.precision=b,e==null?(Or=!0,fr(o,b)):o;o=l,i+=2}}function ok(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Sf(r/Sr),t.d=[],n=(r+1)%Sr,r<0&&(n+=Sr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Sr;n<i;)t.d.push(+e.slice(n,n+=Sr));e=e.slice(n),n=Sr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Or&&(t.e>kv||t.e<-kv))throw Error(FS+r)}else t.s=0,t.e=0,t.d=[0];return t}function fr(t,e,r){var n,i,a,s,o,l,c,u,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Sr,i=e,c=f[u=0];else{if(u=Math.ceil((n+1)/Sr),a=f.length,u>=a)return t;for(c=a=f[u],s=1;a>=10;a/=10)s++;n%=Sr,i=n-Sr+s}if(r!==void 0&&(a=hc(10,s-i-1),o=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/hc(10,s-i):0:f[u-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=ln(t),f.length=1,e=e-a-1,f[0]=hc(10,(Sr-e%Sr)%Sr),t.e=Sf(-e/Sr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=hc(10,Sr-n),f[u]=i>0?(c/hc(10,s-i)%hc(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==Sn&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=Sn)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Or&&(t.e>kv||t.e<-kv))throw Error(FS+ln(t));return t}function sI(t,e){var r,n,i,a,s,o,l,c,u,f,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Or?fr(e,h):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),i=Math.max(Math.ceil(h/Sr),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Sn-1;--l[a],l[i]+=Sn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Or?fr(e,h):e):new p(0)}function zc(t,e,r){var n,i=ln(t),a=hs(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ko(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ko(-i-1)+a,r&&(n=r-s)>0&&(a+=Ko(n))):i>=s?(a+=Ko(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Ko(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Ko(n))),t.s<0?"-"+a:a}function lk(t,e){if(t.length>e)return t.length=e,!0}function oI(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Cc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return ok(s,a.toString())}else if(typeof a!="string")throw Error(Cc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,cse.test(a))ok(s,a);else throw Error(Cc+a)}if(i.prototype=Xe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=oI,i.config=i.set=use,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function use(t){if(!t||typeof t!="object")throw Error(ya+"Object expected");var e,r,n,i=["precision",1,_f,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Sf(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Cc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Cc+r+": "+n);return this}var US=oI(lse);Fi=new US(1);const lr=US;function dse(t){return mse(t)||pse(t)||hse(t)||fse()}function fse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hse(t,e){if(t){if(typeof t=="string")return Cw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cw(t,e)}}function pse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mse(t){if(Array.isArray(t))return Cw(t)}function Cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var gse=function(e){return e},lI={},cI=function(e){return e===lI},ck=function(e){return function r(){return arguments.length===0||arguments.length===1&&cI(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},vse=function t(e,r){return e===1?r:ck(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==lI}).length;return s>=e?r.apply(void 0,i):t(e-s,ck(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(f){return cI(f)?l.shift():f});return r.apply(void 0,dse(u).concat(l))}))})},l1=function(e){return vse(e.length,e)},Tw=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},yse=l1(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),bse=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return gse;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},Lw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},uI=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function xse(t){var e;return t===0?e=1:e=Math.floor(new lr(t).abs().log(10).toNumber())+1,e}function wse(t,e,r){for(var n=new lr(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var _se=l1(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Sse=l1(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),jse=l1(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const c1={rangeStep:wse,getDigitCount:xse,interpolateNumber:_se,uninterpolateNumber:Sse,uninterpolateTruncation:jse};function Iw(t){return kse(t)||Nse(t)||dI(t)||Ase()}function Ase(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function kse(t){if(Array.isArray(t))return $w(t)}function Lp(t,e){return Ese(t)||Pse(t,e)||dI(t,e)||Ose()}function Ose(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dI(t,e){if(t){if(typeof t=="string")return $w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $w(t,e)}}function $w(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pse(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function Ese(t){if(Array.isArray(t))return t}function fI(t){var e=Lp(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function hI(t,e,r){if(t.lte(0))return new lr(0);var n=c1.getDigitCount(t.toNumber()),i=new lr(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new lr(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return e?l:new lr(Math.ceil(l))}function Cse(t,e,r){var n=1,i=new lr(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new lr(10).pow(c1.getDigitCount(t)-1),i=new lr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new lr(Math.floor(t)))}else t===0?i=new lr(Math.floor((e-1)/2)):r||(i=new lr(Math.floor(t)));var s=Math.floor((e-1)/2),o=bse(yse(function(l){return i.add(new lr(l-s).mul(n)).toNumber()}),Tw);return o(0,e)}function pI(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new lr(0),tickMin:new lr(0),tickMax:new lr(0)};var a=hI(new lr(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new lr(0):(s=new lr(t).add(e).div(2),s=s.sub(new lr(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new lr(e).sub(s).div(a).toNumber()),c=o+l+1;return c>r?pI(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,o=e>0?o:o+(r-c)),{step:a,tickMin:s.sub(new lr(o).mul(a)),tickMax:s.add(new lr(l).mul(a))})}function Tse(t){var e=Lp(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=fI([r,n]),l=Lp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(Iw(Tw(0,i-1).map(function(){return 1/0}))):[].concat(Iw(Tw(0,i-1).map(function(){return-1/0})),[u]);return r>n?Lw(f):f}if(c===u)return Cse(c,i,a);var p=pI(c,u,s,a),h=p.step,v=p.tickMin,g=p.tickMax,b=c1.rangeStep(v,g.add(new lr(.1).mul(h)),h);return r>n?Lw(b):b}function Lse(t,e){var r=Lp(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=fI([n,i]),o=Lp(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),f=hI(new lr(c).sub(l).div(u-1),a,0),p=[].concat(Iw(c1.rangeStep(new lr(l),new lr(c).sub(new lr(.99).mul(f)),f)),[c]);return n>i?Lw(p):p}var Ise=uI(Tse),$se=uI(Lse),Rse="Invariant failed";function qc(t,e){throw new Error(Rse)}var Mse=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ov.apply(this,arguments)}function Dse(t,e){return zse(t)||Use(t,e)||Fse(t,e)||Bse()}function Bse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fse(t,e){if(t){if(typeof t=="string")return uk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uk(t,e)}}function uk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Use(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function zse(t){if(Array.isArray(t))return t}function qse(t,e){if(t==null)return{};var r=Wse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vI(n.key),n)}}function Gse(t,e,r){return e&&Vse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kse(t,e,r){return e=Pv(e),Yse(t,mI()?Reflect.construct(e,r||[],Pv(t).constructor):e.apply(t,r))}function Yse(t,e){if(e&&(Md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xse(t)}function Xse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mI=function(){return!!t})()}function Pv(t){return Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pv(t)}function Jse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rw(t,e)}function Rw(t,e){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rw(t,e)}function gI(t,e,r){return e=vI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vI(t){var e=Zse(t,"string");return Md(e)=="symbol"?e:e+""}function Zse(t,e){if(Md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xm=function(t){function e(){return Hse(this,e),Kse(this,e,arguments)}return Jse(e,t),Gse(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,p=qse(n,Mse),h=pt(p,!1);this.props.direction==="x"&&u.type!=="number"&&qc();var v=l.map(function(g){var b=c(g,o),y=b.x,w=b.y,_=b.value,j=b.errorVal;if(!j)return null;var S=[],N,P;if(Array.isArray(j)){var C=Dse(j,2);N=C[0],P=C[1]}else N=P=j;if(a==="vertical"){var I=u.scale,F=w+i,O=F+s,T=F-s,M=I(_-N),R=I(_+P);S.push({x1:R,y1:O,x2:R,y2:T}),S.push({x1:M,y1:F,x2:R,y2:F}),S.push({x1:M,y1:O,x2:M,y2:T})}else if(a==="horizontal"){var U=f.scale,H=y+i,G=H-s,$=H+s,X=U(_-N),ae=U(_+P);S.push({x1:G,y1:ae,x2:$,y2:ae}),S.push({x1:H,y1:X,x2:H,y2:ae}),S.push({x1:G,y1:X,x2:$,y2:X})}return oe.createElement(Yt,Ov({className:"recharts-errorBar",key:"bar-".concat(S.map(function(ie){return"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))},h),S.map(function(ie){return oe.createElement("line",Ov({},ie,{key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))}))});return oe.createElement(Yt,{className:"recharts-errorBars"},v)}}])}(oe.Component);gI(xm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});gI(xm,"displayName","ErrorBar");function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ac(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(r),!0).forEach(function(n){Qse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qse(t,e,r){return e=eoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eoe(t){var e=toe(t,"string");return Ip(e)=="symbol"?e:e+""}function toe(t,e){if(Ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yI=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Ri(r,bs);if(!s)return null;var o=bs.defaultProps,l=o!==void 0?ac(ac({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(n||[]).reduce(function(u,f){var p=f.item,h=f.props,v=h.sectors||h.data||[];return u.concat(v.map(function(g){return{type:s.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(n||[]).map(function(u){var f=u.item,p=f.type.defaultProps,h=p!==void 0?ac(ac({},p),f.props):{},v=h.dataKey,g=h.name,b=h.legendType,y=h.hide;return{inactive:y,dataKey:v,type:l.iconType||b||"square",color:zS(f),value:g||v,payload:h}}),ac(ac(ac({},l),bs.getWithHeight(s,i)),{},{payload:c,item:s})};function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function fk(t){return aoe(t)||ioe(t)||noe(t)||roe()}function roe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function noe(t,e){if(t){if(typeof t=="string")return Mw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mw(t,e)}}function ioe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aoe(t){if(Array.isArray(t))return Mw(t)}function Mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(r),!0).forEach(function(n){ud(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ud(t,e,r){return e=soe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function soe(t){var e=ooe(t,"string");return $p(e)=="symbol"?e:e+""}function ooe(t,e){if($p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yn(t,e,r){return Ct(t)||Ct(e)?r:xn(e)?Wi(t,e,r):wt(e)?e(t):r}function zh(t,e,r,n){var i=ise(t,function(o){return yn(o,e)});if(r==="number"){var a=i.filter(function(o){return Fe(o)||parseFloat(o)});return a.length?[o1(a),s1(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!Ct(o)}):i;return s.map(function(o){return xn(o)||o instanceof Date?o:""})}var loe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,p=c>=o-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(ii(f-u)!==ii(p-f)){var v=[];if(ii(p-f)===ii(l[1]-l[0])){h=p;var g=f+l[1]-l[0];v[0]=Math.min(g,(g+u)/2),v[1]=Math.max(g,(g+u)/2)}else{h=u;var b=p+l[1]-l[0];v[0]=Math.min(f,(b+f)/2),v[1]=Math.max(f,(b+f)/2)}var y=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){s=i[c].index;break}}else{var w=Math.min(u,p),_=Math.max(u,p);if(e>(w+f)/2&&e<=(_+f)/2){s=i[c].index;break}}}else for(var j=0;j<o;j++)if(j===0&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<o-1&&e>(n[j].coordinate+n[j-1].coordinate)/2&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j===o-1&&e>(n[j].coordinate+n[j-1].coordinate)/2){s=n[j].index;break}return s},zS=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?zr(zr({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},coe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,f=Object.keys(u),p=0,h=f.length;p<h;p++){var v=u[f[p]],g=v.items,b=v.cateAxisId,y=g.filter(function(P){return ao(P.type).indexOf("Bar")>=0});if(y&&y.length){var w=y[0].type.defaultProps,_=w!==void 0?zr(zr({},w),y[0].props):y[0].props,j=_.barSize,S=_[b];s[S]||(s[S]=[]);var N=Ct(j)?r:j;s[S].push({item:y[0],stackList:y.slice(1),barSize:Ct(N)?void 0:ai(N,n,0)})}}return s},uoe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=ai(r,i,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var p=!1,h=i/l,v=s.reduce(function(j,S){return j+S.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&h>0&&(p=!0,h*=.9,v=l*h);var g=(i-v)/2>>0,b={offset:g-c,size:0};u=s.reduce(function(j,S){var N={item:S.item,position:{offset:b.offset+b.size+c,size:p?h:S.barSize}},P=[].concat(fk(j),[N]);return b=P[P.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){P.push({item:C,position:b})}),P},f)}else{var y=ai(n,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var w=(i-2*y-(l-1)*c)/l;w>1&&(w>>=0);var _=o===+o?Math.min(w,o):w;u=s.reduce(function(j,S,N){var P=[].concat(fk(j),[{item:S.item,position:{offset:y+(w+c)*N+(w-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){P.push({item:C,position:P[P.length-1].position})}),P},f)}return u},doe=function(e,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=yI({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,p=u.height,h=c.align,v=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&h!=="center"&&Fe(e[h]))return zr(zr({},e),{},ud({},h,e[h]+(f||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&v!=="middle"&&Fe(e[v]))return zr(zr({},e),{},ud({},v,e[v]+(p||0)))}return e},foe=function(e,r,n){return Ct(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},bI=function(e,r,n,i,a){var s=r.props.children,o=Hi(s,xm).filter(function(c){return foe(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=yn(u,n);if(Ct(f))return c;var p=Array.isArray(f)?[o1(f),s1(f)]:[f,f],h=l.reduce(function(v,g){var b=yn(u,g,0),y=p[0]-Math.abs(Array.isArray(b)?b[0]:b),w=p[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(y,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},hoe=function(e,r,n,i,a){var s=r.map(function(o){return bI(e,o,n,a,i)}).filter(function(o){return!Ct(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},xI=function(e,r,n,i,a){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&bI(e,l,c,i)||zh(e,c,n,a)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},wI=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},_I=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},no=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ii(o[0]-o[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var p=a?a.indexOf(f):f;return{coordinate:i(p)+c,value:f,offset:c}});return u.filter(function(f){return!dm(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:i(f)+c,value:f,index:p,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,p){return{coordinate:i(f)+c,value:a?a[f]:f,index:p,offset:c}})},ox=new WeakMap,Bg=function(e,r){if(typeof r!="function")return e;ox.has(e)||ox.set(e,new WeakMap);var n=ox.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},SI=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:kp(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Sv(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Uh(),realScaleType:"point"}:a==="category"?{scale:kp(),realScaleType:"band"}:{scale:Sv(),realScaleType:"linear"};if(Bc(i)){var l="scale".concat(Vy(i));return{scale:(sk[l]||Uh)(),realScaleType:sk[l]?l:"point"}}return wt(i)?{scale:i}:{scale:Uh(),realScaleType:"point"}},pk=1e-4,jI=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-pk,s=Math.max(i[0],i[1])+pk,o=e(r[0]),l=e(r[n-1]);(o<a||o>s||l<a||l>s)&&e.domain([r[0],r[n-1]])}},poe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},moe=function(e,r){if(!r||r.length!==2||!Fe(r[0])||!Fe(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Fe(e[0])||e[0]<n)&&(a[0]=n),(!Fe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},goe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=dm(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},voe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=dm(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},yoe={sign:goe,expand:MG,none:Pd,silhouette:DG,wiggle:BG,positive:voe},boe=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),a=yoe[n],s=RG().keys(i).value(function(o,l){return+yn(o,l,0)}).order(lw).offset(a);return s(e)},xoe=function(e,r,n,i,a,s){if(!e)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,p){var h,v=(h=p.type)!==null&&h!==void 0&&h.defaultProps?zr(zr({},p.type.defaultProps),p.props):p.props,g=v.stackId,b=v.hide;if(b)return f;var y=v[n],w=f[y]||{hasStack:!1,stackGroups:{}};if(xn(g)){var _=w.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(p),w.hasStack=!0,w.stackGroups[g]=_}else w.stackGroups[vf("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return zr(zr({},f),{},ud({},y,w))},l),u={};return Object.keys(c).reduce(function(f,p){var h=c[p];if(h.hasStack){var v={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,b){var y=h.stackGroups[b];return zr(zr({},g),{},ud({},b,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:boe(e,y.items,a)}))},v)}return zr(zr({},f),{},ud({},p,h))},u)},AI=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=Ise(c,a,o);return e.domain([o1(u),s1(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),p=$se(f,a,o);return{niceTicks:p}}return null};function mk(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ct(i[e.dataKey])){var o=rv(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=yn(i,Ct(s)?e.dataKey:s);return Ct(l)?null:e.scale(l)}var gk=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=yn(s,r.dataKey,r.domain[o]);return Ct(l)?null:r.scale(l)-a/2+i},woe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},_oe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?zr(zr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(xn(a)){var s=r[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},Soe=function(e){return e.reduce(function(r,n){return[o1(n.concat([r[0]]).filter(Fe)),s1(n.concat([r[1]]).filter(Fe))]},[1/0,-1/0])},NI=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,u){var f=Soe(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},vk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dw=function(e,r,n){if(wt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Fe(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(vk.test(e[0])){var a=+vk.exec(e[0])[1];i[0]=r[0]-a}else wt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Fe(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(yk.test(e[1])){var s=+yk.exec(e[1])[1];i[1]=r[1]+s}else wt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Ev=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=gS(r,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},bk=function(e,r,n){return!e||!e.length||bm(e,Wi(n,"type.defaultProps.domain"))?r:e},kI=function(e,r){var n=e.type.defaultProps?zr(zr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return zr(zr({},pt(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:zS(e),value:yn(r,i),type:l,payload:r,chartType:c,hide:u})};function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}function xk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ks(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(r),!0).forEach(function(n){OI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OI(t,e,r){return e=joe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function joe(t){var e=Aoe(t,"string");return Rp(e)=="symbol"?e:e+""}function Aoe(t,e){if(Rp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Noe(t,e){return Eoe(t)||Poe(t,e)||Ooe(t,e)||koe()}function koe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ooe(t,e){if(t){if(typeof t=="string")return wk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wk(t,e)}}function wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Poe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Eoe(t){if(Array.isArray(t))return t}var Cv=Math.PI/180,Coe=function(e){return e*180/Math.PI},br=function(e,r,n,i){return{x:e+Math.cos(-Cv*i)*n,y:r+Math.sin(-Cv*i)*n}},PI=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Toe=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.startAngle,c=e.endAngle,u=ai(e.cx,s,s/2),f=ai(e.cy,o,o/2),p=PI(s,o,n),h=ai(e.innerRadius,p,0),v=ai(e.outerRadius,p,p*.8),g=Object.keys(r);return g.reduce(function(b,y){var w=r[y],_=w.domain,j=w.reversed,S;if(Ct(w.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[h,v]),j&&(S=[S[1],S[0]]);else{S=w.range;var N=S,P=Noe(N,2);l=P[0],c=P[1]}var C=SI(w,a),I=C.realScaleType,F=C.scale;F.domain(_).range(S),jI(F);var O=AI(F,Ks(Ks({},w),{},{realScaleType:I})),T=Ks(Ks(Ks({},w),O),{},{range:S,radius:v,realScaleType:I,scale:F,cx:u,cy:f,innerRadius:h,outerRadius:v,startAngle:l,endAngle:c});return Ks(Ks({},b),{},OI({},y,T))},{})},Loe=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},Ioe=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,o=Loe({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:Coe(c),angleInRadian:c}},$oe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},Roe=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},_k=function(e,r){var n=e.x,i=e.y,a=Ioe({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=$oe(r),f=u.startAngle,p=u.endAngle,h=o,v;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;v=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;v=h>=p&&h<=f}return v?Ks(Ks({},r),{},{radius:s,angle:Roe(h,r)}):null},EI=function(e){return!Y.isValidElement(e)&&!wt(e)&&typeof e!="boolean"?e.className:""};function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}var Moe=["offset"];function Doe(t){return zoe(t)||Uoe(t)||Foe(t)||Boe()}function Boe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Foe(t,e){if(t){if(typeof t=="string")return Bw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bw(t,e)}}function Uoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zoe(t){if(Array.isArray(t))return Bw(t)}function Bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qoe(t,e){if(t==null)return{};var r=Woe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Woe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Sk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(r),!0).forEach(function(n){Hoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hoe(t,e,r){return e=Voe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Voe(t){var e=Goe(t,"string");return Mp(e)=="symbol"?e:e+""}function Goe(t,e){if(Mp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dp(){return Dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dp.apply(this,arguments)}var Koe=function(e){var r=e.value,n=e.formatter,i=Ct(e.children)?r:e.children;return wt(n)?n(i):i},Yoe=function(e,r){var n=ii(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Xoe=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,p=l.outerRadius,h=l.startAngle,v=l.endAngle,g=l.clockWise,b=(f+p)/2,y=Yoe(h,v),w=y>=0?1:-1,_,j;i==="insideStart"?(_=h+w*s,j=g):i==="insideEnd"?(_=v-w*s,j=!g):i==="end"&&(_=v+w*s,j=g),j=y<=0?j:!j;var S=br(c,u,b,_),N=br(c,u,b,_+(j?1:-1)*359),P="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(j?0:1,`,
    `).concat(N.x,",").concat(N.y),C=Ct(e.id)?vf("recharts-radial-line-"):e.id;return oe.createElement("text",Dp({},n,{dominantBaseline:"central",className:Mt("recharts-radial-bar-label",o)}),oe.createElement("defs",null,oe.createElement("path",{id:C,d:P})),oe.createElement("textPath",{xlinkHref:"#".concat(C)},r))},Joe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,p=(u+f)/2;if(i==="outside"){var h=br(s,o,c+n,p),v=h.x,g=h.y;return{x:v,y:g,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,y=br(s,o,b,p),w=y.x,_=y.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Zoe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,p=f*i,h=f>0?"end":"start",v=f>0?"start":"end",g=c>=0?1:-1,b=g*i,y=g>0?"end":"start",w=g>0?"start":"end";if(a==="top"){var _={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return mn(mn({},_),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var j={x:o+c/2,y:l+u+p,textAnchor:"middle",verticalAnchor:v};return mn(mn({},j),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var S={x:o-b,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return mn(mn({},S),n?{width:Math.max(S.x-n.x,0),height:u}:{})}if(a==="right"){var N={x:o+c+b,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return mn(mn({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:u}:{})}var P=n?{width:c,height:u}:{};return a==="insideLeft"?mn({x:o+b,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},P):a==="insideRight"?mn({x:o+c-b,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},P):a==="insideTop"?mn({x:o+c/2,y:l+p,textAnchor:"middle",verticalAnchor:v},P):a==="insideBottom"?mn({x:o+c/2,y:l+u-p,textAnchor:"middle",verticalAnchor:h},P):a==="insideTopLeft"?mn({x:o+b,y:l+p,textAnchor:w,verticalAnchor:v},P):a==="insideTopRight"?mn({x:o+c-b,y:l+p,textAnchor:y,verticalAnchor:v},P):a==="insideBottomLeft"?mn({x:o+b,y:l+u-p,textAnchor:w,verticalAnchor:h},P):a==="insideBottomRight"?mn({x:o+c-b,y:l+u-p,textAnchor:y,verticalAnchor:h},P):hf(a)&&(Fe(a.x)||jc(a.x))&&(Fe(a.y)||jc(a.y))?mn({x:o+ai(a.x,c),y:l+ai(a.y,u),textAnchor:"end",verticalAnchor:"end"},P):mn({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Qoe=function(e){return"cx"in e&&Fe(e.cx)};function Nn(t){var e=t.offset,r=e===void 0?5:e,n=qoe(t,Moe),i=mn({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,p=i.textBreakAll;if(!a||Ct(o)&&Ct(l)&&!Y.isValidElement(c)&&!wt(c))return null;if(Y.isValidElement(c))return Y.cloneElement(c,i);var h;if(wt(c)){if(h=Y.createElement(c,i),Y.isValidElement(h))return h}else h=Koe(i);var v=Qoe(a),g=pt(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Xoe(i,h,g);var b=v?Joe(i):Zoe(i);return oe.createElement(Uc,Dp({className:Mt("recharts-label",f)},g,b,{breakAll:p}),h)}Nn.displayName="Label";var CI=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,p=e.y,h=e.top,v=e.left,g=e.width,b=e.height,y=e.clockWise,w=e.labelViewBox;if(w)return w;if(Fe(g)&&Fe(b)){if(Fe(f)&&Fe(p))return{x:f,y:p,width:g,height:b};if(Fe(h)&&Fe(v))return{x:h,y:v,width:g,height:b}}return Fe(f)&&Fe(p)?{x:f,y:p,width:0,height:0}:Fe(r)&&Fe(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:e.viewBox?e.viewBox:{}},ele=function(e,r){return e?e===!0?oe.createElement(Nn,{key:"label-implicit",viewBox:r}):xn(e)?oe.createElement(Nn,{key:"label-implicit",viewBox:r,value:e}):Y.isValidElement(e)?e.type===Nn?Y.cloneElement(e,{key:"label-implicit",viewBox:r}):oe.createElement(Nn,{key:"label-implicit",content:e,viewBox:r}):wt(e)?oe.createElement(Nn,{key:"label-implicit",content:e,viewBox:r}):hf(e)?oe.createElement(Nn,Dp({viewBox:r},e,{key:"label-implicit"})):null:null},tle=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=CI(e),s=Hi(i,Nn).map(function(l,c){return Y.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return s;var o=ele(e.label,r||a);return[o].concat(Doe(s))};Nn.parseViewBox=CI;Nn.renderCallByParent=tle;function rle(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var nle=rle;const ile=sr(nle);function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}var ale=["valueAccessor"],sle=["data","dataKey","clockWise","id","textBreakAll"];function ole(t){return dle(t)||ule(t)||cle(t)||lle()}function lle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cle(t,e){if(t){if(typeof t=="string")return Fw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fw(t,e)}}function ule(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dle(t){if(Array.isArray(t))return Fw(t)}function Fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tv(){return Tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tv.apply(this,arguments)}function jk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ak(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(r),!0).forEach(function(n){fle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fle(t,e,r){return e=hle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hle(t){var e=ple(t,"string");return Bp(e)=="symbol"?e:e+""}function ple(t,e){if(Bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nk(t,e){if(t==null)return{};var r=mle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var gle=function(e){return Array.isArray(e.value)?ile(e.value):e.value};function oo(t){var e=t.valueAccessor,r=e===void 0?gle:e,n=Nk(t,ale),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=Nk(n,sle);return!i||!i.length?null:oe.createElement(Yt,{className:"recharts-label-list"},i.map(function(u,f){var p=Ct(a)?r(u,f):yn(u&&u.payload,a),h=Ct(o)?{}:{id:"".concat(o,"-").concat(f)};return oe.createElement(Nn,Tv({},pt(u,!0),c,h,{parentViewBox:u.parentViewBox,value:p,textBreakAll:l,viewBox:Nn.parseViewBox(Ct(s)?u:Ak(Ak({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}oo.displayName="LabelList";function vle(t,e){return t?t===!0?oe.createElement(oo,{key:"labelList-implicit",data:e}):oe.isValidElement(t)||wt(t)?oe.createElement(oo,{key:"labelList-implicit",data:e,content:t}):hf(t)?oe.createElement(oo,Tv({data:e},t,{key:"labelList-implicit"})):null:null}function yle(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Hi(n,oo).map(function(s,o){return Y.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var a=vle(t.label,e);return[a].concat(ole(i))}oo.renderCallByParent=yle;function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function Uw(){return Uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uw.apply(this,arguments)}function kk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ok(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(r),!0).forEach(function(n){ble(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ble(t,e,r){return e=xle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xle(t){var e=wle(t,"string");return Fp(e)=="symbol"?e:e+""}function wle(t,e){if(Fp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _le=function(e,r){var n=ii(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Fg=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,f=Math.asin(l/u)/Cv,p=c?a:a+s*f,h=br(r,n,u,p),v=br(r,n,i,p),g=c?a-s*f:a,b=br(r,n,u*Math.cos(f*Cv),g);return{center:h,circleTangency:v,lineTangency:b,theta:f}},TI=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=_le(s,o),c=s+l,u=br(r,n,a,s),f=br(r,n,a,c),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=br(r,n,i,s),v=br(r,n,i,c);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},Sle=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=ii(u-c),p=Fg({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),h=p.circleTangency,v=p.lineTangency,g=p.theta,b=Fg({cx:r,cy:n,radius:a,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),y=b.circleTangency,w=b.lineTangency,_=b.theta,j=l?Math.abs(c-u):Math.abs(c-u)-g-_;if(j<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):TI({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var N=Fg({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),P=N.circleTangency,C=N.lineTangency,I=N.theta,F=Fg({cx:r,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=F.circleTangency,T=F.lineTangency,M=F.theta,R=l?Math.abs(c-u):Math.abs(c-u)-I-M;if(R<0&&s===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},jle={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LI=function(e){var r=Ok(Ok({},jle),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,p=r.className;if(s<a||u===f)return null;var h=Mt("recharts-sector",p),v=s-a,g=ai(o,v,0,!0),b;return g>0&&Math.abs(u-f)<360?b=Sle({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):b=TI({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f}),oe.createElement("path",Uw({},pt(r,!0),{className:h,d:b,role:"img"}))};function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zw.apply(this,arguments)}function Pk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ek(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(r),!0).forEach(function(n){Ale(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ale(t,e,r){return e=Nle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nle(t){var e=kle(t,"string");return Up(e)=="symbol"?e:e+""}function kle(t,e){if(Up(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ck={curveBasisClosed:AG,curveBasisOpen:NG,curveBasis:jG,curveBumpX:uG,curveBumpY:dG,curveLinearClosed:kG,curveLinear:Ky,curveMonotoneX:OG,curveMonotoneY:PG,curveNatural:EG,curveStep:CG,curveStepAfter:LG,curveStepBefore:TG},Ug=function(e){return e.x===+e.x&&e.y===+e.y},mh=function(e){return e.x},gh=function(e){return e.y},Ole=function(e,r){if(wt(e))return e;var n="curve".concat(Vy(e));return(n==="curveMonotone"||n==="curveBump")&&r?Ck["".concat(n).concat(r==="vertical"?"Y":"X")]:Ck[n]||Ky},Ple=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=Ole(n,o),f=c?a.filter(function(g){return Ug(g)}):a,p;if(Array.isArray(s)){var h=c?s.filter(function(g){return Ug(g)}):s,v=f.map(function(g,b){return Ek(Ek({},g),{},{base:h[b]})});return o==="vertical"?p=Cg().y(gh).x1(mh).x0(function(g){return g.base.x}):p=Cg().x(mh).y1(gh).y0(function(g){return g.base.y}),p.defined(Ug).curve(u),p(v)}return o==="vertical"&&Fe(s)?p=Cg().y(gh).x1(mh).x0(s):Fe(s)?p=Cg().x(mh).y1(gh).y0(s):p=k8().x(mh).y(gh),p.defined(Ug).curve(u),p(f)},Lv=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?Ple(e):i;return Y.createElement("path",zw({},pt(e,!1),nv(e),{className:Mt("recharts-curve",r),d:s,ref:a}))},II={exports:{}},Ele="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Cle=Ele,Tle=Cle;function $I(){}function RI(){}RI.resetWarningCache=$I;var Lle=function(){function t(n,i,a,s,o,l){if(l!==Tle){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:RI,resetWarningCache:$I};return r.PropTypes=r,r};II.exports=Lle();var Ile=II.exports;const tr=sr(Ile);var $le=Object.getOwnPropertyNames,Rle=Object.getOwnPropertySymbols,Mle=Object.prototype.hasOwnProperty;function Tk(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function zg(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function Dle(t){return t!=null?t[Symbol.toStringTag]:void 0}function Lk(t){return $le(t).concat(Rle(t))}var Ble=Object.hasOwn||function(t,e){return Mle.call(t,e)};function tu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Fle="__v",Ule="__o",zle="_owner",Ik=Object.getOwnPropertyDescriptor,$k=Object.keys;function qle(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Wle(t,e){return tu(t.getTime(),e.getTime())}function Hle(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Vle(t,e){return t===e}function Rk(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var c=e.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(i[f]){f++;continue}var p=s.value,h=o.value;if(r.equals(p[0],h[0],l,f,t,e,r)&&r.equals(p[1],h[1],p[0],h[0],t,e,r)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var Gle=tu;function Kle(t,e,r){var n=$k(t),i=n.length;if($k(e).length!==i)return!1;for(;i-- >0;)if(!MI(t,e,r,n[i]))return!1;return!0}function vh(t,e,r){var n=Lk(t),i=n.length;if(Lk(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!MI(t,e,r,a)||(s=Ik(t,a),o=Ik(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function Yle(t,e){return tu(t.valueOf(),e.valueOf())}function Xle(t,e){return t.source===e.source&&t.flags===e.flags}function Mk(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!i[u]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Jle(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Zle(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function MI(t,e,r,n){return(n===zle||n===Ule||n===Fle)&&(t.$$typeof||e.$$typeof)?!0:Ble(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Qle="[object Arguments]",ece="[object Boolean]",tce="[object Date]",rce="[object Error]",nce="[object Map]",ice="[object Number]",ace="[object Object]",sce="[object RegExp]",oce="[object Set]",lce="[object String]",cce="[object URL]",uce=Array.isArray,Dk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Bk=Object.assign,dce=Object.prototype.toString.call.bind(Object.prototype.toString);function fce(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,f=t.areTypedArraysEqual,p=t.areUrlsEqual,h=t.unknownTagComparators;return function(g,b,y){if(g===b)return!0;if(g==null||b==null)return!1;var w=typeof g;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?s(g,b,y):w==="function"?i(g,b,y):!1;var _=g.constructor;if(_!==b.constructor)return!1;if(_===Object)return o(g,b,y);if(uce(g))return e(g,b,y);if(Dk!=null&&Dk(g))return f(g,b,y);if(_===Date)return r(g,b,y);if(_===RegExp)return c(g,b,y);if(_===Map)return a(g,b,y);if(_===Set)return u(g,b,y);var j=dce(g);if(j===tce)return r(g,b,y);if(j===sce)return c(g,b,y);if(j===nce)return a(g,b,y);if(j===oce)return u(g,b,y);if(j===ace)return typeof g.then!="function"&&typeof b.then!="function"&&o(g,b,y);if(j===cce)return p(g,b,y);if(j===rce)return n(g,b,y);if(j===Qle)return o(g,b,y);if(j===ece||j===ice||j===lce)return l(g,b,y);if(h){var S=h[j];if(!S){var N=Dle(g);N&&(S=h[N])}if(S)return S(g,b,y)}return!1}}function hce(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?vh:qle,areDatesEqual:Wle,areErrorsEqual:Hle,areFunctionsEqual:Vle,areMapsEqual:n?Tk(Rk,vh):Rk,areNumbersEqual:Gle,areObjectsEqual:n?vh:Kle,arePrimitiveWrappersEqual:Yle,areRegExpsEqual:Xle,areSetsEqual:n?Tk(Mk,vh):Mk,areTypedArraysEqual:n?vh:Jle,areUrlsEqual:Zle,unknownTagComparators:void 0};if(r&&(i=Bk({},i,r(i))),e){var a=zg(i.areArraysEqual),s=zg(i.areMapsEqual),o=zg(i.areObjectsEqual),l=zg(i.areSetsEqual);i=Bk({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function pce(t){return function(e,r,n,i,a,s,o){return t(e,r,o)}}function mce(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,c){var u=n(),f=u.cache,p=f===void 0?e?new WeakMap:void 0:f,h=u.meta;return r(l,c,{cache:p,equals:i,meta:h,strict:a})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,s)}}var gce=El();El({strict:!0});El({circular:!0});El({circular:!0,strict:!0});El({createInternalComparator:function(){return tu}});El({strict:!0,createInternalComparator:function(){return tu}});El({circular:!0,createInternalComparator:function(){return tu}});El({circular:!0,createInternalComparator:function(){return tu},strict:!0});function El(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=hce(t),l=fce(o),c=n?n(l):pce(l);return mce({circular:r,comparator:l,createState:i,equals:c,strict:s})}function vce(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Fk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):vce(i)};requestAnimationFrame(n)}function qw(t){"@babel/helpers - typeof";return qw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qw(t)}function yce(t){return _ce(t)||wce(t)||xce(t)||bce()}function bce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xce(t,e){if(t){if(typeof t=="string")return Uk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uk(t,e)}}function Uk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ce(t){if(Array.isArray(t))return t}function Sce(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=yce(s),l=o[0],c=o.slice(1);if(typeof l=="number"){Fk(i.bind(null,c),l);return}i(l),Fk(i.bind(null,c));return}qw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function zk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(r),!0).forEach(function(n){DI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DI(t,e,r){return e=jce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jce(t){var e=Ace(t,"string");return zp(e)==="symbol"?e:String(e)}function Ace(t,e){if(zp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nce=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},kce=function(e){return e},Oce=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},qh=function(e,r){return Object.keys(r).reduce(function(n,i){return qk(qk({},n),{},DI({},i,e(i,r[i])))},{})},Wk=function(e,r,n){return e.map(function(i){return"".concat(Oce(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Pce(t,e){return Tce(t)||Cce(t,e)||BI(t,e)||Ece()}function Ece(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Tce(t){if(Array.isArray(t))return t}function Lce(t){return Rce(t)||$ce(t)||BI(t)||Ice()}function Ice(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BI(t,e){if(t){if(typeof t=="string")return Ww(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ww(t,e)}}function $ce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rce(t){if(Array.isArray(t))return Ww(t)}function Ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Iv=1e-4,FI=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},UI=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},Hk=function(e,r){return function(n){var i=FI(e,r);return UI(i,n)}},Mce=function(e,r){return function(n){var i=FI(e,r),a=[].concat(Lce(i.map(function(s,o){return s*o}).slice(1)),[0]);return UI(a,n)}},Vk=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),u=Pce(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var f=Hk(i,s),p=Hk(a,o),h=Mce(i,s),v=function(y){return y>1?1:y<0?0:y},g=function(y){for(var w=y>1?1:y,_=w,j=0;j<8;++j){var S=f(_)-w,N=h(_);if(Math.abs(S-w)<Iv||N<Iv)return p(_);_=v(_-S/N)}return p(_)};return g.isStepper=!1,g},Dce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(u,f,p){var h=-(u-f)*n,v=p*a,g=p+(h-v)*o/1e3,b=p*o/1e3+u;return Math.abs(b-f)<Iv&&Math.abs(g)<Iv?[f,0]:[b,g]};return l.isStepper=!0,l.dt=o,l},Bce=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Vk(i);case"spring":return Dce();default:if(i.split("(")[0]==="cubic-bezier")return Vk(i)}return typeof i=="function"?i:null};function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function Gk(t){return zce(t)||Uce(t)||zI(t)||Fce()}function Fce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zce(t){if(Array.isArray(t))return Vw(t)}function Kk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function In(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(r),!0).forEach(function(n){Hw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hw(t,e,r){return e=qce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qce(t){var e=Wce(t,"string");return qp(e)==="symbol"?e:String(e)}function Wce(t,e){if(qp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hce(t,e){return Kce(t)||Gce(t,e)||zI(t,e)||Vce()}function Vce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zI(t,e){if(t){if(typeof t=="string")return Vw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vw(t,e)}}function Vw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Kce(t){if(Array.isArray(t))return t}var $v=function(e,r,n){return e+(r-e)*n},Gw=function(e){var r=e.from,n=e.to;return r!==n},Yce=function t(e,r,n){var i=qh(function(a,s){if(Gw(s)){var o=e(s.from,s.to,s.velocity),l=Hce(o,2),c=l[0],u=l[1];return In(In({},s),{},{from:c,velocity:u})}return s},r);return n<1?qh(function(a,s){return Gw(s)?In(In({},s),{},{velocity:$v(s.velocity,i[a].velocity,n),from:$v(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const Xce=function(t,e,r,n,i){var a=Nce(t,e),s=a.reduce(function(b,y){return In(In({},b),{},Hw({},y,[t[y],e[y]]))},{}),o=a.reduce(function(b,y){return In(In({},b),{},Hw({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,c,u,f=function(){return null},p=function(){return qh(function(y,w){return w.from},o)},h=function(){return!Object.values(o).filter(Gw).length},v=function(y){c||(c=y);var w=y-c,_=w/r.dt;o=Yce(r,o,_),i(In(In(In({},t),e),p())),c=y,h()||(l=requestAnimationFrame(f))},g=function(y){u||(u=y);var w=(y-u)/n,_=qh(function(S,N){return $v.apply(void 0,Gk(N).concat([r(w)]))},s);if(i(In(In(In({},t),e),_)),w<1)l=requestAnimationFrame(f);else{var j=qh(function(S,N){return $v.apply(void 0,Gk(N).concat([r(1)]))},s);i(In(In(In({},t),e),j))}};return f=r.isStepper?v:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}var Jce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Zce(t,e){if(t==null)return{};var r=Qce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qce(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function lx(t){return nue(t)||rue(t)||tue(t)||eue()}function eue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tue(t,e){if(t){if(typeof t=="string")return Kw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kw(t,e)}}function rue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nue(t){if(Array.isArray(t))return Kw(t)}function Kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(r),!0).forEach(function(n){kh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kh(t,e,r){return e=qI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qI(n.key),n)}}function sue(t,e,r){return e&&aue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qI(t){var e=oue(t,"string");return Dd(e)==="symbol"?e:String(e)}function oue(t,e){if(Dd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yw(t,e)}function Yw(t,e){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yw(t,e)}function cue(t){var e=uue();return function(){var n=Rv(t),i;if(e){var a=Rv(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Xw(this,i)}}function Xw(t,e){if(e&&(Dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jw(t)}function Jw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rv(t)}var js=function(t){lue(r,t);var e=cue(r);function r(n,i){var a;iue(this,r),a=e.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,p=s.children,h=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Jw(a)),a.changeStyle=a.changeStyle.bind(Jw(a)),!o||h<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:u}),Xw(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof p=="function")return a.state={style:c},Xw(a);a.state={style:l?kh({},l,c):c}}else a.state={style:{}};return a}return sue(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,p=this.state.style;if(o){if(!s){var h={style:l?kh({},l,u):u};this.state&&p&&(l&&p[l]!==u||!l&&p!==u)&&this.setState(h);return}if(!(gce(i.to,u)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||c?f:i.to;if(this.state&&p){var b={style:l?kh({},l,g):g};(l&&p[l]!==g||!l&&p!==g)&&this.setState(b)}this.runAnimation(Ta(Ta({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,h=Xce(s,o,Bce(c),l,this.changeStyle),v=function(){a.stopJSAnimation=h()};this.manager.start([p,u,v,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,f=c.duration,p=f===void 0?0:f,h=function(g,b,y){if(y===0)return g;var w=b.duration,_=b.easing,j=_===void 0?"ease":_,S=b.style,N=b.properties,P=b.onAnimationEnd,C=y>0?s[y-1]:b,I=N||Object.keys(S);if(typeof j=="function"||j==="spring")return[].concat(lx(g),[a.runJSAnimation.bind(a,{from:C.style,to:S,duration:w,easing:j}),w]);var F=Wk(I,w,j),O=Ta(Ta(Ta({},C.style),S),{},{transition:F});return[].concat(lx(g),[O,w,P]).filter(kce)};return this.manager.start([l].concat(lx(s.reduce(h,[u,Math.max(p,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Sce());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,h=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var g=o?kh({},o,l):l,b=Wk(Object.keys(g),s,c);v.start([u,a,Ta(Ta({},g),{},{transition:b}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Zce(i,Jce),c=Y.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var f=function(h){var v=h.props,g=v.style,b=g===void 0?{}:g,y=v.className,w=Y.cloneElement(h,Ta(Ta({},l),{},{style:Ta(Ta({},b),u),className:y}));return w};return c===1?f(Y.Children.only(a)):oe.createElement("div",null,Y.Children.map(a,function(p){return f(p)}))}}]),r}(Y.PureComponent);js.displayName="Animate";js.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};js.propTypes={from:tr.oneOfType([tr.object,tr.string]),to:tr.oneOfType([tr.object,tr.string]),attributeName:tr.string,duration:tr.number,begin:tr.number,easing:tr.oneOfType([tr.string,tr.func]),steps:tr.arrayOf(tr.shape({duration:tr.number.isRequired,style:tr.object.isRequired,easing:tr.oneOfType([tr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),tr.func]),properties:tr.arrayOf("string"),onAnimationEnd:tr.func})),children:tr.oneOfType([tr.node,tr.func]),isActive:tr.bool,canBegin:tr.bool,onAnimationEnd:tr.func,shouldReAnimate:tr.bool,onAnimationStart:tr.func,onAnimationReStart:tr.func};function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mv.apply(this,arguments)}function due(t,e){return mue(t)||pue(t,e)||hue(t,e)||fue()}function fue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hue(t,e){if(t){if(typeof t=="string")return Xk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xk(t,e)}}function Xk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function mue(t){if(Array.isArray(t))return t}function Jk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(r),!0).forEach(function(n){gue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gue(t,e,r){return e=vue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vue(t){var e=yue(t,"string");return Wp(e)=="symbol"?e:e+""}function yue(t,e){if(Wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qk=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=a[p]>s?s:a[p];u="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),u+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+o*f[1])),u+="L ".concat(e+n,",").concat(r+i-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),u+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-o*f[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var v=Math.min(s,a);u="M ".concat(e,",").concat(r+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(r,`
            L `).concat(e+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+n,",").concat(r+o*v,`
            L `).concat(e+n,",").concat(r+i-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+n-l*v,",").concat(r+i,`
            L `).concat(e+l*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(r+i-o*v," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},bue=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),f=Math.min(s,s+l),p=Math.max(s,s+l);return n>=c&&n<=u&&i>=f&&i<=p}return!1},xue={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qS=function(e){var r=Zk(Zk({},xue),e),n=Y.useRef(),i=Y.useState(-1),a=due(i,2),s=a[0],o=a[1];Y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&o(j)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,p=r.radius,h=r.className,v=r.animationEasing,g=r.animationDuration,b=r.animationBegin,y=r.isAnimationActive,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var _=Mt("recharts-rectangle",h);return w?oe.createElement(js,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:g,animationEasing:v,isActive:w},function(j){var S=j.width,N=j.height,P=j.x,C=j.y;return oe.createElement(js,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,isActive:y,easing:v},oe.createElement("path",Mv({},pt(r,!0),{className:_,d:Qk(P,C,S,N,p),ref:n})))}):oe.createElement("path",Mv({},pt(r,!0),{className:_,d:Qk(l,c,u,f,p)}))},wue=["points","className","baseLinePoints","connectNulls"];function Yu(){return Yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yu.apply(this,arguments)}function _ue(t,e){if(t==null)return{};var r=Sue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eO(t){return kue(t)||Nue(t)||Aue(t)||jue()}function jue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aue(t,e){if(t){if(typeof t=="string")return Zw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zw(t,e)}}function Nue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kue(t){if(Array.isArray(t))return Zw(t)}function Zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var tO=function(e){return e&&e.x===+e.x&&e.y===+e.y},Oue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){tO(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),tO(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Wh=function(e,r){var n=Oue(e);r&&(n=[n.reduce(function(a,s){return[].concat(eO(a),eO(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Pue=function(e,r,n){var i=Wh(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Wh(r.reverse(),n).slice(1))},Eue=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=_ue(e,wue);if(!r||!r.length)return null;var o=Mt("recharts-polygon",n);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",c=Pue(r,i,a);return oe.createElement("g",{className:o},oe.createElement("path",Yu({},pt(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?oe.createElement("path",Yu({},pt(s,!0),{fill:"none",d:Wh(r,a)})):null,l?oe.createElement("path",Yu({},pt(s,!0),{fill:"none",d:Wh(i,a)})):null)}var u=Wh(r,a);return oe.createElement("path",Yu({},pt(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:o,d:u}))};function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qw.apply(this,arguments)}var u1=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=Mt("recharts-dot",a);return r===+r&&n===+n&&i===+i?Y.createElement("circle",Qw({},pt(e,!1),nv(e),{className:s,cx:r,cy:n,r:i})):null};function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}var Cue=["x","y","top","left","width","height","className"];function e5(){return e5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e5.apply(this,arguments)}function rO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(r),!0).forEach(function(n){Lue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lue(t,e,r){return e=Iue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iue(t){var e=$ue(t,"string");return Hp(e)=="symbol"?e:e+""}function $ue(t,e){if(Hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rue(t,e){if(t==null)return{};var r=Mue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Due=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},Bue=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,p=e.height,h=p===void 0?0:p,v=e.className,g=Rue(e,Cue),b=Tue({x:n,y:a,top:o,left:c,width:f,height:h},g);return!Fe(n)||!Fe(a)||!Fe(f)||!Fe(h)||!Fe(o)||!Fe(c)?null:oe.createElement("path",e5({},pt(b,!0),{className:Mt("recharts-cross",v),d:Due(n,a,f,h,o,c)}))},Fue=a1,Uue=tI,zue=Ns;function que(t,e){return t&&t.length?Fue(t,zue(e),Uue):void 0}var Wue=que;const Hue=sr(Wue);var Vue=a1,Gue=Ns,Kue=rI;function Yue(t,e){return t&&t.length?Vue(t,Gue(e),Kue):void 0}var Xue=Yue;const Jue=sr(Xue);var Zue=["cx","cy","angle","ticks","axisLine"],Que=["ticks","tick","angle","tickFormatter","stroke"];function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function Hh(){return Hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hh.apply(this,arguments)}function nO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(r),!0).forEach(function(n){d1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iO(t,e){if(t==null)return{};var r=ede(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ede(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HI(n.key),n)}}function rde(t,e,r){return e&&aO(t.prototype,e),r&&aO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nde(t,e,r){return e=Dv(e),ide(t,WI()?Reflect.construct(e,r||[],Dv(t).constructor):e.apply(t,r))}function ide(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ade(t)}function ade(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WI=function(){return!!t})()}function Dv(t){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dv(t)}function sde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t5(t,e)}function t5(t,e){return t5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},t5(t,e)}function d1(t,e,r){return e=HI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HI(t){var e=ode(t,"string");return Bd(e)=="symbol"?e:e+""}function ode(t,e){if(Bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var f1=function(t){function e(){return tde(this,e),nde(this,e,arguments)}return sde(e,t),rde(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return br(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=Hue(o,function(u){return u.coordinate||0}),c=Jue(o,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=n.axisLine,c=iO(n,Zue),u=o.reduce(function(v,g){return[Math.min(v[0],g.coordinate),Math.max(v[1],g.coordinate)]},[1/0,-1/0]),f=br(i,a,u[0],s),p=br(i,a,u[1],s),h=sc(sc(sc({},pt(c,!1)),{},{fill:"none"},pt(l,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return oe.createElement("line",Hh({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,u=iO(i,Que),f=this.getTickTextAnchor(),p=pt(u,!1),h=pt(s,!1),v=a.map(function(g,b){var y=n.getTickValueCoord(g),w=sc(sc(sc(sc({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(y.x,", ").concat(y.y,")")},p),{},{stroke:"none",fill:c},h),{},{index:b},y),{},{payload:g});return oe.createElement(Yt,Hh({className:Mt("recharts-polar-radius-axis-tick",EI(s)),key:"tick-".concat(g.coordinate)},Fc(n.props,g,b)),e.renderTickItem(s,w,l?l(g.value,b):g.value))});return oe.createElement(Yt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:oe.createElement(Yt,{className:Mt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Nn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return oe.isValidElement(n)?s=oe.cloneElement(n,i):wt(n)?s=n(i):s=oe.createElement(Uc,Hh({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(Y.PureComponent);d1(f1,"displayName","PolarRadiusAxis");d1(f1,"axisType","radiusAxis");d1(f1,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yc.apply(this,arguments)}function sO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(r),!0).forEach(function(n){h1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GI(n.key),n)}}function cde(t,e,r){return e&&oO(t.prototype,e),r&&oO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ude(t,e,r){return e=Bv(e),dde(t,VI()?Reflect.construct(e,r||[],Bv(t).constructor):e.apply(t,r))}function dde(t,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fde(t)}function fde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VI=function(){return!!t})()}function Bv(t){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bv(t)}function hde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r5(t,e)}function r5(t,e){return r5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r5(t,e)}function h1(t,e,r){return e=GI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GI(t){var e=pde(t,"string");return Fd(e)=="symbol"?e:e+""}function pde(t,e){if(Fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mde=Math.PI/180,lO=1e-5,p1=function(t){function e(){return lde(this,e),ude(this,e,arguments)}return hde(e,t),cde(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,u=c||8,f=br(a,s,o,n.coordinate),p=br(a,s,o+(l==="inner"?-1:1)*u,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*mde),s;return a>lO?s=i==="outer"?"start":"end":a<-lO?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,o=n.axisLine,l=n.axisLineType,c=oc(oc({},pt(this.props,!1)),{},{fill:"none"},pt(o,!1));if(l==="circle")return oe.createElement(u1,yc({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:s}));var u=this.props.ticks,f=u.map(function(p){return br(i,a,s,p.coordinate)});return oe.createElement(Eue,yc({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,u=pt(this.props,!1),f=pt(s,!1),p=oc(oc({},u),{},{fill:"none"},pt(o,!1)),h=a.map(function(v,g){var b=n.getTickLineCoord(v),y=n.getTickTextAnchor(v),w=oc(oc(oc({textAnchor:y},u),{},{stroke:"none",fill:c},f),{},{index:g,payload:v,x:b.x2,y:b.y2});return oe.createElement(Yt,yc({className:Mt("recharts-polar-angle-axis-tick",EI(s)),key:"tick-".concat(v.coordinate)},Fc(n.props,v,g)),o&&oe.createElement("line",yc({className:"recharts-polar-angle-axis-tick-line"},p,b)),s&&e.renderTickItem(s,w,l?l(v.value,g):v.value))});return oe.createElement(Yt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:oe.createElement(Yt,{className:Mt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return oe.isValidElement(n)?s=oe.cloneElement(n,i):wt(n)?s=n(i):s=oe.createElement(Uc,yc({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(Y.PureComponent);h1(p1,"displayName","PolarAngleAxis");h1(p1,"axisType","angleAxis");h1(p1,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var gde=J8,vde=gde(Object.getPrototypeOf,Object),yde=vde,bde=xo,xde=yde,wde=wo,_de="[object Object]",Sde=Function.prototype,jde=Object.prototype,KI=Sde.toString,Ade=jde.hasOwnProperty,Nde=KI.call(Object);function kde(t){if(!wde(t)||bde(t)!=_de)return!1;var e=xde(t);if(e===null)return!0;var r=Ade.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&KI.call(r)==Nde}var Ode=kde;const Pde=sr(Ode);var Ede=xo,Cde=wo,Tde="[object Boolean]";function Lde(t){return t===!0||t===!1||Cde(t)&&Ede(t)==Tde}var Ide=Lde;const $de=sr(Ide);function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fv.apply(this,arguments)}function Rde(t,e){return Fde(t)||Bde(t,e)||Dde(t,e)||Mde()}function Mde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dde(t,e){if(t){if(typeof t=="string")return cO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cO(t,e)}}function cO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Fde(t){if(Array.isArray(t))return t}function uO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(r),!0).forEach(function(n){Ude(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ude(t,e,r){return e=zde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zde(t){var e=qde(t,"string");return Vp(e)=="symbol"?e:e+""}function qde(t,e){if(Vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fO=function(e,r,n,i,a){var s=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+a),o+="L ".concat(e+n-s/2-i,",").concat(r+a),o+="L ".concat(e,",").concat(r," Z"),o},Wde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Hde=function(e){var r=dO(dO({},Wde),e),n=Y.useRef(),i=Y.useState(-1),a=Rde(i,2),s=a[0],o=a[1];Y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,v=r.animationEasing,g=r.animationDuration,b=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||p!==+p||u===0&&f===0||p===0)return null;var w=Mt("recharts-trapezoid",h);return y?oe.createElement(js,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:p,x:l,y:c},duration:g,animationEasing:v,isActive:y},function(_){var j=_.upperWidth,S=_.lowerWidth,N=_.height,P=_.x,C=_.y;return oe.createElement(js,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,easing:v},oe.createElement("path",Fv({},pt(r,!0),{className:w,d:fO(P,C,j,S,N),ref:n})))}):oe.createElement("g",null,oe.createElement("path",Fv({},pt(r,!0),{className:w,d:fO(l,c,u,f,p)})))},Vde=["option","shapeType","propTransformer","activeClassName","isActive"];function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function Gde(t,e){if(t==null)return{};var r=Kde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Uv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(r),!0).forEach(function(n){Yde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yde(t,e,r){return e=Xde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xde(t){var e=Jde(t,"string");return Gp(e)=="symbol"?e:e+""}function Jde(t,e){if(Gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zde(t,e){return Uv(Uv({},e),t)}function Qde(t,e){return t==="symbols"}function pO(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return oe.createElement(qS,r);case"trapezoid":return oe.createElement(Hde,r);case"sector":return oe.createElement(LI,r);case"symbols":if(Qde(e))return oe.createElement(lS,r);break;default:return null}}function efe(t){return Y.isValidElement(t)?t.props:t}function YI(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Zde:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=Gde(t,Vde),c;if(Y.isValidElement(e))c=Y.cloneElement(e,Uv(Uv({},l),efe(e)));else if(wt(e))c=e(l);else if(Pde(e)&&!$de(e)){var u=i(e,l);c=oe.createElement(pO,{shapeType:r,elementProps:u})}else{var f=l;c=oe.createElement(pO,{shapeType:r,elementProps:f})}return o?oe.createElement(Yt,{className:s},c):c}function m1(t,e){return e!=null&&"trapezoids"in t.props}function g1(t,e){return e!=null&&"sectors"in t.props}function Kp(t,e){return e!=null&&"points"in t.props}function tfe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function rfe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function nfe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function ife(t,e){var r;return m1(t,e)?r=tfe:g1(t,e)?r=rfe:Kp(t,e)&&(r=nfe),r}function afe(t,e){var r;return m1(t,e)?r="trapezoids":g1(t,e)?r="sectors":Kp(t,e)&&(r="points"),r}function sfe(t,e){if(m1(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(g1(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Kp(t,e)?e.payload:{}}function ofe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=afe(r,e),a=sfe(r,e),s=n.filter(function(l,c){var u=bm(a,l),f=r.props[i].filter(function(v){var g=ife(r,e);return g(v,e)}),p=r.props[i].indexOf(f[f.length-1]),h=c===p;return u&&h}),o=n.indexOf(s[s.length-1]);return o}var f0;function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xu.apply(this,arguments)}function mO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(r),!0).forEach(function(n){fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JI(n.key),n)}}function cfe(t,e,r){return e&&gO(t.prototype,e),r&&gO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ufe(t,e,r){return e=zv(e),dfe(t,XI()?Reflect.construct(e,r||[],zv(t).constructor):e.apply(t,r))}function dfe(t,e){if(e&&(Ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ffe(t)}function ffe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XI=function(){return!!t})()}function zv(t){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zv(t)}function hfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n5(t,e)}function n5(t,e){return n5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n5(t,e)}function fa(t,e,r){return e=JI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JI(t){var e=pfe(t,"string");return Ud(e)=="symbol"?e:e+""}function pfe(t,e){if(Ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var So=function(t){function e(r){var n;return lfe(this,e),n=ufe(this,e,[r]),fa(n,"pieRef",null),fa(n,"sectorRefs",[]),fa(n,"id",vf("recharts-pie-")),fa(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),wt(i)&&i()}),fa(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),wt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return hfe(e,t),cfe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,c=a.valueKey,u=pt(this.props,!1),f=pt(s,!1),p=pt(o,!1),h=s&&s.offsetRadius||20,v=n.map(function(g,b){var y=(g.startAngle+g.endAngle)/2,w=br(g.cx,g.cy,g.outerRadius+h,y),_=gr(gr(gr(gr({},u),g),{},{stroke:"none"},f),{},{index:b,textAnchor:e.getTextAnchor(w.x,g.cx)},w),j=gr(gr(gr(gr({},u),g),{},{fill:"none",stroke:g.fill},p),{},{index:b,points:[br(g.cx,g.cy,g.outerRadius,y),w]}),S=l;return Ct(l)&&Ct(c)?S="value":Ct(l)&&(S=c),oe.createElement(Yt,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(b)},o&&e.renderLabelLineItem(o,j,"line"),e.renderLabelItem(s,_,yn(g,S)))});return oe.createElement(Yt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return n.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(u),p=l&&i.hasActiveIndex()?l:null,h=f?s:p,v=gr(gr({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return oe.createElement(Yt,Xu({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Fc(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),oe.createElement(YI,Xu({option:h,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return oe.createElement(js,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var g=v.t,b=[],y=a&&a[0],w=y.startAngle;return a.forEach(function(_,j){var S=p&&p[j],N=j>0?Wi(_,"paddingAngle",0):0;if(S){var P=Mi(S.endAngle-S.startAngle,_.endAngle-_.startAngle),C=gr(gr({},_),{},{startAngle:w+N,endAngle:w+P(g)+N});b.push(C),w=C.endAngle}else{var I=_.endAngle,F=_.startAngle,O=Mi(0,I-F),T=O(g),M=gr(gr({},_),{},{startAngle:w+N,endAngle:w+T+N});b.push(M),w=M.endAngle}}),oe.createElement(Yt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!bm(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,c=i.cx,u=i.cy,f=i.innerRadius,p=i.outerRadius,h=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!s||!s.length||!Fe(c)||!Fe(u)||!Fe(f)||!Fe(p))return null;var g=Mt("recharts-pie",o);return oe.createElement(Yt,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){n.pieRef=y}},this.renderSectors(),l&&this.renderLabels(s),Nn.renderCallByParent(this.props,null,!1),(!h||v)&&oo.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(oe.isValidElement(n))return oe.cloneElement(n,i);if(wt(n))return n(i);var s=Mt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return oe.createElement(Lv,Xu({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(oe.isValidElement(n))return oe.cloneElement(n,i);var s=a;if(wt(n)&&(s=n(i),oe.isValidElement(s)))return s;var o=Mt("recharts-pie-label-text",typeof n!="boolean"&&!wt(n)?n.className:"");return oe.createElement(Uc,Xu({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(Y.PureComponent);f0=So;fa(So,"displayName","Pie");fa(So,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Zc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});fa(So,"parseDeltaAngle",function(t,e){var r=ii(e-t),n=Math.min(Math.abs(e-t),360);return r*n});fa(So,"getRealPieData",function(t){var e=t.data,r=t.children,n=pt(t,!1),i=Hi(r,pm);return e&&e.length?e.map(function(a,s){return gr(gr(gr({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return gr(gr({},n),a.props)}):[]});fa(So,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,s=PI(i,a),o=n+ai(t.cx,i,i/2),l=r+ai(t.cy,a,a/2),c=ai(t.innerRadius,s,0),u=ai(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:u,maxRadius:f}});fa(So,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?gr(gr({},e.type.defaultProps),e.props):e.props,i=f0.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,o=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,f=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),v=f0.parseCoordinateOfPie(n,r),g=f0.parseDeltaAngle(s,o),b=Math.abs(g),y=c;Ct(c)&&Ct(f)?(Ga(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Ct(c)&&(Ga(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var w=i.filter(function(C){return yn(C,y,0)!==0}).length,_=(b>=360?w:w-1)*l,j=b-w*h-_,S=i.reduce(function(C,I){var F=yn(I,y,0);return C+(Fe(F)?F:0)},0),N;if(S>0){var P;N=i.map(function(C,I){var F=yn(C,y,0),O=yn(C,u,I),T=(Fe(F)?F:0)/S,M;I?M=P.endAngle+ii(g)*l*(F!==0?1:0):M=s;var R=M+ii(g)*((F!==0?h:0)+T*j),U=(M+R)/2,H=(v.innerRadius+v.outerRadius)/2,G=[{name:O,value:F,payload:C,dataKey:y,type:p}],$=br(v.cx,v.cy,H,U);return P=gr(gr(gr({percent:T,cornerRadius:a,name:O,tooltipPayload:G,midAngle:U,middleRadius:H,tooltipPosition:$},C),v),{},{value:yn(C,y),startAngle:M,endAngle:R,payload:C,paddingAngle:ii(g)*l}),P})}return gr(gr({},v),{},{sectors:N,data:i})});var mfe=Math.ceil,gfe=Math.max;function vfe(t,e,r,n){for(var i=-1,a=gfe(mfe((e-t)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=t,t+=r;return s}var yfe=vfe,bfe=gL,vO=1/0,xfe=17976931348623157e292;function wfe(t){if(!t)return t===0?t:0;if(t=bfe(t),t===vO||t===-vO){var e=t<0?-1:1;return e*xfe}return t===t?t:0}var ZI=wfe,_fe=yfe,Sfe=Zy,cx=ZI;function jfe(t){return function(e,r,n){return n&&typeof n!="number"&&Sfe(e,r,n)&&(r=n=void 0),e=cx(e),r===void 0?(r=e,e=0):r=cx(r),n=n===void 0?e<r?1:-1:cx(n),_fe(e,r,n,t)}}var Afe=jfe,Nfe=Afe,kfe=Nfe(),Ofe=kfe;const qv=sr(Ofe);function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function yO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(r),!0).forEach(function(n){QI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QI(t,e,r){return e=Pfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pfe(t){var e=Efe(t,"string");return Yp(e)=="symbol"?e:e+""}function Efe(t,e){if(Yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cfe=["Webkit","Moz","O","ms"],Tfe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Cfe.reduce(function(a,s){return bO(bO({},a),{},QI({},s+n,r))},{});return i[e]=r,i};function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wv.apply(this,arguments)}function xO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ux(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(r),!0).forEach(function(n){Ii(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t$(n.key),n)}}function Ife(t,e,r){return e&&wO(t.prototype,e),r&&wO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $fe(t,e,r){return e=Hv(e),Rfe(t,e$()?Reflect.construct(e,r||[],Hv(t).constructor):e.apply(t,r))}function Rfe(t,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mfe(t)}function Mfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e$=function(){return!!t})()}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hv(t)}function Dfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i5(t,e)}function i5(t,e){return i5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},i5(t,e)}function Ii(t,e,r){return e=t$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t$(t){var e=Bfe(t,"string");return zd(e)=="symbol"?e:e+""}function Bfe(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ffe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Uh().domain(qv(0,l)).range([a,a+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},_O=function(e){return e.changedTouches&&!!e.changedTouches.length},qd=function(t){function e(r){var n;return Lfe(this,e),n=$fe(this,e,[r]),Ii(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ii(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ii(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),Ii(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ii(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ii(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ii(n,"handleSlideDragStart",function(i){var a=_O(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Dfe(e,t),Ife(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(i,a),p=Math.max(i,a),h=e.getIndexInRange(s,f),v=e.getIndexInRange(s,p);return{startIndex:h-h%l,endIndex:v===u?u:v-v%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=yn(a[n],o,n);return wt(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,p=l.startIndex,h=l.endIndex,v=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,c+u-f-o,c+u-f-s):g<0&&(g=Math.max(g,c-s,c-o));var b=this.getIndex({startX:s+g,endX:o+g});(b.startIndex!==p||b.endIndex!==h)&&v&&v(b),this.setState({startX:s+g,endX:o+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=_O(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,f=u.x,p=u.width,h=u.travellerWidth,v=u.onChange,g=u.gap,b=u.data,y={startX:this.state.startX,endX:this.state.endX},w=n.pageX-a;w>0?w=Math.min(w,f+p-h-c):w<0&&(w=Math.max(w,f-c)),y[s]=c+w;var _=this.getIndex(y),j=_.startIndex,S=_.endIndex,N=function(){var C=b.length-1;return s==="startX"&&(o>l?j%g===0:S%g===0)||o<l&&S===C||s==="endX"&&(o>l?S%g===0:j%g===0)||o>l&&S===C};this.setState(Ii(Ii({},s,c+w),"brushMoveStartX",n.pageX),function(){v&&N()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],f=o.indexOf(u);if(f!==-1){var p=f+n;if(!(p===-1||p>=o.length)){var h=o[p];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(Ii({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return oe.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=Y.Children.only(c);return f?oe.cloneElement(f,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,p=l.traveller,h=l.ariaLabel,v=l.data,g=l.startIndex,b=l.endIndex,y=Math.max(n,this.props.x),w=ux(ux({},pt(this.props,!1)),{},{x:y,y:c,width:u,height:f}),_=h||"Min value: ".concat((a=v[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=v[b])===null||s===void 0?void 0:s.name);return oe.createElement(Yt,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,w))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return oe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,p=u.endX,h=5,v={pointerEvents:"none",fill:c};return oe.createElement(Yt,{className:"recharts-brush-texts"},oe.createElement(Uc,Wv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:s+o/2},v),this.getTextOfTick(i)),oe.createElement(Uc,Wv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+h,y:s+o/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,v=p.endX,g=p.isTextActive,b=p.isSlideMoving,y=p.isTravellerMoving,w=p.isTravellerFocused;if(!i||!i.length||!Fe(o)||!Fe(l)||!Fe(c)||!Fe(u)||c<=0||u<=0)return null;var _=Mt("recharts-brush",a),j=oe.Children.count(s)===1,S=Tfe("userSelect","none");return oe.createElement(Yt,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(h,v),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(v,"endX"),(g||b||y||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(a+o/2)-1;return oe.createElement(oe.Fragment,null,oe.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),oe.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),oe.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return oe.isValidElement(n)?a=oe.cloneElement(n,i):wt(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return ux({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?Ffe({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var p=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(Y.PureComponent);Ii(qd,"displayName","Brush");Ii(qd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ufe=mS;function zfe(t,e){var r;return Ufe(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var qfe=zfe,Wfe=q8,Hfe=Ns,Vfe=qfe,Gfe=_i,Kfe=Zy;function Yfe(t,e,r){var n=Gfe(t)?Wfe:Vfe;return r&&Kfe(t,e,r)&&(e=void 0),n(t,Hfe(e))}var Xfe=Yfe;const Jfe=sr(Xfe);var ws=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},SO=dL;function Zfe(t,e,r){e=="__proto__"&&SO?SO(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Qfe=Zfe,ehe=Qfe,the=cL,rhe=Ns;function nhe(t,e){var r={};return e=rhe(e),the(t,function(n,i,a){ehe(r,i,e(n,i,a))}),r}var ihe=nhe;const ahe=sr(ihe);function she(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var ohe=she,lhe=mS;function che(t,e){var r=!0;return lhe(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var uhe=che,dhe=ohe,fhe=uhe,hhe=Ns,phe=_i,mhe=Zy;function ghe(t,e,r){var n=phe(t)?dhe:fhe;return r&&mhe(t,e,r)&&(e=void 0),n(t,hhe(e))}var vhe=ghe;const r$=sr(vhe);var yhe=["x","y"];function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function a5(){return a5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a5.apply(this,arguments)}function jO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(r),!0).forEach(function(n){bhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bhe(t,e,r){return e=xhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xhe(t){var e=whe(t,"string");return Xp(e)=="symbol"?e:e+""}function whe(t,e){if(Xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _he(t,e){if(t==null)return{};var r=She(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function She(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jhe(t,e){var r=t.x,n=t.y,i=_he(t,yhe),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),p=parseInt(f,10);return yh(yh(yh(yh(yh({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:p,name:e.name,radius:e.radius})}function AO(t){return oe.createElement(YI,a5({shapeType:"rectangle",propTransformer:jhe,activeClassName:"recharts-active-bar"},t))}var Ahe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=Fe(n)||YH(n);return a?e(n,i):(a||qc(),r)}},Nhe=["value","background"],n$;function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function khe(t,e){if(t==null)return{};var r=Ohe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ohe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vv.apply(this,arguments)}function NO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(r),!0).forEach(function(n){rl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Phe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a$(n.key),n)}}function Ehe(t,e,r){return e&&kO(t.prototype,e),r&&kO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Che(t,e,r){return e=Gv(e),The(t,i$()?Reflect.construct(e,r||[],Gv(t).constructor):e.apply(t,r))}function The(t,e){if(e&&(Wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lhe(t)}function Lhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i$=function(){return!!t})()}function Gv(t){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gv(t)}function Ihe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s5(t,e)}function s5(t,e){return s5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s5(t,e)}function rl(t,e,r){return e=a$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a$(t){var e=$he(t,"string");return Wd(e)=="symbol"?e:e+""}function $he(t,e){if(Wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ru=function(t){function e(){var r;Phe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Che(this,e,[].concat(i)),rl(r,"state",{isAnimationFinished:!1}),rl(r,"id",vf("recharts-bar-")),rl(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),rl(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Ihe(e,t),Ehe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=pt(this.props,!1);return n&&n.map(function(f,p){var h=p===l,v=h?c:s,g=nn(nn(nn({},u),f),{},{isActive:h,option:v,index:p,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return oe.createElement(Yt,Vv({className:"recharts-bar-rectangle"},Fc(i.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),oe.createElement(AO,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,p=this.state.prevData;return oe.createElement(js,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var v=h.t,g=a.map(function(b,y){var w=p&&p[y];if(w){var _=Mi(w.x,b.x),j=Mi(w.y,b.y),S=Mi(w.width,b.width),N=Mi(w.height,b.height);return nn(nn({},b),{},{x:_(v),y:j(v),width:S(v),height:N(v)})}if(s==="horizontal"){var P=Mi(0,b.height),C=P(v);return nn(nn({},b),{},{y:b.y+b.height-C,height:C})}var I=Mi(0,b.width),F=I(v);return nn(nn({},b),{},{width:F})});return oe.createElement(Yt,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!bm(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=pt(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,p=khe(c,Nhe);if(!f)return null;var h=nn(nn(nn(nn(nn({},p),{},{fill:"#eee"},f),l),Fc(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return oe.createElement(AO,Vv({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=Hi(u,xm);if(!f)return null;var p=c==="vertical"?s[0].height/2:s[0].width/2,h=function(b,y){var w=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:w,errorVal:yn(b,y)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return oe.createElement(Yt,v,f.map(function(g){return oe.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,p=n.height,h=n.isAnimationActive,v=n.background,g=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,y=Mt("recharts-bar",s),w=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,j=w||_,S=Ct(g)?this.id:g;return oe.createElement(Yt,{className:y},w||_?oe.createElement("defs",null,oe.createElement("clipPath",{id:"clipPath-".concat(S)},oe.createElement("rect",{x:w?c:c-f/2,y:_?u:u-p/2,width:w?f:f*2,height:_?p:p*2}))):null,oe.createElement(Yt,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,S),(!h||b)&&oo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(Y.PureComponent);n$=ru;rl(ru,"displayName","Bar");rl(ru,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Zc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});rl(ru,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,p=t.offset,h=poe(n,r);if(!h)return null;var v=e.layout,g=r.type.defaultProps,b=g!==void 0?nn(nn({},g),r.props):r.props,y=b.dataKey,w=b.children,_=b.minPointSize,j=v==="horizontal"?s:a,S=c?j.scale.domain():null,N=woe({numericAxis:j}),P=Hi(w,pm),C=f.map(function(I,F){var O,T,M,R,U,H;c?O=moe(c[u+F],S):(O=yn(I,y),Array.isArray(O)||(O=[N,O]));var G=Ahe(_,n$.defaultProps.minPointSize)(O[1],F);if(v==="horizontal"){var $,X=[s.scale(O[0]),s.scale(O[1])],ae=X[0],ie=X[1];T=gk({axis:a,ticks:o,bandSize:i,offset:h.offset,entry:I,index:F}),M=($=ie??ae)!==null&&$!==void 0?$:void 0,R=h.size;var E=ae-ie;if(U=Number.isNaN(E)?0:E,H={x:T,y:s.y,width:R,height:s.height},Math.abs(G)>0&&Math.abs(U)<Math.abs(G)){var z=ii(U||G)*(Math.abs(G)-Math.abs(U));M-=z,U+=z}}else{var V=[a.scale(O[0]),a.scale(O[1])],Z=V[0],ne=V[1];if(T=Z,M=gk({axis:s,ticks:l,bandSize:i,offset:h.offset,entry:I,index:F}),R=ne-Z,U=h.size,H={x:a.x,y:M,width:a.width,height:U},Math.abs(G)>0&&Math.abs(R)<Math.abs(G)){var ce=ii(R||G)*(Math.abs(G)-Math.abs(R));R+=ce}}return nn(nn(nn({},I),{},{x:T,y:M,width:R,height:U,value:c?O:O[1],payload:I,background:H},P&&P[F]&&P[F].props),{},{tooltipPayload:[kI(r,I)],tooltipPosition:{x:T+R/2,y:M+U/2}})});return nn({data:C,layout:v},p)});function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function Rhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s$(n.key),n)}}function Mhe(t,e,r){return e&&OO(t.prototype,e),r&&OO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ba(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(r),!0).forEach(function(n){v1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v1(t,e,r){return e=s$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s$(t){var e=Dhe(t,"string");return Jp(e)=="symbol"?e:e+""}function Dhe(t,e){if(Jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o$=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},p=!!Ri(c,ru);return u.reduce(function(h,v){var g=r[v],b=g.orientation,y=g.domain,w=g.padding,_=w===void 0?{}:w,j=g.mirror,S=g.reversed,N="".concat(b).concat(j?"Mirror":""),P,C,I,F,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var T=y[1]-y[0],M=1/0,R=g.categoricalDomain.sort(ZH);if(R.forEach(function(V,Z){Z>0&&(M=Math.min((V||0)-(R[Z-1]||0),M))}),Number.isFinite(M)){var U=M/T,H=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(P=U*H/2),g.padding==="no-gap"){var G=ai(e.barCategoryGap,U*H),$=U*H/2;P=$-G-($-G)/H*G}}}i==="xAxis"?C=[n.left+(_.left||0)+(P||0),n.left+n.width-(_.right||0)-(P||0)]:i==="yAxis"?C=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(P||0),n.top+n.height-(_.bottom||0)-(P||0)]:C=g.range,S&&(C=[C[1],C[0]]);var X=SI(g,a,p),ae=X.scale,ie=X.realScaleType;ae.domain(y).range(C),jI(ae);var E=AI(ae,Ba(Ba({},g),{},{realScaleType:ie}));i==="xAxis"?(O=b==="top"&&!j||b==="bottom"&&j,I=n.left,F=f[N]-O*g.height):i==="yAxis"&&(O=b==="left"&&!j||b==="right"&&j,I=f[N]-O*g.width,F=n.top);var z=Ba(Ba(Ba({},g),E),{},{realScaleType:ie,x:I,y:F,scale:ae,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return z.bandSize=Ev(z,E),!g.hide&&i==="xAxis"?f[N]+=(O?-1:1)*z.height:g.hide||(f[N]+=(O?-1:1)*z.width),Ba(Ba({},h),{},v1({},v,z))},{})},l$=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},Bhe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return l$({x:r,y:n},{x:i,y:a})},c$=function(){function t(e){Rhe(this,t),this.scale=e}return Mhe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();v1(c$,"EPS",1e-4);var WS=function(e){var r=Object.keys(e).reduce(function(n,i){return Ba(Ba({},n),{},v1({},i,c$.create(e[i])))},{});return Ba(Ba({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return ahe(i,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return r$(i,function(a,s){return r[s].isInRange(a)})}})};function Fhe(t){return(t%180+180)%180}var Uhe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Fhe(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},zhe=Ns,qhe=fm,Whe=Xy;function Hhe(t){return function(e,r,n){var i=Object(e);if(!qhe(e)){var a=zhe(r);e=Whe(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var Vhe=Hhe,Ghe=ZI;function Khe(t){var e=Ghe(t),r=e%1;return e===e?r?e-r:e:0}var Yhe=Khe,Xhe=nL,Jhe=Ns,Zhe=Yhe,Qhe=Math.max;function epe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Zhe(r);return i<0&&(i=Qhe(n+i,0)),Xhe(t,Jhe(e),i)}var tpe=epe,rpe=Vhe,npe=tpe,ipe=rpe(npe),ape=ipe;const spe=sr(ape);var ope=tH(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),HS=Y.createContext(void 0),VS=Y.createContext(void 0),u$=Y.createContext(void 0),d$=Y.createContext({}),f$=Y.createContext(void 0),h$=Y.createContext(0),p$=Y.createContext(0),EO=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=ope(a);return oe.createElement(HS.Provider,{value:n},oe.createElement(VS.Provider,{value:i},oe.createElement(d$.Provider,{value:a},oe.createElement(u$.Provider,{value:u},oe.createElement(f$.Provider,{value:s},oe.createElement(h$.Provider,{value:c},oe.createElement(p$.Provider,{value:l},o)))))))},lpe=function(){return Y.useContext(f$)},m$=function(e){var r=Y.useContext(HS);r==null&&qc();var n=r[e];return n==null&&qc(),n},cpe=function(){var e=Y.useContext(HS);return Zo(e)},upe=function(){var e=Y.useContext(VS),r=spe(e,function(n){return r$(n.domain,Number.isFinite)});return r||Zo(e)},g$=function(e){var r=Y.useContext(VS);r==null&&qc();var n=r[e];return n==null&&qc(),n},dpe=function(){var e=Y.useContext(u$);return e},fpe=function(){return Y.useContext(d$)},GS=function(){return Y.useContext(p$)},KS=function(){return Y.useContext(h$)};function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function hpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ppe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y$(n.key),n)}}function mpe(t,e,r){return e&&ppe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gpe(t,e,r){return e=Kv(e),vpe(t,v$()?Reflect.construct(e,r||[],Kv(t).constructor):e.apply(t,r))}function vpe(t,e){if(e&&(Hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ype(t)}function ype(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v$=function(){return!!t})()}function Kv(t){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kv(t)}function bpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o5(t,e)}function o5(t,e){return o5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o5(t,e)}function CO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(r),!0).forEach(function(n){YS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YS(t,e,r){return e=y$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y$(t){var e=xpe(t,"string");return Hd(e)=="symbol"?e:e+""}function xpe(t,e){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wpe(t,e){return Ape(t)||jpe(t,e)||Spe(t,e)||_pe()}function _pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Spe(t,e){if(t){if(typeof t=="string")return LO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LO(t,e)}}function LO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Ape(t){if(Array.isArray(t))return t}function l5(){return l5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l5.apply(this,arguments)}var Npe=function(e,r){var n;return oe.isValidElement(e)?n=oe.cloneElement(e,r):wt(e)?n=e(r):n=oe.createElement("line",l5({},r,{className:"recharts-reference-line-line"})),n},kpe=function(e,r,n,i,a,s,o,l,c){var u=a.x,f=a.y,p=a.width,h=a.height;if(n){var v=c.y,g=e.y.apply(v,{position:s});if(ws(c,"discard")&&!e.y.isInRange(g))return null;var b=[{x:u+p,y:g},{x:u,y:g}];return l==="left"?b.reverse():b}if(r){var y=c.x,w=e.x.apply(y,{position:s});if(ws(c,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+h},{x:w,y:f}];return o==="top"?_.reverse():_}if(i){var j=c.segment,S=j.map(function(N){return e.apply(N,{position:s})});return ws(c,"discard")&&Jfe(S,function(N){return!e.isInRange(N)})?null:S}return null};function Ope(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=lpe(),u=m$(i),f=g$(a),p=dpe();if(!c||!p)return null;Ga(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=WS({x:u.scale,y:f.scale}),v=xn(e),g=xn(r),b=n&&n.length===2,y=kpe(h,v,g,b,p,t.position,u.orientation,f.orientation,t);if(!y)return null;var w=wpe(y,2),_=w[0],j=_.x,S=_.y,N=w[1],P=N.x,C=N.y,I=ws(t,"hidden")?"url(#".concat(c,")"):void 0,F=TO(TO({clipPath:I},pt(t,!0)),{},{x1:j,y1:S,x2:P,y2:C});return oe.createElement(Yt,{className:Mt("recharts-reference-line",o)},Npe(s,F),Nn.renderCallByParent(t,Bhe({x1:j,y1:S,x2:P,y2:C})))}var XS=function(t){function e(){return hpe(this,e),gpe(this,e,arguments)}return bpe(e,t),mpe(e,[{key:"render",value:function(){return oe.createElement(Ope,this.props)}}])}(oe.Component);YS(XS,"displayName","ReferenceLine");YS(XS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function c5(){return c5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c5.apply(this,arguments)}function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function IO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $O(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(r),!0).forEach(function(n){y1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Epe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x$(n.key),n)}}function Cpe(t,e,r){return e&&Epe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tpe(t,e,r){return e=Yv(e),Lpe(t,b$()?Reflect.construct(e,r||[],Yv(t).constructor):e.apply(t,r))}function Lpe(t,e){if(e&&(Vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ipe(t)}function Ipe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b$=function(){return!!t})()}function Yv(t){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yv(t)}function $pe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u5(t,e)}function u5(t,e){return u5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u5(t,e)}function y1(t,e,r){return e=x$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x$(t){var e=Rpe(t,"string");return Vd(e)=="symbol"?e:e+""}function Rpe(t,e){if(Vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mpe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=WS({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return ws(e,"discard")&&!s.isInRange(o)?null:o},b1=function(t){function e(){return Ppe(this,e),Tpe(this,e,arguments)}return $pe(e,t),Cpe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=xn(i),u=xn(a);if(Ga(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=Mpe(this.props);if(!f)return null;var p=f.x,h=f.y,v=this.props,g=v.shape,b=v.className,y=ws(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=$O($O({clipPath:y},pt(this.props,!0)),{},{cx:p,cy:h});return oe.createElement(Yt,{className:Mt("recharts-reference-dot",b)},e.renderDot(g,w),Nn.renderCallByParent(this.props,{x:p-s,y:h-s,width:2*s,height:2*s}))}}])}(oe.Component);y1(b1,"displayName","ReferenceDot");y1(b1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});y1(b1,"renderDot",function(t,e){var r;return oe.isValidElement(t)?r=oe.cloneElement(t,e):wt(t)?r=t(e):r=oe.createElement(u1,c5({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function d5(){return d5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d5.apply(this,arguments)}function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function RO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(r),!0).forEach(function(n){x1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_$(n.key),n)}}function Fpe(t,e,r){return e&&Bpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Upe(t,e,r){return e=Xv(e),zpe(t,w$()?Reflect.construct(e,r||[],Xv(t).constructor):e.apply(t,r))}function zpe(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qpe(t)}function qpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w$=function(){return!!t})()}function Xv(t){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xv(t)}function Wpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f5(t,e)}function f5(t,e){return f5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f5(t,e)}function x1(t,e,r){return e=_$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _$(t){var e=Hpe(t,"string");return Gd(e)=="symbol"?e:e+""}function Hpe(t,e){if(Gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vpe=function(e,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var p=WS({x:u.scale,y:f.scale}),h={x:e?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},v={x:r?p.x.apply(o,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return ws(a,"discard")&&(!p.isInRange(h)||!p.isInRange(v))?null:l$(h,v)},w1=function(t){function e(){return Dpe(this,e),Upe(this,e,arguments)}return Wpe(e,t),Fpe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Ga(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=xn(i),p=xn(a),h=xn(s),v=xn(o),g=this.props.shape;if(!f&&!p&&!h&&!v&&!g)return null;var b=Vpe(f,p,h,v,this.props);if(!b&&!g)return null;var y=ws(this.props,"hidden")?"url(#".concat(u,")"):void 0;return oe.createElement(Yt,{className:Mt("recharts-reference-area",l)},e.renderRect(g,MO(MO({clipPath:y},pt(this.props,!0)),b)),Nn.renderCallByParent(this.props,b))}}])}(oe.Component);x1(w1,"displayName","ReferenceArea");x1(w1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});x1(w1,"renderRect",function(t,e){var r;return oe.isValidElement(t)?r=oe.cloneElement(t,e):wt(t)?r=t(e):r=oe.createElement(qS,d5({},e,{className:"recharts-reference-area-rect"})),r});function S$(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Gpe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Uhe(n,r)}function Kpe(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Jv(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Ype(t,e){return S$(t,e+1)}function Xpe(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,o=e.end,l=0,c=1,u=s,f=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:S$(n,c)};var g=l,b,y=function(){return b===void 0&&(b=r(v,g)),b},w=v.coordinate,_=l===0||Jv(t,w,y,u,o);_||(l=0,u=s,c+=1),_&&(u=w+t*(y()/2+i),l+=c)},p;c<=a.length;)if(p=f(),p)return p.v;return[]}function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function DO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(r),!0).forEach(function(n){Jpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jpe(t,e,r){return e=Zpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zpe(t){var e=Qpe(t,"string");return Zp(e)=="symbol"?e:e+""}function Qpe(t,e){if(Zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eme(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(p){var h=a[p],v,g=function(){return v===void 0&&(v=r(h,p)),v};if(p===s-1){var b=t*(h.coordinate+t*g()/2-l);a[p]=h=Yn(Yn({},h),{},{tickCoord:b>0?h.coordinate-b*t:h.coordinate})}else a[p]=h=Yn(Yn({},h),{},{tickCoord:h.coordinate});var y=Jv(t,h.tickCoord,g,o,l);y&&(l=h.tickCoord-t*(g()/2+i),a[p]=Yn(Yn({},h),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function tme(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var u=n[o-1],f=r(u,o-1),p=t*(u.coordinate+t*f/2-c);s[o-1]=u=Yn(Yn({},u),{},{tickCoord:p>0?u.coordinate-p*t:u.coordinate});var h=Jv(t,u.tickCoord,function(){return f},l,c);h&&(c=u.tickCoord-t*(f/2+i),s[o-1]=Yn(Yn({},u),{},{isShow:!0}))}for(var v=a?o-1:o,g=function(w){var _=s[w],j,S=function(){return j===void 0&&(j=r(_,w)),j};if(w===0){var N=t*(_.coordinate-t*S()/2-l);s[w]=_=Yn(Yn({},_),{},{tickCoord:N<0?_.coordinate-N*t:_.coordinate})}else s[w]=_=Yn(Yn({},_),{},{tickCoord:_.coordinate});var P=Jv(t,_.tickCoord,S,l,c);P&&(l=_.tickCoord+t*(S()/2+i),s[w]=Yn(Yn({},_),{},{isShow:!0}))},b=0;b<v;b++)g(b);return s}function JS(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(Fe(l)||Zc.isSsr)return Ype(i,typeof l=="number"&&Fe(l)?l:0);var p=[],h=o==="top"||o==="bottom"?"width":"height",v=u&&h==="width"?Fh(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(_,j){var S=wt(c)?c(_.value,j):_.value;return h==="width"?Gpe(Fh(S,{fontSize:e,letterSpacing:r}),v,f):Fh(S,{fontSize:e,letterSpacing:r})[h]},b=i.length>=2?ii(i[1].coordinate-i[0].coordinate):1,y=Kpe(a,b,h);return l==="equidistantPreserveStart"?Xpe(b,y,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=tme(b,y,g,i,s,l==="preserveStartEnd"):p=eme(b,y,g,i,s),p.filter(function(w){return w.isShow}))}var rme=["viewBox"],nme=["viewBox"],ime=["ticks"];function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ju.apply(this,arguments)}function BO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(r),!0).forEach(function(n){ZS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dx(t,e){if(t==null)return{};var r=ame(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ame(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A$(n.key),n)}}function ome(t,e,r){return e&&FO(t.prototype,e),r&&FO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lme(t,e,r){return e=Zv(e),cme(t,j$()?Reflect.construct(e,r||[],Zv(t).constructor):e.apply(t,r))}function cme(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ume(t)}function ume(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j$=function(){return!!t})()}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zv(t)}function dme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h5(t,e)}function h5(t,e){return h5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h5(t,e)}function ZS(t,e,r){return e=A$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A$(t){var e=fme(t,"string");return Kd(e)=="symbol"?e:e+""}function fme(t,e){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jf=function(t){function e(r){var n;return sme(this,e),n=lme(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return dme(e,t),ome(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=dx(n,rme),o=this.props,l=o.viewBox,c=dx(o,nme);return!ld(a,l)||!ld(s,c)||!ld(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,p=i.tickMargin,h,v,g,b,y,w,_=f?-1:1,j=n.tickSize||u,S=Fe(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":h=v=n.coordinate,b=s+ +!f*l,g=b-_*j,w=g-_*p,y=S;break;case"left":g=b=n.coordinate,v=a+ +!f*o,h=v-_*j,y=h-_*p,w=S;break;case"right":g=b=n.coordinate,v=a+ +f*o,h=v+_*j,y=h+_*p,w=S;break;default:h=v=n.coordinate,b=s+ +f*l,g=b+_*j,w=g+_*p,y=S;break}return{line:{x1:h,y1:g,x2:v,y2:b},tick:{x:y,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=pn(pn(pn({},pt(this.props,!1)),pt(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);f=pn(pn({},f),{},{x1:i,y1:a+p*o,x2:i+s,y2:a+p*o})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=pn(pn({},f),{},{x1:i+h*s,y1:a,x2:i+h*s,y2:a+o})}return oe.createElement("line",Ju({},f,{className:Mt("recharts-cartesian-axis-line",Wi(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,p=o.unit,h=JS(pn(pn({},this.props),{},{ticks:n}),i,a),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),b=pt(this.props,!1),y=pt(u,!1),w=pn(pn({},b),{},{fill:"none"},pt(l,!1)),_=h.map(function(j,S){var N=s.getTickLineCoord(j),P=N.line,C=N.tick,I=pn(pn(pn(pn({textAnchor:v,verticalAnchor:g},b),{},{stroke:"none",fill:c},y),C),{},{index:S,payload:j,visibleTicksCount:h.length,tickFormatter:f});return oe.createElement(Yt,Ju({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Fc(s.props,j,S)),l&&oe.createElement("line",Ju({},w,P,{className:Mt("recharts-cartesian-axis-tick-line",Wi(l,"className"))})),u&&e.renderTickItem(u,I,"".concat(wt(f)?f(j.value,S):j.value).concat(p||"")))});return oe.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,p=f.ticks,h=dx(f,ime),v=p;return wt(l)&&(v=p&&p.length>0?l(this.props):l(h)),s<=0||o<=0||!v||!v.length?null:oe.createElement(Yt,{className:Mt("recharts-cartesian-axis",c),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Nn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=Mt(i.className,"recharts-cartesian-axis-tick-value");return oe.isValidElement(n)?s=oe.cloneElement(n,pn(pn({},i),{},{className:o})):wt(n)?s=n(pn(pn({},i),{},{className:o})):s=oe.createElement(Uc,Ju({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(Y.Component);ZS(jf,"displayName","CartesianAxis");ZS(jf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hme=["x1","y1","x2","y2","key"],pme=["offset"];function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function UO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(r),!0).forEach(function(n){mme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mme(t,e,r){return e=gme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gme(t){var e=vme(t,"string");return Wc(e)=="symbol"?e:e+""}function vme(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kc.apply(this,arguments)}function zO(t,e){if(t==null)return{};var r=yme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bme=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return oe.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function N$(t,e){var r;if(oe.isValidElement(t))r=oe.cloneElement(t,e);else if(wt(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=zO(e,hme),c=pt(l,!1);c.offset;var u=zO(c,pme);r=oe.createElement("line",kc({},u,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function xme(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Jn(Jn({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return N$(i,c)});return oe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function wme(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Jn(Jn({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return N$(i,c)});return oe.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function _me(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==u[0]&&u.unshift(0);var f=u.map(function(p,h){var v=!u[h+1],g=v?i+s-p:u[h+1]-p;if(g<=0)return null;var b=h%e.length;return oe.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:g,width:a,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return oe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Sme(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==u[0]&&u.unshift(0);var f=u.map(function(p,h){var v=!u[h+1],g=v?a+o-p:u[h+1]-p;if(g<=0)return null;var b=h%n.length;return oe.createElement("rect",{key:"react-".concat(h),x:p,y:s,width:g,height:l,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return oe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var jme=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return _I(JS(Jn(Jn(Jn({},jf.defaultProps),n),{},{ticks:no(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},Ame=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return _I(JS(Jn(Jn(Jn({},jf.defaultProps),n),{},{ticks:no(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Nu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function wm(t){var e,r,n,i,a,s,o=GS(),l=KS(),c=fpe(),u=Jn(Jn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Nu.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Nu.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Nu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Nu.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Nu.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Nu.verticalFill,x:Fe(t.x)?t.x:c.left,y:Fe(t.y)?t.y:c.top,width:Fe(t.width)?t.width:c.width,height:Fe(t.height)?t.height:c.height}),f=u.x,p=u.y,h=u.width,v=u.height,g=u.syncWithTicks,b=u.horizontalValues,y=u.verticalValues,w=cpe(),_=upe();if(!Fe(h)||h<=0||!Fe(v)||v<=0||!Fe(f)||f!==+f||!Fe(p)||p!==+p)return null;var j=u.verticalCoordinatesGenerator||jme,S=u.horizontalCoordinatesGenerator||Ame,N=u.horizontalPoints,P=u.verticalPoints;if((!N||!N.length)&&wt(S)){var C=b&&b.length,I=S({yAxis:_?Jn(Jn({},_),{},{ticks:C?b:_.ticks}):void 0,width:o,height:l,offset:c},C?!0:g);Ga(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Wc(I),"]")),Array.isArray(I)&&(N=I)}if((!P||!P.length)&&wt(j)){var F=y&&y.length,O=j({xAxis:w?Jn(Jn({},w),{},{ticks:F?y:w.ticks}):void 0,width:o,height:l,offset:c},F?!0:g);Ga(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Wc(O),"]")),Array.isArray(O)&&(P=O)}return oe.createElement("g",{className:"recharts-cartesian-grid"},oe.createElement(bme,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),oe.createElement(xme,kc({},u,{offset:c,horizontalPoints:N,xAxis:w,yAxis:_})),oe.createElement(wme,kc({},u,{offset:c,verticalPoints:P,xAxis:w,yAxis:_})),oe.createElement(_me,kc({},u,{horizontalPoints:N})),oe.createElement(Sme,kc({},u,{verticalPoints:P})))}wm.displayName="CartesianGrid";var Nme=["type","layout","connectNulls","ref"],kme=["key"];function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function qO(t,e){if(t==null)return{};var r=Ome(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ome(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vh.apply(this,arguments)}function WO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(r),!0).forEach(function(n){Fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ku(t){return Tme(t)||Cme(t)||Eme(t)||Pme()}function Pme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eme(t,e){if(t){if(typeof t=="string")return p5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p5(t,e)}}function Cme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tme(t){if(Array.isArray(t))return p5(t)}function p5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O$(n.key),n)}}function Ime(t,e,r){return e&&HO(t.prototype,e),r&&HO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $me(t,e,r){return e=Qv(e),Rme(t,k$()?Reflect.construct(e,r||[],Qv(t).constructor):e.apply(t,r))}function Rme(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mme(t)}function Mme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k$=function(){return!!t})()}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qv(t)}function Dme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m5(t,e)}function m5(t,e){return m5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m5(t,e)}function Fa(t,e,r){return e=O$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O$(t){var e=Bme(t,"string");return Yd(e)=="symbol"?e:e+""}function Bme(t,e){if(Yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xl=function(t){function e(){var r;Lme(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=$me(this,e,[].concat(i)),Fa(r,"state",{isAnimationFinished:!0,totalLength:0}),Fa(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Fa(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,w){return y+w});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,p=o-s,h=[],v=0,g=0;v<l.length;g+=l[v],++v)if(g+l[v]>f){h=[].concat(ku(l.slice(0,v)),[f-g]);break}var b=h.length%2===0?[0,p]:[p];return[].concat(ku(e.repeat(l,u)),ku(h),b).map(function(y){return"".concat(y,"px")}).join(", ")}),Fa(r,"id",vf("recharts-line-")),Fa(r,"pathRef",function(s){r.mainCurve=s}),Fa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Fa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Dme(e,t),Ime(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=Hi(u,xm);if(!f)return null;var p=function(g,b){return{x:g.x,y:g.y,value:g.value,errorVal:yn(g.payload,b)}},h={clipPath:n?"url(#clipPath-".concat(i,")"):null};return oe.createElement(Yt,h,f.map(function(v){return oe.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=pt(this.props,!1),p=pt(l,!0),h=c.map(function(g,b){var y=Li(Li(Li({key:"dot-".concat(b),r:3},f),p),{},{index:b,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:c});return e.renderDotItem(l,y)}),v={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return oe.createElement(Yt,Vh({className:"recharts-line-dots",key:"dots"},v),h)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=qO(o,Nme),p=Li(Li(Li({},pt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return oe.createElement(Lv,Vh({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,p=s.animationEasing,h=s.animationId,v=s.animateNewValues,g=s.width,b=s.height,y=this.state,w=y.prevPoints,_=y.totalLength;return oe.createElement(js,{begin:u,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var S=j.t;if(w){var N=w.length/o.length,P=o.map(function(T,M){var R=Math.floor(M*N);if(w[R]){var U=w[R],H=Mi(U.x,T.x),G=Mi(U.y,T.y);return Li(Li({},T),{},{x:H(S),y:G(S)})}if(v){var $=Mi(g*2,T.x),X=Mi(b/2,T.y);return Li(Li({},T),{},{x:$(S),y:X(S)})}return Li(Li({},T),{},{x:T.x,y:T.y})});return a.renderCurveStatically(P,n,i)}var C=Mi(0,_),I=C(S),F;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});F=a.getStrokeDasharray(I,_,O)}else F=a.generateSimpleStrokeDasharray(_,I);return a.renderCurveStatically(o,n,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!bm(c,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.xAxis,u=i.yAxis,f=i.top,p=i.left,h=i.width,v=i.height,g=i.isAnimationActive,b=i.id;if(a||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=o.length===1,_=Mt("recharts-line",l),j=c&&c.allowDataOverflow,S=u&&u.allowDataOverflow,N=j||S,P=Ct(b)?this.id:b,C=(n=pt(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=C.r,F=I===void 0?3:I,O=C.strokeWidth,T=O===void 0?2:O,M=oV(s)?s:{},R=M.clipDot,U=R===void 0?!0:R,H=F*2+T;return oe.createElement(Yt,{className:_},j||S?oe.createElement("defs",null,oe.createElement("clipPath",{id:"clipPath-".concat(P)},oe.createElement("rect",{x:j?p:p-h/2,y:S?f:f-v/2,width:j?h:h*2,height:S?v:v*2})),!U&&oe.createElement("clipPath",{id:"clipPath-dots-".concat(P)},oe.createElement("rect",{x:p-H/2,y:f-H/2,width:h+H,height:v+H}))):null,!w&&this.renderCurve(N,P),this.renderErrorBar(N,P),(w||s)&&this.renderDots(N,U,P),(!g||y)&&oo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(ku(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(ku(s),ku(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(oe.isValidElement(n))a=oe.cloneElement(n,i);else if(wt(n))a=n(i);else{var s=i.key,o=qO(i,kme),l=Mt("recharts-line-dot",typeof n!="boolean"?n.className:"");a=oe.createElement(u1,Vh({key:s},o,{className:l}))}return a}}])}(Y.PureComponent);Fa(xl,"displayName","Line");Fa(xl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Zc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Fa(xl,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,f=l.map(function(p,h){var v=yn(p,s);return u==="horizontal"?{x:mk({axis:r,ticks:i,bandSize:o,entry:p,index:h}),y:Ct(v)?null:n.scale(v),value:v,payload:p}:{x:Ct(v)?null:r.scale(v),y:mk({axis:n,ticks:a,bandSize:o,entry:p,index:h}),value:v,payload:p}});return Li({points:f,layout:u},c)});function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function Fme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ume(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C$(n.key),n)}}function zme(t,e,r){return e&&Ume(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qme(t,e,r){return e=ey(e),Wme(t,P$()?Reflect.construct(e,r||[],ey(t).constructor):e.apply(t,r))}function Wme(t,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hme(t)}function Hme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P$=function(){return!!t})()}function ey(t){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ey(t)}function Vme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g5(t,e)}function g5(t,e){return g5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},g5(t,e)}function E$(t,e,r){return e=C$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C$(t){var e=Gme(t,"string");return Xd(e)=="symbol"?e:e+""}function Gme(t,e){if(Xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function v5(){return v5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v5.apply(this,arguments)}function Kme(t){var e=t.xAxisId,r=GS(),n=KS(),i=m$(e);return i==null?null:Y.createElement(jf,v5({},i,{className:Mt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return no(s,!0)}}))}var Cl=function(t){function e(){return Fme(this,e),qme(this,e,arguments)}return Vme(e,t),zme(e,[{key:"render",value:function(){return Y.createElement(Kme,this.props)}}])}(Y.Component);E$(Cl,"displayName","XAxis");E$(Cl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function Yme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I$(n.key),n)}}function Jme(t,e,r){return e&&Xme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zme(t,e,r){return e=ty(e),Qme(t,T$()?Reflect.construct(e,r||[],ty(t).constructor):e.apply(t,r))}function Qme(t,e){if(e&&(Jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ege(t)}function ege(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T$=function(){return!!t})()}function ty(t){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ty(t)}function tge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y5(t,e)}function y5(t,e){return y5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y5(t,e)}function L$(t,e,r){return e=I$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I$(t){var e=rge(t,"string");return Jd(e)=="symbol"?e:e+""}function rge(t,e){if(Jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function b5(){return b5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b5.apply(this,arguments)}var nge=function(e){var r=e.yAxisId,n=GS(),i=KS(),a=g$(r);return a==null?null:Y.createElement(jf,b5({},a,{className:Mt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return no(o,!0)}}))},Tl=function(t){function e(){return Yme(this,e),Zme(this,e,arguments)}return tge(e,t),Jme(e,[{key:"render",value:function(){return Y.createElement(nge,this.props)}}])}(Y.Component);L$(Tl,"displayName","YAxis");L$(Tl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function VO(t){return oge(t)||sge(t)||age(t)||ige()}function ige(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function age(t,e){if(t){if(typeof t=="string")return x5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x5(t,e)}}function sge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oge(t){if(Array.isArray(t))return x5(t)}function x5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var w5=function(e,r,n,i,a){var s=Hi(e,XS),o=Hi(e,b1),l=[].concat(VO(s),VO(o)),c=Hi(e,w1),u="".concat(i,"Id"),f=i[0],p=r;if(l.length&&(p=l.reduce(function(g,b){if(b.props[u]===n&&ws(b.props,"extendDomain")&&Fe(b.props[f])){var y=b.props[f];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},p)),c.length){var h="".concat(f,"1"),v="".concat(f,"2");p=c.reduce(function(g,b){if(b.props[u]===n&&ws(b.props,"extendDomain")&&Fe(b.props[h])&&Fe(b.props[v])){var y=b.props[h],w=b.props[v];return[Math.min(g[0],y,w),Math.max(g[1],y,w)]}return g},p)}return a&&a.length&&(p=a.reduce(function(g,b){return Fe(b)?[Math.min(g[0],b),Math.max(g[1],b)]:g},p)),p},$$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,p),v=r?r+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],h]:l._events[v].push(h):(l._events[v]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,v=new Array(h);p<h;p++)v[p]=f[p].fn;return v},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,p,h,v){var g=r?r+c:c;if(!this._events[g])return!1;var b=this._events[g],y=arguments.length,w,_;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,f),!0;case 4:return b.fn.call(b.context,u,f,p),!0;case 5:return b.fn.call(b.context,u,f,p,h),!0;case 6:return b.fn.call(b.context,u,f,p,h,v),!0}for(_=1,w=new Array(y-1);_<y;_++)w[_-1]=arguments[_];b.fn.apply(b.context,w)}else{var j=b.length,S;for(_=0;_<j;_++)switch(b[_].once&&this.removeListener(c,b[_].fn,void 0,!0),y){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,u);break;case 3:b[_].fn.call(b[_].context,u,f);break;case 4:b[_].fn.call(b[_].context,u,f,p);break;default:if(!w)for(S=1,w=new Array(y-1);S<y;S++)w[S-1]=arguments[S];b[_].fn.apply(b[_].context,w)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,p){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var v=this._events[h];if(v.fn)v.fn===u&&(!p||v.once)&&(!f||v.context===f)&&s(this,h);else{for(var g=0,b=[],y=v.length;g<y;g++)(v[g].fn!==u||p&&!v[g].once||f&&v[g].context!==f)&&b.push(v[g]);b.length?this._events[h]=b.length===1?b[0]:b:s(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})($$);var lge=$$.exports;const cge=sr(lge);var fx=new cge,hx="recharts.syncMouseEvents";function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function uge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R$(n.key),n)}}function fge(t,e,r){return e&&dge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function px(t,e,r){return e=R$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R$(t){var e=hge(t,"string");return Qp(e)=="symbol"?e:e+""}function hge(t,e){if(Qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pge=function(){function t(){uge(this,t),px(this,"activeIndex",0),px(this,"coordinateList",[]),px(this,"layout","horizontal")}return fge(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,p=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function mge(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Fe(n)&&Fe(i))return!0}return!1}function gge(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function M$(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=br(e,r,n,i),o=br(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function vge(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,p=br(o,l,c,f),h=br(o,l,u,f);n=p.x,i=p.y,a=h.x,s=h.y}else return M$(e);return[{x:n,y:i},{x:a,y:s}]}function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function GO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(r),!0).forEach(function(n){yge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yge(t,e,r){return e=bge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bge(t){var e=xge(t,"string");return em(e)=="symbol"?e:e+""}function xge(t,e){if(em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wge(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!a||!s||p!=="ScatterChart"&&i!=="axis")return null;var v,g=Lv;if(p==="ScatterChart")v=s,g=Bue;else if(p==="BarChart")v=gge(f,s,l,u),g=qS;else if(f==="radial"){var b=M$(s),y=b.cx,w=b.cy,_=b.radius,j=b.startAngle,S=b.endAngle;v={cx:y,cy:w,startAngle:j,endAngle:S,innerRadius:_,outerRadius:_},g=LI}else v={points:vge(f,s,l)},g=Lv;var N=qg(qg(qg(qg({stroke:"#ccc",pointerEvents:"none"},l),v),pt(h,!1)),{},{payload:o,payloadIndex:c,className:Mt("recharts-tooltip-cursor",h.className)});return Y.isValidElement(h)?Y.cloneElement(h,N):Y.createElement(g,N)}var _ge=["item"],Sge=["children","className","width","height","style","compact","title","desc"];function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zu.apply(this,arguments)}function KO(t,e){return Nge(t)||Age(t,e)||B$(t,e)||jge()}function jge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Age(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Nge(t){if(Array.isArray(t))return t}function YO(t,e){if(t==null)return{};var r=kge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Oge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F$(n.key),n)}}function Ege(t,e,r){return e&&Pge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cge(t,e,r){return e=ry(e),Tge(t,D$()?Reflect.construct(e,r||[],ry(t).constructor):e.apply(t,r))}function Tge(t,e){if(e&&(Zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lge(t)}function Lge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D$=function(){return!!t})()}function ry(t){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ry(t)}function Ige(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_5(t,e)}function _5(t,e){return _5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_5(t,e)}function Qd(t){return Mge(t)||Rge(t)||B$(t)||$ge()}function $ge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B$(t,e){if(t){if(typeof t=="string")return S5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S5(t,e)}}function Rge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mge(t){if(Array.isArray(t))return S5(t)}function S5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function je(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(r),!0).forEach(function(n){gt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gt(t,e,r){return e=F$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F$(t){var e=Dge(t,"string");return Zd(e)=="symbol"?e:e+""}function Dge(t,e){if(Zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bge={xAxis:["bottom","top"],yAxis:["left","right"]},Fge={width:"100%",height:"100%"},U$={x:0,y:0};function Wg(t){return t}var Uge=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},zge=function(e,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return je(je(je({},i),br(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return je(je(je({},i),br(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return U$},_1=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Qd(o),Qd(c)):o},[]);return s.length>0?s:e&&e.length&&Fe(i)&&Fe(a)?e.slice(i,a+1):[]};function z$(t){return t==="number"?[0,"auto"]:void 0}var j5=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,o=_1(r,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var h=f===void 0?o:f;p=rv(h,s.dataKey,i)}else p=f&&f[n]||o[n];return p?[].concat(Qd(l),[kI(c,p)]):l},[])},JO=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=Uge(a,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=loe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,p=j5(e,r,u,f),h=zge(n,o,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},qge=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,p=e.stackOffset,h=wI(u,a);return n.reduce(function(v,g){var b,y=g.type.defaultProps!==void 0?je(je({},g.type.defaultProps),g.props):g.props,w=y.type,_=y.dataKey,j=y.allowDataOverflow,S=y.allowDuplicatedCategory,N=y.scale,P=y.ticks,C=y.includeHidden,I=y[s];if(v[I])return v;var F=_1(e.data,{graphicalItems:i.filter(function(E){var z,V=s in E.props?E.props[s]:(z=E.type.defaultProps)===null||z===void 0?void 0:z[s];return V===I}),dataStartIndex:l,dataEndIndex:c}),O=F.length,T,M,R;mge(y.domain,j,w)&&(T=Dw(y.domain,null,j),h&&(w==="number"||N!=="auto")&&(R=zh(F,_,"category")));var U=z$(w);if(!T||T.length===0){var H,G=(H=y.domain)!==null&&H!==void 0?H:U;if(_){if(T=zh(F,_,w),w==="category"&&h){var $=JH(T);S&&$?(M=T,T=qv(0,O)):S||(T=bk(G,T,g).reduce(function(E,z){return E.indexOf(z)>=0?E:[].concat(Qd(E),[z])},[]))}else if(w==="category")S?T=T.filter(function(E){return E!==""&&!Ct(E)}):T=bk(G,T,g).reduce(function(E,z){return E.indexOf(z)>=0||z===""||Ct(z)?E:[].concat(Qd(E),[z])},[]);else if(w==="number"){var X=hoe(F,i.filter(function(E){var z,V,Z=s in E.props?E.props[s]:(z=E.type.defaultProps)===null||z===void 0?void 0:z[s],ne="hide"in E.props?E.props.hide:(V=E.type.defaultProps)===null||V===void 0?void 0:V.hide;return Z===I&&(C||!ne)}),_,a,u);X&&(T=X)}h&&(w==="number"||N!=="auto")&&(R=zh(F,_,"category"))}else h?T=qv(0,O):o&&o[I]&&o[I].hasStack&&w==="number"?T=p==="expand"?[0,1]:NI(o[I].stackGroups,l,c):T=xI(F,i.filter(function(E){var z=s in E.props?E.props[s]:E.type.defaultProps[s],V="hide"in E.props?E.props.hide:E.type.defaultProps.hide;return z===I&&(C||!V)}),w,u,!0);if(w==="number")T=w5(f,T,I,a,P),G&&(T=Dw(G,T,j));else if(w==="category"&&G){var ae=G,ie=T.every(function(E){return ae.indexOf(E)>=0});ie&&(T=ae)}}return je(je({},v),{},gt({},I,je(je({},y),{},{axisType:a,domain:T,categoricalDomain:R,duplicateDomain:M,originalDomain:(b=y.domain)!==null&&b!==void 0?b:U,isCategorical:h,layout:u})))},{})},Wge=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,p=_1(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),h=p.length,v=wI(u,a),g=-1;return n.reduce(function(b,y){var w=y.type.defaultProps!==void 0?je(je({},y.type.defaultProps),y.props):y.props,_=w[s],j=z$("number");if(!b[_]){g++;var S;return v?S=qv(0,h):o&&o[_]&&o[_].hasStack?(S=NI(o[_].stackGroups,l,c),S=w5(f,S,_,a)):(S=Dw(j,xI(p,n.filter(function(N){var P,C,I=s in N.props?N.props[s]:(P=N.type.defaultProps)===null||P===void 0?void 0:P[s],F="hide"in N.props?N.props.hide:(C=N.type.defaultProps)===null||C===void 0?void 0:C.hide;return I===_&&!F}),"number",u),i.defaultProps.allowDataOverflow),S=w5(f,S,_,a)),je(je({},b),{},gt({},_,je(je({axisType:a},i.defaultProps),{},{hide:!0,orientation:Wi(Bge,"".concat(a,".").concat(g%2),null),domain:S,originalDomain:j,isCategorical:v,layout:u})))}return b},{})},Hge=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,f="".concat(i,"Id"),p=Hi(u,a),h={};return p&&p.length?h=qge(e,{axes:p,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(h=Wge(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),h},Vge=function(e){var r=Zo(e),n=no(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:gS(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ev(r,n)}},ZO=function(e){var r=e.children,n=e.defaultShowTooltip,i=Ri(r,qd),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Gge=function(e){return!e||!e.length?!1:e.some(function(r){var n=ao(r&&r.type);return n&&n.indexOf("Bar")>=0})},QO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Kge=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,p=n.margin||{},h=Ri(f,qd),v=Ri(f,bs),g=Object.keys(l).reduce(function(S,N){var P=l[N],C=P.orientation;return!P.mirror&&!P.hide?je(je({},S),{},gt({},C,S[C]+P.width)):S},{left:p.left||0,right:p.right||0}),b=Object.keys(s).reduce(function(S,N){var P=s[N],C=P.orientation;return!P.mirror&&!P.hide?je(je({},S),{},gt({},C,Wi(S,"".concat(C))+P.height)):S},{top:p.top||0,bottom:p.bottom||0}),y=je(je({},b),g),w=y.bottom;h&&(y.bottom+=h.props.height||qd.defaultProps.height),v&&r&&(y=doe(y,i,n,r));var _=c-y.left-y.right,j=u-y.top-y.bottom;return je(je({brushBottom:w},y),{},{width:Math.max(_,0),height:Math.max(j,0)})},Yge=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},QS=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,p=function(y,w){var _=w.graphicalItems,j=w.stackGroups,S=w.offset,N=w.updateId,P=w.dataStartIndex,C=w.dataEndIndex,I=y.barSize,F=y.layout,O=y.barGap,T=y.barCategoryGap,M=y.maxBarSize,R=QO(F),U=R.numericAxisName,H=R.cateAxisName,G=Gge(_),$=[];return _.forEach(function(X,ae){var ie=_1(y.data,{graphicalItems:[X],dataStartIndex:P,dataEndIndex:C}),E=X.type.defaultProps!==void 0?je(je({},X.type.defaultProps),X.props):X.props,z=E.dataKey,V=E.maxBarSize,Z=E["".concat(U,"Id")],ne=E["".concat(H,"Id")],ce={},ve=l.reduce(function(Pe,we){var Oe=w["".concat(we.axisType,"Map")],Ce=E["".concat(we.axisType,"Id")];Oe&&Oe[Ce]||we.axisType==="zAxis"||qc();var Ie=Oe[Ce];return je(je({},Pe),{},gt(gt({},we.axisType,Ie),"".concat(we.axisType,"Ticks"),no(Ie)))},ce),se=ve[H],ge=ve["".concat(H,"Ticks")],_e=j&&j[Z]&&j[Z].hasStack&&_oe(X,j[Z].stackGroups),he=ao(X.type).indexOf("Bar")>=0,$e=Ev(se,ge),pe=[],Q=G&&coe({barSize:I,stackGroups:j,totalSize:Yge(ve,H)});if(he){var et,tt,Ke=Ct(V)?M:V,fe=(et=(tt=Ev(se,ge,!0))!==null&&tt!==void 0?tt:Ke)!==null&&et!==void 0?et:0;pe=uoe({barGap:O,barCategoryGap:T,bandSize:fe!==$e?fe:$e,sizeList:Q[ne],maxBarSize:Ke}),fe!==$e&&(pe=pe.map(function(Pe){return je(je({},Pe),{},{position:je(je({},Pe.position),{},{offset:Pe.position.offset-fe/2})})}))}var Re=X&&X.type&&X.type.getComposedData;Re&&$.push({props:je(je({},Re(je(je({},ve),{},{displayedData:ie,props:y,dataKey:z,item:X,bandSize:$e,barPosition:pe,offset:S,stackedData:_e,layout:F,dataStartIndex:P,dataEndIndex:C}))),{},gt(gt(gt({key:X.key||"item-".concat(ae)},U,ve[U]),H,ve[H]),"animationId",N)),childIndex:uV(X,y.children),item:X})}),$},h=function(y,w){var _=y.props,j=y.dataStartIndex,S=y.dataEndIndex,N=y.updateId;if(!f3({props:_}))return null;var P=_.children,C=_.layout,I=_.stackOffset,F=_.data,O=_.reverseStackOrder,T=QO(C),M=T.numericAxisName,R=T.cateAxisName,U=Hi(P,n),H=xoe(F,U,"".concat(M,"Id"),"".concat(R,"Id"),I,O),G=l.reduce(function(E,z){var V="".concat(z.axisType,"Map");return je(je({},E),{},gt({},V,Hge(_,je(je({},z),{},{graphicalItems:U,stackGroups:z.axisType===M&&H,dataStartIndex:j,dataEndIndex:S}))))},{}),$=Kge(je(je({},G),{},{props:_,graphicalItems:U}),w==null?void 0:w.legendBBox);Object.keys(G).forEach(function(E){G[E]=u(_,G[E],$,E.replace("Map",""),r)});var X=G["".concat(R,"Map")],ae=Vge(X),ie=p(_,je(je({},G),{},{dataStartIndex:j,dataEndIndex:S,updateId:N,graphicalItems:U,stackGroups:H,offset:$}));return je(je({formattedGraphicalItems:ie,graphicalItems:U,offset:$,stackGroups:H},ae),G)},v=function(b){function y(w){var _,j,S;return Oge(this,y),S=Cge(this,y,[w]),gt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),gt(S,"accessibilityManager",new pge),gt(S,"handleLegendBBoxUpdate",function(N){if(N){var P=S.state,C=P.dataStartIndex,I=P.dataEndIndex,F=P.updateId;S.setState(je({legendBBox:N},h({props:S.props,dataStartIndex:C,dataEndIndex:I,updateId:F},je(je({},S.state),{},{legendBBox:N}))))}}),gt(S,"handleReceiveSyncEvent",function(N,P,C){if(S.props.syncId===N){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(P)}}),gt(S,"handleBrushChange",function(N){var P=N.startIndex,C=N.endIndex;if(P!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var I=S.state.updateId;S.setState(function(){return je({dataStartIndex:P,dataEndIndex:C},h({props:S.props,dataStartIndex:P,dataEndIndex:C,updateId:I},S.state))}),S.triggerSyncEvent({dataStartIndex:P,dataEndIndex:C})}}),gt(S,"handleMouseEnter",function(N){var P=S.getMouseInfo(N);if(P){var C=je(je({},P),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var I=S.props.onMouseEnter;wt(I)&&I(C,N)}}),gt(S,"triggeredAfterMouseMove",function(N){var P=S.getMouseInfo(N),C=P?je(je({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var I=S.props.onMouseMove;wt(I)&&I(C,N)}),gt(S,"handleItemMouseEnter",function(N){S.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),gt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),gt(S,"handleMouseMove",function(N){N.persist(),S.throttleTriggeredAfterMouseMove(N)}),gt(S,"handleMouseLeave",function(N){S.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};S.setState(P),S.triggerSyncEvent(P);var C=S.props.onMouseLeave;wt(C)&&C(P,N)}),gt(S,"handleOuterEvent",function(N){var P=cV(N),C=Wi(S.props,"".concat(P));if(P&&wt(C)){var I,F;/.*touch.*/i.test(P)?F=S.getMouseInfo(N.changedTouches[0]):F=S.getMouseInfo(N),C((I=F)!==null&&I!==void 0?I:{},N)}}),gt(S,"handleClick",function(N){var P=S.getMouseInfo(N);if(P){var C=je(je({},P),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var I=S.props.onClick;wt(I)&&I(C,N)}}),gt(S,"handleMouseDown",function(N){var P=S.props.onMouseDown;if(wt(P)){var C=S.getMouseInfo(N);P(C,N)}}),gt(S,"handleMouseUp",function(N){var P=S.props.onMouseUp;if(wt(P)){var C=S.getMouseInfo(N);P(C,N)}}),gt(S,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),gt(S,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseDown(N.changedTouches[0])}),gt(S,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseUp(N.changedTouches[0])}),gt(S,"handleDoubleClick",function(N){var P=S.props.onDoubleClick;if(wt(P)){var C=S.getMouseInfo(N);P(C,N)}}),gt(S,"handleContextMenu",function(N){var P=S.props.onContextMenu;if(wt(P)){var C=S.getMouseInfo(N);P(C,N)}}),gt(S,"triggerSyncEvent",function(N){S.props.syncId!==void 0&&fx.emit(hx,S.props.syncId,N,S.eventEmitterSymbol)}),gt(S,"applySyncEvent",function(N){var P=S.props,C=P.layout,I=P.syncMethod,F=S.state.updateId,O=N.dataStartIndex,T=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)S.setState(je({dataStartIndex:O,dataEndIndex:T},h({props:S.props,dataStartIndex:O,dataEndIndex:T,updateId:F},S.state)));else if(N.activeTooltipIndex!==void 0){var M=N.chartX,R=N.chartY,U=N.activeTooltipIndex,H=S.state,G=H.offset,$=H.tooltipTicks;if(!G)return;if(typeof I=="function")U=I($,N);else if(I==="value"){U=-1;for(var X=0;X<$.length;X++)if($[X].value===N.activeLabel){U=X;break}}var ae=je(je({},G),{},{x:G.left,y:G.top}),ie=Math.min(M,ae.x+ae.width),E=Math.min(R,ae.y+ae.height),z=$[U]&&$[U].value,V=j5(S.state,S.props.data,U),Z=$[U]?{x:C==="horizontal"?$[U].coordinate:ie,y:C==="horizontal"?E:$[U].coordinate}:U$;S.setState(je(je({},N),{},{activeLabel:z,activeCoordinate:Z,activePayload:V,activeTooltipIndex:U}))}else S.setState(N)}),gt(S,"renderCursor",function(N){var P,C=S.state,I=C.isTooltipActive,F=C.activeCoordinate,O=C.activePayload,T=C.offset,M=C.activeTooltipIndex,R=C.tooltipAxisBandSize,U=S.getTooltipEventType(),H=(P=N.props.active)!==null&&P!==void 0?P:I,G=S.props.layout,$=N.key||"_recharts-cursor";return oe.createElement(wge,{key:$,activeCoordinate:F,activePayload:O,activeTooltipIndex:M,chartName:r,element:N,isActive:H,layout:G,offset:T,tooltipAxisBandSize:R,tooltipEventType:U})}),gt(S,"renderPolarAxis",function(N,P,C){var I=Wi(N,"type.axisType"),F=Wi(S.state,"".concat(I,"Map")),O=N.type.defaultProps,T=O!==void 0?je(je({},O),N.props):N.props,M=F&&F[T["".concat(I,"Id")]];return Y.cloneElement(N,je(je({},M),{},{className:Mt(I,M.className),key:N.key||"".concat(P,"-").concat(C),ticks:no(M,!0)}))}),gt(S,"renderPolarGrid",function(N){var P=N.props,C=P.radialLines,I=P.polarAngles,F=P.polarRadius,O=S.state,T=O.radiusAxisMap,M=O.angleAxisMap,R=Zo(T),U=Zo(M),H=U.cx,G=U.cy,$=U.innerRadius,X=U.outerRadius;return Y.cloneElement(N,{polarAngles:Array.isArray(I)?I:no(U,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(F)?F:no(R,!0).map(function(ae){return ae.coordinate}),cx:H,cy:G,innerRadius:$,outerRadius:X,key:N.key||"polar-grid",radialLines:C})}),gt(S,"renderLegend",function(){var N=S.state.formattedGraphicalItems,P=S.props,C=P.children,I=P.width,F=P.height,O=S.props.margin||{},T=I-(O.left||0)-(O.right||0),M=yI({children:C,formattedGraphicalItems:N,legendWidth:T,legendContent:c});if(!M)return null;var R=M.item,U=YO(M,_ge);return Y.cloneElement(R,je(je({},U),{},{chartWidth:I,chartHeight:F,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),gt(S,"renderTooltip",function(){var N,P=S.props,C=P.children,I=P.accessibilityLayer,F=Ri(C,pi);if(!F)return null;var O=S.state,T=O.isTooltipActive,M=O.activeCoordinate,R=O.activePayload,U=O.activeLabel,H=O.offset,G=(N=F.props.active)!==null&&N!==void 0?N:T;return Y.cloneElement(F,{viewBox:je(je({},H),{},{x:H.left,y:H.top}),active:G,label:U,payload:G?R:[],coordinate:M,accessibilityLayer:I})}),gt(S,"renderBrush",function(N){var P=S.props,C=P.margin,I=P.data,F=S.state,O=F.offset,T=F.dataStartIndex,M=F.dataEndIndex,R=F.updateId;return Y.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Bg(S.handleBrushChange,N.props.onChange),data:I,x:Fe(N.props.x)?N.props.x:O.left,y:Fe(N.props.y)?N.props.y:O.top+O.height+O.brushBottom-(C.bottom||0),width:Fe(N.props.width)?N.props.width:O.width,startIndex:T,endIndex:M,updateId:"brush-".concat(R)})}),gt(S,"renderReferenceElement",function(N,P,C){if(!N)return null;var I=S,F=I.clipPathId,O=S.state,T=O.xAxisMap,M=O.yAxisMap,R=O.offset,U=N.type.defaultProps||{},H=N.props,G=H.xAxisId,$=G===void 0?U.xAxisId:G,X=H.yAxisId,ae=X===void 0?U.yAxisId:X;return Y.cloneElement(N,{key:N.key||"".concat(P,"-").concat(C),xAxis:T[$],yAxis:M[ae],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:F})}),gt(S,"renderActivePoints",function(N){var P=N.item,C=N.activePoint,I=N.basePoint,F=N.childIndex,O=N.isRange,T=[],M=P.props.key,R=P.item.type.defaultProps!==void 0?je(je({},P.item.type.defaultProps),P.item.props):P.item.props,U=R.activeDot,H=R.dataKey,G=je(je({index:F,dataKey:H,cx:C.x,cy:C.y,r:4,fill:zS(P.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},pt(U,!1)),nv(U));return T.push(y.renderActiveDot(U,G,"".concat(M,"-activePoint-").concat(F))),I?T.push(y.renderActiveDot(U,je(je({},G),{},{cx:I.x,cy:I.y}),"".concat(M,"-basePoint-").concat(F))):O&&T.push(null),T}),gt(S,"renderGraphicChild",function(N,P,C){var I=S.filterFormatItem(N,P,C);if(!I)return null;var F=S.getTooltipEventType(),O=S.state,T=O.isTooltipActive,M=O.tooltipAxis,R=O.activeTooltipIndex,U=O.activeLabel,H=S.props.children,G=Ri(H,pi),$=I.props,X=$.points,ae=$.isRange,ie=$.baseLine,E=I.item.type.defaultProps!==void 0?je(je({},I.item.type.defaultProps),I.item.props):I.item.props,z=E.activeDot,V=E.hide,Z=E.activeBar,ne=E.activeShape,ce=!!(!V&&T&&G&&(z||Z||ne)),ve={};F!=="axis"&&G&&G.props.trigger==="click"?ve={onClick:Bg(S.handleItemMouseEnter,N.props.onClick)}:F!=="axis"&&(ve={onMouseLeave:Bg(S.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Bg(S.handleItemMouseEnter,N.props.onMouseEnter)});var se=Y.cloneElement(N,je(je({},I.props),ve));function ge(we){return typeof M.dataKey=="function"?M.dataKey(we.payload):null}if(ce)if(R>=0){var _e,he;if(M.dataKey&&!M.allowDuplicatedCategory){var $e=typeof M.dataKey=="function"?ge:"payload.".concat(M.dataKey.toString());_e=rv(X,$e,U),he=ae&&ie&&rv(ie,$e,U)}else _e=X==null?void 0:X[R],he=ae&&ie&&ie[R];if(ne||Z){var pe=N.props.activeIndex!==void 0?N.props.activeIndex:R;return[Y.cloneElement(N,je(je(je({},I.props),ve),{},{activeIndex:pe})),null,null]}if(!Ct(_e))return[se].concat(Qd(S.renderActivePoints({item:I,activePoint:_e,basePoint:he,childIndex:R,isRange:ae})))}else{var Q,et=(Q=S.getItemByXY(S.state.activeCoordinate))!==null&&Q!==void 0?Q:{graphicalItem:se},tt=et.graphicalItem,Ke=tt.item,fe=Ke===void 0?N:Ke,Re=tt.childIndex,Pe=je(je(je({},I.props),ve),{},{activeIndex:Re});return[Y.cloneElement(fe,Pe),null,null]}return ae?[se,null,null]:[se,null]}),gt(S,"renderCustomized",function(N,P,C){return Y.cloneElement(N,je(je({key:"recharts-customized-".concat(C)},S.props),S.state))}),gt(S,"renderMap",{CartesianGrid:{handler:Wg,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Wg},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Wg},YAxis:{handler:Wg},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:vf("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=vL(S.triggeredAfterMouseMove,(j=w.throttleDelay)!==null&&j!==void 0?j:1e3/60),S.state={},S}return Ige(y,b),Ege(y,[{key:"componentDidMount",value:function(){var _,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,j=_.children,S=_.data,N=_.height,P=_.layout,C=Ri(j,pi);if(C){var I=C.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,O=j5(this.state,S,I,F),T=this.state.tooltipTicks[I].coordinate,M=(this.state.offset.top+N)/2,R=P==="horizontal",U=R?{x:T,y:M}:{y:T,x:M},H=this.state.formattedGraphicalItems.find(function($){var X=$.item;return X.type.name==="Scatter"});H&&(U=je(je({},U),H.props.points[I].tooltipPosition),O=H.props.points[I].tooltipPayload);var G={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:F,activePayload:O,activeCoordinate:U};this.setState(G),this.renderCursor(C),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,N;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(_){Q2([Ri(_.children,pi)],[Ri(this.props.children,pi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Ri(this.props.children,pi);if(_&&typeof _.props.shared=="boolean"){var j=_.props.shared?"axis":"item";return o.indexOf(j)>=0?j:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var j=this.container,S=j.getBoundingClientRect(),N=Rre(S),P={chartX:Math.round(_.pageX-N.left),chartY:Math.round(_.pageY-N.top)},C=S.width/j.offsetWidth||1,I=this.inRange(P.chartX,P.chartY,C);if(!I)return null;var F=this.state,O=F.xAxisMap,T=F.yAxisMap,M=this.getTooltipEventType(),R=JO(this.state,this.props.data,this.props.layout,I);if(M!=="axis"&&O&&T){var U=Zo(O).scale,H=Zo(T).scale,G=U&&U.invert?U.invert(P.chartX):null,$=H&&H.invert?H.invert(P.chartY):null;return je(je({},P),{},{xValue:G,yValue:$},R)}return R?je(je({},P),R):null}},{key:"inRange",value:function(_,j){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,P=_/S,C=j/S;if(N==="horizontal"||N==="vertical"){var I=this.state.offset,F=P>=I.left&&P<=I.left+I.width&&C>=I.top&&C<=I.top+I.height;return F?{x:P,y:C}:null}var O=this.state,T=O.angleAxisMap,M=O.radiusAxisMap;if(T&&M){var R=Zo(T);return _k({x:P,y:C},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,j=this.getTooltipEventType(),S=Ri(_,pi),N={};S&&j==="axis"&&(S.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=nv(this.props,this.handleOuterEvent);return je(je({},P),N)}},{key:"addListener",value:function(){fx.on(hx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){fx.removeListener(hx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,j,S){for(var N=this.state.formattedGraphicalItems,P=0,C=N.length;P<C;P++){var I=N[P];if(I.item===_||I.props.key===_.key||j===ao(I.item.type)&&S===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,j=this.state.offset,S=j.left,N=j.top,P=j.height,C=j.width;return oe.createElement("defs",null,oe.createElement("clipPath",{id:_},oe.createElement("rect",{x:S,y:N,height:P,width:C})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(j,S){var N=KO(S,2),P=N[0],C=N[1];return je(je({},j),{},gt({},P,C.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(j,S){var N=KO(S,2),P=N[0],C=N[1];return je(je({},j),{},gt({},P,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[_])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(_){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[_])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(_){var j=this.state,S=j.formattedGraphicalItems,N=j.activeItem;if(S&&S.length)for(var P=0,C=S.length;P<C;P++){var I=S[P],F=I.props,O=I.item,T=O.type.defaultProps!==void 0?je(je({},O.type.defaultProps),O.props):O.props,M=ao(O.type);if(M==="Bar"){var R=(F.data||[]).find(function($){return bue(_,$)});if(R)return{graphicalItem:I,payload:R}}else if(M==="RadialBar"){var U=(F.data||[]).find(function($){return _k(_,$)});if(U)return{graphicalItem:I,payload:U}}else if(m1(I,N)||g1(I,N)||Kp(I,N)){var H=ofe({graphicalItem:I,activeTooltipItem:N,itemData:T.data}),G=T.activeIndex===void 0?H:T.activeIndex;return{graphicalItem:je(je({},I),{},{childIndex:G}),payload:Kp(I,N)?T.data[H]:I.props.data[H]}}}return null}},{key:"render",value:function(){var _=this;if(!f3(this))return null;var j=this.props,S=j.children,N=j.className,P=j.width,C=j.height,I=j.style,F=j.compact,O=j.title,T=j.desc,M=YO(j,Sge),R=pt(M,!1);if(F)return oe.createElement(EO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},oe.createElement(tw,Zu({},R,{width:P,height:C,title:O,desc:T}),this.renderClipPath(),p3(S,this.renderMap)));if(this.props.accessibilityLayer){var U,H;R.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,R.role=(H=this.props.role)!==null&&H!==void 0?H:"application",R.onKeyDown=function($){_.accessibilityManager.keyboardEvent($)},R.onFocus=function(){_.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return oe.createElement(EO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},oe.createElement("div",Zu({className:Mt("recharts-wrapper",N),style:je({position:"relative",cursor:"default",width:P,height:C},I)},G,{ref:function(X){_.container=X}}),oe.createElement(tw,Zu({},R,{width:P,height:C,title:O,desc:T,style:Fge}),this.renderClipPath(),p3(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(Y.Component);gt(v,"displayName",r),gt(v,"defaultProps",je({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),gt(v,"getDerivedStateFromProps",function(b,y){var w=b.dataKey,_=b.data,j=b.children,S=b.width,N=b.height,P=b.layout,C=b.stackOffset,I=b.margin,F=y.dataStartIndex,O=y.dataEndIndex;if(y.updateId===void 0){var T=ZO(b);return je(je(je({},T),{},{updateId:0},h(je(je({props:b},T),{},{updateId:0}),y)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:N,prevLayout:P,prevStackOffset:C,prevMargin:I,prevChildren:j})}if(w!==y.prevDataKey||_!==y.prevData||S!==y.prevWidth||N!==y.prevHeight||P!==y.prevLayout||C!==y.prevStackOffset||!ld(I,y.prevMargin)){var M=ZO(b),R={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},U=je(je({},JO(y,_,P)),{},{updateId:y.updateId+1}),H=je(je(je({},M),R),U);return je(je(je({},H),h(je({props:b},H),y)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:N,prevLayout:P,prevStackOffset:C,prevMargin:I,prevChildren:j})}if(!Q2(j,y.prevChildren)){var G,$,X,ae,ie=Ri(j,qd),E=ie&&(G=($=ie.props)===null||$===void 0?void 0:$.startIndex)!==null&&G!==void 0?G:F,z=ie&&(X=(ae=ie.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&X!==void 0?X:O,V=E!==F||z!==O,Z=!Ct(_),ne=Z&&!V?y.updateId:y.updateId+1;return je(je({updateId:ne},h(je(je({props:b},y),{},{updateId:ne,dataStartIndex:E,dataEndIndex:z}),y)),{},{prevChildren:j,dataStartIndex:E,dataEndIndex:z})}return null}),gt(v,"renderActiveDot",function(b,y,w){var _;return Y.isValidElement(b)?_=Y.cloneElement(b,y):wt(b)?_=b(y):_=oe.createElement(u1,y),oe.createElement(Yt,{className:"recharts-active-dot",key:w},_)});var g=Y.forwardRef(function(y,w){return oe.createElement(v,Zu({},y,{ref:w}))});return g.displayName=v.displayName,g},ej=QS({chartName:"LineChart",GraphicalChild:xl,axisComponents:[{axisType:"xAxis",AxisComp:Cl},{axisType:"yAxis",AxisComp:Tl}],formatAxisMap:o$}),Xge=QS({chartName:"BarChart",GraphicalChild:ru,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Cl},{axisType:"yAxis",AxisComp:Tl}],formatAxisMap:o$}),Jge=QS({chartName:"PieChart",GraphicalChild:So,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:p1},{axisType:"radiusAxis",AxisComp:f1}],formatAxisMap:Toe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Zge({data:t}){const e=["#3b82f6","#60a5fa","#93c5fd","#cbd5e1","#ef4444"];return d.jsx(hm,{width:"100%",height:300,children:d.jsxs(Xge,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(wm,{strokeDasharray:"3 3"}),d.jsx(Cl,{dataKey:"range"}),d.jsx(Tl,{}),d.jsx(pi,{}),d.jsx(ru,{dataKey:"count",fill:"#3b82f6",radius:[8,8,0,0],children:t.map((r,n)=>d.jsx(pm,{fill:e[n%e.length]},`cell-${n}`))})]})})}function Qge({data:t}){return d.jsx(hm,{width:"100%",height:300,children:d.jsxs(ej,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(wm,{strokeDasharray:"3 3"}),d.jsx(Cl,{dataKey:"date"}),d.jsx(Tl,{}),d.jsx(pi,{}),d.jsx(bs,{}),d.jsx(xl,{type:"monotone",dataKey:"completions",stroke:"#10b981",strokeWidth:2,name:"Completions"}),d.jsx(xl,{type:"monotone",dataKey:"assignments",stroke:"#3b82f6",strokeWidth:2,name:"Assignments"})]})})}const eP=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function e0e({data:t}){return d.jsx(hm,{width:"100%",height:300,children:d.jsxs(Jge,{children:[d.jsx(So,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:r})=>`${e}: ${(r*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((e,r)=>d.jsx(pm,{fill:eP[r%eP.length]},`cell-${r}`))}),d.jsx(pi,{}),d.jsx(bs,{})]})})}function t0e({user:t}){const[e,r]=Y.useState({totalAssignments:0,totalCompletions:0,averageScore:0,completionRate:0}),[n,i]=Y.useState({scoreDistribution:[],completionTrend:[],stationPerformance:[],studentPerformance:[],hintUsage:[],diagnosisAccuracy:[],timeToCompletion:[],sloTrends:[]}),[a,s]=Y.useState(!0);Y.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:l}=await Ee.from("stations").select("id, title").eq("created_by",t.id);if(!l)return;const c=l.map(G=>G.id),{data:u}=await Ee.from("case_snapshots").select("id, station_id, clinical_case").in("station_id",c);if(!u)return;const f=u.map(G=>G.id),{data:p}=await Ee.from("assignments").select("id, snapshot_id, created_at, due_at").in("snapshot_id",f),{data:h}=await Ee.from("simulation_runs").select("score, submitted_at, assignment_id, started_at, student_id, transcript").in("assignment_id",(p==null?void 0:p.map(G=>G.id))||[]),v=(h==null?void 0:h.filter(G=>G.submitted_at))||[],g=v.map(G=>{var $;return(($=G.score)==null?void 0:$.overall)||0}).filter(G=>G>0),b=g.length>0?g.reduce((G,$)=>G+$,0)/g.length:0;r({totalAssignments:(p==null?void 0:p.length)||0,totalCompletions:v.length,averageScore:Math.round(b),completionRate:p&&p.length>0?Math.round(v.length/p.length*100):0});const w=[{range:"0-20",min:0,max:20},{range:"21-40",min:21,max:40},{range:"41-60",min:41,max:60},{range:"61-80",min:61,max:80},{range:"81-100",min:81,max:100}].map(G=>({range:G.range,count:g.filter($=>$>=G.min&&$<=G.max).length})),_=new Date,j=[];for(let G=6;G>=0;G--){const $=new Date(_);$.setDate($.getDate()-G);const X=$.toISOString().split("T")[0],ae=v.filter(E=>{var V;return((V=E.submitted_at)==null?void 0:V.split("T")[0])===X}).length,ie=(p==null?void 0:p.filter(E=>{var V;return((V=E.created_at)==null?void 0:V.split("T")[0])===X}).length)||0;j.push({date:$.toLocaleDateString("en-US",{month:"short",day:"numeric"}),completions:ae,assignments:ie})}const S=new Map;v.forEach(G=>{const $=p==null?void 0:p.find(X=>X.id===G.assignment_id);if($){const X=u.find(ae=>ae.id===$.snapshot_id);if(X){const ae=l.find(ie=>ie.id===X.station_id);if(ae){const ie=S.get(ae.title||"Untitled")||0;S.set(ae.title||"Untitled",ie+1)}}}});const N=Array.from(S.entries()).map(([G,$])=>({name:G,value:$})).slice(0,6),P=new Map;p==null||p.forEach(G=>{var z;const $=v.filter(V=>V.assignment_id===G.id),X=$.map(V=>{var Z;return((Z=V.score)==null?void 0:Z.overall)||0}).filter(V=>V>0),ae=u.find(V=>V.id===G.snapshot_id),ie=((z=ae==null?void 0:ae.clinical_case)==null?void 0:z.title)||"Untitled Assignment",E=new Set($.map(V=>V.student_id));P.set(ie,{scores:X,completions:$.length,totalStudents:E.size})});const C=Array.from(P.entries()).map(([G,$])=>({assignmentTitle:G,averageScore:$.scores.length>0?Math.round($.scores.reduce((X,ae)=>X+ae,0)/$.scores.length):0,completions:$.completions,totalStudents:$.totalStudents})).sort((G,$)=>$.averageScore-G.averageScore).slice(0,10),I=new Map;v.forEach(G=>{var X,ae;const $=p==null?void 0:p.find(ie=>ie.id===G.assignment_id);if($){const ie=u.find(Z=>Z.id===$.snapshot_id),E=((X=ie==null?void 0:ie.clinical_case)==null?void 0:X.title)||"Untitled Assignment",z=((ae=G.transcript)==null?void 0:ae.hintsUsed)||0,V=I.get(E)||{hints:[],total:0};V.hints.push(z),V.total+=z,I.set(E,V)}});const F=Array.from(I.entries()).map(([G,$])=>({assignmentTitle:G,averageHints:$.hints.length>0?Math.round($.total/$.hints.length*10)/10:0,totalHints:$.total})).sort((G,$)=>$.averageHints-G.averageHints).slice(0,10),O=[];for(let G=6;G>=0;G--){const $=new Date(_);$.setDate($.getDate()-G);const X=$.toISOString().split("T")[0],ae=v.filter(z=>{var Z;return((Z=z.submitted_at)==null?void 0:Z.split("T")[0])===X});let ie=0,E=0;ae.forEach(z=>{const V=z.score;(V==null?void 0:V.diagnosisCorrect)!==void 0&&(E++,V.diagnosisCorrect&&ie++)}),O.push({date:$.toLocaleDateString("en-US",{month:"short",day:"numeric"}),accuracy:E>0?Math.round(ie/E*100):0,total:E})}const T=new Map;v.forEach(G=>{var X;const $=p==null?void 0:p.find(ae=>ae.id===G.assignment_id);if($&&G.started_at&&G.submitted_at){const ae=u.find(ne=>ne.id===$.snapshot_id),ie=((X=ae==null?void 0:ae.clinical_case)==null?void 0:X.title)||"Untitled Assignment",E=new Date(G.started_at).getTime(),V=(new Date(G.submitted_at).getTime()-E)/(1e3*60),Z=T.get(ie)||[];Z.push(V),T.set(ie,Z)}});const M=Array.from(T.entries()).map(([G,$])=>{const X=[...$].sort((ie,E)=>ie-E),ae=X.length>0?X[Math.floor(X.length/2)]:0;return{assignmentTitle:G,averageTime:$.length>0?Math.round($.reduce((ie,E)=>ie+E,0)/$.length*10)/10:0,medianTime:Math.round(ae*10)/10}}).slice(0,10),R=new Map;v.forEach(G=>{const $=G.score;(($==null?void 0:$.sloResults)||[]).forEach(ae=>{const ie=R.get(ae.sloId)||{text:"",correct:0,total:0};ie.total++,ae.status==="Achieved"&&ie.correct++,R.set(ae.sloId,ie)})});const{data:U}=await Ee.from("slo").select("id, text");U==null||U.forEach(G=>{const $=R.get(G.id);$&&($.text=G.text)});const H=Array.from(R.entries()).map(([G,$])=>({sloId:G,sloText:$.text||"Unknown SLO",achievementRate:$.total>0?Math.round($.correct/$.total*100):0,attempts:$.total})).sort((G,$)=>$.attempts-G.attempts).slice(0,10);i({scoreDistribution:w,completionTrend:j,stationPerformance:N,studentPerformance:C,hintUsage:F,diagnosisAccuracy:O,timeToCompletion:M,sloTrends:H})}catch(l){console.error("Error loading analytics:",l)}finally{s(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Analytics Dashboard"}),a?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Assignments"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.totalAssignments})]}),d.jsx(Ha,{className:"w-8 h-8 text-blue-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Completions"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.totalCompletions})]}),d.jsx(vl,{className:"w-8 h-8 text-green-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[e.averageScore,"%"]})]}),d.jsx(cf,{className:"w-8 h-8 text-purple-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Completion Rate"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[e.completionRate,"%"]})]}),d.jsx(Va,{className:"w-8 h-8 text-orange-600"})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Score Distribution"}),n.scoreDistribution.length>0?d.jsx(Zge,{data:n.scoreDistribution}):d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No score data available"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Completion Trend (Last 7 Days)"}),n.completionTrend.length>0?d.jsx(Qge,{data:n.completionTrend}):d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No trend data available"})]})]}),n.stationPerformance.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Station Performance"}),d.jsx(e0e,{data:n.stationPerformance})]}),n.studentPerformance.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Top Assignments Performance"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Average Score"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completions"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Students"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.studentPerformance.map((l,c)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.jsxs("span",{className:`font-semibold ${l.averageScore>=80?"text-green-600":l.averageScore>=60?"text-yellow-600":"text-red-600"}`,children:[l.averageScore,"%"]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.completions}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.totalStudents})]},c))})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.diagnosisAccuracy.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Diagnosis Accuracy Trend (Last 7 Days)"}),d.jsx("div",{className:"space-y-3",children:n.diagnosisAccuracy.map((l,c)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:l.date}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${l.accuracy>=80?"bg-green-500":l.accuracy>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${l.accuracy}%`}})}),d.jsxs("span",{className:"text-sm font-semibold text-gray-900 w-12 text-right",children:[l.accuracy,"%"]}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",l.total,")"]})]})]},c))})]}),n.hintUsage.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Hint Usage by Assignment"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Hints"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.hintUsage.map((l,c)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:l.averageHints}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:l.totalHints})]},c))})]})})]})]}),n.timeToCompletion.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Time to Completion"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Time (min)"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Median Time (min)"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.timeToCompletion.map((l,c)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:l.averageTime}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:l.medianTime})]},c))})]})})]}),n.sloTrends.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"SLO Achievement Trends"}),d.jsx("div",{className:"space-y-4",children:n.sloTrends.map((l,c)=>d.jsxs("div",{className:"border-l-4 border-primary-500 pl-4 py-2",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:l.sloText}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${l.achievementRate>=70?"bg-green-500":l.achievementRate>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${l.achievementRate}%`}})}),d.jsxs("span",{className:"text-sm font-semibold text-gray-900 w-16 text-right",children:[l.achievementRate,"%"]}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",l.attempts," attempts)"]})]})]},c))})]})]})]})}),d.jsx(Mn,{role:"faculty"})]})}function r0e({user:t}){const[e,r]=Y.useState({totalStations:0,approvedCases:0,pendingReview:0,totalAssignments:0}),[n,i]=Y.useState(!0);Y.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:o}=await Ee.from("stations").select("id").eq("created_by",t.id),{data:l}=await Ee.from("case_snapshots").select("id, station_id").eq("approved_by",t.id),c=(o==null?void 0:o.map(g=>g.id))||[],{data:u}=await Ee.from("case_snapshots").select("station_id").in("station_id",c),f=new Set((u==null?void 0:u.map(g=>g.station_id))||[]),p=c.filter(g=>!f.has(g)),h=(l==null?void 0:l.map(g=>g.id))||[],{data:v}=await Ee.from("assignments").select("id").in("snapshot_id",h);r({totalStations:(o==null?void 0:o.length)||0,approvedCases:(l==null?void 0:l.length)||0,pendingReview:p.length,totalAssignments:(v==null?void 0:v.length)||0})}catch(o){console.error("Error loading stats:",o)}finally{i(!1)}},s=async()=>{await q_()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Profile"}),d.jsx("p",{className:"text-gray-600",children:"View your account information and statistics"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center",children:d.jsx(vs,{className:"w-10 h-10 text-primary-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(JT,{className:"w-4 h-4"}),d.jsx("span",{children:t.email})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(uf,{className:"w-4 h-4"}),d.jsxs("span",{children:["Member since ",new Date(t.created_at).toLocaleDateString()]})]})]})]}),d.jsx("div",{className:"border-t pt-4",children:d.jsx("div",{className:"flex items-center gap-2 text-sm",children:d.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full font-medium",children:"Faculty"})})})]}),!n&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.totalStations})]}),d.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:d.jsx(Gi,{className:"w-6 h-6 text-blue-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Approved Cases"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.approvedCases})]}),d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(Va,{className:"w-6 h-6 text-green-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Pending Review"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.pendingReview})]}),d.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:d.jsx(Xc,{className:"w-6 h-6 text-yellow-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Assignments"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.totalAssignments})]}),d.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:d.jsx(Gi,{className:"w-6 h-6 text-purple-600"})})]})})]}),n&&d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[d.jsx(XT,{className:"w-5 h-5"}),d.jsx("span",{children:"Sign Out"})]})})]})}),d.jsx(Mn,{role:"faculty"})]})}function tP({user:t}){const e=Xa(),[r,n]=Y.useState([]),[i,a]=Y.useState([]),[s,o]=Y.useState(!0),[l,c]=Y.useState("all"),[u,f]=Y.useState(""),[p,h]=Y.useState("all");Y.useEffect(()=>{v()},[]),Y.useEffect(()=>{g()},[r,l,u,p]);const v=async()=>{try{const{data:S}=await Ee.from("cohort_members").select("cohort_id").eq("student_id",t.id);if(!S||S.length===0){o(!1);return}const N=S.map(F=>F.cohort_id),{data:P,error:C}=await Ee.from("assignments").select("*").in("cohort_id",N).order("created_at",{ascending:!1});if(C)throw C;const I=await Promise.all((P||[]).map(async F=>{var G;const{data:O}=await Ee.from("case_snapshots").select("*").eq("id",F.snapshot_id).single(),{data:T}=await Ee.from("simulation_runs").select("id, score, submitted_at").eq("assignment_id",F.id).eq("student_id",t.id).order("submitted_at",{ascending:!1}),M=(T==null?void 0:T.length)||0,R=(T==null?void 0:T.reduce(($,X)=>{const ae=X.score;return Math.max($,(ae==null?void 0:ae.overall)||0)},0))||0,U=(G=T==null?void 0:T[0])==null?void 0:G.submitted_at;let H="not_started";return M>0&&(H=(T==null?void 0:T.some(X=>X.submitted_at))?"completed":"in_progress"),{...F,snapshot:O,attemptsCount:M,bestScore:R,lastAttempt:U,status:H}}));n(I)}catch(S){console.error("Error loading assignments:",S)}finally{o(!1)}},g=()=>{let S=[...r];if(p==="pending"?S=S.filter(N=>N.status==="not_started"&&(!N.due_at||new Date(N.due_at)>new Date)):p==="in_progress"?S=S.filter(N=>N.status==="in_progress"):p==="completed"&&(S=S.filter(N=>N.status==="completed")),l!=="all"&&(S=S.filter(N=>N.status===l)),u){const N=u.toLowerCase();S=S.filter(P=>{var C,I,F,O,T,M,R;return((F=(I=(C=P.snapshot)==null?void 0:C.clinical_case)==null?void 0:I.title)==null?void 0:F.toLowerCase().includes(N))||((R=(M=(T=(O=P.snapshot)==null?void 0:O.clinical_case)==null?void 0:T.patientProfile)==null?void 0:M.name)==null?void 0:R.toLowerCase().includes(N))})}a(S)},b=S=>Math.max(0,S.max_attempts-(S.attemptsCount||0)),y=S=>S.due_at?new Date(S.due_at)<new Date&&S.status!=="completed":!1,w=({dueDate:S})=>{const[N,P]=Y.useState("");return Y.useEffect(()=>{const C=()=>{const F=new Date,T=new Date(S).getTime()-F.getTime();if(T<=0){P("Overdue");return}const M=Math.floor(T/(1e3*60*60*24)),R=Math.floor(T%(1e3*60*60*24)/(1e3*60*60)),U=Math.floor(T%(1e3*60*60)/(1e3*60));M>0?P(`${M}d ${R}h left`):R>0?P(`${R}h ${U}m left`):P(`${U}m left`)};C();const I=setInterval(C,6e4);return()=>clearInterval(I)},[S]),d.jsxs("span",{className:"text-xs text-primary-600 font-medium ml-2",children:["(",N,")"]})},_=S=>y(S)?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:"Overdue"}):S.status==="completed"?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Completed"}):S.status==="in_progress"?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full",children:"In Progress"}):d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:"Not Started"}),j={total:r.length,completed:r.filter(S=>S.status==="completed").length,inProgress:r.filter(S=>S.status==="in_progress").length,notStarted:r.filter(S=>S.status==="not_started").length};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 pb-20 md:pb-6",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"My Assignments"}),d.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"View and manage your OSCE simulations"})]}),!s&&d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:j.total}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Total"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-green-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-green-700",children:j.completed}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Completed"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-yellow-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-yellow-700",children:j.inProgress}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"In Progress"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-700",children:j.notStarted}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Not Started"})]})]}),!s&&d.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[d.jsx("div",{className:"border-b border-gray-200",children:d.jsx("div",{className:"flex overflow-x-auto",children:[{key:"all",label:"All",count:r.length},{key:"pending",label:"Pending",count:r.filter(S=>S.status==="not_started"&&(!S.due_at||new Date(S.due_at)>new Date)).length},{key:"in_progress",label:"In Progress",count:r.filter(S=>S.status==="in_progress").length},{key:"completed",label:"Completed",count:r.filter(S=>S.status==="completed").length}].map(S=>d.jsxs("button",{onClick:()=>h(S.key),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${p===S.key?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[S.label,S.count>0&&d.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${p===S.key?"bg-primary-100 text-primary-800":"bg-gray-100 text-gray-600"}`,children:S.count})]},S.key))})}),d.jsx("div",{className:"p-4 border-b border-gray-200",children:d.jsxs("div",{className:"relative",children:[d.jsx(H_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search assignments...",value:u,onChange:S=>f(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})})]}),s?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):i.length===0?d.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[d.jsx(Oy,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.length===0?"No Assignments Available":"No Assignments Match Your Filters"}),d.jsx("p",{className:"text-gray-600 text-sm mb-4",children:r.length===0?"You don't have any assignments yet. Check back later or contact your faculty if you expect to see assignments here.":"Try adjusting your search or filter criteria to find what you're looking for."}),r.length>0&&d.jsx("button",{onClick:()=>{h("all"),c("all"),f("")},className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Clear Filters"}),r.length===0&&d.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsx("strong",{children:"Tip:"})," Make sure you're enrolled in cohorts to receive assignments. You can manage your cohorts in your Profile settings."]})})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(S=>{var N,P,C,I,F,O;return d.jsxs("div",{className:`bg-white rounded-xl shadow-md p-5 md:p-6 hover:shadow-xl transition-all border-2 ${y(S)?"border-l-4 border-red-500 border-r-2 border-t-2 border-b-2":"border-gray-200"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 flex-1",children:((P=(N=S.snapshot)==null?void 0:N.clinical_case)==null?void 0:P.title)||"Untitled Station"}),_(S)]}),((I=(C=S.snapshot)==null?void 0:C.clinical_case)==null?void 0:I.patientProfile)&&d.jsxs("div",{className:"mb-3 text-sm text-gray-600",children:[d.jsx("span",{className:"font-medium",children:"Patient:"})," ",S.snapshot.clinical_case.patientProfile.name]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(Xc,{className:"w-4 h-4"}),d.jsxs("span",{children:[((O=(F=S.snapshot)==null?void 0:F.clinical_case)==null?void 0:O.durationMinutes)||15," minutes"]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(IN,{className:"w-4 h-4"}),d.jsxs("span",{children:[b(S)," of ",S.max_attempts," attempts left"]})]}),S.bestScore!==void 0&&S.bestScore>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[d.jsx(Va,{className:"w-4 h-4"}),d.jsxs("span",{children:["Best Score: ",S.bestScore.toFixed(0),"%"]})]}),S.due_at&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(uf,{className:"w-4 h-4"}),d.jsxs("span",{className:y(S)?"text-red-600 font-medium":"",children:["Due: ",new Date(S.due_at).toLocaleDateString()]}),!y(S)&&new Date(S.due_at)>new Date&&d.jsx(w,{dueDate:S.due_at})]})]}),d.jsx("div",{className:"flex gap-2",children:S.status==="completed"?d.jsxs("button",{onClick:()=>{e("/results")},className:"flex-1 flex items-center justify-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:[d.jsx(da,{className:"w-4 h-4"}),"View Results"]}):d.jsxs("button",{onClick:()=>e(`/simulation/${S.id}`),disabled:b(S)===0,className:"flex-1 flex items-center justify-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[d.jsx(IN,{className:"w-4 h-4"}),S.status==="in_progress"?"Continue":"Start Simulation"]})})]},S.id)})})]}),d.jsx(Mn,{role:"student"})]})}function n0e({activeTab:t,onTabChange:e}){const r=[{id:"chat",label:"Chat",icon:TU},{id:"exam",label:"Exam",icon:RU},{id:"labs",label:"Labs",icon:MU},{id:"diagnosis",label:"Diagnosis",icon:Gi}];return d.jsx("div",{className:"bg-white border-b-2 border-gray-300 shadow-sm",children:d.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:r.map(n=>{const i=n.icon,a=t===n.id;return d.jsxs("button",{onClick:()=>e(n.id),className:`flex items-center gap-2 px-4 md:px-6 py-3 md:py-4 text-sm md:text-base font-semibold border-b-3 transition-all whitespace-nowrap ${a?"border-primary-600 text-primary-700 bg-primary-50":"border-transparent text-gray-600 hover:text-primary-600 hover:bg-gray-50 hover:border-gray-300"}`,children:[d.jsx(i,{className:`w-4 h-4 md:w-5 md:h-5 ${a?"text-primary-600":""}`}),d.jsx("span",{children:n.label})]},n.id)})})})}function i0e({messages:t,input:e,setInput:r,sending:n,onSendMessage:i,onRequestHint:a,hintsRemaining:s}){const o=Y.useRef(null);return Y.useEffect(()=>{var l;(l=o.current)==null||l.scrollIntoView({behavior:"smooth"})},[t]),d.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[d.jsxs("div",{className:"bg-white border-b-2 border-gray-300 p-4 flex items-center justify-between shadow-sm",children:[d.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Chat with Patient"}),d.jsxs("button",{onClick:a,disabled:s<=0,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-900 rounded-lg hover:from-yellow-500 hover:to-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md font-semibold text-sm",children:[d.jsx(YT,{className:"w-4 h-4"}),"Hint (",s,")"]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[t.map((l,c)=>d.jsxs("div",{className:`flex ${l.role==="user"?"justify-end":"justify-start"} items-start gap-2`,children:[l.role==="assistant"&&d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(vs,{className:"w-4 h-4 text-primary-600"})}),d.jsxs("div",{className:`max-w-[85%] md:max-w-[75%] rounded-xl p-3 md:p-4 shadow-md ${l.role==="user"?"bg-gradient-to-br from-primary-600 to-primary-700 text-white":"bg-white border-2 border-gray-200 text-gray-900"}`,children:[d.jsx("p",{className:`whitespace-pre-wrap ${l.role==="user"?"text-white":"text-gray-800"}`,children:l.content}),d.jsx("span",{className:`text-xs mt-2 block ${l.role==="user"?"text-primary-100":"text-gray-500"}`,children:l.timestamp instanceof Date?l.timestamp.toLocaleTimeString():new Date(l.timestamp).toLocaleTimeString()})]}),l.role==="user"&&d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(vs,{className:"w-4 h-4 text-gray-600"})})]},c)),n&&d.jsxs("div",{className:"flex justify-start items-start gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(vs,{className:"w-4 h-4 text-primary-600"})}),d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),d.jsx("div",{ref:o})]}),d.jsx("div",{className:"bg-white border-t-2 border-gray-300 p-4 shadow-lg",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:e,onChange:l=>r(l.target.value),onKeyPress:l=>l.key==="Enter"&&!n&&i(),placeholder:"Ask a question...",className:"flex-1 px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400",disabled:n}),d.jsx("button",{onClick:i,disabled:n||!e.trim(),className:"px-5 py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-lg hover:from-primary-700 hover:to-primary-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md font-semibold",children:d.jsx(IU,{className:"w-5 h-5"})})]})})]})}function a0e({caseData:t,vitalsEnabled:e=!1,onToggleVitals:r}){const n=(t==null?void 0:t.physicalExam)||{},i=n.vitals||{},a=n.generalExam||"",s=n.systemicExam||"";return d.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-4 md:p-6 space-y-4 md:space-y-6 bg-gray-50",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Physical Examination"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI-generated examination findings"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-primary-100 p-2 rounded-lg",children:d.jsx(kU,{className:"w-5 h-5 text-primary-700"})}),d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Vital Signs"})]}),r&&d.jsx("button",{onClick:r,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${e?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e?d.jsxs(d.Fragment,{children:[d.jsx(Ey,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"Enabled"})]}):d.jsxs(d.Fragment,{children:[d.jsx(LN,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"Enable Vitals"})]})})]}),e?d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 md:gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Blood Pressure"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 rounded-lg text-gray-900 font-medium",children:i.bp||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Heart Rate"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-red-50 to-red-100 border-2 border-red-200 rounded-lg text-gray-900 font-medium",children:i.hr||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Respiratory Rate"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-200 rounded-lg text-gray-900 font-medium",children:i.rr||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Temperature"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-orange-50 to-orange-100 border-2 border-orange-200 rounded-lg text-gray-900 font-medium",children:i.temp||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"SpO2"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-200 rounded-lg text-gray-900 font-medium",children:i.spo2||"Not recorded"})]})]}):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(LN,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),d.jsx("p",{className:"text-sm md:text-base",children:"Vital signs are hidden"}),d.jsx("p",{className:"text-xs md:text-sm mt-1",children:'Click "Enable Vitals" to view vital signs'})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4",children:"General Examination"}),d.jsx("div",{className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-lg min-h-[120px] text-gray-900 whitespace-pre-wrap leading-relaxed",children:a||"General examination findings not available."})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("div",{className:"flex items-center gap-2 mb-4",children:d.jsx("span",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Systemic Examination"})}),d.jsx("div",{className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-lg min-h-[200px] text-gray-900 whitespace-pre-wrap leading-relaxed",children:s||"Systemic examination findings not available."})]})]})}const q$=[{name:"BEDSIDE TESTS",tests:["ECG","Blood Glucose","Urine Dipstick"]},{name:"BASIC LABS",tests:["CBC","CMP","ESR","CRP","TSH","Lipid Profile","LFT","RFT","ABG"]},{name:"ADVANCED LABS",tests:["Troponin","BNP","D-dimer","Coagulation Profile","Blood Culture","HbA1c"]},{name:"IMAGING",tests:["Chest X-Ray","CT Head","CT Chest","CT Abdomen","Abdominal Ultrasound","Echocardiogram"]}];q$.flatMap(t=>t.tests.map(e=>({test:e,category:t.name})));function W$(t,e,r){if(r&&r[t])return r[t];const n=t.toLowerCase();return n.includes("ecg")?"Normal sinus rhythm, no acute changes":n.includes("glucose")?"Random blood glucose: 180 mg/dL (elevated)":n.includes("urine")?"Negative for nitrites, leukocyte esterase, protein, blood":n.includes("cbc")?"WBC: 15,000/L (elevated), Hb: 12 g/dL, Platelets: 250,000/L":n.includes("cmp")?"Na: 138 mEq/L, K: 4.2 mEq/L, Creatinine: 1.2 mg/dL, BUN: 45 mg/dL (elevated)":n.includes("crp")?"150 mg/L (markedly elevated)":n.includes("chest x-ray")||n.includes("chest xray")?"Consolidation in right lower lobe, consistent with pneumonia":n.includes("ct head")?"No acute intracranial pathology, age-appropriate atrophy":n.includes("ct chest")?"Right lower lobe consolidation with air bronchograms, consistent with pneumonia":n.includes("blood culture")?"Pending (results typically available in 48-72 hours)":n.includes("troponin")?"0.02 ng/mL (normal)":n.includes("bnp")?"200 pg/mL (mildly elevated)":n.includes("d-dimer")?"0.8 mg/L (elevated)":n.includes("abg")?"pH: 7.35, pCO2: 42 mmHg, pO2: 65 mmHg, HCO3: 22 mEq/L (respiratory acidosis with hypoxemia)":`Result for ${t}: See detailed report`}function rP(t,e){return e.some(r=>r.testName===t)}function s0e({labOrders:t,labResults:e,onOrderTest:r,caseData:n}){const[i,a]=Y.useState("order"),s=(l,c)=>{rP(l,t)||r(l,c)},o=l=>{const c=e.find(u=>u.testName===l);return c?c.result:W$(l,n,n==null?void 0:n.labResults)};return d.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[d.jsx("div",{className:"bg-white border-b-2 border-gray-300 p-4 shadow-sm",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>a("order"),className:`px-6 py-2.5 rounded-lg font-semibold transition-all shadow-md ${i==="order"?"bg-gradient-to-r from-primary-600 to-primary-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Order Tests"}),d.jsx("button",{onClick:()=>a("view"),className:`px-6 py-2.5 rounded-lg font-semibold transition-all shadow-md ${i==="view"?"bg-gradient-to-r from-primary-600 to-primary-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"View Results"})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:i==="order"?d.jsx("div",{className:"space-y-4 md:space-y-6",children:q$.map(l=>d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 md:p-6 border border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4 pb-2 border-b-2 border-gray-200",children:l.name}),d.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3",children:l.tests.map(c=>{const u=rP(c,t);return d.jsxs("button",{onClick:()=>s(c,l.name),disabled:u,className:`px-4 py-2 rounded-lg text-sm md:text-base font-semibold transition-all shadow-sm ${u?"bg-gradient-to-r from-green-500 to-green-600 text-white cursor-not-allowed shadow-md":"bg-gray-100 text-gray-800 hover:bg-primary-100 hover:text-primary-700 hover:shadow-md border-2 border-gray-200"}`,children:[c,u&&" "]},c)})})]},l.name))}):d.jsx("div",{className:"space-y-4",children:t.length===0?d.jsx("div",{className:"bg-white rounded-xl shadow-md p-8 md:p-12 text-center border border-gray-200",children:d.jsx("p",{className:"text-gray-600 font-medium",children:'No tests ordered yet. Switch to "Order Tests" to order lab tests.'})}):t.map(l=>{const c=o(l.testName);return d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 md:p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b-2 border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:l.testName}),d.jsx("span",{className:"text-xs md:text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full font-medium",children:l.category})]}),d.jsx("p",{className:"text-gray-800 font-medium leading-relaxed",children:c})]},l.testName)})})})]})}function o0e({diagnosis:t,onUpdate:e,diagnosisMCQ:r,selectedDiagnosisMCQ:n,onDiagnosisMCQChange:i}){const[a,s]=Y.useState(t);return Y.useEffect(()=>{e(a)},[a,e]),d.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-4 md:p-6 bg-gray-50",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"bg-primary-100 p-2 rounded-lg",children:d.jsx(Gi,{className:"w-5 h-5 md:w-6 md:h-6 text-primary-700"})}),d.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Enter Diagnosis"})]}),d.jsx("p",{className:"text-sm md:text-base text-gray-600 ml-12",children:"Enter your diagnosis based on the patient's history, physical examination findings, and laboratory results."})]}),r&&d.jsxs("div",{className:"mb-6 bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("label",{className:"block text-sm md:text-base font-semibold text-gray-900 mb-4",children:r.question}),d.jsx("div",{className:"space-y-3",children:r.options.map((o,l)=>d.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition-colors ${n===l?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:[d.jsx("input",{type:"radio",name:"diagnosis-mcq",value:l,checked:n===l,onChange:()=>i==null?void 0:i(l),className:"w-4 h-4 text-primary-600 focus:ring-primary-500 focus:ring-2"}),d.jsxs("span",{className:"ml-3 text-sm md:text-base text-gray-900 font-medium",children:[String.fromCharCode(65+l),". ",o]})]},l))}),n!=null&&d.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsx("span",{className:"font-semibold",children:"Selected:"})," ",r.options[n]]})})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm md:text-base font-semibold text-gray-700 mb-3",children:"Additional Notes (Optional)"}),d.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-2",children:"Provide additional details, reasoning, or differential diagnoses to support your answer."}),d.jsx("textarea",{value:a,onChange:o=>s(o.target.value),placeholder:"Enter additional notes about your diagnosis (e.g., reasoning, differential diagnoses, supporting findings, etc.)...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 min-h-[150px] md:min-h-[200px] text-gray-900 placeholder-gray-400 text-base leading-relaxed shadow-sm"})]}),a&&d.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl p-4 md:p-5 shadow-md",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-green-500 p-1.5 rounded-full",children:d.jsx(da,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold text-green-900 block",children:"Diagnosis Entered"}),d.jsx("span",{className:"text-sm text-green-800 mt-1 block",children:a})]})]})})]})}const l0e="AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",c0e="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";function u0e({user:t}){var tt,Ke,fe,Re,Pe;const{assignmentId:e}=jy(),r=Xa(),n=bo(),[i,a]=Y.useState(null),[s,o]=Y.useState(null),[l,c]=Y.useState([]),[u,f]=Y.useState(""),[p,h]=Y.useState(!0),[v,g]=Y.useState(!1),[b,y]=Y.useState(0),[w,_]=Y.useState(null),[j,S]=Y.useState(!1),[N,P]=Y.useState("chat"),[C,I]=Y.useState(0),[F,O]=Y.useState([]),[T,M]=Y.useState([]),[R,U]=Y.useState(""),[H,G]=Y.useState(null),[$,X]=Y.useState(!1),ae=10;Y.useEffect(()=>{e&&(ie(),E())},[e]);const ie=async()=>{try{const{data:we,error:Oe}=await Ee.from("assignments").select("*").eq("id",e).single();if(Oe)throw Oe;a(we);const{data:Ce,error:Ie}=await Ee.from("case_snapshots").select("*").eq("id",we.snapshot_id).single();if(Ie)throw Ie;o(Ce);const{data:ze}=await Ee.from("simulation_runs").select("*").eq("assignment_id",e).eq("student_id",t.id).is("submitted_at",null).order("created_at",{ascending:!1}).limit(1);let ht;if(ze&&ze.length>0){if(ht=ze[0],_(ht.id),ht.transcript){const Ve=ht.transcript;Ve.messages&&c(Ve.messages.map(Ue=>({...Ue,timestamp:typeof Ue.timestamp=="string"?new Date(Ue.timestamp):Ue.timestamp}))),I(Ve.hintsUsed||0),O(Ve.labOrders||[]),M(Ve.labResults||[]),U(Ve.diagnosis||""),G(Ve.diagnosisMCQAnswer??null),X(Ve.vitalsEnabled||!1)}}else{const{data:Ve,error:Ue}=await Ee.from("simulation_runs").insert({assignment_id:e,student_id:t.id,started_at:new Date().toISOString(),transcript:{messages:[],hintsUsed:0,labOrders:[],labResults:[],diagnosis:"",diagnosisMCQAnswer:null,vitalsEnabled:!1}}).select().single();if(Ue)throw Ue;ht=Ve,_(Ve.id)}}catch(we){console.error("Error loading assignment:",we),n.error("Failed to load assignment")}finally{h(!1)}},E=()=>{const we=setInterval(()=>{y(Oe=>{var Ie;const Ce=Oe+1;if((Ie=s==null?void 0:s.clinical_case)!=null&&Ie.durationMinutes){const ze=s.clinical_case.durationMinutes*60;Ce>=ze*.8&&!j&&S(!0)}return Ce})},1e3);return()=>clearInterval(we)},z=we=>{const Oe=Math.floor(we/60),Ce=we%60;return`${Oe}:${Ce.toString().padStart(2,"0")}`},V=async()=>{if(!w)return;const we={messages:l.map(Oe=>({...Oe,timestamp:Oe.timestamp instanceof Date?Oe.timestamp.toISOString():Oe.timestamp})),hintsUsed:C,labOrders:F,labResults:T,diagnosis:R,diagnosisMCQAnswer:H??void 0,vitalsEnabled:$};await Ee.from("simulation_runs").update({transcript:we}).eq("id",w)},Z=(we,Oe)=>{var We,qe;if(!(s!=null&&s.clinical_case))return"";const Ce=s.clinical_case,Ie=((We=Ce.patientProfile)==null?void 0:We.name)||"Patient",ze=Ce.historyOfPresentIllness||"",ht=((qe=Ce.patientProfile)==null?void 0:qe.prakriti)||"Sama",Ve=Ce.doshaAnalysis||{},Ue=Oe.slice(-5).map(St=>`${St.role==="user"?"Clinician":"Patient"}: ${St.content}`).join(`
`);return`You are ${Ie}, a virtual patient in an Ayurvedic medical simulation. You are speaking with a clinician who is examining you.

IMPORTANT: You are the PATIENT. The user asking questions is the CLINICIAN/DOCTOR. Do not switch roles.

Patient Context:
- History of Present Illness: ${ze}
- Prakriti: ${ht}
- Dosha Analysis: Vata ${Ve.vata||33}%, Pitta ${Ve.pitta||33}%, Kapha ${Ve.kapha||34}%

Recent Conversation:
${Ue}

Clinician: ${we}

Respond as the patient would, staying in character. Be natural, concise (1-2 sentences), and consistent with the case. Do not reveal diagnosis or treatment unless asked directly about symptoms. Keep responses under 100 words.`},ne=we=>{if(!(s!=null&&s.clinical_case))return null;const Oe=s.clinical_case,Ce=we.toLowerCase();if(Ce.includes("physical exam")||Ce.includes("vitals")||Ce.includes("examination")){const Ie=Oe.physicalExam;if(!Ie)return"Physical examination information is not available. Please perform the examination yourself.";let ze=`Based on the physical examination:
`;return Ie.vitals&&(ze+="Vitals: ",Ie.vitals.bp&&(ze+=`BP ${Ie.vitals.bp}, `),Ie.vitals.hr&&(ze+=`HR ${Ie.vitals.hr}, `),Ie.vitals.rr&&(ze+=`RR ${Ie.vitals.rr}, `),Ie.vitals.temp&&(ze+=`Temp ${Ie.vitals.temp}, `),Ie.vitals.spo2&&(ze+=`SpO2 ${Ie.vitals.spo2}. `),ze+=`
`),Ie.generalExam&&(ze+=`General Examination: ${Ie.generalExam}
`),Ie.systemicExam&&(ze+=`Systemic Examination: ${Ie.systemicExam}
`),ze.trim()||"Physical examination findings are being documented."}if(Ce.includes("lab")||Ce.includes("test result")||Ce.includes("investigation")){const Ie=Oe.labResults||{};for(const[ze,ht]of Object.entries(Ie))if(Ce.includes(ze.toLowerCase())||ze.toLowerCase().includes(Ce))return`${ze}: ${ht}`;return Object.keys(Ie).length>0?`Lab results are available. Please check the Labs tab to view specific test results. Available tests: ${Object.keys(Ie).join(", ")}`:"No lab results are available yet. Please order tests from the Labs tab."}return null},ce=async()=>{var Ie,ze,ht,Ve;if(!u.trim()||!w||!s)return;const we={role:"user",content:u,timestamp:new Date},Oe=[...l,we];c(Oe);const Ce=u;f(""),g(!0);try{const Ue=ne(Ce);if(Ue){const Dt={role:"assistant",content:Ue,timestamp:new Date},lt=[...Oe,Dt];c(lt),await V(),g(!1);return}if(s!=null&&s.id)try{const{data:Dt}=await Ee.from("faq_cache").select("faq_data").eq("snapshot_id",s.id).single();if(Dt!=null&&Dt.faq_data){const lt=Dt.faq_data,It=Ce.toLowerCase().trim();for(const[Nt,Pr]of Object.entries(lt)){const Er=Nt.toLowerCase();if(It.includes(Er)||Er.includes(It)||It.split(/\s+/).filter(Gt=>Gt.length>3&&Er.includes(Gt)).length>=2){const Gt={role:"assistant",content:Pr,timestamp:new Date},bt=[...Oe,Gt];c(bt),await V(),g(!1);return}}}}catch(Dt){console.debug("FAQ cache check failed, using Gemini API:",Dt)}const We=Z(Ce,l);if(!We)throw new Error("Unable to build patient context. Please refresh the page.");const qe=await fetch(c0e,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":l0e},body:JSON.stringify({contents:[{parts:[{text:We}]}],generationConfig:{temperature:.8,topK:40,topP:.95,maxOutputTokens:1024}})});if(!qe.ok){const Dt=await qe.text();let lt=`Gemini API error (${qe.status})`;try{const It=JSON.parse(Dt);(Ie=It.error)!=null&&Ie.message?lt+=": "+It.error.message:lt+=": "+Dt}catch{lt+=": "+Dt}throw new Error(lt)}const St=await qe.json();if(!St.candidates||St.candidates.length===0)throw new Error("No response from Gemini API. Please check your API key and try again.");const rt={role:"assistant",content:((Ve=(ht=(ze=St.candidates[0])==null?void 0:ze.content)==null?void 0:ht.parts[0])==null?void 0:Ve.text)||"I'm sorry, I didn't understand that.",timestamp:new Date},yt=[...Oe,rt];c(yt),await V()}catch(Ue){console.error("Error sending message:",Ue),n.error("Failed to send message: "+Ue.message)}finally{g(!1)}},ve=async()=>{if(!(C>=ae||!w||!s)){g(!0);try{const we=["Consider asking about the onset and progression of symptoms.","Think about the patient's dosha imbalance - what symptoms suggest this?","Review the physical examination findings carefully.","Consider what laboratory tests would be most helpful for this presentation.","Think about the differential diagnoses based on the chief complaint.","Consider the patient's age, gender, and prakriti in your assessment.","Review the history of present illness for key diagnostic clues.","Consider what additional history might be relevant.","Think about the most likely diagnosis given the symptoms.","Consider what treatment approach would be appropriate."],Ce={role:"assistant",content:we[Math.floor(Math.random()*we.length)],timestamp:new Date};c([...l,Ce]),I(C+1),await V()}catch(we){console.error("Error requesting hint:",we),n.error("Failed to get hint: "+we.message)}finally{g(!1)}}},se=(we,Oe)=>{var Ve;const Ce={testName:we,category:Oe,orderedAt:new Date().toISOString()},Ie=[...F,Ce];O(Ie);const ze={testName:we,result:W$(we,s==null?void 0:s.clinical_case,(Ve=s==null?void 0:s.clinical_case)==null?void 0:Ve.labResults),category:Oe},ht=[...T,ze];M(ht),V()},ge=we=>{U(we),V()},_e=async()=>{var we,Oe,Ce,Ie,ze,ht,Ve;if(w)try{await V();let Ue;try{Ue=await Ee.functions.invoke("score_simulation",{body:{runId:w}})}catch(Lt){throw console.error("Function invoke error (catch block):",Lt),(we=Lt.message)!=null&&we.includes("Failed to fetch")||(Oe=Lt.message)!=null&&Oe.includes("NetworkError")||(Ce=Lt.message)!=null&&Ce.includes("Failed to send")||!Lt.message?new Error("Edge Function not available. Please ensure the score_simulation function is deployed in Supabase. Check the Supabase Dashboard  Edge Functions."):new Error(`Failed to call Edge Function: ${Lt.message||"Unknown error"}`)}const{data:We,error:qe}=Ue||{};if(qe)throw console.error("Scoring function error details:",{error:qe,message:qe.message,context:qe.context,status:qe.status}),(Ie=qe.message)!=null&&Ie.includes("Failed to send")||(ze=qe.message)!=null&&ze.includes("fetch")||(ht=qe.message)!=null&&ht.includes("NetworkError")||(Ve=qe.message)!=null&&Ve.includes("Failed to fetch")?new Error("Edge Function not available. Please ensure the score_simulation function is deployed in Supabase. Check the Supabase Dashboard  Edge Functions."):new Error(qe.message||"Failed to score simulation");if(!We||!We.score)throw console.error("Invalid response from scoring function:",We),new Error("Invalid response from scoring function");const{error:St}=await Ee.from("simulation_runs").update({submitted_at:new Date().toISOString(),score:We.score}).eq("id",w);if(St)throw console.error("Update error:",St),new Error("Failed to update simulation run");r(`/debrief/${w}`)}catch(Ue){console.error("Error submitting:",Ue);const We=Ue.message||"Please try again.";n.error(`Error submitting simulation: ${We}. If this persists, the Edge Function may not be deployed. Please check Supabase Dashboard  Edge Functions.`)}};if(p)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});const he=((Ke=(tt=s==null?void 0:s.clinical_case)==null?void 0:tt.patientProfile)==null?void 0:Ke.name)||"Patient",pe=(((fe=s==null?void 0:s.clinical_case)==null?void 0:fe.durationMinutes)||15)*60,Q=b/pe*100,et=b>=pe;return d.jsxs("div",{className:"flex flex-col h-screen bg-gradient-to-br from-gray-50 to-gray-100 pb-20 md:pb-4",children:[d.jsxs("div",{className:"bg-white border-b-2 border-gray-300 shadow-sm p-4 md:p-6",children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-8 w-auto object-contain hidden md:block"}),d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center shadow-md",children:d.jsx(vs,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:he}),d.jsx("p",{className:"text-sm md:text-base text-gray-600",children:((Re=s==null?void 0:s.clinical_case)==null?void 0:Re.title)||"Clinical Case"})]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mt-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Xc,{className:`w-5 h-5 ${j?"text-red-600":"text-gray-700"}`}),d.jsxs("span",{className:`font-mono text-base md:text-lg font-semibold ${j?"text-red-600":"text-gray-900"}`,children:[z(b)," / ",z(pe)]}),j&&!et&&d.jsx("span",{className:"text-xs md:text-sm text-red-600 font-medium bg-red-50 px-2 py-1 rounded",children:"Time running out!"})]}),et&&d.jsxs("span",{className:"text-sm text-red-700 font-semibold flex items-center gap-2 bg-red-50 px-3 py-1.5 rounded-lg",children:[d.jsx(ky,{className:"w-5 h-5"}),"Time's up!"]})]}),d.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-3 shadow-inner",children:d.jsx("div",{className:`h-3 rounded-full transition-all shadow-sm ${Q>=100?"bg-red-600":Q>=80?"bg-yellow-500":"bg-primary-600"}`,style:{width:`${Math.min(Q,100)}%`}})})]}),d.jsx(n0e,{activeTab:N,onTabChange:P}),d.jsxs("div",{className:"flex-1 overflow-hidden",children:[N==="chat"&&d.jsx(i0e,{messages:l,input:u,setInput:f,sending:v,onSendMessage:ce,onRequestHint:ve,hintsRemaining:ae-C}),N==="exam"&&d.jsx(a0e,{caseData:s==null?void 0:s.clinical_case,vitalsEnabled:$,onToggleVitals:async()=>{const we=!$;if(X(we),w){const Oe={messages:l.map(Ce=>({...Ce,timestamp:Ce.timestamp instanceof Date?Ce.timestamp.toISOString():Ce.timestamp})),hintsUsed:C,labOrders:F,labResults:T,diagnosis:R,vitalsEnabled:we};await Ee.from("simulation_runs").update({transcript:Oe}).eq("id",w)}}}),N==="labs"&&d.jsx(s0e,{labOrders:F,labResults:T,onOrderTest:se,caseData:s==null?void 0:s.clinical_case}),N==="diagnosis"&&d.jsx(o0e,{diagnosis:R,onUpdate:ge,diagnosisMCQ:(Pe=s==null?void 0:s.clinical_case)==null?void 0:Pe.diagnosisMCQ,selectedDiagnosisMCQ:H,onDiagnosisMCQChange:async we=>{if(G(we),w){const Oe={messages:l.map(Ce=>({...Ce,timestamp:Ce.timestamp instanceof Date?Ce.timestamp.toISOString():Ce.timestamp})),hintsUsed:C,labOrders:F,labResults:T,diagnosis:R,diagnosisMCQAnswer:we,vitalsEnabled:$};await Ee.from("simulation_runs").update({transcript:Oe}).eq("id",w)}}})]}),d.jsxs("div",{className:"bg-white border-t border-gray-200 p-4",children:[d.jsxs("button",{onClick:_e,disabled:!w,className:"w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(da,{className:"w-4 h-4"}),"Submit for Scoring"]}),et&&d.jsx("p",{className:"text-xs text-red-600 mt-2 text-center",children:"Your time is up. You can still submit your responses."})]}),d.jsx(Mn,{role:"student"}),d.jsx(yl,{toasts:n.toasts,onClose:n.removeToast})]})}function d0e({activeTab:t,onTabChange:e}){const r=[{id:"feedback",label:"Feedback",icon:Gi},{id:"review",label:"Review",icon:Ey},{id:"questions",label:"Questions",icon:OU}];return d.jsx("div",{className:"bg-white border-b border-gray-200",children:d.jsx("div",{className:"flex overflow-x-auto",children:r.map(n=>{const i=n.icon,a=t===n.id;return d.jsxs("button",{onClick:()=>e(n.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${a?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[d.jsx(i,{className:"w-4 h-4"}),n.label]},n.id)})})})}function f0e({accuracy:t,timeTaken:e,currentStreak:r}){return d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Accuracy"}),d.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[t,"%"]})]}),d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Time Taken"}),d.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e})]}),d.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Current Streak"}),d.jsxs("div",{className:"text-3xl font-bold text-yellow-600 flex items-center gap-1",children:[r,d.jsx("span",{className:"text-2xl",children:""})]})]})]})}function h0e({reasoning:t}){const[e,r]=Y.useState(!0);return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!e),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"STEPWISE REASONING"}),d.jsx(Py,{className:`w-5 h-5 text-gray-500 transition-transform ${e?"":"rotate-180"}`})]}),e&&d.jsx("div",{className:"prose max-w-none",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:t})})]})}function p0e({potentialDiagnoses:t,studentDiagnosis:e,correctDiagnosis:r}){const[n,i]=Y.useState(!0);return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>i(!n),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"DIFFERENTIALS REVIEW"}),d.jsx(Py,{className:`w-5 h-5 text-gray-500 transition-transform ${n?"":"rotate-180"}`})]}),n&&d.jsx("div",{className:"space-y-3",children:t.map((a,s)=>{const o=a.dx===r,l=a.dx===e;return d.jsx("div",{className:`p-4 rounded-lg border-2 ${o?"bg-green-50 border-green-200":l?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[o?d.jsx(da,{className:"w-5 h-5 text-green-600"}):l?d.jsx(Js,{className:"w-5 h-5 text-red-600"}):null,d.jsx("span",{className:"font-medium text-gray-900",children:a.dx})]}),l&&!o&&d.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Your Pick"})]})},s)})})]})}function m0e({pearls:t}){const[e,r]=Y.useState(!0);return!t||t.length===0?null:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!e),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"LEARNING PEARLS"}),d.jsx(Py,{className:`w-5 h-5 text-gray-500 transition-transform ${e?"":"rotate-180"}`})]}),e&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((n,i)=>d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(YT,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),d.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:n})]})},i))})]})}function g0e({references:t}){const[e,r]=Y.useState(!0);return!t||t.length===0?null:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!e),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"FURTHER READING"}),d.jsx(Py,{className:`w-5 h-5 text-gray-500 transition-transform ${e?"":"rotate-180"}`})]}),e&&d.jsx("div",{className:"space-y-3",children:t.map((n,i)=>d.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Oy,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:n.title}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:n.reference})]})]})},i))})]})}const v0e="modulepreload",y0e=function(t){return"/"+t},nP={},mx=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=y0e(l),l in nP)return;nP[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":v0e,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function ir(t){"@babel/helpers - typeof";return ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(t)}var Ya=Uint8Array,zi=Uint16Array,tj=Int32Array,rj=new Ya([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),nj=new Ya([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),iP=new Ya([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),H$=function(t,e){for(var r=new zi(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new tj(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},V$=H$(rj,2),b0e=V$.b,A5=V$.r;b0e[28]=258,A5[258]=28;var x0e=H$(nj,0),aP=x0e.r,N5=new zi(32768);for(var jr=0;jr<32768;++jr){var qo=(jr&43690)>>1|(jr&21845)<<1;qo=(qo&52428)>>2|(qo&13107)<<2,qo=(qo&61680)>>4|(qo&3855)<<4,N5[jr]=((qo&65280)>>8|(qo&255)<<8)>>1}var Gh=function(t,e,r){for(var n=t.length,i=0,a=new zi(e);i<n;++i)t[i]&&++a[t[i]-1];var s=new zi(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new zi(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=s[t[i]-1]++<<u,p=f|(1<<u)-1;f<=p;++f)o[N5[f]>>l]=c}else for(o=new zi(n),i=0;i<n;++i)t[i]&&(o[i]=N5[s[t[i]-1]++]>>15-t[i]);return o},Hc=new Ya(288);for(var jr=0;jr<144;++jr)Hc[jr]=8;for(var jr=144;jr<256;++jr)Hc[jr]=9;for(var jr=256;jr<280;++jr)Hc[jr]=7;for(var jr=280;jr<288;++jr)Hc[jr]=8;var ny=new Ya(32);for(var jr=0;jr<32;++jr)ny[jr]=5;var w0e=Gh(Hc,9,0),_0e=Gh(ny,5,0),G$=function(t){return(t+7)/8|0},S0e=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ya(t.subarray(e,r))},Ws=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},bh=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},gx=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:Y$,l:0};if(i==1){var s=new Ya(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(S,N){return S.f-N.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=a[0].s,n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var h=new zi(p+1),v=k5(r[u-1],h,0);if(v>e){var n=0,g=0,b=v-e,y=1<<b;for(a.sort(function(N,P){return h[P.s]-h[N.s]||N.f-P.f});n<i;++n){var w=a[n].s;if(h[w]>e)g+=y-(1<<v-h[w]),h[w]=e;else break}for(g>>=b;g>0;){var _=a[n].s;h[_]<e?g-=1<<e-h[_]++-1:++n}for(;n>=0&&g;--n){var j=a[n].s;h[j]==e&&(--h[j],++g)}v=e}return{t:new Ya(h),l:v}},k5=function(t,e,r){return t.s==-1?Math.max(k5(t.l,e,r+1),k5(t.r,e,r+1)):e[t.s]=r},sP=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new zi(++e),n=0,i=t[0],a=1,s=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:r.subarray(0,n),n:e}},xh=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},K$=function(t,e,r){var n=r.length,i=G$(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},oP=function(t,e,r,n,i,a,s,o,l,c,u){Ws(e,u++,r),++i[256];for(var f=gx(i,15),p=f.t,h=f.l,v=gx(a,15),g=v.t,b=v.l,y=sP(p),w=y.c,_=y.n,j=sP(g),S=j.c,N=j.n,P=new zi(19),C=0;C<w.length;++C)++P[w[C]&31];for(var C=0;C<S.length;++C)++P[S[C]&31];for(var I=gx(P,7),F=I.t,O=I.l,T=19;T>4&&!F[iP[T-1]];--T);var M=c+5<<3,R=xh(i,Hc)+xh(a,ny)+s,U=xh(i,p)+xh(a,g)+s+14+3*T+xh(P,F)+2*P[16]+3*P[17]+7*P[18];if(l>=0&&M<=R&&M<=U)return K$(e,u,t.subarray(l,l+c));var H,G,$,X;if(Ws(e,u,1+(U<R)),u+=2,U<R){H=Gh(p,h,0),G=p,$=Gh(g,b,0),X=g;var ae=Gh(F,O,0);Ws(e,u,_-257),Ws(e,u+5,N-1),Ws(e,u+10,T-4),u+=14;for(var C=0;C<T;++C)Ws(e,u+3*C,F[iP[C]]);u+=3*T;for(var ie=[w,S],E=0;E<2;++E)for(var z=ie[E],C=0;C<z.length;++C){var V=z[C]&31;Ws(e,u,ae[V]),u+=F[V],V>15&&(Ws(e,u,z[C]>>5&127),u+=z[C]>>12)}}else H=w0e,G=Hc,$=_0e,X=ny;for(var C=0;C<o;++C){var Z=n[C];if(Z>255){var V=Z>>18&31;bh(e,u,H[V+257]),u+=G[V+257],V>7&&(Ws(e,u,Z>>23&31),u+=rj[V]);var ne=Z&31;bh(e,u,$[ne]),u+=X[ne],ne>3&&(bh(e,u,Z>>5&8191),u+=nj[ne])}else bh(e,u,H[Z]),u+=G[Z]}return bh(e,u,H[256]),u+G[256]},j0e=new tj([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Y$=new Ya(0),A0e=function(t,e,r,n,i,a){var s=a.z||t.length,o=new Ya(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),c=a.l,u=(a.r||0)&7;if(e){u&&(l[0]=a.r>>3);for(var f=j0e[e-1],p=f>>13,h=f&8191,v=(1<<r)-1,g=a.p||new zi(32768),b=a.h||new zi(v+1),y=Math.ceil(r/3),w=2*y,_=function(pe){return(t[pe]^t[pe+1]<<y^t[pe+2]<<w)&v},j=new tj(25e3),S=new zi(288),N=new zi(32),P=0,C=0,I=a.i||0,F=0,O=a.w||0,T=0;I+2<s;++I){var M=_(I),R=I&32767,U=b[M];if(g[R]=U,b[M]=R,O<=I){var H=s-I;if((P>7e3||F>24576)&&(H>423||!c)){u=oP(t,l,0,j,S,N,C,F,T,I-T,u),F=P=C=0,T=I;for(var G=0;G<286;++G)S[G]=0;for(var G=0;G<30;++G)N[G]=0}var $=2,X=0,ae=h,ie=R-U&32767;if(H>2&&M==_(I-ie))for(var E=Math.min(p,H)-1,z=Math.min(32767,I),V=Math.min(258,H);ie<=z&&--ae&&R!=U;){if(t[I+$]==t[I+$-ie]){for(var Z=0;Z<V&&t[I+Z]==t[I+Z-ie];++Z);if(Z>$){if($=Z,X=ie,Z>E)break;for(var ne=Math.min(ie,Z-2),ce=0,G=0;G<ne;++G){var ve=I-ie+G&32767,se=g[ve],ge=ve-se&32767;ge>ce&&(ce=ge,U=ve)}}}R=U,U=g[R],ie+=R-U&32767}if(X){j[F++]=268435456|A5[$]<<18|aP[X];var _e=A5[$]&31,he=aP[X]&31;C+=rj[_e]+nj[he],++S[257+_e],++N[he],O=I+$,++P}else j[F++]=t[I],++S[t[I]]}}for(I=Math.max(I,O);I<s;++I)j[F++]=t[I],++S[t[I]];u=oP(t,l,c,j,S,N,C,F,T,I-T,u),c||(a.r=u&7|l[u/8|0]<<3,u-=7,a.h=b,a.p=g,a.i=I,a.w=O)}else{for(var I=a.w||0;I<s+c;I+=65535){var $e=I+65535;$e>=s&&(l[u/8|0]=c,$e=s),u=K$(l,u+1,t.subarray(I,$e))}a.i=s}return S0e(o,0,n+G$(u)+i)},X$=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},N0e=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new Ya(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return A0e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},J$=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},k0e=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=X$();i.p(e.dictionary),J$(t,2,i.d())}};function O5(t,e){e||(e={});var r=X$();r.p(t);var n=N0e(t,e,e.dictionary?6:2,4);return k0e(n,e),J$(n,n.length-4,r.d()),n}var O0e=typeof TextDecoder<"u"&&new TextDecoder,P0e=0;try{O0e.decode(Y$,{stream:!0}),P0e=1}catch{}function E0e(t){if(Array.isArray(t))return t}function C0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function lP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function T0e(t,e){if(t){if(typeof t=="string")return lP(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lP(t,e):void 0}}function L0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cP(t,e){return E0e(t)||C0e(t,e)||T0e(t,e)||L0e()}function uP(t,e="utf8"){return new TextDecoder(e).decode(t)}const I0e=new TextEncoder;function $0e(t){return I0e.encode(t)}const R0e=1024*8,M0e=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),vx={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ij{constructor(e=R0e,r={}){Zt(this,"buffer");Zt(this,"byteLength");Zt(this,"byteOffset");Zt(this,"length");Zt(this,"offset");Zt(this,"lastWrittenByte");Zt(this,"littleEndian");Zt(this,"_data");Zt(this,"_mark");Zt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof ij)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=vx[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===M0e&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new vx[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new vx[r](a);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return uP(this.readBytes(e))}decodeText(e=1,r="utf8"){return uP(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes($0e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Af(t){let e=t.length;for(;--e>=0;)t[e]=0}const D0e=3,B0e=258,Z$=29,F0e=256,U0e=F0e+1+Z$,Q$=30,z0e=512,q0e=new Array((U0e+2)*2);Af(q0e);const W0e=new Array(Q$*2);Af(W0e);const H0e=new Array(z0e);Af(H0e);const V0e=new Array(B0e-D0e+1);Af(V0e);const G0e=new Array(Z$);Af(G0e);const K0e=new Array(Q$);Af(K0e);const Y0e=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var P5=Y0e;const X0e=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},J0e=new Uint32Array(X0e()),Z0e=(t,e,r,n)=>{const i=J0e,a=n+r;t^=-1;for(let s=n;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var cs=Z0e,E5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},eR={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Q0e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var eve=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Q0e(r,n)&&(t[n]=r[n])}}return t},tve=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let s=t[n];r.set(s,i),i+=s.length}return r},tR={assign:eve,flattenChunks:tve};let rR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{rR=!1}const tm=new Uint8Array(256);for(let t=0;t<256;t++)tm[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;tm[254]=tm[254]=1;var rve=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,s=t.length,o=0;for(i=0;i<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const nve=(t,e)=>{if(e<65534&&t.subarray&&rR)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var ive=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=t[n++];if(s<128){a[i++]=s;continue}let o=tm[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|t[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return nve(a,i)},ave=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+tm[t[r]]>e?r:e},C5={string2buf:rve,buf2string:ive,utf8border:ave};function sve(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ove=sve;const Hg=16209,lve=16191;var cve=function(e,r){let n,i,a,s,o,l,c,u,f,p,h,v,g,b,y,w,_,j,S,N,P,C,I,F;const O=e.state;n=e.next_in,I=e.input,i=n+(e.avail_in-5),a=e.next_out,F=e.output,s=a-(r-e.avail_out),o=a+(e.avail_out-257),l=O.dmax,c=O.wsize,u=O.whave,f=O.wnext,p=O.window,h=O.hold,v=O.bits,g=O.lencode,b=O.distcode,y=(1<<O.lenbits)-1,w=(1<<O.distbits)-1;e:do{v<15&&(h+=I[n++]<<v,v+=8,h+=I[n++]<<v,v+=8),_=g[h&y];t:for(;;){if(j=_>>>24,h>>>=j,v-=j,j=_>>>16&255,j===0)F[a++]=_&65535;else if(j&16){S=_&65535,j&=15,j&&(v<j&&(h+=I[n++]<<v,v+=8),S+=h&(1<<j)-1,h>>>=j,v-=j),v<15&&(h+=I[n++]<<v,v+=8,h+=I[n++]<<v,v+=8),_=b[h&w];r:for(;;){if(j=_>>>24,h>>>=j,v-=j,j=_>>>16&255,j&16){if(N=_&65535,j&=15,v<j&&(h+=I[n++]<<v,v+=8,v<j&&(h+=I[n++]<<v,v+=8)),N+=h&(1<<j)-1,N>l){e.msg="invalid distance too far back",O.mode=Hg;break e}if(h>>>=j,v-=j,j=a-s,N>j){if(j=N-j,j>u&&O.sane){e.msg="invalid distance too far back",O.mode=Hg;break e}if(P=0,C=p,f===0){if(P+=c-j,j<S){S-=j;do F[a++]=p[P++];while(--j);P=a-N,C=F}}else if(f<j){if(P+=c+f-j,j-=f,j<S){S-=j;do F[a++]=p[P++];while(--j);if(P=0,f<S){j=f,S-=j;do F[a++]=p[P++];while(--j);P=a-N,C=F}}}else if(P+=f-j,j<S){S-=j;do F[a++]=p[P++];while(--j);P=a-N,C=F}for(;S>2;)F[a++]=C[P++],F[a++]=C[P++],F[a++]=C[P++],S-=3;S&&(F[a++]=C[P++],S>1&&(F[a++]=C[P++]))}else{P=a-N;do F[a++]=F[P++],F[a++]=F[P++],F[a++]=F[P++],S-=3;while(S>2);S&&(F[a++]=F[P++],S>1&&(F[a++]=F[P++]))}}else if(j&64){e.msg="invalid distance code",O.mode=Hg;break e}else{_=b[(_&65535)+(h&(1<<j)-1)];continue r}break}}else if(j&64)if(j&32){O.mode=lve;break e}else{e.msg="invalid literal/length code",O.mode=Hg;break e}else{_=g[(_&65535)+(h&(1<<j)-1)];continue t}break}}while(n<i&&a<o);S=v>>3,n-=S,v-=S<<3,h&=(1<<v)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<o?257+(o-a):257-(a-o),O.hold=h,O.bits=v};const Ou=15,dP=852,fP=592,hP=0,yx=1,pP=2,uve=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),dve=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),fve=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),hve=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),pve=(t,e,r,n,i,a,s,o)=>{const l=o.bits;let c=0,u=0,f=0,p=0,h=0,v=0,g=0,b=0,y=0,w=0,_,j,S,N,P,C=null,I;const F=new Uint16Array(Ou+1),O=new Uint16Array(Ou+1);let T=null,M,R,U;for(c=0;c<=Ou;c++)F[c]=0;for(u=0;u<n;u++)F[e[r+u]]++;for(h=l,p=Ou;p>=1&&F[p]===0;p--);if(h>p&&(h=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<p&&F[f]===0;f++);for(h<f&&(h=f),b=1,c=1;c<=Ou;c++)if(b<<=1,b-=F[c],b<0)return-1;if(b>0&&(t===hP||p!==1))return-1;for(O[1]=0,c=1;c<Ou;c++)O[c+1]=O[c]+F[c];for(u=0;u<n;u++)e[r+u]!==0&&(s[O[e[r+u]]++]=u);if(t===hP?(C=T=s,I=20):t===yx?(C=uve,T=dve,I=257):(C=fve,T=hve,I=0),w=0,u=0,c=f,P=a,v=h,g=0,S=-1,y=1<<h,N=y-1,t===yx&&y>dP||t===pP&&y>fP)return 1;for(;;){M=c-g,s[u]+1<I?(R=0,U=s[u]):s[u]>=I?(R=T[s[u]-I],U=C[s[u]-I]):(R=96,U=0),_=1<<c-g,j=1<<v,f=j;do j-=_,i[P+(w>>g)+j]=M<<24|R<<16|U|0;while(j!==0);for(_=1<<c-1;w&_;)_>>=1;if(_!==0?(w&=_-1,w+=_):w=0,u++,--F[c]===0){if(c===p)break;c=e[r+s[u]]}if(c>h&&(w&N)!==S){for(g===0&&(g=h),P+=f,v=c-g,b=1<<v;v+g<p&&(b-=F[v+g],!(b<=0));)v++,b<<=1;if(y+=1<<v,t===yx&&y>dP||t===pP&&y>fP)return 1;S=w&N,i[S]=h<<24|v<<16|P-a|0}}return w!==0&&(i[P+w]=c-g<<24|64<<16|0),o.bits=h,0};var Kh=pve;const mve=0,nR=1,iR=2,{Z_FINISH:mP,Z_BLOCK:gve,Z_TREES:Vg,Z_OK:Vc,Z_STREAM_END:vve,Z_NEED_DICT:yve,Z_STREAM_ERROR:ba,Z_DATA_ERROR:aR,Z_MEM_ERROR:sR,Z_BUF_ERROR:bve,Z_DEFLATED:gP}=eR,S1=16180,vP=16181,yP=16182,bP=16183,xP=16184,wP=16185,_P=16186,SP=16187,jP=16188,AP=16189,iy=16190,Hs=16191,bx=16192,NP=16193,xx=16194,kP=16195,OP=16196,PP=16197,EP=16198,Gg=16199,Kg=16200,CP=16201,TP=16202,LP=16203,IP=16204,$P=16205,wx=16206,RP=16207,MP=16208,Nr=16209,oR=16210,lR=16211,xve=852,wve=592,_ve=15,Sve=_ve,DP=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function jve(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const nu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<S1||e.mode>lR?1:0},cR=t=>{if(nu(t))return ba;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=S1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(xve),e.distcode=e.distdyn=new Int32Array(wve),e.sane=1,e.back=-1,Vc},uR=t=>{if(nu(t))return ba;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,cR(t)},dR=(t,e)=>{let r;if(nu(t))return ba;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ba:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,uR(t))},fR=(t,e)=>{if(!t)return ba;const r=new jve;t.state=r,r.strm=t,r.window=null,r.mode=S1;const n=dR(t,e);return n!==Vc&&(t.state=null),n},Ave=t=>fR(t,Sve);let BP=!0,_x,Sx;const Nve=t=>{if(BP){_x=new Int32Array(512),Sx=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Kh(nR,t.lens,0,288,_x,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Kh(iR,t.lens,0,32,Sx,0,t.work,{bits:5}),BP=!1}t.lencode=_x,t.lenbits=9,t.distcode=Sx,t.distbits=5},hR=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},kve=(t,e)=>{let r,n,i,a,s,o,l,c,u,f,p,h,v,g,b=0,y,w,_,j,S,N,P,C;const I=new Uint8Array(4);let F,O;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(nu(t)||!t.output||!t.input&&t.avail_in!==0)return ba;r=t.state,r.mode===Hs&&(r.mode=bx),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,c=r.hold,u=r.bits,f=o,p=l,C=Vc;e:for(;;)switch(r.mode){case S1:if(r.wrap===0){r.mode=bx;break}for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,I[0]=c&255,I[1]=c>>>8&255,r.check=cs(r.check,I,2,0),c=0,u=0,r.mode=vP;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Nr;break}if((c&15)!==gP){t.msg="unknown compression method",r.mode=Nr;break}if(c>>>=4,u-=4,P=(c&15)+8,r.wbits===0&&(r.wbits=P),P>15||P>r.wbits){t.msg="invalid window size",r.mode=Nr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?AP:Hs,c=0,u=0;break;case vP:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==gP){t.msg="unknown compression method",r.mode=Nr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Nr;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,r.check=cs(r.check,I,2,0)),c=0,u=0,r.mode=yP;case yP:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,I[2]=c>>>16&255,I[3]=c>>>24&255,r.check=cs(r.check,I,4,0)),c=0,u=0,r.mode=bP;case bP:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,r.check=cs(r.check,I,2,0)),c=0,u=0,r.mode=xP;case xP:if(r.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,r.check=cs(r.check,I,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=wP;case wP:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(P=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+h),P)),r.flags&512&&r.wrap&4&&(r.check=cs(r.check,n,h,a)),o-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=_P;case _P:if(r.flags&2048){if(o===0)break e;h=0;do P=n[a+h++],r.head&&P&&r.length<65536&&(r.head.name+=String.fromCharCode(P));while(P&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=cs(r.check,n,h,a)),o-=h,a+=h,P)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=SP;case SP:if(r.flags&4096){if(o===0)break e;h=0;do P=n[a+h++],r.head&&P&&r.length<65536&&(r.head.comment+=String.fromCharCode(P));while(P&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=cs(r.check,n,h,a)),o-=h,a+=h,P)break e}else r.head&&(r.head.comment=null);r.mode=jP;case jP:if(r.flags&512){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Nr;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Hs;break;case AP:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}t.adler=r.check=DP(c),c=0,u=0,r.mode=iy;case iy:if(r.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=u,yve;t.adler=r.check=1,r.mode=Hs;case Hs:if(e===gve||e===Vg)break e;case bx:if(r.last){c>>>=u&7,u-=u&7,r.mode=wx;break}for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=NP;break;case 1:if(Nve(r),r.mode=Gg,e===Vg){c>>>=2,u-=2;break e}break;case 2:r.mode=OP;break;case 3:t.msg="invalid block type",r.mode=Nr}c>>>=2,u-=2;break;case NP:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Nr;break}if(r.length=c&65535,c=0,u=0,r.mode=xx,e===Vg)break e;case xx:r.mode=kP;case kP:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(n.subarray(a,a+h),s),o-=h,a+=h,l-=h,s+=h,r.length-=h;break}r.mode=Hs;break;case OP:for(;u<14;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Nr;break}r.have=0,r.mode=PP;case PP:for(;r.have<r.ncode;){for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.lens[T[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[T[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,F={bits:r.lenbits},C=Kh(mve,r.lens,0,19,r.lencode,0,r.work,F),r.lenbits=F.bits,C){t.msg="invalid code lengths set",r.mode=Nr;break}r.have=0,r.mode=EP;case EP:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[c&(1<<r.lenbits)-1],y=b>>>24,w=b>>>16&255,_=b&65535,!(y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(_<16)c>>>=y,u-=y,r.lens[r.have++]=_;else{if(_===16){for(O=y+2;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(c>>>=y,u-=y,r.have===0){t.msg="invalid bit length repeat",r.mode=Nr;break}P=r.lens[r.have-1],h=3+(c&3),c>>>=2,u-=2}else if(_===17){for(O=y+3;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=y,u-=y,P=0,h=3+(c&7),c>>>=3,u-=3}else{for(O=y+7;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=y,u-=y,P=0,h=11+(c&127),c>>>=7,u-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Nr;break}for(;h--;)r.lens[r.have++]=P}}if(r.mode===Nr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Nr;break}if(r.lenbits=9,F={bits:r.lenbits},C=Kh(nR,r.lens,0,r.nlen,r.lencode,0,r.work,F),r.lenbits=F.bits,C){t.msg="invalid literal/lengths set",r.mode=Nr;break}if(r.distbits=6,r.distcode=r.distdyn,F={bits:r.distbits},C=Kh(iR,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,F),r.distbits=F.bits,C){t.msg="invalid distances set",r.mode=Nr;break}if(r.mode=Gg,e===Vg)break e;case Gg:r.mode=Kg;case Kg:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=u,cve(t,p),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,c=r.hold,u=r.bits,r.mode===Hs&&(r.back=-1);break}for(r.back=0;b=r.lencode[c&(1<<r.lenbits)-1],y=b>>>24,w=b>>>16&255,_=b&65535,!(y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(w&&!(w&240)){for(j=y,S=w,N=_;b=r.lencode[N+((c&(1<<j+S)-1)>>j)],y=b>>>24,w=b>>>16&255,_=b&65535,!(j+y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=j,u-=j,r.back+=j}if(c>>>=y,u-=y,r.back+=y,r.length=_,w===0){r.mode=$P;break}if(w&32){r.back=-1,r.mode=Hs;break}if(w&64){t.msg="invalid literal/length code",r.mode=Nr;break}r.extra=w&15,r.mode=CP;case CP:if(r.extra){for(O=r.extra;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=TP;case TP:for(;b=r.distcode[c&(1<<r.distbits)-1],y=b>>>24,w=b>>>16&255,_=b&65535,!(y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(!(w&240)){for(j=y,S=w,N=_;b=r.distcode[N+((c&(1<<j+S)-1)>>j)],y=b>>>24,w=b>>>16&255,_=b&65535,!(j+y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=j,u-=j,r.back+=j}if(c>>>=y,u-=y,r.back+=y,w&64){t.msg="invalid distance code",r.mode=Nr;break}r.offset=_,r.extra=w&15,r.mode=LP;case LP:if(r.extra){for(O=r.extra;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Nr;break}r.mode=IP;case IP:if(l===0)break e;if(h=p-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Nr;break}h>r.wnext?(h-=r.wnext,v=r.wsize-h):v=r.wnext-h,h>r.length&&(h=r.length),g=r.window}else g=i,v=s-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do i[s++]=g[v++];while(--h);r.length===0&&(r.mode=Kg);break;case $P:if(l===0)break e;i[s++]=r.length,l--,r.mode=Kg;break;case wx:if(r.wrap){for(;u<32;){if(o===0)break e;o--,c|=n[a++]<<u,u+=8}if(p-=l,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?cs(r.check,i,p,s-p):P5(r.check,i,p,s-p)),p=l,r.wrap&4&&(r.flags?c:DP(c))!==r.check){t.msg="incorrect data check",r.mode=Nr;break}c=0,u=0}r.mode=RP;case RP:if(r.wrap&&r.flags){for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Nr;break}c=0,u=0}r.mode=MP;case MP:C=vve;break e;case Nr:C=aR;break e;case oR:return sR;case lR:default:return ba}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=u,(r.wsize||p!==t.avail_out&&r.mode<Nr&&(r.mode<wx||e!==mP))&&hR(t,t.output,t.next_out,p-t.avail_out),f-=t.avail_in,p-=t.avail_out,t.total_in+=f,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?cs(r.check,i,p,t.next_out-p):P5(r.check,i,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Hs?128:0)+(r.mode===Gg||r.mode===xx?256:0),(f===0&&p===0||e===mP)&&C===Vc&&(C=bve),C},Ove=t=>{if(nu(t))return ba;let e=t.state;return e.window&&(e.window=null),t.state=null,Vc},Pve=(t,e)=>{if(nu(t))return ba;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,Vc):ba},Eve=(t,e)=>{const r=e.length;let n,i,a;return nu(t)||(n=t.state,n.wrap!==0&&n.mode!==iy)?ba:n.mode===iy&&(i=1,i=P5(i,e,r,0),i!==n.check)?aR:(a=hR(t,e,r,r),a?(n.mode=oR,sR):(n.havedict=1,Vc))};var Cve=uR,Tve=dR,Lve=cR,Ive=Ave,$ve=fR,Rve=kve,Mve=Ove,Dve=Pve,Bve=Eve,Fve="pako inflate (from Nodeca project)",Xs={inflateReset:Cve,inflateReset2:Tve,inflateResetKeep:Lve,inflateInit:Ive,inflateInit2:$ve,inflate:Rve,inflateEnd:Mve,inflateGetHeader:Dve,inflateSetDictionary:Bve,inflateInfo:Fve};function Uve(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var zve=Uve;const pR=Object.prototype.toString,{Z_NO_FLUSH:qve,Z_FINISH:Wve,Z_OK:rm,Z_STREAM_END:jx,Z_NEED_DICT:Ax,Z_STREAM_ERROR:Hve,Z_DATA_ERROR:FP,Z_MEM_ERROR:Vve}=eR;function _m(t){this.options=tR.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ove,this.strm.avail_out=0;let r=Xs.inflateInit2(this.strm,e.windowBits);if(r!==rm)throw new Error(E5[r]);if(this.header=new zve,Xs.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=C5.string2buf(e.dictionary):pR.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Xs.inflateSetDictionary(this.strm,e.dictionary),r!==rm)))throw new Error(E5[r])}_m.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Wve:qve,pR.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Xs.inflate(r,s),a===Ax&&i&&(a=Xs.inflateSetDictionary(r,i),a===rm?a=Xs.inflate(r,s):a===FP&&(a=Ax));r.avail_in>0&&a===jx&&r.state.wrap>0&&t[r.next_in]!==0;)Xs.inflateReset(r),a=Xs.inflate(r,s);switch(a){case Hve:case FP:case Ax:case Vve:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===jx))if(this.options.to==="string"){let l=C5.utf8border(r.output,r.next_out),c=r.next_out-l,u=C5.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===rm&&o===0)){if(a===jx)return a=Xs.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};_m.prototype.onData=function(t){this.chunks.push(t)};_m.prototype.onEnd=function(t){t===rm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=tR.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Gve(t,e){const r=new _m(e);if(r.push(t),r.err)throw r.msg||E5[r.err];return r.result}var Kve=_m,Yve=Gve,Xve={Inflate:Kve,inflate:Yve};const{Inflate:Jve,inflate:Zve}=Xve;var UP=Jve,Qve=Zve;const mR=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;mR[t]=e}const zP=4294967295;function eye(t,e,r){let n=t;for(let i=0;i<r;i++)n=mR[(n^e[i])&255]^n>>>8;return n}function tye(t,e){return(eye(zP,t,e)^zP)>>>0}function qP(t,e,r){const n=t.readUint32(),i=tye(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function gR(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function vR(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function yR(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function bR(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function xR(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+rye(e[a-i],r[a],r[a-i])&255}}function rye(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),s=Math.abs(n-r);return i<=a&&i<=s?t:a<=s?e:r}function nye(t,e,r,n,i,a){switch(t){case 0:gR(e,r,i);break;case 1:vR(e,r,i,a);break;case 2:yR(e,r,n,i);break;case 3:bR(e,r,n,i,a);break;case 4:xR(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const iye=new Uint16Array([255]),aye=new Uint8Array(iye.buffer),sye=aye[0]===255;function oye(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(n*r*o);let c=0;for(let u=0;u<7;u++){const f=s[u],p=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(p<=0||h<=0)continue;const v=p*o,g=new Uint8Array(v);for(let b=0;b<h;b++){const y=e[c++],w=e.subarray(c,c+v);c+=v;const _=new Uint8Array(v);nye(y,w,_,g,v,o),g.set(_);for(let j=0;j<p;j++){const S=f.x+j*f.xStep,N=f.y+b*f.yStep;if(!(S>=r||N>=n))for(let P=0;P<o;P++)l[(N*r+S)*o+P]=_[j*o+P]}}}if(a===16){const u=new Uint16Array(l.buffer);if(sye)for(let f=0;f<u.length;f++)u[f]=lye(u[f]);return u}else return l}function lye(t){return(t&255)<<8|t>>8&255}const cye=new Uint16Array([255]),uye=new Uint8Array(cye.buffer),dye=uye[0]===255,fye=new Uint8Array(0);function WP(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),l=new Uint8Array(n*o);let c=fye,u=0,f,p;for(let h=0;h<n;h++){switch(f=e.subarray(u+1,u+1+o),p=l.subarray(h*o,(h+1)*o),e[u]){case 0:gR(f,p,o);break;case 1:vR(f,p,o,s);break;case 2:yR(f,p,c,o);break;case 3:bR(f,p,c,o,s);break;case 4:xR(f,p,c,o,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=p,u+=o+1}if(a===16){const h=new Uint16Array(l.buffer);if(dye)for(let v=0;v<h.length;v++)h[v]=hye(h[v]);return h}else return l}function hye(t){return(t&255)<<8|t>>8&255}const h0=Uint8Array.of(137,80,78,71,13,10,26,10);function HP(t){if(!pye(t.readBytes(h0.length)))throw new Error("wrong PNG signature")}function pye(t){if(t.length<h0.length)return!1;for(let e=0;e<h0.length;e++)if(t[e]!==h0[e])return!1;return!0}const mye="tEXt",gye=0,wR=new TextDecoder("latin1");function vye(t){if(bye(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const yye=/^[\u0000-\u00FF]*$/;function bye(t){if(!yye.test(t))throw new Error("invalid latin1 text")}function xye(t,e,r){const n=_R(e);t[n]=wye(e,r-n.length-1)}function _R(t){for(t.mark();t.readByte()!==gye;);const e=t.offset;t.reset();const r=wR.decode(t.readBytes(e-t.offset-1));return t.skip(1),vye(r),r}function wye(t,e){return wR.decode(t.readBytes(e))}const Ti={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Nx={UNKNOWN:-1,DEFLATE:0},VP={UNKNOWN:-1,ADAPTIVE:0},kx={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Yg={NONE:0,BACKGROUND:1,PREVIOUS:2},Ox={SOURCE:0,OVER:1};class _ye extends ij{constructor(r,n={}){super(r);Zt(this,"_checkCrc");Zt(this,"_inflator");Zt(this,"_png");Zt(this,"_apng");Zt(this,"_end");Zt(this,"_hasPalette");Zt(this,"_palette");Zt(this,"_hasTransparency");Zt(this,"_transparency");Zt(this,"_compressionMethod");Zt(this,"_filterMethod");Zt(this,"_interlaceMethod");Zt(this,"_colorType");Zt(this,"_isAnimated");Zt(this,"_numberOfFrames");Zt(this,"_numberOfPlays");Zt(this,"_frames");Zt(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new UP,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Nx.UNKNOWN,this._filterMethod=VP.UNKNOWN,this._interlaceMethod=kx.UNKNOWN,this._colorType=Ti.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(HP(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(HP(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case mye:xye(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?qP(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?qP(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=Sye(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Ti.GREYSCALE:i=1;break;case Ti.TRUECOLOUR:i=3;break;case Ti.INDEXED_COLOUR:i=1;break;case Ti.GREYSCALE_ALPHA:i=2;break;case Ti.TRUECOLOUR_ALPHA:i=4;break;case Ti.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Nx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ti.GREYSCALE:case Ti.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ti.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ti.UNKNOWN:case Ti.GREYSCALE_ALPHA:case Ti.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=_R(this),i=this.readUint8();if(i!==Nx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Qve(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=WP({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case Yg.NONE:break;case Yg.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*r.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case Yg.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case Ox.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++)r.data[l+u]=n.data[c+u]}break;case Ox.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++){const f=n.data[c+this._png.channels-1]/i,p=u%(this._png.channels-1)===0?1:n.data[c+u],h=Math.floor(f*p+(1-f)*r.data[l+u]);r.data[l+u]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==VP.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===kx.NO_INTERLACE)this._png.data=WP({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===kx.ADAM7)this._png.data=oye({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Yg.NONE,blendOp:Ox.SOURCE,data:r}),this._inflator=new UP,this._writingDataChunks=!1}}function Sye(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var GP;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(GP||(GP={}));function jye(t,e){return new _ye(t,e).decode()}var xt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Px(){xt.console&&typeof xt.console.log=="function"&&xt.console.log.apply(xt.console,arguments)}var dr={log:Px,warn:function(t){xt.console&&(typeof xt.console.warn=="function"?xt.console.warn.apply(xt.console,arguments):Px.call(null,arguments))},error:function(t){xt.console&&(typeof xt.console.error=="function"?xt.console.error.apply(xt.console,arguments):Px(t))}};function Ex(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){pc(n.response,e,r)},n.onerror=function(){dr.error("could not download file")},n.send()}function KP(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Xg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var pc=xt.saveAs||((typeof window>"u"?"undefined":ir(window))!=="object"||window!==xt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=xt.URL||xt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?KP(i.href)?Ex(t,e,r):Xg(i,i.target="_blank"):Xg(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Xg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(KP(t))Ex(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Xg(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:ir(a)!=="object"&&(dr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Ex(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(xt.HTMLElement)||xt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":ir(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(t)}else{var l=xt.URL||xt.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function SR(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var p0=xt.atob.bind(xt),YP=xt.btoa.bind(xt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Cx(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=Wn(r,n,i,a,e[0],7,-680876936),a=Wn(a,r,n,i,e[1],12,-389564586),i=Wn(i,a,r,n,e[2],17,606105819),n=Wn(n,i,a,r,e[3],22,-1044525330),r=Wn(r,n,i,a,e[4],7,-176418897),a=Wn(a,r,n,i,e[5],12,1200080426),i=Wn(i,a,r,n,e[6],17,-1473231341),n=Wn(n,i,a,r,e[7],22,-45705983),r=Wn(r,n,i,a,e[8],7,1770035416),a=Wn(a,r,n,i,e[9],12,-1958414417),i=Wn(i,a,r,n,e[10],17,-42063),n=Wn(n,i,a,r,e[11],22,-1990404162),r=Wn(r,n,i,a,e[12],7,1804603682),a=Wn(a,r,n,i,e[13],12,-40341101),i=Wn(i,a,r,n,e[14],17,-1502002290),r=Hn(r,n=Wn(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Hn(a,r,n,i,e[6],9,-1069501632),i=Hn(i,a,r,n,e[11],14,643717713),n=Hn(n,i,a,r,e[0],20,-373897302),r=Hn(r,n,i,a,e[5],5,-701558691),a=Hn(a,r,n,i,e[10],9,38016083),i=Hn(i,a,r,n,e[15],14,-660478335),n=Hn(n,i,a,r,e[4],20,-405537848),r=Hn(r,n,i,a,e[9],5,568446438),a=Hn(a,r,n,i,e[14],9,-1019803690),i=Hn(i,a,r,n,e[3],14,-187363961),n=Hn(n,i,a,r,e[8],20,1163531501),r=Hn(r,n,i,a,e[13],5,-1444681467),a=Hn(a,r,n,i,e[2],9,-51403784),i=Hn(i,a,r,n,e[7],14,1735328473),r=Vn(r,n=Hn(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Vn(a,r,n,i,e[8],11,-2022574463),i=Vn(i,a,r,n,e[11],16,1839030562),n=Vn(n,i,a,r,e[14],23,-35309556),r=Vn(r,n,i,a,e[1],4,-1530992060),a=Vn(a,r,n,i,e[4],11,1272893353),i=Vn(i,a,r,n,e[7],16,-155497632),n=Vn(n,i,a,r,e[10],23,-1094730640),r=Vn(r,n,i,a,e[13],4,681279174),a=Vn(a,r,n,i,e[0],11,-358537222),i=Vn(i,a,r,n,e[3],16,-722521979),n=Vn(n,i,a,r,e[6],23,76029189),r=Vn(r,n,i,a,e[9],4,-640364487),a=Vn(a,r,n,i,e[12],11,-421815835),i=Vn(i,a,r,n,e[15],16,530742520),r=Gn(r,n=Vn(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Gn(a,r,n,i,e[7],10,1126891415),i=Gn(i,a,r,n,e[14],15,-1416354905),n=Gn(n,i,a,r,e[5],21,-57434055),r=Gn(r,n,i,a,e[12],6,1700485571),a=Gn(a,r,n,i,e[3],10,-1894986606),i=Gn(i,a,r,n,e[10],15,-1051523),n=Gn(n,i,a,r,e[1],21,-2054922799),r=Gn(r,n,i,a,e[8],6,1873313359),a=Gn(a,r,n,i,e[15],10,-30611744),i=Gn(i,a,r,n,e[6],15,-1560198380),n=Gn(n,i,a,r,e[13],21,1309151649),r=Gn(r,n,i,a,e[4],6,-145523070),a=Gn(a,r,n,i,e[11],10,-1120210379),i=Gn(i,a,r,n,e[2],15,718787259),n=Gn(n,i,a,r,e[9],21,-343485551),t[0]=nl(r,t[0]),t[1]=nl(n,t[1]),t[2]=nl(i,t[2]),t[3]=nl(a,t[3])}function j1(t,e,r,n,i,a){return e=nl(nl(e,t),nl(n,a)),nl(e<<i|e>>>32-i,r)}function Wn(t,e,r,n,i,a,s){return j1(e&r|~e&n,t,e,i,a,s)}function Hn(t,e,r,n,i,a,s){return j1(e&n|r&~n,t,e,i,a,s)}function Vn(t,e,r,n,i,a,s){return j1(e^r^n,t,e,i,a,s)}function Gn(t,e,r,n,i,a,s){return j1(r^(e|~n),t,e,i,a,s)}function jR(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Cx(n,Aye(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Cx(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Cx(n,i),n}function Aye(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var XP="0123456789abcdef".split("");function Nye(t){for(var e="",r=0;r<4;r++)e+=XP[t>>8*r+4&15]+XP[t>>8*r&15];return e}function kye(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function T5(t){return jR(t).map(kye).join("")}var Oye=function(t){for(var e=0;e<t.length;e++)t[e]=Nye(t[e]);return t.join("")}(jR("hello"))!="5d41402abc4b2a76b9719d911017c592";function nl(t,e){if(Oye){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function L5(t,e){var r,n,i,a;if(t!==r){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=t,n=o}else o=n;var f=e.length,p=0,h=0,v="";for(l=0;l<f;l++)h=(h+(u=o[p=(p+1)%256]))%256,o[p]=o[h],o[h]=u,s=o[(o[p]+o[h])%256],v+=String.fromCharCode(e.charCodeAt(l)^s);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var JP={print:4,modify:8,copy:16,"annot-forms":32};function Iu(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(JP.perm!==void 0)throw new Error("Invalid permission: "+o);i+=JP[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=T5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=L5(this.encryptionKey,this.padding)}function $u(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function ZP(t){if(ir(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var s=e[r][a];try{s[0].apply(t,n)}catch(o){xt.console&&dr.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function ay(t){if(!(this instanceof ay))return new ay(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function AR(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function bc(t,e,r,n,i){if(!(this instanceof bc))return new bc(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,AR.call(this,n,i)}function Qu(t,e,r,n,i){if(!(this instanceof Qu))return new Qu(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,AR.call(this,n,i)}function dt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",u=null;ir(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=ZP;var v="1.3",g=h.__private__.getPdfVersion=function(){return v};h.__private__.setPdfVersion=function(A){v=A};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return b};var y=h.__private__.getPageFormat=function(A){return b[A]};i=i||"a4";var w="compat",_="advanced",j=w;function S(){this.saveGraphicsState(),Q(new mt(We,0,0,-We,0,Hl()*We).toString()+" cm"),this.setFontSize(this.getFontSize()/We),c="n",j=_}function N(){this.restoreGraphicsState(),c="S",j=w}var P=h.__private__.combineFontStyleAndFontWeight=function(A,D){if(A=="bold"&&D=="normal"||A=="bold"&&D==400||A=="normal"&&D=="italic"||A=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(A=D==400||D==="normal"?A==="italic"?"italic":"normal":D!=700&&D!=="bold"||A!=="normal"?(D==700?"bold":D)+""+A:"bold"),A};h.advancedAPI=function(A){var D=j===w;return D&&S.call(this),typeof A!="function"||(A(this),D&&N.call(this)),this},h.compatAPI=function(A){var D=j===_;return D&&N.call(this),typeof A!="function"||(A(this),D&&S.call(this)),this},h.isAdvancedAPI=function(){return j===_};var C,I=function(A){if(j!==_)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=h.roundToPrecision=h.__private__.roundToPrecision=function(A,D){var re=e||D;if(isNaN(A)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(re).replace(/0+$/,"")};C=h.hpf=h.__private__.hpf=typeof l=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,l)}:l==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,16)};var O=h.f2=h.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return F(A,2)},T=h.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return F(A,3)},M=h.scale=h.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return j===w?A*We:j===_?A:void 0},R=function(A){return M(function(D){return j===w?Hl()-D:j===_?D:void 0}(A))};h.__private__.setPrecision=h.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var U,H="00000000000000000000000000000000",G=h.__private__.getFileId=function(){return H},$=h.__private__.setFileId=function(A){return H=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(qr=new Iu(u.userPermissions,u.userPassword,u.ownerPassword,H)),H};h.setFileId=function(A){return $(A),this},h.getFileId=function(){return G()};var X=h.__private__.convertDateToPDFDate=function(A){var D=A.getTimezoneOffset(),re=D<0?"+":"-",le=Math.floor(Math.abs(D/60)),me=Math.abs(D%60),Ne=[re,V(le),"'",V(me),"'"].join("");return["D:",A.getFullYear(),V(A.getMonth()+1),V(A.getDate()),V(A.getHours()),V(A.getMinutes()),V(A.getSeconds()),Ne].join("")},ae=h.__private__.convertPDFDateToDate=function(A){var D=parseInt(A.substr(2,4),10),re=parseInt(A.substr(6,2),10)-1,le=parseInt(A.substr(8,2),10),me=parseInt(A.substr(10,2),10),Ne=parseInt(A.substr(12,2),10),Le=parseInt(A.substr(14,2),10);return new Date(D,re,le,me,Ne,Le,0)},ie=h.__private__.setCreationDate=function(A){var D;if(A===void 0&&(A=new Date),A instanceof Date)D=X(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=A}return U=D},E=h.__private__.getCreationDate=function(A){var D=U;return A==="jsDate"&&(D=ae(U)),D};h.setCreationDate=function(A){return ie(A),this},h.getCreationDate=function(A){return E(A)};var z,V=h.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},Z=h.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},ne=0,ce=[],ve=[],se=0,ge=[],_e=[],he=!1,$e=ve;h.__private__.setCustomOutputDestination=function(A){he=!0,$e=A};var pe=function(A){he||($e=A)};h.__private__.resetCustomOutputDestination=function(){he=!1,$e=ve};var Q=h.__private__.out=function(A){return A=A.toString(),se+=A.length+1,$e.push(A),$e},et=h.__private__.write=function(A){return Q(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},tt=h.__private__.getArrayBuffer=function(A){for(var D=A.length,re=new ArrayBuffer(D),le=new Uint8Array(re);D--;)le[D]=A.charCodeAt(D);return re},Ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Ke};var fe=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(A){return fe=j===_?A/We:A,this};var Re,Pe=h.__private__.getFontSize=h.getFontSize=function(){return j===w?fe:fe*We},we=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(A){return we=A,this},h.__private__.getR2L=h.getR2L=function(){return we};var Oe,Ce=h.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))Re=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');Re=A}else Re=parseInt(A,10)};h.__private__.getZoomMode=function(){return Re};var Ie,ze=h.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');Oe=A};h.__private__.getPageMode=function(){return Oe};var ht=h.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');Ie=A};h.__private__.getLayoutMode=function(){return Ie},h.__private__.setDisplayMode=h.setDisplayMode=function(A,D,re){return Ce(A),ht(D),ze(re),this};var Ve={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(A){if(Object.keys(Ve).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ve[A]},h.__private__.getDocumentProperties=function(){return Ve},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(A){for(var D in Ve)Ve.hasOwnProperty(D)&&A[D]&&(Ve[D]=A[D]);return this},h.__private__.setDocumentProperty=function(A,D){if(Object.keys(Ve).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ve[A]=D};var Ue,We,qe,St,Lt,rt={},yt={},Dt=[],lt={},It={},Nt={},Pr={},Er=null,Gt=0,bt=[],Qt=new ZP(h),Ll=t.hotfixes||[],Bn={},Os={},es=[],mt=function A(D,re,le,me,Ne,Le){if(!(this instanceof A))return new A(D,re,le,me,Ne,Le);isNaN(D)&&(D=1),isNaN(re)&&(re=0),isNaN(le)&&(le=0),isNaN(me)&&(me=1),isNaN(Ne)&&(Ne=0),isNaN(Le)&&(Le=0),this._matrix=[D,re,le,me,Ne,Le]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(A)},mt.prototype.multiply=function(A){var D=A.sx*this.sx+A.shy*this.shx,re=A.sx*this.shy+A.shy*this.sy,le=A.shx*this.sx+A.sy*this.shx,me=A.shx*this.shy+A.sy*this.sy,Ne=A.tx*this.sx+A.ty*this.shx+this.tx,Le=A.tx*this.shy+A.ty*this.sy+this.ty;return new mt(D,re,le,me,Ne,Le)},mt.prototype.decompose=function(){var A=this.sx,D=this.shy,re=this.shx,le=this.sy,me=this.tx,Ne=this.ty,Le=Math.sqrt(A*A+D*D),nt=(A/=Le)*re+(D/=Le)*le;re-=A*nt,le-=D*nt;var ct=Math.sqrt(re*re+le*le);return nt/=ct,A*(le/=ct)<D*(re/=ct)&&(A=-A,D=-D,nt=-nt,Le=-Le),{scale:new mt(Le,0,0,ct,0,0),translate:new mt(1,0,0,1,me,Ne),rotate:new mt(A,D,-D,A,0,0),skew:new mt(1,0,nt,1,0,0)}},mt.prototype.toString=function(A){return this.join(" ")},mt.prototype.inversed=function(){var A=this.sx,D=this.shy,re=this.shx,le=this.sy,me=this.tx,Ne=this.ty,Le=1/(A*le-D*re),nt=le*Le,ct=-D*Le,jt=-re*Le,Pt=A*Le;return new mt(nt,ct,jt,Pt,-nt*me-jt*Ne,-ct*me-Pt*Ne)},mt.prototype.applyToPoint=function(A){var D=A.x*this.sx+A.y*this.shx+this.tx,re=A.x*this.shy+A.y*this.sy+this.ty;return new ql(D,re)},mt.prototype.applyToRectangle=function(A){var D=this.applyToPoint(A),re=this.applyToPoint(new ql(A.x+A.w,A.y+A.h));return new Rf(D.x,D.y,re.x-D.x,re.y-D.y)},mt.prototype.clone=function(){var A=this.sx,D=this.shy,re=this.shx,le=this.sy,me=this.tx,Ne=this.ty;return new mt(A,D,re,le,me,Ne)},h.Matrix=mt;var Ps=h.matrixMult=function(A,D){return D.multiply(A)},Es=new mt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Es;var Xi=function(A,D){if(!It[A]){var re=(D instanceof bc?"Sh":"P")+(Object.keys(lt).length+1).toString(10);D.id=re,It[A]=re,lt[re]=D,Qt.publish("addPattern",D)}};h.ShadingPattern=bc,h.TilingPattern=Qu,h.addShadingPattern=function(A,D){return I("addShadingPattern()"),Xi(A,D),this},h.beginTilingPattern=function(A){I("beginTilingPattern()"),Mf(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},h.endTilingPattern=function(A,D){I("endTilingPattern()"),D.stream=_e[z].join(`
`),Xi(A,D),Qt.publish("endTilingPattern",D),es.pop().restore()};var Ji,Rr=h.__private__.newObject=function(){var A=_n();return Pn(A,!0),A},_n=h.__private__.newObjectDeferred=function(){return ne++,ce[ne]=function(){return se},ne},Pn=function(A,D){return D=typeof D=="boolean"&&D,ce[A]=se,D&&Q(A+" 0 obj"),A},Il=h.__private__.newAdditionalObject=function(){var A={objId:_n(),content:""};return ge.push(A),A},jo=_n(),Sa=_n(),ts=h.__private__.decodeColorString=function(A){var D=A.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length!==5||D[4]!=="k"&&D[4]!=="K"||(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var re=parseFloat(D[0]);D=[re,re,re,"r"]}for(var le="#",me=0;me<3;me++)le+=("0"+Math.floor(255*parseFloat(D[me])).toString(16)).slice(-2);return le},ja=h.__private__.encodeColorString=function(A){var D;typeof A=="string"&&(A={ch1:A});var re=A.ch1,le=A.ch2,me=A.ch3,Ne=A.ch4,Le=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var nt=new SR(re);if(nt.ok)re=nt.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var ct=parseInt(re.substr(1),16);re=ct>>16&255,le=ct>>8&255,me=255&ct}if(le===void 0||Ne===void 0&&re===le&&le===me)D=typeof re=="string"?re+" "+Le[0]:A.precision===2?O(re/255)+" "+Le[0]:T(re/255)+" "+Le[0];else if(Ne===void 0||ir(Ne)==="object"){if(Ne&&!isNaN(Ne.a)&&Ne.a===0)return["1.","1.","1.",Le[1]].join(" ");D=typeof re=="string"?[re,le,me,Le[1]].join(" "):A.precision===2?[O(re/255),O(le/255),O(me/255),Le[1]].join(" "):[T(re/255),T(le/255),T(me/255),Le[1]].join(" ")}else D=typeof re=="string"?[re,le,me,Ne,Le[2]].join(" "):A.precision===2?[O(re),O(le),O(me),O(Ne),Le[2]].join(" "):[T(re),T(le),T(me),T(Ne),Le[2]].join(" ");return D},Aa=h.__private__.getFilters=function(){return s},Zi=h.__private__.putStream=function(A){var D=(A=A||{}).data||"",re=A.filters||Aa(),le=A.alreadyAppliedFilters||[],me=A.addLength1||!1,Ne=D.length,Le=A.objectId,nt=function(cn){return cn};if(u!==null&&Le===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(nt=qr.encryptor(Le,0));var ct={};re===!0&&(re=["FlateEncode"]);var jt=A.additionalKeyValues||[],Pt=(ct=dt.API.processDataByFilters!==void 0?dt.API.processDataByFilters(D,re):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(le)?le.join(" "):le.toString());if(ct.data.length!==0&&(jt.push({key:"Length",value:ct.data.length}),me===!0&&jt.push({key:"Length1",value:Ne})),Pt.length!=0)if(Pt.split("/").length-1==1)jt.push({key:"Filter",value:Pt});else{jt.push({key:"Filter",value:"["+Pt+"]"});for(var Jt=0;Jt<jt.length;Jt+=1)if(jt[Jt].key==="DecodeParms"){for(var Cr=[],en=0;en<ct.reverseChain.split("/").length-1;en+=1)Cr.push("null");Cr.push(jt[Jt].value),jt[Jt].value="["+Cr.join(" ")+"]"}}Q("<<");for(var hr=0;hr<jt.length;hr++)Q("/"+jt[hr].key+" "+jt[hr].value);Q(">>"),ct.data.length!==0&&(Q("stream"),Q(nt(ct.data)),Q("endstream"))},$l=h.__private__.putPage=function(A){var D=A.number,re=A.data,le=A.objId,me=A.contentsObjId;Pn(le,!0),Q("<</Type /Page"),Q("/Parent "+A.rootDictionaryObjId+" 0 R"),Q("/Resources "+A.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(C(A.mediaBox.bottomLeftX))+" "+parseFloat(C(A.mediaBox.bottomLeftY))+" "+C(A.mediaBox.topRightX)+" "+C(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&Q("/CropBox ["+C(A.cropBox.bottomLeftX)+" "+C(A.cropBox.bottomLeftY)+" "+C(A.cropBox.topRightX)+" "+C(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&Q("/BleedBox ["+C(A.bleedBox.bottomLeftX)+" "+C(A.bleedBox.bottomLeftY)+" "+C(A.bleedBox.topRightX)+" "+C(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&Q("/TrimBox ["+C(A.trimBox.bottomLeftX)+" "+C(A.trimBox.bottomLeftY)+" "+C(A.trimBox.topRightX)+" "+C(A.trimBox.topRightY)+"]"),A.artBox!==null&&Q("/ArtBox ["+C(A.artBox.bottomLeftX)+" "+C(A.artBox.bottomLeftY)+" "+C(A.artBox.topRightX)+" "+C(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&Q("/UserUnit "+A.userUnit),Qt.publish("putPage",{objId:le,pageContext:bt[D],pageNumber:D,page:re}),Q("/Contents "+me+" 0 R"),Q(">>"),Q("endobj");var Ne=re.join(`
`);return j===_&&(Ne+=`
Q`),Pn(me,!0),Zi({data:Ne,filters:Aa(),objectId:me}),Q("endobj"),le},rs=h.__private__.putPages=function(){var A,D,re=[];for(A=1;A<=Gt;A++)bt[A].objId=_n(),bt[A].contentsObjId=_n();for(A=1;A<=Gt;A++)re.push($l({number:A,data:_e[A],objId:bt[A].objId,contentsObjId:bt[A].contentsObjId,mediaBox:bt[A].mediaBox,cropBox:bt[A].cropBox,bleedBox:bt[A].bleedBox,trimBox:bt[A].trimBox,artBox:bt[A].artBox,userUnit:bt[A].userUnit,rootDictionaryObjId:jo,resourceDictionaryObjId:Sa}));Pn(jo,!0),Q("<</Type /Pages");var le="/Kids [";for(D=0;D<Gt;D++)le+=re[D]+" 0 R ";Q(le+"]"),Q("/Count "+Gt),Q(">>"),Q("endobj"),Qt.publish("postPutPages")},Rl=function(A){Qt.publish("putFont",{font:A,out:Q,newObject:Rr,putStream:Zi}),A.isAlreadyPutted!==!0&&(A.objectNumber=Rr(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+$u(A.postScriptName)),Q("/Subtype /Type1"),typeof A.encoding=="string"&&Q("/Encoding /"+A.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},au=function(A){A.objectNumber=Rr();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[C(A.x),C(A.y),C(A.x+A.width),C(A.y+A.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var re=A.pages[1].join(`
`);Zi({data:re,additionalKeyValues:D,objectId:A.objectNumber}),Q("endobj")},su=function(A,D){D||(D=21);var re=Rr(),le=function(Le,nt){var ct,jt=[],Pt=1/(nt-1);for(ct=0;ct<1;ct+=Pt)jt.push(ct);if(jt.push(1),Le[0].offset!=0){var Jt={offset:0,color:Le[0].color};Le.unshift(Jt)}if(Le[Le.length-1].offset!=1){var Cr={offset:1,color:Le[Le.length-1].color};Le.push(Cr)}for(var en="",hr=0,cn=0;cn<jt.length;cn++){for(ct=jt[cn];ct>Le[hr+1].offset;)hr++;var tn=Le[hr].offset,En=(ct-tn)/(Le[hr+1].offset-tn),ea=Le[hr].color,di=Le[hr+1].color;en+=Z(Math.round((1-En)*ea[0]+En*di[0]).toString(16))+Z(Math.round((1-En)*ea[1]+En*di[1]).toString(16))+Z(Math.round((1-En)*ea[2]+En*di[2]).toString(16))}return en.trim()}(A.colors,D),me=[];me.push({key:"FunctionType",value:"0"}),me.push({key:"Domain",value:"[0.0 1.0]"}),me.push({key:"Size",value:"["+D+"]"}),me.push({key:"BitsPerSample",value:"8"}),me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Zi({data:le,additionalKeyValues:me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),Q("endobj"),A.objectNumber=Rr(),Q("<< /ShadingType "+A.type),Q("/ColorSpace /DeviceRGB");var Ne="/Coords ["+C(parseFloat(A.coords[0]))+" "+C(parseFloat(A.coords[1]))+" ";A.type===2?Ne+=C(parseFloat(A.coords[2]))+" "+C(parseFloat(A.coords[3])):Ne+=C(parseFloat(A.coords[2]))+" "+C(parseFloat(A.coords[3]))+" "+C(parseFloat(A.coords[4]))+" "+C(parseFloat(A.coords[5])),Q(Ne+="]"),A.matrix&&Q("/Matrix ["+A.matrix.toString()+"]"),Q("/Function "+re+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},ou=function(A,D){var re=_n(),le=Rr();D.push({resourcesOid:re,objectOid:le}),A.objectNumber=le;var me=[];me.push({key:"Type",value:"/Pattern"}),me.push({key:"PatternType",value:"1"}),me.push({key:"PaintType",value:"1"}),me.push({key:"TilingType",value:"1"}),me.push({key:"BBox",value:"["+A.boundingBox.map(C).join(" ")+"]"}),me.push({key:"XStep",value:C(A.xStep)}),me.push({key:"YStep",value:C(A.yStep)}),me.push({key:"Resources",value:re+" 0 R"}),A.matrix&&me.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Zi({data:A.stream,additionalKeyValues:me,objectId:A.objectNumber}),Q("endobj")},A1=function(A){for(var D in A.objectNumber=Rr(),Q("<<"),A)switch(D){case"opacity":Q("/ca "+O(A[D]));break;case"stroke-opacity":Q("/CA "+O(A[D]))}Q(">>"),Q("endobj")},Nf=function(A){Pn(A.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var D in Q("/Font <<"),rt)rt.hasOwnProperty(D)&&(f===!1||f===!0&&p.hasOwnProperty(D))&&Q("/"+D+" "+rt[D].objectNumber+" 0 R");Q(">>")}(),function(){if(Object.keys(lt).length>0){for(var D in Q("/Shading <<"),lt)lt.hasOwnProperty(D)&&lt[D]instanceof bc&&lt[D].objectNumber>=0&&Q("/"+D+" "+lt[D].objectNumber+" 0 R");Qt.publish("putShadingPatternDict"),Q(">>")}}(),function(D){if(Object.keys(lt).length>0){for(var re in Q("/Pattern <<"),lt)lt.hasOwnProperty(re)&&lt[re]instanceof h.TilingPattern&&lt[re].objectNumber>=0&&lt[re].objectNumber<D&&Q("/"+re+" "+lt[re].objectNumber+" 0 R");Qt.publish("putTilingPatternDict"),Q(">>")}}(A.objectOid),function(){if(Object.keys(Nt).length>0){var D;for(D in Q("/ExtGState <<"),Nt)Nt.hasOwnProperty(D)&&Nt[D].objectNumber>=0&&Q("/"+D+" "+Nt[D].objectNumber+" 0 R");Qt.publish("putGStateDict"),Q(">>")}}(),function(){for(var D in Q("/XObject <<"),Bn)Bn.hasOwnProperty(D)&&Bn[D].objectNumber>=0&&Q("/"+D+" "+Bn[D].objectNumber+" 0 R");Qt.publish("putXobjectDict"),Q(">>")}(),Q(">>"),Q("endobj")},Sm=function(A){yt[A.fontName]=yt[A.fontName]||{},yt[A.fontName][A.fontStyle]=A.id},jm=function(A,D,re,le,me){var Ne={id:"F"+(Object.keys(rt).length+1).toString(10),postScriptName:A,fontName:D,fontStyle:re,encoding:le,isStandardFont:me||!1,metadata:{}};return Qt.publish("addFont",{font:Ne,instance:this}),rt[Ne.id]=Ne,Sm(Ne),Ne.id},Qi=h.__private__.pdfEscape=h.pdfEscape=function(A,D){return function(re,le){var me,Ne,Le,nt,ct,jt,Pt,Jt,Cr;if(Le=(le=le||{}).sourceEncoding||"Unicode",ct=le.outputEncoding,(le.autoencode||ct)&&rt[Ue].metadata&&rt[Ue].metadata[Le]&&rt[Ue].metadata[Le].encoding&&(nt=rt[Ue].metadata[Le].encoding,!ct&&rt[Ue].encoding&&(ct=rt[Ue].encoding),!ct&&nt.codePages&&(ct=nt.codePages[0]),typeof ct=="string"&&(ct=nt[ct]),ct)){for(Pt=!1,jt=[],me=0,Ne=re.length;me<Ne;me++)(Jt=ct[re.charCodeAt(me)])?jt.push(String.fromCharCode(Jt)):jt.push(re[me]),jt[me].charCodeAt(0)>>8&&(Pt=!0);re=jt.join("")}for(me=re.length;Pt===void 0&&me!==0;)re.charCodeAt(me-1)>>8&&(Pt=!0),me--;if(!Pt)return re;for(jt=le.noBOM?[]:[254,255],me=0,Ne=re.length;me<Ne;me++){if((Cr=(Jt=re.charCodeAt(me))>>8)>>8)throw new Error("Character at position "+me+" of string '"+re+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");jt.push(Cr),jt.push(Jt-(Cr<<8))}return String.fromCharCode.apply(void 0,jt)}(A,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kf=h.__private__.beginPage=function(A){_e[++Gt]=[],bt[Gt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},Nm(Gt),pe(_e[z])},Am=function(A,D){var re,le,me;switch(r=D||r,typeof A=="string"&&(re=y(A.toLowerCase()),Array.isArray(re)&&(le=re[0],me=re[1])),Array.isArray(A)&&(le=A[0]*We,me=A[1]*We),isNaN(le)&&(le=i[0],me=i[1]),(le>14400||me>14400)&&(dr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),le=Math.min(14400,le),me=Math.min(14400,me)),i=[le,me],r.substr(0,1)){case"l":me>le&&(i=[me,le]);break;case"p":le>me&&(i=[me,le])}kf(i),I1(Tf),Q(cu),If!==0&&Q(If+" J"),$f!==0&&Q($f+" j"),Qt.publish("addPage",{pageNumber:Gt})},Of=function(A){A>0&&A<=Gt&&(_e.splice(A,1),bt.splice(A,1),Gt--,z>Gt&&(z=Gt),this.setPage(z))},Nm=function(A){A>0&&A<=Gt&&(z=A)},km=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return _e.length-1},Om=function(A,D,re){var le,me=void 0;return re=re||{},A=A!==void 0?A:rt[Ue].fontName,D=D!==void 0?D:rt[Ue].fontStyle,le=A.toLowerCase(),yt[le]!==void 0&&yt[le][D]!==void 0?me=yt[le][D]:yt[A]!==void 0&&yt[A][D]!==void 0?me=yt[A][D]:re.disableWarning===!1&&dr.warn("Unable to look up font label for font '"+A+"', '"+D+"'. Refer to getFontList() for available fonts."),me||re.noFallback||(me=yt.times[D])==null&&(me=yt.times.normal),me},lu=h.__private__.putInfo=function(){var A=Rr(),D=function(le){return le};for(var re in u!==null&&(D=qr.encryptor(A,0)),Q("<<"),Q("/Producer ("+Qi(D("jsPDF "+dt.version))+")"),Ve)Ve.hasOwnProperty(re)&&Ve[re]&&Q("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+Qi(D(Ve[re]))+")");Q("/CreationDate ("+Qi(D(U))+")"),Q(">>"),Q("endobj")},N1=h.__private__.putCatalog=function(A){var D=(A=A||{}).rootDictionaryObjId||jo;switch(Rr(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+D+" 0 R"),Re||(Re="fullwidth"),Re){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+Re;re.substr(re.length-1)==="%"&&(Re=parseInt(Re)/100),typeof Re=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+O(Re)+"]")}switch(Ie||(Ie="continuous"),Ie){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}Oe&&Q("/PageMode /"+Oe),Qt.publish("putCatalog"),Q(">>"),Q("endobj")},Qr=h.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(ne+1)),Q("/Root "+ne+" 0 R"),Q("/Info "+(ne-1)+" 0 R"),u!==null&&Q("/Encrypt "+qr.oid+" 0 R"),Q("/ID [ <"+H+"> <"+H+"> ]"),Q(">>")},Pm=h.__private__.putHeader=function(){Q("%PDF-"+v),Q("%")},Em=h.__private__.putXRef=function(){var A="0000000000";Q("xref"),Q("0 "+(ne+1)),Q("0000000000 65535 f ");for(var D=1;D<=ne;D++)typeof ce[D]=="function"?Q((A+ce[D]()).slice(-10)+" 00000 n "):ce[D]!==void 0?Q((A+ce[D]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},Cs=h.__private__.buildDocument=function(){var A;ne=0,se=0,ve=[],ce=[],ge=[],jo=_n(),Sa=_n(),pe(ve),Qt.publish("buildDocument"),Pm(),rs(),function(){Qt.publish("putAdditionalObjects");for(var re=0;re<ge.length;re++){var le=ge[re];Pn(le.objId,!0),Q(le.content),Q("endobj")}Qt.publish("postPutAdditionalObjects")}(),A=[],function(){for(var re in rt)rt.hasOwnProperty(re)&&(f===!1||f===!0&&p.hasOwnProperty(re))&&Rl(rt[re])}(),function(){var re;for(re in Nt)Nt.hasOwnProperty(re)&&A1(Nt[re])}(),function(){for(var re in Bn)Bn.hasOwnProperty(re)&&au(Bn[re])}(),function(re){var le;for(le in lt)lt.hasOwnProperty(le)&&(lt[le]instanceof bc?su(lt[le]):lt[le]instanceof Qu&&ou(lt[le],re))}(A),Qt.publish("putResources"),A.forEach(Nf),Nf({resourcesOid:Sa,objectOid:Number.MAX_SAFE_INTEGER}),Qt.publish("postPutResources"),u!==null&&(qr.oid=Rr(),Q("<<"),Q("/Filter /Standard"),Q("/V "+qr.v),Q("/R "+qr.r),Q("/U <"+qr.toHexString(qr.U)+">"),Q("/O <"+qr.toHexString(qr.O)+">"),Q("/P "+qr.P),Q(">>"),Q("endobj")),lu(),N1();var D=se;return Em(),Qr(),Q("startxref"),Q(""+D),Q("%%EOF"),pe(_e[z]),ve.join(`
`)},Ml=h.__private__.getBlob=function(A){return new Blob([tt(A)],{type:"application/pdf"})},Na=h.output=h.__private__.output=(Ji=function(A,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",A){case void 0:return Cs();case"save":h.save(D.filename);break;case"arraybuffer":return tt(Cs());case"blob":return Ml(Cs());case"bloburi":case"bloburl":if(xt.URL!==void 0&&typeof xt.URL.createObjectURL=="function")return xt.URL&&xt.URL.createObjectURL(Ml(Cs()))||void 0;dr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",le=Cs();try{re=YP(le)}catch{re=YP(unescape(encodeURIComponent(le)))}return"data:application/pdf;filename="+D.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xt)==="[object Window]"){var me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(me=D.pdfObjectUrl,Ne="");var Le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+me+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",nt=xt.open();return nt!==null&&nt.document.write(Le),nt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xt)==="[object Window]"){var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',jt=xt.open();if(jt!==null){jt.document.write(ct);var Pt=this;jt.document.documentElement.querySelector("#pdfViewer").onload=function(){jt.document.title=D.filename,jt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Pt.output("bloburl"))}}return jt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',Cr=xt.open();if(Cr!==null&&(Cr.document.write(Jt),Cr.document.title=D.filename),Cr||typeof safari>"u")return Cr;break;case"datauri":case"dataurl":return xt.document.location.href=this.output("datauristring",D);default:return null}},Ji.foo=function(){try{return Ji.apply(this,arguments)}catch(re){var A=re.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var D="Error in function "+A.split(`
`)[0].split("<")[0]+": "+re.message;if(!xt.console)throw new Error(D);xt.console.error(D,re),xt.alert&&alert(D)}},Ji.foo.bar=Ji,Ji.foo),Dl=function(A){return Array.isArray(Ll)===!0&&Ll.indexOf(A)>-1};switch(n){case"pt":We=1;break;case"mm":We=72/25.4;break;case"cm":We=72/2.54;break;case"in":We=72;break;case"px":We=Dl("px_scaling")==1?.75:96/72;break;case"pc":case"em":We=12;break;case"ex":We=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);We=n}var qr=null;ie(),$();var Pf=h.__private__.getPageInfo=h.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:bt[A].objId,pageNumber:A,pageContext:bt[A]}},k1=h.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in bt)if(bt[D].objId===A)break;return Pf(D)},O1=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:bt[z].objId,pageNumber:z,pageContext:bt[z]}};h.addPage=function(){return Am.apply(this,arguments),this},h.setPage=function(){return Nm.apply(this,arguments),pe.call(this,_e[z]),this},h.insertPage=function(A){return this.addPage(),this.movePage(z,A),this},h.movePage=function(A,D){var re,le;if(A>D){re=_e[A],le=bt[A];for(var me=A;me>D;me--)_e[me]=_e[me-1],bt[me]=bt[me-1];_e[D]=re,bt[D]=le,this.setPage(D)}else if(A<D){re=_e[A],le=bt[A];for(var Ne=A;Ne<D;Ne++)_e[Ne]=_e[Ne+1],bt[Ne]=bt[Ne+1];_e[D]=re,bt[D]=le,this.setPage(D)}return this},h.deletePage=function(){return Of.apply(this,arguments),this},h.__private__.text=h.text=function(A,D,re,le,me){var Ne,Le,nt,ct,jt,Pt,Jt,Cr,en,hr=(le=le||{}).scope||this;if(typeof A=="number"&&typeof D=="number"&&(typeof re=="string"||Array.isArray(re))){var cn=re;re=D,D=A,A=cn}if(arguments[3]instanceof mt==0?(nt=arguments[4],ct=arguments[5],ir(Jt=arguments[3])==="object"&&Jt!==null||(typeof nt=="string"&&(ct=nt,nt=null),typeof Jt=="string"&&(ct=Jt,Jt=null),typeof Jt=="number"&&(nt=Jt,Jt=null),le={flags:Jt,angle:nt,align:ct})):(I("The transform parameter of text() with a Matrix value"),en=me),isNaN(D)||isNaN(re)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return hr;var tn,En="",ea=typeof le.lineHeightFactor=="number"?le.lineHeightFactor:Fl,di=hr.internal.scaleFactor;function Dm(er){return er=er.split("	").join(Array(le.TabLen||9).join(" ")),Qi(er,Jt)}function hu(er){for(var cr,Hr=er.concat(),un=[],Ds=Hr.length;Ds--;)typeof(cr=Hr.shift())=="string"?un.push(cr):Array.isArray(er)&&(cr.length===1||cr[1]===void 0&&cr[2]===void 0)?un.push(cr[0]):un.push([cr[0],cr[1],cr[2]]);return un}function Vl(er,cr){var Hr;if(typeof er=="string")Hr=cr(er)[0];else if(Array.isArray(er)){for(var un,Ds,Gf=er.concat(),gu=[],Um=Gf.length;Um--;)typeof(un=Gf.shift())=="string"?gu.push(cr(un)[0]):Array.isArray(un)&&typeof un[0]=="string"&&(Ds=cr(un[0],un[1],un[2]),gu.push([Ds[0],Ds[1],Ds[2]]));Hr=gu}return Hr}var ko=!1,Gl=!0;if(typeof A=="string")ko=!0;else if(Array.isArray(A)){var Kl=A.concat();Le=[];for(var Yl,Fn=Kl.length;Fn--;)(typeof(Yl=Kl.shift())!="string"||Array.isArray(Yl)&&typeof Yl[0]!="string")&&(Gl=!1);ko=Gl}if(ko===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Xl=fe/hr.internal.scaleFactor,Jl=Xl*(ea-1);switch(le.baseline){case"bottom":re-=Jl;break;case"top":re+=Xl-Jl;break;case"hanging":re+=Xl-2*Jl;break;case"middle":re+=Xl/2-Jl}if((Pt=le.maxWidth||0)>0&&(typeof A=="string"?A=hr.splitTextToSize(A,Pt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(er,cr){return er.concat(hr.splitTextToSize(cr,Pt))},[]))),Ne={text:A,x:D,y:re,options:le,mutex:{pdfEscape:Qi,activeFontKey:Ue,fonts:rt,activeFontSize:fe}},Qt.publish("preProcessText",Ne),A=Ne.text,nt=(le=Ne.options).angle,en instanceof mt==0&&nt&&typeof nt=="number"){nt*=Math.PI/180,le.rotationDirection===0&&(nt=-nt),j===_&&(nt=-nt);var Df=Math.cos(nt),Bf=Math.sin(nt);en=new mt(Df,Bf,-Bf,Df,0,0)}else nt&&nt instanceof mt&&(en=nt);j!==_||en||(en=Es),(jt=le.charSpace||du)!==void 0&&(En+=C(M(jt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Cr=le.horizontalScale)!==void 0&&(En+=C(100*Cr)+` Tz
`),le.lang;var Mr=-1,Rs=le.renderingMode!==void 0?le.renderingMode:le.stroke,pu=hr.internal.getCurrentPageInfo().pageContext;switch(Rs){case 0:case!1:case"fill":Mr=0;break;case 1:case!0:case"stroke":Mr=1;break;case 2:case"fillThenStroke":Mr=2;break;case 3:case"invisible":Mr=3;break;case 4:case"fillAndAddForClipping":Mr=4;break;case 5:case"strokeAndAddPathForClipping":Mr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Mr=6;break;case 7:case"addToPathForClipping":Mr=7}var Bm=pu.usedRenderingMode!==void 0?pu.usedRenderingMode:-1;Mr!==-1?En+=Mr+` Tr
`:Bm!==-1&&(En+=`0 Tr
`),Mr!==-1&&(pu.usedRenderingMode=Mr),ct=le.align||"left";var ta,Zl=fe*ea,Ff=hr.internal.pageSize.getWidth(),Uf=rt[Ue];jt=le.charSpace||du,Pt=le.maxWidth||0,Jt=Object.assign({autoencode:!0,noBOM:!0},le.flags);var Oo=[],Ql=function(er){return hr.getStringUnitWidth(er,{font:Uf,charSpace:jt,fontSize:fe,doKerning:!1})*fe/di};if(Object.prototype.toString.call(A)==="[object Array]"){var ji;Le=hu(A),ct!=="left"&&(ta=Le.map(Ql));var Ai,Po=0;if(ct==="right"){D-=ta[0],A=[],Fn=Le.length;for(var Ms=0;Ms<Fn;Ms++)Ms===0?(Ai=Ts(D),ji=Ls(re)):(Ai=M(Po-ta[Ms]),ji=-Zl),A.push([Le[Ms],Ai,ji]),Po=ta[Ms]}else if(ct==="center"){D-=ta[0]/2,A=[],Fn=Le.length;for(var Eo=0;Eo<Fn;Eo++)Eo===0?(Ai=Ts(D),ji=Ls(re)):(Ai=M((Po-ta[Eo])/2),ji=-Zl),A.push([Le[Eo],Ai,ji]),Po=ta[Eo]}else if(ct==="left"){A=[],Fn=Le.length;for(var zf=0;zf<Fn;zf++)A.push(Le[zf])}else if(ct==="justify"&&Uf.encoding==="Identity-H"){A=[],Fn=Le.length,Pt=Pt!==0?Pt:Ff;for(var mu=0,Wr=0;Wr<Fn;Wr++)if(ji=Wr===0?Ls(re):-Zl,Ai=Wr===0?Ts(D):mu,Wr<Fn-1){var Fm=M((Pt-ta[Wr])/(Le[Wr].split(" ").length-1)),is=Le[Wr].split(" ");A.push([is[0]+" ",Ai,ji]),mu=0;for(var as=1;as<is.length;as++){var qf=(Ql(is[as-1]+" "+is[as])-Ql(is[as]))*di+Fm;as==is.length-1?A.push([is[as],qf,0]):A.push([is[as]+" ",qf,0]),mu-=qf}}else A.push([Le[Wr],Ai,ji]);A.push(["",mu,0])}else{if(ct!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Fn=Le.length,Pt=Pt!==0?Pt:Ff,Wr=0;Wr<Fn;Wr++){ji=Wr===0?Ls(re):-Zl,Ai=Wr===0?Ts(D):0;var Wf=Le[Wr].split(" ").length-1,Hf=Wf>0?(Pt-ta[Wr])/Wf:0;Wr<Fn-1?Oo.push(C(M(Hf))):Oo.push(0),A.push([Le[Wr],Ai,ji])}}}(typeof le.R2L=="boolean"?le.R2L:we)===!0&&(A=Vl(A,function(er,cr,Hr){return[er.split("").reverse().join(""),cr,Hr]})),Ne={text:A,x:D,y:re,options:le,mutex:{pdfEscape:Qi,activeFontKey:Ue,fonts:rt,activeFontSize:fe}},Qt.publish("postProcessText",Ne),A=Ne.text,tn=Ne.mutex.isHex||!1;var Vf=rt[Ue].encoding;Vf!=="WinAnsiEncoding"&&Vf!=="StandardEncoding"||(A=Vl(A,function(er,cr,Hr){return[Dm(er),cr,Hr]})),Le=hu(A),A=[];for(var Co,To,Lo,ec=Array.isArray(Le[0])?1:0,Io="",tc=function(er,cr,Hr){var un="";return Hr instanceof mt?(Hr=typeof le.angle=="number"?Ps(Hr,new mt(1,0,0,1,er,cr)):Ps(new mt(1,0,0,1,er,cr),Hr),j===_&&(Hr=Ps(new mt(1,0,0,-1,0,0),Hr)),un=Hr.join(" ")+` Tm
`):un=C(er)+" "+C(cr)+` Td
`,un},ra=0;ra<Le.length;ra++){switch(Io="",ec){case 1:Lo=(tn?"<":"(")+Le[ra][0]+(tn?">":")"),Co=parseFloat(Le[ra][1]),To=parseFloat(Le[ra][2]);break;case 0:Lo=(tn?"<":"(")+Le[ra]+(tn?">":")"),Co=Ts(D),To=Ls(re)}Oo!==void 0&&Oo[ra]!==void 0&&(Io=Oo[ra]+` Tw
`),ra===0?A.push(Io+tc(Co,To,en)+Lo):ec===0?A.push(Io+Lo):ec===1&&A.push(Io+tc(Co,To,en)+Lo)}A=ec===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var ss=`BT
/`;return ss+=Ue+" "+fe+` Tf
`,ss+=C(fe*ea)+` TL
`,ss+=Ul+`
`,ss+=En,ss+=A,Q(ss+="ET"),p[Ue]=!0,hr};var P1=h.__private__.clip=h.clip=function(A){return Q(A==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return P1("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Q("n"),this};var ns=h.__private__.isValidStyle=function(A){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(D=!0),D};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(A){return ns(A)&&(c=A),this};var Cm=h.__private__.getStyle=h.getStyle=function(A){var D=c;switch(A){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=A}return D},Tm=h.close=function(){return Q("h"),this};h.stroke=function(){return Q("S"),this},h.fill=function(A){return Ao("f",A),this},h.fillEvenOdd=function(A){return Ao("f*",A),this},h.fillStroke=function(A){return Ao("B",A),this},h.fillStrokeEvenOdd=function(A){return Ao("B*",A),this};var Ao=function(A,D){ir(D)==="object"?C1(D,A):Q(A)},Ef=function(A){A===null||j===_&&A===void 0||(A=Cm(A),Q(A))};function E1(A,D,re,le,me){var Ne=new Qu(D||this.boundingBox,re||this.xStep,le||this.yStep,this.gState,me||this.matrix);Ne.stream=this.stream;var Le=A+"$$"+this.cloneIndex+++"$$";return Xi(Le,Ne),Ne}var C1=function(A,D){var re=It[A.key],le=lt[re];if(le instanceof bc)Q("q"),Q(T1(D)),le.gState&&h.setGState(le.gState),Q(A.matrix.toString()+" cm"),Q("/"+re+" sh"),Q("Q");else if(le instanceof Qu){var me=new mt(1,0,0,-1,0,Hl());A.matrix&&(me=me.multiply(A.matrix||Es),re=E1.call(le,A.key,A.boundingBox,A.xStep,A.yStep,me).id),Q("q"),Q("/Pattern cs"),Q("/"+re+" scn"),le.gState&&h.setGState(le.gState),Q(D),Q("Q")}},T1=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Cf=h.moveTo=function(A,D){return Q(C(M(A))+" "+C(R(D))+" m"),this},Bl=h.lineTo=function(A,D){return Q(C(M(A))+" "+C(R(D))+" l"),this},No=h.curveTo=function(A,D,re,le,me,Ne){return Q([C(M(A)),C(R(D)),C(M(re)),C(R(le)),C(M(me)),C(R(Ne)),"c"].join(" ")),this};h.__private__.line=h.line=function(A,D,re,le,me){if(isNaN(A)||isNaN(D)||isNaN(re)||isNaN(le)||!ns(me))throw new Error("Invalid arguments passed to jsPDF.line");return j===w?this.lines([[re-A,le-D]],A,D,[1,1],me||"S"):this.lines([[re-A,le-D]],A,D,[1,1]).stroke()},h.__private__.lines=h.lines=function(A,D,re,le,me,Ne){var Le,nt,ct,jt,Pt,Jt,Cr,en,hr,cn,tn,En;if(typeof A=="number"&&(En=re,re=D,D=A,A=En),le=le||[1,1],Ne=Ne||!1,isNaN(D)||isNaN(re)||!Array.isArray(A)||!Array.isArray(le)||!ns(me)||typeof Ne!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cf(D,re),Le=le[0],nt=le[1],jt=A.length,cn=D,tn=re,ct=0;ct<jt;ct++)(Pt=A[ct]).length===2?(cn=Pt[0]*Le+cn,tn=Pt[1]*nt+tn,Bl(cn,tn)):(Jt=Pt[0]*Le+cn,Cr=Pt[1]*nt+tn,en=Pt[2]*Le+cn,hr=Pt[3]*nt+tn,cn=Pt[4]*Le+cn,tn=Pt[5]*nt+tn,No(Jt,Cr,en,hr,cn,tn));return Ne&&Tm(),Ef(me),this},h.path=function(A){for(var D=0;D<A.length;D++){var re=A[D],le=re.c;switch(re.op){case"m":Cf(le[0],le[1]);break;case"l":Bl(le[0],le[1]);break;case"c":No.apply(this,le);break;case"h":Tm()}}return this},h.__private__.rect=h.rect=function(A,D,re,le,me){if(isNaN(A)||isNaN(D)||isNaN(re)||isNaN(le)||!ns(me))throw new Error("Invalid arguments passed to jsPDF.rect");return j===w&&(le=-le),Q([C(M(A)),C(R(D)),C(M(re)),C(M(le)),"re"].join(" ")),Ef(me),this},h.__private__.triangle=h.triangle=function(A,D,re,le,me,Ne,Le){if(isNaN(A)||isNaN(D)||isNaN(re)||isNaN(le)||isNaN(me)||isNaN(Ne)||!ns(Le))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-A,le-D],[me-re,Ne-le],[A-me,D-Ne]],A,D,[1,1],Le,!0),this},h.__private__.roundedRect=h.roundedRect=function(A,D,re,le,me,Ne,Le){if(isNaN(A)||isNaN(D)||isNaN(re)||isNaN(le)||isNaN(me)||isNaN(Ne)||!ns(Le))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var nt=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*re),Ne=Math.min(Ne,.5*le),this.lines([[re-2*me,0],[me*nt,0,me,Ne-Ne*nt,me,Ne],[0,le-2*Ne],[0,Ne*nt,-me*nt,Ne,-me,Ne],[2*me-re,0],[-me*nt,0,-me,-Ne*nt,-me,-Ne],[0,2*Ne-le],[0,-Ne*nt,me*nt,-Ne,me,-Ne]],A+me,D,[1,1],Le,!0),this},h.__private__.ellipse=h.ellipse=function(A,D,re,le,me){if(isNaN(A)||isNaN(D)||isNaN(re)||isNaN(le)||!ns(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*re,Le=4/3*(Math.SQRT2-1)*le;return Cf(A+re,D),No(A+re,D-Le,A+Ne,D-le,A,D-le),No(A-Ne,D-le,A-re,D-Le,A-re,D),No(A-re,D+Le,A-Ne,D+le,A,D+le),No(A+Ne,D+le,A+re,D+Le,A+re,D),Ef(me),this},h.__private__.circle=h.circle=function(A,D,re,le){if(isNaN(A)||isNaN(D)||isNaN(re)||!ns(le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,D,re,re,le)},h.setFont=function(A,D,re){return re&&(D=P(D,re)),Ue=Om(A,D,{disableWarning:!1}),this};var L1=h.__private__.getFont=h.getFont=function(){return rt[Om.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var A,D,re={};for(A in yt)if(yt.hasOwnProperty(A))for(D in re[A]=[],yt[A])yt[A].hasOwnProperty(D)&&re[A].push(D);return re},h.addFont=function(A,D,re,le,me){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ne.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&Ne.indexOf(arguments[3])==-1&&(re=P(re,le)),jm.call(this,A,D,re,me=me||"Identity-H")};var Fl,Tf=t.lineWidth||.200025,kt=h.__private__.getLineWidth=h.getLineWidth=function(){return Tf},I1=h.__private__.setLineWidth=h.setLineWidth=function(A){return Tf=A,Q(C(M(A))+" w"),this};h.__private__.setLineDash=dt.API.setLineDash=dt.API.setLineDashPattern=function(A,D){if(A=A||[],D=D||0,isNaN(D)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(re){return C(M(re))}).join(" "),D=C(M(D)),Q("["+A+"] "+D+" d"),this};var $1=h.__private__.getLineHeight=h.getLineHeight=function(){return fe*Fl};h.__private__.getLineHeight=h.getLineHeight=function(){return fe*Fl};var R1=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Fl=A),this},M1=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Fl};R1(t.lineHeight);var Ts=h.__private__.getHorizontalCoordinate=function(A){return M(A)},Ls=h.__private__.getVerticalCoordinate=function(A){return j===_?A:bt[z].mediaBox.topRightY-bt[z].mediaBox.bottomLeftY-M(A)},D1=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(A){return C(Ts(A))},B1=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(A){return C(Ls(A))},cu=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return ts(cu)},h.__private__.setStrokeColor=h.setDrawColor=function(A,D,re,le){return cu=ja({ch1:A,ch2:D,ch3:re,ch4:le,pdfColorType:"draw",precision:2}),Q(cu),this};var Lf=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return ts(Lf)},h.__private__.setFillColor=h.setFillColor=function(A,D,re,le){return Lf=ja({ch1:A,ch2:D,ch3:re,ch4:le,pdfColorType:"fill",precision:2}),Q(Lf),this};var Ul=t.textColor||"0 g",uu=h.__private__.getTextColor=h.getTextColor=function(){return ts(Ul)};h.__private__.setTextColor=h.setTextColor=function(A,D,re,le){return Ul=ja({ch1:A,ch2:D,ch3:re,ch4:le,pdfColorType:"text",precision:3}),this};var du=t.charSpace,F1=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(du||0)};h.__private__.setCharSpace=h.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return du=A,this};var If=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(A){var D=h.CapJoinStyles[A];if(D===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return If=D,Q(D+" J"),this};var $f=0;h.__private__.setLineJoin=h.setLineJoin=function(A){var D=h.CapJoinStyles[A];if(D===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $f=D,Q(D+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(C(M(A))+" M"),this},h.GState=ay,h.setGState=function(A){(A=typeof A=="string"?Nt[Pr[A]]:zl(null,A)).equals(Er)||(Q("/"+A.id+" gs"),Er=A)};var zl=function(A,D){if(!A||!Pr[A]){var re=!1;for(var le in Nt)if(Nt.hasOwnProperty(le)&&Nt[le].equals(D)){re=!0;break}if(re)D=Nt[le];else{var me="GS"+(Object.keys(Nt).length+1).toString(10);Nt[me]=D,D.id=me}return A&&(Pr[A]=D.id),Qt.publish("addGState",D),D}};h.addGState=function(A,D){return zl(A,D),this},h.saveGraphicsState=function(){return Q("q"),Dt.push({key:Ue,size:fe,color:Ul}),this},h.restoreGraphicsState=function(){Q("Q");var A=Dt.pop();return Ue=A.key,fe=A.size,Ul=A.color,Er=null,this},h.setCurrentTransformationMatrix=function(A){return Q(A.toString()+" cm"),this},h.comment=function(A){return Q("#"+A),this};var ql=function(A,D){var re=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(Ne){isNaN(Ne)||(re=parseFloat(Ne))}});var le=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return le},set:function(Ne){isNaN(Ne)||(le=parseFloat(Ne))}});var me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return me},set:function(Ne){me=Ne.toString()}}),this},Rf=function(A,D,re,le){ql.call(this,A,D),this.type="rect";var me=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return me},set:function(Le){isNaN(Le)||(me=parseFloat(Le))}});var Ne=le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne},set:function(Le){isNaN(Le)||(Ne=parseFloat(Le))}}),this},fu=function(){this.page=Gt,this.currentPage=z,this.pages=_e.slice(0),this.pagesContext=bt.slice(0),this.x=qe,this.y=St,this.matrix=Lt,this.width=Lm(z),this.height=Is(z),this.outputDestination=$e,this.id="",this.objectNumber=-1};fu.prototype.restore=function(){Gt=this.page,z=this.currentPage,bt=this.pagesContext,_e=this.pages,qe=this.x,St=this.y,Lt=this.matrix,Im(z,this.width),$s(z,this.height),$e=this.outputDestination};var Mf=function(A,D,re,le,me){es.push(new fu),Gt=z=0,_e=[],qe=A,St=D,Lt=me,kf([re,le])};for(var Wl in h.beginFormObject=function(A,D,re,le,me){return Mf(A,D,re,le,me),this},h.endFormObject=function(A){return function(D){if(Os[D])es.pop().restore();else{var re=new fu,le="Xo"+(Object.keys(Bn).length+1).toString(10);re.id=le,Os[D]=le,Bn[le]=re,Qt.publish("addFormObject",re),es.pop().restore()}}(A),this},h.doFormObject=function(A,D){var re=Bn[Os[A]];return Q("q"),Q(D.toString()+" cm"),Q("/"+re.id+" Do"),Q("Q"),this},h.getFormObject=function(A){var D=Bn[Os[A]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},h.save=function(A,D){return A=A||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(pc(Ml(Cs()),A),typeof pc.unload=="function"&&xt.setTimeout&&setTimeout(pc.unload,911),this):new Promise(function(re,le){try{var me=pc(Ml(Cs()),A);typeof pc.unload=="function"&&xt.setTimeout&&setTimeout(pc.unload,911),re(me)}catch(Ne){le(Ne.message)}})},dt.API)dt.API.hasOwnProperty(Wl)&&(Wl==="events"&&dt.API.events.length?function(A,D){var re,le,me;for(me=D.length-1;me!==-1;me--)re=D[me][0],le=D[me][1],A.subscribe.apply(A,[re].concat(typeof le=="function"?[le]:le))}(Qt,dt.API.events):h[Wl]=dt.API[Wl]);function Lm(A){return bt[A].mediaBox.topRightX-bt[A].mediaBox.bottomLeftX}function Im(A,D){bt[A].mediaBox.topRightX=D+bt[A].mediaBox.bottomLeftX}function Is(A){return bt[A].mediaBox.topRightY-bt[A].mediaBox.bottomLeftY}function $s(A,D){bt[A].mediaBox.topRightY=D+bt[A].mediaBox.bottomLeftY}var $m=h.getPageWidth=function(A){return Lm(A=A||z)/We},Rm=h.setPageWidth=function(A,D){Im(A,D*We)},Hl=h.getPageHeight=function(A){return Is(A=A||z)/We},Mm=h.setPageHeight=function(A,D){$s(A,D*We)};return h.internal={pdfEscape:Qi,getStyle:Cm,getFont:L1,getFontSize:Pe,getCharSpace:F1,getTextColor:uu,getLineHeight:$1,getLineHeightFactor:M1,getLineWidth:kt,write:et,getHorizontalCoordinate:Ts,getVerticalCoordinate:Ls,getCoordinateString:D1,getVerticalCoordinateString:B1,collections:{},newObject:Rr,newAdditionalObject:Il,newObjectDeferred:_n,newObjectDeferredBegin:Pn,getFilters:Aa,putStream:Zi,events:Qt,scaleFactor:We,pageSize:{getWidth:function(){return $m(z)},setWidth:function(A){Rm(z,A)},getHeight:function(){return Hl(z)},setHeight:function(A){Mm(z,A)}},encryptionOptions:u,encryption:qr,getEncryptor:function(A){return u!==null?qr.encryptor(A,0):function(D){return D}},output:Na,getNumberOfPages:km,pages:_e,out:Q,f2:O,f3:T,getPageInfo:Pf,getPageInfoByObjId:k1,getCurrentPageInfo:O1,getPDFVersion:g,Point:ql,Rectangle:Rf,Matrix:mt,hasHotfix:Dl},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return $m(z)},set:function(A){Rm(z,A)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Hl(z)},set:function(A){Mm(z,A)},enumerable:!0,configurable:!0}),(function(A){for(var D=0,re=Ke.length;D<re;D++){var le=jm.call(this,A[D][0],A[D][1],A[D][2],Ke[D][3],!0);f===!1&&(p[le]=!0);var me=A[D][0].split("-");Sm({id:le,fontName:me[0],fontStyle:me[1]||""})}Qt.publish("addFonts",{fonts:rt,dictionary:yt})}).call(h,Ke),Ue="F1",Am(i,r),Qt.publish("initialized"),h}Iu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Iu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Iu.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Iu.prototype.processOwnerPassword=function(t,e){return L5(T5(e).substr(0,5),t)},Iu.prototype.encryptor=function(t,e){var r=T5(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return L5(r,n)}},ay.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||ir(t)!==ir(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},dt.API={events:[]},dt.version="3.0.3";var Fr=dt.API,aj=1,iu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Et=function(t){return t.toFixed(2)},Wo=function(t){return t.toFixed(5)};Fr.__acroform__={};var Si=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},QP=function(t){return t*aj},us=function(t){var e=new kR,r=Ze.internal.getHeight(t)||0,n=Ze.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Et(n)),Number(Et(r))],e},Pye=Fr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Eye=Fr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Cye=Fr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Yr=Fr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Cye(t,e-1)},Xr=Fr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Pye(t,e-1)},Jr=Fr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Eye(t,e-1)},Tye=Fr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(a)||0,[Number(Et(l.lowerLeft_X)),Number(Et(l.lowerLeft_Y)),Number(Et(l.upperRight_X)),Number(Et(l.upperRight_Y))]},Lye=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=I5(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Et(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=us(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},I5=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var a=r,s=Ze.internal.getHeight(t)||0;s=s<0?-s:s;var o=Ze.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(O,T,M){if(O+1<i.length){var R=T+" "+i[O+1][0];return Jg(R,t,M).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var c,u,f=Jg("3",t,a).height,p=t.multiline?s-a:(s-f)/2,h=p+=2,v=0,g=0,b=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Jg(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var y="",w=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var j=!1;if(i[_].length!==1&&b!==i[_].length-1){if((f+2)*(w+2)+2>s)continue e;y+=i[_][b],j=!0,g=_,_--}else{y=(y+=i[_][b]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var S=parseInt(_),N=l(S,y,a),P=_>=i.length-1;if(N&&!P){y+=" ",b=0;continue}if(N||P){if(P)g=S;else if(t.multiline&&(f+2)*(w+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(w+2)+2>s)continue e;g=S}}for(var C="",I=v;I<=g;I++){var F=i[I];if(t.multiline){if(I===g){C+=F[b]+" ",b=(b+1)%F.length;continue}if(I===v){C+=F[F.length-1]+" ";continue}}C+=F[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,u=Jg(C,t,a).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=Et(c)+" "+Et(h)+` Td
`,e+="("+iu(C)+`) Tj
`,e+=-Et(c)+` 0 Td
`,h=-(a+2),u=0,v=j?g:g+1,w++,y=""}break}return n.text=e,n.fontSize=a,n},Jg=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Iye={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},$ye=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Rye=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Za.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Iye)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");aj=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new OR,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&$ye(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=Tye(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ze.createDefaultAppearanceStream(o),ir(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=Lye(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var h=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var v=h[s];typeof v=="function"&&(v=v.call(i,o)),f+="/"+s+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=h)=="function"&&(v=v.call(i,o)),f+="/"+s+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(g,b){for(var y in g)if(g.hasOwnProperty(y)){var w=y,_=g[y];b.internal.newObjectDeferredBegin(_.objId,!0),ir(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete g[w]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},NR=Fr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),ir(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+iu(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Tx=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+iu(n(t))+")"},ps=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ps.prototype.toString=function(){return this.objId+" 0 R"},ps.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ps.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:NR(i,this.objId,this.scope)}):i instanceof ps?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var kR=function(){ps.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Si(kR,ps);var OR=function(){ps.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+iu(r(t))+")"}},set:function(r){t=r}})};Si(OR,ps);var Za=function t(){ps.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yr(e,3)},set:function(y){y?this.F=Xr(e,3):this.F=Jr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof sy)return;a="FieldObject"+t.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+iu(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/aj:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof sy||this instanceof Tc))return Tx(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof An==0?Tx(p,this.objId,this.scope):p},set:function(y){y=y.toString(),p=this instanceof An==0?y.substr(0,1)==="("?Pu(y.substr(1,y.length-2)):Pu(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof An==1?Pu(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof An==1?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof An==0?Tx(h,this.objId,this.scope):h},set:function(y){y=y.toString(),h=this instanceof An==0?y.substr(0,1)==="("?Pu(y.substr(1,y.length-2)):Pu(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof An==1?Pu(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof An==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(y){y=!!y,g=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,1)},set:function(y){y?this.Ff=Xr(this.Ff,1):this.Ff=Jr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,2)},set:function(y){y?this.Ff=Xr(this.Ff,2):this.Ff=Jr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,3)},set:function(y){y?this.Ff=Xr(this.Ff,3):this.Ff=Jr(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');b=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(b){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};Si(Za,ps);var dd=function(){Za.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return NR(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,18)},set:function(r){r?this.Ff=Xr(this.Ff,18):this.Ff=Jr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Xr(this.Ff,19):this.Ff=Jr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,20)},set:function(r){r?(this.Ff=Xr(this.Ff,20),e.sort()):this.Ff=Jr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,22)},set:function(r){r?this.Ff=Xr(this.Ff,22):this.Ff=Jr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,23)},set:function(r){r?this.Ff=Xr(this.Ff,23):this.Ff=Jr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,27)},set:function(r){r?this.Ff=Xr(this.Ff,27):this.Ff=Jr(this.Ff,27)}}),this.hasAppearanceStream=!1};Si(dd,Za);var fd=function(){dd.call(this),this.fontName="helvetica",this.combo=!1};Si(fd,dd);var hd=function(){fd.call(this),this.combo=!0};Si(hd,fd);var m0=function(){hd.call(this),this.edit=!0};Si(m0,hd);var An=function(){Za.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,15)},set:function(r){r?this.Ff=Xr(this.Ff,15):this.Ff=Jr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,16)},set:function(r){r?this.Ff=Xr(this.Ff,16):this.Ff=Jr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,17)},set:function(r){r?this.Ff=Xr(this.Ff,17):this.Ff=Jr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,26)},set:function(r){r?this.Ff=Xr(this.Ff,26):this.Ff=Jr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+iu(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){ir(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Si(An,Za);var g0=function(){An.call(this),this.pushButton=!0};Si(g0,An);var pd=function(){An.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Si(pd,An);var sy=function(){var t,e;Za.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+iu(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){ir(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Si(sy,Za),pd.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},pd.prototype.createOption=function(t){var e=new sy;return e.Parent=this,e.optionName=t,this.Kids.push(e),Mye.call(this.scope,e),e};var v0=function(){An.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ze.CheckBox.createAppearanceStream()};Si(v0,An);var Tc=function(){Za.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,13)},set:function(e){e?this.Ff=Xr(this.Ff,13):this.Ff=Jr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,21)},set:function(e){e?this.Ff=Xr(this.Ff,21):this.Ff=Jr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,23)},set:function(e){e?this.Ff=Xr(this.Ff,23):this.Ff=Jr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,24)},set:function(e){e?this.Ff=Xr(this.Ff,24):this.Ff=Jr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,25)},set:function(e){e?this.Ff=Xr(this.Ff,25):this.Ff=Jr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,26)},set:function(e){e?this.Ff=Xr(this.Ff,26):this.Ff=Jr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Si(Tc,Za);var y0=function(){Tc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,14)},set:function(t){t?this.Ff=Xr(this.Ff,14):this.Ff=Jr(this.Ff,14)}}),this.password=!0};Si(y0,Tc);var Ze={CheckBox:{createAppearanceStream:function(){return{N:{On:Ze.CheckBox.YesNormal},D:{On:Ze.CheckBox.YesPushDown,Off:Ze.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=us(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=I5(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Et(Ze.internal.getWidth(t))+" "+Et(Ze.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Et(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=us(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=Ze.internal.getHeight(t),s=Ze.internal.getWidth(t),o=I5(t,t.caption);return i.push("1 g"),i.push("0 0 "+Et(s)+" "+Et(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Et(s-1)+" "+Et(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Et(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=us(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Et(Ze.internal.getWidth(t))+" "+Et(Ze.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ze.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ze.RadioButton.Circle.YesNormal,e.D[t]=Ze.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=us(t);e.scope=t.scope;var r=[],n=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Ze.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Wo(Ze.internal.getWidth(t)/2)+" "+Wo(Ze.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=us(t);e.scope=t.scope;var r=[],n=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Ze.internal.Bezier_C).toFixed(5)),s=Number((n*Ze.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Wo(Ze.internal.getWidth(t)/2)+" "+Wo(Ze.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Wo(Ze.internal.getWidth(t)/2)+" "+Wo(Ze.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=us(t);e.scope=t.scope;var r=[],n=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Ze.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Wo(Ze.internal.getWidth(t)/2)+" "+Wo(Ze.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ze.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ze.RadioButton.Cross.YesNormal,e.D[t]=Ze.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=us(t);e.scope=t.scope;var r=[],n=Ze.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Et(Ze.internal.getWidth(t)-2)+" "+Et(Ze.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Et(n.x1.x)+" "+Et(n.x1.y)+" m"),r.push(Et(n.x2.x)+" "+Et(n.x2.y)+" l"),r.push(Et(n.x4.x)+" "+Et(n.x4.y)+" m"),r.push(Et(n.x3.x)+" "+Et(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=us(t);e.scope=t.scope;var r=Ze.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Et(Ze.internal.getWidth(t))+" "+Et(Ze.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Et(Ze.internal.getWidth(t)-2)+" "+Et(Ze.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Et(r.x1.x)+" "+Et(r.x1.y)+" m"),n.push(Et(r.x2.x)+" "+Et(r.x2.y)+" l"),n.push(Et(r.x4.x)+" "+Et(r.x4.y)+" m"),n.push(Et(r.x3.x)+" "+Et(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=us(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Et(Ze.internal.getWidth(t))+" "+Et(Ze.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Ze.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ze.internal.getWidth(t),r=Ze.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Ze.internal.getWidth=function(t){var e=0;return ir(t)==="object"&&(e=QP(t.Rect[2])),e},Ze.internal.getHeight=function(t){var e=0;return ir(t)==="object"&&(e=QP(t.Rect[3])),e};var Mye=Fr.addField=function(t){if(Rye(this,t),!(t instanceof Za))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Fr.AcroFormChoiceField=dd,Fr.AcroFormListBox=fd,Fr.AcroFormComboBox=hd,Fr.AcroFormEditBox=m0,Fr.AcroFormButton=An,Fr.AcroFormPushButton=g0,Fr.AcroFormRadioButton=pd,Fr.AcroFormCheckBox=v0,Fr.AcroFormTextField=Tc,Fr.AcroFormPasswordField=y0,Fr.AcroFormAppearance=Ze,Fr.AcroForm={ChoiceField:dd,ListBox:fd,ComboBox:hd,EditBox:m0,Button:An,PushButton:g0,RadioButton:pd,CheckBox:v0,TextField:Tc,PasswordField:y0,Appearance:Ze},dt.AcroForm={ChoiceField:dd,ListBox:fd,ComboBox:hd,EditBox:m0,Button:An,PushButton:g0,RadioButton:pd,CheckBox:v0,TextField:Tc,PasswordField:y0,Appearance:Ze};dt.AcroForm;function PR(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(O,T){var M,R,U,H,G,$=r;if((T=T||r)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(N(O))for(G in n)for(U=n[G],M=0;M<U.length;M+=1){for(H=!0,R=0;R<U[M].length;R+=1)if(U[M][R]!==void 0&&U[M][R]!==O[R]){H=!1;break}if(H===!0){$=G;break}}else for(G in n)for(U=n[G],M=0;M<U.length;M+=1){for(H=!0,R=0;R<U[M].length;R+=1)if(U[M][R]!==void 0&&U[M][R]!==O.charCodeAt(R)){H=!1;break}if(H===!0){$=G;break}}return $===r&&T!==r&&($=T),$},a=function O(T){for(var M=this.internal.write,R=this.internal.putStream,U=(0,this.internal.getFilters)();U.indexOf("FlateEncode")!==-1;)U.splice(U.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:T.width}),H.push({key:"Height",value:T.height}),T.colorSpace===y.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===y.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)&&T.transparency.length>0){for(var G="",$=0,X=T.transparency.length;$<X;$++)G+=T.transparency[$]+" "+T.transparency[$]+" ";H.push({key:"Mask",value:"["+G+"]"})}T.sMask!==void 0&&H.push({key:"SMask",value:T.objectId+1+" 0 R"});var ae=T.filter!==void 0?["/"+T.filter]:void 0;if(R({data:T.data,additionalKeyValues:H,alreadyAppliedFilters:ae,objectId:T.objectId}),M("endobj"),"sMask"in T&&T.sMask!==void 0){var ie,E=(ie=T.sMaskBitsPerComponent)!==null&&ie!==void 0?ie:T.bitsPerComponent,z={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:E,data:T.sMask};"filter"in T&&(z.decodeParameters="/Predictor ".concat(T.predictor," /Colors 1 /BitsPerComponent ").concat(E," /Columns ").concat(T.width),z.filter=T.filter),O.call(this,z)}if(T.colorSpace===y.INDEXED){var V=this.internal.newObject();R({data:C(new Uint8Array(T.palette)),objectId:V}),M("endobj")}},s=function(){var O=this.internal.collections[e+"images"];for(var T in O)a.call(this,O[T])},o=function(){var O,T=this.internal.collections[e+"images"],M=this.internal.write;for(var R in T)M("/I"+(O=T[R]).index,O.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var O=this.internal.collections[e+"images"];return l.call(this),O},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(O){return typeof t["process"+O.toUpperCase()]=="function"},p=function(O){return ir(O)==="object"&&O.nodeType===1},h=function(O,T){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var M=""+O.getAttribute("src");if(M.indexOf("data:image/")===0)return p0(unescape(M).split("base64,").pop());var R=t.loadFile(M,!0);if(R!==void 0)return R}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var U;switch(T){case"PNG":U="image/png";break;case"WEBP":U="image/webp";break;default:U="image/jpeg"}return p0(O.toDataURL(U,1).split("base64,").pop())}},v=function(O){var T=this.internal.collections[e+"images"];if(T){for(var M in T)if(O===T[M].alias)return T[M]}},g=function(O,T,M){return O||T||(O=-96,T=-96),O<0&&(O=-1*M.width*72/O/this.internal.scaleFactor),T<0&&(T=-1*M.height*72/T/this.internal.scaleFactor),O===0&&(O=T*M.width/M.height),T===0&&(T=O*M.height/M.width),[O,T]},b=function(O,T,M,R,U,H){var G=g.call(this,M,R,U),$=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,ae=c.call(this);if(M=G[0],R=G[1],ae[U.index]=U,H){H*=Math.PI/180;var ie=Math.cos(H),E=Math.sin(H),z=function(Z){return Z.toFixed(4)},V=[z(ie),z(E),z(-1*E),z(ie),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,$(O),X(T+R),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([$(M),"0","0",$(R),"0","0","cm"].join(" "))):this.internal.write([$(M),"0","0",$(R),$(O),X(T+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+U.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(O){var T,M,R=0;if(typeof O=="string")for(M=O.length,T=0;T<M;T++)R=(R<<5)-R+O.charCodeAt(T),R|=0;else if(N(O))for(M=O.byteLength/2,T=0;T<M;T++)R=(R<<5)-R+O[T],R|=0;return R},j=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var T=!0;return O.length===0&&(T=!1),O.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(T=!1),T},S=t.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var T=O.indexOf(",");return T<0?null:O.substring(0,T).trim().endsWith("base64")?O.substring(T+1):null};t.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var N=t.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},P=t.__addimage__.binaryStringToUint8Array=function(O){for(var T=O.length,M=new Uint8Array(T),R=0;R<T;R++)M[R]=O.charCodeAt(R);return M},C=t.__addimage__.arrayBufferToBinaryString=function(O){for(var T="",M=N(O)?O:new Uint8Array(O),R=0;R<M.length;R+=8192)T+=String.fromCharCode.apply(null,M.subarray(R,R+8192));return T};t.addImage=function(){var O,T,M,R,U,H,G,$,X;if(typeof arguments[1]=="number"?(T=r,M=arguments[1],R=arguments[2],U=arguments[3],H=arguments[4],G=arguments[5],$=arguments[6],X=arguments[7]):(T=arguments[1],M=arguments[2],R=arguments[3],U=arguments[4],H=arguments[5],G=arguments[6],$=arguments[7],X=arguments[8]),ir(O=arguments[0])==="object"&&!p(O)&&"imageData"in O){var ae=O;O=ae.imageData,T=ae.format||T||r,M=ae.x||M||0,R=ae.y||R||0,U=ae.w||ae.width||U,H=ae.h||ae.height||H,G=ae.alias||G,$=ae.compression||$,X=ae.rotation||ae.angle||X}var ie=this.internal.getFilters();if($===void 0&&ie.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(M)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var E=I.call(this,O,T,G,$);return b.call(this,M,R,U,H,E,X),this};var I=function(O,T,M,R){var U,H,G;if(typeof O=="string"&&i(O)===r){O=unescape(O);var $=F(O,!1);($!==""||($=t.loadFile(O,!0))!==void 0)&&(O=$)}if(p(O)&&(O=h(O,T)),T=i(O,T),!f(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((G=M)==null||G.length===0)&&(M=function(X){return typeof X=="string"||N(X)?_(X):N(X.data)?_(X.data):null}(O)),(U=v.call(this,M))||(O instanceof Uint8Array||T==="RGBA"||(H=O,O=P(O)),U=this["process"+T.toUpperCase()](O,u.call(this),M,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in t.image_compression?X:w.NONE}(R),H)),!U)throw new Error("An unknown error occurred whilst processing the image.");return U},F=t.__addimage__.convertBase64ToBinaryString=function(O,T){T=typeof T!="boolean"||T;var M,R="";if(typeof O=="string"){var U;M=(U=S(O))!==null&&U!==void 0?U:O;try{R=p0(M)}catch(H){if(T)throw j(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};t.getImageProperties=function(O){var T,M,R="";if(p(O)&&(O=h(O)),typeof O=="string"&&i(O)===r&&((R=F(O,!1))===""&&(R=t.loadFile(O)||""),O=R),M=i(O),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(O instanceof Uint8Array||(O=P(O)),!(T=this["process"+M.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=M,T}})(dt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};dt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var h=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(g.objId),w=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(y(n.contents))+")",a+=" /Popup "+b.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(y(w))+") >>",g.content=a;var _=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(a+=" /Open true"),a+=" >>",b.content=a,this.internal.write(g.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(v(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var N=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+N+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+a)},options:s,type:"link"})},t.textWithLink=function(r,n,i,a){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,i,a),i+=.2*c,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-c,o,s,a),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(dt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=t.__arabicParser__.isArabicEndLetter=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(g){return s(g)&&i.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return s(g)&&a(g)&&e[g.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(g){var b=0,y=r,w="",_=0;for(b=0;b<g.length;b+=1)y[g.charCodeAt(b)]!==void 0?(_++,typeof(y=y[g.charCodeAt(b)])=="number"&&(w+=String.fromCharCode(y),y=r,_=0),b===g.length-1&&(y=r,w+=g.charAt(b-(_-1)),b-=_-1,_=0)):(y=r,w+=g.charAt(b-_),b-=_,_=0);return w};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(g,b,y){return s(g)?a(g)===!1?-1:!c(g)||!s(b)&&!s(y)||!s(y)&&o(b)||o(g)&&!s(b)||o(g)&&l(b)||o(g)&&o(b)?0:u(g)&&s(b)&&!o(b)&&s(y)&&c(y)?3:o(g)||!s(y)?1:2:-1},h=function(g){var b=0,y=0,w=0,_="",j="",S="",N=(g=g||"").split("\\s+"),P=[];for(b=0;b<N.length;b+=1){for(P.push(""),y=0;y<N[b].length;y+=1)_=N[b][y],j=N[b][y-1],S=N[b][y+1],s(_)?(w=p(_,j,S),P[b]+=w!==-1?String.fromCharCode(e[_.charCodeAt(0)][w]):_):P[b]+=_;P[b]=f(P[b])}return P.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var g,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(b)){var w=0;for(y=[],w=0;w<b.length;w+=1)Array.isArray(b[w])?y.push([h(b[w][0]),b[w][1],b[w][2]]):y.push([h(b[w])]);g=y}else g=h(b);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",v])}(dt.API),dt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(dt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,h=0,v=0,g=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,j){return _.concat(b.splitTextToSize(j,y))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)h<(g=this.getStringUnitWidth(l[w],{font:f})*u)&&(h=g);return h!==0&&(v=l.length),{w:h/=p,h:Math.max((v*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,f,p){if(n.call(this),!u)throw new Error("No data for PDF table.");var h,v,g,b,y=[],w=[],_=[],j={},S={},N=[],P=[],C=(p=p||{}).autoSize||!1,I=p.printHeaders!==!1,F=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,O=p.margins||Object.assign({width:this.getPageWidth()},e),T=typeof p.padding=="number"?p.padding:3,M=p.headerBackgroundColor||"#c8c8c8",R=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=R,this.setFontSize(F),f==null)w=y=Object.keys(u[0]),_=y.map(function(){return"left"});else if(Array.isArray(f)&&ir(f[0])==="object")for(y=f.map(function(ae){return ae.name}),w=f.map(function(ae){return ae.prompt||ae.name||""}),_=f.map(function(ae){return ae.align||"left"}),h=0;h<f.length;h+=1)S[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=y=f,_=y.map(function(){return"left"}));if(C||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<y.length;h+=1){for(j[b=y[h]]=u.map(function(ae){return ae[b]}),this.setFont(void 0,"bold"),N.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=j[b],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)N.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[b]=Math.max.apply(null,N)+T+T,N=[]}if(I){var U={};for(h=0;h<y.length;h+=1)U[y[h]]={},U[y[h]].text=w[h],U[y[h]].align=_[h];var H=o.call(this,U,S);P=y.map(function(ae){return new a(l,c,S[ae],H,U[ae].text,void 0,U[ae].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var G=f.reduce(function(ae,ie){return ae[ie.name]=ie.align,ae},{});for(h=0;h<u.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:u[h]},this);var $=o.call(this,u[h],S);for(g=0;g<y.length;g+=1){var X=u[h][y[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:g,data:X},this),s.call(this,new a(l,c,S[y[g]],$,X,h+2,G[y[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var v=l[h];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+u+u},this).reduce(function(h,v){return Math.max(h,v)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(dt.API);var ER={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},CR=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$5=PR(CR),TR=[100,200,300,400,500,600,700,800,900],Dye=PR(TR);function Lx(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return ER[a=a||"normal"]?a:"normal"}(t.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof $5[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function eE(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var Bye={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},tE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function rE(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function nE(t){return t.trimLeft()}function Fye(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function Uye(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Zg,iE,aE,Eu,Qg,sE,oE,lE,Ix=["times"];function cE(t,e,r,n,i){var a=4,s=dE;switch(i){case dt.API.image_compression.FAST:a=1,s=uE;break;case dt.API.image_compression.MEDIUM:a=6,s=fE;break;case dt.API.image_compression.SLOW:a=9,s=hE}t=function(l,c,u,f){for(var p,h=l.length/c,v=new Uint8Array(l.length+h),g=[zye,uE,dE,fE,hE],b=0;b<h;b+=1){var y=b*c,w=l.subarray(y,y+c);if(f)v.set(f(w,u,p),y+b);else{for(var _=g.length,j=[],S=0;S<_;S+=1)j[S]=g[S](w,u,p);var N=Wye(j.concat());v.set(j[N],y+b)}p=w}return v}(t,e,Math.ceil(r*n/8),s);var o=O5(t,{level:a});return dt.API.__addimage__.arrayBufferToBinaryString(o)}function zye(t){var e=Array.apply([],t);return e.unshift(0),e}function uE(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function dE(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=t[a]-s+256&255}return i}function fE(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=t[a-e]||0,o=r&&r[a]||0;i[a+1]=t[a]+256-(s+o>>>1)&255}return i}function hE(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=qye(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function qye(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function Wye(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function $x(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return LR(t,i)>>a&s}function pE(t,e,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,l=(e&o)<<s;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var p=f>>8&255;c.setUint8(u,p)}})(t,a,LR(t,a)&~(o<<s)&65535|l)}function LR(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Hye(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var c=!0,u=[],f=0,p=null,h=0,v=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],1&g||(p=null),h=g>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,j=t[e++],S=j>>6&1,N=1<<1+(7&j),P=o,C=l,I=!1;j>>7&&(I=!0,P=e,C=N,e+=3*N);var F=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}u.push({x:b,y,width:w,height:_,has_local_palette:I,palette_offset:P,palette_size:C,data_offset:F,data_length:e-F,transparent_index:p,interlaced:!!S,delay:f,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return v},this.frameInfo=function(T){if(T<0||T>=u.length)throw new Error("Frame index out of range.");return u[T]},this.decodeAndBlitFrameBGRA=function(T,M){var R=this.frameInfo(T),U=R.width*R.height,H=new Uint8Array(U);mE(t,R.data_offset,H,U);var G=R.palette_offset,$=R.transparent_index;$===null&&($=256);var X=R.width,ae=r-X,ie=X,E=4*(R.y*r+R.x),z=4*((R.y+R.height)*r+R.x),V=E,Z=4*ae;R.interlaced===!0&&(Z+=4*r*7);for(var ne=8,ce=0,ve=H.length;ce<ve;++ce){var se=H[ce];if(ie===0&&(ie=X,(V+=Z)>=z&&(Z=4*ae+4*r*(ne-1),V=E+(X+ae)*(ne<<1),ne>>=1)),se===$)V+=4;else{var ge=t[G+3*se],_e=t[G+3*se+1],he=t[G+3*se+2];M[V++]=he,M[V++]=_e,M[V++]=ge,M[V++]=255}--ie}},this.decodeAndBlitFrameRGBA=function(T,M){var R=this.frameInfo(T),U=R.width*R.height,H=new Uint8Array(U);mE(t,R.data_offset,H,U);var G=R.palette_offset,$=R.transparent_index;$===null&&($=256);var X=R.width,ae=r-X,ie=X,E=4*(R.y*r+R.x),z=4*((R.y+R.height)*r+R.x),V=E,Z=4*ae;R.interlaced===!0&&(Z+=4*r*7);for(var ne=8,ce=0,ve=H.length;ce<ve;++ce){var se=H[ce];if(ie===0&&(ie=X,(V+=Z)>=z&&(Z=4*ae+4*r*(ne-1),V=E+(X+ae)*(ne<<1),ne>>=1)),se===$)V+=4;else{var ge=t[G+3*se],_e=t[G+3*se+1],he=t[G+3*se+2];M[V++]=ge,M[V++]=_e,M[V++]=he,M[V++]=255}--ie}}}function mE(t,e,r,n){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,u=0,f=0,p=0,h=t[e++],v=new Int32Array(4096),g=null;;){for(;u<16&&h!==0;)f|=t[e++]<<u,u+=8,h===1?h=t[e++]:--h;if(u<l)break;var b=f&c;if(f>>=l,u-=l,b!==a){if(b===s)break;for(var y=b<o?b:g,w=0,_=y;_>a;)_=v[_]>>8,++w;var j=_;if(p+w+(y!==b?1:0)>n)return void dr.log("Warning, gif stream longer than expected.");r[p++]=j;var S=p+=w;for(y!==b&&(r[p++]=j),_=y;w--;)_=v[_],r[--S]=255&_,_>>=8;g!==null&&o<4096&&(v[o++]=g<<8|j,o>=c+1&&l<12&&(++l,c=c<<1|1)),g=b}else o=s+1,c=(1<<(l=i+1))-1,g=null}return p!==n&&dr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Rx(t){var e,r,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),v=new Array(64),g=[],b=0,y=7,w=new Array(64),_=new Array(64),j=new Array(64),S=new Array(256),N=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(E,z){for(var V=0,Z=0,ne=new Array,ce=1;ce<=16;ce++){for(var ve=1;ve<=E[ce];ve++)ne[z[Z]]=[],ne[z[Z]][0]=V,ne[z[Z]][1]=ce,Z++,V++;V*=2}return ne}function G(E){for(var z=E[0],V=E[1]-1;V>=0;)z&1<<V&&(b|=1<<y),V--,--y<0&&(b==255?($(255),$(0)):$(b),y=7,b=0)}function $(E){g.push(E)}function X(E){$(E>>8&255),$(255&E)}function ae(E,z,V,Z,ne){for(var ce,ve=ne[0],se=ne[240],ge=function(fe,Re){var Pe,we,Oe,Ce,Ie,ze,ht,Ve,Ue,We,qe=0;for(Ue=0;Ue<8;++Ue){Pe=fe[qe],we=fe[qe+1],Oe=fe[qe+2],Ce=fe[qe+3],Ie=fe[qe+4],ze=fe[qe+5],ht=fe[qe+6];var St=Pe+(Ve=fe[qe+7]),Lt=Pe-Ve,rt=we+ht,yt=we-ht,Dt=Oe+ze,lt=Oe-ze,It=Ce+Ie,Nt=Ce-Ie,Pr=St+It,Er=St-It,Gt=rt+Dt,bt=rt-Dt;fe[qe]=Pr+Gt,fe[qe+4]=Pr-Gt;var Qt=.707106781*(bt+Er);fe[qe+2]=Er+Qt,fe[qe+6]=Er-Qt;var Ll=.382683433*((Pr=Nt+lt)-(bt=yt+Lt)),Bn=.5411961*Pr+Ll,Os=1.306562965*bt+Ll,es=.707106781*(Gt=lt+yt),mt=Lt+es,Ps=Lt-es;fe[qe+5]=Ps+Bn,fe[qe+3]=Ps-Bn,fe[qe+1]=mt+Os,fe[qe+7]=mt-Os,qe+=8}for(qe=0,Ue=0;Ue<8;++Ue){Pe=fe[qe],we=fe[qe+8],Oe=fe[qe+16],Ce=fe[qe+24],Ie=fe[qe+32],ze=fe[qe+40],ht=fe[qe+48];var Es=Pe+(Ve=fe[qe+56]),Xi=Pe-Ve,Ji=we+ht,Rr=we-ht,_n=Oe+ze,Pn=Oe-ze,Il=Ce+Ie,jo=Ce-Ie,Sa=Es+Il,ts=Es-Il,ja=Ji+_n,Aa=Ji-_n;fe[qe]=Sa+ja,fe[qe+32]=Sa-ja;var Zi=.707106781*(Aa+ts);fe[qe+16]=ts+Zi,fe[qe+48]=ts-Zi;var $l=.382683433*((Sa=jo+Pn)-(Aa=Rr+Xi)),rs=.5411961*Sa+$l,Rl=1.306562965*Aa+$l,au=.707106781*(ja=Pn+Rr),su=Xi+au,ou=Xi-au;fe[qe+40]=ou+rs,fe[qe+24]=ou-rs,fe[qe+8]=su+Rl,fe[qe+56]=su-Rl,qe++}for(Ue=0;Ue<64;++Ue)We=fe[Ue]*Re[Ue],h[Ue]=We>0?We+.5|0:We-.5|0;return h}(E,z),_e=0;_e<64;++_e)v[P[_e]]=ge[_e];var he=v[0]-V;V=v[0],he==0?G(Z[0]):(G(Z[p[ce=32767+he]]),G(f[ce]));for(var $e=63;$e>0&&v[$e]==0;)$e--;if($e==0)return G(ve),V;for(var pe,Q=1;Q<=$e;){for(var et=Q;v[Q]==0&&Q<=$e;)++Q;var tt=Q-et;if(tt>=16){pe=tt>>4;for(var Ke=1;Ke<=pe;++Ke)G(se);tt&=15}ce=32767+v[Q],G(ne[(tt<<4)+p[ce]]),G(f[ce]),Q++}return $e!=63&&G(ve),V}function ie(E){E=Math.min(Math.max(E,1),100),a!=E&&(function(z){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var ne=s((V[Z]*z+50)/100);ne=Math.min(Math.max(ne,1),255),o[P[Z]]=ne}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var se=s((ce[ve]*z+50)/100);se=Math.min(Math.max(se,1),255),l[P[ve]]=se}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,he=0;he<8;he++)for(var $e=0;$e<8;$e++)c[_e]=1/(o[P[_e]]*ge[he]*ge[$e]*8),u[_e]=1/(l[P[_e]]*ge[he]*ge[$e]*8),_e++}(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),a=E)}this.encode=function(E,z){z&&ie(z),g=new Array,b=0,y=7,X(65496),X(65504),X(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),X(1),X(1),$(0),$(0),function(){X(65499),X(132),$(0);for(var we=0;we<64;we++)$(o[we]);$(1);for(var Oe=0;Oe<64;Oe++)$(l[Oe])}(),function(we,Oe){X(65472),X(17),$(8),X(Oe),X(we),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)}(E.width,E.height),function(){X(65476),X(418),$(0);for(var we=0;we<16;we++)$(C[we+1]);for(var Oe=0;Oe<=11;Oe++)$(I[Oe]);$(16);for(var Ce=0;Ce<16;Ce++)$(F[Ce+1]);for(var Ie=0;Ie<=161;Ie++)$(O[Ie]);$(1);for(var ze=0;ze<16;ze++)$(T[ze+1]);for(var ht=0;ht<=11;ht++)$(M[ht]);$(17);for(var Ve=0;Ve<16;Ve++)$(R[Ve+1]);for(var Ue=0;Ue<=161;Ue++)$(U[Ue])}(),X(65498),X(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var V=0,Z=0,ne=0;b=0,y=7,this.encode.displayName="_encode_";for(var ce,ve,se,ge,_e,he,$e,pe,Q,et=E.data,tt=E.width,Ke=E.height,fe=4*tt,Re=0;Re<Ke;){for(ce=0;ce<fe;){for(_e=fe*Re+ce,$e=-1,pe=0,Q=0;Q<64;Q++)he=_e+(pe=Q>>3)*fe+($e=4*(7&Q)),Re+pe>=Ke&&(he-=fe*(Re+1+pe-Ke)),ce+$e>=fe&&(he-=ce+$e-fe+4),ve=et[he++],se=et[he++],ge=et[he++],w[Q]=(N[ve]+N[se+256|0]+N[ge+512|0]>>16)-128,_[Q]=(N[ve+768|0]+N[se+1024|0]+N[ge+1280|0]>>16)-128,j[Q]=(N[ve+1280|0]+N[se+1536|0]+N[ge+1792|0]>>16)-128;V=ae(w,c,V,e,n),Z=ae(_,u,Z,r,i),ne=ae(j,u,ne,r,i),ce+=32}Re+=8}if(y>=0){var Pe=[];Pe[1]=y+1,Pe[0]=(1<<y+1)-1,G(Pe)}return X(65497),new Uint8Array(g)},t=t||50,function(){for(var E=String.fromCharCode,z=0;z<256;z++)S[z]=E(z)}(),e=H(C,I),r=H(T,M),n=H(F,O),i=H(R,U),function(){for(var E=1,z=2,V=1;V<=15;V++){for(var Z=E;Z<z;Z++)p[32767+Z]=V,f[32767+Z]=[],f[32767+Z][1]=V,f[32767+Z][0]=Z;for(var ne=-(z-1);ne<=-E;ne++)p[32767+ne]=V,f[32767+ne]=[],f[32767+ne][1]=V,f[32767+ne][0]=z-1+ne;E<<=1,z<<=1}}(),function(){for(var E=0;E<256;E++)N[E]=19595*E,N[E+256|0]=38470*E,N[E+512|0]=7471*E+32768,N[E+768|0]=-11059*E,N[E+1024|0]=-21709*E,N[E+1280|0]=32768*E+8421375,N[E+1536|0]=-27439*E,N[E+1792|0]=-5329*E}(),ie(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function La(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function gE(t){function e(I){if(!I)throw Error("assert :P")}function r(I,F,O){for(var T=0;4>T;T++)if(I[F+T]!=O.charCodeAt(T))return!0;return!1}function n(I,F,O,T,M){for(var R=0;R<M;R++)I[F+R]=O[T+R]}function i(I,F,O,T){for(var M=0;M<T;M++)I[F+M]=O}function a(I){return new Int32Array(I)}function s(I,F){for(var O=[],T=0;T<I;T++)O.push(new F);return O}function o(I,F){var O=[];return function T(M,R,U){for(var H=U[R],G=0;G<H&&(M.push(U.length>R+1?[]:new F),!(U.length<R+1));G++)T(M[G],R+1,U)}(O,0,I),O}var l=function(){var I=this;function F(m,x){for(var k=1<<x-1>>>0;m&k;)k>>>=1;return k?(m&k-1)+k:m}function O(m,x,k,L,B){e(!(L%k));do m[x+(L-=k)]=B;while(0<L)}function T(m,x,k,L,B){if(e(2328>=B),512>=B)var q=a(512);else if((q=a(B))==null)return 0;return function(W,K,J,ee,ue,xe){var te,de,ye=K,Se=1<<J,be=a(16),Ae=a(16);for(e(ue!=0),e(ee!=null),e(W!=null),e(0<J),de=0;de<ue;++de){if(15<ee[de])return 0;++be[ee[de]]}if(be[0]==ue)return 0;for(Ae[1]=0,te=1;15>te;++te){if(be[te]>1<<te)return 0;Ae[te+1]=Ae[te]+be[te]}for(de=0;de<ue;++de)te=ee[de],0<ee[de]&&(xe[Ae[te]++]=de);if(Ae[15]==1)return(ee=new M).g=0,ee.value=xe[0],O(W,ye,1,Se,ee),Se;var ke,Me=-1,Te=Se-1,ut=0,Je=1,$t=1,it=1<<J;for(de=0,te=1,ue=2;te<=J;++te,ue<<=1){if(Je+=$t<<=1,0>($t-=be[te]))return 0;for(;0<be[te];--be[te])(ee=new M).g=te,ee.value=xe[de++],O(W,ye+ut,ue,it,ee),ut=F(ut,te)}for(te=J+1,ue=2;15>=te;++te,ue<<=1){if(Je+=$t<<=1,0>($t-=be[te]))return 0;for(;0<be[te];--be[te]){if(ee=new M,(ut&Te)!=Me){for(ye+=it,ke=1<<(Me=te)-J;15>Me&&!(0>=(ke-=be[Me]));)++Me,ke<<=1;Se+=it=1<<(ke=Me-J),W[K+(Me=ut&Te)].g=ke+J,W[K+Me].value=ye-K-Me}ee.g=te-J,ee.value=xe[de++],O(W,ye+(ut>>J),ue,it,ee),ut=F(ut,te)}}return Je!=2*Ae[15]-1?0:Se}(m,x,k,L,B,q)}function M(){this.value=this.g=0}function R(){this.value=this.g=0}function U(){this.G=s(5,M),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Ql,R)}function H(m,x,k,L){e(m!=null),e(x!=null),e(2147483648>L),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=x,m.pa=k,m.Jd=x,m.Yc=k+L,m.Zc=4<=L?k+L-4+1:k,ve(m)}function G(m,x){for(var k=0;0<x--;)k|=ge(m,128)<<x;return k}function $(m,x){var k=G(m,x);return se(m)?-k:k}function X(m,x,k,L){var B,q=0;for(e(m!=null),e(x!=null),e(4294967288>L),m.Sb=L,m.Ra=0,m.u=0,m.h=0,4<L&&(L=4),B=0;B<L;++B)q+=x[k+B]<<8*B;m.Ra=q,m.bb=L,m.oa=x,m.pa=k}function ae(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Po-8>>>0,++m.bb,m.u-=8;Z(m)&&(m.h=1,m.u=0)}function ie(m,x){if(e(0<=x),!m.h&&x<=Ai){var k=V(m)&ji[x];return m.u+=x,ae(m),k}return m.h=1,m.u=0}function E(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(m){return m.Ra>>>(m.u&Po-1)>>>0}function Z(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Po}function ne(m,x){m.u=x,m.h=Z(m)}function ce(m){m.u>=Ms&&(e(m.u>=Ms),ae(m))}function ve(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function se(m){return G(m,1)}function ge(m,x){var k=m.Ca;0>m.b&&ve(m);var L=m.b,B=k*x>>>8,q=(m.I>>>L>B)+0;for(q?(k-=B,m.I-=B+1<<L>>>0):k=B+1,L=k,B=0;256<=L;)B+=8,L>>=8;return L=7^B+Eo[L],m.b-=L,m.Ca=(k<<L)-1,q}function _e(m,x,k){m[x+0]=k>>24&255,m[x+1]=k>>16&255,m[x+2]=k>>8&255,m[x+3]=255&k}function he(m,x){return m[x+0]|m[x+1]<<8}function $e(m,x){return he(m,x)|m[x+2]<<16}function pe(m,x){return he(m,x)|he(m,x+2)<<16}function Q(m,x){var k=1<<x;return e(m!=null),e(0<x),m.X=a(k),m.X==null?0:(m.Mb=32-x,m.Xa=x,1)}function et(m,x){e(m!=null),e(x!=null),e(m.Xa==x.Xa),n(x.X,0,m.X,0,1<<x.Xa)}function tt(){this.X=[],this.Xa=this.Mb=0}function Ke(m,x,k,L){e(k!=null),e(L!=null);var B=k[0],q=L[0];return B==0&&(B=(m*q+x/2)/x),q==0&&(q=(x*B+m/2)/m),0>=B||0>=q?0:(k[0]=B,L[0]=q,1)}function fe(m,x){return m+(1<<x)-1>>>x}function Re(m,x){return((4278255360&m)+(4278255360&x)>>>0&4278255360)+((16711935&m)+(16711935&x)>>>0&16711935)>>>0}function Pe(m,x){I[x]=function(k,L,B,q,W,K,J){var ee;for(ee=0;ee<W;++ee){var ue=I[m](K[J+ee-1],B,q+ee);K[J+ee]=Re(k[L+ee],ue)}}}function we(){this.ud=this.hd=this.jd=0}function Oe(m,x){return((4278124286&(m^x))>>>1)+(m&x)>>>0}function Ce(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Ie(m,x){return Ce(m+(m-x+.5>>1))}function ze(m,x,k){return Math.abs(x-k)-Math.abs(m-k)}function ht(m,x,k,L,B,q,W){for(L=q[W-1],k=0;k<B;++k)q[W+k]=L=Re(m[x+k],L)}function Ve(m,x,k,L,B){var q;for(q=0;q<k;++q){var W=m[x+q],K=W>>8&255,J=16711935&(J=(J=16711935&W)+((K<<16)+K));L[B+q]=(4278255360&W)+J>>>0}}function Ue(m,x){x.jd=255&m,x.hd=m>>8&255,x.ud=m>>16&255}function We(m,x,k,L,B,q){var W;for(W=0;W<L;++W){var K=x[k+W],J=K>>>8,ee=K,ue=255&(ue=(ue=K>>>16)+((m.jd<<24>>24)*(J<<24>>24)>>>5));ee=255&(ee=(ee+=(m.hd<<24>>24)*(J<<24>>24)>>>5)+((m.ud<<24>>24)*(ue<<24>>24)>>>5)),B[q+W]=(4278255360&K)+(ue<<16)+ee}}function qe(m,x,k,L,B){I[x]=function(q,W,K,J,ee,ue,xe,te,de){for(J=xe;J<te;++J)for(xe=0;xe<de;++xe)ee[ue++]=B(K[L(q[W++])])},I[m]=function(q,W,K,J,ee,ue,xe){var te=8>>q.b,de=q.Ea,ye=q.K[0],Se=q.w;if(8>te)for(q=(1<<q.b)-1,Se=(1<<te)-1;W<K;++W){var be,Ae=0;for(be=0;be<de;++be)be&q||(Ae=L(J[ee++])),ue[xe++]=B(ye[Ae&Se]),Ae>>=te}else I["VP8LMapColor"+k](J,ee,ye,Se,ue,xe,W,K,de)}}function St(m,x,k,L,B){for(k=x+k;x<k;){var q=m[x++];L[B++]=q>>16&255,L[B++]=q>>8&255,L[B++]=255&q}}function Lt(m,x,k,L,B){for(k=x+k;x<k;){var q=m[x++];L[B++]=q>>16&255,L[B++]=q>>8&255,L[B++]=255&q,L[B++]=q>>24&255}}function rt(m,x,k,L,B){for(k=x+k;x<k;){var q=(W=m[x++])>>16&240|W>>12&15,W=240&W|W>>28&15;L[B++]=q,L[B++]=W}}function yt(m,x,k,L,B){for(k=x+k;x<k;){var q=(W=m[x++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;L[B++]=q,L[B++]=W}}function Dt(m,x,k,L,B){for(k=x+k;x<k;){var q=m[x++];L[B++]=255&q,L[B++]=q>>8&255,L[B++]=q>>16&255}}function lt(m,x,k,L,B,q){if(q==0)for(k=x+k;x<k;)_e(L,((q=m[x++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),B+=32;else n(L,B,m,x,k)}function It(m,x){I[x][0]=I[m+"0"],I[x][1]=I[m+"1"],I[x][2]=I[m+"2"],I[x][3]=I[m+"3"],I[x][4]=I[m+"4"],I[x][5]=I[m+"5"],I[x][6]=I[m+"6"],I[x][7]=I[m+"7"],I[x][8]=I[m+"8"],I[x][9]=I[m+"9"],I[x][10]=I[m+"10"],I[x][11]=I[m+"11"],I[x][12]=I[m+"12"],I[x][13]=I[m+"13"],I[x][14]=I[m+"0"],I[x][15]=I[m+"0"]}function Nt(m){return m==q1||m==W1||m==Gm||m==H1}function Pr(){this.eb=[],this.size=this.A=this.fb=0}function Er(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Pr,this.f.kb=new Er,this.sd=null}function bt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ll(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Bn(m,x){var k=m.T,L=x.ba.f.RGBA,B=L.eb,q=L.fb+m.ka*L.A,W=ia[x.ba.S],K=m.y,J=m.O,ee=m.f,ue=m.N,xe=m.ea,te=m.W,de=x.cc,ye=x.dc,Se=x.Mc,be=x.Nc,Ae=m.ka,ke=m.ka+m.T,Me=m.U,Te=Me+1>>1;for(Ae==0?W(K,J,null,null,ee,ue,xe,te,ee,ue,xe,te,B,q,null,null,Me):(W(x.ec,x.fc,K,J,de,ye,Se,be,ee,ue,xe,te,B,q-L.A,B,q,Me),++k);Ae+2<ke;Ae+=2)de=ee,ye=ue,Se=xe,be=te,ue+=m.Rc,te+=m.Rc,q+=2*L.A,W(K,(J+=2*m.fa)-m.fa,K,J,de,ye,Se,be,ee,ue,xe,te,B,q-L.A,B,q,Me);return J+=m.fa,m.j+ke<m.o?(n(x.ec,x.fc,K,J,Me),n(x.cc,x.dc,ee,ue,Te),n(x.Mc,x.Nc,xe,te,Te),k--):1&ke||W(K,J,null,null,ee,ue,xe,te,ee,ue,xe,te,B,q+L.A,null,null,Me),k}function Os(m,x,k){var L=m.F,B=[m.J];if(L!=null){var q=m.U,W=x.ba.S,K=W==Vm||W==Gm;x=x.ba.f.RGBA;var J=[0],ee=m.ka;J[0]=m.T,m.Kb&&(ee==0?--J[0]:(--ee,B[0]-=m.width),m.j+m.ka+m.T==m.o&&(J[0]=m.o-m.j-ee));var ue=x.eb;ee=x.fb+ee*x.A,m=hj(L,B[0],m.width,q,J,ue,ee+(K?0:3),x.A),e(k==J),m&&Nt(W)&&Kf(ue,ee,K,q,J,x.A)}return 0}function es(m){var x=m.ma,k=x.ba.S,L=11>k,B=k==Wm||k==Hm||k==Vm||k==z1||k==12||Nt(k);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!Ff(x.Oa,m,B?11:12))return 0;if(B&&Nt(k)&&Dm(),m.da)alert("todo:use_scaling");else{if(L){if(x.Ib=Ll,m.Kb){if(k=m.U+1>>1,x.memory=a(m.U+2*k),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+m.U,x.Mc=x.cc,x.Nc=x.dc+k,x.Ib=Bn,Dm()}}else alert("todo:EmitYUV");B&&(x.Jb=Os,L&&ea())}if(L&&!Pj){for(m=0;256>m;++m)r7[m]=89858*(m-128)+Ym>>Km,a7[m]=-22014*(m-128)+Ym,i7[m]=-45773*(m-128),n7[m]=113618*(m-128)+Ym>>Km;for(m=Xf;m<K1;++m)x=76283*(m-16)+Ym>>Km,s7[m-Xf]=Mr(x,255),o7[m-Xf]=Mr(x+8>>4,15);Pj=1}return 1}function mt(m){var x=m.ma,k=m.U,L=m.T;return e(!(1&m.ka)),0>=k||0>=L?0:(k=x.Ib(m,x),x.Jb!=null&&x.Jb(m,x,k),x.Dc+=k,1)}function Ps(m){m.ma.memory=null}function Es(m,x,k,L){return ie(m,8)!=47?0:(x[0]=ie(m,14)+1,k[0]=ie(m,14)+1,L[0]=ie(m,1),ie(m,3)!=0?0:!m.h)}function Xi(m,x){if(4>m)return m+1;var k=m-2>>1;return(2+(1&m)<<k)+ie(x,k)+1}function Ji(m,x){return 120<x?x-120:1<=(k=((k=zR[x-1])>>4)*m+(8-(15&k)))?k:1;var k}function Rr(m,x,k){var L=V(k),B=m[x+=255&L].g-8;return 0<B&&(ne(k,k.u+8),L=V(k),x+=m[x].value,x+=L&(1<<B)-1),ne(k,k.u+m[x].g),m[x].value}function _n(m,x,k){return k.g+=m.g,k.value+=m.value<<x>>>0,e(8>=k.g),m.g}function Pn(m,x,k){var L=m.xc;return e((x=L==0?0:m.vc[m.md*(k>>L)+(x>>L)])<m.Wb),m.Ya[x]}function Il(m,x,k,L){var B=m.ab,q=m.c*x,W=m.C;x=W+x;var K=k,J=L;for(L=m.Ta,k=m.Ua;0<B--;){var ee=m.gc[B],ue=W,xe=x,te=K,de=J,ye=(J=L,K=k,ee.Ea);switch(e(ue<xe),e(xe<=ee.nc),ee.hc){case 2:Wr(te,de,(xe-ue)*ye,J,K);break;case 0:var Se=ue,be=xe,Ae=J,ke=K,Me=(it=ee).Ea;Se==0&&(zf(te,de,null,null,1,Ae,ke),ht(te,de+1,0,0,Me-1,Ae,ke+1),de+=Me,ke+=Me,++Se);for(var Te=1<<it.b,ut=Te-1,Je=fe(Me,it.b),$t=it.K,it=it.w+(Se>>it.b)*Je;Se<be;){var zt=$t,dn=it,Rt=1;for(mu(te,de,Ae,ke-Me,1,Ae,ke);Rt<Me;){var at=(Rt&~ut)+Te;at>Me&&(at=Me),(0,Wf[zt[dn++]>>8&15])(te,de+ +Rt,Ae,ke+Rt-Me,at-Rt,Ae,ke+Rt),Rt=at}de+=Me,ke+=Me,++Se&ut||(it+=Je)}xe!=ee.nc&&n(J,K-ye,J,K+(xe-ue-1)*ye,ye);break;case 1:for(ye=te,be=de,Me=(te=ee.Ea)-(ke=te&~(Ae=(de=1<<ee.b)-1)),Se=fe(te,ee.b),Te=ee.K,ee=ee.w+(ue>>ee.b)*Se;ue<xe;){for(ut=Te,Je=ee,$t=new we,it=be+ke,zt=be+te;be<it;)Ue(ut[Je++],$t),Hf($t,ye,be,de,J,K),be+=de,K+=de;be<zt&&(Ue(ut[Je++],$t),Hf($t,ye,be,Me,J,K),be+=Me,K+=Me),++ue&Ae||(ee+=Se)}break;case 3:if(te==J&&de==K&&0<ee.b){for(be=J,te=ye=K+(xe-ue)*ye-(ke=(xe-ue)*fe(ee.Ea,ee.b)),de=J,Ae=K,Se=[],ke=(Me=ke)-1;0<=ke;--ke)Se[ke]=de[Ae+ke];for(ke=Me-1;0<=ke;--ke)be[te+ke]=Se[ke];Fm(ee,ue,xe,J,ye,J,K)}else Fm(ee,ue,xe,te,de,J,K)}K=L,J=k}J!=k&&n(L,k,K,J,q)}function jo(m,x){var k=m.V,L=m.Ba+m.c*m.C,B=x-m.C;if(e(x<=m.l.o),e(16>=B),0<B){var q=m.l,W=m.Ta,K=m.Ua,J=q.width;if(Il(m,B,k,L),B=K=[K],e((k=m.C)<(L=x)),e(q.v<q.va),L>q.o&&(L=q.o),k<q.j){var ee=q.j-k;k=q.j,B[0]+=ee*J}if(k>=L?k=0:(B[0]+=4*q.v,q.ka=k-q.j,q.U=q.va-q.v,q.T=L-k,k=1),k){if(K=K[0],11>(k=m.ca).S){var ue=k.f.RGBA,xe=(L=k.S,B=q.U,q=q.T,ee=ue.eb,ue.A),te=q;for(ue=ue.fb+m.Ma*ue.A;0<te--;){var de=W,ye=K,Se=B,be=ee,Ae=ue;switch(L){case qm:Vf(de,ye,Se,be,Ae);break;case Wm:Co(de,ye,Se,be,Ae);break;case q1:Co(de,ye,Se,be,Ae),Kf(be,Ae,0,Se,1,0);break;case xj:ec(de,ye,Se,be,Ae);break;case Hm:lt(de,ye,Se,be,Ae,1);break;case W1:lt(de,ye,Se,be,Ae,1),Kf(be,Ae,0,Se,1,0);break;case Vm:lt(de,ye,Se,be,Ae,0);break;case Gm:lt(de,ye,Se,be,Ae,0),Kf(be,Ae,1,Se,1,0);break;case z1:To(de,ye,Se,be,Ae);break;case H1:To(de,ye,Se,be,Ae),fj(be,Ae,Se,1,0);break;case wj:Lo(de,ye,Se,be,Ae);break;default:e(0)}K+=J,ue+=xe}m.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=k.height)}}m.C=x,e(m.C<=m.i)}function Sa(m){var x;if(0<m.ua)return 0;for(x=0;x<m.Wb;++x){var k=m.Ya[x].G,L=m.Ya[x].H;if(0<k[1][L[1]+0].g||0<k[2][L[2]+0].g||0<k[3][L[3]+0].g)return 0}return 1}function ts(m,x,k,L,B,q){if(m.Z!=0){var W=m.qd,K=m.rd;for(e(Ro[m.Z]!=null);x<k;++x)Ro[m.Z](W,K,L,B,L,B,q),W=L,K=B,B+=q;m.qd=W,m.rd=K}}function ja(m,x){var k=m.l.ma,L=k.Z==0||k.Z==1?m.l.j:m.C;if(L=m.C<L?L:m.C,e(x<=m.l.o),x>L){var B=m.l.width,q=k.ca,W=k.tb+B*L,K=m.V,J=m.Ba+m.c*L,ee=m.gc;e(m.ab==1),e(ee[0].hc==3),as(ee[0],L,x,K,J,q,W),ts(k,L,x,q,W,B)}m.C=m.Ma=x}function Aa(m,x,k,L,B,q,W){var K=m.$/L,J=m.$%L,ee=m.m,ue=m.s,xe=k+m.$,te=xe;B=k+L*B;var de=k+L*q,ye=280+ue.ua,Se=m.Pb?K:16777216,be=0<ue.ua?ue.Wa:null,Ae=ue.wc,ke=xe<de?Pn(ue,J,K):null;e(m.C<q),e(de<=B);var Me=!1;e:for(;;){for(;Me||xe<de;){var Te=0;if(K>=Se){var ut=xe-k;e((Se=m).Pb),Se.wd=Se.m,Se.xd=ut,0<Se.s.ua&&et(Se.s.Wa,Se.s.vb),Se=K+WR}if(J&Ae||(ke=Pn(ue,J,K)),e(ke!=null),ke.Qb&&(x[xe]=ke.qb,Me=!0),!Me)if(ce(ee),ke.jc){Te=ee,ut=x;var Je=xe,$t=ke.pd[V(Te)&Ql-1];e(ke.jc),256>$t.g?(ne(Te,Te.u+$t.g),ut[Je]=$t.value,Te=0):(ne(Te,Te.u+$t.g-256),e(256<=$t.value),Te=$t.value),Te==0&&(Me=!0)}else Te=Rr(ke.G[0],ke.H[0],ee);if(ee.h)break;if(Me||256>Te){if(!Me)if(ke.nd)x[xe]=(ke.qb|Te<<8)>>>0;else{if(ce(ee),Me=Rr(ke.G[1],ke.H[1],ee),ce(ee),ut=Rr(ke.G[2],ke.H[2],ee),Je=Rr(ke.G[3],ke.H[3],ee),ee.h)break;x[xe]=(Je<<24|Me<<16|Te<<8|ut)>>>0}if(Me=!1,++xe,++J>=L&&(J=0,++K,W!=null&&K<=q&&!(K%16)&&W(m,K),be!=null))for(;te<xe;)Te=x[te++],be.X[(506832829*Te&4294967295)>>>be.Mb]=Te}else if(280>Te){if(Te=Xi(Te-256,ee),ut=Rr(ke.G[4],ke.H[4],ee),ce(ee),ut=Ji(L,ut=Xi(ut,ee)),ee.h)break;if(xe-k<ut||B-xe<Te)break e;for(Je=0;Je<Te;++Je)x[xe+Je]=x[xe+Je-ut];for(xe+=Te,J+=Te;J>=L;)J-=L,++K,W!=null&&K<=q&&!(K%16)&&W(m,K);if(e(xe<=B),J&Ae&&(ke=Pn(ue,J,K)),be!=null)for(;te<xe;)Te=x[te++],be.X[(506832829*Te&4294967295)>>>be.Mb]=Te}else{if(!(Te<ye))break e;for(Me=Te-280,e(be!=null);te<xe;)Te=x[te++],be.X[(506832829*Te&4294967295)>>>be.Mb]=Te;Te=xe,e(!(Me>>>(ut=be).Xa)),x[Te]=ut.X[Me],Me=!0}Me||e(ee.h==Z(ee))}if(m.Pb&&ee.h&&xe<B)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&et(m.s.vb,m.s.Wa);else{if(ee.h)break e;W!=null&&W(m,K>q?q:K),m.a=0,m.$=xe-k}return 1}return m.a=3,0}function Zi(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var x=m.Wa;x!=null&&(x.X=null),m.vb=null,e(m!=null)}function $l(){var m=new ct;return m==null?null:(m.a=0,m.xb=jj,It("Predictor","VP8LPredictors"),It("Predictor","VP8LPredictors_C"),It("PredictorAdd","VP8LPredictorsAdd"),It("PredictorAdd","VP8LPredictorsAdd_C"),Wr=Ve,Hf=We,Vf=St,Co=Lt,To=rt,Lo=yt,ec=Dt,I.VP8LMapColor32b=is,I.VP8LMapColor8b=qf,m)}function rs(m,x,k,L,B){var q=1,W=[m],K=[x],J=L.m,ee=L.s,ue=null,xe=0;e:for(;;){if(k)for(;q&&ie(J,1);){var te=W,de=K,ye=L,Se=1,be=ye.m,Ae=ye.gc[ye.ab],ke=ie(be,2);if(ye.Oc&1<<ke)q=0;else{switch(ye.Oc|=1<<ke,Ae.hc=ke,Ae.Ea=te[0],Ae.nc=de[0],Ae.K=[null],++ye.ab,e(4>=ye.ab),ke){case 0:case 1:Ae.b=ie(be,3)+2,Se=rs(fe(Ae.Ea,Ae.b),fe(Ae.nc,Ae.b),0,ye,Ae.K),Ae.K=Ae.K[0];break;case 3:var Me,Te=ie(be,8)+1,ut=16<Te?0:4<Te?1:2<Te?2:3;if(te[0]=fe(Ae.Ea,ut),Ae.b=ut,Me=Se=rs(Te,1,0,ye,Ae.K)){var Je,$t=Te,it=Ae,zt=1<<(8>>it.b),dn=a(zt);if(dn==null)Me=0;else{var Rt=it.K[0],at=it.w;for(dn[0]=it.K[0][0],Je=1;Je<1*$t;++Je)dn[Je]=Re(Rt[at+Je],dn[Je-1]);for(;Je<4*zt;++Je)dn[Je]=0;it.K[0]=null,it.K[0]=dn,Me=1}}Se=Me;break;case 2:break;default:e(0)}q=Se}}if(W=W[0],K=K[0],q&&ie(J,1)&&!(q=1<=(xe=ie(J,4))&&11>=xe)){L.a=3;break e}var He;if(He=q)t:{var Vr,Tt,Wt,xr=L,Cn=W,Qn=K,Dr=xe,Un=k,ei=xr.m,fn=xr.s,Ht=[null],rr=1,Br=0,nr=qR[Dr];r:for(;;){if(Un&&ie(ei,1)){var Tn=ie(ei,3)+2,Oa=fe(Cn,Tn),Gr=fe(Qn,Tn),fi=Oa*Gr;if(!rs(Oa,Gr,0,xr,Ht))break r;for(Ht=Ht[0],fn.xc=Tn,Vr=0;Vr<fi;++Vr){var ur=Ht[Vr]>>8&65535;Ht[Vr]=ur,ur>=rr&&(rr=ur+1)}}if(ei.h)break r;for(Tt=0;5>Tt;++Tt){var hn=_j[Tt];!Tt&&0<Dr&&(hn+=1<<Dr),Br<hn&&(Br=hn)}var ki=s(rr*nr,M),ti=rr,Oi=s(ti,U);if(Oi==null)var Pi=null;else e(65536>=ti),Pi=Oi;var hi=a(Br);if(Pi==null||hi==null||ki==null){xr.a=1;break r}var Ei=ki;for(Vr=Wt=0;Vr<rr;++Vr){var pr=Pi[Vr],Ci=pr.G,Pa=pr.H,rc=0,Fs=1,Ln=0;for(Tt=0;5>Tt;++Tt){hn=_j[Tt],Ci[Tt]=Ei,Pa[Tt]=Wt,!Tt&&0<Dr&&(hn+=1<<Dr);i:{var Jm,Y1=hn,Zm=xr,Jf=hi,u7=Ei,d7=Wt,X1=0,Mo=Zm.m,f7=ie(Mo,1);if(i(Jf,0,0,Y1),f7){var h7=ie(Mo,1)+1,p7=ie(Mo,1),Tj=ie(Mo,p7==0?1:8);Jf[Tj]=1,h7==2&&(Jf[Tj=ie(Mo,8)]=1);var Qm=1}else{var Lj=a(19),Ij=ie(Mo,4)+4;if(19<Ij){Zm.a=3;var eg=0;break i}for(Jm=0;Jm<Ij;++Jm)Lj[UR[Jm]]=ie(Mo,3);var J1=void 0,Zf=void 0,$j=Zm,m7=Lj,tg=Y1,Rj=Jf,Z1=0,Do=$j.m,Mj=8,Dj=s(128,M);n:for(;T(Dj,0,7,m7,19);){if(ie(Do,1)){var g7=2+2*ie(Do,3);if((J1=2+ie(Do,g7))>tg)break n}else J1=tg;for(Zf=0;Zf<tg&&J1--;){ce(Do);var Bj=Dj[0+(127&V(Do))];ne(Do,Do.u+Bj.g);var vu=Bj.value;if(16>vu)Rj[Zf++]=vu,vu!=0&&(Mj=vu);else{var v7=vu==16,Fj=vu-16,y7=BR[Fj],Uj=ie(Do,DR[Fj])+y7;if(Zf+Uj>tg)break n;for(var b7=v7?Mj:0;0<Uj--;)Rj[Zf++]=b7}}Z1=1;break n}Z1||($j.a=3),Qm=Z1}(Qm=Qm&&!Mo.h)&&(X1=T(u7,d7,8,Jf,Y1)),Qm&&X1!=0?eg=X1:(Zm.a=3,eg=0)}if(eg==0)break r;if(Fs&&FR[Tt]==1&&(Fs=Ei[Wt].g==0),rc+=Ei[Wt].g,Wt+=eg,3>=Tt){var Qf,Q1=hi[0];for(Qf=1;Qf<hn;++Qf)hi[Qf]>Q1&&(Q1=hi[Qf]);Ln+=Q1}}if(pr.nd=Fs,pr.Qb=0,Fs&&(pr.qb=(Ci[3][Pa[3]+0].value<<24|Ci[1][Pa[1]+0].value<<16|Ci[2][Pa[2]+0].value)>>>0,rc==0&&256>Ci[0][Pa[0]+0].value&&(pr.Qb=1,pr.qb+=Ci[0][Pa[0]+0].value<<8)),pr.jc=!pr.Qb&&6>Ln,pr.jc){var rg,Us=pr;for(rg=0;rg<Ql;++rg){var Bo=rg,Fo=Us.pd[Bo],ng=Us.G[0][Us.H[0]+Bo];256<=ng.value?(Fo.g=ng.g+256,Fo.value=ng.value):(Fo.g=0,Fo.value=0,Bo>>=_n(ng,8,Fo),Bo>>=_n(Us.G[1][Us.H[1]+Bo],16,Fo),Bo>>=_n(Us.G[2][Us.H[2]+Bo],0,Fo),_n(Us.G[3][Us.H[3]+Bo],24,Fo))}}}fn.vc=Ht,fn.Wb=rr,fn.Ya=Pi,fn.yc=ki,He=1;break t}He=0}if(!(q=He)){L.a=3;break e}if(0<xe){if(ee.ua=1<<xe,!Q(ee.Wa,xe)){L.a=1,q=0;break e}}else ee.ua=0;var eb=L,zj=W,x7=K,tb=eb.s,rb=tb.xc;if(eb.c=zj,eb.i=x7,tb.md=fe(zj,rb),tb.wc=rb==0?-1:(1<<rb)-1,k){L.xb=JR;break e}if((ue=a(W*K))==null){L.a=1,q=0;break e}q=(q=Aa(L,ue,0,W,K,K,null))&&!J.h;break e}return q?(B!=null?B[0]=ue:(e(ue==null),e(k)),L.$=0,k||Zi(ee)):Zi(ee),q}function Rl(m,x){var k=m.c*m.i,L=k+x+16*x;return e(m.c<=x),m.V=a(L),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+k+x,1)}function au(m,x){var k=m.C,L=x-k,B=m.V,q=m.Ba+m.c*k;for(e(x<=m.l.o);0<L;){var W=16<L?16:L,K=m.l.ma,J=m.l.width,ee=J*W,ue=K.ca,xe=K.tb+J*k,te=m.Ta,de=m.Ua;Il(m,W,B,q),pj(te,de,ue,xe,ee),ts(K,k,k+W,ue,xe,J),L-=W,B+=W*m.c,k+=W}e(k==x),m.C=m.Ma=x}function su(){this.ub=this.yd=this.td=this.Rb=0}function ou(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function A1(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Nf(){this.Yb=function(){var m=[];return function x(k,L,B){for(var q=B[L],W=0;W<q&&(k.push(B.length>L+1?[]:0),!(B.length<L+1));W++)x(k[W],L+1,B)}(m,0,[3,11]),m}()}function Sm(){this.jb=a(3),this.Wc=o([4,8],Nf),this.Xc=o([4,17],Nf)}function jm(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Qi(){this.ld=this.La=this.dd=this.tc=0}function kf(){this.Na=this.la=0}function Am(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Of(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Nm(){this.uc=this.M=this.Nb=0,this.wa=Array(new Qi),this.Y=0,this.ya=Array(new Of),this.aa=0,this.l=new lu}function km(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Om(){this.cb=this.a=0,this.sc="",this.m=new E,this.Od=new su,this.Kc=new ou,this.ed=new jm,this.Qa=new A1,this.Ic=this.$c=this.Aa=0,this.D=new Nm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,E),this.ia=0,this.pb=s(4,Am),this.Pa=new Sm,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new km),this.Hd=0,this.rb=Array(new kf),this.sb=0,this.wa=Array(new Qi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Of),this.L=this.aa=0,this.gd=o([4,2],Qi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function lu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function N1(){var m=new Om;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Yf||(Yf=Cs)),m}function Qr(m,x,k){return m.a==0&&(m.a=x,m.sc=k,m.cb=0),0}function Pm(m,x,k){return 3<=k&&m[x+0]==157&&m[x+1]==1&&m[x+2]==42}function Em(m,x){if(m==null)return 0;if(m.a=0,m.sc="OK",x==null)return Qr(m,2,"null VP8Io passed to VP8GetHeaders()");var k=x.data,L=x.w,B=x.ha;if(4>B)return Qr(m,7,"Truncated header.");var q=k[L+0]|k[L+1]<<8|k[L+2]<<16,W=m.Od;if(W.Rb=!(1&q),W.td=q>>1&7,W.yd=q>>4&1,W.ub=q>>5,3<W.td)return Qr(m,3,"Incorrect keyframe parameters.");if(!W.yd)return Qr(m,4,"Frame not displayable.");L+=3,B-=3;var K=m.Kc;if(W.Rb){if(7>B)return Qr(m,7,"cannot parse picture header");if(!Pm(k,L,B))return Qr(m,3,"Bad code word");K.c=16383&(k[L+4]<<8|k[L+3]),K.Td=k[L+4]>>6,K.i=16383&(k[L+6]<<8|k[L+5]),K.Ud=k[L+6]>>6,L+=7,B-=7,m.za=K.c+15>>4,m.Ub=K.i+15>>4,x.width=K.c,x.height=K.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,i((q=m.Pa).jb,0,255,q.jb.length),e((q=m.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,i(q.Zb,0,0,q.Zb.length),i(q.Lb,0,0,q.Lb)}if(W.ub>B)return Qr(m,7,"bad partition length");H(q=m.m,k,L,W.ub),L+=W.ub,B-=W.ub,W.Rb&&(K.Ld=se(q),K.Kd=se(q)),K=m.Qa;var J,ee=m.Pa;if(e(q!=null),e(K!=null),K.Cb=se(q),K.Cb){if(K.Bb=se(q),se(q)){for(K.Fb=se(q),J=0;4>J;++J)K.Zb[J]=se(q)?$(q,7):0;for(J=0;4>J;++J)K.Lb[J]=se(q)?$(q,6):0}if(K.Bb)for(J=0;3>J;++J)ee.jb[J]=se(q)?G(q,8):255}else K.Bb=0;if(q.Ka)return Qr(m,3,"cannot parse segment header");if((K=m.ed).zd=se(q),K.Tb=G(q,6),K.wb=G(q,3),K.Pc=se(q),K.Pc&&se(q)){for(ee=0;4>ee;++ee)se(q)&&(K.vd[ee]=$(q,6));for(ee=0;4>ee;++ee)se(q)&&(K.od[ee]=$(q,6))}if(m.L=K.Tb==0?0:K.zd?1:2,q.Ka)return Qr(m,3,"cannot parse filter header");var ue=B;if(B=J=L,L=J+ue,K=ue,m.Xb=(1<<G(m.m,2))-1,ue<3*(ee=m.Xb))k=7;else{for(J+=3*ee,K-=3*ee,ue=0;ue<ee;++ue){var xe=k[B+0]|k[B+1]<<8|k[B+2]<<16;xe>K&&(xe=K),H(m.Jc[+ue],k,J,xe),J+=xe,K-=xe,B+=3}H(m.Jc[+ee],k,J,K),k=J<L?0:5}if(k!=0)return Qr(m,k,"cannot parse partitions");for(k=G(J=m.m,7),B=se(J)?$(J,4):0,L=se(J)?$(J,4):0,K=se(J)?$(J,4):0,ee=se(J)?$(J,4):0,J=se(J)?$(J,4):0,ue=m.Qa,xe=0;4>xe;++xe){if(ue.Cb){var te=ue.Zb[xe];ue.Fb||(te+=k)}else{if(0<xe){m.pb[xe]=m.pb[0];continue}te=k}var de=m.pb[xe];de.Sc[0]=V1[Mr(te+B,127)],de.Sc[1]=G1[Mr(te+0,127)],de.Eb[0]=2*V1[Mr(te+L,127)],de.Eb[1]=101581*G1[Mr(te+K,127)]>>16,8>de.Eb[1]&&(de.Eb[1]=8),de.Qc[0]=V1[Mr(te+ee,117)],de.Qc[1]=G1[Mr(te+J,127)],de.lc=te+J}if(!W.Rb)return Qr(m,4,"Not a key frame.");for(se(q),W=m.Pa,k=0;4>k;++k){for(B=0;8>B;++B)for(L=0;3>L;++L)for(K=0;11>K;++K)ee=ge(q,YR[k][B][L][K])?G(q,8):GR[k][B][L][K],W.Wc[k][B].Yb[L][K]=ee;for(B=0;17>B;++B)W.Xc[k][B]=W.Wc[k][XR[B]]}return m.kc=se(q),m.kc&&(m.Bd=G(q,8)),m.cb=1}function Cs(m,x,k,L,B,q,W){var K=x[B].Yb[k];for(k=0;16>B;++B){if(!ge(m,K[k+0]))return B;for(;!ge(m,K[k+1]);)if(K=x[++B].Yb[0],k=0,B==16)return 16;var J=x[B+1].Yb;if(ge(m,K[k+2])){var ee=m,ue=0;if(ge(ee,(te=K)[(xe=k)+3]))if(ge(ee,te[xe+6])){for(K=0,xe=2*(ue=ge(ee,te[xe+8]))+(te=ge(ee,te[xe+9+ue])),ue=0,te=HR[xe];te[K];++K)ue+=ue+ge(ee,te[K]);ue+=3+(8<<xe)}else ge(ee,te[xe+7])?(ue=7+2*ge(ee,165),ue+=ge(ee,145)):ue=5+ge(ee,159);else ue=ge(ee,te[xe+4])?3+ge(ee,te[xe+5]):2;K=J[2]}else ue=1,K=J[1];J=W+VR[B],0>(ee=m).b&&ve(ee);var xe,te=ee.b,de=(xe=ee.Ca>>1)-(ee.I>>te)>>31;--ee.b,ee.Ca+=de,ee.Ca|=1,ee.I-=(xe+1&de)<<te,q[J]=((ue^de)-de)*L[(0<B)+0]}return 16}function Ml(m){var x=m.rb[m.sb-1];x.la=0,x.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function Na(m,x,k,L,B){B=m[x+k+32*L]+(B>>3),m[x+k+32*L]=-256&B?0>B?0:255:B}function Dl(m,x,k,L,B,q){Na(m,x,0,k,L+B),Na(m,x,1,k,L+q),Na(m,x,2,k,L-q),Na(m,x,3,k,L-B)}function qr(m){return(20091*m>>16)+m}function Pf(m,x,k,L){var B,q=0,W=a(16);for(B=0;4>B;++B){var K=m[x+0]+m[x+8],J=m[x+0]-m[x+8],ee=(35468*m[x+4]>>16)-qr(m[x+12]),ue=qr(m[x+4])+(35468*m[x+12]>>16);W[q+0]=K+ue,W[q+1]=J+ee,W[q+2]=J-ee,W[q+3]=K-ue,q+=4,x++}for(B=q=0;4>B;++B)K=(m=W[q+0]+4)+W[q+8],J=m-W[q+8],ee=(35468*W[q+4]>>16)-qr(W[q+12]),Na(k,L,0,0,K+(ue=qr(W[q+4])+(35468*W[q+12]>>16))),Na(k,L,1,0,J+ee),Na(k,L,2,0,J-ee),Na(k,L,3,0,K-ue),q++,L+=32}function k1(m,x,k,L){var B=m[x+0]+4,q=35468*m[x+4]>>16,W=qr(m[x+4]),K=35468*m[x+1]>>16;Dl(k,L,0,B+W,m=qr(m[x+1]),K),Dl(k,L,1,B+q,m,K),Dl(k,L,2,B-q,m,K),Dl(k,L,3,B-W,m,K)}function O1(m,x,k,L,B){Pf(m,x,k,L),B&&Pf(m,x+16,k,L+4)}function P1(m,x,k,L){tc(m,x+0,k,L,1),tc(m,x+32,k,L+128,1)}function ns(m,x,k,L){var B;for(m=m[x+0]+4,B=0;4>B;++B)for(x=0;4>x;++x)Na(k,L,x,B,m)}function Cm(m,x,k,L){m[x+0]&&er(m,x+0,k,L),m[x+16]&&er(m,x+16,k,L+4),m[x+32]&&er(m,x+32,k,L+128),m[x+48]&&er(m,x+48,k,L+128+4)}function Tm(m,x,k,L){var B,q=a(16);for(B=0;4>B;++B){var W=m[x+0+B]+m[x+12+B],K=m[x+4+B]+m[x+8+B],J=m[x+4+B]-m[x+8+B],ee=m[x+0+B]-m[x+12+B];q[0+B]=W+K,q[8+B]=W-K,q[4+B]=ee+J,q[12+B]=ee-J}for(B=0;4>B;++B)W=(m=q[0+4*B]+3)+q[3+4*B],K=q[1+4*B]+q[2+4*B],J=q[1+4*B]-q[2+4*B],ee=m-q[3+4*B],k[L+0]=W+K>>3,k[L+16]=ee+J>>3,k[L+32]=W-K>>3,k[L+48]=ee-J>>3,L+=64}function Ao(m,x,k){var L,B=x-32,q=Ni,W=255-m[B-1];for(L=0;L<k;++L){var K,J=q,ee=W+m[x-1];for(K=0;K<k;++K)m[x+K]=J[ee+m[B+K]];x+=32}}function Ef(m,x){Ao(m,x,4)}function E1(m,x){Ao(m,x,8)}function C1(m,x){Ao(m,x,16)}function T1(m,x){var k;for(k=0;16>k;++k)n(m,x+32*k,m,x-32,16)}function Cf(m,x){var k;for(k=16;0<k;--k)i(m,x,m[x-1],16),x+=32}function Bl(m,x,k){var L;for(L=0;16>L;++L)i(x,k+32*L,m,16)}function No(m,x){var k,L=16;for(k=0;16>k;++k)L+=m[x-1+32*k]+m[x+k-32];Bl(L>>5,m,x)}function L1(m,x){var k,L=8;for(k=0;16>k;++k)L+=m[x-1+32*k];Bl(L>>4,m,x)}function Fl(m,x){var k,L=8;for(k=0;16>k;++k)L+=m[x+k-32];Bl(L>>4,m,x)}function Tf(m,x){Bl(128,m,x)}function kt(m,x,k){return m+2*x+k+2>>2}function I1(m,x){var k,L=x-32;for(L=new Uint8Array([kt(m[L-1],m[L+0],m[L+1]),kt(m[L+0],m[L+1],m[L+2]),kt(m[L+1],m[L+2],m[L+3]),kt(m[L+2],m[L+3],m[L+4])]),k=0;4>k;++k)n(m,x+32*k,L,0,L.length)}function $1(m,x){var k=m[x-1],L=m[x-1+32],B=m[x-1+64],q=m[x-1+96];_e(m,x+0,16843009*kt(m[x-1-32],k,L)),_e(m,x+32,16843009*kt(k,L,B)),_e(m,x+64,16843009*kt(L,B,q)),_e(m,x+96,16843009*kt(B,q,q))}function R1(m,x){var k,L=4;for(k=0;4>k;++k)L+=m[x+k-32]+m[x-1+32*k];for(L>>=3,k=0;4>k;++k)i(m,x+32*k,L,4)}function M1(m,x){var k=m[x-1+0],L=m[x-1+32],B=m[x-1+64],q=m[x-1-32],W=m[x+0-32],K=m[x+1-32],J=m[x+2-32],ee=m[x+3-32];m[x+0+96]=kt(L,B,m[x-1+96]),m[x+1+96]=m[x+0+64]=kt(k,L,B),m[x+2+96]=m[x+1+64]=m[x+0+32]=kt(q,k,L),m[x+3+96]=m[x+2+64]=m[x+1+32]=m[x+0+0]=kt(W,q,k),m[x+3+64]=m[x+2+32]=m[x+1+0]=kt(K,W,q),m[x+3+32]=m[x+2+0]=kt(J,K,W),m[x+3+0]=kt(ee,J,K)}function Ts(m,x){var k=m[x+1-32],L=m[x+2-32],B=m[x+3-32],q=m[x+4-32],W=m[x+5-32],K=m[x+6-32],J=m[x+7-32];m[x+0+0]=kt(m[x+0-32],k,L),m[x+1+0]=m[x+0+32]=kt(k,L,B),m[x+2+0]=m[x+1+32]=m[x+0+64]=kt(L,B,q),m[x+3+0]=m[x+2+32]=m[x+1+64]=m[x+0+96]=kt(B,q,W),m[x+3+32]=m[x+2+64]=m[x+1+96]=kt(q,W,K),m[x+3+64]=m[x+2+96]=kt(W,K,J),m[x+3+96]=kt(K,J,J)}function Ls(m,x){var k=m[x-1+0],L=m[x-1+32],B=m[x-1+64],q=m[x-1-32],W=m[x+0-32],K=m[x+1-32],J=m[x+2-32],ee=m[x+3-32];m[x+0+0]=m[x+1+64]=q+W+1>>1,m[x+1+0]=m[x+2+64]=W+K+1>>1,m[x+2+0]=m[x+3+64]=K+J+1>>1,m[x+3+0]=J+ee+1>>1,m[x+0+96]=kt(B,L,k),m[x+0+64]=kt(L,k,q),m[x+0+32]=m[x+1+96]=kt(k,q,W),m[x+1+32]=m[x+2+96]=kt(q,W,K),m[x+2+32]=m[x+3+96]=kt(W,K,J),m[x+3+32]=kt(K,J,ee)}function D1(m,x){var k=m[x+0-32],L=m[x+1-32],B=m[x+2-32],q=m[x+3-32],W=m[x+4-32],K=m[x+5-32],J=m[x+6-32],ee=m[x+7-32];m[x+0+0]=k+L+1>>1,m[x+1+0]=m[x+0+64]=L+B+1>>1,m[x+2+0]=m[x+1+64]=B+q+1>>1,m[x+3+0]=m[x+2+64]=q+W+1>>1,m[x+0+32]=kt(k,L,B),m[x+1+32]=m[x+0+96]=kt(L,B,q),m[x+2+32]=m[x+1+96]=kt(B,q,W),m[x+3+32]=m[x+2+96]=kt(q,W,K),m[x+3+64]=kt(W,K,J),m[x+3+96]=kt(K,J,ee)}function B1(m,x){var k=m[x-1+0],L=m[x-1+32],B=m[x-1+64],q=m[x-1+96];m[x+0+0]=k+L+1>>1,m[x+2+0]=m[x+0+32]=L+B+1>>1,m[x+2+32]=m[x+0+64]=B+q+1>>1,m[x+1+0]=kt(k,L,B),m[x+3+0]=m[x+1+32]=kt(L,B,q),m[x+3+32]=m[x+1+64]=kt(B,q,q),m[x+3+64]=m[x+2+64]=m[x+0+96]=m[x+1+96]=m[x+2+96]=m[x+3+96]=q}function cu(m,x){var k=m[x-1+0],L=m[x-1+32],B=m[x-1+64],q=m[x-1+96],W=m[x-1-32],K=m[x+0-32],J=m[x+1-32],ee=m[x+2-32];m[x+0+0]=m[x+2+32]=k+W+1>>1,m[x+0+32]=m[x+2+64]=L+k+1>>1,m[x+0+64]=m[x+2+96]=B+L+1>>1,m[x+0+96]=q+B+1>>1,m[x+3+0]=kt(K,J,ee),m[x+2+0]=kt(W,K,J),m[x+1+0]=m[x+3+32]=kt(k,W,K),m[x+1+32]=m[x+3+64]=kt(L,k,W),m[x+1+64]=m[x+3+96]=kt(B,L,k),m[x+1+96]=kt(q,B,L)}function Lf(m,x){var k;for(k=0;8>k;++k)n(m,x+32*k,m,x-32,8)}function Ul(m,x){var k;for(k=0;8>k;++k)i(m,x,m[x-1],8),x+=32}function uu(m,x,k){var L;for(L=0;8>L;++L)i(x,k+32*L,m,8)}function du(m,x){var k,L=8;for(k=0;8>k;++k)L+=m[x+k-32]+m[x-1+32*k];uu(L>>4,m,x)}function F1(m,x){var k,L=4;for(k=0;8>k;++k)L+=m[x+k-32];uu(L>>3,m,x)}function If(m,x){var k,L=4;for(k=0;8>k;++k)L+=m[x-1+32*k];uu(L>>3,m,x)}function $f(m,x){uu(128,m,x)}function zl(m,x,k){var L=m[x-k],B=m[x+0],q=3*(B-L)+U1[1020+m[x-2*k]-m[x+k]],W=zm[112+(q+4>>3)];m[x-k]=Ni[255+L+zm[112+(q+3>>3)]],m[x+0]=Ni[255+B-W]}function ql(m,x,k,L){var B=m[x+0],q=m[x+k];return na[255+m[x-2*k]-m[x-k]]>L||na[255+q-B]>L}function Rf(m,x,k,L){return 4*na[255+m[x-k]-m[x+0]]+na[255+m[x-2*k]-m[x+k]]<=L}function fu(m,x,k,L,B){var q=m[x-3*k],W=m[x-2*k],K=m[x-k],J=m[x+0],ee=m[x+k],ue=m[x+2*k],xe=m[x+3*k];return 4*na[255+K-J]+na[255+W-ee]>L?0:na[255+m[x-4*k]-q]<=B&&na[255+q-W]<=B&&na[255+W-K]<=B&&na[255+xe-ue]<=B&&na[255+ue-ee]<=B&&na[255+ee-J]<=B}function Mf(m,x,k,L){var B=2*L+1;for(L=0;16>L;++L)Rf(m,x+L,k,B)&&zl(m,x+L,k)}function Wl(m,x,k,L){var B=2*L+1;for(L=0;16>L;++L)Rf(m,x+L*k,1,B)&&zl(m,x+L*k,1)}function Lm(m,x,k,L){var B;for(B=3;0<B;--B)Mf(m,x+=4*k,k,L)}function Im(m,x,k,L){var B;for(B=3;0<B;--B)Wl(m,x+=4,k,L)}function Is(m,x,k,L,B,q,W,K){for(q=2*q+1;0<B--;){if(fu(m,x,k,q,W))if(ql(m,x,k,K))zl(m,x,k);else{var J=m,ee=x,ue=k,xe=J[ee-2*ue],te=J[ee-ue],de=J[ee+0],ye=J[ee+ue],Se=J[ee+2*ue],be=27*(ke=U1[1020+3*(de-te)+U1[1020+xe-ye]])+63>>7,Ae=18*ke+63>>7,ke=9*ke+63>>7;J[ee-3*ue]=Ni[255+J[ee-3*ue]+ke],J[ee-2*ue]=Ni[255+xe+Ae],J[ee-ue]=Ni[255+te+be],J[ee+0]=Ni[255+de-be],J[ee+ue]=Ni[255+ye-Ae],J[ee+2*ue]=Ni[255+Se-ke]}x+=L}}function $s(m,x,k,L,B,q,W,K){for(q=2*q+1;0<B--;){if(fu(m,x,k,q,W))if(ql(m,x,k,K))zl(m,x,k);else{var J=m,ee=x,ue=k,xe=J[ee-ue],te=J[ee+0],de=J[ee+ue],ye=zm[112+(4+(Se=3*(te-xe))>>3)],Se=zm[112+(Se+3>>3)],be=ye+1>>1;J[ee-2*ue]=Ni[255+J[ee-2*ue]+be],J[ee-ue]=Ni[255+xe+Se],J[ee+0]=Ni[255+te-ye],J[ee+ue]=Ni[255+de-be]}x+=L}}function $m(m,x,k,L,B,q){Is(m,x,k,1,16,L,B,q)}function Rm(m,x,k,L,B,q){Is(m,x,1,k,16,L,B,q)}function Hl(m,x,k,L,B,q){var W;for(W=3;0<W;--W)$s(m,x+=4*k,k,1,16,L,B,q)}function Mm(m,x,k,L,B,q){var W;for(W=3;0<W;--W)$s(m,x+=4,1,k,16,L,B,q)}function A(m,x,k,L,B,q,W,K){Is(m,x,B,1,8,q,W,K),Is(k,L,B,1,8,q,W,K)}function D(m,x,k,L,B,q,W,K){Is(m,x,1,B,8,q,W,K),Is(k,L,1,B,8,q,W,K)}function re(m,x,k,L,B,q,W,K){$s(m,x+4*B,B,1,8,q,W,K),$s(k,L+4*B,B,1,8,q,W,K)}function le(m,x,k,L,B,q,W,K){$s(m,x+4,1,B,8,q,W,K),$s(k,L+4,1,B,8,q,W,K)}function me(){this.ba=new Gt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ne(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Le(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nt(){this.ua=0,this.Wa=new tt,this.vb=new tt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new M}function ct(){this.xb=this.a=0,this.l=new lu,this.ca=new Gt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nt,this.ab=0,this.gc=s(4,Le),this.Oc=0}function jt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new lu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Pt(m,x,k,L,B,q,W){for(m=m==null?0:m[x+0],x=0;x<W;++x)B[q+x]=m+k[L+x]&255,m=B[q+x]}function Jt(m,x,k,L,B,q,W){var K;if(m==null)Pt(null,null,k,L,B,q,W);else for(K=0;K<W;++K)B[q+K]=m[x+K]+k[L+K]&255}function Cr(m,x,k,L,B,q,W){if(m==null)Pt(null,null,k,L,B,q,W);else{var K,J=m[x+0],ee=J,ue=J;for(K=0;K<W;++K)ee=ue+(J=m[x+K])-ee,ue=k[L+K]+(-256&ee?0>ee?0:255:ee)&255,ee=J,B[q+K]=ue}}function en(m,x,k,L){var B=x.width,q=x.o;if(e(m!=null&&x!=null),0>k||0>=L||k+L>q)return null;if(!m.Cc){if(m.ga==null){var W;if(m.ga=new jt,(W=m.ga==null)||(W=x.width*x.o,e(m.Gb.length==0),m.Gb=a(W),m.Uc=0,m.Gb==null?W=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,W=1),W=!W),!W){W=m.ga;var K=m.Fa,J=m.P,ee=m.qc,ue=m.mb,xe=m.nb,te=J+1,de=ee-1,ye=W.l;if(e(K!=null&&ue!=null&&x!=null),Ro[0]=null,Ro[1]=Pt,Ro[2]=Jt,Ro[3]=Cr,W.ca=ue,W.tb=xe,W.c=x.width,W.i=x.height,e(0<W.c&&0<W.i),1>=ee)x=0;else if(W.$a=3&K[J+0],W.Z=K[J+0]>>2&3,W.Lc=K[J+0]>>4&3,J=K[J+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||J)x=0;else if(ye.put=mt,ye.ac=es,ye.bc=Ps,ye.ma=W,ye.width=x.width,ye.height=x.height,ye.Da=x.Da,ye.v=x.v,ye.va=x.va,ye.j=x.j,ye.o=x.o,W.$a)e:{e(W.$a==1),x=$l();t:for(;;){if(x==null){x=0;break e}if(e(W!=null),W.mc=x,x.c=W.c,x.i=W.i,x.l=W.l,x.l.ma=W,x.l.width=W.c,x.l.height=W.i,x.a=0,X(x.m,K,te,de),!rs(W.c,W.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&Sa(x.s)?(W.ic=1,K=x.c*x.i,x.Ta=null,x.Ua=0,x.V=a(K),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(W.ic=0,x=Rl(x,W.c)),!x))break t;x=1;break e}W.mc=null,x=0}else x=de>=W.c*W.i;W=!x}if(W)return null;m.ga.Lc!=1?m.Ga=0:L=q-k}e(m.ga!=null),e(k+L<=q);e:{if(x=(K=m.ga).c,q=K.l.o,K.$a==0){if(te=m.rc,de=m.Vc,ye=m.Fa,J=m.P+1+k*x,ee=m.mb,ue=m.nb+k*x,e(J<=m.P+m.qc),K.Z!=0)for(e(Ro[K.Z]!=null),W=0;W<L;++W)Ro[K.Z](te,de,ye,J,ee,ue,x),te=ee,de=ue,ue+=x,J+=x;else for(W=0;W<L;++W)n(ee,ue,ye,J,x),te=ee,de=ue,ue+=x,J+=x;m.rc=te,m.Vc=de}else{if(e(K.mc!=null),x=k+L,e((W=K.mc)!=null),e(x<=W.i),W.C>=x)x=1;else if(K.ic||ea(),K.ic){K=W.V,te=W.Ba,de=W.c;var Se=W.i,be=(ye=1,J=W.$/de,ee=W.$%de,ue=W.m,xe=W.s,W.$),Ae=de*Se,ke=de*x,Me=xe.wc,Te=be<ke?Pn(xe,ee,J):null;e(be<=Ae),e(x<=Se),e(Sa(xe));t:for(;;){for(;!ue.h&&be<ke;){if(ee&Me||(Te=Pn(xe,ee,J)),e(Te!=null),ce(ue),256>(Se=Rr(Te.G[0],Te.H[0],ue)))K[te+be]=Se,++be,++ee>=de&&(ee=0,++J<=x&&!(J%16)&&ja(W,J));else{if(!(280>Se)){ye=0;break t}Se=Xi(Se-256,ue);var ut,Je=Rr(Te.G[4],Te.H[4],ue);if(ce(ue),!(be>=(Je=Ji(de,Je=Xi(Je,ue)))&&Ae-be>=Se)){ye=0;break t}for(ut=0;ut<Se;++ut)K[te+be+ut]=K[te+be+ut-Je];for(be+=Se,ee+=Se;ee>=de;)ee-=de,++J<=x&&!(J%16)&&ja(W,J);be<ke&&ee&Me&&(Te=Pn(xe,ee,J))}e(ue.h==Z(ue))}ja(W,J>x?x:J);break t}!ye||ue.h&&be<Ae?(ye=0,W.a=ue.h?5:3):W.$=be,x=ye}else x=Aa(W,W.V,W.Ba,W.c,W.i,x,au);if(!x){L=0;break e}}k+L>=q&&(m.Cc=1),L=1}if(!L)return null;if(m.Cc&&((L=m.ga)!=null&&(L.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+k*B}function hr(m,x,k,L,B,q){for(;0<B--;){var W,K=m,J=x+(k?1:0),ee=m,ue=x+(k?0:3);for(W=0;W<L;++W){var xe=ee[ue+4*W];xe!=255&&(xe*=32897,K[J+4*W+0]=K[J+4*W+0]*xe>>23,K[J+4*W+1]=K[J+4*W+1]*xe>>23,K[J+4*W+2]=K[J+4*W+2]*xe>>23)}x+=q}}function cn(m,x,k,L,B){for(;0<L--;){var q;for(q=0;q<k;++q){var W=m[x+2*q+0],K=15&(ee=m[x+2*q+1]),J=4369*K,ee=(240&ee|ee>>4)*J>>16;m[x+2*q+0]=(240&W|W>>4)*J>>16&240|(15&W|W<<4)*J>>16>>4&15,m[x+2*q+1]=240&ee|K}x+=B}}function tn(m,x,k,L,B,q,W,K){var J,ee,ue=255;for(ee=0;ee<B;++ee){for(J=0;J<L;++J){var xe=m[x+J];q[W+4*J]=xe,ue&=xe}x+=k,W+=K}return ue!=255}function En(m,x,k,L,B){var q;for(q=0;q<B;++q)k[L+q]=m[x+q]>>8}function ea(){Kf=hr,fj=cn,hj=tn,pj=En}function di(m,x,k){I[m]=function(L,B,q,W,K,J,ee,ue,xe,te,de,ye,Se,be,Ae,ke,Me){var Te,ut=Me-1>>1,Je=K[J+0]|ee[ue+0]<<16,$t=xe[te+0]|de[ye+0]<<16;e(L!=null);var it=3*Je+$t+131074>>2;for(x(L[B+0],255&it,it>>16,Se,be),q!=null&&(it=3*$t+Je+131074>>2,x(q[W+0],255&it,it>>16,Ae,ke)),Te=1;Te<=ut;++Te){var zt=K[J+Te]|ee[ue+Te]<<16,dn=xe[te+Te]|de[ye+Te]<<16,Rt=Je+zt+$t+dn+524296,at=Rt+2*(zt+$t)>>3;it=at+Je>>1,Je=(Rt=Rt+2*(Je+dn)>>3)+zt>>1,x(L[B+2*Te-1],255&it,it>>16,Se,be+(2*Te-1)*k),x(L[B+2*Te-0],255&Je,Je>>16,Se,be+(2*Te-0)*k),q!=null&&(it=Rt+$t>>1,Je=at+dn>>1,x(q[W+2*Te-1],255&it,it>>16,Ae,ke+(2*Te-1)*k),x(q[W+2*Te+0],255&Je,Je>>16,Ae,ke+(2*Te+0)*k)),Je=zt,$t=dn}1&Me||(it=3*Je+$t+131074>>2,x(L[B+Me-1],255&it,it>>16,Se,be+(Me-1)*k),q!=null&&(it=3*$t+Je+131074>>2,x(q[W+Me-1],255&it,it>>16,Ae,ke+(Me-1)*k)))}}function Dm(){ia[qm]=ZR,ia[Wm]=Aj,ia[xj]=QR,ia[Hm]=Nj,ia[Vm]=kj,ia[z1]=Oj,ia[wj]=e7,ia[q1]=Aj,ia[W1]=Nj,ia[Gm]=kj,ia[H1]=Oj}function hu(m){return m&-16384?0>m?0:255:m>>t7}function Vl(m,x){return hu((19077*m>>8)+(26149*x>>8)-14234)}function ko(m,x,k){return hu((19077*m>>8)-(6419*x>>8)-(13320*k>>8)+8708)}function Gl(m,x){return hu((19077*m>>8)+(33050*x>>8)-17685)}function Kl(m,x,k,L,B){L[B+0]=Vl(m,k),L[B+1]=ko(m,x,k),L[B+2]=Gl(m,x)}function Yl(m,x,k,L,B){L[B+0]=Gl(m,x),L[B+1]=ko(m,x,k),L[B+2]=Vl(m,k)}function Fn(m,x,k,L,B){var q=ko(m,x,k);x=q<<3&224|Gl(m,x)>>3,L[B+0]=248&Vl(m,k)|q>>5,L[B+1]=x}function Xl(m,x,k,L,B){var q=240&Gl(m,x)|15;L[B+0]=240&Vl(m,k)|ko(m,x,k)>>4,L[B+1]=q}function Jl(m,x,k,L,B){L[B+0]=255,Kl(m,x,k,L,B+1)}function Df(m,x,k,L,B){Yl(m,x,k,L,B),L[B+3]=255}function Bf(m,x,k,L,B){Kl(m,x,k,L,B),L[B+3]=255}function Mr(m,x){return 0>m?0:m>x?x:m}function Rs(m,x,k){I[m]=function(L,B,q,W,K,J,ee,ue,xe){for(var te=ue+(-2&xe)*k;ue!=te;)x(L[B+0],q[W+0],K[J+0],ee,ue),x(L[B+1],q[W+0],K[J+0],ee,ue+k),B+=2,++W,++J,ue+=2*k;1&xe&&x(L[B+0],q[W+0],K[J+0],ee,ue)}}function pu(m,x,k){return k==0?m==0?x==0?6:5:x==0?4:0:k}function Bm(m,x,k,L,B){switch(m>>>30){case 3:tc(x,k,L,B,0);break;case 2:ra(x,k,L,B);break;case 1:er(x,k,L,B)}}function ta(m,x){var k,L,B=x.M,q=x.Nb,W=m.oc,K=m.pc+40,J=m.oc,ee=m.pc+584,ue=m.oc,xe=m.pc+600;for(k=0;16>k;++k)W[K+32*k-1]=129;for(k=0;8>k;++k)J[ee+32*k-1]=129,ue[xe+32*k-1]=129;for(0<B?W[K-1-32]=J[ee-1-32]=ue[xe-1-32]=129:(i(W,K-32-1,127,21),i(J,ee-32-1,127,9),i(ue,xe-32-1,127,9)),L=0;L<m.za;++L){var te=x.ya[x.aa+L];if(0<L){for(k=-1;16>k;++k)n(W,K+32*k-4,W,K+32*k+12,4);for(k=-1;8>k;++k)n(J,ee+32*k-4,J,ee+32*k+4,4),n(ue,xe+32*k-4,ue,xe+32*k+4,4)}var de=m.Gd,ye=m.Hd+L,Se=te.ad,be=te.Hc;if(0<B&&(n(W,K-32,de[ye].y,0,16),n(J,ee-32,de[ye].f,0,8),n(ue,xe-32,de[ye].ea,0,8)),te.Za){var Ae=W,ke=K-32+16;for(0<B&&(L>=m.za-1?i(Ae,ke,de[ye].y[15],4):n(Ae,ke,de[ye+1].y,0,4)),k=0;4>k;k++)Ae[ke+128+k]=Ae[ke+256+k]=Ae[ke+384+k]=Ae[ke+0+k];for(k=0;16>k;++k,be<<=2)Ae=W,ke=K+Ej[k],ka[te.Ob[k]](Ae,ke),Bm(be,Se,16*+k,Ae,ke)}else if(Ae=pu(L,B,te.Ob[0]),$o[Ae](W,K),be!=0)for(k=0;16>k;++k,be<<=2)Bm(be,Se,16*+k,W,K+Ej[k]);for(k=te.Gc,Ae=pu(L,B,te.Dd),Bs[Ae](J,ee),Bs[Ae](ue,xe),be=Se,Ae=J,ke=ee,255&(te=0|k)&&(170&te?ss(be,256,Ae,ke):cr(be,256,Ae,ke)),te=ue,be=xe,255&(k>>=8)&&(170&k?ss(Se,320,te,be):cr(Se,320,te,be)),B<m.Ub-1&&(n(de[ye].y,0,W,K+480,16),n(de[ye].f,0,J,ee+224,8),n(de[ye].ea,0,ue,xe+224,8)),k=8*q*m.B,de=m.sa,ye=m.ta+16*L+16*q*m.R,Se=m.qa,te=m.ra+8*L+k,be=m.Ha,Ae=m.Ia+8*L+k,k=0;16>k;++k)n(de,ye+k*m.R,W,K+32*k,16);for(k=0;8>k;++k)n(Se,te+k*m.B,J,ee+32*k,8),n(be,Ae+k*m.B,ue,xe+32*k,8)}}function Zl(m,x,k,L,B,q,W,K,J){var ee=[0],ue=[0],xe=0,te=J!=null?J.kd:0,de=J??new Ne;if(m==null||12>k)return 7;de.data=m,de.w=x,de.ha=k,x=[x],k=[k],de.gb=[de.gb];e:{var ye=x,Se=k,be=de.gb;if(e(m!=null),e(Se!=null),e(be!=null),be[0]=0,12<=Se[0]&&!r(m,ye[0],"RIFF")){if(r(m,ye[0]+8,"WEBP")){be=3;break e}var Ae=pe(m,ye[0]+4);if(12>Ae||4294967286<Ae){be=3;break e}if(te&&Ae>Se[0]-8){be=7;break e}be[0]=Ae,ye[0]+=12,Se[0]-=12}be=0}if(be!=0)return be;for(Ae=0<de.gb[0],k=k[0];;){e:{var ke=m;Se=x,be=k;var Me=ee,Te=ue,ut=ye=[0];if((it=xe=[xe])[0]=0,8>be[0])be=7;else{if(!r(ke,Se[0],"VP8X")){if(pe(ke,Se[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var Je=pe(ke,Se[0]+8),$t=1+$e(ke,Se[0]+12);if(2147483648<=$t*(ke=1+$e(ke,Se[0]+15))){be=3;break e}ut!=null&&(ut[0]=Je),Me!=null&&(Me[0]=$t),Te!=null&&(Te[0]=ke),Se[0]+=18,be[0]-=18,it[0]=1}be=0}}if(xe=xe[0],ye=ye[0],be!=0)return be;if(Se=!!(2&ye),!Ae&&xe)return 3;if(q!=null&&(q[0]=!!(16&ye)),W!=null&&(W[0]=Se),K!=null&&(K[0]=0),W=ee[0],ye=ue[0],xe&&Se&&J==null){be=0;break}if(4>k){be=7;break}if(Ae&&xe||!Ae&&!xe&&!r(m,x[0],"ALPH")){k=[k],de.na=[de.na],de.P=[de.P],de.Sa=[de.Sa];e:{Je=m,be=x,Ae=k;var it=de.gb;Me=de.na,Te=de.P,ut=de.Sa,$t=22,e(Je!=null),e(Ae!=null),ke=be[0];var zt=Ae[0];for(e(Me!=null),e(ut!=null),Me[0]=null,Te[0]=null,ut[0]=0;;){if(be[0]=ke,Ae[0]=zt,8>zt){be=7;break e}var dn=pe(Je,ke+4);if(4294967286<dn){be=3;break e}var Rt=8+dn+1&-2;if($t+=Rt,0<it&&$t>it){be=3;break e}if(!r(Je,ke,"VP8 ")||!r(Je,ke,"VP8L")){be=0;break e}if(zt[0]<Rt){be=7;break e}r(Je,ke,"ALPH")||(Me[0]=Je,Te[0]=ke+8,ut[0]=dn),ke+=Rt,zt-=Rt}}if(k=k[0],de.na=de.na[0],de.P=de.P[0],de.Sa=de.Sa[0],be!=0)break}k=[k],de.Ja=[de.Ja],de.xa=[de.xa];e:if(it=m,be=x,Ae=k,Me=de.gb[0],Te=de.Ja,ut=de.xa,Je=be[0],ke=!r(it,Je,"VP8 "),$t=!r(it,Je,"VP8L"),e(it!=null),e(Ae!=null),e(Te!=null),e(ut!=null),8>Ae[0])be=7;else{if(ke||$t){if(it=pe(it,Je+4),12<=Me&&it>Me-12){be=3;break e}if(te&&it>Ae[0]-8){be=7;break e}Te[0]=it,be[0]+=8,Ae[0]-=8,ut[0]=$t}else ut[0]=5<=Ae[0]&&it[Je+0]==47&&!(it[Je+4]>>5),Te[0]=Ae[0];be=0}if(k=k[0],de.Ja=de.Ja[0],de.xa=de.xa[0],x=x[0],be!=0)break;if(4294967286<de.Ja)return 3;if(K==null||Se||(K[0]=de.xa?2:1),W=[W],ye=[ye],de.xa){if(5>k){be=7;break}K=W,te=ye,Se=q,m==null||5>k?m=0:5<=k&&m[x+0]==47&&!(m[x+4]>>5)?(Ae=[0],it=[0],Me=[0],X(Te=new z,m,x,k),Es(Te,Ae,it,Me)?(K!=null&&(K[0]=Ae[0]),te!=null&&(te[0]=it[0]),Se!=null&&(Se[0]=Me[0]),m=1):m=0):m=0}else{if(10>k){be=7;break}K=ye,m==null||10>k||!Pm(m,x+3,k-3)?m=0:(te=m[x+0]|m[x+1]<<8|m[x+2]<<16,Se=16383&(m[x+7]<<8|m[x+6]),m=16383&(m[x+9]<<8|m[x+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=de.Ja||!Se||!m?m=0:(W&&(W[0]=Se),K&&(K[0]=m),m=1))}if(!m||(W=W[0],ye=ye[0],xe&&(ee[0]!=W||ue[0]!=ye)))return 3;J!=null&&(J[0]=de,J.offset=x-J.w,e(4294967286>x-J.w),e(J.offset==J.ha-k));break}return be==0||be==7&&xe&&J==null?(q!=null&&(q[0]|=de.na!=null&&0<de.na.length),L!=null&&(L[0]=W),B!=null&&(B[0]=ye),0):be}function Ff(m,x,k){var L=x.width,B=x.height,q=0,W=0,K=L,J=B;if(x.Da=m!=null&&0<m.Da,x.Da&&(K=m.cd,J=m.bd,q=m.v,W=m.j,11>k||(q&=-2,W&=-2),0>q||0>W||0>=K||0>=J||q+K>L||W+J>B))return 0;if(x.v=q,x.j=W,x.va=q+K,x.o=W+J,x.U=K,x.T=J,x.da=m!=null&&0<m.da,x.da){if(!Ke(K,J,k=[m.ib],q=[m.hb]))return 0;x.ib=k[0],x.hb=q[0]}return x.ob=m!=null&&m.ob,x.Kb=m==null||!m.Sd,x.da&&(x.ob=x.ib<3*L/4&&x.hb<3*B/4,x.Kb=0),1}function Uf(m){if(m==null)return 2;if(11>m.S){var x=m.f.RGBA;x.fb+=(m.height-1)*x.A,x.A=-x.A}else x=m.f.kb,m=m.height,x.O+=(m-1)*x.fa,x.fa=-x.fa,x.N+=(m-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(m-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(m-1)*x.lb,x.lb=-x.lb);return 0}function Oo(m,x,k,L){if(L==null||0>=m||0>=x)return 2;if(k!=null){if(k.Da){var B=k.cd,q=k.bd,W=-2&k.v,K=-2&k.j;if(0>W||0>K||0>=B||0>=q||W+B>m||K+q>x)return 2;m=B,x=q}if(k.da){if(!Ke(m,x,B=[k.ib],q=[k.hb]))return 2;m=B[0],x=q[0]}}L.width=m,L.height=x;e:{var J=L.width,ee=L.height;if(m=L.S,0>=J||0>=ee||!(m>=qm&&13>m))m=2;else{if(0>=L.Rd&&L.sd==null){W=q=B=x=0;var ue=(K=J*Cj[m])*ee;if(11>m||(q=(ee+1)/2*(x=(J+1)/2),m==12&&(W=(B=J)*ee)),(ee=a(ue+2*q+W))==null){m=1;break e}L.sd=ee,11>m?((J=L.f.RGBA).eb=ee,J.fb=0,J.A=K,J.size=ue):((J=L.f.kb).y=ee,J.O=0,J.fa=K,J.Fd=ue,J.f=ee,J.N=0+ue,J.Ab=x,J.Cd=q,J.ea=ee,J.W=0+ue+q,J.Db=x,J.Ed=q,m==12&&(J.F=ee,J.J=0+ue+2*q),J.Tc=W,J.lb=B)}if(x=1,B=L.S,q=L.width,W=L.height,B>=qm&&13>B)if(11>B)m=L.f.RGBA,x&=(K=Math.abs(m.A))*(W-1)+q<=m.size,x&=K>=q*Cj[B],x&=m.eb!=null;else{m=L.f.kb,K=(q+1)/2,ue=(W+1)/2,J=Math.abs(m.fa),ee=Math.abs(m.Ab);var xe=Math.abs(m.Db),te=Math.abs(m.lb),de=te*(W-1)+q;x&=J*(W-1)+q<=m.Fd,x&=ee*(ue-1)+K<=m.Cd,x=(x&=xe*(ue-1)+K<=m.Ed)&J>=q&ee>=K&xe>=K,x&=m.y!=null,x&=m.f!=null,x&=m.ea!=null,B==12&&(x&=te>=q,x&=de<=m.Tc,x&=m.F!=null)}else x=0;m=x?0:2}}return m!=0||k!=null&&k.fd&&(m=Uf(L)),m}var Ql=64,ji=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ai=24,Po=32,Ms=8,Eo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pe("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(m){return m},I.Predictor2=function(m,x,k){return x[k+0]},I.Predictor3=function(m,x,k){return x[k+1]},I.Predictor4=function(m,x,k){return x[k-1]},I.Predictor5=function(m,x,k){return Oe(Oe(m,x[k+1]),x[k+0])},I.Predictor6=function(m,x,k){return Oe(m,x[k-1])},I.Predictor7=function(m,x,k){return Oe(m,x[k+0])},I.Predictor8=function(m,x,k){return Oe(x[k-1],x[k+0])},I.Predictor9=function(m,x,k){return Oe(x[k+0],x[k+1])},I.Predictor10=function(m,x,k){return Oe(Oe(m,x[k-1]),Oe(x[k+0],x[k+1]))},I.Predictor11=function(m,x,k){var L=x[k+0];return 0>=ze(L>>24&255,m>>24&255,(x=x[k-1])>>24&255)+ze(L>>16&255,m>>16&255,x>>16&255)+ze(L>>8&255,m>>8&255,x>>8&255)+ze(255&L,255&m,255&x)?L:m},I.Predictor12=function(m,x,k){var L=x[k+0];return(Ce((m>>24&255)+(L>>24&255)-((x=x[k-1])>>24&255))<<24|Ce((m>>16&255)+(L>>16&255)-(x>>16&255))<<16|Ce((m>>8&255)+(L>>8&255)-(x>>8&255))<<8|Ce((255&m)+(255&L)-(255&x)))>>>0},I.Predictor13=function(m,x,k){var L=x[k-1];return(Ie((m=Oe(m,x[k+0]))>>24&255,L>>24&255)<<24|Ie(m>>16&255,L>>16&255)<<16|Ie(m>>8&255,L>>8&255)<<8|Ie(255&m,255&L))>>>0};var zf=I.PredictorAdd0;I.PredictorAdd1=ht,Pe("Predictor2","PredictorAdd2"),Pe("Predictor3","PredictorAdd3"),Pe("Predictor4","PredictorAdd4"),Pe("Predictor5","PredictorAdd5"),Pe("Predictor6","PredictorAdd6"),Pe("Predictor7","PredictorAdd7"),Pe("Predictor8","PredictorAdd8"),Pe("Predictor9","PredictorAdd9"),Pe("Predictor10","PredictorAdd10"),Pe("Predictor11","PredictorAdd11"),Pe("Predictor12","PredictorAdd12"),Pe("Predictor13","PredictorAdd13");var mu=I.PredictorAdd2;qe("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),qe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Wr,Fm=I.ColorIndexInverseTransform,is=I.MapARGB,as=I.VP8LColorIndexInverseTransformAlpha,qf=I.MapAlpha,Wf=I.VP8LPredictorsAdd=[];Wf.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Hf,Vf,Co,To,Lo,ec,Io,tc,ra,ss,er,cr,Hr,un,Ds,Gf,gu,Um,sj,oj,lj,cj,uj,dj,Kf,fj,hj,pj,mj=a(511),gj=a(2041),vj=a(225),yj=a(767),bj=0,U1=gj,zm=vj,Ni=yj,na=mj,qm=0,Wm=1,xj=2,Hm=3,Vm=4,z1=5,wj=6,q1=7,W1=8,Gm=9,H1=10,DR=[2,3,7],BR=[3,3,11],_j=[280,256,256,256,40],FR=[0,1,1,1,0],UR=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zR=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],qR=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],WR=8,V1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],G1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Yf=null,HR=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],VR=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Sj=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],GR=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],KR=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],YR=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],XR=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$o=[],ka=[],Bs=[],JR=1,jj=2,Ro=[],ia=[];di("UpsampleRgbLinePair",Kl,3),di("UpsampleBgrLinePair",Yl,3),di("UpsampleRgbaLinePair",Bf,4),di("UpsampleBgraLinePair",Df,4),di("UpsampleArgbLinePair",Jl,4),di("UpsampleRgba4444LinePair",Xl,2),di("UpsampleRgb565LinePair",Fn,2);var ZR=I.UpsampleRgbLinePair,QR=I.UpsampleBgrLinePair,Aj=I.UpsampleRgbaLinePair,Nj=I.UpsampleBgraLinePair,kj=I.UpsampleArgbLinePair,Oj=I.UpsampleRgba4444LinePair,e7=I.UpsampleRgb565LinePair,Km=16,Ym=1<<Km-1,Xf=-227,K1=482,t7=6,Pj=0,r7=a(256),n7=a(256),i7=a(256),a7=a(256),s7=a(K1-Xf),o7=a(K1-Xf);Rs("YuvToRgbRow",Kl,3),Rs("YuvToBgrRow",Yl,3),Rs("YuvToRgbaRow",Bf,4),Rs("YuvToBgraRow",Df,4),Rs("YuvToArgbRow",Jl,4),Rs("YuvToRgba4444Row",Xl,2),Rs("YuvToRgb565Row",Fn,2);var Ej=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xm=[0,2,8],l7=[8,7,6,4,4,2,2,2,1,1,1,1],c7=1;this.WebPDecodeRGBA=function(m,x,k,L,B){var q=Wm,W=new me,K=new Gt;W.ba=K,K.S=q,K.width=[K.width],K.height=[K.height];var J=K.width,ee=K.height,ue=new bt;if(ue==null||m==null)var xe=2;else e(ue!=null),xe=Zl(m,x,k,ue.width,ue.height,ue.Pd,ue.Qd,ue.format,null);if(xe!=0?J=0:(J!=null&&(J[0]=ue.width[0]),ee!=null&&(ee[0]=ue.height[0]),J=1),J){K.width=K.width[0],K.height=K.height[0],L!=null&&(L[0]=K.width),B!=null&&(B[0]=K.height);e:{if(L=new lu,(B=new Ne).data=m,B.w=x,B.ha=k,B.kd=1,x=[0],e(B!=null),((m=Zl(B.data,B.w,B.ha,null,null,null,x,null,B))==0||m==7)&&x[0]&&(m=4),(x=m)==0){if(e(W!=null),L.data=B.data,L.w=B.w+B.offset,L.ha=B.ha-B.offset,L.put=mt,L.ac=es,L.bc=Ps,L.ma=W,B.xa){if((m=$l())==null){W=1;break e}if(function(te,de){var ye=[0],Se=[0],be=[0];t:for(;;){if(te==null)return 0;if(de==null)return te.a=2,0;if(te.l=de,te.a=0,X(te.m,de.data,de.w,de.ha),!Es(te.m,ye,Se,be)){te.a=3;break t}if(te.xb=jj,de.width=ye[0],de.height=Se[0],!rs(ye[0],Se[0],1,te,null))break t;return 1}return e(te.a!=0),0}(m,L)){if(L=(x=Oo(L.width,L.height,W.Oa,W.ba))==0){t:{L=m;r:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((k=L.l)!=null),e((B=k.ma)!=null),L.xb!=0){if(L.ca=B.ba,L.tb=B.tb,e(L.ca!=null),!Ff(B.Oa,k,Hm)){L.a=2;break r}if(!Rl(L,k.width)||k.da)break r;if((k.da||Nt(L.ca.S))&&ea(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&ea()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!Q(L.s.vb,L.s.Wa.Xa)){L.a=1;break r}L.xb=0}if(!Aa(L,L.V,L.Ba,L.c,L.i,k.o,jo))break r;B.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(x=m.a)}else x=m.a}else{if((m=new N1)==null){W=1;break e}if(m.Fa=B.na,m.P=B.P,m.qc=B.Sa,Em(m,L)){if((x=Oo(L.width,L.height,W.Oa,W.ba))==0){if(m.Aa=0,k=W.Oa,e((B=m)!=null),k!=null){if(0<(J=0>(J=k.Md)?0:100<J?255:255*J/100)){for(ee=ue=0;4>ee;++ee)12>(xe=B.pb[ee]).lc&&(xe.ia=J*l7[0>xe.lc?0:xe.lc]>>3),ue|=xe.ia;ue&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=k.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(te,de){if(te==null)return 0;if(de==null)return Qr(te,2,"NULL VP8Io parameter in VP8Decode().");if(!te.cb&&!Em(te,de))return 0;if(e(te.cb),de.ac==null||de.ac(de)){de.ob&&(te.L=0);var ye=Xm[te.L];if(te.L==2?(te.yb=0,te.zb=0):(te.yb=de.v-ye>>4,te.zb=de.j-ye>>4,0>te.yb&&(te.yb=0),0>te.zb&&(te.zb=0)),te.Va=de.o+15+ye>>4,te.Hb=de.va+15+ye>>4,te.Hb>te.za&&(te.Hb=te.za),te.Va>te.Ub&&(te.Va=te.Ub),0<te.L){var Se=te.ed;for(ye=0;4>ye;++ye){var be;if(te.Qa.Cb){var Ae=te.Qa.Lb[ye];te.Qa.Fb||(Ae+=Se.Tb)}else Ae=Se.Tb;for(be=0;1>=be;++be){var ke=te.gd[ye][be],Me=Ae;if(Se.Pc&&(Me+=Se.vd[0],be&&(Me+=Se.od[0])),0<(Me=0>Me?0:63<Me?63:Me)){var Te=Me;0<Se.wb&&(Te=4<Se.wb?Te>>2:Te>>1)>9-Se.wb&&(Te=9-Se.wb),1>Te&&(Te=1),ke.dd=Te,ke.tc=2*Me+Te,ke.ld=40<=Me?2:15<=Me?1:0}else ke.tc=0;ke.La=be}}}ye=0}else Qr(te,6,"Frame setup failed"),ye=te.a;if(ye=ye==0){if(ye){te.$c=0,0<te.Aa||(te.Ic=c7);t:{ye=te.Ic,Se=4*(Te=te.za);var ut=32*Te,Je=Te+1,$t=0<te.L?Te*(0<te.Aa?2:1):0,it=(te.Aa==2?2:1)*Te;if((ke=Se+832+(be=3*(16*ye+Xm[te.L])/2*ut)+(Ae=te.Fa!=null&&0<te.Fa.length?te.Kc.c*te.Kc.i:0))!=ke)ye=0;else{if(ke>te.Vb){if(te.Vb=0,te.Ec=a(ke),te.Fc=0,te.Ec==null){ye=Qr(te,1,"no memory during frame initialization.");break t}te.Vb=ke}ke=te.Ec,Me=te.Fc,te.Ac=ke,te.Bc=Me,Me+=Se,te.Gd=s(ut,km),te.Hd=0,te.rb=s(Je+1,kf),te.sb=1,te.wa=$t?s($t,Qi):null,te.Y=0,te.D.Nb=0,te.D.wa=te.wa,te.D.Y=te.Y,0<te.Aa&&(te.D.Y+=Te),e(!0),te.oc=ke,te.pc=Me,Me+=832,te.ya=s(it,Of),te.aa=0,te.D.ya=te.ya,te.D.aa=te.aa,te.Aa==2&&(te.D.aa+=Te),te.R=16*Te,te.B=8*Te,Te=(ut=Xm[te.L])*te.R,ut=ut/2*te.B,te.sa=ke,te.ta=Me+Te,te.qa=te.sa,te.ra=te.ta+16*ye*te.R+ut,te.Ha=te.qa,te.Ia=te.ra+8*ye*te.B+ut,te.$c=0,Me+=be,te.mb=Ae?ke:null,te.nb=Ae?Me:null,e(Me+Ae<=te.Fc+te.Vb),Ml(te),i(te.Ac,te.Bc,0,Se),ye=1}}if(ye){if(de.ka=0,de.y=te.sa,de.O=te.ta,de.f=te.qa,de.N=te.ra,de.ea=te.Ha,de.Vd=te.Ia,de.fa=te.R,de.Rc=te.B,de.F=null,de.J=0,!bj){for(ye=-255;255>=ye;++ye)mj[255+ye]=0>ye?-ye:ye;for(ye=-1020;1020>=ye;++ye)gj[1020+ye]=-128>ye?-128:127<ye?127:ye;for(ye=-112;112>=ye;++ye)vj[112+ye]=-16>ye?-16:15<ye?15:ye;for(ye=-255;510>=ye;++ye)yj[255+ye]=0>ye?0:255<ye?255:ye;bj=1}Io=Tm,tc=O1,ss=P1,er=ns,cr=Cm,ra=k1,Hr=$m,un=Rm,Ds=A,Gf=D,gu=Hl,Um=Mm,sj=re,oj=le,lj=Mf,cj=Wl,uj=Lm,dj=Im,ka[0]=R1,ka[1]=Ef,ka[2]=I1,ka[3]=$1,ka[4]=M1,ka[5]=Ls,ka[6]=Ts,ka[7]=D1,ka[8]=cu,ka[9]=B1,$o[0]=No,$o[1]=C1,$o[2]=T1,$o[3]=Cf,$o[4]=L1,$o[5]=Fl,$o[6]=Tf,Bs[0]=du,Bs[1]=E1,Bs[2]=Lf,Bs[3]=Ul,Bs[4]=If,Bs[5]=F1,Bs[6]=$f,ye=1}else ye=0}ye&&(ye=function(zt,dn){for(zt.M=0;zt.M<zt.Va;++zt.M){var Rt,at=zt.Jc[zt.M&zt.Xb],He=zt.m,Vr=zt;for(Rt=0;Rt<Vr.za;++Rt){var Tt=He,Wt=Vr,xr=Wt.Ac,Cn=Wt.Bc+4*Rt,Qn=Wt.zc,Dr=Wt.ya[Wt.aa+Rt];if(Wt.Qa.Bb?Dr.$b=ge(Tt,Wt.Pa.jb[0])?2+ge(Tt,Wt.Pa.jb[2]):ge(Tt,Wt.Pa.jb[1]):Dr.$b=0,Wt.kc&&(Dr.Ad=ge(Tt,Wt.Bd)),Dr.Za=!ge(Tt,145)+0,Dr.Za){var Un=Dr.Ob,ei=0;for(Wt=0;4>Wt;++Wt){var fn,Ht=Qn[0+Wt];for(fn=0;4>fn;++fn){Ht=KR[xr[Cn+fn]][Ht];for(var rr=Sj[ge(Tt,Ht[0])];0<rr;)rr=Sj[2*rr+ge(Tt,Ht[rr])];Ht=-rr,xr[Cn+fn]=Ht}n(Un,ei,xr,Cn,4),ei+=4,Qn[0+Wt]=Ht}}else Ht=ge(Tt,156)?ge(Tt,128)?1:3:ge(Tt,163)?2:0,Dr.Ob[0]=Ht,i(xr,Cn,Ht,4),i(Qn,0,Ht,4);Dr.Dd=ge(Tt,142)?ge(Tt,114)?ge(Tt,183)?1:3:2:0}if(Vr.m.Ka)return Qr(zt,7,"Premature end-of-partition0 encountered.");for(;zt.ja<zt.za;++zt.ja){if(Vr=at,Tt=(He=zt).rb[He.sb-1],xr=He.rb[He.sb+He.ja],Rt=He.ya[He.aa+He.ja],Cn=He.kc?Rt.Ad:0)Tt.la=xr.la=0,Rt.Za||(Tt.Na=xr.Na=0),Rt.Hc=0,Rt.Gc=0,Rt.ia=0;else{var Br,nr;if(Tt=xr,xr=Vr,Cn=He.Pa.Xc,Qn=He.ya[He.aa+He.ja],Dr=He.pb[Qn.$b],Wt=Qn.ad,Un=0,ei=He.rb[He.sb-1],Ht=fn=0,i(Wt,Un,0,384),Qn.Za)var Tn=0,Oa=Cn[3];else{rr=a(16);var Gr=Tt.Na+ei.Na;if(Gr=Yf(xr,Cn[1],Gr,Dr.Eb,0,rr,0),Tt.Na=ei.Na=(0<Gr)+0,1<Gr)Io(rr,0,Wt,Un);else{var fi=rr[0]+3>>3;for(rr=0;256>rr;rr+=16)Wt[Un+rr]=fi}Tn=1,Oa=Cn[0]}var ur=15&Tt.la,hn=15&ei.la;for(rr=0;4>rr;++rr){var ki=1&hn;for(fi=nr=0;4>fi;++fi)ur=ur>>1|(ki=(Gr=Yf(xr,Oa,Gr=ki+(1&ur),Dr.Sc,Tn,Wt,Un))>Tn)<<7,nr=nr<<2|(3<Gr?3:1<Gr?2:Wt[Un+0]!=0),Un+=16;ur>>=4,hn=hn>>1|ki<<7,fn=(fn<<8|nr)>>>0}for(Oa=ur,Tn=hn>>4,Br=0;4>Br;Br+=2){for(nr=0,ur=Tt.la>>4+Br,hn=ei.la>>4+Br,rr=0;2>rr;++rr){for(ki=1&hn,fi=0;2>fi;++fi)Gr=ki+(1&ur),ur=ur>>1|(ki=0<(Gr=Yf(xr,Cn[2],Gr,Dr.Qc,0,Wt,Un)))<<3,nr=nr<<2|(3<Gr?3:1<Gr?2:Wt[Un+0]!=0),Un+=16;ur>>=2,hn=hn>>1|ki<<5}Ht|=nr<<4*Br,Oa|=ur<<4<<Br,Tn|=(240&hn)<<Br}Tt.la=Oa,ei.la=Tn,Qn.Hc=fn,Qn.Gc=Ht,Qn.ia=43690&Ht?0:Dr.ia,Cn=!(fn|Ht)}if(0<He.L&&(He.wa[He.Y+He.ja]=He.gd[Rt.$b][Rt.Za],He.wa[He.Y+He.ja].La|=!Cn),Vr.Ka)return Qr(zt,7,"Premature end-of-file encountered.")}if(Ml(zt),He=dn,Vr=1,Rt=(at=zt).D,Tt=0<at.L&&at.M>=at.zb&&at.M<=at.Va,at.Aa==0)t:{if(Rt.M=at.M,Rt.uc=Tt,ta(at,Rt),Vr=1,Rt=(nr=at.D).Nb,Tt=(Ht=Xm[at.L])*at.R,xr=Ht/2*at.B,rr=16*Rt*at.R,fi=8*Rt*at.B,Cn=at.sa,Qn=at.ta-Tt+rr,Dr=at.qa,Wt=at.ra-xr+fi,Un=at.Ha,ei=at.Ia-xr+fi,hn=(ur=nr.M)==0,fn=ur>=at.Va-1,at.Aa==2&&ta(at,nr),nr.uc)for(ki=(Gr=at).D.M,e(Gr.D.uc),nr=Gr.yb;nr<Gr.Hb;++nr){Tn=nr,Oa=ki;var ti=(Oi=(Ln=Gr).D).Nb;Br=Ln.R;var Oi=Oi.wa[Oi.Y+Tn],Pi=Ln.sa,hi=Ln.ta+16*ti*Br+16*Tn,Ei=Oi.dd,pr=Oi.tc;if(pr!=0)if(e(3<=pr),Ln.L==1)0<Tn&&cj(Pi,hi,Br,pr+4),Oi.La&&dj(Pi,hi,Br,pr),0<Oa&&lj(Pi,hi,Br,pr+4),Oi.La&&uj(Pi,hi,Br,pr);else{var Ci=Ln.B,Pa=Ln.qa,rc=Ln.ra+8*ti*Ci+8*Tn,Fs=Ln.Ha,Ln=Ln.Ia+8*ti*Ci+8*Tn;ti=Oi.ld,0<Tn&&(un(Pi,hi,Br,pr+4,Ei,ti),Gf(Pa,rc,Fs,Ln,Ci,pr+4,Ei,ti)),Oi.La&&(Um(Pi,hi,Br,pr,Ei,ti),oj(Pa,rc,Fs,Ln,Ci,pr,Ei,ti)),0<Oa&&(Hr(Pi,hi,Br,pr+4,Ei,ti),Ds(Pa,rc,Fs,Ln,Ci,pr+4,Ei,ti)),Oi.La&&(gu(Pi,hi,Br,pr,Ei,ti),sj(Pa,rc,Fs,Ln,Ci,pr,Ei,ti))}}if(at.ia&&alert("todo:DitherRow"),He.put!=null){if(nr=16*ur,ur=16*(ur+1),hn?(He.y=at.sa,He.O=at.ta+rr,He.f=at.qa,He.N=at.ra+fi,He.ea=at.Ha,He.W=at.Ia+fi):(nr-=Ht,He.y=Cn,He.O=Qn,He.f=Dr,He.N=Wt,He.ea=Un,He.W=ei),fn||(ur-=Ht),ur>He.o&&(ur=He.o),He.F=null,He.J=null,at.Fa!=null&&0<at.Fa.length&&nr<ur&&(He.J=en(at,He,nr,ur-nr),He.F=at.mb,He.F==null&&He.F.length==0)){Vr=Qr(at,3,"Could not decode alpha data.");break t}nr<He.j&&(Ht=He.j-nr,nr=He.j,e(!(1&Ht)),He.O+=at.R*Ht,He.N+=at.B*(Ht>>1),He.W+=at.B*(Ht>>1),He.F!=null&&(He.J+=He.width*Ht)),nr<ur&&(He.O+=He.v,He.N+=He.v>>1,He.W+=He.v>>1,He.F!=null&&(He.J+=He.v),He.ka=nr-He.j,He.U=He.va-He.v,He.T=ur-nr,Vr=He.put(He))}Rt+1!=at.Ic||fn||(n(at.sa,at.ta-Tt,Cn,Qn+16*at.R,Tt),n(at.qa,at.ra-xr,Dr,Wt+8*at.B,xr),n(at.Ha,at.Ia-xr,Un,ei+8*at.B,xr))}if(!Vr)return Qr(zt,6,"Output aborted.")}return 1}(te,de)),de.bc!=null&&de.bc(de),ye&=1}return ye?(te.cb=0,ye):0})(m,L)||(x=m.a)}}else x=m.a}x==0&&W.Oa!=null&&W.Oa.fd&&(x=Uf(W.ba))}W=x}q=W!=0?null:11>q?K.f.RGBA.eb:K.f.kb.y}else q=null;return q};var Cj=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(I,F){for(var O="",T=0;T<4;T++)O+=String.fromCharCode(I[F++]);return O}function u(I,F){return I[F+0]|I[F+1]<<8}function f(I,F){return(I[F+0]|I[F+1]<<8|I[F+2]<<16)>>>0}function p(I,F){return(I[F+0]|I[F+1]<<8|I[F+2]<<16|I[F+3]<<24)>>>0}new l;var h=[0],v=[0],g=[],b=new l,y=t,w=function(I,F){var O={},T=0,M=!1,R=0,U=0;if(O.frames=[],!function(E,z){for(var V=0;V<4;V++)if(E[z+V]!="RIFF".charCodeAt(V))return!0;return!1}(I,F)){for(p(I,F+=4),F+=8;F<I.length;){var H=c(I,F),G=p(I,F+=4);F+=4;var $=G+(1&G);switch(H){case"VP8 ":case"VP8L":O.frames[T]===void 0&&(O.frames[T]={}),(ie=O.frames[T]).src_off=M?U:F-8,ie.src_size=R+G+8,T++,M&&(M=!1,R=0,U=0);break;case"VP8X":(ie=O.header={}).feature_flags=I[F];var X=F+4;ie.canvas_width=1+f(I,X),X+=3,ie.canvas_height=1+f(I,X),X+=3;break;case"ALPH":M=!0,R=$+8,U=F-8;break;case"ANIM":(ie=O.header).bgcolor=p(I,F),X=F+4,ie.loop_count=u(I,X),X+=2;break;case"ANMF":var ae,ie;(ie=O.frames[T]={}).offset_x=2*f(I,F),F+=3,ie.offset_y=2*f(I,F),F+=3,ie.width=1+f(I,F),F+=3,ie.height=1+f(I,F),F+=3,ie.duration=f(I,F),F+=3,ae=I[F++],ie.dispose=1&ae,ie.blend=ae>>1&1}H!="ANMF"&&(F+=$)}return O}}(y,0);w.response=y,w.rgbaoutput=!0,w.dataurl=!1;var _=w.header?w.header:null,j=w.frames?w.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],v=[_.canvas_width];for(var S=0;S<j.length&&j[S].blend!=0;S++);}var N=j[0],P=b.WebPDecodeRGBA(y,N.src_off,N.src_size,v,h);N.rgba=P,N.imgwidth=v[0],N.imgheight=h[0];for(var C=0;C<v[0]*h[0]*4;C++)g[C]=P[C];return this.width=v,this.height=h,this.data=g,this}(function(t){var e,r,n,i,a,s,o,l,c,u=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new l,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new s,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new s,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=E;Object.defineProperty(this,"pdf",{get:function(){return z}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(pe){V=!!pe}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(pe){Z=!!pe}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(pe){isNaN(pe)||(ne=pe)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(pe){isNaN(pe)||(ce=pe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(pe){var Q;typeof pe=="number"?Q=[pe,pe,pe,pe]:((Q=new Array(4))[0]=pe[0],Q[1]=pe.length>=2?pe[1]:Q[0],Q[2]=pe.length>=3?pe[2]:Q[0],Q[3]=pe.length>=4?pe[3]:Q[1]),c.margin=Q}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(pe){ve=pe}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(pe){se=pe}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(pe){ge=pe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(pe){pe instanceof u&&(c=pe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(pe){c.path=pe}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(pe){_e=pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pe){var Q;Q=p(pe),this.ctx.fillStyle=Q.style,this.ctx.isFillTransparent=Q.a===0,this.ctx.fillOpacity=Q.a,this.pdf.setFillColor(Q.r,Q.g,Q.b,{a:Q.a}),this.pdf.setTextColor(Q.r,Q.g,Q.b,{a:Q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pe){var Q=p(pe);this.ctx.strokeStyle=Q.style,this.ctx.isStrokeTransparent=Q.a===0,this.ctx.strokeOpacity=Q.a,Q.a===0?this.pdf.setDrawColor(255,255,255):(Q.a,this.pdf.setDrawColor(Q.r,Q.g,Q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pe){["butt","round","square"].indexOf(pe)!==-1&&(this.ctx.lineCap=pe,this.pdf.setLineCap(pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pe){isNaN(pe)||(this.ctx.lineWidth=pe,this.pdf.setLineWidth(pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pe){["bevel","round","miter"].indexOf(pe)!==-1&&(this.ctx.lineJoin=pe,this.pdf.setLineJoin(pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pe){isNaN(pe)||(this.ctx.miterLimit=pe,this.pdf.setMiterLimit(pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pe){this.ctx.textBaseline=pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pe){["right","end","center","left","start"].indexOf(pe)!==-1&&(this.ctx.textAlign=pe)}});var he=null,$e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(pe){he=null,$e=pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pe){var Q;if(this.ctx.font=pe,(Q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(pe))!==null){var et=Q[1];Q[2];var tt=Q[3],Ke=Q[4];Q[5];var fe=Q[6],Re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ke)[2];Ke=Math.floor(Re==="px"?parseFloat(Ke)*this.pdf.internal.scaleFactor:Re==="em"?parseFloat(Ke)*this.pdf.getFontSize():parseFloat(Ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ke);var Pe=function(We){var qe,St,Lt=[],rt=We.trim();if(rt==="")return Ix;if(rt in tE)return[tE[rt]];for(;rt!=="";){switch(St=null,qe=(rt=nE(rt)).charAt(0)){case'"':case"'":St=Fye(rt.substring(1),qe);break;default:St=Uye(rt)}if(St===null||(Lt.push(St[0]),(rt=nE(St[1]))!==""&&rt.charAt(0)!==","))return Ix;rt=rt.replace(/^,/,"")}return Lt}(fe);if(this.fontFaces){var we=function(We,qe){if(he===null){var St=function(Lt){var rt=[];return Object.keys(Lt).forEach(function(yt){Lt[yt].forEach(function(Dt){var lt=null;switch(Dt){case"bold":lt={family:yt,weight:"bold"};break;case"italic":lt={family:yt,style:"italic"};break;case"bolditalic":lt={family:yt,weight:"bold",style:"italic"};break;case"":case"normal":lt={family:yt}}lt!==null&&(lt.ref={name:yt,style:Dt},rt.push(lt))})}),rt}(We.getFontList());he=function(Lt){for(var rt={},yt=0;yt<Lt.length;++yt){var Dt=Lx(Lt[yt]),lt=Dt.family,It=Dt.stretch,Nt=Dt.style,Pr=Dt.weight;rt[lt]=rt[lt]||{},rt[lt][It]=rt[lt][It]||{},rt[lt][It][Nt]=rt[lt][It][Nt]||{},rt[lt][It][Nt][Pr]=Dt}return rt}(St.concat(qe))}return he}(this.pdf,this.fontFaces),Oe=Pe.map(function(We){return{family:We,stretch:"normal",weight:tt,style:et}}),Ce=function(We,qe,St){for(var Lt=(St=St||{}).defaultFontFamily||"times",rt=Object.assign({},Bye,St.genericFontFamilies||{}),yt=null,Dt=null,lt=0;lt<qe.length;++lt)if(rt[(yt=Lx(qe[lt])).family]&&(yt.family=rt[yt.family]),We.hasOwnProperty(yt.family)){Dt=We[yt.family];break}if(!(Dt=Dt||We[Lt]))throw new Error("Could not find a font-family for the rule '"+rE(yt)+"' and default family '"+Lt+"'.");if(Dt=function(It,Nt){if(Nt[It])return Nt[It];var Pr=$5[It],Er=Pr<=$5.normal?-1:1,Gt=eE(Nt,CR,Pr,Er);if(!Gt)throw new Error("Could not find a matching font-stretch value for "+It);return Gt}(yt.stretch,Dt),Dt=function(It,Nt){if(Nt[It])return Nt[It];for(var Pr=ER[It],Er=0;Er<Pr.length;++Er)if(Nt[Pr[Er]])return Nt[Pr[Er]];throw new Error("Could not find a matching font-style for "+It)}(yt.style,Dt),!(Dt=function(It,Nt){if(Nt[It])return Nt[It];if(It===400&&Nt[500])return Nt[500];if(It===500&&Nt[400])return Nt[400];var Pr=Dye[It],Er=eE(Nt,TR,Pr,It<400?-1:1);if(!Er)throw new Error("Could not find a matching font-weight for value "+It);return Er}(yt.weight,Dt)))throw new Error("Failed to resolve a font for the rule '"+rE(yt)+"'.");return Dt}(we,Oe);this.pdf.setFont(Ce.ref.name,Ce.ref.style)}else{var Ie="";(tt==="bold"||parseInt(tt,10)>=700||et==="bold")&&(Ie="bold"),et==="italic"&&(Ie+="italic"),Ie.length===0&&(Ie="normal");for(var ze="",ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ve=0;Ve<Pe.length;Ve++){if(this.pdf.internal.getFont(Pe[Ve],Ie,{noFallback:!0,disableWarning:!0})!==void 0){ze=Pe[Ve];break}if(Ie==="bolditalic"&&this.pdf.internal.getFont(Pe[Ve],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ze=Pe[Ve],Ie="bold";else if(this.pdf.internal.getFont(Pe[Ve],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ze=Pe[Ve],Ie="normal";break}}if(ze===""){for(var Ue=0;Ue<Pe.length;Ue++)if(ht[Pe[Ue]]){ze=ht[Pe[Ue]];break}}ze=ze===""?"Times":ze,this.pdf.setFont(ze,Ie)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pe){this.ctx.globalCompositeOperation=pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pe){this.ctx.globalAlpha=pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pe){this.ctx.lineDashOffset=pe,ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pe){this.ctx.lineDash=pe,ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pe){this.ctx.ignoreClearRect=!!pe}})};f.prototype.setLineDash=function(E){this.lineDash=E},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){j.call(this,"fill",!1)},f.prototype.stroke=function(){j.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(E,z){if(isNaN(E)||isNaN(z))throw dr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new s(E,z));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(E,z)},f.prototype.closePath=function(){var E=new s(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&ir(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){E=new s(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(E.x,E.y)},f.prototype.lineTo=function(E,z){if(isNaN(E)||isNaN(z))throw dr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new s(E,z));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(V.x,V.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},f.prototype.quadraticCurveTo=function(E,z,V,Z){if(isNaN(V)||isNaN(Z)||isNaN(E)||isNaN(z))throw dr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new s(V,Z)),ce=this.ctx.transform.applyToPoint(new s(E,z));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new s(ne.x,ne.y)},f.prototype.bezierCurveTo=function(E,z,V,Z,ne,ce){if(isNaN(ne)||isNaN(ce)||isNaN(E)||isNaN(z)||isNaN(V)||isNaN(Z))throw dr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new s(ne,ce)),se=this.ctx.transform.applyToPoint(new s(E,z)),ge=this.ctx.transform.applyToPoint(new s(V,Z));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:ge.x,y2:ge.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new s(ve.x,ve.y)},f.prototype.arc=function(E,z,V,Z,ne,ce){if(isNaN(E)||isNaN(z)||isNaN(V)||isNaN(Z)||isNaN(ne))throw dr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new s(E,z));E=ve.x,z=ve.y;var se=this.ctx.transform.applyToPoint(new s(0,V)),ge=this.ctx.transform.applyToPoint(new s(0,0));V=Math.sqrt(Math.pow(se.x-ge.x,2)+Math.pow(se.y-ge.y,2))}Math.abs(ne-Z)>=2*Math.PI&&(Z=0,ne=2*Math.PI),this.path.push({type:"arc",x:E,y:z,radius:V,startAngle:Z,endAngle:ne,counterclockwise:ce})},f.prototype.arcTo=function(E,z,V,Z,ne){throw new Error("arcTo not implemented.")},f.prototype.rect=function(E,z,V,Z){if(isNaN(E)||isNaN(z)||isNaN(V)||isNaN(Z))throw dr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,z),this.lineTo(E+V,z),this.lineTo(E+V,z+Z),this.lineTo(E,z+Z),this.lineTo(E,z),this.lineTo(E+V,z),this.lineTo(E,z)},f.prototype.fillRect=function(E,z,V,Z){if(isNaN(E)||isNaN(z)||isNaN(V)||isNaN(Z))throw dr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,z,V,Z),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},f.prototype.strokeRect=function(E,z,V,Z){if(isNaN(E)||isNaN(z)||isNaN(V)||isNaN(Z))throw dr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(E,z,V,Z),this.stroke())},f.prototype.clearRect=function(E,z,V,Z){if(isNaN(E)||isNaN(z)||isNaN(V)||isNaN(Z))throw dr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,z,V,Z))},f.prototype.save=function(E){E=typeof E!="boolean"||E;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},f.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(z),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(E){var z,V,Z,ne;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))z=0,V=0,Z=0,ne=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(ce!==null)z=parseInt(ce[1]),V=parseInt(ce[2]),Z=parseInt(ce[3]),ne=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)z=parseInt(ce[1]),V=parseInt(ce[2]),Z=parseInt(ce[3]),ne=parseFloat(ce[4]);else{if(ne=1,typeof E=="string"&&E.charAt(0)!=="#"){var ve=new SR(E);E=ve.ok?ve.toHex():"#000000"}E.length===4?(z=E.substring(1,2),z+=z,V=E.substring(2,3),V+=V,Z=E.substring(3,4),Z+=Z):(z=E.substring(1,3),V=E.substring(3,5),Z=E.substring(5,7)),z=parseInt(z,16),V=parseInt(V,16),Z=parseInt(Z,16)}}return{r:z,g:V,b:Z,a:ne,style:E}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(E,z,V,Z){if(isNaN(z)||isNaN(V)||typeof E!="string")throw dr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!h.call(this)){var ne=$(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;T.call(this,{text:E,x:z,y:V,scale:ce,angle:ne,align:this.textAlign,maxWidth:Z})}},f.prototype.strokeText=function(E,z,V,Z){if(isNaN(z)||isNaN(V)||typeof E!="string")throw dr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){Z=isNaN(Z)?void 0:Z;var ne=$(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;T.call(this,{text:E,x:z,y:V,scale:ce,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:Z})}},f.prototype.measureText=function(E){if(typeof E!="string")throw dr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,V=this.pdf.internal.scaleFactor,Z=z.internal.getFontSize(),ne=z.getStringUnitWidth(E)*Z/z.internal.scaleFactor;return new function(ce){var ve=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this}({width:ne*=Math.round(96*V/72*1e4)/1e4})},f.prototype.scale=function(E,z){if(isNaN(E)||isNaN(z))throw dr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(E,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.rotate=function(E){if(isNaN(E))throw dr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.translate=function(E,z){if(isNaN(E)||isNaN(z))throw dr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,E,z);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.transform=function(E,z,V,Z,ne,ce){if(isNaN(E)||isNaN(z)||isNaN(V)||isNaN(Z)||isNaN(ne)||isNaN(ce))throw dr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new l(E,z,V,Z,ne,ce);this.ctx.transform=this.ctx.transform.multiply(ve)},f.prototype.setTransform=function(E,z,V,Z,ne,ce){E=isNaN(E)?1:E,z=isNaN(z)?0:z,V=isNaN(V)?0:V,Z=isNaN(Z)?1:Z,ne=isNaN(ne)?0:ne,ce=isNaN(ce)?0:ce,this.ctx.transform=new l(E,z,V,Z,ne,ce)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(E,z,V,Z,ne,ce,ve,se,ge){var _e=this.pdf.getImageProperties(E),he=1,$e=1,pe=1,Q=1;Z!==void 0&&se!==void 0&&(pe=se/Z,Q=ge/ne,he=_e.width/Z*se/Z,$e=_e.height/ne*ge/ne),ce===void 0&&(ce=z,ve=V,z=0,V=0),Z!==void 0&&se===void 0&&(se=Z,ge=ne),Z===void 0&&se===void 0&&(se=_e.width,ge=_e.height);for(var et,tt=this.ctx.transform.decompose(),Ke=$(tt.rotate.shx),fe=new l,Re=(fe=(fe=(fe=fe.multiply(tt.translate)).multiply(tt.skew)).multiply(tt.scale)).applyToRectangle(new o(ce-z*pe,ve-V*Q,Z*he,ne*$e)),Pe=b.call(this,Re),we=[],Oe=0;Oe<Pe.length;Oe+=1)we.indexOf(Pe[Oe])===-1&&we.push(Pe[Oe]);if(_(we),this.autoPaging)for(var Ce=we[0],Ie=we[we.length-1],ze=Ce;ze<Ie+1;ze++){this.pdf.setPage(ze);var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=ze===1?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=ze===1?0:Ue+(ze-2)*We;if(this.ctx.clip_path.length!==0){var St=this.path;et=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(et,this.posX+this.margin[3],-qe+Ve+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=St}var Lt=JSON.parse(JSON.stringify(Re));Lt=w([Lt],this.posX+this.margin[3],-qe+Ve+this.ctx.prevPageLastElemOffset)[0];var rt=(ze>Ce||ze<Ie)&&g.call(this);rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,We,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",Lt.x,Lt.y,Lt.w,Lt.h,null,null,Ke),rt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(E,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,Ke)};var b=function(E,z,V){var Z=[];z=z||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":Z.push(Math.floor((E.y+ne)/V)+1);break;case"arc":Z.push(Math.floor((E.y+ne-E.radius)/V)+1),Z.push(Math.floor((E.y+ne+E.radius)/V)+1);break;case"qct":var ce=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);Z.push(Math.floor((ce.y+ne)/V)+1),Z.push(Math.floor((ce.y+ce.h+ne)/V)+1);break;case"bct":var ve=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);Z.push(Math.floor((ve.y+ne)/V)+1),Z.push(Math.floor((ve.y+ve.h+ne)/V)+1);break;case"rect":Z.push(Math.floor((E.y+ne)/V)+1),Z.push(Math.floor((E.y+E.h+ne)/V)+1)}for(var se=0;se<Z.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<Z[se];)y.call(this);return Z},y=function(){var E=this.fillStyle,z=this.strokeStyle,V=this.font,Z=this.lineCap,ne=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=z,this.font=V,this.lineCap=Z,this.lineWidth=ne,this.lineJoin=ce},w=function(E,z,V){for(var Z=0;Z<E.length;Z++)switch(E[Z].type){case"bct":E[Z].x2+=z,E[Z].y2+=V;case"qct":E[Z].x1+=z,E[Z].y1+=V;default:E[Z].x+=z,E[Z].y+=V}return E},_=function(E){return E.sort(function(z,V){return z-V})},j=function(E,z){for(var V,Z,ne=this.fillStyle,ce=this.strokeStyle,ve=this.lineCap,se=this.lineWidth,ge=Math.abs(se*this.ctx.transform.scaleX),_e=this.lineJoin,he=JSON.parse(JSON.stringify(this.path)),$e=JSON.parse(JSON.stringify(this.path)),pe=[],Q=0;Q<$e.length;Q++)if($e[Q].x!==void 0)for(var et=b.call(this,$e[Q]),tt=0;tt<et.length;tt+=1)pe.indexOf(et[tt])===-1&&pe.push(et[tt]);for(var Ke=0;Ke<pe.length;Ke++)for(;this.pdf.internal.getNumberOfPages()<pe[Ke];)y.call(this);if(_(pe),this.autoPaging)for(var fe=pe[0],Re=pe[pe.length-1],Pe=fe;Pe<Re+1;Pe++){this.pdf.setPage(Pe),this.fillStyle=ne,this.strokeStyle=ce,this.lineCap=ve,this.lineWidth=ge,this.lineJoin=_e;var we=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Oe=Pe===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ie=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=Pe===1?0:Ce+(Pe-2)*Ie;if(this.ctx.clip_path.length!==0){var ht=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(V,this.posX+this.margin[3],-ze+Oe+this.ctx.prevPageLastElemOffset),S.call(this,E,!0),this.path=ht}if(Z=JSON.parse(JSON.stringify(he)),this.path=w(Z,this.posX+this.margin[3],-ze+Oe+this.ctx.prevPageLastElemOffset),z===!1||Pe===0){var Ve=(Pe>fe||Pe<Re)&&g.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],we,Ie,null).clip().discardPath()),S.call(this,E,z),Ve&&this.pdf.restoreGraphicsState()}this.lineWidth=se}else this.lineWidth=ge,S.call(this,E,z),this.lineWidth=se;this.path=he},S=function(E,z){if((E!=="stroke"||z||!v.call(this))&&(E==="stroke"||z||!h.call(this))){for(var V,Z,ne=[],ce=this.path,ve=0;ve<ce.length;ve++){var se=ce[ve];switch(se.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:se,deltas:[],abs:[]});break;case"lt":var ge=ne.length;if(ce[ve-1]&&!isNaN(ce[ve-1].x)&&(V=[se.x-ce[ve-1].x,se.y-ce[ve-1].y],ge>0)){for(;ge>=0;ge--)if(ne[ge-1].close!==!0&&ne[ge-1].begin!==!0){ne[ge-1].deltas.push(V),ne[ge-1].abs.push(se);break}}break;case"bct":V=[se.x1-ce[ve-1].x,se.y1-ce[ve-1].y,se.x2-ce[ve-1].x,se.y2-ce[ve-1].y,se.x-ce[ve-1].x,se.y-ce[ve-1].y],ne[ne.length-1].deltas.push(V);break;case"qct":var _e=ce[ve-1].x+2/3*(se.x1-ce[ve-1].x),he=ce[ve-1].y+2/3*(se.y1-ce[ve-1].y),$e=se.x+2/3*(se.x1-se.x),pe=se.y+2/3*(se.y1-se.y),Q=se.x,et=se.y;V=[_e-ce[ve-1].x,he-ce[ve-1].y,$e-ce[ve-1].x,pe-ce[ve-1].y,Q-ce[ve-1].x,et-ce[ve-1].y],ne[ne.length-1].deltas.push(V);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(se)}}Z=z?null:E==="stroke"?"stroke":"fill";for(var tt=!1,Ke=0;Ke<ne.length;Ke++)if(ne[Ke].arc)for(var fe=ne[Ke].abs,Re=0;Re<fe.length;Re++){var Pe=fe[Re];Pe.type==="arc"?C.call(this,Pe.x,Pe.y,Pe.radius,Pe.startAngle,Pe.endAngle,Pe.counterclockwise,void 0,z,!tt):M.call(this,Pe.x,Pe.y),tt=!0}else if(ne[Ke].close===!0)this.pdf.internal.out("h"),tt=!1;else if(ne[Ke].begin!==!0){var we=ne[Ke].start.x,Oe=ne[Ke].start.y;R.call(this,ne[Ke].deltas,we,Oe),tt=!0}Z&&I.call(this,Z),z&&F.call(this)}},N=function(E){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-V;case"top":return E+z-V;case"hanging":return E+z-2*V;case"middle":return E+z/2-V;default:return E}},P=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function(z,V){this.colorStops.push([z,V])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(E,z,V,Z,ne,ce,ve,se,ge){for(var _e=H.call(this,V,Z,ne,ce),he=0;he<_e.length;he++){var $e=_e[he];he===0&&(ge?O.call(this,$e.x1+E,$e.y1+z):M.call(this,$e.x1+E,$e.y1+z)),U.call(this,E,z,$e.x2,$e.y2,$e.x3,$e.y3,$e.x4,$e.y4)}se?F.call(this):I.call(this,ve)},I=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(E,z){this.pdf.internal.out(r(E)+" "+n(z)+" m")},T=function(E){var z;switch(E.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var V=this.pdf.getTextDimensions(E.text),Z=N.call(this,E.y),ne=P.call(this,Z)-V.h,ce=this.ctx.transform.applyToPoint(new s(E.x,Z)),ve=this.ctx.transform.decompose(),se=new l;se=(se=(se=se.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var ge,_e,he,$e=this.ctx.transform.applyToRectangle(new o(E.x,Z,V.w,V.h)),pe=se.applyToRectangle(new o(E.x,ne,V.w,V.h)),Q=b.call(this,pe),et=[],tt=0;tt<Q.length;tt+=1)et.indexOf(Q[tt])===-1&&et.push(Q[tt]);if(_(et),this.autoPaging)for(var Ke=et[0],fe=et[et.length-1],Re=Ke;Re<fe+1;Re++){this.pdf.setPage(Re);var Pe=Re===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[2],Ce=Oe-this.margin[0],Ie=this.pdf.internal.pageSize.width-this.margin[1],ze=Ie-this.margin[3],ht=Re===1?0:we+(Re-2)*Ce;if(this.ctx.clip_path.length!==0){var Ve=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ge,this.posX+this.margin[3],-1*ht+Pe),S.call(this,"fill",!0),this.path=Ve}var Ue=w([JSON.parse(JSON.stringify(pe))],this.posX+this.margin[3],-ht+Pe+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*E.scale),he=this.lineWidth,this.lineWidth=he*E.scale);var We=this.autoPaging!=="text";if(We||Ue.y+Ue.h<=Oe){if(We||Ue.y>=Pe&&Ue.x<=Ie){var qe=We?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||Ie-Ue.x)[0],St=w([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-ht+Pe+this.ctx.prevPageLastElemOffset)[0],Lt=We&&(Re>Ke||Re<fe)&&g.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,Ce,null).clip().discardPath()),this.pdf.text(qe,St.x,St.y,{angle:E.angle,align:z,renderingMode:E.renderingMode}),Lt&&this.pdf.restoreGraphicsState()}}else Ue.y<Oe&&(this.ctx.prevPageLastElemOffset+=Oe-Ue.y);E.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=he)}else E.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*E.scale),he=this.lineWidth,this.lineWidth=he*E.scale),this.pdf.text(E.text,ce.x+this.posX,ce.y+this.posY,{angle:E.angle,align:z,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=he)},M=function(E,z,V,Z){V=V||0,Z=Z||0,this.pdf.internal.out(r(E+V)+" "+n(z+Z)+" l")},R=function(E,z,V){return this.pdf.lines(E,z,V,null,null)},U=function(E,z,V,Z,ne,ce,ve,se){this.pdf.internal.out([e(i(V+E)),e(a(Z+z)),e(i(ne+E)),e(a(ce+z)),e(i(ve+E)),e(a(se+z)),"c"].join(" "))},H=function(E,z,V,Z){for(var ne=2*Math.PI,ce=Math.PI/2;z>V;)z-=ne;var ve=Math.abs(V-z);ve<ne&&Z&&(ve=ne-ve);for(var se=[],ge=Z?-1:1,_e=z;ve>1e-5;){var he=_e+ge*Math.min(ve,ce);se.push(G.call(this,E,_e,he)),ve-=Math.abs(he-_e),_e=he}return se},G=function(E,z,V){var Z=(V-z)/2,ne=E*Math.cos(Z),ce=E*Math.sin(Z),ve=ne,se=-ce,ge=ve*ve+se*se,_e=ge+ve*ne+se*ce,he=4/3*(Math.sqrt(2*ge*_e)-_e)/(ve*ce-se*ne),$e=ve-he*se,pe=se+he*ve,Q=$e,et=-pe,tt=Z+z,Ke=Math.cos(tt),fe=Math.sin(tt);return{x1:E*Math.cos(z),y1:E*Math.sin(z),x2:$e*Ke-pe*fe,y2:$e*fe+pe*Ke,x3:Q*Ke-et*fe,y3:Q*fe+et*Ke,x4:E*Math.cos(V),y4:E*Math.sin(V)}},$=function(E){return 180*E/Math.PI},X=function(E,z,V,Z,ne,ce){var ve=E+.5*(V-E),se=z+.5*(Z-z),ge=ne+.5*(V-ne),_e=ce+.5*(Z-ce),he=Math.min(E,ne,ve,ge),$e=Math.max(E,ne,ve,ge),pe=Math.min(z,ce,se,_e),Q=Math.max(z,ce,se,_e);return new o(he,pe,$e-he,Q-pe)},ae=function(E,z,V,Z,ne,ce,ve,se){var ge,_e,he,$e,pe,Q,et,tt,Ke,fe,Re,Pe,we,Oe,Ce=V-E,Ie=Z-z,ze=ne-V,ht=ce-Z,Ve=ve-ne,Ue=se-ce;for(_e=0;_e<41;_e++)Ke=(et=(he=E+(ge=_e/40)*Ce)+ge*((pe=V+ge*ze)-he))+ge*(pe+ge*(ne+ge*Ve-pe)-et),fe=(tt=($e=z+ge*Ie)+ge*((Q=Z+ge*ht)-$e))+ge*(Q+ge*(ce+ge*Ue-Q)-tt),_e==0?(Re=Ke,Pe=fe,we=Ke,Oe=fe):(Re=Math.min(Re,Ke),Pe=Math.min(Pe,fe),we=Math.max(we,Ke),Oe=Math.max(Oe,fe));return new o(Math.round(Re),Math.round(Pe),Math.round(we-Re),Math.round(Oe-Pe))},ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,z,V=(E=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:z}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(dt.API),function(t){var e=function(s){var o,l,c,u,f,p,h,v,g,b;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(p=(f=((f=((f=((f=(f-(b=f%85))/85)-(g=f%85))/85)-(v=f%85))/85)-(h=f%85))/85)%85,l.push(p+33,h+33,v+33,g+33,b+33)):l.push(122);return function(y,w){for(var _=w;_>0;_--)y.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,c,u,f,p=String,h="length",v=255,g="charCodeAt",b="slice",y="replace";for(s[b](-2),s=s[b](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),c=[],u=0,f=(s+=o="uuuuu"[b](s[h]%5||5))[h];f>u;u+=5)l=52200625*(s[g](u)-33)+614125*(s[g](u+1)-33)+7225*(s[g](u+2)-33)+85*(s[g](u+3)-33)+(s[g](u+4)-33),c.push(v&l>>24,v&l>>16,v&l>>8,v&l);return function(w,_){for(var j=_;j>0;j--)w.pop()}(c,o[h]),p.fromCharCode.apply(p,c)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=O5(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(dt.API),function(t){t.loadFile=function(e,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,p=0,h=function(v){var g=v.length,b=[],y=String.fromCharCode;for(p=0;p<g;p+=1)b.push(y(255&v.charCodeAt(p)));return b.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(h(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return h(f.responseText)}(i,a,s)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(dt.API),function(t){function e(){return(xt.html2canvas?Promise.resolve(xt.html2canvas):mx(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(xt.DOMPurify?Promise.resolve(xt.DOMPurify):mx(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=ir(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var v=u[h],g=v.src.find(function(b){return b.format==="truetype"});g&&c.addFont(g.url,v.ref.name,v.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||dt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,f).then(function(p){return c.updateProgress(1),p})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),p=c.call(f,o,l);return s.convert(p,u.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,dt.getPageSize=function(o,l,c){if(ir(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var v,g=0,b=0;if(h.hasOwnProperty(p))g=h[p][1]/f,b=h[p][0]/f;else try{g=c[1],b=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",b>g&&(v=b,b=g,g=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>b&&(v=b,b=g,g=v)}return{width:b,height:g,unit:l,k:f,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Lx):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(dt.API),dt.API.addJS=function(t){return aE=t,this.internal.events.subscribe("postPutResources",function(){Zg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Zg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),iE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+aE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Zg!==void 0&&iE!==void 0&&this.internal.out("/Names <</JavaScript "+Zg+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var f=r.internal.newObject();u.push(f);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<u.length;a++)r.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(dt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,g={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=h,e.indexOf(f.charCodeAt(b+1))!==-1){p=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),g={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:p,numcomponents:f.charCodeAt(b+9)};break}h=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}}(dt.API),dt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=jye(t,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,c=a.palette,u=a.depth;i=c&&l===1?function(C){for(var I=C.width,F=C.height,O=C.data,T=C.palette,M=C.depth,R=!1,U=[],H=[],G=void 0,$=!1,X=0,ae=0;ae<T.length;ae++){var ie=cP(T[ae],4),E=ie[0],z=ie[1],V=ie[2],Z=ie[3];U.push(E,z,V),Z!=null&&(Z===0?(X++,H.length<1&&H.push(ae)):Z<255&&($=!0))}if($||X>1){R=!0,H=void 0;var ne=I*F;G=new Uint8Array(ne);for(var ce=new DataView(O.buffer),ve=0;ve<ne;ve++){var se=$x(ce,ve,M),ge=cP(T[se],4)[3];G[ve]=ge}}else X===0&&(H=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:R?8:void 0,colorBytes:O,alphaBytes:G,needSMask:R,palette:U,mask:H}}(a):l===2||l===4?function(C){for(var I=C.data,F=C.width,O=C.height,T=C.channels,M=C.depth,R=T===2?"DeviceGray":"DeviceRGB",U=T-1,H=F*O,G=U,$=H*G,X=1*H,ae=Math.ceil($*M/8),ie=Math.ceil(X*M/8),E=new Uint8Array(ae),z=new Uint8Array(ie),V=new DataView(I.buffer),Z=new DataView(E.buffer),ne=new DataView(z.buffer),ce=!1,ve=0;ve<H;ve++){for(var se=ve*T,ge=0;ge<G;ge++)pE(Z,$x(V,se+ge,M),ve*G+ge,M);var _e=$x(V,se+G,M);_e<(1<<M)-1&&(ce=!0),pE(ne,_e,1*ve,M)}return{colorSpace:R,colorsPerPixel:U,sMaskBitsPerComponent:ce?M:void 0,colorBytes:E,alphaBytes:z,needSMask:ce}}(a):function(C){var I=C.data,F=C.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?function(O){for(var T=O.length,M=new Uint8Array(2*T),R=new DataView(M.buffer,M.byteOffset,M.byteLength),U=0;U<T;U++)R.setUint16(2*U,O[U],!1);return M}(I):I,needSMask:!1}}(a);var f,p,h,v=i,g=v.colorSpace,b=v.colorsPerPixel,y=v.sMaskBitsPerComponent,w=v.colorBytes,_=v.alphaBytes,j=v.needSMask,S=v.palette,N=v.mask,P=null;return n!==dt.API.image_compression.NONE&&typeof O5=="function"?(P=function(C){var I;switch(C){case dt.API.image_compression.FAST:I=11;break;case dt.API.image_compression.MEDIUM:I=13;break;case dt.API.image_compression.SLOW:I=14;break;default:I=12}return I}(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(P," /Colors ").concat(b," /BitsPerComponent ").concat(u," /Columns ").concat(s),t=cE(w,Math.ceil(s*b*u/8),b,u,n),j&&(h=cE(_,Math.ceil(s*y/8),1,y,n))):(f=void 0,p=void 0,t=w,j&&(h=_)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:f,decodeParameters:p,transparency:N,palette:S,sMask:h,predictor:P,width:s,height:o,bitsPerComponent:u,sMaskBitsPerComponent:y,colorSpace:g}}},function(t){t.processGIF89A=function(e,r,n,i){var a=new Hye(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new Rx(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)},t.processGIF87A=t.processGIF89A}(dt.API),La.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},La.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){dr.log("bit decode error:"+r)}},La.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},La.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},La.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},La.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,c=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=t}},La.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/e*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},La.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},La.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},La.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var a=new La(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Rx(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(dt.API),gE.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var a=new gE(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Rx(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(dt.API),dt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=n[c],f=n[c+1],p=n[c+2],h=n[c+3];a[o++]=u,a[o++]=f,a[o++]=p,s[l++]=h}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:v,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},dt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Eu=dt.API,Qg=Eu.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,p=0,h=t.length,v=0,g=o[0]||l,b=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(p=f&&ir(c[n])==="object"&&!isNaN(parseInt(c[n][v],10))?c[n][v]/u:0,b.push((o[n]||g)/l+p)),v=n;return b},sE=Eu.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Eu.processArabic&&(t=Eu.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Qg.apply(this,arguments).reduce(function(a,s){return a+s},0)},oE=function(t,e,r,n){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<r;)o+=e[a],a++;i.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>n&&(i.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},lE=function(t,e,r){r||(r={});var n,i,a,s,o,l,c,u=[],f=[u],p=r.textIndent||0,h=0,v=0,g=t.split(" "),b=Qg.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),w=[];g.map(function(j){(j=j.split(/\s*\n/)).length>1?w=w.concat(j.map(function(S,N){return(N&&S.length?`
`:"")+S})):w.push(j[0])}),g=w,l=sE.apply(this,[y,r])}for(a=0,s=g.length;a<s;a++){var _=0;if(n=g[a],l&&n[0]==`
`&&(n=n.substr(1),_=1),p+h+(v=(i=Qg.apply(this,[n,r])).reduce(function(j,S){return j+S},0))>e||_){if(v>e){for(o=oE.apply(this,[n,i,e-(p+h),e]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);v=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(j,S){return j+S},0)}else u=[n];f.push(u),p=v+l,h=b}else u.push(n),p+=h+v,h=b}return c=l?function(j,S){return(S?y:"")+j.join(" ")}:function(j){return j.join(" ")},f.map(c)},Eu.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(lE.apply(this,[n[o],s,a]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=t.__fontmetrics__.compress=function(p){var h,v,g,b,y=["{"];for(var w in p){if(h=p[w],isNaN(parseInt(w,10))?v="'"+w+"'":(w=parseInt(w,10),v=(v=s(w).slice(2)).slice(0,-1)+i[v.slice(-1)]),typeof h=="number")h<0?(g=s(h).slice(3),b="-"):(g=s(h).slice(2),b=""),g=b+g.slice(0,-1)+i[g.slice(-1)];else{if(ir(h)!=="object")throw new Error("Don't know what to do with value type "+ir(h)+".");g=o(h)}y.push(v+g)}return y.push("}"),y.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,v,g,b,y={},w=1,_=y,j=[],S="",N="",P=p.length-1,C=1;C<P;C+=1)(b=p[C])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(b):b=="{"?(j.push([_,g]),_={},g=void 0):b=="}"?((v=j.pop())[0][v[1]]=_,g=void 0,_=v[0]):b=="-"?w=-1:g===void 0?n.hasOwnProperty(b)?(S+=n[b],g=parseInt(S,16)*w,w=1,S=""):S+=b:n.hasOwnProperty(b)?(N+=n[b],_[g]=parseInt(N,16)*w,w=1,g=void 0,N=""):N+=b;return y},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var h=p.font,v=f.Unicode[h.postScriptName];v&&(h.metadata.Unicode={},h.metadata.Unicode.widths=v.widths,h.metadata.Unicode.kerning=v.kerning);var g=u.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(dt.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(p0(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(dt),dt.API.addSvgAsImage=function(t,e,r,n,i,a,s,o){if(isNaN(e)||isNaN(r))throw dr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw dr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(xt.canvg?Promise.resolve(xt.canvg):mx(()=>import("./index.es-CD4IJceK.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,s,o)})},dt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},dt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function p(v,g){var b,y=!1;for(b=0;b<v.length;b+=1)v[b]===g&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(f=0;f<h;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(ir(t)==="object"){for(i in t)if(a=t[i],p(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&p(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(c=0;c<a.length;c+=1)if(n=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(n=!1);n===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?g.push("/"+v+" /"+r[v].value):g.push("/"+v+" "+r[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(dt.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,p=a.length;f<p;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(a){var s,o,l,c,u,f,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(a).sort(function(h,v){return h-v})).length;f<p;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",v=0;v<p.length;v++)h+=String.fromCharCode(p[v]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var b=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+$u(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+$u(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+$u(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var v=c();u({data:p,addLength1:!0,objectId:v}),l("endobj");var g=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var b=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+$u(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+$u(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,u=a.options||{},f=a.mutex||{},p=f.pdfEscape,h=f.activeFontKey,v=f.fonts,g=h,b="",y=0,w="",_=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(w=o,g=h,Array.isArray(o)&&(w=o[0]),y=0;y<w.length;y+=1)v[g].metadata.hasOwnProperty("cmap")&&(s=v[g].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),s||w[y].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?b+=w[y]:b+="";var j="";return parseInt(g.slice(1))<14||_==="WinAnsiEncoding"?j=p(b,g).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(j=r(b,v[g])),f.isHex=!0,{text:j,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(dt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(dt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,s,o,l,c,u,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,_=0;this.__bidiEngine__={};var j=function(O){var T=O.charCodeAt(),M=T>>8,R=g[M];return R!==void 0?f[256*R+(255&T)]:M===252||M===253?"AL":y.test(M)?"L":M===8?"R":"N"},S=function(O){for(var T,M=0;M<O.length;M++){if((T=j(O.charAt(M)))==="L")return!1;if(T==="R")return!0}return!1},N=function(O,T,M,R){var U,H,G,$,X=T[R];switch(X){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(X="AN");break;case"AL":w=!0,X="R";break;case"WS":case"BN":X="N";break;case"CS":R<1||R+1>=T.length||(U=M[R-1])!=="EN"&&U!=="AN"||(H=T[R+1])!=="EN"&&H!=="AN"?X="N":w&&(H="AN"),X=H===U?H:"N";break;case"ES":X=(U=R>0?M[R-1]:"B")==="EN"&&R+1<T.length&&T[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&M[R-1]==="EN"){X="EN";break}if(w){X="N";break}for(G=R+1,$=T.length;G<$&&T[G]==="ET";)G++;X=G<$&&T[G]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for($=T.length,G=R+1;G<$&&T[G]==="NSM";)G++;if(G<$){var ae=O[R],ie=ae>=1425&&ae<=2303||ae===64286;if(U=T[G],ie&&(U==="R"||U==="AL")){X="R";break}}}X=R<1||(U=T[R-1])==="B"?"N":M[R-1];break;case"B":w=!1,i=!0,X=_;break;case"S":a=!0,X="N"}return X},P=function(O,T,M){var R=O.split("");return M&&C(R,M,{hiLevel:_}),R.reverse(),T&&T.reverse(),R.join("")},C=function(O,T,M){var R,U,H,G,$,X=-1,ae=O.length,ie=0,E=[],z=_?h:p,V=[];for(w=!1,i=!1,a=!1,U=0;U<ae;U++)V[U]=j(O[U]);for(H=0;H<ae;H++){if($=ie,E[H]=N(O,V,E,H),R=240&(ie=z[$][v[E[H]]]),ie&=15,T[H]=G=z[ie][5],R>0)if(R===16){for(U=X;U<H;U++)T[U]=1;X=-1}else X=-1;if(z[ie][6])X===-1&&(X=H);else if(X>-1){for(U=X;U<H;U++)T[U]=G;X=-1}V[H]==="B"&&(T[H]=0),M.hiLevel|=G}a&&function(Z,ne,ce){for(var ve=0;ve<ce;ve++)if(Z[ve]==="S"){ne[ve]=_;for(var se=ve-1;se>=0&&Z[se]==="WS";se--)ne[se]=_}}(V,T,ae)},I=function(O,T,M,R,U){if(!(U.hiLevel<O)){if(O===1&&_===1&&!i)return T.reverse(),void(M&&M.reverse());for(var H,G,$,X,ae=T.length,ie=0;ie<ae;){if(R[ie]>=O){for($=ie+1;$<ae&&R[$]>=O;)$++;for(X=ie,G=$-1;X<G;X++,G--)H=T[X],T[X]=T[G],T[G]=H,M&&(H=M[X],M[X]=M[G],M[G]=H);ie=$}ie++}}},F=function(O,T,M){var R=O.split(""),U={hiLevel:_};return M||(M=[]),C(R,M,U),function(H,G,$){if($.hiLevel!==0&&u)for(var X,ae=0;ae<H.length;ae++)G[ae]===1&&(X=b.indexOf(H[ae]))>=0&&(H[ae]=b[X+1])}(R,M,U),I(2,R,T,M,U),I(1,R,T,M,U),R.join("")};return this.__bidiEngine__.doBidiReorder=function(O,T,M){if(function(U,H){if(H)for(var G=0;G<U.length;G++)H[G]=G;o===void 0&&(o=S(U)),c===void 0&&(c=S(U))}(O,T),s||!l||c)if(s&&l&&o^c)_=o?1:0,O=P(O,T,M);else if(!s&&l&&c)_=o?1:0,O=F(O,T,M),O=P(O,T);else if(!s||o||l||c){if(s&&!l&&o^c)O=P(O,T),o?(_=0,O=F(O,T,M)):(_=1,O=F(O,T,M),O=P(O,T));else if(s&&o&&!l&&c)_=1,O=F(O,T,M),O=P(O,T);else if(!s&&!l&&o^c){var R=u;o?(_=1,O=F(O,T,M),_=0,u=!1,O=F(O,T,M),u=R):(_=0,O=F(O,T,M),O=P(O,T),_=1,u=!1,O=F(O,T,M),u=R,O=P(O,T))}}else _=0,O=F(O,T,M);else _=o?1:0,O=F(O,T,M);return O},this.__bidiEngine__.setOptions=function(O){O&&(s=O.isInputVisual,l=O.isOutputVisual,o=O.isInputRtl,c=O.isOutputRtl,u=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(dt),dt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new wl(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new s1e(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Vye(this.contents),this.head=new Kye(this),this.name=new Qye(this),this.cmap=new IR(this),this.toUnicode={},this.hhea=new Yye(this),this.maxp=new e1e(this),this.hmtx=new t1e(this),this.post=new Jye(this),this.os2=new Xye(this),this.loca=new a1e(this),this.glyf=new r1e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Qa,wl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,s,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),Vye=function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,s,o,l,c,u,f,p,h,v,g;for(g in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),u=16*h-f,(i=new wl).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(s),i.writeShort(u),a=16*h,c=i.pos+a,o=null,v=[],r)for(p=r[g],i.writeString(g),i.writeInt(t(p)),i.writeInt(c),i.writeInt(p.length),v=v.concat(p),g==="head"&&(o=c),c+=p.length;c%4;)v.push(0),c++;return i.write(v),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,s;for(r=$R.call(r);r.length%4;)r.push(0);for(a=new wl(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),Gye={}.hasOwnProperty,ks=function(t,e){for(var r in e)Gye.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Qa=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Kye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ks(t,Qa),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new wl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),vE=function(){function t(e,r){var n,i,a,s,o,l,c,u,f,p,h,v,g,b,y,w,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),p=h/2,e.pos+=6,a=function(){var j,S;for(S=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)S.push(e.readUInt16());return S}(),e.pos+=2,g=function(){var j,S;for(S=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)S.push(e.readUInt16());return S}(),c=function(){var j,S;for(S=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)S.push(e.readUInt16());return S}(),u=function(){var j,S;for(S=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)S.push(e.readUInt16());return S}(),i=(this.length-e.pos+this.offset)/2,o=function(){var j,S;for(S=[],l=j=0;0<=i?j<i:j>i;l=0<=i?++j:--j)S.push(e.readUInt16());return S}(),l=y=0,_=a.length;y<_;l=++y)for(b=a[l],n=w=v=g[l];v<=b?w<=b:w>=b;n=v<=b?++w:--w)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-v)-(p-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}e.pos=f}return t.encode=function(e,r){var n,i,a,s,o,l,c,u,f,p,h,v,g,b,y,w,_,j,S,N,P,C,I,F,O,T,M,R,U,H,G,$,X,ae,ie,E,z,V,Z,ne,ce,ve,se,ge,_e,he;switch(R=new wl,s=Object.keys(e).sort(function($e,pe){return $e-pe}),r){case"macroman":for(g=0,b=function(){var $e=[];for(v=0;v<256;++v)$e.push(0);return $e}(),w={0:0},a={},U=0,X=s.length;U<X;U++)w[se=e[i=s[U]]]==null&&(w[se]=++g),a[i]={old:e[i],new:w[e[i]]},b[i]=w[e[i]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(b),{charMap:a,subtable:R.data,maxGlyphID:g+1};case"unicode":for(T=[],f=[],_=0,w={},n={},y=c=null,H=0,ae=s.length;H<ae;H++)w[S=e[i=s[H]]]==null&&(w[S]=++_),n[i]={old:S,new:w[S]},o=w[S]-i,y!=null&&o===c||(y&&f.push(y),T.push(i),c=o),y=i;for(y&&f.push(y),f.push(65535),T.push(65535),F=2*(I=T.length),C=2*Math.pow(Math.log(I)/Math.LN2,2),p=Math.log(C/2)/Math.LN2,P=2*I-C,l=[],N=[],h=[],v=G=0,ie=T.length;G<ie;v=++G){if(O=T[v],u=f[v],O===65535){l.push(0),N.push(0);break}if(O-(M=n[O].new)>=32768)for(l.push(0),N.push(2*(h.length+I-v)),i=$=O;O<=u?$<=u:$>=u;i=O<=u?++$:--$)h.push(n[i].new);else l.push(M-O),N.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*I+2*h.length),R.writeUInt16(0),R.writeUInt16(F),R.writeUInt16(C),R.writeUInt16(p),R.writeUInt16(P),ce=0,E=f.length;ce<E;ce++)i=f[ce],R.writeUInt16(i);for(R.writeUInt16(0),ve=0,z=T.length;ve<z;ve++)i=T[ve],R.writeUInt16(i);for(ge=0,V=l.length;ge<V;ge++)o=l[ge],R.writeUInt16(o);for(_e=0,Z=N.length;_e<Z;_e++)j=N[_e],R.writeUInt16(j);for(he=0,ne=h.length;he<ne;he++)g=h[he],R.writeUInt16(g);return{charMap:n,subtable:R.data,maxGlyphID:_+1}}},t}(),IR=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ks(t,Qa),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new vE(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=vE.encode(e,r),(i=new wl).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),Yye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ks(t,Qa),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Xye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ks(t,Qa),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Jye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ks(t,Qa),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),Zye=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Qye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ks(t,Qa),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,s,o,l,c,u,f,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=u=0,f=n.length;u<f;a=++u)i=n[a],e.pos=i.offset,c=e.readString(i.length),s=new Zye(c,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),e1e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ks(t,Qa),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),t1e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ks(t,Qa),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,s,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,f,p;for(p=[],c=0,u=(f=this.metrics).length;c<u;c++)a=f[c],p.push(a.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),$R=[].slice,r1e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ks(t,Qa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,s,o,l,c,u,f;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(o=new wl(r.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=s===-1?new i1e(o,c,f,l,u):new n1e(o,s,c,f,l,u),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,s,o,l;for(s=[],a=[],o=0,l=r.length;o<l;o++)i=e[r[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},t}(),n1e=function(){function t(e,r,n,i,a,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),i1e=function(){function t(e,r,n,i,a){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new wl($R.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),a1e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ks(t,Qa),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},t}(),s1e=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,s,o,l,c,u,f,p,h,v,g,b,y;for(i in n=IR.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},y=n.charMap)h[(l=y[i]).old]=l.new;for(v in p=n.maxGlyphID,s)v in h||(h[v]=p++);return u=function(w){var _,j;for(_ in j={},w)j[w[_]]=_;return j}(h),f=Object.keys(u).sort(function(w,_){return w-_}),g=function(){var w,_,j;for(j=[],w=0,_=f.length;w<_;w++)o=f[w],j.push(u[o]);return j}(),a=this.font.glyf.encode(s,g,h),c=this.font.loca.encode(a.offsets,g),b={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();dt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+r},e}();function o1e(t){const e=new dt;let r=20;const n=e.internal.pageSize.getWidth(),i=20,a=n-2*i,s=(l,c,u=!1,f="#000000")=>{e.setFontSize(c),e.setTextColor(f),u?e.setFont("helvetica","bold"):e.setFont("helvetica","normal"),e.splitTextToSize(l,a).forEach(h=>{r>e.internal.pageSize.getHeight()-30&&(e.addPage(),r=20),e.text(h,i,r),r+=c*.5}),r+=5};s("Simulation Debrief Report",18,!0),r+=5,s(`Case: ${t.caseTitle}`,12,!0),s(`Patient: ${t.patientName}`,10),r+=5,s("Performance Summary",14,!0,"#3b82f6"),r+=3,s(`Overall Score: ${t.score.overall}%`,12,!0),s(`Diagnosis Accuracy: ${t.score.accuracy}%`,10),s(`MCQ Score: ${t.score.mcqScore}%`,10),s(`Time Taken: ${t.timeTaken} minutes`,10),s(`Current Streak: ${t.currentStreak} days`,10),r+=5,t.score.sloResults&&t.score.sloResults.length>0&&(s("Learning Outcomes",14,!0,"#3b82f6"),r+=3,t.score.sloResults.forEach(l=>{const c=l.status==="Achieved"?"":"";s(`${c} ${l.sloId}: ${l.percent}%`,10),l.sloText&&s(`   ${l.sloText}`,9)}),r+=5),s("Diagnosis Review",14,!0,"#3b82f6"),r+=3,s(`Your Diagnosis: ${t.diagnosis.student}`,10),s(`Correct Diagnosis: ${t.diagnosis.correct}`,10,!0),t.diagnosis.potential&&t.diagnosis.potential.length>0&&(s("Other Potential Diagnoses:",10,!0),t.diagnosis.potential.forEach(l=>{s(`   ${l.dx}`,9)})),r+=5,t.stepwiseReasoning&&(s("Stepwise Reasoning",14,!0,"#3b82f6"),r+=3,s(t.stepwiseReasoning,9),r+=5),t.mcqResults&&t.mcqResults.length>0&&(s("MCQ Results",14,!0,"#3b82f6"),r+=3,t.mcqResults.forEach((l,c)=>{s(`${c+1}. ${l.question}`,10,!0),l.options.forEach((u,f)=>{let p="  ";f===l.correctIndex&&(p=" "),f===l.selectedIndex&&!l.correct&&(p=" "),s(`${p}${u}`,9)}),l.explanation&&s(`Explanation: ${l.explanation}`,9),r+=3}),r+=5),t.rubricResults&&t.rubricResults.length>0&&(s("Rubric Assessment",14,!0,"#3b82f6"),r+=3,t.rubricResults.forEach((l,c)=>{s(`${c+1}. ${l.criterion}`,10,!0),s(`   Points: ${l.pointsEarned} / ${l.maxPoints}`,9),l.percentage!==void 0&&s(`   Score: ${l.percentage}%`,9),l.feedback&&s(`   Feedback: ${l.feedback}`,9),r+=3}),r+=5),t.learningPearls&&t.learningPearls.length>0&&(s("Learning Pearls",14,!0,"#3b82f6"),r+=3,t.learningPearls.forEach(l=>{s(` ${l}`,9)}),r+=5),t.furtherReading&&t.furtherReading.length>0&&(s("Further Reading",14,!0,"#3b82f6"),r+=3,t.furtherReading.forEach(l=>{s(` ${l.title}`,9),l.url&&s(`  ${l.url}`,8)}));const o=e.getNumberOfPages();for(let l=1;l<=o;l++)e.setPage(l),e.setFontSize(8),e.setTextColor("#666666"),e.text(`Page ${l} of ${o} | Generated on ${new Date().toLocaleDateString()}`,i,e.internal.pageSize.getHeight()-10);return e}function l1e({user:t}){var _e,he,$e,pe,Q,et,tt,Ke;const{runId:e}=jy(),r=Xa(),n=bo(),[i,a]=Y.useState(null),[s,o]=Y.useState(!0),[l,c]=Y.useState(null),[u,f]=Y.useState("feedback"),[p,h]=Y.useState(0),[v,g]=Y.useState({}),[b,y]=Y.useState(!1),[w,_]=Y.useState([]),[j,S]=Y.useState(new Map);Y.useEffect(()=>{e&&(C(),P(),N())},[e]);const N=async()=>{try{const{data:fe}=await Ee.from("competencies").select("*");fe&&_(fe);const{data:Re}=await Ee.from("slo").select("*").not("competency_id","is",null);if(Re){const Pe=new Map;Re.forEach(we=>{Pe.set(we.id,we)}),S(Pe)}}catch(fe){console.error("Error loading competency data:",fe)}};Y.useEffect(()=>{if(i&&i.transcript){const Re=i.transcript.postCaseMCQAnswers||{};g(Re),y(Object.keys(Re).length>0)}},[i]);const P=async()=>{try{const{data:fe}=await Ee.from("simulation_runs").select("submitted_at, created_at").eq("student_id",t.id).not("submitted_at","is",null).order("submitted_at",{ascending:!1});if(!fe||fe.length===0){h(0);return}let Re=0;const Pe=new Date;Pe.setHours(0,0,0,0);let we=new Date(Pe);for(const Oe of fe){const Ce=new Date(Oe.submitted_at||Oe.created_at);if(Ce.setHours(0,0,0,0),Ce.getTime()===we.getTime())Re++,we.setDate(we.getDate()-1);else if(Ce.getTime()<we.getTime())break}h(Re)}catch(fe){console.error("Error calculating streak:",fe),h(0)}},C=async()=>{try{const{data:fe,error:Re}=await Ee.from("simulation_runs").select("*").eq("id",e).single();if(Re)throw Re;if(a(fe),fe){const Pe=fe.transcript,we=(Pe==null?void 0:Pe.postCaseMCQAnswers)||{};g(we),y(Object.keys(we).length>0)}if(fe.assignment_id){const{data:Pe}=await Ee.from("assignments").select("snapshot_id").eq("id",fe.assignment_id).single();if(Pe){const{data:we}=await Ee.from("case_snapshots").select("*").eq("id",Pe.snapshot_id).single();c(we)}}}catch(fe){console.error("Error loading debrief:",fe)}finally{o(!1)}};if(s)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});if(!i||!i.score)return d.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:d.jsx("p",{children:"Debrief data not available yet."})});const I=i.score,F=I.overall||0,O=I.sloResults||[],T=I.rubricResults||[],M=i.transcript,U=(((_e=l==null?void 0:l.clinical_case)==null?void 0:_e.mcqs)||[]).slice(-3).slice(0,3),H=(M==null?void 0:M.postCaseMCQAnswers)||{},G=U.length>0&&U.some(fe=>H[`post-case-${fe.id}`]!==void 0),$=I.postCaseMCQs||[],X=I.correctDiagnosis||((pe=($e=(he=l==null?void 0:l.clinical_case)==null?void 0:he.potentialDiagnoses)==null?void 0:$e[0])==null?void 0:pe.dx)||"",ae=I.studentDiagnosis||(M==null?void 0:M.diagnosis)||"",ie=I.diagnosisCorrect||!1,E=I.diagnosisScore||0,V=(()=>{if(!i.started_at||!i.submitted_at)return"N/A";const fe=new Date(i.started_at),Re=new Date(i.submitted_at),Pe=Math.floor((Re.getTime()-fe.getTime())/6e4),we=Math.floor((Re.getTime()-fe.getTime())%6e4/1e3);return`${Pe}m ${we}s`})(),Z=I.stepwiseReasoning||I.aiComments||"Stepwise reasoning not available.",ne=((Q=l==null?void 0:l.clinical_case)==null?void 0:Q.learningPearls)||[],ce=((et=l==null?void 0:l.clinical_case)==null?void 0:et.furtherReading)||[],ve=fe=>fe>=80?"text-green-600":fe>=60?"text-yellow-600":"text-red-600",se=fe=>fe>=80?"bg-green-100 text-green-800 border-green-200":fe>=60?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200",ge=()=>{var Ie,ze,ht,Ve,Ue;if(!i||!l)return;const fe=((Ie=l.clinical_case)==null?void 0:Ie.title)||"Untitled Case",Re=((ht=(ze=l.clinical_case)==null?void 0:ze.patientProfile)==null?void 0:ht.name)||"Patient";let Pe=0;if(i.started_at&&i.submitted_at){const We=new Date(i.started_at),qe=new Date(i.submitted_at);Pe=Math.floor((qe.getTime()-We.getTime())/6e4)}const we=($||[]).map((We,qe)=>{const St=U.find(yt=>yt.question===We.question),Lt=(St==null?void 0:St.answerIndex)??-1,rt=v[`post-case-${St==null?void 0:St.id}`]??-1;return{question:We.question||`Question ${qe+1}`,options:We.options||(St==null?void 0:St.options)||[],selectedIndex:rt,correctIndex:Lt,correct:rt===Lt,explanation:We.explanation}}),Oe={caseTitle:fe,patientName:Re,score:{overall:F,accuracy:E,mcqScore:we.length>0?Math.round(we.filter(We=>We.correct).length/we.length*100):0,sloResults:O.map(We=>({sloId:We.sloId||"Unknown",sloText:We.sloText,status:We.status||"Not Achieved",percent:We.percent||0}))},timeTaken:Pe,currentStreak:p,stepwiseReasoning:Z,diagnosis:{student:ae,correct:X,potential:((Ve=l.clinical_case)==null?void 0:Ve.potentialDiagnoses)||[]},mcqResults:we,rubricResults:((Ue=i.score)==null?void 0:Ue.rubricResults)||[],learningPearls:ne,furtherReading:ce};o1e(Oe).save(`debrief-${fe.replace(/[^a-z0-9]/gi,"-").toLowerCase()}-${new Date().toISOString().split("T")[0]}.pdf`)};return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Simulation Debrief"}),((tt=l==null?void 0:l.clinical_case)==null?void 0:tt.title)&&d.jsx("p",{className:"text-gray-600",children:l.clinical_case.title})]}),d.jsxs("button",{onClick:()=>r("/results"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900",children:[d.jsx(vp,{className:"w-4 h-4"}),"Back to Results"]})]}),d.jsx("div",{className:`mb-6 p-4 rounded-lg border-2 ${ie?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[ie?d.jsx(da,{className:"w-6 h-6 text-green-600"}):d.jsx(Js,{className:"w-6 h-6 text-red-600"}),d.jsxs("div",{children:[d.jsxs("div",{className:`font-semibold ${ie?"text-green-800":"text-red-800"}`,children:["Diagnosis ",ie?"Correct":"Incorrect"]}),!ie&&d.jsxs("div",{className:"text-sm text-red-700 mt-1",children:["The correct diagnosis was: ",X]})]})]})}),d.jsx(f0e,{accuracy:E,timeTaken:V,currentStreak:p}),d.jsx(d0e,{activeTab:u,onTabChange:f}),d.jsxs("div",{className:"mt-6",children:[u==="feedback"&&d.jsxs("div",{children:[d.jsx(h0e,{reasoning:Z}),d.jsx(m0e,{pearls:ne}),d.jsx(g0e,{references:ce}),I.aiComments&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Va,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"AI-Generated Feedback"})]}),d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:I.aiComments})})]}),F<80&&d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(ky,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Areas for Improvement"}),d.jsxs("ul",{className:"list-disc list-inside text-yellow-800 space-y-1",children:[O.filter(fe=>fe.status!=="Achieved").slice(0,3).map((fe,Re)=>d.jsxs("li",{children:["Focus on improving ",fe.sloId||`SLO ${Re+1}`," (currently"," ",fe.percent.toFixed(0),"%)"]},Re)),d.jsx("li",{children:"Review the case materials and practice similar scenarios"}),d.jsx("li",{children:"Consider retaking this simulation to improve your score"})]})]})]})})]}),u==="review"&&d.jsxs("div",{children:[d.jsxs("div",{className:`bg-white rounded-lg shadow p-6 mb-6 border-2 ${se(F)}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Overall Performance"}),d.jsx(cf,{className:`w-6 h-6 ${ve(F)}`})]}),d.jsx("div",{className:"flex items-center justify-center mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:`text-6xl font-bold ${ve(F)}`,children:[F.toFixed(0),"%"]}),d.jsx("div",{className:"text-gray-600 mt-2",children:"Overall Score"})]})}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:O.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"SLOs Assessed"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:O.filter(fe=>fe.status==="Achieved").length}),d.jsx("div",{className:"text-sm text-gray-600",children:"SLOs Achieved"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:V}),d.jsx("div",{className:"text-sm text-gray-600",children:"Time Taken"})]})]})]}),((Ke=l==null?void 0:l.clinical_case)==null?void 0:Ke.potentialDiagnoses)&&d.jsx(p0e,{potentialDiagnoses:l.clinical_case.potentialDiagnoses,studentDiagnosis:ae,correctDiagnosis:X}),O.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ha,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"SLO (Specific Learning Outcomes) Breakdown"})]}),d.jsx("div",{className:"space-y-4",children:O.map((fe,Re)=>d.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"font-medium text-gray-900",children:fe.sloId||`SLO ${Re+1}`}),fe.sloText&&d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:fe.sloText})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[fe.status==="Achieved"?d.jsx(da,{className:"w-5 h-5 text-green-600"}):d.jsx(Js,{className:"w-5 h-5 text-red-600"}),d.jsxs("span",{className:`font-semibold ${ve(fe.percent)}`,children:[fe.percent.toFixed(0),"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:`h-3 rounded-full transition-all ${fe.percent>=70?"bg-green-600":fe.percent>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(fe.percent,100)}%`}})}),fe.feedback&&d.jsxs("p",{className:"text-sm text-gray-600 mt-2 italic",children:['"',fe.feedback,'"']})]},Re))})]}),T.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Gi,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Rubric Assessment"})]}),d.jsx("div",{className:"space-y-3",children:T.map((fe,Re)=>d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"font-medium text-gray-900",children:fe.criterion}),d.jsxs("span",{className:"text-sm text-gray-600",children:[fe.pointsEarned," / ",fe.maxPoints," points"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${fe.pointsEarned/fe.maxPoints*100}%`}})}),fe.feedback&&d.jsx("p",{className:"text-sm text-gray-600 mt-2",children:fe.feedback})]},Re))})]}),O.length>0&&w.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ha,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"CBDC Assessment"})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Your performance across CBDC competencies and their associated learning outcomes."}),(()=>{const fe=new Map;O.forEach(we=>{const Oe=j.get(we.sloId);if(Oe&&Oe.competency_id){const Ce=w.find(Ie=>Ie.id===Oe.competency_id);Ce&&(fe.has(Ce.id)||fe.set(Ce.id,{competency:Ce,slos:[],averageScore:0}),fe.get(Ce.id).slos.push({...we,sloText:Oe.text,millerLevel:Oe.miller_level,bloomDomain:Oe.bloom_domain}))}}),fe.forEach(we=>{if(we.slos.length>0){const Oe=we.slos.reduce((Ce,Ie)=>Ce+Ie.percent,0);we.averageScore=Math.round(Oe/we.slos.length)}});const Re=Array.from(fe.values()).sort((we,Oe)=>Oe.averageScore-we.averageScore),Pe=O.filter(we=>{const Oe=j.get(we.sloId);return!Oe||!Oe.competency_id});return d.jsxs("div",{className:"space-y-6",children:[Re.map((we,Oe)=>d.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:we.competency.description}),d.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[d.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:we.competency.domain}),we.competency.level&&d.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded",children:we.competency.level}),d.jsxs("span",{className:"text-xs text-gray-600",children:[we.slos.length," SLO",we.slos.length!==1?"s":""]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:`text-2xl font-bold ${ve(we.averageScore)}`,children:[we.averageScore,"%"]}),d.jsx("div",{className:"text-xs text-gray-600",children:"Average"})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:d.jsx("div",{className:`h-3 rounded-full transition-all ${we.averageScore>=70?"bg-green-600":we.averageScore>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(we.averageScore,100)}%`}})}),d.jsx("div",{className:"space-y-3 mt-4",children:we.slos.map((Ce,Ie)=>d.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"font-medium text-gray-900 text-sm",children:Ce.sloText||Ce.sloId}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[Ce.millerLevel&&d.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-100 text-green-800 rounded",children:Ce.millerLevel}),Ce.bloomDomain&&d.jsx("span",{className:"text-xs px-2 py-0.5 bg-orange-100 text-orange-800 rounded",children:Ce.bloomDomain})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[Ce.status==="Achieved"?d.jsx(da,{className:"w-4 h-4 text-green-600"}):d.jsx(Js,{className:"w-4 h-4 text-red-600"}),d.jsxs("span",{className:`text-sm font-semibold ${ve(Ce.percent)}`,children:[Ce.percent,"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${Ce.percent>=70?"bg-green-600":Ce.percent>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(Ce.percent,100)}%`}})}),Ce.feedback&&d.jsxs("p",{className:"text-xs text-gray-600 mt-2 italic",children:['"',Ce.feedback,'"']})]},Ie))})]},Oe)),Pe.length>0&&d.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[d.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Unassigned Learning Outcomes"}),d.jsx("div",{className:"space-y-3",children:Pe.map((we,Oe)=>d.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"font-medium text-gray-900 text-sm",children:we.sloId}),d.jsxs("div",{className:"flex items-center gap-2",children:[we.status==="Achieved"?d.jsx(da,{className:"w-4 h-4 text-green-600"}):d.jsx(Js,{className:"w-4 h-4 text-red-600"}),d.jsxs("span",{className:`text-sm font-semibold ${ve(we.percent)}`,children:[we.percent,"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${we.percent>=70?"bg-green-600":we.percent>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(we.percent,100)}%`}})})]},Oe))})]})]})})()]})]}),u==="questions"&&d.jsx("div",{children:U.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Gi,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"POST-CASE QUESTIONS"})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:b?"Review your answers and results below.":"Answer these questions based on the case you just completed."}),d.jsx("div",{className:"space-y-4",children:U.map((fe,Re)=>{var ht;const Pe=`post-case-${fe.id}`,we=v[Pe],Oe=fe.answerIndex,Ce=fe.options[Oe],Ie=b||G,ze=$.find(Ve=>Ve.question===fe.question);return d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsx("div",{className:"flex items-start justify-between mb-3",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("p",{className:"font-medium text-gray-900 mb-2",children:[Re+1,". ",fe.question]}),d.jsx("div",{className:"space-y-2 mt-3",children:(ht=fe.options)==null?void 0:ht.map((Ve,Ue)=>{const We=we===Ue,qe=Ue===Oe;return d.jsx("button",{onClick:()=>{Ie||g({...v,[Pe]:Ue})},disabled:Ie,className:`w-full text-left p-3 rounded-lg border-2 transition-all ${Ie?qe?"bg-green-50 border-green-200":We&&!qe?"bg-red-50 border-red-200":"bg-white border-gray-200":We?"bg-primary-50 border-primary-300":"bg-white border-gray-200 hover:border-primary-300 hover:bg-gray-50"} ${Ie?"cursor-default":"cursor-pointer"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:Ve}),Ie&&qe&&d.jsx(da,{className:"w-5 h-5 text-green-600"}),Ie&&We&&!qe&&d.jsx(Js,{className:"w-5 h-5 text-red-600"}),!Ie&&We&&d.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-primary-600 bg-primary-100"})]})},Ue)})})]})}),Ie&&((ze==null?void 0:ze.explanation)||fe.explanation)&&d.jsxs("div",{className:"mt-3 pt-3 border-t",children:[d.jsx("div",{className:"font-medium text-gray-700 mb-1",children:"EXPLANATION"}),d.jsx("p",{className:"text-sm text-gray-600",children:(ze==null?void 0:ze.explanation)||`The correct answer is ${Ce}. ${fe.explanation||""}`})]})]},Re)})}),!b&&!G&&d.jsx("div",{className:"mt-6 pt-4 border-t",children:d.jsx("button",{onClick:async()=>{if(!U.every(Re=>v[`post-case-${Re.id}`]!==void 0)){n.warning("Please answer all questions before submitting.");return}if(e){const Re={...M,postCaseMCQAnswers:v},{error:Pe}=await Ee.from("simulation_runs").update({transcript:Re}).eq("id",e);if(Pe){n.error("Error saving answers: "+Pe.message);return}try{const{error:we}=await Ee.functions.invoke("score_simulation",{body:{runId:e}});we?console.error("Error re-scoring:",we):(await C(),y(!0))}catch(we){console.error("Error calling score function:",we)}}},disabled:U.some(fe=>v[`post-case-${fe.id}`]===void 0),className:"w-full px-4 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-all",children:"Submit Answers"})}),(b||G)&&d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-gray-600",children:["Score: ",U.filter(fe=>v[`post-case-${fe.id}`]===fe.answerIndex).length," / ",U.length]}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[U.length>0?(U.filter(fe=>v[`post-case-${fe.id}`]===fe.answerIndex).length/U.length*100).toFixed(0):0,"%"]})]})})]})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-6",children:[d.jsxs("button",{onClick:()=>r("/results"),className:"flex items-center justify-center gap-2 px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[d.jsx(vp,{className:"w-4 h-4"}),"Back to Results"]}),d.jsxs("button",{onClick:ge,className:"flex items-center justify-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(od,{className:"w-4 h-4"}),"Download PDF Report"]})]})]}),d.jsx(Mn,{role:"student"}),d.jsx(yl,{toasts:n.toasts,onClose:n.removeToast})]})}function c1e({user:t}){const e=Xa(),[r,n]=Y.useState([]),[i,a]=Y.useState(!0);Y.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:c,error:u}=await Ee.from("simulation_runs").select("*").eq("student_id",t.id).not("submitted_at","is",null).order("submitted_at",{ascending:!1});if(u)throw u;const f=await Promise.all((c||[]).map(async p=>{const{data:h}=await Ee.from("assignments").select("*").eq("id",p.assignment_id).single();let v=null;if(h){const{data:g}=await Ee.from("case_snapshots").select("*").eq("id",h.snapshot_id).single();v=g}return{...p,assignment:h,snapshot:v}}));n(f)}catch(c){console.error("Error loading results:",c)}finally{a(!1)}},o=c=>c>=80?"bg-green-100 text-green-800":c>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",l=(c,u)=>{const f=new Date(c),p=new Date(u);return`${Math.floor((p.getTime()-f.getTime())/6e4)} minutes`};return i?d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Results & History"}),d.jsx("p",{className:"text-gray-600",children:"View your past simulation attempts and performance"})]}),r.length>0&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Attempts"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.length>0?Math.round(r.reduce((c,u)=>{var p;const f=((p=u.score)==null?void 0:p.overall)||0;return c+f},0)/r.length):0,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:[r.length>0?Math.max(...r.map(c=>{var f;return((f=c.score)==null?void 0:f.overall)||0})):0,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]})]}),r.length===0?d.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[d.jsx(cf,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 text-lg",children:"No completed simulations yet"}),d.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Complete a simulation to see your results here"})]}):d.jsx("div",{className:"space-y-4",children:r.map(c=>{var v,g,b,y,w,_,j;const u=((v=c.score)==null?void 0:v.overall)||0,f=((g=c.score)==null?void 0:g.sloResults)||[],p=((y=(b=c.snapshot)==null?void 0:b.clinical_case)==null?void 0:y.title)||"Untitled Station",h=((j=(_=(w=c.snapshot)==null?void 0:w.clinical_case)==null?void 0:_.patientProfile)==null?void 0:j.name)||"Patient";return d.jsx("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p}),d.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Patient: ",h]})]}),d.jsxs("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${o(u)}`,children:[u.toFixed(0),"%"]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm text-gray-600",children:[c.started_at&&c.submitted_at&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Xc,{className:"w-4 h-4"}),d.jsx("span",{children:l(c.started_at,c.submitted_at)})]}),c.submitted_at&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(uf,{className:"w-4 h-4"}),d.jsx("span",{children:new Date(c.submitted_at).toLocaleDateString()})]}),f.length>0&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Va,{className:"w-4 h-4"}),d.jsxs("span",{children:[f.filter(S=>S.status==="Achieved").length," /"," ",f.length," SLOs Achieved"]})]})]}),f.length>0&&d.jsxs("div",{className:"mt-4 space-y-2",children:[f.slice(0,3).map((S,N)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${S.percent>=70?"bg-green-600":"bg-yellow-600"}`,style:{width:`${S.percent}%`}})}),d.jsxs("span",{className:"text-xs text-gray-600 w-12 text-right",children:[S.percent,"%"]})]},N)),f.length>3&&d.jsxs("p",{className:"text-xs text-gray-500",children:["+",f.length-3," more SLOs"]})]})]}),d.jsx("div",{className:"flex gap-2",children:d.jsxs("button",{onClick:()=>e(`/debrief/${c.id}`),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:[d.jsx(Ey,{className:"w-4 h-4"}),"View Details"]})})]})},c.id)})})]}),d.jsx(Mn,{role:"student"})]})}function u1e({user:t}){const e=bo(),[r,n]=Y.useState({totalAttempts:0,averageScore:0,bestScore:0,completedAssignments:0}),[i,a]=Y.useState([]),[s,o]=Y.useState([]),[l,c]=Y.useState(!0),[u,f]=Y.useState(!1),[p,h]=Y.useState(!1),[v,g]=Y.useState({totalTimeSpent:0,averageTimePerAttempt:0,improvementRate:0,slosAchieved:0,totalSlos:0,streak:0,lastActivity:null});Y.useEffect(()=>{b(),y()},[]);const b=async()=>{try{const{data:S}=await Ee.from("simulation_runs").select("score, submitted_at, started_at, created_at").eq("student_id",t.id).not("submitted_at","is",null),N=S||[],P=N.map(ne=>{var ce;return((ce=ne.score)==null?void 0:ce.overall)||0}).filter(ne=>ne>0),C=N.length,I=P.length>0?P.reduce((ne,ce)=>ne+ce,0)/P.length:0,F=P.length>0?Math.max(...P):0,{data:O}=await Ee.from("cohort_members").select("cohort_id").eq("student_id",t.id);let T=0;if(O&&O.length>0){const ne=O.map(ve=>ve.cohort_id),{data:ce}=await Ee.from("assignments").select("id").in("cohort_id",ne);if(ce){const ve=ce.map(ge=>ge.id),{data:se}=await Ee.from("simulation_runs").select("assignment_id").eq("student_id",t.id).not("submitted_at","is",null).in("assignment_id",ve);T=new Set(se==null?void 0:se.map(ge=>ge.assignment_id)).size}}const{data:M}=await Ee.from("simulation_runs").select("started_at, submitted_at, score, created_at").eq("student_id",t.id).not("submitted_at","is",null),R=(M||[]).reduce((ne,ce)=>{if(ce.started_at&&ce.submitted_at){const ve=new Date(ce.started_at),se=new Date(ce.submitted_at);return ne+Math.floor((se.getTime()-ve.getTime())/6e4)}return ne},0),U=N.length>0?Math.round(R/N.length):0;let H=0,G=0;N.forEach(ne=>{var ve;(((ve=ne.score)==null?void 0:ve.sloResults)||[]).forEach(se=>{G++,se.status==="Achieved"&&H++})});const $=P.slice(0,5),X=P.slice(5,10),ae=$.length>0?$.reduce((ne,ce)=>ne+ce,0)/$.length:0,ie=X.length>0?X.reduce((ne,ce)=>ne+ce,0)/X.length:0,E=ie>0?(ae-ie)/ie*100:0,z=N[0],V=(z==null?void 0:z.submitted_at)||null;let Z=0;if(N.length>0){const ne=new Date;ne.setHours(0,0,0,0);let ce=new Date(ne);for(let ve=0;ve<N.length;ve++){const se=N[ve],ge=new Date(se.submitted_at||se.created_at||se.started_at);if(ge.setHours(0,0,0,0),ge.getTime()===ce.getTime())Z++,ce.setDate(ce.getDate()-1);else if(ge.getTime()<ce.getTime())break}}n({totalAttempts:C,averageScore:Math.round(I),bestScore:Math.round(F),completedAssignments:T}),g({totalTimeSpent:R,averageTimePerAttempt:U,improvementRate:Math.round(E*10)/10,slosAchieved:H,totalSlos:G,streak:Z,lastActivity:V})}catch(S){console.error("Error loading stats:",S)}finally{c(!1)}},y=async()=>{try{const{data:S}=await Ee.from("cohort_members").select("cohort_id, cohorts(id, name, description)").eq("student_id",t.id),N=(S||[]).map(F=>F.cohort_id),P=(S||[]).map(F=>F.cohorts).filter(Boolean);a(P);const{data:C}=await Ee.from("cohorts").select("id, name, description").order("name"),I=(C||[]).filter(F=>!N.includes(F.id));o(I)}catch(S){console.error("Error loading cohorts:",S)}},w=async S=>{f(!0);try{const{error:N}=await Ee.from("cohort_members").insert({cohort_id:S,student_id:t.id});if(N)throw N;await y()}catch(N){e.error("Error joining cohort: "+N.message)}finally{f(!1)}},_=async S=>{if(confirm("Are you sure you want to leave this cohort? You will lose access to its assignments.")){f(!0);try{const{error:N}=await Ee.from("cohort_members").delete().eq("cohort_id",S).eq("student_id",t.id);if(N)throw N;await y()}catch(N){e.error("Error leaving cohort: "+N.message)}finally{f(!1)}}},j=async()=>{await q_()};return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Profile"}),d.jsx("p",{className:"text-gray-600",children:"View your account information and performance statistics"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center",children:d.jsx(vs,{className:"w-10 h-10 text-primary-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(JT,{className:"w-4 h-4"}),d.jsx("span",{children:t.email})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(uf,{className:"w-4 h-4"}),d.jsxs("span",{children:["Member since ",new Date(t.created_at).toLocaleDateString()]})]})]})]}),d.jsx("div",{className:"border-t pt-4",children:d.jsx("div",{className:"flex items-center gap-2 text-sm",children:d.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full font-medium",children:"Student"})})})]}),!l&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Oy,{className:"w-5 h-5 text-primary-600"}),d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.totalAttempts})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Attempts"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Va,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.averageScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(cf,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[r.bestScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Bh,{className:"w-5 h-5 text-primary-600"}),d.jsx("div",{className:"text-2xl font-bold text-primary-600",children:r.completedAssignments})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(Ha,{className:"w-5 h-5 text-primary-600"}),"Performance Metrics"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Time Spent"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[v.totalTimeSpent," min"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Avg Time per Attempt"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[v.averageTimePerAttempt," min"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Improvement Rate"}),d.jsxs("span",{className:`font-semibold ${v.improvementRate>0?"text-green-600":v.improvementRate<0?"text-red-600":"text-gray-900"}`,children:[v.improvementRate>0?"+":"",v.improvementRate,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Current Streak"}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[v.streak," days"]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(Bh,{className:"w-5 h-5 text-primary-600"}),"Learning Outcomes"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"SLOs Achieved"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[v.slosAchieved," / ",v.totalSlos]})]}),v.totalSlos>0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-primary-600 h-3 rounded-full transition-all",style:{width:`${v.slosAchieved/v.totalSlos*100}%`}})}),d.jsxs("div",{className:"text-sm text-gray-500",children:[(v.slosAchieved/v.totalSlos*100).toFixed(1),"% achievement rate"]})]}),v.lastActivity&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mt-4 pt-4 border-t",children:[d.jsx(Xc,{className:"w-4 h-4"}),d.jsxs("span",{children:["Last activity: ",new Date(v.lastActivity).toLocaleDateString()]})]})]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(vl,{className:"w-5 h-5 text-primary-600"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Cohorts"})]}),d.jsxs("button",{onClick:()=>h(!p),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:[d.jsx(ZT,{className:"w-4 h-4"}),"Manage"]})]}),i.length===0?d.jsx("p",{className:"text-gray-500 text-sm",children:"You are not in any cohorts yet."}):d.jsx("div",{className:"space-y-2",children:i.map(S=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:S.name}),S.description&&d.jsx("div",{className:"text-sm text-gray-500",children:S.description})]}),p&&d.jsx("button",{onClick:()=>_(S.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Leave cohort",children:d.jsx(df,{className:"w-4 h-4"})})]},S.id))}),p&&s.length>0&&d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Cohorts"}),d.jsx("div",{className:"space-y-2",children:s.map(S=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-md",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:S.name}),S.description&&d.jsx("div",{className:"text-sm text-gray-500",children:S.description})]}),d.jsxs("button",{onClick:()=>w(S.id),disabled:u,className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 transition-colors",children:[d.jsx(cm,{className:"w-4 h-4"}),"Join"]})]},S.id))})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Actions"}),d.jsx("div",{className:"space-y-2",children:d.jsxs("button",{onClick:j,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors font-medium",children:[d.jsx(XT,{className:"w-5 h-5"}),"Sign Out"]})})]})]}),d.jsx(Mn,{role:"student"})]})}function d1e({data:t}){return d.jsx(hm,{width:"100%",height:300,children:d.jsxs(ej,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(wm,{strokeDasharray:"3 3"}),d.jsx(Cl,{dataKey:"date"}),d.jsx(Tl,{domain:[0,100]}),d.jsx(pi,{}),d.jsx(bs,{}),d.jsx(xl,{type:"monotone",dataKey:"score",stroke:"#3b82f6",strokeWidth:2,name:"Score (%)",dot:{fill:"#3b82f6",r:4}})]})})}function f1e({user:t}){const[e,r]=Y.useState(null),[n,i]=Y.useState(!0),[a,s]=Y.useState([]);Y.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:c}=await Ee.from("cohort_members").select("cohort_id").eq("student_id",t.id),u=(c==null?void 0:c.map(E=>E.cohort_id))||[];let f=[];if(u.length>0){const{data:E}=await Ee.from("assignments").select("*").in("cohort_id",u);f=E||[]}const{data:p}=await Ee.from("simulation_runs").select("*, assignments!inner(snapshot_id, case_snapshots!inner(clinical_case))").eq("student_id",t.id).order("submitted_at",{ascending:!1}),h=(p||[]).filter(E=>E.submitted_at),v=(p||[]).filter(E=>!E.submitted_at),g=h.map(E=>{var z;return((z=E.score)==null?void 0:z.overall)||0}).filter(E=>E>0),b=g.length>0?g.reduce((E,z)=>E+z,0)/g.length:0,y=g.length>0?Math.max(...g):0,w=g.slice(0,3),_=g.slice(3,6),j=w.length>0?w.reduce((E,z)=>E+z,0)/w.length:0,S=_.length>0?_.reduce((E,z)=>E+z,0)/_.length:0,N=S>0?(j-S)/S*100:0,P=h.slice(0,10).map(E=>{var Z;const z=((Z=E.score)==null?void 0:Z.overall)||0,V=E.submitted_at||E.created_at;return{date:new Date(V).toLocaleDateString("en-US",{month:"short",day:"numeric"}),score:Math.round(z)}}).reverse();s(P);const C=new Map;h.forEach(E=>{var V;(((V=E.score)==null?void 0:V.sloResults)||[]).forEach(Z=>{const ne=Z.sloId||"unknown";C.has(ne)||C.set(ne,{achieved:0,total:0,text:Z.sloText});const ce=C.get(ne);ce.total++,Z.status==="Achieved"&&ce.achieved++})});const I=Array.from(C.entries()).map(([E,z])=>({sloId:E,sloText:z.text,achieved:z.achieved,total:z.total,percentage:z.total>0?z.achieved/z.total*100:0})).sort((E,z)=>z.percentage-E.percentage),F=h.reduce((E,z)=>{if(z.started_at&&z.submitted_at){const V=new Date(z.started_at),Z=new Date(z.submitted_at);return E+Math.floor((Z.getTime()-V.getTime())/6e4)}return E},0),O=h.slice(0,5).map(E=>{var z;return{date:E.submitted_at||E.created_at,action:"Completed simulation",score:((z=E.score)==null?void 0:z.overall)||0}}),T=new Set(h.map(E=>E.assignment_id)),M=new Set(v.map(E=>E.assignment_id)),R=f.filter(E=>T.has(E.id)).length,U=f.filter(E=>M.has(E.id)&&!T.has(E.id)).length,H=f.length-R-U,{data:G}=await Ee.from("competencies").select("id, domain, level, description"),{data:$}=await Ee.from("slo").select("id, competency_id, text"),X=new Map;$==null||$.forEach(E=>{E.competency_id&&X.set(E.id,E.competency_id)});const ae=new Map;G==null||G.forEach(E=>{ae.set(E.id,{competency:E.id,domain:E.domain,level:E.level||null,description:E.description,totalAttempts:0,achievedAttempts:0,assignments:[]})}),h.forEach(E=>{var ge,_e;if(!f.find(he=>he.id===E.assignment_id))return;const V=(ge=E.assignments)==null?void 0:ge.case_snapshots;if(!(V!=null&&V.clinical_case))return;const Z=V.clinical_case,ne=Z.sloMappings||[],ce=Z.title||"Untitled Assignment",ve=((_e=E.score)==null?void 0:_e.sloResults)||[],se=new Set(ve.filter(he=>he.status==="Achieved").map(he=>he.sloId));ne.forEach(he=>{const $e=X.get(he);if(!$e)return;const pe=ae.get($e);pe&&(pe.totalAttempts++,se.has(he)&&pe.achievedAttempts++,pe.assignments.includes(ce)||pe.assignments.push(ce))})});const ie=Array.from(ae.values()).filter(E=>E.totalAttempts>0).map(E=>({competency:E.competency,domain:E.domain,level:E.level,description:E.description,progress:E.totalAttempts>0?Math.round(E.achievedAttempts/E.totalAttempts*100):0,totalAttempts:E.totalAttempts,achievedAttempts:E.achievedAttempts,assignments:E.assignments})).sort((E,z)=>z.progress-E.progress);r({totalAssignments:f.length,completedAssignments:R,pendingAssignments:H,inProgressAssignments:U,totalAttempts:(p==null?void 0:p.length)||0,averageScore:Math.round(b),bestScore:Math.round(y),improvementTrend:Math.round(N*10)/10,sloProgress:I,recentActivity:O,timeSpent:F,competencyProgress:ie})}catch(c){console.error("Error loading analytics:",c)}finally{i(!1)}};if(n)return d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});if(!e)return d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 p-4",children:d.jsx("p",{children:"Unable to load analytics data."})});const l=e.totalAssignments>0?e.completedAssignments/e.totalAssignments*100:0;return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Analytics"}),d.jsx("p",{className:"text-gray-600",children:"Track your progress and performance"})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Bh,{className:"w-5 h-5 text-primary-600"}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[l.toFixed(0),"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Completion Rate"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Va,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[e.averageScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(cf,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[e.bestScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Xc,{className:"w-5 h-5 text-blue-600"}),d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.timeSpent})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Minutes Practiced"})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Ha,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Progress Overview"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Completed"}),d.jsxs("span",{className:"text-sm font-semibold",children:[e.completedAssignments,"/",e.totalAssignments]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-green-600 h-3 rounded-full transition-all",style:{width:`${l}%`}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"In Progress"}),d.jsx("span",{className:"text-sm font-semibold",children:e.inProgressAssignments})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-yellow-600 h-3 rounded-full transition-all",style:{width:`${e.totalAssignments>0?e.inProgressAssignments/e.totalAssignments*100:0}%`}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Pending"}),d.jsx("span",{className:"text-sm font-semibold",children:e.pendingAssignments})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-gray-400 h-3 rounded-full transition-all",style:{width:`${e.totalAssignments>0?e.pendingAssignments/e.totalAssignments*100:0}%`}})})]})]})]}),a.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Va,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Score Trend (Last 10 Attempts)"})]}),d.jsx(d1e,{data:a})]}),e.improvementTrend!==0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Va,{className:`w-5 h-5 ${e.improvementTrend>0?"text-green-600":"text-red-600"}`}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Performance Trend"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:`text-3xl font-bold ${e.improvementTrend>0?"text-green-600":"text-red-600"}`,children:[e.improvementTrend>0?"+":"",e.improvementTrend.toFixed(1),"%"]}),d.jsxs("div",{className:"text-gray-600",children:[e.improvementTrend>0?"Improving":"Declining"," compared to previous attempts"]})]})]}),e.sloProgress.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Bh,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"SLO Achievement"})]}),d.jsx("div",{className:"space-y-4",children:e.sloProgress.slice(0,5).map((c,u)=>d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:c.sloId}),c.sloText&&d.jsx("div",{className:"text-sm text-gray-600",children:c.sloText})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[c.percentage>=70?d.jsx(da,{className:"w-5 h-5 text-green-600"}):d.jsx(Js,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("span",{className:"font-semibold",children:[c.percentage.toFixed(0),"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${c.percentage>=70?"bg-green-600":"bg-yellow-600"}`,style:{width:`${c.percentage}%`}})}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Achieved ",c.achieved," out of ",c.total," attempts"]})]},u))})]}),e.recentActivity.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(jU,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"})]}),d.jsx("div",{className:"space-y-3",children:e.recentActivity.map((c,u)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(uf,{className:"w-4 h-4 text-gray-400"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:c.action}),d.jsx("div",{className:"text-sm text-gray-500",children:new Date(c.date).toLocaleDateString()})]})]}),c.score!==void 0&&d.jsxs("div",{className:"font-semibold text-primary-600",children:[c.score.toFixed(0),"%"]})]},u))})]}),e.competencyProgress.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Bh,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Competency Progress"})]}),d.jsx("div",{className:"space-y-4",children:e.competencyProgress.slice(0,8).map((c,u)=>d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:c.competency}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:c.description}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:c.domain}),c.level&&d.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded",children:c.level})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[c.progress>=70?d.jsx(da,{className:"w-5 h-5 text-green-600"}):c.progress>=50?d.jsx(Js,{className:"w-5 h-5 text-yellow-600"}):d.jsx(Js,{className:"w-5 h-5 text-red-600"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[c.progress,"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${c.progress>=70?"bg-green-600":c.progress>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${c.progress}%`}})}),d.jsxs("div",{className:"text-xs text-gray-500",children:["Achieved ",c.achievedAttempts," out of ",c.totalAttempts," attempts",c.assignments.length>0&&d.jsxs("span",{className:"ml-2",children:[" ",c.assignments.length," assignment",c.assignments.length!==1?"s":""]})]})]},u))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Assignment Status"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Assignments"}),d.jsx("span",{className:"font-semibold",children:e.totalAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Completed"}),d.jsx("span",{className:"font-semibold text-green-600",children:e.completedAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"In Progress"}),d.jsx("span",{className:"font-semibold text-yellow-600",children:e.inProgressAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Pending"}),d.jsx("span",{className:"font-semibold text-gray-600",children:e.pendingAssignments})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Stats"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Attempts"}),d.jsx("span",{className:"font-semibold",children:e.totalAttempts})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Average Score"}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[e.averageScore,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Best Score"}),d.jsxs("span",{className:"font-semibold text-yellow-600",children:[e.bestScore,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Time Practiced"}),d.jsxs("span",{className:"font-semibold text-blue-600",children:[e.timeSpent," min"]})]})]})]})]})]}),d.jsx(Mn,{role:"student"})]})}function RR({data:t}){return!t||t.length===0?d.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:d.jsx("p",{children:"No performance data available"})}):d.jsx(hm,{width:"100%",height:300,children:d.jsxs(ej,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(wm,{strokeDasharray:"3 3"}),d.jsx(Cl,{dataKey:"date",angle:-45,textAnchor:"end",height:80}),d.jsx(Tl,{domain:[0,100]}),d.jsx(pi,{formatter:e=>[`${e.toFixed(1)}%`,"Average Score"],labelFormatter:e=>`Date: ${e}`}),d.jsx(bs,{}),d.jsx(xl,{type:"monotone",dataKey:"averageScore",stroke:"#3b82f6",strokeWidth:2,name:"Average Score",dot:{fill:"#3b82f6",r:4},activeDot:{r:6}})]})})}function MR({entries:t,maxDisplay:e=20}){if(!t||t.length===0)return d.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:d.jsx("p",{children:"No student performance data available"})});const r=t.slice(0,e),n=a=>a===1?d.jsx(BU,{className:"w-6 h-6 text-yellow-500"}):a===2?d.jsx(CU,{className:"w-6 h-6 text-gray-400"}):a===3?d.jsx(cf,{className:"w-6 h-6 text-amber-600"}):d.jsx("div",{className:"w-6 h-6 flex items-center justify-center text-gray-500 font-bold",children:a}),i=a=>a===1?"bg-yellow-50 border-yellow-200":a===2?"bg-gray-50 border-gray-200":a===3?"bg-amber-50 border-amber-200":"bg-white border-gray-200";return d.jsxs("div",{className:"space-y-2",children:[r.map((a,s)=>{const o=s+1;return d.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border-2 ${i(o)} transition-all hover:shadow-md`,children:[d.jsx("div",{className:"flex-shrink-0",children:n(o)}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold text-gray-900 truncate",children:a.name}),d.jsx("div",{className:"text-sm text-gray-600 truncate",children:a.email})]}),d.jsxs("div",{className:"flex items-center gap-6 flex-shrink-0",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-gray-500",children:"Avg Score"}),d.jsxs("div",{className:"text-lg font-bold text-primary-600",children:[a.averageScore.toFixed(1),"%"]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-gray-500",children:"Attempts"}),d.jsx("div",{className:"text-lg font-semibold text-gray-700",children:a.totalAttempts})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-gray-500",children:"Best"}),d.jsxs("div",{className:"text-lg font-semibold text-green-600",children:[a.bestScore.toFixed(1),"%"]})]})]})]},a.id)}),t.length>e&&d.jsxs("div",{className:"text-center text-sm text-gray-500 pt-2",children:["Showing top ",e," of ",t.length," students"]})]})}function h1e({user:t}){const e=bo(),[r,n]=Y.useState({totalFaculty:0,totalStudents:0,activeStations:0,coverage:0}),[i,a]=Y.useState(!0),[s,o]=Y.useState([]),[l,c]=Y.useState([]),[u,f]=Y.useState(!0);Y.useEffect(()=>{h(),v()},[]);const p=async()=>{try{const{data:g}=await Ee.from("users").select("id, name, email, role, created_at"),{data:b}=await Ee.from("stations").select("id, title, created_at"),{data:y}=await Ee.from("case_snapshots").select("id, approved_at"),{data:w}=await Ee.from("assignments").select("id, created_at"),{data:_}=await Ee.from("simulation_runs").select("id, score, submitted_at").not("submitted_at","is",null),{data:j}=await Ee.from("competencies").select("id, domain, level"),S=(g==null?void 0:g.filter(R=>R.role==="faculty").length)||0,N=(g==null?void 0:g.filter(R=>R.role==="student").length)||0,P=(_==null?void 0:_.filter(R=>R.submitted_at))||[],C=P.map(R=>{var U;return((U=R.score)==null?void 0:U.overall)||0}).filter(R=>R>0),I=C.length>0?C.reduce((R,U)=>R+U,0)/C.length:0,F={generatedAt:new Date().toISOString(),summary:{totalUsers:(g==null?void 0:g.length)||0,totalFaculty:S,totalStudents:N,totalStations:(b==null?void 0:b.length)||0,totalSnapshots:(y==null?void 0:y.length)||0,totalAssignments:(w==null?void 0:w.length)||0,totalCompletions:P.length,averageScore:Math.round(I),totalCompetencies:(j==null?void 0:j.length)||0},userBreakdown:{faculty:g==null?void 0:g.filter(R=>R.role==="faculty").map(R=>({name:R.name,email:R.email,joined:R.created_at})),students:g==null?void 0:g.filter(R=>R.role==="student").map(R=>({name:R.name,email:R.email,joined:R.created_at}))},performance:{totalAttempts:P.length,averageScore:Math.round(I),completionRate:w&&w.length>0?Math.round(P.length/w.length*100):0}},O=new Blob([JSON.stringify(F,null,2)],{type:"application/json"}),T=URL.createObjectURL(O),M=document.createElement("a");M.href=T,M.download=`system-report-${new Date().toISOString().split("T")[0]}.json`,M.click(),e.success("Report exported successfully!")}catch(g){e.error("Error exporting report: "+(g.message||"Unknown error")),console.error("Error exporting report:",g)}},h=async()=>{try{const{data:g}=await Ee.from("users").select("role"),b=(g==null?void 0:g.filter(O=>O.role==="faculty").length)||0,y=(g==null?void 0:g.filter(O=>O.role==="student").length)||0,{data:w}=await Ee.from("stations").select("id"),{data:_}=await Ee.from("competencies").select("id"),{data:j}=await Ee.from("slo").select("id, competency_id"),S=new Map;j==null||j.forEach(O=>{O.competency_id&&S.set(O.id,O.competency_id)});const{data:N}=await Ee.from("case_snapshots").select("clinical_case"),P=new Set;N==null||N.forEach(O=>{var M;(((M=O.clinical_case)==null?void 0:M.sloMappings)||[]).forEach(R=>{const U=S.get(R);U&&P.add(U)})});const C=(_==null?void 0:_.length)||0,I=P.size,F=C>0?Math.round(I/C*100):0;n({totalFaculty:b,totalStudents:y,activeStations:(w==null?void 0:w.length)||0,coverage:F})}catch(g){console.error("Error loading stats:",g)}finally{a(!1)}},v=async()=>{try{f(!0);const{data:g,error:b}=await Ee.from("simulation_runs").select("id, score, submitted_at, student_id").not("submitted_at","is",null).order("submitted_at",{ascending:!1}).limit(1e3);if(b)throw b;const y=new Map;g==null||g.forEach(N=>{var F,O;const P=(F=N.submitted_at)==null?void 0:F.split("T")[0];if(!P)return;const C=(O=N.score)==null?void 0:O.overall;if(!C||C<=0)return;y.has(P)||y.set(P,{scores:[],students:new Set});const I=y.get(P);I.scores.push(C),I.students.add(N.student_id)});const w=Array.from(y.entries()).map(([N,P])=>({dateKey:N,date:new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric"}),averageScore:P.scores.reduce((C,I)=>C+I,0)/P.scores.length,totalStudents:P.students.size})).sort((N,P)=>N.dateKey.localeCompare(P.dateKey)).slice(-30).map(({dateKey:N,...P})=>P);o(w);const _=new Map;g==null||g.forEach(N=>{var C;const P=(C=N.score)==null?void 0:C.overall;!P||P<=0||(_.has(N.student_id)||_.set(N.student_id,{scores:[],name:"",email:""}),_.get(N.student_id).scores.push(P))});const j=Array.from(_.keys());if(j.length>0){const{data:N}=await Ee.from("users").select("id, name, email").eq("role","student").in("id",j);N==null||N.forEach(P=>{const C=_.get(P.id);C&&(C.name=P.name,C.email=P.email)})}const S=Array.from(_.entries()).map(([N,P])=>{const C=P.scores.reduce((F,O)=>F+O,0)/P.scores.length,I=Math.max(...P.scores);return{id:N,name:P.name||"Unknown",email:P.email||"",averageScore:C,totalAttempts:P.scores.length,bestScore:I}}).filter(N=>N.name!=="Unknown").sort((N,P)=>P.averageScore!==N.averageScore?P.averageScore-N.averageScore:P.totalAttempts-N.totalAttempts).slice(0,50);c(S)}catch(g){console.error("Error loading performance data:",g)}finally{f(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Admin Dashboard"}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Faculty"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.totalFaculty})]}),d.jsx(vl,{className:"w-8 h-8 text-blue-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Students"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.totalStudents})]}),d.jsx(vl,{className:"w-8 h-8 text-green-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Active Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.activeStations})]}),d.jsx(Gi,{className:"w-8 h-8 text-purple-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"CBDC Coverage"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[r.coverage,"%"]})]}),d.jsx(Ha,{className:"w-8 h-8 text-orange-600"})]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Student Performance Trend"}),u?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx(RR,{data:s})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Student Leaderboard"}),u?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx(MR,{entries:l,maxDisplay:20})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),d.jsx("div",{className:"flex gap-4",children:d.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(od,{className:"w-4 h-4"}),"Export System Report"]})})]})]})]})})]})}function p1e({isOpen:t,onClose:e,onSave:r}){const[n,i]=Y.useState({id:"",domain:"",level:"",description:""}),[a,s]=Y.useState(!1),[o,l]=Y.useState(null);if(!t)return null;const c=async u=>{if(u.preventDefault(),l(null),!n.id.trim()||!n.domain.trim()||!n.description.trim()){l("ID, Domain, and Description are required");return}s(!0);try{await r({id:n.id.trim(),domain:n.domain.trim(),level:n.level.trim()||null,description:n.description.trim()}),i({id:"",domain:"",level:"",description:""}),e()}catch(f){l(f.message||"Failed to save competency")}finally{s(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Competency"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(df,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[o&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:o}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ID ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:n.id,onChange:u=>i({...n,id:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Domain ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:n.domain,onChange:u=>i({...n,domain:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),d.jsx("input",{type:"text",value:n.level,onChange:u=>i({...n,level:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Optional"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{value:n.description,onChange:u=>i({...n,description:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,required:!0})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Saving...":"Save"})]})]})]})})}function m1e({isOpen:t,onClose:e,competency:r,onSave:n}){const[i,a]=Y.useState({id:"",domain:"",level:"",description:""}),[s,o]=Y.useState(!1),[l,c]=Y.useState(null);if(Y.useEffect(()=>{r&&a({id:r.id,domain:r.domain,level:r.level||"",description:r.description})},[r]),!t||!r)return null;const u=async f=>{if(f.preventDefault(),c(null),!i.domain.trim()||!i.description.trim()){c("Domain and Description are required");return}o(!0);try{await n({id:i.id,domain:i.domain.trim(),level:i.level.trim()||null,description:i.description.trim()}),e()}catch(p){c(p.message||"Failed to update competency")}finally{o(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Competency"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(df,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),d.jsx("input",{type:"text",value:i.id,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ID cannot be changed"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Domain ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i.domain,onChange:f=>a({...i,domain:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),d.jsx("input",{type:"text",value:i.level,onChange:f=>a({...i,level:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Optional"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{value:i.description,onChange:f=>a({...i,description:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,required:!0})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Saving...":"Update"})]})]})]})})}function g1e({user:t}){const e=bo(),[r,n]=Y.useState([]),[i,a]=Y.useState(!0),[s,o]=Y.useState(!1),[l,c]=Y.useState(null);Y.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:g,error:b}=await Ee.from("competencies").select("*").order("id");if(b)throw b;n(g||[])}catch(g){console.error("Error loading competencies:",g)}finally{a(!1)}},f=()=>{const g=[["ID","Domain","Level","Description"],...r.map(_=>[_.id,_.domain,_.level||"",_.description])].map(_=>_.map(j=>`"${j}"`).join(",")).join(`
`),b=new Blob([g],{type:"text/csv"}),y=URL.createObjectURL(b),w=document.createElement("a");w.href=y,w.download="cbdc-competencies.csv",w.click()},p=async g=>{const{error:b}=await Ee.from("competencies").insert([g]);if(b)throw b;await u()},h=async g=>{const{error:b}=await Ee.from("competencies").update({domain:g.domain,level:g.level,description:g.description}).eq("id",g.id);if(b)throw b;await u()},v=async g=>{if(!confirm(`Are you sure you want to delete competency "${g}"? This action cannot be undone.`))return;const{error:b}=await Ee.from("competencies").delete().eq("id",g);if(b){e.error("Error deleting competency: "+b.message);return}await u()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"CBDC Manager"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[d.jsx(od,{className:"w-4 h-4"}),"Export CSV"]}),d.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(cm,{className:"w-4 h-4"}),"Add Competency"]})]})]}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Domain"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(g=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.id}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.domain}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.level||"-"}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:g.description}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[d.jsx("button",{onClick:()=>c(g),className:"text-primary-600 hover:text-primary-900 mr-4",title:"Edit competency",children:d.jsx(W_,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>v(g.id),className:"text-red-600 hover:text-red-900",title:"Delete competency",children:d.jsx(DU,{className:"w-4 h-4"})})]})]},g.id))})]})})]})}),d.jsx(p1e,{isOpen:s,onClose:()=>o(!1),onSave:p}),d.jsx(m1e,{isOpen:l!==null,onClose:()=>c(null),competency:l,onSave:h})]})}function v1e({isOpen:t,onClose:e,user:r,onSave:n}){const[i,a]=Y.useState({name:"",email:"",role:"student"}),[s,o]=Y.useState(!1),[l,c]=Y.useState(null);if(Y.useEffect(()=>{r&&a({name:r.name,email:r.email,role:r.role})},[r]),!t||!r)return null;const u=async f=>{if(f.preventDefault(),c(null),!i.name.trim()||!i.email.trim()){c("Name and Email are required");return}o(!0);try{await n({id:r.id,name:i.name.trim(),email:i.email.trim(),role:i.role}),e()}catch(p){c(p.message||"Failed to update user")}finally{o(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit User"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(df,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i.name,onChange:f=>a({...i,name:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"email",value:i.email,onChange:f=>a({...i,email:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{value:i.role,onChange:f=>a({...i,role:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Saving...":"Update"})]})]})]})})}function y1e({user:t}){const[e,r]=Y.useState([]),[n,i]=Y.useState(!0),[a,s]=Y.useState(""),[o,l]=Y.useState(null);Y.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:h,error:v}=await Ee.from("users").select("*").order("created_at",{ascending:!1});if(v)throw v;r(h||[])}catch(h){console.error("Error loading users:",h)}finally{i(!1)}},u=e.filter(h=>h.name.toLowerCase().includes(a.toLowerCase())||h.email.toLowerCase().includes(a.toLowerCase())),f=h=>{switch(h){case"admin":return"bg-red-100 text-red-800";case"faculty":return"bg-blue-100 text-blue-800";case"student":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},p=async h=>{const{error:v}=await Ee.from("users").update({name:h.name,email:h.email,role:h.role}).eq("id",h.id);if(v)throw v;await c()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"User Management"}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(H_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:h=>s(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),n?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(h=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(vs,{className:"w-5 h-5 text-gray-400 mr-2"}),d.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.email}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${f(h.role)}`,children:h.role})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(h.created_at).toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>l(h),className:"text-primary-600 hover:text-primary-900",title:"Edit user",children:d.jsx(W_,{className:"w-4 h-4"})})})]},h.id))})]})})]})}),d.jsx(v1e,{isOpen:o!==null,onClose:()=>l(null),user:o,onSave:p})]})}function b1e({user:t}){const e=bo(),[r,n]=Y.useState([]),[i,a]=Y.useState(null),[s,o]=Y.useState([]),[l,c]=Y.useState([]),[u,f]=Y.useState(!0);Y.useEffect(()=>{p(),g()},[]);const p=async()=>{try{const{data:b,error:y}=await Ee.from("reports").select("*").order("created_at",{ascending:!1}).limit(10);if(y)throw y;n(b||[])}catch(b){console.error("Error loading reports:",b)}},h=async b=>{a(b);try{const y=new Date;let w,_=new Date(y);if(b==="quarterly"){const E=Math.floor(y.getMonth()/3);w=new Date(y.getFullYear(),E*3,1)}else w=new Date(y.getFullYear(),0,1);const{data:j}=await Ee.from("competencies").select("*"),{data:S}=await Ee.from("stations").select("id, title, blueprint"),{data:N}=await Ee.from("case_snapshots").select("id, clinical_case, approved_at").gte("approved_at",w.toISOString()).lte("approved_at",_.toISOString()),{data:P}=await Ee.from("assignments").select("id, snapshot_id, created_at").gte("created_at",w.toISOString()).lte("created_at",_.toISOString()),C=(P==null?void 0:P.map(E=>E.id))||[],{data:I}=await Ee.from("simulation_runs").select("id, score, submitted_at").in("assignment_id",C).not("submitted_at","is",null),F=new Set;N==null||N.forEach(E=>{var V;(((V=E.clinical_case)==null?void 0:V.sloMappings)||[]).forEach(Z=>{F.add(Z)})});const O=(j==null?void 0:j.length)||0,T=F.size,M=O>0?Math.round(T/O*100):0,R=(I==null?void 0:I.filter(E=>E.submitted_at))||[],U=R.map(E=>{var z;return((z=E.score)==null?void 0:z.overall)||0}).filter(E=>E>0),H=U.length>0?U.reduce((E,z)=>E+z,0)/U.length:0,G={summary:{period:b==="quarterly"?"Quarterly":"Annual",periodStart:w.toISOString().split("T")[0],periodEnd:_.toISOString().split("T")[0],generatedAt:new Date().toISOString()},metrics:{totalCompetencies:O,coveredCompetencies:T,coverage:M,totalStations:(S==null?void 0:S.length)||0,totalSnapshots:(N==null?void 0:N.length)||0,totalAssignments:(P==null?void 0:P.length)||0,totalCompletions:R.length,averageScore:Math.round(H)},stationDistribution:{total:(S==null?void 0:S.length)||0,bySubject:{}},studentPerformance:{totalAttempts:R.length,averageScore:Math.round(H),completionRate:P&&P.length>0?Math.round(R.length/P.length*100):0},sloAchievement:{total:0,achieved:0,percentage:0}},{error:$}=await Ee.from("reports").insert([{type:b,period_start:w.toISOString().split("T")[0],period_end:_.toISOString().split("T")[0],report_data:G,generated_by:t.id}]);if($)throw $;const X=new Blob([JSON.stringify(G,null,2)],{type:"application/json"}),ae=URL.createObjectURL(X),ie=document.createElement("a");ie.href=ae,ie.download=`${b}-report-${w.toISOString().split("T")[0]}.json`,ie.click(),await p(),e.success("Report generated successfully!")}catch(y){e.error("Error generating report: "+(y.message||"Unknown error")),console.error("Error generating report:",y)}finally{a(null)}},v=b=>{try{const y=b.report_data;let w=`Compliance Report
`;w+=`Type,${b.type}
`,w+=`Period,${b.period_start} to ${b.period_end}
`,w+=`Generated,${new Date(b.created_at).toLocaleString()}

`,w+=`Metrics
`,w+=`Metric,Value
`,y.metrics&&(w+=`CBDC Coverage,${y.metrics.coverage}%
`,w+=`Total Stations,${y.metrics.totalStations}
`,w+=`Total Snapshots,${y.metrics.totalSnapshots}
`,w+=`Total Assignments,${y.metrics.totalAssignments}
`,w+=`Total Completions,${y.metrics.totalCompletions}
`,w+=`Average Score,${y.metrics.averageScore}%
`),w+=`
Student Performance
`,w+=`Metric,Value
`,y.studentPerformance&&(w+=`Total Attempts,${y.studentPerformance.totalAttempts}
`,w+=`Average Score,${y.studentPerformance.averageScore}%
`,w+=`Completion Rate,${y.studentPerformance.completionRate}%
`);const _=new Blob([w],{type:"text/csv;charset=utf-8;"}),j=URL.createObjectURL(_),S=document.createElement("a");S.href=j,S.download=`${b.type}-report-${b.period_start}.csv`,S.click(),URL.revokeObjectURL(j),e.success("CSV exported successfully!")}catch(y){e.error("Error exporting CSV: "+(y.message||"Unknown error"))}},g=async()=>{try{f(!0);const{data:b,error:y}=await Ee.from("simulation_runs").select("id, score, submitted_at, student_id").not("submitted_at","is",null).order("submitted_at",{ascending:!1}).limit(1e3);if(y)throw y;const w=new Map;b==null||b.forEach(P=>{var O,T;const C=(O=P.submitted_at)==null?void 0:O.split("T")[0];if(!C)return;const I=(T=P.score)==null?void 0:T.overall;if(!I||I<=0)return;w.has(C)||w.set(C,{scores:[],students:new Set});const F=w.get(C);F.scores.push(I),F.students.add(P.student_id)});const _=Array.from(w.entries()).map(([P,C])=>({dateKey:P,date:new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric"}),averageScore:C.scores.reduce((I,F)=>I+F,0)/C.scores.length,totalStudents:C.students.size})).sort((P,C)=>P.dateKey.localeCompare(C.dateKey)).slice(-30).map(({dateKey:P,...C})=>C);o(_);const j=new Map;b==null||b.forEach(P=>{var I;const C=(I=P.score)==null?void 0:I.overall;!C||C<=0||(j.has(P.student_id)||j.set(P.student_id,{scores:[],name:"",email:""}),j.get(P.student_id).scores.push(C))});const S=Array.from(j.keys());if(S.length>0){const{data:P}=await Ee.from("users").select("id, name, email").eq("role","student").in("id",S);P==null||P.forEach(C=>{const I=j.get(C.id);I&&(I.name=C.name,I.email=C.email)})}const N=Array.from(j.entries()).map(([P,C])=>{const I=C.scores.reduce((O,T)=>O+T,0)/C.scores.length,F=Math.max(...C.scores);return{id:P,name:C.name||"Unknown",email:C.email||"",averageScore:I,totalAttempts:C.scores.length,bestScore:F}}).filter(P=>P.name!=="Unknown").sort((P,C)=>C.averageScore!==P.averageScore?C.averageScore-P.averageScore:C.totalAttempts-P.totalAttempts).slice(0,50);c(N)}catch(b){console.error("Error loading performance data:",b)}finally{f(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(wi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Compliance Reports"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Student Performance Trend"}),u?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx(RR,{data:s})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Student Leaderboard"}),u?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx(MR,{entries:l,maxDisplay:20})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Quarterly Report"}),d.jsx(Gi,{className:"w-8 h-8 text-blue-600"})]}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Generate a comprehensive quarterly compliance report covering all competencies and stations."}),d.jsx("button",{onClick:()=>h("quarterly"),disabled:i!==null,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i==="quarterly"?d.jsxs(d.Fragment,{children:[d.jsx(Sd,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(od,{className:"w-4 h-4"}),"Generate Quarterly Report"]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Annual Report"}),d.jsx(Va,{className:"w-8 h-8 text-green-600"})]}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Generate an annual compliance report with year-over-year trends and analytics."}),d.jsx("button",{onClick:()=>h("annual"),disabled:i!==null,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i==="annual"?d.jsxs(d.Fragment,{children:[d.jsx(Sd,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(od,{className:"w-4 h-4"}),"Generate Annual Report"]})})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Report History"}),r.length===0?d.jsx("p",{className:"text-gray-600",children:"No reports generated yet."}):d.jsx("div",{className:"space-y-3",children:r.map(b=>{var y;return d.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded ${b.type==="quarterly"?"bg-blue-100":"bg-green-100"}`,children:b.type==="quarterly"?d.jsx(Gi,{className:"w-5 h-5 text-blue-600"}):d.jsx(Va,{className:"w-5 h-5 text-green-600"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium text-gray-900 capitalize",children:[b.type," Report"]}),d.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2 mt-1",children:[d.jsx(uf,{className:"w-4 h-4"}),new Date(b.period_start).toLocaleDateString()," - ",new Date(b.period_end).toLocaleDateString()]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"text-sm text-gray-500",children:new Date(b.created_at).toLocaleDateString()}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>{const w=new Blob([JSON.stringify(b.report_data,null,2)],{type:"application/json"}),_=URL.createObjectURL(w),j=document.createElement("a");j.href=_,j.download=`${b.type}-report-${b.period_start}.json`,j.click()},className:"p-2 text-primary-600 hover:bg-primary-50 rounded transition-colors",title:"Download JSON",children:d.jsx(od,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>v(b),className:"p-2 text-green-600 hover:bg-green-50 rounded transition-colors",title:"Export to CSV",children:d.jsx(NU,{className:"w-4 h-4"})})]})]})]}),((y=b.report_data)==null?void 0:y.metrics)&&d.jsxs("div",{className:"mt-3 pt-3 border-t grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Coverage"}),d.jsxs("div",{className:"font-semibold text-gray-900",children:[b.report_data.metrics.coverage,"%"]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Stations"}),d.jsx("div",{className:"font-semibold text-gray-900",children:b.report_data.metrics.totalStations})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Completions"}),d.jsx("div",{className:"font-semibold text-gray-900",children:b.report_data.metrics.totalCompletions})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Avg Score"}),d.jsxs("div",{className:"font-semibold text-gray-900",children:[b.report_data.metrics.averageScore,"%"]})]})]})]},b.id)})})]})]})}),d.jsx(yl,{toasts:e.toasts,onClose:e.removeToast})]})}function x1e(){return d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})})}class w1e extends Y.Component{constructor(){super(...arguments);Zt(this,"state",{hasError:!1,error:null});Zt(this,"handleReset",()=>{this.setState({hasError:!1,error:null}),window.location.href="/"})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n)}render(){var r;return this.state.hasError?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[d.jsx(ky,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),d.jsx("p",{className:"text-gray-600 mb-4",children:((r=this.state.error)==null?void 0:r.message)||"An unexpected error occurred"}),d.jsxs("button",{onClick:this.handleReset,className:"flex items-center justify-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors mx-auto",children:[d.jsx(LU,{className:"w-4 h-4"}),"Return to Home"]})]})}):this.props.children}}function _1e({authUserId:t,authUserEmail:e,authUserName:r,onComplete:n}){const[i,a]=Y.useState(r||""),[s,o]=Y.useState("student"),[l,c]=Y.useState([]),[u,f]=Y.useState([]),[p,h]=Y.useState(!1),[v,g]=Y.useState(!1),[b,y]=Y.useState(null);Y.useEffect(()=>{s==="student"&&w()},[s]);const w=async()=>{h(!0);try{const{data:j,error:S}=await Ee.from("cohorts").select("id, name, description").order("name");if(S)throw S;f(j||[])}catch(j){console.error("Error loading cohorts:",j)}finally{h(!1)}},_=async j=>{j.preventDefault(),g(!0),y(null);try{const{error:S}=await Ee.from("users").insert({id:t,name:i.trim()||(e==null?void 0:e.split("@")[0])||"User",email:e||"",role:s}).select().single();if(S)throw S;if(s==="student"&&l.length>0){const N=l.map(C=>({cohort_id:C,student_id:t})),{error:P}=await Ee.from("cohort_members").insert(N);P&&console.error("Error adding student to cohorts:",P)}n()}catch(S){y(S.message||"An error occurred while completing your profile"),g(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-primary-50 to-gray-100 px-4 py-8",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 md:p-10 w-full max-w-md border-2 border-gray-200",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-16 md:h-20 w-auto object-contain"})}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Complete Your Profile"}),d.jsx("p",{className:"text-gray-600 mt-2 text-sm md:text-base",children:"Please provide the following information to complete your account setup"})]}),d.jsxs("form",{onSubmit:_,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i,onChange:j=>a(j.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400",placeholder:"Enter your full name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",value:e||"",disabled:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email is set from your OAuth account"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{value:s,onChange:j=>{o(j.target.value),c([])},required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 bg-white",children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),s==="student"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Cohorts (Optional)"}),p?d.jsx("div",{className:"text-sm text-gray-500",children:"Loading cohorts..."}):u.length===0?d.jsx("div",{className:"text-sm text-gray-500 p-3 bg-gray-50 rounded-md",children:"No cohorts available. You can join cohorts later from your profile settings."}):d.jsx("div",{className:"border border-gray-300 rounded-md max-h-40 overflow-y-auto p-2",children:u.map(j=>d.jsxs("label",{className:"flex items-start gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:l.includes(j.id),onChange:S=>{S.target.checked?c([...l,j.id]):c(l.filter(N=>N!==j.id))},className:"mt-1"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.name}),j.description&&d.jsx("div",{className:"text-xs text-gray-500",children:j.description})]})]},j.id))}),l.length>0&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length," cohort",l.length!==1?"s":""," selected"]})]}),b&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:b}),d.jsx("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white py-3 px-6 rounded-xl hover:from-primary-700 hover:to-primary-800 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 font-bold text-base md:text-lg shadow-lg transition-all transform hover:scale-[1.02]",children:v?"Completing Profile...":"Complete Profile"})]})]})})}const yE={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpdmN1c2ZzcHBqeWFsYmdxdHh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NjI2NjYsImV4cCI6MjA3ODQzODY2Nn0.DMugE2X3gBvcRBXt-NqWceWQB2Vmi9kbavEE6MEjAmI",VITE_SUPABASE_URL:"https://kivcusfsppjyalbgqtxy.supabase.co"};function S1e(){const[t,e]=Y.useState(null),[r,n]=Y.useState(!0),[i,a]=Y.useState(!1),[s,o]=Y.useState(null);Y.useEffect(()=>{Ee.auth.getSession().then(({data:{session:h}})=>{h?l():n(!1)});const{data:{subscription:p}}=Ee.auth.onAuthStateChange((h,v)=>{v?l():(e(null),n(!1))});return()=>p.unsubscribe()},[]);const l=async()=>{var p,h,v,g,b,y;try{const{data:{user:w}}=await Ee.auth.getUser();if(!w){n(!1);return}const{data:_,error:j}=await Ee.from("users").select("*").eq("id",w.id).single();if(j&&j.code==="PGRST116")if(((p=w.identities)==null?void 0:p.some(N=>N.provider!=="email"))||!1){o({id:w.id,email:w.email,name:((h=w.user_metadata)==null?void 0:h.name)||((v=w.user_metadata)==null?void 0:v.full_name)}),a(!0),n(!1);return}else{const{data:N}=await Ee.from("users").insert({id:w.id,name:((g=w.user_metadata)==null?void 0:g.name)||((b=w.email)==null?void 0:b.split("@")[0])||"User",email:w.email,role:((y=w.user_metadata)==null?void 0:y.role)||"student"}).select().single();N&&e(N)}else _&&(e(_),a(!1))}catch(w){console.error("Error loading user:",w)}finally{n(!1)}},c=()=>{a(!1),o(null),l()};if(r)return d.jsx(x1e,{});if(i&&s)return d.jsx(_1e,{authUserId:s.id,authUserEmail:s.email,authUserName:s.name,onComplete:c});if(!t)return d.jsx(wU,{onAuthSuccess:l});const f=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY"].filter(p=>!yE[p]||yE[p].trim()==="");return f.length>0?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Configuration Error"}),d.jsx("p",{className:"text-gray-700 mb-4",children:"The following required environment variables are missing:"}),d.jsx("ul",{className:"list-disc list-inside text-gray-600 mb-4 space-y-1",children:f.map(p=>d.jsx("li",{children:p},p))}),d.jsx("p",{className:"text-sm text-gray-500",children:"Please set these variables in your .env file and restart the application."})]})}):d.jsx(w1e,{children:d.jsxs(Y9,{children:[d.jsxs(z9,{children:[t.role==="faculty"&&d.jsxs(d.Fragment,{children:[d.jsx(rn,{path:"/dashboard",element:d.jsx(FU,{user:t})}),d.jsx(rn,{path:"/create",element:d.jsx(zU,{user:t})}),d.jsx(rn,{path:"/review/:stationId",element:d.jsx(gz,{user:t})}),d.jsx(rn,{path:"/assign/:snapshotId",element:d.jsx(vz,{user:t})}),d.jsx(rn,{path:"/library",element:d.jsx(yz,{user:t})}),d.jsx(rn,{path:"/analytics",element:d.jsx(t0e,{user:t})}),d.jsx(rn,{path:"/profile",element:d.jsx(r0e,{user:t})})]}),t.role==="student"&&d.jsxs(d.Fragment,{children:[d.jsx(rn,{path:"/home",element:d.jsx(tP,{user:t})}),d.jsx(rn,{path:"/assigned",element:d.jsx(tP,{user:t})}),d.jsx(rn,{path:"/analytics",element:d.jsx(f1e,{user:t})}),d.jsx(rn,{path:"/simulation/:assignmentId",element:d.jsx(u0e,{user:t})}),d.jsx(rn,{path:"/debrief/:runId",element:d.jsx(l1e,{user:t})}),d.jsx(rn,{path:"/results",element:d.jsx(c1e,{user:t})}),d.jsx(rn,{path:"/profile",element:d.jsx(u1e,{user:t})})]}),t.role==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx(rn,{path:"/admin/dashboard",element:d.jsx(h1e,{user:t})}),d.jsx(rn,{path:"/admin/reports",element:d.jsx(b1e,{user:t})}),d.jsx(rn,{path:"/admin/cbdc",element:d.jsx(g1e,{user:t})}),d.jsx(rn,{path:"/admin/users",element:d.jsx(y1e,{user:t})})]}),d.jsx(rn,{path:"/",element:d.jsx(F9,{to:t.role==="faculty"?"/dashboard":t.role==="admin"?"/admin/dashboard":"/home",replace:!0})})]}),t&&d.jsx(Mn,{role:t.role})]})})}Mx.createRoot(document.getElementById("root")).render(d.jsx(oe.StrictMode,{children:d.jsx(S1e,{})}));export{ir as _,ig as c,sr as g};
