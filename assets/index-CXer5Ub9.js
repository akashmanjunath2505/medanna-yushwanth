var y7=Object.defineProperty;var b7=(t,e,r)=>e in t?y7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Jt=(t,e,r)=>b7(t,typeof e!="symbol"?e+"":e,r);function vE(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var rg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ar(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function x7(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var yE={exports:{}},iy={},bE={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=Symbol.for("react.element"),w7=Symbol.for("react.portal"),_7=Symbol.for("react.fragment"),S7=Symbol.for("react.strict_mode"),j7=Symbol.for("react.profiler"),A7=Symbol.for("react.provider"),N7=Symbol.for("react.context"),k7=Symbol.for("react.forward_ref"),O7=Symbol.for("react.suspense"),P7=Symbol.for("react.memo"),E7=Symbol.for("react.lazy"),zj=Symbol.iterator;function C7(t){return t===null||typeof t!="object"?null:(t=zj&&t[zj]||t["@@iterator"],typeof t=="function"?t:null)}var xE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wE=Object.assign,_E={};function ef(t,e,r){this.props=t,this.context=e,this.refs=_E,this.updater=r||xE}ef.prototype.isReactComponent={};ef.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ef.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function SE(){}SE.prototype=ef.prototype;function $5(t,e,r){this.props=t,this.context=e,this.refs=_E,this.updater=r||xE}var R5=$5.prototype=new SE;R5.constructor=$5;wE(R5,ef.prototype);R5.isPureReactComponent=!0;var qj=Array.isArray,jE=Object.prototype.hasOwnProperty,M5={current:null},AE={key:!0,ref:!0,__self:!0,__source:!0};function NE(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)jE.call(e,n)&&!AE.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:rm,type:t,key:a,ref:s,props:i,_owner:M5.current}}function T7(t,e){return{$$typeof:rm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function D5(t){return typeof t=="object"&&t!==null&&t.$$typeof===rm}function L7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Wj=/\/+/g;function tb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?L7(""+t.key):e.toString(36)}function Zg(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case rm:case w7:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+tb(s,0):n,qj(i)?(r="",t!=null&&(r=t.replace(Wj,"$&/")+"/"),Zg(i,e,r,"",function(c){return c})):i!=null&&(D5(i)&&(i=T7(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Wj,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",qj(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+tb(a,o);s+=Zg(a,e,r,l,i)}else if(l=C7(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+tb(a,o++),s+=Zg(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ng(t,e,r){if(t==null)return t;var n=[],i=0;return Zg(t,n,"","",function(a){return e.call(r,a,i++)}),n}function I7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ci={current:null},Qg={transition:null},$7={ReactCurrentDispatcher:ci,ReactCurrentBatchConfig:Qg,ReactCurrentOwner:M5};function kE(){throw Error("act(...) is not supported in production builds of React.")}Dt.Children={map:ng,forEach:function(t,e,r){ng(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ng(t,function(){e++}),e},toArray:function(t){return ng(t,function(e){return e})||[]},only:function(t){if(!D5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Dt.Component=ef;Dt.Fragment=_7;Dt.Profiler=j7;Dt.PureComponent=$5;Dt.StrictMode=S7;Dt.Suspense=O7;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$7;Dt.act=kE;Dt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=wE({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=M5.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)jE.call(e,l)&&!AE.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:rm,type:t.type,key:i,ref:a,props:n,_owner:s}};Dt.createContext=function(t){return t={$$typeof:N7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:A7,_context:t},t.Consumer=t};Dt.createElement=NE;Dt.createFactory=function(t){var e=NE.bind(null,t);return e.type=t,e};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(t){return{$$typeof:k7,render:t}};Dt.isValidElement=D5;Dt.lazy=function(t){return{$$typeof:E7,_payload:{_status:-1,_result:t},_init:I7}};Dt.memo=function(t,e){return{$$typeof:P7,type:t,compare:e===void 0?null:e}};Dt.startTransition=function(t){var e=Qg.transition;Qg.transition={};try{t()}finally{Qg.transition=e}};Dt.unstable_act=kE;Dt.useCallback=function(t,e){return ci.current.useCallback(t,e)};Dt.useContext=function(t){return ci.current.useContext(t)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(t){return ci.current.useDeferredValue(t)};Dt.useEffect=function(t,e){return ci.current.useEffect(t,e)};Dt.useId=function(){return ci.current.useId()};Dt.useImperativeHandle=function(t,e,r){return ci.current.useImperativeHandle(t,e,r)};Dt.useInsertionEffect=function(t,e){return ci.current.useInsertionEffect(t,e)};Dt.useLayoutEffect=function(t,e){return ci.current.useLayoutEffect(t,e)};Dt.useMemo=function(t,e){return ci.current.useMemo(t,e)};Dt.useReducer=function(t,e,r){return ci.current.useReducer(t,e,r)};Dt.useRef=function(t){return ci.current.useRef(t)};Dt.useState=function(t){return ci.current.useState(t)};Dt.useSyncExternalStore=function(t,e,r){return ci.current.useSyncExternalStore(t,e,r)};Dt.useTransition=function(){return ci.current.useTransition()};Dt.version="18.3.1";bE.exports=Dt;var Y=bE.exports;const le=ar(Y),R7=vE({__proto__:null,default:le},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M7=Y,D7=Symbol.for("react.element"),B7=Symbol.for("react.fragment"),F7=Object.prototype.hasOwnProperty,U7=M7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z7={key:!0,ref:!0,__self:!0,__source:!0};function OE(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)F7.call(e,n)&&!z7.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:D7,type:t,key:a,ref:s,props:i,_owner:U7.current}}iy.Fragment=B7;iy.jsx=OE;iy.jsxs=OE;yE.exports=iy;var d=yE.exports,$x={},PE={exports:{}},Gi={},EE={exports:{}},CE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,J){var ie=$.length;$.push(J);e:for(;0<ie;){var se=ie-1>>>1,P=$[se];if(0<i(P,J))$[se]=J,$[ie]=P,ie=se;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var J=$[0],ie=$.pop();if(ie!==J){$[0]=ie;e:for(var se=0,P=$.length,z=P>>>1;se<z;){var V=2*(se+1)-1,re=$[V],ne=V+1,ue=$[ne];if(0>i(re,ie))ne<P&&0>i(ue,re)?($[se]=ue,$[ne]=ie,se=ne):($[se]=re,$[V]=ie,se=V);else if(ne<P&&0>i(ue,ie))$[se]=ue,$[ne]=ie,se=ne;else break e}}return J}function i($,J){var ie=$.sortIndex-J.sortIndex;return ie!==0?ie:$.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,p=3,h=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var J=r(c);J!==null;){if(J.callback===null)n(c);else if(J.startTime<=$)n(c),J.sortIndex=J.expirationTime,e(l,J);else break;J=r(c)}}function j($){if(v=!1,_($),!g)if(r(l)!==null)g=!0,K(S);else{var J=r(c);J!==null&&H(j,J.startTime-$)}}function S($,J){g=!1,v&&(v=!1,y(L),L=-1),h=!0;var ie=p;try{for(_(J),f=r(l);f!==null&&(!(f.expirationTime>J)||$&&!O());){var se=f.callback;if(typeof se=="function"){f.callback=null,p=f.priorityLevel;var P=se(f.expirationTime<=J);J=t.unstable_now(),typeof P=="function"?f.callback=P:f===r(l)&&n(l),_(J)}else n(l);f=r(l)}if(f!==null)var z=!0;else{var V=r(c);V!==null&&H(j,V.startTime-J),z=!1}return z}finally{f=null,p=ie,h=!1}}var k=!1,E=null,L=-1,I=5,U=-1;function O(){return!(t.unstable_now()-U<I)}function T(){if(E!==null){var $=t.unstable_now();U=$;var J=!0;try{J=E(!0,$)}finally{J?D():(k=!1,E=null)}}else k=!1}var D;if(typeof w=="function")D=function(){w(T)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=T,D=function(){B.postMessage(null)}}else D=function(){x(T,0)};function K($){E=$,k||(k=!0,D())}function H($,J){L=x(function(){$(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,K(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var ie=p;p=J;try{return $()}finally{p=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,J){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ie=p;p=$;try{return J()}finally{p=ie}},t.unstable_scheduleCallback=function($,J,ie){var se=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?se+ie:se):ie=se,$){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ie+P,$={id:u++,callback:J,priorityLevel:$,startTime:ie,expirationTime:P,sortIndex:-1},ie>se?($.sortIndex=ie,e(c,$),r(l)===null&&$===r(c)&&(v?(y(L),L=-1):v=!0,H(j,ie-se))):($.sortIndex=P,e(l,$),g||h||(g=!0,K(S))),$},t.unstable_shouldYield=O,t.unstable_wrapCallback=function($){var J=p;return function(){var ie=p;p=J;try{return $.apply(this,arguments)}finally{p=ie}}}})(CE);EE.exports=CE;var q7=EE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W7=Y,Vi=q7;function Re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TE=new Set,Kh={};function Hc(t,e){md(t,e),md(t+"Capture",e)}function md(t,e){for(Kh[t]=e,t=0;t<e.length;t++)TE.add(e[t])}var ao=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rx=Object.prototype.hasOwnProperty,H7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hj={},Vj={};function V7(t){return Rx.call(Vj,t)?!0:Rx.call(Hj,t)?!1:H7.test(t)?Vj[t]=!0:(Hj[t]=!0,!1)}function G7(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function K7(t,e,r,n){if(e===null||typeof e>"u"||G7(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ui(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dn[t]=new ui(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dn[e]=new ui(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dn[t]=new ui(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dn[t]=new ui(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dn[t]=new ui(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dn[t]=new ui(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dn[t]=new ui(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dn[t]=new ui(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dn[t]=new ui(t,5,!1,t.toLowerCase(),null,!1,!1)});var B5=/[\-:]([a-z])/g;function F5(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(B5,F5);Dn[e]=new ui(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(B5,F5);Dn[e]=new ui(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(B5,F5);Dn[e]=new ui(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dn[t]=new ui(t,1,!1,t.toLowerCase(),null,!1,!1)});Dn.xlinkHref=new ui("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dn[t]=new ui(t,1,!1,t.toLowerCase(),null,!0,!0)});function U5(t,e,r,n){var i=Dn.hasOwnProperty(e)?Dn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(K7(e,r,i,n)&&(r=null),n||i===null?V7(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var mo=W7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ig=Symbol.for("react.element"),Ru=Symbol.for("react.portal"),Mu=Symbol.for("react.fragment"),z5=Symbol.for("react.strict_mode"),Mx=Symbol.for("react.profiler"),LE=Symbol.for("react.provider"),IE=Symbol.for("react.context"),q5=Symbol.for("react.forward_ref"),Dx=Symbol.for("react.suspense"),Bx=Symbol.for("react.suspense_list"),W5=Symbol.for("react.memo"),Wo=Symbol.for("react.lazy"),$E=Symbol.for("react.offscreen"),Gj=Symbol.iterator;function Qf(t){return t===null||typeof t!="object"?null:(t=Gj&&t[Gj]||t["@@iterator"],typeof t=="function"?t:null)}var Lr=Object.assign,rb;function xh(t){if(rb===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);rb=e&&e[1]||""}return`
`+rb+t}var nb=!1;function ib(t,e){if(!t||nb)return"";nb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{nb=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?xh(t):""}function Y7(t){switch(t.tag){case 5:return xh(t.type);case 16:return xh("Lazy");case 13:return xh("Suspense");case 19:return xh("SuspenseList");case 0:case 2:case 15:return t=ib(t.type,!1),t;case 11:return t=ib(t.type.render,!1),t;case 1:return t=ib(t.type,!0),t;default:return""}}function Fx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mu:return"Fragment";case Ru:return"Portal";case Mx:return"Profiler";case z5:return"StrictMode";case Dx:return"Suspense";case Bx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case IE:return(t.displayName||"Context")+".Consumer";case LE:return(t._context.displayName||"Context")+".Provider";case q5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W5:return e=t.displayName||null,e!==null?e:Fx(t.type)||"Memo";case Wo:e=t._payload,t=t._init;try{return Fx(t(e))}catch{}}return null}function X7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fx(e);case 8:return e===z5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function RE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function J7(t){var e=RE(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ag(t){t._valueTracker||(t._valueTracker=J7(t))}function ME(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=RE(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function v0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ux(t,e){var r=e.checked;return Lr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Kj(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=pl(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function DE(t,e){e=e.checked,e!=null&&U5(t,"checked",e,!1)}function zx(t,e){DE(t,e);var r=pl(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qx(t,e.type,r):e.hasOwnProperty("defaultValue")&&qx(t,e.type,pl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yj(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function qx(t,e,r){(e!=="number"||v0(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var wh=Array.isArray;function ed(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+pl(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Wx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Re(91));return Lr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xj(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Re(92));if(wh(r)){if(1<r.length)throw Error(Re(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:pl(r)}}function BE(t,e){var r=pl(e.value),n=pl(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Jj(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function FE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?FE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sg,UE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sg=sg||document.createElement("div"),sg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var kh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Z7=["Webkit","ms","Moz","O"];Object.keys(kh).forEach(function(t){Z7.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kh[e]=kh[t]})});function zE(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||kh.hasOwnProperty(t)&&kh[t]?(""+e).trim():e+"px"}function qE(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=zE(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Q7=Lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vx(t,e){if(e){if(Q7[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Re(62))}}function Gx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kx=null;function H5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yx=null,td=null,rd=null;function Zj(t){if(t=am(t)){if(typeof Yx!="function")throw Error(Re(280));var e=t.stateNode;e&&(e=cy(e),Yx(t.stateNode,t.type,e))}}function WE(t){td?rd?rd.push(t):rd=[t]:td=t}function HE(){if(td){var t=td,e=rd;if(rd=td=null,Zj(t),e)for(t=0;t<e.length;t++)Zj(e[t])}}function VE(t,e){return t(e)}function GE(){}var ab=!1;function KE(t,e,r){if(ab)return t(e,r);ab=!0;try{return VE(t,e,r)}finally{ab=!1,(td!==null||rd!==null)&&(GE(),HE())}}function Xh(t,e){var r=t.stateNode;if(r===null)return null;var n=cy(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Re(231,e,typeof r));return r}var Xx=!1;if(ao)try{var eh={};Object.defineProperty(eh,"passive",{get:function(){Xx=!0}}),window.addEventListener("test",eh,eh),window.removeEventListener("test",eh,eh)}catch{Xx=!1}function eM(t,e,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Oh=!1,y0=null,b0=!1,Jx=null,tM={onError:function(t){Oh=!0,y0=t}};function rM(t,e,r,n,i,a,s,o,l){Oh=!1,y0=null,eM.apply(tM,arguments)}function nM(t,e,r,n,i,a,s,o,l){if(rM.apply(this,arguments),Oh){if(Oh){var c=y0;Oh=!1,y0=null}else throw Error(Re(198));b0||(b0=!0,Jx=c)}}function Vc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function YE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qj(t){if(Vc(t)!==t)throw Error(Re(188))}function iM(t){var e=t.alternate;if(!e){if(e=Vc(t),e===null)throw Error(Re(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Qj(i),t;if(a===n)return Qj(i),e;a=a.sibling}throw Error(Re(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(Re(189))}}if(r.alternate!==n)throw Error(Re(190))}if(r.tag!==3)throw Error(Re(188));return r.stateNode.current===r?t:e}function XE(t){return t=iM(t),t!==null?JE(t):null}function JE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=JE(t);if(e!==null)return e;t=t.sibling}return null}var ZE=Vi.unstable_scheduleCallback,eA=Vi.unstable_cancelCallback,aM=Vi.unstable_shouldYield,sM=Vi.unstable_requestPaint,Gr=Vi.unstable_now,oM=Vi.unstable_getCurrentPriorityLevel,V5=Vi.unstable_ImmediatePriority,QE=Vi.unstable_UserBlockingPriority,x0=Vi.unstable_NormalPriority,lM=Vi.unstable_LowPriority,e6=Vi.unstable_IdlePriority,ay=null,fs=null;function cM(t){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(ay,t,void 0,(t.current.flags&128)===128)}catch{}}var Ua=Math.clz32?Math.clz32:fM,uM=Math.log,dM=Math.LN2;function fM(t){return t>>>=0,t===0?32:31-(uM(t)/dM|0)|0}var og=64,lg=4194304;function _h(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function w0(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=_h(o):(a&=s,a!==0&&(n=_h(a)))}else s=r&~i,s!==0?n=_h(s):a!==0&&(n=_h(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ua(e),i=1<<r,n|=t[r],e&=~i;return n}function hM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pM(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Ua(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=hM(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function Zx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function t6(){var t=og;return og<<=1,!(og&4194240)&&(og=64),t}function sb(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function nm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ua(e),t[e]=r}function mM(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ua(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function G5(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ua(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ir=0;function r6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var n6,K5,i6,a6,s6,Qx=!1,cg=[],nl=null,il=null,al=null,Jh=new Map,Zh=new Map,Ko=[],gM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tA(t,e){switch(t){case"focusin":case"focusout":nl=null;break;case"dragenter":case"dragleave":il=null;break;case"mouseover":case"mouseout":al=null;break;case"pointerover":case"pointerout":Jh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zh.delete(e.pointerId)}}function th(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=am(e),e!==null&&K5(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vM(t,e,r,n,i){switch(e){case"focusin":return nl=th(nl,t,e,r,n,i),!0;case"dragenter":return il=th(il,t,e,r,n,i),!0;case"mouseover":return al=th(al,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Jh.set(a,th(Jh.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Zh.set(a,th(Zh.get(a)||null,t,e,r,n,i)),!0}return!1}function o6(t){var e=mc(t.target);if(e!==null){var r=Vc(e);if(r!==null){if(e=r.tag,e===13){if(e=YE(r),e!==null){t.blockedOn=e,s6(t.priority,function(){i6(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function e0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=e2(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Kx=n,r.target.dispatchEvent(n),Kx=null}else return e=am(r),e!==null&&K5(e),t.blockedOn=r,!1;e.shift()}return!0}function rA(t,e,r){e0(t)&&r.delete(e)}function yM(){Qx=!1,nl!==null&&e0(nl)&&(nl=null),il!==null&&e0(il)&&(il=null),al!==null&&e0(al)&&(al=null),Jh.forEach(rA),Zh.forEach(rA)}function rh(t,e){t.blockedOn===e&&(t.blockedOn=null,Qx||(Qx=!0,Vi.unstable_scheduleCallback(Vi.unstable_NormalPriority,yM)))}function Qh(t){function e(i){return rh(i,t)}if(0<cg.length){rh(cg[0],t);for(var r=1;r<cg.length;r++){var n=cg[r];n.blockedOn===t&&(n.blockedOn=null)}}for(nl!==null&&rh(nl,t),il!==null&&rh(il,t),al!==null&&rh(al,t),Jh.forEach(e),Zh.forEach(e),r=0;r<Ko.length;r++)n=Ko[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ko.length&&(r=Ko[0],r.blockedOn===null);)o6(r),r.blockedOn===null&&Ko.shift()}var nd=mo.ReactCurrentBatchConfig,_0=!0;function bM(t,e,r,n){var i=ir,a=nd.transition;nd.transition=null;try{ir=1,Y5(t,e,r,n)}finally{ir=i,nd.transition=a}}function xM(t,e,r,n){var i=ir,a=nd.transition;nd.transition=null;try{ir=4,Y5(t,e,r,n)}finally{ir=i,nd.transition=a}}function Y5(t,e,r,n){if(_0){var i=e2(t,e,r,n);if(i===null)gb(t,e,n,S0,r),tA(t,n);else if(vM(i,t,e,r,n))n.stopPropagation();else if(tA(t,n),e&4&&-1<gM.indexOf(t)){for(;i!==null;){var a=am(i);if(a!==null&&n6(a),a=e2(t,e,r,n),a===null&&gb(t,e,n,S0,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else gb(t,e,n,null,r)}}var S0=null;function e2(t,e,r,n){if(S0=null,t=H5(n),t=mc(t),t!==null)if(e=Vc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=YE(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return S0=t,null}function l6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oM()){case V5:return 1;case QE:return 4;case x0:case lM:return 16;case e6:return 536870912;default:return 16}default:return 16}}var Zo=null,X5=null,t0=null;function c6(){if(t0)return t0;var t,e=X5,r=e.length,n,i="value"in Zo?Zo.value:Zo.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return t0=i.slice(t,1<n?1-n:void 0)}function r0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ug(){return!0}function nA(){return!1}function Ki(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ug:nA,this.isPropagationStopped=nA,this}return Lr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ug)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ug)},persist:function(){},isPersistent:ug}),e}var tf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},J5=Ki(tf),im=Lr({},tf,{view:0,detail:0}),wM=Ki(im),ob,lb,nh,sy=Lr({},im,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Z5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nh&&(nh&&t.type==="mousemove"?(ob=t.screenX-nh.screenX,lb=t.screenY-nh.screenY):lb=ob=0,nh=t),ob)},movementY:function(t){return"movementY"in t?t.movementY:lb}}),iA=Ki(sy),_M=Lr({},sy,{dataTransfer:0}),SM=Ki(_M),jM=Lr({},im,{relatedTarget:0}),cb=Ki(jM),AM=Lr({},tf,{animationName:0,elapsedTime:0,pseudoElement:0}),NM=Ki(AM),kM=Lr({},tf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OM=Ki(kM),PM=Lr({},tf,{data:0}),aA=Ki(PM),EM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TM[t])?!!e[t]:!1}function Z5(){return LM}var IM=Lr({},im,{key:function(t){if(t.key){var e=EM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=r0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Z5,charCode:function(t){return t.type==="keypress"?r0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?r0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$M=Ki(IM),RM=Lr({},sy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sA=Ki(RM),MM=Lr({},im,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Z5}),DM=Ki(MM),BM=Lr({},tf,{propertyName:0,elapsedTime:0,pseudoElement:0}),FM=Ki(BM),UM=Lr({},sy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zM=Ki(UM),qM=[9,13,27,32],Q5=ao&&"CompositionEvent"in window,Ph=null;ao&&"documentMode"in document&&(Ph=document.documentMode);var WM=ao&&"TextEvent"in window&&!Ph,u6=ao&&(!Q5||Ph&&8<Ph&&11>=Ph),oA=" ",lA=!1;function d6(t,e){switch(t){case"keyup":return qM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Du=!1;function HM(t,e){switch(t){case"compositionend":return f6(e);case"keypress":return e.which!==32?null:(lA=!0,oA);case"textInput":return t=e.data,t===oA&&lA?null:t;default:return null}}function VM(t,e){if(Du)return t==="compositionend"||!Q5&&d6(t,e)?(t=c6(),t0=X5=Zo=null,Du=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return u6&&e.locale!=="ko"?null:e.data;default:return null}}var GM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GM[t.type]:e==="textarea"}function h6(t,e,r,n){WE(n),e=j0(e,"onChange"),0<e.length&&(r=new J5("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Eh=null,ep=null;function KM(t){j6(t,0)}function oy(t){var e=Uu(t);if(ME(e))return t}function YM(t,e){if(t==="change")return e}var p6=!1;if(ao){var ub;if(ao){var db="oninput"in document;if(!db){var uA=document.createElement("div");uA.setAttribute("oninput","return;"),db=typeof uA.oninput=="function"}ub=db}else ub=!1;p6=ub&&(!document.documentMode||9<document.documentMode)}function dA(){Eh&&(Eh.detachEvent("onpropertychange",m6),ep=Eh=null)}function m6(t){if(t.propertyName==="value"&&oy(ep)){var e=[];h6(e,ep,t,H5(t)),KE(KM,e)}}function XM(t,e,r){t==="focusin"?(dA(),Eh=e,ep=r,Eh.attachEvent("onpropertychange",m6)):t==="focusout"&&dA()}function JM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oy(ep)}function ZM(t,e){if(t==="click")return oy(e)}function QM(t,e){if(t==="input"||t==="change")return oy(e)}function eD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ha=typeof Object.is=="function"?Object.is:eD;function tp(t,e){if(Ha(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Rx.call(e,i)||!Ha(t[i],e[i]))return!1}return!0}function fA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hA(t,e){var r=fA(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fA(r)}}function g6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?g6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function v6(){for(var t=window,e=v0();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=v0(t.document)}return e}function e_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tD(t){var e=v6(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&g6(r.ownerDocument.documentElement,r)){if(n!==null&&e_(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=hA(r,a);var s=hA(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rD=ao&&"documentMode"in document&&11>=document.documentMode,Bu=null,t2=null,Ch=null,r2=!1;function pA(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;r2||Bu==null||Bu!==v0(n)||(n=Bu,"selectionStart"in n&&e_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ch&&tp(Ch,n)||(Ch=n,n=j0(t2,"onSelect"),0<n.length&&(e=new J5("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Bu)))}function dg(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Fu={animationend:dg("Animation","AnimationEnd"),animationiteration:dg("Animation","AnimationIteration"),animationstart:dg("Animation","AnimationStart"),transitionend:dg("Transition","TransitionEnd")},fb={},y6={};ao&&(y6=document.createElement("div").style,"AnimationEvent"in window||(delete Fu.animationend.animation,delete Fu.animationiteration.animation,delete Fu.animationstart.animation),"TransitionEvent"in window||delete Fu.transitionend.transition);function ly(t){if(fb[t])return fb[t];if(!Fu[t])return t;var e=Fu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in y6)return fb[t]=e[r];return t}var b6=ly("animationend"),x6=ly("animationiteration"),w6=ly("animationstart"),_6=ly("transitionend"),S6=new Map,mA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bl(t,e){S6.set(t,e),Hc(e,[t])}for(var hb=0;hb<mA.length;hb++){var pb=mA[hb],nD=pb.toLowerCase(),iD=pb[0].toUpperCase()+pb.slice(1);bl(nD,"on"+iD)}bl(b6,"onAnimationEnd");bl(x6,"onAnimationIteration");bl(w6,"onAnimationStart");bl("dblclick","onDoubleClick");bl("focusin","onFocus");bl("focusout","onBlur");bl(_6,"onTransitionEnd");md("onMouseEnter",["mouseout","mouseover"]);md("onMouseLeave",["mouseout","mouseover"]);md("onPointerEnter",["pointerout","pointerover"]);md("onPointerLeave",["pointerout","pointerover"]);Hc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sh));function gA(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,nM(n,e,void 0,t),t.currentTarget=null}function j6(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;gA(i,o,c),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;gA(i,o,c),a=l}}}if(b0)throw t=Jx,b0=!1,Jx=null,t}function wr(t,e){var r=e[o2];r===void 0&&(r=e[o2]=new Set);var n=t+"__bubble";r.has(n)||(A6(e,t,2,!1),r.add(n))}function mb(t,e,r){var n=0;e&&(n|=4),A6(r,t,n,e)}var fg="_reactListening"+Math.random().toString(36).slice(2);function rp(t){if(!t[fg]){t[fg]=!0,TE.forEach(function(r){r!=="selectionchange"&&(aD.has(r)||mb(r,!1,t),mb(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fg]||(e[fg]=!0,mb("selectionchange",!1,e))}}function A6(t,e,r,n){switch(l6(e)){case 1:var i=bM;break;case 4:i=xM;break;default:i=Y5}r=i.bind(null,e,r,t),i=void 0,!Xx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function gb(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=mc(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}KE(function(){var c=a,u=H5(r),f=[];e:{var p=S6.get(t);if(p!==void 0){var h=J5,g=t;switch(t){case"keypress":if(r0(r)===0)break e;case"keydown":case"keyup":h=$M;break;case"focusin":g="focus",h=cb;break;case"focusout":g="blur",h=cb;break;case"beforeblur":case"afterblur":h=cb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=iA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=SM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=DM;break;case b6:case x6:case w6:h=NM;break;case _6:h=FM;break;case"scroll":h=wM;break;case"wheel":h=zM;break;case"copy":case"cut":case"paste":h=OM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=sA}var v=(e&4)!==0,x=!v&&t==="scroll",y=v?p!==null?p+"Capture":null:p;v=[];for(var w=c,_;w!==null;){_=w;var j=_.stateNode;if(_.tag===5&&j!==null&&(_=j,y!==null&&(j=Xh(w,y),j!=null&&v.push(np(w,j,_)))),x)break;w=w.return}0<v.length&&(p=new h(p,g,null,r,u),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",p&&r!==Kx&&(g=r.relatedTarget||r.fromElement)&&(mc(g)||g[so]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(g=r.relatedTarget||r.toElement,h=c,g=g?mc(g):null,g!==null&&(x=Vc(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(v=iA,j="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=sA,j="onPointerLeave",y="onPointerEnter",w="pointer"),x=h==null?p:Uu(h),_=g==null?p:Uu(g),p=new v(j,w+"leave",h,r,u),p.target=x,p.relatedTarget=_,j=null,mc(u)===c&&(v=new v(y,w+"enter",g,r,u),v.target=_,v.relatedTarget=x,j=v),x=j,h&&g)t:{for(v=h,y=g,w=0,_=v;_;_=yu(_))w++;for(_=0,j=y;j;j=yu(j))_++;for(;0<w-_;)v=yu(v),w--;for(;0<_-w;)y=yu(y),_--;for(;w--;){if(v===y||y!==null&&v===y.alternate)break t;v=yu(v),y=yu(y)}v=null}else v=null;h!==null&&vA(f,p,h,v,!1),g!==null&&x!==null&&vA(f,x,g,v,!0)}}e:{if(p=c?Uu(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var S=YM;else if(cA(p))if(p6)S=QM;else{S=JM;var k=XM}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=ZM);if(S&&(S=S(t,c))){h6(f,S,r,u);break e}k&&k(t,p,c),t==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&qx(p,"number",p.value)}switch(k=c?Uu(c):window,t){case"focusin":(cA(k)||k.contentEditable==="true")&&(Bu=k,t2=c,Ch=null);break;case"focusout":Ch=t2=Bu=null;break;case"mousedown":r2=!0;break;case"contextmenu":case"mouseup":case"dragend":r2=!1,pA(f,r,u);break;case"selectionchange":if(rD)break;case"keydown":case"keyup":pA(f,r,u)}var E;if(Q5)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Du?d6(t,r)&&(L="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(u6&&r.locale!=="ko"&&(Du||L!=="onCompositionStart"?L==="onCompositionEnd"&&Du&&(E=c6()):(Zo=u,X5="value"in Zo?Zo.value:Zo.textContent,Du=!0)),k=j0(c,L),0<k.length&&(L=new aA(L,t,null,r,u),f.push({event:L,listeners:k}),E?L.data=E:(E=f6(r),E!==null&&(L.data=E)))),(E=WM?HM(t,r):VM(t,r))&&(c=j0(c,"onBeforeInput"),0<c.length&&(u=new aA("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=E))}j6(f,e)})}function np(t,e,r){return{instance:t,listener:e,currentTarget:r}}function j0(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Xh(t,r),a!=null&&n.unshift(np(t,a,i)),a=Xh(t,e),a!=null&&n.push(np(t,a,i))),t=t.return}return n}function yu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vA(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=Xh(r,a),l!=null&&s.unshift(np(r,l,o))):i||(l=Xh(r,a),l!=null&&s.push(np(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var sD=/\r\n?/g,oD=/\u0000|\uFFFD/g;function yA(t){return(typeof t=="string"?t:""+t).replace(sD,`
`).replace(oD,"")}function hg(t,e,r){if(e=yA(e),yA(t)!==e&&r)throw Error(Re(425))}function A0(){}var n2=null,i2=null;function a2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var s2=typeof setTimeout=="function"?setTimeout:void 0,lD=typeof clearTimeout=="function"?clearTimeout:void 0,bA=typeof Promise=="function"?Promise:void 0,cD=typeof queueMicrotask=="function"?queueMicrotask:typeof bA<"u"?function(t){return bA.resolve(null).then(t).catch(uD)}:s2;function uD(t){setTimeout(function(){throw t})}function vb(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Qh(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Qh(e)}function sl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var rf=Math.random().toString(36).slice(2),cs="__reactFiber$"+rf,ip="__reactProps$"+rf,so="__reactContainer$"+rf,o2="__reactEvents$"+rf,dD="__reactListeners$"+rf,fD="__reactHandles$"+rf;function mc(t){var e=t[cs];if(e)return e;for(var r=t.parentNode;r;){if(e=r[so]||r[cs]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=xA(t);t!==null;){if(r=t[cs])return r;t=xA(t)}return e}t=r,r=t.parentNode}return null}function am(t){return t=t[cs]||t[so],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Uu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Re(33))}function cy(t){return t[ip]||null}var l2=[],zu=-1;function xl(t){return{current:t}}function Ar(t){0>zu||(t.current=l2[zu],l2[zu]=null,zu--)}function yr(t,e){zu++,l2[zu]=t.current,t.current=e}var ml={},Zn=xl(ml),vi=xl(!1),Pc=ml;function gd(t,e){var r=t.type.contextTypes;if(!r)return ml;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yi(t){return t=t.childContextTypes,t!=null}function N0(){Ar(vi),Ar(Zn)}function wA(t,e,r){if(Zn.current!==ml)throw Error(Re(168));yr(Zn,e),yr(vi,r)}function N6(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Re(108,X7(t)||"Unknown",i));return Lr({},r,n)}function k0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ml,Pc=Zn.current,yr(Zn,t),yr(vi,vi.current),!0}function _A(t,e,r){var n=t.stateNode;if(!n)throw Error(Re(169));r?(t=N6(t,e,Pc),n.__reactInternalMemoizedMergedChildContext=t,Ar(vi),Ar(Zn),yr(Zn,t)):Ar(vi),yr(vi,r)}var Vs=null,uy=!1,yb=!1;function k6(t){Vs===null?Vs=[t]:Vs.push(t)}function hD(t){uy=!0,k6(t)}function wl(){if(!yb&&Vs!==null){yb=!0;var t=0,e=ir;try{var r=Vs;for(ir=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Vs=null,uy=!1}catch(i){throw Vs!==null&&(Vs=Vs.slice(t+1)),ZE(V5,wl),i}finally{ir=e,yb=!1}}return null}var qu=[],Wu=0,O0=null,P0=0,la=[],ca=0,Ec=null,Ks=1,Ys="";function nc(t,e){qu[Wu++]=P0,qu[Wu++]=O0,O0=t,P0=e}function O6(t,e,r){la[ca++]=Ks,la[ca++]=Ys,la[ca++]=Ec,Ec=t;var n=Ks;t=Ys;var i=32-Ua(n)-1;n&=~(1<<i),r+=1;var a=32-Ua(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Ks=1<<32-Ua(e)+i|r<<i|n,Ys=a+t}else Ks=1<<a|r<<i|n,Ys=t}function t_(t){t.return!==null&&(nc(t,1),O6(t,1,0))}function r_(t){for(;t===O0;)O0=qu[--Wu],qu[Wu]=null,P0=qu[--Wu],qu[Wu]=null;for(;t===Ec;)Ec=la[--ca],la[ca]=null,Ys=la[--ca],la[ca]=null,Ks=la[--ca],la[ca]=null}var qi=null,Ui=null,kr=!1,Ba=null;function P6(t,e){var r=da(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function SA(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qi=t,Ui=sl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qi=t,Ui=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ec!==null?{id:Ks,overflow:Ys}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=da(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,qi=t,Ui=null,!0):!1;default:return!1}}function c2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function u2(t){if(kr){var e=Ui;if(e){var r=e;if(!SA(t,e)){if(c2(t))throw Error(Re(418));e=sl(r.nextSibling);var n=qi;e&&SA(t,e)?P6(n,r):(t.flags=t.flags&-4097|2,kr=!1,qi=t)}}else{if(c2(t))throw Error(Re(418));t.flags=t.flags&-4097|2,kr=!1,qi=t}}}function jA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qi=t}function pg(t){if(t!==qi)return!1;if(!kr)return jA(t),kr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!a2(t.type,t.memoizedProps)),e&&(e=Ui)){if(c2(t))throw E6(),Error(Re(418));for(;e;)P6(t,e),e=sl(e.nextSibling)}if(jA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ui=sl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ui=null}}else Ui=qi?sl(t.stateNode.nextSibling):null;return!0}function E6(){for(var t=Ui;t;)t=sl(t.nextSibling)}function vd(){Ui=qi=null,kr=!1}function n_(t){Ba===null?Ba=[t]:Ba.push(t)}var pD=mo.ReactCurrentBatchConfig;function ih(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Re(309));var n=r.stateNode}if(!n)throw Error(Re(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(Re(284));if(!r._owner)throw Error(Re(290,t))}return t}function mg(t,e){throw t=Object.prototype.toString.call(e),Error(Re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function AA(t){var e=t._init;return e(t._payload)}function C6(t){function e(y,w){if(t){var _=y.deletions;_===null?(y.deletions=[w],y.flags|=16):_.push(w)}}function r(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=ul(y,w),y.index=0,y.sibling=null,y}function a(y,w,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<w?(y.flags|=2,w):_):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,w,_,j){return w===null||w.tag!==6?(w=Ab(_,y.mode,j),w.return=y,w):(w=i(w,_),w.return=y,w)}function l(y,w,_,j){var S=_.type;return S===Mu?u(y,w,_.props.children,j,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wo&&AA(S)===w.type)?(j=i(w,_.props),j.ref=ih(y,w,_),j.return=y,j):(j=c0(_.type,_.key,_.props,null,y.mode,j),j.ref=ih(y,w,_),j.return=y,j)}function c(y,w,_,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Nb(_,y.mode,j),w.return=y,w):(w=i(w,_.children||[]),w.return=y,w)}function u(y,w,_,j,S){return w===null||w.tag!==7?(w=jc(_,y.mode,j,S),w.return=y,w):(w=i(w,_),w.return=y,w)}function f(y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ab(""+w,y.mode,_),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ig:return _=c0(w.type,w.key,w.props,null,y.mode,_),_.ref=ih(y,null,w),_.return=y,_;case Ru:return w=Nb(w,y.mode,_),w.return=y,w;case Wo:var j=w._init;return f(y,j(w._payload),_)}if(wh(w)||Qf(w))return w=jc(w,y.mode,_,null),w.return=y,w;mg(y,w)}return null}function p(y,w,_,j){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:o(y,w,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ig:return _.key===S?l(y,w,_,j):null;case Ru:return _.key===S?c(y,w,_,j):null;case Wo:return S=_._init,p(y,w,S(_._payload),j)}if(wh(_)||Qf(_))return S!==null?null:u(y,w,_,j,null);mg(y,_)}return null}function h(y,w,_,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(_)||null,o(w,y,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ig:return y=y.get(j.key===null?_:j.key)||null,l(w,y,j,S);case Ru:return y=y.get(j.key===null?_:j.key)||null,c(w,y,j,S);case Wo:var k=j._init;return h(y,w,_,k(j._payload),S)}if(wh(j)||Qf(j))return y=y.get(_)||null,u(w,y,j,S,null);mg(w,j)}return null}function g(y,w,_,j){for(var S=null,k=null,E=w,L=w=0,I=null;E!==null&&L<_.length;L++){E.index>L?(I=E,E=null):I=E.sibling;var U=p(y,E,_[L],j);if(U===null){E===null&&(E=I);break}t&&E&&U.alternate===null&&e(y,E),w=a(U,w,L),k===null?S=U:k.sibling=U,k=U,E=I}if(L===_.length)return r(y,E),kr&&nc(y,L),S;if(E===null){for(;L<_.length;L++)E=f(y,_[L],j),E!==null&&(w=a(E,w,L),k===null?S=E:k.sibling=E,k=E);return kr&&nc(y,L),S}for(E=n(y,E);L<_.length;L++)I=h(E,y,L,_[L],j),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?L:I.key),w=a(I,w,L),k===null?S=I:k.sibling=I,k=I);return t&&E.forEach(function(O){return e(y,O)}),kr&&nc(y,L),S}function v(y,w,_,j){var S=Qf(_);if(typeof S!="function")throw Error(Re(150));if(_=S.call(_),_==null)throw Error(Re(151));for(var k=S=null,E=w,L=w=0,I=null,U=_.next();E!==null&&!U.done;L++,U=_.next()){E.index>L?(I=E,E=null):I=E.sibling;var O=p(y,E,U.value,j);if(O===null){E===null&&(E=I);break}t&&E&&O.alternate===null&&e(y,E),w=a(O,w,L),k===null?S=O:k.sibling=O,k=O,E=I}if(U.done)return r(y,E),kr&&nc(y,L),S;if(E===null){for(;!U.done;L++,U=_.next())U=f(y,U.value,j),U!==null&&(w=a(U,w,L),k===null?S=U:k.sibling=U,k=U);return kr&&nc(y,L),S}for(E=n(y,E);!U.done;L++,U=_.next())U=h(E,y,L,U.value,j),U!==null&&(t&&U.alternate!==null&&E.delete(U.key===null?L:U.key),w=a(U,w,L),k===null?S=U:k.sibling=U,k=U);return t&&E.forEach(function(T){return e(y,T)}),kr&&nc(y,L),S}function x(y,w,_,j){if(typeof _=="object"&&_!==null&&_.type===Mu&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ig:e:{for(var S=_.key,k=w;k!==null;){if(k.key===S){if(S=_.type,S===Mu){if(k.tag===7){r(y,k.sibling),w=i(k,_.props.children),w.return=y,y=w;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wo&&AA(S)===k.type){r(y,k.sibling),w=i(k,_.props),w.ref=ih(y,k,_),w.return=y,y=w;break e}r(y,k);break}else e(y,k);k=k.sibling}_.type===Mu?(w=jc(_.props.children,y.mode,j,_.key),w.return=y,y=w):(j=c0(_.type,_.key,_.props,null,y.mode,j),j.ref=ih(y,w,_),j.return=y,y=j)}return s(y);case Ru:e:{for(k=_.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(y,w.sibling),w=i(w,_.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else e(y,w);w=w.sibling}w=Nb(_,y.mode,j),w.return=y,y=w}return s(y);case Wo:return k=_._init,x(y,w,k(_._payload),j)}if(wh(_))return g(y,w,_,j);if(Qf(_))return v(y,w,_,j);mg(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(y,w.sibling),w=i(w,_),w.return=y,y=w):(r(y,w),w=Ab(_,y.mode,j),w.return=y,y=w),s(y)):r(y,w)}return x}var yd=C6(!0),T6=C6(!1),E0=xl(null),C0=null,Hu=null,i_=null;function a_(){i_=Hu=C0=null}function s_(t){var e=E0.current;Ar(E0),t._currentValue=e}function d2(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function id(t,e){C0=t,i_=Hu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mi=!0),t.firstContext=null)}function pa(t){var e=t._currentValue;if(i_!==t)if(t={context:t,memoizedValue:e,next:null},Hu===null){if(C0===null)throw Error(Re(308));Hu=t,C0.dependencies={lanes:0,firstContext:t}}else Hu=Hu.next=t;return e}var gc=null;function o_(t){gc===null?gc=[t]:gc.push(t)}function L6(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,o_(e)):(r.next=i.next,i.next=r),e.interleaved=r,oo(t,n)}function oo(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ho=!1;function l_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function eo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ol(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ht&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,oo(t,r)}return i=n.interleaved,i===null?(e.next=e,o_(n)):(e.next=i.next,i.next=e),n.interleaved=e,oo(t,r)}function n0(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,G5(t,r)}}function NA(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function T0(t,e,r,n){var i=t.updateQueue;Ho=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var p=o.lane,h=o.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,v=o;switch(p=e,h=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(h,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(h,f,p):g,p==null)break e;f=Lr({},f,p);break e;case 2:Ho=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Tc|=s,t.lanes=s,t.memoizedState=f}}function kA(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Re(191,i));i.call(n)}}}var sm={},hs=xl(sm),ap=xl(sm),sp=xl(sm);function vc(t){if(t===sm)throw Error(Re(174));return t}function c_(t,e){switch(yr(sp,e),yr(ap,t),yr(hs,sm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hx(e,t)}Ar(hs),yr(hs,e)}function bd(){Ar(hs),Ar(ap),Ar(sp)}function $6(t){vc(sp.current);var e=vc(hs.current),r=Hx(e,t.type);e!==r&&(yr(ap,t),yr(hs,r))}function u_(t){ap.current===t&&(Ar(hs),Ar(ap))}var Cr=xl(0);function L0(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bb=[];function d_(){for(var t=0;t<bb.length;t++)bb[t]._workInProgressVersionPrimary=null;bb.length=0}var i0=mo.ReactCurrentDispatcher,xb=mo.ReactCurrentBatchConfig,Cc=0,Tr=null,vn=null,jn=null,I0=!1,Th=!1,op=0,mD=0;function zn(){throw Error(Re(321))}function f_(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ha(t[r],e[r]))return!1;return!0}function h_(t,e,r,n,i,a){if(Cc=a,Tr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,i0.current=t===null||t.memoizedState===null?bD:xD,t=r(n,i),Th){a=0;do{if(Th=!1,op=0,25<=a)throw Error(Re(301));a+=1,jn=vn=null,e.updateQueue=null,i0.current=wD,t=r(n,i)}while(Th)}if(i0.current=$0,e=vn!==null&&vn.next!==null,Cc=0,jn=vn=Tr=null,I0=!1,e)throw Error(Re(300));return t}function p_(){var t=op!==0;return op=0,t}function ls(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Tr.memoizedState=jn=t:jn=jn.next=t,jn}function ma(){if(vn===null){var t=Tr.alternate;t=t!==null?t.memoizedState:null}else t=vn.next;var e=jn===null?Tr.memoizedState:jn.next;if(e!==null)jn=e,vn=t;else{if(t===null)throw Error(Re(310));vn=t,t={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},jn===null?Tr.memoizedState=jn=t:jn=jn.next=t}return jn}function lp(t,e){return typeof e=="function"?e(t):e}function wb(t){var e=ma(),r=e.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=t;var n=vn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((Cc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Tr.lanes|=u,Tc|=u}c=c.next}while(c!==null&&c!==a);l===null?s=n:l.next=o,Ha(n,e.memoizedState)||(mi=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Tr.lanes|=a,Tc|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function _b(t){var e=ma(),r=e.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Ha(a,e.memoizedState)||(mi=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function R6(){}function M6(t,e){var r=Tr,n=ma(),i=e(),a=!Ha(n.memoizedState,i);if(a&&(n.memoizedState=i,mi=!0),n=n.queue,m_(F6.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||jn!==null&&jn.memoizedState.tag&1){if(r.flags|=2048,cp(9,B6.bind(null,r,n,i,e),void 0,null),kn===null)throw Error(Re(349));Cc&30||D6(r,e,i)}return i}function D6(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Tr.updateQueue,e===null?(e={lastEffect:null,stores:null},Tr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function B6(t,e,r,n){e.value=r,e.getSnapshot=n,U6(e)&&z6(t)}function F6(t,e,r){return r(function(){U6(e)&&z6(t)})}function U6(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ha(t,r)}catch{return!0}}function z6(t){var e=oo(t,1);e!==null&&za(e,t,1,-1)}function OA(t){var e=ls();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lp,lastRenderedState:t},e.queue=t,t=t.dispatch=yD.bind(null,Tr,t),[e.memoizedState,t]}function cp(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Tr.updateQueue,e===null?(e={lastEffect:null,stores:null},Tr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function q6(){return ma().memoizedState}function a0(t,e,r,n){var i=ls();Tr.flags|=t,i.memoizedState=cp(1|e,r,void 0,n===void 0?null:n)}function dy(t,e,r,n){var i=ma();n=n===void 0?null:n;var a=void 0;if(vn!==null){var s=vn.memoizedState;if(a=s.destroy,n!==null&&f_(n,s.deps)){i.memoizedState=cp(e,r,a,n);return}}Tr.flags|=t,i.memoizedState=cp(1|e,r,a,n)}function PA(t,e){return a0(8390656,8,t,e)}function m_(t,e){return dy(2048,8,t,e)}function W6(t,e){return dy(4,2,t,e)}function H6(t,e){return dy(4,4,t,e)}function V6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function G6(t,e,r){return r=r!=null?r.concat([t]):null,dy(4,4,V6.bind(null,e,t),r)}function g_(){}function K6(t,e){var r=ma();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&f_(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Y6(t,e){var r=ma();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&f_(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function X6(t,e,r){return Cc&21?(Ha(r,e)||(r=t6(),Tr.lanes|=r,Tc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mi=!0),t.memoizedState=r)}function gD(t,e){var r=ir;ir=r!==0&&4>r?r:4,t(!0);var n=xb.transition;xb.transition={};try{t(!1),e()}finally{ir=r,xb.transition=n}}function J6(){return ma().memoizedState}function vD(t,e,r){var n=cl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Z6(t))Q6(e,r);else if(r=L6(t,e,r,n),r!==null){var i=oi();za(r,t,n,i),eC(r,e,n)}}function yD(t,e,r){var n=cl(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Z6(t))Q6(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Ha(o,s)){var l=e.interleaved;l===null?(i.next=i,o_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=L6(t,e,i,n),r!==null&&(i=oi(),za(r,t,n,i),eC(r,e,n))}}function Z6(t){var e=t.alternate;return t===Tr||e!==null&&e===Tr}function Q6(t,e){Th=I0=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function eC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,G5(t,r)}}var $0={readContext:pa,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useInsertionEffect:zn,useLayoutEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useMutableSource:zn,useSyncExternalStore:zn,useId:zn,unstable_isNewReconciler:!1},bD={readContext:pa,useCallback:function(t,e){return ls().memoizedState=[t,e===void 0?null:e],t},useContext:pa,useEffect:PA,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,a0(4194308,4,V6.bind(null,e,t),r)},useLayoutEffect:function(t,e){return a0(4194308,4,t,e)},useInsertionEffect:function(t,e){return a0(4,2,t,e)},useMemo:function(t,e){var r=ls();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ls();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=vD.bind(null,Tr,t),[n.memoizedState,t]},useRef:function(t){var e=ls();return t={current:t},e.memoizedState=t},useState:OA,useDebugValue:g_,useDeferredValue:function(t){return ls().memoizedState=t},useTransition:function(){var t=OA(!1),e=t[0];return t=gD.bind(null,t[1]),ls().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Tr,i=ls();if(kr){if(r===void 0)throw Error(Re(407));r=r()}else{if(r=e(),kn===null)throw Error(Re(349));Cc&30||D6(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,PA(F6.bind(null,n,a,t),[t]),n.flags|=2048,cp(9,B6.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=ls(),e=kn.identifierPrefix;if(kr){var r=Ys,n=Ks;r=(n&~(1<<32-Ua(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=op++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=mD++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xD={readContext:pa,useCallback:K6,useContext:pa,useEffect:m_,useImperativeHandle:G6,useInsertionEffect:W6,useLayoutEffect:H6,useMemo:Y6,useReducer:wb,useRef:q6,useState:function(){return wb(lp)},useDebugValue:g_,useDeferredValue:function(t){var e=ma();return X6(e,vn.memoizedState,t)},useTransition:function(){var t=wb(lp)[0],e=ma().memoizedState;return[t,e]},useMutableSource:R6,useSyncExternalStore:M6,useId:J6,unstable_isNewReconciler:!1},wD={readContext:pa,useCallback:K6,useContext:pa,useEffect:m_,useImperativeHandle:G6,useInsertionEffect:W6,useLayoutEffect:H6,useMemo:Y6,useReducer:_b,useRef:q6,useState:function(){return _b(lp)},useDebugValue:g_,useDeferredValue:function(t){var e=ma();return vn===null?e.memoizedState=t:X6(e,vn.memoizedState,t)},useTransition:function(){var t=_b(lp)[0],e=ma().memoizedState;return[t,e]},useMutableSource:R6,useSyncExternalStore:M6,useId:J6,unstable_isNewReconciler:!1};function Ia(t,e){if(t&&t.defaultProps){e=Lr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function f2(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Lr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var fy={isMounted:function(t){return(t=t._reactInternals)?Vc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=oi(),i=cl(t),a=eo(n,i);a.payload=e,r!=null&&(a.callback=r),e=ol(t,a,i),e!==null&&(za(e,t,i,n),n0(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=oi(),i=cl(t),a=eo(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=ol(t,a,i),e!==null&&(za(e,t,i,n),n0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=oi(),n=cl(t),i=eo(r,n);i.tag=2,e!=null&&(i.callback=e),e=ol(t,i,n),e!==null&&(za(e,t,n,r),n0(e,t,n))}};function EA(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!tp(r,n)||!tp(i,a):!0}function tC(t,e,r){var n=!1,i=ml,a=e.contextType;return typeof a=="object"&&a!==null?a=pa(a):(i=yi(e)?Pc:Zn.current,n=e.contextTypes,a=(n=n!=null)?gd(t,i):ml),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fy,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function CA(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&fy.enqueueReplaceState(e,e.state,null)}function h2(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},l_(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=pa(a):(a=yi(e)?Pc:Zn.current,i.context=gd(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(f2(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fy.enqueueReplaceState(i,i.state,null),T0(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xd(t,e){try{var r="",n=e;do r+=Y7(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Sb(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function p2(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var _D=typeof WeakMap=="function"?WeakMap:Map;function rC(t,e,r){r=eo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){M0||(M0=!0,j2=n),p2(t,e)},r}function nC(t,e,r){r=eo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){p2(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){p2(t,e),typeof n!="function"&&(ll===null?ll=new Set([this]):ll.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function TA(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new _D;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=RD.bind(null,t,e,r),e.then(t,t))}function LA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function IA(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=eo(-1,1),e.tag=2,ol(r,e,1))),r.lanes|=1),t)}var SD=mo.ReactCurrentOwner,mi=!1;function ri(t,e,r,n){e.child=t===null?T6(e,null,r,n):yd(e,t.child,r,n)}function $A(t,e,r,n,i){r=r.render;var a=e.ref;return id(e,i),n=h_(t,e,r,n,a,i),r=p_(),t!==null&&!mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lo(t,e,i)):(kr&&r&&t_(e),e.flags|=1,ri(t,e,n,i),e.child)}function RA(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!j_(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,iC(t,e,a,n,i)):(t=c0(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:tp,r(s,n)&&t.ref===e.ref)return lo(t,e,i)}return e.flags|=1,t=ul(a,n),t.ref=e.ref,t.return=e,e.child=t}function iC(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(tp(a,n)&&t.ref===e.ref)if(mi=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(mi=!0);else return e.lanes=t.lanes,lo(t,e,i)}return m2(t,e,r,n,i)}function aC(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yr(Gu,Ii),Ii|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yr(Gu,Ii),Ii|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,yr(Gu,Ii),Ii|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,yr(Gu,Ii),Ii|=n;return ri(t,e,i,r),e.child}function sC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function m2(t,e,r,n,i){var a=yi(r)?Pc:Zn.current;return a=gd(e,a),id(e,i),r=h_(t,e,r,n,a,i),n=p_(),t!==null&&!mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lo(t,e,i)):(kr&&n&&t_(e),e.flags|=1,ri(t,e,r,i),e.child)}function MA(t,e,r,n,i){if(yi(r)){var a=!0;k0(e)}else a=!1;if(id(e,i),e.stateNode===null)s0(t,e),tC(e,r,n),h2(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=pa(c):(c=yi(r)?Pc:Zn.current,c=gd(e,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&CA(e,s,n,c),Ho=!1;var p=e.memoizedState;s.state=p,T0(e,n,s,i),l=e.memoizedState,o!==n||p!==l||vi.current||Ho?(typeof u=="function"&&(f2(e,r,u,n),l=e.memoizedState),(o=Ho||EA(e,r,o,n,p,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,I6(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Ia(e.type,o),s.props=c,f=e.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=pa(l):(l=yi(r)?Pc:Zn.current,l=gd(e,l));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||p!==l)&&CA(e,s,n,l),Ho=!1,p=e.memoizedState,s.state=p,T0(e,n,s,i);var g=e.memoizedState;o!==f||p!==g||vi.current||Ho?(typeof h=="function"&&(f2(e,r,h,n),g=e.memoizedState),(c=Ho||EA(e,r,c,n,p,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return g2(t,e,r,n,a,i)}function g2(t,e,r,n,i,a){sC(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&_A(e,r,!1),lo(t,e,a);n=e.stateNode,SD.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=yd(e,t.child,null,a),e.child=yd(e,null,o,a)):ri(t,e,o,a),e.memoizedState=n.state,i&&_A(e,r,!0),e.child}function oC(t){var e=t.stateNode;e.pendingContext?wA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wA(t,e.context,!1),c_(t,e.containerInfo)}function DA(t,e,r,n,i){return vd(),n_(i),e.flags|=256,ri(t,e,r,n),e.child}var v2={dehydrated:null,treeContext:null,retryLane:0};function y2(t){return{baseLanes:t,cachePool:null,transitions:null}}function lC(t,e,r){var n=e.pendingProps,i=Cr.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),yr(Cr,i&1),t===null)return u2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=my(s,n,0,null),t=jc(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=y2(r),e.memoizedState=v2,t):v_(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return jD(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=ul(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=ul(o,a):(a=jc(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?y2(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=v2,n}return a=t.child,t=a.sibling,n=ul(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function v_(t,e){return e=my({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gg(t,e,r,n){return n!==null&&n_(n),yd(e,t.child,null,r),t=v_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jD(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=Sb(Error(Re(422))),gg(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=my({mode:"visible",children:n.children},i,0,null),a=jc(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&yd(e,t.child,null,s),e.child.memoizedState=y2(s),e.memoizedState=v2,a);if(!(e.mode&1))return gg(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(Re(419)),n=Sb(a,n,void 0),gg(t,e,s,n)}if(o=(s&t.childLanes)!==0,mi||o){if(n=kn,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,oo(t,i),za(n,t,i,-1))}return S_(),n=Sb(Error(Re(421))),gg(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=MD.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ui=sl(i.nextSibling),qi=e,kr=!0,Ba=null,t!==null&&(la[ca++]=Ks,la[ca++]=Ys,la[ca++]=Ec,Ks=t.id,Ys=t.overflow,Ec=e),e=v_(e,n.children),e.flags|=4096,e)}function BA(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),d2(t.return,e,r)}function jb(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function cC(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(ri(t,e,n.children,r),n=Cr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&BA(t,r,e);else if(t.tag===19)BA(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(yr(Cr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&L0(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),jb(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&L0(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}jb(e,!0,r,null,a);break;case"together":jb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function s0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function lo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Tc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Re(153));if(e.child!==null){for(t=e.child,r=ul(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ul(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function AD(t,e,r){switch(e.tag){case 3:oC(e),vd();break;case 5:$6(e);break;case 1:yi(e.type)&&k0(e);break;case 4:c_(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;yr(E0,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(yr(Cr,Cr.current&1),e.flags|=128,null):r&e.child.childLanes?lC(t,e,r):(yr(Cr,Cr.current&1),t=lo(t,e,r),t!==null?t.sibling:null);yr(Cr,Cr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return cC(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yr(Cr,Cr.current),n)break;return null;case 22:case 23:return e.lanes=0,aC(t,e,r)}return lo(t,e,r)}var uC,b2,dC,fC;uC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};b2=function(){};dC=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,vc(hs.current);var a=null;switch(r){case"input":i=Ux(t,i),n=Ux(t,n),a=[];break;case"select":i=Lr({},i,{value:void 0}),n=Lr({},n,{value:void 0}),a=[];break;case"textarea":i=Wx(t,i),n=Wx(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=A0)}Vx(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Kh.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Kh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&wr("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};fC=function(t,e,r,n){r!==n&&(e.flags|=4)};function ah(t,e){if(!kr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function qn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function ND(t,e,r){var n=e.pendingProps;switch(r_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(e),null;case 1:return yi(e.type)&&N0(),qn(e),null;case 3:return n=e.stateNode,bd(),Ar(vi),Ar(Zn),d_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(pg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ba!==null&&(k2(Ba),Ba=null))),b2(t,e),qn(e),null;case 5:u_(e);var i=vc(sp.current);if(r=e.type,t!==null&&e.stateNode!=null)dC(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Re(166));return qn(e),null}if(t=vc(hs.current),pg(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[cs]=e,n[ip]=a,t=(e.mode&1)!==0,r){case"dialog":wr("cancel",n),wr("close",n);break;case"iframe":case"object":case"embed":wr("load",n);break;case"video":case"audio":for(i=0;i<Sh.length;i++)wr(Sh[i],n);break;case"source":wr("error",n);break;case"img":case"image":case"link":wr("error",n),wr("load",n);break;case"details":wr("toggle",n);break;case"input":Kj(n,a),wr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},wr("invalid",n);break;case"textarea":Xj(n,a),wr("invalid",n)}Vx(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&hg(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&hg(n.textContent,o,t),i=["children",""+o]):Kh.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&wr("scroll",n)}switch(r){case"input":ag(n),Yj(n,a,!0);break;case"textarea":ag(n),Jj(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=A0)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=FE(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[cs]=e,t[ip]=n,uC(t,e,!1,!1),e.stateNode=t;e:{switch(s=Gx(r,n),r){case"dialog":wr("cancel",t),wr("close",t),i=n;break;case"iframe":case"object":case"embed":wr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Sh.length;i++)wr(Sh[i],t);i=n;break;case"source":wr("error",t),i=n;break;case"img":case"image":case"link":wr("error",t),wr("load",t),i=n;break;case"details":wr("toggle",t),i=n;break;case"input":Kj(t,n),i=Ux(t,n),wr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Lr({},n,{value:void 0}),wr("invalid",t);break;case"textarea":Xj(t,n),i=Wx(t,n),wr("invalid",t);break;default:i=n}Vx(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?qE(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&UE(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Yh(t,l):typeof l=="number"&&Yh(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Kh.hasOwnProperty(a)?l!=null&&a==="onScroll"&&wr("scroll",t):l!=null&&U5(t,a,l,s))}switch(r){case"input":ag(t),Yj(t,n,!1);break;case"textarea":ag(t),Jj(t);break;case"option":n.value!=null&&t.setAttribute("value",""+pl(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?ed(t,!!n.multiple,a,!1):n.defaultValue!=null&&ed(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=A0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qn(e),null;case 6:if(t&&e.stateNode!=null)fC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Re(166));if(r=vc(sp.current),vc(hs.current),pg(e)){if(n=e.stateNode,r=e.memoizedProps,n[cs]=e,(a=n.nodeValue!==r)&&(t=qi,t!==null))switch(t.tag){case 3:hg(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hg(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[cs]=e,e.stateNode=n}return qn(e),null;case 13:if(Ar(Cr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kr&&Ui!==null&&e.mode&1&&!(e.flags&128))E6(),vd(),e.flags|=98560,a=!1;else if(a=pg(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Re(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Re(317));a[cs]=e}else vd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qn(e),a=!1}else Ba!==null&&(k2(Ba),Ba=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Cr.current&1?bn===0&&(bn=3):S_())),e.updateQueue!==null&&(e.flags|=4),qn(e),null);case 4:return bd(),b2(t,e),t===null&&rp(e.stateNode.containerInfo),qn(e),null;case 10:return s_(e.type._context),qn(e),null;case 17:return yi(e.type)&&N0(),qn(e),null;case 19:if(Ar(Cr),a=e.memoizedState,a===null)return qn(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)ah(a,!1);else{if(bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=L0(t),s!==null){for(e.flags|=128,ah(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return yr(Cr,Cr.current&1|2),e.child}t=t.sibling}a.tail!==null&&Gr()>wd&&(e.flags|=128,n=!0,ah(a,!1),e.lanes=4194304)}else{if(!n)if(t=L0(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ah(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!kr)return qn(e),null}else 2*Gr()-a.renderingStartTime>wd&&r!==1073741824&&(e.flags|=128,n=!0,ah(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Gr(),e.sibling=null,r=Cr.current,yr(Cr,n?r&1|2:r&1),e):(qn(e),null);case 22:case 23:return __(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ii&1073741824&&(qn(e),e.subtreeFlags&6&&(e.flags|=8192)):qn(e),null;case 24:return null;case 25:return null}throw Error(Re(156,e.tag))}function kD(t,e){switch(r_(e),e.tag){case 1:return yi(e.type)&&N0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bd(),Ar(vi),Ar(Zn),d_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return u_(e),null;case 13:if(Ar(Cr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Re(340));vd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ar(Cr),null;case 4:return bd(),null;case 10:return s_(e.type._context),null;case 22:case 23:return __(),null;case 24:return null;default:return null}}var vg=!1,Xn=!1,OD=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Vu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Br(t,e,n)}else r.current=null}function x2(t,e,r){try{r()}catch(n){Br(t,e,n)}}var FA=!1;function PD(t,e){if(n2=_0,t=v6(),e_(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=t,p=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===t)break t;if(p===r&&++c===i&&(o=s),p===a&&++u===n&&(l=s),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(i2={focusedElem:t,selectionRange:r},_0=!1,Ge=e;Ge!==null;)if(e=Ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ge=t;else for(;Ge!==null;){e=Ge;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,x=g.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ia(e.type,v),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(j){Br(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}return g=FA,FA=!1,g}function Lh(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&x2(e,r,a)}i=i.next}while(i!==n)}}function hy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function w2(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function hC(t){var e=t.alternate;e!==null&&(t.alternate=null,hC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cs],delete e[ip],delete e[o2],delete e[dD],delete e[fD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pC(t){return t.tag===5||t.tag===3||t.tag===4}function UA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=A0));else if(n!==4&&(t=t.child,t!==null))for(_2(t,e,r),t=t.sibling;t!==null;)_2(t,e,r),t=t.sibling}function S2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(S2(t,e,r),t=t.sibling;t!==null;)S2(t,e,r),t=t.sibling}var $n=null,Ra=!1;function Bo(t,e,r){for(r=r.child;r!==null;)mC(t,e,r),r=r.sibling}function mC(t,e,r){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(ay,r)}catch{}switch(r.tag){case 5:Xn||Vu(r,e);case 6:var n=$n,i=Ra;$n=null,Bo(t,e,r),$n=n,Ra=i,$n!==null&&(Ra?(t=$n,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):$n.removeChild(r.stateNode));break;case 18:$n!==null&&(Ra?(t=$n,r=r.stateNode,t.nodeType===8?vb(t.parentNode,r):t.nodeType===1&&vb(t,r),Qh(t)):vb($n,r.stateNode));break;case 4:n=$n,i=Ra,$n=r.stateNode.containerInfo,Ra=!0,Bo(t,e,r),$n=n,Ra=i;break;case 0:case 11:case 14:case 15:if(!Xn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&x2(r,e,s),i=i.next}while(i!==n)}Bo(t,e,r);break;case 1:if(!Xn&&(Vu(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Br(r,e,o)}Bo(t,e,r);break;case 21:Bo(t,e,r);break;case 22:r.mode&1?(Xn=(n=Xn)||r.memoizedState!==null,Bo(t,e,r),Xn=n):Bo(t,e,r);break;default:Bo(t,e,r)}}function zA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new OD),e.forEach(function(n){var i=DD.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Pa(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:$n=o.stateNode,Ra=!1;break e;case 3:$n=o.stateNode.containerInfo,Ra=!0;break e;case 4:$n=o.stateNode.containerInfo,Ra=!0;break e}o=o.return}if($n===null)throw Error(Re(160));mC(a,s,i),$n=null,Ra=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Br(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gC(e,t),e=e.sibling}function gC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pa(e,t),is(t),n&4){try{Lh(3,t,t.return),hy(3,t)}catch(v){Br(t,t.return,v)}try{Lh(5,t,t.return)}catch(v){Br(t,t.return,v)}}break;case 1:Pa(e,t),is(t),n&512&&r!==null&&Vu(r,r.return);break;case 5:if(Pa(e,t),is(t),n&512&&r!==null&&Vu(r,r.return),t.flags&32){var i=t.stateNode;try{Yh(i,"")}catch(v){Br(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&DE(i,a),Gx(o,s);var c=Gx(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?qE(i,f):u==="dangerouslySetInnerHTML"?UE(i,f):u==="children"?Yh(i,f):U5(i,u,f,c)}switch(o){case"input":zx(i,a);break;case"textarea":BE(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?ed(i,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?ed(i,!!a.multiple,a.defaultValue,!0):ed(i,!!a.multiple,a.multiple?[]:"",!1))}i[ip]=a}catch(v){Br(t,t.return,v)}}break;case 6:if(Pa(e,t),is(t),n&4){if(t.stateNode===null)throw Error(Re(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(v){Br(t,t.return,v)}}break;case 3:if(Pa(e,t),is(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qh(e.containerInfo)}catch(v){Br(t,t.return,v)}break;case 4:Pa(e,t),is(t);break;case 13:Pa(e,t),is(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(x_=Gr())),n&4&&zA(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Xn=(c=Xn)||u,Pa(e,t),Xn=c):Pa(e,t),is(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ge=t,u=t.child;u!==null;){for(f=Ge=u;Ge!==null;){switch(p=Ge,h=p.child,p.tag){case 0:case 11:case 14:case 15:Lh(4,p,p.return);break;case 1:Vu(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Br(n,r,v)}}break;case 5:Vu(p,p.return);break;case 22:if(p.memoizedState!==null){WA(f);continue}}h!==null?(h.return=p,Ge=h):WA(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=zE("display",s))}catch(v){Br(t,t.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Br(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pa(e,t),is(t),n&4&&zA(t);break;case 21:break;default:Pa(e,t),is(t)}}function is(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(pC(r)){var n=r;break e}r=r.return}throw Error(Re(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Yh(i,""),n.flags&=-33);var a=UA(t);S2(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=UA(t);_2(t,o,s);break;default:throw Error(Re(161))}}catch(l){Br(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ED(t,e,r){Ge=t,vC(t)}function vC(t,e,r){for(var n=(t.mode&1)!==0;Ge!==null;){var i=Ge,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||vg;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Xn;o=vg;var c=Xn;if(vg=s,(Xn=l)&&!c)for(Ge=i;Ge!==null;)s=Ge,l=s.child,s.tag===22&&s.memoizedState!==null?HA(i):l!==null?(l.return=s,Ge=l):HA(i);for(;a!==null;)Ge=a,vC(a),a=a.sibling;Ge=i,vg=o,Xn=c}qA(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ge=a):qA(t)}}function qA(t){for(;Ge!==null;){var e=Ge;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xn||hy(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Xn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ia(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&kA(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}kA(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Qh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}Xn||e.flags&512&&w2(e)}catch(p){Br(e,e.return,p)}}if(e===t){Ge=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ge=r;break}Ge=e.return}}function WA(t){for(;Ge!==null;){var e=Ge;if(e===t){Ge=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ge=r;break}Ge=e.return}}function HA(t){for(;Ge!==null;){var e=Ge;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{hy(4,e)}catch(l){Br(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Br(e,i,l)}}var a=e.return;try{w2(e)}catch(l){Br(e,a,l)}break;case 5:var s=e.return;try{w2(e)}catch(l){Br(e,s,l)}}}catch(l){Br(e,e.return,l)}if(e===t){Ge=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ge=o;break}Ge=e.return}}var CD=Math.ceil,R0=mo.ReactCurrentDispatcher,y_=mo.ReactCurrentOwner,ha=mo.ReactCurrentBatchConfig,Ht=0,kn=null,sn=null,Rn=0,Ii=0,Gu=xl(0),bn=0,up=null,Tc=0,py=0,b_=0,Ih=null,pi=null,x_=0,wd=1/0,qs=null,M0=!1,j2=null,ll=null,yg=!1,Qo=null,D0=0,$h=0,A2=null,o0=-1,l0=0;function oi(){return Ht&6?Gr():o0!==-1?o0:o0=Gr()}function cl(t){return t.mode&1?Ht&2&&Rn!==0?Rn&-Rn:pD.transition!==null?(l0===0&&(l0=t6()),l0):(t=ir,t!==0||(t=window.event,t=t===void 0?16:l6(t.type)),t):1}function za(t,e,r,n){if(50<$h)throw $h=0,A2=null,Error(Re(185));nm(t,r,n),(!(Ht&2)||t!==kn)&&(t===kn&&(!(Ht&2)&&(py|=r),bn===4&&Yo(t,Rn)),bi(t,n),r===1&&Ht===0&&!(e.mode&1)&&(wd=Gr()+500,uy&&wl()))}function bi(t,e){var r=t.callbackNode;pM(t,e);var n=w0(t,t===kn?Rn:0);if(n===0)r!==null&&eA(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&eA(r),e===1)t.tag===0?hD(VA.bind(null,t)):k6(VA.bind(null,t)),cD(function(){!(Ht&6)&&wl()}),r=null;else{switch(r6(n)){case 1:r=V5;break;case 4:r=QE;break;case 16:r=x0;break;case 536870912:r=e6;break;default:r=x0}r=AC(r,yC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function yC(t,e){if(o0=-1,l0=0,Ht&6)throw Error(Re(327));var r=t.callbackNode;if(ad()&&t.callbackNode!==r)return null;var n=w0(t,t===kn?Rn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=B0(t,n);else{e=n;var i=Ht;Ht|=2;var a=xC();(kn!==t||Rn!==e)&&(qs=null,wd=Gr()+500,Sc(t,e));do try{ID();break}catch(o){bC(t,o)}while(!0);a_(),R0.current=a,Ht=i,sn!==null?e=0:(kn=null,Rn=0,e=bn)}if(e!==0){if(e===2&&(i=Zx(t),i!==0&&(n=i,e=N2(t,i))),e===1)throw r=up,Sc(t,0),Yo(t,n),bi(t,Gr()),r;if(e===6)Yo(t,n);else{if(i=t.current.alternate,!(n&30)&&!TD(i)&&(e=B0(t,n),e===2&&(a=Zx(t),a!==0&&(n=a,e=N2(t,a))),e===1))throw r=up,Sc(t,0),Yo(t,n),bi(t,Gr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Re(345));case 2:ic(t,pi,qs);break;case 3:if(Yo(t,n),(n&130023424)===n&&(e=x_+500-Gr(),10<e)){if(w0(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){oi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=s2(ic.bind(null,t,pi,qs),e);break}ic(t,pi,qs);break;case 4:if(Yo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-Ua(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=Gr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*CD(n/1960))-n,10<n){t.timeoutHandle=s2(ic.bind(null,t,pi,qs),n);break}ic(t,pi,qs);break;case 5:ic(t,pi,qs);break;default:throw Error(Re(329))}}}return bi(t,Gr()),t.callbackNode===r?yC.bind(null,t):null}function N2(t,e){var r=Ih;return t.current.memoizedState.isDehydrated&&(Sc(t,e).flags|=256),t=B0(t,e),t!==2&&(e=pi,pi=r,e!==null&&k2(e)),t}function k2(t){pi===null?pi=t:pi.push.apply(pi,t)}function TD(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Ha(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yo(t,e){for(e&=~b_,e&=~py,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ua(e),n=1<<r;t[r]=-1,e&=~n}}function VA(t){if(Ht&6)throw Error(Re(327));ad();var e=w0(t,0);if(!(e&1))return bi(t,Gr()),null;var r=B0(t,e);if(t.tag!==0&&r===2){var n=Zx(t);n!==0&&(e=n,r=N2(t,n))}if(r===1)throw r=up,Sc(t,0),Yo(t,e),bi(t,Gr()),r;if(r===6)throw Error(Re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ic(t,pi,qs),bi(t,Gr()),null}function w_(t,e){var r=Ht;Ht|=1;try{return t(e)}finally{Ht=r,Ht===0&&(wd=Gr()+500,uy&&wl())}}function Lc(t){Qo!==null&&Qo.tag===0&&!(Ht&6)&&ad();var e=Ht;Ht|=1;var r=ha.transition,n=ir;try{if(ha.transition=null,ir=1,t)return t()}finally{ir=n,ha.transition=r,Ht=e,!(Ht&6)&&wl()}}function __(){Ii=Gu.current,Ar(Gu)}function Sc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,lD(r)),sn!==null)for(r=sn.return;r!==null;){var n=r;switch(r_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&N0();break;case 3:bd(),Ar(vi),Ar(Zn),d_();break;case 5:u_(n);break;case 4:bd();break;case 13:Ar(Cr);break;case 19:Ar(Cr);break;case 10:s_(n.type._context);break;case 22:case 23:__()}r=r.return}if(kn=t,sn=t=ul(t.current,null),Rn=Ii=e,bn=0,up=null,b_=py=Tc=0,pi=Ih=null,gc!==null){for(e=0;e<gc.length;e++)if(r=gc[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}gc=null}return t}function bC(t,e){do{var r=sn;try{if(a_(),i0.current=$0,I0){for(var n=Tr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}I0=!1}if(Cc=0,jn=vn=Tr=null,Th=!1,op=0,y_.current=null,r===null||r.return===null){bn=1,up=e,sn=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=Rn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=LA(s);if(h!==null){h.flags&=-257,IA(h,s,o,a,e),h.mode&1&&TA(a,c,e),e=h,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){TA(a,c,e),S_();break e}l=Error(Re(426))}}else if(kr&&o.mode&1){var x=LA(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),IA(x,s,o,a,e),n_(xd(l,o));break e}}a=l=xd(l,o),bn!==4&&(bn=2),Ih===null?Ih=[a]:Ih.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=rC(a,l,e);NA(a,y);break e;case 1:o=l;var w=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ll===null||!ll.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var j=nC(a,o,e);NA(a,j);break e}}a=a.return}while(a!==null)}_C(r)}catch(S){e=S,sn===r&&r!==null&&(sn=r=r.return);continue}break}while(!0)}function xC(){var t=R0.current;return R0.current=$0,t===null?$0:t}function S_(){(bn===0||bn===3||bn===2)&&(bn=4),kn===null||!(Tc&268435455)&&!(py&268435455)||Yo(kn,Rn)}function B0(t,e){var r=Ht;Ht|=2;var n=xC();(kn!==t||Rn!==e)&&(qs=null,Sc(t,e));do try{LD();break}catch(i){bC(t,i)}while(!0);if(a_(),Ht=r,R0.current=n,sn!==null)throw Error(Re(261));return kn=null,Rn=0,bn}function LD(){for(;sn!==null;)wC(sn)}function ID(){for(;sn!==null&&!aM();)wC(sn)}function wC(t){var e=jC(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,e===null?_C(t):sn=e,y_.current=null}function _C(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=kD(r,e),r!==null){r.flags&=32767,sn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bn=6,sn=null;return}}else if(r=ND(r,e,Ii),r!==null){sn=r;return}if(e=e.sibling,e!==null){sn=e;return}sn=e=t}while(e!==null);bn===0&&(bn=5)}function ic(t,e,r){var n=ir,i=ha.transition;try{ha.transition=null,ir=1,$D(t,e,r,n)}finally{ha.transition=i,ir=n}return null}function $D(t,e,r,n){do ad();while(Qo!==null);if(Ht&6)throw Error(Re(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Re(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(mM(t,a),t===kn&&(sn=kn=null,Rn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yg||(yg=!0,AC(x0,function(){return ad(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ha.transition,ha.transition=null;var s=ir;ir=1;var o=Ht;Ht|=4,y_.current=null,PD(t,r),gC(r,t),tD(i2),_0=!!n2,i2=n2=null,t.current=r,ED(r),sM(),Ht=o,ir=s,ha.transition=a}else t.current=r;if(yg&&(yg=!1,Qo=t,D0=i),a=t.pendingLanes,a===0&&(ll=null),cM(r.stateNode),bi(t,Gr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(M0)throw M0=!1,t=j2,j2=null,t;return D0&1&&t.tag!==0&&ad(),a=t.pendingLanes,a&1?t===A2?$h++:($h=0,A2=t):$h=0,wl(),null}function ad(){if(Qo!==null){var t=r6(D0),e=ha.transition,r=ir;try{if(ha.transition=null,ir=16>t?16:t,Qo===null)var n=!1;else{if(t=Qo,Qo=null,D0=0,Ht&6)throw Error(Re(331));var i=Ht;for(Ht|=4,Ge=t.current;Ge!==null;){var a=Ge,s=a.child;if(Ge.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ge=c;Ge!==null;){var u=Ge;switch(u.tag){case 0:case 11:case 15:Lh(8,u,a)}var f=u.child;if(f!==null)f.return=u,Ge=f;else for(;Ge!==null;){u=Ge;var p=u.sibling,h=u.return;if(hC(u),u===c){Ge=null;break}if(p!==null){p.return=h,Ge=p;break}Ge=h}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}Ge=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ge=s;else e:for(;Ge!==null;){if(a=Ge,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Lh(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Ge=y;break e}Ge=a.return}}var w=t.current;for(Ge=w;Ge!==null;){s=Ge;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Ge=_;else e:for(s=w;Ge!==null;){if(o=Ge,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:hy(9,o)}}catch(S){Br(o,o.return,S)}if(o===s){Ge=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,Ge=j;break e}Ge=o.return}}if(Ht=i,wl(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(ay,t)}catch{}n=!0}return n}finally{ir=r,ha.transition=e}}return!1}function GA(t,e,r){e=xd(r,e),e=rC(t,e,1),t=ol(t,e,1),e=oi(),t!==null&&(nm(t,1,e),bi(t,e))}function Br(t,e,r){if(t.tag===3)GA(t,t,r);else for(;e!==null;){if(e.tag===3){GA(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ll===null||!ll.has(n))){t=xd(r,t),t=nC(e,t,1),e=ol(e,t,1),t=oi(),e!==null&&(nm(e,1,t),bi(e,t));break}}e=e.return}}function RD(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=oi(),t.pingedLanes|=t.suspendedLanes&r,kn===t&&(Rn&r)===r&&(bn===4||bn===3&&(Rn&130023424)===Rn&&500>Gr()-x_?Sc(t,0):b_|=r),bi(t,e)}function SC(t,e){e===0&&(t.mode&1?(e=lg,lg<<=1,!(lg&130023424)&&(lg=4194304)):e=1);var r=oi();t=oo(t,e),t!==null&&(nm(t,e,r),bi(t,r))}function MD(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),SC(t,r)}function DD(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Re(314))}n!==null&&n.delete(e),SC(t,r)}var jC;jC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||vi.current)mi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return mi=!1,AD(t,e,r);mi=!!(t.flags&131072)}else mi=!1,kr&&e.flags&1048576&&O6(e,P0,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;s0(t,e),t=e.pendingProps;var i=gd(e,Zn.current);id(e,r),i=h_(null,e,n,t,i,r);var a=p_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yi(n)?(a=!0,k0(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,l_(e),i.updater=fy,e.stateNode=i,i._reactInternals=e,h2(e,n,t,r),e=g2(null,e,n,!0,a,r)):(e.tag=0,kr&&a&&t_(e),ri(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(s0(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=FD(n),t=Ia(n,t),i){case 0:e=m2(null,e,n,t,r);break e;case 1:e=MA(null,e,n,t,r);break e;case 11:e=$A(null,e,n,t,r);break e;case 14:e=RA(null,e,n,Ia(n.type,t),r);break e}throw Error(Re(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ia(n,i),m2(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ia(n,i),MA(t,e,n,i,r);case 3:e:{if(oC(e),t===null)throw Error(Re(387));n=e.pendingProps,a=e.memoizedState,i=a.element,I6(t,e),T0(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=xd(Error(Re(423)),e),e=DA(t,e,n,r,i);break e}else if(n!==i){i=xd(Error(Re(424)),e),e=DA(t,e,n,r,i);break e}else for(Ui=sl(e.stateNode.containerInfo.firstChild),qi=e,kr=!0,Ba=null,r=T6(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vd(),n===i){e=lo(t,e,r);break e}ri(t,e,n,r)}e=e.child}return e;case 5:return $6(e),t===null&&u2(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,a2(n,i)?s=null:a!==null&&a2(n,a)&&(e.flags|=32),sC(t,e),ri(t,e,s,r),e.child;case 6:return t===null&&u2(e),null;case 13:return lC(t,e,r);case 4:return c_(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=yd(e,null,n,r):ri(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ia(n,i),$A(t,e,n,i,r);case 7:return ri(t,e,e.pendingProps,r),e.child;case 8:return ri(t,e,e.pendingProps.children,r),e.child;case 12:return ri(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,yr(E0,n._currentValue),n._currentValue=s,a!==null)if(Ha(a.value,s)){if(a.children===i.children&&!vi.current){e=lo(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=eo(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),d2(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Re(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),d2(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}ri(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,id(e,r),i=pa(i),n=n(i),e.flags|=1,ri(t,e,n,r),e.child;case 14:return n=e.type,i=Ia(n,e.pendingProps),i=Ia(n.type,i),RA(t,e,n,i,r);case 15:return iC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ia(n,i),s0(t,e),e.tag=1,yi(n)?(t=!0,k0(e)):t=!1,id(e,r),tC(e,n,i),h2(e,n,i,r),g2(null,e,n,!0,t,r);case 19:return cC(t,e,r);case 22:return aC(t,e,r)}throw Error(Re(156,e.tag))};function AC(t,e){return ZE(t,e)}function BD(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function da(t,e,r,n){return new BD(t,e,r,n)}function j_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FD(t){if(typeof t=="function")return j_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===q5)return 11;if(t===W5)return 14}return 2}function ul(t,e){var r=t.alternate;return r===null?(r=da(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function c0(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")j_(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Mu:return jc(r.children,i,a,e);case z5:s=8,i|=8;break;case Mx:return t=da(12,r,e,i|2),t.elementType=Mx,t.lanes=a,t;case Dx:return t=da(13,r,e,i),t.elementType=Dx,t.lanes=a,t;case Bx:return t=da(19,r,e,i),t.elementType=Bx,t.lanes=a,t;case $E:return my(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case LE:s=10;break e;case IE:s=9;break e;case q5:s=11;break e;case W5:s=14;break e;case Wo:s=16,n=null;break e}throw Error(Re(130,t==null?t:typeof t,""))}return e=da(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function jc(t,e,r,n){return t=da(7,t,n,e),t.lanes=r,t}function my(t,e,r,n){return t=da(22,t,n,e),t.elementType=$E,t.lanes=r,t.stateNode={isHidden:!1},t}function Ab(t,e,r){return t=da(6,t,null,e),t.lanes=r,t}function Nb(t,e,r){return e=da(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UD(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sb(0),this.expirationTimes=sb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sb(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function A_(t,e,r,n,i,a,s,o,l){return t=new UD(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=da(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},l_(a),t}function zD(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ru,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function NC(t){if(!t)return ml;t=t._reactInternals;e:{if(Vc(t)!==t||t.tag!==1)throw Error(Re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Re(171))}if(t.tag===1){var r=t.type;if(yi(r))return N6(t,r,e)}return e}function kC(t,e,r,n,i,a,s,o,l){return t=A_(r,n,!0,t,i,a,s,o,l),t.context=NC(null),r=t.current,n=oi(),i=cl(r),a=eo(n,i),a.callback=e??null,ol(r,a,i),t.current.lanes=i,nm(t,i,n),bi(t,n),t}function gy(t,e,r,n){var i=e.current,a=oi(),s=cl(i);return r=NC(r),e.context===null?e.context=r:e.pendingContext=r,e=eo(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ol(i,e,s),t!==null&&(za(t,i,s,a),n0(t,i,s)),s}function F0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function KA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function N_(t,e){KA(t,e),(t=t.alternate)&&KA(t,e)}function qD(){return null}var OC=typeof reportError=="function"?reportError:function(t){console.error(t)};function k_(t){this._internalRoot=t}vy.prototype.render=k_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Re(409));gy(t,e,null,null)};vy.prototype.unmount=k_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Lc(function(){gy(null,t,null,null)}),e[so]=null}};function vy(t){this._internalRoot=t}vy.prototype.unstable_scheduleHydration=function(t){if(t){var e=a6();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ko.length&&e!==0&&e<Ko[r].priority;r++);Ko.splice(r,0,t),r===0&&o6(t)}};function O_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function YA(){}function WD(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=F0(s);a.call(c)}}var s=kC(e,n,t,0,null,!1,!1,"",YA);return t._reactRootContainer=s,t[so]=s.current,rp(t.nodeType===8?t.parentNode:t),Lc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=F0(l);o.call(c)}}var l=A_(t,0,!1,null,null,!1,!1,"",YA);return t._reactRootContainer=l,t[so]=l.current,rp(t.nodeType===8?t.parentNode:t),Lc(function(){gy(e,l,r,n)}),l}function by(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=F0(s);o.call(l)}}gy(e,s,t,i)}else s=WD(r,e,t,i,n);return F0(s)}n6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=_h(e.pendingLanes);r!==0&&(G5(e,r|1),bi(e,Gr()),!(Ht&6)&&(wd=Gr()+500,wl()))}break;case 13:Lc(function(){var n=oo(t,1);if(n!==null){var i=oi();za(n,t,1,i)}}),N_(t,1)}};K5=function(t){if(t.tag===13){var e=oo(t,134217728);if(e!==null){var r=oi();za(e,t,134217728,r)}N_(t,134217728)}};i6=function(t){if(t.tag===13){var e=cl(t),r=oo(t,e);if(r!==null){var n=oi();za(r,t,e,n)}N_(t,e)}};a6=function(){return ir};s6=function(t,e){var r=ir;try{return ir=t,e()}finally{ir=r}};Yx=function(t,e,r){switch(e){case"input":if(zx(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=cy(n);if(!i)throw Error(Re(90));ME(n),zx(n,i)}}}break;case"textarea":BE(t,r);break;case"select":e=r.value,e!=null&&ed(t,!!r.multiple,e,!1)}};VE=w_;GE=Lc;var HD={usingClientEntryPoint:!1,Events:[am,Uu,cy,WE,HE,w_]},sh={findFiberByHostInstance:mc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VD={bundleType:sh.bundleType,version:sh.version,rendererPackageName:sh.rendererPackageName,rendererConfig:sh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=XE(t),t===null?null:t.stateNode},findFiberByHostInstance:sh.findFiberByHostInstance||qD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bg.isDisabled&&bg.supportsFiber)try{ay=bg.inject(VD),fs=bg}catch{}}Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HD;Gi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O_(e))throw Error(Re(200));return zD(t,e,null,r)};Gi.createRoot=function(t,e){if(!O_(t))throw Error(Re(299));var r=!1,n="",i=OC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=A_(t,1,!1,null,null,r,!1,n,i),t[so]=e.current,rp(t.nodeType===8?t.parentNode:t),new k_(e)};Gi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Re(188)):(t=Object.keys(t).join(","),Error(Re(268,t)));return t=XE(e),t=t===null?null:t.stateNode,t};Gi.flushSync=function(t){return Lc(t)};Gi.hydrate=function(t,e,r){if(!yy(e))throw Error(Re(200));return by(null,t,e,!0,r)};Gi.hydrateRoot=function(t,e,r){if(!O_(t))throw Error(Re(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=OC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=kC(e,null,t,1,r??null,i,!1,a,s),t[so]=e.current,rp(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new vy(e)};Gi.render=function(t,e,r){if(!yy(e))throw Error(Re(200));return by(null,t,e,!1,r)};Gi.unmountComponentAtNode=function(t){if(!yy(t))throw Error(Re(40));return t._reactRootContainer?(Lc(function(){by(null,null,t,!1,function(){t._reactRootContainer=null,t[so]=null})}),!0):!1};Gi.unstable_batchedUpdates=w_;Gi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!yy(r))throw Error(Re(200));if(t==null||t._reactInternals===void 0)throw Error(Re(38));return by(t,e,r,!1,n)};Gi.version="18.3.1-next-f1338f8080-20240426";function PC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PC)}catch(t){console.error(t)}}PC(),PE.exports=Gi;var GD=PE.exports,XA=GD;$x.createRoot=XA.createRoot,$x.hydrateRoot=XA.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dp(){return dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dp.apply(this,arguments)}var el;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(el||(el={}));const JA="popstate";function KD(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return O2("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:U0(i)}return XD(e,r,null,t)}function Jr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function EC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YD(){return Math.random().toString(36).substr(2,8)}function ZA(t,e){return{usr:t.state,key:t.key,idx:e}}function O2(t,e,r,n){return r===void 0&&(r=null),dp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?nf(e):e,{state:r,key:e&&e.key||n||YD()})}function U0(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function nf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function XD(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=el.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(dp({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=el.Pop;let x=u(),y=x==null?null:x-c;c=x,l&&l({action:o,location:v.location,delta:y})}function p(x,y){o=el.Push;let w=O2(v.location,x,y);c=u()+1;let _=ZA(w,c),j=v.createHref(w);try{s.pushState(_,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(j)}a&&l&&l({action:o,location:v.location,delta:1})}function h(x,y){o=el.Replace;let w=O2(v.location,x,y);c=u();let _=ZA(w,c),j=v.createHref(w);s.replaceState(_,"",j),a&&l&&l({action:o,location:v.location,delta:0})}function g(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:U0(x);return w=w.replace(/ $/,"%20"),Jr(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let v={get action(){return o},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(JA,f),l=x,()=>{i.removeEventListener(JA,f),l=null}},createHref(x){return e(i,x)},createURL:g,encodeLocation(x){let y=g(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:h,go(x){return s.go(x)}};return v}var QA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(QA||(QA={}));function JD(t,e,r){return r===void 0&&(r="/"),ZD(t,e,r)}function ZD(t,e,r,n){let i=typeof e=="string"?nf(e):e,a=P_(i.pathname||"/",r);if(a==null)return null;let s=CC(t);QD(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=d9(a);o=l9(s[l],c)}return o}function CC(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Jr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=dl([n,l.relativePath]),u=r.concat(l);a.children&&a.children.length>0&&(Jr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),CC(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:s9(c,a.index),routesMeta:u})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of TC(a.path))i(a,s,l)}),e}function TC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=TC(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function QD(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:o9(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const e9=/^:[\w-]+$/,t9=3,r9=2,n9=1,i9=10,a9=-2,eN=t=>t==="*";function s9(t,e){let r=t.split("/"),n=r.length;return r.some(eN)&&(n+=a9),e&&(n+=r9),r.filter(i=>!eN(i)).reduce((i,a)=>i+(e9.test(a)?t9:a===""?n9:i9),n)}function o9(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function l9(t,e,r){let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=a==="/"?e:e.slice(a.length)||"/",f=c9({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:dl([a,f.pathname]),pathnameBase:m9(dl([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=dl([a,f.pathnameBase]))}return s}function c9(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=u9(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:p,isOptional:h}=u;if(p==="*"){let v=o[f]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[f];return h&&!g?c[p]=void 0:c[p]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function u9(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),EC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function d9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return EC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function P_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function f9(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?nf(t):t;return{pathname:r?r.startsWith("/")?r:h9(r,e):e,search:g9(n),hash:v9(i)}}function h9(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function kb(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p9(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function E_(t,e){let r=p9(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function C_(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=nf(t):(i=dp({},t),Jr(!i.pathname||!i.pathname.includes("?"),kb("?","pathname","search",i)),Jr(!i.pathname||!i.pathname.includes("#"),kb("#","pathname","hash",i)),Jr(!i.search||!i.search.includes("#"),kb("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}o=f>=0?e[f]:"/"}let l=f9(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const dl=t=>t.join("/").replace(/\/\/+/g,"/"),m9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),g9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,v9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function y9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const LC=["post","put","patch","delete"];new Set(LC);const b9=["get",...LC];new Set(b9);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fp.apply(this,arguments)}const T_=Y.createContext(null),x9=Y.createContext(null),_l=Y.createContext(null),xy=Y.createContext(null),go=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),IC=Y.createContext(null);function w9(t,e){let{relative:r}=e===void 0?{}:e;af()||Jr(!1);let{basename:n,navigator:i}=Y.useContext(_l),{hash:a,pathname:s,search:o}=RC(t,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:dl([n,s])),i.createHref({pathname:l,search:o,hash:a})}function af(){return Y.useContext(xy)!=null}function Gc(){return af()||Jr(!1),Y.useContext(xy).location}function $C(t){Y.useContext(_l).static||Y.useLayoutEffect(t)}function Ga(){let{isDataRoute:t}=Y.useContext(go);return t?I9():_9()}function _9(){af()||Jr(!1);let t=Y.useContext(T_),{basename:e,future:r,navigator:n}=Y.useContext(_l),{matches:i}=Y.useContext(go),{pathname:a}=Gc(),s=JSON.stringify(E_(i,r.v7_relativeSplatPath)),o=Y.useRef(!1);return $C(()=>{o.current=!0}),Y.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=C_(c,JSON.parse(s),a,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:dl([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,s,a,t])}function wy(){let{matches:t}=Y.useContext(go),e=t[t.length-1];return e?e.params:{}}function RC(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=Y.useContext(_l),{matches:i}=Y.useContext(go),{pathname:a}=Gc(),s=JSON.stringify(E_(i,n.v7_relativeSplatPath));return Y.useMemo(()=>C_(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function S9(t,e){return j9(t,e)}function j9(t,e,r,n){af()||Jr(!1);let{navigator:i}=Y.useContext(_l),{matches:a}=Y.useContext(go),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Gc(),u;if(e){var f;let x=typeof e=="string"?nf(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||Jr(!1),u=x}else u=c;let p=u.pathname||"/",h=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=JD(t,{pathname:h}),v=P9(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:dl([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:dl([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,r,n);return e&&v?Y.createElement(xy.Provider,{value:{location:fp({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:el.Pop}},v):v}function A9(){let t=L9(),e=y9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),r?Y.createElement("pre",{style:i},r):null,null)}const N9=Y.createElement(A9,null);class k9 extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?Y.createElement(go.Provider,{value:this.props.routeContext},Y.createElement(IC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function O9(t){let{routeContext:e,match:r,children:n}=t,i=Y.useContext(T_);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),Y.createElement(go.Provider,{value:e},n)}function P9(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||Jr(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:p,errors:h}=r,g=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,p)=>{let h,g=!1,v=null,x=null;r&&(h=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||N9,l&&(c<0&&p===0?($9("route-fallback"),g=!0,x=null):c===p&&(g=!0,x=f.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,p+1)),w=()=>{let _;return h?_=v:g?_=x:f.route.Component?_=Y.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=u,Y.createElement(O9,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?Y.createElement(k9,{location:r.location,revalidation:r.revalidation,component:v,error:h,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var MC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(MC||{}),DC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(DC||{});function E9(t){let e=Y.useContext(T_);return e||Jr(!1),e}function C9(t){let e=Y.useContext(x9);return e||Jr(!1),e}function T9(t){let e=Y.useContext(go);return e||Jr(!1),e}function BC(t){let e=T9(),r=e.matches[e.matches.length-1];return r.route.id||Jr(!1),r.route.id}function L9(){var t;let e=Y.useContext(IC),r=C9(),n=BC();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function I9(){let{router:t}=E9(MC.UseNavigateStable),e=BC(DC.UseNavigateStable),r=Y.useRef(!1);return $C(()=>{r.current=!0}),Y.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,fp({fromRouteId:e},a)))},[t,e])}const tN={};function $9(t,e,r){tN[t]||(tN[t]=!0)}function R9(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function M9(t){let{to:e,replace:r,state:n,relative:i}=t;af()||Jr(!1);let{future:a,static:s}=Y.useContext(_l),{matches:o}=Y.useContext(go),{pathname:l}=Gc(),c=Ga(),u=C_(e,E_(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return Y.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:i}),[c,f,i,r,n]),null}function tn(t){Jr(!1)}function D9(t){let{basename:e="/",children:r=null,location:n,navigationType:i=el.Pop,navigator:a,static:s=!1,future:o}=t;af()&&Jr(!1);let l=e.replace(/^\/*/,"/"),c=Y.useMemo(()=>({basename:l,navigator:a,static:s,future:fp({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=nf(n));let{pathname:u="/",search:f="",hash:p="",state:h=null,key:g="default"}=n,v=Y.useMemo(()=>{let x=P_(u,l);return x==null?null:{location:{pathname:x,search:f,hash:p,state:h,key:g},navigationType:i}},[l,u,f,p,h,g,i]);return v==null?null:Y.createElement(_l.Provider,{value:c},Y.createElement(xy.Provider,{children:r,value:v}))}function B9(t){let{children:e,location:r}=t;return S9(P2(e),r)}new Promise(()=>{});function P2(t,e){e===void 0&&(e=[]);let r=[];return Y.Children.forEach(t,(n,i)=>{if(!Y.isValidElement(n))return;let a=[...e,i];if(n.type===Y.Fragment){r.push.apply(r,P2(n.props.children,a));return}n.type!==tn&&Jr(!1),!n.props.index||!n.props.children||Jr(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=P2(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function E2(){return E2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E2.apply(this,arguments)}function F9(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function U9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function z9(t,e){return t.button===0&&(!e||e==="_self")&&!U9(t)}const q9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],W9="6";try{window.__reactRouterVersion=W9}catch{}const H9="startTransition",rN=R7[H9];function V9(t){let{basename:e,children:r,future:n,window:i}=t,a=Y.useRef();a.current==null&&(a.current=KD({window:i,v5Compat:!0}));let s=a.current,[o,l]=Y.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=Y.useCallback(f=>{c&&rN?rN(()=>l(f)):l(f)},[l,c]);return Y.useLayoutEffect(()=>s.listen(u),[s,u]),Y.useEffect(()=>R9(n),[n]),Y.createElement(D9,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const G9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FC=Y.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,p=F9(e,q9),{basename:h}=Y.useContext(_l),g,v=!1;if(typeof c=="string"&&K9.test(c)&&(g=c,G9))try{let _=new URL(window.location.href),j=c.startsWith("//")?new URL(_.protocol+c):new URL(c),S=P_(j.pathname,h);j.origin===_.origin&&S!=null?c=S+j.search+j.hash:v=!0}catch{}let x=w9(c,{relative:i}),y=Y9(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function w(_){n&&n(_),_.defaultPrevented||y(_)}return Y.createElement("a",E2({},p,{href:g||x,onClick:v||a?n:w,ref:r,target:l}))});var nN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(nN||(nN={}));var iN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(iN||(iN={}));function Y9(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Ga(),c=Gc(),u=RC(t,{relative:s});return Y.useCallback(f=>{if(z9(f,r)){f.preventDefault();let p=n!==void 0?n:U0(c)===U0(u);l(t,{replace:p,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,n,i,r,t,a,s,o])}var C2=function(t,e){return C2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},C2(t,e)};function UC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");C2(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var z0=function(){return z0=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},z0.apply(this,arguments)};function sf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function zC(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,r,a):s(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function qC(t,e){return function(r,n){e(r,n,t)}}function WC(t,e,r,n,i,a){function s(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,p=!1,h=r.length-1;h>=0;h--){var g={};for(var v in n)g[v]=v==="access"?{}:n[v];for(var v in n.access)g.access[v]=n.access[v];g.addInitializer=function(y){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(y||null))};var x=(0,r[h])(o==="accessor"?{get:u.get,set:u.set}:u[l],g);if(o==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(f=s(x.get))&&(u.get=f),(f=s(x.set))&&(u.set=f),(f=s(x.init))&&i.unshift(f)}else(f=s(x))&&(o==="field"?i.unshift(f):u[l]=f)}c&&Object.defineProperty(c,n.name,u),p=!0}function HC(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function VC(t){return typeof t=="symbol"?t:"".concat(t)}function GC(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function KC(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function at(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})}function YC(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var _y=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function XC(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&_y(e,t,r)}function q0(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function L_(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function JC(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(L_(arguments[e]));return t}function ZC(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}function QC(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function _d(t){return this instanceof _d?(this.v=t,this):new _d(t)}function eT(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(g){return Promise.resolve(g).then(h,f)}}function o(h,g){n[h]&&(i[h]=function(v){return new Promise(function(x,y){a.push([h,v,x,y])>1||l(h,v)})},g&&(i[h]=g(i[h])))}function l(h,g){try{c(n[h](g))}catch(v){p(a[0][3],v)}}function c(h){h.value instanceof _d?Promise.resolve(h.value.v).then(u,f):p(a[0][2],h)}function u(h){l("next",h)}function f(h){l("throw",h)}function p(h,g){h(g),a.shift(),a.length&&l(a[0][0],a[0][1])}}function tT(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=t[i]?function(s){return(r=!r)?{value:_d(t[i](s)),done:!1}:a?a(s):s}:a}}function rT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof q0=="function"?q0(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(s){return new Promise(function(o,l){s=t[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}}function nT(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var X9=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},T2=function(t){return T2=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},T2(t)};function iT(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=T2(t),n=0;n<r.length;n++)r[n]!=="default"&&_y(e,t,r[n]);return X9(e,t),e}function aT(t){return t&&t.__esModule?t:{default:t}}function sT(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function oT(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function lT(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function cT(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var J9=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function uT(t){function e(a){t.error=t.hasError?new J9(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(s){return e(s),i()})}else n|=1}catch(s){e(s)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function dT(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,s){return n?e?".jsx":".js":i&&(!a||!s)?r:i+a+"."+s.toLowerCase()+"js"}):t}const Z9={__extends:UC,__assign:z0,__rest:sf,__decorate:zC,__param:qC,__esDecorate:WC,__runInitializers:HC,__propKey:VC,__setFunctionName:GC,__metadata:KC,__awaiter:at,__generator:YC,__createBinding:_y,__exportStar:XC,__values:q0,__read:L_,__spread:JC,__spreadArrays:ZC,__spreadArray:QC,__await:_d,__asyncGenerator:eT,__asyncDelegator:tT,__asyncValues:rT,__makeTemplateObject:nT,__importStar:iT,__importDefault:aT,__classPrivateFieldGet:sT,__classPrivateFieldSet:oT,__classPrivateFieldIn:lT,__addDisposableResource:cT,__disposeResources:uT,__rewriteRelativeImportExtension:dT},Q9=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:cT,get __assign(){return z0},__asyncDelegator:tT,__asyncGenerator:eT,__asyncValues:rT,__await:_d,__awaiter:at,__classPrivateFieldGet:sT,__classPrivateFieldIn:lT,__classPrivateFieldSet:oT,__createBinding:_y,__decorate:zC,__disposeResources:uT,__esDecorate:WC,__exportStar:XC,__extends:UC,__generator:YC,__importDefault:aT,__importStar:iT,__makeTemplateObject:nT,__metadata:KC,__param:qC,__propKey:VC,__read:L_,__rest:sf,__rewriteRelativeImportExtension:dT,__runInitializers:HC,__setFunctionName:GC,__spread:JC,__spreadArray:QC,__spreadArrays:ZC,__values:q0,default:Z9},Symbol.toStringTag,{value:"Module"})),eB=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class I_ extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class tB extends I_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class aN extends I_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class sN extends I_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var L2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(L2||(L2={}));class rB{constructor(e,{headers:r={},customFetch:n,region:i=L2.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=eB(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return at(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:o,method:l,body:c,signal:u,timeout:f}=n;let p={},{region:h}=n;h||(h=this.region);const g=new URL(`${this.url}/${r}`);h&&h!=="any"&&(p["x-region"]=h,g.searchParams.set("forceFunctionRegion",h));let v;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(p["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(p["Content-Type"]="application/json",v=JSON.stringify(c)):v=c;let x=u;f&&(s=new AbortController,a=setTimeout(()=>s.abort(),f),u?(x=s.signal,u.addEventListener("abort",()=>s.abort())):x=s.signal);const y=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:v,signal:x}).catch(S=>{throw new tB(S)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new aN(y);if(!y.ok)throw new sN(y);let _=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return _==="application/json"?j=yield y.json():_==="application/octet-stream"||_==="application/pdf"?j=yield y.blob():_==="text/event-stream"?j=y:_==="multipart/form-data"?j=yield y.formData():j=yield y.text(),{data:j,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof sN||o instanceof aN?o.context:void 0}}finally{a&&clearTimeout(a)}})}}var ni={};const of=x7(Q9);var xg={},wg={},_g={},Sg={},jg={},Ag={},oN;function fT(){if(oN)return Ag;oN=1,Object.defineProperty(Ag,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ag.default=t,Ag}var lN;function hT(){if(lN)return jg;lN=1,Object.defineProperty(jg,"__esModule",{value:!0});const e=of.__importDefault(fT());class r{constructor(i){var a,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,f,p;let h=null,g=null,v=null,x=l.status,y=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?g=S:g=JSON.parse(S))}const _=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),j=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&j&&j.length>1&&(v=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(h={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,x=406,y="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const _=await l.text();try{h=JSON.parse(_),Array.isArray(h)&&l.status===404&&(g=[],h=null,x=200,y="OK")}catch{l.status===404&&_===""?(x=204,y="No Content"):h={message:_}}if(h&&this.isMaybeSingle&&(!((p=h==null?void 0:h.details)===null||p===void 0)&&p.includes("0 rows"))&&(h=null,x=200,y="OK"),h&&this.shouldThrowOnError)throw new e.default(h)}return{error:h,data:g,count:v,status:x,statusText:y}});return this.shouldThrowOnError||(o=o.catch(l=>{var c,u,f;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(u=l==null?void 0:l.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(f=l==null?void 0:l.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),o.then(i,a)}returns(){return this}overrideTypes(){return this}}return jg.default=r,jg}var cN;function pT(){if(cN)return Sg;cN=1,Object.defineProperty(Sg,"__esModule",{value:!0});const e=of.__importDefault(hT());class r extends e.default{select(i){let a=!1;const s=(i??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var u;const f=[i?"analyze":null,a?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Sg.default=r,Sg}var uN;function $_(){if(uN)return _g;uN=1,Object.defineProperty(_g,"__esModule",{value:!0});const e=of.__importDefault(pT()),r=new RegExp("[,()]");class n extends e.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${u}.${s}`),this}match(a){return Object.entries(a).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(a,s,o){return this.url.searchParams.append(a,`not.${s}.${o}`),this}or(a,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,s,o){return this.url.searchParams.append(a,`${s}.${o}`),this}}return _g.default=n,_g}var dN;function mT(){if(dN)return wg;dN=1,Object.defineProperty(wg,"__esModule",{value:!0});const e=of.__importDefault($_());class r{constructor(i,{headers:a={},schema:s,fetch:o}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=o}select(i,a){const{head:s=!1,count:o}=a??{},l=s?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",u),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var o;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:a}={}){var s;const o="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return wg.default=r,wg}var fN;function nB(){if(fN)return xg;fN=1,Object.defineProperty(xg,"__esModule",{value:!0});const t=of,e=t.__importDefault(mT()),r=t.__importDefault($_());class n{constructor(a,{headers:s={},schema:o,fetch:l}={}){this.url=a,this.headers=new Headers(s),this.schemaName=o,this.fetch=l}from(a){const s=new URL(`${this.url}/${a}`);return new e.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:o=!1,get:l=!1,count:c}={}){var u;let f;const p=new URL(`${this.url}/rpc/${a}`);let h;o||l?(f=o?"HEAD":"GET",Object.entries(s).filter(([v,x])=>x!==void 0).map(([v,x])=>[v,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([v,x])=>{p.searchParams.append(v,x)})):(f="POST",h=s);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new r.default({method:f,url:p,headers:g,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return xg.default=n,xg}Object.defineProperty(ni,"__esModule",{value:!0});var gT=ni.PostgrestError=NT=ni.PostgrestBuilder=jT=ni.PostgrestTransformBuilder=_T=ni.PostgrestFilterBuilder=xT=ni.PostgrestQueryBuilder=yT=ni.PostgrestClient=void 0;const lf=of,vT=lf.__importDefault(nB());var yT=ni.PostgrestClient=vT.default;const bT=lf.__importDefault(mT());var xT=ni.PostgrestQueryBuilder=bT.default;const wT=lf.__importDefault($_());var _T=ni.PostgrestFilterBuilder=wT.default;const ST=lf.__importDefault(pT());var jT=ni.PostgrestTransformBuilder=ST.default;const AT=lf.__importDefault(hT());var NT=ni.PostgrestBuilder=AT.default;const kT=lf.__importDefault(fT());gT=ni.PostgrestError=kT.default;var OT=ni.default={PostgrestClient:vT.default,PostgrestQueryBuilder:bT.default,PostgrestFilterBuilder:wT.default,PostgrestTransformBuilder:ST.default,PostgrestBuilder:AT.default,PostgrestError:kT.default};const iB=vE({__proto__:null,get PostgrestBuilder(){return NT},get PostgrestClient(){return yT},get PostgrestError(){return gT},get PostgrestFilterBuilder(){return _T},get PostgrestQueryBuilder(){return xT},get PostgrestTransformBuilder(){return jT},default:OT},[ni]),{PostgrestClient:aB,PostgrestQueryBuilder:x1e,PostgrestFilterBuilder:w1e,PostgrestTransformBuilder:_1e,PostgrestBuilder:S1e,PostgrestError:j1e}=OT||iB;class sB{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const oB="2.81.0",lB=`realtime-js/${oB}`,PT="1.0.0",cB="2.0.0",hN=PT,I2=1e4,uB=1e3,dB=100;var uc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(uc||(uc={}));var gn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(gn||(gn={}));var oa;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(oa||(oa={}));var $2;(function(t){t.websocket="websocket"})($2||($2={}));var dc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(dc||(dc={}));class fB{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){const{join_ref:r,ref:n,event:i,topic:a,payload:s}=e,o=this.META_LENGTH+r.length+n.length+a.length+i.length,l=new ArrayBuffer(this.HEADER_LENGTH+o);let c=new DataView(l),u=0;c.setUint8(u++,this.KINDS.push),c.setUint8(u++,r.length),c.setUint8(u++,n.length),c.setUint8(u++,a.length),c.setUint8(u++,i.length),Array.from(r,p=>c.setUint8(u++,p.charCodeAt(0))),Array.from(n,p=>c.setUint8(u++,p.charCodeAt(0))),Array.from(a,p=>c.setUint8(u++,p.charCodeAt(0))),Array.from(i,p=>c.setUint8(u++,p.charCodeAt(0)));var f=new Uint8Array(l.byteLength+s.byteLength);return f.set(new Uint8Array(l),0),f.set(new Uint8Array(s),l.byteLength),f.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const{join_ref:i,ref:a,topic:s}=e,o=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),c=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+s.length+o.length,u=new ArrayBuffer(this.HEADER_LENGTH+c);let f=new DataView(u),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,i.length),f.setUint8(p++,a.length),f.setUint8(p++,s.length),f.setUint8(p++,o.length),f.setUint8(p++,this.BINARY_ENCODING),Array.from(i,g=>f.setUint8(p++,g.charCodeAt(0))),Array.from(a,g=>f.setUint8(p++,g.charCodeAt(0))),Array.from(s,g=>f.setUint8(p++,g.charCodeAt(0))),Array.from(o,g=>f.setUint8(p++,g.charCodeAt(0)));var h=new Uint8Array(u.byteLength+l.byteLength);return h.set(new Uint8Array(u),0),h.set(new Uint8Array(l),u.byteLength),h.buffer}_encodeJsonUserBroadcastPush(e){var r,n;const{join_ref:i,ref:a,topic:s}=e,o=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},u=new TextEncoder().encode(JSON.stringify(l)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+s.length+o.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let h=new DataView(p),g=0;h.setUint8(g++,this.KINDS.userBroadcastPush),h.setUint8(g++,i.length),h.setUint8(g++,a.length),h.setUint8(g++,s.length),h.setUint8(g++,o.length),h.setUint8(g++,this.JSON_ENCODING),Array.from(i,x=>h.setUint8(g++,x.charCodeAt(0))),Array.from(a,x=>h.setUint8(g++,x.charCodeAt(0))),Array.from(s,x=>h.setUint8(g++,x.charCodeAt(0))),Array.from(o,x=>h.setUint8(g++,x.charCodeAt(0)));var v=new Uint8Array(p.byteLength+u.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(u),p.byteLength),v.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,s,o,l]=n;return r({join_ref:i,ref:a,topic:s,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,i);case this.KINDS.reply:return this._decodeReply(e,r,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodePush(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3);let o=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(e.slice(o,o+i));o=o+i;const c=n.decode(e.slice(o,o+a));o=o+a;const u=n.decode(e.slice(o,o+s));o=o+s;const f=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{join_ref:l,ref:null,topic:c,event:u,payload:f}}_decodeReply(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const c=n.decode(e.slice(l,l+i));l=l+i;const u=n.decode(e.slice(l,l+a));l=l+a;const f=n.decode(e.slice(l,l+s));l=l+s;const p=n.decode(e.slice(l,l+o));l=l+o;const h=JSON.parse(n.decode(e.slice(l,e.byteLength))),g={status:p,response:h};return{join_ref:c,ref:u,topic:f,event:oa.reply,payload:g}}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+i));s=s+i;const l=n.decode(e.slice(s,s+a));s=s+a;const c=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{join_ref:null,ref:null,topic:o,event:l,payload:c}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+i));l=l+i;const u=n.decode(e.slice(l,l+a));l=l+a;const f=n.decode(e.slice(l,l+s));l=l+s;const p=e.slice(l,e.byteLength),h=o===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,g={type:this.BROADCAST,event:u,payload:h};return s>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:g}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class ET{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(mr||(mr={}));const pN=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,s)=>(a[s]=hB(s,t,e,i),a),{}):{}},hB=(t,e,r,n)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=r[t];return a&&!n.includes(a)?CT(a,s):R2(s)},CT=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return vB(e,r)}switch(t){case mr.bool:return pB(e);case mr.float4:case mr.float8:case mr.int2:case mr.int4:case mr.int8:case mr.numeric:case mr.oid:return mB(e);case mr.json:case mr.jsonb:return gB(e);case mr.timestamp:return yB(e);case mr.abstime:case mr.date:case mr.daterange:case mr.int4range:case mr.int8range:case mr.money:case mr.reltime:case mr.text:case mr.time:case mr.timestamptz:case mr.timetz:case mr.tsrange:case mr.tstzrange:return R2(e);default:return R2(e)}},R2=t=>t,pB=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},mB=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},gB=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},vB=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const s=t.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>CT(e,o))}return t},yB=t=>typeof t=="string"?t.replace(" ","T"):t,TT=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ob{constructor(e,r,n={},i=I2){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mN;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(mN||(mN={}));class Rh{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rh.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=Rh.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Rh.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),s=this.transformState(r),o={},l={};return this.map(a,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const f=a[c];if(f){const p=u.map(x=>x.presence_ref),h=f.map(x=>x.presence_ref),g=u.filter(x=>h.indexOf(x.presence_ref)<0),v=f.filter(x=>p.indexOf(x.presence_ref)<0);g.length>0&&(o[c]=g),v.length>0&&(l[c]=v)}else o[c]=u}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const f=e[o].map(h=>h.presence_ref),p=u.filter(h=>f.indexOf(h.presence_ref)<0);e[o].unshift(...p)}n(o,u,l)}),this.map(s,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gN;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(gN||(gN={}));var Mh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Mh||(Mh={}));var Ws;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ws||(Ws={}));class R_{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=gn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ob(this,oa.join,this.params,this.timeout),this.rejoinTimer=new ET(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oa.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Rh(this),this.broadcastEndpointURL=TT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==gn.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Mh.PRESENCE]&&this.bindings[Mh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},p={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(Ws.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Ws.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var g;if(this.socket.setAuth(),h===void 0){e==null||e(Ws.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,y=[];for(let w=0;w<x;w++){const _=v[w],{filter:{event:j,schema:S,table:k,filter:E}}=_,L=h&&h[w];if(L&&L.event===j&&L.schema===S&&L.table===k&&L.filter===E)y.push(Object.assign(Object.assign({},_),{id:L.id}));else{this.unsubscribe(),this.state=gn.errored,e==null||e(Ws.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Ws.SUBSCRIBED);return}}).receive("error",h=>{this.state=gn.errored,e==null||e(Ws.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ws.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===gn.joined&&e===Mh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Ob(this,oa.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ob(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>dB){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=oa;if(n&&[o,l,c,u].indexOf(s)>=0&&n!==this._joinRef())return;let p=this._onMessage(s,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var g,v,x;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(v=h.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(h=>h.callback(p,n)):(a=this.bindings[s])===null||a===void 0||a.filter(h=>{var g,v,x,y,w,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const j=h.id,S=(g=h.filter)===null||g===void 0?void 0:g.event;return j&&((v=r.ids)===null||v===void 0?void 0:v.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(w=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return j==="*"||j===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof p=="object"&&"ids"in p){const g=p.data,{schema:v,table:x,commit_timestamp:y,type:w,errors:_}=g;p=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:y,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(g))}h.callback(p,n)})}_isClosed(){return this.state===gn.closed}_isJoined(){return this.state===gn.joined}_isJoining(){return this.state===gn.joining}_isLeaving(){return this.state===gn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&R_.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(oa.close,{},e)}_onError(e){this._on(oa.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=pN(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=pN(e.columns,e.old_record)),r}}const Pb=()=>{},Ng={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},bB=[1e3,2e3,5e3,1e4],xB=1e4,wB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _B{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=I2,this.transport=null,this.heartbeatIntervalMs=Ng.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pb,this.ref=0,this.reconnectTimer=null,this.vsn=hN,this.logger=Pb,this.conn=null,this.sendBuffer=[],this.serializer=new fB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${$2.websocket}`,this.httpEndpoint=TT(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sB.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case uc.connecting:return dc.Connecting;case uc.open:return dc.Open;case uc.closing:return dc.Closing;default:return dc.Closed}}isConnected(){return this.connectionState()===dc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new R_(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(uB,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ng.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===uc.open||this.conn.readyState===uc.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(oa.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([wB],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:lB};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(oa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new ET(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ng.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,s,o,l,c,u,f,p,h;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:I2,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Ng.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Pb,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:hN,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:g=>bB[g-1]||xB,this.vsn){case PT:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(g,v)=>v(JSON.stringify(g)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(g,v)=>v(JSON.parse(g));break;case cB:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class M_ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Er(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class SB extends M_{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class M2 extends M_{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const D_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),jB=()=>Response,D2=t=>{if(Array.isArray(t))return t.map(r=>D2(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=D2(n)}),e},AB=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Eb=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},NB=(t,e,r)=>at(void 0,void 0,void 0,function*(){const n=yield jB();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,s=(i==null?void 0:i.statusCode)||a+"";e(new SB(Eb(i),a,s))}).catch(i=>{e(new M2(Eb(i),i))}):e(new M2(Eb(t),t))}),kB=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(AB(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function om(t,e,r,n,i,a){return at(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,kB(e,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>NB(l,o,n))})})}function hp(t,e,r,n){return at(this,void 0,void 0,function*(){return om(t,"GET",e,r,n)})}function $a(t,e,r,n,i){return at(this,void 0,void 0,function*(){return om(t,"POST",e,n,i,r)})}function B2(t,e,r,n,i){return at(this,void 0,void 0,function*(){return om(t,"PUT",e,n,i,r)})}function OB(t,e,r,n){return at(this,void 0,void 0,function*(){return om(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function B_(t,e,r,n,i){return at(this,void 0,void 0,function*(){return om(t,"DELETE",e,n,i,r)})}class PB{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return at(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Er(e))return{data:null,error:e};throw e}})}}var LT;class EB{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[LT]="BlobDownloadBuilder",this.promise=null}asStream(){return new PB(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return at(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Er(e))return{data:null,error:e};throw e}})}}LT=Symbol.toStringTag;const CB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class TB{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=D_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return at(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},vN),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),f=yield(e=="PUT"?B2:$a)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Er(a))return{data:null,error:a};throw a}})}upload(e,r,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return at(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:vN.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield B2(this.fetch,o.toString(),l,{headers:u});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Er(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return at(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield $a(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new M_("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}update(e,r,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return at(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}copy(e,r,n){return at(this,void 0,void 0,function*(){try{return{data:{path:(yield $a(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return at(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield $a(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return at(this,void 0,void 0,function*(){try{const i=yield $a(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"",o=this._getFinalPath(e),l=()=>hp(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new EB(l,this.shouldThrowOnError)}info(e){return at(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield hp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:D2(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}exists(e){return at(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield OB(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n)&&n instanceof M2){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return at(this,void 0,void 0,function*(){try{return{data:yield B_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}list(e,r,n){return at(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},CB),r),{prefix:e||""});return{data:yield $a(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}listV2(e,r){return at(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield $a(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const IT="2.81.0",$T={"X-Client-Info":`storage-js/${IT}`};class LB{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$T),r),this.fetch=D_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return at(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield hp(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}getBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield hp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}createBucket(e){return at(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield $a(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Er(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return at(this,void 0,void 0,function*(){try{return{data:yield B2(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}emptyBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}deleteBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield B_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class IB{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$T),r),this.fetch=D_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}listBuckets(e){return at(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield hp(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}deleteBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield B_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}}const F_={"X-Client-Info":`storage-js/${IT}`,"Content-Type":"application/json"};class RT extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Di(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Cb extends RT{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $B extends RT{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var yN;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(yN||(yN={}));const U_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),RB=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},bN=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),MB=(t,e,r)=>at(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";e(new Cb(bN(s),i,o))}).catch(()=>{const s=i+"",o=a.statusText||`HTTP ${i} error`;e(new Cb(o,i,s))});else{const s=i+"",o=a.statusText||`HTTP ${i} error`;e(new Cb(o,i,s))}}else e(new $B(bN(t),t))}),DB=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(RB(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function BB(t,e,r,n,i,a){return at(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,DB(e,n,i,a)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>MB(l,o,n))})})}function Bi(t,e,r,n,i){return at(this,void 0,void 0,function*(){return BB(t,"POST",e,n,i,r)})}class FB{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},F_),r),this.fetch=U_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return at(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}getIndex(e,r){return at(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Di(n))return{data:null,error:n};throw n}})}listIndexes(e){return at(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return at(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Di(n))return{data:null,error:n};throw n}})}}class UB{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},F_),r),this.fetch=U_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return at(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Bi(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}getVectors(e){return at(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}listVectors(e){return at(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Bi(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}queryVectors(e){return at(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}deleteVectors(e){return at(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Bi(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}}class zB{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},F_),r),this.fetch=U_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return at(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}getBucket(e){return at(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}listBuckets(){return at(this,arguments,void 0,function*(e={}){try{return{data:yield Bi(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}deleteBucket(e){return at(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Di(r))return{data:null,error:r};throw r}})}}class qB extends zB{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new WB(this.url,this.headers,e,this.fetch)}}class WB extends FB{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return at(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return at(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return at(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return at(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new HB(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class HB extends UB{constructor(e,r,n,i,a){super(e,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return at(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return at(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return at(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return at(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return at(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class VB extends LB{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new TB(this.url,this.headers,e,this.fetch)}get vectors(){return new qB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new IB(this.url+"/iceberg",this.headers,this.fetch)}}const GB="2.81.0";let jh="";typeof Deno<"u"?jh="deno":typeof document<"u"?jh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jh="react-native":jh="node";const KB={"X-Client-Info":`supabase-js-${jh}/${GB}`},YB={headers:KB},XB={schema:"public"},JB={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZB={},QB=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),eF=()=>Headers,tF=(t,e,r)=>{const n=QB(r),i=eF();return async(a,s)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:c}))}};function rF(t){return t.endsWith("/")?t:t+"/"}function nF(t,e){var r,n;const{db:i,auth:a,realtime:s,global:o}=t,{db:l,auth:c,realtime:u,global:f}=e,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function iF(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(rF(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const MT="2.81.0",Cu=30*1e3,F2=3,Tb=F2*Cu,aF="http://localhost:9999",sF="supabase.auth.token",oF={"X-Client-Info":`gotrue-js/${MT}`},U2="X-Supabase-Api-Version",DT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cF=10*60*1e3;class pp extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ct(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class uF extends pp{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function dF(t){return ct(t)&&t.name==="AuthApiError"}class fc extends pp{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Sl extends pp{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Ta extends Sl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fF(t){return ct(t)&&t.name==="AuthSessionMissingError"}class bu extends Sl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kg extends Sl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Og extends Sl{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hF(t){return ct(t)&&t.name==="AuthImplicitGrantRedirectError"}class xN extends Sl{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class z2 extends Sl{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Lb(t){return ct(t)&&t.name==="AuthRetryableFetchError"}class wN extends Sl{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class q2 extends Sl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const W0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_N=` 	
\r=`.split(""),pF=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<_N.length;e+=1)t[_N[e].charCodeAt(0)]=-2;for(let e=0;e<W0.length;e+=1)t[W0[e].charCodeAt(0)]=e;return t})();function SN(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(W0[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(W0[n]),e.queuedBits-=6}}function BT(t,e,r){const n=pF[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function jN(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{vF(s,n,r)};for(let s=0;s<t.length;s+=1)BT(t.charCodeAt(s),i,a);return e.join("")}function mF(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function gF(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}mF(n,e)}}function vF(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function sd(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)BT(t.charCodeAt(i),r,n);return new Uint8Array(e)}function yF(t){const e=[];return gF(t,r=>e.push(r)),new Uint8Array(e)}function yc(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>SN(i,r,n)),SN(null,r,n),e.join("")}function bF(t){return Math.round(Date.now()/1e3)+t}function xF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Kn=()=>typeof window<"u"&&typeof document<"u",Zl={tested:!1,writable:!1},FT=()=>{if(!Kn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zl.tested)return Zl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Zl.tested=!0,Zl.writable=!0}catch{Zl.tested=!0,Zl.writable=!1}return Zl.writable};function wF(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const UT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_F=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Tu=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ql=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Fo=async(t,e)=>{await t.removeItem(e)};class Sy{constructor(){this.promise=new Sy.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Sy.promiseConstructor=Promise;function Ib(t){const e=t.split(".");if(e.length!==3)throw new q2("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!lF.test(e[n]))throw new q2("JWT not in base64url format");return{header:JSON.parse(jN(e[0])),payload:JSON.parse(jN(e[1])),signature:sd(e[2]),raw:{header:e[0],payload:e[1]}}}async function SF(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function jF(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){n(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function AF(t){return("0"+t.toString(16)).substr(-2)}function NF(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,AF).join("")}async function kF(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function OF(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await kF(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xu(t,e,r=!1){const n=NF();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Tu(t,`${e}-code-verifier`,i);const a=await OF(n);return[a,n===a?"plain":"s256"]}const PF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function EF(t){const e=t.headers.get(U2);if(!e||!e.match(PF))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function CF(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function TF(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const LF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wu(t){if(!LF.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $b(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function IF(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function AN(t){return JSON.parse(JSON.stringify(t))}const ac=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$F=[502,503,504];async function NN(t){var e;if(!_F(t))throw new z2(ac(t),0);if($F.includes(t.status))throw new z2(ac(t),t.status);let r;try{r=await t.json()}catch(a){throw new fc(ac(a),a)}let n;const i=EF(t);if(i&&i.getTime()>=DT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new wN(ac(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ta}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new wN(ac(r),t.status,r.weak_password.reasons);throw new uF(ac(r),t.status||500,n)}const RF=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function vt(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[U2]||(a[U2]=DT["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await MF(t,e,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function MF(t,e,r,n,i,a){const s=RF(e,n,i,a);let o;try{o=await t(r,Object.assign({},s))}catch(l){throw console.error(l),new z2(ac(l),0)}if(o.ok||await NN(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await NN(l)}}function La(t){var e;let r=null;FF(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=bF(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function kN(t){const e=La(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Xo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function DF(t){return{data:t,error:null}}function BF(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,s=sf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function ON(t){return t}function FF(t){return t.access_token&&t.refresh_token&&t.expires_in}const Rb=["global","local","others"];class UF{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=UT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Rb[0]){if(Rb.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rb.join(", ")}`);try{return await vt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ct(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Xo})}catch(n){if(ct(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=sf(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:BF,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ct(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xo})}catch(r){if(ct(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:ON});if(u.error)throw u.error;const f=await u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);c[`${x}Page`]=v}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ct(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){wu(e);try{return await vt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xo})}catch(r){if(ct(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){wu(e);try{return await vt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Xo})}catch(n){if(ct(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){wu(e);try{return await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Xo})}catch(n){if(ct(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){wu(e.userId);try{const{data:r,error:n}=await vt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ct(r))return{data:null,error:r};throw r}}async _deleteFactor(e){wu(e.userId),wu(e.id);try{return{data:await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await vt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:ON});if(u.error)throw u.error;const f=await u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);c[`${x}Page`]=v}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ct(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ct(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await vt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ct(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await vt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await vt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ct(r))return{data:null,error:r};throw r}}}function PN(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const _u={debug:!!(globalThis&&FT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zF extends zT{}async function qF(t,e,r){_u.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),_u.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){_u.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{_u.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw _u.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new zF(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(_u.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function WF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function qT(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function HF(t){return parseInt(t,16)}function VF(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function GF(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:l,resources:c,scheme:u,uri:f,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=qT(t.address),g=u?`${u}://${n}`:n,v=t.statement?`${t.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${h}

${v}`;let y=`URI: ${f}
Version: ${p}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const _ of c){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}y+=w}return`${x}
${y}`}class nn extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class H0 extends nn{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function KF({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new nn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new nn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new nn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new nn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new nn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new nn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new nn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(WT(s)){if(a.rp.id!==s)return new nn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new nn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new nn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function YF({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new nn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new nn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(WT(n)){if(r.rpId!==n)return new nn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new nn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new nn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new nn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class XF{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const JF=new XF;function ZF(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=sf(t,["challenge","user","excludeCredentials"]),a=sd(e).buffer,s=Object.assign(Object.assign({},r),{id:sd(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:sd(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function QF(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=sf(t,["challenge","allowCredentials"]),i=sd(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:sd(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function eU(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:yc(new Uint8Array(t.response.attestationObject)),clientDataJSON:yc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function tU(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:yc(new Uint8Array(i.authenticatorData)),clientDataJSON:yc(new Uint8Array(i.clientDataJSON)),signature:yc(new Uint8Array(i.signature)),userHandle:i.userHandle?yc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function WT(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function EN(){var t,e;return!!(Kn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function rU(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new H0("Browser returned unexpected credential type",e)}:{data:null,error:new H0("Empty credential response",e)}}catch(e){return{data:null,error:KF({error:e,options:t})}}}async function nU(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new H0("Browser returned unexpected credential type",e)}:{data:null,error:new H0("Empty credential response",e)}}catch(e){return{data:null,error:YF({error:e,options:t})}}}const iU={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},aU={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function V0(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(e(s)){const o=n[a];e(o)?n[a]=V0(o,s):n[a]=V0(s)}else n[a]=s}return n}function sU(t,e){return V0(iU,t,e||{})}function oU(t,e){return V0(aU,t,e||{})}class lU{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!s)return{data:null,error:o};const l=i??JF.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=sU(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:u,error:f}=await rU({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}case"request":{const c=oU(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:u,error:f}=await nU(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}}}catch(s){return ct(s)?{data:null,error:s}:{data:null,error:new fc("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new pp("rpId is required for WebAuthn authentication")};try{if(!EN())return{data:null,error:new fc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return ct(s)?{data:null,error:s}:{data:null,error:new fc("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new pp("rpId is required for WebAuthn registration")};try{if(!EN())return{data:null,error:new fc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(u=>{var f;return(f=u.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(s){return ct(s)?{data:null,error:s}:{data:null,error:new fc("Unexpected error in register",s)}}}}WF();const cU={url:aF,storageKey:sF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function CN(t,e,r){return await r()}const Su={};class mp{get jwks(){var e,r;return(r=(e=Su[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Su[this.storageKey]=Object.assign(Object.assign({},Su[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Su[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Su[this.storageKey]=Object.assign(Object.assign({},Su[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},cU),e);if(this.storageKey=a.storageKey,this.instanceID=(r=mp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,mp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Kn()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new UF({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=UT(a.fetch),this.lock=a.lock||CN,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Kn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=qF:this.lock=CN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new lU(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:FT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=PN(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=PN(this.memoryStorage)),Kn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${MT}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Kn()&&(r=wF(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Kn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),hF(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ct(r)?this._returnResult({error:r}):this._returnResult({error:new fc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:La}),{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(ct(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:u,password:f,options:p}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await xu(this.storage,this.storageKey)),a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:g},xform:La})}else if("phone"in e){const{phone:u,password:f,options:p}=e;a=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:La})}else throw new kg("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(ct(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:s,options:o}=e;r=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:kN})}else if("phone"in e){const{phone:a,password:s,options:o}=e;r=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:kN})}else throw new kg("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new bu;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ct(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,s,o,l,c,u,f,p;let h,g;if("message"in e)h=e.message,g=e.signature;else{const{chain:v,wallet:x,statement:y,options:w}=e;let _;if(Kn())if(typeof x=="object")_=x;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")_=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=qT(S[0]);let E=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const I=await _.request({method:"eth_chainId"});E=HF(I)}const L={domain:j.host,address:k,statement:y,uri:j.href,version:"1",chainId:E,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.resources};h=GF(L),g=await _.request({method:"personal_sign",params:[VF(h),k]})}try{const{data:v,error:x}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:g},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:La});if(x)throw x;if(!v||!v.session||!v.user){const y=new bu;return this._returnResult({data:{user:null,session:null},error:y})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(ct(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var r,n,i,a,s,o,l,c,u,f,p,h;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:x,wallet:y,statement:w,options:_}=e;let j;if(Kn())if(typeof y=="object")j=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))j=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const S=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const k=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(u=_==null?void 0:_.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:x,error:y}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:yc(v)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:La});if(y)throw y;if(!x||!x.session||!x.user){const w=new bu;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(ct(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const r=await Ql(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:La});if(await Fo(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const o=new bu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(ct(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=e,o=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:La}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new bu;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(ct(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await xu(this.storage,this.storageKey));const{error:f}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new kg("You must provide either an email or phone number.")}catch(o){if(ct(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:La});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(ct(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,s=null;this.flowType==="pkce"&&([a,s]=await xu(this.storage,this.storageKey));const o=await vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:DF});return this._returnResult(o)}catch(a){if(ct(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ta;const{error:i}=await vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ct(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:s}=await vt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:s,error:o}=await vt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new kg("You must provide either an email or phone number and a type")}catch(r){if(ct(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ql(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Tb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await Ql(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=$b()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=IF(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xo}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ta}:await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Xo})})}catch(r){if(ct(r))return fF(r)&&(await this._removeSession(),await Fo(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ta;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await xu(this.storage,this.storageKey));const{data:c,error:u}=await vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Xo});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(ct(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ta;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Ib(e.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(ct(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:o}=r;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ta;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ct(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Kn())throw new Og("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Og(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Og("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new xN("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=e;if(!a||!o||!s||!c)throw new Og("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let p=u+f;l&&(p=parseInt(l));const h=p-u;h*1e3<=Cu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const g=p-f;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,p,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,p,u);const{data:v,error:x}=await this._getUser(a);if(x)throw x;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:p,refresh_token:s,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(n){if(ct(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ql(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(dF(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await Fo(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=xF(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await xu(this.storage,this.storageKey,!0));try{return await vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(ct(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,c,u;const{data:f,error:p}=a;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await vt(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Kn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ct(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:o,token:l,access_token:c,nonce:u}=e,f=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:La}),{data:p,error:h}=f;return h?this._returnResult({data:{user:null,session:null},error:h}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new bu}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:h}))}catch(i){if(ct(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await vt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await jF(async i=>(i>0&&await SF(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:La})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Lb(a)&&Date.now()+s-n<Cu})}catch(n){if(this._debug(r,"error",n),ct(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Kn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ql(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Ql(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Tu(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:$b()}else if(i&&!i.user&&!i.user){const s=await Ql(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Fo(this.storage,this.storageKey+"-user"),await Tu(this.storage,this.storageKey,i)):i.user=$b()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Tb;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Tb}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Lb(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ta;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Sy;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Ta;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),ct(a)){const s={data:null,error:a};return Lb(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Tu(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=AN(i);await Tu(this.storage,this.storageKey,a)}else{const i=AN(r);await Tu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Fo(this.storage,this.storageKey),await Fo(this.storage,this.storageKey+"-code-verifier"),await Fo(this.storage,this.storageKey+"-user"),this.userStorage&&await Fo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Kn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Cu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Cu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Cu}ms, refresh threshold is ${F2} ticks`),i<=F2&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await xu(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await vt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await vt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?eU(e.webauthn.credential_response):tU(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:ZF(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:QF(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ib(n.access_token);let s=null;a.aal&&(s=a.aal);let o=s;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const c=a.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await vt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ta})})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ta});const s=await vt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Kn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ta});const s=await vt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Kn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+cF>i)return n;const{data:a,error:s}=await vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:g}=await this.getSession();if(g||!h.session)return this._returnResult({data:null,error:g});n=h.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=Ib(n);r!=null&&r.allowExpired||CF(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:s},error:null}}const u=TF(i.alg),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,yF(`${o}.${l}`)))throw new q2("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}}mp.nextInstanceID={};const uU=mp;class dU extends uU{constructor(e){super(e)}}class fU{constructor(e,r,n){var i,a,s;this.supabaseUrl=e,this.supabaseKey=r;const o=iF(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:XB,realtime:ZB,auth:Object.assign(Object.assign({},JB),{storageKey:l}),global:YB},u=nF(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=tF(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new aB(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new VB(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new rB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:l,debug:c,throwOnError:u},f,p){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dU({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),f),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new _B(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hU=(t,e,r)=>new fU(t,e,r);function pU(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}pU()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const mU="https://kivcusfsppjyalbgqtxy.supabase.co",gU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpdmN1c2ZzcHBqeWFsYmdxdHh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NjI2NjYsImV4cCI6MjA3ODQzODY2Nn0.DMugE2X3gBvcRBXt-NqWceWQB2Vmi9kbavEE6MEjAmI",Le=hU(mU,gU);async function z_(){try{const{error:t}=await Le.auth.signOut();t&&console.error("Sign out error:",t)}catch(t){console.error("Sign out exception:",t)}window.location.href="/"}async function vU(){const{data:t,error:e}=await Le.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(e)throw e;return t}function yU({onAuthSuccess:t}){const[e,r]=Y.useState(!1),[n,i]=Y.useState(""),[a,s]=Y.useState(""),[o,l]=Y.useState(""),[c,u]=Y.useState("student"),[f,p]=Y.useState([]),[h,g]=Y.useState([]),[v,x]=Y.useState(!1),[y,w]=Y.useState(!1),[_,j]=Y.useState(!1),[S,k]=Y.useState(null),[E,L]=Y.useState(null);Y.useEffect(()=>{e&&c==="student"&&I()},[e,c]);const I=async()=>{x(!0);try{const{data:T,error:D}=await Le.from("cohorts").select("id, name, description").order("name");if(D)throw D;g(T||[])}catch(T){console.error("Error loading cohorts:",T)}finally{x(!1)}},U=async()=>{j(!0),k(null),L(null);try{await vU()}catch(T){k(T.message||"Failed to sign in with Google. Please try again."),j(!1)}},O=async T=>{T.preventDefault(),w(!0),k(null),L(null);try{if(e){const{data:D,error:F}=await Le.auth.signUp({email:n,password:a,options:{data:{name:o,role:c},emailRedirectTo:window.location.origin}});if(F)throw F;if(D.user&&!D.session){const B=c==="student"&&f.length>0?" After confirming your email, please join your selected cohorts from your profile page.":"";L(`Confirmation email sent to ${n}! Please check your inbox and click the confirmation link to activate your account.${B}`),w(!1),i(""),s(""),l(""),u("student"),p([]);return}if(D.user){let B=!1,K=0;const H=5;for(;!B&&K<H;){await new Promise(ie=>setTimeout(ie,500));const{data:$,error:J}=await Le.from("users").select("id").eq("id",D.user.id).single();if($&&!J)B=!0;else if(J&&J.code==="PGRST116"){const{error:ie}=await Le.from("users").insert({id:D.user.id,name:o,email:n,role:c});ie||(B=!0)}K++}B||console.error("User record was not created after signup")}if(D.session&&D.user){if(c==="student"&&f.length>0){await new Promise(K=>setTimeout(K,1e3));const{error:B}=await Le.from("users").select("id").eq("id",D.user.id).single();if(B)console.error("Cannot add cohorts: User record not found",B),k("Account created but failed to join cohorts. Please join them from your profile.");else{const K=f.map(J=>({cohort_id:J,student_id:D.user.id})),{data:H,error:$}=await Le.from("cohort_members").insert(K).select();$?(console.error("Error adding student to cohorts:",$),k(`Account created but failed to join some cohorts: ${$.message}. Please join them from your profile.`)):H&&console.log("Successfully added student to cohorts:",H)}}t()}}else{const{error:D}=await Le.auth.signInWithPassword({email:n,password:a});if(D)throw D;t()}}catch(D){k(D.message||"An error occurred"),w(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-primary-50 to-gray-100 px-4 py-8",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 md:p-10 w-full max-w-md border-2 border-gray-200",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-16 md:h-20 w-auto object-contain"})}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Kaya CBDC V-OSCE"}),d.jsx("p",{className:"text-gray-600 mt-2 text-sm md:text-base",children:"Yashwant Ayurvedic College"})]}),d.jsx("button",{type:"button",onClick:U,disabled:_||y,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-300 text-gray-700 py-3 px-6 rounded-xl hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:opacity-50 font-medium text-base md:text-lg shadow-md transition-all transform hover:scale-[1.02] mb-4",children:_?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("span",{children:"Connecting..."})]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),d.jsx("span",{children:"Sign in with Google"})]})}),d.jsxs("div",{className:"relative my-6",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-300"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),d.jsxs("form",{onSubmit:O,className:"space-y-4",children:[e&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),d.jsx("input",{type:"text",value:o,onChange:T=>l(T.target.value),required:e,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),d.jsxs("select",{value:c,onChange:T=>{u(T.target.value),p([])},required:e,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 bg-white",children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),c==="student"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Cohorts (Optional)"}),v?d.jsx("div",{className:"text-sm text-gray-500",children:"Loading cohorts..."}):h.length===0?d.jsx("div",{className:"text-sm text-gray-500 p-3 bg-gray-50 rounded-md",children:"No cohorts available. You can join cohorts later from your profile settings."}):d.jsx("div",{className:"border border-gray-300 rounded-md max-h-40 overflow-y-auto p-2",children:h.map(T=>d.jsxs("label",{className:"flex items-start gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:f.includes(T.id),onChange:D=>{D.target.checked?p([...f,T.id]):p(f.filter(F=>F!==T.id))},className:"mt-1"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.name}),T.description&&d.jsx("div",{className:"text-xs text-gray-500",children:T.description})]})]},T.id))}),f.length>0&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[f.length," cohort",f.length!==1?"s":""," selected"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",value:n,onChange:T=>i(T.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsx("input",{type:"password",value:a,onChange:T=>s(T.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400"})]}),S&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:S}),E&&d.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("svg",{className:"w-5 h-5 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Email Sent!"}),d.jsx("p",{className:"text-sm mt-1",children:E})]})]})}),d.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white py-3 px-6 rounded-xl hover:from-primary-700 hover:to-primary-800 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 font-bold text-base md:text-lg shadow-lg transition-all transform hover:scale-[1.02]",children:y?"Loading...":e?"Sign Up":"Sign In"})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("button",{onClick:()=>{r(!e),k(null),L(null)},className:"text-primary-600 hover:text-primary-700 text-sm",children:e?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Pt=(t,e)=>{const r=Y.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>Y.createElement("svg",{ref:u,...bU,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${xU(t)}`,o].join(" "),...c},[...e.map(([f,p])=>Y.createElement(f,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=Pt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=Pt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=Pt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=Pt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=Pt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=Pt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=Pt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=Pt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=Pt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=Pt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=Pt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=Pt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=Pt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=Pt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=Pt("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=Pt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=Pt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=Pt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=Pt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=Pt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=Pt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=Pt("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=Pt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Pt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=Pt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=Pt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=Pt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=Pt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=Pt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=Pt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=Pt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Pt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=Pt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=Pt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=Pt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=Pt("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Pt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=Pt("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=Pt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=Pt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Pt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=Pt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=Pt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=Pt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function xi({role:t}){const e=Gc(),r=async()=>{await z_()},a=t==="faculty"?[{path:"/dashboard",icon:W2,label:"Dashboard"},{path:"/create",icon:cm,label:"Create Station"},{path:"/library",icon:VT,label:"Library"},{path:"/analytics",icon:co,label:"Analytics"}]:[{path:"/admin/dashboard",icon:W2,label:"Dashboard"},{path:"/admin/cbdc",icon:ga,label:"CBDC Manager"},{path:"/admin/reports",icon:co,label:"Reports"},{path:"/admin/users",icon:Ic,label:"Users"}];return d.jsx("div",{className:"hidden md:flex md:flex-col md:w-64 md:fixed md:inset-y-0 bg-white border-r border-gray-200",children:d.jsxs("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center flex-shrink-0 px-4 mb-8 gap-3",children:[d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-10 w-auto object-contain"}),d.jsx("h1",{className:"text-xl font-bold text-primary-900",children:"Kaya V-OSCE"})]}),d.jsx("nav",{className:"flex-1 px-2 space-y-1",children:a.map(s=>{const o=s.icon,l=e.pathname===s.path||e.pathname.startsWith(s.path+"/");return d.jsxs(FC,{to:s.path,className:`flex items-center px-4 py-2 text-sm font-medium rounded-md ${l?"bg-primary-100 text-primary-900":"text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(o,{className:"mr-3 h-5 w-5"}),s.label]},s.path)})}),d.jsx("div",{className:"px-4 pb-4",children:d.jsxs("button",{onClick:r,className:"flex items-center w-full px-4 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-50",children:[d.jsx(XT,{className:"mr-3 h-5 w-5"}),"Sign Out"]})})]})})}function Mn({role:t}){const e=Gc();if(t==="admin")return null;const i=t==="faculty"?[{path:"/dashboard",icon:W2,label:"Dashboard"},{path:"/create",icon:cm,label:"Create"},{path:"/library",icon:VT,label:"Library"},{path:"/analytics",icon:co,label:"Analytics"},{path:"/profile",icon:ms,label:"Profile"}]:[{path:"/home",icon:NU,label:"Home"},{path:"/assigned",icon:Ay,label:"Assignments"},{path:"/analytics",icon:co,label:"Analytics"},{path:"/profile",icon:ms,label:"Profile"}];return d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-300 shadow-lg z-50 md:hidden safe-area-bottom",children:d.jsx("div",{className:"flex justify-around items-center h-16 px-2",children:i.map(a=>{const s=a.icon,o=e.pathname===a.path||a.path!=="/dashboard"&&e.pathname.startsWith(a.path);return d.jsxs(FC,{to:a.path,className:`flex flex-col items-center justify-center flex-1 h-full transition-colors ${o?"text-primary-600 bg-primary-50 rounded-t-lg":"text-gray-600 hover:text-primary-500"}`,children:[d.jsx(s,{className:`w-5 h-5 ${o?"scale-110":""} transition-transform`}),d.jsx("span",{className:`text-xs mt-0.5 font-medium ${o?"text-primary-700":"text-gray-600"}`,children:a.label})]},a.path)})})})}function $U({user:t}){const e=Ga(),[r,n]=Y.useState({approved:0,pending:0,total:0}),[i,a]=Y.useState(!0);Y.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:o,error:l}=await Le.from("stations").select("id").eq("created_by",t.id);if(l)throw l;const c=(o==null?void 0:o.map(p=>p.id))||[],{data:u,error:f}=await Le.from("case_snapshots").select("id",{count:"exact"}).in("station_id",c);if(f)throw f;n({approved:(u==null?void 0:u.length)||0,pending:c.length-((u==null?void 0:u.length)||0),total:c.length})}catch(o){console.error("Error loading stats:",o)}finally{a(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Faculty Dashboard"}),d.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome back, ",t.name]})]}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Approved Cases"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.approved})]}),d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(ga,{className:"w-6 h-6 text-green-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Pending Review"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.pending})]}),d.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:d.jsx(Kc,{className:"w-6 h-6 text-yellow-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.total})]}),d.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:d.jsx(Ic,{className:"w-6 h-6 text-blue-600"})})]})})]}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("button",{onClick:()=>e("/create"),className:"w-full md:w-auto flex items-center justify-center gap-2 bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors",children:[d.jsx(cm,{className:"w-5 h-5"}),"Create New Station"]})})]})]})}),d.jsx(Mn,{role:"faculty"})]})}function RU({toast:t,onClose:e}){Y.useEffect(()=>{if(t.duration!==0){const s=setTimeout(()=>{e(t.id)},t.duration||5e3);return()=>clearTimeout(s)}},[t.id,t.duration,e]);const r={success:ps,error:jy,warning:_U,info:kU},n={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"},i={success:"text-green-600",error:"text-red-600",warning:"text-yellow-600",info:"text-blue-600"},a=r[t.type];return d.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-lg border-2 shadow-lg min-w-[300px] max-w-md ${n[t.type]} animate-in slide-in-from-top-5 fade-in`,children:[d.jsx(a,{className:`w-5 h-5 flex-shrink-0 mt-0.5 ${i[t.type]}`}),d.jsx("div",{className:"flex-1 text-sm font-medium",children:t.message}),d.jsx("button",{onClick:()=>e(t.id),className:`flex-shrink-0 ${i[t.type]} hover:opacity-70 transition-opacity`,"aria-label":"Close",children:d.jsx(uf,{className:"w-4 h-4"})})]})}function gl({toasts:t,onClose:e}){return t.length===0?null:d.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:t.map(r=>d.jsx("div",{className:"pointer-events-auto",children:d.jsx(RU,{toast:r,onClose:e})},r.id))})}function vo(){const[t,e]=Y.useState([]),r=(l,c="info",u)=>{const f=Math.random().toString(36).substring(2,9),p={id:f,message:l,type:c,duration:u};return e(h=>[...h,p]),f};return{toasts:t,showToast:r,removeToast:l=>{e(c=>c.filter(u=>u.id!==l))},success:(l,c)=>r(l,"success",c),error:(l,c)=>r(l,"error",c),warning:(l,c)=>r(l,"warning",c),info:(l,c)=>r(l,"info",c)}}const oh="AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",LN="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";function MU({user:t}){var S,k,E,L,I,U;const e=Ga(),r=vo(),[n,i]=Y.useState(1),[a,s]=Y.useState(!1),[o,l]=Y.useState(!1),[c,u]=Y.useState([]),[f,p]=Y.useState([]),[h,g]=Y.useState({subject:"",competencyId:"",slo:"",millerLevel:"ShowsHow",bloomDomain:"Cognitive",duration:15,difficulty:"Intermediate",prakriti:"Sama",doshaSliders:{vata:33,pitta:33,kapha:34},includeAshtasthana:!1});Y.useEffect(()=>{v(),x()},[]);const v=async()=>{const{data:O}=await Le.from("subjects").select("*");O&&u(O)},x=async()=>{const{data:O}=await Le.from("competencies").select("*");O&&p(O)},y=O=>{var T,D,F,B,K,H;return`You are an expert Ayurvedic physician creating a virtual OSCE (Objective Structured Clinical Examination) case for medical students.

Generate a complete clinical case in JSON format matching this specification:

Subject: ${O.subject}
Miller's Level: ${O.millerLevel||"ShowsHow"}
Bloom's Domain: ${O.bloomDomain||"Cognitive"}
Difficulty: ${O.difficulty}
Duration: ${O.duration} minutes
Prakriti: ${O.prakriti||"Sama"}
Dosha Distribution: Vata ${((T=O.doshaSliders)==null?void 0:T.vata)||33}%, Pitta ${((D=O.doshaSliders)==null?void 0:D.pitta)||33}%, Kapha ${((F=O.doshaSliders)==null?void 0:F.kapha)||34}%
${O.includeAshtasthana?"Include Ashtasthana Pariksha findings":""}
${O.slo?`SLO: ${O.slo}`:""}

Return a JSON object with this exact structure:
{
  "id": "generate-uuid-here",
  "title": "Case title",
  "subject": "${O.subject}",
  "durationMinutes": ${O.duration},
  "difficulty": "${O.difficulty}",
  "patientProfile": {
    "name": "Patient name",
    "age": 35,
    "gender": "male",
    "prakriti": "${O.prakriti||"Sama"}",
    "occupation": "Relevant occupation"
  },
  "chiefComplaint": "Primary complaint in patient's own words (e.g., 'Fever and cough for 3 days')",
  "historyOfPresentIllness": "Detailed HPI in Ayurvedic context",
  ${O.includeAshtasthana?`"ashtasthanaPariksha": {
    "Nadi": "Pulse findings",
    "Mala": "Stool findings",
    "Mutra": "Urine findings",
    "Jihva": "Tongue findings",
    "Shabda": "Voice findings",
    "Sparsha": "Touch findings",
    "Druk": "Eye findings",
    "Akriti": "General appearance"
  },`:""}
  "doshaAnalysis": {
    "vata": ${((B=O.doshaSliders)==null?void 0:B.vata)||33},
    "pitta": ${((K=O.doshaSliders)==null?void 0:K.pitta)||33},
    "kapha": ${((H=O.doshaSliders)==null?void 0:H.kapha)||34}
  },
  "potentialDiagnoses": [
    {"dx": "Primary diagnosis", "confidence": 0.9},
    {"dx": "Differential diagnosis", "confidence": 0.6}
  ],
  "suggestedChikitsa": "Detailed treatment plan",
  "mcqs": [
    {
      "id": "mcq-1",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${O.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    },
    {
      "id": "mcq-2",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${O.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    },
    {
      "id": "mcq-3",
      "question": "Question text",
      "options": ["Option A", "Option B", "Option C", "Option D"],
      "answerIndex": 0,
      "sloId": "${O.slo||"default-slo"}",
      "explanation": "Explanation for the correct answer"
    }
  ],
  "rubrics": [
    {
      "id": "rubric-1",
      "description": "Rubric description",
      "maxPoints": 10,
      "sloId": "${O.slo||"default-slo"}"
    }
  ],
  "finalExplanation": "Comprehensive explanation",
  "sloMappings": ["${O.slo||"default-slo"}"],
  "physicalExam": {
    "vitals": {
      "bp": "Actual blood pressure relevant to the case (e.g., '90/60 mmHg' for hypotension, '150/95 mmHg' for hypertension)",
      "hr": "Actual heart rate relevant to the case (e.g., '110 bpm' for tachycardia, '55 bpm' for bradycardia)",
      "rr": "Actual respiratory rate relevant to the case (e.g., '28 breaths/min' for tachypnea, '12 breaths/min' for normal)",
      "temp": "Actual temperature relevant to the case (e.g., '102.8F (oral)' for fever, '98.6F (oral)' for normal)",
      "spo2": "Actual oxygen saturation relevant to the case (e.g., '88% on room air' for hypoxemia, '98% on room air' for normal)"
    },
    "generalExam": "Detailed general examination findings that are consistent with the diagnosis and clinical presentation. Include appearance, consciousness level, pallor, icterus, edema, etc.",
    "systemicExam": "Detailed systemic examination findings organized by system (CNS, CVS, RS, GIT, etc.) that are consistent with the diagnosis. Be specific and realistic."
  },
  "availableLabTests": [
    {"category": "BEDSIDE TESTS", "tests": ["ECG", "Blood Glucose", "Urine Dipstick"]},
    {"category": "BASIC LABS", "tests": ["CBC", "CMP", "ESR", "CRP", "TSH", "Lipid Profile", "LFT", "RFT", "ABG"]},
    {"category": "ADVANCED LABS", "tests": ["Troponin", "BNP", "D-dimer", "Coagulation Profile", "Blood Culture", "HbA1c"]},
    {"category": "IMAGING", "tests": ["Chest X-Ray", "CT Head", "CT Chest", "CT Abdomen", "Abdominal Ultrasound", "Echocardiogram"]}
  ],
  "labResults": {
    "CBC": "Complete blood count results relevant to the case (e.g., 'WBC: 15,000/L (elevated), Hb: 12 g/dL, Platelets: 250,000/L' for infection)",
    "CMP": "Comprehensive metabolic panel results relevant to the case (e.g., 'Na: 138 mEq/L, K: 4.2 mEq/L, Creatinine: 1.2 mg/dL, BUN: 45 mg/dL (elevated)' for renal issues)",
    "Chest X-Ray": "Chest X-ray findings relevant to the case (e.g., 'Consolidation in right lower lobe, consistent with pneumonia' or 'Normal chest X-ray')",
    "ECG": "ECG findings relevant to the case (e.g., 'Normal sinus rhythm' or 'ST elevation in leads II, III, aVF')",
    "CRP": "C-reactive protein result relevant to the case (e.g., '150 mg/L (markedly elevated)' for inflammation)",
    "Urine Dipstick": "Urine dipstick results relevant to the case (e.g., 'Negative for nitrites, leukocyte esterase, protein, blood' or 'Positive for protein and blood')"
  },
  "learningPearls": [
    "Key learning point 1 relevant to this case",
    "Key learning point 2 relevant to this case",
    "Key learning point 3 relevant to this case"
  ],
  "furtherReading": [
    {
      "title": "Relevant Textbook Chapter",
      "reference": "Textbook Name, Edition. Chapter X: Topic"
    },
    {
      "title": "Clinical Guidelines",
      "reference": "Guideline Name and Year"
    }
  ]
}

CRITICAL REQUIREMENTS - YOU MUST FOLLOW THESE:

1. MCQs (REQUIRED - MUST GENERATE AT LEAST 3):
   - Generate at least 3 multiple-choice questions related to the case
   - Each MCQ must have 4 options (A, B, C, D)
   - Include an explanation for each correct answer
   - The last 3 MCQs will be used as post-case questions (shown after submission)
   - Additional MCQs (if any) can be used as pre-case questions

2. Physical Exam (REQUIRED - MUST BE GENERATED):
   - Vitals: Generate ALL 5 vital signs (BP, HR, RR, Temp, SpO2) with realistic values that match the diagnosis
   - General Exam: Write 2-3 sentences describing patient appearance, consciousness, pallor, icterus, edema, etc. relevant to the condition
   - Systemic Exam: Write detailed findings by system (CNS, CVS, RS, GIT, etc.) - at least 4-5 sentences with specific findings
   - Example for pneumonia: BP 90/60 (hypotension), HR 110 (tachycardia), RR 28 (tachypnea), Temp 102.8F (fever), SpO2 88% (hypoxemia)
   - Example for hypertension: BP 150/95 (elevated), HR 85, RR 16, Temp 98.6F, SpO2 98%

2. Lab Results (REQUIRED - MUST BE GENERATED):
   - Generate results for at least 4-6 common tests (CBC, CMP, Chest X-Ray, ECG, CRP, etc.)
   - Results MUST support the diagnosis and be realistic
   - Include abnormal values with explanations (e.g., "WBC: 15,000/L (elevated)")

3. Learning Pearls (REQUIRED - MUST BE 3-5 ITEMS):
   - Each pearl should be a complete sentence
   - Focus on key teaching points specific to this case
   - Be actionable and educational

4. Further Reading (REQUIRED - MUST BE 2-3 ITEMS):
   - Include specific textbook names, editions, and chapter numbers
   - Include relevant clinical guidelines with years
   - Make them specific to the diagnosis

5. Data Consistency:
   - If patient has fever  Temp must be elevated (e.g., 102F+)
   - If patient has respiratory distress  RR elevated, SpO2 decreased
   - If patient has infection  WBC elevated, CRP elevated
   - All findings must support the primary diagnosis

Return ONLY valid JSON, no markdown formatting, no code blocks. The JSON must be parseable directly.`},w=(O,T)=>{let D=O.match(/```json\s*([\s\S]*?)\s*```/);if(D||(D=O.match(/```\s*([\s\S]*?)\s*```/)),D||(D=O.match(/\{[\s\S]*\}/)),!D)throw new Error("No JSON found in Gemini response. The AI may not have returned valid JSON.");try{const F=D[1]||D[0],B=JSON.parse(F);return B.id=crypto.randomUUID(),B.subject=T.subject,B.durationMinutes=T.duration,B.difficulty=T.difficulty,B.patientProfile||(B.patientProfile={name:"Patient",age:35,gender:"male",prakriti:T.prakriti||"Sama",occupation:"Not specified"}),B.mcqs||(B.mcqs=[]),B.rubrics||(B.rubrics=[]),B.potentialDiagnoses||(B.potentialDiagnoses=[]),B.sloMappings||(B.sloMappings=[]),B.physicalExam||(B.physicalExam={vitals:{},generalExam:"",systemicExam:""}),B.physicalExam.vitals||(B.physicalExam.vitals={}),(!B.availableLabTests||B.availableLabTests.length===0)&&(B.availableLabTests=[]),B}catch(F){throw new Error(`Failed to parse JSON from Gemini response: ${F.message}`)}},_=async()=>{var O,T,D,F,B;if(!h.subject||!h.competencyId){r.warning("Please select a subject and competency first");return}if(oh.trim()===""){r.error("Gemini API key is not configured. Please set VITE_GEMINI_API_KEY in your environment variables.");return}l(!0);try{const K=f.find(z=>z.id===h.competencyId),H=K?`${K.id}: ${K.description}`:h.competencyId,$=`You are an expert in medical education creating Specific Learning Outcomes (SLOs) for Ayurvedic medicine.

Subject: ${h.subject}
CBDC Competency: ${H}
Miller's Level: ${h.millerLevel}
Bloom's Domain: ${h.bloomDomain}

Generate a specific, measurable, and actionable learning outcome statement that:
1. Is aligned with the subject and competency
2. Matches the Miller's Level (${h.millerLevel})
3. Matches the Bloom's Domain (${h.bloomDomain})
4. Is specific to Ayurvedic medicine context
5. Is clear and concise (one sentence, max 20 words)

Return ONLY the SLO statement text, nothing else. No explanations, no quotes, just the statement.`,J=await fetch(LN,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":oh},body:JSON.stringify({contents:[{parts:[{text:$}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:100}})});if(!J.ok){const z=await J.text();let V=`Gemini API error (${J.status})`;try{const re=JSON.parse(z);(O=re.error)!=null&&O.message?V+=": "+re.error.message:V+=": "+z}catch{V+=": "+z}throw new Error(V)}const ie=await J.json();if(!ie.candidates||ie.candidates.length===0)throw new Error("No response from Gemini API. Please check your API key and try again.");const se=((B=(F=(D=(T=ie.candidates[0])==null?void 0:T.content)==null?void 0:D.parts[0])==null?void 0:F.text)==null?void 0:B.trim())||"";if(!se)throw new Error("Empty response from Gemini API");const P=se.replace(/^["']|["']$/g,"").replace(/^```[\w]*\n?|\n?```$/g,"").trim();g({...h,slo:P}),r.success("SLO suggested successfully!")}catch(K){r.error("Error suggesting SLO: "+K.message)}finally{l(!1)}},j=async()=>{var O,T,D,F,B,K;s(!0);try{if(!h.subject)throw new Error("Please select a subject");if(!h.competencyId)throw new Error("Please select a CBDC competency");if(!oh||oh.trim()==="")throw new Error("Gemini API key is not configured. Please set VITE_GEMINI_API_KEY in your environment variables.");const H=y(h),$=await fetch(LN,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":oh},body:JSON.stringify({contents:[{parts:[{text:H}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:8192}})});if(!$.ok){const re=await $.text();let ne=`Gemini API error (${$.status})`;try{const ue=JSON.parse(re);(O=ue.error)!=null&&O.message?ne+=": "+ue.error.message:ne+=": "+re}catch{ne+=": "+re}throw new Error(ne)}const J=await $.json();if(!J.candidates||J.candidates.length===0)throw new Error("No response from Gemini API. Please check your API key and try again.");const ie=((F=(D=(T=J.candidates[0])==null?void 0:T.content)==null?void 0:D.parts[0])==null?void 0:F.text)||"";if(!ie)throw new Error("Empty response from Gemini API");const se=w(ie,h),P=[];if(!se.physicalExam||!se.physicalExam.vitals)P.push("Physical examination vitals are missing");else{const re=se.physicalExam.vitals;(!re.bp||!re.hr||!re.rr||!re.temp||!re.spo2)&&P.push("Some vital signs are missing (BP, HR, RR, Temp, SpO2)")}if((!((B=se.physicalExam)!=null&&B.generalExam)||se.physicalExam.generalExam.trim()==="")&&P.push("General examination findings are missing"),(!((K=se.physicalExam)!=null&&K.systemicExam)||se.physicalExam.systemicExam.trim()==="")&&P.push("Systemic examination findings are missing"),(!se.labResults||Object.keys(se.labResults).length<4)&&P.push("Lab results are missing or insufficient (need at least 4 test results)"),!se.learningPearls||se.learningPearls.length<3?P.push("Learning pearls are missing or insufficient (need at least 3)"):se.learningPearls.some(ne=>ne.toLowerCase().includes("key learning point")||ne.toLowerCase().includes("relevant to this case")||ne.trim().length<20)&&P.push("Learning pearls contain generic placeholder text"),!se.furtherReading||se.furtherReading.length<2?P.push("Further reading references are missing or insufficient (need at least 2)"):se.furtherReading.some(ne=>ne.title.toLowerCase().includes("relevant textbook")||ne.title.toLowerCase().includes("textbook name")||ne.reference.toLowerCase().includes("chapter x")||ne.reference.toLowerCase().includes("textbook name"))&&P.push("Further reading contains generic placeholder text"),P.length>0)throw new Error(`AI generation incomplete:
${P.join(`
`)}

Please regenerate the case.`);const{data:z,error:V}=await Le.from("stations").insert({title:se.title||"New Station",blueprint:{...h,generatedCase:se},created_by:t.id}).select().single();if(V)throw V;e(`/review/${z.id}`),r.success("Case generated successfully!")}catch(H){r.error("Error generating case: "+H.message)}finally{s(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(gp,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Create New Station"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[n>=1&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 1: Subject & Competency"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),d.jsxs("select",{value:h.subject,onChange:O=>g({...h,subject:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Select Subject"}),c.map(O=>d.jsx("option",{value:O.name,children:O.name},O.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CBDC Competency"}),d.jsxs("select",{value:h.competencyId||"",onChange:O=>g({...h,competencyId:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Select Competency"}),f.map(O=>d.jsxs("option",{value:O.id,children:[O.id,": ",O.description]},O.id))]})]})]}),n>=2&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 2: Learning Outcomes"}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"SLO (Specific Learning Outcome)"}),d.jsx("button",{type:"button",onClick:_,disabled:o||!h.subject||!h.competencyId,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-primary-600 bg-primary-50 border border-primary-200 rounded-md hover:bg-primary-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?d.jsxs(d.Fragment,{children:[d.jsx(Sd,{className:"w-3 h-3 animate-spin"}),"Suggesting..."]}):d.jsxs(d.Fragment,{children:[d.jsx(CU,{className:"w-3 h-3"}),"AI Suggest"]})})]}),d.jsx("textarea",{value:h.slo||"",onChange:O=>g({...h,slo:O.target.value}),placeholder:"e.g., Demonstrate interpretation of Nadi in Pitta Jwara",className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Miller's Level"}),d.jsxs("select",{value:h.millerLevel,onChange:O=>g({...h,millerLevel:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Knows",children:"Knows"}),d.jsx("option",{value:"KnowsHow",children:"Knows How"}),d.jsx("option",{value:"ShowsHow",children:"Shows How"}),d.jsx("option",{value:"Does",children:"Does"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bloom's Domain"}),d.jsxs("select",{value:h.bloomDomain,onChange:O=>g({...h,bloomDomain:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Cognitive",children:"Cognitive"}),d.jsx("option",{value:"Psychomotor",children:"Psychomotor"}),d.jsx("option",{value:"Affective",children:"Affective"})]})]})]})]}),n>=3&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 3: Case Parameters"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),d.jsx("input",{type:"number",min:"5",max:"60",value:h.duration,onChange:O=>g({...h,duration:parseInt(O.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),d.jsxs("select",{value:h.difficulty,onChange:O=>g({...h,difficulty:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Beginner",children:"Beginner"}),d.jsx("option",{value:"Intermediate",children:"Intermediate"}),d.jsx("option",{value:"Advanced",children:"Advanced"})]})]})]})]}),n>=4&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Step 4: Ayurvedic Parameters"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prakriti"}),d.jsxs("select",{value:h.prakriti,onChange:O=>g({...h,prakriti:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"Vata",children:"Vata"}),d.jsx("option",{value:"Pitta",children:"Pitta"}),d.jsx("option",{value:"Kapha",children:"Kapha"}),d.jsx("option",{value:"Sama",children:"Sama"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dosha Distribution (must sum to 100)"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Vata: ",(S=h.doshaSliders)==null?void 0:S.vata,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((k=h.doshaSliders)==null?void 0:k.vata)||0,onChange:O=>{var K;const T=parseInt(O.target.value),D=100-T,F=Math.min(D,((K=h.doshaSliders)==null?void 0:K.pitta)||0),B=100-T-F;g({...h,doshaSliders:{vata:T,pitta:F,kapha:B}})},className:"w-full"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Pitta: ",(E=h.doshaSliders)==null?void 0:E.pitta,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((L=h.doshaSliders)==null?void 0:L.pitta)||0,onChange:O=>{var K;const T=parseInt(O.target.value),D=100-T,F=Math.min(D,((K=h.doshaSliders)==null?void 0:K.vata)||0),B=100-F-T;g({...h,doshaSliders:{vata:F,pitta:T,kapha:B}})},className:"w-full"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm",children:["Kapha: ",(I=h.doshaSliders)==null?void 0:I.kapha,"%"]}),d.jsx("input",{type:"range",min:"0",max:"100",value:((U=h.doshaSliders)==null?void 0:U.kapha)||0,onChange:O=>{var K;const T=parseInt(O.target.value),D=100-T,F=Math.min(D,((K=h.doshaSliders)==null?void 0:K.vata)||0),B=100-F-T;g({...h,doshaSliders:{vata:F,pitta:B,kapha:T}})},className:"w-full"})]})]})]}),d.jsx("div",{children:d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:h.includeAshtasthana||!1,onChange:O=>g({...h,includeAshtasthana:O.target.checked})}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Include Ashtasthana Pariksha"})]})})]}),d.jsxs("div",{className:"flex justify-between pt-6 border-t",children:[d.jsx("button",{onClick:()=>i(Math.max(1,n-1)),disabled:n===1,className:"px-4 py-2 border border-gray-300 rounded-md disabled:opacity-50",children:"Previous"}),n<4?d.jsx("button",{onClick:()=>i(n+1),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Next"}):d.jsxs("button",{onClick:j,disabled:a||!h.subject,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 flex items-center gap-2",children:[a&&d.jsx(Sd,{className:"w-4 h-4 animate-spin"}),"Generate Case"]})]})]})]})}),d.jsx(Mn,{role:"faculty"}),d.jsx(gl,{toasts:r.toasts,onClose:r.removeToast})]})}var Vt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Vt||(Vt={}));var IN;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(IN||(IN={}));const Ze=Vt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Vo=t=>{switch(typeof t){case"undefined":return Ze.undefined;case"string":return Ze.string;case"number":return Number.isNaN(t)?Ze.nan:Ze.number;case"boolean":return Ze.boolean;case"function":return Ze.function;case"bigint":return Ze.bigint;case"symbol":return Ze.symbol;case"object":return Array.isArray(t)?Ze.array:t===null?Ze.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ze.promise:typeof Map<"u"&&t instanceof Map?Ze.map:typeof Set<"u"&&t instanceof Set?Ze.set:typeof Date<"u"&&t instanceof Date?Ze.date:Ze.object;default:return Ze.unknown}},Me=Vt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class uo extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(s))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),n}static assert(e){if(!(e instanceof uo))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Vt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}uo.create=t=>new uo(t);const H2=(t,e)=>{let r;switch(t.code){case Me.invalid_type:t.received===Ze.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Me.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Vt.jsonStringifyReplacer)}`;break;case Me.unrecognized_keys:r=`Unrecognized key(s) in object: ${Vt.joinValues(t.keys,", ")}`;break;case Me.invalid_union:r="Invalid input";break;case Me.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Vt.joinValues(t.options)}`;break;case Me.invalid_enum_value:r=`Invalid enum value. Expected ${Vt.joinValues(t.options)}, received '${t.received}'`;break;case Me.invalid_arguments:r="Invalid function arguments";break;case Me.invalid_return_type:r="Invalid function return type";break;case Me.invalid_date:r="Invalid date";break;case Me.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Vt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Me.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Me.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Me.custom:r="Invalid input";break;case Me.invalid_intersection_types:r="Intersection results could not be merged";break;case Me.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Me.not_finite:r="Number must be finite";break;default:r=e.defaultError,Vt.assertNever(t)}return{message:r}};let DU=H2;function BU(){return DU}const FU=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)o=c(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}};function He(t,e){const r=BU(),n=FU({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===H2?void 0:H2].filter(i=>!!i)});t.common.issues.push(n)}class li{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return At;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return li.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return At;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}}const At=Object.freeze({status:"aborted"}),Ah=t=>({status:"dirty",value:t}),ba=t=>({status:"valid",value:t}),$N=t=>t.status==="aborted",RN=t=>t.status==="dirty",jd=t=>t.status==="valid",G0=t=>typeof Promise<"u"&&t instanceof Promise;var it;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(it||(it={}));class bs{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const MN=(t,e)=>{if(jd(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new uo(t.common.issues);return this._error=r,this._error}}};function $t(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{const{message:l}=t;return s.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:i}}class Ut{get description(){return this._def.description}_getType(e){return Vo(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Vo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new li,ctx:{common:e.parent.common,data:e.data,parsedType:Vo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(G0(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vo(e)},i=this._parseSync({data:e,path:n.path,parent:n});return MN(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vo(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return jd(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>jd(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vo(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(G0(i)?i:Promise.resolve(i));return MN(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:Me.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new kd({schema:this,typeName:wt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return fl.create(this,this._def)}nullable(){return Od.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return gs.create(this)}promise(){return Z0.create(this,this._def)}or(e){return Y0.create([this,e],this._def)}and(e){return X0.create(this,e,this._def)}transform(e){return new kd({...$t(this._def),schema:this,typeName:wt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new G2({...$t(this._def),innerType:this,defaultValue:r,typeName:wt.ZodDefault})}brand(){return new cz({typeName:wt.ZodBranded,type:this,...$t(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new K2({...$t(this._def),innerType:this,catchValue:r,typeName:wt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return V_.create(this,e)}readonly(){return Y2.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const UU=/^c[^\s-]{8,}$/i,zU=/^[0-9a-z]+$/,qU=/^[0-9A-HJKMNP-TV-Z]{26}$/i,WU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,HU=/^[a-z0-9_-]{21}$/i,VU=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,GU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,KU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,YU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Mb;const XU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,JU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ZU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,QU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ez=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tz=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,JT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rz=new RegExp(`^${JT}$`);function ZT(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function nz(t){return new RegExp(`^${ZT(t)}$`)}function iz(t){let e=`${JT}T${ZT(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function az(t,e){return!!((e==="v4"||!e)&&XU.test(t)||(e==="v6"||!e)&&ZU.test(t))}function sz(t,e){if(!VU.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function oz(t,e){return!!((e==="v4"||!e)&&JU.test(t)||(e==="v6"||!e)&&QU.test(t))}class Xs extends Ut{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ze.string){const a=this._getOrReturnCtx(e);return He(a,{code:Me.invalid_type,expected:Ze.string,received:a.parsedType}),At}const n=new li;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),He(i,{code:Me.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),He(i,{code:Me.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?He(i,{code:Me.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&He(i,{code:Me.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")KU.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"email",code:Me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Mb||(Mb=new RegExp(YU,"u")),Mb.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"emoji",code:Me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")WU.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"uuid",code:Me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")HU.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"nanoid",code:Me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")UU.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"cuid",code:Me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")zU.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"cuid2",code:Me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")qU.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"ulid",code:Me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),He(i,{validation:"url",code:Me.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"regex",code:Me.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),He(i,{code:Me.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),He(i,{code:Me.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),He(i,{code:Me.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?iz(a).test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{code:Me.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?rz.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{code:Me.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?nz(a).test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{code:Me.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?GU.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"duration",code:Me.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?az(e.data,a.version)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"ip",code:Me.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?sz(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"jwt",code:Me.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?oz(e.data,a.version)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"cidr",code:Me.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?ez.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"base64",code:Me.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?tz.test(e.data)||(i=this._getOrReturnCtx(e,i),He(i,{validation:"base64url",code:Me.invalid_string,message:a.message}),n.dirty()):Vt.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Me.invalid_string,...it.errToObj(n)})}_addCheck(e){return new Xs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...it.errToObj(e)})}url(e){return this._addCheck({kind:"url",...it.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...it.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...it.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...it.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...it.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...it.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...it.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...it.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...it.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...it.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...it.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...it.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...it.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...it.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...it.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...it.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...it.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...it.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...it.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...it.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...it.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...it.errToObj(r)})}nonempty(e){return this.min(1,it.errToObj(e))}trim(){return new Xs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Xs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Xs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Xs.create=t=>new Xs({checks:[],typeName:wt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...$t(t)});function lz(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return a%s/10**i}class Ad extends Ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ze.number){const a=this._getOrReturnCtx(e);return He(a,{code:Me.invalid_type,expected:Ze.number,received:a.parsedType}),At}let n;const i=new li;for(const a of this._def.checks)a.kind==="int"?Vt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),He(n,{code:Me.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:Me.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:Me.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?lz(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),He(n,{code:Me.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),He(n,{code:Me.not_finite,message:a.message}),i.dirty()):Vt.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,it.toString(r))}gt(e,r){return this.setLimit("min",e,!1,it.toString(r))}lte(e,r){return this.setLimit("max",e,!0,it.toString(r))}lt(e,r){return this.setLimit("max",e,!1,it.toString(r))}setLimit(e,r,n,i){return new Ad({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:it.toString(i)}]})}_addCheck(e){return new Ad({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:it.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:it.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:it.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:it.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:it.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:it.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:it.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:it.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:it.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Vt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Ad.create=t=>new Ad({checks:[],typeName:wt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...$t(t)});class vp extends Ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ze.bigint)return this._getInvalidInput(e);let n;const i=new li;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:Me.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:Me.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),He(n,{code:Me.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Vt.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return He(r,{code:Me.invalid_type,expected:Ze.bigint,received:r.parsedType}),At}gte(e,r){return this.setLimit("min",e,!0,it.toString(r))}gt(e,r){return this.setLimit("min",e,!1,it.toString(r))}lte(e,r){return this.setLimit("max",e,!0,it.toString(r))}lt(e,r){return this.setLimit("max",e,!1,it.toString(r))}setLimit(e,r,n,i){return new vp({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:it.toString(i)}]})}_addCheck(e){return new vp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:it.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:it.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:it.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:it.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:it.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}vp.create=t=>new vp({checks:[],typeName:wt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...$t(t)});class DN extends Ut{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ze.boolean){const n=this._getOrReturnCtx(e);return He(n,{code:Me.invalid_type,expected:Ze.boolean,received:n.parsedType}),At}return ba(e.data)}}DN.create=t=>new DN({typeName:wt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...$t(t)});class K0 extends Ut{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ze.date){const a=this._getOrReturnCtx(e);return He(a,{code:Me.invalid_type,expected:Ze.date,received:a.parsedType}),At}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return He(a,{code:Me.invalid_date}),At}const n=new li;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),He(i,{code:Me.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),He(i,{code:Me.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Vt.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new K0({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:it.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:it.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}K0.create=t=>new K0({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:wt.ZodDate,...$t(t)});class BN extends Ut{_parse(e){if(this._getType(e)!==Ze.symbol){const n=this._getOrReturnCtx(e);return He(n,{code:Me.invalid_type,expected:Ze.symbol,received:n.parsedType}),At}return ba(e.data)}}BN.create=t=>new BN({typeName:wt.ZodSymbol,...$t(t)});class FN extends Ut{_parse(e){if(this._getType(e)!==Ze.undefined){const n=this._getOrReturnCtx(e);return He(n,{code:Me.invalid_type,expected:Ze.undefined,received:n.parsedType}),At}return ba(e.data)}}FN.create=t=>new FN({typeName:wt.ZodUndefined,...$t(t)});class UN extends Ut{_parse(e){if(this._getType(e)!==Ze.null){const n=this._getOrReturnCtx(e);return He(n,{code:Me.invalid_type,expected:Ze.null,received:n.parsedType}),At}return ba(e.data)}}UN.create=t=>new UN({typeName:wt.ZodNull,...$t(t)});class zN extends Ut{constructor(){super(...arguments),this._any=!0}_parse(e){return ba(e.data)}}zN.create=t=>new zN({typeName:wt.ZodAny,...$t(t)});class qN extends Ut{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ba(e.data)}}qN.create=t=>new qN({typeName:wt.ZodUnknown,...$t(t)});class vl extends Ut{_parse(e){const r=this._getOrReturnCtx(e);return He(r,{code:Me.invalid_type,expected:Ze.never,received:r.parsedType}),At}}vl.create=t=>new vl({typeName:wt.ZodNever,...$t(t)});class WN extends Ut{_parse(e){if(this._getType(e)!==Ze.undefined){const n=this._getOrReturnCtx(e);return He(n,{code:Me.invalid_type,expected:Ze.void,received:n.parsedType}),At}return ba(e.data)}}WN.create=t=>new WN({typeName:wt.ZodVoid,...$t(t)});class gs extends Ut{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Ze.array)return He(r,{code:Me.invalid_type,expected:Ze.array,received:r.parsedType}),At;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(He(r,{code:s?Me.too_big:Me.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(He(r,{code:Me.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(He(r,{code:Me.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new bs(r,s,r.path,o)))).then(s=>li.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new bs(r,s,r.path,o)));return li.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new gs({...this._def,minLength:{value:e,message:it.toString(r)}})}max(e,r){return new gs({...this._def,maxLength:{value:e,message:it.toString(r)}})}length(e,r){return new gs({...this._def,exactLength:{value:e,message:it.toString(r)}})}nonempty(e){return this.min(1,e)}}gs.create=(t,e)=>new gs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:wt.ZodArray,...$t(e)});function Lu(t){if(t instanceof an){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=fl.create(Lu(n))}return new an({...t._def,shape:()=>e})}else return t instanceof gs?new gs({...t._def,type:Lu(t.element)}):t instanceof fl?fl.create(Lu(t.unwrap())):t instanceof Od?Od.create(Lu(t.unwrap())):t instanceof $c?$c.create(t.items.map(e=>Lu(e))):t}class an extends Ut{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Vt.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Ze.object){const c=this._getOrReturnCtx(e);return He(c,{code:Me.invalid_type,expected:Ze.object,received:c.parsedType}),At}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof vl&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const l=[];for(const c of s){const u=a[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new bs(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof vl){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(He(i,{code:Me.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new bs(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key,p=await u.value;c.push({key:f,value:p,alwaysSet:u.alwaysSet})}return c}).then(c=>li.mergeObjectSync(n,c)):li.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return it.errToObj,new an({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:it.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new an({...this._def,unknownKeys:"strip"})}passthrough(){return new an({...this._def,unknownKeys:"passthrough"})}extend(e){return new an({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new an({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:wt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new an({...this._def,catchall:e})}pick(e){const r={};for(const n of Vt.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new an({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Vt.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new an({...this._def,shape:()=>r})}deepPartial(){return Lu(this)}partial(e){const r={};for(const n of Vt.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new an({...this._def,shape:()=>r})}required(e){const r={};for(const n of Vt.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof fl;)a=a._def.innerType;r[n]=a}return new an({...this._def,shape:()=>r})}keyof(){return QT(Vt.objectKeys(this.shape))}}an.create=(t,e)=>new an({shape:()=>t,unknownKeys:"strip",catchall:vl.create(),typeName:wt.ZodObject,...$t(e)});an.strictCreate=(t,e)=>new an({shape:()=>t,unknownKeys:"strict",catchall:vl.create(),typeName:wt.ZodObject,...$t(e)});an.lazycreate=(t,e)=>new an({shape:t,unknownKeys:"strip",catchall:vl.create(),typeName:wt.ZodObject,...$t(e)});class Y0 extends Ut{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new uo(o.ctx.common.issues));return He(r,{code:Me.invalid_union,unionErrors:s}),At}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new uo(l));return He(r,{code:Me.invalid_union,unionErrors:o}),At}}get options(){return this._def.options}}Y0.create=(t,e)=>new Y0({options:t,typeName:wt.ZodUnion,...$t(e)});function V2(t,e){const r=Vo(t),n=Vo(e);if(t===e)return{valid:!0,data:t};if(r===Ze.object&&n===Ze.object){const i=Vt.objectKeys(e),a=Vt.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const l=V2(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(r===Ze.array&&n===Ze.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],l=V2(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===Ze.date&&n===Ze.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class X0 extends Ut{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,s)=>{if($N(a)||$N(s))return At;const o=V2(a.value,s.value);return o.valid?((RN(a)||RN(s))&&r.dirty(),{status:r.value,value:o.data}):(He(n,{code:Me.invalid_intersection_types}),At)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}X0.create=(t,e,r)=>new X0({left:t,right:e,typeName:wt.ZodIntersection,...$t(r)});class $c extends Ut{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ze.array)return He(n,{code:Me.invalid_type,expected:Ze.array,received:n.parsedType}),At;if(n.data.length<this._def.items.length)return He(n,{code:Me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),At;!this._def.rest&&n.data.length>this._def.items.length&&(He(n,{code:Me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new bs(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>li.mergeArray(r,s)):li.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new $c({...this._def,rest:e})}}$c.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $c({items:t,typeName:wt.ZodTuple,rest:null,...$t(e)})};class J0 extends Ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ze.object)return He(n,{code:Me.invalid_type,expected:Ze.object,received:n.parsedType}),At;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in n.data)i.push({key:a._parse(new bs(n,o,n.path,o)),value:s._parse(new bs(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?li.mergeObjectAsync(r,i):li.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Ut?new J0({keyType:e,valueType:r,typeName:wt.ZodRecord,...$t(n)}):new J0({keyType:Xs.create(),valueType:e,typeName:wt.ZodRecord,...$t(r)})}}class HN extends Ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ze.map)return He(n,{code:Me.invalid_type,expected:Ze.map,received:n.parsedType}),At;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,l],c)=>({key:i._parse(new bs(n,o,n.path,[c,"key"])),value:a._parse(new bs(n,l,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return At;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return At;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}}HN.create=(t,e,r)=>new HN({valueType:e,keyType:t,typeName:wt.ZodMap,...$t(r)});class yp extends Ut{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ze.set)return He(n,{code:Me.invalid_type,expected:Ze.set,received:n.parsedType}),At;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(He(n,{code:Me.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(He(n,{code:Me.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return At;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((l,c)=>a._parse(new bs(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,r){return new yp({...this._def,minSize:{value:e,message:it.toString(r)}})}max(e,r){return new yp({...this._def,maxSize:{value:e,message:it.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}yp.create=(t,e)=>new yp({valueType:t,minSize:null,maxSize:null,typeName:wt.ZodSet,...$t(e)});class VN extends Ut{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}VN.create=(t,e)=>new VN({getter:t,typeName:wt.ZodLazy,...$t(e)});class GN extends Ut{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return He(r,{received:r.data,code:Me.invalid_literal,expected:this._def.value}),At}return{status:"valid",value:e.data}}get value(){return this._def.value}}GN.create=(t,e)=>new GN({value:t,typeName:wt.ZodLiteral,...$t(e)});function QT(t,e){return new Nd({values:t,typeName:wt.ZodEnum,...$t(e)})}class Nd extends Ut{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return He(r,{expected:Vt.joinValues(n),received:r.parsedType,code:Me.invalid_type}),At}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return He(r,{received:r.data,code:Me.invalid_enum_value,options:n}),At}return ba(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Nd.create(e,{...this._def,...r})}exclude(e,r=this._def){return Nd.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Nd.create=QT;class KN extends Ut{_parse(e){const r=Vt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ze.string&&n.parsedType!==Ze.number){const i=Vt.objectValues(r);return He(n,{expected:Vt.joinValues(i),received:n.parsedType,code:Me.invalid_type}),At}if(this._cache||(this._cache=new Set(Vt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Vt.objectValues(r);return He(n,{received:n.data,code:Me.invalid_enum_value,options:i}),At}return ba(e.data)}get enum(){return this._def.values}}KN.create=(t,e)=>new KN({values:t,typeName:wt.ZodNativeEnum,...$t(e)});class Z0 extends Ut{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ze.promise&&r.common.async===!1)return He(r,{code:Me.invalid_type,expected:Ze.promise,received:r.parsedType}),At;const n=r.parsedType===Ze.promise?r.data:Promise.resolve(r.data);return ba(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Z0.create=(t,e)=>new Z0({type:t,typeName:wt.ZodPromise,...$t(e)});class kd extends Ut{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===wt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{He(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return At;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?At:l.status==="dirty"||r.value==="dirty"?Ah(l.value):l});{if(r.value==="aborted")return At;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?At:o.status==="dirty"||r.value==="dirty"?Ah(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?At:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?At:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!jd(s))return At;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>jd(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):At);Vt.assertNever(i)}}kd.create=(t,e,r)=>new kd({schema:t,typeName:wt.ZodEffects,effect:e,...$t(r)});kd.createWithPreprocess=(t,e,r)=>new kd({schema:e,effect:{type:"preprocess",transform:t},typeName:wt.ZodEffects,...$t(r)});class fl extends Ut{_parse(e){return this._getType(e)===Ze.undefined?ba(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fl.create=(t,e)=>new fl({innerType:t,typeName:wt.ZodOptional,...$t(e)});class Od extends Ut{_parse(e){return this._getType(e)===Ze.null?ba(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Od.create=(t,e)=>new Od({innerType:t,typeName:wt.ZodNullable,...$t(e)});class G2 extends Ut{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Ze.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}G2.create=(t,e)=>new G2({innerType:t,typeName:wt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...$t(e)});class K2 extends Ut{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return G0(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new uo(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new uo(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}K2.create=(t,e)=>new K2({innerType:t,typeName:wt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...$t(e)});class YN extends Ut{_parse(e){if(this._getType(e)!==Ze.nan){const n=this._getOrReturnCtx(e);return He(n,{code:Me.invalid_type,expected:Ze.nan,received:n.parsedType}),At}return{status:"valid",value:e.data}}}YN.create=t=>new YN({typeName:wt.ZodNaN,...$t(t)});class cz extends Ut{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class V_ extends Ut{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?At:a.status==="dirty"?(r.dirty(),Ah(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?At:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new V_({in:e,out:r,typeName:wt.ZodPipeline})}}class Y2 extends Ut{_parse(e){const r=this._def.innerType._parse(e),n=i=>(jd(i)&&(i.value=Object.freeze(i.value)),i);return G0(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Y2.create=(t,e)=>new Y2({innerType:t,typeName:wt.ZodReadonly,...$t(e)});var wt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(wt||(wt={}));const Wt=Xs.create,Uo=Ad.create;vl.create;const Bs=gs.create,as=an.create;Y0.create;X0.create;$c.create;const XN=J0.create,Db=Nd.create;Z0.create;fl.create;Od.create;const uz=as({id:Wt().uuid(),title:Wt(),subject:Wt(),durationMinutes:Uo().min(5).max(60),difficulty:Db(["Beginner","Intermediate","Advanced"]),patientProfile:as({name:Wt(),age:Uo(),gender:Db(["male","female","other"]),prakriti:Db(["Vata","Pitta","Kapha","Sama"]),vikriti:Wt().optional(),occupation:Wt().optional()}),chiefComplaint:Wt().optional(),historyOfPresentIllness:Wt(),ashtasthanaPariksha:XN(Wt()).optional(),doshaAnalysis:as({vata:Uo().min(0).max(100),pitta:Uo().min(0).max(100),kapha:Uo().min(0).max(100)}),potentialDiagnoses:Bs(as({dx:Wt(),confidence:Uo().min(0).max(1)})),suggestedChikitsa:Wt(),mcqs:Bs(as({id:Wt(),question:Wt(),options:Bs(Wt()),answerIndex:Uo(),sloId:Wt()})),rubrics:Bs(as({id:Wt(),description:Wt(),maxPoints:Uo(),sloId:Wt()})),finalExplanation:Wt(),sloMappings:Bs(Wt()),physicalExam:as({vitals:as({bp:Wt().optional(),hr:Wt().optional(),rr:Wt().optional(),temp:Wt().optional(),spo2:Wt().optional()}).optional(),generalExam:Wt().optional(),systemicExam:Wt().optional()}).optional(),availableLabTests:Bs(as({category:Wt(),tests:Bs(Wt())})).optional(),labResults:XN(Wt()).optional(),learningPearls:Bs(Wt()).optional(),furtherReading:Bs(as({title:Wt(),reference:Wt()})).optional()});function dz({user:t}){const{stationId:e}=wy(),r=Ga(),n=vo(),[i,a]=Y.useState(null),[s,o]=Y.useState(null),[l,c]=Y.useState(!0),[u,f]=Y.useState(!1);Y.useEffect(()=>{e&&p()},[e]);const p=async()=>{var g;try{const{data:v,error:x}=await Le.from("stations").select("*").eq("id",e).single();if(x)throw x;a(v),(g=v.blueprint)!=null&&g.generatedCase&&o(v.blueprint.generatedCase)}catch(v){console.error("Error loading station:",v)}finally{c(!1)}},h=async()=>{var g,v;if(!(!i||!s)){f(!0);try{const x=[];if(!s.physicalExam||!s.physicalExam.vitals)x.push("Physical examination vitals are missing");else{const j=s.physicalExam.vitals;(!j.bp||!j.hr||!j.rr||!j.temp||!j.spo2)&&x.push("Some vital signs are missing")}if((!((g=s.physicalExam)!=null&&g.generalExam)||s.physicalExam.generalExam.trim()==="")&&x.push("General examination findings are missing"),(!((v=s.physicalExam)!=null&&v.systemicExam)||s.physicalExam.systemicExam.trim()==="")&&x.push("Systemic examination findings are missing"),(!s.labResults||Object.keys(s.labResults).length<4)&&x.push("Lab results are missing or insufficient"),(!s.learningPearls||s.learningPearls.length<3)&&x.push("Learning pearls are missing or insufficient"),(!s.furtherReading||s.furtherReading.length<2)&&x.push("Further reading references are missing or insufficient"),x.length>0)throw new Error(`Cannot approve case with missing data:
${x.join(`
`)}

Please regenerate the case.`);const y=uz.parse(s),{data:w,error:_}=await Le.from("case_snapshots").insert({station_id:i.id,clinical_case:y,approved_by:t.id}).select().single();if(_)throw _;r(`/assign/${w.id}`),n.success("Case approved successfully!")}catch(x){n.error("Error approving case: "+x.message)}finally{f(!1)}}};return l?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 flex items-center justify-center pb-20 md:pb-0",children:d.jsx(Sd,{className:"w-8 h-8 animate-spin text-primary-600"})}),d.jsx(Mn,{role:"faculty"}),d.jsx(gl,{toasts:n.toasts,onClose:n.removeToast})]}):!i||!s?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 p-6 pb-20 md:pb-6",children:d.jsx("p",{children:"Station not found or case not generated yet."})}),d.jsx(Mn,{role:"faculty"}),d.jsx(gl,{toasts:n.toasts,onClose:n.removeToast})]}):d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(gp,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Review Generated Case"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Overview"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),d.jsx("p",{className:"text-lg",children:s.title})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"History of Present Illness"}),d.jsx("p",{className:"text-gray-900",children:s.historyOfPresentIllness})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Patient Profile"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Name:"})," ",s.patientProfile.name]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Age:"})," ",s.patientProfile.age]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Gender:"})," ",s.patientProfile.gender]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Prakriti:"})," ",s.patientProfile.prakriti]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Suggested Chikitsa"}),d.jsx("p",{className:"text-gray-900",children:s.suggestedChikitsa})]})]})]}),s.physicalExam&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Physical Examination"}),d.jsxs("div",{className:"space-y-4",children:[s.physicalExam.vitals&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vitals"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-2",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"BP:"})," ",s.physicalExam.vitals.bp||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"HR:"})," ",s.physicalExam.vitals.hr||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"RR:"})," ",s.physicalExam.vitals.rr||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Temp:"})," ",s.physicalExam.vitals.temp||"Not recorded"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"SpO2:"})," ",s.physicalExam.vitals.spo2||"Not recorded"]})]})]}),s.physicalExam.generalExam&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"General Examination"}),d.jsx("p",{className:"text-gray-900 mt-2",children:s.physicalExam.generalExam})]}),s.physicalExam.systemicExam&&d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Systemic Examination"}),d.jsx("p",{className:"text-gray-900 mt-2 whitespace-pre-wrap",children:s.physicalExam.systemicExam})]})]})]}),s.labResults&&Object.keys(s.labResults).length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Lab Results (Available)"}),d.jsxs("div",{className:"space-y-2",children:[Object.entries(s.labResults).slice(0,5).map(([g,v])=>d.jsxs("div",{className:"border rounded p-3",children:[d.jsxs("strong",{children:[g,":"]})," ",v]},g)),Object.keys(s.labResults).length>5&&d.jsxs("p",{className:"text-sm text-gray-500",children:["... and ",Object.keys(s.labResults).length-5," more tests"]})]})]}),s.learningPearls&&s.learningPearls.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Learning Pearls"}),d.jsx("ul",{className:"list-disc list-inside space-y-2",children:s.learningPearls.map((g,v)=>d.jsx("li",{className:"text-gray-900",children:g},v))})]}),s.furtherReading&&s.furtherReading.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Further Reading"}),d.jsx("div",{className:"space-y-2",children:s.furtherReading.map((g,v)=>d.jsxs("div",{className:"border rounded p-3",children:[d.jsxs("strong",{children:[g.title,":"]})," ",g.reference]},v))})]}),s.mcqs&&s.mcqs.length>0&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Multiple Choice Questions"}),d.jsx("div",{className:"space-y-4",children:s.mcqs.map((g,v)=>d.jsxs("div",{className:"border rounded p-4",children:[d.jsx("p",{className:"font-medium mb-2",children:g.question}),d.jsx("ul",{className:"list-disc list-inside space-y-1",children:g.options.map((x,y)=>d.jsx("li",{className:y===g.answerIndex?"text-green-600 font-medium":"",children:x},y))})]},v))})]}),d.jsxs("div",{className:"flex gap-4 pt-6 border-t",children:[d.jsxs("button",{onClick:h,disabled:u,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:[u?d.jsx(Sd,{className:"w-4 h-4 animate-spin"}):d.jsx(HT,{className:"w-4 h-4"}),"Approve Case"]}),d.jsxs("button",{onClick:()=>r("/create"),className:"flex items-center gap-2 px-6 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:[d.jsx(uf,{className:"w-4 h-4"}),"Regenerate"]})]})]})]})}),d.jsx(Mn,{role:"faculty"})]})}function fz({user:t}){var F;const{snapshotId:e}=wy(),r=Ga(),n=vo(),[i,a]=Y.useState(null),[s,o]=Y.useState([]),[l,c]=Y.useState([]),[u,f]=Y.useState([]),[p,h]=Y.useState([]),[g,v]=Y.useState("cohort"),[x,y]=Y.useState(""),[w,_]=Y.useState(""),[j,S]=Y.useState(1),[k,E]=Y.useState(!0),[L,I]=Y.useState(!1);Y.useEffect(()=>{e&&U()},[e]);const U=async()=>{try{const{data:B,error:K}=await Le.from("case_snapshots").select("*").eq("id",e).single();if(K)throw K;a(B);const{data:H,error:$}=await Le.from("cohorts").select("*").order("name");if($)throw $;const J=await Promise.all((H||[]).map(async P=>{const{data:z}=await Le.from("cohort_members").select("student_id").eq("cohort_id",P.id),V=(z||[]).map(ne=>ne.student_id);let re=[];if(V.length>0){const{data:ne}=await Le.from("users").select("id, name, email").in("id",V);re=(ne||[]).map(ue=>({id:ue.id,name:ue.name,email:ue.email}))}return{...P,students:re}}));o(J);const{data:ie,error:se}=await Le.from("users").select("id, name, email").eq("role","student").order("name");if(se)throw se;c(ie||[])}catch(B){console.error("Error loading data:",B)}finally{E(!1)}},O=async()=>{if(e){if(g==="cohort"&&u.length===0){n.warning("Please select at least one cohort");return}if(g==="student"&&p.length===0){n.warning("Please select at least one student");return}if(g==="both"&&u.length===0&&p.length===0){n.warning("Please select at least one cohort or student");return}I(!0);try{const B=[];for(const K of u)B.push({snapshot_id:e,cohort_id:K,start_at:x||null,due_at:w||null,max_attempts:j});for(const K of p){const H=l.find($=>$.id===K);if(H){let $=null;const{data:J}=await Le.from("cohorts").select("id").eq("name",`Personal: ${H.name}`).single();if(J)$=J.id;else{const{data:ie,error:se}=await Le.from("cohorts").insert({name:`Personal: ${H.name}`,description:`Personal assignment cohort for ${H.name}`}).select().single();if(se)throw se;$=ie.id,await Le.from("cohort_members").insert({cohort_id:$,student_id:K})}$&&B.push({snapshot_id:e,cohort_id:$,start_at:x||null,due_at:w||null,max_attempts:j})}}if(B.length>0){const{error:K}=await Le.from("assignments").insert(B);if(K)throw K}n.success(`Successfully created ${B.length} assignment(s)!`),r("/dashboard")}catch(B){n.error("Error creating assignment: "+B.message)}finally{I(!1)}}},T=B=>{f(K=>K.includes(B)?K.filter(H=>H!==B):[...K,B])},D=B=>{h(K=>K.includes(B)?K.filter(H=>H!==B):[...K,B])};return k?d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 flex items-center justify-center pb-20 md:pb-0",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),d.jsx(Mn,{role:"faculty"}),d.jsx(gl,{toasts:n.toasts,onClose:n.removeToast})]}):d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-2xl mx-auto",children:[d.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[d.jsx(gp,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Assign Case"}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Case Title"}),d.jsx("p",{className:"text-lg font-semibold",children:((F=i==null?void 0:i.clinical_case)==null?void 0:F.title)||"Untitled Case"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Assignment Mode"}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{type:"button",onClick:()=>{v("cohort"),h([])},className:`px-4 py-2 rounded-md ${g==="cohort"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[d.jsx(Ic,{className:"w-4 h-4 inline mr-2"}),"Cohorts"]}),d.jsxs("button",{type:"button",onClick:()=>{v("student"),f([])},className:`px-4 py-2 rounded-md ${g==="student"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[d.jsx(ms,{className:"w-4 h-4 inline mr-2"}),"Individual Students"]}),d.jsx("button",{type:"button",onClick:()=>v("both"),className:`px-4 py-2 rounded-md ${g==="both"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Both"})]})]}),(g==="cohort"||g==="both")&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Cohorts ",g==="cohort"&&"*"]}),d.jsx("div",{className:"border border-gray-300 rounded-md max-h-60 overflow-y-auto",children:s.length===0?d.jsx("p",{className:"p-4 text-gray-500 text-sm",children:"No cohorts available. Create cohorts first."}):s.map(B=>d.jsxs("div",{className:`p-3 border-b border-gray-200 last:border-b-0 cursor-pointer hover:bg-gray-50 ${u.includes(B.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>T(B.id),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:B.name}),B.description&&d.jsx("div",{className:"text-sm text-gray-500",children:B.description}),d.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[B.students.length," student",B.students.length!==1?"s":""]})]}),d.jsx("input",{type:"checkbox",checked:u.includes(B.id),onChange:()=>T(B.id),className:"ml-4 w-5 h-5 text-primary-600"})]}),u.includes(B.id)&&B.students.length>0&&d.jsxs("div",{className:"mt-2 ml-4 text-xs text-gray-600",children:["Students: ",B.students.map(K=>K.name).join(", ")]})]},B.id))}),u.length>0&&d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[u.length," cohort",u.length!==1?"s":""," selected"]})]}),(g==="student"||g==="both")&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Individual Students ",g==="student"&&"*"]}),d.jsx("div",{className:"border border-gray-300 rounded-md max-h-60 overflow-y-auto",children:l.length===0?d.jsx("p",{className:"p-4 text-gray-500 text-sm",children:"No students available."}):l.map(B=>d.jsx("div",{className:`p-3 border-b border-gray-200 last:border-b-0 cursor-pointer hover:bg-gray-50 ${p.includes(B.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>D(B.id),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:B.name}),d.jsx("div",{className:"text-sm text-gray-500",children:B.email})]}),d.jsx("input",{type:"checkbox",checked:p.includes(B.id),onChange:()=>D(B.id),className:"ml-4 w-5 h-5 text-primary-600"})]})},B.id))}),p.length>0&&d.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[p.length," student",p.length!==1?"s":""," selected"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),d.jsx("input",{type:"datetime-local",value:x,onChange:B=>y(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),d.jsx("input",{type:"datetime-local",value:w,onChange:B=>_(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Attempts"}),d.jsx("input",{type:"number",min:"1",max:"10",value:j,onChange:B=>S(parseInt(B.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),d.jsxs("button",{onClick:O,disabled:L||g==="cohort"&&u.length===0||g==="student"&&p.length===0||g==="both"&&u.length===0&&p.length===0,className:"w-full flex items-center justify-center gap-2 bg-primary-600 text-white px-6 py-3 rounded-md hover:bg-primary-700 disabled:opacity-50",children:[d.jsx(HT,{className:"w-5 h-5"}),L?"Assigning...":`Assign to ${u.length+p.length} ${u.length+p.length===1?"Recipient":"Recipients"}`]})]})]})}),d.jsx(Mn,{role:"faculty"}),d.jsx(gl,{toasts:n.toasts,onClose:n.removeToast})]})}function hz({user:t}){const e=Ga(),[r,n]=Y.useState([]),[i,a]=Y.useState(!0),[s,o]=Y.useState("");Y.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:u,error:f}=await Le.from("stations").select("*").eq("created_by",t.id).order("created_at",{ascending:!1});if(f)throw f;const p=await Promise.all((u||[]).map(async h=>{const{data:g}=await Le.from("case_snapshots").select("*").eq("station_id",h.id).order("approved_at",{ascending:!1}).limit(1).single();return{...h,snapshot:g}}));n(p)}catch(u){console.error("Error loading stations:",u)}finally{a(!1)}},c=r.filter(u=>{var f,p,h,g;return((f=u.title)==null?void 0:f.toLowerCase().includes(s.toLowerCase()))||((g=(h=(p=u.snapshot)==null?void 0:p.clinical_case)==null?void 0:h.title)==null?void 0:g.toLowerCase().includes(s.toLowerCase()))});return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Station Library"}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(H_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Search stations...",value:s,onChange:u=>o(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):c.length===0?d.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:d.jsx("p",{className:"text-gray-600",children:"No stations found"})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(u=>{var f,p,h,g;return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:((p=(f=u.snapshot)==null?void 0:f.clinical_case)==null?void 0:p.title)||u.title||"Untitled Station"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:((g=(h=u.snapshot)==null?void 0:h.clinical_case)==null?void 0:g.subject)||"No subject"}),d.jsx("div",{className:"flex items-center gap-2 mb-4",children:u.snapshot?d.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:"Approved"}):d.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:"Pending"})}),d.jsxs("div",{className:"flex gap-2",children:[u.snapshot&&d.jsxs("button",{onClick:()=>e(`/review/${u.id}`),className:"flex items-center gap-1 px-3 py-1 text-sm bg-primary-100 text-primary-700 rounded hover:bg-primary-200",children:[d.jsx(q_,{className:"w-4 h-4"}),"View"]}),d.jsxs("button",{onClick:()=>e(`/create?edit=${u.id}`),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:[d.jsx(W_,{className:"w-4 h-4"}),"Edit"]})]})]},u.id)})})]})}),d.jsx(Mn,{role:"faculty"})]})}function e8(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=e8(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function It(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=e8(t))&&(n&&(n+=" "),n+=e);return n}var pz=Array.isArray,wi=pz,mz=typeof rg=="object"&&rg&&rg.Object===Object&&rg,t8=mz,gz=t8,vz=typeof self=="object"&&self&&self.Object===Object&&self,yz=gz||vz||Function("return this")(),_s=yz,bz=_s,xz=bz.Symbol,um=xz,JN=um,r8=Object.prototype,wz=r8.hasOwnProperty,_z=r8.toString,lh=JN?JN.toStringTag:void 0;function Sz(t){var e=wz.call(t,lh),r=t[lh];try{t[lh]=void 0;var n=!0}catch{}var i=_z.call(t);return n&&(e?t[lh]=r:delete t[lh]),i}var jz=Sz,Az=Object.prototype,Nz=Az.toString;function kz(t){return Nz.call(t)}var Oz=kz,ZN=um,Pz=jz,Ez=Oz,Cz="[object Null]",Tz="[object Undefined]",QN=ZN?ZN.toStringTag:void 0;function Lz(t){return t==null?t===void 0?Tz:Cz:QN&&QN in Object(t)?Pz(t):Ez(t)}var yo=Lz;function Iz(t){return t!=null&&typeof t=="object"}var bo=Iz,$z=yo,Rz=bo,Mz="[object Symbol]";function Dz(t){return typeof t=="symbol"||Rz(t)&&$z(t)==Mz}var df=Dz,Bz=wi,Fz=df,Uz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zz=/^\w*$/;function qz(t,e){if(Bz(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Fz(t)?!0:zz.test(t)||!Uz.test(t)||e!=null&&t in Object(e)}var G_=qz;function Wz(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var jl=Wz;const ff=ar(jl);var Hz=yo,Vz=jl,Gz="[object AsyncFunction]",Kz="[object Function]",Yz="[object GeneratorFunction]",Xz="[object Proxy]";function Jz(t){if(!Vz(t))return!1;var e=Hz(t);return e==Kz||e==Yz||e==Gz||e==Xz}var K_=Jz;const bt=ar(K_);var Zz=_s,Qz=Zz["__core-js_shared__"],eq=Qz,Bb=eq,e3=function(){var t=/[^.]+$/.exec(Bb&&Bb.keys&&Bb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function tq(t){return!!e3&&e3 in t}var rq=tq,nq=Function.prototype,iq=nq.toString;function aq(t){if(t!=null){try{return iq.call(t)}catch{}try{return t+""}catch{}}return""}var n8=aq,sq=K_,oq=rq,lq=jl,cq=n8,uq=/[\\^$.*+?()[\]{}|]/g,dq=/^\[object .+?Constructor\]$/,fq=Function.prototype,hq=Object.prototype,pq=fq.toString,mq=hq.hasOwnProperty,gq=RegExp("^"+pq.call(mq).replace(uq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vq(t){if(!lq(t)||oq(t))return!1;var e=sq(t)?gq:dq;return e.test(cq(t))}var yq=vq;function bq(t,e){return t==null?void 0:t[e]}var xq=bq,wq=yq,_q=xq;function Sq(t,e){var r=_q(t,e);return wq(r)?r:void 0}var Yc=Sq,jq=Yc,Aq=jq(Object,"create"),ky=Aq,t3=ky;function Nq(){this.__data__=t3?t3(null):{},this.size=0}var kq=Nq;function Oq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Pq=Oq,Eq=ky,Cq="__lodash_hash_undefined__",Tq=Object.prototype,Lq=Tq.hasOwnProperty;function Iq(t){var e=this.__data__;if(Eq){var r=e[t];return r===Cq?void 0:r}return Lq.call(e,t)?e[t]:void 0}var $q=Iq,Rq=ky,Mq=Object.prototype,Dq=Mq.hasOwnProperty;function Bq(t){var e=this.__data__;return Rq?e[t]!==void 0:Dq.call(e,t)}var Fq=Bq,Uq=ky,zq="__lodash_hash_undefined__";function qq(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Uq&&e===void 0?zq:e,this}var Wq=qq,Hq=kq,Vq=Pq,Gq=$q,Kq=Fq,Yq=Wq;function hf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}hf.prototype.clear=Hq;hf.prototype.delete=Vq;hf.prototype.get=Gq;hf.prototype.has=Kq;hf.prototype.set=Yq;var Xq=hf;function Jq(){this.__data__=[],this.size=0}var Zq=Jq;function Qq(t,e){return t===e||t!==t&&e!==e}var Y_=Qq,eW=Y_;function tW(t,e){for(var r=t.length;r--;)if(eW(t[r][0],e))return r;return-1}var Oy=tW,rW=Oy,nW=Array.prototype,iW=nW.splice;function aW(t){var e=this.__data__,r=rW(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():iW.call(e,r,1),--this.size,!0}var sW=aW,oW=Oy;function lW(t){var e=this.__data__,r=oW(e,t);return r<0?void 0:e[r][1]}var cW=lW,uW=Oy;function dW(t){return uW(this.__data__,t)>-1}var fW=dW,hW=Oy;function pW(t,e){var r=this.__data__,n=hW(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var mW=pW,gW=Zq,vW=sW,yW=cW,bW=fW,xW=mW;function pf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pf.prototype.clear=gW;pf.prototype.delete=vW;pf.prototype.get=yW;pf.prototype.has=bW;pf.prototype.set=xW;var Py=pf,wW=Yc,_W=_s,SW=wW(_W,"Map"),X_=SW,r3=Xq,jW=Py,AW=X_;function NW(){this.size=0,this.__data__={hash:new r3,map:new(AW||jW),string:new r3}}var kW=NW;function OW(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var PW=OW,EW=PW;function CW(t,e){var r=t.__data__;return EW(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Ey=CW,TW=Ey;function LW(t){var e=TW(this,t).delete(t);return this.size-=e?1:0,e}var IW=LW,$W=Ey;function RW(t){return $W(this,t).get(t)}var MW=RW,DW=Ey;function BW(t){return DW(this,t).has(t)}var FW=BW,UW=Ey;function zW(t,e){var r=UW(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var qW=zW,WW=kW,HW=IW,VW=MW,GW=FW,KW=qW;function mf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}mf.prototype.clear=WW;mf.prototype.delete=HW;mf.prototype.get=VW;mf.prototype.has=GW;mf.prototype.set=KW;var J_=mf,i8=J_,YW="Expected a function";function Z_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(YW);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(Z_.Cache||i8),r}Z_.Cache=i8;var a8=Z_;const XW=ar(a8);var JW=a8,ZW=500;function QW(t){var e=JW(t,function(n){return r.size===ZW&&r.clear(),n}),r=e.cache;return e}var eH=QW,tH=eH,rH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nH=/\\(\\)?/g,iH=tH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(rH,function(r,n,i,a){e.push(i?a.replace(nH,"$1"):n||r)}),e}),aH=iH;function sH(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Q_=sH,n3=um,oH=Q_,lH=wi,cH=df,i3=n3?n3.prototype:void 0,a3=i3?i3.toString:void 0;function s8(t){if(typeof t=="string")return t;if(lH(t))return oH(t,s8)+"";if(cH(t))return a3?a3.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var uH=s8,dH=uH;function fH(t){return t==null?"":dH(t)}var o8=fH,hH=wi,pH=G_,mH=aH,gH=o8;function vH(t,e){return hH(t)?t:pH(t,e)?[t]:mH(gH(t))}var l8=vH,yH=df;function bH(t){if(typeof t=="string"||yH(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Cy=bH,xH=l8,wH=Cy;function _H(t,e){e=xH(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[wH(e[r++])];return r&&r==n?t:void 0}var eS=_H,SH=eS;function jH(t,e,r){var n=t==null?void 0:SH(t,e);return n===void 0?r:n}var c8=jH;const Wi=ar(c8);function AH(t){return t==null}var NH=AH;const Ot=ar(NH);var kH=yo,OH=wi,PH=bo,EH="[object String]";function CH(t){return typeof t=="string"||!OH(t)&&PH(t)&&kH(t)==EH}var TH=CH;const Rc=ar(TH);var u8={exports:{}},sr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS=Symbol.for("react.element"),rS=Symbol.for("react.portal"),Ty=Symbol.for("react.fragment"),Ly=Symbol.for("react.strict_mode"),Iy=Symbol.for("react.profiler"),$y=Symbol.for("react.provider"),Ry=Symbol.for("react.context"),LH=Symbol.for("react.server_context"),My=Symbol.for("react.forward_ref"),Dy=Symbol.for("react.suspense"),By=Symbol.for("react.suspense_list"),Fy=Symbol.for("react.memo"),Uy=Symbol.for("react.lazy"),IH=Symbol.for("react.offscreen"),d8;d8=Symbol.for("react.module.reference");function xa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case tS:switch(t=t.type,t){case Ty:case Iy:case Ly:case Dy:case By:return t;default:switch(t=t&&t.$$typeof,t){case LH:case Ry:case My:case Uy:case Fy:case $y:return t;default:return e}}case rS:return e}}}sr.ContextConsumer=Ry;sr.ContextProvider=$y;sr.Element=tS;sr.ForwardRef=My;sr.Fragment=Ty;sr.Lazy=Uy;sr.Memo=Fy;sr.Portal=rS;sr.Profiler=Iy;sr.StrictMode=Ly;sr.Suspense=Dy;sr.SuspenseList=By;sr.isAsyncMode=function(){return!1};sr.isConcurrentMode=function(){return!1};sr.isContextConsumer=function(t){return xa(t)===Ry};sr.isContextProvider=function(t){return xa(t)===$y};sr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===tS};sr.isForwardRef=function(t){return xa(t)===My};sr.isFragment=function(t){return xa(t)===Ty};sr.isLazy=function(t){return xa(t)===Uy};sr.isMemo=function(t){return xa(t)===Fy};sr.isPortal=function(t){return xa(t)===rS};sr.isProfiler=function(t){return xa(t)===Iy};sr.isStrictMode=function(t){return xa(t)===Ly};sr.isSuspense=function(t){return xa(t)===Dy};sr.isSuspenseList=function(t){return xa(t)===By};sr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ty||t===Iy||t===Ly||t===Dy||t===By||t===IH||typeof t=="object"&&t!==null&&(t.$$typeof===Uy||t.$$typeof===Fy||t.$$typeof===$y||t.$$typeof===Ry||t.$$typeof===My||t.$$typeof===d8||t.getModuleId!==void 0)};sr.typeOf=xa;u8.exports=sr;var $H=u8.exports,RH=yo,MH=bo,DH="[object Number]";function BH(t){return typeof t=="number"||MH(t)&&RH(t)==DH}var f8=BH;const FH=ar(f8);var UH=f8;function zH(t){return UH(t)&&t!=+t}var qH=zH;const dm=ar(qH);var ii=function(e){return e===0?0:e>0?1:-1},bc=function(e){return Rc(e)&&e.indexOf("%")===e.length-1},Be=function(e){return FH(e)&&!dm(e)},WH=function(e){return Ot(e)},xn=function(e){return Be(e)||Rc(e)},HH=0,gf=function(e){var r=++HH;return"".concat(e||"").concat(r)},ai=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Be(e)&&!Rc(e))return n;var a;if(bc(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return dm(a)&&(a=n),i&&a>r&&(a=r),a},Jo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},VH=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Mi=function(e,r){return Be(e)&&Be(r)?function(n){return e+n*(r-e)}:function(){return r}};function Q0(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Wi(n,e))===r})}var GH=function(e,r){return Be(e)&&Be(r)?e-r:Rc(e)&&Rc(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ld(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function X2(t){"@babel/helpers - typeof";return X2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X2(t)}var KH=["viewBox","children"],YH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],s3=["points","pathLength"],Fb={svg:KH,polygon:s3,polyline:s3},nS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ev=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(Y.isValidElement(e)&&(n=e.props),!ff(n))return null;var i={};return Object.keys(n).forEach(function(a){nS.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},XH=function(e,r,n){return function(i){return e(r,n,i),null}},Mc=function(e,r,n){if(!ff(e)||X2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];nS.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=XH(s,r,n))}),i},JH=["children"],ZH=["children"];function o3(t,e){if(t==null)return{};var r=QH(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function J2(t){"@babel/helpers - typeof";return J2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J2(t)}var l3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},to=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},c3=null,Ub=null,iS=function t(e){if(e===c3&&Array.isArray(Ub))return Ub;var r=[];return Y.Children.forEach(e,function(n){Ot(n)||($H.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Ub=r,c3=e,r};function Hi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return to(i)}):n=[to(e)],iS(t).forEach(function(i){var a=Wi(i,"type.displayName")||Wi(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function $i(t,e){var r=Hi(t,e);return r&&r[0]}var u3=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Be(n)||n<=0||!Be(i)||i<=0)},eV=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],tV=function(e){return e&&e.type&&Rc(e.type)&&eV.indexOf(e.type)>=0},rV=function(e){return e&&J2(e)==="object"&&"clipDot"in e},nV=function(e,r,n,i){var a,s=(a=Fb==null?void 0:Fb[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!bt(e)&&(i&&s.includes(r)||YH.includes(r))||n&&nS.includes(r)},ft=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(Y.isValidElement(e)&&(i=e.props),!ff(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;nV((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},Z2=function t(e,r){if(e===r)return!0;var n=Y.Children.count(e);if(n!==Y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return d3(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!d3(a,s))return!1}return!0},d3=function(e,r){if(Ot(e)&&Ot(r))return!0;if(!Ot(e)&&!Ot(r)){var n=e.props||{},i=n.children,a=o3(n,JH),s=r.props||{},o=s.children,l=o3(s,ZH);return i&&o?ld(a,l)&&Z2(i,o):!i&&!o?ld(a,l):!1}return!1},f3=function(e,r){var n=[],i={};return iS(e).forEach(function(a,s){if(tV(a))n.push(a);else if(a){var o=to(a.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var f=c(a,o,s);n.push(f),i[o]=!0}}}),n},iV=function(e){var r=e&&e.type;return r&&l3[r]?l3[r]:null},aV=function(e,r){return iS(r).indexOf(e)},sV=["children","width","height","viewBox","className","style","title","desc"];function Q2(){return Q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q2.apply(this,arguments)}function oV(t,e){if(t==null)return{};var r=lV(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ew(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=oV(t,sV),u=i||{width:r,height:n,x:0,y:0},f=It("recharts-surface",a);return le.createElement("svg",Q2({},ft(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),le.createElement("title",null,o),le.createElement("desc",null,l),e)}var cV=["children","className"];function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tw.apply(this,arguments)}function uV(t,e){if(t==null)return{};var r=dV(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Gt=le.forwardRef(function(t,e){var r=t.children,n=t.className,i=uV(t,cV),a=It("recharts-layer",n);return le.createElement("g",tw({className:a},ft(i,!0),{ref:e}),r)}),Wa=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function fV(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var hV=fV,pV=hV;function mV(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:pV(t,e,r)}var gV=mV,vV="\\ud800-\\udfff",yV="\\u0300-\\u036f",bV="\\ufe20-\\ufe2f",xV="\\u20d0-\\u20ff",wV=yV+bV+xV,_V="\\ufe0e\\ufe0f",SV="\\u200d",jV=RegExp("["+SV+vV+wV+_V+"]");function AV(t){return jV.test(t)}var h8=AV;function NV(t){return t.split("")}var kV=NV,p8="\\ud800-\\udfff",OV="\\u0300-\\u036f",PV="\\ufe20-\\ufe2f",EV="\\u20d0-\\u20ff",CV=OV+PV+EV,TV="\\ufe0e\\ufe0f",LV="["+p8+"]",rw="["+CV+"]",nw="\\ud83c[\\udffb-\\udfff]",IV="(?:"+rw+"|"+nw+")",m8="[^"+p8+"]",g8="(?:\\ud83c[\\udde6-\\uddff]){2}",v8="[\\ud800-\\udbff][\\udc00-\\udfff]",$V="\\u200d",y8=IV+"?",b8="["+TV+"]?",RV="(?:"+$V+"(?:"+[m8,g8,v8].join("|")+")"+b8+y8+")*",MV=b8+y8+RV,DV="(?:"+[m8+rw+"?",rw,g8,v8,LV].join("|")+")",BV=RegExp(nw+"(?="+nw+")|"+DV+MV,"g");function FV(t){return t.match(BV)||[]}var UV=FV,zV=kV,qV=h8,WV=UV;function HV(t){return qV(t)?WV(t):zV(t)}var VV=HV,GV=gV,KV=h8,YV=VV,XV=o8;function JV(t){return function(e){e=XV(e);var r=KV(e)?YV(e):void 0,n=r?r[0]:e.charAt(0),i=r?GV(r,1).join(""):e.slice(1);return n[t]()+i}}var ZV=JV,QV=ZV,eG=QV("toUpperCase"),tG=eG;const zy=ar(tG);function vr(t){return function(){return t}}const x8=Math.cos,tv=Math.sin,Ka=Math.sqrt,rv=Math.PI,qy=2*rv,iw=Math.PI,aw=2*iw,sc=1e-6,rG=aw-sc;function w8(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function nG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return w8;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class iG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?w8:nG(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,c=i-r,u=s-e,f=o-r,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>sc)if(!(Math.abs(f*l-c*u)>sc)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-s,g=i-o,v=l*l+c*c,x=h*h+g*g,y=Math.sqrt(v),w=Math.sqrt(p),_=a*Math.tan((iw-Math.acos((v+p-x)/(2*y*w)))/2),j=_/w,S=_/y;Math.abs(j-1)>sc&&this._append`L${e+j*u},${r+j*f}`,this._append`A${a},${a},0,0,${+(f*h>u*g)},${this._x1=e+S*l},${this._y1=r+S*c}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=e+o,u=r+l,f=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>sc||Math.abs(this._y1-u)>sc)&&this._append`L${c},${u}`,n&&(p<0&&(p=p%aw+aw),p>rG?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:p>sc&&this._append`A${n},${n},0,${+(p>=iw)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function aS(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new iG(e)}function sS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _8(t){this._context=t}_8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Wy(t){return new _8(t)}function S8(t){return t[0]}function j8(t){return t[1]}function A8(t,e){var r=vr(!0),n=null,i=Wy,a=null,s=aS(o);t=typeof t=="function"?t:t===void 0?S8:vr(t),e=typeof e=="function"?e:e===void 0?j8:vr(e);function o(l){var c,u=(l=sS(l)).length,f,p=!1,h;for(n==null&&(a=i(h=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(f,c,l),+e(f,c,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:vr(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:vr(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:vr(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function Pg(t,e,r){var n=null,i=vr(!0),a=null,s=Wy,o=null,l=aS(c);t=typeof t=="function"?t:t===void 0?S8:vr(+t),e=typeof e=="function"?e:vr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?j8:vr(+r);function c(f){var p,h,g,v=(f=sS(f)).length,x,y=!1,w,_=new Array(v),j=new Array(v);for(a==null&&(o=s(w=l())),p=0;p<=v;++p){if(!(p<v&&i(x=f[p],p,f))===y)if(y=!y)h=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=p-1;g>=h;--g)o.point(_[g],j[g]);o.lineEnd(),o.areaEnd()}y&&(_[p]=+t(x,p,f),j[p]=+e(x,p,f),o.point(n?+n(x,p,f):_[p],r?+r(x,p,f):j[p]))}if(w)return o=null,w+""||null}function u(){return A8().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:vr(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:vr(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:vr(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:vr(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:vr(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:vr(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:vr(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class N8{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function aG(t){return new N8(t,!0)}function sG(t){return new N8(t,!1)}const oS={draw(t,e){const r=Ka(e/rv);t.moveTo(r,0),t.arc(0,0,r,0,qy)}},oG={draw(t,e){const r=Ka(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},k8=Ka(1/3),lG=k8*2,cG={draw(t,e){const r=Ka(e/lG),n=r*k8;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},uG={draw(t,e){const r=Ka(e),n=-r/2;t.rect(n,n,r,r)}},dG=.8908130915292852,O8=tv(rv/10)/tv(7*rv/10),fG=tv(qy/10)*O8,hG=-x8(qy/10)*O8,pG={draw(t,e){const r=Ka(e*dG),n=fG*r,i=hG*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=qy*a/5,o=x8(s),l=tv(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},zb=Ka(3),mG={draw(t,e){const r=-Ka(e/(zb*3));t.moveTo(0,r*2),t.lineTo(-zb*r,-r),t.lineTo(zb*r,-r),t.closePath()}},ia=-.5,aa=Ka(3)/2,sw=1/Ka(12),gG=(sw/2+1)*3,vG={draw(t,e){const r=Ka(e/gG),n=r/2,i=r*sw,a=n,s=r*sw+r,o=-a,l=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(ia*n-aa*i,aa*n+ia*i),t.lineTo(ia*a-aa*s,aa*a+ia*s),t.lineTo(ia*o-aa*l,aa*o+ia*l),t.lineTo(ia*n+aa*i,ia*i-aa*n),t.lineTo(ia*a+aa*s,ia*s-aa*a),t.lineTo(ia*o+aa*l,ia*l-aa*o),t.closePath()}};function yG(t,e){let r=null,n=aS(i);t=typeof t=="function"?t:vr(t||oS),e=typeof e=="function"?e:vr(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:vr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:vr(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function nv(){}function iv(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function P8(t){this._context=t}P8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:iv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:iv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bG(t){return new P8(t)}function E8(t){this._context=t}E8.prototype={areaStart:nv,areaEnd:nv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:iv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xG(t){return new E8(t)}function C8(t){this._context=t}C8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:iv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wG(t){return new C8(t)}function T8(t){this._context=t}T8.prototype={areaStart:nv,areaEnd:nv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function _G(t){return new T8(t)}function h3(t){return t<0?-1:1}function p3(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(h3(a)+h3(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function m3(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function qb(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function av(t){this._context=t}av.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qb(this,this._t0,m3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,qb(this,m3(this,r=p3(this,t,e)),r);break;default:qb(this,this._t0,r=p3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function L8(t){this._context=new I8(t)}(L8.prototype=Object.create(av.prototype)).point=function(t,e){av.prototype.point.call(this,e,t)};function I8(t){this._context=t}I8.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function SG(t){return new av(t)}function jG(t){return new L8(t)}function $8(t){this._context=t}$8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=g3(t),i=g3(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function g3(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function AG(t){return new $8(t)}function Hy(t,e){this._context=t,this._t=e}Hy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function NG(t){return new Hy(t,.5)}function kG(t){return new Hy(t,0)}function OG(t){return new Hy(t,1)}function Pd(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ow(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function PG(t,e){return t[e]}function EG(t){const e=[];return e.key=t,e}function CG(){var t=vr([]),e=ow,r=Pd,n=PG;function i(a){var s=Array.from(t.apply(this,arguments),EG),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,a)]).data=f;for(o=0,u=sS(e(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:vr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:vr(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?ow:typeof a=="function"?a:vr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Pd,i):r},i}function TG(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Pd(t,e)}}function LG(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Pd(t,e)}}function IG(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],f=u[n][1]||0,p=u[n-1][1]||0,h=(f-p)/2,g=0;g<o;++g){var v=t[e[g]],x=v[n][1]||0,y=v[n-1][1]||0;h+=x-y}l+=f,c+=h*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Pd(t,e)}}function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}var $G=["type","size","sizeType"];function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lw.apply(this,arguments)}function v3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v3(Object(r),!0).forEach(function(n){RG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RG(t,e,r){return e=MG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MG(t){var e=DG(t,"string");return bp(e)=="symbol"?e:e+""}function DG(t,e){if(bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BG(t,e){if(t==null)return{};var r=FG(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var R8={symbolCircle:oS,symbolCross:oG,symbolDiamond:cG,symbolSquare:uG,symbolStar:pG,symbolTriangle:mG,symbolWye:vG},UG=Math.PI/180,zG=function(e){var r="symbol".concat(zy(e));return R8[r]||oS},qG=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*UG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},WG=function(e,r){R8["symbol".concat(zy(e))]=r},lS=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=BG(e,$G),c=y3(y3({},l),{},{type:n,size:a,sizeType:o}),u=function(){var x=zG(n),y=yG().type(x).size(qG(a,o,n));return y()},f=c.className,p=c.cx,h=c.cy,g=ft(c,!0);return p===+p&&h===+h&&a===+a?le.createElement("path",lw({},g,{className:It("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:u()})):null};lS.registerSymbol=WG;function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cw.apply(this,arguments)}function b3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(r),!0).forEach(function(n){xp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D8(n.key),n)}}function KG(t,e,r){return e&&GG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YG(t,e,r){return e=sv(e),XG(t,M8()?Reflect.construct(e,r||[],sv(t).constructor):e.apply(t,r))}function XG(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JG(t)}function JG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M8=function(){return!!t})()}function sv(t){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sv(t)}function ZG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uw(t,e)}function uw(t,e){return uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uw(t,e)}function xp(t,e,r){return e=D8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D8(t){var e=QG(t,"string");return Ed(e)=="symbol"?e:e+""}function QG(t,e){if(Ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sa=32,cS=function(t){function e(){return VG(this,e),YG(this,e,arguments)}return ZG(e,t),KG(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=sa/2,s=sa/6,o=sa/3,l=n.inactive?i:n.color;if(n.type==="plainline")return le.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:sa,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return le.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(sa,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return le.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(sa/8,"h").concat(sa,"v").concat(sa*3/4,"h").concat(-sa,"z"),className:"recharts-legend-icon"});if(le.isValidElement(n.legendIcon)){var c=HG({},n);return delete c.legendIcon,le.cloneElement(n.legendIcon,c)}return le.createElement(lS,{fill:l,cx:a,cy:a,size:sa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:sa,height:sa},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,g){var v=h.formatter||l,x=It(xp(xp({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",h.inactive));if(h.type==="none")return null;var y=bt(h.value)?null:h.value;Wa(!bt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=h.inactive?c:h.color;return le.createElement("li",cw({className:x,style:f,key:"legend-item-".concat(g)},Mc(n.props,h,g)),le.createElement(ew,{width:s,height:s,viewBox:u,style:p},n.renderIcon(h)),le.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},v?v(y,h,g):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return le.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(Y.PureComponent);xp(cS,"displayName","Legend");xp(cS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var eK=Py;function tK(){this.__data__=new eK,this.size=0}var rK=tK;function nK(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var iK=nK;function aK(t){return this.__data__.get(t)}var sK=aK;function oK(t){return this.__data__.has(t)}var lK=oK,cK=Py,uK=X_,dK=J_,fK=200;function hK(t,e){var r=this.__data__;if(r instanceof cK){var n=r.__data__;if(!uK||n.length<fK-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new dK(n)}return r.set(t,e),this.size=r.size,this}var pK=hK,mK=Py,gK=rK,vK=iK,yK=sK,bK=lK,xK=pK;function vf(t){var e=this.__data__=new mK(t);this.size=e.size}vf.prototype.clear=gK;vf.prototype.delete=vK;vf.prototype.get=yK;vf.prototype.has=bK;vf.prototype.set=xK;var B8=vf,wK="__lodash_hash_undefined__";function _K(t){return this.__data__.set(t,wK),this}var SK=_K;function jK(t){return this.__data__.has(t)}var AK=jK,NK=J_,kK=SK,OK=AK;function ov(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new NK;++e<r;)this.add(t[e])}ov.prototype.add=ov.prototype.push=kK;ov.prototype.has=OK;var F8=ov;function PK(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var U8=PK;function EK(t,e){return t.has(e)}var z8=EK,CK=F8,TK=U8,LK=z8,IK=1,$K=2;function RK(t,e,r,n,i,a){var s=r&IK,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,p=!0,h=r&$K?new CK:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var g=t[f],v=e[f];if(n)var x=s?n(v,g,f,e,t,a):n(g,v,f,t,e,a);if(x!==void 0){if(x)continue;p=!1;break}if(h){if(!TK(e,function(y,w){if(!LK(h,w)&&(g===y||i(g,y,r,n,a)))return h.push(w)})){p=!1;break}}else if(!(g===v||i(g,v,r,n,a))){p=!1;break}}return a.delete(t),a.delete(e),p}var q8=RK,MK=_s,DK=MK.Uint8Array,BK=DK;function FK(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var UK=FK;function zK(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var uS=zK,x3=um,w3=BK,qK=Y_,WK=q8,HK=UK,VK=uS,GK=1,KK=2,YK="[object Boolean]",XK="[object Date]",JK="[object Error]",ZK="[object Map]",QK="[object Number]",eY="[object RegExp]",tY="[object Set]",rY="[object String]",nY="[object Symbol]",iY="[object ArrayBuffer]",aY="[object DataView]",_3=x3?x3.prototype:void 0,Wb=_3?_3.valueOf:void 0;function sY(t,e,r,n,i,a,s){switch(r){case aY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case iY:return!(t.byteLength!=e.byteLength||!a(new w3(t),new w3(e)));case YK:case XK:case QK:return qK(+t,+e);case JK:return t.name==e.name&&t.message==e.message;case eY:case rY:return t==e+"";case ZK:var o=HK;case tY:var l=n&GK;if(o||(o=VK),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;n|=KK,s.set(t,e);var u=WK(o(t),o(e),n,i,a,s);return s.delete(t),u;case nY:if(Wb)return Wb.call(t)==Wb.call(e)}return!1}var oY=sY;function lY(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var W8=lY,cY=W8,uY=wi;function dY(t,e,r){var n=e(t);return uY(t)?n:cY(n,r(t))}var fY=dY;function hY(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}var pY=hY;function mY(){return[]}var gY=mY,vY=pY,yY=gY,bY=Object.prototype,xY=bY.propertyIsEnumerable,S3=Object.getOwnPropertySymbols,wY=S3?function(t){return t==null?[]:(t=Object(t),vY(S3(t),function(e){return xY.call(t,e)}))}:yY,_Y=wY;function SY(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var jY=SY,AY=yo,NY=bo,kY="[object Arguments]";function OY(t){return NY(t)&&AY(t)==kY}var PY=OY,j3=PY,EY=bo,H8=Object.prototype,CY=H8.hasOwnProperty,TY=H8.propertyIsEnumerable,LY=j3(function(){return arguments}())?j3:function(t){return EY(t)&&CY.call(t,"callee")&&!TY.call(t,"callee")},dS=LY,lv={exports:{}};function IY(){return!1}var $Y=IY;lv.exports;(function(t,e){var r=_s,n=$Y,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;t.exports=c})(lv,lv.exports);var V8=lv.exports,RY=9007199254740991,MY=/^(?:0|[1-9]\d*)$/;function DY(t,e){var r=typeof t;return e=e??RY,!!e&&(r=="number"||r!="symbol"&&MY.test(t))&&t>-1&&t%1==0&&t<e}var fS=DY,BY=9007199254740991;function FY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=BY}var hS=FY,UY=yo,zY=hS,qY=bo,WY="[object Arguments]",HY="[object Array]",VY="[object Boolean]",GY="[object Date]",KY="[object Error]",YY="[object Function]",XY="[object Map]",JY="[object Number]",ZY="[object Object]",QY="[object RegExp]",eX="[object Set]",tX="[object String]",rX="[object WeakMap]",nX="[object ArrayBuffer]",iX="[object DataView]",aX="[object Float32Array]",sX="[object Float64Array]",oX="[object Int8Array]",lX="[object Int16Array]",cX="[object Int32Array]",uX="[object Uint8Array]",dX="[object Uint8ClampedArray]",fX="[object Uint16Array]",hX="[object Uint32Array]",_r={};_r[aX]=_r[sX]=_r[oX]=_r[lX]=_r[cX]=_r[uX]=_r[dX]=_r[fX]=_r[hX]=!0;_r[WY]=_r[HY]=_r[nX]=_r[VY]=_r[iX]=_r[GY]=_r[KY]=_r[YY]=_r[XY]=_r[JY]=_r[ZY]=_r[QY]=_r[eX]=_r[tX]=_r[rX]=!1;function pX(t){return qY(t)&&zY(t.length)&&!!_r[UY(t)]}var mX=pX;function gX(t){return function(e){return t(e)}}var G8=gX,cv={exports:{}};cv.exports;(function(t,e){var r=t8,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(cv,cv.exports);var vX=cv.exports,yX=mX,bX=G8,A3=vX,N3=A3&&A3.isTypedArray,xX=N3?bX(N3):yX,K8=xX,wX=jY,_X=dS,SX=wi,jX=V8,AX=fS,NX=K8,kX=Object.prototype,OX=kX.hasOwnProperty;function PX(t,e){var r=SX(t),n=!r&&_X(t),i=!r&&!n&&jX(t),a=!r&&!n&&!i&&NX(t),s=r||n||i||a,o=s?wX(t.length,String):[],l=o.length;for(var c in t)(e||OX.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||AX(c,l)))&&o.push(c);return o}var EX=PX,CX=Object.prototype;function TX(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||CX;return t===r}var LX=TX;function IX(t,e){return function(r){return t(e(r))}}var Y8=IX,$X=Y8,RX=$X(Object.keys,Object),MX=RX,DX=LX,BX=MX,FX=Object.prototype,UX=FX.hasOwnProperty;function zX(t){if(!DX(t))return BX(t);var e=[];for(var r in Object(t))UX.call(t,r)&&r!="constructor"&&e.push(r);return e}var qX=zX,WX=K_,HX=hS;function VX(t){return t!=null&&HX(t.length)&&!WX(t)}var fm=VX,GX=EX,KX=qX,YX=fm;function XX(t){return YX(t)?GX(t):KX(t)}var Vy=XX,JX=fY,ZX=_Y,QX=Vy;function eJ(t){return JX(t,QX,ZX)}var tJ=eJ,k3=tJ,rJ=1,nJ=Object.prototype,iJ=nJ.hasOwnProperty;function aJ(t,e,r,n,i,a){var s=r&rJ,o=k3(t),l=o.length,c=k3(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var p=o[f];if(!(s?p in e:iJ.call(e,p)))return!1}var h=a.get(t),g=a.get(e);if(h&&g)return h==e&&g==t;var v=!0;a.set(t,e),a.set(e,t);for(var x=s;++f<l;){p=o[f];var y=t[p],w=e[p];if(n)var _=s?n(w,y,p,e,t,a):n(y,w,p,t,e,a);if(!(_===void 0?y===w||i(y,w,r,n,a):_)){v=!1;break}x||(x=p=="constructor")}if(v&&!x){var j=t.constructor,S=e.constructor;j!=S&&"constructor"in t&&"constructor"in e&&!(typeof j=="function"&&j instanceof j&&typeof S=="function"&&S instanceof S)&&(v=!1)}return a.delete(t),a.delete(e),v}var sJ=aJ,oJ=Yc,lJ=_s,cJ=oJ(lJ,"DataView"),uJ=cJ,dJ=Yc,fJ=_s,hJ=dJ(fJ,"Promise"),pJ=hJ,mJ=Yc,gJ=_s,vJ=mJ(gJ,"Set"),X8=vJ,yJ=Yc,bJ=_s,xJ=yJ(bJ,"WeakMap"),wJ=xJ,dw=uJ,fw=X_,hw=pJ,pw=X8,mw=wJ,J8=yo,yf=n8,O3="[object Map]",_J="[object Object]",P3="[object Promise]",E3="[object Set]",C3="[object WeakMap]",T3="[object DataView]",SJ=yf(dw),jJ=yf(fw),AJ=yf(hw),NJ=yf(pw),kJ=yf(mw),oc=J8;(dw&&oc(new dw(new ArrayBuffer(1)))!=T3||fw&&oc(new fw)!=O3||hw&&oc(hw.resolve())!=P3||pw&&oc(new pw)!=E3||mw&&oc(new mw)!=C3)&&(oc=function(t){var e=J8(t),r=e==_J?t.constructor:void 0,n=r?yf(r):"";if(n)switch(n){case SJ:return T3;case jJ:return O3;case AJ:return P3;case NJ:return E3;case kJ:return C3}return e});var OJ=oc,Hb=B8,PJ=q8,EJ=oY,CJ=sJ,L3=OJ,I3=wi,$3=V8,TJ=K8,LJ=1,R3="[object Arguments]",M3="[object Array]",Eg="[object Object]",IJ=Object.prototype,D3=IJ.hasOwnProperty;function $J(t,e,r,n,i,a){var s=I3(t),o=I3(e),l=s?M3:L3(t),c=o?M3:L3(e);l=l==R3?Eg:l,c=c==R3?Eg:c;var u=l==Eg,f=c==Eg,p=l==c;if(p&&$3(t)){if(!$3(e))return!1;s=!0,u=!1}if(p&&!u)return a||(a=new Hb),s||TJ(t)?PJ(t,e,r,n,i,a):EJ(t,e,l,r,n,i,a);if(!(r&LJ)){var h=u&&D3.call(t,"__wrapped__"),g=f&&D3.call(e,"__wrapped__");if(h||g){var v=h?t.value():t,x=g?e.value():e;return a||(a=new Hb),i(v,x,r,n,a)}}return p?(a||(a=new Hb),CJ(t,e,r,n,i,a)):!1}var RJ=$J,MJ=RJ,B3=bo;function Z8(t,e,r,n,i){return t===e?!0:t==null||e==null||!B3(t)&&!B3(e)?t!==t&&e!==e:MJ(t,e,r,n,Z8,i)}var pS=Z8,DJ=B8,BJ=pS,FJ=1,UJ=2;function zJ(t,e,r,n){var i=r.length,a=i,s=!n;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var l=o[0],c=t[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new DJ;if(n)var p=n(c,u,l,t,e,f);if(!(p===void 0?BJ(u,c,FJ|UJ,n,f):p))return!1}}return!0}var qJ=zJ,WJ=jl;function HJ(t){return t===t&&!WJ(t)}var Q8=HJ,VJ=Q8,GJ=Vy;function KJ(t){for(var e=GJ(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,VJ(i)]}return e}var YJ=KJ;function XJ(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var eL=XJ,JJ=qJ,ZJ=YJ,QJ=eL;function eZ(t){var e=ZJ(t);return e.length==1&&e[0][2]?QJ(e[0][0],e[0][1]):function(r){return r===t||JJ(r,t,e)}}var tZ=eZ;function rZ(t,e){return t!=null&&e in Object(t)}var nZ=rZ,iZ=l8,aZ=dS,sZ=wi,oZ=fS,lZ=hS,cZ=Cy;function uZ(t,e,r){e=iZ(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=cZ(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&lZ(i)&&oZ(s,i)&&(sZ(t)||aZ(t)))}var dZ=uZ,fZ=nZ,hZ=dZ;function pZ(t,e){return t!=null&&hZ(t,e,fZ)}var mZ=pZ,gZ=pS,vZ=c8,yZ=mZ,bZ=G_,xZ=Q8,wZ=eL,_Z=Cy,SZ=1,jZ=2;function AZ(t,e){return bZ(t)&&xZ(e)?wZ(_Z(t),e):function(r){var n=vZ(r,t);return n===void 0&&n===e?yZ(r,t):gZ(e,n,SZ|jZ)}}var NZ=AZ;function kZ(t){return t}var bf=kZ;function OZ(t){return function(e){return e==null?void 0:e[t]}}var PZ=OZ,EZ=eS;function CZ(t){return function(e){return EZ(e,t)}}var TZ=CZ,LZ=PZ,IZ=TZ,$Z=G_,RZ=Cy;function MZ(t){return $Z(t)?LZ(RZ(t)):IZ(t)}var DZ=MZ,BZ=tZ,FZ=NZ,UZ=bf,zZ=wi,qZ=DZ;function WZ(t){return typeof t=="function"?t:t==null?UZ:typeof t=="object"?zZ(t)?FZ(t[0],t[1]):BZ(t):qZ(t)}var Ss=WZ;function HZ(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var tL=HZ;function VZ(t){return t!==t}var GZ=VZ;function KZ(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var YZ=KZ,XZ=tL,JZ=GZ,ZZ=YZ;function QZ(t,e,r){return e===e?ZZ(t,e,r):XZ(t,JZ,r)}var eQ=QZ,tQ=eQ;function rQ(t,e){var r=t==null?0:t.length;return!!r&&tQ(t,e,0)>-1}var nQ=rQ;function iQ(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var aQ=iQ;function sQ(){}var oQ=sQ,Vb=X8,lQ=oQ,cQ=uS,uQ=1/0,dQ=Vb&&1/cQ(new Vb([,-0]))[1]==uQ?function(t){return new Vb(t)}:lQ,fQ=dQ,hQ=F8,pQ=nQ,mQ=aQ,gQ=z8,vQ=fQ,yQ=uS,bQ=200;function xQ(t,e,r){var n=-1,i=pQ,a=t.length,s=!0,o=[],l=o;if(r)s=!1,i=mQ;else if(a>=bQ){var c=e?null:vQ(t);if(c)return yQ(c);s=!1,i=gQ,l=new hQ}else l=e?[]:o;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;e&&l.push(f),o.push(u)}else i(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var wQ=xQ,_Q=Ss,SQ=wQ;function jQ(t,e){return t&&t.length?SQ(t,_Q(e)):[]}var AQ=jQ;const F3=ar(AQ);function rL(t,e,r){return e===!0?F3(t,r):bt(e)?F3(t,e):t}function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}var NQ=["ref"];function U3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U3(Object(r),!0).forEach(function(n){Gy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iL(n.key),n)}}function OQ(t,e,r){return e&&z3(t.prototype,e),r&&z3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PQ(t,e,r){return e=uv(e),EQ(t,nL()?Reflect.construct(e,r||[],uv(t).constructor):e.apply(t,r))}function EQ(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CQ(t)}function CQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nL=function(){return!!t})()}function uv(t){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uv(t)}function TQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gw(t,e)}function gw(t,e){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gw(t,e)}function Gy(t,e,r){return e=iL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iL(t){var e=LQ(t,"string");return Cd(e)=="symbol"?e:e+""}function LQ(t,e){if(Cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IQ(t,e){if(t==null)return{};var r=$Q(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $Q(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function RQ(t){return t.value}function MQ(t,e){if(le.isValidElement(t))return le.cloneElement(t,e);if(typeof t=="function")return le.createElement(t,e);e.ref;var r=IQ(e,NQ);return le.createElement(cS,r)}var q3=1,ro=function(t){function e(){var r;kQ(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=PQ(this,e,[].concat(i)),Gy(r,"lastBoundingBox",{width:-1,height:-1}),r}return TQ(e,t),OQ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>q3||Math.abs(i.height-this.lastBoundingBox.height)>q3)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Fs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((c||0)-h.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();p={top:((u||0)-g.height)/2}}else p=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Fs(Fs({},f),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=Fs(Fs({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return le.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},MQ(a,Fs(Fs({},this.props),{},{payload:rL(u,c,RQ)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Fs(Fs({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&Be(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(Y.PureComponent);Gy(ro,"displayName","Legend");Gy(ro,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var W3=um,DQ=dS,BQ=wi,H3=W3?W3.isConcatSpreadable:void 0;function FQ(t){return BQ(t)||DQ(t)||!!(H3&&t&&t[H3])}var UQ=FQ,zQ=W8,qQ=UQ;function aL(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=qQ),i||(i=[]);++a<s;){var o=t[a];e>0&&r(o)?e>1?aL(o,e-1,r,n,i):zQ(i,o):n||(i[i.length]=o)}return i}var sL=aL;function WQ(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++i];if(r(a[l],l,a)===!1)break}return e}}var HQ=WQ,VQ=HQ,GQ=VQ(),KQ=GQ,YQ=KQ,XQ=Vy;function JQ(t,e){return t&&YQ(t,e,XQ)}var oL=JQ,ZQ=fm;function QQ(t,e){return function(r,n){if(r==null)return r;if(!ZQ(r))return t(r,n);for(var i=r.length,a=e?i:-1,s=Object(r);(e?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var eee=QQ,tee=oL,ree=eee,nee=ree(tee),mS=nee,iee=mS,aee=fm;function see(t,e){var r=-1,n=aee(t)?Array(t.length):[];return iee(t,function(i,a,s){n[++r]=e(i,a,s)}),n}var lL=see;function oee(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var lee=oee,V3=df;function cee(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=V3(t),s=e!==void 0,o=e===null,l=e===e,c=V3(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&t<e||c&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}var uee=cee,dee=uee;function fee(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var l=dee(i[n],a[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var hee=fee,Gb=Q_,pee=eS,mee=Ss,gee=lL,vee=lee,yee=G8,bee=hee,xee=bf,wee=wi;function _ee(t,e,r){e.length?e=Gb(e,function(a){return wee(a)?function(s){return pee(s,a.length===1?a[0]:a)}:a}):e=[xee];var n=-1;e=Gb(e,yee(mee));var i=gee(t,function(a,s,o){var l=Gb(e,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return vee(i,function(a,s){return bee(a,s,r)})}var See=_ee;function jee(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Aee=jee,Nee=Aee,G3=Math.max;function kee(t,e,r){return e=G3(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=G3(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),Nee(t,this,o)}}var Oee=kee;function Pee(t){return function(){return t}}var Eee=Pee,Cee=Yc,Tee=function(){try{var t=Cee(Object,"defineProperty");return t({},"",{}),t}catch{}}(),cL=Tee,Lee=Eee,K3=cL,Iee=bf,$ee=K3?function(t,e){return K3(t,"toString",{configurable:!0,enumerable:!1,value:Lee(e),writable:!0})}:Iee,Ree=$ee,Mee=800,Dee=16,Bee=Date.now;function Fee(t){var e=0,r=0;return function(){var n=Bee(),i=Dee-(n-r);if(r=n,i>0){if(++e>=Mee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Uee=Fee,zee=Ree,qee=Uee,Wee=qee(zee),Hee=Wee,Vee=bf,Gee=Oee,Kee=Hee;function Yee(t,e){return Kee(Gee(t,e,Vee),t+"")}var Xee=Yee,Jee=Y_,Zee=fm,Qee=fS,ete=jl;function tte(t,e,r){if(!ete(r))return!1;var n=typeof e;return(n=="number"?Zee(r)&&Qee(e,r.length):n=="string"&&e in r)?Jee(r[e],t):!1}var Ky=tte,rte=sL,nte=See,ite=Xee,Y3=Ky,ate=ite(function(t,e){if(t==null)return[];var r=e.length;return r>1&&Y3(t,e[0],e[1])?e=[]:r>2&&Y3(e[0],e[1],e[2])&&(e=[e[0]]),nte(t,rte(e,1),[])}),ste=ate;const gS=ar(ste);function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vw.apply(this,arguments)}function ote(t,e){return dte(t)||ute(t,e)||cte(t,e)||lte()}function lte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cte(t,e){if(t){if(typeof t=="string")return X3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X3(t,e)}}function X3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ute(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function dte(t){if(Array.isArray(t))return t}function J3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J3(Object(r),!0).forEach(function(n){fte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fte(t,e,r){return e=hte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hte(t){var e=pte(t,"string");return wp(e)=="symbol"?e:e+""}function pte(t,e){if(wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mte(t){return Array.isArray(t)&&xn(t[0])&&xn(t[1])?t.join(" ~ "):t}var gte=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,p=e.itemSorter,h=e.wrapperClassName,g=e.labelClassName,v=e.label,x=e.labelFormatter,y=e.accessibilityLayer,w=y===void 0?!1:y,_=function(){if(u&&u.length){var T={padding:0,margin:0},D=(p?gS(u,p):u).map(function(F,B){if(F.type==="none")return null;var K=Kb({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},o),H=F.formatter||f||mte,$=F.value,J=F.name,ie=$,se=J;if(H&&ie!=null&&se!=null){var P=H($,J,F,B,u);if(Array.isArray(P)){var z=ote(P,2);ie=z[0],se=z[1]}else ie=P}return le.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:K},xn(se)?le.createElement("span",{className:"recharts-tooltip-item-name"},se):null,xn(se)?le.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,le.createElement("span",{className:"recharts-tooltip-item-value"},ie),le.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return le.createElement("ul",{className:"recharts-tooltip-item-list",style:T},D)}return null},j=Kb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=Kb({margin:0},c),k=!Ot(v),E=k?v:"",L=It("recharts-default-tooltip",h),I=It("recharts-tooltip-label",g);k&&x&&u!==void 0&&u!==null&&(E=x(v,u));var U=w?{role:"status","aria-live":"assertive"}:{};return le.createElement("div",vw({className:L,style:j},U),le.createElement("p",{className:I,style:S},le.isValidElement(E)?E:"".concat(E)),_())};function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function Cg(t,e,r){return e=vte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vte(t){var e=yte(t,"string");return _p(e)=="symbol"?e:e+""}function yte(t,e){if(_p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ch="recharts-tooltip-wrapper",bte={visibility:"hidden"};function xte(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return It(ch,Cg(Cg(Cg(Cg({},"".concat(ch,"-right"),Be(r)&&e&&Be(e.x)&&r>=e.x),"".concat(ch,"-left"),Be(r)&&e&&Be(e.x)&&r<e.x),"".concat(ch,"-bottom"),Be(n)&&e&&Be(e.y)&&n>=e.y),"".concat(ch,"-top"),Be(n)&&e&&Be(e.y)&&n<e.y))}function Z3(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&Be(a[n]))return a[n];var u=r[n]-o-i,f=r[n]+i;if(e[n])return s[n]?u:f;if(s[n]){var p=u,h=l[n];return p<h?Math.max(f,l[n]):Math.max(u,l[n])}var g=f+o,v=l[n]+c;return g>v?Math.max(u,l[n]):Math.max(f,l[n])}function wte(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function _te(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=Z3({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=Z3({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=wte({translateX:u,translateY:f,useTranslate3d:o})):c=bte,{cssProperties:c,cssClasses:xte({translateX:u,translateY:f,coordinate:r})}}function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function Q3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function e4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(r),!0).forEach(function(n){bw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ste(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dL(n.key),n)}}function Ate(t,e,r){return e&&jte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nte(t,e,r){return e=dv(e),kte(t,uL()?Reflect.construct(e,r||[],dv(t).constructor):e.apply(t,r))}function kte(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ote(t)}function Ote(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uL=function(){return!!t})()}function dv(t){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dv(t)}function Pte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yw(t,e)}function yw(t,e){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yw(t,e)}function bw(t,e,r){return e=dL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dL(t){var e=Ete(t,"string");return Td(e)=="symbol"?e:e+""}function Ete(t,e){if(Td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var t4=1,Cte=function(t){function e(){var r;Ste(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Nte(this,e,[].concat(i)),bw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),bw(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return Pte(e,t),Ate(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>t4||Math.abs(n.height-this.state.lastBoundingBox.height)>t4)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,h=i.offset,g=i.position,v=i.reverseDirection,x=i.useTranslate3d,y=i.viewBox,w=i.wrapperStyle,_=_te({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:h,position:g,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),j=_.cssClasses,S=_.cssProperties,k=e4(e4({transition:p&&a?"transform ".concat(o,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return le.createElement("div",{tabIndex:-1,className:j,style:k,ref:function(L){n.wrapperNode=L}},c)}}])}(Y.PureComponent),Tte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Xc={isSsr:Tte()};function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function r4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function n4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r4(Object(r),!0).forEach(function(n){vS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ite(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hL(n.key),n)}}function $te(t,e,r){return e&&Ite(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rte(t,e,r){return e=fv(e),Mte(t,fL()?Reflect.construct(e,r||[],fv(t).constructor):e.apply(t,r))}function Mte(t,e){if(e&&(Ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dte(t)}function Dte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fL=function(){return!!t})()}function fv(t){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fv(t)}function Bte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xw(t,e)}function xw(t,e){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xw(t,e)}function vS(t,e,r){return e=hL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hL(t){var e=Fte(t,"string");return Ld(e)=="symbol"?e:e+""}function Fte(t,e){if(Ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ute(t){return t.dataKey}function zte(t,e){return le.isValidElement(t)?le.cloneElement(t,e):typeof t=="function"?le.createElement(t,e):le.createElement(gte,e)}var Ri=function(t){function e(){return Lte(this,e),Rte(this,e,arguments)}return Bte(e,t),$te(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,p=i.isAnimationActive,h=i.offset,g=i.payload,v=i.payloadUniqBy,x=i.position,y=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,j=i.wrapperStyle,S=g??[];f&&S.length&&(S=rL(g.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),v,Ute));var k=S.length>0;return le.createElement(Cte,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:p,active:a,coordinate:u,hasPayload:k,offset:h,position:x,reverseDirection:y,useTranslate3d:w,viewBox:_,wrapperStyle:j},zte(c,n4(n4({},this.props),{},{payload:S})))}}])}(Y.PureComponent);vS(Ri,"displayName","Tooltip");vS(Ri,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Xc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var qte=_s,Wte=function(){return qte.Date.now()},Hte=Wte,Vte=/\s/;function Gte(t){for(var e=t.length;e--&&Vte.test(t.charAt(e)););return e}var Kte=Gte,Yte=Kte,Xte=/^\s+/;function Jte(t){return t&&t.slice(0,Yte(t)+1).replace(Xte,"")}var Zte=Jte,Qte=Zte,i4=jl,ere=df,a4=NaN,tre=/^[-+]0x[0-9a-f]+$/i,rre=/^0b[01]+$/i,nre=/^0o[0-7]+$/i,ire=parseInt;function are(t){if(typeof t=="number")return t;if(ere(t))return a4;if(i4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=i4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Qte(t);var r=rre.test(t);return r||nre.test(t)?ire(t.slice(2),r?2:8):tre.test(t)?a4:+t}var pL=are,sre=jl,Yb=Hte,s4=pL,ore="Expected a function",lre=Math.max,cre=Math.min;function ure(t,e,r){var n,i,a,s,o,l,c=0,u=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(ore);e=s4(e)||0,sre(r)&&(u=!!r.leading,f="maxWait"in r,a=f?lre(s4(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p);function h(k){var E=n,L=i;return n=i=void 0,c=k,s=t.apply(L,E),s}function g(k){return c=k,o=setTimeout(y,e),u?h(k):s}function v(k){var E=k-l,L=k-c,I=e-E;return f?cre(I,a-L):I}function x(k){var E=k-l,L=k-c;return l===void 0||E>=e||E<0||f&&L>=a}function y(){var k=Yb();if(x(k))return w(k);o=setTimeout(y,v(k))}function w(k){return o=void 0,p&&n?h(k):(n=i=void 0,s)}function _(){o!==void 0&&clearTimeout(o),c=0,n=l=i=o=void 0}function j(){return o===void 0?s:w(Yb())}function S(){var k=Yb(),E=x(k);if(n=arguments,i=this,l=k,E){if(o===void 0)return g(l);if(f)return clearTimeout(o),o=setTimeout(y,e),h(l)}return o===void 0&&(o=setTimeout(y,e)),s}return S.cancel=_,S.flush=j,S}var dre=ure,fre=dre,hre=jl,pre="Expected a function";function mre(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(pre);return hre(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),fre(t,e,{leading:n,maxWait:e,trailing:i})}var gre=mre;const mL=ar(gre);function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function o4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o4(Object(r),!0).forEach(function(n){vre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vre(t,e,r){return e=yre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yre(t){var e=bre(t,"string");return Sp(e)=="symbol"?e:e+""}function bre(t,e){if(Sp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xre(t,e){return jre(t)||Sre(t,e)||_re(t,e)||wre()}function wre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _re(t,e){if(t){if(typeof t=="string")return l4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l4(t,e)}}function l4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function jre(t){if(Array.isArray(t))return t}var Yy=Y.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,p=t.maxHeight,h=t.children,g=t.debounce,v=g===void 0?0:g,x=t.id,y=t.className,w=t.onResize,_=t.style,j=_===void 0?{}:_,S=Y.useRef(null),k=Y.useRef();k.current=w,Y.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=Y.useState({containerWidth:i.width,containerHeight:i.height}),L=xre(E,2),I=L[0],U=L[1],O=Y.useCallback(function(D,F){U(function(B){var K=Math.round(D),H=Math.round(F);return B.containerWidth===K&&B.containerHeight===H?B:{containerWidth:K,containerHeight:H}})},[]);Y.useEffect(function(){var D=function(J){var ie,se=J[0].contentRect,P=se.width,z=se.height;O(P,z),(ie=k.current)===null||ie===void 0||ie.call(k,P,z)};v>0&&(D=mL(D,v,{trailing:!0,leading:!1}));var F=new ResizeObserver(D),B=S.current.getBoundingClientRect(),K=B.width,H=B.height;return O(K,H),F.observe(S.current),function(){F.disconnect()}},[O,v]);var T=Y.useMemo(function(){var D=I.containerWidth,F=I.containerHeight;if(D<0||F<0)return null;Wa(bc(s)||bc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Wa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=bc(s)?D:s,K=bc(l)?F:l;r&&r>0&&(B?K=B/r:K&&(B=K*r),p&&K>p&&(K=p)),Wa(B>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,K,s,l,u,f,r);var H=!Array.isArray(h)&&to(h.type).endsWith("Chart");return le.Children.map(h,function($){return le.isValidElement($)?Y.cloneElement($,Tg({width:B,height:K},H?{style:Tg({height:"100%",width:"100%",maxHeight:K,maxWidth:B},$.props.style)}:{})):$})},[r,h,l,p,f,u,I,s]);return le.createElement("div",{id:x?"".concat(x):void 0,className:It("recharts-responsive-container",y),style:Tg(Tg({},j),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:p}),ref:S},T)}),hm=function(e){return null};hm.displayName="Cell";function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function c4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ww(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c4(Object(r),!0).forEach(function(n){Are(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Are(t,e,r){return e=Nre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nre(t){var e=kre(t,"string");return jp(e)=="symbol"?e:e+""}function kre(t,e){if(jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ju={widthCache:{},cacheCount:0},Ore=2e3,Pre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},u4="recharts_measurement_span";function Ere(t){var e=ww({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Bh=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Xc.isSsr)return{width:0,height:0};var n=Ere(r),i=JSON.stringify({text:e,copyStyle:n});if(ju.widthCache[i])return ju.widthCache[i];try{var a=document.getElementById(u4);a||(a=document.createElement("span"),a.setAttribute("id",u4),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=ww(ww({},Pre),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return ju.widthCache[i]=l,++ju.cacheCount>Ore&&(ju.cacheCount=0,ju.widthCache={}),l}catch{return{width:0,height:0}}},Cre=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function hv(t,e){return $re(t)||Ire(t,e)||Lre(t,e)||Tre()}function Tre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lre(t,e){if(t){if(typeof t=="string")return d4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d4(t,e)}}function d4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ire(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function $re(t){if(Array.isArray(t))return t}function Rre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dre(n.key),n)}}function Mre(t,e,r){return e&&f4(t.prototype,e),r&&f4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dre(t){var e=Bre(t,"string");return Ap(e)=="symbol"?e:e+""}function Bre(t,e){if(Ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var h4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,p4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ure=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zre=Object.keys(gL),Ku="NaN";function qre(t,e){return t*gL[e]}var Lg=function(){function t(e,r){Rre(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Fre.test(r)&&(this.num=NaN,this.unit=""),zre.includes(r)&&(this.num=qre(e,r),this.unit="px")}return Mre(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Ure.exec(r))!==null&&n!==void 0?n:[],a=hv(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function vL(t){if(t.includes(Ku))return Ku;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=h4.exec(e))!==null&&r!==void 0?r:[],i=hv(n,4),a=i[1],s=i[2],o=i[3],l=Lg.parse(a??""),c=Lg.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Ku;e=e.replace(h4,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=p4.exec(e))!==null&&f!==void 0?f:[],h=hv(p,4),g=h[1],v=h[2],x=h[3],y=Lg.parse(g??""),w=Lg.parse(x??""),_=v==="+"?y.add(w):y.subtract(w);if(_.isNaN())return Ku;e=e.replace(p4,_.toString())}return e}var m4=/\(([^()]*)\)/;function Wre(t){for(var e=t;e.includes("(");){var r=m4.exec(e),n=hv(r,2),i=n[1];e=e.replace(m4,vL(i))}return e}function Hre(t){var e=t.replace(/\s+/g,"");return e=Wre(e),e=vL(e),e}function Vre(t){try{return Hre(t)}catch{return Ku}}function Xb(t){var e=Vre(t.slice(5,-1));return e===Ku?"":e}var Gre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Kre=["dx","dy","angle","className","breakAll"];function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_w.apply(this,arguments)}function g4(t,e){if(t==null)return{};var r=Yre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function v4(t,e){return Qre(t)||Zre(t,e)||Jre(t,e)||Xre()}function Xre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jre(t,e){if(t){if(typeof t=="string")return y4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y4(t,e)}}function y4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Qre(t){if(Array.isArray(t))return t}var yL=/[ \f\n\r\t\v\u2028\u2029]+/,bL=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Ot(r)||(n?a=r.toString().split(""):a=r.toString().split(yL));var s=a.map(function(l){return{word:l,width:Bh(l,i).width}}),o=n?0:Bh("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},ene=function(e,r,n,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=Be(s),f=o,p=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(K,H){var $=H.word,J=H.width,ie=K[K.length-1];if(ie&&(i==null||a||ie.width+J+n<Number(i)))ie.words.push($),ie.width+=J+n;else{var se={words:[$],width:J};K.push(se)}return K},[])},h=p(r),g=function(B){return B.reduce(function(K,H){return K.width>H.width?K:H})};if(!u)return h;for(var v="",x=function(B){var K=f.slice(0,B),H=bL({breakAll:c,style:l,children:K+v}).wordsWithComputedWidth,$=p(H),J=$.length>s||g($).width>Number(i);return[J,$]},y=0,w=f.length-1,_=0,j;y<=w&&_<=f.length-1;){var S=Math.floor((y+w)/2),k=S-1,E=x(k),L=v4(E,2),I=L[0],U=L[1],O=x(S),T=v4(O,1),D=T[0];if(!I&&!D&&(y=S+1),I&&D&&(w=S-1),!I&&D){j=U;break}_++}return j||h},b4=function(e){var r=Ot(e)?[]:e.toString().split(yL);return[{words:r}]},tne=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!Xc.isSsr){var l,c,u=bL({breakAll:s,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,p=u.spaceWidth;l=f,c=p}else return b4(i);return ene({breakAll:s,children:i,maxLines:o,style:a},l,c,r,n)}return b4(i)},x4="#808080",Dc=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,p=e.textAnchor,h=p===void 0?"start":p,g=e.verticalAnchor,v=g===void 0?"end":g,x=e.fill,y=x===void 0?x4:x,w=g4(e,Gre),_=Y.useMemo(function(){return tne({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),j=w.dx,S=w.dy,k=w.angle,E=w.className,L=w.breakAll,I=g4(w,Kre);if(!xn(n)||!xn(a))return null;var U=n+(Be(j)?j:0),O=a+(Be(S)?S:0),T;switch(v){case"start":T=Xb("calc(".concat(c,")"));break;case"middle":T=Xb("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:T=Xb("calc(".concat(_.length-1," * -").concat(o,")"));break}var D=[];if(f){var F=_[0].width,B=w.width;D.push("scale(".concat((Be(B)?B/F:1)/F,")"))}return k&&D.push("rotate(".concat(k,", ").concat(U,", ").concat(O,")")),D.length&&(I.transform=D.join(" ")),le.createElement("text",_w({},ft(I,!0),{x:U,y:O,className:It("recharts-text",E),textAnchor:h,fill:y.includes("url")?x4:y}),_.map(function(K,H){var $=K.words.join(L?"":" ");return le.createElement("tspan",{x:U,dy:H===0?T:o,key:"".concat($,"-").concat(H)},$)}))};function hl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yS(t){let e,r,n;t.length!==2?(e=hl,r=(o,l)=>hl(t(o),l),n=(o,l)=>t(o)-l):(e=t===hl||t===rne?t:nne,r=t,n=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function nne(){return 0}function xL(t){return t===null?NaN:+t}function*ine(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const ane=yS(hl),pm=ane.right;yS(xL).center;class w4 extends Map{constructor(e,r=lne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(_4(this,e))}has(e){return super.has(_4(this,e))}set(e,r){return super.set(sne(this,e),r)}delete(e){return super.delete(one(this,e))}}function _4({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function sne({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function one({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function lne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function cne(t=hl){if(t===hl)return wL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function wL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const une=Math.sqrt(50),dne=Math.sqrt(10),fne=Math.sqrt(2);function pv(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=une?10:a>=dne?5:a>=fne?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=r&&r<2?pv(t,e,r*2):[o,l,c]}function Sw(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?pv(e,t,r):pv(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function jw(t,e,r){return e=+e,t=+t,r=+r,pv(t,e,r)[2]}function Aw(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?jw(e,t,r):jw(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function S4(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function j4(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function _L(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?wL:cne(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(e-c*f/l+p)),g=Math.min(n,Math.floor(e+(l-c)*f/l+p));_L(t,e,h,g,i)}const a=t[e];let s=r,o=n;for(uh(t,r,e),i(t[n],a)>0&&uh(t,r,n);s<o;){for(uh(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?uh(t,r,o):(++o,uh(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function uh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function hne(t,e,r){if(t=Float64Array.from(ine(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return j4(t);if(e>=1)return S4(t);var n,i=(n-1)*e,a=Math.floor(i),s=S4(_L(t,a).subarray(0,a+1)),o=j4(t.subarray(a+1));return s+(o-s)*(i-a)}}function pne(t,e,r=xL){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function mne(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function wa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function xo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Nw=Symbol("implicit");function bS(){var t=new w4,e=[],r=[],n=Nw;function i(a){let s=t.get(a);if(s===void 0){if(n!==Nw)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new w4;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return bS(e,r).unknown(n)},wa.apply(i,arguments),i}function Np(){var t=bS().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var p=e().length,h=i<n,g=h?i:n,v=h?n:i;a=(v-g)/Math.max(1,p-l+c*2),o&&(a=Math.floor(a)),g+=(v-g-a*(p-l))*u,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var x=mne(p).map(function(y){return g+a*y});return r(h?x.reverse():x)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(p){return arguments.length?(o=!!p,f()):o},t.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},t.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},t.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},t.copy=function(){return Np(e(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},wa.apply(f(),arguments)}function SL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return SL(e())},t}function Fh(){return SL(Np.apply(null,arguments).paddingInner(1))}function xS(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function jL(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function mm(){}var kp=.7,mv=1/kp,cd="\\s*([+-]?\\d+)\\s*",Op="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gne=/^#([0-9a-f]{3,8})$/,vne=new RegExp(`^rgb\\(${cd},${cd},${cd}\\)$`),yne=new RegExp(`^rgb\\(${vs},${vs},${vs}\\)$`),bne=new RegExp(`^rgba\\(${cd},${cd},${cd},${Op}\\)$`),xne=new RegExp(`^rgba\\(${vs},${vs},${vs},${Op}\\)$`),wne=new RegExp(`^hsl\\(${Op},${vs},${vs}\\)$`),_ne=new RegExp(`^hsla\\(${Op},${vs},${vs},${Op}\\)$`),A4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xS(mm,Pp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:N4,formatHex:N4,formatHex8:Sne,formatHsl:jne,formatRgb:k4,toString:k4});function N4(){return this.rgb().formatHex()}function Sne(){return this.rgb().formatHex8()}function jne(){return AL(this).formatHsl()}function k4(){return this.rgb().formatRgb()}function Pp(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=gne.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?O4(e):r===3?new gi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Ig(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Ig(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=vne.exec(t))?new gi(e[1],e[2],e[3],1):(e=yne.exec(t))?new gi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bne.exec(t))?Ig(e[1],e[2],e[3],e[4]):(e=xne.exec(t))?Ig(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=wne.exec(t))?C4(e[1],e[2]/100,e[3]/100,1):(e=_ne.exec(t))?C4(e[1],e[2]/100,e[3]/100,e[4]):A4.hasOwnProperty(t)?O4(A4[t]):t==="transparent"?new gi(NaN,NaN,NaN,0):null}function O4(t){return new gi(t>>16&255,t>>8&255,t&255,1)}function Ig(t,e,r,n){return n<=0&&(t=e=r=NaN),new gi(t,e,r,n)}function Ane(t){return t instanceof mm||(t=Pp(t)),t?(t=t.rgb(),new gi(t.r,t.g,t.b,t.opacity)):new gi}function kw(t,e,r,n){return arguments.length===1?Ane(t):new gi(t,e,r,n??1)}function gi(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}xS(gi,kw,jL(mm,{brighter(t){return t=t==null?mv:Math.pow(mv,t),new gi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?kp:Math.pow(kp,t),new gi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new gi(Nc(this.r),Nc(this.g),Nc(this.b),gv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:P4,formatHex:P4,formatHex8:Nne,formatRgb:E4,toString:E4}));function P4(){return`#${xc(this.r)}${xc(this.g)}${xc(this.b)}`}function Nne(){return`#${xc(this.r)}${xc(this.g)}${xc(this.b)}${xc((isNaN(this.opacity)?1:this.opacity)*255)}`}function E4(){const t=gv(this.opacity);return`${t===1?"rgb(":"rgba("}${Nc(this.r)}, ${Nc(this.g)}, ${Nc(this.b)}${t===1?")":`, ${t})`}`}function gv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Nc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xc(t){return t=Nc(t),(t<16?"0":"")+t.toString(16)}function C4(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Fa(t,e,r,n)}function AL(t){if(t instanceof Fa)return new Fa(t.h,t.s,t.l,t.opacity);if(t instanceof mm||(t=Pp(t)),!t)return new Fa;if(t instanceof Fa)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Fa(s,o,l,t.opacity)}function kne(t,e,r,n){return arguments.length===1?AL(t):new Fa(t,e,r,n??1)}function Fa(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}xS(Fa,kne,jL(mm,{brighter(t){return t=t==null?mv:Math.pow(mv,t),new Fa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?kp:Math.pow(kp,t),new Fa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new gi(Jb(t>=240?t-240:t+120,i,n),Jb(t,i,n),Jb(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Fa(T4(this.h),$g(this.s),$g(this.l),gv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=gv(this.opacity);return`${t===1?"hsl(":"hsla("}${T4(this.h)}, ${$g(this.s)*100}%, ${$g(this.l)*100}%${t===1?")":`, ${t})`}`}}));function T4(t){return t=(t||0)%360,t<0?t+360:t}function $g(t){return Math.max(0,Math.min(1,t||0))}function Jb(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const wS=t=>()=>t;function One(t,e){return function(r){return t+r*e}}function Pne(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Ene(t){return(t=+t)==1?NL:function(e,r){return r-e?Pne(e,r,t):wS(isNaN(e)?r:e)}}function NL(t,e){var r=e-t;return r?One(t,r):wS(isNaN(t)?e:t)}const L4=function t(e){var r=Ene(e);function n(i,a){var s=r((i=kw(i)).r,(a=kw(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),c=NL(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function Cne(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Tne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Lne(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=xf(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function Ine(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function vv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function $ne(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=xf(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Ow=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zb=new RegExp(Ow.source,"g");function Rne(t){return function(){return t}}function Mne(t){return function(e){return t(e)+""}}function Dne(t,e){var r=Ow.lastIndex=Zb.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=Ow.exec(t))&&(i=Zb.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:vv(n,i)})),r=Zb.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Mne(l[0].x):Rne(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function xf(t,e){var r=typeof e,n;return e==null||r==="boolean"?wS(e):(r==="number"?vv:r==="string"?(n=Pp(e))?(e=n,L4):Dne:e instanceof Pp?L4:e instanceof Date?Ine:Tne(e)?Cne:Array.isArray(e)?Lne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$ne:vv)(t,e)}function _S(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Bne(t,e){e===void 0&&(e=t,t=xf);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function Fne(t){return function(){return t}}function yv(t){return+t}var I4=[0,1];function si(t){return t}function Pw(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Fne(isNaN(e)?NaN:.5)}function Une(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function zne(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=Pw(i,n),a=r(s,a)):(n=Pw(n,i),a=r(a,s)),function(o){return a(n(o))}}function qne(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=Pw(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=pm(t,o,1,n)-1;return a[l](i[l](o))}}function gm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xy(){var t=I4,e=I4,r=xf,n,i,a,s=si,o,l,c;function u(){var p=Math.min(t.length,e.length);return s!==si&&(s=Une(t[0],t[p-1])),o=p>2?qne:zne,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=o(t.map(n),e,r)))(n(s(p)))}return f.invert=function(p){return s(i((c||(c=o(e,t.map(n),vv)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,yv),u()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),u()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),r=_S,u()},f.clamp=function(p){return arguments.length?(s=p?!0:si,u()):s!==si},f.interpolate=function(p){return arguments.length?(r=p,u()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,h){return n=p,i=h,u()}}function SS(){return Xy()(si,si)}function Wne(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function bv(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Id(t){return t=bv(Math.abs(t)),t?t[1]:NaN}function Hne(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Vne(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Gne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ep(t){if(!(e=Gne.exec(t)))throw new Error("invalid format: "+t);var e;return new jS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ep.prototype=jS.prototype;function jS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}jS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kne(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var kL;function Yne(t,e){var r=bv(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(kL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+bv(t,Math.max(0,e+a-1))[0]}function $4(t,e){var r=bv(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const R4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Wne,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$4(t*100,e),r:$4,s:Yne,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function M4(t){return t}var D4=Array.prototype.map,B4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Xne(t){var e=t.grouping===void 0||t.thousands===void 0?M4:Hne(D4.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?M4:Vne(D4.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Ep(f);var p=f.fill,h=f.align,g=f.sign,v=f.symbol,x=f.zero,y=f.width,w=f.comma,_=f.precision,j=f.trim,S=f.type;S==="n"?(w=!0,S="g"):R4[S]||(_===void 0&&(_=12),j=!0,S="g"),(x||p==="0"&&h==="=")&&(x=!0,p="0",h="=");var k=v==="$"?r:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=v==="$"?n:/[%p]/.test(S)?s:"",L=R4[S],I=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function U(O){var T=k,D=E,F,B,K;if(S==="c")D=L(O)+D,O="";else{O=+O;var H=O<0||1/O<0;if(O=isNaN(O)?l:L(Math.abs(O),_),j&&(O=Kne(O)),H&&+O==0&&g!=="+"&&(H=!1),T=(H?g==="("?g:o:g==="-"||g==="("?"":g)+T,D=(S==="s"?B4[8+kL/3]:"")+D+(H&&g==="("?")":""),I){for(F=-1,B=O.length;++F<B;)if(K=O.charCodeAt(F),48>K||K>57){D=(K===46?i+O.slice(F+1):O.slice(F))+D,O=O.slice(0,F);break}}}w&&!x&&(O=e(O,1/0));var $=T.length+O.length+D.length,J=$<y?new Array(y-$+1).join(p):"";switch(w&&x&&(O=e(J+O,J.length?y-D.length:1/0),J=""),h){case"<":O=T+O+D+J;break;case"=":O=T+J+O+D;break;case"^":O=J.slice(0,$=J.length>>1)+T+O+D+J.slice($);break;default:O=J+T+O+D;break}return a(O)}return U.toString=function(){return f+""},U}function u(f,p){var h=c((f=Ep(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Id(p)/3)))*3,v=Math.pow(10,-g),x=B4[8+g/3];return function(y){return h(v*y)+x}}return{format:c,formatPrefix:u}}var Rg,AS,OL;Jne({thousands:",",grouping:[3],currency:["$",""]});function Jne(t){return Rg=Xne(t),AS=Rg.format,OL=Rg.formatPrefix,Rg}function Zne(t){return Math.max(0,-Id(Math.abs(t)))}function Qne(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Id(e)/3)))*3-Id(Math.abs(t)))}function eie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Id(e)-Id(t))+1}function PL(t,e,r,n){var i=Aw(t,e,r),a;switch(n=Ep(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Qne(i,s))&&(n.precision=a),OL(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=eie(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Zne(i))&&(n.precision=a-(n.type==="%")*2);break}}return AS(n)}function Al(t){var e=t.domain;return t.ticks=function(r){var n=e();return Sw(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return PL(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=jw(s,o,r),c===l)return n[i]=s,n[a]=o,e(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function xv(){var t=SS();return t.copy=function(){return gm(t,xv())},wa.apply(t,arguments),Al(t)}function EL(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,yv),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return EL(t).unknown(e)},t=arguments.length?Array.from(t,yv):[0,1],Al(r)}function CL(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function F4(t){return Math.log(t)}function U4(t){return Math.exp(t)}function tie(t){return-Math.log(-t)}function rie(t){return-Math.exp(-t)}function nie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function iie(t){return t===10?nie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function aie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function z4(t){return(e,r)=>-t(-e,r)}function NS(t){const e=t(F4,U4),r=e.domain;let n=10,i,a;function s(){return i=aie(n),a=iie(n),r()[0]<0?(i=z4(i),a=z4(a),t(tie,rie)):t(F4,U4),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let p=i(c),h=i(u),g,v;const x=o==null?10:+o;let y=[];if(!(n%1)&&h-p<x){if(p=Math.floor(p),h=Math.ceil(h),c>0){for(;p<=h;++p)for(g=1;g<n;++g)if(v=p<0?g/a(-p):g*a(p),!(v<c)){if(v>u)break;y.push(v)}}else for(;p<=h;++p)for(g=n-1;g>=1;--g)if(v=p>0?g/a(-p):g*a(p),!(v<c)){if(v>u)break;y.push(v)}y.length*2<x&&(y=Sw(c,u,x))}else y=Sw(p,h,Math.min(h-p,x)).map(a);return f?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Ep(l)).precision==null&&(l.trim=!0),l=AS(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},e.nice=()=>r(CL(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function TL(){const t=NS(Xy()).domain([1,10]);return t.copy=()=>gm(t,TL()).base(t.base()),wa.apply(t,arguments),t}function q4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function W4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function kS(t){var e=1,r=t(q4(e),W4(e));return r.constant=function(n){return arguments.length?t(q4(e=+n),W4(e)):e},Al(r)}function LL(){var t=kS(Xy());return t.copy=function(){return gm(t,LL()).constant(t.constant())},wa.apply(t,arguments)}function H4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function sie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function oie(t){return t<0?-t*t:t*t}function OS(t){var e=t(si,si),r=1;function n(){return r===1?t(si,si):r===.5?t(sie,oie):t(H4(r),H4(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Al(e)}function PS(){var t=OS(Xy());return t.copy=function(){return gm(t,PS()).exponent(t.exponent())},wa.apply(t,arguments),t}function lie(){return PS.apply(null,arguments).exponent(.5)}function V4(t){return Math.sign(t)*t*t}function cie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function IL(){var t=SS(),e=[0,1],r=!1,n;function i(a){var s=cie(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(V4(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,yv)).map(V4)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return IL(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},wa.apply(i,arguments),Al(i)}function $L(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=pne(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[pm(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(hl),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return $L().domain(t).range(e).unknown(n)},wa.apply(a,arguments)}function RL(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[pm(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return RL().domain([t,e]).range(i).unknown(a)},wa.apply(Al(s),arguments)}function ML(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[pm(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ML().domain(t).range(e).unknown(r)},wa.apply(i,arguments)}const Qb=new Date,ex=new Date;function wn(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>wn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(Qb.setTime(+a),ex.setTime(+s),t(Qb),t(ex),Math.floor(r(Qb,ex))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const wv=wn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);wv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?wn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):wv);wv.range;const Js=1e3,fa=Js*60,Zs=fa*60,fo=Zs*24,ES=fo*7,G4=fo*30,tx=fo*365,wc=wn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Js)},(t,e)=>(e-t)/Js,t=>t.getUTCSeconds());wc.range;const CS=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Js)},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getMinutes());CS.range;const TS=wn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getUTCMinutes());TS.range;const LS=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Js-t.getMinutes()*fa)},(t,e)=>{t.setTime(+t+e*Zs)},(t,e)=>(e-t)/Zs,t=>t.getHours());LS.range;const IS=wn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Zs)},(t,e)=>(e-t)/Zs,t=>t.getUTCHours());IS.range;const vm=wn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fa)/fo,t=>t.getDate()-1);vm.range;const Jy=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fo,t=>t.getUTCDate()-1);Jy.range;const DL=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fo,t=>Math.floor(t/fo));DL.range;function Jc(t){return wn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*fa)/ES)}const Zy=Jc(0),_v=Jc(1),uie=Jc(2),die=Jc(3),$d=Jc(4),fie=Jc(5),hie=Jc(6);Zy.range;_v.range;uie.range;die.range;$d.range;fie.range;hie.range;function Zc(t){return wn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/ES)}const Qy=Zc(0),Sv=Zc(1),pie=Zc(2),mie=Zc(3),Rd=Zc(4),gie=Zc(5),vie=Zc(6);Qy.range;Sv.range;pie.range;mie.range;Rd.range;gie.range;vie.range;const $S=wn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());$S.range;const RS=wn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());RS.range;const ho=wn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ho.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ho.range;const po=wn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());po.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});po.range;function BL(t,e,r,n,i,a){const s=[[wc,1,Js],[wc,5,5*Js],[wc,15,15*Js],[wc,30,30*Js],[a,1,fa],[a,5,5*fa],[a,15,15*fa],[a,30,30*fa],[i,1,Zs],[i,3,3*Zs],[i,6,6*Zs],[i,12,12*Zs],[n,1,fo],[n,2,2*fo],[r,1,ES],[e,1,G4],[e,3,3*G4],[t,1,tx]];function o(c,u,f){const p=u<c;p&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),g=h?h.range(c,+u+1):[];return p?g.reverse():g}function l(c,u,f){const p=Math.abs(u-c)/f,h=yS(([,,x])=>x).right(s,p);if(h===s.length)return t.every(Aw(c/tx,u/tx,f));if(h===0)return wv.every(Math.max(Aw(c,u,f),1));const[g,v]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return g.every(v)}return[o,l]}const[yie,bie]=BL(po,RS,Qy,DL,IS,TS),[xie,wie]=BL(ho,$S,Zy,vm,LS,CS);function rx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function nx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function dh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function _ie(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=fh(i),u=hh(i),f=fh(a),p=hh(a),h=fh(s),g=hh(s),v=fh(o),x=hh(o),y=fh(l),w=hh(l),_={a:H,A:$,b:J,B:ie,c:null,d:Q4,e:Q4,f:Hie,g:tae,G:nae,H:zie,I:qie,j:Wie,L:FL,m:Vie,M:Gie,p:se,q:P,Q:rk,s:nk,S:Kie,u:Yie,U:Xie,V:Jie,w:Zie,W:Qie,x:null,X:null,y:eae,Y:rae,Z:iae,"%":tk},j={a:z,A:V,b:re,B:ne,c:null,d:ek,e:ek,f:lae,g:yae,G:xae,H:aae,I:sae,j:oae,L:zL,m:cae,M:uae,p:ue,q:ve,Q:rk,s:nk,S:dae,u:fae,U:hae,V:pae,w:mae,W:gae,x:null,X:null,y:vae,Y:bae,Z:wae,"%":tk},S={a:U,A:O,b:T,B:D,c:F,d:J4,e:J4,f:Die,g:X4,G:Y4,H:Z4,I:Z4,j:Iie,L:Mie,m:Lie,M:$ie,p:I,q:Tie,Q:Fie,s:Uie,S:Rie,u:kie,U:Oie,V:Pie,w:Nie,W:Eie,x:B,X:K,y:X4,Y:Y4,Z:Cie,"%":Bie};_.x=k(r,_),_.X=k(n,_),_.c=k(e,_),j.x=k(r,j),j.X=k(n,j),j.c=k(e,j);function k(oe,pe){return function(xe){var he=[],Te=-1,ae=0,Z=oe.length,Fe,Oe,Ie;for(xe instanceof Date||(xe=new Date(+xe));++Te<Z;)oe.charCodeAt(Te)===37&&(he.push(oe.slice(ae,Te)),(Oe=K4[Fe=oe.charAt(++Te)])!=null?Fe=oe.charAt(++Te):Oe=Fe==="e"?" ":"0",(Ie=pe[Fe])&&(Fe=Ie(xe,Oe)),he.push(Fe),ae=Te+1);return he.push(oe.slice(ae,Te)),he.join("")}}function E(oe,pe){return function(xe){var he=dh(1900,void 0,1),Te=L(he,oe,xe+="",0),ae,Z;if(Te!=xe.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(pe&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(ae=nx(dh(he.y,0,1)),Z=ae.getUTCDay(),ae=Z>4||Z===0?Sv.ceil(ae):Sv(ae),ae=Jy.offset(ae,(he.V-1)*7),he.y=ae.getUTCFullYear(),he.m=ae.getUTCMonth(),he.d=ae.getUTCDate()+(he.w+6)%7):(ae=rx(dh(he.y,0,1)),Z=ae.getDay(),ae=Z>4||Z===0?_v.ceil(ae):_v(ae),ae=vm.offset(ae,(he.V-1)*7),he.y=ae.getFullYear(),he.m=ae.getMonth(),he.d=ae.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Z="Z"in he?nx(dh(he.y,0,1)).getUTCDay():rx(dh(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Z+5)%7:he.w+he.U*7-(Z+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,nx(he)):rx(he)}}function L(oe,pe,xe,he){for(var Te=0,ae=pe.length,Z=xe.length,Fe,Oe;Te<ae;){if(he>=Z)return-1;if(Fe=pe.charCodeAt(Te++),Fe===37){if(Fe=pe.charAt(Te++),Oe=S[Fe in K4?pe.charAt(Te++):Fe],!Oe||(he=Oe(oe,xe,he))<0)return-1}else if(Fe!=xe.charCodeAt(he++))return-1}return he}function I(oe,pe,xe){var he=c.exec(pe.slice(xe));return he?(oe.p=u.get(he[0].toLowerCase()),xe+he[0].length):-1}function U(oe,pe,xe){var he=h.exec(pe.slice(xe));return he?(oe.w=g.get(he[0].toLowerCase()),xe+he[0].length):-1}function O(oe,pe,xe){var he=f.exec(pe.slice(xe));return he?(oe.w=p.get(he[0].toLowerCase()),xe+he[0].length):-1}function T(oe,pe,xe){var he=y.exec(pe.slice(xe));return he?(oe.m=w.get(he[0].toLowerCase()),xe+he[0].length):-1}function D(oe,pe,xe){var he=v.exec(pe.slice(xe));return he?(oe.m=x.get(he[0].toLowerCase()),xe+he[0].length):-1}function F(oe,pe,xe){return L(oe,e,pe,xe)}function B(oe,pe,xe){return L(oe,r,pe,xe)}function K(oe,pe,xe){return L(oe,n,pe,xe)}function H(oe){return s[oe.getDay()]}function $(oe){return a[oe.getDay()]}function J(oe){return l[oe.getMonth()]}function ie(oe){return o[oe.getMonth()]}function se(oe){return i[+(oe.getHours()>=12)]}function P(oe){return 1+~~(oe.getMonth()/3)}function z(oe){return s[oe.getUTCDay()]}function V(oe){return a[oe.getUTCDay()]}function re(oe){return l[oe.getUTCMonth()]}function ne(oe){return o[oe.getUTCMonth()]}function ue(oe){return i[+(oe.getUTCHours()>=12)]}function ve(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var pe=k(oe+="",_);return pe.toString=function(){return oe},pe},parse:function(oe){var pe=E(oe+="",!1);return pe.toString=function(){return oe},pe},utcFormat:function(oe){var pe=k(oe+="",j);return pe.toString=function(){return oe},pe},utcParse:function(oe){var pe=E(oe+="",!0);return pe.toString=function(){return oe},pe}}}var K4={"-":"",_:" ",0:"0"},On=/^\s*\d+/,Sie=/^%/,jie=/[\\^$*+?|[\]().{}]/g;function Kt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Aie(t){return t.replace(jie,"\\$&")}function fh(t){return new RegExp("^(?:"+t.map(Aie).join("|")+")","i")}function hh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Nie(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function kie(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Oie(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Pie(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Eie(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Y4(t,e,r){var n=On.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function X4(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Cie(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Tie(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Lie(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function J4(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Iie(t,e,r){var n=On.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Z4(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function $ie(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Rie(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Mie(t,e,r){var n=On.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Die(t,e,r){var n=On.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Bie(t,e,r){var n=Sie.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Fie(t,e,r){var n=On.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Uie(t,e,r){var n=On.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Q4(t,e){return Kt(t.getDate(),e,2)}function zie(t,e){return Kt(t.getHours(),e,2)}function qie(t,e){return Kt(t.getHours()%12||12,e,2)}function Wie(t,e){return Kt(1+vm.count(ho(t),t),e,3)}function FL(t,e){return Kt(t.getMilliseconds(),e,3)}function Hie(t,e){return FL(t,e)+"000"}function Vie(t,e){return Kt(t.getMonth()+1,e,2)}function Gie(t,e){return Kt(t.getMinutes(),e,2)}function Kie(t,e){return Kt(t.getSeconds(),e,2)}function Yie(t){var e=t.getDay();return e===0?7:e}function Xie(t,e){return Kt(Zy.count(ho(t)-1,t),e,2)}function UL(t){var e=t.getDay();return e>=4||e===0?$d(t):$d.ceil(t)}function Jie(t,e){return t=UL(t),Kt($d.count(ho(t),t)+(ho(t).getDay()===4),e,2)}function Zie(t){return t.getDay()}function Qie(t,e){return Kt(_v.count(ho(t)-1,t),e,2)}function eae(t,e){return Kt(t.getFullYear()%100,e,2)}function tae(t,e){return t=UL(t),Kt(t.getFullYear()%100,e,2)}function rae(t,e){return Kt(t.getFullYear()%1e4,e,4)}function nae(t,e){var r=t.getDay();return t=r>=4||r===0?$d(t):$d.ceil(t),Kt(t.getFullYear()%1e4,e,4)}function iae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Kt(e/60|0,"0",2)+Kt(e%60,"0",2)}function ek(t,e){return Kt(t.getUTCDate(),e,2)}function aae(t,e){return Kt(t.getUTCHours(),e,2)}function sae(t,e){return Kt(t.getUTCHours()%12||12,e,2)}function oae(t,e){return Kt(1+Jy.count(po(t),t),e,3)}function zL(t,e){return Kt(t.getUTCMilliseconds(),e,3)}function lae(t,e){return zL(t,e)+"000"}function cae(t,e){return Kt(t.getUTCMonth()+1,e,2)}function uae(t,e){return Kt(t.getUTCMinutes(),e,2)}function dae(t,e){return Kt(t.getUTCSeconds(),e,2)}function fae(t){var e=t.getUTCDay();return e===0?7:e}function hae(t,e){return Kt(Qy.count(po(t)-1,t),e,2)}function qL(t){var e=t.getUTCDay();return e>=4||e===0?Rd(t):Rd.ceil(t)}function pae(t,e){return t=qL(t),Kt(Rd.count(po(t),t)+(po(t).getUTCDay()===4),e,2)}function mae(t){return t.getUTCDay()}function gae(t,e){return Kt(Sv.count(po(t)-1,t),e,2)}function vae(t,e){return Kt(t.getUTCFullYear()%100,e,2)}function yae(t,e){return t=qL(t),Kt(t.getUTCFullYear()%100,e,2)}function bae(t,e){return Kt(t.getUTCFullYear()%1e4,e,4)}function xae(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Rd(t):Rd.ceil(t),Kt(t.getUTCFullYear()%1e4,e,4)}function wae(){return"+0000"}function tk(){return"%"}function rk(t){return+t}function nk(t){return Math.floor(+t/1e3)}var Au,WL,HL;_ae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _ae(t){return Au=_ie(t),WL=Au.format,Au.parse,HL=Au.utcFormat,Au.utcParse,Au}function Sae(t){return new Date(t)}function jae(t){return t instanceof Date?+t:+new Date(+t)}function MS(t,e,r,n,i,a,s,o,l,c){var u=SS(),f=u.invert,p=u.domain,h=c(".%L"),g=c(":%S"),v=c("%I:%M"),x=c("%I %p"),y=c("%a %d"),w=c("%b %d"),_=c("%B"),j=c("%Y");function S(k){return(l(k)<k?h:o(k)<k?g:s(k)<k?v:a(k)<k?x:n(k)<k?i(k)<k?y:w:r(k)<k?_:j)(k)}return u.invert=function(k){return new Date(f(k))},u.domain=function(k){return arguments.length?p(Array.from(k,jae)):p().map(Sae)},u.ticks=function(k){var E=p();return t(E[0],E[E.length-1],k??10)},u.tickFormat=function(k,E){return E==null?S:c(E)},u.nice=function(k){var E=p();return(!k||typeof k.range!="function")&&(k=e(E[0],E[E.length-1],k??10)),k?p(CL(E,k)):u},u.copy=function(){return gm(u,MS(t,e,r,n,i,a,s,o,l,c))},u}function Aae(){return wa.apply(MS(xie,wie,ho,$S,Zy,vm,LS,CS,wc,WL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Nae(){return wa.apply(MS(yie,bie,po,RS,Qy,Jy,IS,TS,wc,HL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function e1(){var t=0,e=1,r,n,i,a,s=si,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(p){var h,g;return arguments.length?([h,g]=p,s=f(h,g),c):[s(0),s(1)]}}return c.range=u(xf),c.rangeRound=u(_S),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function Nl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function VL(){var t=Al(e1()(si));return t.copy=function(){return Nl(t,VL())},xo.apply(t,arguments)}function GL(){var t=NS(e1()).domain([1,10]);return t.copy=function(){return Nl(t,GL()).base(t.base())},xo.apply(t,arguments)}function KL(){var t=kS(e1());return t.copy=function(){return Nl(t,KL()).constant(t.constant())},xo.apply(t,arguments)}function DS(){var t=OS(e1());return t.copy=function(){return Nl(t,DS()).exponent(t.exponent())},xo.apply(t,arguments)}function kae(){return DS.apply(null,arguments).exponent(.5)}function YL(){var t=[],e=si;function r(n){if(n!=null&&!isNaN(n=+n))return e((pm(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(hl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>hne(t,a/n))},r.copy=function(){return YL(e).domain(t)},xo.apply(r,arguments)}function t1(){var t=0,e=.5,r=1,n=1,i,a,s,o,l,c=si,u,f=!1,p;function h(v){return isNaN(v=+v)?p:(v=.5+((v=+u(v))-a)*(n*v<n*a?o:l),c(f?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([t,e,r]=v,i=u(t=+t),a=u(e=+e),s=u(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h):[t,e,r]},h.clamp=function(v){return arguments.length?(f=!!v,h):f},h.interpolator=function(v){return arguments.length?(c=v,h):c};function g(v){return function(x){var y,w,_;return arguments.length?([y,w,_]=x,c=Bne(v,[y,w,_]),h):[c(0),c(.5),c(1)]}}return h.range=g(xf),h.rangeRound=g(_S),h.unknown=function(v){return arguments.length?(p=v,h):p},function(v){return u=v,i=v(t),a=v(e),s=v(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h}}function XL(){var t=Al(t1()(si));return t.copy=function(){return Nl(t,XL())},xo.apply(t,arguments)}function JL(){var t=NS(t1()).domain([.1,1,10]);return t.copy=function(){return Nl(t,JL()).base(t.base())},xo.apply(t,arguments)}function ZL(){var t=kS(t1());return t.copy=function(){return Nl(t,ZL()).constant(t.constant())},xo.apply(t,arguments)}function BS(){var t=OS(t1());return t.copy=function(){return Nl(t,BS()).exponent(t.exponent())},xo.apply(t,arguments)}function Oae(){return BS.apply(null,arguments).exponent(.5)}const ik=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Np,scaleDiverging:XL,scaleDivergingLog:JL,scaleDivergingPow:BS,scaleDivergingSqrt:Oae,scaleDivergingSymlog:ZL,scaleIdentity:EL,scaleImplicit:Nw,scaleLinear:xv,scaleLog:TL,scaleOrdinal:bS,scalePoint:Fh,scalePow:PS,scaleQuantile:$L,scaleQuantize:RL,scaleRadial:IL,scaleSequential:VL,scaleSequentialLog:GL,scaleSequentialPow:DS,scaleSequentialQuantile:YL,scaleSequentialSqrt:kae,scaleSequentialSymlog:KL,scaleSqrt:lie,scaleSymlog:LL,scaleThreshold:ML,scaleTime:Aae,scaleUtc:Nae,tickFormat:PL},Symbol.toStringTag,{value:"Module"}));var Pae=df;function Eae(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!Pae(s):r(s,o)))var o=s,l=a}return l}var r1=Eae;function Cae(t,e){return t>e}var QL=Cae,Tae=r1,Lae=QL,Iae=bf;function $ae(t){return t&&t.length?Tae(t,Iae,Lae):void 0}var Rae=$ae;const n1=ar(Rae);function Mae(t,e){return t<e}var eI=Mae,Dae=r1,Bae=eI,Fae=bf;function Uae(t){return t&&t.length?Dae(t,Fae,Bae):void 0}var zae=Uae;const i1=ar(zae);var qae=Q_,Wae=Ss,Hae=lL,Vae=wi;function Gae(t,e){var r=Vae(t)?qae:Hae;return r(t,Wae(e))}var Kae=Gae,Yae=sL,Xae=Kae;function Jae(t,e){return Yae(Xae(t,e),1)}var Zae=Jae;const Qae=ar(Zae);var ese=pS;function tse(t,e){return ese(t,e)}var rse=tse;const ym=ar(rse);var wf=1e9,nse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},US,Or=!0,va="[DecimalError] ",kc=va+"Invalid argument: ",FS=va+"Exponent out of range: ",_f=Math.floor,lc=Math.pow,ise=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fi,Sn=1e7,Sr=7,tI=9007199254740991,jv=_f(tI/Sr),Ke={};Ke.absoluteValue=Ke.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ke.comparedTo=Ke.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ke.decimalPlaces=Ke.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Sr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ke.dividedBy=Ke.div=function(t){return no(this,new this.constructor(t))};Ke.dividedToIntegerBy=Ke.idiv=function(t){var e=this,r=e.constructor;return fr(no(e,new r(t),0,1),r.precision)};Ke.equals=Ke.eq=function(t){return!this.cmp(t)};Ke.exponent=function(){return on(this)};Ke.greaterThan=Ke.gt=function(t){return this.cmp(t)>0};Ke.greaterThanOrEqualTo=Ke.gte=function(t){return this.cmp(t)>=0};Ke.isInteger=Ke.isint=function(){return this.e>this.d.length-2};Ke.isNegative=Ke.isneg=function(){return this.s<0};Ke.isPositive=Ke.ispos=function(){return this.s>0};Ke.isZero=function(){return this.s===0};Ke.lessThan=Ke.lt=function(t){return this.cmp(t)<0};Ke.lessThanOrEqualTo=Ke.lte=function(t){return this.cmp(t)<1};Ke.logarithm=Ke.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Fi))throw Error(va+"NaN");if(r.s<1)throw Error(va+(r.s?"NaN":"-Infinity"));return r.eq(Fi)?new n(0):(Or=!1,e=no(Cp(r,a),Cp(t,a),a),Or=!0,fr(e,i))};Ke.minus=Ke.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iI(e,t):rI(e,(t.s=-t.s,t))};Ke.modulo=Ke.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(va+"NaN");return r.s?(Or=!1,e=no(r,t,0,1).times(t),Or=!0,r.minus(e)):fr(new n(r),i)};Ke.naturalExponential=Ke.exp=function(){return nI(this)};Ke.naturalLogarithm=Ke.ln=function(){return Cp(this)};Ke.negated=Ke.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ke.plus=Ke.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rI(e,t):iI(e,(t.s=-t.s,t))};Ke.precision=Ke.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(kc+t);if(e=on(i)+1,n=i.d.length-1,r=n*Sr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ke.squareRoot=Ke.sqrt=function(){var t,e,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(va+"NaN")}for(t=on(o),Or=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=us(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=_f((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(no(o,a,s+2)).times(.5),us(a.d).slice(0,s)===(e=us(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(fr(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return Or=!0,fr(n,r)};Ke.times=Ke.mul=function(t){var e,r,n,i,a,s,o,l,c,u=this,f=u.constructor,p=u.d,h=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,r=u.e+t.e,l=p.length,c=h.length,l<c&&(a=p,p=h,h=a,s=l,l=c,c=s),a=[],s=l+c,n=s;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+h[n]*p[i-n-1]+e,a[i--]=o%Sn|0,e=o/Sn|0;a[i]=(a[i]+e)%Sn|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Or?fr(t,f.precision):t};Ke.toDecimalPlaces=Ke.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(xs(t,0,wf),e===void 0?e=n.rounding:xs(e,0,8),fr(r,t+on(r)+1,e))};Ke.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Bc(n,!0):(xs(t,0,wf),e===void 0?e=i.rounding:xs(e,0,8),n=fr(new i(n),t+1,e),r=Bc(n,!0,t+1)),r};Ke.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Bc(i):(xs(t,0,wf),e===void 0?e=a.rounding:xs(e,0,8),n=fr(new a(i),t+on(i)+1,e),r=Bc(n.abs(),!1,t+on(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ke.toInteger=Ke.toint=function(){var t=this,e=t.constructor;return fr(new e(t),on(t)+1,e.rounding)};Ke.toNumber=function(){return+this};Ke.toPower=Ke.pow=function(t){var e,r,n,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Fi);if(o=new l(o),!o.s){if(t.s<1)throw Error(va+"Infinity");return o}if(o.eq(Fi))return o;if(n=l.precision,t.eq(Fi))return fr(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=u<0?-u:u)<=tI){for(i=new l(Fi),e=Math.ceil(n/Sr+4),Or=!1;r%2&&(i=i.times(o),sk(i.d,e)),r=_f(r/2),r!==0;)o=o.times(o),sk(o.d,e);return Or=!0,t.s<0?new l(Fi).div(i):fr(i,n)}}else if(a<0)throw Error(va+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Or=!1,i=t.times(Cp(o,n+c)),Or=!0,i=nI(i),i.s=a,i};Ke.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=on(i),n=Bc(i,r<=a.toExpNeg||r>=a.toExpPos)):(xs(t,1,wf),e===void 0?e=a.rounding:xs(e,0,8),i=fr(new a(i),t,e),r=on(i),n=Bc(i,t<=r||r<=a.toExpNeg,t)),n};Ke.toSignificantDigits=Ke.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(xs(t,1,wf),e===void 0?e=n.rounding:xs(e,0,8)),fr(new n(r),t,e)};Ke.toString=Ke.valueOf=Ke.val=Ke.toJSON=Ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=on(t),r=t.constructor;return Bc(t,e<=r.toExpNeg||e>=r.toExpPos)};function rI(t,e){var r,n,i,a,s,o,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Or?fr(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=c.length):(n=c,i=s,o=l.length),s=Math.ceil(f/Sr),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/Sn|0,l[a]%=Sn;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Or?fr(e,f):e}function xs(t,e,r){if(t!==~~t||t<e||t>r)throw Error(kc+t)}function us(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Sr-n.length,r&&(a+=Go(r)),a+=n;s=t[e],n=s+"",r=Sr-n.length,r&&(a+=Go(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var no=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Sn|0,s=a/Sn|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Sn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,c,u,f,p,h,g,v,x,y,w,_,j,S,k,E,L,I=n.constructor,U=n.s==i.s?1:-1,O=n.d,T=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(va+"Division by zero");for(l=n.e-i.e,E=T.length,S=O.length,h=new I(U),g=h.d=[],c=0;T[c]==(O[c]||0);)++c;if(T[c]>(O[c]||0)&&--l,a==null?w=a=I.precision:s?w=a+(on(n)-on(i))+1:w=a,w<0)return new I(0);if(w=w/Sr+2|0,c=0,E==1)for(u=0,T=T[0],w++;(c<S||u)&&w--;c++)_=u*Sn+(O[c]||0),g[c]=_/T|0,u=_%T|0;else{for(u=Sn/(T[0]+1)|0,u>1&&(T=t(T,u),O=t(O,u),E=T.length,S=O.length),j=E,v=O.slice(0,E),x=v.length;x<E;)v[x++]=0;L=T.slice(),L.unshift(0),k=T[0],T[1]>=Sn/2&&++k;do u=0,o=e(T,v,E,x),o<0?(y=v[0],E!=x&&(y=y*Sn+(v[1]||0)),u=y/k|0,u>1?(u>=Sn&&(u=Sn-1),f=t(T,u),p=f.length,x=v.length,o=e(f,v,p,x),o==1&&(u--,r(f,E<p?L:T,p))):(u==0&&(o=u=1),f=T.slice()),p=f.length,p<x&&f.unshift(0),r(v,f,x),o==-1&&(x=v.length,o=e(T,v,E,x),o<1&&(u++,r(v,E<x?L:T,x))),x=v.length):o===0&&(u++,v=[0]),g[c++]=u,o&&v[0]?v[x++]=O[j]||0:(v=[O[j]],x=1);while((j++<S||v[0]!==void 0)&&w--)}return g[0]||g.shift(),h.e=l,fr(h,s?a+on(h)+1:a)}}();function nI(t,e){var r,n,i,a,s,o,l=0,c=0,u=t.constructor,f=u.precision;if(on(t)>16)throw Error(FS+on(t));if(!t.s)return new u(Fi);for(Or=!1,o=f,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(n=Math.log(lc(2,c))/Math.LN10*2+5|0,o+=n,r=i=a=new u(Fi),u.precision=o;;){if(i=fr(i.times(t),o),r=r.times(++l),s=a.plus(no(i,r,o)),us(s.d).slice(0,o)===us(a.d).slice(0,o)){for(;c--;)a=fr(a.times(a),o);return u.precision=f,e==null?(Or=!0,fr(a,f)):a}a=s}}function on(t){for(var e=t.e*Sr,r=t.d[0];r>=10;r/=10)e++;return e}function ix(t,e,r){if(e>t.LN10.sd())throw Or=!0,r&&(t.precision=r),Error(va+"LN10 precision limit exceeded");return fr(new t(t.LN10),e)}function Go(t){for(var e="";t--;)e+="0";return e}function Cp(t,e){var r,n,i,a,s,o,l,c,u,f=1,p=10,h=t,g=h.d,v=h.constructor,x=v.precision;if(h.s<1)throw Error(va+(h.s?"NaN":"-Infinity"));if(h.eq(Fi))return new v(0);if(e==null?(Or=!1,c=x):c=e,h.eq(10))return e==null&&(Or=!0),ix(v,c);if(c+=p,v.precision=c,r=us(g),n=r.charAt(0),a=on(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=us(h.d),n=r.charAt(0),f++;a=on(h),n>1?(h=new v("0."+r),a++):h=new v(n+"."+r.slice(1))}else return l=ix(v,c+2,x).times(a+""),h=Cp(new v(n+"."+r.slice(1)),c-p).plus(l),v.precision=x,e==null?(Or=!0,fr(h,x)):h;for(o=s=h=no(h.minus(Fi),h.plus(Fi),c),u=fr(h.times(h),c),i=3;;){if(s=fr(s.times(u),c),l=o.plus(no(s,new v(i),c)),us(l.d).slice(0,c)===us(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(ix(v,c+2,x).times(a+""))),o=no(o,new v(f),c),v.precision=x,e==null?(Or=!0,fr(o,x)):o;o=l,i+=2}}function ak(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=_f(r/Sr),t.d=[],n=(r+1)%Sr,r<0&&(n+=Sr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Sr;n<i;)t.d.push(+e.slice(n,n+=Sr));e=e.slice(n),n=Sr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Or&&(t.e>jv||t.e<-jv))throw Error(FS+r)}else t.s=0,t.e=0,t.d=[0];return t}function fr(t,e,r){var n,i,a,s,o,l,c,u,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Sr,i=e,c=f[u=0];else{if(u=Math.ceil((n+1)/Sr),a=f.length,u>=a)return t;for(c=a=f[u],s=1;a>=10;a/=10)s++;n%=Sr,i=n-Sr+s}if(r!==void 0&&(a=lc(10,s-i-1),o=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/lc(10,s-i):0:f[u-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=on(t),f.length=1,e=e-a-1,f[0]=lc(10,(Sr-e%Sr)%Sr),t.e=_f(-e/Sr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=lc(10,Sr-n),f[u]=i>0?(c/lc(10,s-i)%lc(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==Sn&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=Sn)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Or&&(t.e>jv||t.e<-jv))throw Error(FS+on(t));return t}function iI(t,e){var r,n,i,a,s,o,l,c,u,f,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Or?fr(e,h):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),i=Math.max(Math.ceil(h/Sr),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Sn-1;--l[a],l[i]+=Sn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Or?fr(e,h):e):new p(0)}function Bc(t,e,r){var n,i=on(t),a=us(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Go(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Go(-i-1)+a,r&&(n=r-s)>0&&(a+=Go(n))):i>=s?(a+=Go(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Go(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Go(n))),t.s<0?"-"+a:a}function sk(t,e){if(t.length>e)return t.length=e,!0}function aI(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(kc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return ak(s,a.toString())}else if(typeof a!="string")throw Error(kc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,ise.test(a))ak(s,a);else throw Error(kc+a)}if(i.prototype=Ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=aI,i.config=i.set=ase,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function ase(t){if(!t||typeof t!="object")throw Error(va+"Object expected");var e,r,n,i=["precision",1,wf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(_f(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(kc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(kc+r+": "+n);return this}var US=aI(nse);Fi=new US(1);const or=US;function sse(t){return use(t)||cse(t)||lse(t)||ose()}function ose(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lse(t,e){if(t){if(typeof t=="string")return Ew(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ew(t,e)}}function cse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function use(t){if(Array.isArray(t))return Ew(t)}function Ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var dse=function(e){return e},sI={},oI=function(e){return e===sI},ok=function(e){return function r(){return arguments.length===0||arguments.length===1&&oI(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},fse=function t(e,r){return e===1?r:ok(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==sI}).length;return s>=e?r.apply(void 0,i):t(e-s,ok(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(f){return oI(f)?l.shift():f});return r.apply(void 0,sse(u).concat(l))}))})},a1=function(e){return fse(e.length,e)},Cw=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},hse=a1(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),pse=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return dse;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},Tw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},lI=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function mse(t){var e;return t===0?e=1:e=Math.floor(new or(t).abs().log(10).toNumber())+1,e}function gse(t,e,r){for(var n=new or(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var vse=a1(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),yse=a1(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),bse=a1(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const s1={rangeStep:gse,getDigitCount:mse,interpolateNumber:vse,uninterpolateNumber:yse,uninterpolateTruncation:bse};function Lw(t){return _se(t)||wse(t)||cI(t)||xse()}function xse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _se(t){if(Array.isArray(t))return Iw(t)}function Tp(t,e){return Ase(t)||jse(t,e)||cI(t,e)||Sse()}function Sse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cI(t,e){if(t){if(typeof t=="string")return Iw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iw(t,e)}}function Iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jse(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function Ase(t){if(Array.isArray(t))return t}function uI(t){var e=Tp(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function dI(t,e,r){if(t.lte(0))return new or(0);var n=s1.getDigitCount(t.toNumber()),i=new or(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new or(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return e?l:new or(Math.ceil(l))}function Nse(t,e,r){var n=1,i=new or(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new or(10).pow(s1.getDigitCount(t)-1),i=new or(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new or(Math.floor(t)))}else t===0?i=new or(Math.floor((e-1)/2)):r||(i=new or(Math.floor(t)));var s=Math.floor((e-1)/2),o=pse(hse(function(l){return i.add(new or(l-s).mul(n)).toNumber()}),Cw);return o(0,e)}function fI(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new or(0),tickMin:new or(0),tickMax:new or(0)};var a=dI(new or(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new or(0):(s=new or(t).add(e).div(2),s=s.sub(new or(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new or(e).sub(s).div(a).toNumber()),c=o+l+1;return c>r?fI(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,o=e>0?o:o+(r-c)),{step:a,tickMin:s.sub(new or(o).mul(a)),tickMax:s.add(new or(l).mul(a))})}function kse(t){var e=Tp(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=uI([r,n]),l=Tp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(Lw(Cw(0,i-1).map(function(){return 1/0}))):[].concat(Lw(Cw(0,i-1).map(function(){return-1/0})),[u]);return r>n?Tw(f):f}if(c===u)return Nse(c,i,a);var p=fI(c,u,s,a),h=p.step,g=p.tickMin,v=p.tickMax,x=s1.rangeStep(g,v.add(new or(.1).mul(h)),h);return r>n?Tw(x):x}function Ose(t,e){var r=Tp(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=uI([n,i]),o=Tp(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),f=dI(new or(c).sub(l).div(u-1),a,0),p=[].concat(Lw(s1.rangeStep(new or(l),new or(c).sub(new or(.99).mul(f)),f)),[c]);return n>i?Tw(p):p}var Pse=lI(kse),Ese=lI(Ose),Cse="Invariant failed";function Fc(t,e){throw new Error(Cse)}var Tse=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Av.apply(this,arguments)}function Lse(t,e){return Mse(t)||Rse(t,e)||$se(t,e)||Ise()}function Ise(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $se(t,e){if(t){if(typeof t=="string")return lk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lk(t,e)}}function lk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Mse(t){if(Array.isArray(t))return t}function Dse(t,e){if(t==null)return{};var r=Bse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Fse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Use(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mI(n.key),n)}}function zse(t,e,r){return e&&Use(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qse(t,e,r){return e=Nv(e),Wse(t,hI()?Reflect.construct(e,r||[],Nv(t).constructor):e.apply(t,r))}function Wse(t,e){if(e&&(Md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hse(t)}function Hse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hI=function(){return!!t})()}function Nv(t){return Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nv(t)}function Vse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$w(t,e)}function $w(t,e){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$w(t,e)}function pI(t,e,r){return e=mI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mI(t){var e=Gse(t,"string");return Md(e)=="symbol"?e:e+""}function Gse(t,e){if(Md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bm=function(t){function e(){return Fse(this,e),qse(this,e,arguments)}return Vse(e,t),zse(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,p=Dse(n,Tse),h=ft(p,!1);this.props.direction==="x"&&u.type!=="number"&&Fc();var g=l.map(function(v){var x=c(v,o),y=x.x,w=x.y,_=x.value,j=x.errorVal;if(!j)return null;var S=[],k,E;if(Array.isArray(j)){var L=Lse(j,2);k=L[0],E=L[1]}else k=E=j;if(a==="vertical"){var I=u.scale,U=w+i,O=U+s,T=U-s,D=I(_-k),F=I(_+E);S.push({x1:F,y1:O,x2:F,y2:T}),S.push({x1:D,y1:U,x2:F,y2:U}),S.push({x1:D,y1:O,x2:D,y2:T})}else if(a==="horizontal"){var B=f.scale,K=y+i,H=K-s,$=K+s,J=B(_-k),ie=B(_+E);S.push({x1:H,y1:ie,x2:$,y2:ie}),S.push({x1:K,y1:J,x2:K,y2:ie}),S.push({x1:H,y1:J,x2:$,y2:J})}return le.createElement(Gt,Av({className:"recharts-errorBar",key:"bar-".concat(S.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},h),S.map(function(se){return le.createElement("line",Av({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return le.createElement(Gt,{className:"recharts-errorBars"},g)}}])}(le.Component);pI(bm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});pI(bm,"displayName","ErrorBar");function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function ck(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ec(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(r),!0).forEach(function(n){Kse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kse(t,e,r){return e=Yse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yse(t){var e=Xse(t,"string");return Lp(e)=="symbol"?e:e+""}function Xse(t,e){if(Lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gI=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=$i(r,ro);if(!s)return null;var o=ro.defaultProps,l=o!==void 0?ec(ec({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(n||[]).reduce(function(u,f){var p=f.item,h=f.props,g=h.sectors||h.data||[];return u.concat(g.map(function(v){return{type:s.props.iconType||p.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(u){var f=u.item,p=f.type.defaultProps,h=p!==void 0?ec(ec({},p),f.props):{},g=h.dataKey,v=h.name,x=h.legendType,y=h.hide;return{inactive:y,dataKey:g,type:l.iconType||x||"square",color:zS(f),value:v||g,payload:h}}),ec(ec(ec({},l),ro.getWithHeight(s,i)),{},{payload:c,item:s})};function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function uk(t){return eoe(t)||Qse(t)||Zse(t)||Jse()}function Jse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zse(t,e){if(t){if(typeof t=="string")return Rw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rw(t,e)}}function Qse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eoe(t){if(Array.isArray(t))return Rw(t)}function Rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(r),!0).forEach(function(n){ud(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ud(t,e,r){return e=toe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function toe(t){var e=roe(t,"string");return Ip(e)=="symbol"?e:e+""}function roe(t,e){if(Ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yn(t,e,r){return Ot(t)||Ot(e)?r:xn(e)?Wi(t,e,r):bt(e)?e(t):r}function Uh(t,e,r,n){var i=Qae(t,function(o){return yn(o,e)});if(r==="number"){var a=i.filter(function(o){return Be(o)||parseFloat(o)});return a.length?[i1(a),n1(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!Ot(o)}):i;return s.map(function(o){return xn(o)||o instanceof Date?o:""})}var noe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,p=c>=o-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(ii(f-u)!==ii(p-f)){var g=[];if(ii(p-f)===ii(l[1]-l[0])){h=p;var v=f+l[1]-l[0];g[0]=Math.min(v,(v+u)/2),g[1]=Math.max(v,(v+u)/2)}else{h=u;var x=p+l[1]-l[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var y=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>y[0]&&e<=y[1]||e>=g[0]&&e<=g[1]){s=i[c].index;break}}else{var w=Math.min(u,p),_=Math.max(u,p);if(e>(w+f)/2&&e<=(_+f)/2){s=i[c].index;break}}}else for(var j=0;j<o;j++)if(j===0&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<o-1&&e>(n[j].coordinate+n[j-1].coordinate)/2&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j===o-1&&e>(n[j].coordinate+n[j-1].coordinate)/2){s=n[j].index;break}return s},zS=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Fr(Fr({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},ioe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,f=Object.keys(u),p=0,h=f.length;p<h;p++){var g=u[f[p]],v=g.items,x=g.cateAxisId,y=v.filter(function(E){return to(E.type).indexOf("Bar")>=0});if(y&&y.length){var w=y[0].type.defaultProps,_=w!==void 0?Fr(Fr({},w),y[0].props):y[0].props,j=_.barSize,S=_[x];s[S]||(s[S]=[]);var k=Ot(j)?r:j;s[S].push({item:y[0],stackList:y.slice(1),barSize:Ot(k)?void 0:ai(k,n,0)})}}return s},aoe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=ai(r,i,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var p=!1,h=i/l,g=s.reduce(function(j,S){return j+S.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&h>0&&(p=!0,h*=.9,g=l*h);var v=(i-g)/2>>0,x={offset:v-c,size:0};u=s.reduce(function(j,S){var k={item:S.item,position:{offset:x.offset+x.size+c,size:p?h:S.barSize}},E=[].concat(uk(j),[k]);return x=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(L){E.push({item:L,position:x})}),E},f)}else{var y=ai(n,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var w=(i-2*y-(l-1)*c)/l;w>1&&(w>>=0);var _=o===+o?Math.min(w,o):w;u=s.reduce(function(j,S,k){var E=[].concat(uk(j),[{item:S.item,position:{offset:y+(w+c)*k+(w-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(L){E.push({item:L,position:E[E.length-1].position})}),E},f)}return u},soe=function(e,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=gI({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,p=u.height,h=c.align,g=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&g==="middle")&&h!=="center"&&Be(e[h]))return Fr(Fr({},e),{},ud({},h,e[h]+(f||0)));if((v==="horizontal"||v==="vertical"&&h==="center")&&g!=="middle"&&Be(e[g]))return Fr(Fr({},e),{},ud({},g,e[g]+(p||0)))}return e},ooe=function(e,r,n){return Ot(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},vI=function(e,r,n,i,a){var s=r.props.children,o=Hi(s,bm).filter(function(c){return ooe(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=yn(u,n);if(Ot(f))return c;var p=Array.isArray(f)?[i1(f),n1(f)]:[f,f],h=l.reduce(function(g,v){var x=yn(u,v,0),y=p[0]-Math.abs(Array.isArray(x)?x[0]:x),w=p[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},loe=function(e,r,n,i,a){var s=r.map(function(o){return vI(e,o,n,a,i)}).filter(function(o){return!Ot(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},yI=function(e,r,n,i,a){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&vI(e,l,c,i)||Uh(e,c,n,a)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},bI=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},xI=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},Qs=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ii(o[0]-o[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var p=a?a.indexOf(f):f;return{coordinate:i(p)+c,value:f,offset:c}});return u.filter(function(f){return!dm(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:i(f)+c,value:f,index:p,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,p){return{coordinate:i(f)+c,value:a?a[f]:f,index:p,offset:c}})},ax=new WeakMap,Mg=function(e,r){if(typeof r!="function")return e;ax.has(e)||ax.set(e,new WeakMap);var n=ax.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},wI=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Np(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:xv(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Fh(),realScaleType:"point"}:a==="category"?{scale:Np(),realScaleType:"band"}:{scale:xv(),realScaleType:"linear"};if(Rc(i)){var l="scale".concat(zy(i));return{scale:(ik[l]||Fh)(),realScaleType:ik[l]?l:"point"}}return bt(i)?{scale:i}:{scale:Fh(),realScaleType:"point"}},fk=1e-4,_I=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-fk,s=Math.max(i[0],i[1])+fk,o=e(r[0]),l=e(r[n-1]);(o<a||o>s||l<a||l>s)&&e.domain([r[0],r[n-1]])}},coe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},uoe=function(e,r){if(!r||r.length!==2||!Be(r[0])||!Be(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Be(e[0])||e[0]<n)&&(a[0]=n),(!Be(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},doe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=dm(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},foe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=dm(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},hoe={sign:doe,expand:TG,none:Pd,silhouette:LG,wiggle:IG,positive:foe},poe=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),a=hoe[n],s=CG().keys(i).value(function(o,l){return+yn(o,l,0)}).order(ow).offset(a);return s(e)},moe=function(e,r,n,i,a,s){if(!e)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,p){var h,g=(h=p.type)!==null&&h!==void 0&&h.defaultProps?Fr(Fr({},p.type.defaultProps),p.props):p.props,v=g.stackId,x=g.hide;if(x)return f;var y=g[n],w=f[y]||{hasStack:!1,stackGroups:{}};if(xn(v)){var _=w.stackGroups[v]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(p),w.hasStack=!0,w.stackGroups[v]=_}else w.stackGroups[gf("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return Fr(Fr({},f),{},ud({},y,w))},l),u={};return Object.keys(c).reduce(function(f,p){var h=c[p];if(h.hasStack){var g={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(v,x){var y=h.stackGroups[x];return Fr(Fr({},v),{},ud({},x,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:poe(e,y.items,a)}))},g)}return Fr(Fr({},f),{},ud({},p,h))},u)},SI=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=Pse(c,a,o);return e.domain([i1(u),n1(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),p=Ese(f,a,o);return{niceTicks:p}}return null};function hk(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ot(i[e.dataKey])){var o=Q0(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=yn(i,Ot(s)?e.dataKey:s);return Ot(l)?null:e.scale(l)}var pk=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=yn(s,r.dataKey,r.domain[o]);return Ot(l)?null:r.scale(l)-a/2+i},goe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},voe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Fr(Fr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(xn(a)){var s=r[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},yoe=function(e){return e.reduce(function(r,n){return[i1(n.concat([r[0]]).filter(Be)),n1(n.concat([r[1]]).filter(Be))]},[1/0,-1/0])},jI=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,u){var f=yoe(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},mk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mw=function(e,r,n){if(bt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Be(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(mk.test(e[0])){var a=+mk.exec(e[0])[1];i[0]=r[0]-a}else bt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Be(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(gk.test(e[1])){var s=+gk.exec(e[1])[1];i[1]=r[1]+s}else bt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},kv=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=gS(r,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},vk=function(e,r,n){return!e||!e.length||ym(e,Wi(n,"type.defaultProps.domain"))?r:e},AI=function(e,r){var n=e.type.defaultProps?Fr(Fr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Fr(Fr({},ft(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:zS(e),value:yn(r,i),type:l,payload:r,chartType:c,hide:u})};function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function yk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(r),!0).forEach(function(n){NI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NI(t,e,r){return e=boe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function boe(t){var e=xoe(t,"string");return $p(e)=="symbol"?e:e+""}function xoe(t,e){if($p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function woe(t,e){return Aoe(t)||joe(t,e)||Soe(t,e)||_oe()}function _oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Soe(t,e){if(t){if(typeof t=="string")return bk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bk(t,e)}}function bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function joe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Aoe(t){if(Array.isArray(t))return t}var Ov=Math.PI/180,Noe=function(e){return e*180/Math.PI},br=function(e,r,n,i){return{x:e+Math.cos(-Ov*i)*n,y:r+Math.sin(-Ov*i)*n}},kI=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},koe=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.startAngle,c=e.endAngle,u=ai(e.cx,s,s/2),f=ai(e.cy,o,o/2),p=kI(s,o,n),h=ai(e.innerRadius,p,0),g=ai(e.outerRadius,p,p*.8),v=Object.keys(r);return v.reduce(function(x,y){var w=r[y],_=w.domain,j=w.reversed,S;if(Ot(w.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[h,g]),j&&(S=[S[1],S[0]]);else{S=w.range;var k=S,E=woe(k,2);l=E[0],c=E[1]}var L=wI(w,a),I=L.realScaleType,U=L.scale;U.domain(_).range(S),_I(U);var O=SI(U,Hs(Hs({},w),{},{realScaleType:I})),T=Hs(Hs(Hs({},w),O),{},{range:S,radius:g,realScaleType:I,scale:U,cx:u,cy:f,innerRadius:h,outerRadius:g,startAngle:l,endAngle:c});return Hs(Hs({},x),{},NI({},y,T))},{})},Ooe=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},Poe=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,o=Ooe({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:Noe(c),angleInRadian:c}},Eoe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},Coe=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},xk=function(e,r){var n=e.x,i=e.y,a=Poe({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=Eoe(r),f=u.startAngle,p=u.endAngle,h=o,g;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;g=h>=p&&h<=f}return g?Hs(Hs({},r),{},{radius:s,angle:Coe(h,r)}):null},OI=function(e){return!Y.isValidElement(e)&&!bt(e)&&typeof e!="boolean"?e.className:""};function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}var Toe=["offset"];function Loe(t){return Moe(t)||Roe(t)||$oe(t)||Ioe()}function Ioe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $oe(t,e){if(t){if(typeof t=="string")return Dw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dw(t,e)}}function Roe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Moe(t){if(Array.isArray(t))return Dw(t)}function Dw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Doe(t,e){if(t==null)return{};var r=Boe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Boe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(r),!0).forEach(function(n){Foe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Foe(t,e,r){return e=Uoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uoe(t){var e=zoe(t,"string");return Rp(e)=="symbol"?e:e+""}function zoe(t,e){if(Rp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mp(){return Mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mp.apply(this,arguments)}var qoe=function(e){var r=e.value,n=e.formatter,i=Ot(e.children)?r:e.children;return bt(n)?n(i):i},Woe=function(e,r){var n=ii(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Hoe=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,p=l.outerRadius,h=l.startAngle,g=l.endAngle,v=l.clockWise,x=(f+p)/2,y=Woe(h,g),w=y>=0?1:-1,_,j;i==="insideStart"?(_=h+w*s,j=v):i==="insideEnd"?(_=g-w*s,j=!v):i==="end"&&(_=g+w*s,j=v),j=y<=0?j:!j;var S=br(c,u,x,_),k=br(c,u,x,_+(j?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(j?0:1,`,
    `).concat(k.x,",").concat(k.y),L=Ot(e.id)?gf("recharts-radial-line-"):e.id;return le.createElement("text",Mp({},n,{dominantBaseline:"central",className:It("recharts-radial-bar-label",o)}),le.createElement("defs",null,le.createElement("path",{id:L,d:E})),le.createElement("textPath",{xlinkHref:"#".concat(L)},r))},Voe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,p=(u+f)/2;if(i==="outside"){var h=br(s,o,c+n,p),g=h.x,v=h.y;return{x:g,y:v,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,y=br(s,o,x,p),w=y.x,_=y.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Goe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,p=f*i,h=f>0?"end":"start",g=f>0?"start":"end",v=c>=0?1:-1,x=v*i,y=v>0?"end":"start",w=v>0?"start":"end";if(a==="top"){var _={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return mn(mn({},_),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var j={x:o+c/2,y:l+u+p,textAnchor:"middle",verticalAnchor:g};return mn(mn({},j),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var S={x:o-x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return mn(mn({},S),n?{width:Math.max(S.x-n.x,0),height:u}:{})}if(a==="right"){var k={x:o+c+x,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return mn(mn({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:u}:{})}var E=n?{width:c,height:u}:{};return a==="insideLeft"?mn({x:o+x,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},E):a==="insideRight"?mn({x:o+c-x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},E):a==="insideTop"?mn({x:o+c/2,y:l+p,textAnchor:"middle",verticalAnchor:g},E):a==="insideBottom"?mn({x:o+c/2,y:l+u-p,textAnchor:"middle",verticalAnchor:h},E):a==="insideTopLeft"?mn({x:o+x,y:l+p,textAnchor:w,verticalAnchor:g},E):a==="insideTopRight"?mn({x:o+c-x,y:l+p,textAnchor:y,verticalAnchor:g},E):a==="insideBottomLeft"?mn({x:o+x,y:l+u-p,textAnchor:w,verticalAnchor:h},E):a==="insideBottomRight"?mn({x:o+c-x,y:l+u-p,textAnchor:y,verticalAnchor:h},E):ff(a)&&(Be(a.x)||bc(a.x))&&(Be(a.y)||bc(a.y))?mn({x:o+ai(a.x,c),y:l+ai(a.y,u),textAnchor:"end",verticalAnchor:"end"},E):mn({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Koe=function(e){return"cx"in e&&Be(e.cx)};function Nn(t){var e=t.offset,r=e===void 0?5:e,n=Doe(t,Toe),i=mn({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,p=i.textBreakAll;if(!a||Ot(o)&&Ot(l)&&!Y.isValidElement(c)&&!bt(c))return null;if(Y.isValidElement(c))return Y.cloneElement(c,i);var h;if(bt(c)){if(h=Y.createElement(c,i),Y.isValidElement(h))return h}else h=qoe(i);var g=Koe(a),v=ft(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Hoe(i,h,v);var x=g?Voe(i):Goe(i);return le.createElement(Dc,Mp({className:It("recharts-label",f)},v,x,{breakAll:p}),h)}Nn.displayName="Label";var PI=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,p=e.y,h=e.top,g=e.left,v=e.width,x=e.height,y=e.clockWise,w=e.labelViewBox;if(w)return w;if(Be(v)&&Be(x)){if(Be(f)&&Be(p))return{x:f,y:p,width:v,height:x};if(Be(h)&&Be(g))return{x:h,y:g,width:v,height:x}}return Be(f)&&Be(p)?{x:f,y:p,width:0,height:0}:Be(r)&&Be(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:e.viewBox?e.viewBox:{}},Yoe=function(e,r){return e?e===!0?le.createElement(Nn,{key:"label-implicit",viewBox:r}):xn(e)?le.createElement(Nn,{key:"label-implicit",viewBox:r,value:e}):Y.isValidElement(e)?e.type===Nn?Y.cloneElement(e,{key:"label-implicit",viewBox:r}):le.createElement(Nn,{key:"label-implicit",content:e,viewBox:r}):bt(e)?le.createElement(Nn,{key:"label-implicit",content:e,viewBox:r}):ff(e)?le.createElement(Nn,Mp({viewBox:r},e,{key:"label-implicit"})):null:null},Xoe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=PI(e),s=Hi(i,Nn).map(function(l,c){return Y.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return s;var o=Yoe(e.label,r||a);return[o].concat(Loe(s))};Nn.parseViewBox=PI;Nn.renderCallByParent=Xoe;function Joe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Zoe=Joe;const Qoe=ar(Zoe);function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}var ele=["valueAccessor"],tle=["data","dataKey","clockWise","id","textBreakAll"];function rle(t){return sle(t)||ale(t)||ile(t)||nle()}function nle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ile(t,e){if(t){if(typeof t=="string")return Bw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bw(t,e)}}function ale(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sle(t){if(Array.isArray(t))return Bw(t)}function Bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pv.apply(this,arguments)}function _k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(r),!0).forEach(function(n){ole(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ole(t,e,r){return e=lle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lle(t){var e=cle(t,"string");return Dp(e)=="symbol"?e:e+""}function cle(t,e){if(Dp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jk(t,e){if(t==null)return{};var r=ule(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ule(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var dle=function(e){return Array.isArray(e.value)?Qoe(e.value):e.value};function io(t){var e=t.valueAccessor,r=e===void 0?dle:e,n=jk(t,ele),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=jk(n,tle);return!i||!i.length?null:le.createElement(Gt,{className:"recharts-label-list"},i.map(function(u,f){var p=Ot(a)?r(u,f):yn(u&&u.payload,a),h=Ot(o)?{}:{id:"".concat(o,"-").concat(f)};return le.createElement(Nn,Pv({},ft(u,!0),c,h,{parentViewBox:u.parentViewBox,value:p,textBreakAll:l,viewBox:Nn.parseViewBox(Ot(s)?u:Sk(Sk({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}io.displayName="LabelList";function fle(t,e){return t?t===!0?le.createElement(io,{key:"labelList-implicit",data:e}):le.isValidElement(t)||bt(t)?le.createElement(io,{key:"labelList-implicit",data:e,content:t}):ff(t)?le.createElement(io,Pv({data:e},t,{key:"labelList-implicit"})):null:null}function hle(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Hi(n,io).map(function(s,o){return Y.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var a=fle(t.label,e);return[a].concat(rle(i))}io.renderCallByParent=hle;function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fw.apply(this,arguments)}function Ak(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(r),!0).forEach(function(n){ple(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ple(t,e,r){return e=mle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mle(t){var e=gle(t,"string");return Bp(e)=="symbol"?e:e+""}function gle(t,e){if(Bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vle=function(e,r){var n=ii(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Dg=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,f=Math.asin(l/u)/Ov,p=c?a:a+s*f,h=br(r,n,u,p),g=br(r,n,i,p),v=c?a-s*f:a,x=br(r,n,u*Math.cos(f*Ov),v);return{center:h,circleTangency:g,lineTangency:x,theta:f}},EI=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=vle(s,o),c=s+l,u=br(r,n,a,s),f=br(r,n,a,c),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=br(r,n,i,s),g=br(r,n,i,c);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},yle=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=ii(u-c),p=Dg({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),h=p.circleTangency,g=p.lineTangency,v=p.theta,x=Dg({cx:r,cy:n,radius:a,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),y=x.circleTangency,w=x.lineTangency,_=x.theta,j=l?Math.abs(c-u):Math.abs(c-u)-v-_;if(j<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):EI({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var k=Dg({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=k.circleTangency,L=k.lineTangency,I=k.theta,U=Dg({cx:r,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=U.circleTangency,T=U.lineTangency,D=U.theta,F=l?Math.abs(c-u):Math.abs(c-u)-I-D;if(F<0&&s===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(L.x,",").concat(L.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},ble={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CI=function(e){var r=Nk(Nk({},ble),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,p=r.className;if(s<a||u===f)return null;var h=It("recharts-sector",p),g=s-a,v=ai(o,g,0,!0),x;return v>0&&Math.abs(u-f)<360?x=yle({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(v,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):x=EI({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f}),le.createElement("path",Fw({},ft(r,!0),{className:h,d:x,role:"img"}))};function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function Uw(){return Uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uw.apply(this,arguments)}function kk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ok(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(r),!0).forEach(function(n){xle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xle(t,e,r){return e=wle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wle(t){var e=_le(t,"string");return Fp(e)=="symbol"?e:e+""}function _le(t,e){if(Fp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pk={curveBasisClosed:xG,curveBasisOpen:wG,curveBasis:bG,curveBumpX:aG,curveBumpY:sG,curveLinearClosed:_G,curveLinear:Wy,curveMonotoneX:SG,curveMonotoneY:jG,curveNatural:AG,curveStep:NG,curveStepAfter:OG,curveStepBefore:kG},Bg=function(e){return e.x===+e.x&&e.y===+e.y},ph=function(e){return e.x},mh=function(e){return e.y},Sle=function(e,r){if(bt(e))return e;var n="curve".concat(zy(e));return(n==="curveMonotone"||n==="curveBump")&&r?Pk["".concat(n).concat(r==="vertical"?"Y":"X")]:Pk[n]||Wy},jle=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=Sle(n,o),f=c?a.filter(function(v){return Bg(v)}):a,p;if(Array.isArray(s)){var h=c?s.filter(function(v){return Bg(v)}):s,g=f.map(function(v,x){return Ok(Ok({},v),{},{base:h[x]})});return o==="vertical"?p=Pg().y(mh).x1(ph).x0(function(v){return v.base.x}):p=Pg().x(ph).y1(mh).y0(function(v){return v.base.y}),p.defined(Bg).curve(u),p(g)}return o==="vertical"&&Be(s)?p=Pg().y(mh).x1(ph).x0(s):Be(s)?p=Pg().x(ph).y1(mh).y0(s):p=A8().x(ph).y(mh),p.defined(Bg).curve(u),p(f)},Ev=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?jle(e):i;return Y.createElement("path",Uw({},ft(e,!1),ev(e),{className:It("recharts-curve",r),d:s,ref:a}))},TI={exports:{}},Ale="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Nle=Ale,kle=Nle;function LI(){}function II(){}II.resetWarningCache=LI;var Ole=function(){function t(n,i,a,s,o,l){if(l!==kle){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:II,resetWarningCache:LI};return r.PropTypes=r,r};TI.exports=Ole();var Ple=TI.exports;const er=ar(Ple);var Ele=Object.getOwnPropertyNames,Cle=Object.getOwnPropertySymbols,Tle=Object.prototype.hasOwnProperty;function Ek(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Fg(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function Lle(t){return t!=null?t[Symbol.toStringTag]:void 0}function Ck(t){return Ele(t).concat(Cle(t))}var Ile=Object.hasOwn||function(t,e){return Tle.call(t,e)};function Qc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var $le="__v",Rle="__o",Mle="_owner",Tk=Object.getOwnPropertyDescriptor,Lk=Object.keys;function Dle(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Ble(t,e){return Qc(t.getTime(),e.getTime())}function Fle(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Ule(t,e){return t===e}function Ik(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var c=e.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(i[f]){f++;continue}var p=s.value,h=o.value;if(r.equals(p[0],h[0],l,f,t,e,r)&&r.equals(p[1],h[1],p[0],h[0],t,e,r)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var zle=Qc;function qle(t,e,r){var n=Lk(t),i=n.length;if(Lk(e).length!==i)return!1;for(;i-- >0;)if(!$I(t,e,r,n[i]))return!1;return!0}function gh(t,e,r){var n=Ck(t),i=n.length;if(Ck(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!$I(t,e,r,a)||(s=Tk(t,a),o=Tk(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function Wle(t,e){return Qc(t.valueOf(),e.valueOf())}function Hle(t,e){return t.source===e.source&&t.flags===e.flags}function $k(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!i[u]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Vle(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Gle(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function $I(t,e,r,n){return(n===Mle||n===Rle||n===$le)&&(t.$$typeof||e.$$typeof)?!0:Ile(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Kle="[object Arguments]",Yle="[object Boolean]",Xle="[object Date]",Jle="[object Error]",Zle="[object Map]",Qle="[object Number]",ece="[object Object]",tce="[object RegExp]",rce="[object Set]",nce="[object String]",ice="[object URL]",ace=Array.isArray,Rk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Mk=Object.assign,sce=Object.prototype.toString.call.bind(Object.prototype.toString);function oce(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,f=t.areTypedArraysEqual,p=t.areUrlsEqual,h=t.unknownTagComparators;return function(v,x,y){if(v===x)return!0;if(v==null||x==null)return!1;var w=typeof v;if(w!==typeof x)return!1;if(w!=="object")return w==="number"?s(v,x,y):w==="function"?i(v,x,y):!1;var _=v.constructor;if(_!==x.constructor)return!1;if(_===Object)return o(v,x,y);if(ace(v))return e(v,x,y);if(Rk!=null&&Rk(v))return f(v,x,y);if(_===Date)return r(v,x,y);if(_===RegExp)return c(v,x,y);if(_===Map)return a(v,x,y);if(_===Set)return u(v,x,y);var j=sce(v);if(j===Xle)return r(v,x,y);if(j===tce)return c(v,x,y);if(j===Zle)return a(v,x,y);if(j===rce)return u(v,x,y);if(j===ece)return typeof v.then!="function"&&typeof x.then!="function"&&o(v,x,y);if(j===ice)return p(v,x,y);if(j===Jle)return n(v,x,y);if(j===Kle)return o(v,x,y);if(j===Yle||j===Qle||j===nce)return l(v,x,y);if(h){var S=h[j];if(!S){var k=Lle(v);k&&(S=h[k])}if(S)return S(v,x,y)}return!1}}function lce(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?gh:Dle,areDatesEqual:Ble,areErrorsEqual:Fle,areFunctionsEqual:Ule,areMapsEqual:n?Ek(Ik,gh):Ik,areNumbersEqual:zle,areObjectsEqual:n?gh:qle,arePrimitiveWrappersEqual:Wle,areRegExpsEqual:Hle,areSetsEqual:n?Ek($k,gh):$k,areTypedArraysEqual:n?gh:Vle,areUrlsEqual:Gle,unknownTagComparators:void 0};if(r&&(i=Mk({},i,r(i))),e){var a=Fg(i.areArraysEqual),s=Fg(i.areMapsEqual),o=Fg(i.areObjectsEqual),l=Fg(i.areSetsEqual);i=Mk({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function cce(t){return function(e,r,n,i,a,s,o){return t(e,r,o)}}function uce(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,c){var u=n(),f=u.cache,p=f===void 0?e?new WeakMap:void 0:f,h=u.meta;return r(l,c,{cache:p,equals:i,meta:h,strict:a})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,s)}}var dce=kl();kl({strict:!0});kl({circular:!0});kl({circular:!0,strict:!0});kl({createInternalComparator:function(){return Qc}});kl({strict:!0,createInternalComparator:function(){return Qc}});kl({circular:!0,createInternalComparator:function(){return Qc}});kl({circular:!0,createInternalComparator:function(){return Qc},strict:!0});function kl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=lce(t),l=oce(o),c=n?n(l):cce(l);return uce({circular:r,comparator:l,createState:i,equals:c,strict:s})}function fce(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Dk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):fce(i)};requestAnimationFrame(n)}function zw(t){"@babel/helpers - typeof";return zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zw(t)}function hce(t){return vce(t)||gce(t)||mce(t)||pce()}function pce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mce(t,e){if(t){if(typeof t=="string")return Bk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bk(t,e)}}function Bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vce(t){if(Array.isArray(t))return t}function yce(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=hce(s),l=o[0],c=o.slice(1);if(typeof l=="number"){Dk(i.bind(null,c),l);return}i(l),Dk(i.bind(null,c));return}zw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function Fk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Uk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(r),!0).forEach(function(n){RI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RI(t,e,r){return e=bce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bce(t){var e=xce(t,"string");return Up(e)==="symbol"?e:String(e)}function xce(t,e){if(Up(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Up(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wce=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},_ce=function(e){return e},Sce=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},zh=function(e,r){return Object.keys(r).reduce(function(n,i){return Uk(Uk({},n),{},RI({},i,e(i,r[i])))},{})},zk=function(e,r,n){return e.map(function(i){return"".concat(Sce(i)," ").concat(r,"ms ").concat(n)}).join(",")};function jce(t,e){return kce(t)||Nce(t,e)||MI(t,e)||Ace()}function Ace(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function kce(t){if(Array.isArray(t))return t}function Oce(t){return Cce(t)||Ece(t)||MI(t)||Pce()}function Pce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MI(t,e){if(t){if(typeof t=="string")return qw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qw(t,e)}}function Ece(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cce(t){if(Array.isArray(t))return qw(t)}function qw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Cv=1e-4,DI=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},BI=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},qk=function(e,r){return function(n){var i=DI(e,r);return BI(i,n)}},Tce=function(e,r){return function(n){var i=DI(e,r),a=[].concat(Oce(i.map(function(s,o){return s*o}).slice(1)),[0]);return BI(a,n)}},Wk=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=jce(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var f=qk(i,s),p=qk(a,o),h=Tce(i,s),g=function(y){return y>1?1:y<0?0:y},v=function(y){for(var w=y>1?1:y,_=w,j=0;j<8;++j){var S=f(_)-w,k=h(_);if(Math.abs(S-w)<Cv||k<Cv)return p(_);_=g(_-S/k)}return p(_)};return v.isStepper=!1,v},Lce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(u,f,p){var h=-(u-f)*n,g=p*a,v=p+(h-g)*o/1e3,x=p*o/1e3+u;return Math.abs(x-f)<Cv&&Math.abs(v)<Cv?[f,0]:[x,v]};return l.isStepper=!0,l.dt=o,l},Ice=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Wk(i);case"spring":return Lce();default:if(i.split("(")[0]==="cubic-bezier")return Wk(i)}return typeof i=="function"?i:null};function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function Hk(t){return Mce(t)||Rce(t)||FI(t)||$ce()}function $ce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mce(t){if(Array.isArray(t))return Hw(t)}function Vk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function In(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(r),!0).forEach(function(n){Ww(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ww(t,e,r){return e=Dce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dce(t){var e=Bce(t,"string");return zp(e)==="symbol"?e:String(e)}function Bce(t,e){if(zp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fce(t,e){return qce(t)||zce(t,e)||FI(t,e)||Uce()}function Uce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FI(t,e){if(t){if(typeof t=="string")return Hw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hw(t,e)}}function Hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function qce(t){if(Array.isArray(t))return t}var Tv=function(e,r,n){return e+(r-e)*n},Vw=function(e){var r=e.from,n=e.to;return r!==n},Wce=function t(e,r,n){var i=zh(function(a,s){if(Vw(s)){var o=e(s.from,s.to,s.velocity),l=Fce(o,2),c=l[0],u=l[1];return In(In({},s),{},{from:c,velocity:u})}return s},r);return n<1?zh(function(a,s){return Vw(s)?In(In({},s),{},{velocity:Tv(s.velocity,i[a].velocity,n),from:Tv(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const Hce=function(t,e,r,n,i){var a=wce(t,e),s=a.reduce(function(x,y){return In(In({},x),{},Ww({},y,[t[y],e[y]]))},{}),o=a.reduce(function(x,y){return In(In({},x),{},Ww({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,c,u,f=function(){return null},p=function(){return zh(function(y,w){return w.from},o)},h=function(){return!Object.values(o).filter(Vw).length},g=function(y){c||(c=y);var w=y-c,_=w/r.dt;o=Wce(r,o,_),i(In(In(In({},t),e),p())),c=y,h()||(l=requestAnimationFrame(f))},v=function(y){u||(u=y);var w=(y-u)/n,_=zh(function(S,k){return Tv.apply(void 0,Hk(k).concat([r(w)]))},s);if(i(In(In(In({},t),e),_)),w<1)l=requestAnimationFrame(f);else{var j=zh(function(S,k){return Tv.apply(void 0,Hk(k).concat([r(1)]))},s);i(In(In(In({},t),e),j))}};return f=r.isStepper?g:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}var Vce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Gce(t,e){if(t==null)return{};var r=Kce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kce(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function sx(t){return Zce(t)||Jce(t)||Xce(t)||Yce()}function Yce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xce(t,e){if(t){if(typeof t=="string")return Gw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gw(t,e)}}function Jce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zce(t){if(Array.isArray(t))return Gw(t)}function Gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ea(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(r),!0).forEach(function(n){Nh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nh(t,e,r){return e=UI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UI(n.key),n)}}function tue(t,e,r){return e&&eue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UI(t){var e=rue(t,"string");return Dd(e)==="symbol"?e:String(e)}function rue(t,e){if(Dd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kw(t,e)}function Kw(t,e){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kw(t,e)}function iue(t){var e=aue();return function(){var n=Lv(t),i;if(e){var a=Lv(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Yw(this,i)}}function Yw(t,e){if(e&&(Dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xw(t)}function Xw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lv(t){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lv(t)}var ws=function(t){nue(r,t);var e=iue(r);function r(n,i){var a;Qce(this,r),a=e.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,p=s.children,h=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Xw(a)),a.changeStyle=a.changeStyle.bind(Xw(a)),!o||h<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:u}),Yw(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof p=="function")return a.state={style:c},Yw(a);a.state={style:l?Nh({},l,c):c}}else a.state={style:{}};return a}return tue(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,p=this.state.style;if(o){if(!s){var h={style:l?Nh({},l,u):u};this.state&&p&&(l&&p[l]!==u||!l&&p!==u)&&this.setState(h);return}if(!(dce(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=g||c?f:i.to;if(this.state&&p){var x={style:l?Nh({},l,v):v};(l&&p[l]!==v||!l&&p!==v)&&this.setState(x)}this.runAnimation(Ea(Ea({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,h=Hce(s,o,Ice(c),l,this.changeStyle),g=function(){a.stopJSAnimation=h()};this.manager.start([p,u,g,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,f=c.duration,p=f===void 0?0:f,h=function(v,x,y){if(y===0)return v;var w=x.duration,_=x.easing,j=_===void 0?"ease":_,S=x.style,k=x.properties,E=x.onAnimationEnd,L=y>0?s[y-1]:x,I=k||Object.keys(S);if(typeof j=="function"||j==="spring")return[].concat(sx(v),[a.runJSAnimation.bind(a,{from:L.style,to:S,duration:w,easing:j}),w]);var U=zk(I,w,j),O=Ea(Ea(Ea({},L.style),S),{},{transition:U});return[].concat(sx(v),[O,w,E]).filter(_ce)};return this.manager.start([l].concat(sx(s.reduce(h,[u,Math.max(p,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=yce());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,h=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var v=o?Nh({},o,l):l,x=zk(Object.keys(v),s,c);g.start([u,a,Ea(Ea({},v),{},{transition:x}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Gce(i,Vce),c=Y.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var f=function(h){var g=h.props,v=g.style,x=v===void 0?{}:v,y=g.className,w=Y.cloneElement(h,Ea(Ea({},l),{},{style:Ea(Ea({},x),u),className:y}));return w};return c===1?f(Y.Children.only(a)):le.createElement("div",null,Y.Children.map(a,function(p){return f(p)}))}}]),r}(Y.PureComponent);ws.displayName="Animate";ws.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ws.propTypes={from:er.oneOfType([er.object,er.string]),to:er.oneOfType([er.object,er.string]),attributeName:er.string,duration:er.number,begin:er.number,easing:er.oneOfType([er.string,er.func]),steps:er.arrayOf(er.shape({duration:er.number.isRequired,style:er.object.isRequired,easing:er.oneOfType([er.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),er.func]),properties:er.arrayOf("string"),onAnimationEnd:er.func})),children:er.oneOfType([er.node,er.func]),isActive:er.bool,canBegin:er.bool,onAnimationEnd:er.func,shouldReAnimate:er.bool,onAnimationStart:er.func,onAnimationReStart:er.func};function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iv.apply(this,arguments)}function sue(t,e){return uue(t)||cue(t,e)||lue(t,e)||oue()}function oue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lue(t,e){if(t){if(typeof t=="string")return Kk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kk(t,e)}}function Kk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function uue(t){if(Array.isArray(t))return t}function Yk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(r),!0).forEach(function(n){due(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function due(t,e,r){return e=fue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fue(t){var e=hue(t,"string");return qp(e)=="symbol"?e:e+""}function hue(t,e){if(qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jk=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=a[p]>s?s:a[p];u="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),u+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+o*f[1])),u+="L ".concat(e+n,",").concat(r+i-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),u+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-o*f[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var g=Math.min(s,a);u="M ".concat(e,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(r,`
            L `).concat(e+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+n,",").concat(r+o*g,`
            L `).concat(e+n,",").concat(r+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+n-l*g,",").concat(r+i,`
            L `).concat(e+l*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(r+i-o*g," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},pue=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),f=Math.min(s,s+l),p=Math.max(s,s+l);return n>=c&&n<=u&&i>=f&&i<=p}return!1},mue={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qS=function(e){var r=Xk(Xk({},mue),e),n=Y.useRef(),i=Y.useState(-1),a=sue(i,2),s=a[0],o=a[1];Y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&o(j)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,p=r.radius,h=r.className,g=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isAnimationActive,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var _=It("recharts-rectangle",h);return w?le.createElement(ws,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:v,animationEasing:g,isActive:w},function(j){var S=j.width,k=j.height,E=j.x,L=j.y;return le.createElement(ws,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:y,easing:g},le.createElement("path",Iv({},ft(r,!0),{className:_,d:Jk(E,L,S,k,p),ref:n})))}):le.createElement("path",Iv({},ft(r,!0),{className:_,d:Jk(l,c,u,f,p)}))},gue=["points","className","baseLinePoints","connectNulls"];function Yu(){return Yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yu.apply(this,arguments)}function vue(t,e){if(t==null)return{};var r=yue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Zk(t){return _ue(t)||wue(t)||xue(t)||bue()}function bue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xue(t,e){if(t){if(typeof t=="string")return Jw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jw(t,e)}}function wue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ue(t){if(Array.isArray(t))return Jw(t)}function Jw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Qk=function(e){return e&&e.x===+e.x&&e.y===+e.y},Sue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){Qk(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Qk(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},qh=function(e,r){var n=Sue(e);r&&(n=[n.reduce(function(a,s){return[].concat(Zk(a),Zk(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},jue=function(e,r,n){var i=qh(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(qh(r.reverse(),n).slice(1))},Aue=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=vue(e,gue);if(!r||!r.length)return null;var o=It("recharts-polygon",n);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",c=jue(r,i,a);return le.createElement("g",{className:o},le.createElement("path",Yu({},ft(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?le.createElement("path",Yu({},ft(s,!0),{fill:"none",d:qh(r,a)})):null,l?le.createElement("path",Yu({},ft(s,!0),{fill:"none",d:qh(i,a)})):null)}var u=qh(r,a);return le.createElement("path",Yu({},ft(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:o,d:u}))};function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zw.apply(this,arguments)}var o1=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=It("recharts-dot",a);return r===+r&&n===+n&&i===+i?Y.createElement("circle",Zw({},ft(e,!1),ev(e),{className:s,cx:r,cy:n,r:i})):null};function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}var Nue=["x","y","top","left","width","height","className"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qw.apply(this,arguments)}function eO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(r),!0).forEach(function(n){Oue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oue(t,e,r){return e=Pue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pue(t){var e=Eue(t,"string");return Wp(e)=="symbol"?e:e+""}function Eue(t,e){if(Wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cue(t,e){if(t==null)return{};var r=Tue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Lue=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},Iue=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,p=e.height,h=p===void 0?0:p,g=e.className,v=Cue(e,Nue),x=kue({x:n,y:a,top:o,left:c,width:f,height:h},v);return!Be(n)||!Be(a)||!Be(f)||!Be(h)||!Be(o)||!Be(c)?null:le.createElement("path",Qw({},ft(x,!0),{className:It("recharts-cross",g),d:Lue(n,a,f,h,o,c)}))},$ue=r1,Rue=QL,Mue=Ss;function Due(t,e){return t&&t.length?$ue(t,Mue(e),Rue):void 0}var Bue=Due;const Fue=ar(Bue);var Uue=r1,zue=Ss,que=eI;function Wue(t,e){return t&&t.length?Uue(t,zue(e),que):void 0}var Hue=Wue;const Vue=ar(Hue);var Gue=["cx","cy","angle","ticks","axisLine"],Kue=["ticks","tick","angle","tickFormatter","stroke"];function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wh.apply(this,arguments)}function tO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(r),!0).forEach(function(n){l1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rO(t,e){if(t==null)return{};var r=Yue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Xue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qI(n.key),n)}}function Jue(t,e,r){return e&&nO(t.prototype,e),r&&nO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zue(t,e,r){return e=$v(e),Que(t,zI()?Reflect.construct(e,r||[],$v(t).constructor):e.apply(t,r))}function Que(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ede(t)}function ede(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zI=function(){return!!t})()}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$v(t)}function tde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e5(t,e)}function e5(t,e){return e5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e5(t,e)}function l1(t,e,r){return e=qI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qI(t){var e=rde(t,"string");return Bd(e)=="symbol"?e:e+""}function rde(t,e){if(Bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var c1=function(t){function e(){return Xue(this,e),Zue(this,e,arguments)}return tde(e,t),Jue(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return br(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=Fue(o,function(u){return u.coordinate||0}),c=Vue(o,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=n.axisLine,c=rO(n,Gue),u=o.reduce(function(g,v){return[Math.min(g[0],v.coordinate),Math.max(g[1],v.coordinate)]},[1/0,-1/0]),f=br(i,a,u[0],s),p=br(i,a,u[1],s),h=tc(tc(tc({},ft(c,!1)),{},{fill:"none"},ft(l,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return le.createElement("line",Wh({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,u=rO(i,Kue),f=this.getTickTextAnchor(),p=ft(u,!1),h=ft(s,!1),g=a.map(function(v,x){var y=n.getTickValueCoord(v),w=tc(tc(tc(tc({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(y.x,", ").concat(y.y,")")},p),{},{stroke:"none",fill:c},h),{},{index:x},y),{},{payload:v});return le.createElement(Gt,Wh({className:It("recharts-polar-radius-axis-tick",OI(s)),key:"tick-".concat(v.coordinate)},Mc(n.props,v,x)),e.renderTickItem(s,w,l?l(v.value,x):v.value))});return le.createElement(Gt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:le.createElement(Gt,{className:It("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Nn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return le.isValidElement(n)?s=le.cloneElement(n,i):bt(n)?s=n(i):s=le.createElement(Dc,Wh({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(Y.PureComponent);l1(c1,"displayName","PolarRadiusAxis");l1(c1,"axisType","radiusAxis");l1(c1,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function hc(){return hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hc.apply(this,arguments)}function iO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(r),!0).forEach(function(n){u1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HI(n.key),n)}}function ide(t,e,r){return e&&aO(t.prototype,e),r&&aO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ade(t,e,r){return e=Rv(e),sde(t,WI()?Reflect.construct(e,r||[],Rv(t).constructor):e.apply(t,r))}function sde(t,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ode(t)}function ode(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WI=function(){return!!t})()}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rv(t)}function lde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t5(t,e)}function t5(t,e){return t5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},t5(t,e)}function u1(t,e,r){return e=HI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HI(t){var e=cde(t,"string");return Fd(e)=="symbol"?e:e+""}function cde(t,e){if(Fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ude=Math.PI/180,sO=1e-5,d1=function(t){function e(){return nde(this,e),ade(this,e,arguments)}return lde(e,t),ide(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,u=c||8,f=br(a,s,o,n.coordinate),p=br(a,s,o+(l==="inner"?-1:1)*u,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*ude),s;return a>sO?s=i==="outer"?"start":"end":a<-sO?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,o=n.axisLine,l=n.axisLineType,c=rc(rc({},ft(this.props,!1)),{},{fill:"none"},ft(o,!1));if(l==="circle")return le.createElement(o1,hc({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:s}));var u=this.props.ticks,f=u.map(function(p){return br(i,a,s,p.coordinate)});return le.createElement(Aue,hc({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,u=ft(this.props,!1),f=ft(s,!1),p=rc(rc({},u),{},{fill:"none"},ft(o,!1)),h=a.map(function(g,v){var x=n.getTickLineCoord(g),y=n.getTickTextAnchor(g),w=rc(rc(rc({textAnchor:y},u),{},{stroke:"none",fill:c},f),{},{index:v,payload:g,x:x.x2,y:x.y2});return le.createElement(Gt,hc({className:It("recharts-polar-angle-axis-tick",OI(s)),key:"tick-".concat(g.coordinate)},Mc(n.props,g,v)),o&&le.createElement("line",hc({className:"recharts-polar-angle-axis-tick-line"},p,x)),s&&e.renderTickItem(s,w,l?l(g.value,v):g.value))});return le.createElement(Gt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:le.createElement(Gt,{className:It("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return le.isValidElement(n)?s=le.cloneElement(n,i):bt(n)?s=n(i):s=le.createElement(Dc,hc({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(Y.PureComponent);u1(d1,"displayName","PolarAngleAxis");u1(d1,"axisType","angleAxis");u1(d1,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var dde=Y8,fde=dde(Object.getPrototypeOf,Object),hde=fde,pde=yo,mde=hde,gde=bo,vde="[object Object]",yde=Function.prototype,bde=Object.prototype,VI=yde.toString,xde=bde.hasOwnProperty,wde=VI.call(Object);function _de(t){if(!gde(t)||pde(t)!=vde)return!1;var e=mde(t);if(e===null)return!0;var r=xde.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&VI.call(r)==wde}var Sde=_de;const jde=ar(Sde);var Ade=yo,Nde=bo,kde="[object Boolean]";function Ode(t){return t===!0||t===!1||Nde(t)&&Ade(t)==kde}var Pde=Ode;const Ede=ar(Pde);function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mv.apply(this,arguments)}function Cde(t,e){return $de(t)||Ide(t,e)||Lde(t,e)||Tde()}function Tde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lde(t,e){if(t){if(typeof t=="string")return oO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oO(t,e)}}function oO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ide(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function $de(t){if(Array.isArray(t))return t}function lO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(r),!0).forEach(function(n){Rde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rde(t,e,r){return e=Mde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mde(t){var e=Dde(t,"string");return Hp(e)=="symbol"?e:e+""}function Dde(t,e){if(Hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uO=function(e,r,n,i,a){var s=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+a),o+="L ".concat(e+n-s/2-i,",").concat(r+a),o+="L ".concat(e,",").concat(r," Z"),o},Bde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Fde=function(e){var r=cO(cO({},Bde),e),n=Y.useRef(),i=Y.useState(-1),a=Cde(i,2),s=a[0],o=a[1];Y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,g=r.animationEasing,v=r.animationDuration,x=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||p!==+p||u===0&&f===0||p===0)return null;var w=It("recharts-trapezoid",h);return y?le.createElement(ws,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:p,x:l,y:c},duration:v,animationEasing:g,isActive:y},function(_){var j=_.upperWidth,S=_.lowerWidth,k=_.height,E=_.x,L=_.y;return le.createElement(ws,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:g},le.createElement("path",Mv({},ft(r,!0),{className:w,d:uO(E,L,j,S,k),ref:n})))}):le.createElement("g",null,le.createElement("path",Mv({},ft(r,!0),{className:w,d:uO(l,c,u,f,p)})))},Ude=["option","shapeType","propTransformer","activeClassName","isActive"];function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function zde(t,e){if(t==null)return{};var r=qde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(r),!0).forEach(function(n){Wde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wde(t,e,r){return e=Hde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hde(t){var e=Vde(t,"string");return Vp(e)=="symbol"?e:e+""}function Vde(t,e){if(Vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gde(t,e){return Dv(Dv({},e),t)}function Kde(t,e){return t==="symbols"}function fO(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return le.createElement(qS,r);case"trapezoid":return le.createElement(Fde,r);case"sector":return le.createElement(CI,r);case"symbols":if(Kde(e))return le.createElement(lS,r);break;default:return null}}function Yde(t){return Y.isValidElement(t)?t.props:t}function GI(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Gde:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=zde(t,Ude),c;if(Y.isValidElement(e))c=Y.cloneElement(e,Dv(Dv({},l),Yde(e)));else if(bt(e))c=e(l);else if(jde(e)&&!Ede(e)){var u=i(e,l);c=le.createElement(fO,{shapeType:r,elementProps:u})}else{var f=l;c=le.createElement(fO,{shapeType:r,elementProps:f})}return o?le.createElement(Gt,{className:s},c):c}function f1(t,e){return e!=null&&"trapezoids"in t.props}function h1(t,e){return e!=null&&"sectors"in t.props}function Gp(t,e){return e!=null&&"points"in t.props}function Xde(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Jde(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Zde(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Qde(t,e){var r;return f1(t,e)?r=Xde:h1(t,e)?r=Jde:Gp(t,e)&&(r=Zde),r}function efe(t,e){var r;return f1(t,e)?r="trapezoids":h1(t,e)?r="sectors":Gp(t,e)&&(r="points"),r}function tfe(t,e){if(f1(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(h1(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Gp(t,e)?e.payload:{}}function rfe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=efe(r,e),a=tfe(r,e),s=n.filter(function(l,c){var u=ym(a,l),f=r.props[i].filter(function(g){var v=Qde(r,e);return v(g,e)}),p=r.props[i].indexOf(f[f.length-1]),h=c===p;return u&&h}),o=n.indexOf(s[s.length-1]);return o}var u0;function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xu.apply(this,arguments)}function hO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(r),!0).forEach(function(n){ua(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YI(n.key),n)}}function ife(t,e,r){return e&&pO(t.prototype,e),r&&pO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function afe(t,e,r){return e=Bv(e),sfe(t,KI()?Reflect.construct(e,r||[],Bv(t).constructor):e.apply(t,r))}function sfe(t,e){if(e&&(Ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ofe(t)}function ofe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KI=function(){return!!t})()}function Bv(t){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bv(t)}function lfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r5(t,e)}function r5(t,e){return r5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r5(t,e)}function ua(t,e,r){return e=YI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YI(t){var e=cfe(t,"string");return Ud(e)=="symbol"?e:e+""}function cfe(t,e){if(Ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wo=function(t){function e(r){var n;return nfe(this,e),n=afe(this,e,[r]),ua(n,"pieRef",null),ua(n,"sectorRefs",[]),ua(n,"id",gf("recharts-pie-")),ua(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),bt(i)&&i()}),ua(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),bt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return lfe(e,t),ife(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,c=a.valueKey,u=ft(this.props,!1),f=ft(s,!1),p=ft(o,!1),h=s&&s.offsetRadius||20,g=n.map(function(v,x){var y=(v.startAngle+v.endAngle)/2,w=br(v.cx,v.cy,v.outerRadius+h,y),_=gr(gr(gr(gr({},u),v),{},{stroke:"none"},f),{},{index:x,textAnchor:e.getTextAnchor(w.x,v.cx)},w),j=gr(gr(gr(gr({},u),v),{},{fill:"none",stroke:v.fill},p),{},{index:x,points:[br(v.cx,v.cy,v.outerRadius,y),w]}),S=l;return Ot(l)&&Ot(c)?S="value":Ot(l)&&(S=c),le.createElement(Gt,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(x)},o&&e.renderLabelLineItem(o,j,"line"),e.renderLabelItem(s,_,yn(v,S)))});return le.createElement(Gt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return n.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(u),p=l&&i.hasActiveIndex()?l:null,h=f?s:p,g=gr(gr({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return le.createElement(Gt,Xu({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Mc(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),le.createElement(GI,Xu({option:h,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return le.createElement(ws,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var v=g.t,x=[],y=a&&a[0],w=y.startAngle;return a.forEach(function(_,j){var S=p&&p[j],k=j>0?Wi(_,"paddingAngle",0):0;if(S){var E=Mi(S.endAngle-S.startAngle,_.endAngle-_.startAngle),L=gr(gr({},_),{},{startAngle:w+k,endAngle:w+E(v)+k});x.push(L),w=L.endAngle}else{var I=_.endAngle,U=_.startAngle,O=Mi(0,I-U),T=O(v),D=gr(gr({},_),{},{startAngle:w+k,endAngle:w+T+k});x.push(D),w=D.endAngle}}),le.createElement(Gt,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!ym(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,c=i.cx,u=i.cy,f=i.innerRadius,p=i.outerRadius,h=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!s||!s.length||!Be(c)||!Be(u)||!Be(f)||!Be(p))return null;var v=It("recharts-pie",o);return le.createElement(Gt,{tabIndex:this.props.rootTabIndex,className:v,ref:function(y){n.pieRef=y}},this.renderSectors(),l&&this.renderLabels(s),Nn.renderCallByParent(this.props,null,!1),(!h||g)&&io.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(le.isValidElement(n))return le.cloneElement(n,i);if(bt(n))return n(i);var s=It("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return le.createElement(Ev,Xu({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(le.isValidElement(n))return le.cloneElement(n,i);var s=a;if(bt(n)&&(s=n(i),le.isValidElement(s)))return s;var o=It("recharts-pie-label-text",typeof n!="boolean"&&!bt(n)?n.className:"");return le.createElement(Dc,Xu({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(Y.PureComponent);u0=wo;ua(wo,"displayName","Pie");ua(wo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Xc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ua(wo,"parseDeltaAngle",function(t,e){var r=ii(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ua(wo,"getRealPieData",function(t){var e=t.data,r=t.children,n=ft(t,!1),i=Hi(r,hm);return e&&e.length?e.map(function(a,s){return gr(gr(gr({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return gr(gr({},n),a.props)}):[]});ua(wo,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,s=kI(i,a),o=n+ai(t.cx,i,i/2),l=r+ai(t.cy,a,a/2),c=ai(t.innerRadius,s,0),u=ai(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:u,maxRadius:f}});ua(wo,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?gr(gr({},e.type.defaultProps),e.props):e.props,i=u0.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,o=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,f=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),g=u0.parseCoordinateOfPie(n,r),v=u0.parseDeltaAngle(s,o),x=Math.abs(v),y=c;Ot(c)&&Ot(f)?(Wa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Ot(c)&&(Wa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var w=i.filter(function(L){return yn(L,y,0)!==0}).length,_=(x>=360?w:w-1)*l,j=x-w*h-_,S=i.reduce(function(L,I){var U=yn(I,y,0);return L+(Be(U)?U:0)},0),k;if(S>0){var E;k=i.map(function(L,I){var U=yn(L,y,0),O=yn(L,u,I),T=(Be(U)?U:0)/S,D;I?D=E.endAngle+ii(v)*l*(U!==0?1:0):D=s;var F=D+ii(v)*((U!==0?h:0)+T*j),B=(D+F)/2,K=(g.innerRadius+g.outerRadius)/2,H=[{name:O,value:U,payload:L,dataKey:y,type:p}],$=br(g.cx,g.cy,K,B);return E=gr(gr(gr({percent:T,cornerRadius:a,name:O,tooltipPayload:H,midAngle:B,middleRadius:K,tooltipPosition:$},L),g),{},{value:yn(L,y),startAngle:D,endAngle:F,payload:L,paddingAngle:ii(v)*l}),E})}return gr(gr({},g),{},{sectors:k,data:i})});var ufe=Math.ceil,dfe=Math.max;function ffe(t,e,r,n){for(var i=-1,a=dfe(ufe((e-t)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=t,t+=r;return s}var hfe=ffe,pfe=pL,mO=1/0,mfe=17976931348623157e292;function gfe(t){if(!t)return t===0?t:0;if(t=pfe(t),t===mO||t===-mO){var e=t<0?-1:1;return e*mfe}return t===t?t:0}var XI=gfe,vfe=hfe,yfe=Ky,ox=XI;function bfe(t){return function(e,r,n){return n&&typeof n!="number"&&yfe(e,r,n)&&(r=n=void 0),e=ox(e),r===void 0?(r=e,e=0):r=ox(r),n=n===void 0?e<r?1:-1:ox(n),vfe(e,r,n,t)}}var xfe=bfe,wfe=xfe,_fe=wfe(),Sfe=_fe;const Fv=ar(Sfe);function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function gO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(r),!0).forEach(function(n){JI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JI(t,e,r){return e=jfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jfe(t){var e=Afe(t,"string");return Kp(e)=="symbol"?e:e+""}function Afe(t,e){if(Kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nfe=["Webkit","Moz","O","ms"],kfe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Nfe.reduce(function(a,s){return vO(vO({},a),{},JI({},s+n,r))},{});return i[e]=r,i};function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uv.apply(this,arguments)}function yO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(r),!0).forEach(function(n){Li(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ofe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QI(n.key),n)}}function Pfe(t,e,r){return e&&bO(t.prototype,e),r&&bO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Efe(t,e,r){return e=zv(e),Cfe(t,ZI()?Reflect.construct(e,r||[],zv(t).constructor):e.apply(t,r))}function Cfe(t,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tfe(t)}function Tfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZI=function(){return!!t})()}function zv(t){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zv(t)}function Lfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n5(t,e)}function n5(t,e){return n5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n5(t,e)}function Li(t,e,r){return e=QI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QI(t){var e=Ife(t,"string");return zd(e)=="symbol"?e:e+""}function Ife(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $fe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Fh().domain(Fv(0,l)).range([a,a+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},xO=function(e){return e.changedTouches&&!!e.changedTouches.length},qd=function(t){function e(r){var n;return Ofe(this,e),n=Efe(this,e,[r]),Li(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Li(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Li(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),Li(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Li(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Li(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Li(n,"handleSlideDragStart",function(i){var a=xO(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Lfe(e,t),Pfe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(i,a),p=Math.max(i,a),h=e.getIndexInRange(s,f),g=e.getIndexInRange(s,p);return{startIndex:h-h%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=yn(a[n],o,n);return bt(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,p=l.startIndex,h=l.endIndex,g=l.onChange,v=n.pageX-a;v>0?v=Math.min(v,c+u-f-o,c+u-f-s):v<0&&(v=Math.max(v,c-s,c-o));var x=this.getIndex({startX:s+v,endX:o+v});(x.startIndex!==p||x.endIndex!==h)&&g&&g(x),this.setState({startX:s+v,endX:o+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=xO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,f=u.x,p=u.width,h=u.travellerWidth,g=u.onChange,v=u.gap,x=u.data,y={startX:this.state.startX,endX:this.state.endX},w=n.pageX-a;w>0?w=Math.min(w,f+p-h-c):w<0&&(w=Math.max(w,f-c)),y[s]=c+w;var _=this.getIndex(y),j=_.startIndex,S=_.endIndex,k=function(){var L=x.length-1;return s==="startX"&&(o>l?j%v===0:S%v===0)||o<l&&S===L||s==="endX"&&(o>l?S%v===0:j%v===0)||o>l&&S===L};this.setState(Li(Li({},s,c+w),"brushMoveStartX",n.pageX),function(){g&&k()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],f=o.indexOf(u);if(f!==-1){var p=f+n;if(!(p===-1||p>=o.length)){var h=o[p];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(Li({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return le.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=Y.Children.only(c);return f?le.cloneElement(f,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,p=l.traveller,h=l.ariaLabel,g=l.data,v=l.startIndex,x=l.endIndex,y=Math.max(n,this.props.x),w=lx(lx({},ft(this.props,!1)),{},{x:y,y:c,width:u,height:f}),_=h||"Min value: ".concat((a=g[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=g[x])===null||s===void 0?void 0:s.name);return le.createElement(Gt,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,w))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return le.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,p=u.endX,h=5,g={pointerEvents:"none",fill:c};return le.createElement(Gt,{className:"recharts-brush-texts"},le.createElement(Dc,Uv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:s+o/2},g),this.getTextOfTick(i)),le.createElement(Dc,Uv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+h,y:s+o/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,g=p.endX,v=p.isTextActive,x=p.isSlideMoving,y=p.isTravellerMoving,w=p.isTravellerFocused;if(!i||!i.length||!Be(o)||!Be(l)||!Be(c)||!Be(u)||c<=0||u<=0)return null;var _=It("recharts-brush",a),j=le.Children.count(s)===1,S=kfe("userSelect","none");return le.createElement(Gt,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(h,g),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(g,"endX"),(v||x||y||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(a+o/2)-1;return le.createElement(le.Fragment,null,le.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),le.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),le.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return le.isValidElement(n)?a=le.cloneElement(n,i):bt(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return lx({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?$fe({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var p=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(Y.PureComponent);Li(qd,"displayName","Brush");Li(qd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Rfe=mS;function Mfe(t,e){var r;return Rfe(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var Dfe=Mfe,Bfe=U8,Ffe=Ss,Ufe=Dfe,zfe=wi,qfe=Ky;function Wfe(t,e,r){var n=zfe(t)?Bfe:Ufe;return r&&qfe(t,e,r)&&(e=void 0),n(t,Ffe(e))}var Hfe=Wfe;const Vfe=ar(Hfe);var ys=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},wO=cL;function Gfe(t,e,r){e=="__proto__"&&wO?wO(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Kfe=Gfe,Yfe=Kfe,Xfe=oL,Jfe=Ss;function Zfe(t,e){var r={};return e=Jfe(e),Xfe(t,function(n,i,a){Yfe(r,i,e(n,i,a))}),r}var Qfe=Zfe;const ehe=ar(Qfe);function the(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var rhe=the,nhe=mS;function ihe(t,e){var r=!0;return nhe(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var ahe=ihe,she=rhe,ohe=ahe,lhe=Ss,che=wi,uhe=Ky;function dhe(t,e,r){var n=che(t)?she:ohe;return r&&uhe(t,e,r)&&(e=void 0),n(t,lhe(e))}var fhe=dhe;const e$=ar(fhe);var hhe=["x","y"];function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function i5(){return i5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i5.apply(this,arguments)}function _O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(r),!0).forEach(function(n){phe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function phe(t,e,r){return e=mhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mhe(t){var e=ghe(t,"string");return Yp(e)=="symbol"?e:e+""}function ghe(t,e){if(Yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vhe(t,e){if(t==null)return{};var r=yhe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bhe(t,e){var r=t.x,n=t.y,i=vhe(t,hhe),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),p=parseInt(f,10);return vh(vh(vh(vh(vh({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:p,name:e.name,radius:e.radius})}function SO(t){return le.createElement(GI,i5({shapeType:"rectangle",propTransformer:bhe,activeClassName:"recharts-active-bar"},t))}var xhe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=Be(n)||WH(n);return a?e(n,i):(a||Fc(),r)}},whe=["value","background"],t$;function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function _he(t,e){if(t==null)return{};var r=She(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function She(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qv.apply(this,arguments)}function jO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(r),!0).forEach(function(n){tl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n$(n.key),n)}}function Ahe(t,e,r){return e&&AO(t.prototype,e),r&&AO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nhe(t,e,r){return e=Wv(e),khe(t,r$()?Reflect.construct(e,r||[],Wv(t).constructor):e.apply(t,r))}function khe(t,e){if(e&&(Wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ohe(t)}function Ohe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r$=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wv(t)}function Phe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a5(t,e)}function a5(t,e){return a5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a5(t,e)}function tl(t,e,r){return e=n$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n$(t){var e=Ehe(t,"string");return Wd(e)=="symbol"?e:e+""}function Ehe(t,e){if(Wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eu=function(t){function e(){var r;jhe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Nhe(this,e,[].concat(i)),tl(r,"state",{isAnimationFinished:!1}),tl(r,"id",gf("recharts-bar-")),tl(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),tl(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Phe(e,t),Ahe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=ft(this.props,!1);return n&&n.map(function(f,p){var h=p===l,g=h?c:s,v=rn(rn(rn({},u),f),{},{isActive:h,option:g,index:p,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return le.createElement(Gt,qv({className:"recharts-bar-rectangle"},Mc(i.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),le.createElement(SO,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,p=this.state.prevData;return le.createElement(ws,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var g=h.t,v=a.map(function(x,y){var w=p&&p[y];if(w){var _=Mi(w.x,x.x),j=Mi(w.y,x.y),S=Mi(w.width,x.width),k=Mi(w.height,x.height);return rn(rn({},x),{},{x:_(g),y:j(g),width:S(g),height:k(g)})}if(s==="horizontal"){var E=Mi(0,x.height),L=E(g);return rn(rn({},x),{},{y:x.y+x.height-L,height:L})}var I=Mi(0,x.width),U=I(g);return rn(rn({},x),{},{width:U})});return le.createElement(Gt,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!ym(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=ft(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,p=_he(c,whe);if(!f)return null;var h=rn(rn(rn(rn(rn({},p),{},{fill:"#eee"},f),l),Mc(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return le.createElement(SO,qv({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=Hi(u,bm);if(!f)return null;var p=c==="vertical"?s[0].height/2:s[0].width/2,h=function(x,y){var w=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:w,errorVal:yn(x,y)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return le.createElement(Gt,g,f.map(function(v){return le.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,p=n.height,h=n.isAnimationActive,g=n.background,v=n.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,y=It("recharts-bar",s),w=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,j=w||_,S=Ot(v)?this.id:v;return le.createElement(Gt,{className:y},w||_?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(S)},le.createElement("rect",{x:w?c:c-f/2,y:_?u:u-p/2,width:w?f:f*2,height:_?p:p*2}))):null,le.createElement(Gt,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,S),(!h||x)&&io.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(Y.PureComponent);t$=eu;tl(eu,"displayName","Bar");tl(eu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Xc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});tl(eu,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,p=t.offset,h=coe(n,r);if(!h)return null;var g=e.layout,v=r.type.defaultProps,x=v!==void 0?rn(rn({},v),r.props):r.props,y=x.dataKey,w=x.children,_=x.minPointSize,j=g==="horizontal"?s:a,S=c?j.scale.domain():null,k=goe({numericAxis:j}),E=Hi(w,hm),L=f.map(function(I,U){var O,T,D,F,B,K;c?O=uoe(c[u+U],S):(O=yn(I,y),Array.isArray(O)||(O=[k,O]));var H=xhe(_,t$.defaultProps.minPointSize)(O[1],U);if(g==="horizontal"){var $,J=[s.scale(O[0]),s.scale(O[1])],ie=J[0],se=J[1];T=pk({axis:a,ticks:o,bandSize:i,offset:h.offset,entry:I,index:U}),D=($=se??ie)!==null&&$!==void 0?$:void 0,F=h.size;var P=ie-se;if(B=Number.isNaN(P)?0:P,K={x:T,y:s.y,width:F,height:s.height},Math.abs(H)>0&&Math.abs(B)<Math.abs(H)){var z=ii(B||H)*(Math.abs(H)-Math.abs(B));D-=z,B+=z}}else{var V=[a.scale(O[0]),a.scale(O[1])],re=V[0],ne=V[1];if(T=re,D=pk({axis:s,ticks:l,bandSize:i,offset:h.offset,entry:I,index:U}),F=ne-re,B=h.size,K={x:a.x,y:D,width:a.width,height:B},Math.abs(H)>0&&Math.abs(F)<Math.abs(H)){var ue=ii(F||H)*(Math.abs(H)-Math.abs(F));F+=ue}}return rn(rn(rn({},I),{},{x:T,y:D,width:F,height:B,value:c?O:O[1],payload:I,background:K},E&&E[U]&&E[U].props),{},{tooltipPayload:[AI(r,I)],tooltipPosition:{x:T+F/2,y:D+B/2}})});return rn({data:L,layout:g},p)});function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function Che(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i$(n.key),n)}}function The(t,e,r){return e&&NO(t.prototype,e),r&&NO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ma(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(r),!0).forEach(function(n){p1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p1(t,e,r){return e=i$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i$(t){var e=Lhe(t,"string");return Xp(e)=="symbol"?e:e+""}function Lhe(t,e){if(Xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a$=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},p=!!$i(c,eu);return u.reduce(function(h,g){var v=r[g],x=v.orientation,y=v.domain,w=v.padding,_=w===void 0?{}:w,j=v.mirror,S=v.reversed,k="".concat(x).concat(j?"Mirror":""),E,L,I,U,O;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var T=y[1]-y[0],D=1/0,F=v.categoricalDomain.sort(GH);if(F.forEach(function(V,re){re>0&&(D=Math.min((V||0)-(F[re-1]||0),D))}),Number.isFinite(D)){var B=D/T,K=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(E=B*K/2),v.padding==="no-gap"){var H=ai(e.barCategoryGap,B*K),$=B*K/2;E=$-H-($-H)/K*H}}}i==="xAxis"?L=[n.left+(_.left||0)+(E||0),n.left+n.width-(_.right||0)-(E||0)]:i==="yAxis"?L=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(E||0),n.top+n.height-(_.bottom||0)-(E||0)]:L=v.range,S&&(L=[L[1],L[0]]);var J=wI(v,a,p),ie=J.scale,se=J.realScaleType;ie.domain(y).range(L),_I(ie);var P=SI(ie,Ma(Ma({},v),{},{realScaleType:se}));i==="xAxis"?(O=x==="top"&&!j||x==="bottom"&&j,I=n.left,U=f[k]-O*v.height):i==="yAxis"&&(O=x==="left"&&!j||x==="right"&&j,I=f[k]-O*v.width,U=n.top);var z=Ma(Ma(Ma({},v),P),{},{realScaleType:se,x:I,y:U,scale:ie,width:i==="xAxis"?n.width:v.width,height:i==="yAxis"?n.height:v.height});return z.bandSize=kv(z,P),!v.hide&&i==="xAxis"?f[k]+=(O?-1:1)*z.height:v.hide||(f[k]+=(O?-1:1)*z.width),Ma(Ma({},h),{},p1({},g,z))},{})},s$=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},Ihe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return s$({x:r,y:n},{x:i,y:a})},o$=function(){function t(e){Che(this,t),this.scale=e}return The(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();p1(o$,"EPS",1e-4);var WS=function(e){var r=Object.keys(e).reduce(function(n,i){return Ma(Ma({},n),{},p1({},i,o$.create(e[i])))},{});return Ma(Ma({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return ehe(i,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return e$(i,function(a,s){return r[s].isInRange(a)})}})};function $he(t){return(t%180+180)%180}var Rhe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=$he(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},Mhe=Ss,Dhe=fm,Bhe=Vy;function Fhe(t){return function(e,r,n){var i=Object(e);if(!Dhe(e)){var a=Mhe(r);e=Bhe(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var Uhe=Fhe,zhe=XI;function qhe(t){var e=zhe(t),r=e%1;return e===e?r?e-r:e:0}var Whe=qhe,Hhe=tL,Vhe=Ss,Ghe=Whe,Khe=Math.max;function Yhe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Ghe(r);return i<0&&(i=Khe(n+i,0)),Hhe(t,Vhe(e),i)}var Xhe=Yhe,Jhe=Uhe,Zhe=Xhe,Qhe=Jhe(Zhe),epe=Qhe;const tpe=ar(epe);var rpe=XW(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),HS=Y.createContext(void 0),VS=Y.createContext(void 0),l$=Y.createContext(void 0),c$=Y.createContext({}),u$=Y.createContext(void 0),d$=Y.createContext(0),f$=Y.createContext(0),OO=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=rpe(a);return le.createElement(HS.Provider,{value:n},le.createElement(VS.Provider,{value:i},le.createElement(c$.Provider,{value:a},le.createElement(l$.Provider,{value:u},le.createElement(u$.Provider,{value:s},le.createElement(d$.Provider,{value:c},le.createElement(f$.Provider,{value:l},o)))))))},npe=function(){return Y.useContext(u$)},h$=function(e){var r=Y.useContext(HS);r==null&&Fc();var n=r[e];return n==null&&Fc(),n},ipe=function(){var e=Y.useContext(HS);return Jo(e)},ape=function(){var e=Y.useContext(VS),r=tpe(e,function(n){return e$(n.domain,Number.isFinite)});return r||Jo(e)},p$=function(e){var r=Y.useContext(VS);r==null&&Fc();var n=r[e];return n==null&&Fc(),n},spe=function(){var e=Y.useContext(l$);return e},ope=function(){return Y.useContext(c$)},GS=function(){return Y.useContext(f$)},KS=function(){return Y.useContext(d$)};function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function lpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g$(n.key),n)}}function upe(t,e,r){return e&&cpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dpe(t,e,r){return e=Hv(e),fpe(t,m$()?Reflect.construct(e,r||[],Hv(t).constructor):e.apply(t,r))}function fpe(t,e){if(e&&(Hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hpe(t)}function hpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m$=function(){return!!t})()}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hv(t)}function ppe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s5(t,e)}function s5(t,e){return s5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s5(t,e)}function PO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(r),!0).forEach(function(n){YS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YS(t,e,r){return e=g$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g$(t){var e=mpe(t,"string");return Hd(e)=="symbol"?e:e+""}function mpe(t,e){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gpe(t,e){return xpe(t)||bpe(t,e)||ype(t,e)||vpe()}function vpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ype(t,e){if(t){if(typeof t=="string")return CO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CO(t,e)}}function CO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function xpe(t){if(Array.isArray(t))return t}function o5(){return o5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o5.apply(this,arguments)}var wpe=function(e,r){var n;return le.isValidElement(e)?n=le.cloneElement(e,r):bt(e)?n=e(r):n=le.createElement("line",o5({},r,{className:"recharts-reference-line-line"})),n},_pe=function(e,r,n,i,a,s,o,l,c){var u=a.x,f=a.y,p=a.width,h=a.height;if(n){var g=c.y,v=e.y.apply(g,{position:s});if(ys(c,"discard")&&!e.y.isInRange(v))return null;var x=[{x:u+p,y:v},{x:u,y:v}];return l==="left"?x.reverse():x}if(r){var y=c.x,w=e.x.apply(y,{position:s});if(ys(c,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+h},{x:w,y:f}];return o==="top"?_.reverse():_}if(i){var j=c.segment,S=j.map(function(k){return e.apply(k,{position:s})});return ys(c,"discard")&&Vfe(S,function(k){return!e.isInRange(k)})?null:S}return null};function Spe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=npe(),u=h$(i),f=p$(a),p=spe();if(!c||!p)return null;Wa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=WS({x:u.scale,y:f.scale}),g=xn(e),v=xn(r),x=n&&n.length===2,y=_pe(h,g,v,x,p,t.position,u.orientation,f.orientation,t);if(!y)return null;var w=gpe(y,2),_=w[0],j=_.x,S=_.y,k=w[1],E=k.x,L=k.y,I=ys(t,"hidden")?"url(#".concat(c,")"):void 0,U=EO(EO({clipPath:I},ft(t,!0)),{},{x1:j,y1:S,x2:E,y2:L});return le.createElement(Gt,{className:It("recharts-reference-line",o)},wpe(s,U),Nn.renderCallByParent(t,Ihe({x1:j,y1:S,x2:E,y2:L})))}var XS=function(t){function e(){return lpe(this,e),dpe(this,e,arguments)}return ppe(e,t),upe(e,[{key:"render",value:function(){return le.createElement(Spe,this.props)}}])}(le.Component);YS(XS,"displayName","ReferenceLine");YS(XS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function l5(){return l5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l5.apply(this,arguments)}function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function TO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(r),!0).forEach(function(n){m1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ape(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y$(n.key),n)}}function Npe(t,e,r){return e&&Ape(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kpe(t,e,r){return e=Vv(e),Ope(t,v$()?Reflect.construct(e,r||[],Vv(t).constructor):e.apply(t,r))}function Ope(t,e){if(e&&(Vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ppe(t)}function Ppe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v$=function(){return!!t})()}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vv(t)}function Epe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c5(t,e)}function c5(t,e){return c5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},c5(t,e)}function m1(t,e,r){return e=y$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y$(t){var e=Cpe(t,"string");return Vd(e)=="symbol"?e:e+""}function Cpe(t,e){if(Vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tpe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=WS({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return ys(e,"discard")&&!s.isInRange(o)?null:o},g1=function(t){function e(){return jpe(this,e),kpe(this,e,arguments)}return Epe(e,t),Npe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=xn(i),u=xn(a);if(Wa(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=Tpe(this.props);if(!f)return null;var p=f.x,h=f.y,g=this.props,v=g.shape,x=g.className,y=ys(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=LO(LO({clipPath:y},ft(this.props,!0)),{},{cx:p,cy:h});return le.createElement(Gt,{className:It("recharts-reference-dot",x)},e.renderDot(v,w),Nn.renderCallByParent(this.props,{x:p-s,y:h-s,width:2*s,height:2*s}))}}])}(le.Component);m1(g1,"displayName","ReferenceDot");m1(g1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});m1(g1,"renderDot",function(t,e){var r;return le.isValidElement(t)?r=le.cloneElement(t,e):bt(t)?r=t(e):r=le.createElement(o1,l5({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function u5(){return u5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u5.apply(this,arguments)}function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function IO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $O(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(r),!0).forEach(function(n){v1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ipe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x$(n.key),n)}}function $pe(t,e,r){return e&&Ipe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rpe(t,e,r){return e=Gv(e),Mpe(t,b$()?Reflect.construct(e,r||[],Gv(t).constructor):e.apply(t,r))}function Mpe(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dpe(t)}function Dpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b$=function(){return!!t})()}function Gv(t){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gv(t)}function Bpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d5(t,e)}function d5(t,e){return d5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d5(t,e)}function v1(t,e,r){return e=x$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x$(t){var e=Fpe(t,"string");return Gd(e)=="symbol"?e:e+""}function Fpe(t,e){if(Gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Upe=function(e,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var p=WS({x:u.scale,y:f.scale}),h={x:e?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},g={x:r?p.x.apply(o,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return ys(a,"discard")&&(!p.isInRange(h)||!p.isInRange(g))?null:s$(h,g)},y1=function(t){function e(){return Lpe(this,e),Rpe(this,e,arguments)}return Bpe(e,t),$pe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Wa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=xn(i),p=xn(a),h=xn(s),g=xn(o),v=this.props.shape;if(!f&&!p&&!h&&!g&&!v)return null;var x=Upe(f,p,h,g,this.props);if(!x&&!v)return null;var y=ys(this.props,"hidden")?"url(#".concat(u,")"):void 0;return le.createElement(Gt,{className:It("recharts-reference-area",l)},e.renderRect(v,$O($O({clipPath:y},ft(this.props,!0)),x)),Nn.renderCallByParent(this.props,x))}}])}(le.Component);v1(y1,"displayName","ReferenceArea");v1(y1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});v1(y1,"renderRect",function(t,e){var r;return le.isValidElement(t)?r=le.cloneElement(t,e):bt(t)?r=t(e):r=le.createElement(qS,u5({},e,{className:"recharts-reference-area-rect"})),r});function w$(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function zpe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Rhe(n,r)}function qpe(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Kv(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Wpe(t,e){return w$(t,e+1)}function Hpe(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,o=e.end,l=0,c=1,u=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:w$(n,c)};var v=l,x,y=function(){return x===void 0&&(x=r(g,v)),x},w=g.coordinate,_=l===0||Kv(t,w,y,u,o);_||(l=0,u=s,c+=1),_&&(u=w+t*(y()/2+i),l+=c)},p;c<=a.length;)if(p=f(),p)return p.v;return[]}function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function RO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(r),!0).forEach(function(n){Vpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vpe(t,e,r){return e=Gpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gpe(t){var e=Kpe(t,"string");return Jp(e)=="symbol"?e:e+""}function Kpe(t,e){if(Jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ype(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(p){var h=a[p],g,v=function(){return g===void 0&&(g=r(h,p)),g};if(p===s-1){var x=t*(h.coordinate+t*v()/2-l);a[p]=h=Yn(Yn({},h),{},{tickCoord:x>0?h.coordinate-x*t:h.coordinate})}else a[p]=h=Yn(Yn({},h),{},{tickCoord:h.coordinate});var y=Kv(t,h.tickCoord,v,o,l);y&&(l=h.tickCoord-t*(v()/2+i),a[p]=Yn(Yn({},h),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function Xpe(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var u=n[o-1],f=r(u,o-1),p=t*(u.coordinate+t*f/2-c);s[o-1]=u=Yn(Yn({},u),{},{tickCoord:p>0?u.coordinate-p*t:u.coordinate});var h=Kv(t,u.tickCoord,function(){return f},l,c);h&&(c=u.tickCoord-t*(f/2+i),s[o-1]=Yn(Yn({},u),{},{isShow:!0}))}for(var g=a?o-1:o,v=function(w){var _=s[w],j,S=function(){return j===void 0&&(j=r(_,w)),j};if(w===0){var k=t*(_.coordinate-t*S()/2-l);s[w]=_=Yn(Yn({},_),{},{tickCoord:k<0?_.coordinate-k*t:_.coordinate})}else s[w]=_=Yn(Yn({},_),{},{tickCoord:_.coordinate});var E=Kv(t,_.tickCoord,S,l,c);E&&(l=_.tickCoord+t*(S()/2+i),s[w]=Yn(Yn({},_),{},{isShow:!0}))},x=0;x<g;x++)v(x);return s}function JS(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(Be(l)||Xc.isSsr)return Wpe(i,typeof l=="number"&&Be(l)?l:0);var p=[],h=o==="top"||o==="bottom"?"width":"height",g=u&&h==="width"?Bh(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=function(_,j){var S=bt(c)?c(_.value,j):_.value;return h==="width"?zpe(Bh(S,{fontSize:e,letterSpacing:r}),g,f):Bh(S,{fontSize:e,letterSpacing:r})[h]},x=i.length>=2?ii(i[1].coordinate-i[0].coordinate):1,y=qpe(a,x,h);return l==="equidistantPreserveStart"?Hpe(x,y,v,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=Xpe(x,y,v,i,s,l==="preserveStartEnd"):p=Ype(x,y,v,i,s),p.filter(function(w){return w.isShow}))}var Jpe=["viewBox"],Zpe=["viewBox"],Qpe=["ticks"];function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ju.apply(this,arguments)}function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){ZS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cx(t,e){if(t==null)return{};var r=eme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S$(n.key),n)}}function rme(t,e,r){return e&&DO(t.prototype,e),r&&DO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nme(t,e,r){return e=Yv(e),ime(t,_$()?Reflect.construct(e,r||[],Yv(t).constructor):e.apply(t,r))}function ime(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ame(t)}function ame(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_$=function(){return!!t})()}function Yv(t){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yv(t)}function sme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f5(t,e)}function f5(t,e){return f5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f5(t,e)}function ZS(t,e,r){return e=S$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S$(t){var e=ome(t,"string");return Kd(e)=="symbol"?e:e+""}function ome(t,e){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sf=function(t){function e(r){var n;return tme(this,e),n=nme(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return sme(e,t),rme(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=cx(n,Jpe),o=this.props,l=o.viewBox,c=cx(o,Zpe);return!ld(a,l)||!ld(s,c)||!ld(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,p=i.tickMargin,h,g,v,x,y,w,_=f?-1:1,j=n.tickSize||u,S=Be(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":h=g=n.coordinate,x=s+ +!f*l,v=x-_*j,w=v-_*p,y=S;break;case"left":v=x=n.coordinate,g=a+ +!f*o,h=g-_*j,y=h-_*p,w=S;break;case"right":v=x=n.coordinate,g=a+ +f*o,h=g+_*j,y=h+_*p,w=S;break;default:h=g=n.coordinate,x=s+ +f*l,v=x+_*j,w=v+_*p,y=S;break}return{line:{x1:h,y1:v,x2:g,y2:x},tick:{x:y,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=pn(pn(pn({},ft(this.props,!1)),ft(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);f=pn(pn({},f),{},{x1:i,y1:a+p*o,x2:i+s,y2:a+p*o})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=pn(pn({},f),{},{x1:i+h*s,y1:a,x2:i+h*s,y2:a+o})}return le.createElement("line",Ju({},f,{className:It("recharts-cartesian-axis-line",Wi(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,p=o.unit,h=JS(pn(pn({},this.props),{},{ticks:n}),i,a),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=ft(this.props,!1),y=ft(u,!1),w=pn(pn({},x),{},{fill:"none"},ft(l,!1)),_=h.map(function(j,S){var k=s.getTickLineCoord(j),E=k.line,L=k.tick,I=pn(pn(pn(pn({textAnchor:g,verticalAnchor:v},x),{},{stroke:"none",fill:c},y),L),{},{index:S,payload:j,visibleTicksCount:h.length,tickFormatter:f});return le.createElement(Gt,Ju({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Mc(s.props,j,S)),l&&le.createElement("line",Ju({},w,E,{className:It("recharts-cartesian-axis-tick-line",Wi(l,"className"))})),u&&e.renderTickItem(u,I,"".concat(bt(f)?f(j.value,S):j.value).concat(p||"")))});return le.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,p=f.ticks,h=cx(f,Qpe),g=p;return bt(l)&&(g=p&&p.length>0?l(this.props):l(h)),s<=0||o<=0||!g||!g.length?null:le.createElement(Gt,{className:It("recharts-cartesian-axis",c),ref:function(x){n.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Nn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=It(i.className,"recharts-cartesian-axis-tick-value");return le.isValidElement(n)?s=le.cloneElement(n,pn(pn({},i),{},{className:o})):bt(n)?s=n(pn(pn({},i),{},{className:o})):s=le.createElement(Dc,Ju({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(Y.Component);ZS(Sf,"displayName","CartesianAxis");ZS(Sf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var lme=["x1","y1","x2","y2","key"],cme=["offset"];function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function BO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(r),!0).forEach(function(n){ume(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ume(t,e,r){return e=dme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dme(t){var e=fme(t,"string");return Uc(e)=="symbol"?e:e+""}function fme(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _c(){return _c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_c.apply(this,arguments)}function FO(t,e){if(t==null)return{};var r=hme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var pme=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return le.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function j$(t,e){var r;if(le.isValidElement(t))r=le.cloneElement(t,e);else if(bt(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=FO(e,lme),c=ft(l,!1);c.offset;var u=FO(c,cme);r=le.createElement("line",_c({},u,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function mme(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Jn(Jn({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return j$(i,c)});return le.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function gme(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Jn(Jn({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return j$(i,c)});return le.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function vme(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==u[0]&&u.unshift(0);var f=u.map(function(p,h){var g=!u[h+1],v=g?i+s-p:u[h+1]-p;if(v<=0)return null;var x=h%e.length;return le.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:v,width:a,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function yme(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==u[0]&&u.unshift(0);var f=u.map(function(p,h){var g=!u[h+1],v=g?a+o-p:u[h+1]-p;if(v<=0)return null;var x=h%n.length;return le.createElement("rect",{key:"react-".concat(h),x:p,y:s,width:v,height:l,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var bme=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return xI(JS(Jn(Jn(Jn({},Sf.defaultProps),n),{},{ticks:Qs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},xme=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return xI(JS(Jn(Jn(Jn({},Sf.defaultProps),n),{},{ticks:Qs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Nu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function b1(t){var e,r,n,i,a,s,o=GS(),l=KS(),c=ope(),u=Jn(Jn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Nu.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Nu.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Nu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Nu.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Nu.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Nu.verticalFill,x:Be(t.x)?t.x:c.left,y:Be(t.y)?t.y:c.top,width:Be(t.width)?t.width:c.width,height:Be(t.height)?t.height:c.height}),f=u.x,p=u.y,h=u.width,g=u.height,v=u.syncWithTicks,x=u.horizontalValues,y=u.verticalValues,w=ipe(),_=ape();if(!Be(h)||h<=0||!Be(g)||g<=0||!Be(f)||f!==+f||!Be(p)||p!==+p)return null;var j=u.verticalCoordinatesGenerator||bme,S=u.horizontalCoordinatesGenerator||xme,k=u.horizontalPoints,E=u.verticalPoints;if((!k||!k.length)&&bt(S)){var L=x&&x.length,I=S({yAxis:_?Jn(Jn({},_),{},{ticks:L?x:_.ticks}):void 0,width:o,height:l,offset:c},L?!0:v);Wa(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Uc(I),"]")),Array.isArray(I)&&(k=I)}if((!E||!E.length)&&bt(j)){var U=y&&y.length,O=j({xAxis:w?Jn(Jn({},w),{},{ticks:U?y:w.ticks}):void 0,width:o,height:l,offset:c},U?!0:v);Wa(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Uc(O),"]")),Array.isArray(O)&&(E=O)}return le.createElement("g",{className:"recharts-cartesian-grid"},le.createElement(pme,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),le.createElement(mme,_c({},u,{offset:c,horizontalPoints:k,xAxis:w,yAxis:_})),le.createElement(gme,_c({},u,{offset:c,verticalPoints:E,xAxis:w,yAxis:_})),le.createElement(vme,_c({},u,{horizontalPoints:k})),le.createElement(yme,_c({},u,{verticalPoints:E})))}b1.displayName="CartesianGrid";var wme=["type","layout","connectNulls","ref"],_me=["key"];function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function UO(t,e){if(t==null)return{};var r=Sme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hh(){return Hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hh.apply(this,arguments)}function zO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ti(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(r),!0).forEach(function(n){Da(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ku(t){return kme(t)||Nme(t)||Ame(t)||jme()}function jme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ame(t,e){if(t){if(typeof t=="string")return h5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h5(t,e)}}function Nme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kme(t){if(Array.isArray(t))return h5(t)}function h5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ome(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N$(n.key),n)}}function Pme(t,e,r){return e&&qO(t.prototype,e),r&&qO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eme(t,e,r){return e=Xv(e),Cme(t,A$()?Reflect.construct(e,r||[],Xv(t).constructor):e.apply(t,r))}function Cme(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tme(t)}function Tme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A$=function(){return!!t})()}function Xv(t){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xv(t)}function Lme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p5(t,e)}function p5(t,e){return p5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p5(t,e)}function Da(t,e,r){return e=N$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N$(t){var e=Ime(t,"string");return Yd(e)=="symbol"?e:e+""}function Ime(t,e){if(Yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zc=function(t){function e(){var r;Ome(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Eme(this,e,[].concat(i)),Da(r,"state",{isAnimationFinished:!0,totalLength:0}),Da(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Da(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,w){return y+w});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,p=o-s,h=[],g=0,v=0;g<l.length;v+=l[g],++g)if(v+l[g]>f){h=[].concat(ku(l.slice(0,g)),[f-v]);break}var x=h.length%2===0?[0,p]:[p];return[].concat(ku(e.repeat(l,u)),ku(h),x).map(function(y){return"".concat(y,"px")}).join(", ")}),Da(r,"id",gf("recharts-line-")),Da(r,"pathRef",function(s){r.mainCurve=s}),Da(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Da(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Lme(e,t),Pme(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=Hi(u,bm);if(!f)return null;var p=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:yn(v.payload,x)}},h={clipPath:n?"url(#clipPath-".concat(i,")"):null};return le.createElement(Gt,h,f.map(function(g){return le.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=ft(this.props,!1),p=ft(l,!0),h=c.map(function(v,x){var y=Ti(Ti(Ti({key:"dot-".concat(x),r:3},f),p),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:u,payload:v.payload,points:c});return e.renderDotItem(l,y)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return le.createElement(Gt,Hh({className:"recharts-line-dots",key:"dots"},g),h)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=UO(o,wme),p=Ti(Ti(Ti({},ft(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return le.createElement(Ev,Hh({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,p=s.animationEasing,h=s.animationId,g=s.animateNewValues,v=s.width,x=s.height,y=this.state,w=y.prevPoints,_=y.totalLength;return le.createElement(ws,{begin:u,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var S=j.t;if(w){var k=w.length/o.length,E=o.map(function(T,D){var F=Math.floor(D*k);if(w[F]){var B=w[F],K=Mi(B.x,T.x),H=Mi(B.y,T.y);return Ti(Ti({},T),{},{x:K(S),y:H(S)})}if(g){var $=Mi(v*2,T.x),J=Mi(x/2,T.y);return Ti(Ti({},T),{},{x:$(S),y:J(S)})}return Ti(Ti({},T),{},{x:T.x,y:T.y})});return a.renderCurveStatically(E,n,i)}var L=Mi(0,_),I=L(S),U;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});U=a.getStrokeDasharray(I,_,O)}else U=a.generateSimpleStrokeDasharray(_,I);return a.renderCurveStatically(o,n,i,{strokeDasharray:U})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!ym(c,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.xAxis,u=i.yAxis,f=i.top,p=i.left,h=i.width,g=i.height,v=i.isAnimationActive,x=i.id;if(a||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=o.length===1,_=It("recharts-line",l),j=c&&c.allowDataOverflow,S=u&&u.allowDataOverflow,k=j||S,E=Ot(x)?this.id:x,L=(n=ft(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=L.r,U=I===void 0?3:I,O=L.strokeWidth,T=O===void 0?2:O,D=rV(s)?s:{},F=D.clipDot,B=F===void 0?!0:F,K=U*2+T;return le.createElement(Gt,{className:_},j||S?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(E)},le.createElement("rect",{x:j?p:p-h/2,y:S?f:f-g/2,width:j?h:h*2,height:S?g:g*2})),!B&&le.createElement("clipPath",{id:"clipPath-dots-".concat(E)},le.createElement("rect",{x:p-K/2,y:f-K/2,width:h+K,height:g+K}))):null,!w&&this.renderCurve(k,E),this.renderErrorBar(k,E),(w||s)&&this.renderDots(k,B,E),(!v||y)&&io.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(ku(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(ku(s),ku(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(le.isValidElement(n))a=le.cloneElement(n,i);else if(bt(n))a=n(i);else{var s=i.key,o=UO(i,_me),l=It("recharts-line-dot",typeof n!="boolean"?n.className:"");a=le.createElement(o1,Hh({key:s},o,{className:l}))}return a}}])}(Y.PureComponent);Da(zc,"displayName","Line");Da(zc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Xc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Da(zc,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,f=l.map(function(p,h){var g=yn(p,s);return u==="horizontal"?{x:hk({axis:r,ticks:i,bandSize:o,entry:p,index:h}),y:Ot(g)?null:n.scale(g),value:g,payload:p}:{x:Ot(g)?null:r.scale(g),y:hk({axis:n,ticks:a,bandSize:o,entry:p,index:h}),value:g,payload:p}});return Ti({points:f,layout:u},c)});function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function $me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P$(n.key),n)}}function Mme(t,e,r){return e&&Rme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dme(t,e,r){return e=Jv(e),Bme(t,k$()?Reflect.construct(e,r||[],Jv(t).constructor):e.apply(t,r))}function Bme(t,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fme(t)}function Fme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k$=function(){return!!t})()}function Jv(t){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jv(t)}function Ume(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m5(t,e)}function m5(t,e){return m5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m5(t,e)}function O$(t,e,r){return e=P$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P$(t){var e=zme(t,"string");return Xd(e)=="symbol"?e:e+""}function zme(t,e){if(Xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function g5(){return g5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g5.apply(this,arguments)}function qme(t){var e=t.xAxisId,r=GS(),n=KS(),i=h$(e);return i==null?null:Y.createElement(Sf,g5({},i,{className:It("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Qs(s,!0)}}))}var tu=function(t){function e(){return $me(this,e),Dme(this,e,arguments)}return Ume(e,t),Mme(e,[{key:"render",value:function(){return Y.createElement(qme,this.props)}}])}(Y.Component);O$(tu,"displayName","XAxis");O$(tu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function Wme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T$(n.key),n)}}function Vme(t,e,r){return e&&Hme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gme(t,e,r){return e=Zv(e),Kme(t,E$()?Reflect.construct(e,r||[],Zv(t).constructor):e.apply(t,r))}function Kme(t,e){if(e&&(Jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yme(t)}function Yme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E$=function(){return!!t})()}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zv(t)}function Xme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v5(t,e)}function v5(t,e){return v5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v5(t,e)}function C$(t,e,r){return e=T$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T$(t){var e=Jme(t,"string");return Jd(e)=="symbol"?e:e+""}function Jme(t,e){if(Jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function y5(){return y5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y5.apply(this,arguments)}var Zme=function(e){var r=e.yAxisId,n=GS(),i=KS(),a=p$(r);return a==null?null:Y.createElement(Sf,y5({},a,{className:It("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Qs(o,!0)}}))},ru=function(t){function e(){return Wme(this,e),Gme(this,e,arguments)}return Xme(e,t),Vme(e,[{key:"render",value:function(){return Y.createElement(Zme,this.props)}}])}(Y.Component);C$(ru,"displayName","YAxis");C$(ru,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function WO(t){return rge(t)||tge(t)||ege(t)||Qme()}function Qme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ege(t,e){if(t){if(typeof t=="string")return b5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b5(t,e)}}function tge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rge(t){if(Array.isArray(t))return b5(t)}function b5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var x5=function(e,r,n,i,a){var s=Hi(e,XS),o=Hi(e,g1),l=[].concat(WO(s),WO(o)),c=Hi(e,y1),u="".concat(i,"Id"),f=i[0],p=r;if(l.length&&(p=l.reduce(function(v,x){if(x.props[u]===n&&ys(x.props,"extendDomain")&&Be(x.props[f])){var y=x.props[f];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},p)),c.length){var h="".concat(f,"1"),g="".concat(f,"2");p=c.reduce(function(v,x){if(x.props[u]===n&&ys(x.props,"extendDomain")&&Be(x.props[h])&&Be(x.props[g])){var y=x.props[h],w=x.props[g];return[Math.min(v[0],y,w),Math.max(v[1],y,w)]}return v},p)}return a&&a.length&&(p=a.reduce(function(v,x){return Be(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},p)),p},L$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,p),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],h]:l._events[g].push(h):(l._events[g]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,g=new Array(h);p<h;p++)g[p]=f[p].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,p,h,g){var v=r?r+c:c;if(!this._events[v])return!1;var x=this._events[v],y=arguments.length,w,_;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,f),!0;case 4:return x.fn.call(x.context,u,f,p),!0;case 5:return x.fn.call(x.context,u,f,p,h),!0;case 6:return x.fn.call(x.context,u,f,p,h,g),!0}for(_=1,w=new Array(y-1);_<y;_++)w[_-1]=arguments[_];x.fn.apply(x.context,w)}else{var j=x.length,S;for(_=0;_<j;_++)switch(x[_].once&&this.removeListener(c,x[_].fn,void 0,!0),y){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,u);break;case 3:x[_].fn.call(x[_].context,u,f);break;case 4:x[_].fn.call(x[_].context,u,f,p);break;default:if(!w)for(S=1,w=new Array(y-1);S<y;S++)w[S-1]=arguments[S];x[_].fn.apply(x[_].context,w)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,p){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var g=this._events[h];if(g.fn)g.fn===u&&(!p||g.once)&&(!f||g.context===f)&&s(this,h);else{for(var v=0,x=[],y=g.length;v<y;v++)(g[v].fn!==u||p&&!g[v].once||f&&g[v].context!==f)&&x.push(g[v]);x.length?this._events[h]=x.length===1?x[0]:x:s(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(L$);var nge=L$.exports;const ige=ar(nge);var ux=new ige,dx="recharts.syncMouseEvents";function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function age(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I$(n.key),n)}}function oge(t,e,r){return e&&sge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fx(t,e,r){return e=I$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I$(t){var e=lge(t,"string");return Zp(e)=="symbol"?e:e+""}function lge(t,e){if(Zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cge=function(){function t(){age(this,t),fx(this,"activeIndex",0),fx(this,"coordinateList",[]),fx(this,"layout","horizontal")}return oge(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,p=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function uge(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Be(n)&&Be(i))return!0}return!1}function dge(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function $$(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=br(e,r,n,i),o=br(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function fge(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,p=br(o,l,c,f),h=br(o,l,u,f);n=p.x,i=p.y,a=h.x,s=h.y}else return $$(e);return[{x:n,y:i},{x:a,y:s}]}function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function HO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ug(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(r),!0).forEach(function(n){hge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hge(t,e,r){return e=pge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pge(t){var e=mge(t,"string");return Qp(e)=="symbol"?e:e+""}function mge(t,e){if(Qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gge(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!a||!s||p!=="ScatterChart"&&i!=="axis")return null;var g,v=Ev;if(p==="ScatterChart")g=s,v=Iue;else if(p==="BarChart")g=dge(f,s,l,u),v=qS;else if(f==="radial"){var x=$$(s),y=x.cx,w=x.cy,_=x.radius,j=x.startAngle,S=x.endAngle;g={cx:y,cy:w,startAngle:j,endAngle:S,innerRadius:_,outerRadius:_},v=CI}else g={points:fge(f,s,l)},v=Ev;var k=Ug(Ug(Ug(Ug({stroke:"#ccc",pointerEvents:"none"},l),g),ft(h,!1)),{},{payload:o,payloadIndex:c,className:It("recharts-tooltip-cursor",h.className)});return Y.isValidElement(h)?Y.cloneElement(h,k):Y.createElement(v,k)}var vge=["item"],yge=["children","className","width","height","style","compact","title","desc"];function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zu.apply(this,arguments)}function VO(t,e){return wge(t)||xge(t,e)||M$(t,e)||bge()}function bge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function wge(t){if(Array.isArray(t))return t}function GO(t,e){if(t==null)return{};var r=_ge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _ge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Sge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D$(n.key),n)}}function Age(t,e,r){return e&&jge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nge(t,e,r){return e=Qv(e),kge(t,R$()?Reflect.construct(e,r||[],Qv(t).constructor):e.apply(t,r))}function kge(t,e){if(e&&(Zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oge(t)}function Oge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R$=function(){return!!t})()}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qv(t)}function Pge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w5(t,e)}function w5(t,e){return w5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},w5(t,e)}function Qd(t){return Tge(t)||Cge(t)||M$(t)||Ege()}function Ege(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M$(t,e){if(t){if(typeof t=="string")return _5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _5(t,e)}}function Cge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tge(t){if(Array.isArray(t))return _5(t)}function _5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(r),!0).forEach(function(n){mt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mt(t,e,r){return e=D$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D$(t){var e=Lge(t,"string");return Zd(e)=="symbol"?e:e+""}function Lge(t,e){if(Zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ige={xAxis:["bottom","top"],yAxis:["left","right"]},$ge={width:"100%",height:"100%"},B$={x:0,y:0};function zg(t){return t}var Rge=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Mge=function(e,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return Se(Se(Se({},i),br(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return Se(Se(Se({},i),br(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return B$},x1=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Qd(o),Qd(c)):o},[]);return s.length>0?s:e&&e.length&&Be(i)&&Be(a)?e.slice(i,a+1):[]};function F$(t){return t==="number"?[0,"auto"]:void 0}var S5=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,o=x1(r,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var h=f===void 0?o:f;p=Q0(h,s.dataKey,i)}else p=f&&f[n]||o[n];return p?[].concat(Qd(l),[AI(c,p)]):l},[])},YO=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=Rge(a,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=noe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,p=S5(e,r,u,f),h=Mge(n,o,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},Dge=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,p=e.stackOffset,h=bI(u,a);return n.reduce(function(g,v){var x,y=v.type.defaultProps!==void 0?Se(Se({},v.type.defaultProps),v.props):v.props,w=y.type,_=y.dataKey,j=y.allowDataOverflow,S=y.allowDuplicatedCategory,k=y.scale,E=y.ticks,L=y.includeHidden,I=y[s];if(g[I])return g;var U=x1(e.data,{graphicalItems:i.filter(function(P){var z,V=s in P.props?P.props[s]:(z=P.type.defaultProps)===null||z===void 0?void 0:z[s];return V===I}),dataStartIndex:l,dataEndIndex:c}),O=U.length,T,D,F;uge(y.domain,j,w)&&(T=Mw(y.domain,null,j),h&&(w==="number"||k!=="auto")&&(F=Uh(U,_,"category")));var B=F$(w);if(!T||T.length===0){var K,H=(K=y.domain)!==null&&K!==void 0?K:B;if(_){if(T=Uh(U,_,w),w==="category"&&h){var $=VH(T);S&&$?(D=T,T=Fv(0,O)):S||(T=vk(H,T,v).reduce(function(P,z){return P.indexOf(z)>=0?P:[].concat(Qd(P),[z])},[]))}else if(w==="category")S?T=T.filter(function(P){return P!==""&&!Ot(P)}):T=vk(H,T,v).reduce(function(P,z){return P.indexOf(z)>=0||z===""||Ot(z)?P:[].concat(Qd(P),[z])},[]);else if(w==="number"){var J=loe(U,i.filter(function(P){var z,V,re=s in P.props?P.props[s]:(z=P.type.defaultProps)===null||z===void 0?void 0:z[s],ne="hide"in P.props?P.props.hide:(V=P.type.defaultProps)===null||V===void 0?void 0:V.hide;return re===I&&(L||!ne)}),_,a,u);J&&(T=J)}h&&(w==="number"||k!=="auto")&&(F=Uh(U,_,"category"))}else h?T=Fv(0,O):o&&o[I]&&o[I].hasStack&&w==="number"?T=p==="expand"?[0,1]:jI(o[I].stackGroups,l,c):T=yI(U,i.filter(function(P){var z=s in P.props?P.props[s]:P.type.defaultProps[s],V="hide"in P.props?P.props.hide:P.type.defaultProps.hide;return z===I&&(L||!V)}),w,u,!0);if(w==="number")T=x5(f,T,I,a,E),H&&(T=Mw(H,T,j));else if(w==="category"&&H){var ie=H,se=T.every(function(P){return ie.indexOf(P)>=0});se&&(T=ie)}}return Se(Se({},g),{},mt({},I,Se(Se({},y),{},{axisType:a,domain:T,categoricalDomain:F,duplicateDomain:D,originalDomain:(x=y.domain)!==null&&x!==void 0?x:B,isCategorical:h,layout:u})))},{})},Bge=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,p=x1(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),h=p.length,g=bI(u,a),v=-1;return n.reduce(function(x,y){var w=y.type.defaultProps!==void 0?Se(Se({},y.type.defaultProps),y.props):y.props,_=w[s],j=F$("number");if(!x[_]){v++;var S;return g?S=Fv(0,h):o&&o[_]&&o[_].hasStack?(S=jI(o[_].stackGroups,l,c),S=x5(f,S,_,a)):(S=Mw(j,yI(p,n.filter(function(k){var E,L,I=s in k.props?k.props[s]:(E=k.type.defaultProps)===null||E===void 0?void 0:E[s],U="hide"in k.props?k.props.hide:(L=k.type.defaultProps)===null||L===void 0?void 0:L.hide;return I===_&&!U}),"number",u),i.defaultProps.allowDataOverflow),S=x5(f,S,_,a)),Se(Se({},x),{},mt({},_,Se(Se({axisType:a},i.defaultProps),{},{hide:!0,orientation:Wi(Ige,"".concat(a,".").concat(v%2),null),domain:S,originalDomain:j,isCategorical:g,layout:u})))}return x},{})},Fge=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,f="".concat(i,"Id"),p=Hi(u,a),h={};return p&&p.length?h=Dge(e,{axes:p,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(h=Bge(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),h},Uge=function(e){var r=Jo(e),n=Qs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:gS(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:kv(r,n)}},XO=function(e){var r=e.children,n=e.defaultShowTooltip,i=$i(r,qd),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},zge=function(e){return!e||!e.length?!1:e.some(function(r){var n=to(r&&r.type);return n&&n.indexOf("Bar")>=0})},JO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},qge=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,p=n.margin||{},h=$i(f,qd),g=$i(f,ro),v=Object.keys(l).reduce(function(S,k){var E=l[k],L=E.orientation;return!E.mirror&&!E.hide?Se(Se({},S),{},mt({},L,S[L]+E.width)):S},{left:p.left||0,right:p.right||0}),x=Object.keys(s).reduce(function(S,k){var E=s[k],L=E.orientation;return!E.mirror&&!E.hide?Se(Se({},S),{},mt({},L,Wi(S,"".concat(L))+E.height)):S},{top:p.top||0,bottom:p.bottom||0}),y=Se(Se({},x),v),w=y.bottom;h&&(y.bottom+=h.props.height||qd.defaultProps.height),g&&r&&(y=soe(y,i,n,r));var _=c-y.left-y.right,j=u-y.top-y.bottom;return Se(Se({brushBottom:w},y),{},{width:Math.max(_,0),height:Math.max(j,0)})},Wge=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},QS=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,p=function(y,w){var _=w.graphicalItems,j=w.stackGroups,S=w.offset,k=w.updateId,E=w.dataStartIndex,L=w.dataEndIndex,I=y.barSize,U=y.layout,O=y.barGap,T=y.barCategoryGap,D=y.maxBarSize,F=JO(U),B=F.numericAxisName,K=F.cateAxisName,H=zge(_),$=[];return _.forEach(function(J,ie){var se=x1(y.data,{graphicalItems:[J],dataStartIndex:E,dataEndIndex:L}),P=J.type.defaultProps!==void 0?Se(Se({},J.type.defaultProps),J.props):J.props,z=P.dataKey,V=P.maxBarSize,re=P["".concat(B,"Id")],ne=P["".concat(K,"Id")],ue={},ve=l.reduce(function(Ae,qe){var De=w["".concat(qe.axisType,"Map")],Xe=P["".concat(qe.axisType,"Id")];De&&De[Xe]||qe.axisType==="zAxis"||Fc();var ze=De[Xe];return Se(Se({},Ae),{},mt(mt({},qe.axisType,ze),"".concat(qe.axisType,"Ticks"),Qs(ze)))},ue),oe=ve[K],pe=ve["".concat(K,"Ticks")],xe=j&&j[re]&&j[re].hasStack&&voe(J,j[re].stackGroups),he=to(J.type).indexOf("Bar")>=0,Te=kv(oe,pe),ae=[],Z=H&&ioe({barSize:I,stackGroups:j,totalSize:Wge(ve,K)});if(he){var Fe,Oe,Ie=Ot(V)?D:V,we=(Fe=(Oe=kv(oe,pe,!0))!==null&&Oe!==void 0?Oe:Ie)!==null&&Fe!==void 0?Fe:0;ae=aoe({barGap:O,barCategoryGap:T,bandSize:we!==Te?we:Te,sizeList:Z[ne],maxBarSize:Ie}),we!==Te&&(ae=ae.map(function(Ae){return Se(Se({},Ae),{},{position:Se(Se({},Ae.position),{},{offset:Ae.position.offset-we/2})})}))}var Pe=J&&J.type&&J.type.getComposedData;Pe&&$.push({props:Se(Se({},Pe(Se(Se({},ve),{},{displayedData:se,props:y,dataKey:z,item:J,bandSize:Te,barPosition:ae,offset:S,stackedData:xe,layout:U,dataStartIndex:E,dataEndIndex:L}))),{},mt(mt(mt({key:J.key||"item-".concat(ie)},B,ve[B]),K,ve[K]),"animationId",k)),childIndex:aV(J,y.children),item:J})}),$},h=function(y,w){var _=y.props,j=y.dataStartIndex,S=y.dataEndIndex,k=y.updateId;if(!u3({props:_}))return null;var E=_.children,L=_.layout,I=_.stackOffset,U=_.data,O=_.reverseStackOrder,T=JO(L),D=T.numericAxisName,F=T.cateAxisName,B=Hi(E,n),K=moe(U,B,"".concat(D,"Id"),"".concat(F,"Id"),I,O),H=l.reduce(function(P,z){var V="".concat(z.axisType,"Map");return Se(Se({},P),{},mt({},V,Fge(_,Se(Se({},z),{},{graphicalItems:B,stackGroups:z.axisType===D&&K,dataStartIndex:j,dataEndIndex:S}))))},{}),$=qge(Se(Se({},H),{},{props:_,graphicalItems:B}),w==null?void 0:w.legendBBox);Object.keys(H).forEach(function(P){H[P]=u(_,H[P],$,P.replace("Map",""),r)});var J=H["".concat(F,"Map")],ie=Uge(J),se=p(_,Se(Se({},H),{},{dataStartIndex:j,dataEndIndex:S,updateId:k,graphicalItems:B,stackGroups:K,offset:$}));return Se(Se({formattedGraphicalItems:se,graphicalItems:B,offset:$,stackGroups:K},ie),H)},g=function(x){function y(w){var _,j,S;return Sge(this,y),S=Nge(this,y,[w]),mt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),mt(S,"accessibilityManager",new cge),mt(S,"handleLegendBBoxUpdate",function(k){if(k){var E=S.state,L=E.dataStartIndex,I=E.dataEndIndex,U=E.updateId;S.setState(Se({legendBBox:k},h({props:S.props,dataStartIndex:L,dataEndIndex:I,updateId:U},Se(Se({},S.state),{},{legendBBox:k}))))}}),mt(S,"handleReceiveSyncEvent",function(k,E,L){if(S.props.syncId===k){if(L===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),mt(S,"handleBrushChange",function(k){var E=k.startIndex,L=k.endIndex;if(E!==S.state.dataStartIndex||L!==S.state.dataEndIndex){var I=S.state.updateId;S.setState(function(){return Se({dataStartIndex:E,dataEndIndex:L},h({props:S.props,dataStartIndex:E,dataEndIndex:L,updateId:I},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:L})}}),mt(S,"handleMouseEnter",function(k){var E=S.getMouseInfo(k);if(E){var L=Se(Se({},E),{},{isTooltipActive:!0});S.setState(L),S.triggerSyncEvent(L);var I=S.props.onMouseEnter;bt(I)&&I(L,k)}}),mt(S,"triggeredAfterMouseMove",function(k){var E=S.getMouseInfo(k),L=E?Se(Se({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(L),S.triggerSyncEvent(L);var I=S.props.onMouseMove;bt(I)&&I(L,k)}),mt(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),mt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),mt(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),mt(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var L=S.props.onMouseLeave;bt(L)&&L(E,k)}),mt(S,"handleOuterEvent",function(k){var E=iV(k),L=Wi(S.props,"".concat(E));if(E&&bt(L)){var I,U;/.*touch.*/i.test(E)?U=S.getMouseInfo(k.changedTouches[0]):U=S.getMouseInfo(k),L((I=U)!==null&&I!==void 0?I:{},k)}}),mt(S,"handleClick",function(k){var E=S.getMouseInfo(k);if(E){var L=Se(Se({},E),{},{isTooltipActive:!0});S.setState(L),S.triggerSyncEvent(L);var I=S.props.onClick;bt(I)&&I(L,k)}}),mt(S,"handleMouseDown",function(k){var E=S.props.onMouseDown;if(bt(E)){var L=S.getMouseInfo(k);E(L,k)}}),mt(S,"handleMouseUp",function(k){var E=S.props.onMouseUp;if(bt(E)){var L=S.getMouseInfo(k);E(L,k)}}),mt(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),mt(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),mt(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),mt(S,"handleDoubleClick",function(k){var E=S.props.onDoubleClick;if(bt(E)){var L=S.getMouseInfo(k);E(L,k)}}),mt(S,"handleContextMenu",function(k){var E=S.props.onContextMenu;if(bt(E)){var L=S.getMouseInfo(k);E(L,k)}}),mt(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&ux.emit(dx,S.props.syncId,k,S.eventEmitterSymbol)}),mt(S,"applySyncEvent",function(k){var E=S.props,L=E.layout,I=E.syncMethod,U=S.state.updateId,O=k.dataStartIndex,T=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(Se({dataStartIndex:O,dataEndIndex:T},h({props:S.props,dataStartIndex:O,dataEndIndex:T,updateId:U},S.state)));else if(k.activeTooltipIndex!==void 0){var D=k.chartX,F=k.chartY,B=k.activeTooltipIndex,K=S.state,H=K.offset,$=K.tooltipTicks;if(!H)return;if(typeof I=="function")B=I($,k);else if(I==="value"){B=-1;for(var J=0;J<$.length;J++)if($[J].value===k.activeLabel){B=J;break}}var ie=Se(Se({},H),{},{x:H.left,y:H.top}),se=Math.min(D,ie.x+ie.width),P=Math.min(F,ie.y+ie.height),z=$[B]&&$[B].value,V=S5(S.state,S.props.data,B),re=$[B]?{x:L==="horizontal"?$[B].coordinate:se,y:L==="horizontal"?P:$[B].coordinate}:B$;S.setState(Se(Se({},k),{},{activeLabel:z,activeCoordinate:re,activePayload:V,activeTooltipIndex:B}))}else S.setState(k)}),mt(S,"renderCursor",function(k){var E,L=S.state,I=L.isTooltipActive,U=L.activeCoordinate,O=L.activePayload,T=L.offset,D=L.activeTooltipIndex,F=L.tooltipAxisBandSize,B=S.getTooltipEventType(),K=(E=k.props.active)!==null&&E!==void 0?E:I,H=S.props.layout,$=k.key||"_recharts-cursor";return le.createElement(gge,{key:$,activeCoordinate:U,activePayload:O,activeTooltipIndex:D,chartName:r,element:k,isActive:K,layout:H,offset:T,tooltipAxisBandSize:F,tooltipEventType:B})}),mt(S,"renderPolarAxis",function(k,E,L){var I=Wi(k,"type.axisType"),U=Wi(S.state,"".concat(I,"Map")),O=k.type.defaultProps,T=O!==void 0?Se(Se({},O),k.props):k.props,D=U&&U[T["".concat(I,"Id")]];return Y.cloneElement(k,Se(Se({},D),{},{className:It(I,D.className),key:k.key||"".concat(E,"-").concat(L),ticks:Qs(D,!0)}))}),mt(S,"renderPolarGrid",function(k){var E=k.props,L=E.radialLines,I=E.polarAngles,U=E.polarRadius,O=S.state,T=O.radiusAxisMap,D=O.angleAxisMap,F=Jo(T),B=Jo(D),K=B.cx,H=B.cy,$=B.innerRadius,J=B.outerRadius;return Y.cloneElement(k,{polarAngles:Array.isArray(I)?I:Qs(B,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray(U)?U:Qs(F,!0).map(function(ie){return ie.coordinate}),cx:K,cy:H,innerRadius:$,outerRadius:J,key:k.key||"polar-grid",radialLines:L})}),mt(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,E=S.props,L=E.children,I=E.width,U=E.height,O=S.props.margin||{},T=I-(O.left||0)-(O.right||0),D=gI({children:L,formattedGraphicalItems:k,legendWidth:T,legendContent:c});if(!D)return null;var F=D.item,B=GO(D,vge);return Y.cloneElement(F,Se(Se({},B),{},{chartWidth:I,chartHeight:U,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),mt(S,"renderTooltip",function(){var k,E=S.props,L=E.children,I=E.accessibilityLayer,U=$i(L,Ri);if(!U)return null;var O=S.state,T=O.isTooltipActive,D=O.activeCoordinate,F=O.activePayload,B=O.activeLabel,K=O.offset,H=(k=U.props.active)!==null&&k!==void 0?k:T;return Y.cloneElement(U,{viewBox:Se(Se({},K),{},{x:K.left,y:K.top}),active:H,label:B,payload:H?F:[],coordinate:D,accessibilityLayer:I})}),mt(S,"renderBrush",function(k){var E=S.props,L=E.margin,I=E.data,U=S.state,O=U.offset,T=U.dataStartIndex,D=U.dataEndIndex,F=U.updateId;return Y.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Mg(S.handleBrushChange,k.props.onChange),data:I,x:Be(k.props.x)?k.props.x:O.left,y:Be(k.props.y)?k.props.y:O.top+O.height+O.brushBottom-(L.bottom||0),width:Be(k.props.width)?k.props.width:O.width,startIndex:T,endIndex:D,updateId:"brush-".concat(F)})}),mt(S,"renderReferenceElement",function(k,E,L){if(!k)return null;var I=S,U=I.clipPathId,O=S.state,T=O.xAxisMap,D=O.yAxisMap,F=O.offset,B=k.type.defaultProps||{},K=k.props,H=K.xAxisId,$=H===void 0?B.xAxisId:H,J=K.yAxisId,ie=J===void 0?B.yAxisId:J;return Y.cloneElement(k,{key:k.key||"".concat(E,"-").concat(L),xAxis:T[$],yAxis:D[ie],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:U})}),mt(S,"renderActivePoints",function(k){var E=k.item,L=k.activePoint,I=k.basePoint,U=k.childIndex,O=k.isRange,T=[],D=E.props.key,F=E.item.type.defaultProps!==void 0?Se(Se({},E.item.type.defaultProps),E.item.props):E.item.props,B=F.activeDot,K=F.dataKey,H=Se(Se({index:U,dataKey:K,cx:L.x,cy:L.y,r:4,fill:zS(E.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},ft(B,!1)),ev(B));return T.push(y.renderActiveDot(B,H,"".concat(D,"-activePoint-").concat(U))),I?T.push(y.renderActiveDot(B,Se(Se({},H),{},{cx:I.x,cy:I.y}),"".concat(D,"-basePoint-").concat(U))):O&&T.push(null),T}),mt(S,"renderGraphicChild",function(k,E,L){var I=S.filterFormatItem(k,E,L);if(!I)return null;var U=S.getTooltipEventType(),O=S.state,T=O.isTooltipActive,D=O.tooltipAxis,F=O.activeTooltipIndex,B=O.activeLabel,K=S.props.children,H=$i(K,Ri),$=I.props,J=$.points,ie=$.isRange,se=$.baseLine,P=I.item.type.defaultProps!==void 0?Se(Se({},I.item.type.defaultProps),I.item.props):I.item.props,z=P.activeDot,V=P.hide,re=P.activeBar,ne=P.activeShape,ue=!!(!V&&T&&H&&(z||re||ne)),ve={};U!=="axis"&&H&&H.props.trigger==="click"?ve={onClick:Mg(S.handleItemMouseEnter,k.props.onClick)}:U!=="axis"&&(ve={onMouseLeave:Mg(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Mg(S.handleItemMouseEnter,k.props.onMouseEnter)});var oe=Y.cloneElement(k,Se(Se({},I.props),ve));function pe(qe){return typeof D.dataKey=="function"?D.dataKey(qe.payload):null}if(ue)if(F>=0){var xe,he;if(D.dataKey&&!D.allowDuplicatedCategory){var Te=typeof D.dataKey=="function"?pe:"payload.".concat(D.dataKey.toString());xe=Q0(J,Te,B),he=ie&&se&&Q0(se,Te,B)}else xe=J==null?void 0:J[F],he=ie&&se&&se[F];if(ne||re){var ae=k.props.activeIndex!==void 0?k.props.activeIndex:F;return[Y.cloneElement(k,Se(Se(Se({},I.props),ve),{},{activeIndex:ae})),null,null]}if(!Ot(xe))return[oe].concat(Qd(S.renderActivePoints({item:I,activePoint:xe,basePoint:he,childIndex:F,isRange:ie})))}else{var Z,Fe=(Z=S.getItemByXY(S.state.activeCoordinate))!==null&&Z!==void 0?Z:{graphicalItem:oe},Oe=Fe.graphicalItem,Ie=Oe.item,we=Ie===void 0?k:Ie,Pe=Oe.childIndex,Ae=Se(Se(Se({},I.props),ve),{},{activeIndex:Pe});return[Y.cloneElement(we,Ae),null,null]}return ie?[oe,null,null]:[oe,null]}),mt(S,"renderCustomized",function(k,E,L){return Y.cloneElement(k,Se(Se({key:"recharts-customized-".concat(L)},S.props),S.state))}),mt(S,"renderMap",{CartesianGrid:{handler:zg,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:zg},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:zg},YAxis:{handler:zg},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:gf("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=mL(S.triggeredAfterMouseMove,(j=w.throttleDelay)!==null&&j!==void 0?j:1e3/60),S.state={},S}return Pge(y,x),Age(y,[{key:"componentDidMount",value:function(){var _,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,j=_.children,S=_.data,k=_.height,E=_.layout,L=$i(j,Ri);if(L){var I=L.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,O=S5(this.state,S,I,U),T=this.state.tooltipTicks[I].coordinate,D=(this.state.offset.top+k)/2,F=E==="horizontal",B=F?{x:T,y:D}:{y:T,x:D},K=this.state.formattedGraphicalItems.find(function($){var J=$.item;return J.type.name==="Scatter"});K&&(B=Se(Se({},B),K.props.points[I].tooltipPosition),O=K.props.points[I].tooltipPayload);var H={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:U,activePayload:O,activeCoordinate:B};this.setState(H),this.renderCursor(L),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(_){Z2([$i(_.children,Ri)],[$i(this.props.children,Ri)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=$i(this.props.children,Ri);if(_&&typeof _.props.shared=="boolean"){var j=_.props.shared?"axis":"item";return o.indexOf(j)>=0?j:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var j=this.container,S=j.getBoundingClientRect(),k=Cre(S),E={chartX:Math.round(_.pageX-k.left),chartY:Math.round(_.pageY-k.top)},L=S.width/j.offsetWidth||1,I=this.inRange(E.chartX,E.chartY,L);if(!I)return null;var U=this.state,O=U.xAxisMap,T=U.yAxisMap,D=this.getTooltipEventType(),F=YO(this.state,this.props.data,this.props.layout,I);if(D!=="axis"&&O&&T){var B=Jo(O).scale,K=Jo(T).scale,H=B&&B.invert?B.invert(E.chartX):null,$=K&&K.invert?K.invert(E.chartY):null;return Se(Se({},E),{},{xValue:H,yValue:$},F)}return F?Se(Se({},E),F):null}},{key:"inRange",value:function(_,j){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,E=_/S,L=j/S;if(k==="horizontal"||k==="vertical"){var I=this.state.offset,U=E>=I.left&&E<=I.left+I.width&&L>=I.top&&L<=I.top+I.height;return U?{x:E,y:L}:null}var O=this.state,T=O.angleAxisMap,D=O.radiusAxisMap;if(T&&D){var F=Jo(T);return xk({x:E,y:L},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,j=this.getTooltipEventType(),S=$i(_,Ri),k={};S&&j==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=ev(this.props,this.handleOuterEvent);return Se(Se({},E),k)}},{key:"addListener",value:function(){ux.on(dx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ux.removeListener(dx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,j,S){for(var k=this.state.formattedGraphicalItems,E=0,L=k.length;E<L;E++){var I=k[E];if(I.item===_||I.props.key===_.key||j===to(I.item.type)&&S===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,j=this.state.offset,S=j.left,k=j.top,E=j.height,L=j.width;return le.createElement("defs",null,le.createElement("clipPath",{id:_},le.createElement("rect",{x:S,y:k,height:E,width:L})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(j,S){var k=VO(S,2),E=k[0],L=k[1];return Se(Se({},j),{},mt({},E,L.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(j,S){var k=VO(S,2),E=k[0],L=k[1];return Se(Se({},j),{},mt({},E,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[_])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(_){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[_])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(_){var j=this.state,S=j.formattedGraphicalItems,k=j.activeItem;if(S&&S.length)for(var E=0,L=S.length;E<L;E++){var I=S[E],U=I.props,O=I.item,T=O.type.defaultProps!==void 0?Se(Se({},O.type.defaultProps),O.props):O.props,D=to(O.type);if(D==="Bar"){var F=(U.data||[]).find(function($){return pue(_,$)});if(F)return{graphicalItem:I,payload:F}}else if(D==="RadialBar"){var B=(U.data||[]).find(function($){return xk(_,$)});if(B)return{graphicalItem:I,payload:B}}else if(f1(I,k)||h1(I,k)||Gp(I,k)){var K=rfe({graphicalItem:I,activeTooltipItem:k,itemData:T.data}),H=T.activeIndex===void 0?K:T.activeIndex;return{graphicalItem:Se(Se({},I),{},{childIndex:H}),payload:Gp(I,k)?T.data[K]:I.props.data[K]}}}return null}},{key:"render",value:function(){var _=this;if(!u3(this))return null;var j=this.props,S=j.children,k=j.className,E=j.width,L=j.height,I=j.style,U=j.compact,O=j.title,T=j.desc,D=GO(j,yge),F=ft(D,!1);if(U)return le.createElement(OO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement(ew,Zu({},F,{width:E,height:L,title:O,desc:T}),this.renderClipPath(),f3(S,this.renderMap)));if(this.props.accessibilityLayer){var B,K;F.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,F.role=(K=this.props.role)!==null&&K!==void 0?K:"application",F.onKeyDown=function($){_.accessibilityManager.keyboardEvent($)},F.onFocus=function(){_.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return le.createElement(OO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement("div",Zu({className:It("recharts-wrapper",k),style:Se({position:"relative",cursor:"default",width:E,height:L},I)},H,{ref:function(J){_.container=J}}),le.createElement(ew,Zu({},F,{width:E,height:L,title:O,desc:T,style:$ge}),this.renderClipPath(),f3(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(Y.Component);mt(g,"displayName",r),mt(g,"defaultProps",Se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),mt(g,"getDerivedStateFromProps",function(x,y){var w=x.dataKey,_=x.data,j=x.children,S=x.width,k=x.height,E=x.layout,L=x.stackOffset,I=x.margin,U=y.dataStartIndex,O=y.dataEndIndex;if(y.updateId===void 0){var T=XO(x);return Se(Se(Se({},T),{},{updateId:0},h(Se(Se({props:x},T),{},{updateId:0}),y)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:k,prevLayout:E,prevStackOffset:L,prevMargin:I,prevChildren:j})}if(w!==y.prevDataKey||_!==y.prevData||S!==y.prevWidth||k!==y.prevHeight||E!==y.prevLayout||L!==y.prevStackOffset||!ld(I,y.prevMargin)){var D=XO(x),F={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},B=Se(Se({},YO(y,_,E)),{},{updateId:y.updateId+1}),K=Se(Se(Se({},D),F),B);return Se(Se(Se({},K),h(Se({props:x},K),y)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:k,prevLayout:E,prevStackOffset:L,prevMargin:I,prevChildren:j})}if(!Z2(j,y.prevChildren)){var H,$,J,ie,se=$i(j,qd),P=se&&(H=($=se.props)===null||$===void 0?void 0:$.startIndex)!==null&&H!==void 0?H:U,z=se&&(J=(ie=se.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&J!==void 0?J:O,V=P!==U||z!==O,re=!Ot(_),ne=re&&!V?y.updateId:y.updateId+1;return Se(Se({updateId:ne},h(Se(Se({props:x},y),{},{updateId:ne,dataStartIndex:P,dataEndIndex:z}),y)),{},{prevChildren:j,dataStartIndex:P,dataEndIndex:z})}return null}),mt(g,"renderActiveDot",function(x,y,w){var _;return Y.isValidElement(x)?_=Y.cloneElement(x,y):bt(x)?_=x(y):_=le.createElement(o1,y),le.createElement(Gt,{className:"recharts-active-dot",key:w},_)});var v=Y.forwardRef(function(y,w){return le.createElement(g,Zu({},y,{ref:w}))});return v.displayName=g.displayName,v},U$=QS({chartName:"LineChart",GraphicalChild:zc,axisComponents:[{axisType:"xAxis",AxisComp:tu},{axisType:"yAxis",AxisComp:ru}],formatAxisMap:a$}),Hge=QS({chartName:"BarChart",GraphicalChild:eu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:tu},{axisType:"yAxis",AxisComp:ru}],formatAxisMap:a$}),Vge=QS({chartName:"PieChart",GraphicalChild:wo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:d1},{axisType:"radiusAxis",AxisComp:c1}],formatAxisMap:koe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Gge({data:t}){const e=["#3b82f6","#60a5fa","#93c5fd","#cbd5e1","#ef4444"];return d.jsx(Yy,{width:"100%",height:300,children:d.jsxs(Hge,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(b1,{strokeDasharray:"3 3"}),d.jsx(tu,{dataKey:"range"}),d.jsx(ru,{}),d.jsx(Ri,{}),d.jsx(eu,{dataKey:"count",fill:"#3b82f6",radius:[8,8,0,0],children:t.map((r,n)=>d.jsx(hm,{fill:e[n%e.length]},`cell-${n}`))})]})})}function Kge({data:t}){return d.jsx(Yy,{width:"100%",height:300,children:d.jsxs(U$,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(b1,{strokeDasharray:"3 3"}),d.jsx(tu,{dataKey:"date"}),d.jsx(ru,{}),d.jsx(Ri,{}),d.jsx(ro,{}),d.jsx(zc,{type:"monotone",dataKey:"completions",stroke:"#10b981",strokeWidth:2,name:"Completions"}),d.jsx(zc,{type:"monotone",dataKey:"assignments",stroke:"#3b82f6",strokeWidth:2,name:"Assignments"})]})})}const ZO=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function Yge({data:t}){return d.jsx(Yy,{width:"100%",height:300,children:d.jsxs(Vge,{children:[d.jsx(wo,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:r})=>`${e}: ${(r*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((e,r)=>d.jsx(hm,{fill:ZO[r%ZO.length]},`cell-${r}`))}),d.jsx(Ri,{}),d.jsx(ro,{})]})})}function Xge({user:t}){const[e,r]=Y.useState({totalAssignments:0,totalCompletions:0,averageScore:0,completionRate:0}),[n,i]=Y.useState({scoreDistribution:[],completionTrend:[],stationPerformance:[],studentPerformance:[],hintUsage:[],diagnosisAccuracy:[],timeToCompletion:[],sloTrends:[]}),[a,s]=Y.useState(!0);Y.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:l}=await Le.from("stations").select("id, title").eq("created_by",t.id);if(!l)return;const c=l.map(H=>H.id),{data:u}=await Le.from("case_snapshots").select("id, station_id, clinical_case").in("station_id",c);if(!u)return;const f=u.map(H=>H.id),{data:p}=await Le.from("assignments").select("id, snapshot_id, created_at, due_at").in("snapshot_id",f),{data:h}=await Le.from("simulation_runs").select("score, submitted_at, assignment_id, started_at, student_id, transcript").in("assignment_id",(p==null?void 0:p.map(H=>H.id))||[]),g=(h==null?void 0:h.filter(H=>H.submitted_at))||[],v=g.map(H=>{var $;return(($=H.score)==null?void 0:$.overall)||0}).filter(H=>H>0),x=v.length>0?v.reduce((H,$)=>H+$,0)/v.length:0;r({totalAssignments:(p==null?void 0:p.length)||0,totalCompletions:g.length,averageScore:Math.round(x),completionRate:p&&p.length>0?Math.round(g.length/p.length*100):0});const w=[{range:"0-20",min:0,max:20},{range:"21-40",min:21,max:40},{range:"41-60",min:41,max:60},{range:"61-80",min:61,max:80},{range:"81-100",min:81,max:100}].map(H=>({range:H.range,count:v.filter($=>$>=H.min&&$<=H.max).length})),_=new Date,j=[];for(let H=6;H>=0;H--){const $=new Date(_);$.setDate($.getDate()-H);const J=$.toISOString().split("T")[0],ie=g.filter(P=>{var V;return((V=P.submitted_at)==null?void 0:V.split("T")[0])===J}).length,se=(p==null?void 0:p.filter(P=>{var V;return((V=P.created_at)==null?void 0:V.split("T")[0])===J}).length)||0;j.push({date:$.toLocaleDateString("en-US",{month:"short",day:"numeric"}),completions:ie,assignments:se})}const S=new Map;g.forEach(H=>{const $=p==null?void 0:p.find(J=>J.id===H.assignment_id);if($){const J=u.find(ie=>ie.id===$.snapshot_id);if(J){const ie=l.find(se=>se.id===J.station_id);if(ie){const se=S.get(ie.title||"Untitled")||0;S.set(ie.title||"Untitled",se+1)}}}});const k=Array.from(S.entries()).map(([H,$])=>({name:H,value:$})).slice(0,6),E=new Map;p==null||p.forEach(H=>{var z;const $=g.filter(V=>V.assignment_id===H.id),J=$.map(V=>{var re;return((re=V.score)==null?void 0:re.overall)||0}).filter(V=>V>0),ie=u.find(V=>V.id===H.snapshot_id),se=((z=ie==null?void 0:ie.clinical_case)==null?void 0:z.title)||"Untitled Assignment",P=new Set($.map(V=>V.student_id));E.set(se,{scores:J,completions:$.length,totalStudents:P.size})});const L=Array.from(E.entries()).map(([H,$])=>({assignmentTitle:H,averageScore:$.scores.length>0?Math.round($.scores.reduce((J,ie)=>J+ie,0)/$.scores.length):0,completions:$.completions,totalStudents:$.totalStudents})).sort((H,$)=>$.averageScore-H.averageScore).slice(0,10),I=new Map;g.forEach(H=>{var J,ie;const $=p==null?void 0:p.find(se=>se.id===H.assignment_id);if($){const se=u.find(re=>re.id===$.snapshot_id),P=((J=se==null?void 0:se.clinical_case)==null?void 0:J.title)||"Untitled Assignment",z=((ie=H.transcript)==null?void 0:ie.hintsUsed)||0,V=I.get(P)||{hints:[],total:0};V.hints.push(z),V.total+=z,I.set(P,V)}});const U=Array.from(I.entries()).map(([H,$])=>({assignmentTitle:H,averageHints:$.hints.length>0?Math.round($.total/$.hints.length*10)/10:0,totalHints:$.total})).sort((H,$)=>$.averageHints-H.averageHints).slice(0,10),O=[];for(let H=6;H>=0;H--){const $=new Date(_);$.setDate($.getDate()-H);const J=$.toISOString().split("T")[0],ie=g.filter(z=>{var re;return((re=z.submitted_at)==null?void 0:re.split("T")[0])===J});let se=0,P=0;ie.forEach(z=>{const V=z.score;(V==null?void 0:V.diagnosisCorrect)!==void 0&&(P++,V.diagnosisCorrect&&se++)}),O.push({date:$.toLocaleDateString("en-US",{month:"short",day:"numeric"}),accuracy:P>0?Math.round(se/P*100):0,total:P})}const T=new Map;g.forEach(H=>{var J;const $=p==null?void 0:p.find(ie=>ie.id===H.assignment_id);if($&&H.started_at&&H.submitted_at){const ie=u.find(ne=>ne.id===$.snapshot_id),se=((J=ie==null?void 0:ie.clinical_case)==null?void 0:J.title)||"Untitled Assignment",P=new Date(H.started_at).getTime(),V=(new Date(H.submitted_at).getTime()-P)/(1e3*60),re=T.get(se)||[];re.push(V),T.set(se,re)}});const D=Array.from(T.entries()).map(([H,$])=>{const J=[...$].sort((se,P)=>se-P),ie=J.length>0?J[Math.floor(J.length/2)]:0;return{assignmentTitle:H,averageTime:$.length>0?Math.round($.reduce((se,P)=>se+P,0)/$.length*10)/10:0,medianTime:Math.round(ie*10)/10}}).slice(0,10),F=new Map;g.forEach(H=>{const $=H.score;(($==null?void 0:$.sloResults)||[]).forEach(ie=>{const se=F.get(ie.sloId)||{text:"",correct:0,total:0};se.total++,ie.status==="Achieved"&&se.correct++,F.set(ie.sloId,se)})});const{data:B}=await Le.from("slo").select("id, text");B==null||B.forEach(H=>{const $=F.get(H.id);$&&($.text=H.text)});const K=Array.from(F.entries()).map(([H,$])=>({sloId:H,sloText:$.text||"Unknown SLO",achievementRate:$.total>0?Math.round($.correct/$.total*100):0,attempts:$.total})).sort((H,$)=>$.attempts-H.attempts).slice(0,10);i({scoreDistribution:w,completionTrend:j,stationPerformance:k,studentPerformance:L,hintUsage:U,diagnosisAccuracy:O,timeToCompletion:D,sloTrends:K})}catch(l){console.error("Error loading analytics:",l)}finally{s(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Analytics Dashboard"}),a?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Assignments"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.totalAssignments})]}),d.jsx(co,{className:"w-8 h-8 text-blue-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Completions"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.totalCompletions})]}),d.jsx(Ic,{className:"w-8 h-8 text-green-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[e.averageScore,"%"]})]}),d.jsx(lm,{className:"w-8 h-8 text-purple-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Completion Rate"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[e.completionRate,"%"]})]}),d.jsx(qa,{className:"w-8 h-8 text-orange-600"})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Score Distribution"}),n.scoreDistribution.length>0?d.jsx(Gge,{data:n.scoreDistribution}):d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No score data available"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Completion Trend (Last 7 Days)"}),n.completionTrend.length>0?d.jsx(Kge,{data:n.completionTrend}):d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No trend data available"})]})]}),n.stationPerformance.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Station Performance"}),d.jsx(Yge,{data:n.stationPerformance})]}),n.studentPerformance.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Top Assignments Performance"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Average Score"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completions"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Students"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.studentPerformance.map((l,c)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.jsxs("span",{className:`font-semibold ${l.averageScore>=80?"text-green-600":l.averageScore>=60?"text-yellow-600":"text-red-600"}`,children:[l.averageScore,"%"]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.completions}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.totalStudents})]},c))})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.diagnosisAccuracy.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Diagnosis Accuracy Trend (Last 7 Days)"}),d.jsx("div",{className:"space-y-3",children:n.diagnosisAccuracy.map((l,c)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:l.date}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${l.accuracy>=80?"bg-green-500":l.accuracy>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${l.accuracy}%`}})}),d.jsxs("span",{className:"text-sm font-semibold text-gray-900 w-12 text-right",children:[l.accuracy,"%"]}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",l.total,")"]})]})]},c))})]}),n.hintUsage.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Hint Usage by Assignment"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Hints"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.hintUsage.map((l,c)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:l.averageHints}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:l.totalHints})]},c))})]})})]})]}),n.timeToCompletion.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Time to Completion"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Avg Time (min)"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Median Time (min)"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.timeToCompletion.map((l,c)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:l.assignmentTitle}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:l.averageTime}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:l.medianTime})]},c))})]})})]}),n.sloTrends.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"SLO Achievement Trends"}),d.jsx("div",{className:"space-y-4",children:n.sloTrends.map((l,c)=>d.jsxs("div",{className:"border-l-4 border-primary-500 pl-4 py-2",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:l.sloText}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${l.achievementRate>=70?"bg-green-500":l.achievementRate>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${l.achievementRate}%`}})}),d.jsxs("span",{className:"text-sm font-semibold text-gray-900 w-16 text-right",children:[l.achievementRate,"%"]}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",l.attempts," attempts)"]})]})]},c))})]})]})]})}),d.jsx(Mn,{role:"faculty"})]})}function Jge({user:t}){const[e,r]=Y.useState({totalStations:0,approvedCases:0,pendingReview:0,totalAssignments:0}),[n,i]=Y.useState(!0);Y.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:o}=await Le.from("stations").select("id").eq("created_by",t.id),{data:l}=await Le.from("case_snapshots").select("id, station_id").eq("approved_by",t.id),c=(o==null?void 0:o.map(v=>v.id))||[],{data:u}=await Le.from("case_snapshots").select("station_id").in("station_id",c),f=new Set((u==null?void 0:u.map(v=>v.station_id))||[]),p=c.filter(v=>!f.has(v)),h=(l==null?void 0:l.map(v=>v.id))||[],{data:g}=await Le.from("assignments").select("id").in("snapshot_id",h);r({totalStations:(o==null?void 0:o.length)||0,approvedCases:(l==null?void 0:l.length)||0,pendingReview:p.length,totalAssignments:(g==null?void 0:g.length)||0})}catch(o){console.error("Error loading stats:",o)}finally{i(!1)}},s=async()=>{await z_()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"faculty"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Profile"}),d.jsx("p",{className:"text-gray-600",children:"View your account information and statistics"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center",children:d.jsx(ms,{className:"w-10 h-10 text-primary-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(YT,{className:"w-4 h-4"}),d.jsx("span",{children:t.email})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(cf,{className:"w-4 h-4"}),d.jsxs("span",{children:["Member since ",new Date(t.created_at).toLocaleDateString()]})]})]})]}),d.jsx("div",{className:"border-t pt-4",children:d.jsx("div",{className:"flex items-center gap-2 text-sm",children:d.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full font-medium",children:"Faculty"})})})]}),!n&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.totalStations})]}),d.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:d.jsx(ga,{className:"w-6 h-6 text-blue-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Approved Cases"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.approvedCases})]}),d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(qa,{className:"w-6 h-6 text-green-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Pending Review"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.pendingReview})]}),d.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:d.jsx(Kc,{className:"w-6 h-6 text-yellow-600"})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Assignments"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.totalAssignments})]}),d.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:d.jsx(ga,{className:"w-6 h-6 text-purple-600"})})]})})]}),n&&d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[d.jsx(KT,{className:"w-5 h-5"}),d.jsx("span",{children:"Sign Out"})]})})]})}),d.jsx(Mn,{role:"faculty"})]})}function QO({user:t}){const e=Ga(),[r,n]=Y.useState([]),[i,a]=Y.useState([]),[s,o]=Y.useState(!0),[l,c]=Y.useState("all"),[u,f]=Y.useState(""),[p,h]=Y.useState("all");Y.useEffect(()=>{g()},[]),Y.useEffect(()=>{v()},[r,l,u,p]);const g=async()=>{try{const{data:S}=await Le.from("cohort_members").select("cohort_id").eq("student_id",t.id);if(!S||S.length===0){o(!1);return}const k=S.map(U=>U.cohort_id),{data:E,error:L}=await Le.from("assignments").select("*").in("cohort_id",k).order("created_at",{ascending:!1});if(L)throw L;const I=await Promise.all((E||[]).map(async U=>{var H;const{data:O}=await Le.from("case_snapshots").select("*").eq("id",U.snapshot_id).single(),{data:T}=await Le.from("simulation_runs").select("id, score, submitted_at").eq("assignment_id",U.id).eq("student_id",t.id).order("submitted_at",{ascending:!1}),D=(T==null?void 0:T.length)||0,F=(T==null?void 0:T.reduce(($,J)=>{const ie=J.score;return Math.max($,(ie==null?void 0:ie.overall)||0)},0))||0,B=(H=T==null?void 0:T[0])==null?void 0:H.submitted_at;let K="not_started";return D>0&&(K=(T==null?void 0:T.some(J=>J.submitted_at))?"completed":"in_progress"),{...U,snapshot:O,attemptsCount:D,bestScore:F,lastAttempt:B,status:K}}));n(I)}catch(S){console.error("Error loading assignments:",S)}finally{o(!1)}},v=()=>{let S=[...r];if(p==="pending"?S=S.filter(k=>k.status==="not_started"&&(!k.due_at||new Date(k.due_at)>new Date)):p==="in_progress"?S=S.filter(k=>k.status==="in_progress"):p==="completed"&&(S=S.filter(k=>k.status==="completed")),l!=="all"&&(S=S.filter(k=>k.status===l)),u){const k=u.toLowerCase();S=S.filter(E=>{var L,I,U,O,T,D,F;return((U=(I=(L=E.snapshot)==null?void 0:L.clinical_case)==null?void 0:I.title)==null?void 0:U.toLowerCase().includes(k))||((F=(D=(T=(O=E.snapshot)==null?void 0:O.clinical_case)==null?void 0:T.patientProfile)==null?void 0:D.name)==null?void 0:F.toLowerCase().includes(k))})}a(S)},x=S=>Math.max(0,S.max_attempts-(S.attemptsCount||0)),y=S=>S.due_at?new Date(S.due_at)<new Date&&S.status!=="completed":!1,w=({dueDate:S})=>{const[k,E]=Y.useState("");return Y.useEffect(()=>{const L=()=>{const U=new Date,T=new Date(S).getTime()-U.getTime();if(T<=0){E("Overdue");return}const D=Math.floor(T/(1e3*60*60*24)),F=Math.floor(T%(1e3*60*60*24)/(1e3*60*60)),B=Math.floor(T%(1e3*60*60)/(1e3*60));D>0?E(`${D}d ${F}h left`):F>0?E(`${F}h ${B}m left`):E(`${B}m left`)};L();const I=setInterval(L,6e4);return()=>clearInterval(I)},[S]),d.jsxs("span",{className:"text-xs text-primary-600 font-medium ml-2",children:["(",k,")"]})},_=S=>y(S)?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:"Overdue"}):S.status==="completed"?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Completed"}):S.status==="in_progress"?d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full",children:"In Progress"}):d.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:"Not Started"}),j={total:r.length,completed:r.filter(S=>S.status==="completed").length,inProgress:r.filter(S=>S.status==="in_progress").length,notStarted:r.filter(S=>S.status==="not_started").length};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 pb-20 md:pb-6",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"My Assignments"}),d.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"View and manage your OSCE simulations"})]}),!s&&d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:j.total}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Total"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-green-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-green-700",children:j.completed}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Completed"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-yellow-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-yellow-700",children:j.inProgress}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"In Progress"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-700",children:j.notStarted}),d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Not Started"})]})]}),!s&&d.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[d.jsx("div",{className:"border-b border-gray-200",children:d.jsx("div",{className:"flex overflow-x-auto",children:[{key:"all",label:"All",count:r.length},{key:"pending",label:"Pending",count:r.filter(S=>S.status==="not_started"&&(!S.due_at||new Date(S.due_at)>new Date)).length},{key:"in_progress",label:"In Progress",count:r.filter(S=>S.status==="in_progress").length},{key:"completed",label:"Completed",count:r.filter(S=>S.status==="completed").length}].map(S=>d.jsxs("button",{onClick:()=>h(S.key),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${p===S.key?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[S.label,S.count>0&&d.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${p===S.key?"bg-primary-100 text-primary-800":"bg-gray-100 text-gray-600"}`,children:S.count})]},S.key))})}),d.jsx("div",{className:"p-4 border-b border-gray-200",children:d.jsxs("div",{className:"relative",children:[d.jsx(H_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search assignments...",value:u,onChange:S=>f(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})})]}),s?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):i.length===0?d.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[d.jsx(Ay,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.length===0?"No Assignments Available":"No Assignments Match Your Filters"}),d.jsx("p",{className:"text-gray-600 text-sm mb-4",children:r.length===0?"You don't have any assignments yet. Check back later or contact your faculty if you expect to see assignments here.":"Try adjusting your search or filter criteria to find what you're looking for."}),r.length>0&&d.jsx("button",{onClick:()=>{h("all"),c("all"),f("")},className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Clear Filters"}),r.length===0&&d.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsx("strong",{children:"Tip:"})," Make sure you're enrolled in cohorts to receive assignments. You can manage your cohorts in your Profile settings."]})})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(S=>{var k,E,L,I,U,O;return d.jsxs("div",{className:`bg-white rounded-xl shadow-md p-5 md:p-6 hover:shadow-xl transition-all border-2 ${y(S)?"border-l-4 border-red-500 border-r-2 border-t-2 border-b-2":"border-gray-200"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 flex-1",children:((E=(k=S.snapshot)==null?void 0:k.clinical_case)==null?void 0:E.title)||"Untitled Station"}),_(S)]}),((I=(L=S.snapshot)==null?void 0:L.clinical_case)==null?void 0:I.patientProfile)&&d.jsxs("div",{className:"mb-3 text-sm text-gray-600",children:[d.jsx("span",{className:"font-medium",children:"Patient:"})," ",S.snapshot.clinical_case.patientProfile.name]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(Kc,{className:"w-4 h-4"}),d.jsxs("span",{children:[((O=(U=S.snapshot)==null?void 0:U.clinical_case)==null?void 0:O.durationMinutes)||15," minutes"]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(TN,{className:"w-4 h-4"}),d.jsxs("span",{children:[x(S)," of ",S.max_attempts," attempts left"]})]}),S.bestScore!==void 0&&S.bestScore>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[d.jsx(qa,{className:"w-4 h-4"}),d.jsxs("span",{children:["Best Score: ",S.bestScore.toFixed(0),"%"]})]}),S.due_at&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[d.jsx(cf,{className:"w-4 h-4"}),d.jsxs("span",{className:y(S)?"text-red-600 font-medium":"",children:["Due: ",new Date(S.due_at).toLocaleDateString()]}),!y(S)&&new Date(S.due_at)>new Date&&d.jsx(w,{dueDate:S.due_at})]})]}),d.jsx("div",{className:"flex gap-2",children:S.status==="completed"?d.jsxs("button",{onClick:()=>{e("/results")},className:"flex-1 flex items-center justify-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:[d.jsx(ps,{className:"w-4 h-4"}),"View Results"]}):d.jsxs("button",{onClick:()=>e(`/simulation/${S.id}`),disabled:x(S)===0,className:"flex-1 flex items-center justify-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[d.jsx(TN,{className:"w-4 h-4"}),S.status==="in_progress"?"Continue":"Start Simulation"]})})]},S.id)})})]}),d.jsx(Mn,{role:"student"})]})}function Zge({activeTab:t,onTabChange:e}){const r=[{id:"chat",label:"Chat",icon:OU},{id:"exam",label:"Exam",icon:TU},{id:"labs",label:"Labs",icon:LU},{id:"diagnosis",label:"Diagnosis",icon:ga}];return d.jsx("div",{className:"bg-white border-b-2 border-gray-300 shadow-sm",children:d.jsx("div",{className:"flex overflow-x-auto scrollbar-hide",children:r.map(n=>{const i=n.icon,a=t===n.id;return d.jsxs("button",{onClick:()=>e(n.id),className:`flex items-center gap-2 px-4 md:px-6 py-3 md:py-4 text-sm md:text-base font-semibold border-b-3 transition-all whitespace-nowrap ${a?"border-primary-600 text-primary-700 bg-primary-50":"border-transparent text-gray-600 hover:text-primary-600 hover:bg-gray-50 hover:border-gray-300"}`,children:[d.jsx(i,{className:`w-4 h-4 md:w-5 md:h-5 ${a?"text-primary-600":""}`}),d.jsx("span",{children:n.label})]},n.id)})})})}function Qge({messages:t,input:e,setInput:r,sending:n,onSendMessage:i,onRequestHint:a,hintsRemaining:s}){const o=Y.useRef(null);return Y.useEffect(()=>{var l;(l=o.current)==null||l.scrollIntoView({behavior:"smooth"})},[t]),d.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[d.jsxs("div",{className:"bg-white border-b-2 border-gray-300 p-4 flex items-center justify-between shadow-sm",children:[d.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Chat with Patient"}),d.jsxs("button",{onClick:a,disabled:s<=0,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-900 rounded-lg hover:from-yellow-500 hover:to-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md font-semibold text-sm",children:[d.jsx(GT,{className:"w-4 h-4"}),"Hint (",s,")"]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[t.map((l,c)=>d.jsxs("div",{className:`flex ${l.role==="user"?"justify-end":"justify-start"} items-start gap-2`,children:[l.role==="assistant"&&d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(ms,{className:"w-4 h-4 text-primary-600"})}),d.jsxs("div",{className:`max-w-[85%] md:max-w-[75%] rounded-xl p-3 md:p-4 shadow-md ${l.role==="user"?"bg-gradient-to-br from-primary-600 to-primary-700 text-white":"bg-white border-2 border-gray-200 text-gray-900"}`,children:[d.jsx("p",{className:`whitespace-pre-wrap ${l.role==="user"?"text-white":"text-gray-800"}`,children:l.content}),d.jsx("span",{className:`text-xs mt-2 block ${l.role==="user"?"text-primary-100":"text-gray-500"}`,children:l.timestamp instanceof Date?l.timestamp.toLocaleTimeString():new Date(l.timestamp).toLocaleTimeString()})]}),l.role==="user"&&d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(ms,{className:"w-4 h-4 text-gray-600"})})]},c)),n&&d.jsxs("div",{className:"flex justify-start items-start gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(ms,{className:"w-4 h-4 text-primary-600"})}),d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),d.jsx("div",{ref:o})]}),d.jsx("div",{className:"bg-white border-t-2 border-gray-300 p-4 shadow-lg",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:e,onChange:l=>r(l.target.value),onKeyPress:l=>l.key==="Enter"&&!n&&i(),placeholder:"Ask a question...",className:"flex-1 px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400",disabled:n}),d.jsx("button",{onClick:i,disabled:n||!e.trim(),className:"px-5 py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-lg hover:from-primary-700 hover:to-primary-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md font-semibold",children:d.jsx(EU,{className:"w-5 h-5"})})]})})]})}function e0e({caseData:t}){const e=(t==null?void 0:t.physicalExam)||{},r=e.vitals||{},n=e.generalExam||"",i=e.systemicExam||"";return d.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-4 md:p-6 space-y-4 md:space-y-6 bg-gray-50",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Physical Examination"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI-generated examination findings"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("div",{className:"bg-primary-100 p-2 rounded-lg",children:d.jsx(jU,{className:"w-5 h-5 text-primary-700"})}),d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Vital Signs"})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 md:gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Blood Pressure"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 rounded-lg text-gray-900 font-medium",children:r.bp||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Heart Rate"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-red-50 to-red-100 border-2 border-red-200 rounded-lg text-gray-900 font-medium",children:r.hr||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Respiratory Rate"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-200 rounded-lg text-gray-900 font-medium",children:r.rr||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"Temperature"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-orange-50 to-orange-100 border-2 border-orange-200 rounded-lg text-gray-900 font-medium",children:r.temp||"Not recorded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-semibold text-gray-700 mb-2",children:"SpO2"}),d.jsx("div",{className:"w-full px-3 py-2.5 bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-200 rounded-lg text-gray-900 font-medium",children:r.spo2||"Not recorded"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4",children:"General Examination"}),d.jsx("div",{className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-lg min-h-[120px] text-gray-900 whitespace-pre-wrap leading-relaxed",children:n||"General examination findings not available."})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 md:p-6 border border-gray-200",children:[d.jsx("div",{className:"flex items-center gap-2 mb-4",children:d.jsx("span",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Systemic Examination"})}),d.jsx("div",{className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-lg min-h-[200px] text-gray-900 whitespace-pre-wrap leading-relaxed",children:i||"Systemic examination findings not available."})]})]})}const z$=[{name:"BEDSIDE TESTS",tests:["ECG","Blood Glucose","Urine Dipstick"]},{name:"BASIC LABS",tests:["CBC","CMP","ESR","CRP","TSH","Lipid Profile","LFT","RFT","ABG"]},{name:"ADVANCED LABS",tests:["Troponin","BNP","D-dimer","Coagulation Profile","Blood Culture","HbA1c"]},{name:"IMAGING",tests:["Chest X-Ray","CT Head","CT Chest","CT Abdomen","Abdominal Ultrasound","Echocardiogram"]}];z$.flatMap(t=>t.tests.map(e=>({test:e,category:t.name})));function q$(t,e,r){if(r&&r[t])return r[t];const n=t.toLowerCase();return n.includes("ecg")?"Normal sinus rhythm, no acute changes":n.includes("glucose")?"Random blood glucose: 180 mg/dL (elevated)":n.includes("urine")?"Negative for nitrites, leukocyte esterase, protein, blood":n.includes("cbc")?"WBC: 15,000/L (elevated), Hb: 12 g/dL, Platelets: 250,000/L":n.includes("cmp")?"Na: 138 mEq/L, K: 4.2 mEq/L, Creatinine: 1.2 mg/dL, BUN: 45 mg/dL (elevated)":n.includes("crp")?"150 mg/L (markedly elevated)":n.includes("chest x-ray")||n.includes("chest xray")?"Consolidation in right lower lobe, consistent with pneumonia":n.includes("ct head")?"No acute intracranial pathology, age-appropriate atrophy":n.includes("ct chest")?"Right lower lobe consolidation with air bronchograms, consistent with pneumonia":n.includes("blood culture")?"Pending (results typically available in 48-72 hours)":n.includes("troponin")?"0.02 ng/mL (normal)":n.includes("bnp")?"200 pg/mL (mildly elevated)":n.includes("d-dimer")?"0.8 mg/L (elevated)":n.includes("abg")?"pH: 7.35, pCO2: 42 mmHg, pO2: 65 mmHg, HCO3: 22 mEq/L (respiratory acidosis with hypoxemia)":`Result for ${t}: See detailed report`}function eP(t,e){return e.some(r=>r.testName===t)}function t0e({labOrders:t,labResults:e,onOrderTest:r,caseData:n}){const[i,a]=Y.useState("order"),s=(l,c)=>{eP(l,t)||r(l,c)},o=l=>{const c=e.find(u=>u.testName===l);return c?c.result:q$(l,n,n==null?void 0:n.labResults)};return d.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[d.jsx("div",{className:"bg-white border-b-2 border-gray-300 p-4 shadow-sm",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>a("order"),className:`px-6 py-2.5 rounded-lg font-semibold transition-all shadow-md ${i==="order"?"bg-gradient-to-r from-primary-600 to-primary-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Order Tests"}),d.jsx("button",{onClick:()=>a("view"),className:`px-6 py-2.5 rounded-lg font-semibold transition-all shadow-md ${i==="view"?"bg-gradient-to-r from-primary-600 to-primary-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"View Results"})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:i==="order"?d.jsx("div",{className:"space-y-4 md:space-y-6",children:z$.map(l=>d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 md:p-6 border border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-4 pb-2 border-b-2 border-gray-200",children:l.name}),d.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3",children:l.tests.map(c=>{const u=eP(c,t);return d.jsxs("button",{onClick:()=>s(c,l.name),disabled:u,className:`px-4 py-2 rounded-lg text-sm md:text-base font-semibold transition-all shadow-sm ${u?"bg-gradient-to-r from-green-500 to-green-600 text-white cursor-not-allowed shadow-md":"bg-gray-100 text-gray-800 hover:bg-primary-100 hover:text-primary-700 hover:shadow-md border-2 border-gray-200"}`,children:[c,u&&" "]},c)})})]},l.name))}):d.jsx("div",{className:"space-y-4",children:t.length===0?d.jsx("div",{className:"bg-white rounded-xl shadow-md p-8 md:p-12 text-center border border-gray-200",children:d.jsx("p",{className:"text-gray-600 font-medium",children:'No tests ordered yet. Switch to "Order Tests" to order lab tests.'})}):t.map(l=>{const c=o(l.testName);return d.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 md:p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b-2 border-gray-200",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:l.testName}),d.jsx("span",{className:"text-xs md:text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full font-medium",children:l.category})]}),d.jsx("p",{className:"text-gray-800 font-medium leading-relaxed",children:c})]},l.testName)})})})]})}function r0e({diagnosis:t,onUpdate:e}){const[r,n]=Y.useState(t);return Y.useEffect(()=>{e(r)},[r,e]),d.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-4 md:p-6 bg-gray-50",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"bg-primary-100 p-2 rounded-lg",children:d.jsx(ga,{className:"w-5 h-5 md:w-6 md:h-6 text-primary-700"})}),d.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Enter Diagnosis"})]}),d.jsx("p",{className:"text-sm md:text-base text-gray-600 ml-12",children:"Enter your diagnosis based on the patient's history, physical examination findings, and laboratory results."})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm md:text-base font-semibold text-gray-700 mb-3",children:"Your Diagnosis"}),d.jsx("textarea",{value:r,onChange:i=>n(i.target.value),placeholder:"Enter your diagnosis here (e.g., Pitta Jwara, Vata-Pitta imbalance, etc.)...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 min-h-[200px] md:min-h-[250px] text-gray-900 placeholder-gray-400 text-base leading-relaxed shadow-sm"})]}),r&&d.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl p-4 md:p-5 shadow-md",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-green-500 p-1.5 rounded-full",children:d.jsx(ps,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold text-green-900 block",children:"Diagnosis Entered"}),d.jsx("span",{className:"text-sm text-green-800 mt-1 block",children:r})]})]})})]})}const n0e="AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",i0e="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";function a0e({user:t}){var Te,ae,Z,Fe;const{assignmentId:e}=wy(),r=Ga(),n=vo(),[i,a]=Y.useState(null),[s,o]=Y.useState(null),[l,c]=Y.useState([]),[u,f]=Y.useState(""),[p,h]=Y.useState(!0),[g,v]=Y.useState(!1),[x,y]=Y.useState(0),[w,_]=Y.useState(null),[j,S]=Y.useState(!1),[k,E]=Y.useState("chat"),[L,I]=Y.useState(0),[U,O]=Y.useState([]),[T,D]=Y.useState([]),[F,B]=Y.useState(""),K=10;Y.useEffect(()=>{e&&(H(),$())},[e]);const H=async()=>{try{const{data:Oe,error:Ie}=await Le.from("assignments").select("*").eq("id",e).single();if(Ie)throw Ie;a(Oe);const{data:we,error:Pe}=await Le.from("case_snapshots").select("*").eq("id",Oe.snapshot_id).single();if(Pe)throw Pe;o(we);const{data:Ae}=await Le.from("simulation_runs").select("*").eq("assignment_id",e).eq("student_id",t.id).is("submitted_at",null).order("created_at",{ascending:!1}).limit(1);let qe;if(Ae&&Ae.length>0){if(qe=Ae[0],_(qe.id),qe.transcript){const De=qe.transcript;De.messages&&c(De.messages.map(Xe=>({...Xe,timestamp:typeof Xe.timestamp=="string"?new Date(Xe.timestamp):Xe.timestamp}))),I(De.hintsUsed||0),O(De.labOrders||[]),D(De.labResults||[]),B(De.diagnosis||"")}}else{const{data:De,error:Xe}=await Le.from("simulation_runs").insert({assignment_id:e,student_id:t.id,started_at:new Date().toISOString(),transcript:{messages:[],hintsUsed:0,labOrders:[],labResults:[],diagnosis:""}}).select().single();if(Xe)throw Xe;qe=De,_(De.id)}}catch(Oe){console.error("Error loading assignment:",Oe),n.error("Failed to load assignment")}finally{h(!1)}},$=()=>{const Oe=setInterval(()=>{y(Ie=>{var Pe;const we=Ie+1;if((Pe=s==null?void 0:s.clinical_case)!=null&&Pe.durationMinutes){const Ae=s.clinical_case.durationMinutes*60;we>=Ae*.8&&!j&&S(!0)}return we})},1e3);return()=>clearInterval(Oe)},J=Oe=>{const Ie=Math.floor(Oe/60),we=Oe%60;return`${Ie}:${we.toString().padStart(2,"0")}`},ie=async()=>{if(!w)return;const Oe={messages:l.map(Ie=>({...Ie,timestamp:Ie.timestamp instanceof Date?Ie.timestamp.toISOString():Ie.timestamp})),hintsUsed:L,labOrders:U,labResults:T,diagnosis:F};await Le.from("simulation_runs").update({transcript:Oe}).eq("id",w)},se=(Oe,Ie)=>{var ze,We;if(!(s!=null&&s.clinical_case))return"";const we=s.clinical_case,Pe=((ze=we.patientProfile)==null?void 0:ze.name)||"Patient",Ae=we.historyOfPresentIllness||"",qe=((We=we.patientProfile)==null?void 0:We.prakriti)||"Sama",De=we.doshaAnalysis||{},Xe=Ie.slice(-5).map(gt=>`${gt.role==="user"?"Clinician":"Patient"}: ${gt.content}`).join(`
`);return`You are ${Pe}, a virtual patient in an Ayurvedic medical simulation. You are speaking with a clinician who is examining you.

IMPORTANT: You are the PATIENT. The user asking questions is the CLINICIAN/DOCTOR. Do not switch roles.

Patient Context:
- History of Present Illness: ${Ae}
- Prakriti: ${qe}
- Dosha Analysis: Vata ${De.vata||33}%, Pitta ${De.pitta||33}%, Kapha ${De.kapha||34}%

Recent Conversation:
${Xe}

Clinician: ${Oe}

Respond as the patient would, staying in character. Be natural, concise (1-2 sentences), and consistent with the case. Do not reveal diagnosis or treatment unless asked directly about symptoms. Keep responses under 100 words.`},P=Oe=>{if(!(s!=null&&s.clinical_case))return null;const Ie=s.clinical_case,we=Oe.toLowerCase();if(we.includes("physical exam")||we.includes("vitals")||we.includes("examination")){const Pe=Ie.physicalExam;if(!Pe)return"Physical examination information is not available. Please perform the examination yourself.";let Ae=`Based on the physical examination:
`;return Pe.vitals&&(Ae+="Vitals: ",Pe.vitals.bp&&(Ae+=`BP ${Pe.vitals.bp}, `),Pe.vitals.hr&&(Ae+=`HR ${Pe.vitals.hr}, `),Pe.vitals.rr&&(Ae+=`RR ${Pe.vitals.rr}, `),Pe.vitals.temp&&(Ae+=`Temp ${Pe.vitals.temp}, `),Pe.vitals.spo2&&(Ae+=`SpO2 ${Pe.vitals.spo2}. `),Ae+=`
`),Pe.generalExam&&(Ae+=`General Examination: ${Pe.generalExam}
`),Pe.systemicExam&&(Ae+=`Systemic Examination: ${Pe.systemicExam}
`),Ae.trim()||"Physical examination findings are being documented."}if(we.includes("lab")||we.includes("test result")||we.includes("investigation")){const Pe=Ie.labResults||{};for(const[Ae,qe]of Object.entries(Pe))if(we.includes(Ae.toLowerCase())||Ae.toLowerCase().includes(we))return`${Ae}: ${qe}`;return Object.keys(Pe).length>0?`Lab results are available. Please check the Labs tab to view specific test results. Available tests: ${Object.keys(Pe).join(", ")}`:"No lab results are available yet. Please order tests from the Labs tab."}return null},z=async()=>{var Pe,Ae,qe,De;if(!u.trim()||!w||!s)return;const Oe={role:"user",content:u,timestamp:new Date},Ie=[...l,Oe];c(Ie);const we=u;f(""),v(!0);try{const Xe=P(we);if(Xe){const Ve={role:"assistant",content:Xe,timestamp:new Date},Bt=[...Ie,Ve];c(Bt),await ie(),v(!1);return}if(s!=null&&s.id)try{const{data:Ve}=await Le.from("faq_cache").select("faq_data").eq("snapshot_id",s.id).single();if(Ve!=null&&Ve.faq_data){const Bt=Ve.faq_data,Rt=we.toLowerCase().trim();for(const[nt,_t]of Object.entries(Bt)){const Yt=nt.toLowerCase();if(Rt.includes(Yt)||Yt.includes(Rt)||Rt.split(/\s+/).filter(ut=>ut.length>3&&Yt.includes(ut)).length>=2){const ut={role:"assistant",content:_t,timestamp:new Date},Mt=[...Ie,ut];c(Mt),await ie(),v(!1);return}}}}catch(Ve){console.debug("FAQ cache check failed, using Gemini API:",Ve)}const ze=se(we,l);if(!ze)throw new Error("Unable to build patient context. Please refresh the page.");const We=await fetch(i0e,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":n0e},body:JSON.stringify({contents:[{parts:[{text:ze}]}],generationConfig:{temperature:.8,topK:40,topP:.95,maxOutputTokens:1024}})});if(!We.ok){const Ve=await We.text();let Bt=`Gemini API error (${We.status})`;try{const Rt=JSON.parse(Ve);(Pe=Rt.error)!=null&&Pe.message?Bt+=": "+Rt.error.message:Bt+=": "+Ve}catch{Bt+=": "+Ve}throw new Error(Bt)}const gt=await We.json();if(!gt.candidates||gt.candidates.length===0)throw new Error("No response from Gemini API. Please check your API key and try again.");const rt={role:"assistant",content:((De=(qe=(Ae=gt.candidates[0])==null?void 0:Ae.content)==null?void 0:qe.parts[0])==null?void 0:De.text)||"I'm sorry, I didn't understand that.",timestamp:new Date},ht=[...Ie,rt];c(ht),await ie()}catch(Xe){console.error("Error sending message:",Xe),n.error("Failed to send message: "+Xe.message)}finally{v(!1)}},V=async()=>{if(!(L>=K||!w||!s)){v(!0);try{const Oe=["Consider asking about the onset and progression of symptoms.","Think about the patient's dosha imbalance - what symptoms suggest this?","Review the physical examination findings carefully.","Consider what laboratory tests would be most helpful for this presentation.","Think about the differential diagnoses based on the chief complaint.","Consider the patient's age, gender, and prakriti in your assessment.","Review the history of present illness for key diagnostic clues.","Consider what additional history might be relevant.","Think about the most likely diagnosis given the symptoms.","Consider what treatment approach would be appropriate."],we={role:"assistant",content:Oe[Math.floor(Math.random()*Oe.length)],timestamp:new Date};c([...l,we]),I(L+1),await ie()}catch(Oe){console.error("Error requesting hint:",Oe),n.error("Failed to get hint: "+Oe.message)}finally{v(!1)}}},re=(Oe,Ie)=>{var De;const we={testName:Oe,category:Ie,orderedAt:new Date().toISOString()},Pe=[...U,we];O(Pe);const Ae={testName:Oe,result:q$(Oe,s==null?void 0:s.clinical_case,(De=s==null?void 0:s.clinical_case)==null?void 0:De.labResults),category:Ie},qe=[...T,Ae];D(qe),ie()},ne=Oe=>{B(Oe),ie()},ue=async()=>{var Oe,Ie,we,Pe,Ae,qe,De;if(w)try{await ie();let Xe;try{Xe=await Le.functions.invoke("score_simulation",{body:{runId:w}})}catch(dt){throw console.error("Function invoke error (catch block):",dt),(Oe=dt.message)!=null&&Oe.includes("Failed to fetch")||(Ie=dt.message)!=null&&Ie.includes("NetworkError")||(we=dt.message)!=null&&we.includes("Failed to send")||!dt.message?new Error("Edge Function not available. Please ensure the score_simulation function is deployed in Supabase. Check the Supabase Dashboard  Edge Functions."):new Error(`Failed to call Edge Function: ${dt.message||"Unknown error"}`)}const{data:ze,error:We}=Xe||{};if(We)throw console.error("Scoring function error details:",{error:We,message:We.message,context:We.context,status:We.status}),(Pe=We.message)!=null&&Pe.includes("Failed to send")||(Ae=We.message)!=null&&Ae.includes("fetch")||(qe=We.message)!=null&&qe.includes("NetworkError")||(De=We.message)!=null&&De.includes("Failed to fetch")?new Error("Edge Function not available. Please ensure the score_simulation function is deployed in Supabase. Check the Supabase Dashboard  Edge Functions."):new Error(We.message||"Failed to score simulation");if(!ze||!ze.score)throw console.error("Invalid response from scoring function:",ze),new Error("Invalid response from scoring function");const{error:gt}=await Le.from("simulation_runs").update({submitted_at:new Date().toISOString(),score:ze.score}).eq("id",w);if(gt)throw console.error("Update error:",gt),new Error("Failed to update simulation run");r(`/debrief/${w}`)}catch(Xe){console.error("Error submitting:",Xe);const ze=Xe.message||"Please try again.";n.error(`Error submitting simulation: ${ze}. If this persists, the Edge Function may not be deployed. Please check Supabase Dashboard  Edge Functions.`)}};if(p)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});const ve=((ae=(Te=s==null?void 0:s.clinical_case)==null?void 0:Te.patientProfile)==null?void 0:ae.name)||"Patient",pe=(((Z=s==null?void 0:s.clinical_case)==null?void 0:Z.durationMinutes)||15)*60,xe=x/pe*100,he=x>=pe;return d.jsxs("div",{className:"flex flex-col h-screen bg-gradient-to-br from-gray-50 to-gray-100 pb-20 md:pb-4",children:[d.jsxs("div",{className:"bg-white border-b-2 border-gray-300 shadow-sm p-4 md:p-6",children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-8 w-auto object-contain hidden md:block"}),d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center shadow-md",children:d.jsx(ms,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:ve}),d.jsx("p",{className:"text-sm md:text-base text-gray-600",children:((Fe=s==null?void 0:s.clinical_case)==null?void 0:Fe.title)||"Clinical Case"})]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mt-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Kc,{className:`w-5 h-5 ${j?"text-red-600":"text-gray-700"}`}),d.jsxs("span",{className:`font-mono text-base md:text-lg font-semibold ${j?"text-red-600":"text-gray-900"}`,children:[J(x)," / ",J(pe)]}),j&&!he&&d.jsx("span",{className:"text-xs md:text-sm text-red-600 font-medium bg-red-50 px-2 py-1 rounded",children:"Time running out!"})]}),he&&d.jsxs("span",{className:"text-sm text-red-700 font-semibold flex items-center gap-2 bg-red-50 px-3 py-1.5 rounded-lg",children:[d.jsx(jy,{className:"w-5 h-5"}),"Time's up!"]})]}),d.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-3 shadow-inner",children:d.jsx("div",{className:`h-3 rounded-full transition-all shadow-sm ${xe>=100?"bg-red-600":xe>=80?"bg-yellow-500":"bg-primary-600"}`,style:{width:`${Math.min(xe,100)}%`}})})]}),d.jsx(Zge,{activeTab:k,onTabChange:E}),d.jsxs("div",{className:"flex-1 overflow-hidden",children:[k==="chat"&&d.jsx(Qge,{messages:l,input:u,setInput:f,sending:g,onSendMessage:z,onRequestHint:V,hintsRemaining:K-L}),k==="exam"&&d.jsx(e0e,{caseData:s==null?void 0:s.clinical_case}),k==="labs"&&d.jsx(t0e,{labOrders:U,labResults:T,onOrderTest:re,caseData:s==null?void 0:s.clinical_case}),k==="diagnosis"&&d.jsx(r0e,{diagnosis:F,onUpdate:ne})]}),d.jsxs("div",{className:"bg-white border-t border-gray-200 p-4",children:[d.jsxs("button",{onClick:ue,disabled:!w,className:"w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(ps,{className:"w-4 h-4"}),"Submit for Scoring"]}),he&&d.jsx("p",{className:"text-xs text-red-600 mt-2 text-center",children:"Your time is up. You can still submit your responses."})]}),d.jsx(Mn,{role:"student"}),d.jsx(gl,{toasts:n.toasts,onClose:n.removeToast})]})}function s0e({activeTab:t,onTabChange:e}){const r=[{id:"feedback",label:"Feedback",icon:ga},{id:"review",label:"Review",icon:q_},{id:"questions",label:"Questions",icon:AU}];return d.jsx("div",{className:"bg-white border-b border-gray-200",children:d.jsx("div",{className:"flex overflow-x-auto",children:r.map(n=>{const i=n.icon,a=t===n.id;return d.jsxs("button",{onClick:()=>e(n.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${a?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[d.jsx(i,{className:"w-4 h-4"}),n.label]},n.id)})})})}function o0e({accuracy:t,timeTaken:e,currentStreak:r}){return d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Accuracy"}),d.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[t,"%"]})]}),d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Time Taken"}),d.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e})]}),d.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:[d.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Current Streak"}),d.jsxs("div",{className:"text-3xl font-bold text-yellow-600 flex items-center gap-1",children:[r,d.jsx("span",{className:"text-2xl",children:""})]})]})]})}function l0e({reasoning:t}){const[e,r]=Y.useState(!0);return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!e),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"STEPWISE REASONING"}),d.jsx(Ny,{className:`w-5 h-5 text-gray-500 transition-transform ${e?"":"rotate-180"}`})]}),e&&d.jsx("div",{className:"prose max-w-none",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:t})})]})}function c0e({potentialDiagnoses:t,studentDiagnosis:e,correctDiagnosis:r}){const[n,i]=Y.useState(!0);return d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>i(!n),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"DIFFERENTIALS REVIEW"}),d.jsx(Ny,{className:`w-5 h-5 text-gray-500 transition-transform ${n?"":"rotate-180"}`})]}),n&&d.jsx("div",{className:"space-y-3",children:t.map((a,s)=>{const o=a.dx===r,l=a.dx===e;return d.jsx("div",{className:`p-4 rounded-lg border-2 ${o?"bg-green-50 border-green-200":l?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[o?d.jsx(ps,{className:"w-5 h-5 text-green-600"}):l?d.jsx(Ac,{className:"w-5 h-5 text-red-600"}):null,d.jsx("span",{className:"font-medium text-gray-900",children:a.dx})]}),l&&!o&&d.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Your Pick"})]})},s)})})]})}function u0e({pearls:t}){const[e,r]=Y.useState(!0);return!t||t.length===0?null:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!e),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"LEARNING PEARLS"}),d.jsx(Ny,{className:`w-5 h-5 text-gray-500 transition-transform ${e?"":"rotate-180"}`})]}),e&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((n,i)=>d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(GT,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),d.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:n})]})},i))})]})}function d0e({references:t}){const[e,r]=Y.useState(!0);return!t||t.length===0?null:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("button",{onClick:()=>r(!e),className:"flex items-center justify-between w-full mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"FURTHER READING"}),d.jsx(Ny,{className:`w-5 h-5 text-gray-500 transition-transform ${e?"":"rotate-180"}`})]}),e&&d.jsx("div",{className:"space-y-3",children:t.map((n,i)=>d.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Ay,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:n.title}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:n.reference})]})]})},i))})]})}const f0e="modulepreload",h0e=function(t){return"/"+t},tP={},hx=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=h0e(l),l in tP)return;tP[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":f0e,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function nr(t){"@babel/helpers - typeof";return nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(t)}var Va=Uint8Array,zi=Uint16Array,ej=Int32Array,tj=new Va([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rj=new Va([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),rP=new Va([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),W$=function(t,e){for(var r=new zi(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new ej(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},H$=W$(tj,2),p0e=H$.b,j5=H$.r;p0e[28]=258,j5[258]=28;var m0e=W$(rj,0),nP=m0e.r,A5=new zi(32768);for(var jr=0;jr<32768;++jr){var zo=(jr&43690)>>1|(jr&21845)<<1;zo=(zo&52428)>>2|(zo&13107)<<2,zo=(zo&61680)>>4|(zo&3855)<<4,A5[jr]=((zo&65280)>>8|(zo&255)<<8)>>1}var Vh=function(t,e,r){for(var n=t.length,i=0,a=new zi(e);i<n;++i)t[i]&&++a[t[i]-1];var s=new zi(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new zi(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=s[t[i]-1]++<<u,p=f|(1<<u)-1;f<=p;++f)o[A5[f]>>l]=c}else for(o=new zi(n),i=0;i<n;++i)t[i]&&(o[i]=A5[s[t[i]-1]++]>>15-t[i]);return o},qc=new Va(288);for(var jr=0;jr<144;++jr)qc[jr]=8;for(var jr=144;jr<256;++jr)qc[jr]=9;for(var jr=256;jr<280;++jr)qc[jr]=7;for(var jr=280;jr<288;++jr)qc[jr]=8;var ey=new Va(32);for(var jr=0;jr<32;++jr)ey[jr]=5;var g0e=Vh(qc,9,0),v0e=Vh(ey,5,0),V$=function(t){return(t+7)/8|0},y0e=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Va(t.subarray(e,r))},Us=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},yh=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},px=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:K$,l:0};if(i==1){var s=new Va(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(S,k){return S.f-k.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=a[0].s,n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var h=new zi(p+1),g=N5(r[u-1],h,0);if(g>e){var n=0,v=0,x=g-e,y=1<<x;for(a.sort(function(k,E){return h[E.s]-h[k.s]||k.f-E.f});n<i;++n){var w=a[n].s;if(h[w]>e)v+=y-(1<<g-h[w]),h[w]=e;else break}for(v>>=x;v>0;){var _=a[n].s;h[_]<e?v-=1<<e-h[_]++-1:++n}for(;n>=0&&v;--n){var j=a[n].s;h[j]==e&&(--h[j],++v)}g=e}return{t:new Va(h),l:g}},N5=function(t,e,r){return t.s==-1?Math.max(N5(t.l,e,r+1),N5(t.r,e,r+1)):e[t.s]=r},iP=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new zi(++e),n=0,i=t[0],a=1,s=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:r.subarray(0,n),n:e}},bh=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},G$=function(t,e,r){var n=r.length,i=V$(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},aP=function(t,e,r,n,i,a,s,o,l,c,u){Us(e,u++,r),++i[256];for(var f=px(i,15),p=f.t,h=f.l,g=px(a,15),v=g.t,x=g.l,y=iP(p),w=y.c,_=y.n,j=iP(v),S=j.c,k=j.n,E=new zi(19),L=0;L<w.length;++L)++E[w[L]&31];for(var L=0;L<S.length;++L)++E[S[L]&31];for(var I=px(E,7),U=I.t,O=I.l,T=19;T>4&&!U[rP[T-1]];--T);var D=c+5<<3,F=bh(i,qc)+bh(a,ey)+s,B=bh(i,p)+bh(a,v)+s+14+3*T+bh(E,U)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&D<=F&&D<=B)return G$(e,u,t.subarray(l,l+c));var K,H,$,J;if(Us(e,u,1+(B<F)),u+=2,B<F){K=Vh(p,h,0),H=p,$=Vh(v,x,0),J=v;var ie=Vh(U,O,0);Us(e,u,_-257),Us(e,u+5,k-1),Us(e,u+10,T-4),u+=14;for(var L=0;L<T;++L)Us(e,u+3*L,U[rP[L]]);u+=3*T;for(var se=[w,S],P=0;P<2;++P)for(var z=se[P],L=0;L<z.length;++L){var V=z[L]&31;Us(e,u,ie[V]),u+=U[V],V>15&&(Us(e,u,z[L]>>5&127),u+=z[L]>>12)}}else K=g0e,H=qc,$=v0e,J=ey;for(var L=0;L<o;++L){var re=n[L];if(re>255){var V=re>>18&31;yh(e,u,K[V+257]),u+=H[V+257],V>7&&(Us(e,u,re>>23&31),u+=tj[V]);var ne=re&31;yh(e,u,$[ne]),u+=J[ne],ne>3&&(yh(e,u,re>>5&8191),u+=rj[ne])}else yh(e,u,K[re]),u+=H[re]}return yh(e,u,K[256]),u+H[256]},b0e=new ej([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),K$=new Va(0),x0e=function(t,e,r,n,i,a){var s=a.z||t.length,o=new Va(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),c=a.l,u=(a.r||0)&7;if(e){u&&(l[0]=a.r>>3);for(var f=b0e[e-1],p=f>>13,h=f&8191,g=(1<<r)-1,v=a.p||new zi(32768),x=a.h||new zi(g+1),y=Math.ceil(r/3),w=2*y,_=function(ae){return(t[ae]^t[ae+1]<<y^t[ae+2]<<w)&g},j=new ej(25e3),S=new zi(288),k=new zi(32),E=0,L=0,I=a.i||0,U=0,O=a.w||0,T=0;I+2<s;++I){var D=_(I),F=I&32767,B=x[D];if(v[F]=B,x[D]=F,O<=I){var K=s-I;if((E>7e3||U>24576)&&(K>423||!c)){u=aP(t,l,0,j,S,k,L,U,T,I-T,u),U=E=L=0,T=I;for(var H=0;H<286;++H)S[H]=0;for(var H=0;H<30;++H)k[H]=0}var $=2,J=0,ie=h,se=F-B&32767;if(K>2&&D==_(I-se))for(var P=Math.min(p,K)-1,z=Math.min(32767,I),V=Math.min(258,K);se<=z&&--ie&&F!=B;){if(t[I+$]==t[I+$-se]){for(var re=0;re<V&&t[I+re]==t[I+re-se];++re);if(re>$){if($=re,J=se,re>P)break;for(var ne=Math.min(se,re-2),ue=0,H=0;H<ne;++H){var ve=I-se+H&32767,oe=v[ve],pe=ve-oe&32767;pe>ue&&(ue=pe,B=ve)}}}F=B,B=v[F],se+=F-B&32767}if(J){j[U++]=268435456|j5[$]<<18|nP[J];var xe=j5[$]&31,he=nP[J]&31;L+=tj[xe]+rj[he],++S[257+xe],++k[he],O=I+$,++E}else j[U++]=t[I],++S[t[I]]}}for(I=Math.max(I,O);I<s;++I)j[U++]=t[I],++S[t[I]];u=aP(t,l,c,j,S,k,L,U,T,I-T,u),c||(a.r=u&7|l[u/8|0]<<3,u-=7,a.h=x,a.p=v,a.i=I,a.w=O)}else{for(var I=a.w||0;I<s+c;I+=65535){var Te=I+65535;Te>=s&&(l[u/8|0]=c,Te=s),u=G$(l,u+1,t.subarray(I,Te))}a.i=s}return y0e(o,0,n+V$(u)+i)},Y$=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},w0e=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new Va(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return x0e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},X$=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},_0e=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Y$();i.p(e.dictionary),X$(t,2,i.d())}};function k5(t,e){e||(e={});var r=Y$();r.p(t);var n=w0e(t,e,e.dictionary?6:2,4);return _0e(n,e),X$(n,n.length-4,r.d()),n}var S0e=typeof TextDecoder<"u"&&new TextDecoder,j0e=0;try{S0e.decode(K$,{stream:!0}),j0e=1}catch{}function A0e(t){if(Array.isArray(t))return t}function N0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function sP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function k0e(t,e){if(t){if(typeof t=="string")return sP(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sP(t,e):void 0}}function O0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oP(t,e){return A0e(t)||N0e(t,e)||k0e(t,e)||O0e()}function lP(t,e="utf8"){return new TextDecoder(e).decode(t)}const P0e=new TextEncoder;function E0e(t){return P0e.encode(t)}const C0e=1024*8,T0e=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),mx={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class nj{constructor(e=C0e,r={}){Jt(this,"buffer");Jt(this,"byteLength");Jt(this,"byteOffset");Jt(this,"length");Jt(this,"offset");Jt(this,"lastWrittenByte");Jt(this,"littleEndian");Jt(this,"_data");Jt(this,"_mark");Jt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof nj)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=mx[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===T0e&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new mx[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new mx[r](a);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return lP(this.readBytes(e))}decodeText(e=1,r="utf8"){return lP(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(E0e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function jf(t){let e=t.length;for(;--e>=0;)t[e]=0}const L0e=3,I0e=258,J$=29,$0e=256,R0e=$0e+1+J$,Z$=30,M0e=512,D0e=new Array((R0e+2)*2);jf(D0e);const B0e=new Array(Z$*2);jf(B0e);const F0e=new Array(M0e);jf(F0e);const U0e=new Array(I0e-L0e+1);jf(U0e);const z0e=new Array(J$);jf(z0e);const q0e=new Array(Z$);jf(q0e);const W0e=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var O5=W0e;const H0e=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},V0e=new Uint32Array(H0e()),G0e=(t,e,r,n)=>{const i=V0e,a=n+r;t^=-1;for(let s=n;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var ss=G0e,P5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Q$={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const K0e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Y0e=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)K0e(r,n)&&(t[n]=r[n])}}return t},X0e=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let s=t[n];r.set(s,i),i+=s.length}return r},eR={assign:Y0e,flattenChunks:X0e};let tR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{tR=!1}const em=new Uint8Array(256);for(let t=0;t<256;t++)em[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;em[254]=em[254]=1;var J0e=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,s=t.length,o=0;for(i=0;i<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const Z0e=(t,e)=>{if(e<65534&&t.subarray&&tR)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var Q0e=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=t[n++];if(s<128){a[i++]=s;continue}let o=em[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|t[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return Z0e(a,i)},eve=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+em[t[r]]>e?r:e},E5={string2buf:J0e,buf2string:Q0e,utf8border:eve};function tve(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var rve=tve;const qg=16209,nve=16191;var ive=function(e,r){let n,i,a,s,o,l,c,u,f,p,h,g,v,x,y,w,_,j,S,k,E,L,I,U;const O=e.state;n=e.next_in,I=e.input,i=n+(e.avail_in-5),a=e.next_out,U=e.output,s=a-(r-e.avail_out),o=a+(e.avail_out-257),l=O.dmax,c=O.wsize,u=O.whave,f=O.wnext,p=O.window,h=O.hold,g=O.bits,v=O.lencode,x=O.distcode,y=(1<<O.lenbits)-1,w=(1<<O.distbits)-1;e:do{g<15&&(h+=I[n++]<<g,g+=8,h+=I[n++]<<g,g+=8),_=v[h&y];t:for(;;){if(j=_>>>24,h>>>=j,g-=j,j=_>>>16&255,j===0)U[a++]=_&65535;else if(j&16){S=_&65535,j&=15,j&&(g<j&&(h+=I[n++]<<g,g+=8),S+=h&(1<<j)-1,h>>>=j,g-=j),g<15&&(h+=I[n++]<<g,g+=8,h+=I[n++]<<g,g+=8),_=x[h&w];r:for(;;){if(j=_>>>24,h>>>=j,g-=j,j=_>>>16&255,j&16){if(k=_&65535,j&=15,g<j&&(h+=I[n++]<<g,g+=8,g<j&&(h+=I[n++]<<g,g+=8)),k+=h&(1<<j)-1,k>l){e.msg="invalid distance too far back",O.mode=qg;break e}if(h>>>=j,g-=j,j=a-s,k>j){if(j=k-j,j>u&&O.sane){e.msg="invalid distance too far back",O.mode=qg;break e}if(E=0,L=p,f===0){if(E+=c-j,j<S){S-=j;do U[a++]=p[E++];while(--j);E=a-k,L=U}}else if(f<j){if(E+=c+f-j,j-=f,j<S){S-=j;do U[a++]=p[E++];while(--j);if(E=0,f<S){j=f,S-=j;do U[a++]=p[E++];while(--j);E=a-k,L=U}}}else if(E+=f-j,j<S){S-=j;do U[a++]=p[E++];while(--j);E=a-k,L=U}for(;S>2;)U[a++]=L[E++],U[a++]=L[E++],U[a++]=L[E++],S-=3;S&&(U[a++]=L[E++],S>1&&(U[a++]=L[E++]))}else{E=a-k;do U[a++]=U[E++],U[a++]=U[E++],U[a++]=U[E++],S-=3;while(S>2);S&&(U[a++]=U[E++],S>1&&(U[a++]=U[E++]))}}else if(j&64){e.msg="invalid distance code",O.mode=qg;break e}else{_=x[(_&65535)+(h&(1<<j)-1)];continue r}break}}else if(j&64)if(j&32){O.mode=nve;break e}else{e.msg="invalid literal/length code",O.mode=qg;break e}else{_=v[(_&65535)+(h&(1<<j)-1)];continue t}break}}while(n<i&&a<o);S=g>>3,n-=S,g-=S<<3,h&=(1<<g)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<o?257+(o-a):257-(a-o),O.hold=h,O.bits=g};const Ou=15,cP=852,uP=592,dP=0,gx=1,fP=2,ave=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),sve=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ove=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),lve=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),cve=(t,e,r,n,i,a,s,o)=>{const l=o.bits;let c=0,u=0,f=0,p=0,h=0,g=0,v=0,x=0,y=0,w=0,_,j,S,k,E,L=null,I;const U=new Uint16Array(Ou+1),O=new Uint16Array(Ou+1);let T=null,D,F,B;for(c=0;c<=Ou;c++)U[c]=0;for(u=0;u<n;u++)U[e[r+u]]++;for(h=l,p=Ou;p>=1&&U[p]===0;p--);if(h>p&&(h=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<p&&U[f]===0;f++);for(h<f&&(h=f),x=1,c=1;c<=Ou;c++)if(x<<=1,x-=U[c],x<0)return-1;if(x>0&&(t===dP||p!==1))return-1;for(O[1]=0,c=1;c<Ou;c++)O[c+1]=O[c]+U[c];for(u=0;u<n;u++)e[r+u]!==0&&(s[O[e[r+u]]++]=u);if(t===dP?(L=T=s,I=20):t===gx?(L=ave,T=sve,I=257):(L=ove,T=lve,I=0),w=0,u=0,c=f,E=a,g=h,v=0,S=-1,y=1<<h,k=y-1,t===gx&&y>cP||t===fP&&y>uP)return 1;for(;;){D=c-v,s[u]+1<I?(F=0,B=s[u]):s[u]>=I?(F=T[s[u]-I],B=L[s[u]-I]):(F=96,B=0),_=1<<c-v,j=1<<g,f=j;do j-=_,i[E+(w>>v)+j]=D<<24|F<<16|B|0;while(j!==0);for(_=1<<c-1;w&_;)_>>=1;if(_!==0?(w&=_-1,w+=_):w=0,u++,--U[c]===0){if(c===p)break;c=e[r+s[u]]}if(c>h&&(w&k)!==S){for(v===0&&(v=h),E+=f,g=c-v,x=1<<g;g+v<p&&(x-=U[g+v],!(x<=0));)g++,x<<=1;if(y+=1<<g,t===gx&&y>cP||t===fP&&y>uP)return 1;S=w&k,i[S]=h<<24|g<<16|E-a|0}}return w!==0&&(i[E+w]=c-v<<24|64<<16|0),o.bits=h,0};var Gh=cve;const uve=0,rR=1,nR=2,{Z_FINISH:hP,Z_BLOCK:dve,Z_TREES:Wg,Z_OK:Wc,Z_STREAM_END:fve,Z_NEED_DICT:hve,Z_STREAM_ERROR:ya,Z_DATA_ERROR:iR,Z_MEM_ERROR:aR,Z_BUF_ERROR:pve,Z_DEFLATED:pP}=Q$,w1=16180,mP=16181,gP=16182,vP=16183,yP=16184,bP=16185,xP=16186,wP=16187,_P=16188,SP=16189,ty=16190,zs=16191,vx=16192,jP=16193,yx=16194,AP=16195,NP=16196,kP=16197,OP=16198,Hg=16199,Vg=16200,PP=16201,EP=16202,CP=16203,TP=16204,LP=16205,bx=16206,IP=16207,$P=16208,Nr=16209,sR=16210,oR=16211,mve=852,gve=592,vve=15,yve=vve,RP=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function bve(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const nu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<w1||e.mode>oR?1:0},lR=t=>{if(nu(t))return ya;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=w1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(mve),e.distcode=e.distdyn=new Int32Array(gve),e.sane=1,e.back=-1,Wc},cR=t=>{if(nu(t))return ya;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,lR(t)},uR=(t,e)=>{let r;if(nu(t))return ya;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ya:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,cR(t))},dR=(t,e)=>{if(!t)return ya;const r=new bve;t.state=r,r.strm=t,r.window=null,r.mode=w1;const n=uR(t,e);return n!==Wc&&(t.state=null),n},xve=t=>dR(t,yve);let MP=!0,xx,wx;const wve=t=>{if(MP){xx=new Int32Array(512),wx=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Gh(rR,t.lens,0,288,xx,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Gh(nR,t.lens,0,32,wx,0,t.work,{bits:5}),MP=!1}t.lencode=xx,t.lenbits=9,t.distcode=wx,t.distbits=5},fR=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},_ve=(t,e)=>{let r,n,i,a,s,o,l,c,u,f,p,h,g,v,x=0,y,w,_,j,S,k,E,L;const I=new Uint8Array(4);let U,O;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(nu(t)||!t.output||!t.input&&t.avail_in!==0)return ya;r=t.state,r.mode===zs&&(r.mode=vx),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,c=r.hold,u=r.bits,f=o,p=l,L=Wc;e:for(;;)switch(r.mode){case w1:if(r.wrap===0){r.mode=vx;break}for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,I[0]=c&255,I[1]=c>>>8&255,r.check=ss(r.check,I,2,0),c=0,u=0,r.mode=mP;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Nr;break}if((c&15)!==pP){t.msg="unknown compression method",r.mode=Nr;break}if(c>>>=4,u-=4,E=(c&15)+8,r.wbits===0&&(r.wbits=E),E>15||E>r.wbits){t.msg="invalid window size",r.mode=Nr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?SP:zs,c=0,u=0;break;case mP:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==pP){t.msg="unknown compression method",r.mode=Nr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Nr;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,r.check=ss(r.check,I,2,0)),c=0,u=0,r.mode=gP;case gP:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,I[2]=c>>>16&255,I[3]=c>>>24&255,r.check=ss(r.check,I,4,0)),c=0,u=0,r.mode=vP;case vP:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,r.check=ss(r.check,I,2,0)),c=0,u=0,r.mode=yP;case yP:if(r.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,r.check=ss(r.check,I,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=bP;case bP:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+h),E)),r.flags&512&&r.wrap&4&&(r.check=ss(r.check,n,h,a)),o-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=xP;case xP:if(r.flags&2048){if(o===0)break e;h=0;do E=n[a+h++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E));while(E&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=ss(r.check,n,h,a)),o-=h,a+=h,E)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=wP;case wP:if(r.flags&4096){if(o===0)break e;h=0;do E=n[a+h++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E));while(E&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=ss(r.check,n,h,a)),o-=h,a+=h,E)break e}else r.head&&(r.head.comment=null);r.mode=_P;case _P:if(r.flags&512){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Nr;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=zs;break;case SP:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}t.adler=r.check=RP(c),c=0,u=0,r.mode=ty;case ty:if(r.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=u,hve;t.adler=r.check=1,r.mode=zs;case zs:if(e===dve||e===Wg)break e;case vx:if(r.last){c>>>=u&7,u-=u&7,r.mode=bx;break}for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=jP;break;case 1:if(wve(r),r.mode=Hg,e===Wg){c>>>=2,u-=2;break e}break;case 2:r.mode=NP;break;case 3:t.msg="invalid block type",r.mode=Nr}c>>>=2,u-=2;break;case jP:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Nr;break}if(r.length=c&65535,c=0,u=0,r.mode=yx,e===Wg)break e;case yx:r.mode=AP;case AP:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(n.subarray(a,a+h),s),o-=h,a+=h,l-=h,s+=h,r.length-=h;break}r.mode=zs;break;case NP:for(;u<14;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Nr;break}r.have=0,r.mode=kP;case kP:for(;r.have<r.ncode;){for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.lens[T[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[T[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,U={bits:r.lenbits},L=Gh(uve,r.lens,0,19,r.lencode,0,r.work,U),r.lenbits=U.bits,L){t.msg="invalid code lengths set",r.mode=Nr;break}r.have=0,r.mode=OP;case OP:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[c&(1<<r.lenbits)-1],y=x>>>24,w=x>>>16&255,_=x&65535,!(y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(_<16)c>>>=y,u-=y,r.lens[r.have++]=_;else{if(_===16){for(O=y+2;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(c>>>=y,u-=y,r.have===0){t.msg="invalid bit length repeat",r.mode=Nr;break}E=r.lens[r.have-1],h=3+(c&3),c>>>=2,u-=2}else if(_===17){for(O=y+3;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=y,u-=y,E=0,h=3+(c&7),c>>>=3,u-=3}else{for(O=y+7;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=y,u-=y,E=0,h=11+(c&127),c>>>=7,u-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Nr;break}for(;h--;)r.lens[r.have++]=E}}if(r.mode===Nr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Nr;break}if(r.lenbits=9,U={bits:r.lenbits},L=Gh(rR,r.lens,0,r.nlen,r.lencode,0,r.work,U),r.lenbits=U.bits,L){t.msg="invalid literal/lengths set",r.mode=Nr;break}if(r.distbits=6,r.distcode=r.distdyn,U={bits:r.distbits},L=Gh(nR,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,U),r.distbits=U.bits,L){t.msg="invalid distances set",r.mode=Nr;break}if(r.mode=Hg,e===Wg)break e;case Hg:r.mode=Vg;case Vg:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=u,ive(t,p),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,c=r.hold,u=r.bits,r.mode===zs&&(r.back=-1);break}for(r.back=0;x=r.lencode[c&(1<<r.lenbits)-1],y=x>>>24,w=x>>>16&255,_=x&65535,!(y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(w&&!(w&240)){for(j=y,S=w,k=_;x=r.lencode[k+((c&(1<<j+S)-1)>>j)],y=x>>>24,w=x>>>16&255,_=x&65535,!(j+y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=j,u-=j,r.back+=j}if(c>>>=y,u-=y,r.back+=y,r.length=_,w===0){r.mode=LP;break}if(w&32){r.back=-1,r.mode=zs;break}if(w&64){t.msg="invalid literal/length code",r.mode=Nr;break}r.extra=w&15,r.mode=PP;case PP:if(r.extra){for(O=r.extra;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=EP;case EP:for(;x=r.distcode[c&(1<<r.distbits)-1],y=x>>>24,w=x>>>16&255,_=x&65535,!(y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(!(w&240)){for(j=y,S=w,k=_;x=r.distcode[k+((c&(1<<j+S)-1)>>j)],y=x>>>24,w=x>>>16&255,_=x&65535,!(j+y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=j,u-=j,r.back+=j}if(c>>>=y,u-=y,r.back+=y,w&64){t.msg="invalid distance code",r.mode=Nr;break}r.offset=_,r.extra=w&15,r.mode=CP;case CP:if(r.extra){for(O=r.extra;u<O;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Nr;break}r.mode=TP;case TP:if(l===0)break e;if(h=p-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Nr;break}h>r.wnext?(h-=r.wnext,g=r.wsize-h):g=r.wnext-h,h>r.length&&(h=r.length),v=r.window}else v=i,g=s-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do i[s++]=v[g++];while(--h);r.length===0&&(r.mode=Vg);break;case LP:if(l===0)break e;i[s++]=r.length,l--,r.mode=Vg;break;case bx:if(r.wrap){for(;u<32;){if(o===0)break e;o--,c|=n[a++]<<u,u+=8}if(p-=l,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?ss(r.check,i,p,s-p):O5(r.check,i,p,s-p)),p=l,r.wrap&4&&(r.flags?c:RP(c))!==r.check){t.msg="incorrect data check",r.mode=Nr;break}c=0,u=0}r.mode=IP;case IP:if(r.wrap&&r.flags){for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Nr;break}c=0,u=0}r.mode=$P;case $P:L=fve;break e;case Nr:L=iR;break e;case sR:return aR;case oR:default:return ya}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=u,(r.wsize||p!==t.avail_out&&r.mode<Nr&&(r.mode<bx||e!==hP))&&fR(t,t.output,t.next_out,p-t.avail_out),f-=t.avail_in,p-=t.avail_out,t.total_in+=f,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?ss(r.check,i,p,t.next_out-p):O5(r.check,i,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===zs?128:0)+(r.mode===Hg||r.mode===yx?256:0),(f===0&&p===0||e===hP)&&L===Wc&&(L=pve),L},Sve=t=>{if(nu(t))return ya;let e=t.state;return e.window&&(e.window=null),t.state=null,Wc},jve=(t,e)=>{if(nu(t))return ya;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,Wc):ya},Ave=(t,e)=>{const r=e.length;let n,i,a;return nu(t)||(n=t.state,n.wrap!==0&&n.mode!==ty)?ya:n.mode===ty&&(i=1,i=O5(i,e,r,0),i!==n.check)?iR:(a=fR(t,e,r,r),a?(n.mode=sR,aR):(n.havedict=1,Wc))};var Nve=cR,kve=uR,Ove=lR,Pve=xve,Eve=dR,Cve=_ve,Tve=Sve,Lve=jve,Ive=Ave,$ve="pako inflate (from Nodeca project)",Gs={inflateReset:Nve,inflateReset2:kve,inflateResetKeep:Ove,inflateInit:Pve,inflateInit2:Eve,inflate:Cve,inflateEnd:Tve,inflateGetHeader:Lve,inflateSetDictionary:Ive,inflateInfo:$ve};function Rve(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Mve=Rve;const hR=Object.prototype.toString,{Z_NO_FLUSH:Dve,Z_FINISH:Bve,Z_OK:tm,Z_STREAM_END:_x,Z_NEED_DICT:Sx,Z_STREAM_ERROR:Fve,Z_DATA_ERROR:DP,Z_MEM_ERROR:Uve}=Q$;function xm(t){this.options=eR.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rve,this.strm.avail_out=0;let r=Gs.inflateInit2(this.strm,e.windowBits);if(r!==tm)throw new Error(P5[r]);if(this.header=new Mve,Gs.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=E5.string2buf(e.dictionary):hR.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Gs.inflateSetDictionary(this.strm,e.dictionary),r!==tm)))throw new Error(P5[r])}xm.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Bve:Dve,hR.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Gs.inflate(r,s),a===Sx&&i&&(a=Gs.inflateSetDictionary(r,i),a===tm?a=Gs.inflate(r,s):a===DP&&(a=Sx));r.avail_in>0&&a===_x&&r.state.wrap>0&&t[r.next_in]!==0;)Gs.inflateReset(r),a=Gs.inflate(r,s);switch(a){case Fve:case DP:case Sx:case Uve:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===_x))if(this.options.to==="string"){let l=E5.utf8border(r.output,r.next_out),c=r.next_out-l,u=E5.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===tm&&o===0)){if(a===_x)return a=Gs.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};xm.prototype.onData=function(t){this.chunks.push(t)};xm.prototype.onEnd=function(t){t===tm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=eR.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function zve(t,e){const r=new xm(e);if(r.push(t),r.err)throw r.msg||P5[r.err];return r.result}var qve=xm,Wve=zve,Hve={Inflate:qve,inflate:Wve};const{Inflate:Vve,inflate:Gve}=Hve;var BP=Vve,Kve=Gve;const pR=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;pR[t]=e}const FP=4294967295;function Yve(t,e,r){let n=t;for(let i=0;i<r;i++)n=pR[(n^e[i])&255]^n>>>8;return n}function Xve(t,e){return(Yve(FP,t,e)^FP)>>>0}function UP(t,e,r){const n=t.readUint32(),i=Xve(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function mR(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function gR(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function vR(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function yR(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function bR(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+Jve(e[a-i],r[a],r[a-i])&255}}function Jve(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),s=Math.abs(n-r);return i<=a&&i<=s?t:a<=s?e:r}function Zve(t,e,r,n,i,a){switch(t){case 0:mR(e,r,i);break;case 1:gR(e,r,i,a);break;case 2:vR(e,r,n,i);break;case 3:yR(e,r,n,i,a);break;case 4:bR(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Qve=new Uint16Array([255]),eye=new Uint8Array(Qve.buffer),tye=eye[0]===255;function rye(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(n*r*o);let c=0;for(let u=0;u<7;u++){const f=s[u],p=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(p<=0||h<=0)continue;const g=p*o,v=new Uint8Array(g);for(let x=0;x<h;x++){const y=e[c++],w=e.subarray(c,c+g);c+=g;const _=new Uint8Array(g);Zve(y,w,_,v,g,o),v.set(_);for(let j=0;j<p;j++){const S=f.x+j*f.xStep,k=f.y+x*f.yStep;if(!(S>=r||k>=n))for(let E=0;E<o;E++)l[(k*r+S)*o+E]=_[j*o+E]}}}if(a===16){const u=new Uint16Array(l.buffer);if(tye)for(let f=0;f<u.length;f++)u[f]=nye(u[f]);return u}else return l}function nye(t){return(t&255)<<8|t>>8&255}const iye=new Uint16Array([255]),aye=new Uint8Array(iye.buffer),sye=aye[0]===255,oye=new Uint8Array(0);function zP(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),l=new Uint8Array(n*o);let c=oye,u=0,f,p;for(let h=0;h<n;h++){switch(f=e.subarray(u+1,u+1+o),p=l.subarray(h*o,(h+1)*o),e[u]){case 0:mR(f,p,o);break;case 1:gR(f,p,o,s);break;case 2:vR(f,p,c,o);break;case 3:yR(f,p,c,o,s);break;case 4:bR(f,p,c,o,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=p,u+=o+1}if(a===16){const h=new Uint16Array(l.buffer);if(sye)for(let g=0;g<h.length;g++)h[g]=lye(h[g]);return h}else return l}function lye(t){return(t&255)<<8|t>>8&255}const d0=Uint8Array.of(137,80,78,71,13,10,26,10);function qP(t){if(!cye(t.readBytes(d0.length)))throw new Error("wrong PNG signature")}function cye(t){if(t.length<d0.length)return!1;for(let e=0;e<d0.length;e++)if(t[e]!==d0[e])return!1;return!0}const uye="tEXt",dye=0,xR=new TextDecoder("latin1");function fye(t){if(pye(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const hye=/^[\u0000-\u00FF]*$/;function pye(t){if(!hye.test(t))throw new Error("invalid latin1 text")}function mye(t,e,r){const n=wR(e);t[n]=gye(e,r-n.length-1)}function wR(t){for(t.mark();t.readByte()!==dye;);const e=t.offset;t.reset();const r=xR.decode(t.readBytes(e-t.offset-1));return t.skip(1),fye(r),r}function gye(t,e){return xR.decode(t.readBytes(e))}const Ci={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},jx={UNKNOWN:-1,DEFLATE:0},WP={UNKNOWN:-1,ADAPTIVE:0},Ax={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Gg={NONE:0,BACKGROUND:1,PREVIOUS:2},Nx={SOURCE:0,OVER:1};class vye extends nj{constructor(r,n={}){super(r);Jt(this,"_checkCrc");Jt(this,"_inflator");Jt(this,"_png");Jt(this,"_apng");Jt(this,"_end");Jt(this,"_hasPalette");Jt(this,"_palette");Jt(this,"_hasTransparency");Jt(this,"_transparency");Jt(this,"_compressionMethod");Jt(this,"_filterMethod");Jt(this,"_interlaceMethod");Jt(this,"_colorType");Jt(this,"_isAnimated");Jt(this,"_numberOfFrames");Jt(this,"_numberOfPlays");Jt(this,"_frames");Jt(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new BP,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=jx.UNKNOWN,this._filterMethod=WP.UNKNOWN,this._interlaceMethod=Ax.UNKNOWN,this._colorType=Ci.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(qP(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(qP(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case uye:mye(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?UP(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?UP(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=yye(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Ci.GREYSCALE:i=1;break;case Ci.TRUECOLOUR:i=3;break;case Ci.INDEXED_COLOUR:i=1;break;case Ci.GREYSCALE_ALPHA:i=2;break;case Ci.TRUECOLOUR_ALPHA:i=4;break;case Ci.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==jx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ci.GREYSCALE:case Ci.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ci.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ci.UNKNOWN:case Ci.GREYSCALE_ALPHA:case Ci.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=wR(this),i=this.readUint8();if(i!==jx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Kve(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=zP({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case Gg.NONE:break;case Gg.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*r.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case Gg.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case Nx.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++)r.data[l+u]=n.data[c+u]}break;case Nx.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++){const f=n.data[c+this._png.channels-1]/i,p=u%(this._png.channels-1)===0?1:n.data[c+u],h=Math.floor(f*p+(1-f)*r.data[l+u]);r.data[l+u]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==WP.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ax.NO_INTERLACE)this._png.data=zP({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ax.ADAM7)this._png.data=rye({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Gg.NONE,blendOp:Nx.SOURCE,data:r}),this._inflator=new BP,this._writingDataChunks=!1}}function yye(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var HP;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(HP||(HP={}));function bye(t,e){return new vye(t,e).decode()}var yt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function kx(){yt.console&&typeof yt.console.log=="function"&&yt.console.log.apply(yt.console,arguments)}var dr={log:kx,warn:function(t){yt.console&&(typeof yt.console.warn=="function"?yt.console.warn.apply(yt.console,arguments):kx.call(null,arguments))},error:function(t){yt.console&&(typeof yt.console.error=="function"?yt.console.error.apply(yt.console,arguments):kx(t))}};function Ox(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){cc(n.response,e,r)},n.onerror=function(){dr.error("could not download file")},n.send()}function VP(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Kg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var cc=yt.saveAs||((typeof window>"u"?"undefined":nr(window))!=="object"||window!==yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=yt.URL||yt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?VP(i.href)?Ox(t,e,r):Kg(i,i.target="_blank"):Kg(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Kg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(VP(t))Ox(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Kg(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:nr(a)!=="object"&&(dr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Ox(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(yt.HTMLElement)||yt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":nr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(t)}else{var l=yt.URL||yt.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function _R(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var f0=yt.atob.bind(yt),GP=yt.btoa.bind(yt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Px(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=Wn(r,n,i,a,e[0],7,-680876936),a=Wn(a,r,n,i,e[1],12,-389564586),i=Wn(i,a,r,n,e[2],17,606105819),n=Wn(n,i,a,r,e[3],22,-1044525330),r=Wn(r,n,i,a,e[4],7,-176418897),a=Wn(a,r,n,i,e[5],12,1200080426),i=Wn(i,a,r,n,e[6],17,-1473231341),n=Wn(n,i,a,r,e[7],22,-45705983),r=Wn(r,n,i,a,e[8],7,1770035416),a=Wn(a,r,n,i,e[9],12,-1958414417),i=Wn(i,a,r,n,e[10],17,-42063),n=Wn(n,i,a,r,e[11],22,-1990404162),r=Wn(r,n,i,a,e[12],7,1804603682),a=Wn(a,r,n,i,e[13],12,-40341101),i=Wn(i,a,r,n,e[14],17,-1502002290),r=Hn(r,n=Wn(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Hn(a,r,n,i,e[6],9,-1069501632),i=Hn(i,a,r,n,e[11],14,643717713),n=Hn(n,i,a,r,e[0],20,-373897302),r=Hn(r,n,i,a,e[5],5,-701558691),a=Hn(a,r,n,i,e[10],9,38016083),i=Hn(i,a,r,n,e[15],14,-660478335),n=Hn(n,i,a,r,e[4],20,-405537848),r=Hn(r,n,i,a,e[9],5,568446438),a=Hn(a,r,n,i,e[14],9,-1019803690),i=Hn(i,a,r,n,e[3],14,-187363961),n=Hn(n,i,a,r,e[8],20,1163531501),r=Hn(r,n,i,a,e[13],5,-1444681467),a=Hn(a,r,n,i,e[2],9,-51403784),i=Hn(i,a,r,n,e[7],14,1735328473),r=Vn(r,n=Hn(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Vn(a,r,n,i,e[8],11,-2022574463),i=Vn(i,a,r,n,e[11],16,1839030562),n=Vn(n,i,a,r,e[14],23,-35309556),r=Vn(r,n,i,a,e[1],4,-1530992060),a=Vn(a,r,n,i,e[4],11,1272893353),i=Vn(i,a,r,n,e[7],16,-155497632),n=Vn(n,i,a,r,e[10],23,-1094730640),r=Vn(r,n,i,a,e[13],4,681279174),a=Vn(a,r,n,i,e[0],11,-358537222),i=Vn(i,a,r,n,e[3],16,-722521979),n=Vn(n,i,a,r,e[6],23,76029189),r=Vn(r,n,i,a,e[9],4,-640364487),a=Vn(a,r,n,i,e[12],11,-421815835),i=Vn(i,a,r,n,e[15],16,530742520),r=Gn(r,n=Vn(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Gn(a,r,n,i,e[7],10,1126891415),i=Gn(i,a,r,n,e[14],15,-1416354905),n=Gn(n,i,a,r,e[5],21,-57434055),r=Gn(r,n,i,a,e[12],6,1700485571),a=Gn(a,r,n,i,e[3],10,-1894986606),i=Gn(i,a,r,n,e[10],15,-1051523),n=Gn(n,i,a,r,e[1],21,-2054922799),r=Gn(r,n,i,a,e[8],6,1873313359),a=Gn(a,r,n,i,e[15],10,-30611744),i=Gn(i,a,r,n,e[6],15,-1560198380),n=Gn(n,i,a,r,e[13],21,1309151649),r=Gn(r,n,i,a,e[4],6,-145523070),a=Gn(a,r,n,i,e[11],10,-1120210379),i=Gn(i,a,r,n,e[2],15,718787259),n=Gn(n,i,a,r,e[9],21,-343485551),t[0]=rl(r,t[0]),t[1]=rl(n,t[1]),t[2]=rl(i,t[2]),t[3]=rl(a,t[3])}function _1(t,e,r,n,i,a){return e=rl(rl(e,t),rl(n,a)),rl(e<<i|e>>>32-i,r)}function Wn(t,e,r,n,i,a,s){return _1(e&r|~e&n,t,e,i,a,s)}function Hn(t,e,r,n,i,a,s){return _1(e&n|r&~n,t,e,i,a,s)}function Vn(t,e,r,n,i,a,s){return _1(e^r^n,t,e,i,a,s)}function Gn(t,e,r,n,i,a,s){return _1(r^(e|~n),t,e,i,a,s)}function SR(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Px(n,xye(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Px(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Px(n,i),n}function xye(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var KP="0123456789abcdef".split("");function wye(t){for(var e="",r=0;r<4;r++)e+=KP[t>>8*r+4&15]+KP[t>>8*r&15];return e}function _ye(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function C5(t){return SR(t).map(_ye).join("")}var Sye=function(t){for(var e=0;e<t.length;e++)t[e]=wye(t[e]);return t.join("")}(SR("hello"))!="5d41402abc4b2a76b9719d911017c592";function rl(t,e){if(Sye){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function T5(t,e){var r,n,i,a;if(t!==r){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=t,n=o}else o=n;var f=e.length,p=0,h=0,g="";for(l=0;l<f;l++)h=(h+(u=o[p=(p+1)%256]))%256,o[p]=o[h],o[h]=u,s=o[(o[p]+o[h])%256],g+=String.fromCharCode(e.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var YP={print:4,modify:8,copy:16,"annot-forms":32};function Iu(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(YP.perm!==void 0)throw new Error("Invalid permission: "+o);i+=YP[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=C5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=T5(this.encryptionKey,this.padding)}function $u(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function XP(t){if(nr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var s=e[r][a];try{s[0].apply(t,n)}catch(o){yt.console&&dr.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function ry(t){if(!(this instanceof ry))return new ry(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function jR(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function pc(t,e,r,n,i){if(!(this instanceof pc))return new pc(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,jR.call(this,n,i)}function Qu(t,e,r,n,i){if(!(this instanceof Qu))return new Qu(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,jR.call(this,n,i)}function lt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",u=null;nr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=XP;var g="1.3",v=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(A){g=A};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return x};var y=h.__private__.getPageFormat=function(A){return x[A]};i=i||"a4";var w="compat",_="advanced",j=w;function S(){this.saveGraphicsState(),Z(new pt(ht,0,0,-ht,0,Fl()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),c="n",j=_}function k(){this.restoreGraphicsState(),c="S",j=w}var E=h.__private__.combineFontStyleAndFontWeight=function(A,R){if(A=="bold"&&R=="normal"||A=="bold"&&R==400||A=="normal"&&R=="italic"||A=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(A=R==400||R==="normal"?A==="italic"?"italic":"normal":R!=700&&R!=="bold"||A!=="normal"?(R==700?"bold":R)+""+A:"bold"),A};h.advancedAPI=function(A){var R=j===w;return R&&S.call(this),typeof A!="function"||(A(this),R&&k.call(this)),this},h.compatAPI=function(A){var R=j===_;return R&&k.call(this),typeof A!="function"||(A(this),R&&S.call(this)),this},h.isAdvancedAPI=function(){return j===_};var L,I=function(A){if(j!==_)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=h.roundToPrecision=h.__private__.roundToPrecision=function(A,R){var te=e||R;if(isNaN(A)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(te).replace(/0+$/,"")};L=h.hpf=h.__private__.hpf=typeof l=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return U(A,l)}:l==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return U(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return U(A,16)};var O=h.f2=h.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return U(A,2)},T=h.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return U(A,3)},D=h.scale=h.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return j===w?A*ht:j===_?A:void 0},F=function(A){return D(function(R){return j===w?Fl()-R:j===_?R:void 0}(A))};h.__private__.setPrecision=h.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var B,K="00000000000000000000000000000000",H=h.__private__.getFileId=function(){return K},$=h.__private__.setFileId=function(A){return K=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(zr=new Iu(u.userPermissions,u.userPassword,u.ownerPassword,K)),K};h.setFileId=function(A){return $(A),this},h.getFileId=function(){return H()};var J=h.__private__.convertDateToPDFDate=function(A){var R=A.getTimezoneOffset(),te=R<0?"+":"-",ce=Math.floor(Math.abs(R/60)),me=Math.abs(R%60),Ne=[te,V(ce),"'",V(me),"'"].join("");return["D:",A.getFullYear(),V(A.getMonth()+1),V(A.getDate()),V(A.getHours()),V(A.getMinutes()),V(A.getSeconds()),Ne].join("")},ie=h.__private__.convertPDFDateToDate=function(A){var R=parseInt(A.substr(2,4),10),te=parseInt(A.substr(6,2),10)-1,ce=parseInt(A.substr(8,2),10),me=parseInt(A.substr(10,2),10),Ne=parseInt(A.substr(12,2),10),Ce=parseInt(A.substr(14,2),10);return new Date(R,te,ce,me,Ne,Ce,0)},se=h.__private__.setCreationDate=function(A){var R;if(A===void 0&&(A=new Date),A instanceof Date)R=J(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=A}return B=R},P=h.__private__.getCreationDate=function(A){var R=B;return A==="jsDate"&&(R=ie(B)),R};h.setCreationDate=function(A){return se(A),this},h.getCreationDate=function(A){return P(A)};var z,V=h.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},re=h.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},ne=0,ue=[],ve=[],oe=0,pe=[],xe=[],he=!1,Te=ve;h.__private__.setCustomOutputDestination=function(A){he=!0,Te=A};var ae=function(A){he||(Te=A)};h.__private__.resetCustomOutputDestination=function(){he=!1,Te=ve};var Z=h.__private__.out=function(A){return A=A.toString(),oe+=A.length+1,Te.push(A),Te},Fe=h.__private__.write=function(A){return Z(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Oe=h.__private__.getArrayBuffer=function(A){for(var R=A.length,te=new ArrayBuffer(R),ce=new Uint8Array(te);R--;)ce[R]=A.charCodeAt(R);return te},Ie=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Ie};var we=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(A){return we=j===_?A/ht:A,this};var Pe,Ae=h.__private__.getFontSize=h.getFontSize=function(){return j===w?we:we*ht},qe=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(A){return qe=A,this},h.__private__.getR2L=h.getR2L=function(){return qe};var De,Xe=h.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))Pe=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');Pe=A}else Pe=parseInt(A,10)};h.__private__.getZoomMode=function(){return Pe};var ze,We=h.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');De=A};h.__private__.getPageMode=function(){return De};var gt=h.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');ze=A};h.__private__.getLayoutMode=function(){return ze},h.__private__.setDisplayMode=h.setDisplayMode=function(A,R,te){return Xe(A),gt(R),We(te),this};var dt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(A){if(Object.keys(dt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return dt[A]},h.__private__.getDocumentProperties=function(){return dt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(A){for(var R in dt)dt.hasOwnProperty(R)&&A[R]&&(dt[R]=A[R]);return this},h.__private__.setDocumentProperty=function(A,R){if(Object.keys(dt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return dt[A]=R};var rt,ht,Ve,Bt,Rt,nt={},_t={},Yt=[],ut={},Mt={},Et={},Ur={},ln=null,lr=0,St=[],Zt=new XP(h),Ol=t.hotfixes||[],Bn={},As={},Ja=[],pt=function A(R,te,ce,me,Ne,Ce){if(!(this instanceof A))return new A(R,te,ce,me,Ne,Ce);isNaN(R)&&(R=1),isNaN(te)&&(te=0),isNaN(ce)&&(ce=0),isNaN(me)&&(me=1),isNaN(Ne)&&(Ne=0),isNaN(Ce)&&(Ce=0),this._matrix=[R,te,ce,me,Ne,Ce]};Object.defineProperty(pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(A)},pt.prototype.multiply=function(A){var R=A.sx*this.sx+A.shy*this.shx,te=A.sx*this.shy+A.shy*this.sy,ce=A.shx*this.sx+A.sy*this.shx,me=A.shx*this.shy+A.sy*this.sy,Ne=A.tx*this.sx+A.ty*this.shx+this.tx,Ce=A.tx*this.shy+A.ty*this.sy+this.ty;return new pt(R,te,ce,me,Ne,Ce)},pt.prototype.decompose=function(){var A=this.sx,R=this.shy,te=this.shx,ce=this.sy,me=this.tx,Ne=this.ty,Ce=Math.sqrt(A*A+R*R),Qe=(A/=Ce)*te+(R/=Ce)*ce;te-=A*Qe,ce-=R*Qe;var st=Math.sqrt(te*te+ce*ce);return Qe/=st,A*(ce/=st)<R*(te/=st)&&(A=-A,R=-R,Qe=-Qe,Ce=-Ce),{scale:new pt(Ce,0,0,st,0,0),translate:new pt(1,0,0,1,me,Ne),rotate:new pt(A,R,-R,A,0,0),skew:new pt(1,0,Qe,1,0,0)}},pt.prototype.toString=function(A){return this.join(" ")},pt.prototype.inversed=function(){var A=this.sx,R=this.shy,te=this.shx,ce=this.sy,me=this.tx,Ne=this.ty,Ce=1/(A*ce-R*te),Qe=ce*Ce,st=-R*Ce,xt=-te*Ce,Nt=A*Ce;return new pt(Qe,st,xt,Nt,-Qe*me-xt*Ne,-st*me-Nt*Ne)},pt.prototype.applyToPoint=function(A){var R=A.x*this.sx+A.y*this.shx+this.tx,te=A.x*this.shy+A.y*this.sy+this.ty;return new Dl(R,te)},pt.prototype.applyToRectangle=function(A){var R=this.applyToPoint(A),te=this.applyToPoint(new Dl(A.x+A.w,A.y+A.h));return new $f(R.x,R.y,te.x-R.x,te.y-R.y)},pt.prototype.clone=function(){var A=this.sx,R=this.shy,te=this.shx,ce=this.sy,me=this.tx,Ne=this.ty;return new pt(A,R,te,ce,me,Ne)},h.Matrix=pt;var Ns=h.matrixMult=function(A,R){return R.multiply(A)},ks=new pt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=ks;var Yi=function(A,R){if(!Mt[A]){var te=(R instanceof pc?"Sh":"P")+(Object.keys(ut).length+1).toString(10);R.id=te,Mt[A]=te,ut[te]=R,Zt.publish("addPattern",R)}};h.ShadingPattern=pc,h.TilingPattern=Qu,h.addShadingPattern=function(A,R){return I("addShadingPattern()"),Yi(A,R),this},h.beginTilingPattern=function(A){I("beginTilingPattern()"),Rf(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},h.endTilingPattern=function(A,R){I("endTilingPattern()"),R.stream=xe[z].join(`
`),Yi(A,R),Zt.publish("endTilingPattern",R),Ja.pop().restore()};var Xi,Ir=h.__private__.newObject=function(){var A=_n();return Pn(A,!0),A},_n=h.__private__.newObjectDeferred=function(){return ne++,ue[ne]=function(){return oe},ne},Pn=function(A,R){return R=typeof R=="boolean"&&R,ue[A]=oe,R&&Z(A+" 0 obj"),A},Pl=h.__private__.newAdditionalObject=function(){var A={objId:_n(),content:""};return pe.push(A),A},_o=_n(),_a=_n(),Za=h.__private__.decodeColorString=function(A){var R=A.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length!==5||R[4]!=="k"&&R[4]!=="K"||(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var te=parseFloat(R[0]);R=[te,te,te,"r"]}for(var ce="#",me=0;me<3;me++)ce+=("0"+Math.floor(255*parseFloat(R[me])).toString(16)).slice(-2);return ce},Sa=h.__private__.encodeColorString=function(A){var R;typeof A=="string"&&(A={ch1:A});var te=A.ch1,ce=A.ch2,me=A.ch3,Ne=A.ch4,Ce=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var Qe=new _R(te);if(Qe.ok)te=Qe.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var st=parseInt(te.substr(1),16);te=st>>16&255,ce=st>>8&255,me=255&st}if(ce===void 0||Ne===void 0&&te===ce&&ce===me)R=typeof te=="string"?te+" "+Ce[0]:A.precision===2?O(te/255)+" "+Ce[0]:T(te/255)+" "+Ce[0];else if(Ne===void 0||nr(Ne)==="object"){if(Ne&&!isNaN(Ne.a)&&Ne.a===0)return["1.","1.","1.",Ce[1]].join(" ");R=typeof te=="string"?[te,ce,me,Ce[1]].join(" "):A.precision===2?[O(te/255),O(ce/255),O(me/255),Ce[1]].join(" "):[T(te/255),T(ce/255),T(me/255),Ce[1]].join(" ")}else R=typeof te=="string"?[te,ce,me,Ne,Ce[2]].join(" "):A.precision===2?[O(te),O(ce),O(me),O(Ne),Ce[2]].join(" "):[T(te),T(ce),T(me),T(Ne),Ce[2]].join(" ");return R},ja=h.__private__.getFilters=function(){return s},Ji=h.__private__.putStream=function(A){var R=(A=A||{}).data||"",te=A.filters||ja(),ce=A.alreadyAppliedFilters||[],me=A.addLength1||!1,Ne=R.length,Ce=A.objectId,Qe=function(cn){return cn};if(u!==null&&Ce===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Qe=zr.encryptor(Ce,0));var st={};te===!0&&(te=["FlateEncode"]);var xt=A.additionalKeyValues||[],Nt=(st=lt.API.processDataByFilters!==void 0?lt.API.processDataByFilters(R,te):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(st.data.length!==0&&(xt.push({key:"Length",value:st.data.length}),me===!0&&xt.push({key:"Length1",value:Ne})),Nt.length!=0)if(Nt.split("/").length-1==1)xt.push({key:"Filter",value:Nt});else{xt.push({key:"Filter",value:"["+Nt+"]"});for(var Xt=0;Xt<xt.length;Xt+=1)if(xt[Xt].key==="DecodeParms"){for(var Pr=[],Qr=0;Qr<st.reverseChain.split("/").length-1;Qr+=1)Pr.push("null");Pr.push(xt[Xt].value),xt[Xt].value="["+Pr.join(" ")+"]"}}Z("<<");for(var hr=0;hr<xt.length;hr++)Z("/"+xt[hr].key+" "+xt[hr].value);Z(">>"),st.data.length!==0&&(Z("stream"),Z(Qe(st.data)),Z("endstream"))},El=h.__private__.putPage=function(A){var R=A.number,te=A.data,ce=A.objId,me=A.contentsObjId;Pn(ce,!0),Z("<</Type /Page"),Z("/Parent "+A.rootDictionaryObjId+" 0 R"),Z("/Resources "+A.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(L(A.mediaBox.bottomLeftX))+" "+parseFloat(L(A.mediaBox.bottomLeftY))+" "+L(A.mediaBox.topRightX)+" "+L(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&Z("/CropBox ["+L(A.cropBox.bottomLeftX)+" "+L(A.cropBox.bottomLeftY)+" "+L(A.cropBox.topRightX)+" "+L(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&Z("/BleedBox ["+L(A.bleedBox.bottomLeftX)+" "+L(A.bleedBox.bottomLeftY)+" "+L(A.bleedBox.topRightX)+" "+L(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&Z("/TrimBox ["+L(A.trimBox.bottomLeftX)+" "+L(A.trimBox.bottomLeftY)+" "+L(A.trimBox.topRightX)+" "+L(A.trimBox.topRightY)+"]"),A.artBox!==null&&Z("/ArtBox ["+L(A.artBox.bottomLeftX)+" "+L(A.artBox.bottomLeftY)+" "+L(A.artBox.topRightX)+" "+L(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&Z("/UserUnit "+A.userUnit),Zt.publish("putPage",{objId:ce,pageContext:St[R],pageNumber:R,page:te}),Z("/Contents "+me+" 0 R"),Z(">>"),Z("endobj");var Ne=te.join(`
`);return j===_&&(Ne+=`
Q`),Pn(me,!0),Ji({data:Ne,filters:ja(),objectId:me}),Z("endobj"),ce},Qa=h.__private__.putPages=function(){var A,R,te=[];for(A=1;A<=lr;A++)St[A].objId=_n(),St[A].contentsObjId=_n();for(A=1;A<=lr;A++)te.push(El({number:A,data:xe[A],objId:St[A].objId,contentsObjId:St[A].contentsObjId,mediaBox:St[A].mediaBox,cropBox:St[A].cropBox,bleedBox:St[A].bleedBox,trimBox:St[A].trimBox,artBox:St[A].artBox,userUnit:St[A].userUnit,rootDictionaryObjId:_o,resourceDictionaryObjId:_a}));Pn(_o,!0),Z("<</Type /Pages");var ce="/Kids [";for(R=0;R<lr;R++)ce+=te[R]+" 0 R ";Z(ce+"]"),Z("/Count "+lr),Z(">>"),Z("endobj"),Zt.publish("postPutPages")},Cl=function(A){Zt.publish("putFont",{font:A,out:Z,newObject:Ir,putStream:Ji}),A.isAlreadyPutted!==!0&&(A.objectNumber=Ir(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+$u(A.postScriptName)),Z("/Subtype /Type1"),typeof A.encoding=="string"&&Z("/Encoding /"+A.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},au=function(A){A.objectNumber=Ir();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[L(A.x),L(A.y),L(A.x+A.width),L(A.y+A.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var te=A.pages[1].join(`
`);Ji({data:te,additionalKeyValues:R,objectId:A.objectNumber}),Z("endobj")},su=function(A,R){R||(R=21);var te=Ir(),ce=function(Ce,Qe){var st,xt=[],Nt=1/(Qe-1);for(st=0;st<1;st+=Nt)xt.push(st);if(xt.push(1),Ce[0].offset!=0){var Xt={offset:0,color:Ce[0].color};Ce.unshift(Xt)}if(Ce[Ce.length-1].offset!=1){var Pr={offset:1,color:Ce[Ce.length-1].color};Ce.push(Pr)}for(var Qr="",hr=0,cn=0;cn<xt.length;cn++){for(st=xt[cn];st>Ce[hr+1].offset;)hr++;var en=Ce[hr].offset,En=(st-en)/(Ce[hr+1].offset-en),Qi=Ce[hr].color,di=Ce[hr+1].color;Qr+=re(Math.round((1-En)*Qi[0]+En*di[0]).toString(16))+re(Math.round((1-En)*Qi[1]+En*di[1]).toString(16))+re(Math.round((1-En)*Qi[2]+En*di[2]).toString(16))}return Qr.trim()}(A.colors,R),me=[];me.push({key:"FunctionType",value:"0"}),me.push({key:"Domain",value:"[0.0 1.0]"}),me.push({key:"Size",value:"["+R+"]"}),me.push({key:"BitsPerSample",value:"8"}),me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ji({data:ce,additionalKeyValues:me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),Z("endobj"),A.objectNumber=Ir(),Z("<< /ShadingType "+A.type),Z("/ColorSpace /DeviceRGB");var Ne="/Coords ["+L(parseFloat(A.coords[0]))+" "+L(parseFloat(A.coords[1]))+" ";A.type===2?Ne+=L(parseFloat(A.coords[2]))+" "+L(parseFloat(A.coords[3])):Ne+=L(parseFloat(A.coords[2]))+" "+L(parseFloat(A.coords[3]))+" "+L(parseFloat(A.coords[4]))+" "+L(parseFloat(A.coords[5])),Z(Ne+="]"),A.matrix&&Z("/Matrix ["+A.matrix.toString()+"]"),Z("/Function "+te+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},ou=function(A,R){var te=_n(),ce=Ir();R.push({resourcesOid:te,objectOid:ce}),A.objectNumber=ce;var me=[];me.push({key:"Type",value:"/Pattern"}),me.push({key:"PatternType",value:"1"}),me.push({key:"PaintType",value:"1"}),me.push({key:"TilingType",value:"1"}),me.push({key:"BBox",value:"["+A.boundingBox.map(L).join(" ")+"]"}),me.push({key:"XStep",value:L(A.xStep)}),me.push({key:"YStep",value:L(A.yStep)}),me.push({key:"Resources",value:te+" 0 R"}),A.matrix&&me.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Ji({data:A.stream,additionalKeyValues:me,objectId:A.objectNumber}),Z("endobj")},S1=function(A){for(var R in A.objectNumber=Ir(),Z("<<"),A)switch(R){case"opacity":Z("/ca "+O(A[R]));break;case"stroke-opacity":Z("/CA "+O(A[R]))}Z(">>"),Z("endobj")},Af=function(A){Pn(A.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var R in Z("/Font <<"),nt)nt.hasOwnProperty(R)&&(f===!1||f===!0&&p.hasOwnProperty(R))&&Z("/"+R+" "+nt[R].objectNumber+" 0 R");Z(">>")}(),function(){if(Object.keys(ut).length>0){for(var R in Z("/Shading <<"),ut)ut.hasOwnProperty(R)&&ut[R]instanceof pc&&ut[R].objectNumber>=0&&Z("/"+R+" "+ut[R].objectNumber+" 0 R");Zt.publish("putShadingPatternDict"),Z(">>")}}(),function(R){if(Object.keys(ut).length>0){for(var te in Z("/Pattern <<"),ut)ut.hasOwnProperty(te)&&ut[te]instanceof h.TilingPattern&&ut[te].objectNumber>=0&&ut[te].objectNumber<R&&Z("/"+te+" "+ut[te].objectNumber+" 0 R");Zt.publish("putTilingPatternDict"),Z(">>")}}(A.objectOid),function(){if(Object.keys(Et).length>0){var R;for(R in Z("/ExtGState <<"),Et)Et.hasOwnProperty(R)&&Et[R].objectNumber>=0&&Z("/"+R+" "+Et[R].objectNumber+" 0 R");Zt.publish("putGStateDict"),Z(">>")}}(),function(){for(var R in Z("/XObject <<"),Bn)Bn.hasOwnProperty(R)&&Bn[R].objectNumber>=0&&Z("/"+R+" "+Bn[R].objectNumber+" 0 R");Zt.publish("putXobjectDict"),Z(">>")}(),Z(">>"),Z("endobj")},wm=function(A){_t[A.fontName]=_t[A.fontName]||{},_t[A.fontName][A.fontStyle]=A.id},_m=function(A,R,te,ce,me){var Ne={id:"F"+(Object.keys(nt).length+1).toString(10),postScriptName:A,fontName:R,fontStyle:te,encoding:ce,isStandardFont:me||!1,metadata:{}};return Zt.publish("addFont",{font:Ne,instance:this}),nt[Ne.id]=Ne,wm(Ne),Ne.id},Zi=h.__private__.pdfEscape=h.pdfEscape=function(A,R){return function(te,ce){var me,Ne,Ce,Qe,st,xt,Nt,Xt,Pr;if(Ce=(ce=ce||{}).sourceEncoding||"Unicode",st=ce.outputEncoding,(ce.autoencode||st)&&nt[rt].metadata&&nt[rt].metadata[Ce]&&nt[rt].metadata[Ce].encoding&&(Qe=nt[rt].metadata[Ce].encoding,!st&&nt[rt].encoding&&(st=nt[rt].encoding),!st&&Qe.codePages&&(st=Qe.codePages[0]),typeof st=="string"&&(st=Qe[st]),st)){for(Nt=!1,xt=[],me=0,Ne=te.length;me<Ne;me++)(Xt=st[te.charCodeAt(me)])?xt.push(String.fromCharCode(Xt)):xt.push(te[me]),xt[me].charCodeAt(0)>>8&&(Nt=!0);te=xt.join("")}for(me=te.length;Nt===void 0&&me!==0;)te.charCodeAt(me-1)>>8&&(Nt=!0),me--;if(!Nt)return te;for(xt=ce.noBOM?[]:[254,255],me=0,Ne=te.length;me<Ne;me++){if((Pr=(Xt=te.charCodeAt(me))>>8)>>8)throw new Error("Character at position "+me+" of string '"+te+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");xt.push(Pr),xt.push(Xt-(Pr<<8))}return String.fromCharCode.apply(void 0,xt)}(A,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nf=h.__private__.beginPage=function(A){xe[++lr]=[],St[lr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},jm(lr),ae(xe[z])},Sm=function(A,R){var te,ce,me;switch(r=R||r,typeof A=="string"&&(te=y(A.toLowerCase()),Array.isArray(te)&&(ce=te[0],me=te[1])),Array.isArray(A)&&(ce=A[0]*ht,me=A[1]*ht),isNaN(ce)&&(ce=i[0],me=i[1]),(ce>14400||me>14400)&&(dr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),me=Math.min(14400,me)),i=[ce,me],r.substr(0,1)){case"l":me>ce&&(i=[me,ce]);break;case"p":ce>me&&(i=[me,ce])}Nf(i),T1(Cf),Z(cu),Lf!==0&&Z(Lf+" J"),If!==0&&Z(If+" j"),Zt.publish("addPage",{pageNumber:lr})},kf=function(A){A>0&&A<=lr&&(xe.splice(A,1),St.splice(A,1),lr--,z>lr&&(z=lr),this.setPage(z))},jm=function(A){A>0&&A<=lr&&(z=A)},Am=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return xe.length-1},Nm=function(A,R,te){var ce,me=void 0;return te=te||{},A=A!==void 0?A:nt[rt].fontName,R=R!==void 0?R:nt[rt].fontStyle,ce=A.toLowerCase(),_t[ce]!==void 0&&_t[ce][R]!==void 0?me=_t[ce][R]:_t[A]!==void 0&&_t[A][R]!==void 0?me=_t[A][R]:te.disableWarning===!1&&dr.warn("Unable to look up font label for font '"+A+"', '"+R+"'. Refer to getFontList() for available fonts."),me||te.noFallback||(me=_t.times[R])==null&&(me=_t.times.normal),me},lu=h.__private__.putInfo=function(){var A=Ir(),R=function(ce){return ce};for(var te in u!==null&&(R=zr.encryptor(A,0)),Z("<<"),Z("/Producer ("+Zi(R("jsPDF "+lt.version))+")"),dt)dt.hasOwnProperty(te)&&dt[te]&&Z("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+Zi(R(dt[te]))+")");Z("/CreationDate ("+Zi(R(B))+")"),Z(">>"),Z("endobj")},j1=h.__private__.putCatalog=function(A){var R=(A=A||{}).rootDictionaryObjId||_o;switch(Ir(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+R+" 0 R"),Pe||(Pe="fullwidth"),Pe){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+Pe;te.substr(te.length-1)==="%"&&(Pe=parseInt(Pe)/100),typeof Pe=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+O(Pe)+"]")}switch(ze||(ze="continuous"),ze){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}De&&Z("/PageMode /"+De),Zt.publish("putCatalog"),Z(">>"),Z("endobj")},Zr=h.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(ne+1)),Z("/Root "+ne+" 0 R"),Z("/Info "+(ne-1)+" 0 R"),u!==null&&Z("/Encrypt "+zr.oid+" 0 R"),Z("/ID [ <"+K+"> <"+K+"> ]"),Z(">>")},km=h.__private__.putHeader=function(){Z("%PDF-"+g),Z("%")},Om=h.__private__.putXRef=function(){var A="0000000000";Z("xref"),Z("0 "+(ne+1)),Z("0000000000 65535 f ");for(var R=1;R<=ne;R++)typeof ue[R]=="function"?Z((A+ue[R]()).slice(-10)+" 00000 n "):ue[R]!==void 0?Z((A+ue[R]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},Os=h.__private__.buildDocument=function(){var A;ne=0,oe=0,ve=[],ue=[],pe=[],_o=_n(),_a=_n(),ae(ve),Zt.publish("buildDocument"),km(),Qa(),function(){Zt.publish("putAdditionalObjects");for(var te=0;te<pe.length;te++){var ce=pe[te];Pn(ce.objId,!0),Z(ce.content),Z("endobj")}Zt.publish("postPutAdditionalObjects")}(),A=[],function(){for(var te in nt)nt.hasOwnProperty(te)&&(f===!1||f===!0&&p.hasOwnProperty(te))&&Cl(nt[te])}(),function(){var te;for(te in Et)Et.hasOwnProperty(te)&&S1(Et[te])}(),function(){for(var te in Bn)Bn.hasOwnProperty(te)&&au(Bn[te])}(),function(te){var ce;for(ce in ut)ut.hasOwnProperty(ce)&&(ut[ce]instanceof pc?su(ut[ce]):ut[ce]instanceof Qu&&ou(ut[ce],te))}(A),Zt.publish("putResources"),A.forEach(Af),Af({resourcesOid:_a,objectOid:Number.MAX_SAFE_INTEGER}),Zt.publish("postPutResources"),u!==null&&(zr.oid=Ir(),Z("<<"),Z("/Filter /Standard"),Z("/V "+zr.v),Z("/R "+zr.r),Z("/U <"+zr.toHexString(zr.U)+">"),Z("/O <"+zr.toHexString(zr.O)+">"),Z("/P "+zr.P),Z(">>"),Z("endobj")),lu(),j1();var R=oe;return Om(),Zr(),Z("startxref"),Z(""+R),Z("%%EOF"),ae(xe[z]),ve.join(`
`)},Tl=h.__private__.getBlob=function(A){return new Blob([Oe(A)],{type:"application/pdf"})},Aa=h.output=h.__private__.output=(Xi=function(A,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",A){case void 0:return Os();case"save":h.save(R.filename);break;case"arraybuffer":return Oe(Os());case"blob":return Tl(Os());case"bloburi":case"bloburl":if(yt.URL!==void 0&&typeof yt.URL.createObjectURL=="function")return yt.URL&&yt.URL.createObjectURL(Tl(Os()))||void 0;dr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",ce=Os();try{te=GP(ce)}catch{te=GP(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+R.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(me=R.pdfObjectUrl,Ne="");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+me+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",Qe=yt.open();return Qe!==null&&Qe.document.write(Ce),Qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',xt=yt.open();if(xt!==null){xt.document.write(st);var Nt=this;xt.document.documentElement.querySelector("#pdfViewer").onload=function(){xt.document.title=R.filename,xt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nt.output("bloburl"))}}return xt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',Pr=yt.open();if(Pr!==null&&(Pr.document.write(Xt),Pr.document.title=R.filename),Pr||typeof safari>"u")return Pr;break;case"datauri":case"dataurl":return yt.document.location.href=this.output("datauristring",R);default:return null}},Xi.foo=function(){try{return Xi.apply(this,arguments)}catch(te){var A=te.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var R="Error in function "+A.split(`
`)[0].split("<")[0]+": "+te.message;if(!yt.console)throw new Error(R);yt.console.error(R,te),yt.alert&&alert(R)}},Xi.foo.bar=Xi,Xi.foo),Ll=function(A){return Array.isArray(Ol)===!0&&Ol.indexOf(A)>-1};switch(n){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=Ll("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ht=n}var zr=null;se(),$();var Of=h.__private__.getPageInfo=h.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:St[A].objId,pageNumber:A,pageContext:St[A]}},A1=h.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in St)if(St[R].objId===A)break;return Of(R)},N1=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:St[z].objId,pageNumber:z,pageContext:St[z]}};h.addPage=function(){return Sm.apply(this,arguments),this},h.setPage=function(){return jm.apply(this,arguments),ae.call(this,xe[z]),this},h.insertPage=function(A){return this.addPage(),this.movePage(z,A),this},h.movePage=function(A,R){var te,ce;if(A>R){te=xe[A],ce=St[A];for(var me=A;me>R;me--)xe[me]=xe[me-1],St[me]=St[me-1];xe[R]=te,St[R]=ce,this.setPage(R)}else if(A<R){te=xe[A],ce=St[A];for(var Ne=A;Ne<R;Ne++)xe[Ne]=xe[Ne+1],St[Ne]=St[Ne+1];xe[R]=te,St[R]=ce,this.setPage(R)}return this},h.deletePage=function(){return kf.apply(this,arguments),this},h.__private__.text=h.text=function(A,R,te,ce,me){var Ne,Ce,Qe,st,xt,Nt,Xt,Pr,Qr,hr=(ce=ce||{}).scope||this;if(typeof A=="number"&&typeof R=="number"&&(typeof te=="string"||Array.isArray(te))){var cn=te;te=R,R=A,A=cn}if(arguments[3]instanceof pt==0?(Qe=arguments[4],st=arguments[5],nr(Xt=arguments[3])==="object"&&Xt!==null||(typeof Qe=="string"&&(st=Qe,Qe=null),typeof Xt=="string"&&(st=Xt,Xt=null),typeof Xt=="number"&&(Qe=Xt,Xt=null),ce={flags:Xt,angle:Qe,align:st})):(I("The transform parameter of text() with a Matrix value"),Qr=me),isNaN(R)||isNaN(te)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return hr;var en,En="",Qi=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:$l,di=hr.internal.scaleFactor;function Rm(Qt){return Qt=Qt.split("	").join(Array(ce.TabLen||9).join(" ")),Zi(Qt,Xt)}function hu(Qt){for(var cr,Wr=Qt.concat(),un=[],$s=Wr.length;$s--;)typeof(cr=Wr.shift())=="string"?un.push(cr):Array.isArray(Qt)&&(cr.length===1||cr[1]===void 0&&cr[2]===void 0)?un.push(cr[0]):un.push([cr[0],cr[1],cr[2]]);return un}function Ul(Qt,cr){var Wr;if(typeof Qt=="string")Wr=cr(Qt)[0];else if(Array.isArray(Qt)){for(var un,$s,Vf=Qt.concat(),gu=[],Bm=Vf.length;Bm--;)typeof(un=Vf.shift())=="string"?gu.push(cr(un)[0]):Array.isArray(un)&&typeof un[0]=="string"&&($s=cr(un[0],un[1],un[2]),gu.push([$s[0],$s[1],$s[2]]));Wr=gu}return Wr}var Ao=!1,zl=!0;if(typeof A=="string")Ao=!0;else if(Array.isArray(A)){var ql=A.concat();Ce=[];for(var Wl,Fn=ql.length;Fn--;)(typeof(Wl=ql.shift())!="string"||Array.isArray(Wl)&&typeof Wl[0]!="string")&&(zl=!1);Ao=zl}if(Ao===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Hl=we/hr.internal.scaleFactor,Vl=Hl*(Qi-1);switch(ce.baseline){case"bottom":te-=Vl;break;case"top":te+=Hl-Vl;break;case"hanging":te+=Hl-2*Vl;break;case"middle":te+=Hl/2-Vl}if((Nt=ce.maxWidth||0)>0&&(typeof A=="string"?A=hr.splitTextToSize(A,Nt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(Qt,cr){return Qt.concat(hr.splitTextToSize(cr,Nt))},[]))),Ne={text:A,x:R,y:te,options:ce,mutex:{pdfEscape:Zi,activeFontKey:rt,fonts:nt,activeFontSize:we}},Zt.publish("preProcessText",Ne),A=Ne.text,Qe=(ce=Ne.options).angle,Qr instanceof pt==0&&Qe&&typeof Qe=="number"){Qe*=Math.PI/180,ce.rotationDirection===0&&(Qe=-Qe),j===_&&(Qe=-Qe);var Mf=Math.cos(Qe),Df=Math.sin(Qe);Qr=new pt(Mf,Df,-Df,Mf,0,0)}else Qe&&Qe instanceof pt&&(Qr=Qe);j!==_||Qr||(Qr=ks),(xt=ce.charSpace||du)!==void 0&&(En+=L(D(xt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Pr=ce.horizontalScale)!==void 0&&(En+=L(100*Pr)+` Tz
`),ce.lang;var $r=-1,Ls=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,pu=hr.internal.getCurrentPageInfo().pageContext;switch(Ls){case 0:case!1:case"fill":$r=0;break;case 1:case!0:case"stroke":$r=1;break;case 2:case"fillThenStroke":$r=2;break;case 3:case"invisible":$r=3;break;case 4:case"fillAndAddForClipping":$r=4;break;case 5:case"strokeAndAddPathForClipping":$r=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$r=6;break;case 7:case"addToPathForClipping":$r=7}var Mm=pu.usedRenderingMode!==void 0?pu.usedRenderingMode:-1;$r!==-1?En+=$r+` Tr
`:Mm!==-1&&(En+=`0 Tr
`),$r!==-1&&(pu.usedRenderingMode=$r),st=ce.align||"left";var ea,Gl=we*Qi,Bf=hr.internal.pageSize.getWidth(),Ff=nt[rt];xt=ce.charSpace||du,Nt=ce.maxWidth||0,Xt=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var No=[],Kl=function(Qt){return hr.getStringUnitWidth(Qt,{font:Ff,charSpace:xt,fontSize:we,doKerning:!1})*we/di};if(Object.prototype.toString.call(A)==="[object Array]"){var Si;Ce=hu(A),st!=="left"&&(ea=Ce.map(Kl));var ji,ko=0;if(st==="right"){R-=ea[0],A=[],Fn=Ce.length;for(var Is=0;Is<Fn;Is++)Is===0?(ji=Ps(R),Si=Es(te)):(ji=D(ko-ea[Is]),Si=-Gl),A.push([Ce[Is],ji,Si]),ko=ea[Is]}else if(st==="center"){R-=ea[0]/2,A=[],Fn=Ce.length;for(var Oo=0;Oo<Fn;Oo++)Oo===0?(ji=Ps(R),Si=Es(te)):(ji=D((ko-ea[Oo])/2),Si=-Gl),A.push([Ce[Oo],ji,Si]),ko=ea[Oo]}else if(st==="left"){A=[],Fn=Ce.length;for(var Uf=0;Uf<Fn;Uf++)A.push(Ce[Uf])}else if(st==="justify"&&Ff.encoding==="Identity-H"){A=[],Fn=Ce.length,Nt=Nt!==0?Nt:Bf;for(var mu=0,qr=0;qr<Fn;qr++)if(Si=qr===0?Es(te):-Gl,ji=qr===0?Ps(R):mu,qr<Fn-1){var Dm=D((Nt-ea[qr])/(Ce[qr].split(" ").length-1)),ts=Ce[qr].split(" ");A.push([ts[0]+" ",ji,Si]),mu=0;for(var rs=1;rs<ts.length;rs++){var zf=(Kl(ts[rs-1]+" "+ts[rs])-Kl(ts[rs]))*di+Dm;rs==ts.length-1?A.push([ts[rs],zf,0]):A.push([ts[rs]+" ",zf,0]),mu-=zf}}else A.push([Ce[qr],ji,Si]);A.push(["",mu,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Fn=Ce.length,Nt=Nt!==0?Nt:Bf,qr=0;qr<Fn;qr++){Si=qr===0?Es(te):-Gl,ji=qr===0?Ps(R):0;var qf=Ce[qr].split(" ").length-1,Wf=qf>0?(Nt-ea[qr])/qf:0;qr<Fn-1?No.push(L(D(Wf))):No.push(0),A.push([Ce[qr],ji,Si])}}}(typeof ce.R2L=="boolean"?ce.R2L:qe)===!0&&(A=Ul(A,function(Qt,cr,Wr){return[Qt.split("").reverse().join(""),cr,Wr]})),Ne={text:A,x:R,y:te,options:ce,mutex:{pdfEscape:Zi,activeFontKey:rt,fonts:nt,activeFontSize:we}},Zt.publish("postProcessText",Ne),A=Ne.text,en=Ne.mutex.isHex||!1;var Hf=nt[rt].encoding;Hf!=="WinAnsiEncoding"&&Hf!=="StandardEncoding"||(A=Ul(A,function(Qt,cr,Wr){return[Rm(Qt),cr,Wr]})),Ce=hu(A),A=[];for(var Po,Eo,Co,Yl=Array.isArray(Ce[0])?1:0,To="",Xl=function(Qt,cr,Wr){var un="";return Wr instanceof pt?(Wr=typeof ce.angle=="number"?Ns(Wr,new pt(1,0,0,1,Qt,cr)):Ns(new pt(1,0,0,1,Qt,cr),Wr),j===_&&(Wr=Ns(new pt(1,0,0,-1,0,0),Wr)),un=Wr.join(" ")+` Tm
`):un=L(Qt)+" "+L(cr)+` Td
`,un},ta=0;ta<Ce.length;ta++){switch(To="",Yl){case 1:Co=(en?"<":"(")+Ce[ta][0]+(en?">":")"),Po=parseFloat(Ce[ta][1]),Eo=parseFloat(Ce[ta][2]);break;case 0:Co=(en?"<":"(")+Ce[ta]+(en?">":")"),Po=Ps(R),Eo=Es(te)}No!==void 0&&No[ta]!==void 0&&(To=No[ta]+` Tw
`),ta===0?A.push(To+Xl(Po,Eo,Qr)+Co):Yl===0?A.push(To+Co):Yl===1&&A.push(To+Xl(Po,Eo,Qr)+Co)}A=Yl===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var ns=`BT
/`;return ns+=rt+" "+we+` Tf
`,ns+=L(we*Qi)+` TL
`,ns+=Rl+`
`,ns+=En,ns+=A,Z(ns+="ET"),p[rt]=!0,hr};var k1=h.__private__.clip=h.clip=function(A){return Z(A==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return k1("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Z("n"),this};var es=h.__private__.isValidStyle=function(A){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(R=!0),R};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(A){return es(A)&&(c=A),this};var Pm=h.__private__.getStyle=h.getStyle=function(A){var R=c;switch(A){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=A}return R},Em=h.close=function(){return Z("h"),this};h.stroke=function(){return Z("S"),this},h.fill=function(A){return So("f",A),this},h.fillEvenOdd=function(A){return So("f*",A),this},h.fillStroke=function(A){return So("B",A),this},h.fillStrokeEvenOdd=function(A){return So("B*",A),this};var So=function(A,R){nr(R)==="object"?P1(R,A):Z(A)},Pf=function(A){A===null||j===_&&A===void 0||(A=Pm(A),Z(A))};function O1(A,R,te,ce,me){var Ne=new Qu(R||this.boundingBox,te||this.xStep,ce||this.yStep,this.gState,me||this.matrix);Ne.stream=this.stream;var Ce=A+"$$"+this.cloneIndex+++"$$";return Yi(Ce,Ne),Ne}var P1=function(A,R){var te=Mt[A.key],ce=ut[te];if(ce instanceof pc)Z("q"),Z(E1(R)),ce.gState&&h.setGState(ce.gState),Z(A.matrix.toString()+" cm"),Z("/"+te+" sh"),Z("Q");else if(ce instanceof Qu){var me=new pt(1,0,0,-1,0,Fl());A.matrix&&(me=me.multiply(A.matrix||ks),te=O1.call(ce,A.key,A.boundingBox,A.xStep,A.yStep,me).id),Z("q"),Z("/Pattern cs"),Z("/"+te+" scn"),ce.gState&&h.setGState(ce.gState),Z(R),Z("Q")}},E1=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ef=h.moveTo=function(A,R){return Z(L(D(A))+" "+L(F(R))+" m"),this},Il=h.lineTo=function(A,R){return Z(L(D(A))+" "+L(F(R))+" l"),this},jo=h.curveTo=function(A,R,te,ce,me,Ne){return Z([L(D(A)),L(F(R)),L(D(te)),L(F(ce)),L(D(me)),L(F(Ne)),"c"].join(" ")),this};h.__private__.line=h.line=function(A,R,te,ce,me){if(isNaN(A)||isNaN(R)||isNaN(te)||isNaN(ce)||!es(me))throw new Error("Invalid arguments passed to jsPDF.line");return j===w?this.lines([[te-A,ce-R]],A,R,[1,1],me||"S"):this.lines([[te-A,ce-R]],A,R,[1,1]).stroke()},h.__private__.lines=h.lines=function(A,R,te,ce,me,Ne){var Ce,Qe,st,xt,Nt,Xt,Pr,Qr,hr,cn,en,En;if(typeof A=="number"&&(En=te,te=R,R=A,A=En),ce=ce||[1,1],Ne=Ne||!1,isNaN(R)||isNaN(te)||!Array.isArray(A)||!Array.isArray(ce)||!es(me)||typeof Ne!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ef(R,te),Ce=ce[0],Qe=ce[1],xt=A.length,cn=R,en=te,st=0;st<xt;st++)(Nt=A[st]).length===2?(cn=Nt[0]*Ce+cn,en=Nt[1]*Qe+en,Il(cn,en)):(Xt=Nt[0]*Ce+cn,Pr=Nt[1]*Qe+en,Qr=Nt[2]*Ce+cn,hr=Nt[3]*Qe+en,cn=Nt[4]*Ce+cn,en=Nt[5]*Qe+en,jo(Xt,Pr,Qr,hr,cn,en));return Ne&&Em(),Pf(me),this},h.path=function(A){for(var R=0;R<A.length;R++){var te=A[R],ce=te.c;switch(te.op){case"m":Ef(ce[0],ce[1]);break;case"l":Il(ce[0],ce[1]);break;case"c":jo.apply(this,ce);break;case"h":Em()}}return this},h.__private__.rect=h.rect=function(A,R,te,ce,me){if(isNaN(A)||isNaN(R)||isNaN(te)||isNaN(ce)||!es(me))throw new Error("Invalid arguments passed to jsPDF.rect");return j===w&&(ce=-ce),Z([L(D(A)),L(F(R)),L(D(te)),L(D(ce)),"re"].join(" ")),Pf(me),this},h.__private__.triangle=h.triangle=function(A,R,te,ce,me,Ne,Ce){if(isNaN(A)||isNaN(R)||isNaN(te)||isNaN(ce)||isNaN(me)||isNaN(Ne)||!es(Ce))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-A,ce-R],[me-te,Ne-ce],[A-me,R-Ne]],A,R,[1,1],Ce,!0),this},h.__private__.roundedRect=h.roundedRect=function(A,R,te,ce,me,Ne,Ce){if(isNaN(A)||isNaN(R)||isNaN(te)||isNaN(ce)||isNaN(me)||isNaN(Ne)||!es(Ce))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qe=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*te),Ne=Math.min(Ne,.5*ce),this.lines([[te-2*me,0],[me*Qe,0,me,Ne-Ne*Qe,me,Ne],[0,ce-2*Ne],[0,Ne*Qe,-me*Qe,Ne,-me,Ne],[2*me-te,0],[-me*Qe,0,-me,-Ne*Qe,-me,-Ne],[0,2*Ne-ce],[0,-Ne*Qe,me*Qe,-Ne,me,-Ne]],A+me,R,[1,1],Ce,!0),this},h.__private__.ellipse=h.ellipse=function(A,R,te,ce,me){if(isNaN(A)||isNaN(R)||isNaN(te)||isNaN(ce)||!es(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*te,Ce=4/3*(Math.SQRT2-1)*ce;return Ef(A+te,R),jo(A+te,R-Ce,A+Ne,R-ce,A,R-ce),jo(A-Ne,R-ce,A-te,R-Ce,A-te,R),jo(A-te,R+Ce,A-Ne,R+ce,A,R+ce),jo(A+Ne,R+ce,A+te,R+Ce,A+te,R),Pf(me),this},h.__private__.circle=h.circle=function(A,R,te,ce){if(isNaN(A)||isNaN(R)||isNaN(te)||!es(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,R,te,te,ce)},h.setFont=function(A,R,te){return te&&(R=E(R,te)),rt=Nm(A,R,{disableWarning:!1}),this};var C1=h.__private__.getFont=h.getFont=function(){return nt[Nm.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var A,R,te={};for(A in _t)if(_t.hasOwnProperty(A))for(R in te[A]=[],_t[A])_t[A].hasOwnProperty(R)&&te[A].push(R);return te},h.addFont=function(A,R,te,ce,me){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ne.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&Ne.indexOf(arguments[3])==-1&&(te=E(te,ce)),_m.call(this,A,R,te,me=me||"Identity-H")};var $l,Cf=t.lineWidth||.200025,jt=h.__private__.getLineWidth=h.getLineWidth=function(){return Cf},T1=h.__private__.setLineWidth=h.setLineWidth=function(A){return Cf=A,Z(L(D(A))+" w"),this};h.__private__.setLineDash=lt.API.setLineDash=lt.API.setLineDashPattern=function(A,R){if(A=A||[],R=R||0,isNaN(R)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(te){return L(D(te))}).join(" "),R=L(D(R)),Z("["+A+"] "+R+" d"),this};var L1=h.__private__.getLineHeight=h.getLineHeight=function(){return we*$l};h.__private__.getLineHeight=h.getLineHeight=function(){return we*$l};var I1=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&($l=A),this},$1=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return $l};I1(t.lineHeight);var Ps=h.__private__.getHorizontalCoordinate=function(A){return D(A)},Es=h.__private__.getVerticalCoordinate=function(A){return j===_?A:St[z].mediaBox.topRightY-St[z].mediaBox.bottomLeftY-D(A)},R1=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(A){return L(Ps(A))},M1=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(A){return L(Es(A))},cu=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Za(cu)},h.__private__.setStrokeColor=h.setDrawColor=function(A,R,te,ce){return cu=Sa({ch1:A,ch2:R,ch3:te,ch4:ce,pdfColorType:"draw",precision:2}),Z(cu),this};var Tf=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Za(Tf)},h.__private__.setFillColor=h.setFillColor=function(A,R,te,ce){return Tf=Sa({ch1:A,ch2:R,ch3:te,ch4:ce,pdfColorType:"fill",precision:2}),Z(Tf),this};var Rl=t.textColor||"0 g",uu=h.__private__.getTextColor=h.getTextColor=function(){return Za(Rl)};h.__private__.setTextColor=h.setTextColor=function(A,R,te,ce){return Rl=Sa({ch1:A,ch2:R,ch3:te,ch4:ce,pdfColorType:"text",precision:3}),this};var du=t.charSpace,D1=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(du||0)};h.__private__.setCharSpace=h.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return du=A,this};var Lf=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(A){var R=h.CapJoinStyles[A];if(R===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Lf=R,Z(R+" J"),this};var If=0;h.__private__.setLineJoin=h.setLineJoin=function(A){var R=h.CapJoinStyles[A];if(R===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return If=R,Z(R+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(L(D(A))+" M"),this},h.GState=ry,h.setGState=function(A){(A=typeof A=="string"?Et[Ur[A]]:Ml(null,A)).equals(ln)||(Z("/"+A.id+" gs"),ln=A)};var Ml=function(A,R){if(!A||!Ur[A]){var te=!1;for(var ce in Et)if(Et.hasOwnProperty(ce)&&Et[ce].equals(R)){te=!0;break}if(te)R=Et[ce];else{var me="GS"+(Object.keys(Et).length+1).toString(10);Et[me]=R,R.id=me}return A&&(Ur[A]=R.id),Zt.publish("addGState",R),R}};h.addGState=function(A,R){return Ml(A,R),this},h.saveGraphicsState=function(){return Z("q"),Yt.push({key:rt,size:we,color:Rl}),this},h.restoreGraphicsState=function(){Z("Q");var A=Yt.pop();return rt=A.key,we=A.size,Rl=A.color,ln=null,this},h.setCurrentTransformationMatrix=function(A){return Z(A.toString()+" cm"),this},h.comment=function(A){return Z("#"+A),this};var Dl=function(A,R){var te=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Ne){isNaN(Ne)||(te=parseFloat(Ne))}});var ce=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Ne){isNaN(Ne)||(ce=parseFloat(Ne))}});var me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return me},set:function(Ne){me=Ne.toString()}}),this},$f=function(A,R,te,ce){Dl.call(this,A,R),this.type="rect";var me=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return me},set:function(Ce){isNaN(Ce)||(me=parseFloat(Ce))}});var Ne=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne},set:function(Ce){isNaN(Ce)||(Ne=parseFloat(Ce))}}),this},fu=function(){this.page=lr,this.currentPage=z,this.pages=xe.slice(0),this.pagesContext=St.slice(0),this.x=Ve,this.y=Bt,this.matrix=Rt,this.width=Cm(z),this.height=Cs(z),this.outputDestination=Te,this.id="",this.objectNumber=-1};fu.prototype.restore=function(){lr=this.page,z=this.currentPage,St=this.pagesContext,xe=this.pages,Ve=this.x,Bt=this.y,Rt=this.matrix,Tm(z,this.width),Ts(z,this.height),Te=this.outputDestination};var Rf=function(A,R,te,ce,me){Ja.push(new fu),lr=z=0,xe=[],Ve=A,Bt=R,Rt=me,Nf([te,ce])};for(var Bl in h.beginFormObject=function(A,R,te,ce,me){return Rf(A,R,te,ce,me),this},h.endFormObject=function(A){return function(R){if(As[R])Ja.pop().restore();else{var te=new fu,ce="Xo"+(Object.keys(Bn).length+1).toString(10);te.id=ce,As[R]=ce,Bn[ce]=te,Zt.publish("addFormObject",te),Ja.pop().restore()}}(A),this},h.doFormObject=function(A,R){var te=Bn[As[A]];return Z("q"),Z(R.toString()+" cm"),Z("/"+te.id+" Do"),Z("Q"),this},h.getFormObject=function(A){var R=Bn[As[A]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},h.save=function(A,R){return A=A||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(cc(Tl(Os()),A),typeof cc.unload=="function"&&yt.setTimeout&&setTimeout(cc.unload,911),this):new Promise(function(te,ce){try{var me=cc(Tl(Os()),A);typeof cc.unload=="function"&&yt.setTimeout&&setTimeout(cc.unload,911),te(me)}catch(Ne){ce(Ne.message)}})},lt.API)lt.API.hasOwnProperty(Bl)&&(Bl==="events"&&lt.API.events.length?function(A,R){var te,ce,me;for(me=R.length-1;me!==-1;me--)te=R[me][0],ce=R[me][1],A.subscribe.apply(A,[te].concat(typeof ce=="function"?[ce]:ce))}(Zt,lt.API.events):h[Bl]=lt.API[Bl]);function Cm(A){return St[A].mediaBox.topRightX-St[A].mediaBox.bottomLeftX}function Tm(A,R){St[A].mediaBox.topRightX=R+St[A].mediaBox.bottomLeftX}function Cs(A){return St[A].mediaBox.topRightY-St[A].mediaBox.bottomLeftY}function Ts(A,R){St[A].mediaBox.topRightY=R+St[A].mediaBox.bottomLeftY}var Lm=h.getPageWidth=function(A){return Cm(A=A||z)/ht},Im=h.setPageWidth=function(A,R){Tm(A,R*ht)},Fl=h.getPageHeight=function(A){return Cs(A=A||z)/ht},$m=h.setPageHeight=function(A,R){Ts(A,R*ht)};return h.internal={pdfEscape:Zi,getStyle:Pm,getFont:C1,getFontSize:Ae,getCharSpace:D1,getTextColor:uu,getLineHeight:L1,getLineHeightFactor:$1,getLineWidth:jt,write:Fe,getHorizontalCoordinate:Ps,getVerticalCoordinate:Es,getCoordinateString:R1,getVerticalCoordinateString:M1,collections:{},newObject:Ir,newAdditionalObject:Pl,newObjectDeferred:_n,newObjectDeferredBegin:Pn,getFilters:ja,putStream:Ji,events:Zt,scaleFactor:ht,pageSize:{getWidth:function(){return Lm(z)},setWidth:function(A){Im(z,A)},getHeight:function(){return Fl(z)},setHeight:function(A){$m(z,A)}},encryptionOptions:u,encryption:zr,getEncryptor:function(A){return u!==null?zr.encryptor(A,0):function(R){return R}},output:Aa,getNumberOfPages:Am,pages:xe,out:Z,f2:O,f3:T,getPageInfo:Of,getPageInfoByObjId:A1,getCurrentPageInfo:N1,getPDFVersion:v,Point:Dl,Rectangle:$f,Matrix:pt,hasHotfix:Ll},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Lm(z)},set:function(A){Im(z,A)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Fl(z)},set:function(A){$m(z,A)},enumerable:!0,configurable:!0}),(function(A){for(var R=0,te=Ie.length;R<te;R++){var ce=_m.call(this,A[R][0],A[R][1],A[R][2],Ie[R][3],!0);f===!1&&(p[ce]=!0);var me=A[R][0].split("-");wm({id:ce,fontName:me[0],fontStyle:me[1]||""})}Zt.publish("addFonts",{fonts:nt,dictionary:_t})}).call(h,Ie),rt="F1",Sm(i,r),Zt.publish("initialized"),h}Iu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Iu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Iu.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Iu.prototype.processOwnerPassword=function(t,e){return T5(C5(e).substr(0,5),t)},Iu.prototype.encryptor=function(t,e){var r=C5(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return T5(r,n)}},ry.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||nr(t)!==nr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},lt.API={events:[]},lt.version="3.0.3";var Dr=lt.API,ij=1,iu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kt=function(t){return t.toFixed(2)},qo=function(t){return t.toFixed(5)};Dr.__acroform__={};var _i=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},JP=function(t){return t*ij},os=function(t){var e=new NR,r=Je.internal.getHeight(t)||0,n=Je.internal.getWidth(t)||0;return e.BBox=[0,0,Number(kt(n)),Number(kt(r))],e},jye=Dr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Aye=Dr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Nye=Dr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Kr=Dr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Nye(t,e-1)},Yr=Dr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return jye(t,e-1)},Xr=Dr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Aye(t,e-1)},kye=Dr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(a)||0,[Number(kt(l.lowerLeft_X)),Number(kt(l.lowerLeft_Y)),Number(kt(l.upperRight_X)),Number(kt(l.upperRight_Y))]},Oye=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=L5(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+kt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=os(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},L5=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var a=r,s=Je.internal.getHeight(t)||0;s=s<0?-s:s;var o=Je.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(O,T,D){if(O+1<i.length){var F=T+" "+i[O+1][0];return Yg(F,t,D).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var c,u,f=Yg("3",t,a).height,p=t.multiline?s-a:(s-f)/2,h=p+=2,g=0,v=0,x=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Yg(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var y="",w=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var j=!1;if(i[_].length!==1&&x!==i[_].length-1){if((f+2)*(w+2)+2>s)continue e;y+=i[_][x],j=!0,v=_,_--}else{y=(y+=i[_][x]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var S=parseInt(_),k=l(S,y,a),E=_>=i.length-1;if(k&&!E){y+=" ",x=0;continue}if(k||E){if(E)v=S;else if(t.multiline&&(f+2)*(w+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(w+2)+2>s)continue e;v=S}}for(var L="",I=g;I<=v;I++){var U=i[I];if(t.multiline){if(I===v){L+=U[x]+" ",x=(x+1)%U.length;continue}if(I===g){L+=U[U.length-1]+" ";continue}}L+=U[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,u=Yg(L,t,a).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=kt(c)+" "+kt(h)+` Td
`,e+="("+iu(L)+`) Tj
`,e+=-kt(c)+` 0 Td
`,h=-(a+2),u=0,g=j?v:v+1,w++,y=""}break}return n.text=e,n.fontSize=a,n},Yg=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Pye={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Eye=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Cye=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ya.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Pye)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ij=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new kR,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&Eye(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=kye(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Je.createDefaultAppearanceStream(o),nr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=Oye(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var h=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var g=h[s];typeof g=="function"&&(g=g.call(i,o)),f+="/"+s+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(i,o)),f+="/"+s+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(v,x){for(var y in v)if(v.hasOwnProperty(y)){var w=y,_=v[y];x.internal.newObjectDeferredBegin(_.objId,!0),nr(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete v[w]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},AR=Dr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),nr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+iu(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ex=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+iu(n(t))+")"},ds=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ds.prototype.toString=function(){return this.objId+" 0 R"},ds.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ds.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:AR(i,this.objId,this.scope)}):i instanceof ds?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var NR=function(){ds.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};_i(NR,ds);var kR=function(){ds.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+iu(r(t))+")"}},set:function(r){t=r}})};_i(kR,ds);var Ya=function t(){ds.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Kr(e,3)},set:function(y){y?this.F=Yr(e,3):this.F=Xr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof ny)return;a="FieldObject"+t.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+iu(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/ij:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof ny||this instanceof Oc))return Ex(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof An==0?Ex(p,this.objId,this.scope):p},set:function(y){y=y.toString(),p=this instanceof An==0?y.substr(0,1)==="("?Pu(y.substr(1,y.length-2)):Pu(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof An==1?Pu(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof An==1?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof An==0?Ex(h,this.objId,this.scope):h},set:function(y){y=y.toString(),h=this instanceof An==0?y.substr(0,1)==="("?Pu(y.substr(1,y.length-2)):Pu(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof An==1?Pu(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof An==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(y){y=!!y,v=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,1)},set:function(y){y?this.Ff=Yr(this.Ff,1):this.Ff=Xr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,2)},set:function(y){y?this.Ff=Yr(this.Ff,2):this.Ff=Xr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,3)},set:function(y){y?this.Ff=Yr(this.Ff,3):this.Ff=Xr(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');x=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(x){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};_i(Ya,ds);var dd=function(){Ya.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return AR(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,18)},set:function(r){r?this.Ff=Yr(this.Ff,18):this.Ff=Xr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Yr(this.Ff,19):this.Ff=Xr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,20)},set:function(r){r?(this.Ff=Yr(this.Ff,20),e.sort()):this.Ff=Xr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,22)},set:function(r){r?this.Ff=Yr(this.Ff,22):this.Ff=Xr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,23)},set:function(r){r?this.Ff=Yr(this.Ff,23):this.Ff=Xr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,27)},set:function(r){r?this.Ff=Yr(this.Ff,27):this.Ff=Xr(this.Ff,27)}}),this.hasAppearanceStream=!1};_i(dd,Ya);var fd=function(){dd.call(this),this.fontName="helvetica",this.combo=!1};_i(fd,dd);var hd=function(){fd.call(this),this.combo=!0};_i(hd,fd);var h0=function(){hd.call(this),this.edit=!0};_i(h0,hd);var An=function(){Ya.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,15)},set:function(r){r?this.Ff=Yr(this.Ff,15):this.Ff=Xr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,16)},set:function(r){r?this.Ff=Yr(this.Ff,16):this.Ff=Xr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,17)},set:function(r){r?this.Ff=Yr(this.Ff,17):this.Ff=Xr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,26)},set:function(r){r?this.Ff=Yr(this.Ff,26):this.Ff=Xr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+iu(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){nr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};_i(An,Ya);var p0=function(){An.call(this),this.pushButton=!0};_i(p0,An);var pd=function(){An.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};_i(pd,An);var ny=function(){var t,e;Ya.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+iu(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){nr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Je.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};_i(ny,Ya),pd.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},pd.prototype.createOption=function(t){var e=new ny;return e.Parent=this,e.optionName=t,this.Kids.push(e),Tye.call(this.scope,e),e};var m0=function(){An.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Je.CheckBox.createAppearanceStream()};_i(m0,An);var Oc=function(){Ya.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,13)},set:function(e){e?this.Ff=Yr(this.Ff,13):this.Ff=Xr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,21)},set:function(e){e?this.Ff=Yr(this.Ff,21):this.Ff=Xr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,23)},set:function(e){e?this.Ff=Yr(this.Ff,23):this.Ff=Xr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,24)},set:function(e){e?this.Ff=Yr(this.Ff,24):this.Ff=Xr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,25)},set:function(e){e?this.Ff=Yr(this.Ff,25):this.Ff=Xr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,26)},set:function(e){e?this.Ff=Yr(this.Ff,26):this.Ff=Xr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};_i(Oc,Ya);var g0=function(){Oc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,14)},set:function(t){t?this.Ff=Yr(this.Ff,14):this.Ff=Xr(this.Ff,14)}}),this.password=!0};_i(g0,Oc);var Je={CheckBox:{createAppearanceStream:function(){return{N:{On:Je.CheckBox.YesNormal},D:{On:Je.CheckBox.YesPushDown,Off:Je.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=os(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=L5(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+kt(Je.internal.getWidth(t))+" "+kt(Je.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+kt(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=os(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=Je.internal.getHeight(t),s=Je.internal.getWidth(t),o=L5(t,t.caption);return i.push("1 g"),i.push("0 0 "+kt(s)+" "+kt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+kt(s-1)+" "+kt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+kt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=os(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+kt(Je.internal.getWidth(t))+" "+kt(Je.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Je.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Je.RadioButton.Circle.YesNormal,e.D[t]=Je.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=os(t);e.scope=t.scope;var r=[],n=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Je.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+qo(Je.internal.getWidth(t)/2)+" "+qo(Je.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=os(t);e.scope=t.scope;var r=[],n=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Je.internal.Bezier_C).toFixed(5)),s=Number((n*Je.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qo(Je.internal.getWidth(t)/2)+" "+qo(Je.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+qo(Je.internal.getWidth(t)/2)+" "+qo(Je.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=os(t);e.scope=t.scope;var r=[],n=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Je.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qo(Je.internal.getWidth(t)/2)+" "+qo(Je.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Je.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Je.RadioButton.Cross.YesNormal,e.D[t]=Je.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=os(t);e.scope=t.scope;var r=[],n=Je.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+kt(Je.internal.getWidth(t)-2)+" "+kt(Je.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(kt(n.x1.x)+" "+kt(n.x1.y)+" m"),r.push(kt(n.x2.x)+" "+kt(n.x2.y)+" l"),r.push(kt(n.x4.x)+" "+kt(n.x4.y)+" m"),r.push(kt(n.x3.x)+" "+kt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=os(t);e.scope=t.scope;var r=Je.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+kt(Je.internal.getWidth(t))+" "+kt(Je.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+kt(Je.internal.getWidth(t)-2)+" "+kt(Je.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(kt(r.x1.x)+" "+kt(r.x1.y)+" m"),n.push(kt(r.x2.x)+" "+kt(r.x2.y)+" l"),n.push(kt(r.x4.x)+" "+kt(r.x4.y)+" m"),n.push(kt(r.x3.x)+" "+kt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=os(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+kt(Je.internal.getWidth(t))+" "+kt(Je.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Je.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Je.internal.getWidth(t),r=Je.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Je.internal.getWidth=function(t){var e=0;return nr(t)==="object"&&(e=JP(t.Rect[2])),e},Je.internal.getHeight=function(t){var e=0;return nr(t)==="object"&&(e=JP(t.Rect[3])),e};var Tye=Dr.addField=function(t){if(Cye(this,t),!(t instanceof Ya))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Dr.AcroFormChoiceField=dd,Dr.AcroFormListBox=fd,Dr.AcroFormComboBox=hd,Dr.AcroFormEditBox=h0,Dr.AcroFormButton=An,Dr.AcroFormPushButton=p0,Dr.AcroFormRadioButton=pd,Dr.AcroFormCheckBox=m0,Dr.AcroFormTextField=Oc,Dr.AcroFormPasswordField=g0,Dr.AcroFormAppearance=Je,Dr.AcroForm={ChoiceField:dd,ListBox:fd,ComboBox:hd,EditBox:h0,Button:An,PushButton:p0,RadioButton:pd,CheckBox:m0,TextField:Oc,PasswordField:g0,Appearance:Je},lt.AcroForm={ChoiceField:dd,ListBox:fd,ComboBox:hd,EditBox:h0,Button:An,PushButton:p0,RadioButton:pd,CheckBox:m0,TextField:Oc,PasswordField:g0,Appearance:Je};lt.AcroForm;function OR(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(O,T){var D,F,B,K,H,$=r;if((T=T||r)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(k(O))for(H in n)for(B=n[H],D=0;D<B.length;D+=1){for(K=!0,F=0;F<B[D].length;F+=1)if(B[D][F]!==void 0&&B[D][F]!==O[F]){K=!1;break}if(K===!0){$=H;break}}else for(H in n)for(B=n[H],D=0;D<B.length;D+=1){for(K=!0,F=0;F<B[D].length;F+=1)if(B[D][F]!==void 0&&B[D][F]!==O.charCodeAt(F)){K=!1;break}if(K===!0){$=H;break}}return $===r&&T!==r&&($=T),$},a=function O(T){for(var D=this.internal.write,F=this.internal.putStream,B=(0,this.internal.getFilters)();B.indexOf("FlateEncode")!==-1;)B.splice(B.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:T.width}),K.push({key:"Height",value:T.height}),T.colorSpace===y.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===y.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)&&T.transparency.length>0){for(var H="",$=0,J=T.transparency.length;$<J;$++)H+=T.transparency[$]+" "+T.transparency[$]+" ";K.push({key:"Mask",value:"["+H+"]"})}T.sMask!==void 0&&K.push({key:"SMask",value:T.objectId+1+" 0 R"});var ie=T.filter!==void 0?["/"+T.filter]:void 0;if(F({data:T.data,additionalKeyValues:K,alreadyAppliedFilters:ie,objectId:T.objectId}),D("endobj"),"sMask"in T&&T.sMask!==void 0){var se,P=(se=T.sMaskBitsPerComponent)!==null&&se!==void 0?se:T.bitsPerComponent,z={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:T.sMask};"filter"in T&&(z.decodeParameters="/Predictor ".concat(T.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(T.width),z.filter=T.filter),O.call(this,z)}if(T.colorSpace===y.INDEXED){var V=this.internal.newObject();F({data:L(new Uint8Array(T.palette)),objectId:V}),D("endobj")}},s=function(){var O=this.internal.collections[e+"images"];for(var T in O)a.call(this,O[T])},o=function(){var O,T=this.internal.collections[e+"images"],D=this.internal.write;for(var F in T)D("/I"+(O=T[F]).index,O.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var O=this.internal.collections[e+"images"];return l.call(this),O},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(O){return typeof t["process"+O.toUpperCase()]=="function"},p=function(O){return nr(O)==="object"&&O.nodeType===1},h=function(O,T){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var D=""+O.getAttribute("src");if(D.indexOf("data:image/")===0)return f0(unescape(D).split("base64,").pop());var F=t.loadFile(D,!0);if(F!==void 0)return F}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var B;switch(T){case"PNG":B="image/png";break;case"WEBP":B="image/webp";break;default:B="image/jpeg"}return f0(O.toDataURL(B,1).split("base64,").pop())}},g=function(O){var T=this.internal.collections[e+"images"];if(T){for(var D in T)if(O===T[D].alias)return T[D]}},v=function(O,T,D){return O||T||(O=-96,T=-96),O<0&&(O=-1*D.width*72/O/this.internal.scaleFactor),T<0&&(T=-1*D.height*72/T/this.internal.scaleFactor),O===0&&(O=T*D.width/D.height),T===0&&(T=O*D.height/D.width),[O,T]},x=function(O,T,D,F,B,K){var H=v.call(this,D,F,B),$=this.internal.getCoordinateString,J=this.internal.getVerticalCoordinateString,ie=c.call(this);if(D=H[0],F=H[1],ie[B.index]=B,K){K*=Math.PI/180;var se=Math.cos(K),P=Math.sin(K),z=function(re){return re.toFixed(4)},V=[z(se),z(P),z(-1*P),z(se),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,$(O),J(T+F),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([$(D),"0","0",$(F),"0","0","cm"].join(" "))):this.internal.write([$(D),"0","0",$(F),$(O),J(T+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+B.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(O){var T,D,F=0;if(typeof O=="string")for(D=O.length,T=0;T<D;T++)F=(F<<5)-F+O.charCodeAt(T),F|=0;else if(k(O))for(D=O.byteLength/2,T=0;T<D;T++)F=(F<<5)-F+O[T],F|=0;return F},j=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var T=!0;return O.length===0&&(T=!1),O.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(T=!1),T},S=t.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var T=O.indexOf(",");return T<0?null:O.substring(0,T).trim().endsWith("base64")?O.substring(T+1):null};t.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var k=t.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},E=t.__addimage__.binaryStringToUint8Array=function(O){for(var T=O.length,D=new Uint8Array(T),F=0;F<T;F++)D[F]=O.charCodeAt(F);return D},L=t.__addimage__.arrayBufferToBinaryString=function(O){for(var T="",D=k(O)?O:new Uint8Array(O),F=0;F<D.length;F+=8192)T+=String.fromCharCode.apply(null,D.subarray(F,F+8192));return T};t.addImage=function(){var O,T,D,F,B,K,H,$,J;if(typeof arguments[1]=="number"?(T=r,D=arguments[1],F=arguments[2],B=arguments[3],K=arguments[4],H=arguments[5],$=arguments[6],J=arguments[7]):(T=arguments[1],D=arguments[2],F=arguments[3],B=arguments[4],K=arguments[5],H=arguments[6],$=arguments[7],J=arguments[8]),nr(O=arguments[0])==="object"&&!p(O)&&"imageData"in O){var ie=O;O=ie.imageData,T=ie.format||T||r,D=ie.x||D||0,F=ie.y||F||0,B=ie.w||ie.width||B,K=ie.h||ie.height||K,H=ie.alias||H,$=ie.compression||$,J=ie.rotation||ie.angle||J}var se=this.internal.getFilters();if($===void 0&&se.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(D)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var P=I.call(this,O,T,H,$);return x.call(this,D,F,B,K,P,J),this};var I=function(O,T,D,F){var B,K,H;if(typeof O=="string"&&i(O)===r){O=unescape(O);var $=U(O,!1);($!==""||($=t.loadFile(O,!0))!==void 0)&&(O=$)}if(p(O)&&(O=h(O,T)),T=i(O,T),!f(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((H=D)==null||H.length===0)&&(D=function(J){return typeof J=="string"||k(J)?_(J):k(J.data)?_(J.data):null}(O)),(B=g.call(this,D))||(O instanceof Uint8Array||T==="RGBA"||(K=O,O=E(O)),B=this["process"+T.toUpperCase()](O,u.call(this),D,function(J){return J&&typeof J=="string"&&(J=J.toUpperCase()),J in t.image_compression?J:w.NONE}(F),K)),!B)throw new Error("An unknown error occurred whilst processing the image.");return B},U=t.__addimage__.convertBase64ToBinaryString=function(O,T){T=typeof T!="boolean"||T;var D,F="";if(typeof O=="string"){var B;D=(B=S(O))!==null&&B!==void 0?B:O;try{F=f0(D)}catch(K){if(T)throw j(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};t.getImageProperties=function(O){var T,D,F="";if(p(O)&&(O=h(O)),typeof O=="string"&&i(O)===r&&((F=U(O,!1))===""&&(F=t.loadFile(O)||""),O=F),D=i(O),!f(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(O instanceof Uint8Array||(O=E(O)),!(T=this["process"+D.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=D,T}})(lt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};lt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(v.objId),w=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(y(n.contents))+")",a+=" /Popup "+x.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(y(w))+") >>",v.content=a;var _=v.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(a+=" /Open true"),a+=" >>",x.content=a,this.internal.write(v.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(g(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var k=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+k+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+a)},options:s,type:"link"})},t.textWithLink=function(r,n,i,a){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,i,a),i+=.2*c,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-c,o,s,a),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(lt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=t.__arabicParser__.isArabicEndLetter=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(v){return s(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(v){var x=0,y=r,w="",_=0;for(x=0;x<v.length;x+=1)y[v.charCodeAt(x)]!==void 0?(_++,typeof(y=y[v.charCodeAt(x)])=="number"&&(w+=String.fromCharCode(y),y=r,_=0),x===v.length-1&&(y=r,w+=v.charAt(x-(_-1)),x-=_-1,_=0)):(y=r,w+=v.charAt(x-_),x-=_,_=0);return w};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(v,x,y){return s(v)?a(v)===!1?-1:!c(v)||!s(x)&&!s(y)||!s(y)&&o(x)||o(v)&&!s(x)||o(v)&&l(x)||o(v)&&o(x)?0:u(v)&&s(x)&&!o(x)&&s(y)&&c(y)?3:o(v)||!s(y)?1:2:-1},h=function(v){var x=0,y=0,w=0,_="",j="",S="",k=(v=v||"").split("\\s+"),E=[];for(x=0;x<k.length;x+=1){for(E.push(""),y=0;y<k[x].length;y+=1)_=k[x][y],j=k[x][y-1],S=k[x][y+1],s(_)?(w=p(_,j,S),E[x]+=w!==-1?String.fromCharCode(e[_.charCodeAt(0)][w]):_):E[x]+=_;E[x]=f(E[x])}return E.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var v,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(x)){var w=0;for(y=[],w=0;w<x.length;w+=1)Array.isArray(x[w])?y.push([h(x[w][0]),x[w][1],x[w][2]]):y.push([h(x[w])]);v=y}else v=h(x);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",g])}(lt.API),lt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(lt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(v){g=v}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,h=0,g=0,v=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,j){return _.concat(x.splitTextToSize(j,y))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)h<(v=this.getStringUnitWidth(l[w],{font:f})*u)&&(h=v);return h!==0&&(g=l.length),{w:h/=p,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,f,p){if(n.call(this),!u)throw new Error("No data for PDF table.");var h,g,v,x,y=[],w=[],_=[],j={},S={},k=[],E=[],L=(p=p||{}).autoSize||!1,I=p.printHeaders!==!1,U=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,O=p.margins||Object.assign({width:this.getPageWidth()},e),T=typeof p.padding=="number"?p.padding:3,D=p.headerBackgroundColor||"#c8c8c8",F=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=F,this.setFontSize(U),f==null)w=y=Object.keys(u[0]),_=y.map(function(){return"left"});else if(Array.isArray(f)&&nr(f[0])==="object")for(y=f.map(function(ie){return ie.name}),w=f.map(function(ie){return ie.prompt||ie.name||""}),_=f.map(function(ie){return ie.align||"left"}),h=0;h<f.length;h+=1)S[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=y=f,_=y.map(function(){return"left"}));if(L||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<y.length;h+=1){for(j[x=y[h]]=u.map(function(ie){return ie[x]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=j[x],this.setFont(void 0,"normal"),v=0;v<g.length;v+=1)k.push(this.getTextDimensions(g[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[x]=Math.max.apply(null,k)+T+T,k=[]}if(I){var B={};for(h=0;h<y.length;h+=1)B[y[h]]={},B[y[h]].text=w[h],B[y[h]].align=_[h];var K=o.call(this,B,S);E=y.map(function(ie){return new a(l,c,S[ie],K,B[ie].text,void 0,B[ie].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var H=f.reduce(function(ie,se){return ie[se.name]=se.align,ie},{});for(h=0;h<u.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:u[h]},this);var $=o.call(this,u[h],S);for(v=0;v<y.length;v+=1){var J=u[h][y[v]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:v,data:J},this),s.call(this,new a(l,c,S[y[v]],$,J,h+2,H[y[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var g=l[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+u+u},this).reduce(function(h,g){return Math.max(h,g)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(lt.API);var PR={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ER=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],I5=OR(ER),CR=[100,200,300,400,500,600,700,800,900],Lye=OR(CR);function Cx(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return PR[a=a||"normal"]?a:"normal"}(t.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof I5[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function ZP(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var Iye={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},QP={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function eE(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function tE(t){return t.trimLeft()}function $ye(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function Rye(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Xg,rE,nE,Eu,Jg,iE,aE,sE,Tx=["times"];function oE(t,e,r,n,i){var a=4,s=cE;switch(i){case lt.API.image_compression.FAST:a=1,s=lE;break;case lt.API.image_compression.MEDIUM:a=6,s=uE;break;case lt.API.image_compression.SLOW:a=9,s=dE}t=function(l,c,u,f){for(var p,h=l.length/c,g=new Uint8Array(l.length+h),v=[Mye,lE,cE,uE,dE],x=0;x<h;x+=1){var y=x*c,w=l.subarray(y,y+c);if(f)g.set(f(w,u,p),y+x);else{for(var _=v.length,j=[],S=0;S<_;S+=1)j[S]=v[S](w,u,p);var k=Bye(j.concat());g.set(j[k],y+x)}p=w}return g}(t,e,Math.ceil(r*n/8),s);var o=k5(t,{level:a});return lt.API.__addimage__.arrayBufferToBinaryString(o)}function Mye(t){var e=Array.apply([],t);return e.unshift(0),e}function lE(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function cE(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=t[a]-s+256&255}return i}function uE(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=t[a-e]||0,o=r&&r[a]||0;i[a+1]=t[a]+256-(s+o>>>1)&255}return i}function dE(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=Dye(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function Dye(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function Bye(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Lx(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return TR(t,i)>>a&s}function fE(t,e,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,l=(e&o)<<s;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var p=f>>8&255;c.setUint8(u,p)}})(t,a,TR(t,a)&~(o<<s)&65535|l)}function TR(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Fye(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var c=!0,u=[],f=0,p=null,h=0,g=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],1&v||(p=null),h=v>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,j=t[e++],S=j>>6&1,k=1<<1+(7&j),E=o,L=l,I=!1;j>>7&&(I=!0,E=e,L=k,e+=3*k);var U=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}u.push({x,y,width:w,height:_,has_local_palette:I,palette_offset:E,palette_size:L,data_offset:U,data_length:e-U,transparent_index:p,interlaced:!!S,delay:f,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(T){if(T<0||T>=u.length)throw new Error("Frame index out of range.");return u[T]},this.decodeAndBlitFrameBGRA=function(T,D){var F=this.frameInfo(T),B=F.width*F.height,K=new Uint8Array(B);hE(t,F.data_offset,K,B);var H=F.palette_offset,$=F.transparent_index;$===null&&($=256);var J=F.width,ie=r-J,se=J,P=4*(F.y*r+F.x),z=4*((F.y+F.height)*r+F.x),V=P,re=4*ie;F.interlaced===!0&&(re+=4*r*7);for(var ne=8,ue=0,ve=K.length;ue<ve;++ue){var oe=K[ue];if(se===0&&(se=J,(V+=re)>=z&&(re=4*ie+4*r*(ne-1),V=P+(J+ie)*(ne<<1),ne>>=1)),oe===$)V+=4;else{var pe=t[H+3*oe],xe=t[H+3*oe+1],he=t[H+3*oe+2];D[V++]=he,D[V++]=xe,D[V++]=pe,D[V++]=255}--se}},this.decodeAndBlitFrameRGBA=function(T,D){var F=this.frameInfo(T),B=F.width*F.height,K=new Uint8Array(B);hE(t,F.data_offset,K,B);var H=F.palette_offset,$=F.transparent_index;$===null&&($=256);var J=F.width,ie=r-J,se=J,P=4*(F.y*r+F.x),z=4*((F.y+F.height)*r+F.x),V=P,re=4*ie;F.interlaced===!0&&(re+=4*r*7);for(var ne=8,ue=0,ve=K.length;ue<ve;++ue){var oe=K[ue];if(se===0&&(se=J,(V+=re)>=z&&(re=4*ie+4*r*(ne-1),V=P+(J+ie)*(ne<<1),ne>>=1)),oe===$)V+=4;else{var pe=t[H+3*oe],xe=t[H+3*oe+1],he=t[H+3*oe+2];D[V++]=pe,D[V++]=xe,D[V++]=he,D[V++]=255}--se}}}function hE(t,e,r,n){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,u=0,f=0,p=0,h=t[e++],g=new Int32Array(4096),v=null;;){for(;u<16&&h!==0;)f|=t[e++]<<u,u+=8,h===1?h=t[e++]:--h;if(u<l)break;var x=f&c;if(f>>=l,u-=l,x!==a){if(x===s)break;for(var y=x<o?x:v,w=0,_=y;_>a;)_=g[_]>>8,++w;var j=_;if(p+w+(y!==x?1:0)>n)return void dr.log("Warning, gif stream longer than expected.");r[p++]=j;var S=p+=w;for(y!==x&&(r[p++]=j),_=y;w--;)_=g[_],r[--S]=255&_,_>>=8;v!==null&&o<4096&&(g[o++]=v<<8|j,o>=c+1&&l<12&&(++l,c=c<<1|1)),v=x}else o=s+1,c=(1<<(l=i+1))-1,v=null}return p!==n&&dr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ix(t){var e,r,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),g=new Array(64),v=[],x=0,y=7,w=new Array(64),_=new Array(64),j=new Array(64),S=new Array(256),k=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],B=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(P,z){for(var V=0,re=0,ne=new Array,ue=1;ue<=16;ue++){for(var ve=1;ve<=P[ue];ve++)ne[z[re]]=[],ne[z[re]][0]=V,ne[z[re]][1]=ue,re++,V++;V*=2}return ne}function H(P){for(var z=P[0],V=P[1]-1;V>=0;)z&1<<V&&(x|=1<<y),V--,--y<0&&(x==255?($(255),$(0)):$(x),y=7,x=0)}function $(P){v.push(P)}function J(P){$(P>>8&255),$(255&P)}function ie(P,z,V,re,ne){for(var ue,ve=ne[0],oe=ne[240],pe=function(we,Pe){var Ae,qe,De,Xe,ze,We,gt,dt,rt,ht,Ve=0;for(rt=0;rt<8;++rt){Ae=we[Ve],qe=we[Ve+1],De=we[Ve+2],Xe=we[Ve+3],ze=we[Ve+4],We=we[Ve+5],gt=we[Ve+6];var Bt=Ae+(dt=we[Ve+7]),Rt=Ae-dt,nt=qe+gt,_t=qe-gt,Yt=De+We,ut=De-We,Mt=Xe+ze,Et=Xe-ze,Ur=Bt+Mt,ln=Bt-Mt,lr=nt+Yt,St=nt-Yt;we[Ve]=Ur+lr,we[Ve+4]=Ur-lr;var Zt=.707106781*(St+ln);we[Ve+2]=ln+Zt,we[Ve+6]=ln-Zt;var Ol=.382683433*((Ur=Et+ut)-(St=_t+Rt)),Bn=.5411961*Ur+Ol,As=1.306562965*St+Ol,Ja=.707106781*(lr=ut+_t),pt=Rt+Ja,Ns=Rt-Ja;we[Ve+5]=Ns+Bn,we[Ve+3]=Ns-Bn,we[Ve+1]=pt+As,we[Ve+7]=pt-As,Ve+=8}for(Ve=0,rt=0;rt<8;++rt){Ae=we[Ve],qe=we[Ve+8],De=we[Ve+16],Xe=we[Ve+24],ze=we[Ve+32],We=we[Ve+40],gt=we[Ve+48];var ks=Ae+(dt=we[Ve+56]),Yi=Ae-dt,Xi=qe+gt,Ir=qe-gt,_n=De+We,Pn=De-We,Pl=Xe+ze,_o=Xe-ze,_a=ks+Pl,Za=ks-Pl,Sa=Xi+_n,ja=Xi-_n;we[Ve]=_a+Sa,we[Ve+32]=_a-Sa;var Ji=.707106781*(ja+Za);we[Ve+16]=Za+Ji,we[Ve+48]=Za-Ji;var El=.382683433*((_a=_o+Pn)-(ja=Ir+Yi)),Qa=.5411961*_a+El,Cl=1.306562965*ja+El,au=.707106781*(Sa=Pn+Ir),su=Yi+au,ou=Yi-au;we[Ve+40]=ou+Qa,we[Ve+24]=ou-Qa,we[Ve+8]=su+Cl,we[Ve+56]=su-Cl,Ve++}for(rt=0;rt<64;++rt)ht=we[rt]*Pe[rt],h[rt]=ht>0?ht+.5|0:ht-.5|0;return h}(P,z),xe=0;xe<64;++xe)g[E[xe]]=pe[xe];var he=g[0]-V;V=g[0],he==0?H(re[0]):(H(re[p[ue=32767+he]]),H(f[ue]));for(var Te=63;Te>0&&g[Te]==0;)Te--;if(Te==0)return H(ve),V;for(var ae,Z=1;Z<=Te;){for(var Fe=Z;g[Z]==0&&Z<=Te;)++Z;var Oe=Z-Fe;if(Oe>=16){ae=Oe>>4;for(var Ie=1;Ie<=ae;++Ie)H(oe);Oe&=15}ue=32767+g[Z],H(ne[(Oe<<4)+p[ue]]),H(f[ue]),Z++}return Te!=63&&H(ve),V}function se(P){P=Math.min(Math.max(P,1),100),a!=P&&(function(z){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var ne=s((V[re]*z+50)/100);ne=Math.min(Math.max(ne,1),255),o[E[re]]=ne}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var oe=s((ue[ve]*z+50)/100);oe=Math.min(Math.max(oe,1),255),l[E[ve]]=oe}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,he=0;he<8;he++)for(var Te=0;Te<8;Te++)c[xe]=1/(o[E[xe]]*pe[he]*pe[Te]*8),u[xe]=1/(l[E[xe]]*pe[he]*pe[Te]*8),xe++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),a=P)}this.encode=function(P,z){z&&se(z),v=new Array,x=0,y=7,J(65496),J(65504),J(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),J(1),J(1),$(0),$(0),function(){J(65499),J(132),$(0);for(var qe=0;qe<64;qe++)$(o[qe]);$(1);for(var De=0;De<64;De++)$(l[De])}(),function(qe,De){J(65472),J(17),$(8),J(De),J(qe),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)}(P.width,P.height),function(){J(65476),J(418),$(0);for(var qe=0;qe<16;qe++)$(L[qe+1]);for(var De=0;De<=11;De++)$(I[De]);$(16);for(var Xe=0;Xe<16;Xe++)$(U[Xe+1]);for(var ze=0;ze<=161;ze++)$(O[ze]);$(1);for(var We=0;We<16;We++)$(T[We+1]);for(var gt=0;gt<=11;gt++)$(D[gt]);$(17);for(var dt=0;dt<16;dt++)$(F[dt+1]);for(var rt=0;rt<=161;rt++)$(B[rt])}(),J(65498),J(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var V=0,re=0,ne=0;x=0,y=7,this.encode.displayName="_encode_";for(var ue,ve,oe,pe,xe,he,Te,ae,Z,Fe=P.data,Oe=P.width,Ie=P.height,we=4*Oe,Pe=0;Pe<Ie;){for(ue=0;ue<we;){for(xe=we*Pe+ue,Te=-1,ae=0,Z=0;Z<64;Z++)he=xe+(ae=Z>>3)*we+(Te=4*(7&Z)),Pe+ae>=Ie&&(he-=we*(Pe+1+ae-Ie)),ue+Te>=we&&(he-=ue+Te-we+4),ve=Fe[he++],oe=Fe[he++],pe=Fe[he++],w[Z]=(k[ve]+k[oe+256|0]+k[pe+512|0]>>16)-128,_[Z]=(k[ve+768|0]+k[oe+1024|0]+k[pe+1280|0]>>16)-128,j[Z]=(k[ve+1280|0]+k[oe+1536|0]+k[pe+1792|0]>>16)-128;V=ie(w,c,V,e,n),re=ie(_,u,re,r,i),ne=ie(j,u,ne,r,i),ue+=32}Pe+=8}if(y>=0){var Ae=[];Ae[1]=y+1,Ae[0]=(1<<y+1)-1,H(Ae)}return J(65497),new Uint8Array(v)},t=t||50,function(){for(var P=String.fromCharCode,z=0;z<256;z++)S[z]=P(z)}(),e=K(L,I),r=K(T,D),n=K(U,O),i=K(F,B),function(){for(var P=1,z=2,V=1;V<=15;V++){for(var re=P;re<z;re++)p[32767+re]=V,f[32767+re]=[],f[32767+re][1]=V,f[32767+re][0]=re;for(var ne=-(z-1);ne<=-P;ne++)p[32767+ne]=V,f[32767+ne]=[],f[32767+ne][1]=V,f[32767+ne][0]=z-1+ne;P<<=1,z<<=1}}(),function(){for(var P=0;P<256;P++)k[P]=19595*P,k[P+256|0]=38470*P,k[P+512|0]=7471*P+32768,k[P+768|0]=-11059*P,k[P+1024|0]=-21709*P,k[P+1280|0]=32768*P+8421375,k[P+1536|0]=-27439*P,k[P+1792|0]=-5329*P}(),se(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ca(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function pE(t){function e(I){if(!I)throw Error("assert :P")}function r(I,U,O){for(var T=0;4>T;T++)if(I[U+T]!=O.charCodeAt(T))return!0;return!1}function n(I,U,O,T,D){for(var F=0;F<D;F++)I[U+F]=O[T+F]}function i(I,U,O,T){for(var D=0;D<T;D++)I[U+D]=O}function a(I){return new Int32Array(I)}function s(I,U){for(var O=[],T=0;T<I;T++)O.push(new U);return O}function o(I,U){var O=[];return function T(D,F,B){for(var K=B[F],H=0;H<K&&(D.push(B.length>F+1?[]:new U),!(B.length<F+1));H++)T(D[H],F+1,B)}(O,0,I),O}var l=function(){var I=this;function U(m,b){for(var N=1<<b-1>>>0;m&N;)N>>>=1;return N?(m&N-1)+N:m}function O(m,b,N,C,M){e(!(C%N));do m[b+(C-=N)]=M;while(0<C)}function T(m,b,N,C,M){if(e(2328>=M),512>=M)var q=a(512);else if((q=a(M))==null)return 0;return function(W,G,X,Q,de,be){var ee,fe,ge=G,_e=1<<X,ye=a(16),je=a(16);for(e(de!=0),e(Q!=null),e(W!=null),e(0<X),fe=0;fe<de;++fe){if(15<Q[fe])return 0;++ye[Q[fe]]}if(ye[0]==de)return 0;for(je[1]=0,ee=1;15>ee;++ee){if(ye[ee]>1<<ee)return 0;je[ee+1]=je[ee]+ye[ee]}for(fe=0;fe<de;++fe)ee=Q[fe],0<Q[fe]&&(be[je[ee]++]=fe);if(je[15]==1)return(Q=new D).g=0,Q.value=be[0],O(W,ge,1,_e,Q),_e;var ke,$e=-1,Ee=_e-1,ot=0,Ye=1,Tt=1,et=1<<X;for(fe=0,ee=1,de=2;ee<=X;++ee,de<<=1){if(Ye+=Tt<<=1,0>(Tt-=ye[ee]))return 0;for(;0<ye[ee];--ye[ee])(Q=new D).g=ee,Q.value=be[fe++],O(W,ge+ot,de,et,Q),ot=U(ot,ee)}for(ee=X+1,de=2;15>=ee;++ee,de<<=1){if(Ye+=Tt<<=1,0>(Tt-=ye[ee]))return 0;for(;0<ye[ee];--ye[ee]){if(Q=new D,(ot&Ee)!=$e){for(ge+=et,ke=1<<($e=ee)-X;15>$e&&!(0>=(ke-=ye[$e]));)++$e,ke<<=1;_e+=et=1<<(ke=$e-X),W[G+($e=ot&Ee)].g=ke+X,W[G+$e].value=ge-G-$e}Q.g=ee-X,Q.value=be[fe++],O(W,ge+(ot>>X),de,et,Q),ot=U(ot,ee)}}return Ye!=2*je[15]-1?0:_e}(m,b,N,C,M,q)}function D(){this.value=this.g=0}function F(){this.value=this.g=0}function B(){this.G=s(5,D),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Kl,F)}function K(m,b,N,C){e(m!=null),e(b!=null),e(2147483648>C),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=b,m.pa=N,m.Jd=b,m.Yc=N+C,m.Zc=4<=C?N+C-4+1:N,ve(m)}function H(m,b){for(var N=0;0<b--;)N|=pe(m,128)<<b;return N}function $(m,b){var N=H(m,b);return oe(m)?-N:N}function J(m,b,N,C){var M,q=0;for(e(m!=null),e(b!=null),e(4294967288>C),m.Sb=C,m.Ra=0,m.u=0,m.h=0,4<C&&(C=4),M=0;M<C;++M)q+=b[N+M]<<8*M;m.Ra=q,m.bb=C,m.oa=b,m.pa=N}function ie(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<ko-8>>>0,++m.bb,m.u-=8;re(m)&&(m.h=1,m.u=0)}function se(m,b){if(e(0<=b),!m.h&&b<=ji){var N=V(m)&Si[b];return m.u+=b,ie(m),N}return m.h=1,m.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(m){return m.Ra>>>(m.u&ko-1)>>>0}function re(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>ko}function ne(m,b){m.u=b,m.h=re(m)}function ue(m){m.u>=Is&&(e(m.u>=Is),ie(m))}function ve(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function oe(m){return H(m,1)}function pe(m,b){var N=m.Ca;0>m.b&&ve(m);var C=m.b,M=N*b>>>8,q=(m.I>>>C>M)+0;for(q?(N-=M,m.I-=M+1<<C>>>0):N=M+1,C=N,M=0;256<=C;)M+=8,C>>=8;return C=7^M+Oo[C],m.b-=C,m.Ca=(N<<C)-1,q}function xe(m,b,N){m[b+0]=N>>24&255,m[b+1]=N>>16&255,m[b+2]=N>>8&255,m[b+3]=255&N}function he(m,b){return m[b+0]|m[b+1]<<8}function Te(m,b){return he(m,b)|m[b+2]<<16}function ae(m,b){return he(m,b)|he(m,b+2)<<16}function Z(m,b){var N=1<<b;return e(m!=null),e(0<b),m.X=a(N),m.X==null?0:(m.Mb=32-b,m.Xa=b,1)}function Fe(m,b){e(m!=null),e(b!=null),e(m.Xa==b.Xa),n(b.X,0,m.X,0,1<<b.Xa)}function Oe(){this.X=[],this.Xa=this.Mb=0}function Ie(m,b,N,C){e(N!=null),e(C!=null);var M=N[0],q=C[0];return M==0&&(M=(m*q+b/2)/b),q==0&&(q=(b*M+m/2)/m),0>=M||0>=q?0:(N[0]=M,C[0]=q,1)}function we(m,b){return m+(1<<b)-1>>>b}function Pe(m,b){return((4278255360&m)+(4278255360&b)>>>0&4278255360)+((16711935&m)+(16711935&b)>>>0&16711935)>>>0}function Ae(m,b){I[b]=function(N,C,M,q,W,G,X){var Q;for(Q=0;Q<W;++Q){var de=I[m](G[X+Q-1],M,q+Q);G[X+Q]=Pe(N[C+Q],de)}}}function qe(){this.ud=this.hd=this.jd=0}function De(m,b){return((4278124286&(m^b))>>>1)+(m&b)>>>0}function Xe(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function ze(m,b){return Xe(m+(m-b+.5>>1))}function We(m,b,N){return Math.abs(b-N)-Math.abs(m-N)}function gt(m,b,N,C,M,q,W){for(C=q[W-1],N=0;N<M;++N)q[W+N]=C=Pe(m[b+N],C)}function dt(m,b,N,C,M){var q;for(q=0;q<N;++q){var W=m[b+q],G=W>>8&255,X=16711935&(X=(X=16711935&W)+((G<<16)+G));C[M+q]=(4278255360&W)+X>>>0}}function rt(m,b){b.jd=255&m,b.hd=m>>8&255,b.ud=m>>16&255}function ht(m,b,N,C,M,q){var W;for(W=0;W<C;++W){var G=b[N+W],X=G>>>8,Q=G,de=255&(de=(de=G>>>16)+((m.jd<<24>>24)*(X<<24>>24)>>>5));Q=255&(Q=(Q+=(m.hd<<24>>24)*(X<<24>>24)>>>5)+((m.ud<<24>>24)*(de<<24>>24)>>>5)),M[q+W]=(4278255360&G)+(de<<16)+Q}}function Ve(m,b,N,C,M){I[b]=function(q,W,G,X,Q,de,be,ee,fe){for(X=be;X<ee;++X)for(be=0;be<fe;++be)Q[de++]=M(G[C(q[W++])])},I[m]=function(q,W,G,X,Q,de,be){var ee=8>>q.b,fe=q.Ea,ge=q.K[0],_e=q.w;if(8>ee)for(q=(1<<q.b)-1,_e=(1<<ee)-1;W<G;++W){var ye,je=0;for(ye=0;ye<fe;++ye)ye&q||(je=C(X[Q++])),de[be++]=M(ge[je&_e]),je>>=ee}else I["VP8LMapColor"+N](X,Q,ge,_e,de,be,W,G,fe)}}function Bt(m,b,N,C,M){for(N=b+N;b<N;){var q=m[b++];C[M++]=q>>16&255,C[M++]=q>>8&255,C[M++]=255&q}}function Rt(m,b,N,C,M){for(N=b+N;b<N;){var q=m[b++];C[M++]=q>>16&255,C[M++]=q>>8&255,C[M++]=255&q,C[M++]=q>>24&255}}function nt(m,b,N,C,M){for(N=b+N;b<N;){var q=(W=m[b++])>>16&240|W>>12&15,W=240&W|W>>28&15;C[M++]=q,C[M++]=W}}function _t(m,b,N,C,M){for(N=b+N;b<N;){var q=(W=m[b++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;C[M++]=q,C[M++]=W}}function Yt(m,b,N,C,M){for(N=b+N;b<N;){var q=m[b++];C[M++]=255&q,C[M++]=q>>8&255,C[M++]=q>>16&255}}function ut(m,b,N,C,M,q){if(q==0)for(N=b+N;b<N;)xe(C,((q=m[b++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),M+=32;else n(C,M,m,b,N)}function Mt(m,b){I[b][0]=I[m+"0"],I[b][1]=I[m+"1"],I[b][2]=I[m+"2"],I[b][3]=I[m+"3"],I[b][4]=I[m+"4"],I[b][5]=I[m+"5"],I[b][6]=I[m+"6"],I[b][7]=I[m+"7"],I[b][8]=I[m+"8"],I[b][9]=I[m+"9"],I[b][10]=I[m+"10"],I[b][11]=I[m+"11"],I[b][12]=I[m+"12"],I[b][13]=I[m+"13"],I[b][14]=I[m+"0"],I[b][15]=I[m+"0"]}function Et(m){return m==U1||m==z1||m==Hm||m==q1}function Ur(){this.eb=[],this.size=this.A=this.fb=0}function ln(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function lr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ur,this.f.kb=new ln,this.sd=null}function St(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Zt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ol(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Bn(m,b){var N=m.T,C=b.ba.f.RGBA,M=C.eb,q=C.fb+m.ka*C.A,W=na[b.ba.S],G=m.y,X=m.O,Q=m.f,de=m.N,be=m.ea,ee=m.W,fe=b.cc,ge=b.dc,_e=b.Mc,ye=b.Nc,je=m.ka,ke=m.ka+m.T,$e=m.U,Ee=$e+1>>1;for(je==0?W(G,X,null,null,Q,de,be,ee,Q,de,be,ee,M,q,null,null,$e):(W(b.ec,b.fc,G,X,fe,ge,_e,ye,Q,de,be,ee,M,q-C.A,M,q,$e),++N);je+2<ke;je+=2)fe=Q,ge=de,_e=be,ye=ee,de+=m.Rc,ee+=m.Rc,q+=2*C.A,W(G,(X+=2*m.fa)-m.fa,G,X,fe,ge,_e,ye,Q,de,be,ee,M,q-C.A,M,q,$e);return X+=m.fa,m.j+ke<m.o?(n(b.ec,b.fc,G,X,$e),n(b.cc,b.dc,Q,de,Ee),n(b.Mc,b.Nc,be,ee,Ee),N--):1&ke||W(G,X,null,null,Q,de,be,ee,Q,de,be,ee,M,q+C.A,null,null,$e),N}function As(m,b,N){var C=m.F,M=[m.J];if(C!=null){var q=m.U,W=b.ba.S,G=W==Wm||W==Hm;b=b.ba.f.RGBA;var X=[0],Q=m.ka;X[0]=m.T,m.Kb&&(Q==0?--X[0]:(--Q,M[0]-=m.width),m.j+m.ka+m.T==m.o&&(X[0]=m.o-m.j-Q));var de=b.eb;Q=b.fb+Q*b.A,m=fj(C,M[0],m.width,q,X,de,Q+(G?0:3),b.A),e(N==X),m&&Et(W)&&Gf(de,Q,G,q,X,b.A)}return 0}function Ja(m){var b=m.ma,N=b.ba.S,C=11>N,M=N==zm||N==qm||N==Wm||N==F1||N==12||Et(N);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Bf(b.Oa,m,M?11:12))return 0;if(M&&Et(N)&&Rm(),m.da)alert("todo:use_scaling");else{if(C){if(b.Ib=Ol,m.Kb){if(N=m.U+1>>1,b.memory=a(m.U+2*N),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+m.U,b.Mc=b.cc,b.Nc=b.dc+N,b.Ib=Bn,Rm()}}else alert("todo:EmitYUV");M&&(b.Jb=As,C&&Qi())}if(C&&!Oj){for(m=0;256>m;++m)QR[m]=89858*(m-128)+Gm>>Vm,r7[m]=-22014*(m-128)+Gm,t7[m]=-45773*(m-128),e7[m]=113618*(m-128)+Gm>>Vm;for(m=Yf;m<V1;++m)b=76283*(m-16)+Gm>>Vm,n7[m-Yf]=$r(b,255),i7[m-Yf]=$r(b+8>>4,15);Oj=1}return 1}function pt(m){var b=m.ma,N=m.U,C=m.T;return e(!(1&m.ka)),0>=N||0>=C?0:(N=b.Ib(m,b),b.Jb!=null&&b.Jb(m,b,N),b.Dc+=N,1)}function Ns(m){m.ma.memory=null}function ks(m,b,N,C){return se(m,8)!=47?0:(b[0]=se(m,14)+1,N[0]=se(m,14)+1,C[0]=se(m,1),se(m,3)!=0?0:!m.h)}function Yi(m,b){if(4>m)return m+1;var N=m-2>>1;return(2+(1&m)<<N)+se(b,N)+1}function Xi(m,b){return 120<b?b-120:1<=(N=((N=BR[b-1])>>4)*m+(8-(15&N)))?N:1;var N}function Ir(m,b,N){var C=V(N),M=m[b+=255&C].g-8;return 0<M&&(ne(N,N.u+8),C=V(N),b+=m[b].value,b+=C&(1<<M)-1),ne(N,N.u+m[b].g),m[b].value}function _n(m,b,N){return N.g+=m.g,N.value+=m.value<<b>>>0,e(8>=N.g),m.g}function Pn(m,b,N){var C=m.xc;return e((b=C==0?0:m.vc[m.md*(N>>C)+(b>>C)])<m.Wb),m.Ya[b]}function Pl(m,b,N,C){var M=m.ab,q=m.c*b,W=m.C;b=W+b;var G=N,X=C;for(C=m.Ta,N=m.Ua;0<M--;){var Q=m.gc[M],de=W,be=b,ee=G,fe=X,ge=(X=C,G=N,Q.Ea);switch(e(de<be),e(be<=Q.nc),Q.hc){case 2:qr(ee,fe,(be-de)*ge,X,G);break;case 0:var _e=de,ye=be,je=X,ke=G,$e=(et=Q).Ea;_e==0&&(Uf(ee,fe,null,null,1,je,ke),gt(ee,fe+1,0,0,$e-1,je,ke+1),fe+=$e,ke+=$e,++_e);for(var Ee=1<<et.b,ot=Ee-1,Ye=we($e,et.b),Tt=et.K,et=et.w+(_e>>et.b)*Ye;_e<ye;){var Ft=Tt,dn=et,Lt=1;for(mu(ee,fe,je,ke-$e,1,je,ke);Lt<$e;){var tt=(Lt&~ot)+Ee;tt>$e&&(tt=$e),(0,qf[Ft[dn++]>>8&15])(ee,fe+ +Lt,je,ke+Lt-$e,tt-Lt,je,ke+Lt),Lt=tt}fe+=$e,ke+=$e,++_e&ot||(et+=Ye)}be!=Q.nc&&n(X,G-ge,X,G+(be-de-1)*ge,ge);break;case 1:for(ge=ee,ye=fe,$e=(ee=Q.Ea)-(ke=ee&~(je=(fe=1<<Q.b)-1)),_e=we(ee,Q.b),Ee=Q.K,Q=Q.w+(de>>Q.b)*_e;de<be;){for(ot=Ee,Ye=Q,Tt=new qe,et=ye+ke,Ft=ye+ee;ye<et;)rt(ot[Ye++],Tt),Wf(Tt,ge,ye,fe,X,G),ye+=fe,G+=fe;ye<Ft&&(rt(ot[Ye++],Tt),Wf(Tt,ge,ye,$e,X,G),ye+=$e,G+=$e),++de&je||(Q+=_e)}break;case 3:if(ee==X&&fe==G&&0<Q.b){for(ye=X,ee=ge=G+(be-de)*ge-(ke=(be-de)*we(Q.Ea,Q.b)),fe=X,je=G,_e=[],ke=($e=ke)-1;0<=ke;--ke)_e[ke]=fe[je+ke];for(ke=$e-1;0<=ke;--ke)ye[ee+ke]=_e[ke];Dm(Q,de,be,X,ge,X,G)}else Dm(Q,de,be,ee,fe,X,G)}G=C,X=N}X!=N&&n(C,N,G,X,q)}function _o(m,b){var N=m.V,C=m.Ba+m.c*m.C,M=b-m.C;if(e(b<=m.l.o),e(16>=M),0<M){var q=m.l,W=m.Ta,G=m.Ua,X=q.width;if(Pl(m,M,N,C),M=G=[G],e((N=m.C)<(C=b)),e(q.v<q.va),C>q.o&&(C=q.o),N<q.j){var Q=q.j-N;N=q.j,M[0]+=Q*X}if(N>=C?N=0:(M[0]+=4*q.v,q.ka=N-q.j,q.U=q.va-q.v,q.T=C-N,N=1),N){if(G=G[0],11>(N=m.ca).S){var de=N.f.RGBA,be=(C=N.S,M=q.U,q=q.T,Q=de.eb,de.A),ee=q;for(de=de.fb+m.Ma*de.A;0<ee--;){var fe=W,ge=G,_e=M,ye=Q,je=de;switch(C){case Um:Hf(fe,ge,_e,ye,je);break;case zm:Po(fe,ge,_e,ye,je);break;case U1:Po(fe,ge,_e,ye,je),Gf(ye,je,0,_e,1,0);break;case bj:Yl(fe,ge,_e,ye,je);break;case qm:ut(fe,ge,_e,ye,je,1);break;case z1:ut(fe,ge,_e,ye,je,1),Gf(ye,je,0,_e,1,0);break;case Wm:ut(fe,ge,_e,ye,je,0);break;case Hm:ut(fe,ge,_e,ye,je,0),Gf(ye,je,1,_e,1,0);break;case F1:Eo(fe,ge,_e,ye,je);break;case q1:Eo(fe,ge,_e,ye,je),dj(ye,je,_e,1,0);break;case xj:Co(fe,ge,_e,ye,je);break;default:e(0)}G+=X,de+=be}m.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=N.height)}}m.C=b,e(m.C<=m.i)}function _a(m){var b;if(0<m.ua)return 0;for(b=0;b<m.Wb;++b){var N=m.Ya[b].G,C=m.Ya[b].H;if(0<N[1][C[1]+0].g||0<N[2][C[2]+0].g||0<N[3][C[3]+0].g)return 0}return 1}function Za(m,b,N,C,M,q){if(m.Z!=0){var W=m.qd,G=m.rd;for(e(Io[m.Z]!=null);b<N;++b)Io[m.Z](W,G,C,M,C,M,q),W=C,G=M,M+=q;m.qd=W,m.rd=G}}function Sa(m,b){var N=m.l.ma,C=N.Z==0||N.Z==1?m.l.j:m.C;if(C=m.C<C?C:m.C,e(b<=m.l.o),b>C){var M=m.l.width,q=N.ca,W=N.tb+M*C,G=m.V,X=m.Ba+m.c*C,Q=m.gc;e(m.ab==1),e(Q[0].hc==3),rs(Q[0],C,b,G,X,q,W),Za(N,C,b,q,W,M)}m.C=m.Ma=b}function ja(m,b,N,C,M,q,W){var G=m.$/C,X=m.$%C,Q=m.m,de=m.s,be=N+m.$,ee=be;M=N+C*M;var fe=N+C*q,ge=280+de.ua,_e=m.Pb?G:16777216,ye=0<de.ua?de.Wa:null,je=de.wc,ke=be<fe?Pn(de,X,G):null;e(m.C<q),e(fe<=M);var $e=!1;e:for(;;){for(;$e||be<fe;){var Ee=0;if(G>=_e){var ot=be-N;e((_e=m).Pb),_e.wd=_e.m,_e.xd=ot,0<_e.s.ua&&Fe(_e.s.Wa,_e.s.vb),_e=G+UR}if(X&je||(ke=Pn(de,X,G)),e(ke!=null),ke.Qb&&(b[be]=ke.qb,$e=!0),!$e)if(ue(Q),ke.jc){Ee=Q,ot=b;var Ye=be,Tt=ke.pd[V(Ee)&Kl-1];e(ke.jc),256>Tt.g?(ne(Ee,Ee.u+Tt.g),ot[Ye]=Tt.value,Ee=0):(ne(Ee,Ee.u+Tt.g-256),e(256<=Tt.value),Ee=Tt.value),Ee==0&&($e=!0)}else Ee=Ir(ke.G[0],ke.H[0],Q);if(Q.h)break;if($e||256>Ee){if(!$e)if(ke.nd)b[be]=(ke.qb|Ee<<8)>>>0;else{if(ue(Q),$e=Ir(ke.G[1],ke.H[1],Q),ue(Q),ot=Ir(ke.G[2],ke.H[2],Q),Ye=Ir(ke.G[3],ke.H[3],Q),Q.h)break;b[be]=(Ye<<24|$e<<16|Ee<<8|ot)>>>0}if($e=!1,++be,++X>=C&&(X=0,++G,W!=null&&G<=q&&!(G%16)&&W(m,G),ye!=null))for(;ee<be;)Ee=b[ee++],ye.X[(506832829*Ee&4294967295)>>>ye.Mb]=Ee}else if(280>Ee){if(Ee=Yi(Ee-256,Q),ot=Ir(ke.G[4],ke.H[4],Q),ue(Q),ot=Xi(C,ot=Yi(ot,Q)),Q.h)break;if(be-N<ot||M-be<Ee)break e;for(Ye=0;Ye<Ee;++Ye)b[be+Ye]=b[be+Ye-ot];for(be+=Ee,X+=Ee;X>=C;)X-=C,++G,W!=null&&G<=q&&!(G%16)&&W(m,G);if(e(be<=M),X&je&&(ke=Pn(de,X,G)),ye!=null)for(;ee<be;)Ee=b[ee++],ye.X[(506832829*Ee&4294967295)>>>ye.Mb]=Ee}else{if(!(Ee<ge))break e;for($e=Ee-280,e(ye!=null);ee<be;)Ee=b[ee++],ye.X[(506832829*Ee&4294967295)>>>ye.Mb]=Ee;Ee=be,e(!($e>>>(ot=ye).Xa)),b[Ee]=ot.X[$e],$e=!0}$e||e(Q.h==re(Q))}if(m.Pb&&Q.h&&be<M)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Fe(m.s.vb,m.s.Wa);else{if(Q.h)break e;W!=null&&W(m,G>q?q:G),m.a=0,m.$=be-N}return 1}return m.a=3,0}function Ji(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var b=m.Wa;b!=null&&(b.X=null),m.vb=null,e(m!=null)}function El(){var m=new st;return m==null?null:(m.a=0,m.xb=Sj,Mt("Predictor","VP8LPredictors"),Mt("Predictor","VP8LPredictors_C"),Mt("PredictorAdd","VP8LPredictorsAdd"),Mt("PredictorAdd","VP8LPredictorsAdd_C"),qr=dt,Wf=ht,Hf=Bt,Po=Rt,Eo=nt,Co=_t,Yl=Yt,I.VP8LMapColor32b=ts,I.VP8LMapColor8b=zf,m)}function Qa(m,b,N,C,M){var q=1,W=[m],G=[b],X=C.m,Q=C.s,de=null,be=0;e:for(;;){if(N)for(;q&&se(X,1);){var ee=W,fe=G,ge=C,_e=1,ye=ge.m,je=ge.gc[ge.ab],ke=se(ye,2);if(ge.Oc&1<<ke)q=0;else{switch(ge.Oc|=1<<ke,je.hc=ke,je.Ea=ee[0],je.nc=fe[0],je.K=[null],++ge.ab,e(4>=ge.ab),ke){case 0:case 1:je.b=se(ye,3)+2,_e=Qa(we(je.Ea,je.b),we(je.nc,je.b),0,ge,je.K),je.K=je.K[0];break;case 3:var $e,Ee=se(ye,8)+1,ot=16<Ee?0:4<Ee?1:2<Ee?2:3;if(ee[0]=we(je.Ea,ot),je.b=ot,$e=_e=Qa(Ee,1,0,ge,je.K)){var Ye,Tt=Ee,et=je,Ft=1<<(8>>et.b),dn=a(Ft);if(dn==null)$e=0;else{var Lt=et.K[0],tt=et.w;for(dn[0]=et.K[0][0],Ye=1;Ye<1*Tt;++Ye)dn[Ye]=Pe(Lt[tt+Ye],dn[Ye-1]);for(;Ye<4*Ft;++Ye)dn[Ye]=0;et.K[0]=null,et.K[0]=dn,$e=1}}_e=$e;break;case 2:break;default:e(0)}q=_e}}if(W=W[0],G=G[0],q&&se(X,1)&&!(q=1<=(be=se(X,4))&&11>=be)){C.a=3;break e}var Ue;if(Ue=q)t:{var Hr,Ct,zt,xr=C,Cn=W,Qn=G,Rr=be,Un=N,ei=xr.m,fn=xr.s,qt=[null],tr=1,Mr=0,rr=FR[Rr];r:for(;;){if(Un&&se(ei,1)){var Tn=se(ei,3)+2,ka=we(Cn,Tn),Vr=we(Qn,Tn),fi=ka*Vr;if(!Qa(ka,Vr,0,xr,qt))break r;for(qt=qt[0],fn.xc=Tn,Hr=0;Hr<fi;++Hr){var ur=qt[Hr]>>8&65535;qt[Hr]=ur,ur>=tr&&(tr=ur+1)}}if(ei.h)break r;for(Ct=0;5>Ct;++Ct){var hn=wj[Ct];!Ct&&0<Rr&&(hn+=1<<Rr),Mr<hn&&(Mr=hn)}var Ni=s(tr*rr,D),ti=tr,ki=s(ti,B);if(ki==null)var Oi=null;else e(65536>=ti),Oi=ki;var hi=a(Mr);if(Oi==null||hi==null||Ni==null){xr.a=1;break r}var Pi=Ni;for(Hr=zt=0;Hr<tr;++Hr){var pr=Oi[Hr],Ei=pr.G,Oa=pr.H,Jl=0,Ms=1,Ln=0;for(Ct=0;5>Ct;++Ct){hn=wj[Ct],Ei[Ct]=Pi,Oa[Ct]=zt,!Ct&&0<Rr&&(hn+=1<<Rr);i:{var Ym,G1=hn,Xm=xr,Xf=hi,o7=Pi,l7=zt,K1=0,$o=Xm.m,c7=se($o,1);if(i(Xf,0,0,G1),c7){var u7=se($o,1)+1,d7=se($o,1),Cj=se($o,d7==0?1:8);Xf[Cj]=1,u7==2&&(Xf[Cj=se($o,8)]=1);var Jm=1}else{var Tj=a(19),Lj=se($o,4)+4;if(19<Lj){Xm.a=3;var Zm=0;break i}for(Ym=0;Ym<Lj;++Ym)Tj[DR[Ym]]=se($o,3);var Y1=void 0,Jf=void 0,Ij=Xm,f7=Tj,Qm=G1,$j=Xf,X1=0,Ro=Ij.m,Rj=8,Mj=s(128,D);n:for(;T(Mj,0,7,f7,19);){if(se(Ro,1)){var h7=2+2*se(Ro,3);if((Y1=2+se(Ro,h7))>Qm)break n}else Y1=Qm;for(Jf=0;Jf<Qm&&Y1--;){ue(Ro);var Dj=Mj[0+(127&V(Ro))];ne(Ro,Ro.u+Dj.g);var vu=Dj.value;if(16>vu)$j[Jf++]=vu,vu!=0&&(Rj=vu);else{var p7=vu==16,Bj=vu-16,m7=RR[Bj],Fj=se(Ro,$R[Bj])+m7;if(Jf+Fj>Qm)break n;for(var g7=p7?Rj:0;0<Fj--;)$j[Jf++]=g7}}X1=1;break n}X1||(Ij.a=3),Jm=X1}(Jm=Jm&&!$o.h)&&(K1=T(o7,l7,8,Xf,G1)),Jm&&K1!=0?Zm=K1:(Xm.a=3,Zm=0)}if(Zm==0)break r;if(Ms&&MR[Ct]==1&&(Ms=Pi[zt].g==0),Jl+=Pi[zt].g,zt+=Zm,3>=Ct){var Zf,J1=hi[0];for(Zf=1;Zf<hn;++Zf)hi[Zf]>J1&&(J1=hi[Zf]);Ln+=J1}}if(pr.nd=Ms,pr.Qb=0,Ms&&(pr.qb=(Ei[3][Oa[3]+0].value<<24|Ei[1][Oa[1]+0].value<<16|Ei[2][Oa[2]+0].value)>>>0,Jl==0&&256>Ei[0][Oa[0]+0].value&&(pr.Qb=1,pr.qb+=Ei[0][Oa[0]+0].value<<8)),pr.jc=!pr.Qb&&6>Ln,pr.jc){var eg,Ds=pr;for(eg=0;eg<Kl;++eg){var Mo=eg,Do=Ds.pd[Mo],tg=Ds.G[0][Ds.H[0]+Mo];256<=tg.value?(Do.g=tg.g+256,Do.value=tg.value):(Do.g=0,Do.value=0,Mo>>=_n(tg,8,Do),Mo>>=_n(Ds.G[1][Ds.H[1]+Mo],16,Do),Mo>>=_n(Ds.G[2][Ds.H[2]+Mo],0,Do),_n(Ds.G[3][Ds.H[3]+Mo],24,Do))}}}fn.vc=qt,fn.Wb=tr,fn.Ya=Oi,fn.yc=Ni,Ue=1;break t}Ue=0}if(!(q=Ue)){C.a=3;break e}if(0<be){if(Q.ua=1<<be,!Z(Q.Wa,be)){C.a=1,q=0;break e}}else Q.ua=0;var Z1=C,Uj=W,v7=G,Q1=Z1.s,eb=Q1.xc;if(Z1.c=Uj,Z1.i=v7,Q1.md=we(Uj,eb),Q1.wc=eb==0?-1:(1<<eb)-1,N){C.xb=KR;break e}if((de=a(W*G))==null){C.a=1,q=0;break e}q=(q=ja(C,de,0,W,G,G,null))&&!X.h;break e}return q?(M!=null?M[0]=de:(e(de==null),e(N)),C.$=0,N||Ji(Q)):Ji(Q),q}function Cl(m,b){var N=m.c*m.i,C=N+b+16*b;return e(m.c<=b),m.V=a(C),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+N+b,1)}function au(m,b){var N=m.C,C=b-N,M=m.V,q=m.Ba+m.c*N;for(e(b<=m.l.o);0<C;){var W=16<C?16:C,G=m.l.ma,X=m.l.width,Q=X*W,de=G.ca,be=G.tb+X*N,ee=m.Ta,fe=m.Ua;Pl(m,W,M,q),hj(ee,fe,de,be,Q),Za(G,N,N+W,de,be,X),C-=W,M+=W*m.c,N+=W}e(N==b),m.C=m.Ma=b}function su(){this.ub=this.yd=this.td=this.Rb=0}function ou(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function S1(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Af(){this.Yb=function(){var m=[];return function b(N,C,M){for(var q=M[C],W=0;W<q&&(N.push(M.length>C+1?[]:0),!(M.length<C+1));W++)b(N[W],C+1,M)}(m,0,[3,11]),m}()}function wm(){this.jb=a(3),this.Wc=o([4,8],Af),this.Xc=o([4,17],Af)}function _m(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Zi(){this.ld=this.La=this.dd=this.tc=0}function Nf(){this.Na=this.la=0}function Sm(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function kf(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function jm(){this.uc=this.M=this.Nb=0,this.wa=Array(new Zi),this.Y=0,this.ya=Array(new kf),this.aa=0,this.l=new lu}function Am(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Nm(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new su,this.Kc=new ou,this.ed=new _m,this.Qa=new S1,this.Ic=this.$c=this.Aa=0,this.D=new jm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,P),this.ia=0,this.pb=s(4,Sm),this.Pa=new wm,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Am),this.Hd=0,this.rb=Array(new Nf),this.sb=0,this.wa=Array(new Zi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new kf),this.L=this.aa=0,this.gd=o([4,2],Zi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function lu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function j1(){var m=new Nm;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Kf||(Kf=Os)),m}function Zr(m,b,N){return m.a==0&&(m.a=b,m.sc=N,m.cb=0),0}function km(m,b,N){return 3<=N&&m[b+0]==157&&m[b+1]==1&&m[b+2]==42}function Om(m,b){if(m==null)return 0;if(m.a=0,m.sc="OK",b==null)return Zr(m,2,"null VP8Io passed to VP8GetHeaders()");var N=b.data,C=b.w,M=b.ha;if(4>M)return Zr(m,7,"Truncated header.");var q=N[C+0]|N[C+1]<<8|N[C+2]<<16,W=m.Od;if(W.Rb=!(1&q),W.td=q>>1&7,W.yd=q>>4&1,W.ub=q>>5,3<W.td)return Zr(m,3,"Incorrect keyframe parameters.");if(!W.yd)return Zr(m,4,"Frame not displayable.");C+=3,M-=3;var G=m.Kc;if(W.Rb){if(7>M)return Zr(m,7,"cannot parse picture header");if(!km(N,C,M))return Zr(m,3,"Bad code word");G.c=16383&(N[C+4]<<8|N[C+3]),G.Td=N[C+4]>>6,G.i=16383&(N[C+6]<<8|N[C+5]),G.Ud=N[C+6]>>6,C+=7,M-=7,m.za=G.c+15>>4,m.Ub=G.i+15>>4,b.width=G.c,b.height=G.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,i((q=m.Pa).jb,0,255,q.jb.length),e((q=m.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,i(q.Zb,0,0,q.Zb.length),i(q.Lb,0,0,q.Lb)}if(W.ub>M)return Zr(m,7,"bad partition length");K(q=m.m,N,C,W.ub),C+=W.ub,M-=W.ub,W.Rb&&(G.Ld=oe(q),G.Kd=oe(q)),G=m.Qa;var X,Q=m.Pa;if(e(q!=null),e(G!=null),G.Cb=oe(q),G.Cb){if(G.Bb=oe(q),oe(q)){for(G.Fb=oe(q),X=0;4>X;++X)G.Zb[X]=oe(q)?$(q,7):0;for(X=0;4>X;++X)G.Lb[X]=oe(q)?$(q,6):0}if(G.Bb)for(X=0;3>X;++X)Q.jb[X]=oe(q)?H(q,8):255}else G.Bb=0;if(q.Ka)return Zr(m,3,"cannot parse segment header");if((G=m.ed).zd=oe(q),G.Tb=H(q,6),G.wb=H(q,3),G.Pc=oe(q),G.Pc&&oe(q)){for(Q=0;4>Q;++Q)oe(q)&&(G.vd[Q]=$(q,6));for(Q=0;4>Q;++Q)oe(q)&&(G.od[Q]=$(q,6))}if(m.L=G.Tb==0?0:G.zd?1:2,q.Ka)return Zr(m,3,"cannot parse filter header");var de=M;if(M=X=C,C=X+de,G=de,m.Xb=(1<<H(m.m,2))-1,de<3*(Q=m.Xb))N=7;else{for(X+=3*Q,G-=3*Q,de=0;de<Q;++de){var be=N[M+0]|N[M+1]<<8|N[M+2]<<16;be>G&&(be=G),K(m.Jc[+de],N,X,be),X+=be,G-=be,M+=3}K(m.Jc[+Q],N,X,G),N=X<C?0:5}if(N!=0)return Zr(m,N,"cannot parse partitions");for(N=H(X=m.m,7),M=oe(X)?$(X,4):0,C=oe(X)?$(X,4):0,G=oe(X)?$(X,4):0,Q=oe(X)?$(X,4):0,X=oe(X)?$(X,4):0,de=m.Qa,be=0;4>be;++be){if(de.Cb){var ee=de.Zb[be];de.Fb||(ee+=N)}else{if(0<be){m.pb[be]=m.pb[0];continue}ee=N}var fe=m.pb[be];fe.Sc[0]=W1[$r(ee+M,127)],fe.Sc[1]=H1[$r(ee+0,127)],fe.Eb[0]=2*W1[$r(ee+C,127)],fe.Eb[1]=101581*H1[$r(ee+G,127)]>>16,8>fe.Eb[1]&&(fe.Eb[1]=8),fe.Qc[0]=W1[$r(ee+Q,117)],fe.Qc[1]=H1[$r(ee+X,127)],fe.lc=ee+X}if(!W.Rb)return Zr(m,4,"Not a key frame.");for(oe(q),W=m.Pa,N=0;4>N;++N){for(M=0;8>M;++M)for(C=0;3>C;++C)for(G=0;11>G;++G)Q=pe(q,VR[N][M][C][G])?H(q,8):WR[N][M][C][G],W.Wc[N][M].Yb[C][G]=Q;for(M=0;17>M;++M)W.Xc[N][M]=W.Wc[N][GR[M]]}return m.kc=oe(q),m.kc&&(m.Bd=H(q,8)),m.cb=1}function Os(m,b,N,C,M,q,W){var G=b[M].Yb[N];for(N=0;16>M;++M){if(!pe(m,G[N+0]))return M;for(;!pe(m,G[N+1]);)if(G=b[++M].Yb[0],N=0,M==16)return 16;var X=b[M+1].Yb;if(pe(m,G[N+2])){var Q=m,de=0;if(pe(Q,(ee=G)[(be=N)+3]))if(pe(Q,ee[be+6])){for(G=0,be=2*(de=pe(Q,ee[be+8]))+(ee=pe(Q,ee[be+9+de])),de=0,ee=zR[be];ee[G];++G)de+=de+pe(Q,ee[G]);de+=3+(8<<be)}else pe(Q,ee[be+7])?(de=7+2*pe(Q,165),de+=pe(Q,145)):de=5+pe(Q,159);else de=pe(Q,ee[be+4])?3+pe(Q,ee[be+5]):2;G=X[2]}else de=1,G=X[1];X=W+qR[M],0>(Q=m).b&&ve(Q);var be,ee=Q.b,fe=(be=Q.Ca>>1)-(Q.I>>ee)>>31;--Q.b,Q.Ca+=fe,Q.Ca|=1,Q.I-=(be+1&fe)<<ee,q[X]=((de^fe)-fe)*C[(0<M)+0]}return 16}function Tl(m){var b=m.rb[m.sb-1];b.la=0,b.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function Aa(m,b,N,C,M){M=m[b+N+32*C]+(M>>3),m[b+N+32*C]=-256&M?0>M?0:255:M}function Ll(m,b,N,C,M,q){Aa(m,b,0,N,C+M),Aa(m,b,1,N,C+q),Aa(m,b,2,N,C-q),Aa(m,b,3,N,C-M)}function zr(m){return(20091*m>>16)+m}function Of(m,b,N,C){var M,q=0,W=a(16);for(M=0;4>M;++M){var G=m[b+0]+m[b+8],X=m[b+0]-m[b+8],Q=(35468*m[b+4]>>16)-zr(m[b+12]),de=zr(m[b+4])+(35468*m[b+12]>>16);W[q+0]=G+de,W[q+1]=X+Q,W[q+2]=X-Q,W[q+3]=G-de,q+=4,b++}for(M=q=0;4>M;++M)G=(m=W[q+0]+4)+W[q+8],X=m-W[q+8],Q=(35468*W[q+4]>>16)-zr(W[q+12]),Aa(N,C,0,0,G+(de=zr(W[q+4])+(35468*W[q+12]>>16))),Aa(N,C,1,0,X+Q),Aa(N,C,2,0,X-Q),Aa(N,C,3,0,G-de),q++,C+=32}function A1(m,b,N,C){var M=m[b+0]+4,q=35468*m[b+4]>>16,W=zr(m[b+4]),G=35468*m[b+1]>>16;Ll(N,C,0,M+W,m=zr(m[b+1]),G),Ll(N,C,1,M+q,m,G),Ll(N,C,2,M-q,m,G),Ll(N,C,3,M-W,m,G)}function N1(m,b,N,C,M){Of(m,b,N,C),M&&Of(m,b+16,N,C+4)}function k1(m,b,N,C){Xl(m,b+0,N,C,1),Xl(m,b+32,N,C+128,1)}function es(m,b,N,C){var M;for(m=m[b+0]+4,M=0;4>M;++M)for(b=0;4>b;++b)Aa(N,C,b,M,m)}function Pm(m,b,N,C){m[b+0]&&Qt(m,b+0,N,C),m[b+16]&&Qt(m,b+16,N,C+4),m[b+32]&&Qt(m,b+32,N,C+128),m[b+48]&&Qt(m,b+48,N,C+128+4)}function Em(m,b,N,C){var M,q=a(16);for(M=0;4>M;++M){var W=m[b+0+M]+m[b+12+M],G=m[b+4+M]+m[b+8+M],X=m[b+4+M]-m[b+8+M],Q=m[b+0+M]-m[b+12+M];q[0+M]=W+G,q[8+M]=W-G,q[4+M]=Q+X,q[12+M]=Q-X}for(M=0;4>M;++M)W=(m=q[0+4*M]+3)+q[3+4*M],G=q[1+4*M]+q[2+4*M],X=q[1+4*M]-q[2+4*M],Q=m-q[3+4*M],N[C+0]=W+G>>3,N[C+16]=Q+X>>3,N[C+32]=W-G>>3,N[C+48]=Q-X>>3,C+=64}function So(m,b,N){var C,M=b-32,q=Ai,W=255-m[M-1];for(C=0;C<N;++C){var G,X=q,Q=W+m[b-1];for(G=0;G<N;++G)m[b+G]=X[Q+m[M+G]];b+=32}}function Pf(m,b){So(m,b,4)}function O1(m,b){So(m,b,8)}function P1(m,b){So(m,b,16)}function E1(m,b){var N;for(N=0;16>N;++N)n(m,b+32*N,m,b-32,16)}function Ef(m,b){var N;for(N=16;0<N;--N)i(m,b,m[b-1],16),b+=32}function Il(m,b,N){var C;for(C=0;16>C;++C)i(b,N+32*C,m,16)}function jo(m,b){var N,C=16;for(N=0;16>N;++N)C+=m[b-1+32*N]+m[b+N-32];Il(C>>5,m,b)}function C1(m,b){var N,C=8;for(N=0;16>N;++N)C+=m[b-1+32*N];Il(C>>4,m,b)}function $l(m,b){var N,C=8;for(N=0;16>N;++N)C+=m[b+N-32];Il(C>>4,m,b)}function Cf(m,b){Il(128,m,b)}function jt(m,b,N){return m+2*b+N+2>>2}function T1(m,b){var N,C=b-32;for(C=new Uint8Array([jt(m[C-1],m[C+0],m[C+1]),jt(m[C+0],m[C+1],m[C+2]),jt(m[C+1],m[C+2],m[C+3]),jt(m[C+2],m[C+3],m[C+4])]),N=0;4>N;++N)n(m,b+32*N,C,0,C.length)}function L1(m,b){var N=m[b-1],C=m[b-1+32],M=m[b-1+64],q=m[b-1+96];xe(m,b+0,16843009*jt(m[b-1-32],N,C)),xe(m,b+32,16843009*jt(N,C,M)),xe(m,b+64,16843009*jt(C,M,q)),xe(m,b+96,16843009*jt(M,q,q))}function I1(m,b){var N,C=4;for(N=0;4>N;++N)C+=m[b+N-32]+m[b-1+32*N];for(C>>=3,N=0;4>N;++N)i(m,b+32*N,C,4)}function $1(m,b){var N=m[b-1+0],C=m[b-1+32],M=m[b-1+64],q=m[b-1-32],W=m[b+0-32],G=m[b+1-32],X=m[b+2-32],Q=m[b+3-32];m[b+0+96]=jt(C,M,m[b-1+96]),m[b+1+96]=m[b+0+64]=jt(N,C,M),m[b+2+96]=m[b+1+64]=m[b+0+32]=jt(q,N,C),m[b+3+96]=m[b+2+64]=m[b+1+32]=m[b+0+0]=jt(W,q,N),m[b+3+64]=m[b+2+32]=m[b+1+0]=jt(G,W,q),m[b+3+32]=m[b+2+0]=jt(X,G,W),m[b+3+0]=jt(Q,X,G)}function Ps(m,b){var N=m[b+1-32],C=m[b+2-32],M=m[b+3-32],q=m[b+4-32],W=m[b+5-32],G=m[b+6-32],X=m[b+7-32];m[b+0+0]=jt(m[b+0-32],N,C),m[b+1+0]=m[b+0+32]=jt(N,C,M),m[b+2+0]=m[b+1+32]=m[b+0+64]=jt(C,M,q),m[b+3+0]=m[b+2+32]=m[b+1+64]=m[b+0+96]=jt(M,q,W),m[b+3+32]=m[b+2+64]=m[b+1+96]=jt(q,W,G),m[b+3+64]=m[b+2+96]=jt(W,G,X),m[b+3+96]=jt(G,X,X)}function Es(m,b){var N=m[b-1+0],C=m[b-1+32],M=m[b-1+64],q=m[b-1-32],W=m[b+0-32],G=m[b+1-32],X=m[b+2-32],Q=m[b+3-32];m[b+0+0]=m[b+1+64]=q+W+1>>1,m[b+1+0]=m[b+2+64]=W+G+1>>1,m[b+2+0]=m[b+3+64]=G+X+1>>1,m[b+3+0]=X+Q+1>>1,m[b+0+96]=jt(M,C,N),m[b+0+64]=jt(C,N,q),m[b+0+32]=m[b+1+96]=jt(N,q,W),m[b+1+32]=m[b+2+96]=jt(q,W,G),m[b+2+32]=m[b+3+96]=jt(W,G,X),m[b+3+32]=jt(G,X,Q)}function R1(m,b){var N=m[b+0-32],C=m[b+1-32],M=m[b+2-32],q=m[b+3-32],W=m[b+4-32],G=m[b+5-32],X=m[b+6-32],Q=m[b+7-32];m[b+0+0]=N+C+1>>1,m[b+1+0]=m[b+0+64]=C+M+1>>1,m[b+2+0]=m[b+1+64]=M+q+1>>1,m[b+3+0]=m[b+2+64]=q+W+1>>1,m[b+0+32]=jt(N,C,M),m[b+1+32]=m[b+0+96]=jt(C,M,q),m[b+2+32]=m[b+1+96]=jt(M,q,W),m[b+3+32]=m[b+2+96]=jt(q,W,G),m[b+3+64]=jt(W,G,X),m[b+3+96]=jt(G,X,Q)}function M1(m,b){var N=m[b-1+0],C=m[b-1+32],M=m[b-1+64],q=m[b-1+96];m[b+0+0]=N+C+1>>1,m[b+2+0]=m[b+0+32]=C+M+1>>1,m[b+2+32]=m[b+0+64]=M+q+1>>1,m[b+1+0]=jt(N,C,M),m[b+3+0]=m[b+1+32]=jt(C,M,q),m[b+3+32]=m[b+1+64]=jt(M,q,q),m[b+3+64]=m[b+2+64]=m[b+0+96]=m[b+1+96]=m[b+2+96]=m[b+3+96]=q}function cu(m,b){var N=m[b-1+0],C=m[b-1+32],M=m[b-1+64],q=m[b-1+96],W=m[b-1-32],G=m[b+0-32],X=m[b+1-32],Q=m[b+2-32];m[b+0+0]=m[b+2+32]=N+W+1>>1,m[b+0+32]=m[b+2+64]=C+N+1>>1,m[b+0+64]=m[b+2+96]=M+C+1>>1,m[b+0+96]=q+M+1>>1,m[b+3+0]=jt(G,X,Q),m[b+2+0]=jt(W,G,X),m[b+1+0]=m[b+3+32]=jt(N,W,G),m[b+1+32]=m[b+3+64]=jt(C,N,W),m[b+1+64]=m[b+3+96]=jt(M,C,N),m[b+1+96]=jt(q,M,C)}function Tf(m,b){var N;for(N=0;8>N;++N)n(m,b+32*N,m,b-32,8)}function Rl(m,b){var N;for(N=0;8>N;++N)i(m,b,m[b-1],8),b+=32}function uu(m,b,N){var C;for(C=0;8>C;++C)i(b,N+32*C,m,8)}function du(m,b){var N,C=8;for(N=0;8>N;++N)C+=m[b+N-32]+m[b-1+32*N];uu(C>>4,m,b)}function D1(m,b){var N,C=4;for(N=0;8>N;++N)C+=m[b+N-32];uu(C>>3,m,b)}function Lf(m,b){var N,C=4;for(N=0;8>N;++N)C+=m[b-1+32*N];uu(C>>3,m,b)}function If(m,b){uu(128,m,b)}function Ml(m,b,N){var C=m[b-N],M=m[b+0],q=3*(M-C)+B1[1020+m[b-2*N]-m[b+N]],W=Fm[112+(q+4>>3)];m[b-N]=Ai[255+C+Fm[112+(q+3>>3)]],m[b+0]=Ai[255+M-W]}function Dl(m,b,N,C){var M=m[b+0],q=m[b+N];return ra[255+m[b-2*N]-m[b-N]]>C||ra[255+q-M]>C}function $f(m,b,N,C){return 4*ra[255+m[b-N]-m[b+0]]+ra[255+m[b-2*N]-m[b+N]]<=C}function fu(m,b,N,C,M){var q=m[b-3*N],W=m[b-2*N],G=m[b-N],X=m[b+0],Q=m[b+N],de=m[b+2*N],be=m[b+3*N];return 4*ra[255+G-X]+ra[255+W-Q]>C?0:ra[255+m[b-4*N]-q]<=M&&ra[255+q-W]<=M&&ra[255+W-G]<=M&&ra[255+be-de]<=M&&ra[255+de-Q]<=M&&ra[255+Q-X]<=M}function Rf(m,b,N,C){var M=2*C+1;for(C=0;16>C;++C)$f(m,b+C,N,M)&&Ml(m,b+C,N)}function Bl(m,b,N,C){var M=2*C+1;for(C=0;16>C;++C)$f(m,b+C*N,1,M)&&Ml(m,b+C*N,1)}function Cm(m,b,N,C){var M;for(M=3;0<M;--M)Rf(m,b+=4*N,N,C)}function Tm(m,b,N,C){var M;for(M=3;0<M;--M)Bl(m,b+=4,N,C)}function Cs(m,b,N,C,M,q,W,G){for(q=2*q+1;0<M--;){if(fu(m,b,N,q,W))if(Dl(m,b,N,G))Ml(m,b,N);else{var X=m,Q=b,de=N,be=X[Q-2*de],ee=X[Q-de],fe=X[Q+0],ge=X[Q+de],_e=X[Q+2*de],ye=27*(ke=B1[1020+3*(fe-ee)+B1[1020+be-ge]])+63>>7,je=18*ke+63>>7,ke=9*ke+63>>7;X[Q-3*de]=Ai[255+X[Q-3*de]+ke],X[Q-2*de]=Ai[255+be+je],X[Q-de]=Ai[255+ee+ye],X[Q+0]=Ai[255+fe-ye],X[Q+de]=Ai[255+ge-je],X[Q+2*de]=Ai[255+_e-ke]}b+=C}}function Ts(m,b,N,C,M,q,W,G){for(q=2*q+1;0<M--;){if(fu(m,b,N,q,W))if(Dl(m,b,N,G))Ml(m,b,N);else{var X=m,Q=b,de=N,be=X[Q-de],ee=X[Q+0],fe=X[Q+de],ge=Fm[112+(4+(_e=3*(ee-be))>>3)],_e=Fm[112+(_e+3>>3)],ye=ge+1>>1;X[Q-2*de]=Ai[255+X[Q-2*de]+ye],X[Q-de]=Ai[255+be+_e],X[Q+0]=Ai[255+ee-ge],X[Q+de]=Ai[255+fe-ye]}b+=C}}function Lm(m,b,N,C,M,q){Cs(m,b,N,1,16,C,M,q)}function Im(m,b,N,C,M,q){Cs(m,b,1,N,16,C,M,q)}function Fl(m,b,N,C,M,q){var W;for(W=3;0<W;--W)Ts(m,b+=4*N,N,1,16,C,M,q)}function $m(m,b,N,C,M,q){var W;for(W=3;0<W;--W)Ts(m,b+=4,1,N,16,C,M,q)}function A(m,b,N,C,M,q,W,G){Cs(m,b,M,1,8,q,W,G),Cs(N,C,M,1,8,q,W,G)}function R(m,b,N,C,M,q,W,G){Cs(m,b,1,M,8,q,W,G),Cs(N,C,1,M,8,q,W,G)}function te(m,b,N,C,M,q,W,G){Ts(m,b+4*M,M,1,8,q,W,G),Ts(N,C+4*M,M,1,8,q,W,G)}function ce(m,b,N,C,M,q,W,G){Ts(m,b+4,1,M,8,q,W,G),Ts(N,C+4,1,M,8,q,W,G)}function me(){this.ba=new lr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Zt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ne(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ce(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Qe(){this.ua=0,this.Wa=new Oe,this.vb=new Oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new B,this.yc=new D}function st(){this.xb=this.a=0,this.l=new lu,this.ca=new lr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Qe,this.ab=0,this.gc=s(4,Ce),this.Oc=0}function xt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new lu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Nt(m,b,N,C,M,q,W){for(m=m==null?0:m[b+0],b=0;b<W;++b)M[q+b]=m+N[C+b]&255,m=M[q+b]}function Xt(m,b,N,C,M,q,W){var G;if(m==null)Nt(null,null,N,C,M,q,W);else for(G=0;G<W;++G)M[q+G]=m[b+G]+N[C+G]&255}function Pr(m,b,N,C,M,q,W){if(m==null)Nt(null,null,N,C,M,q,W);else{var G,X=m[b+0],Q=X,de=X;for(G=0;G<W;++G)Q=de+(X=m[b+G])-Q,de=N[C+G]+(-256&Q?0>Q?0:255:Q)&255,Q=X,M[q+G]=de}}function Qr(m,b,N,C){var M=b.width,q=b.o;if(e(m!=null&&b!=null),0>N||0>=C||N+C>q)return null;if(!m.Cc){if(m.ga==null){var W;if(m.ga=new xt,(W=m.ga==null)||(W=b.width*b.o,e(m.Gb.length==0),m.Gb=a(W),m.Uc=0,m.Gb==null?W=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,W=1),W=!W),!W){W=m.ga;var G=m.Fa,X=m.P,Q=m.qc,de=m.mb,be=m.nb,ee=X+1,fe=Q-1,ge=W.l;if(e(G!=null&&de!=null&&b!=null),Io[0]=null,Io[1]=Nt,Io[2]=Xt,Io[3]=Pr,W.ca=de,W.tb=be,W.c=b.width,W.i=b.height,e(0<W.c&&0<W.i),1>=Q)b=0;else if(W.$a=3&G[X+0],W.Z=G[X+0]>>2&3,W.Lc=G[X+0]>>4&3,X=G[X+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||X)b=0;else if(ge.put=pt,ge.ac=Ja,ge.bc=Ns,ge.ma=W,ge.width=b.width,ge.height=b.height,ge.Da=b.Da,ge.v=b.v,ge.va=b.va,ge.j=b.j,ge.o=b.o,W.$a)e:{e(W.$a==1),b=El();t:for(;;){if(b==null){b=0;break e}if(e(W!=null),W.mc=b,b.c=W.c,b.i=W.i,b.l=W.l,b.l.ma=W,b.l.width=W.c,b.l.height=W.i,b.a=0,J(b.m,G,ee,fe),!Qa(W.c,W.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&_a(b.s)?(W.ic=1,G=b.c*b.i,b.Ta=null,b.Ua=0,b.V=a(G),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(W.ic=0,b=Cl(b,W.c)),!b))break t;b=1;break e}W.mc=null,b=0}else b=fe>=W.c*W.i;W=!b}if(W)return null;m.ga.Lc!=1?m.Ga=0:C=q-N}e(m.ga!=null),e(N+C<=q);e:{if(b=(G=m.ga).c,q=G.l.o,G.$a==0){if(ee=m.rc,fe=m.Vc,ge=m.Fa,X=m.P+1+N*b,Q=m.mb,de=m.nb+N*b,e(X<=m.P+m.qc),G.Z!=0)for(e(Io[G.Z]!=null),W=0;W<C;++W)Io[G.Z](ee,fe,ge,X,Q,de,b),ee=Q,fe=de,de+=b,X+=b;else for(W=0;W<C;++W)n(Q,de,ge,X,b),ee=Q,fe=de,de+=b,X+=b;m.rc=ee,m.Vc=fe}else{if(e(G.mc!=null),b=N+C,e((W=G.mc)!=null),e(b<=W.i),W.C>=b)b=1;else if(G.ic||Qi(),G.ic){G=W.V,ee=W.Ba,fe=W.c;var _e=W.i,ye=(ge=1,X=W.$/fe,Q=W.$%fe,de=W.m,be=W.s,W.$),je=fe*_e,ke=fe*b,$e=be.wc,Ee=ye<ke?Pn(be,Q,X):null;e(ye<=je),e(b<=_e),e(_a(be));t:for(;;){for(;!de.h&&ye<ke;){if(Q&$e||(Ee=Pn(be,Q,X)),e(Ee!=null),ue(de),256>(_e=Ir(Ee.G[0],Ee.H[0],de)))G[ee+ye]=_e,++ye,++Q>=fe&&(Q=0,++X<=b&&!(X%16)&&Sa(W,X));else{if(!(280>_e)){ge=0;break t}_e=Yi(_e-256,de);var ot,Ye=Ir(Ee.G[4],Ee.H[4],de);if(ue(de),!(ye>=(Ye=Xi(fe,Ye=Yi(Ye,de)))&&je-ye>=_e)){ge=0;break t}for(ot=0;ot<_e;++ot)G[ee+ye+ot]=G[ee+ye+ot-Ye];for(ye+=_e,Q+=_e;Q>=fe;)Q-=fe,++X<=b&&!(X%16)&&Sa(W,X);ye<ke&&Q&$e&&(Ee=Pn(be,Q,X))}e(de.h==re(de))}Sa(W,X>b?b:X);break t}!ge||de.h&&ye<je?(ge=0,W.a=de.h?5:3):W.$=ye,b=ge}else b=ja(W,W.V,W.Ba,W.c,W.i,b,au);if(!b){C=0;break e}}N+C>=q&&(m.Cc=1),C=1}if(!C)return null;if(m.Cc&&((C=m.ga)!=null&&(C.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+N*M}function hr(m,b,N,C,M,q){for(;0<M--;){var W,G=m,X=b+(N?1:0),Q=m,de=b+(N?0:3);for(W=0;W<C;++W){var be=Q[de+4*W];be!=255&&(be*=32897,G[X+4*W+0]=G[X+4*W+0]*be>>23,G[X+4*W+1]=G[X+4*W+1]*be>>23,G[X+4*W+2]=G[X+4*W+2]*be>>23)}b+=q}}function cn(m,b,N,C,M){for(;0<C--;){var q;for(q=0;q<N;++q){var W=m[b+2*q+0],G=15&(Q=m[b+2*q+1]),X=4369*G,Q=(240&Q|Q>>4)*X>>16;m[b+2*q+0]=(240&W|W>>4)*X>>16&240|(15&W|W<<4)*X>>16>>4&15,m[b+2*q+1]=240&Q|G}b+=M}}function en(m,b,N,C,M,q,W,G){var X,Q,de=255;for(Q=0;Q<M;++Q){for(X=0;X<C;++X){var be=m[b+X];q[W+4*X]=be,de&=be}b+=N,W+=G}return de!=255}function En(m,b,N,C,M){var q;for(q=0;q<M;++q)N[C+q]=m[b+q]>>8}function Qi(){Gf=hr,dj=cn,fj=en,hj=En}function di(m,b,N){I[m]=function(C,M,q,W,G,X,Q,de,be,ee,fe,ge,_e,ye,je,ke,$e){var Ee,ot=$e-1>>1,Ye=G[X+0]|Q[de+0]<<16,Tt=be[ee+0]|fe[ge+0]<<16;e(C!=null);var et=3*Ye+Tt+131074>>2;for(b(C[M+0],255&et,et>>16,_e,ye),q!=null&&(et=3*Tt+Ye+131074>>2,b(q[W+0],255&et,et>>16,je,ke)),Ee=1;Ee<=ot;++Ee){var Ft=G[X+Ee]|Q[de+Ee]<<16,dn=be[ee+Ee]|fe[ge+Ee]<<16,Lt=Ye+Ft+Tt+dn+524296,tt=Lt+2*(Ft+Tt)>>3;et=tt+Ye>>1,Ye=(Lt=Lt+2*(Ye+dn)>>3)+Ft>>1,b(C[M+2*Ee-1],255&et,et>>16,_e,ye+(2*Ee-1)*N),b(C[M+2*Ee-0],255&Ye,Ye>>16,_e,ye+(2*Ee-0)*N),q!=null&&(et=Lt+Tt>>1,Ye=tt+dn>>1,b(q[W+2*Ee-1],255&et,et>>16,je,ke+(2*Ee-1)*N),b(q[W+2*Ee+0],255&Ye,Ye>>16,je,ke+(2*Ee+0)*N)),Ye=Ft,Tt=dn}1&$e||(et=3*Ye+Tt+131074>>2,b(C[M+$e-1],255&et,et>>16,_e,ye+($e-1)*N),q!=null&&(et=3*Tt+Ye+131074>>2,b(q[W+$e-1],255&et,et>>16,je,ke+($e-1)*N)))}}function Rm(){na[Um]=YR,na[zm]=jj,na[bj]=XR,na[qm]=Aj,na[Wm]=Nj,na[F1]=kj,na[xj]=JR,na[U1]=jj,na[z1]=Aj,na[Hm]=Nj,na[q1]=kj}function hu(m){return m&-16384?0>m?0:255:m>>ZR}function Ul(m,b){return hu((19077*m>>8)+(26149*b>>8)-14234)}function Ao(m,b,N){return hu((19077*m>>8)-(6419*b>>8)-(13320*N>>8)+8708)}function zl(m,b){return hu((19077*m>>8)+(33050*b>>8)-17685)}function ql(m,b,N,C,M){C[M+0]=Ul(m,N),C[M+1]=Ao(m,b,N),C[M+2]=zl(m,b)}function Wl(m,b,N,C,M){C[M+0]=zl(m,b),C[M+1]=Ao(m,b,N),C[M+2]=Ul(m,N)}function Fn(m,b,N,C,M){var q=Ao(m,b,N);b=q<<3&224|zl(m,b)>>3,C[M+0]=248&Ul(m,N)|q>>5,C[M+1]=b}function Hl(m,b,N,C,M){var q=240&zl(m,b)|15;C[M+0]=240&Ul(m,N)|Ao(m,b,N)>>4,C[M+1]=q}function Vl(m,b,N,C,M){C[M+0]=255,ql(m,b,N,C,M+1)}function Mf(m,b,N,C,M){Wl(m,b,N,C,M),C[M+3]=255}function Df(m,b,N,C,M){ql(m,b,N,C,M),C[M+3]=255}function $r(m,b){return 0>m?0:m>b?b:m}function Ls(m,b,N){I[m]=function(C,M,q,W,G,X,Q,de,be){for(var ee=de+(-2&be)*N;de!=ee;)b(C[M+0],q[W+0],G[X+0],Q,de),b(C[M+1],q[W+0],G[X+0],Q,de+N),M+=2,++W,++X,de+=2*N;1&be&&b(C[M+0],q[W+0],G[X+0],Q,de)}}function pu(m,b,N){return N==0?m==0?b==0?6:5:b==0?4:0:N}function Mm(m,b,N,C,M){switch(m>>>30){case 3:Xl(b,N,C,M,0);break;case 2:ta(b,N,C,M);break;case 1:Qt(b,N,C,M)}}function ea(m,b){var N,C,M=b.M,q=b.Nb,W=m.oc,G=m.pc+40,X=m.oc,Q=m.pc+584,de=m.oc,be=m.pc+600;for(N=0;16>N;++N)W[G+32*N-1]=129;for(N=0;8>N;++N)X[Q+32*N-1]=129,de[be+32*N-1]=129;for(0<M?W[G-1-32]=X[Q-1-32]=de[be-1-32]=129:(i(W,G-32-1,127,21),i(X,Q-32-1,127,9),i(de,be-32-1,127,9)),C=0;C<m.za;++C){var ee=b.ya[b.aa+C];if(0<C){for(N=-1;16>N;++N)n(W,G+32*N-4,W,G+32*N+12,4);for(N=-1;8>N;++N)n(X,Q+32*N-4,X,Q+32*N+4,4),n(de,be+32*N-4,de,be+32*N+4,4)}var fe=m.Gd,ge=m.Hd+C,_e=ee.ad,ye=ee.Hc;if(0<M&&(n(W,G-32,fe[ge].y,0,16),n(X,Q-32,fe[ge].f,0,8),n(de,be-32,fe[ge].ea,0,8)),ee.Za){var je=W,ke=G-32+16;for(0<M&&(C>=m.za-1?i(je,ke,fe[ge].y[15],4):n(je,ke,fe[ge+1].y,0,4)),N=0;4>N;N++)je[ke+128+N]=je[ke+256+N]=je[ke+384+N]=je[ke+0+N];for(N=0;16>N;++N,ye<<=2)je=W,ke=G+Pj[N],Na[ee.Ob[N]](je,ke),Mm(ye,_e,16*+N,je,ke)}else if(je=pu(C,M,ee.Ob[0]),Lo[je](W,G),ye!=0)for(N=0;16>N;++N,ye<<=2)Mm(ye,_e,16*+N,W,G+Pj[N]);for(N=ee.Gc,je=pu(C,M,ee.Dd),Rs[je](X,Q),Rs[je](de,be),ye=_e,je=X,ke=Q,255&(ee=0|N)&&(170&ee?ns(ye,256,je,ke):cr(ye,256,je,ke)),ee=de,ye=be,255&(N>>=8)&&(170&N?ns(_e,320,ee,ye):cr(_e,320,ee,ye)),M<m.Ub-1&&(n(fe[ge].y,0,W,G+480,16),n(fe[ge].f,0,X,Q+224,8),n(fe[ge].ea,0,de,be+224,8)),N=8*q*m.B,fe=m.sa,ge=m.ta+16*C+16*q*m.R,_e=m.qa,ee=m.ra+8*C+N,ye=m.Ha,je=m.Ia+8*C+N,N=0;16>N;++N)n(fe,ge+N*m.R,W,G+32*N,16);for(N=0;8>N;++N)n(_e,ee+N*m.B,X,Q+32*N,8),n(ye,je+N*m.B,de,be+32*N,8)}}function Gl(m,b,N,C,M,q,W,G,X){var Q=[0],de=[0],be=0,ee=X!=null?X.kd:0,fe=X??new Ne;if(m==null||12>N)return 7;fe.data=m,fe.w=b,fe.ha=N,b=[b],N=[N],fe.gb=[fe.gb];e:{var ge=b,_e=N,ye=fe.gb;if(e(m!=null),e(_e!=null),e(ye!=null),ye[0]=0,12<=_e[0]&&!r(m,ge[0],"RIFF")){if(r(m,ge[0]+8,"WEBP")){ye=3;break e}var je=ae(m,ge[0]+4);if(12>je||4294967286<je){ye=3;break e}if(ee&&je>_e[0]-8){ye=7;break e}ye[0]=je,ge[0]+=12,_e[0]-=12}ye=0}if(ye!=0)return ye;for(je=0<fe.gb[0],N=N[0];;){e:{var ke=m;_e=b,ye=N;var $e=Q,Ee=de,ot=ge=[0];if((et=be=[be])[0]=0,8>ye[0])ye=7;else{if(!r(ke,_e[0],"VP8X")){if(ae(ke,_e[0]+4)!=10){ye=3;break e}if(18>ye[0]){ye=7;break e}var Ye=ae(ke,_e[0]+8),Tt=1+Te(ke,_e[0]+12);if(2147483648<=Tt*(ke=1+Te(ke,_e[0]+15))){ye=3;break e}ot!=null&&(ot[0]=Ye),$e!=null&&($e[0]=Tt),Ee!=null&&(Ee[0]=ke),_e[0]+=18,ye[0]-=18,et[0]=1}ye=0}}if(be=be[0],ge=ge[0],ye!=0)return ye;if(_e=!!(2&ge),!je&&be)return 3;if(q!=null&&(q[0]=!!(16&ge)),W!=null&&(W[0]=_e),G!=null&&(G[0]=0),W=Q[0],ge=de[0],be&&_e&&X==null){ye=0;break}if(4>N){ye=7;break}if(je&&be||!je&&!be&&!r(m,b[0],"ALPH")){N=[N],fe.na=[fe.na],fe.P=[fe.P],fe.Sa=[fe.Sa];e:{Ye=m,ye=b,je=N;var et=fe.gb;$e=fe.na,Ee=fe.P,ot=fe.Sa,Tt=22,e(Ye!=null),e(je!=null),ke=ye[0];var Ft=je[0];for(e($e!=null),e(ot!=null),$e[0]=null,Ee[0]=null,ot[0]=0;;){if(ye[0]=ke,je[0]=Ft,8>Ft){ye=7;break e}var dn=ae(Ye,ke+4);if(4294967286<dn){ye=3;break e}var Lt=8+dn+1&-2;if(Tt+=Lt,0<et&&Tt>et){ye=3;break e}if(!r(Ye,ke,"VP8 ")||!r(Ye,ke,"VP8L")){ye=0;break e}if(Ft[0]<Lt){ye=7;break e}r(Ye,ke,"ALPH")||($e[0]=Ye,Ee[0]=ke+8,ot[0]=dn),ke+=Lt,Ft-=Lt}}if(N=N[0],fe.na=fe.na[0],fe.P=fe.P[0],fe.Sa=fe.Sa[0],ye!=0)break}N=[N],fe.Ja=[fe.Ja],fe.xa=[fe.xa];e:if(et=m,ye=b,je=N,$e=fe.gb[0],Ee=fe.Ja,ot=fe.xa,Ye=ye[0],ke=!r(et,Ye,"VP8 "),Tt=!r(et,Ye,"VP8L"),e(et!=null),e(je!=null),e(Ee!=null),e(ot!=null),8>je[0])ye=7;else{if(ke||Tt){if(et=ae(et,Ye+4),12<=$e&&et>$e-12){ye=3;break e}if(ee&&et>je[0]-8){ye=7;break e}Ee[0]=et,ye[0]+=8,je[0]-=8,ot[0]=Tt}else ot[0]=5<=je[0]&&et[Ye+0]==47&&!(et[Ye+4]>>5),Ee[0]=je[0];ye=0}if(N=N[0],fe.Ja=fe.Ja[0],fe.xa=fe.xa[0],b=b[0],ye!=0)break;if(4294967286<fe.Ja)return 3;if(G==null||_e||(G[0]=fe.xa?2:1),W=[W],ge=[ge],fe.xa){if(5>N){ye=7;break}G=W,ee=ge,_e=q,m==null||5>N?m=0:5<=N&&m[b+0]==47&&!(m[b+4]>>5)?(je=[0],et=[0],$e=[0],J(Ee=new z,m,b,N),ks(Ee,je,et,$e)?(G!=null&&(G[0]=je[0]),ee!=null&&(ee[0]=et[0]),_e!=null&&(_e[0]=$e[0]),m=1):m=0):m=0}else{if(10>N){ye=7;break}G=ge,m==null||10>N||!km(m,b+3,N-3)?m=0:(ee=m[b+0]|m[b+1]<<8|m[b+2]<<16,_e=16383&(m[b+7]<<8|m[b+6]),m=16383&(m[b+9]<<8|m[b+8]),1&ee||3<(ee>>1&7)||!(ee>>4&1)||ee>>5>=fe.Ja||!_e||!m?m=0:(W&&(W[0]=_e),G&&(G[0]=m),m=1))}if(!m||(W=W[0],ge=ge[0],be&&(Q[0]!=W||de[0]!=ge)))return 3;X!=null&&(X[0]=fe,X.offset=b-X.w,e(4294967286>b-X.w),e(X.offset==X.ha-N));break}return ye==0||ye==7&&be&&X==null?(q!=null&&(q[0]|=fe.na!=null&&0<fe.na.length),C!=null&&(C[0]=W),M!=null&&(M[0]=ge),0):ye}function Bf(m,b,N){var C=b.width,M=b.height,q=0,W=0,G=C,X=M;if(b.Da=m!=null&&0<m.Da,b.Da&&(G=m.cd,X=m.bd,q=m.v,W=m.j,11>N||(q&=-2,W&=-2),0>q||0>W||0>=G||0>=X||q+G>C||W+X>M))return 0;if(b.v=q,b.j=W,b.va=q+G,b.o=W+X,b.U=G,b.T=X,b.da=m!=null&&0<m.da,b.da){if(!Ie(G,X,N=[m.ib],q=[m.hb]))return 0;b.ib=N[0],b.hb=q[0]}return b.ob=m!=null&&m.ob,b.Kb=m==null||!m.Sd,b.da&&(b.ob=b.ib<3*C/4&&b.hb<3*M/4,b.Kb=0),1}function Ff(m){if(m==null)return 2;if(11>m.S){var b=m.f.RGBA;b.fb+=(m.height-1)*b.A,b.A=-b.A}else b=m.f.kb,m=m.height,b.O+=(m-1)*b.fa,b.fa=-b.fa,b.N+=(m-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(m-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(m-1)*b.lb,b.lb=-b.lb);return 0}function No(m,b,N,C){if(C==null||0>=m||0>=b)return 2;if(N!=null){if(N.Da){var M=N.cd,q=N.bd,W=-2&N.v,G=-2&N.j;if(0>W||0>G||0>=M||0>=q||W+M>m||G+q>b)return 2;m=M,b=q}if(N.da){if(!Ie(m,b,M=[N.ib],q=[N.hb]))return 2;m=M[0],b=q[0]}}C.width=m,C.height=b;e:{var X=C.width,Q=C.height;if(m=C.S,0>=X||0>=Q||!(m>=Um&&13>m))m=2;else{if(0>=C.Rd&&C.sd==null){W=q=M=b=0;var de=(G=X*Ej[m])*Q;if(11>m||(q=(Q+1)/2*(b=(X+1)/2),m==12&&(W=(M=X)*Q)),(Q=a(de+2*q+W))==null){m=1;break e}C.sd=Q,11>m?((X=C.f.RGBA).eb=Q,X.fb=0,X.A=G,X.size=de):((X=C.f.kb).y=Q,X.O=0,X.fa=G,X.Fd=de,X.f=Q,X.N=0+de,X.Ab=b,X.Cd=q,X.ea=Q,X.W=0+de+q,X.Db=b,X.Ed=q,m==12&&(X.F=Q,X.J=0+de+2*q),X.Tc=W,X.lb=M)}if(b=1,M=C.S,q=C.width,W=C.height,M>=Um&&13>M)if(11>M)m=C.f.RGBA,b&=(G=Math.abs(m.A))*(W-1)+q<=m.size,b&=G>=q*Ej[M],b&=m.eb!=null;else{m=C.f.kb,G=(q+1)/2,de=(W+1)/2,X=Math.abs(m.fa),Q=Math.abs(m.Ab);var be=Math.abs(m.Db),ee=Math.abs(m.lb),fe=ee*(W-1)+q;b&=X*(W-1)+q<=m.Fd,b&=Q*(de-1)+G<=m.Cd,b=(b&=be*(de-1)+G<=m.Ed)&X>=q&Q>=G&be>=G,b&=m.y!=null,b&=m.f!=null,b&=m.ea!=null,M==12&&(b&=ee>=q,b&=fe<=m.Tc,b&=m.F!=null)}else b=0;m=b?0:2}}return m!=0||N!=null&&N.fd&&(m=Ff(C)),m}var Kl=64,Si=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ji=24,ko=32,Is=8,Oo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ae("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(m){return m},I.Predictor2=function(m,b,N){return b[N+0]},I.Predictor3=function(m,b,N){return b[N+1]},I.Predictor4=function(m,b,N){return b[N-1]},I.Predictor5=function(m,b,N){return De(De(m,b[N+1]),b[N+0])},I.Predictor6=function(m,b,N){return De(m,b[N-1])},I.Predictor7=function(m,b,N){return De(m,b[N+0])},I.Predictor8=function(m,b,N){return De(b[N-1],b[N+0])},I.Predictor9=function(m,b,N){return De(b[N+0],b[N+1])},I.Predictor10=function(m,b,N){return De(De(m,b[N-1]),De(b[N+0],b[N+1]))},I.Predictor11=function(m,b,N){var C=b[N+0];return 0>=We(C>>24&255,m>>24&255,(b=b[N-1])>>24&255)+We(C>>16&255,m>>16&255,b>>16&255)+We(C>>8&255,m>>8&255,b>>8&255)+We(255&C,255&m,255&b)?C:m},I.Predictor12=function(m,b,N){var C=b[N+0];return(Xe((m>>24&255)+(C>>24&255)-((b=b[N-1])>>24&255))<<24|Xe((m>>16&255)+(C>>16&255)-(b>>16&255))<<16|Xe((m>>8&255)+(C>>8&255)-(b>>8&255))<<8|Xe((255&m)+(255&C)-(255&b)))>>>0},I.Predictor13=function(m,b,N){var C=b[N-1];return(ze((m=De(m,b[N+0]))>>24&255,C>>24&255)<<24|ze(m>>16&255,C>>16&255)<<16|ze(m>>8&255,C>>8&255)<<8|ze(255&m,255&C))>>>0};var Uf=I.PredictorAdd0;I.PredictorAdd1=gt,Ae("Predictor2","PredictorAdd2"),Ae("Predictor3","PredictorAdd3"),Ae("Predictor4","PredictorAdd4"),Ae("Predictor5","PredictorAdd5"),Ae("Predictor6","PredictorAdd6"),Ae("Predictor7","PredictorAdd7"),Ae("Predictor8","PredictorAdd8"),Ae("Predictor9","PredictorAdd9"),Ae("Predictor10","PredictorAdd10"),Ae("Predictor11","PredictorAdd11"),Ae("Predictor12","PredictorAdd12"),Ae("Predictor13","PredictorAdd13");var mu=I.PredictorAdd2;Ve("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Ve("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var qr,Dm=I.ColorIndexInverseTransform,ts=I.MapARGB,rs=I.VP8LColorIndexInverseTransformAlpha,zf=I.MapAlpha,qf=I.VP8LPredictorsAdd=[];qf.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Wf,Hf,Po,Eo,Co,Yl,To,Xl,ta,ns,Qt,cr,Wr,un,$s,Vf,gu,Bm,aj,sj,oj,lj,cj,uj,Gf,dj,fj,hj,pj=a(511),mj=a(2041),gj=a(225),vj=a(767),yj=0,B1=mj,Fm=gj,Ai=vj,ra=pj,Um=0,zm=1,bj=2,qm=3,Wm=4,F1=5,xj=6,U1=7,z1=8,Hm=9,q1=10,$R=[2,3,7],RR=[3,3,11],wj=[280,256,256,256,40],MR=[0,1,1,1,0],DR=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],BR=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],FR=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],UR=8,W1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],H1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Kf=null,zR=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],qR=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],_j=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],WR=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],HR=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],VR=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],GR=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Lo=[],Na=[],Rs=[],KR=1,Sj=2,Io=[],na=[];di("UpsampleRgbLinePair",ql,3),di("UpsampleBgrLinePair",Wl,3),di("UpsampleRgbaLinePair",Df,4),di("UpsampleBgraLinePair",Mf,4),di("UpsampleArgbLinePair",Vl,4),di("UpsampleRgba4444LinePair",Hl,2),di("UpsampleRgb565LinePair",Fn,2);var YR=I.UpsampleRgbLinePair,XR=I.UpsampleBgrLinePair,jj=I.UpsampleRgbaLinePair,Aj=I.UpsampleBgraLinePair,Nj=I.UpsampleArgbLinePair,kj=I.UpsampleRgba4444LinePair,JR=I.UpsampleRgb565LinePair,Vm=16,Gm=1<<Vm-1,Yf=-227,V1=482,ZR=6,Oj=0,QR=a(256),e7=a(256),t7=a(256),r7=a(256),n7=a(V1-Yf),i7=a(V1-Yf);Ls("YuvToRgbRow",ql,3),Ls("YuvToBgrRow",Wl,3),Ls("YuvToRgbaRow",Df,4),Ls("YuvToBgraRow",Mf,4),Ls("YuvToArgbRow",Vl,4),Ls("YuvToRgba4444Row",Hl,2),Ls("YuvToRgb565Row",Fn,2);var Pj=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Km=[0,2,8],a7=[8,7,6,4,4,2,2,2,1,1,1,1],s7=1;this.WebPDecodeRGBA=function(m,b,N,C,M){var q=zm,W=new me,G=new lr;W.ba=G,G.S=q,G.width=[G.width],G.height=[G.height];var X=G.width,Q=G.height,de=new St;if(de==null||m==null)var be=2;else e(de!=null),be=Gl(m,b,N,de.width,de.height,de.Pd,de.Qd,de.format,null);if(be!=0?X=0:(X!=null&&(X[0]=de.width[0]),Q!=null&&(Q[0]=de.height[0]),X=1),X){G.width=G.width[0],G.height=G.height[0],C!=null&&(C[0]=G.width),M!=null&&(M[0]=G.height);e:{if(C=new lu,(M=new Ne).data=m,M.w=b,M.ha=N,M.kd=1,b=[0],e(M!=null),((m=Gl(M.data,M.w,M.ha,null,null,null,b,null,M))==0||m==7)&&b[0]&&(m=4),(b=m)==0){if(e(W!=null),C.data=M.data,C.w=M.w+M.offset,C.ha=M.ha-M.offset,C.put=pt,C.ac=Ja,C.bc=Ns,C.ma=W,M.xa){if((m=El())==null){W=1;break e}if(function(ee,fe){var ge=[0],_e=[0],ye=[0];t:for(;;){if(ee==null)return 0;if(fe==null)return ee.a=2,0;if(ee.l=fe,ee.a=0,J(ee.m,fe.data,fe.w,fe.ha),!ks(ee.m,ge,_e,ye)){ee.a=3;break t}if(ee.xb=Sj,fe.width=ge[0],fe.height=_e[0],!Qa(ge[0],_e[0],1,ee,null))break t;return 1}return e(ee.a!=0),0}(m,C)){if(C=(b=No(C.width,C.height,W.Oa,W.ba))==0){t:{C=m;r:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((N=C.l)!=null),e((M=N.ma)!=null),C.xb!=0){if(C.ca=M.ba,C.tb=M.tb,e(C.ca!=null),!Bf(M.Oa,N,qm)){C.a=2;break r}if(!Cl(C,N.width)||N.da)break r;if((N.da||Et(C.ca.S))&&Qi(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&Qi()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!Z(C.s.vb,C.s.Wa.Xa)){C.a=1;break r}C.xb=0}if(!ja(C,C.V,C.Ba,C.c,C.i,N.o,_o))break r;M.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(b=m.a)}else b=m.a}else{if((m=new j1)==null){W=1;break e}if(m.Fa=M.na,m.P=M.P,m.qc=M.Sa,Om(m,C)){if((b=No(C.width,C.height,W.Oa,W.ba))==0){if(m.Aa=0,N=W.Oa,e((M=m)!=null),N!=null){if(0<(X=0>(X=N.Md)?0:100<X?255:255*X/100)){for(Q=de=0;4>Q;++Q)12>(be=M.pb[Q]).lc&&(be.ia=X*a7[0>be.lc?0:be.lc]>>3),de|=be.ia;de&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=N.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}(function(ee,fe){if(ee==null)return 0;if(fe==null)return Zr(ee,2,"NULL VP8Io parameter in VP8Decode().");if(!ee.cb&&!Om(ee,fe))return 0;if(e(ee.cb),fe.ac==null||fe.ac(fe)){fe.ob&&(ee.L=0);var ge=Km[ee.L];if(ee.L==2?(ee.yb=0,ee.zb=0):(ee.yb=fe.v-ge>>4,ee.zb=fe.j-ge>>4,0>ee.yb&&(ee.yb=0),0>ee.zb&&(ee.zb=0)),ee.Va=fe.o+15+ge>>4,ee.Hb=fe.va+15+ge>>4,ee.Hb>ee.za&&(ee.Hb=ee.za),ee.Va>ee.Ub&&(ee.Va=ee.Ub),0<ee.L){var _e=ee.ed;for(ge=0;4>ge;++ge){var ye;if(ee.Qa.Cb){var je=ee.Qa.Lb[ge];ee.Qa.Fb||(je+=_e.Tb)}else je=_e.Tb;for(ye=0;1>=ye;++ye){var ke=ee.gd[ge][ye],$e=je;if(_e.Pc&&($e+=_e.vd[0],ye&&($e+=_e.od[0])),0<($e=0>$e?0:63<$e?63:$e)){var Ee=$e;0<_e.wb&&(Ee=4<_e.wb?Ee>>2:Ee>>1)>9-_e.wb&&(Ee=9-_e.wb),1>Ee&&(Ee=1),ke.dd=Ee,ke.tc=2*$e+Ee,ke.ld=40<=$e?2:15<=$e?1:0}else ke.tc=0;ke.La=ye}}}ge=0}else Zr(ee,6,"Frame setup failed"),ge=ee.a;if(ge=ge==0){if(ge){ee.$c=0,0<ee.Aa||(ee.Ic=s7);t:{ge=ee.Ic,_e=4*(Ee=ee.za);var ot=32*Ee,Ye=Ee+1,Tt=0<ee.L?Ee*(0<ee.Aa?2:1):0,et=(ee.Aa==2?2:1)*Ee;if((ke=_e+832+(ye=3*(16*ge+Km[ee.L])/2*ot)+(je=ee.Fa!=null&&0<ee.Fa.length?ee.Kc.c*ee.Kc.i:0))!=ke)ge=0;else{if(ke>ee.Vb){if(ee.Vb=0,ee.Ec=a(ke),ee.Fc=0,ee.Ec==null){ge=Zr(ee,1,"no memory during frame initialization.");break t}ee.Vb=ke}ke=ee.Ec,$e=ee.Fc,ee.Ac=ke,ee.Bc=$e,$e+=_e,ee.Gd=s(ot,Am),ee.Hd=0,ee.rb=s(Ye+1,Nf),ee.sb=1,ee.wa=Tt?s(Tt,Zi):null,ee.Y=0,ee.D.Nb=0,ee.D.wa=ee.wa,ee.D.Y=ee.Y,0<ee.Aa&&(ee.D.Y+=Ee),e(!0),ee.oc=ke,ee.pc=$e,$e+=832,ee.ya=s(et,kf),ee.aa=0,ee.D.ya=ee.ya,ee.D.aa=ee.aa,ee.Aa==2&&(ee.D.aa+=Ee),ee.R=16*Ee,ee.B=8*Ee,Ee=(ot=Km[ee.L])*ee.R,ot=ot/2*ee.B,ee.sa=ke,ee.ta=$e+Ee,ee.qa=ee.sa,ee.ra=ee.ta+16*ge*ee.R+ot,ee.Ha=ee.qa,ee.Ia=ee.ra+8*ge*ee.B+ot,ee.$c=0,$e+=ye,ee.mb=je?ke:null,ee.nb=je?$e:null,e($e+je<=ee.Fc+ee.Vb),Tl(ee),i(ee.Ac,ee.Bc,0,_e),ge=1}}if(ge){if(fe.ka=0,fe.y=ee.sa,fe.O=ee.ta,fe.f=ee.qa,fe.N=ee.ra,fe.ea=ee.Ha,fe.Vd=ee.Ia,fe.fa=ee.R,fe.Rc=ee.B,fe.F=null,fe.J=0,!yj){for(ge=-255;255>=ge;++ge)pj[255+ge]=0>ge?-ge:ge;for(ge=-1020;1020>=ge;++ge)mj[1020+ge]=-128>ge?-128:127<ge?127:ge;for(ge=-112;112>=ge;++ge)gj[112+ge]=-16>ge?-16:15<ge?15:ge;for(ge=-255;510>=ge;++ge)vj[255+ge]=0>ge?0:255<ge?255:ge;yj=1}To=Em,Xl=N1,ns=k1,Qt=es,cr=Pm,ta=A1,Wr=Lm,un=Im,$s=A,Vf=R,gu=Fl,Bm=$m,aj=te,sj=ce,oj=Rf,lj=Bl,cj=Cm,uj=Tm,Na[0]=I1,Na[1]=Pf,Na[2]=T1,Na[3]=L1,Na[4]=$1,Na[5]=Es,Na[6]=Ps,Na[7]=R1,Na[8]=cu,Na[9]=M1,Lo[0]=jo,Lo[1]=P1,Lo[2]=E1,Lo[3]=Ef,Lo[4]=C1,Lo[5]=$l,Lo[6]=Cf,Rs[0]=du,Rs[1]=O1,Rs[2]=Tf,Rs[3]=Rl,Rs[4]=Lf,Rs[5]=D1,Rs[6]=If,ge=1}else ge=0}ge&&(ge=function(Ft,dn){for(Ft.M=0;Ft.M<Ft.Va;++Ft.M){var Lt,tt=Ft.Jc[Ft.M&Ft.Xb],Ue=Ft.m,Hr=Ft;for(Lt=0;Lt<Hr.za;++Lt){var Ct=Ue,zt=Hr,xr=zt.Ac,Cn=zt.Bc+4*Lt,Qn=zt.zc,Rr=zt.ya[zt.aa+Lt];if(zt.Qa.Bb?Rr.$b=pe(Ct,zt.Pa.jb[0])?2+pe(Ct,zt.Pa.jb[2]):pe(Ct,zt.Pa.jb[1]):Rr.$b=0,zt.kc&&(Rr.Ad=pe(Ct,zt.Bd)),Rr.Za=!pe(Ct,145)+0,Rr.Za){var Un=Rr.Ob,ei=0;for(zt=0;4>zt;++zt){var fn,qt=Qn[0+zt];for(fn=0;4>fn;++fn){qt=HR[xr[Cn+fn]][qt];for(var tr=_j[pe(Ct,qt[0])];0<tr;)tr=_j[2*tr+pe(Ct,qt[tr])];qt=-tr,xr[Cn+fn]=qt}n(Un,ei,xr,Cn,4),ei+=4,Qn[0+zt]=qt}}else qt=pe(Ct,156)?pe(Ct,128)?1:3:pe(Ct,163)?2:0,Rr.Ob[0]=qt,i(xr,Cn,qt,4),i(Qn,0,qt,4);Rr.Dd=pe(Ct,142)?pe(Ct,114)?pe(Ct,183)?1:3:2:0}if(Hr.m.Ka)return Zr(Ft,7,"Premature end-of-partition0 encountered.");for(;Ft.ja<Ft.za;++Ft.ja){if(Hr=tt,Ct=(Ue=Ft).rb[Ue.sb-1],xr=Ue.rb[Ue.sb+Ue.ja],Lt=Ue.ya[Ue.aa+Ue.ja],Cn=Ue.kc?Lt.Ad:0)Ct.la=xr.la=0,Lt.Za||(Ct.Na=xr.Na=0),Lt.Hc=0,Lt.Gc=0,Lt.ia=0;else{var Mr,rr;if(Ct=xr,xr=Hr,Cn=Ue.Pa.Xc,Qn=Ue.ya[Ue.aa+Ue.ja],Rr=Ue.pb[Qn.$b],zt=Qn.ad,Un=0,ei=Ue.rb[Ue.sb-1],qt=fn=0,i(zt,Un,0,384),Qn.Za)var Tn=0,ka=Cn[3];else{tr=a(16);var Vr=Ct.Na+ei.Na;if(Vr=Kf(xr,Cn[1],Vr,Rr.Eb,0,tr,0),Ct.Na=ei.Na=(0<Vr)+0,1<Vr)To(tr,0,zt,Un);else{var fi=tr[0]+3>>3;for(tr=0;256>tr;tr+=16)zt[Un+tr]=fi}Tn=1,ka=Cn[0]}var ur=15&Ct.la,hn=15&ei.la;for(tr=0;4>tr;++tr){var Ni=1&hn;for(fi=rr=0;4>fi;++fi)ur=ur>>1|(Ni=(Vr=Kf(xr,ka,Vr=Ni+(1&ur),Rr.Sc,Tn,zt,Un))>Tn)<<7,rr=rr<<2|(3<Vr?3:1<Vr?2:zt[Un+0]!=0),Un+=16;ur>>=4,hn=hn>>1|Ni<<7,fn=(fn<<8|rr)>>>0}for(ka=ur,Tn=hn>>4,Mr=0;4>Mr;Mr+=2){for(rr=0,ur=Ct.la>>4+Mr,hn=ei.la>>4+Mr,tr=0;2>tr;++tr){for(Ni=1&hn,fi=0;2>fi;++fi)Vr=Ni+(1&ur),ur=ur>>1|(Ni=0<(Vr=Kf(xr,Cn[2],Vr,Rr.Qc,0,zt,Un)))<<3,rr=rr<<2|(3<Vr?3:1<Vr?2:zt[Un+0]!=0),Un+=16;ur>>=2,hn=hn>>1|Ni<<5}qt|=rr<<4*Mr,ka|=ur<<4<<Mr,Tn|=(240&hn)<<Mr}Ct.la=ka,ei.la=Tn,Qn.Hc=fn,Qn.Gc=qt,Qn.ia=43690&qt?0:Rr.ia,Cn=!(fn|qt)}if(0<Ue.L&&(Ue.wa[Ue.Y+Ue.ja]=Ue.gd[Lt.$b][Lt.Za],Ue.wa[Ue.Y+Ue.ja].La|=!Cn),Hr.Ka)return Zr(Ft,7,"Premature end-of-file encountered.")}if(Tl(Ft),Ue=dn,Hr=1,Lt=(tt=Ft).D,Ct=0<tt.L&&tt.M>=tt.zb&&tt.M<=tt.Va,tt.Aa==0)t:{if(Lt.M=tt.M,Lt.uc=Ct,ea(tt,Lt),Hr=1,Lt=(rr=tt.D).Nb,Ct=(qt=Km[tt.L])*tt.R,xr=qt/2*tt.B,tr=16*Lt*tt.R,fi=8*Lt*tt.B,Cn=tt.sa,Qn=tt.ta-Ct+tr,Rr=tt.qa,zt=tt.ra-xr+fi,Un=tt.Ha,ei=tt.Ia-xr+fi,hn=(ur=rr.M)==0,fn=ur>=tt.Va-1,tt.Aa==2&&ea(tt,rr),rr.uc)for(Ni=(Vr=tt).D.M,e(Vr.D.uc),rr=Vr.yb;rr<Vr.Hb;++rr){Tn=rr,ka=Ni;var ti=(ki=(Ln=Vr).D).Nb;Mr=Ln.R;var ki=ki.wa[ki.Y+Tn],Oi=Ln.sa,hi=Ln.ta+16*ti*Mr+16*Tn,Pi=ki.dd,pr=ki.tc;if(pr!=0)if(e(3<=pr),Ln.L==1)0<Tn&&lj(Oi,hi,Mr,pr+4),ki.La&&uj(Oi,hi,Mr,pr),0<ka&&oj(Oi,hi,Mr,pr+4),ki.La&&cj(Oi,hi,Mr,pr);else{var Ei=Ln.B,Oa=Ln.qa,Jl=Ln.ra+8*ti*Ei+8*Tn,Ms=Ln.Ha,Ln=Ln.Ia+8*ti*Ei+8*Tn;ti=ki.ld,0<Tn&&(un(Oi,hi,Mr,pr+4,Pi,ti),Vf(Oa,Jl,Ms,Ln,Ei,pr+4,Pi,ti)),ki.La&&(Bm(Oi,hi,Mr,pr,Pi,ti),sj(Oa,Jl,Ms,Ln,Ei,pr,Pi,ti)),0<ka&&(Wr(Oi,hi,Mr,pr+4,Pi,ti),$s(Oa,Jl,Ms,Ln,Ei,pr+4,Pi,ti)),ki.La&&(gu(Oi,hi,Mr,pr,Pi,ti),aj(Oa,Jl,Ms,Ln,Ei,pr,Pi,ti))}}if(tt.ia&&alert("todo:DitherRow"),Ue.put!=null){if(rr=16*ur,ur=16*(ur+1),hn?(Ue.y=tt.sa,Ue.O=tt.ta+tr,Ue.f=tt.qa,Ue.N=tt.ra+fi,Ue.ea=tt.Ha,Ue.W=tt.Ia+fi):(rr-=qt,Ue.y=Cn,Ue.O=Qn,Ue.f=Rr,Ue.N=zt,Ue.ea=Un,Ue.W=ei),fn||(ur-=qt),ur>Ue.o&&(ur=Ue.o),Ue.F=null,Ue.J=null,tt.Fa!=null&&0<tt.Fa.length&&rr<ur&&(Ue.J=Qr(tt,Ue,rr,ur-rr),Ue.F=tt.mb,Ue.F==null&&Ue.F.length==0)){Hr=Zr(tt,3,"Could not decode alpha data.");break t}rr<Ue.j&&(qt=Ue.j-rr,rr=Ue.j,e(!(1&qt)),Ue.O+=tt.R*qt,Ue.N+=tt.B*(qt>>1),Ue.W+=tt.B*(qt>>1),Ue.F!=null&&(Ue.J+=Ue.width*qt)),rr<ur&&(Ue.O+=Ue.v,Ue.N+=Ue.v>>1,Ue.W+=Ue.v>>1,Ue.F!=null&&(Ue.J+=Ue.v),Ue.ka=rr-Ue.j,Ue.U=Ue.va-Ue.v,Ue.T=ur-rr,Hr=Ue.put(Ue))}Lt+1!=tt.Ic||fn||(n(tt.sa,tt.ta-Ct,Cn,Qn+16*tt.R,Ct),n(tt.qa,tt.ra-xr,Rr,zt+8*tt.B,xr),n(tt.Ha,tt.Ia-xr,Un,ei+8*tt.B,xr))}if(!Hr)return Zr(Ft,6,"Output aborted.")}return 1}(ee,fe)),fe.bc!=null&&fe.bc(fe),ge&=1}return ge?(ee.cb=0,ge):0})(m,C)||(b=m.a)}}else b=m.a}b==0&&W.Oa!=null&&W.Oa.fd&&(b=Ff(W.ba))}W=b}q=W!=0?null:11>q?G.f.RGBA.eb:G.f.kb.y}else q=null;return q};var Ej=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(I,U){for(var O="",T=0;T<4;T++)O+=String.fromCharCode(I[U++]);return O}function u(I,U){return I[U+0]|I[U+1]<<8}function f(I,U){return(I[U+0]|I[U+1]<<8|I[U+2]<<16)>>>0}function p(I,U){return(I[U+0]|I[U+1]<<8|I[U+2]<<16|I[U+3]<<24)>>>0}new l;var h=[0],g=[0],v=[],x=new l,y=t,w=function(I,U){var O={},T=0,D=!1,F=0,B=0;if(O.frames=[],!function(P,z){for(var V=0;V<4;V++)if(P[z+V]!="RIFF".charCodeAt(V))return!0;return!1}(I,U)){for(p(I,U+=4),U+=8;U<I.length;){var K=c(I,U),H=p(I,U+=4);U+=4;var $=H+(1&H);switch(K){case"VP8 ":case"VP8L":O.frames[T]===void 0&&(O.frames[T]={}),(se=O.frames[T]).src_off=D?B:U-8,se.src_size=F+H+8,T++,D&&(D=!1,F=0,B=0);break;case"VP8X":(se=O.header={}).feature_flags=I[U];var J=U+4;se.canvas_width=1+f(I,J),J+=3,se.canvas_height=1+f(I,J),J+=3;break;case"ALPH":D=!0,F=$+8,B=U-8;break;case"ANIM":(se=O.header).bgcolor=p(I,U),J=U+4,se.loop_count=u(I,J),J+=2;break;case"ANMF":var ie,se;(se=O.frames[T]={}).offset_x=2*f(I,U),U+=3,se.offset_y=2*f(I,U),U+=3,se.width=1+f(I,U),U+=3,se.height=1+f(I,U),U+=3,se.duration=f(I,U),U+=3,ie=I[U++],se.dispose=1&ie,se.blend=ie>>1&1}K!="ANMF"&&(U+=$)}return O}}(y,0);w.response=y,w.rgbaoutput=!0,w.dataurl=!1;var _=w.header?w.header:null,j=w.frames?w.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],g=[_.canvas_width];for(var S=0;S<j.length&&j[S].blend!=0;S++);}var k=j[0],E=x.WebPDecodeRGBA(y,k.src_off,k.src_size,g,h);k.rgba=E,k.imgwidth=g[0],k.imgheight=h[0];for(var L=0;L<g[0]*h[0]*4;L++)v[L]=E[L];return this.width=g,this.height=h,this.data=v,this}(function(t){var e,r,n,i,a,s,o,l,c,u=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new l,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new s,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new s,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=P;Object.defineProperty(this,"pdf",{get:function(){return z}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(ae){V=!!ae}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(ae){re=!!ae}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(ae){isNaN(ae)||(ne=ae)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(ae){isNaN(ae)||(ue=ae)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ae){var Z;typeof ae=="number"?Z=[ae,ae,ae,ae]:((Z=new Array(4))[0]=ae[0],Z[1]=ae.length>=2?ae[1]:Z[0],Z[2]=ae.length>=3?ae[2]:Z[0],Z[3]=ae.length>=4?ae[3]:Z[1]),c.margin=Z}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(ae){ve=ae}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(ae){oe=ae}});var pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pe},set:function(ae){pe=ae}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ae){ae instanceof u&&(c=ae)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ae){c.path=ae}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(ae){xe=ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ae){var Z;Z=p(ae),this.ctx.fillStyle=Z.style,this.ctx.isFillTransparent=Z.a===0,this.ctx.fillOpacity=Z.a,this.pdf.setFillColor(Z.r,Z.g,Z.b,{a:Z.a}),this.pdf.setTextColor(Z.r,Z.g,Z.b,{a:Z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ae){var Z=p(ae);this.ctx.strokeStyle=Z.style,this.ctx.isStrokeTransparent=Z.a===0,this.ctx.strokeOpacity=Z.a,Z.a===0?this.pdf.setDrawColor(255,255,255):(Z.a,this.pdf.setDrawColor(Z.r,Z.g,Z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ae){["butt","round","square"].indexOf(ae)!==-1&&(this.ctx.lineCap=ae,this.pdf.setLineCap(ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ae){isNaN(ae)||(this.ctx.lineWidth=ae,this.pdf.setLineWidth(ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ae){["bevel","round","miter"].indexOf(ae)!==-1&&(this.ctx.lineJoin=ae,this.pdf.setLineJoin(ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ae){isNaN(ae)||(this.ctx.miterLimit=ae,this.pdf.setMiterLimit(ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ae){this.ctx.textBaseline=ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ae){["right","end","center","left","start"].indexOf(ae)!==-1&&(this.ctx.textAlign=ae)}});var he=null,Te=null;Object.defineProperty(this,"fontFaces",{get:function(){return Te},set:function(ae){he=null,Te=ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ae){var Z;if(this.ctx.font=ae,(Z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ae))!==null){var Fe=Z[1];Z[2];var Oe=Z[3],Ie=Z[4];Z[5];var we=Z[6],Pe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ie)[2];Ie=Math.floor(Pe==="px"?parseFloat(Ie)*this.pdf.internal.scaleFactor:Pe==="em"?parseFloat(Ie)*this.pdf.getFontSize():parseFloat(Ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ie);var Ae=function(ht){var Ve,Bt,Rt=[],nt=ht.trim();if(nt==="")return Tx;if(nt in QP)return[QP[nt]];for(;nt!=="";){switch(Bt=null,Ve=(nt=tE(nt)).charAt(0)){case'"':case"'":Bt=$ye(nt.substring(1),Ve);break;default:Bt=Rye(nt)}if(Bt===null||(Rt.push(Bt[0]),(nt=tE(Bt[1]))!==""&&nt.charAt(0)!==","))return Tx;nt=nt.replace(/^,/,"")}return Rt}(we);if(this.fontFaces){var qe=function(ht,Ve){if(he===null){var Bt=function(Rt){var nt=[];return Object.keys(Rt).forEach(function(_t){Rt[_t].forEach(function(Yt){var ut=null;switch(Yt){case"bold":ut={family:_t,weight:"bold"};break;case"italic":ut={family:_t,style:"italic"};break;case"bolditalic":ut={family:_t,weight:"bold",style:"italic"};break;case"":case"normal":ut={family:_t}}ut!==null&&(ut.ref={name:_t,style:Yt},nt.push(ut))})}),nt}(ht.getFontList());he=function(Rt){for(var nt={},_t=0;_t<Rt.length;++_t){var Yt=Cx(Rt[_t]),ut=Yt.family,Mt=Yt.stretch,Et=Yt.style,Ur=Yt.weight;nt[ut]=nt[ut]||{},nt[ut][Mt]=nt[ut][Mt]||{},nt[ut][Mt][Et]=nt[ut][Mt][Et]||{},nt[ut][Mt][Et][Ur]=Yt}return nt}(Bt.concat(Ve))}return he}(this.pdf,this.fontFaces),De=Ae.map(function(ht){return{family:ht,stretch:"normal",weight:Oe,style:Fe}}),Xe=function(ht,Ve,Bt){for(var Rt=(Bt=Bt||{}).defaultFontFamily||"times",nt=Object.assign({},Iye,Bt.genericFontFamilies||{}),_t=null,Yt=null,ut=0;ut<Ve.length;++ut)if(nt[(_t=Cx(Ve[ut])).family]&&(_t.family=nt[_t.family]),ht.hasOwnProperty(_t.family)){Yt=ht[_t.family];break}if(!(Yt=Yt||ht[Rt]))throw new Error("Could not find a font-family for the rule '"+eE(_t)+"' and default family '"+Rt+"'.");if(Yt=function(Mt,Et){if(Et[Mt])return Et[Mt];var Ur=I5[Mt],ln=Ur<=I5.normal?-1:1,lr=ZP(Et,ER,Ur,ln);if(!lr)throw new Error("Could not find a matching font-stretch value for "+Mt);return lr}(_t.stretch,Yt),Yt=function(Mt,Et){if(Et[Mt])return Et[Mt];for(var Ur=PR[Mt],ln=0;ln<Ur.length;++ln)if(Et[Ur[ln]])return Et[Ur[ln]];throw new Error("Could not find a matching font-style for "+Mt)}(_t.style,Yt),!(Yt=function(Mt,Et){if(Et[Mt])return Et[Mt];if(Mt===400&&Et[500])return Et[500];if(Mt===500&&Et[400])return Et[400];var Ur=Lye[Mt],ln=ZP(Et,CR,Ur,Mt<400?-1:1);if(!ln)throw new Error("Could not find a matching font-weight for value "+Mt);return ln}(_t.weight,Yt)))throw new Error("Failed to resolve a font for the rule '"+eE(_t)+"'.");return Yt}(qe,De);this.pdf.setFont(Xe.ref.name,Xe.ref.style)}else{var ze="";(Oe==="bold"||parseInt(Oe,10)>=700||Fe==="bold")&&(ze="bold"),Fe==="italic"&&(ze+="italic"),ze.length===0&&(ze="normal");for(var We="",gt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<Ae.length;dt++){if(this.pdf.internal.getFont(Ae[dt],ze,{noFallback:!0,disableWarning:!0})!==void 0){We=Ae[dt];break}if(ze==="bolditalic"&&this.pdf.internal.getFont(Ae[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)We=Ae[dt],ze="bold";else if(this.pdf.internal.getFont(Ae[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){We=Ae[dt],ze="normal";break}}if(We===""){for(var rt=0;rt<Ae.length;rt++)if(gt[Ae[rt]]){We=gt[Ae[rt]];break}}We=We===""?"Times":We,this.pdf.setFont(We,ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ae){this.ctx.globalCompositeOperation=ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ae){this.ctx.globalAlpha=ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ae){this.ctx.lineDashOffset=ae,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ae){this.ctx.lineDash=ae,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ae){this.ctx.ignoreClearRect=!!ae}})};f.prototype.setLineDash=function(P){this.lineDash=P},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){j.call(this,"fill",!1)},f.prototype.stroke=function(){j.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(P,z){if(isNaN(P)||isNaN(z))throw dr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new s(P,z));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(P,z)},f.prototype.closePath=function(){var P=new s(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&nr(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){P=new s(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(P.x,P.y)},f.prototype.lineTo=function(P,z){if(isNaN(P)||isNaN(z))throw dr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new s(P,z));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(V.x,V.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},f.prototype.quadraticCurveTo=function(P,z,V,re){if(isNaN(V)||isNaN(re)||isNaN(P)||isNaN(z))throw dr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new s(V,re)),ue=this.ctx.transform.applyToPoint(new s(P,z));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new s(ne.x,ne.y)},f.prototype.bezierCurveTo=function(P,z,V,re,ne,ue){if(isNaN(ne)||isNaN(ue)||isNaN(P)||isNaN(z)||isNaN(V)||isNaN(re))throw dr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new s(ne,ue)),oe=this.ctx.transform.applyToPoint(new s(P,z)),pe=this.ctx.transform.applyToPoint(new s(V,re));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:pe.x,y2:pe.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new s(ve.x,ve.y)},f.prototype.arc=function(P,z,V,re,ne,ue){if(isNaN(P)||isNaN(z)||isNaN(V)||isNaN(re)||isNaN(ne))throw dr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new s(P,z));P=ve.x,z=ve.y;var oe=this.ctx.transform.applyToPoint(new s(0,V)),pe=this.ctx.transform.applyToPoint(new s(0,0));V=Math.sqrt(Math.pow(oe.x-pe.x,2)+Math.pow(oe.y-pe.y,2))}Math.abs(ne-re)>=2*Math.PI&&(re=0,ne=2*Math.PI),this.path.push({type:"arc",x:P,y:z,radius:V,startAngle:re,endAngle:ne,counterclockwise:ue})},f.prototype.arcTo=function(P,z,V,re,ne){throw new Error("arcTo not implemented.")},f.prototype.rect=function(P,z,V,re){if(isNaN(P)||isNaN(z)||isNaN(V)||isNaN(re))throw dr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,z),this.lineTo(P+V,z),this.lineTo(P+V,z+re),this.lineTo(P,z+re),this.lineTo(P,z),this.lineTo(P+V,z),this.lineTo(P,z)},f.prototype.fillRect=function(P,z,V,re){if(isNaN(P)||isNaN(z)||isNaN(V)||isNaN(re))throw dr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,z,V,re),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},f.prototype.strokeRect=function(P,z,V,re){if(isNaN(P)||isNaN(z)||isNaN(V)||isNaN(re))throw dr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(P,z,V,re),this.stroke())},f.prototype.clearRect=function(P,z,V,re){if(isNaN(P)||isNaN(z)||isNaN(V)||isNaN(re))throw dr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,z,V,re))},f.prototype.save=function(P){P=typeof P!="boolean"||P;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},f.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(z),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(P){var z,V,re,ne;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))z=0,V=0,re=0,ne=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(ue!==null)z=parseInt(ue[1]),V=parseInt(ue[2]),re=parseInt(ue[3]),ne=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)z=parseInt(ue[1]),V=parseInt(ue[2]),re=parseInt(ue[3]),ne=parseFloat(ue[4]);else{if(ne=1,typeof P=="string"&&P.charAt(0)!=="#"){var ve=new _R(P);P=ve.ok?ve.toHex():"#000000"}P.length===4?(z=P.substring(1,2),z+=z,V=P.substring(2,3),V+=V,re=P.substring(3,4),re+=re):(z=P.substring(1,3),V=P.substring(3,5),re=P.substring(5,7)),z=parseInt(z,16),V=parseInt(V,16),re=parseInt(re,16)}}return{r:z,g:V,b:re,a:ne,style:P}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(P,z,V,re){if(isNaN(z)||isNaN(V)||typeof P!="string")throw dr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!h.call(this)){var ne=$(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;T.call(this,{text:P,x:z,y:V,scale:ue,angle:ne,align:this.textAlign,maxWidth:re})}},f.prototype.strokeText=function(P,z,V,re){if(isNaN(z)||isNaN(V)||typeof P!="string")throw dr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){re=isNaN(re)?void 0:re;var ne=$(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;T.call(this,{text:P,x:z,y:V,scale:ue,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:re})}},f.prototype.measureText=function(P){if(typeof P!="string")throw dr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,V=this.pdf.internal.scaleFactor,re=z.internal.getFontSize(),ne=z.getStringUnitWidth(P)*re/z.internal.scaleFactor;return new function(ue){var ve=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this}({width:ne*=Math.round(96*V/72*1e4)/1e4})},f.prototype.scale=function(P,z){if(isNaN(P)||isNaN(z))throw dr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(P,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.rotate=function(P){if(isNaN(P))throw dr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.translate=function(P,z){if(isNaN(P)||isNaN(z))throw dr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,P,z);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.transform=function(P,z,V,re,ne,ue){if(isNaN(P)||isNaN(z)||isNaN(V)||isNaN(re)||isNaN(ne)||isNaN(ue))throw dr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new l(P,z,V,re,ne,ue);this.ctx.transform=this.ctx.transform.multiply(ve)},f.prototype.setTransform=function(P,z,V,re,ne,ue){P=isNaN(P)?1:P,z=isNaN(z)?0:z,V=isNaN(V)?0:V,re=isNaN(re)?1:re,ne=isNaN(ne)?0:ne,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(P,z,V,re,ne,ue)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(P,z,V,re,ne,ue,ve,oe,pe){var xe=this.pdf.getImageProperties(P),he=1,Te=1,ae=1,Z=1;re!==void 0&&oe!==void 0&&(ae=oe/re,Z=pe/ne,he=xe.width/re*oe/re,Te=xe.height/ne*pe/ne),ue===void 0&&(ue=z,ve=V,z=0,V=0),re!==void 0&&oe===void 0&&(oe=re,pe=ne),re===void 0&&oe===void 0&&(oe=xe.width,pe=xe.height);for(var Fe,Oe=this.ctx.transform.decompose(),Ie=$(Oe.rotate.shx),we=new l,Pe=(we=(we=(we=we.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale)).applyToRectangle(new o(ue-z*ae,ve-V*Z,re*he,ne*Te)),Ae=x.call(this,Pe),qe=[],De=0;De<Ae.length;De+=1)qe.indexOf(Ae[De])===-1&&qe.push(Ae[De]);if(_(qe),this.autoPaging)for(var Xe=qe[0],ze=qe[qe.length-1],We=Xe;We<ze+1;We++){this.pdf.setPage(We);var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=We===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=We===1?0:rt+(We-2)*ht;if(this.ctx.clip_path.length!==0){var Bt=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Fe,this.posX+this.margin[3],-Ve+dt+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=Bt}var Rt=JSON.parse(JSON.stringify(Pe));Rt=w([Rt],this.posX+this.margin[3],-Ve+dt+this.ctx.prevPageLastElemOffset)[0];var nt=(We>Xe||We<ze)&&v.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,ht,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Rt.x,Rt.y,Rt.w,Rt.h,null,null,Ie),nt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",Pe.x,Pe.y,Pe.w,Pe.h,null,null,Ie)};var x=function(P,z,V){var re=[];z=z||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":re.push(Math.floor((P.y+ne)/V)+1);break;case"arc":re.push(Math.floor((P.y+ne-P.radius)/V)+1),re.push(Math.floor((P.y+ne+P.radius)/V)+1);break;case"qct":var ue=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);re.push(Math.floor((ue.y+ne)/V)+1),re.push(Math.floor((ue.y+ue.h+ne)/V)+1);break;case"bct":var ve=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);re.push(Math.floor((ve.y+ne)/V)+1),re.push(Math.floor((ve.y+ve.h+ne)/V)+1);break;case"rect":re.push(Math.floor((P.y+ne)/V)+1),re.push(Math.floor((P.y+P.h+ne)/V)+1)}for(var oe=0;oe<re.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<re[oe];)y.call(this);return re},y=function(){var P=this.fillStyle,z=this.strokeStyle,V=this.font,re=this.lineCap,ne=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=z,this.font=V,this.lineCap=re,this.lineWidth=ne,this.lineJoin=ue},w=function(P,z,V){for(var re=0;re<P.length;re++)switch(P[re].type){case"bct":P[re].x2+=z,P[re].y2+=V;case"qct":P[re].x1+=z,P[re].y1+=V;default:P[re].x+=z,P[re].y+=V}return P},_=function(P){return P.sort(function(z,V){return z-V})},j=function(P,z){for(var V,re,ne=this.fillStyle,ue=this.strokeStyle,ve=this.lineCap,oe=this.lineWidth,pe=Math.abs(oe*this.ctx.transform.scaleX),xe=this.lineJoin,he=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),ae=[],Z=0;Z<Te.length;Z++)if(Te[Z].x!==void 0)for(var Fe=x.call(this,Te[Z]),Oe=0;Oe<Fe.length;Oe+=1)ae.indexOf(Fe[Oe])===-1&&ae.push(Fe[Oe]);for(var Ie=0;Ie<ae.length;Ie++)for(;this.pdf.internal.getNumberOfPages()<ae[Ie];)y.call(this);if(_(ae),this.autoPaging)for(var we=ae[0],Pe=ae[ae.length-1],Ae=we;Ae<Pe+1;Ae++){this.pdf.setPage(Ae),this.fillStyle=ne,this.strokeStyle=ue,this.lineCap=ve,this.lineWidth=pe,this.lineJoin=xe;var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],De=Ae===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=Ae===1?0:Xe+(Ae-2)*ze;if(this.ctx.clip_path.length!==0){var gt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(V,this.posX+this.margin[3],-We+De+this.ctx.prevPageLastElemOffset),S.call(this,P,!0),this.path=gt}if(re=JSON.parse(JSON.stringify(he)),this.path=w(re,this.posX+this.margin[3],-We+De+this.ctx.prevPageLastElemOffset),z===!1||Ae===0){var dt=(Ae>we||Ae<Pe)&&v.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,ze,null).clip().discardPath()),S.call(this,P,z),dt&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}else this.lineWidth=pe,S.call(this,P,z),this.lineWidth=oe;this.path=he},S=function(P,z){if((P!=="stroke"||z||!g.call(this))&&(P==="stroke"||z||!h.call(this))){for(var V,re,ne=[],ue=this.path,ve=0;ve<ue.length;ve++){var oe=ue[ve];switch(oe.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:oe,deltas:[],abs:[]});break;case"lt":var pe=ne.length;if(ue[ve-1]&&!isNaN(ue[ve-1].x)&&(V=[oe.x-ue[ve-1].x,oe.y-ue[ve-1].y],pe>0)){for(;pe>=0;pe--)if(ne[pe-1].close!==!0&&ne[pe-1].begin!==!0){ne[pe-1].deltas.push(V),ne[pe-1].abs.push(oe);break}}break;case"bct":V=[oe.x1-ue[ve-1].x,oe.y1-ue[ve-1].y,oe.x2-ue[ve-1].x,oe.y2-ue[ve-1].y,oe.x-ue[ve-1].x,oe.y-ue[ve-1].y],ne[ne.length-1].deltas.push(V);break;case"qct":var xe=ue[ve-1].x+2/3*(oe.x1-ue[ve-1].x),he=ue[ve-1].y+2/3*(oe.y1-ue[ve-1].y),Te=oe.x+2/3*(oe.x1-oe.x),ae=oe.y+2/3*(oe.y1-oe.y),Z=oe.x,Fe=oe.y;V=[xe-ue[ve-1].x,he-ue[ve-1].y,Te-ue[ve-1].x,ae-ue[ve-1].y,Z-ue[ve-1].x,Fe-ue[ve-1].y],ne[ne.length-1].deltas.push(V);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(oe)}}re=z?null:P==="stroke"?"stroke":"fill";for(var Oe=!1,Ie=0;Ie<ne.length;Ie++)if(ne[Ie].arc)for(var we=ne[Ie].abs,Pe=0;Pe<we.length;Pe++){var Ae=we[Pe];Ae.type==="arc"?L.call(this,Ae.x,Ae.y,Ae.radius,Ae.startAngle,Ae.endAngle,Ae.counterclockwise,void 0,z,!Oe):D.call(this,Ae.x,Ae.y),Oe=!0}else if(ne[Ie].close===!0)this.pdf.internal.out("h"),Oe=!1;else if(ne[Ie].begin!==!0){var qe=ne[Ie].start.x,De=ne[Ie].start.y;F.call(this,ne[Ie].deltas,qe,De),Oe=!0}re&&I.call(this,re),z&&U.call(this)}},k=function(P){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-V;case"top":return P+z-V;case"hanging":return P+z-2*V;case"middle":return P+z/2-V;default:return P}},E=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(z,V){this.colorStops.push([z,V])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(P,z,V,re,ne,ue,ve,oe,pe){for(var xe=K.call(this,V,re,ne,ue),he=0;he<xe.length;he++){var Te=xe[he];he===0&&(pe?O.call(this,Te.x1+P,Te.y1+z):D.call(this,Te.x1+P,Te.y1+z)),B.call(this,P,z,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}oe?U.call(this):I.call(this,ve)},I=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(P,z){this.pdf.internal.out(r(P)+" "+n(z)+" m")},T=function(P){var z;switch(P.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var V=this.pdf.getTextDimensions(P.text),re=k.call(this,P.y),ne=E.call(this,re)-V.h,ue=this.ctx.transform.applyToPoint(new s(P.x,re)),ve=this.ctx.transform.decompose(),oe=new l;oe=(oe=(oe=oe.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var pe,xe,he,Te=this.ctx.transform.applyToRectangle(new o(P.x,re,V.w,V.h)),ae=oe.applyToRectangle(new o(P.x,ne,V.w,V.h)),Z=x.call(this,ae),Fe=[],Oe=0;Oe<Z.length;Oe+=1)Fe.indexOf(Z[Oe])===-1&&Fe.push(Z[Oe]);if(_(Fe),this.autoPaging)for(var Ie=Fe[0],we=Fe[Fe.length-1],Pe=Ie;Pe<we+1;Pe++){this.pdf.setPage(Pe);var Ae=Pe===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[2],Xe=De-this.margin[0],ze=this.pdf.internal.pageSize.width-this.margin[1],We=ze-this.margin[3],gt=Pe===1?0:qe+(Pe-2)*Xe;if(this.ctx.clip_path.length!==0){var dt=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(pe,this.posX+this.margin[3],-1*gt+Ae),S.call(this,"fill",!0),this.path=dt}var rt=w([JSON.parse(JSON.stringify(ae))],this.posX+this.margin[3],-gt+Ae+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*P.scale),he=this.lineWidth,this.lineWidth=he*P.scale);var ht=this.autoPaging!=="text";if(ht||rt.y+rt.h<=De){if(ht||rt.y>=Ae&&rt.x<=ze){var Ve=ht?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||ze-rt.x)[0],Bt=w([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-gt+Ae+this.ctx.prevPageLastElemOffset)[0],Rt=ht&&(Pe>Ie||Pe<we)&&v.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],We,Xe,null).clip().discardPath()),this.pdf.text(Ve,Bt.x,Bt.y,{angle:P.angle,align:z,renderingMode:P.renderingMode}),Rt&&this.pdf.restoreGraphicsState()}}else rt.y<De&&(this.ctx.prevPageLastElemOffset+=De-rt.y);P.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=he)}else P.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*P.scale),he=this.lineWidth,this.lineWidth=he*P.scale),this.pdf.text(P.text,ue.x+this.posX,ue.y+this.posY,{angle:P.angle,align:z,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=he)},D=function(P,z,V,re){V=V||0,re=re||0,this.pdf.internal.out(r(P+V)+" "+n(z+re)+" l")},F=function(P,z,V){return this.pdf.lines(P,z,V,null,null)},B=function(P,z,V,re,ne,ue,ve,oe){this.pdf.internal.out([e(i(V+P)),e(a(re+z)),e(i(ne+P)),e(a(ue+z)),e(i(ve+P)),e(a(oe+z)),"c"].join(" "))},K=function(P,z,V,re){for(var ne=2*Math.PI,ue=Math.PI/2;z>V;)z-=ne;var ve=Math.abs(V-z);ve<ne&&re&&(ve=ne-ve);for(var oe=[],pe=re?-1:1,xe=z;ve>1e-5;){var he=xe+pe*Math.min(ve,ue);oe.push(H.call(this,P,xe,he)),ve-=Math.abs(he-xe),xe=he}return oe},H=function(P,z,V){var re=(V-z)/2,ne=P*Math.cos(re),ue=P*Math.sin(re),ve=ne,oe=-ue,pe=ve*ve+oe*oe,xe=pe+ve*ne+oe*ue,he=4/3*(Math.sqrt(2*pe*xe)-xe)/(ve*ue-oe*ne),Te=ve-he*oe,ae=oe+he*ve,Z=Te,Fe=-ae,Oe=re+z,Ie=Math.cos(Oe),we=Math.sin(Oe);return{x1:P*Math.cos(z),y1:P*Math.sin(z),x2:Te*Ie-ae*we,y2:Te*we+ae*Ie,x3:Z*Ie-Fe*we,y3:Z*we+Fe*Ie,x4:P*Math.cos(V),y4:P*Math.sin(V)}},$=function(P){return 180*P/Math.PI},J=function(P,z,V,re,ne,ue){var ve=P+.5*(V-P),oe=z+.5*(re-z),pe=ne+.5*(V-ne),xe=ue+.5*(re-ue),he=Math.min(P,ne,ve,pe),Te=Math.max(P,ne,ve,pe),ae=Math.min(z,ue,oe,xe),Z=Math.max(z,ue,oe,xe);return new o(he,ae,Te-he,Z-ae)},ie=function(P,z,V,re,ne,ue,ve,oe){var pe,xe,he,Te,ae,Z,Fe,Oe,Ie,we,Pe,Ae,qe,De,Xe=V-P,ze=re-z,We=ne-V,gt=ue-re,dt=ve-ne,rt=oe-ue;for(xe=0;xe<41;xe++)Ie=(Fe=(he=P+(pe=xe/40)*Xe)+pe*((ae=V+pe*We)-he))+pe*(ae+pe*(ne+pe*dt-ae)-Fe),we=(Oe=(Te=z+pe*ze)+pe*((Z=re+pe*gt)-Te))+pe*(Z+pe*(ue+pe*rt-Z)-Oe),xe==0?(Pe=Ie,Ae=we,qe=Ie,De=we):(Pe=Math.min(Pe,Ie),Ae=Math.min(Ae,we),qe=Math.max(qe,Ie),De=Math.max(De,we));return new o(Math.round(Pe),Math.round(Ae),Math.round(qe-Pe),Math.round(De-Ae))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,z,V=(P=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:z}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(lt.API),function(t){var e=function(s){var o,l,c,u,f,p,h,g,v,x;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(p=(f=((f=((f=((f=(f-(x=f%85))/85)-(v=f%85))/85)-(g=f%85))/85)-(h=f%85))/85)%85,l.push(p+33,h+33,g+33,v+33,x+33)):l.push(122);return function(y,w){for(var _=w;_>0;_--)y.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,c,u,f,p=String,h="length",g=255,v="charCodeAt",x="slice",y="replace";for(s[x](-2),s=s[x](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),c=[],u=0,f=(s+=o="uuuuu"[x](s[h]%5||5))[h];f>u;u+=5)l=52200625*(s[v](u)-33)+614125*(s[v](u+1)-33)+7225*(s[v](u+2)-33)+85*(s[v](u+3)-33)+(s[v](u+4)-33),c.push(g&l>>24,g&l>>16,g&l>>8,g&l);return function(w,_){for(var j=_;j>0;j--)w.pop()}(c,o[h]),p.fromCharCode.apply(p,c)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=k5(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(lt.API),function(t){t.loadFile=function(e,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,p=0,h=function(g){var v=g.length,x=[],y=String.fromCharCode;for(p=0;p<v;p+=1)x.push(y(255&g.charCodeAt(p)));return x.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(h(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return h(f.responseText)}(i,a,s)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(lt.API),function(t){function e(){return(yt.html2canvas?Promise.resolve(yt.html2canvas):hx(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(yt.DOMPurify?Promise.resolve(yt.DOMPurify):hx(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=nr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var g=u[h],v=g.src.find(function(x){return x.format==="truetype"});v&&c.addFont(v.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,f).then(function(p){return c.updateProgress(1),p})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),p=c.call(f,o,l);return s.convert(p,u.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,lt.getPageSize=function(o,l,c){if(nr(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var g,v=0,x=0;if(h.hasOwnProperty(p))v=h[p][1]/f,x=h[p][0]/f;else try{v=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>v&&(g=x,x=v,v=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>x&&(g=x,x=v,v=g)}return{width:x,height:v,unit:l,k:f,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Cx):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(lt.API),lt.API.addJS=function(t){return nE=t,this.internal.events.subscribe("postPutResources",function(){Xg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Xg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),rE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+nE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Xg!==void 0&&rE!==void 0&&this.internal.out("/Names <</JavaScript "+Xg+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var f=r.internal.newObject();u.push(f);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<u.length;a++)r.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(lt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,v={width:0,height:0,numcomponents:1},x=4;x<g;x+=2){if(x+=h,e.indexOf(f.charCodeAt(x+1))!==-1){p=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),v={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:p,numcomponents:f.charCodeAt(x+9)};break}h=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return v}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}}(lt.API),lt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=bye(t,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,c=a.palette,u=a.depth;i=c&&l===1?function(L){for(var I=L.width,U=L.height,O=L.data,T=L.palette,D=L.depth,F=!1,B=[],K=[],H=void 0,$=!1,J=0,ie=0;ie<T.length;ie++){var se=oP(T[ie],4),P=se[0],z=se[1],V=se[2],re=se[3];B.push(P,z,V),re!=null&&(re===0?(J++,K.length<1&&K.push(ie)):re<255&&($=!0))}if($||J>1){F=!0,K=void 0;var ne=I*U;H=new Uint8Array(ne);for(var ue=new DataView(O.buffer),ve=0;ve<ne;ve++){var oe=Lx(ue,ve,D),pe=oP(T[oe],4)[3];H[ve]=pe}}else J===0&&(K=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:F?8:void 0,colorBytes:O,alphaBytes:H,needSMask:F,palette:B,mask:K}}(a):l===2||l===4?function(L){for(var I=L.data,U=L.width,O=L.height,T=L.channels,D=L.depth,F=T===2?"DeviceGray":"DeviceRGB",B=T-1,K=U*O,H=B,$=K*H,J=1*K,ie=Math.ceil($*D/8),se=Math.ceil(J*D/8),P=new Uint8Array(ie),z=new Uint8Array(se),V=new DataView(I.buffer),re=new DataView(P.buffer),ne=new DataView(z.buffer),ue=!1,ve=0;ve<K;ve++){for(var oe=ve*T,pe=0;pe<H;pe++)fE(re,Lx(V,oe+pe,D),ve*H+pe,D);var xe=Lx(V,oe+H,D);xe<(1<<D)-1&&(ue=!0),fE(ne,xe,1*ve,D)}return{colorSpace:F,colorsPerPixel:B,sMaskBitsPerComponent:ue?D:void 0,colorBytes:P,alphaBytes:z,needSMask:ue}}(a):function(L){var I=L.data,U=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:U,colorsPerPixel:U==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?function(O){for(var T=O.length,D=new Uint8Array(2*T),F=new DataView(D.buffer,D.byteOffset,D.byteLength),B=0;B<T;B++)F.setUint16(2*B,O[B],!1);return D}(I):I,needSMask:!1}}(a);var f,p,h,g=i,v=g.colorSpace,x=g.colorsPerPixel,y=g.sMaskBitsPerComponent,w=g.colorBytes,_=g.alphaBytes,j=g.needSMask,S=g.palette,k=g.mask,E=null;return n!==lt.API.image_compression.NONE&&typeof k5=="function"?(E=function(L){var I;switch(L){case lt.API.image_compression.FAST:I=11;break;case lt.API.image_compression.MEDIUM:I=13;break;case lt.API.image_compression.SLOW:I=14;break;default:I=12}return I}(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(E," /Colors ").concat(x," /BitsPerComponent ").concat(u," /Columns ").concat(s),t=oE(w,Math.ceil(s*x*u/8),x,u,n),j&&(h=oE(_,Math.ceil(s*y/8),1,y,n))):(f=void 0,p=void 0,t=w,j&&(h=_)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:f,decodeParameters:p,transparency:k,palette:S,sMask:h,predictor:E,width:s,height:o,bitsPerComponent:u,sMaskBitsPerComponent:y,colorSpace:v}}},function(t){t.processGIF89A=function(e,r,n,i){var a=new Fye(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new Ix(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)},t.processGIF87A=t.processGIF89A}(lt.API),Ca.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ca.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){dr.log("bit decode error:"+r)}},Ca.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Ca.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Ca.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Ca.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,c=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=t}},Ca.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/e*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},Ca.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Ca.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},Ca.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var a=new Ca(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Ix(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(lt.API),pE.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var a=new pE(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Ix(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(lt.API),lt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=n[c],f=n[c+1],p=n[c+2],h=n[c+3];a[o++]=u,a[o++]=f,a[o++]=p,s[l++]=h}var g=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},lt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Eu=lt.API,Jg=Eu.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,p=0,h=t.length,g=0,v=o[0]||l,x=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(p=f&&nr(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/u:0,x.push((o[n]||v)/l+p)),g=n;return x},iE=Eu.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Eu.processArabic&&(t=Eu.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Jg.apply(this,arguments).reduce(function(a,s){return a+s},0)},aE=function(t,e,r,n){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<r;)o+=e[a],a++;i.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>n&&(i.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},sE=function(t,e,r){r||(r={});var n,i,a,s,o,l,c,u=[],f=[u],p=r.textIndent||0,h=0,g=0,v=t.split(" "),x=Jg.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),w=[];v.map(function(j){(j=j.split(/\s*\n/)).length>1?w=w.concat(j.map(function(S,k){return(k&&S.length?`
`:"")+S})):w.push(j[0])}),v=w,l=iE.apply(this,[y,r])}for(a=0,s=v.length;a<s;a++){var _=0;if(n=v[a],l&&n[0]==`
`&&(n=n.substr(1),_=1),p+h+(g=(i=Jg.apply(this,[n,r])).reduce(function(j,S){return j+S},0))>e||_){if(g>e){for(o=aE.apply(this,[n,i,e-(p+h),e]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);g=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(j,S){return j+S},0)}else u=[n];f.push(u),p=g+l,h=x}else u.push(n),p+=h+g,h=x}return c=l?function(j,S){return(S?y:"")+j.join(" ")}:function(j){return j.join(" ")},f.map(c)},Eu.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(sE.apply(this,[n[o],s,a]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=t.__fontmetrics__.compress=function(p){var h,g,v,x,y=["{"];for(var w in p){if(h=p[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=s(w).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof h=="number")h<0?(v=s(h).slice(3),x="-"):(v=s(h).slice(2),x=""),v=x+v.slice(0,-1)+i[v.slice(-1)];else{if(nr(h)!=="object")throw new Error("Don't know what to do with value type "+nr(h)+".");v=o(h)}y.push(g+v)}return y.push("}"),y.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,v,x,y={},w=1,_=y,j=[],S="",k="",E=p.length-1,L=1;L<E;L+=1)(x=p[L])=="'"?h?(v=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(j.push([_,v]),_={},v=void 0):x=="}"?((g=j.pop())[0][g[1]]=_,v=void 0,_=g[0]):x=="-"?w=-1:v===void 0?n.hasOwnProperty(x)?(S+=n[x],v=parseInt(S,16)*w,w=1,S=""):S+=x:n.hasOwnProperty(x)?(k+=n[x],_[v]=parseInt(k,16)*w,w=1,v=void 0,k=""):k+=x;return y},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var h=p.font,g=f.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var v=u.Unicode[h.postScriptName];v&&(h.metadata.Unicode.encoding=v,h.encoding=v.codePages[0])}])}(lt.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(f0(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(lt),lt.API.addSvgAsImage=function(t,e,r,n,i,a,s,o){if(isNaN(e)||isNaN(r))throw dr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw dr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(yt.canvg?Promise.resolve(yt.canvg):hx(()=>import("./index.es-BLtz_6_t.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,s,o)})},lt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},lt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function p(g,v){var x,y=!1;for(x=0;x<g.length;x+=1)g[x]===v&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(f=0;f<h;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(nr(t)==="object"){for(i in t)if(a=t[i],p(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&p(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(c=0;c<a.length;c+=1)if(n=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(n=!1);n===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,v=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?v.push("/"+g+" /"+r[g].value):v.push("/"+g+" "+r[g].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(lt.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,p=a.length;f<p;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(a){var s,o,l,c,u,f,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(a).sort(function(h,g){return h-g})).length;f<p;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",g=0;g<p.length;g++)h+=String.fromCharCode(p[g]);var v=c();u({data:h,addLength1:!0,objectId:v}),l("endobj");var x=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+$u(o.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+$u(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+$u(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var g=c();u({data:p,addLength1:!0,objectId:g}),l("endobj");var v=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var x=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+$u(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+$u(o.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,u=a.options||{},f=a.mutex||{},p=f.pdfEscape,h=f.activeFontKey,g=f.fonts,v=h,x="",y=0,w="",_=g[v].encoding;if(g[v].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(w=o,v=h,Array.isArray(o)&&(w=o[0]),y=0;y<w.length;y+=1)g[v].metadata.hasOwnProperty("cmap")&&(s=g[v].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),s||w[y].charCodeAt(0)<256&&g[v].metadata.hasOwnProperty("Unicode")?x+=w[y]:x+="";var j="";return parseInt(v.slice(1))<14||_==="WinAnsiEncoding"?j=p(x,v).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(j=r(x,g[v])),f.isHex=!0,{text:j,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(lt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(lt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,s,o,l,c,u,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,_=0;this.__bidiEngine__={};var j=function(O){var T=O.charCodeAt(),D=T>>8,F=v[D];return F!==void 0?f[256*F+(255&T)]:D===252||D===253?"AL":y.test(D)?"L":D===8?"R":"N"},S=function(O){for(var T,D=0;D<O.length;D++){if((T=j(O.charAt(D)))==="L")return!1;if(T==="R")return!0}return!1},k=function(O,T,D,F){var B,K,H,$,J=T[F];switch(J){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(J="AN");break;case"AL":w=!0,J="R";break;case"WS":case"BN":J="N";break;case"CS":F<1||F+1>=T.length||(B=D[F-1])!=="EN"&&B!=="AN"||(K=T[F+1])!=="EN"&&K!=="AN"?J="N":w&&(K="AN"),J=K===B?K:"N";break;case"ES":J=(B=F>0?D[F-1]:"B")==="EN"&&F+1<T.length&&T[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&D[F-1]==="EN"){J="EN";break}if(w){J="N";break}for(H=F+1,$=T.length;H<$&&T[H]==="ET";)H++;J=H<$&&T[H]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for($=T.length,H=F+1;H<$&&T[H]==="NSM";)H++;if(H<$){var ie=O[F],se=ie>=1425&&ie<=2303||ie===64286;if(B=T[H],se&&(B==="R"||B==="AL")){J="R";break}}}J=F<1||(B=T[F-1])==="B"?"N":D[F-1];break;case"B":w=!1,i=!0,J=_;break;case"S":a=!0,J="N"}return J},E=function(O,T,D){var F=O.split("");return D&&L(F,D,{hiLevel:_}),F.reverse(),T&&T.reverse(),F.join("")},L=function(O,T,D){var F,B,K,H,$,J=-1,ie=O.length,se=0,P=[],z=_?h:p,V=[];for(w=!1,i=!1,a=!1,B=0;B<ie;B++)V[B]=j(O[B]);for(K=0;K<ie;K++){if($=se,P[K]=k(O,V,P,K),F=240&(se=z[$][g[P[K]]]),se&=15,T[K]=H=z[se][5],F>0)if(F===16){for(B=J;B<K;B++)T[B]=1;J=-1}else J=-1;if(z[se][6])J===-1&&(J=K);else if(J>-1){for(B=J;B<K;B++)T[B]=H;J=-1}V[K]==="B"&&(T[K]=0),D.hiLevel|=H}a&&function(re,ne,ue){for(var ve=0;ve<ue;ve++)if(re[ve]==="S"){ne[ve]=_;for(var oe=ve-1;oe>=0&&re[oe]==="WS";oe--)ne[oe]=_}}(V,T,ie)},I=function(O,T,D,F,B){if(!(B.hiLevel<O)){if(O===1&&_===1&&!i)return T.reverse(),void(D&&D.reverse());for(var K,H,$,J,ie=T.length,se=0;se<ie;){if(F[se]>=O){for($=se+1;$<ie&&F[$]>=O;)$++;for(J=se,H=$-1;J<H;J++,H--)K=T[J],T[J]=T[H],T[H]=K,D&&(K=D[J],D[J]=D[H],D[H]=K);se=$}se++}}},U=function(O,T,D){var F=O.split(""),B={hiLevel:_};return D||(D=[]),L(F,D,B),function(K,H,$){if($.hiLevel!==0&&u)for(var J,ie=0;ie<K.length;ie++)H[ie]===1&&(J=x.indexOf(K[ie]))>=0&&(K[ie]=x[J+1])}(F,D,B),I(2,F,T,D,B),I(1,F,T,D,B),F.join("")};return this.__bidiEngine__.doBidiReorder=function(O,T,D){if(function(B,K){if(K)for(var H=0;H<B.length;H++)K[H]=H;o===void 0&&(o=S(B)),c===void 0&&(c=S(B))}(O,T),s||!l||c)if(s&&l&&o^c)_=o?1:0,O=E(O,T,D);else if(!s&&l&&c)_=o?1:0,O=U(O,T,D),O=E(O,T);else if(!s||o||l||c){if(s&&!l&&o^c)O=E(O,T),o?(_=0,O=U(O,T,D)):(_=1,O=U(O,T,D),O=E(O,T));else if(s&&o&&!l&&c)_=1,O=U(O,T,D),O=E(O,T);else if(!s&&!l&&o^c){var F=u;o?(_=1,O=U(O,T,D),_=0,u=!1,O=U(O,T,D),u=F):(_=0,O=U(O,T,D),O=E(O,T),_=1,u=!1,O=U(O,T,D),u=F,O=E(O,T))}}else _=0,O=U(O,T,D);else _=o?1:0,O=U(O,T,D);return O},this.__bidiEngine__.setOptions=function(O){O&&(s=O.isInputVisual,l=O.isOutputVisual,o=O.isInputRtl,c=O.isOutputRtl,u=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(lt),lt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new yl(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new t1e(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Uye(this.contents),this.head=new qye(this),this.name=new Kye(this),this.cmap=new LR(this),this.toUnicode={},this.hhea=new Wye(this),this.maxp=new Yye(this),this.hmtx=new Xye(this),this.post=new Vye(this),this.os2=new Hye(this),this.loca=new e1e(this),this.glyf=new Jye(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Xa,yl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,s,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),Uye=function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,s,o,l,c,u,f,p,h,g,v;for(v in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),u=16*h-f,(i=new yl).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(s),i.writeShort(u),a=16*h,c=i.pos+a,o=null,g=[],r)for(p=r[v],i.writeString(v),i.writeInt(t(p)),i.writeInt(c),i.writeInt(p.length),g=g.concat(p),v==="head"&&(o=c),c+=p.length;c%4;)g.push(0),c++;return i.write(g),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,s;for(r=IR.call(r);r.length%4;)r.push(0);for(a=new yl(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),zye={}.hasOwnProperty,js=function(t,e){for(var r in e)zye.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Xa=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var qye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new yl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),mE=function(){function t(e,r){var n,i,a,s,o,l,c,u,f,p,h,g,v,x,y,w,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),p=h/2,e.pos+=6,a=function(){var j,S;for(S=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)S.push(e.readUInt16());return S}(),e.pos+=2,v=function(){var j,S;for(S=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)S.push(e.readUInt16());return S}(),c=function(){var j,S;for(S=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)S.push(e.readUInt16());return S}(),u=function(){var j,S;for(S=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)S.push(e.readUInt16());return S}(),i=(this.length-e.pos+this.offset)/2,o=function(){var j,S;for(S=[],l=j=0;0<=i?j<i:j>i;l=0<=i?++j:--j)S.push(e.readUInt16());return S}(),l=y=0,_=a.length;y<_;l=++y)for(x=a[l],n=w=g=v[l];g<=x?w<=x:w>=x;n=g<=x?++w:--w)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-g)-(p-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}e.pos=f}return t.encode=function(e,r){var n,i,a,s,o,l,c,u,f,p,h,g,v,x,y,w,_,j,S,k,E,L,I,U,O,T,D,F,B,K,H,$,J,ie,se,P,z,V,re,ne,ue,ve,oe,pe,xe,he;switch(F=new yl,s=Object.keys(e).sort(function(Te,ae){return Te-ae}),r){case"macroman":for(v=0,x=function(){var Te=[];for(g=0;g<256;++g)Te.push(0);return Te}(),w={0:0},a={},B=0,J=s.length;B<J;B++)w[oe=e[i=s[B]]]==null&&(w[oe]=++v),a[i]={old:e[i],new:w[e[i]]},x[i]=w[e[i]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(x),{charMap:a,subtable:F.data,maxGlyphID:v+1};case"unicode":for(T=[],f=[],_=0,w={},n={},y=c=null,K=0,ie=s.length;K<ie;K++)w[S=e[i=s[K]]]==null&&(w[S]=++_),n[i]={old:S,new:w[S]},o=w[S]-i,y!=null&&o===c||(y&&f.push(y),T.push(i),c=o),y=i;for(y&&f.push(y),f.push(65535),T.push(65535),U=2*(I=T.length),L=2*Math.pow(Math.log(I)/Math.LN2,2),p=Math.log(L/2)/Math.LN2,E=2*I-L,l=[],k=[],h=[],g=H=0,se=T.length;H<se;g=++H){if(O=T[g],u=f[g],O===65535){l.push(0),k.push(0);break}if(O-(D=n[O].new)>=32768)for(l.push(0),k.push(2*(h.length+I-g)),i=$=O;O<=u?$<=u:$>=u;i=O<=u?++$:--$)h.push(n[i].new);else l.push(D-O),k.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*I+2*h.length),F.writeUInt16(0),F.writeUInt16(U),F.writeUInt16(L),F.writeUInt16(p),F.writeUInt16(E),ue=0,P=f.length;ue<P;ue++)i=f[ue],F.writeUInt16(i);for(F.writeUInt16(0),ve=0,z=T.length;ve<z;ve++)i=T[ve],F.writeUInt16(i);for(pe=0,V=l.length;pe<V;pe++)o=l[pe],F.writeUInt16(o);for(xe=0,re=k.length;xe<re;xe++)j=k[xe],F.writeUInt16(j);for(he=0,ne=h.length;he<ne;he++)v=h[he],F.writeUInt16(v);return{charMap:n,subtable:F.data,maxGlyphID:_+1}}},t}(),LR=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new mE(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=mE.encode(e,r),(i=new yl).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),Wye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Hye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Vye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),Gye=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Kye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,s,o,l,c,u,f,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=u=0,f=n.length;u<f;a=++u)i=n[a],e.pos=i.offset,c=e.readString(i.length),s=new Gye(c,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),Yye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Xye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,s,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,f,p;for(p=[],c=0,u=(f=this.metrics).length;c<u;c++)a=f[c],p.push(a.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),IR=[].slice,Jye=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,s,o,l,c,u,f;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(o=new yl(r.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=s===-1?new Qye(o,c,f,l,u):new Zye(o,s,c,f,l,u),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,s,o,l;for(s=[],a=[],o=0,l=r.length;o<l;o++)i=e[r[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},t}(),Zye=function(){function t(e,r,n,i,a,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Qye=function(){function t(e,r,n,i,a){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new yl(IR.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),e1e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return js(t,Xa),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},t}(),t1e=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,s,o,l,c,u,f,p,h,g,v,x,y;for(i in n=LR.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},y=n.charMap)h[(l=y[i]).old]=l.new;for(g in p=n.maxGlyphID,s)g in h||(h[g]=p++);return u=function(w){var _,j;for(_ in j={},w)j[w[_]]=_;return j}(h),f=Object.keys(u).sort(function(w,_){return w-_}),v=function(){var w,_,j;for(j=[],w=0,_=f.length;w<_;w++)o=f[w],j.push(u[o]);return j}(),a=this.font.glyf.encode(s,v,h),c=this.font.loca.encode(a.offsets,v),x={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t}();lt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+r},e}();function r1e(t){const e=new lt;let r=20;const n=e.internal.pageSize.getWidth(),i=20,a=n-2*i,s=(l,c,u=!1,f="#000000")=>{e.setFontSize(c),e.setTextColor(f),u?e.setFont("helvetica","bold"):e.setFont("helvetica","normal"),e.splitTextToSize(l,a).forEach(h=>{r>e.internal.pageSize.getHeight()-30&&(e.addPage(),r=20),e.text(h,i,r),r+=c*.5}),r+=5};s("Simulation Debrief Report",18,!0),r+=5,s(`Case: ${t.caseTitle}`,12,!0),s(`Patient: ${t.patientName}`,10),r+=5,s("Performance Summary",14,!0,"#3b82f6"),r+=3,s(`Overall Score: ${t.score.overall}%`,12,!0),s(`Diagnosis Accuracy: ${t.score.accuracy}%`,10),s(`MCQ Score: ${t.score.mcqScore}%`,10),s(`Time Taken: ${t.timeTaken} minutes`,10),s(`Current Streak: ${t.currentStreak} days`,10),r+=5,t.score.sloResults&&t.score.sloResults.length>0&&(s("Learning Outcomes",14,!0,"#3b82f6"),r+=3,t.score.sloResults.forEach(l=>{const c=l.status==="Achieved"?"":"";s(`${c} ${l.sloId}: ${l.percent}%`,10),l.sloText&&s(`   ${l.sloText}`,9)}),r+=5),s("Diagnosis Review",14,!0,"#3b82f6"),r+=3,s(`Your Diagnosis: ${t.diagnosis.student}`,10),s(`Correct Diagnosis: ${t.diagnosis.correct}`,10,!0),t.diagnosis.potential&&t.diagnosis.potential.length>0&&(s("Other Potential Diagnoses:",10,!0),t.diagnosis.potential.forEach(l=>{s(`   ${l.dx}`,9)})),r+=5,t.stepwiseReasoning&&(s("Stepwise Reasoning",14,!0,"#3b82f6"),r+=3,s(t.stepwiseReasoning,9),r+=5),t.mcqResults&&t.mcqResults.length>0&&(s("MCQ Results",14,!0,"#3b82f6"),r+=3,t.mcqResults.forEach((l,c)=>{s(`${c+1}. ${l.question}`,10,!0),l.options.forEach((u,f)=>{let p="  ";f===l.correctIndex&&(p=" "),f===l.selectedIndex&&!l.correct&&(p=" "),s(`${p}${u}`,9)}),l.explanation&&s(`Explanation: ${l.explanation}`,9),r+=3}),r+=5),t.rubricResults&&t.rubricResults.length>0&&(s("Rubric Assessment",14,!0,"#3b82f6"),r+=3,t.rubricResults.forEach((l,c)=>{s(`${c+1}. ${l.criterion}`,10,!0),s(`   Points: ${l.pointsEarned} / ${l.maxPoints}`,9),l.percentage!==void 0&&s(`   Score: ${l.percentage}%`,9),l.feedback&&s(`   Feedback: ${l.feedback}`,9),r+=3}),r+=5),t.learningPearls&&t.learningPearls.length>0&&(s("Learning Pearls",14,!0,"#3b82f6"),r+=3,t.learningPearls.forEach(l=>{s(` ${l}`,9)}),r+=5),t.furtherReading&&t.furtherReading.length>0&&(s("Further Reading",14,!0,"#3b82f6"),r+=3,t.furtherReading.forEach(l=>{s(` ${l.title}`,9),l.url&&s(`  ${l.url}`,8)}));const o=e.getNumberOfPages();for(let l=1;l<=o;l++)e.setPage(l),e.setFontSize(8),e.setTextColor("#666666"),e.text(`Page ${l} of ${o} | Generated on ${new Date().toLocaleDateString()}`,i,e.internal.pageSize.getHeight()-10);return e}function n1e({user:t}){var ne,ue,ve,oe,pe,xe,he,Te;const{runId:e}=wy(),r=Ga(),n=vo(),[i,a]=Y.useState(null),[s,o]=Y.useState(!0),[l,c]=Y.useState(null),[u,f]=Y.useState("feedback"),[p,h]=Y.useState(0),[g,v]=Y.useState({}),[x,y]=Y.useState(!1);Y.useEffect(()=>{e&&(_(),w())},[e]),Y.useEffect(()=>{if(i&&i.transcript){const Z=i.transcript.postCaseMCQAnswers||{};v(Z),y(Object.keys(Z).length>0)}},[i]);const w=async()=>{try{const{data:ae}=await Le.from("simulation_runs").select("submitted_at, created_at").eq("student_id",t.id).not("submitted_at","is",null).order("submitted_at",{ascending:!1});if(!ae||ae.length===0){h(0);return}let Z=0;const Fe=new Date;Fe.setHours(0,0,0,0);let Oe=new Date(Fe);for(const Ie of ae){const we=new Date(Ie.submitted_at||Ie.created_at);if(we.setHours(0,0,0,0),we.getTime()===Oe.getTime())Z++,Oe.setDate(Oe.getDate()-1);else if(we.getTime()<Oe.getTime())break}h(Z)}catch(ae){console.error("Error calculating streak:",ae),h(0)}},_=async()=>{try{const{data:ae,error:Z}=await Le.from("simulation_runs").select("*").eq("id",e).single();if(Z)throw Z;if(a(ae),ae){const Fe=ae.transcript,Oe=(Fe==null?void 0:Fe.postCaseMCQAnswers)||{};v(Oe),y(Object.keys(Oe).length>0)}if(ae.assignment_id){const{data:Fe}=await Le.from("assignments").select("snapshot_id").eq("id",ae.assignment_id).single();if(Fe){const{data:Oe}=await Le.from("case_snapshots").select("*").eq("id",Fe.snapshot_id).single();c(Oe)}}}catch(ae){console.error("Error loading debrief:",ae)}finally{o(!1)}};if(s)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});if(!i||!i.score)return d.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:d.jsx("p",{children:"Debrief data not available yet."})});const j=i.score,S=j.overall||0,k=j.sloResults||[],E=j.rubricResults||[],L=i.transcript,U=(((ne=l==null?void 0:l.clinical_case)==null?void 0:ne.mcqs)||[]).slice(-3).slice(0,3),O=(L==null?void 0:L.postCaseMCQAnswers)||{},T=U.length>0&&U.some(ae=>O[`post-case-${ae.id}`]!==void 0),D=j.postCaseMCQs||[],F=j.correctDiagnosis||((oe=(ve=(ue=l==null?void 0:l.clinical_case)==null?void 0:ue.potentialDiagnoses)==null?void 0:ve[0])==null?void 0:oe.dx)||"",B=j.studentDiagnosis||(L==null?void 0:L.diagnosis)||"",K=j.diagnosisCorrect||!1,H=j.diagnosisScore||0,J=(()=>{if(!i.started_at||!i.submitted_at)return"N/A";const ae=new Date(i.started_at),Z=new Date(i.submitted_at),Fe=Math.floor((Z.getTime()-ae.getTime())/6e4),Oe=Math.floor((Z.getTime()-ae.getTime())%6e4/1e3);return`${Fe}m ${Oe}s`})(),ie=j.stepwiseReasoning||j.aiComments||"Stepwise reasoning not available.",se=((pe=l==null?void 0:l.clinical_case)==null?void 0:pe.learningPearls)||[],P=((xe=l==null?void 0:l.clinical_case)==null?void 0:xe.furtherReading)||[],z=ae=>ae>=80?"text-green-600":ae>=60?"text-yellow-600":"text-red-600",V=ae=>ae>=80?"bg-green-100 text-green-800 border-green-200":ae>=60?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200",re=()=>{var Pe,Ae,qe,De,Xe;if(!i||!l)return;const ae=((Pe=l.clinical_case)==null?void 0:Pe.title)||"Untitled Case",Z=((qe=(Ae=l.clinical_case)==null?void 0:Ae.patientProfile)==null?void 0:qe.name)||"Patient";let Fe=0;if(i.started_at&&i.submitted_at){const ze=new Date(i.started_at),We=new Date(i.submitted_at);Fe=Math.floor((We.getTime()-ze.getTime())/6e4)}const Oe=(D||[]).map((ze,We)=>{const gt=U.find(ht=>ht.question===ze.question),dt=(gt==null?void 0:gt.answerIndex)??-1,rt=g[`post-case-${gt==null?void 0:gt.id}`]??-1;return{question:ze.question||`Question ${We+1}`,options:ze.options||(gt==null?void 0:gt.options)||[],selectedIndex:rt,correctIndex:dt,correct:rt===dt,explanation:ze.explanation}}),Ie={caseTitle:ae,patientName:Z,score:{overall:S,accuracy:H,mcqScore:Oe.length>0?Math.round(Oe.filter(ze=>ze.correct).length/Oe.length*100):0,sloResults:k.map(ze=>({sloId:ze.sloId||"Unknown",sloText:ze.sloText,status:ze.status||"Not Achieved",percent:ze.percent||0}))},timeTaken:Fe,currentStreak:p,stepwiseReasoning:ie,diagnosis:{student:B,correct:F,potential:((De=l.clinical_case)==null?void 0:De.potentialDiagnoses)||[]},mcqResults:Oe,rubricResults:((Xe=i.score)==null?void 0:Xe.rubricResults)||[],learningPearls:se,furtherReading:P};r1e(Ie).save(`debrief-${ae.replace(/[^a-z0-9]/gi,"-").toLowerCase()}-${new Date().toISOString().split("T")[0]}.pdf`)};return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Simulation Debrief"}),((he=l==null?void 0:l.clinical_case)==null?void 0:he.title)&&d.jsx("p",{className:"text-gray-600",children:l.clinical_case.title})]}),d.jsxs("button",{onClick:()=>r("/results"),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900",children:[d.jsx(gp,{className:"w-4 h-4"}),"Back to Results"]})]}),d.jsx("div",{className:`mb-6 p-4 rounded-lg border-2 ${K?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[K?d.jsx(ps,{className:"w-6 h-6 text-green-600"}):d.jsx(Ac,{className:"w-6 h-6 text-red-600"}),d.jsxs("div",{children:[d.jsxs("div",{className:`font-semibold ${K?"text-green-800":"text-red-800"}`,children:["Diagnosis ",K?"Correct":"Incorrect"]}),!K&&d.jsxs("div",{className:"text-sm text-red-700 mt-1",children:["The correct diagnosis was: ",F]})]})]})}),d.jsx(o0e,{accuracy:H,timeTaken:J,currentStreak:p}),d.jsx(s0e,{activeTab:u,onTabChange:f}),d.jsxs("div",{className:"mt-6",children:[u==="feedback"&&d.jsxs("div",{children:[d.jsx(l0e,{reasoning:ie}),d.jsx(u0e,{pearls:se}),d.jsx(d0e,{references:P}),j.aiComments&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(qa,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"AI-Generated Feedback"})]}),d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:j.aiComments})})]}),S<80&&d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(jy,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Areas for Improvement"}),d.jsxs("ul",{className:"list-disc list-inside text-yellow-800 space-y-1",children:[k.filter(ae=>ae.status!=="Achieved").slice(0,3).map((ae,Z)=>d.jsxs("li",{children:["Focus on improving ",ae.sloId||`SLO ${Z+1}`," (currently"," ",ae.percent.toFixed(0),"%)"]},Z)),d.jsx("li",{children:"Review the case materials and practice similar scenarios"}),d.jsx("li",{children:"Consider retaking this simulation to improve your score"})]})]})]})})]}),u==="review"&&d.jsxs("div",{children:[d.jsxs("div",{className:`bg-white rounded-lg shadow p-6 mb-6 border-2 ${V(S)}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Overall Performance"}),d.jsx(lm,{className:`w-6 h-6 ${z(S)}`})]}),d.jsx("div",{className:"flex items-center justify-center mb-4",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:`text-6xl font-bold ${z(S)}`,children:[S.toFixed(0),"%"]}),d.jsx("div",{className:"text-gray-600 mt-2",children:"Overall Score"})]})}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:k.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"SLOs Assessed"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:k.filter(ae=>ae.status==="Achieved").length}),d.jsx("div",{className:"text-sm text-gray-600",children:"SLOs Achieved"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:J}),d.jsx("div",{className:"text-sm text-gray-600",children:"Time Taken"})]})]})]}),((Te=l==null?void 0:l.clinical_case)==null?void 0:Te.potentialDiagnoses)&&d.jsx(c0e,{potentialDiagnoses:l.clinical_case.potentialDiagnoses,studentDiagnosis:B,correctDiagnosis:F}),k.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(co,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"SLO (Specific Learning Outcomes) Breakdown"})]}),d.jsx("div",{className:"space-y-4",children:k.map((ae,Z)=>d.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"font-medium text-gray-900",children:ae.sloId||`SLO ${Z+1}`}),ae.sloText&&d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ae.sloText})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[ae.status==="Achieved"?d.jsx(ps,{className:"w-5 h-5 text-green-600"}):d.jsx(Ac,{className:"w-5 h-5 text-red-600"}),d.jsxs("span",{className:`font-semibold ${z(ae.percent)}`,children:[ae.percent.toFixed(0),"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:`h-3 rounded-full transition-all ${ae.percent>=70?"bg-green-600":ae.percent>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(ae.percent,100)}%`}})}),ae.feedback&&d.jsxs("p",{className:"text-sm text-gray-600 mt-2 italic",children:['"',ae.feedback,'"']})]},Z))})]}),E.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(ga,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Rubric Assessment"})]}),d.jsx("div",{className:"space-y-3",children:E.map((ae,Z)=>d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"font-medium text-gray-900",children:ae.criterion}),d.jsxs("span",{className:"text-sm text-gray-600",children:[ae.pointsEarned," / ",ae.maxPoints," points"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${ae.pointsEarned/ae.maxPoints*100}%`}})}),ae.feedback&&d.jsx("p",{className:"text-sm text-gray-600 mt-2",children:ae.feedback})]},Z))})]})]}),u==="questions"&&d.jsx("div",{children:U.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(ga,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"POST-CASE QUESTIONS"})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:x?"Review your answers and results below.":"Answer these questions based on the case you just completed."}),d.jsx("div",{className:"space-y-4",children:U.map((ae,Z)=>{var qe;const Fe=`post-case-${ae.id}`,Oe=g[Fe],Ie=ae.answerIndex,we=ae.options[Ie],Pe=x||T,Ae=D.find(De=>De.question===ae.question);return d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsx("div",{className:"flex items-start justify-between mb-3",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("p",{className:"font-medium text-gray-900 mb-2",children:[Z+1,". ",ae.question]}),d.jsx("div",{className:"space-y-2 mt-3",children:(qe=ae.options)==null?void 0:qe.map((De,Xe)=>{const ze=Oe===Xe,We=Xe===Ie;return d.jsx("button",{onClick:()=>{Pe||v({...g,[Fe]:Xe})},disabled:Pe,className:`w-full text-left p-3 rounded-lg border-2 transition-all ${Pe?We?"bg-green-50 border-green-200":ze&&!We?"bg-red-50 border-red-200":"bg-white border-gray-200":ze?"bg-primary-50 border-primary-300":"bg-white border-gray-200 hover:border-primary-300 hover:bg-gray-50"} ${Pe?"cursor-default":"cursor-pointer"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:De}),Pe&&We&&d.jsx(ps,{className:"w-5 h-5 text-green-600"}),Pe&&ze&&!We&&d.jsx(Ac,{className:"w-5 h-5 text-red-600"}),!Pe&&ze&&d.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-primary-600 bg-primary-100"})]})},Xe)})})]})}),Pe&&((Ae==null?void 0:Ae.explanation)||ae.explanation)&&d.jsxs("div",{className:"mt-3 pt-3 border-t",children:[d.jsx("div",{className:"font-medium text-gray-700 mb-1",children:"EXPLANATION"}),d.jsx("p",{className:"text-sm text-gray-600",children:(Ae==null?void 0:Ae.explanation)||`The correct answer is ${we}. ${ae.explanation||""}`})]})]},Z)})}),!x&&!T&&d.jsx("div",{className:"mt-6 pt-4 border-t",children:d.jsx("button",{onClick:async()=>{if(!U.every(Z=>g[`post-case-${Z.id}`]!==void 0)){n.warning("Please answer all questions before submitting.");return}if(e){const Z={...L,postCaseMCQAnswers:g},{error:Fe}=await Le.from("simulation_runs").update({transcript:Z}).eq("id",e);if(Fe){n.error("Error saving answers: "+Fe.message);return}try{const{error:Oe}=await Le.functions.invoke("score_simulation",{body:{runId:e}});Oe?console.error("Error re-scoring:",Oe):(await _(),y(!0))}catch(Oe){console.error("Error calling score function:",Oe)}}},disabled:U.some(ae=>g[`post-case-${ae.id}`]===void 0),className:"w-full px-4 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-all",children:"Submit Answers"})}),(x||T)&&d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-gray-600",children:["Score: ",U.filter(ae=>g[`post-case-${ae.id}`]===ae.answerIndex).length," / ",U.length]}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[U.length>0?(U.filter(ae=>g[`post-case-${ae.id}`]===ae.answerIndex).length/U.length*100).toFixed(0):0,"%"]})]})})]})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-6",children:[d.jsxs("button",{onClick:()=>r("/results"),className:"flex items-center justify-center gap-2 px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[d.jsx(gp,{className:"w-4 h-4"}),"Back to Results"]}),d.jsxs("button",{onClick:re,className:"flex items-center justify-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(od,{className:"w-4 h-4"}),"Download PDF Report"]})]})]}),d.jsx(Mn,{role:"student"}),d.jsx(gl,{toasts:n.toasts,onClose:n.removeToast})]})}function i1e({user:t}){const e=Ga(),[r,n]=Y.useState([]),[i,a]=Y.useState(!0);Y.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:c,error:u}=await Le.from("simulation_runs").select("*").eq("student_id",t.id).not("submitted_at","is",null).order("submitted_at",{ascending:!1});if(u)throw u;const f=await Promise.all((c||[]).map(async p=>{const{data:h}=await Le.from("assignments").select("*").eq("id",p.assignment_id).single();let g=null;if(h){const{data:v}=await Le.from("case_snapshots").select("*").eq("id",h.snapshot_id).single();g=v}return{...p,assignment:h,snapshot:g}}));n(f)}catch(c){console.error("Error loading results:",c)}finally{a(!1)}},o=c=>c>=80?"bg-green-100 text-green-800":c>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",l=(c,u)=>{const f=new Date(c),p=new Date(u);return`${Math.floor((p.getTime()-f.getTime())/6e4)} minutes`};return i?d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Results & History"}),d.jsx("p",{className:"text-gray-600",children:"View your past simulation attempts and performance"})]}),r.length>0&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Attempts"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.length>0?Math.round(r.reduce((c,u)=>{var p;const f=((p=u.score)==null?void 0:p.overall)||0;return c+f},0)/r.length):0,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:[r.length>0?Math.max(...r.map(c=>{var f;return((f=c.score)==null?void 0:f.overall)||0})):0,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]})]}),r.length===0?d.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[d.jsx(lm,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 text-lg",children:"No completed simulations yet"}),d.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Complete a simulation to see your results here"})]}):d.jsx("div",{className:"space-y-4",children:r.map(c=>{var g,v,x,y,w,_,j;const u=((g=c.score)==null?void 0:g.overall)||0,f=((v=c.score)==null?void 0:v.sloResults)||[],p=((y=(x=c.snapshot)==null?void 0:x.clinical_case)==null?void 0:y.title)||"Untitled Station",h=((j=(_=(w=c.snapshot)==null?void 0:w.clinical_case)==null?void 0:_.patientProfile)==null?void 0:j.name)||"Patient";return d.jsx("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p}),d.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Patient: ",h]})]}),d.jsxs("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${o(u)}`,children:[u.toFixed(0),"%"]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm text-gray-600",children:[c.started_at&&c.submitted_at&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Kc,{className:"w-4 h-4"}),d.jsx("span",{children:l(c.started_at,c.submitted_at)})]}),c.submitted_at&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(cf,{className:"w-4 h-4"}),d.jsx("span",{children:new Date(c.submitted_at).toLocaleDateString()})]}),f.length>0&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(qa,{className:"w-4 h-4"}),d.jsxs("span",{children:[f.filter(S=>S.status==="Achieved").length," /"," ",f.length," SLOs Achieved"]})]})]}),f.length>0&&d.jsxs("div",{className:"mt-4 space-y-2",children:[f.slice(0,3).map((S,k)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${S.percent>=70?"bg-green-600":"bg-yellow-600"}`,style:{width:`${S.percent}%`}})}),d.jsxs("span",{className:"text-xs text-gray-600 w-12 text-right",children:[S.percent,"%"]})]},k)),f.length>3&&d.jsxs("p",{className:"text-xs text-gray-500",children:["+",f.length-3," more SLOs"]})]})]}),d.jsx("div",{className:"flex gap-2",children:d.jsxs("button",{onClick:()=>e(`/debrief/${c.id}`),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:[d.jsx(q_,{className:"w-4 h-4"}),"View Details"]})})]})},c.id)})})]}),d.jsx(Mn,{role:"student"})]})}function a1e({user:t}){const e=vo(),[r,n]=Y.useState({totalAttempts:0,averageScore:0,bestScore:0,completedAssignments:0}),[i,a]=Y.useState([]),[s,o]=Y.useState([]),[l,c]=Y.useState(!0),[u,f]=Y.useState(!1),[p,h]=Y.useState(!1),[g,v]=Y.useState({totalTimeSpent:0,averageTimePerAttempt:0,improvementRate:0,slosAchieved:0,totalSlos:0,streak:0,lastActivity:null});Y.useEffect(()=>{x(),y()},[]);const x=async()=>{try{const{data:S}=await Le.from("simulation_runs").select("score, submitted_at, started_at, created_at").eq("student_id",t.id).not("submitted_at","is",null),k=S||[],E=k.map(ne=>{var ue;return((ue=ne.score)==null?void 0:ue.overall)||0}).filter(ne=>ne>0),L=k.length,I=E.length>0?E.reduce((ne,ue)=>ne+ue,0)/E.length:0,U=E.length>0?Math.max(...E):0,{data:O}=await Le.from("cohort_members").select("cohort_id").eq("student_id",t.id);let T=0;if(O&&O.length>0){const ne=O.map(ve=>ve.cohort_id),{data:ue}=await Le.from("assignments").select("id").in("cohort_id",ne);if(ue){const ve=ue.map(pe=>pe.id),{data:oe}=await Le.from("simulation_runs").select("assignment_id").eq("student_id",t.id).not("submitted_at","is",null).in("assignment_id",ve);T=new Set(oe==null?void 0:oe.map(pe=>pe.assignment_id)).size}}const{data:D}=await Le.from("simulation_runs").select("started_at, submitted_at, score, created_at").eq("student_id",t.id).not("submitted_at","is",null),F=(D||[]).reduce((ne,ue)=>{if(ue.started_at&&ue.submitted_at){const ve=new Date(ue.started_at),oe=new Date(ue.submitted_at);return ne+Math.floor((oe.getTime()-ve.getTime())/6e4)}return ne},0),B=k.length>0?Math.round(F/k.length):0;let K=0,H=0;k.forEach(ne=>{var ve;(((ve=ne.score)==null?void 0:ve.sloResults)||[]).forEach(oe=>{H++,oe.status==="Achieved"&&K++})});const $=E.slice(0,5),J=E.slice(5,10),ie=$.length>0?$.reduce((ne,ue)=>ne+ue,0)/$.length:0,se=J.length>0?J.reduce((ne,ue)=>ne+ue,0)/J.length:0,P=se>0?(ie-se)/se*100:0,z=k[0],V=(z==null?void 0:z.submitted_at)||null;let re=0;if(k.length>0){const ne=new Date;ne.setHours(0,0,0,0);let ue=new Date(ne);for(let ve=0;ve<k.length;ve++){const oe=k[ve],pe=new Date(oe.submitted_at||oe.created_at||oe.started_at);if(pe.setHours(0,0,0,0),pe.getTime()===ue.getTime())re++,ue.setDate(ue.getDate()-1);else if(pe.getTime()<ue.getTime())break}}n({totalAttempts:L,averageScore:Math.round(I),bestScore:Math.round(U),completedAssignments:T}),v({totalTimeSpent:F,averageTimePerAttempt:B,improvementRate:Math.round(P*10)/10,slosAchieved:K,totalSlos:H,streak:re,lastActivity:V})}catch(S){console.error("Error loading stats:",S)}finally{c(!1)}},y=async()=>{try{const{data:S}=await Le.from("cohort_members").select("cohort_id, cohorts(id, name, description)").eq("student_id",t.id),k=(S||[]).map(U=>U.cohort_id),E=(S||[]).map(U=>U.cohorts).filter(Boolean);a(E);const{data:L}=await Le.from("cohorts").select("id, name, description").order("name"),I=(L||[]).filter(U=>!k.includes(U.id));o(I)}catch(S){console.error("Error loading cohorts:",S)}},w=async S=>{f(!0);try{const{error:k}=await Le.from("cohort_members").insert({cohort_id:S,student_id:t.id});if(k)throw k;await y()}catch(k){e.error("Error joining cohort: "+k.message)}finally{f(!1)}},_=async S=>{if(confirm("Are you sure you want to leave this cohort? You will lose access to its assignments.")){f(!0);try{const{error:k}=await Le.from("cohort_members").delete().eq("cohort_id",S).eq("student_id",t.id);if(k)throw k;await y()}catch(k){e.error("Error leaving cohort: "+k.message)}finally{f(!1)}}},j=async()=>{await z_()};return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Profile"}),d.jsx("p",{className:"text-gray-600",children:"View your account information and performance statistics"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center",children:d.jsx(ms,{className:"w-10 h-10 text-primary-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(YT,{className:"w-4 h-4"}),d.jsx("span",{children:t.email})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[d.jsx(cf,{className:"w-4 h-4"}),d.jsxs("span",{children:["Member since ",new Date(t.created_at).toLocaleDateString()]})]})]})]}),d.jsx("div",{className:"border-t pt-4",children:d.jsx("div",{className:"flex items-center gap-2 text-sm",children:d.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full font-medium",children:"Student"})})})]}),!l&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Ay,{className:"w-5 h-5 text-primary-600"}),d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.totalAttempts})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Attempts"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(qa,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.averageScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(lm,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[r.bestScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Dh,{className:"w-5 h-5 text-primary-600"}),d.jsx("div",{className:"text-2xl font-bold text-primary-600",children:r.completedAssignments})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(co,{className:"w-5 h-5 text-primary-600"}),"Performance Metrics"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Time Spent"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[g.totalTimeSpent," min"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Avg Time per Attempt"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[g.averageTimePerAttempt," min"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Improvement Rate"}),d.jsxs("span",{className:`font-semibold ${g.improvementRate>0?"text-green-600":g.improvementRate<0?"text-red-600":"text-gray-900"}`,children:[g.improvementRate>0?"+":"",g.improvementRate,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Current Streak"}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[g.streak," days"]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(Dh,{className:"w-5 h-5 text-primary-600"}),"Learning Outcomes"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"SLOs Achieved"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[g.slosAchieved," / ",g.totalSlos]})]}),g.totalSlos>0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-primary-600 h-3 rounded-full transition-all",style:{width:`${g.slosAchieved/g.totalSlos*100}%`}})}),d.jsxs("div",{className:"text-sm text-gray-500",children:[(g.slosAchieved/g.totalSlos*100).toFixed(1),"% achievement rate"]})]}),g.lastActivity&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mt-4 pt-4 border-t",children:[d.jsx(Kc,{className:"w-4 h-4"}),d.jsxs("span",{children:["Last activity: ",new Date(g.lastActivity).toLocaleDateString()]})]})]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ic,{className:"w-5 h-5 text-primary-600"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Cohorts"})]}),d.jsxs("button",{onClick:()=>h(!p),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:[d.jsx(XT,{className:"w-4 h-4"}),"Manage"]})]}),i.length===0?d.jsx("p",{className:"text-gray-500 text-sm",children:"You are not in any cohorts yet."}):d.jsx("div",{className:"space-y-2",children:i.map(S=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:S.name}),S.description&&d.jsx("div",{className:"text-sm text-gray-500",children:S.description})]}),p&&d.jsx("button",{onClick:()=>_(S.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Leave cohort",children:d.jsx(uf,{className:"w-4 h-4"})})]},S.id))}),p&&s.length>0&&d.jsxs("div",{className:"mt-4 pt-4 border-t",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Cohorts"}),d.jsx("div",{className:"space-y-2",children:s.map(S=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-md",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:S.name}),S.description&&d.jsx("div",{className:"text-sm text-gray-500",children:S.description})]}),d.jsxs("button",{onClick:()=>w(S.id),disabled:u,className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 transition-colors",children:[d.jsx(cm,{className:"w-4 h-4"}),"Join"]})]},S.id))})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Actions"}),d.jsx("div",{className:"space-y-2",children:d.jsxs("button",{onClick:j,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors font-medium",children:[d.jsx(KT,{className:"w-5 h-5"}),"Sign Out"]})})]})]}),d.jsx(Mn,{role:"student"})]})}function s1e({data:t}){return d.jsx(Yy,{width:"100%",height:300,children:d.jsxs(U$,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(b1,{strokeDasharray:"3 3"}),d.jsx(tu,{dataKey:"date"}),d.jsx(ru,{domain:[0,100]}),d.jsx(Ri,{}),d.jsx(ro,{}),d.jsx(zc,{type:"monotone",dataKey:"score",stroke:"#3b82f6",strokeWidth:2,name:"Score (%)",dot:{fill:"#3b82f6",r:4}})]})})}function o1e({user:t}){const[e,r]=Y.useState(null),[n,i]=Y.useState(!0),[a,s]=Y.useState([]);Y.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:c}=await Le.from("cohort_members").select("cohort_id").eq("student_id",t.id),u=(c==null?void 0:c.map(P=>P.cohort_id))||[];let f=[];if(u.length>0){const{data:P}=await Le.from("assignments").select("*").in("cohort_id",u);f=P||[]}const{data:p}=await Le.from("simulation_runs").select("*, assignments!inner(snapshot_id, case_snapshots!inner(clinical_case))").eq("student_id",t.id).order("submitted_at",{ascending:!1}),h=(p||[]).filter(P=>P.submitted_at),g=(p||[]).filter(P=>!P.submitted_at),v=h.map(P=>{var z;return((z=P.score)==null?void 0:z.overall)||0}).filter(P=>P>0),x=v.length>0?v.reduce((P,z)=>P+z,0)/v.length:0,y=v.length>0?Math.max(...v):0,w=v.slice(0,3),_=v.slice(3,6),j=w.length>0?w.reduce((P,z)=>P+z,0)/w.length:0,S=_.length>0?_.reduce((P,z)=>P+z,0)/_.length:0,k=S>0?(j-S)/S*100:0,E=h.slice(0,10).map(P=>{var re;const z=((re=P.score)==null?void 0:re.overall)||0,V=P.submitted_at||P.created_at;return{date:new Date(V).toLocaleDateString("en-US",{month:"short",day:"numeric"}),score:Math.round(z)}}).reverse();s(E);const L=new Map;h.forEach(P=>{var V;(((V=P.score)==null?void 0:V.sloResults)||[]).forEach(re=>{const ne=re.sloId||"unknown";L.has(ne)||L.set(ne,{achieved:0,total:0,text:re.sloText});const ue=L.get(ne);ue.total++,re.status==="Achieved"&&ue.achieved++})});const I=Array.from(L.entries()).map(([P,z])=>({sloId:P,sloText:z.text,achieved:z.achieved,total:z.total,percentage:z.total>0?z.achieved/z.total*100:0})).sort((P,z)=>z.percentage-P.percentage),U=h.reduce((P,z)=>{if(z.started_at&&z.submitted_at){const V=new Date(z.started_at),re=new Date(z.submitted_at);return P+Math.floor((re.getTime()-V.getTime())/6e4)}return P},0),O=h.slice(0,5).map(P=>{var z;return{date:P.submitted_at||P.created_at,action:"Completed simulation",score:((z=P.score)==null?void 0:z.overall)||0}}),T=new Set(h.map(P=>P.assignment_id)),D=new Set(g.map(P=>P.assignment_id)),F=f.filter(P=>T.has(P.id)).length,B=f.filter(P=>D.has(P.id)&&!T.has(P.id)).length,K=f.length-F-B,{data:H}=await Le.from("competencies").select("id, domain, level, description"),{data:$}=await Le.from("slo").select("id, competency_id, text"),J=new Map;$==null||$.forEach(P=>{P.competency_id&&J.set(P.id,P.competency_id)});const ie=new Map;H==null||H.forEach(P=>{ie.set(P.id,{competency:P.id,domain:P.domain,level:P.level||null,description:P.description,totalAttempts:0,achievedAttempts:0,assignments:[]})}),h.forEach(P=>{var pe,xe;if(!f.find(he=>he.id===P.assignment_id))return;const V=(pe=P.assignments)==null?void 0:pe.case_snapshots;if(!(V!=null&&V.clinical_case))return;const re=V.clinical_case,ne=re.sloMappings||[],ue=re.title||"Untitled Assignment",ve=((xe=P.score)==null?void 0:xe.sloResults)||[],oe=new Set(ve.filter(he=>he.status==="Achieved").map(he=>he.sloId));ne.forEach(he=>{const Te=J.get(he);if(!Te)return;const ae=ie.get(Te);ae&&(ae.totalAttempts++,oe.has(he)&&ae.achievedAttempts++,ae.assignments.includes(ue)||ae.assignments.push(ue))})});const se=Array.from(ie.values()).filter(P=>P.totalAttempts>0).map(P=>({competency:P.competency,domain:P.domain,level:P.level,description:P.description,progress:P.totalAttempts>0?Math.round(P.achievedAttempts/P.totalAttempts*100):0,totalAttempts:P.totalAttempts,achievedAttempts:P.achievedAttempts,assignments:P.assignments})).sort((P,z)=>z.progress-P.progress);r({totalAssignments:f.length,completedAssignments:F,pendingAssignments:K,inProgressAssignments:B,totalAttempts:(p==null?void 0:p.length)||0,averageScore:Math.round(x),bestScore:Math.round(y),improvementTrend:Math.round(k*10)/10,sloProgress:I,recentActivity:O,timeSpent:U,competencyProgress:se})}catch(c){console.error("Error loading analytics:",c)}finally{i(!1)}};if(n)return d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});if(!e)return d.jsx("div",{className:"min-h-screen bg-gray-50 pb-20 p-4",children:d.jsx("p",{children:"Unable to load analytics data."})});const l=e.totalAssignments>0?e.completedAssignments/e.totalAssignments*100:0;return d.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[d.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Analytics"}),d.jsx("p",{className:"text-gray-600",children:"Track your progress and performance"})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Dh,{className:"w-5 h-5 text-primary-600"}),d.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[l.toFixed(0),"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Completion Rate"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(qa,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[e.averageScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(lm,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[e.bestScore,"%"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Kc,{className:"w-5 h-5 text-blue-600"}),d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.timeSpent})]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Minutes Practiced"})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(co,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Progress Overview"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Completed"}),d.jsxs("span",{className:"text-sm font-semibold",children:[e.completedAssignments,"/",e.totalAssignments]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-green-600 h-3 rounded-full transition-all",style:{width:`${l}%`}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"In Progress"}),d.jsx("span",{className:"text-sm font-semibold",children:e.inProgressAssignments})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-yellow-600 h-3 rounded-full transition-all",style:{width:`${e.totalAssignments>0?e.inProgressAssignments/e.totalAssignments*100:0}%`}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Pending"}),d.jsx("span",{className:"text-sm font-semibold",children:e.pendingAssignments})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-gray-400 h-3 rounded-full transition-all",style:{width:`${e.totalAssignments>0?e.pendingAssignments/e.totalAssignments*100:0}%`}})})]})]})]}),a.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(qa,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Score Trend (Last 10 Attempts)"})]}),d.jsx(s1e,{data:a})]}),e.improvementTrend!==0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(qa,{className:`w-5 h-5 ${e.improvementTrend>0?"text-green-600":"text-red-600"}`}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Performance Trend"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:`text-3xl font-bold ${e.improvementTrend>0?"text-green-600":"text-red-600"}`,children:[e.improvementTrend>0?"+":"",e.improvementTrend.toFixed(1),"%"]}),d.jsxs("div",{className:"text-gray-600",children:[e.improvementTrend>0?"Improving":"Declining"," compared to previous attempts"]})]})]}),e.sloProgress.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Dh,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"SLO Achievement"})]}),d.jsx("div",{className:"space-y-4",children:e.sloProgress.slice(0,5).map((c,u)=>d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:c.sloId}),c.sloText&&d.jsx("div",{className:"text-sm text-gray-600",children:c.sloText})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[c.percentage>=70?d.jsx(ps,{className:"w-5 h-5 text-green-600"}):d.jsx(Ac,{className:"w-5 h-5 text-yellow-600"}),d.jsxs("span",{className:"font-semibold",children:[c.percentage.toFixed(0),"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${c.percentage>=70?"bg-green-600":"bg-yellow-600"}`,style:{width:`${c.percentage}%`}})}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Achieved ",c.achieved," out of ",c.total," attempts"]})]},u))})]}),e.recentActivity.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(wU,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"})]}),d.jsx("div",{className:"space-y-3",children:e.recentActivity.map((c,u)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(cf,{className:"w-4 h-4 text-gray-400"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:c.action}),d.jsx("div",{className:"text-sm text-gray-500",children:new Date(c.date).toLocaleDateString()})]})]}),c.score!==void 0&&d.jsxs("div",{className:"font-semibold text-primary-600",children:[c.score.toFixed(0),"%"]})]},u))})]}),e.competencyProgress.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Dh,{className:"w-5 h-5 text-primary-600"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Competency Progress"})]}),d.jsx("div",{className:"space-y-4",children:e.competencyProgress.slice(0,8).map((c,u)=>d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900",children:c.competency}),d.jsx("div",{className:"text-sm text-gray-600 mt-1",children:c.description}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:c.domain}),c.level&&d.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded",children:c.level})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[c.progress>=70?d.jsx(ps,{className:"w-5 h-5 text-green-600"}):c.progress>=50?d.jsx(Ac,{className:"w-5 h-5 text-yellow-600"}):d.jsx(Ac,{className:"w-5 h-5 text-red-600"}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[c.progress,"%"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${c.progress>=70?"bg-green-600":c.progress>=50?"bg-yellow-600":"bg-red-600"}`,style:{width:`${c.progress}%`}})}),d.jsxs("div",{className:"text-xs text-gray-500",children:["Achieved ",c.achievedAttempts," out of ",c.totalAttempts," attempts",c.assignments.length>0&&d.jsxs("span",{className:"ml-2",children:[" ",c.assignments.length," assignment",c.assignments.length!==1?"s":""]})]})]},u))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Assignment Status"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Assignments"}),d.jsx("span",{className:"font-semibold",children:e.totalAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Completed"}),d.jsx("span",{className:"font-semibold text-green-600",children:e.completedAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"In Progress"}),d.jsx("span",{className:"font-semibold text-yellow-600",children:e.inProgressAssignments})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Pending"}),d.jsx("span",{className:"font-semibold text-gray-600",children:e.pendingAssignments})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Stats"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Attempts"}),d.jsx("span",{className:"font-semibold",children:e.totalAttempts})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Average Score"}),d.jsxs("span",{className:"font-semibold text-primary-600",children:[e.averageScore,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Best Score"}),d.jsxs("span",{className:"font-semibold text-yellow-600",children:[e.bestScore,"%"]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Time Practiced"}),d.jsxs("span",{className:"font-semibold text-blue-600",children:[e.timeSpent," min"]})]})]})]})]})]}),d.jsx(Mn,{role:"student"})]})}function l1e({user:t}){const e=vo(),[r,n]=Y.useState({totalFaculty:0,totalStudents:0,activeStations:0,coverage:0}),[i,a]=Y.useState(!0);Y.useEffect(()=>{o()},[]);const s=async()=>{try{const{data:l}=await Le.from("users").select("id, name, email, role, created_at"),{data:c}=await Le.from("stations").select("id, title, created_at"),{data:u}=await Le.from("case_snapshots").select("id, approved_at"),{data:f}=await Le.from("assignments").select("id, created_at"),{data:p}=await Le.from("simulation_runs").select("id, score, submitted_at").not("submitted_at","is",null),{data:h}=await Le.from("competencies").select("id, domain, level"),g=(l==null?void 0:l.filter(E=>E.role==="faculty").length)||0,v=(l==null?void 0:l.filter(E=>E.role==="student").length)||0,x=(p==null?void 0:p.filter(E=>E.submitted_at))||[],y=x.map(E=>{var L;return((L=E.score)==null?void 0:L.overall)||0}).filter(E=>E>0),w=y.length>0?y.reduce((E,L)=>E+L,0)/y.length:0,_={generatedAt:new Date().toISOString(),summary:{totalUsers:(l==null?void 0:l.length)||0,totalFaculty:g,totalStudents:v,totalStations:(c==null?void 0:c.length)||0,totalSnapshots:(u==null?void 0:u.length)||0,totalAssignments:(f==null?void 0:f.length)||0,totalCompletions:x.length,averageScore:Math.round(w),totalCompetencies:(h==null?void 0:h.length)||0},userBreakdown:{faculty:l==null?void 0:l.filter(E=>E.role==="faculty").map(E=>({name:E.name,email:E.email,joined:E.created_at})),students:l==null?void 0:l.filter(E=>E.role==="student").map(E=>({name:E.name,email:E.email,joined:E.created_at}))},performance:{totalAttempts:x.length,averageScore:Math.round(w),completionRate:f&&f.length>0?Math.round(x.length/f.length*100):0}},j=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),S=URL.createObjectURL(j),k=document.createElement("a");k.href=S,k.download=`system-report-${new Date().toISOString().split("T")[0]}.json`,k.click(),e.success("Report exported successfully!")}catch(l){e.error("Error exporting report: "+(l.message||"Unknown error")),console.error("Error exporting report:",l)}},o=async()=>{try{const{data:l}=await Le.from("users").select("role"),c=(l==null?void 0:l.filter(j=>j.role==="faculty").length)||0,u=(l==null?void 0:l.filter(j=>j.role==="student").length)||0,{data:f}=await Le.from("stations").select("id"),{data:p}=await Le.from("competencies").select("id"),{data:h}=await Le.from("slo").select("id, competency_id"),g=new Map;h==null||h.forEach(j=>{j.competency_id&&g.set(j.id,j.competency_id)});const{data:v}=await Le.from("case_snapshots").select("clinical_case"),x=new Set;v==null||v.forEach(j=>{var k;(((k=j.clinical_case)==null?void 0:k.sloMappings)||[]).forEach(E=>{const L=g.get(E);L&&x.add(L)})});const y=(p==null?void 0:p.length)||0,w=x.size,_=y>0?Math.round(w/y*100):0;n({totalFaculty:c,totalStudents:u,activeStations:(f==null?void 0:f.length)||0,coverage:_})}catch(l){console.error("Error loading stats:",l)}finally{a(!1)}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Admin Dashboard"}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Faculty"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.totalFaculty})]}),d.jsx(Ic,{className:"w-8 h-8 text-blue-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Students"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.totalStudents})]}),d.jsx(Ic,{className:"w-8 h-8 text-green-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Active Stations"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.activeStations})]}),d.jsx(ga,{className:"w-8 h-8 text-purple-600"})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"CBDC Coverage"}),d.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[r.coverage,"%"]})]}),d.jsx(co,{className:"w-8 h-8 text-orange-600"})]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),d.jsx("div",{className:"flex gap-4",children:d.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(od,{className:"w-4 h-4"}),"Export System Report"]})})]})]})]})})]})}function c1e({isOpen:t,onClose:e,onSave:r}){const[n,i]=Y.useState({id:"",domain:"",level:"",description:""}),[a,s]=Y.useState(!1),[o,l]=Y.useState(null);if(!t)return null;const c=async u=>{if(u.preventDefault(),l(null),!n.id.trim()||!n.domain.trim()||!n.description.trim()){l("ID, Domain, and Description are required");return}s(!0);try{await r({id:n.id.trim(),domain:n.domain.trim(),level:n.level.trim()||null,description:n.description.trim()}),i({id:"",domain:"",level:"",description:""}),e()}catch(f){l(f.message||"Failed to save competency")}finally{s(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Competency"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(uf,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[o&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:o}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ID ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:n.id,onChange:u=>i({...n,id:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Domain ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:n.domain,onChange:u=>i({...n,domain:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),d.jsx("input",{type:"text",value:n.level,onChange:u=>i({...n,level:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Optional"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{value:n.description,onChange:u=>i({...n,description:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,required:!0})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Saving...":"Save"})]})]})]})})}function u1e({isOpen:t,onClose:e,competency:r,onSave:n}){const[i,a]=Y.useState({id:"",domain:"",level:"",description:""}),[s,o]=Y.useState(!1),[l,c]=Y.useState(null);if(Y.useEffect(()=>{r&&a({id:r.id,domain:r.domain,level:r.level||"",description:r.description})},[r]),!t||!r)return null;const u=async f=>{if(f.preventDefault(),c(null),!i.domain.trim()||!i.description.trim()){c("Domain and Description are required");return}o(!0);try{await n({id:i.id,domain:i.domain.trim(),level:i.level.trim()||null,description:i.description.trim()}),e()}catch(p){c(p.message||"Failed to update competency")}finally{o(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Competency"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(uf,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),d.jsx("input",{type:"text",value:i.id,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ID cannot be changed"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Domain ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i.domain,onChange:f=>a({...i,domain:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),d.jsx("input",{type:"text",value:i.level,onChange:f=>a({...i,level:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Optional"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{value:i.description,onChange:f=>a({...i,description:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,required:!0})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Saving...":"Update"})]})]})]})})}function d1e({user:t}){const e=vo(),[r,n]=Y.useState([]),[i,a]=Y.useState(!0),[s,o]=Y.useState(!1),[l,c]=Y.useState(null);Y.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:v,error:x}=await Le.from("competencies").select("*").order("id");if(x)throw x;n(v||[])}catch(v){console.error("Error loading competencies:",v)}finally{a(!1)}},f=()=>{const v=[["ID","Domain","Level","Description"],...r.map(_=>[_.id,_.domain,_.level||"",_.description])].map(_=>_.map(j=>`"${j}"`).join(",")).join(`
`),x=new Blob([v],{type:"text/csv"}),y=URL.createObjectURL(x),w=document.createElement("a");w.href=y,w.download="cbdc-competencies.csv",w.click()},p=async v=>{const{error:x}=await Le.from("competencies").insert([v]);if(x)throw x;await u()},h=async v=>{const{error:x}=await Le.from("competencies").update({domain:v.domain,level:v.level,description:v.description}).eq("id",v.id);if(x)throw x;await u()},g=async v=>{if(!confirm(`Are you sure you want to delete competency "${v}"? This action cannot be undone.`))return;const{error:x}=await Le.from("competencies").delete().eq("id",v);if(x){e.error("Error deleting competency: "+x.message);return}await u()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"CBDC Manager"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[d.jsx(od,{className:"w-4 h-4"}),"Export CSV"]}),d.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[d.jsx(cm,{className:"w-4 h-4"}),"Add Competency"]})]})]}),i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Domain"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(v=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v.id}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.domain}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.level||"-"}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:v.description}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[d.jsx("button",{onClick:()=>c(v),className:"text-primary-600 hover:text-primary-900 mr-4",title:"Edit competency",children:d.jsx(W_,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>g(v.id),className:"text-red-600 hover:text-red-900",title:"Delete competency",children:d.jsx(IU,{className:"w-4 h-4"})})]})]},v.id))})]})})]})}),d.jsx(c1e,{isOpen:s,onClose:()=>o(!1),onSave:p}),d.jsx(u1e,{isOpen:l!==null,onClose:()=>c(null),competency:l,onSave:h})]})}function f1e({isOpen:t,onClose:e,user:r,onSave:n}){const[i,a]=Y.useState({name:"",email:"",role:"student"}),[s,o]=Y.useState(!1),[l,c]=Y.useState(null);if(Y.useEffect(()=>{r&&a({name:r.name,email:r.email,role:r.role})},[r]),!t||!r)return null;const u=async f=>{if(f.preventDefault(),c(null),!i.name.trim()||!i.email.trim()){c("Name and Email are required");return}o(!0);try{await n({id:r.id,name:i.name.trim(),email:i.email.trim(),role:i.role}),e()}catch(p){c(p.message||"Failed to update user")}finally{o(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit User"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(uf,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i.name,onChange:f=>a({...i,name:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"email",value:i.email,onChange:f=>a({...i,email:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{value:i.role,onChange:f=>a({...i,role:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Saving...":"Update"})]})]})]})})}function h1e({user:t}){const[e,r]=Y.useState([]),[n,i]=Y.useState(!0),[a,s]=Y.useState(""),[o,l]=Y.useState(null);Y.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:h,error:g}=await Le.from("users").select("*").order("created_at",{ascending:!1});if(g)throw g;r(h||[])}catch(h){console.error("Error loading users:",h)}finally{i(!1)}},u=e.filter(h=>h.name.toLowerCase().includes(a.toLowerCase())||h.email.toLowerCase().includes(a.toLowerCase())),f=h=>{switch(h){case"admin":return"bg-red-100 text-red-800";case"faculty":return"bg-blue-100 text-blue-800";case"student":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},p=async h=>{const{error:g}=await Le.from("users").update({name:h.name,email:h.email,role:h.role}).eq("id",h.id);if(g)throw g;await c()};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"User Management"}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(H_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:h=>s(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),n?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(h=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(ms,{className:"w-5 h-5 text-gray-400 mr-2"}),d.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.email}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${f(h.role)}`,children:h.role})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(h.created_at).toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>l(h),className:"text-primary-600 hover:text-primary-900",title:"Edit user",children:d.jsx(W_,{className:"w-4 h-4"})})})]},h.id))})]})})]})}),d.jsx(f1e,{isOpen:o!==null,onClose:()=>l(null),user:o,onSave:p})]})}function p1e({user:t}){const e=vo(),[r,n]=Y.useState([]),[i,a]=Y.useState(null);Y.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:c,error:u}=await Le.from("reports").select("*").order("created_at",{ascending:!1}).limit(10);if(u)throw u;n(c||[])}catch(c){console.error("Error loading reports:",c)}},o=async c=>{a(c);try{const u=new Date;let f,p=new Date(u);if(c==="quarterly"){const B=Math.floor(u.getMonth()/3);f=new Date(u.getFullYear(),B*3,1)}else f=new Date(u.getFullYear(),0,1);const{data:h}=await Le.from("competencies").select("*"),{data:g}=await Le.from("stations").select("id, title, blueprint"),{data:v}=await Le.from("case_snapshots").select("id, clinical_case, approved_at").gte("approved_at",f.toISOString()).lte("approved_at",p.toISOString()),{data:x}=await Le.from("assignments").select("id, snapshot_id, created_at").gte("created_at",f.toISOString()).lte("created_at",p.toISOString()),y=(x==null?void 0:x.map(B=>B.id))||[],{data:w}=await Le.from("simulation_runs").select("id, score, submitted_at").in("assignment_id",y).not("submitted_at","is",null),_=new Set;v==null||v.forEach(B=>{var H;(((H=B.clinical_case)==null?void 0:H.sloMappings)||[]).forEach($=>{_.add($)})});const j=(h==null?void 0:h.length)||0,S=_.size,k=j>0?Math.round(S/j*100):0,E=(w==null?void 0:w.filter(B=>B.submitted_at))||[],L=E.map(B=>{var K;return((K=B.score)==null?void 0:K.overall)||0}).filter(B=>B>0),I=L.length>0?L.reduce((B,K)=>B+K,0)/L.length:0,U={summary:{period:c==="quarterly"?"Quarterly":"Annual",periodStart:f.toISOString().split("T")[0],periodEnd:p.toISOString().split("T")[0],generatedAt:new Date().toISOString()},metrics:{totalCompetencies:j,coveredCompetencies:S,coverage:k,totalStations:(g==null?void 0:g.length)||0,totalSnapshots:(v==null?void 0:v.length)||0,totalAssignments:(x==null?void 0:x.length)||0,totalCompletions:E.length,averageScore:Math.round(I)},stationDistribution:{total:(g==null?void 0:g.length)||0,bySubject:{}},studentPerformance:{totalAttempts:E.length,averageScore:Math.round(I),completionRate:x&&x.length>0?Math.round(E.length/x.length*100):0},sloAchievement:{total:0,achieved:0,percentage:0}},{error:O}=await Le.from("reports").insert([{type:c,period_start:f.toISOString().split("T")[0],period_end:p.toISOString().split("T")[0],report_data:U,generated_by:t.id}]);if(O)throw O;const T=new Blob([JSON.stringify(U,null,2)],{type:"application/json"}),D=URL.createObjectURL(T),F=document.createElement("a");F.href=D,F.download=`${c}-report-${f.toISOString().split("T")[0]}.json`,F.click(),await s(),e.success("Report generated successfully!")}catch(u){e.error("Error generating report: "+(u.message||"Unknown error")),console.error("Error generating report:",u)}finally{a(null)}},l=c=>{try{const u=c.report_data;let f=`Compliance Report
`;f+=`Type,${c.type}
`,f+=`Period,${c.period_start} to ${c.period_end}
`,f+=`Generated,${new Date(c.created_at).toLocaleString()}

`,f+=`Metrics
`,f+=`Metric,Value
`,u.metrics&&(f+=`CBDC Coverage,${u.metrics.coverage}%
`,f+=`Total Stations,${u.metrics.totalStations}
`,f+=`Total Snapshots,${u.metrics.totalSnapshots}
`,f+=`Total Assignments,${u.metrics.totalAssignments}
`,f+=`Total Completions,${u.metrics.totalCompletions}
`,f+=`Average Score,${u.metrics.averageScore}%
`),f+=`
Student Performance
`,f+=`Metric,Value
`,u.studentPerformance&&(f+=`Total Attempts,${u.studentPerformance.totalAttempts}
`,f+=`Average Score,${u.studentPerformance.averageScore}%
`,f+=`Completion Rate,${u.studentPerformance.completionRate}%
`);const p=new Blob([f],{type:"text/csv;charset=utf-8;"}),h=URL.createObjectURL(p),g=document.createElement("a");g.href=h,g.download=`${c.type}-report-${c.period_start}.csv`,g.click(),URL.revokeObjectURL(h),e.success("CSV exported successfully!")}catch(u){e.error("Error exporting CSV: "+(u.message||"Unknown error"))}};return d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx(xi,{role:"admin"}),d.jsx("div",{className:"flex-1 md:ml-64 overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Compliance Reports"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Quarterly Report"}),d.jsx(ga,{className:"w-8 h-8 text-blue-600"})]}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Generate a comprehensive quarterly compliance report covering all competencies and stations."}),d.jsx("button",{onClick:()=>o("quarterly"),disabled:i!==null,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i==="quarterly"?d.jsxs(d.Fragment,{children:[d.jsx(Sd,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(od,{className:"w-4 h-4"}),"Generate Quarterly Report"]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Annual Report"}),d.jsx(qa,{className:"w-8 h-8 text-green-600"})]}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Generate an annual compliance report with year-over-year trends and analytics."}),d.jsx("button",{onClick:()=>o("annual"),disabled:i!==null,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i==="annual"?d.jsxs(d.Fragment,{children:[d.jsx(Sd,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(od,{className:"w-4 h-4"}),"Generate Annual Report"]})})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Report History"}),r.length===0?d.jsx("p",{className:"text-gray-600",children:"No reports generated yet."}):d.jsx("div",{className:"space-y-3",children:r.map(c=>{var u;return d.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded ${c.type==="quarterly"?"bg-blue-100":"bg-green-100"}`,children:c.type==="quarterly"?d.jsx(ga,{className:"w-5 h-5 text-blue-600"}):d.jsx(qa,{className:"w-5 h-5 text-green-600"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium text-gray-900 capitalize",children:[c.type," Report"]}),d.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2 mt-1",children:[d.jsx(cf,{className:"w-4 h-4"}),new Date(c.period_start).toLocaleDateString()," - ",new Date(c.period_end).toLocaleDateString()]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"text-sm text-gray-500",children:new Date(c.created_at).toLocaleDateString()}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>{const f=new Blob([JSON.stringify(c.report_data,null,2)],{type:"application/json"}),p=URL.createObjectURL(f),h=document.createElement("a");h.href=p,h.download=`${c.type}-report-${c.period_start}.json`,h.click()},className:"p-2 text-primary-600 hover:bg-primary-50 rounded transition-colors",title:"Download JSON",children:d.jsx(od,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>l(c),className:"p-2 text-green-600 hover:bg-green-50 rounded transition-colors",title:"Export to CSV",children:d.jsx(SU,{className:"w-4 h-4"})})]})]})]}),((u=c.report_data)==null?void 0:u.metrics)&&d.jsxs("div",{className:"mt-3 pt-3 border-t grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Coverage"}),d.jsxs("div",{className:"font-semibold text-gray-900",children:[c.report_data.metrics.coverage,"%"]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Stations"}),d.jsx("div",{className:"font-semibold text-gray-900",children:c.report_data.metrics.totalStations})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Completions"}),d.jsx("div",{className:"font-semibold text-gray-900",children:c.report_data.metrics.totalCompletions})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-500",children:"Avg Score"}),d.jsxs("div",{className:"font-semibold text-gray-900",children:[c.report_data.metrics.averageScore,"%"]})]})]})]},c.id)})})]})]})}),d.jsx(gl,{toasts:e.toasts,onClose:e.removeToast})]})}function m1e(){return d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})})}class g1e extends Y.Component{constructor(){super(...arguments);Jt(this,"state",{hasError:!1,error:null});Jt(this,"handleReset",()=>{this.setState({hasError:!1,error:null}),window.location.href="/"})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n)}render(){var r;return this.state.hasError?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[d.jsx(jy,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),d.jsx("p",{className:"text-gray-600 mb-4",children:((r=this.state.error)==null?void 0:r.message)||"An unexpected error occurred"}),d.jsxs("button",{onClick:this.handleReset,className:"flex items-center justify-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors mx-auto",children:[d.jsx(PU,{className:"w-4 h-4"}),"Return to Home"]})]})}):this.props.children}}function v1e({authUserId:t,authUserEmail:e,authUserName:r,onComplete:n}){const[i,a]=Y.useState(r||""),[s,o]=Y.useState("student"),[l,c]=Y.useState([]),[u,f]=Y.useState([]),[p,h]=Y.useState(!1),[g,v]=Y.useState(!1),[x,y]=Y.useState(null);Y.useEffect(()=>{s==="student"&&w()},[s]);const w=async()=>{h(!0);try{const{data:j,error:S}=await Le.from("cohorts").select("id, name, description").order("name");if(S)throw S;f(j||[])}catch(j){console.error("Error loading cohorts:",j)}finally{h(!1)}},_=async j=>{j.preventDefault(),v(!0),y(null);try{const{error:S}=await Le.from("users").insert({id:t,name:i.trim()||(e==null?void 0:e.split("@")[0])||"User",email:e||"",role:s}).select().single();if(S)throw S;if(s==="student"&&l.length>0){const k=l.map(L=>({cohort_id:L,student_id:t})),{error:E}=await Le.from("cohort_members").insert(k);E&&console.error("Error adding student to cohorts:",E)}n()}catch(S){y(S.message||"An error occurred while completing your profile"),v(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-primary-50 to-gray-100 px-4 py-8",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 md:p-10 w-full max-w-md border-2 border-gray-200",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("img",{src:"https://raw.githubusercontent.com/akashmanjunath2505/public/main/KAYA.png",alt:"Kaya Logo",className:"h-16 md:h-20 w-auto object-contain"})}),d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Complete Your Profile"}),d.jsx("p",{className:"text-gray-600 mt-2 text-sm md:text-base",children:"Please provide the following information to complete your account setup"})]}),d.jsxs("form",{onSubmit:_,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",value:i,onChange:j=>a(j.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 placeholder-gray-400",placeholder:"Enter your full name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",value:e||"",disabled:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email is set from your OAuth account"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{value:s,onChange:j=>{o(j.target.value),c([])},required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 bg-white",children:[d.jsx("option",{value:"student",children:"Student"}),d.jsx("option",{value:"faculty",children:"Faculty"}),d.jsx("option",{value:"admin",children:"Admin"})]})]}),s==="student"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Cohorts (Optional)"}),p?d.jsx("div",{className:"text-sm text-gray-500",children:"Loading cohorts..."}):u.length===0?d.jsx("div",{className:"text-sm text-gray-500 p-3 bg-gray-50 rounded-md",children:"No cohorts available. You can join cohorts later from your profile settings."}):d.jsx("div",{className:"border border-gray-300 rounded-md max-h-40 overflow-y-auto p-2",children:u.map(j=>d.jsxs("label",{className:"flex items-start gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:l.includes(j.id),onChange:S=>{S.target.checked?c([...l,j.id]):c(l.filter(k=>k!==j.id))},className:"mt-1"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.name}),j.description&&d.jsx("div",{className:"text-xs text-gray-500",children:j.description})]})]},j.id))}),l.length>0&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length," cohort",l.length!==1?"s":""," selected"]})]}),x&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:x}),d.jsx("button",{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white py-3 px-6 rounded-xl hover:from-primary-700 hover:to-primary-800 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 font-bold text-base md:text-lg shadow-lg transition-all transform hover:scale-[1.02]",children:g?"Completing Profile...":"Complete Profile"})]})]})})}const gE={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyCkJEDZIXsL6sLcAnAi2EE-WbzOIX6gKWY",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtpdmN1c2ZzcHBqeWFsYmdxdHh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NjI2NjYsImV4cCI6MjA3ODQzODY2Nn0.DMugE2X3gBvcRBXt-NqWceWQB2Vmi9kbavEE6MEjAmI",VITE_SUPABASE_URL:"https://kivcusfsppjyalbgqtxy.supabase.co"};function y1e(){const[t,e]=Y.useState(null),[r,n]=Y.useState(!0),[i,a]=Y.useState(!1),[s,o]=Y.useState(null);Y.useEffect(()=>{Le.auth.getSession().then(({data:{session:h}})=>{h?l():n(!1)});const{data:{subscription:p}}=Le.auth.onAuthStateChange((h,g)=>{g?l():(e(null),n(!1))});return()=>p.unsubscribe()},[]);const l=async()=>{var p,h,g,v,x,y;try{const{data:{user:w}}=await Le.auth.getUser();if(!w){n(!1);return}const{data:_,error:j}=await Le.from("users").select("*").eq("id",w.id).single();if(j&&j.code==="PGRST116")if(((p=w.identities)==null?void 0:p.some(k=>k.provider!=="email"))||!1){o({id:w.id,email:w.email,name:((h=w.user_metadata)==null?void 0:h.name)||((g=w.user_metadata)==null?void 0:g.full_name)}),a(!0),n(!1);return}else{const{data:k}=await Le.from("users").insert({id:w.id,name:((v=w.user_metadata)==null?void 0:v.name)||((x=w.email)==null?void 0:x.split("@")[0])||"User",email:w.email,role:((y=w.user_metadata)==null?void 0:y.role)||"student"}).select().single();k&&e(k)}else _&&(e(_),a(!1))}catch(w){console.error("Error loading user:",w)}finally{n(!1)}},c=()=>{a(!1),o(null),l()};if(r)return d.jsx(m1e,{});if(i&&s)return d.jsx(v1e,{authUserId:s.id,authUserEmail:s.email,authUserName:s.name,onComplete:c});if(!t)return d.jsx(yU,{onAuthSuccess:l});const f=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY"].filter(p=>!gE[p]||gE[p].trim()==="");return f.length>0?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Configuration Error"}),d.jsx("p",{className:"text-gray-700 mb-4",children:"The following required environment variables are missing:"}),d.jsx("ul",{className:"list-disc list-inside text-gray-600 mb-4 space-y-1",children:f.map(p=>d.jsx("li",{children:p},p))}),d.jsx("p",{className:"text-sm text-gray-500",children:"Please set these variables in your .env file and restart the application."})]})}):d.jsx(g1e,{children:d.jsxs(V9,{children:[d.jsxs(B9,{children:[t.role==="faculty"&&d.jsxs(d.Fragment,{children:[d.jsx(tn,{path:"/dashboard",element:d.jsx($U,{user:t})}),d.jsx(tn,{path:"/create",element:d.jsx(MU,{user:t})}),d.jsx(tn,{path:"/review/:stationId",element:d.jsx(dz,{user:t})}),d.jsx(tn,{path:"/assign/:snapshotId",element:d.jsx(fz,{user:t})}),d.jsx(tn,{path:"/library",element:d.jsx(hz,{user:t})}),d.jsx(tn,{path:"/analytics",element:d.jsx(Xge,{user:t})}),d.jsx(tn,{path:"/profile",element:d.jsx(Jge,{user:t})})]}),t.role==="student"&&d.jsxs(d.Fragment,{children:[d.jsx(tn,{path:"/home",element:d.jsx(QO,{user:t})}),d.jsx(tn,{path:"/assigned",element:d.jsx(QO,{user:t})}),d.jsx(tn,{path:"/analytics",element:d.jsx(o1e,{user:t})}),d.jsx(tn,{path:"/simulation/:assignmentId",element:d.jsx(a0e,{user:t})}),d.jsx(tn,{path:"/debrief/:runId",element:d.jsx(n1e,{user:t})}),d.jsx(tn,{path:"/results",element:d.jsx(i1e,{user:t})}),d.jsx(tn,{path:"/profile",element:d.jsx(a1e,{user:t})})]}),t.role==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx(tn,{path:"/admin/dashboard",element:d.jsx(l1e,{user:t})}),d.jsx(tn,{path:"/admin/reports",element:d.jsx(p1e,{user:t})}),d.jsx(tn,{path:"/admin/cbdc",element:d.jsx(d1e,{user:t})}),d.jsx(tn,{path:"/admin/users",element:d.jsx(h1e,{user:t})})]}),d.jsx(tn,{path:"/",element:d.jsx(M9,{to:t.role==="faculty"?"/dashboard":t.role==="admin"?"/admin/dashboard":"/home",replace:!0})})]}),t&&(t.role==="student"||t.role==="faculty")&&d.jsx(Mn,{role:t.role})]})})}$x.createRoot(document.getElementById("root")).render(d.jsx(le.StrictMode,{children:d.jsx(y1e,{})}));export{nr as _,rg as c,ar as g};
